{"items":[{"tags":["java","mysql","tomcat","salesforce","sailpoint"],"owner":{"account_id":30026623,"reputation":1,"user_id":23010662,"display_name":"CyberS3P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701835690,"creation_date":1701730900,"question_id":77603004,"body_markdown":"The goal is to integrate Sailpoint Identity IIQ with Salesforce instance using a direct connector in Sailpoint.\r\n\r\nI have successfully installed the following software on my laptop.\r\n\r\n1. IGA - Sailpoint Identity IIQ version 8.3\r\n2. Database - MySql version 8.0.35.0 \r\n3. Server - Apache Tomcat server version 9.0.83\r\n4. Java JDK version 21 for Windows X64.\r\n\r\nThe connection has been established between Sailpoint and Salesforce using Basic authentication. When it comes to account aggregation, I am encountering the following error.\r\n&quot;\r\nERROR QuartzScheduler_Worker-2 sailpoint.api.Aggregator:1916 - Exception during aggregation of Object Type account on Application SalesforceTest. Reason: Unable to create iterator java.lang.IllegalAccessError: class connector.common.XmlUtil (in unnamed module @0x428aa84) cannot access class com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl (in module java.xml) because module java.xml does not export com.sun.org.apache.xerces.internal.jaxp to unnamed module @0x428aa84&quot;\r\n\r\nCould I please get inputs about this error and assistance in resolving the issue?\r\n\r\nI am expecting the account aggregation between Sailpoint and Salesforce. ","title":"Exception during aggregation of Object Type account on Application SalesforceTest","body":"<p>The goal is to integrate Sailpoint Identity IIQ with Salesforce instance using a direct connector in Sailpoint.</p>\n<p>I have successfully installed the following software on my laptop.</p>\n<ol>\n<li>IGA - Sailpoint Identity IIQ version 8.3</li>\n<li>Database - MySql version 8.0.35.0</li>\n<li>Server - Apache Tomcat server version 9.0.83</li>\n<li>Java JDK version 21 for Windows X64.</li>\n</ol>\n<p>The connection has been established between Sailpoint and Salesforce using Basic authentication. When it comes to account aggregation, I am encountering the following error.\n&quot;\nERROR QuartzScheduler_Worker-2 sailpoint.api.Aggregator:1916 - Exception during aggregation of Object Type account on Application SalesforceTest. Reason: Unable to create iterator java.lang.IllegalAccessError: class connector.common.XmlUtil (in unnamed module @0x428aa84) cannot access class com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderFactoryImpl (in module java.xml) because module java.xml does not export com.sun.org.apache.xerces.internal.jaxp to unnamed module @0x428aa84&quot;</p>\n<p>Could I please get inputs about this error and assistance in resolving the issue?</p>\n<p>I am expecting the account aggregation between Sailpoint and Salesforce.</p>\n"},{"tags":["java","html","xml"],"comments":[{"owner":{"account_id":5298969,"reputation":3945,"user_id":4229270,"accept_rate":50,"display_name":"Sinto"},"score":1,"creation_date":1496659098,"post_id":44366996,"comment_id":75735135,"body_markdown":"https://stackoverflow.com/a/10498334/4229270, Or If you are using PHP, you can also use &lt;pre&gt;XML content&lt;/pre&gt;.","body":"<a href=\"https://stackoverflow.com/a/10498334/4229270\">stackoverflow.com/a/10498334/4229270</a>, Or If you are using PHP, you can also use &lt;pre&gt;XML content&lt;/pre&gt;."},{"owner":{"account_id":10769294,"reputation":127,"user_id":7923211,"accept_rate":69,"display_name":"Leeza"},"score":0,"creation_date":1496659242,"post_id":44366996,"comment_id":75735217,"body_markdown":"i am using java","body":"i am using java"},{"owner":{"account_id":5298969,"reputation":3945,"user_id":4229270,"accept_rate":50,"display_name":"Sinto"},"score":0,"creation_date":1496659315,"post_id":44366996,"comment_id":75735267,"body_markdown":"Check this https://stackoverflow.com/q/139076/4229270","body":"Check this <a href=\"https://stackoverflow.com/q/139076/4229270\">stackoverflow.com/q/139076/4229270</a>"},{"owner":{"account_id":5298969,"reputation":3945,"user_id":4229270,"accept_rate":50,"display_name":"Sinto"},"score":0,"creation_date":1496659991,"post_id":44366996,"comment_id":75735685,"body_markdown":"I think `&lt;pre&gt;` tag is enough. If you have XML data on your HTML page, just check this. `&lt;pre&gt;XML content&lt;/pre&gt;`","body":"I think <code>&lt;pre&gt;</code> tag is enough. If you have XML data on your HTML page, just check this. <code>&lt;pre&gt;XML content&lt;&#47;pre&gt;</code>"},{"owner":{"account_id":5298969,"reputation":3945,"user_id":4229270,"accept_rate":50,"display_name":"Sinto"},"score":0,"creation_date":1496660567,"post_id":44366996,"comment_id":75736016,"body_markdown":"https://stackoverflow.com/a/10498334/4229270,\nhttps://stackoverflow.com/a/4272532/4229270","body":"<a href=\"https://stackoverflow.com/a/10498334/4229270\">stackoverflow.com/a/10498334/4229270</a>, <a href=\"https://stackoverflow.com/a/4272532/4229270\">stackoverflow.com/a/4272532/4229270</a>"}],"answers":[{"tags":[],"owner":{"account_id":6299851,"reputation":363,"user_id":4894835,"display_name":"Abdul Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496659483,"creation_date":1496659113,"answer_id":44367104,"question_id":44366996,"body_markdown":"In your HTML, you can try displaying it in a textarea like below , it will display XML as it is [JsFiddle Example ][1]\r\n\r\n    &lt;div&gt;\r\n    &lt;textarea rows=&quot;20&quot; cols=&quot;40&quot; style=&quot;border:none;&quot; disabled&gt;\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n    &lt;catalog&gt;\r\n        &lt;cd&gt;\r\n            &lt;title&gt;Empire Burlesque&lt;/title&gt;\r\n            &lt;artist&gt;Bob Dylan&lt;/artist&gt;\r\n            &lt;country&gt;USA&lt;/country&gt;\r\n            &lt;country&gt;Columbia&lt;/country&gt;\r\n            &lt;price&gt;10.90&lt;/price&gt;\r\n            &lt;year&gt;1985&lt;/year&gt;\r\n        &lt;/cd&gt;\r\n    &lt;/catalog&gt;\r\n    &lt;/textarea&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n  [1]: https://jsfiddle.net/roakk3rb/","title":"Display XML format data in html div","body":"<p>In your HTML, you can try displaying it in a textarea like below , it will display XML as it is <a href=\"https://jsfiddle.net/roakk3rb/\" rel=\"nofollow noreferrer\">JsFiddle Example </a></p>\n\n<pre><code>&lt;div&gt;\n&lt;textarea rows=\"20\" cols=\"40\" style=\"border:none;\" disabled&gt;\n    &lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\n&lt;catalog&gt;\n    &lt;cd&gt;\n        &lt;title&gt;Empire Burlesque&lt;/title&gt;\n        &lt;artist&gt;Bob Dylan&lt;/artist&gt;\n        &lt;country&gt;USA&lt;/country&gt;\n        &lt;country&gt;Columbia&lt;/country&gt;\n        &lt;price&gt;10.90&lt;/price&gt;\n        &lt;year&gt;1985&lt;/year&gt;\n    &lt;/cd&gt;\n&lt;/catalog&gt;\n&lt;/textarea&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":[],"owner":{"account_id":6922483,"reputation":23,"user_id":5314625,"display_name":"liamj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496659516,"creation_date":1496659516,"answer_id":44367214,"question_id":44366996,"body_markdown":"Try creating a style like this\r\n\r\n    &lt;head&gt;\r\n      #xml   { padding-left: 20pt; background-color: #ffffb3; color: #990000; font-size: 14px; font-family: Courier New, Lucida Sans Typewriter, Lucida Typewriter, monospace; font-weight: 600; white-space: pre; }\r\n    &lt;/head&gt;\r\n\r\nThen referencing in the &lt;textarea&gt;\r\n\r\n    &lt;textarea id=xml rows=&quot;20&quot; cols=&quot;40&quot; style=&quot;border:none;&quot; disabled&gt;\r\n\r\nIt&#39;s the &#39;white-space: pre&#39; that&#39;s the important bit...","title":"Display XML format data in html div","body":"<p>Try creating a style like this</p>\n\n<pre><code>&lt;head&gt;\n  #xml   { padding-left: 20pt; background-color: #ffffb3; color: #990000; font-size: 14px; font-family: Courier New, Lucida Sans Typewriter, Lucida Typewriter, monospace; font-weight: 600; white-space: pre; }\n&lt;/head&gt;\n</code></pre>\n\n<p>Then referencing in the </p>\n\n<pre><code>&lt;textarea id=xml rows=\"20\" cols=\"40\" style=\"border:none;\" disabled&gt;\n</code></pre>\n\n<p>It's the 'white-space: pre' that's the important bit...</p>\n"},{"tags":[],"owner":{"account_id":4108798,"reputation":3209,"user_id":3371954,"display_name":"Roberto Rodriguez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701833236,"creation_date":1701833236,"answer_id":77610384,"question_id":44366996,"body_markdown":"You can do:\r\n\r\n    xml.replaceAll(&quot;&lt;&quot;, &quot;&amp;#60;&quot;)\r\n       .replaceAll(&quot;&gt;&quot;, &quot;&amp;#62;&quot;);\r\n\r\n","title":"Display XML format data in html div","body":"<p>You can do:</p>\n<pre><code>xml.replaceAll(&quot;&lt;&quot;, &quot;&amp;#60;&quot;)\n   .replaceAll(&quot;&gt;&quot;, &quot;&amp;#62;&quot;);\n</code></pre>\n"}],"owner":{"account_id":10769294,"reputation":127,"user_id":7923211,"accept_rate":69,"display_name":"Leeza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2011,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701833236,"creation_date":1496658683,"question_id":44366996,"body_markdown":"I need to display a XML format data fetched from the database to be displayed in a division. But its not displaying with the xml tags on. Is there any way to get xml data as such with the tags in the div?\r\n\r\nThe xml which i need is given below:\r\n\r\n \r\n\r\n    &lt;Name&gt;public&lt;/name&gt;&lt;Number&gt;848065065639AuthDemoClient:STGKSITM01:20140109052539707&lt;/Number&gt;&lt;Ret&gt;y&lt;/Ret&gt;&lt;Tmestamp&gt;2014-01-09T17:22:15.318+05:30GCSD017263&lt;/timestamp&gt;\r\n\r\nBut its getting displayed as follows:\r\n\r\npublic848065065639AuthDemoClient:STGKSITM01:20140109052539707y2014-01-09T17:22:15.318+05:30GCSD017263\r\n\r\nPlease suggest a solution","title":"Display XML format data in html div","body":"<p>I need to display a XML format data fetched from the database to be displayed in a division. But its not displaying with the xml tags on. Is there any way to get xml data as such with the tags in the div?</p>\n\n<p>The xml which i need is given below:</p>\n\n<pre><code>&lt;Name&gt;public&lt;/name&gt;&lt;Number&gt;848065065639AuthDemoClient:STGKSITM01:20140109052539707&lt;/Number&gt;&lt;Ret&gt;y&lt;/Ret&gt;&lt;Tmestamp&gt;2014-01-09T17:22:15.318+05:30GCSD017263&lt;/timestamp&gt;\n</code></pre>\n\n<p>But its getting displayed as follows:</p>\n\n<p>public848065065639AuthDemoClient:STGKSITM01:20140109052539707y2014-01-09T17:22:15.318+05:30GCSD017263</p>\n\n<p>Please suggest a solution</p>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1701836678,"post_id":77610375,"comment_id":136823477,"body_markdown":"Have you considered getting in touch with the developer? Seems to make more sense than firing a random shot at a bunch of people who in all likelihood have nothing to do with iText.","body":"Have you considered getting in touch with the developer? Seems to make more sense than firing a random shot at a bunch of people who in all likelihood have nothing to do with iText."}],"owner":{"account_id":30077019,"reputation":1,"user_id":23049544,"display_name":"hui"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701835128,"answer_count":0,"score":0,"last_activity_date":1701832939,"creation_date":1701832939,"question_id":77610375,"body_markdown":"I have encountered a bug in version 5.5.13.2 of iText Xtra. When attempting to remove text content from a PDF, it throws a ClassCastException error.\r\n\r\nWhen I use\r\n```\r\n        PdfCleanUpProcessor cleaner = new PdfCleanUpProcessor(cleanUpLocations, stamper);\r\n        cleaner.cleanUp();\r\n```\r\nto perform the cleanup of key text, an error occurs with the message:\r\ncom.itextpdf.text.pdf.PdfString cannot be cast to com.itextpdf.text.pdf.PdfNumber\r\nThe error stack trace is in com.itextpdf.text.pdf.pdfcleanup.PdfCleanUpContentOperator.structureTJarray(PdfCleanUpContentOperator.java:272). How should I resolve this issue?","title":"Bug in iText Xtra","body":"<p>I have encountered a bug in version 5.5.13.2 of iText Xtra. When attempting to remove text content from a PDF, it throws a ClassCastException error.</p>\n<p>When I use</p>\n<pre><code>        PdfCleanUpProcessor cleaner = new PdfCleanUpProcessor(cleanUpLocations, stamper);\n        cleaner.cleanUp();\n</code></pre>\n<p>to perform the cleanup of key text, an error occurs with the message:\ncom.itextpdf.text.pdf.PdfString cannot be cast to com.itextpdf.text.pdf.PdfNumber\nThe error stack trace is in com.itextpdf.text.pdf.pdfcleanup.PdfCleanUpContentOperator.structureTJarray(PdfCleanUpContentOperator.java:272). How should I resolve this issue?</p>\n"},{"tags":["java","oracle","spring-data"],"owner":{"account_id":5283587,"reputation":811,"user_id":4218216,"display_name":"Arnav Bose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701832934,"creation_date":1701813626,"question_id":77609466,"body_markdown":"I am creating a datasource object in the following way in a microservice:\r\n\r\n```\r\n@Autowired\r\nprivate EncryptionUtil encryptionutils;\r\n\r\npublic ComboPooledDataSource appDataSource() throws PropertyVetoException {\r\n        ComboPooledDataSource dataSource = new ComboPooledDataSource();\r\n        DatasourceDto datasourceDto = null;\r\n        try {\r\n            datasourceDto = encryptionutils.getDbCredentials(&quot;servicename&quot;, &quot;oracle&quot;, env.getProperty(&quot;env&quot;));\r\n        } catch (FileNotFoundException e) {\r\n            log.info().logException(&quot;Exception&quot;,e);\r\n        }\r\n        if (datasourceDto == null || StringUtils.isEmpty(datasourceDto.getPassword()) || StringUtils\r\n                .isEmpty(datasourceDto.getHost()) || StringUtils.isEmpty(datasourceDto.getUsername())) {\r\n            throw new DBDetailsNotFoundException(&quot;Failed to get db credentials&quot;);\r\n        }\r\n        dataSource.setDriverClass(dataSourceProperties.getDriverClassName());\r\n        dataSource.setJdbcUrl(datasourceDto.getHost());\r\n        dataSource.setUser(datasourceDto.getUsername());\r\n        dataSource.setPassword(datasourceDto.getPassword());\r\n        configureConnectionPool(dataSource);\r\n        return dataSource;\r\n}\r\n```\r\nThis code is part of the microservice and it works fine. \r\nNow, I need to separate out all database configurations from this microservice and create a standalone database service, which will be later used as a jar by the microservice and other microservices.\r\n\r\nThis actually reads database information from a secrets yml file which has the oracle related information based on a hierarchy like this:\r\n```\r\nservicename:\r\n  oracle:\r\n  username:\r\n  host:\r\n  password: \r\nservicename2:\r\n  oracle:\r\n  username:\r\n  host:\r\n  password:\r\n```\r\nwhere &quot;servicename&quot;, &quot;servicename2&quot; are the microservice names.\r\n\r\nNow, the issue I am facing is in this line:\r\n```\r\ndatasourceDto = encryptionutils.getDbCredentials(&quot;servicename&quot;, &quot;oracle&quot;, env.getProperty(&quot;env&quot;));\r\n```\r\n \r\nThe problem is that earlier the database related code was part of every microservice which needs database connection and the name of the particular microservice was hard-coded in this line as &quot;servicename&quot; or &quot;servicename2&quot; respectively to access the corresponding database information. So, when I was connecting to the database for a particular microservice, this was working fine.\r\n\r\nNow since I am moving this code to a common Database service module, the &quot;servicename&quot; can no longer be hardcoded because this database service will be used by every other microservice as well. \r\n\r\nIf I hardcode it to one servicename, other services also will end up connecting that service&#39;s database, which is not desired here. So, my question is how can I make this &quot;servicename&quot; configurable in that line so that when microservice &quot;servicename&quot; tries to access the database, then the corresponding database info is fetched for &quot;servicename&quot; from the db secrets yml and when &quot;servicename2&quot; microservice wants to connect to the database it fetches db information for &quot;servicename2&quot;.","title":"Configurable Datasource Object Using Encryptionutils","body":"<p>I am creating a datasource object in the following way in a microservice:</p>\n<pre><code>@Autowired\nprivate EncryptionUtil encryptionutils;\n\npublic ComboPooledDataSource appDataSource() throws PropertyVetoException {\n        ComboPooledDataSource dataSource = new ComboPooledDataSource();\n        DatasourceDto datasourceDto = null;\n        try {\n            datasourceDto = encryptionutils.getDbCredentials(&quot;servicename&quot;, &quot;oracle&quot;, env.getProperty(&quot;env&quot;));\n        } catch (FileNotFoundException e) {\n            log.info().logException(&quot;Exception&quot;,e);\n        }\n        if (datasourceDto == null || StringUtils.isEmpty(datasourceDto.getPassword()) || StringUtils\n                .isEmpty(datasourceDto.getHost()) || StringUtils.isEmpty(datasourceDto.getUsername())) {\n            throw new DBDetailsNotFoundException(&quot;Failed to get db credentials&quot;);\n        }\n        dataSource.setDriverClass(dataSourceProperties.getDriverClassName());\n        dataSource.setJdbcUrl(datasourceDto.getHost());\n        dataSource.setUser(datasourceDto.getUsername());\n        dataSource.setPassword(datasourceDto.getPassword());\n        configureConnectionPool(dataSource);\n        return dataSource;\n}\n</code></pre>\n<p>This code is part of the microservice and it works fine.\nNow, I need to separate out all database configurations from this microservice and create a standalone database service, which will be later used as a jar by the microservice and other microservices.</p>\n<p>This actually reads database information from a secrets yml file which has the oracle related information based on a hierarchy like this:</p>\n<pre><code>servicename:\n  oracle:\n  username:\n  host:\n  password: \nservicename2:\n  oracle:\n  username:\n  host:\n  password:\n</code></pre>\n<p>where &quot;servicename&quot;, &quot;servicename2&quot; are the microservice names.</p>\n<p>Now, the issue I am facing is in this line:</p>\n<pre><code>datasourceDto = encryptionutils.getDbCredentials(&quot;servicename&quot;, &quot;oracle&quot;, env.getProperty(&quot;env&quot;));\n</code></pre>\n<p>The problem is that earlier the database related code was part of every microservice which needs database connection and the name of the particular microservice was hard-coded in this line as &quot;servicename&quot; or &quot;servicename2&quot; respectively to access the corresponding database information. So, when I was connecting to the database for a particular microservice, this was working fine.</p>\n<p>Now since I am moving this code to a common Database service module, the &quot;servicename&quot; can no longer be hardcoded because this database service will be used by every other microservice as well.</p>\n<p>If I hardcode it to one servicename, other services also will end up connecting that service's database, which is not desired here. So, my question is how can I make this &quot;servicename&quot; configurable in that line so that when microservice &quot;servicename&quot; tries to access the database, then the corresponding database info is fetched for &quot;servicename&quot; from the db secrets yml and when &quot;servicename2&quot; microservice wants to connect to the database it fetches db information for &quot;servicename2&quot;.</p>\n"},{"tags":["java","java-web-start"],"comments":[{"owner":{"account_id":75998,"reputation":3692,"user_id":217850,"accept_rate":93,"display_name":"James B"},"score":0,"creation_date":1271326406,"post_id":2643893,"comment_id":2659370,"body_markdown":"what does your jnlp/webstart config file look like?","body":"what does your jnlp/webstart config file look like?"}],"answers":[{"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1481681049,"creation_date":1271327287,"answer_id":2644456,"question_id":2643893,"body_markdown":"Try using [Janela][1] or [github][2] to diagnose the problem.\r\n\r\n\r\n  [1]: http://pscode.org/janela/\r\n  [2]: https://github.com/AlBundy33/JaNeLa","title":"Java web start - Unable to load resource","body":"<p>Try using <a href=\"http://pscode.org/janela/\" rel=\"nofollow noreferrer\">Janela</a> or <a href=\"https://github.com/AlBundy33/JaNeLa\" rel=\"nofollow noreferrer\">github</a> to diagnose the problem.</p>\n"},{"comments":[{"owner":{"account_id":317241,"reputation":236,"user_id":633819,"display_name":"Shaun Dewberry"},"score":1,"creation_date":1502444534,"post_id":2644466,"comment_id":78222838,"body_markdown":"Proxy setting can be found in the &quot;Java Control Panel&quot; (javacpl or &quot;Configure Java&quot; under windows)","body":"Proxy setting can be found in the &quot;Java Control Panel&quot; (javacpl or &quot;Configure Java&quot; under windows)"},{"owner":{"account_id":3334422,"reputation":612,"user_id":2802446,"display_name":"G.G."},"score":3,"creation_date":1550199602,"post_id":2644466,"comment_id":96190515,"body_markdown":"It did not help me even after changing settings to direct connection.","body":"It did not help me even after changing settings to direct connection."}],"tags":[],"owner":{"account_id":47077,"reputation":72869,"user_id":139300,"accept_rate":95,"display_name":"CD.."},"comment_count":2,"down_vote_count":2,"up_vote_count":17,"is_accepted":true,"score":15,"last_activity_date":1271327766,"creation_date":1271327402,"answer_id":2644466,"question_id":2643893,"body_markdown":"I&#39;ve changed the java proxy settings to direct connection - and it works.\r\n","title":"Java web start - Unable to load resource","body":"<p>I've changed the java proxy settings to direct connection - and it works.</p>\n"},{"tags":[],"owner":{"account_id":75998,"reputation":3692,"user_id":217850,"accept_rate":93,"display_name":"James B"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1271327483,"creation_date":1271327483,"answer_id":2644471,"question_id":2643893,"body_markdown":"I&#39;m not sure exactly what the problem is, but I have looked at one of my jnlp files and I have put in the full path to each of my jar files.  (I have a velocity template that generates the app.jnlp file which places it in all the correct places when my maven build runs)\r\n\r\nOne thing I have seen happen is that the jnlp file is re-downloaded by the by the webstart runtime, and it uses the href attribute (which is left blank in your jnlp file) to re-download the file.  I would start there, and try adding the full path into the jnlp files too...I&#39;ve found webstart to be a fickle mistress!","title":"Java web start - Unable to load resource","body":"<p>I'm not sure exactly what the problem is, but I have looked at one of my jnlp files and I have put in the full path to each of my jar files.  (I have a velocity template that generates the app.jnlp file which places it in all the correct places when my maven build runs)</p>\n\n<p>One thing I have seen happen is that the jnlp file is re-downloaded by the by the webstart runtime, and it uses the href attribute (which is left blank in your jnlp file) to re-download the file.  I would start there, and try adding the full path into the jnlp files too...I've found webstart to be a fickle mistress!</p>\n"},{"tags":[],"owner":{"account_id":2002947,"reputation":21,"user_id":1793529,"display_name":"Vijay Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1351841716,"creation_date":1351840544,"answer_id":13190931,"question_id":2643893,"body_markdown":"Include your IP address in your host file (C:\\Windows\\System32\\drivers\\etc\\host) for the respective server:\r\n\r\nSample Entry:\r\n\r\n10.100.101.102\tserver1.us.vijay.com\t\tVijay&#39;s Server","title":"Java web start - Unable to load resource","body":"<p>Include your IP address in your host file (C:\\Windows\\System32\\drivers\\etc\\host) for the respective server:</p>\n\n<p>Sample Entry:</p>\n\n<p>10.100.101.102  server1.us.vijay.com        Vijay's Server</p>\n"},{"comments":[{"owner":{"account_id":8042951,"reputation":1675,"user_id":6064025,"display_name":"Aamir M Meman"},"score":0,"creation_date":1616106887,"post_id":36169293,"comment_id":117907217,"body_markdown":"This help when we try to add slave to the Jenkins master. You need to change the Jenkins URL to the one where you host the jenkins master.","body":"This help when we try to add slave to the Jenkins master. You need to change the Jenkins URL to the one where you host the jenkins master."}],"tags":[],"owner":{"account_id":439568,"reputation":16842,"user_id":828584,"accept_rate":86,"display_name":"mowwwalker"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458703740,"creation_date":1458703740,"answer_id":36169293,"question_id":2643893,"body_markdown":"If anyone else gets here because they&#39;re trying to set up a Jenkins slave, then you need to set the url of the host to the one it&#39;s actually using. \r\n\r\nOn the host, go to Manage Jenkins &gt; Configure System and edit &quot;Jenkins URL&quot;","title":"Java web start - Unable to load resource","body":"<p>If anyone else gets here because they're trying to set up a Jenkins slave, then you need to set the url of the host to the one it's actually using. </p>\n\n<p>On the host, go to Manage Jenkins > Configure System and edit \"Jenkins URL\"</p>\n"},{"tags":[],"owner":{"account_id":12329552,"reputation":1,"user_id":8996057,"display_name":"user8996057"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511435982,"creation_date":1511435982,"answer_id":47454284,"question_id":2643893,"body_markdown":"i got the same issue, i updated the hosts file with the server address and it worked\r\n","title":"Java web start - Unable to load resource","body":"<p>i got the same issue, i updated the hosts file with the server address and it worked</p>\n"},{"comments":[{"owner":{"account_id":12548770,"reputation":187,"user_id":9131207,"display_name":"Rahid Zeynalov"},"score":0,"creation_date":1692338559,"post_id":55716384,"comment_id":135612052,"body_markdown":"Didn&#39;t worked for me :(","body":"Didn&#39;t worked for me :("}],"tags":[],"owner":{"account_id":2636146,"reputation":841,"user_id":2280764,"accept_rate":57,"display_name":"Brent Sandstrom"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555447688,"creation_date":1555447688,"answer_id":55716384,"question_id":2643893,"body_markdown":"changing java proxy settings to direct connection did not fix my issue.\r\n\r\nWhat worked for me:\r\n\r\n 1. Run &quot;Configure Java&quot; as administrator.\r\n 2. Go to Advanced\r\n 3. Scroll to bottom \r\n 4. Under: &quot;Advanced Security Settings&quot; uncheck &quot;Use SSL 2.0 compatible ClientHello format&quot; \r\n 5. Save","title":"Java web start - Unable to load resource","body":"<p>changing java proxy settings to direct connection did not fix my issue.</p>\n\n<p>What worked for me:</p>\n\n<ol>\n<li>Run \"Configure Java\" as administrator.</li>\n<li>Go to Advanced</li>\n<li>Scroll to bottom </li>\n<li>Under: \"Advanced Security Settings\" uncheck \"Use SSL 2.0 compatible ClientHello format\" </li>\n<li>Save</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":3035072,"reputation":17510,"user_id":2573375,"accept_rate":77,"display_name":"SaeX"},"score":1,"creation_date":1609158803,"post_id":63375440,"comment_id":115761529,"body_markdown":"Didn&#39;t work for me, and it was already unchecked.","body":"Didn&#39;t work for me, and it was already unchecked."}],"tags":[],"owner":{"account_id":19280668,"reputation":11,"user_id":14092731,"display_name":"didi2020"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1597231244,"creation_date":1597231244,"answer_id":63375440,"question_id":2643893,"body_markdown":"this also worked for me , thanks a lot\r\n\r\nchanging java proxy settings to direct connection did not fix my issue.\r\n\r\nWhat worked for me:\r\n\r\n    Run &quot;Configure Java&quot; as administrator.\r\n    Go to Advanced\r\n    Scroll to bottom\r\n    Under: &quot;Advanced Security Settings&quot; uncheck &quot;Use SSL 2.0 compatible ClientHello format&quot;\r\n    Save\r\n\r\n","title":"Java web start - Unable to load resource","body":"<p>this also worked for me , thanks a lot</p>\n<p>changing java proxy settings to direct connection did not fix my issue.</p>\n<p>What worked for me:</p>\n<pre><code>Run &quot;Configure Java&quot; as administrator.\nGo to Advanced\nScroll to bottom\nUnder: &quot;Advanced Security Settings&quot; uncheck &quot;Use SSL 2.0 compatible ClientHello format&quot;\nSave\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13245482,"reputation":9,"user_id":9564757,"display_name":"Niaz Ur Rehman"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1599632499,"creation_date":1599632499,"answer_id":63805815,"question_id":2643893,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eZc8a.png\r\n\r\nIn Advance Tab -&gt; scroll down and un-checked all options in advance security setting and try by checking one-by-one and finally app start running with one option TLS 1.1\r\n\r\nthat was the solution I got it.","title":"Java web start - Unable to load resource","body":"<p><a href=\"https://i.stack.imgur.com/eZc8a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eZc8a.png\" alt=\"enter image description here\" /></a></p>\n<p>In Advance Tab -&gt; scroll down and un-checked all options in advance security setting and try by checking one-by-one and finally app start running with one option TLS 1.1</p>\n<p>that was the solution I got it.</p>\n"},{"comments":[{"owner":{"account_id":21741636,"reputation":1162,"user_id":16048914,"display_name":"David Weber"},"score":0,"creation_date":1702199928,"post_id":77610345,"comment_id":136865654,"body_markdown":"Please format your answer.","body":"Please format your answer."}],"tags":[],"owner":{"account_id":7342198,"reputation":19,"user_id":5591257,"display_name":"Shuvhashis Paul"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701832132,"creation_date":1701832132,"answer_id":77610345,"question_id":2643893,"body_markdown":"1. Disable all &quot;MD5&quot; containing lines from C:\\Program Files\\Java\\jre1.8.0_361\\lib\\security\\java.security file\r\n\r\n2.Add IP url in the exception configure java&gt;&gt;security&gt;&gt;Edit Site list\r\n\r\nurl example:https://10.50.25.58","title":"Java web start - Unable to load resource","body":"<ol>\n<li>Disable all &quot;MD5&quot; containing lines from C:\\Program Files\\Java\\jre1.8.0_361\\lib\\security\\java.security file</li>\n</ol>\n<p>2.Add IP url in the exception configure java&gt;&gt;security&gt;&gt;Edit Site list</p>\n<p>url example:<a href=\"https://10.50.25.58\" rel=\"nofollow noreferrer\">https://10.50.25.58</a></p>\n"}],"owner":{"account_id":47077,"reputation":72869,"user_id":139300,"accept_rate":95,"display_name":"CD.."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165418,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":2644466,"answer_count":10,"score":9,"last_activity_date":1701832132,"creation_date":1271321612,"question_id":2643893,"body_markdown":"I&#39;ve got a jar that loads great with java web start when I browse through the IP address of the server.\r\nOnce I try the server **name** instead I get the following exception:\r\n\r\n&lt;pre&gt;\r\ncom.sun.deploy.net.FailedDownloadException: Unable to load resource:\r\n\tat com.sun.deploy.net.DownloadEngine.actionDownload(Unknown Source)\r\n\tat com.sun.deploy.net.DownloadEngine.getCacheEntry(Unknown Source)\r\n\tat com.sun.deploy.net.DownloadEngine.getCacheEntry(Unknown Source)\r\n\tat com.sun.deploy.net.DownloadEngine.getResourceCacheEntry(Unknown Source)\r\n\tat com.sun.deploy.net.DownloadEngine.getResourceCacheEntry(Unknown Source)\r\n\tat com.sun.deploy.net.DownloadEngine.getResource(Unknown Source)\r\n\tat com.sun.javaws.LaunchDownload$DownloadTask.call(Unknown Source)\r\n\tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n\tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n&lt;/pre&gt;\r\n\r\nThe wrapped exception:\r\n\r\n&lt;pre&gt;\r\njava.io.FileNotFoundException: \r\n  at sun.reflect.GeneratedConstructorAccessor2.newInstance(Unknown Source)\r\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\r\n  at java.lang.reflect.Constructor.newInstance(Unknown Source)\r\n  at sun.net.www.protocol.http.HttpURLConnection$6.run(Unknown Source)\r\n  at java.security.AccessController.doPrivileged(Native Method)\r\n  at sun.net.www.protocol.http.HttpURLConnection.getChainedException(Unknown Source)\r\n  at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n  at com.sun.deploy.net.BasicHttpRequest.doRequest(Unknown Source)\r\n  at com.sun.deploy.net.BasicHttpRequest.doRequest(Unknown Source)\r\n  at com.sun.deploy.net.BasicHttpRequest.doGetRequest(Unknown Source)\r\n  at com.sun.deploy.net.DownloadEngine.actionDownload(Unknown Source)\r\n  at com.sun.deploy.net.DownloadEngine.getCacheEntry(Unknown Source)\r\n  at com.sun.deploy.net.DownloadEngine.getCacheEntry(Unknown Source)\r\n  at com.sun.deploy.net.DownloadEngine.getResourceCacheEntry(Unknown Source)\r\n  at com.sun.deploy.net.DownloadEngine.getResourceCacheEntry(Unknown Source)\r\n  at com.sun.deploy.net.DownloadEngine.getResource(Unknown Source)\r\n  at com.sun.javaws.LaunchDownload$DownloadTask.call(Unknown Source)\r\n  at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n  at java.util.concurrent.FutureTask.run(Unknown Source)\r\n  at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\r\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n  at java.lang.Thread.run(Unknown Source)\r\nCaused by: java.io.FileNotFoundException: \r\n  at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\r\n  at java.net.HttpURLConnection.getResponseCode(Unknown Source)\r\n  ... 15 more\r\n&lt;/pre&gt;\r\n\r\n\r\nJNLP:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;jnlp\r\n        spec=&quot;1.0+&quot;\r\n        codebase=&quot;http://servername/Site/Views/..&quot;\r\n        href=&quot;&quot;&gt;\r\n        &lt;information&gt;\r\n            &lt;title&gt;title&lt;/title&gt;\r\n            &lt;vendor&gt;vendor&lt;/vendor&gt;\r\n            &lt;description&gt;description&lt;/description&gt;\r\n            &lt;description kind=&quot;short&quot;&gt;short&lt;/description&gt;\r\n            &lt;icon href=&quot;../../icon.gif&quot; /&gt;\r\n        &lt;/information&gt;\r\n        &lt;security&gt;\r\n            &lt;all-permissions/&gt;\r\n        &lt;/security&gt;\r\n        &lt;resources&gt;\r\n    \r\n            &lt;j2se version=&quot;1.5+&quot; java-vm-args=&quot;-Xmx1000M -Xms150M&quot; initial-heap-size=&quot;150M&quot; max-heap-size=&quot;1000M&quot; /&gt;\r\n            &lt;j2se version=&quot;1.4.2+&quot; href=&quot;http://java.sun.com/products/autodl/j2se&quot; java-vm-args=&quot;-Xmx1000M -Xms150M&quot; initial-heap-size=&quot;150M&quot; max-heap-size=&quot;1000M&quot; /&gt;\r\n    \r\n            &lt;jar href=&quot;/file.jar&quot;/&gt;\r\n        &lt;/resources&gt;\r\n        &lt;application-desc main-class=&quot;com....&quot;&gt;\r\n            &lt;argument&gt;CD6B172DEC34924D83EA64A61A6550BE1271325929392&lt;/argument&gt;\r\n            &lt;argument&gt;http://servername/file.asp&lt;/argument&gt;\r\n            &lt;argument&gt;/Site&lt;/argument&gt;\r\n        &lt;/application-desc&gt;\r\n    &lt;/jnlp&gt;\r\n\r\n\r\nAny idea what should I look for?\r\n","title":"Java web start - Unable to load resource","body":"<p>I've got a jar that loads great with java web start when I browse through the IP address of the server.\nOnce I try the server <strong>name</strong> instead I get the following exception:</p>\n\n<pre>\ncom.sun.deploy.net.FailedDownloadException: Unable to load resource:\n    at com.sun.deploy.net.DownloadEngine.actionDownload(Unknown Source)\n    at com.sun.deploy.net.DownloadEngine.getCacheEntry(Unknown Source)\n    at com.sun.deploy.net.DownloadEngine.getCacheEntry(Unknown Source)\n    at com.sun.deploy.net.DownloadEngine.getResourceCacheEntry(Unknown Source)\n    at com.sun.deploy.net.DownloadEngine.getResourceCacheEntry(Unknown Source)\n    at com.sun.deploy.net.DownloadEngine.getResource(Unknown Source)\n    at com.sun.javaws.LaunchDownload$DownloadTask.call(Unknown Source)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\n</pre>\n\n<p>The wrapped exception:</p>\n\n<pre>\njava.io.FileNotFoundException: \n  at sun.reflect.GeneratedConstructorAccessor2.newInstance(Unknown Source)\n  at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(Unknown Source)\n  at java.lang.reflect.Constructor.newInstance(Unknown Source)\n  at sun.net.www.protocol.http.HttpURLConnection$6.run(Unknown Source)\n  at java.security.AccessController.doPrivileged(Native Method)\n  at sun.net.www.protocol.http.HttpURLConnection.getChainedException(Unknown Source)\n  at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n  at com.sun.deploy.net.BasicHttpRequest.doRequest(Unknown Source)\n  at com.sun.deploy.net.BasicHttpRequest.doRequest(Unknown Source)\n  at com.sun.deploy.net.BasicHttpRequest.doGetRequest(Unknown Source)\n  at com.sun.deploy.net.DownloadEngine.actionDownload(Unknown Source)\n  at com.sun.deploy.net.DownloadEngine.getCacheEntry(Unknown Source)\n  at com.sun.deploy.net.DownloadEngine.getCacheEntry(Unknown Source)\n  at com.sun.deploy.net.DownloadEngine.getResourceCacheEntry(Unknown Source)\n  at com.sun.deploy.net.DownloadEngine.getResourceCacheEntry(Unknown Source)\n  at com.sun.deploy.net.DownloadEngine.getResource(Unknown Source)\n  at com.sun.javaws.LaunchDownload$DownloadTask.call(Unknown Source)\n  at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n  at java.util.concurrent.FutureTask.run(Unknown Source)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(Unknown Source)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n  at java.lang.Thread.run(Unknown Source)\nCaused by: java.io.FileNotFoundException: \n  at sun.net.www.protocol.http.HttpURLConnection.getInputStream(Unknown Source)\n  at java.net.HttpURLConnection.getResponseCode(Unknown Source)\n  ... 15 more\n</pre>\n\n<p>JNLP:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;jnlp\n    spec=\"1.0+\"\n    codebase=\"http://servername/Site/Views/..\"\n    href=\"\"&gt;\n    &lt;information&gt;\n        &lt;title&gt;title&lt;/title&gt;\n        &lt;vendor&gt;vendor&lt;/vendor&gt;\n        &lt;description&gt;description&lt;/description&gt;\n        &lt;description kind=\"short\"&gt;short&lt;/description&gt;\n        &lt;icon href=\"../../icon.gif\" /&gt;\n    &lt;/information&gt;\n    &lt;security&gt;\n        &lt;all-permissions/&gt;\n    &lt;/security&gt;\n    &lt;resources&gt;\n\n        &lt;j2se version=\"1.5+\" java-vm-args=\"-Xmx1000M -Xms150M\" initial-heap-size=\"150M\" max-heap-size=\"1000M\" /&gt;\n        &lt;j2se version=\"1.4.2+\" href=\"http://java.sun.com/products/autodl/j2se\" java-vm-args=\"-Xmx1000M -Xms150M\" initial-heap-size=\"150M\" max-heap-size=\"1000M\" /&gt;\n\n        &lt;jar href=\"/file.jar\"/&gt;\n    &lt;/resources&gt;\n    &lt;application-desc main-class=\"com....\"&gt;\n        &lt;argument&gt;CD6B172DEC34924D83EA64A61A6550BE1271325929392&lt;/argument&gt;\n        &lt;argument&gt;http://servername/file.asp&lt;/argument&gt;\n        &lt;argument&gt;/Site&lt;/argument&gt;\n    &lt;/application-desc&gt;\n&lt;/jnlp&gt;\n</code></pre>\n\n<p>Any idea what should I look for?</p>\n"},{"tags":["java","spring","spring-boot","spring-test","mockmvc"],"comments":[{"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"score":0,"creation_date":1446199107,"post_id":33433188,"comment_id":54654387,"body_markdown":"what are you importing?","body":"what are you importing?"}],"answers":[{"comments":[{"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"score":0,"creation_date":1446199346,"post_id":33433221,"comment_id":54654550,"body_markdown":"That helpled, but still getting for `get()` and `any()`","body":"That helpled, but still getting for <code>get()</code> and <code>any()</code>"},{"owner":{"account_id":1810821,"reputation":475,"user_id":1646928,"accept_rate":71,"display_name":"JamesB"},"score":0,"creation_date":1691608658,"post_id":33433221,"comment_id":135516114,"body_markdown":"How this works?","body":"How this works?"}],"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1446200048,"creation_date":1446199153,"answer_id":33433221,"question_id":33433188,"body_markdown":"add following to import these methods\r\n\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n    import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;","title":"Getting Error for MockMvc perform() Methods","body":"<p>add following to import these methods</p>\n\n<pre><code>import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\n</code></pre>\n"}],"owner":{"account_id":208724,"reputation":10099,"user_id":4057038,"accept_rate":40,"display_name":"Meena Chaudhary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7719,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":33433221,"answer_count":1,"score":5,"last_activity_date":1701831461,"creation_date":1446199067,"question_id":33433188,"body_markdown":"I am creating a Spring MVC Controller test. Compiler is showing errors for methods shown below in bold. Am I missing some library or something in my code? Any suggestions? \r\n\r\nI am using following dependencies:\r\n\r\n&gt; \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.2.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.access.prepost.PostAuthorize;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\r\n    import org.springframework.test.context.web.WebAppConfiguration;\r\n    import org.springframework.test.web.servlet.MockMvc;\r\n    import org.springframework.test.web.servlet.MockMvcBuilder;\r\n    import org.springframework.test.web.servlet.setup.MockMvcBuilders;\r\n    import org.springframework.web.context.WebApplicationContext;\r\n    import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\n\r\n    import com.zerosolutions.view.form.LoginCredentials;\r\n\r\n    @RunWith(value=SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @ContextConfiguration(&quot;classpath:dispatcher-servlet.xml&quot;)\r\n    public class TestingFrontController {\r\n\t\r\n\t    @Autowired\r\n\t    private WebApplicationContext wac;\r\n\t\r\n\t    private MockMvc mockMvc;\r\n\t\r\n\t    @Before\r\n\t    public void setUp(){\r\n\t    \tthis.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\r\n\t    }\r\n\t\r\n\t    @Test\r\n\t    public void getLoginSignupPage() throws Exception{\r\n\t\t    this.mockMvc.perform(**get**(&quot;/&quot;))\r\n            .andExpect(status().isOk())\r\n            .andExpect(forwardedUrl(&quot;login&quot;))\r\n            .andExpect(model().attribute(&quot;loginCred&quot;, **any**(LoginCredentials.class)));\r\n\t    }\r\n\r\n    }","title":"Getting Error for MockMvc perform() Methods","body":"<p>I am creating a Spring MVC Controller test. Compiler is showing errors for methods shown below in bold. Am I missing some library or something in my code? Any suggestions? </p>\n\n<p>I am using following dependencies:</p>\n\n<blockquote>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n        &lt;version&gt;3.2.3.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.11&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n        &lt;artifactId&gt;hamcrest-library&lt;/artifactId&gt;\n        &lt;version&gt;1.3&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n</blockquote>\n\n<pre><code>import org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.access.prepost.PostAuthorize;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.springframework.test.context.junit4.SpringJUnit4ClassRunner;\nimport org.springframework.test.context.web.WebAppConfiguration;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.MockMvcBuilder;\nimport org.springframework.test.web.servlet.setup.MockMvcBuilders;\nimport org.springframework.web.context.WebApplicationContext;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\n\nimport com.zerosolutions.view.form.LoginCredentials;\n\n@RunWith(value=SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration(\"classpath:dispatcher-servlet.xml\")\npublic class TestingFrontController {\n\n    @Autowired\n    private WebApplicationContext wac;\n\n    private MockMvc mockMvc;\n\n    @Before\n    public void setUp(){\n        this.mockMvc = MockMvcBuilders.webAppContextSetup(this.wac).build();\n    }\n\n    @Test\n    public void getLoginSignupPage() throws Exception{\n        this.mockMvc.perform(**get**(\"/\"))\n        .andExpect(status().isOk())\n        .andExpect(forwardedUrl(\"login\"))\n        .andExpect(model().attribute(\"loginCred\", **any**(LoginCredentials.class)));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1701855249,"post_id":77610316,"comment_id":136825594,"body_markdown":"Unfortunately YAML has some non-obvious ambiguities, for example `no` without quotes is a boolean `false` value. Maybe it&#39;s one of these cases. Also different YAML parsers even interpret these cases differently. It is actually safer to use quotes in all cases of strings. See for example: https://www.infoworld.com/article/3669238/7-yaml-gotchas-to-avoidand-how-to-avoid-them.html","body":"Unfortunately YAML has some non-obvious ambiguities, for example <code>no</code> without quotes is a boolean <code>false</code> value. Maybe it&#39;s one of these cases. Also different YAML parsers even interpret these cases differently. It is actually safer to use quotes in all cases of strings. See for example: <a href=\"https://www.infoworld.com/article/3669238/7-yaml-gotchas-to-avoidand-how-to-avoid-them.html\" rel=\"nofollow noreferrer\">infoworld.com/article/3669238/&hellip;</a>"}],"owner":{"account_id":26677223,"reputation":21,"user_id":20287710,"display_name":"jJavier52"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701831446,"creation_date":1701831446,"question_id":77610316,"body_markdown":"I&#39;m mapping a yaml file with Jackson and then I add one property to finally write in a File the updated yaml.\r\n\r\nThe property is mapped with @JsonAnySetter because it is unknow the number of tenants in the yaml and they are not listed as array. \r\n```\r\n@JsonAnySetter\r\nprivate Map&lt;String, Tenant&gt; tenants = new LinkedHashMap&lt;&gt;();\r\n```\r\n\r\n```\r\npublic static void main(String[] args) throws IOException {\r\n\r\n        ObjectMapper mapper =  new ObjectMapper(\r\n                  new YAMLFactory().disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER)\r\n                  .enable(YAMLGenerator.Feature.MINIMIZE_QUOTES));\r\n\r\n        File yaml = new File(&quot;/Users/user/Desktop/application.yml&quot;);\r\n\r\n        ApplicationTenants appTenant = mapper.readValue(yaml, ApplicationTenants.class);\r\n\r\n        String tenantName = &quot;newTenant&quot;;\r\n\r\n        Tenant newTenant = new Tenant();\r\n        newTenant.setAvailable(true);\r\n        newTenant.setAccountId(&quot;accountId&quot;);        newTenant.setAuthority(&quot;authority&quot;);\r\n\r\n        appTenant.getRccloud().getTenants().put(tenantName, newTenant);\r\n\r\n        File updatedFile = new File(&quot;/Users/user/Desktop/application2.yml&quot;);\r\n\r\n        mapper.writeValue(updatedFile, appTenant);\r\n\r\n    }\r\n```\r\n\r\nAfter this, the updated file shows some tenant names with double quote, like this:\r\n\r\n```\r\ntenants:\r\n  tenant1: ...\r\n  &quot;tenant2&quot;: ...\r\n  &quot;tenant3&quot;: ...\r\n  tenant4: ...\r\n  newtenant: ...\r\n```\r\n\r\nThe input yaml contains all the tenants without quotes and I want to keep it like that.\r\n\r\nAny suggestion on how can I remove the duble quotes on the tenant name?","title":"Remove quotes from yaml file property with Jackson","body":"<p>I'm mapping a yaml file with Jackson and then I add one property to finally write in a File the updated yaml.</p>\n<p>The property is mapped with @JsonAnySetter because it is unknow the number of tenants in the yaml and they are not listed as array.</p>\n<pre><code>@JsonAnySetter\nprivate Map&lt;String, Tenant&gt; tenants = new LinkedHashMap&lt;&gt;();\n</code></pre>\n<pre><code>public static void main(String[] args) throws IOException {\n\n        ObjectMapper mapper =  new ObjectMapper(\n                  new YAMLFactory().disable(YAMLGenerator.Feature.WRITE_DOC_START_MARKER)\n                  .enable(YAMLGenerator.Feature.MINIMIZE_QUOTES));\n\n        File yaml = new File(&quot;/Users/user/Desktop/application.yml&quot;);\n\n        ApplicationTenants appTenant = mapper.readValue(yaml, ApplicationTenants.class);\n\n        String tenantName = &quot;newTenant&quot;;\n\n        Tenant newTenant = new Tenant();\n        newTenant.setAvailable(true);\n        newTenant.setAccountId(&quot;accountId&quot;);        newTenant.setAuthority(&quot;authority&quot;);\n\n        appTenant.getRccloud().getTenants().put(tenantName, newTenant);\n\n        File updatedFile = new File(&quot;/Users/user/Desktop/application2.yml&quot;);\n\n        mapper.writeValue(updatedFile, appTenant);\n\n    }\n</code></pre>\n<p>After this, the updated file shows some tenant names with double quote, like this:</p>\n<pre><code>tenants:\n  tenant1: ...\n  &quot;tenant2&quot;: ...\n  &quot;tenant3&quot;: ...\n  tenant4: ...\n  newtenant: ...\n</code></pre>\n<p>The input yaml contains all the tenants without quotes and I want to keep it like that.</p>\n<p>Any suggestion on how can I remove the duble quotes on the tenant name?</p>\n"},{"tags":["java","intellij-idea","libgdx","resources","intellij-plugin"],"owner":{"account_id":29465926,"reputation":11,"user_id":22579588,"display_name":"Drained"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701831318,"creation_date":1701831318,"question_id":77610310,"body_markdown":"I opened this  [github]https://github.com/00-Evan/shattered-pixel-dungeon) repository as project in Intellij, then i go to assets to resoursces, then i open  text resource files .properties. This project uses libGDX. After that  when i open any .properies file in a resource folder via resource editor then Intellij doesn&#39;t show any referneces to classes where that resource text was used and mark it as unused resources(actually it used in classes).\r\n\r\n[![one of .properties files. all 2k lines marked as unused by intellij ](https://i.stack.imgur.com/wFPq6.png)](https://i.stack.imgur.com/wFPq6.png) \r\n\r\n[![ A plugin that used for editing resources](https://i.stack.imgur.com/hMphS.png)](https://i.stack.imgur.com/hMphS.png)\r\n\r\n\r\nHere is usage of  resource lines accesed from that .propeties file in class. \r\n```\r\n@Override\r\n\tpublic String info() {\r\n\t\tString info = desc();\r\n\r\n\t\tif (volume == 0){\r\n\t\t\tinfo += &quot;\\n\\n&quot; + Messages.get(this, &quot;desc_water&quot;);\r\n\t\t} else {\r\n\t\t\tinfo += &quot;\\n\\n&quot; + Messages.get(this, &quot;desc_heal&quot;);\r\n\t\t}\r\n\r\n\t\tif (isFull()){\r\n\t\t\tinfo += &quot;\\n\\n&quot; + Messages.get(this, &quot;desc_full&quot;);\r\n\t\t}\r\n\r\n\t\treturn info;\r\n\t}\r\n```\r\n\r\n\r\n I tried to update resource editor plugin and  own intellij, but nothing changed. Tried to google similar problems, but found noting.\r\nExcpeted that intellij will show a reference to classes in .properties files.","title":"Ressource editor in IntellIJ doesn&#39;t show a references to class code","body":"<p>I opened this  [github]<a href=\"https://github.com/00-Evan/shattered-pixel-dungeon\" rel=\"nofollow noreferrer\">https://github.com/00-Evan/shattered-pixel-dungeon</a>) repository as project in Intellij, then i go to assets to resoursces, then i open  text resource files .properties. This project uses libGDX. After that  when i open any .properies file in a resource folder via resource editor then Intellij doesn't show any referneces to classes where that resource text was used and mark it as unused resources(actually it used in classes).</p>\n<p><a href=\"https://i.stack.imgur.com/wFPq6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wFPq6.png\" alt=\"one of .properties files. all 2k lines marked as unused by intellij \" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/hMphS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMphS.png\" alt=\" A plugin that used for editing resources\" /></a></p>\n<p>Here is usage of  resource lines accesed from that .propeties file in class.</p>\n<pre><code>@Override\n    public String info() {\n        String info = desc();\n\n        if (volume == 0){\n            info += &quot;\\n\\n&quot; + Messages.get(this, &quot;desc_water&quot;);\n        } else {\n            info += &quot;\\n\\n&quot; + Messages.get(this, &quot;desc_heal&quot;);\n        }\n\n        if (isFull()){\n            info += &quot;\\n\\n&quot; + Messages.get(this, &quot;desc_full&quot;);\n        }\n\n        return info;\n    }\n</code></pre>\n<p>I tried to update resource editor plugin and  own intellij, but nothing changed. Tried to google similar problems, but found noting.\nExcpeted that intellij will show a reference to classes in .properties files.</p>\n"},{"tags":["java","generics","jls"],"answers":[{"comments":[{"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"score":0,"creation_date":1262776727,"post_id":2012422,"comment_id":1933306,"body_markdown":"@Bozho: the springframework link has a different method signature `java.lang.Class&lt;? extends T&gt; getObjectType()`. I&#39;ve updated my answer to reflect the signature of the OP&#39;s question.","body":"@Bozho: the springframework link has a different method signature <code>java.lang.Class&lt;? extends T&gt; getObjectType()</code>. I&#39;ve updated my answer to reflect the signature of the OP&#39;s question."},{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1701824807,"post_id":2012422,"comment_id":136822637,"body_markdown":"Link in answer is dead - *&quot;issues.springframework.org | DNS_PROBE_FINISHED_NXDOMAIN&quot;*.","body":"Link in answer is dead - <i>&quot;issues.springframework.org | DNS_PROBE_FINISHED_NXDOMAIN&quot;</i>."}],"tags":[],"owner":{"account_id":16366,"reputation":77097,"user_id":35501,"accept_rate":83,"display_name":"JRL"},"comment_count":2,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1262776652,"creation_date":1262775991,"answer_id":2012422,"question_id":2012306,"body_markdown":"Found [this link][1] on springframework.org which gives some insight.\r\n\r\nE.g.\r\n\r\n    List&lt;String&gt; myList = new ArrayList&lt;String&gt;();\r\n    return (Class&lt;List&lt;String&gt;&gt;)myList.getClass();\r\n\r\n  [1]: http://issues.springframework.org/browse/SPR-5982","title":"How to create a class literal of a known type: Class&lt;List&lt;String&gt;&gt;","body":"<p>Found <a href=\"http://issues.springframework.org/browse/SPR-5982\" rel=\"noreferrer\">this link</a> on springframework.org which gives some insight.</p>\n\n<p>E.g.</p>\n\n<pre><code>List&lt;String&gt; myList = new ArrayList&lt;String&gt;();\nreturn (Class&lt;List&lt;String&gt;&gt;)myList.getClass();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88026,"reputation":2780,"user_id":2963863,"accept_rate":86,"display_name":"Christian Seifert"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1262776116,"creation_date":1262776116,"answer_id":2012436,"question_id":2012306,"body_markdown":"I&#39;m not sure if this is possible at all, since any class literal will be compiled to &lt;code&gt;Class.forName(...)&lt;/code&gt; and since this happens at runtime there is no generic information left.","title":"How to create a class literal of a known type: Class&lt;List&lt;String&gt;&gt;","body":"<p>I'm not sure if this is possible at all, since any class literal will be compiled to <code>Class.forName(...)</code> and since this happens at runtime there is no generic information left.</p>\n"},{"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":2,"creation_date":1262854723,"post_id":2012459,"comment_id":1940933,"body_markdown":"Where did you find that quote?","body":"Where did you find that quote?"},{"owner":{"account_id":3165049,"reputation":719,"user_id":2675268,"display_name":"user"},"score":0,"creation_date":1411563611,"post_id":2012459,"comment_id":40749399,"body_markdown":"Your first example did not work for me (SE 1.6), only the second example did.\nInstantiating the ArrayList to a variable and returning myVar.getClass() works though.\n\nfound   : java.lang.Class&lt;capture#972 of ? extends java.util.ArrayList&gt;\n\nrequired: java.lang.Class&lt;java.util.List&lt;com.foo.Bar&gt;&gt;","body":"Your first example did not work for me (SE 1.6), only the second example did. Instantiating the ArrayList to a variable and returning myVar.getClass() works though.  found   : java.lang.Class&lt;capture#972 of ? extends java.util.ArrayList&gt;  required: java.lang.Class&lt;java.util.List&lt;com.foo.Bar&gt;&gt;"}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":2,"down_vote_count":2,"up_vote_count":64,"is_accepted":true,"score":62,"last_activity_date":1701831172,"creation_date":1262776395,"answer_id":2012459,"question_id":2012306,"body_markdown":"You can always cast to what you need, like\r\n\r\n    return (Class&lt;List&lt;String&gt;&gt;) new ArrayList&lt;String&gt;().getClass();\r\n\r\nor\r\n\r\n    return (Class&lt;List&lt;String&gt;&gt;) Collections.&lt;String&gt;emptyList().getClass();\r\n\r\nBut I assume that&#39;s not what you are after. Well, it works, with a warning, but it isn&#39;t exactly &quot;beautiful&quot;.\r\n\r\nI just found [this][1]:\r\n\r\n&gt; ##### Why is there no class literal for wildcard parameterized types?\r\n&gt; \r\n&gt; Because a wildcard parameterized type has no exact runtime type representation. \r\n\r\nSo casting might be the only way to go.\r\n\r\n\r\n[1]: http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ310\r\n","title":"How to create a class literal of a known type: Class&lt;List&lt;String&gt;&gt;","body":"<p>You can always cast to what you need, like</p>\n<pre><code>return (Class&lt;List&lt;String&gt;&gt;) new ArrayList&lt;String&gt;().getClass();\n</code></pre>\n<p>or</p>\n<pre><code>return (Class&lt;List&lt;String&gt;&gt;) Collections.&lt;String&gt;emptyList().getClass();\n</code></pre>\n<p>But I assume that's not what you are after. Well, it works, with a warning, but it isn't exactly &quot;beautiful&quot;.</p>\n<p>I just found <a href=\"http://www.angelikalanger.com/GenericsFAQ/FAQSections/ParameterizedTypes.html#FAQ310\" rel=\"nofollow noreferrer\">this</a>:</p>\n<blockquote>\n<h5>Why is there no class literal for wildcard parameterized types?</h5>\n<p>Because a wildcard parameterized type has no exact runtime type representation.</p>\n</blockquote>\n<p>So casting might be the only way to go.</p>\n"},{"comments":[{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1699411164,"post_id":2012501,"comment_id":136527166,"body_markdown":"First link in answer is outdated.","body":"First link in answer is outdated."}],"tags":[],"owner":{"account_id":7920,"reputation":10704,"user_id":13956,"accept_rate":100,"display_name":"Mike Tunnicliffe"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1262776915,"creation_date":1262776915,"answer_id":2012501,"question_id":2012306,"body_markdown":"Check out this discussion on the SUN forums:\r\n\r\nhttp://forums.sun.com/thread.jspa?threadID=5253007\r\n\r\nAnd the referenced blog post that describes a work around by using &quot;super type tokens&quot;:\r\n\r\nhttp://gafter.blogspot.com/2006/12/super-type-tokens.html","title":"How to create a class literal of a known type: Class&lt;List&lt;String&gt;&gt;","body":"<p>Check out this discussion on the SUN forums:</p>\n\n<p><a href=\"http://forums.sun.com/thread.jspa?threadID=5253007\" rel=\"nofollow noreferrer\">http://forums.sun.com/thread.jspa?threadID=5253007</a></p>\n\n<p>And the referenced blog post that describes a work around by using \"super type tokens\":</p>\n\n<p><a href=\"http://gafter.blogspot.com/2006/12/super-type-tokens.html\" rel=\"nofollow noreferrer\">http://gafter.blogspot.com/2006/12/super-type-tokens.html</a></p>\n"},{"comments":[{"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":1,"creation_date":1265324295,"post_id":2015255,"comment_id":2154581,"body_markdown":"I agree that it&#39;s not a good idea, but Java permits it, and if you&#39;re trying to implement an interface, you may have no choice in the matter, so we still need a way of doing it (semi-)elegantly.","body":"I agree that it&#39;s not a good idea, but Java permits it, and if you&#39;re trying to implement an interface, you may have no choice in the matter, so we still need a way of doing it (semi-)elegantly."}],"tags":[],"owner":{"account_id":69527,"reputation":40466,"user_id":202214,"display_name":"Kevin Bourrillion"},"comment_count":1,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1362995305,"creation_date":1262802642,"answer_id":2015255,"question_id":2012306,"body_markdown":"You should never use the construct `Class&lt;List&lt;String&gt;&gt;`.  It is nonsensical, and should produce a warning in Java (but doesn&#39;t).  Class instances always represent raw types, so you can have `Class&lt;List&gt;`; that&#39;s it.  If you want something to represent a reified generic type like `List&lt;String&gt;`, you need a &quot;super type token&quot; like Guice uses: \r\n\r\nhttp://google-guice.googlecode.com/git/javadoc/com/google/inject/TypeLiteral.html","title":"How to create a class literal of a known type: Class&lt;List&lt;String&gt;&gt;","body":"<p>You should never use the construct <code>Class&lt;List&lt;String&gt;&gt;</code>.  It is nonsensical, and should produce a warning in Java (but doesn't).  Class instances always represent raw types, so you can have <code>Class&lt;List&gt;</code>; that's it.  If you want something to represent a reified generic type like <code>List&lt;String&gt;</code>, you need a \"super type token\" like Guice uses: </p>\n\n<p><a href=\"http://google-guice.googlecode.com/git/javadoc/com/google/inject/TypeLiteral.html\" rel=\"noreferrer\">http://google-guice.googlecode.com/git/javadoc/com/google/inject/TypeLiteral.html</a></p>\n"},{"comments":[{"owner":{"account_id":88135,"reputation":15266,"user_id":243991,"accept_rate":22,"display_name":"Peter Kriens"},"score":1,"creation_date":1453829183,"post_id":2248757,"comment_id":57766564,"body_markdown":"That is a strange example. Since generics are not reified in runtime runtime casting bypasses the generic type system in many cases. Generics are mostly a compile time construct that allows you to further constrain a type from a class type. It would be useful if you could keep the generic signature because, as long as you don&#39;t cast, would make a lot of code more readable AND typesafe.","body":"That is a strange example. Since generics are not reified in runtime runtime casting bypasses the generic type system in many cases. Generics are mostly a compile time construct that allows you to further constrain a type from a class type. It would be useful if you could keep the generic signature because, as long as you don&#39;t cast, would make a lot of code more readable AND typesafe."}],"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1265933545,"creation_date":1265933545,"answer_id":2248757,"question_id":2012306,"body_markdown":"The existence of a `Class&lt;List&lt;String&gt;&gt;` is inherently dangerous.  here&#39;s why:\r\n\r\n    // This statement generates a warning - for a reason...\r\n    Class&lt;List&lt;String&gt;&gt; unsafeListClass = (Class&lt;List&lt;String&gt;&gt;) (Class&lt;?&gt;) List.class;\r\n\r\n    List&lt;Integer&gt; integerList = new ArrayList&lt;Integer&gt;(); // Ok\r\n    integerList.add(42); // Ok\r\n\r\n    System.out.println(unsafeListClass.isInstance(integerList)); // Prints &quot;true&quot;.\r\n    List&lt;String&gt; stringList =\r\n       unsafeListClass.cast(integerList); // Succeeds, with no warning!\r\n    stringList.add(&quot;Hello, World!&quot;); // Also succeeds with no warning\r\n\r\n    for (int x: integerList) {\r\n        // Compiles without warning, but throws ClassCastException at runtime\r\n        System.out.println(100-x);\r\n    }\r\n","title":"How to create a class literal of a known type: Class&lt;List&lt;String&gt;&gt;","body":"<p>The existence of a <code>Class&lt;List&lt;String&gt;&gt;</code> is inherently dangerous.  here's why:</p>\n\n<pre><code>// This statement generates a warning - for a reason...\nClass&lt;List&lt;String&gt;&gt; unsafeListClass = (Class&lt;List&lt;String&gt;&gt;) (Class&lt;?&gt;) List.class;\n\nList&lt;Integer&gt; integerList = new ArrayList&lt;Integer&gt;(); // Ok\nintegerList.add(42); // Ok\n\nSystem.out.println(unsafeListClass.isInstance(integerList)); // Prints \"true\".\nList&lt;String&gt; stringList =\n   unsafeListClass.cast(integerList); // Succeeds, with no warning!\nstringList.add(\"Hello, World!\"); // Also succeeds with no warning\n\nfor (int x: integerList) {\n    // Compiles without warning, but throws ClassCastException at runtime\n    System.out.println(100-x);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":235872,"reputation":511,"user_id":502976,"display_name":"mazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1368090712,"creation_date":1368090712,"answer_id":16458237,"question_id":2012306,"body_markdown":"What about this:\r\n\r\n    public class TestMain {\r\n        public static void main(String[] args) throws Exception {\r\n            Type type = TestMain.class.getMethod(&quot;dummy&quot;).getGenericReturnType();\r\n            System.out.println(&quot;type = &quot; + type);\r\n        }\r\n    \r\n        public List&lt;Integer&gt; dummy() {return null;}\r\n    }\r\n\r\nThis prints: \r\n\r\n    type = java.util.List&lt;java.lang.Integer&gt;\r\n\r\n\r\n","title":"How to create a class literal of a known type: Class&lt;List&lt;String&gt;&gt;","body":"<p>What about this:</p>\n\n<pre><code>public class TestMain {\n    public static void main(String[] args) throws Exception {\n        Type type = TestMain.class.getMethod(\"dummy\").getGenericReturnType();\n        System.out.println(\"type = \" + type);\n    }\n\n    public List&lt;Integer&gt; dummy() {return null;}\n}\n</code></pre>\n\n<p>This prints: </p>\n\n<pre><code>type = java.util.List&lt;java.lang.Integer&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2421817,"reputation":345,"user_id":2114616,"display_name":"Lukas Z."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395996579,"creation_date":1395993260,"answer_id":22707123,"question_id":2012306,"body_markdown":"The following approach is problematic: \r\n\r\n    &gt; public Class&lt;List&lt;String&gt;&gt; getModelType() {\r\n    &gt;   return (Class&lt;List&lt;String&gt;&gt;) new ArrayList&lt;String&gt;().getClass();\r\n    &gt; }\r\n\r\ne.g. if you want to test whether an object say of type \r\n\r\n    org.eclipse.emf.common.util.BasicEList&lt;String&gt; \r\n\r\nis of type \r\n\r\n    List&lt;String&gt; \r\n\r\nbased on the result of the aforementioned getModelType() approach, for example:\r\n\r\n    BasicEList&lt;String&gt; fromObject = ...;\r\n    if (getModelType().isAssignableFrom(fromObject.getClass())) {\r\n        transferFromModelToUi(getModelType().cast(fromObject));\r\n    }\r\n\r\nit will result in false whereas it should be true because both objects implement the interface List (since getModelType() returns a Class object of type List and not ArrayList).\r\n\r\nHere is an approach that worked for me (a bit cumbersome but leads to correct results in the example above, could be moved to a static initializer):\r\n\r\n    public Class&lt;List&lt;String&gt;&gt; getModelType() {\r\n        Class&lt;?&gt; arrayListClass = new ArrayList&lt;String&gt;().getClass();\r\n        Class&lt;?&gt;[] interfaces = arrayListClass.getInterfaces();\r\n        int index = 0;\r\n        for (int i = 0; i &lt; interfaces.length; i++) {\r\n            if (interfaces[i].equals(List.class)) {\r\n                index = i;\r\n                break;\r\n            }\r\n        }\r\n        return (Class&lt;List&lt;String&gt;&gt;) interfaces[index];\r\n    }\r\n\r\n","title":"How to create a class literal of a known type: Class&lt;List&lt;String&gt;&gt;","body":"<p>The following approach is problematic: </p>\n\n<pre><code>&gt; public Class&lt;List&lt;String&gt;&gt; getModelType() {\n&gt;   return (Class&lt;List&lt;String&gt;&gt;) new ArrayList&lt;String&gt;().getClass();\n&gt; }\n</code></pre>\n\n<p>e.g. if you want to test whether an object say of type </p>\n\n<pre><code>org.eclipse.emf.common.util.BasicEList&lt;String&gt; \n</code></pre>\n\n<p>is of type </p>\n\n<pre><code>List&lt;String&gt; \n</code></pre>\n\n<p>based on the result of the aforementioned getModelType() approach, for example:</p>\n\n<pre><code>BasicEList&lt;String&gt; fromObject = ...;\nif (getModelType().isAssignableFrom(fromObject.getClass())) {\n    transferFromModelToUi(getModelType().cast(fromObject));\n}\n</code></pre>\n\n<p>it will result in false whereas it should be true because both objects implement the interface List (since getModelType() returns a Class object of type List and not ArrayList).</p>\n\n<p>Here is an approach that worked for me (a bit cumbersome but leads to correct results in the example above, could be moved to a static initializer):</p>\n\n<pre><code>public Class&lt;List&lt;String&gt;&gt; getModelType() {\n    Class&lt;?&gt; arrayListClass = new ArrayList&lt;String&gt;().getClass();\n    Class&lt;?&gt;[] interfaces = arrayListClass.getInterfaces();\n    int index = 0;\n    for (int i = 0; i &lt; interfaces.length; i++) {\n        if (interfaces[i].equals(List.class)) {\n            index = i;\n            break;\n        }\n    }\n    return (Class&lt;List&lt;String&gt;&gt;) interfaces[index];\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5278793,"reputation":784,"user_id":4214827,"display_name":"Martin Forte"},"score":5,"creation_date":1485204834,"post_id":23045093,"comment_id":70819058,"body_markdown":"I like this way because you don&#39;t need create a new instances.","body":"I like this way because you don&#39;t need create a new instances."},{"owner":{"account_id":11001518,"reputation":101,"user_id":8081996,"display_name":"TXN"},"score":3,"creation_date":1575245545,"post_id":23045093,"comment_id":104490415,"body_markdown":"The outer cast is unnecessary. You can write it like this instead: `return (Class)List.class;`, which I find easier to read.","body":"The outer cast is unnecessary. You can write it like this instead: <code>return (Class)List.class;</code>, which I find easier to read."}],"tags":[],"owner":{"account_id":56980,"reputation":9928,"user_id":170664,"accept_rate":48,"display_name":"Saeed Zarinfam"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1397405740,"creation_date":1397405740,"answer_id":23045093,"question_id":2012306,"body_markdown":"You can implement that method like this:\r\n\r\n    public Class&lt;List&lt;String&gt;&gt; getObjectType() {\r\n        return (Class&lt;List&lt;String&gt;&gt;) ((Class)List.class);\r\n    }","title":"How to create a class literal of a known type: Class&lt;List&lt;String&gt;&gt;","body":"<p>You can implement that method like this:</p>\n\n<pre><code>public Class&lt;List&lt;String&gt;&gt; getObjectType() {\n    return (Class&lt;List&lt;String&gt;&gt;) ((Class)List.class);\n}\n</code></pre>\n"}],"owner":{"account_id":11089,"reputation":400050,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117586,"favorite_count":0,"down_vote_count":1,"up_vote_count":73,"accepted_answer_id":2012459,"answer_count":9,"score":72,"last_activity_date":1701831172,"creation_date":1262774749,"question_id":2012306,"body_markdown":"Take the following:\r\n\r\n\tpublic Class&lt;List&lt;String&gt;&gt; getObjectType() {\r\n\t\t// what can I return here?\r\n\t}\r\n\r\nWhat class literal expression can I return from this method which will satisfy the generics and compile? `List.class` won&#39;t compile, and neither will `List.&lt;String&gt;class`.\r\n\r\nIf you&#39;re wondering &quot;why&quot;, I&#39;m writing an implementation of Spring&#39;s `FactoryBean&lt;List&lt;String&gt;&gt;`, which requires me to implement `Class&lt;List&lt;String&gt;&gt; getObjectType()`. However, this is *not* a Spring question.\r\n\r\n**edit:** My plaintive cries have been heard by the powers that be at SpringSource, and so Spring 3.0.1 will have the return type of `getObjectType()` changed to `Class&lt;?&gt;`, which neatly avoids the problem.","title":"How to create a class literal of a known type: Class&lt;List&lt;String&gt;&gt;","body":"<p>Take the following:</p>\n\n<pre><code>public Class&lt;List&lt;String&gt;&gt; getObjectType() {\n    // what can I return here?\n}\n</code></pre>\n\n<p>What class literal expression can I return from this method which will satisfy the generics and compile? <code>List.class</code> won't compile, and neither will <code>List.&lt;String&gt;class</code>.</p>\n\n<p>If you're wondering \"why\", I'm writing an implementation of Spring's <code>FactoryBean&lt;List&lt;String&gt;&gt;</code>, which requires me to implement <code>Class&lt;List&lt;String&gt;&gt; getObjectType()</code>. However, this is <em>not</em> a Spring question.</p>\n\n<p><strong>edit:</strong> My plaintive cries have been heard by the powers that be at SpringSource, and so Spring 3.0.1 will have the return type of <code>getObjectType()</code> changed to <code>Class&lt;?&gt;</code>, which neatly avoids the problem.</p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701784223,"creation_date":1701784223,"answer_id":77606721,"question_id":77604892,"body_markdown":"Like, before they start to write good code, here&#39;s your best bet:\r\n```java\r\n@FunctionalInterface\r\npublic interface RouteProcessor {\r\n    Route.AsyncBuilder process(Route.AsyncBuilder routeInConstruction, DocumentedEndpoint endpoint);\r\n}\r\n```\r\n```java\r\n    private void buildAndAddRoutesFrom(List&lt;? extends DocumentedEndpoint&gt; endpoints) {\r\n        for (DocumentedEndpoint endpoint : endpoints) {\r\n            Route.AsyncBuilder routeBuilder = Route.async();\r\n            for (RouteProcessor routeProcessor : routeProcessors) {\r\n                routeBuilder = routeProcessor.process(routeBuilder, endpoint);\r\n            }\r\n            routeFlux = routeFlux.concatWith(Mono.just(routeBuilder.build()));\r\n        }\r\n    }\r\n```\r\n```java\r\n    @Bean\r\n    // probably you&#39;d want to set it first thing\r\n    // @Order(value = Ordered.HIGHEST_PRECEDENCE)\r\n    public RouteProcessor basicPredicateProcessor() {\r\n        return (routeInConstruction, endpoint) -&gt; {\r\n            routeInConstruction.asyncPredicate(AsyncPredicate.from(serverWebExchange -&gt; serverWebExchange\r\n                            .getRequest()\r\n                            .getPath()\r\n                            .toString()\r\n                            .startsWith(&quot;/api/v1&quot;)\r\n                    ));\r\n            return routeInConstruction;\r\n        };\r\n    }\r\n```\r\nIt&#39;s because `Route.AsyncBuilder` has a method that doesn&#39;t include that null check so you can safely initialize `predicate`:\r\n```java\r\n\t\tpublic AsyncBuilder asyncPredicate(AsyncPredicate&lt;ServerWebExchange&gt; predicate) {\r\n\t\t\tthis.predicate = predicate;\r\n\t\t\treturn this;\r\n\t\t}\r\n```","title":"How do I set a predicate for a Route.Builder in Spring Cloud Gateway?","body":"<p>Like, before they start to write good code, here's your best bet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface RouteProcessor {\n    Route.AsyncBuilder process(Route.AsyncBuilder routeInConstruction, DocumentedEndpoint endpoint);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private void buildAndAddRoutesFrom(List&lt;? extends DocumentedEndpoint&gt; endpoints) {\n        for (DocumentedEndpoint endpoint : endpoints) {\n            Route.AsyncBuilder routeBuilder = Route.async();\n            for (RouteProcessor routeProcessor : routeProcessors) {\n                routeBuilder = routeProcessor.process(routeBuilder, endpoint);\n            }\n            routeFlux = routeFlux.concatWith(Mono.just(routeBuilder.build()));\n        }\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    // probably you'd want to set it first thing\n    // @Order(value = Ordered.HIGHEST_PRECEDENCE)\n    public RouteProcessor basicPredicateProcessor() {\n        return (routeInConstruction, endpoint) -&gt; {\n            routeInConstruction.asyncPredicate(AsyncPredicate.from(serverWebExchange -&gt; serverWebExchange\n                            .getRequest()\n                            .getPath()\n                            .toString()\n                            .startsWith(&quot;/api/v1&quot;)\n                    ));\n            return routeInConstruction;\n        };\n    }\n</code></pre>\n<p>It's because <code>Route.AsyncBuilder</code> has a method that doesn't include that null check so you can safely initialize <code>predicate</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        public AsyncBuilder asyncPredicate(AsyncPredicate&lt;ServerWebExchange&gt; predicate) {\n            this.predicate = predicate;\n            return this;\n        }\n</code></pre>\n"}],"owner":{"account_id":29772902,"reputation":49,"user_id":22817655,"display_name":"Kodigas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701831150,"creation_date":1701766439,"question_id":77604892,"body_markdown":"I won&#39;t go into much detail (it&#39;s not hugely relevant, and it&#39;s a lot of code), but here&#39;s an interface I wrote:\r\n```java\r\n@FunctionalInterface\r\npublic interface RouteProcessor {\r\n    // DocumentedEndpoint is my custom class that encapsulates an exposed endpoint of a service\r\n    Route.Builder process(Route.Builder routeInConstruction, DocumentedEndpoint endpoint);\r\n}\r\n```\r\nIt&#39;s used like this (it&#39;s a basic idea, not final code):\r\n```java\r\n    private void buildAndAddRoutesFrom(List&lt;? extends DocumentedEndpoint&gt; endpoints) {\r\n        for (DocumentedEndpoint endpoint : endpoints) {\r\n            Route.Builder routeBuilder = Route.builder();\r\n            for (RouteProcessor routeProcessor : routeProcessors) {\r\n                routeBuilder = routeProcessor.process(routeBuilder, endpoint);\r\n            }\r\n            routeFlux = routeFlux.concatWith(Mono.just(routeBuilder.build())); // questionable, but it&#39;s beyond the point for now\r\n        }\r\n    }\r\n```\r\nAgain, it&#39;s not really important. What&#39;s important is that Spring Cloud Gateway&#39;s sources have, to put it mildly, room for improvement (in my view). In particular, I don&#39;t know how I do such a simple thing as adding a predicate to a `Route` in construction. Like, suppose I construct it. Where do I pass it now?\r\n```java\r\n    @Bean\r\n    public RouteProcessor authenticationRouteProcessor() {\r\n        return (routeInConstruction, endpoint) -&gt; {\r\n                AsyncPredicate&lt;ServerWebExchange&gt; newPredicate = AsyncPredicate.from(serverWebExchange -&gt; serverWebExchange\r\n                        .getRequest()\r\n                        .getPath()\r\n                        .toString()\r\n                        .startsWith(&quot;/api/v1&quot;));\r\n\r\n                AsyncPredicate&lt;ServerWebExchange&gt; compoundPredicate = routeInConstruction.getPredicate().and(predicate);\r\n\r\n                // what&#39;s next?\r\n```\r\nHow do I set a predicate for a `Route.Builder` in Spring Cloud Gateway?\r\n\r\nLike, if you&#39;re saying that it&#39;s the only way I can pass it, by invoking this constructor (which is private, btw):\r\n```java\r\n// from Route.AbstractBuilder\r\n\r\n\t\tpublic Route build() {\r\n\t\t\tAssert.notNull(this.id, &quot;id can not be null&quot;);\r\n\t\t\tAssert.notNull(this.uri, &quot;uri can not be null&quot;);\r\n\t\t\tAsyncPredicate&lt;ServerWebExchange&gt; predicate = getPredicate();\r\n\t\t\tAssert.notNull(predicate, &quot;predicate can not be null&quot;);\r\n\r\n            // Route has predicate, but Route.Builder doesn&#39;t!\r\n\t\t\treturn new Route(this.id, this.uri, this.order, predicate, this.gatewayFilters, this.metadata);\r\n\t\t}\r\n```\r\nGateway&#39;s design surprises me\r\n\r\nI mean we have this nice `and()` method that we can use as a setter\r\n```java\r\n\t\tpublic Builder and(Predicate&lt;ServerWebExchange&gt; predicate) {\r\n\t\t\tAssert.notNull(this.predicate, &quot;can not call and() on null predicate&quot;);\r\n\t\t\tthis.predicate = this.predicate.and(predicate);\r\n\t\t\treturn this;\r\n\t\t}\r\n```\r\nbut that setting is basically the method&#39;s side effect so it feels more like a workaround rather than something that I should actually do as the library&#39;s user\r\n\r\nBut more importantly, how exactly do I add a predicate to an existing one? It should already be initialized due to the null assert. So this won&#39;t work:\r\n```java\r\n        @Bean\r\n    public RouteProcessor basicPredicateProcessor() {\r\n        return (routeInConstruction, endpoint) -&gt; {\r\n            routeInConstruction.and(serverWebExchange -&gt; serverWebExchange\r\n                    .getRequest()\r\n                    .getPath()\r\n                    .toString()\r\n                    .startsWith(&quot;/api/v1&quot;));\r\n            return routeInConstruction;\r\n        };\r\n    }\r\n```\r\nPlease let me know that it&#39;s not that far gone and I missed some crucial snippets of the source code","title":"How do I set a predicate for a Route.Builder in Spring Cloud Gateway?","body":"<p>I won't go into much detail (it's not hugely relevant, and it's a lot of code), but here's an interface I wrote:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface RouteProcessor {\n    // DocumentedEndpoint is my custom class that encapsulates an exposed endpoint of a service\n    Route.Builder process(Route.Builder routeInConstruction, DocumentedEndpoint endpoint);\n}\n</code></pre>\n<p>It's used like this (it's a basic idea, not final code):</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void buildAndAddRoutesFrom(List&lt;? extends DocumentedEndpoint&gt; endpoints) {\n        for (DocumentedEndpoint endpoint : endpoints) {\n            Route.Builder routeBuilder = Route.builder();\n            for (RouteProcessor routeProcessor : routeProcessors) {\n                routeBuilder = routeProcessor.process(routeBuilder, endpoint);\n            }\n            routeFlux = routeFlux.concatWith(Mono.just(routeBuilder.build())); // questionable, but it's beyond the point for now\n        }\n    }\n</code></pre>\n<p>Again, it's not really important. What's important is that Spring Cloud Gateway's sources have, to put it mildly, room for improvement (in my view). In particular, I don't know how I do such a simple thing as adding a predicate to a <code>Route</code> in construction. Like, suppose I construct it. Where do I pass it now?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    public RouteProcessor authenticationRouteProcessor() {\n        return (routeInConstruction, endpoint) -&gt; {\n                AsyncPredicate&lt;ServerWebExchange&gt; newPredicate = AsyncPredicate.from(serverWebExchange -&gt; serverWebExchange\n                        .getRequest()\n                        .getPath()\n                        .toString()\n                        .startsWith(&quot;/api/v1&quot;));\n\n                AsyncPredicate&lt;ServerWebExchange&gt; compoundPredicate = routeInConstruction.getPredicate().and(predicate);\n\n                // what's next?\n</code></pre>\n<p>How do I set a predicate for a <code>Route.Builder</code> in Spring Cloud Gateway?</p>\n<p>Like, if you're saying that it's the only way I can pass it, by invoking this constructor (which is private, btw):</p>\n<pre class=\"lang-java prettyprint-override\"><code>// from Route.AbstractBuilder\n\n        public Route build() {\n            Assert.notNull(this.id, &quot;id can not be null&quot;);\n            Assert.notNull(this.uri, &quot;uri can not be null&quot;);\n            AsyncPredicate&lt;ServerWebExchange&gt; predicate = getPredicate();\n            Assert.notNull(predicate, &quot;predicate can not be null&quot;);\n\n            // Route has predicate, but Route.Builder doesn't!\n            return new Route(this.id, this.uri, this.order, predicate, this.gatewayFilters, this.metadata);\n        }\n</code></pre>\n<p>Gateway's design surprises me</p>\n<p>I mean we have this nice <code>and()</code> method that we can use as a setter</p>\n<pre class=\"lang-java prettyprint-override\"><code>        public Builder and(Predicate&lt;ServerWebExchange&gt; predicate) {\n            Assert.notNull(this.predicate, &quot;can not call and() on null predicate&quot;);\n            this.predicate = this.predicate.and(predicate);\n            return this;\n        }\n</code></pre>\n<p>but that setting is basically the method's side effect so it feels more like a workaround rather than something that I should actually do as the library's user</p>\n<p>But more importantly, how exactly do I add a predicate to an existing one? It should already be initialized due to the null assert. So this won't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Bean\n    public RouteProcessor basicPredicateProcessor() {\n        return (routeInConstruction, endpoint) -&gt; {\n            routeInConstruction.and(serverWebExchange -&gt; serverWebExchange\n                    .getRequest()\n                    .getPath()\n                    .toString()\n                    .startsWith(&quot;/api/v1&quot;));\n            return routeInConstruction;\n        };\n    }\n</code></pre>\n<p>Please let me know that it's not that far gone and I missed some crucial snippets of the source code</p>\n"},{"tags":["java","spring","postgresql","orm"],"comments":[{"owner":{"account_id":6292281,"reputation":512,"user_id":4889516,"accept_rate":50,"display_name":"iShaymus"},"score":1,"creation_date":1701828646,"post_id":77610080,"comment_id":136822949,"body_markdown":"Your query is based around api routes and ORM and not SQL.  Doing this in SQL is very straightforward doing it with an ORM is different.  You should adjust the tags to get target the correct audience.","body":"Your query is based around api routes and ORM and not SQL.  Doing this in SQL is very straightforward doing it with an ORM is different.  You should adjust the tags to get target the correct audience."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701836827,"post_id":77610080,"comment_id":136823481,"body_markdown":"Or in short as the person (Tianhong Yu) supplying the correct answer below is saying, An &quot;enitiy class&quot; is a set of properties variables that map to a column-&quot;field&quot; in a database and has the &quot;complete collection&quot; of the SQL query fields to be returned from the query as properties, and an enitiy is a &quot;template&quot; for the DTO Data Transfer Object class instance (actually holds the returned data) and Data Access Object class instance (obtains or replaces DTO data in that DTO instance)","body":"Or in short as the person (Tianhong Yu) supplying the correct answer below is saying, An &quot;enitiy class&quot; is a set of properties variables that map to a column-&quot;field&quot; in a database and has the &quot;complete collection&quot; of the SQL query fields to be returned from the query as properties, and an enitiy is a &quot;template&quot; for the DTO Data Transfer Object class instance (actually holds the returned data) and Data Access Object class instance (obtains or replaces DTO data in that DTO instance)"}],"answers":[{"tags":[],"owner":{"account_id":29844919,"reputation":36,"user_id":22872208,"display_name":"Tianhong Yu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701829388,"creation_date":1701829388,"answer_id":77610237,"question_id":77610080,"body_markdown":"- First, all properties that belong to that person are queried via their primary key, persCod. \r\n- Second, then based on this set of properties, the loop queries the paperName of the associated paper via the field serialNumber of each property. \r\n- Third, combine the results of your query and return them.\r\n\r\n---\r\n\r\n* Option one:\r\n```sql\r\n-- Use join query\r\nSELECT pro.serialNumber, pap.paperName, pro.description\r\nFROM propertie pro\r\n    LEFT JOIN pape pap\r\n    ON pro.serialNumber = pap.serialNumber\r\nWHERE pro.persCod = #{persCod};\r\n```\r\n\r\n* Option two:\r\n```java\r\npublic List&lt;PropertyDTO&gt; listByPersCode(String persCode) {\r\n    // 1. query property table\r\n    List&lt;PropertyDO&gt; propertyDOs = propertyDAO.selectByPersCode(persCode);\r\n\r\n    // 2. query paper table\r\n    List&lt;String&gt; serialNumbers = propertyDOs.stream()\r\n            .map(PropertyDO::getSerialNumber)\r\n            .collect(Collectors.toList());\r\n    List&lt;PaperDO&gt; PaperDOs = paperDAO.selectBatchBySerialNumber(serialNumbers);\r\n\r\n    // 3. combine the results\r\n    Map&lt;String, String&gt; map = PaperDOs.stream()\r\n            .collect(Collectors.toMap(PaperDO::getSerialNumber, PaperDO::getPaperName));\r\n\r\n    return propertyDOs.stream()\r\n            .map(propertyConverter::toDTO)  // copy object&#39;s fields\r\n            .peek(e -&gt; e.setPaperName(map.get(e.getSerialNumber())))\r\n            .collect(Collectors.toList());\r\n}\r\n```\r\n","title":"How to print a response from a GET that link two entities/tables?","body":"<ul>\n<li>First, all properties that belong to that person are queried via their primary key, persCod.</li>\n<li>Second, then based on this set of properties, the loop queries the paperName of the associated paper via the field serialNumber of each property.</li>\n<li>Third, combine the results of your query and return them.</li>\n</ul>\n<hr />\n<ul>\n<li>Option one:</li>\n</ul>\n<pre class=\"lang-sql prettyprint-override\"><code>-- Use join query\nSELECT pro.serialNumber, pap.paperName, pro.description\nFROM propertie pro\n    LEFT JOIN pape pap\n    ON pro.serialNumber = pap.serialNumber\nWHERE pro.persCod = #{persCod};\n</code></pre>\n<ul>\n<li>Option two:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;PropertyDTO&gt; listByPersCode(String persCode) {\n    // 1. query property table\n    List&lt;PropertyDO&gt; propertyDOs = propertyDAO.selectByPersCode(persCode);\n\n    // 2. query paper table\n    List&lt;String&gt; serialNumbers = propertyDOs.stream()\n            .map(PropertyDO::getSerialNumber)\n            .collect(Collectors.toList());\n    List&lt;PaperDO&gt; PaperDOs = paperDAO.selectBatchBySerialNumber(serialNumbers);\n\n    // 3. combine the results\n    Map&lt;String, String&gt; map = PaperDOs.stream()\n            .collect(Collectors.toMap(PaperDO::getSerialNumber, PaperDO::getPaperName));\n\n    return propertyDOs.stream()\n            .map(propertyConverter::toDTO)  // copy object's fields\n            .peek(e -&gt; e.setPaperName(map.get(e.getSerialNumber())))\n            .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":29264105,"reputation":17,"user_id":22420285,"display_name":"gustop01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77610237,"answer_count":1,"score":-1,"last_activity_date":1701831039,"creation_date":1701825607,"question_id":77610080,"body_markdown":"Hello =] I was tasked with something due to an activity, and don&#39;t know how to make it work, hope someone could help :P\r\n\r\nI have three entities: &#39;**person**&#39;, &#39;**paper**&#39; and &#39;**property**&#39;. \r\n\r\nPerson id is &#39;**persCod**&#39;, papers id is &#39;**serialNumber**&#39;, and properties has both &#39;persCod&#39; and &#39;serialNumber&#39; as ids (**composite primary keys**).\r\n\r\nThe idea is that **a single person** (persCod) **can have multiple properties**, each property being a given paper. \r\n\r\nWhen sending a GET request to find a certain property, I want the response body to contain all that property&#39;s info + the name of the &#39;paper&#39; which serialNumber equals the one from the found property. I need to search the property through its &#39;persCod&#39; tho.\r\n\r\n**Person**\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;PERSON&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Person{\r\n  @Id\r\n  private Long persCod;\r\n  private String name;\r\n}\r\n```\r\n**Paper**\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;PAPERS&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Paper{\r\n  @Id\r\n  private Integer serialNumber;\r\n  private String paperName;\r\n}\r\n```\r\n**Property**\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;PROPERTY&quot;)\r\n@IdClass(IdProperty.class)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Property {\r\n  @Id\r\n  private Long persCod;\r\n  @Id\r\n  private Integer serialNumber;\r\n  private String paperName;\r\n  private String description;\r\n\r\n}\r\n```\r\n**What I need is, when sending a GET request to `localhost:8080/property/{persCodA}`, to get a response like this:**\r\n```\r\n{\r\nserialNumber: 101010,\r\npaperName: &quot;[the name of the paper which serialNumber also is 101010]&quot;,\r\ndescription: the given description\r\n},\r\n{\r\nserialNumber: 030303,\r\npaperName: &quot;[the name of the paper which serialNumber also is 030303]&quot;,\r\ndescription: the given description\r\n}\r\n```\r\n\r\nDon&#39;t know if I managed to explain it well enough, but would be glad to get some guidance =]","title":"How to print a response from a GET that link two entities/tables?","body":"<p>Hello =] I was tasked with something due to an activity, and don't know how to make it work, hope someone could help :P</p>\n<p>I have three entities: '<strong>person</strong>', '<strong>paper</strong>' and '<strong>property</strong>'.</p>\n<p>Person id is '<strong>persCod</strong>', papers id is '<strong>serialNumber</strong>', and properties has both 'persCod' and 'serialNumber' as ids (<strong>composite primary keys</strong>).</p>\n<p>The idea is that <strong>a single person</strong> (persCod) <strong>can have multiple properties</strong>, each property being a given paper.</p>\n<p>When sending a GET request to find a certain property, I want the response body to contain all that property's info + the name of the 'paper' which serialNumber equals the one from the found property. I need to search the property through its 'persCod' tho.</p>\n<p><strong>Person</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;PERSON&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Person{\n  @Id\n  private Long persCod;\n  private String name;\n}\n</code></pre>\n<p><strong>Paper</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;PAPERS&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Paper{\n  @Id\n  private Integer serialNumber;\n  private String paperName;\n}\n</code></pre>\n<p><strong>Property</strong></p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;PROPERTY&quot;)\n@IdClass(IdProperty.class)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Property {\n  @Id\n  private Long persCod;\n  @Id\n  private Integer serialNumber;\n  private String paperName;\n  private String description;\n\n}\n</code></pre>\n<p><strong>What I need is, when sending a GET request to <code>localhost:8080/property/{persCodA}</code>, to get a response like this:</strong></p>\n<pre><code>{\nserialNumber: 101010,\npaperName: &quot;[the name of the paper which serialNumber also is 101010]&quot;,\ndescription: the given description\n},\n{\nserialNumber: 030303,\npaperName: &quot;[the name of the paper which serialNumber also is 030303]&quot;,\ndescription: the given description\n}\n</code></pre>\n<p>Don't know if I managed to explain it well enough, but would be glad to get some guidance =]</p>\n"},{"tags":["java","node.js","jwt"],"comments":[{"owner":{"account_id":1319306,"reputation":70367,"user_id":1318694,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1701828350,"post_id":77610115,"comment_id":136822915,"body_markdown":"What jwt library are you using in node.js? I haven&#39;t seen a library without a `.verify()` function.","body":"What jwt library are you using in node.js? I haven&#39;t seen a library without a <code>.verify()</code> function."},{"owner":{"account_id":30073287,"reputation":1,"user_id":23046741,"display_name":"Saikat Ghosh"},"score":0,"creation_date":1701867439,"post_id":77610115,"comment_id":136827829,"body_markdown":"Hi @Matt I have tried using jsonwebtoken in NodeJS.\n\nhttps://www.npmjs.com/package/jsonwebtoken\n\njwt.verify(ffaToken, STePCert, { algorithms: [&#39;RS512&#39;] }, function(err, user) {\n    console.error(err) \n});\n\nTried something like this, but it keeps throwing the error &quot;Signature Mismatch&quot; though the same is working when run using the java code.","body":"Hi @Matt I have tried using jsonwebtoken in NodeJS.  <a href=\"https://www.npmjs.com/package/jsonwebtoken\" rel=\"nofollow noreferrer\">npmjs.com/package/jsonwebtoken</a>  jwt.verify(ffaToken, STePCert, { algorithms: [&#39;RS512&#39;] }, function(err, user) {     console.error(err)  });  Tried something like this, but it keeps throwing the error &quot;Signature Mismatch&quot; though the same is working when run using the java code."},{"owner":{"account_id":1319306,"reputation":70367,"user_id":1318694,"accept_rate":75,"display_name":"Matt"},"score":0,"creation_date":1701914003,"post_id":77610115,"comment_id":136835190,"body_markdown":"oh i see, probably in the creation of the pub key rather than jwt. Can you include the code for the js attempt?","body":"oh i see, probably in the creation of the pub key rather than jwt. Can you include the code for the js attempt?"}],"owner":{"account_id":30073287,"reputation":1,"user_id":23046741,"display_name":"Saikat Ghosh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701828159,"creation_date":1701826513,"question_id":77610115,"body_markdown":"\r\nI have a working java code that can verify my JWT signature and return the claims.\r\n\r\nExample code:\r\n\r\n```\r\npublic static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n  byte[] decodedKey = Base64.getDecoder().decode(sampleKey);\r\n  PublicKey regionalKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(decodedKey));\r\n  try{\r\n    Jwt&lt;JwsHeader, Claims&gt; decodedTokenClaims = Jwts.parser().setSigningKey(regionalKey).parseClaimsJws(sampleToken);\r\n    System.out.print(true);\r\n  }catch(Exception e){\r\n    System.out.print(false);\r\n  }\r\n}\r\n```\r\n    \r\nI am unable to achieve the same results using NodeJS.\r\n\r\nCould someone please help me translate the code! Thanks in advance.\r\n\r\nTried using Crypto but could not achieve the X509 encoding and the Public KeyObject generation.","title":"Is there a way to verify encoded jwt signature using NodeJS","body":"<p>I have a working java code that can verify my JWT signature and return the claims.</p>\n<p>Example code:</p>\n<pre><code>public static void main(String[] args) throws NoSuchAlgorithmException, InvalidKeySpecException {\n  byte[] decodedKey = Base64.getDecoder().decode(sampleKey);\n  PublicKey regionalKey = KeyFactory.getInstance(&quot;RSA&quot;).generatePublic(new X509EncodedKeySpec(decodedKey));\n  try{\n    Jwt&lt;JwsHeader, Claims&gt; decodedTokenClaims = Jwts.parser().setSigningKey(regionalKey).parseClaimsJws(sampleToken);\n    System.out.print(true);\n  }catch(Exception e){\n    System.out.print(false);\n  }\n}\n</code></pre>\n<p>I am unable to achieve the same results using NodeJS.</p>\n<p>Could someone please help me translate the code! Thanks in advance.</p>\n<p>Tried using Crypto but could not achieve the X509 encoding and the Public KeyObject generation.</p>\n"},{"tags":["java","int"],"answers":[{"comments":[{"owner":{"account_id":158567,"reputation":1900,"user_id":377303,"accept_rate":67,"display_name":"nerkn"},"score":0,"creation_date":1646088664,"post_id":5329128,"comment_id":126033973,"body_markdown":"int yourInt = 33;\nString str = String.valueOf(yourInt);\nwhat is the output?","body":"int yourInt = 33; String str = String.valueOf(yourInt); what is the output?"}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":1,"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1300302404,"creation_date":1300296030,"answer_id":5329128,"question_id":5328996,"body_markdown":"Do you want to convert `int`s to `char`s?:\r\n\r\n    int yourInt = 33;\r\n    char ch = (char) yourInt;\r\n    System.out.println(yourInt);\r\n    System.out.println(ch);\r\n    // Output:\r\n    // 33\r\n    // !\r\n\r\n\r\nOr do you want to convert `int`s to `String`s?\r\n\r\n    int yourInt = 33;\r\n    String str = String.valueOf(yourInt);\r\n\r\nOr what is it that you mean?","title":"Java - Change int to ascii","body":"<p>Do you want to convert <code>int</code>s to <code>char</code>s?:</p>\n\n<pre><code>int yourInt = 33;\nchar ch = (char) yourInt;\nSystem.out.println(yourInt);\nSystem.out.println(ch);\n// Output:\n// 33\n// !\n</code></pre>\n\n<p>Or do you want to convert <code>int</code>s to <code>String</code>s?</p>\n\n<pre><code>int yourInt = 33;\nString str = String.valueOf(yourInt);\n</code></pre>\n\n<p>Or what is it that you mean?</p>\n"},{"tags":[],"owner":{"account_id":1333570,"reputation":532,"user_id":1276861,"display_name":"RichardP"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1364089391,"creation_date":1364089391,"answer_id":15594235,"question_id":5328996,"body_markdown":"If you first convert the int to a char, you will have your ascii code. \r\n\r\nFor example:\r\n\r\n        int iAsciiValue = 9; // Currently just the number 9, but we want Tab character\r\n        // Put the tab character into a string\r\n        String strAsciiTab = Character.toString((char) iAsciiValue);\r\n\t\t\t\t\r\n","title":"Java - Change int to ascii","body":"<p>If you first convert the int to a char, you will have your ascii code. </p>\n\n<p>For example:</p>\n\n<pre><code>    int iAsciiValue = 9; // Currently just the number 9, but we want Tab character\n    // Put the tab character into a string\n    String strAsciiTab = Character.toString((char) iAsciiValue);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1804277,"reputation":715,"user_id":1641763,"display_name":"Nadir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384265489,"creation_date":1384265489,"answer_id":19931438,"question_id":5328996,"body_markdown":"In fact in the last answer\r\n     String strAsciiTab = Character.toString((char) iAsciiValue);\r\nthe essential part is (char)iAsciiValue which is doing the job (Character.toString useless)\r\n\r\nMeaning the first answer was correct actually\r\n    char ch = (char) yourInt;\r\n\r\nif in yourint=49 (or 0x31), ch will be &#39;1&#39;","title":"Java - Change int to ascii","body":"<p>In fact in the last answer\n     String strAsciiTab = Character.toString((char) iAsciiValue);\nthe essential part is (char)iAsciiValue which is doing the job (Character.toString useless)</p>\n\n<p>Meaning the first answer was correct actually\n    char ch = (char) yourInt;</p>\n\n<p>if in yourint=49 (or 0x31), ch will be '1'</p>\n"},{"tags":[],"owner":{"account_id":67086,"reputation":1956,"user_id":196486,"display_name":"Travis"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1396201142,"creation_date":1389079793,"answer_id":20966226,"question_id":5328996,"body_markdown":"There are many ways to convert an int to ASCII (depending on your needs) but here is a way to convert each integer byte to an ASCII character:\r\n\r\n    private static String toASCII(int value) {\r\n        int length = 4;\r\n        StringBuilder builder = new StringBuilder(length);\r\n        for (int i = length - 1; i &gt;= 0; i--) {\r\n            builder.append((char) ((value &gt;&gt; (8 * i)) &amp; 0xFF));\r\n        }\r\n        return builder.toString();\r\n    }\r\n\r\nFor example, the ASCII text for &quot;TEST&quot; can be represented as the byte array:\r\n\r\n    byte[] test = new byte[] { (byte) 0x54, (byte) 0x45, (byte) 0x53, (byte) 0x54 };\r\n\r\nThen you could do the following:\r\n\r\n    int value = ByteBuffer.wrap(test).getInt(); // 1413829460\r\n    System.out.println(toASCII(value)); // outputs &quot;TEST&quot;\r\n\r\n...so this essentially converts the 4 bytes in a 32-bit integer to 4 separate ASCII characters (one character per byte).","title":"Java - Change int to ascii","body":"<p>There are many ways to convert an int to ASCII (depending on your needs) but here is a way to convert each integer byte to an ASCII character:</p>\n\n<pre><code>private static String toASCII(int value) {\n    int length = 4;\n    StringBuilder builder = new StringBuilder(length);\n    for (int i = length - 1; i &gt;= 0; i--) {\n        builder.append((char) ((value &gt;&gt; (8 * i)) &amp; 0xFF));\n    }\n    return builder.toString();\n}\n</code></pre>\n\n<p>For example, the ASCII text for \"TEST\" can be represented as the byte array:</p>\n\n<pre><code>byte[] test = new byte[] { (byte) 0x54, (byte) 0x45, (byte) 0x53, (byte) 0x54 };\n</code></pre>\n\n<p>Then you could do the following:</p>\n\n<pre><code>int value = ByteBuffer.wrap(test).getInt(); // 1413829460\nSystem.out.println(toASCII(value)); // outputs \"TEST\"\n</code></pre>\n\n<p>...so this essentially converts the 4 bytes in a 32-bit integer to 4 separate ASCII characters (one character per byte).</p>\n"},{"tags":[],"owner":{"account_id":46249,"reputation":94060,"user_id":136540,"accept_rate":83,"display_name":"Michael Aaron Safyan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1392527210,"creation_date":1392527210,"answer_id":21807563,"question_id":5328996,"body_markdown":"In Java, you really want to use &lt;a href=&quot;http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toString(int)&quot;&gt;Integer.toString&lt;/a&gt; to convert an integer to its corresponding String value. If you are dealing with just the digits 0-9, then you could use something like this:\r\n\r\n\r\n    private static final char[] DIGITS =\r\n        {&#39;0&#39;, &#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;};\r\n\r\n    private static char getDigit(int digitValue) {\r\n       assertInRange(digitValue, 0, 9);\r\n       return DIGITS[digitValue];\r\n    }\r\n\r\n\r\nOr, equivalently:\r\n\r\n    private static int ASCII_ZERO = 0x30;\r\n\r\n    private static char getDigit(int digitValue) {\r\n      assertInRange(digitValue, 0, 9);\r\n      return ((char) (digitValue + ASCII_ZERO));\r\n    }","title":"Java - Change int to ascii","body":"<p>In Java, you really want to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#toString(int)\" rel=\"nofollow\">Integer.toString</a> to convert an integer to its corresponding String value. If you are dealing with just the digits 0-9, then you could use something like this:</p>\n\n<pre><code>private static final char[] DIGITS =\n    {'0', '1', '2', '3', '4', '5', '6', '7', '8', '9'};\n\nprivate static char getDigit(int digitValue) {\n   assertInRange(digitValue, 0, 9);\n   return DIGITS[digitValue];\n}\n</code></pre>\n\n<p>Or, equivalently:</p>\n\n<pre><code>private static int ASCII_ZERO = 0x30;\n\nprivate static char getDigit(int digitValue) {\n  assertInRange(digitValue, 0, 9);\n  return ((char) (digitValue + ASCII_ZERO));\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user9229146"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1516187638,"creation_date":1516187638,"answer_id":48299787,"question_id":5328996,"body_markdown":"You can convert a number to ASCII in java. example converting a number 1 (base is 10) to ASCII.\r\n\r\n\r\n    char k = Character.forDigit(1, 10);\r\n    System.out.println(&quot;Character: &quot; + k);\r\n    System.out.println(&quot;Character: &quot; + ((int) k));\r\n\r\n\r\nOutput:\r\n\r\n    Character: 1\r\n    Character: 49","title":"Java - Change int to ascii","body":"<p>You can convert a number to ASCII in java. example converting a number 1 (base is 10) to ASCII.</p>\n\n<pre><code>char k = Character.forDigit(1, 10);\nSystem.out.println(\"Character: \" + k);\nSystem.out.println(\"Character: \" + ((int) k));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Character: 1\nCharacter: 49\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6725415,"reputation":568,"user_id":5183595,"display_name":"besartm"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1584706307,"creation_date":1584706307,"answer_id":60773886,"question_id":5328996,"body_markdown":"The most simple way is using type casting:\r\n\r\n    public char toChar(int c) {\r\n        return (char)c;\r\n    }","title":"Java - Change int to ascii","body":"<p>The most simple way is using type casting:</p>\n\n<pre><code>public char toChar(int c) {\n    return (char)c;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701828022,"creation_date":1631898430,"answer_id":69227199,"question_id":5328996,"body_markdown":"# tl;dr\r\n\r\n    Character.toString( yourAsciiNumber ) \r\n\r\nUse [`Character#toString`][1], not `char`. Like this:\r\n\r\n    String result = Character.toString( yourAsciiNumber ) ;\r\n\r\nExample:\r\n\r\n    Character.toString( 97 )   // LATIN SMALL LETTER A\r\n\r\n&gt;a\r\n\r\n    Character.toString( 128_567 )   // FACE WITH MEDICAL MASK\r\n\r\n&gt; &#128567;\r\n\r\n# `char` is legacy\r\n\r\nThe `char` type in Java is legacy, and is essentially broken. As a [16-bit][2] value, `char` is incapable of representing most  characters defined by [Unicode][3]. \r\n\r\nThis succeeds:\r\n\r\n    System.out.println( Character.toString( 128_567 ));  // Unicode code points handle full-range of Unicode characters.\r\n\r\n&gt;&#128567;\r\n\r\nThis fails:\r\n\r\n    System.out.println( ( char ) 128_567 );  // `char` fails with most Unicode characters. \r\n\r\nSee [code run live at IdeOne.com][4].\r\n\r\n\r\n# Code point\r\n\r\nUse [code point](https://en.wikipedia.org/wiki/Code_point) integer numbers to represent individual letters. \r\n\r\n[US-ASCII][5] is a subset of Unicode. So, any US-ASCII number (0-127) is also a Unicode code point (0-1,114,111).\r\n\r\nTo change a code point number to a `String` object containing a single character, call [`Character#toString`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#toString(int)). \r\n\r\n    String x = Character.toString( 97 ) ;\r\n\r\n&gt;a\r\n\r\nSee this [code run live at IdeOne.com](https://ideone.com/yGV08C).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Character.html#toString(int)\r\n  [2]: https://en.wikipedia.org/wiki/16-bit_computing\r\n  [3]: https://en.m.wikipedia.org/wiki/Unicode\r\n  [4]: https://ideone.com/zVXbpt\r\n  [5]: https://en.m.wikipedia.org/wiki/ASCII","title":"Java - Change int to ascii","body":"<h1>tl;dr</h1>\n<pre><code>Character.toString( yourAsciiNumber ) \n</code></pre>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"nofollow noreferrer\"><code>Character#toString</code></a>, not <code>char</code>. Like this:</p>\n<pre><code>String result = Character.toString( yourAsciiNumber ) ;\n</code></pre>\n<p>Example:</p>\n<pre><code>Character.toString( 97 )   // LATIN SMALL LETTER A\n</code></pre>\n<blockquote>\n<p>a</p>\n</blockquote>\n<pre><code>Character.toString( 128_567 )   // FACE WITH MEDICAL MASK\n</code></pre>\n<blockquote>\n<p>😷</p>\n</blockquote>\n<h1><code>char</code> is legacy</h1>\n<p>The <code>char</code> type in Java is legacy, and is essentially broken. As a <a href=\"https://en.wikipedia.org/wiki/16-bit_computing\" rel=\"nofollow noreferrer\">16-bit</a> value, <code>char</code> is incapable of representing most  characters defined by <a href=\"https://en.m.wikipedia.org/wiki/Unicode\" rel=\"nofollow noreferrer\">Unicode</a>.</p>\n<p>This succeeds:</p>\n<pre><code>System.out.println( Character.toString( 128_567 ));  // Unicode code points handle full-range of Unicode characters.\n</code></pre>\n<blockquote>\n<p>😷</p>\n</blockquote>\n<p>This fails:</p>\n<pre><code>System.out.println( ( char ) 128_567 );  // `char` fails with most Unicode characters. \n</code></pre>\n<p>See <a href=\"https://ideone.com/zVXbpt\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<h1>Code point</h1>\n<p>Use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers to represent individual letters.</p>\n<p><a href=\"https://en.m.wikipedia.org/wiki/ASCII\" rel=\"nofollow noreferrer\">US-ASCII</a> is a subset of Unicode. So, any US-ASCII number (0-127) is also a Unicode code point (0-1,114,111).</p>\n<p>To change a code point number to a <code>String</code> object containing a single character, call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.html#toString(int)\" rel=\"nofollow noreferrer\"><code>Character#toString</code></a>.</p>\n<pre><code>String x = Character.toString( 97 ) ;\n</code></pre>\n<blockquote>\n<p>a</p>\n</blockquote>\n<p>See this <a href=\"https://ideone.com/yGV08C\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":23830087,"reputation":1,"user_id":17836490,"display_name":"Gautam kalamkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643091159,"creation_date":1643091159,"answer_id":70844138,"question_id":5328996,"body_markdown":"The most simple way is to get integer and just use the casting operator\r\nEx \r\n\r\n    int num = 33;\r\n    System.out.println((char) num);    //Outputs 33\r\n\r\n    //if you want to find the integer value of character instead.\r\n    //Just do the reverse\r\n\r\n    char ch = &#39;%&#39;;\r\n    System.out.println((int) ch);\r\n","title":"Java - Change int to ascii","body":"<p>The most simple way is to get integer and just use the casting operator\nEx</p>\n<pre><code>int num = 33;\nSystem.out.println((char) num);    //Outputs 33\n\n//if you want to find the integer value of character instead.\n//Just do the reverse\n\nchar ch = '%';\nSystem.out.println((int) ch);\n</code></pre>\n"}],"owner":{"account_id":723152,"reputation":509,"user_id":662959,"display_name":"ChrisM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200691,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"answer_count":9,"score":50,"last_activity_date":1701828022,"creation_date":1300295437,"question_id":5328996,"body_markdown":"Is there a way for java to convert int&#39;s to ascii symbols?","title":"Java - Change int to ascii","body":"<p>Is there a way for java to convert int's to ascii symbols?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3225359,"reputation":6722,"user_id":2721865,"accept_rate":100,"display_name":"kai"},"score":1,"creation_date":1422965084,"post_id":28298427,"comment_id":44948736,"body_markdown":"if you can you should use an array, because its faster.","body":"if you can you should use an array, because its faster."},{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":0,"creation_date":1422965111,"post_id":28298427,"comment_id":44948750,"body_markdown":"If it is local to a function and you cannot benefit of any functionality offered by the `List` interface, I don&#39;t see any reason to use an `ArrayList`.","body":"If it is local to a function and you cannot benefit of any functionality offered by the <code>List</code> interface, I don&#39;t see any reason to use an <code>ArrayList</code>."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1696837461,"post_id":28298427,"comment_id":136199052,"body_markdown":"Is this question too broad? It doesn&#39;t really specify what the concerns are to evaluate. Ex. Is space efficiency a concern? Is time efficiency a concern? Is interface ergonomics for reading and writing the code a concern? Or is the point that this question is trying to solicit answers that compare the two options in terms of every possible concern?","body":"Is this question too broad? It doesn&#39;t really specify what the concerns are to evaluate. Ex. Is space efficiency a concern? Is time efficiency a concern? Is interface ergonomics for reading and writing the code a concern? Or is the point that this question is trying to solicit answers that compare the two options in terms of every possible concern?"}],"answers":[{"comments":[{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1701828307,"post_id":28298459,"comment_id":136822911,"body_markdown":"This is just, to put it mildly, a poor suggestion you&#39;re implying. Sure, you saved a tiny bit of memory - but in return, you lose compatibility with methods taking `List`s/`Collection`s, and lose access to all the built in methods in the `List` class (and yes, I&#39;m completely aware `Arrays` exists, but it has SIGNIFICANTLY less functionality than `List`, `Collection`, and `Collections`).","body":"This is just, to put it mildly, a poor suggestion you&#39;re implying. Sure, you saved a tiny bit of memory - but in return, you lose compatibility with methods taking <code>List</code>s/<code>Collection</code>s, and lose access to all the built in methods in the <code>List</code> class (and yes, I&#39;m completely aware <code>Arrays</code> exists, but it has SIGNIFICANTLY less functionality than <code>List</code>, <code>Collection</code>, and <code>Collections</code>)."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1701846242,"post_id":28298459,"comment_id":136824254,"body_markdown":"@KrustytheClown If you need to store a fixed number of elements, you don&#39;t need most of the methods of the List/Collection interfaces, and it might even be an error to call add/remove for that List/Collection. Using an array makes your intention for the data to be fixed-size clear to anyone who looks at your code. As an alternative, you can use `Arrays.asList()` to get a fixed-size `List`, but that will only cause invalid calls to add/remove to fail during runtime with an exception.  You should prefer to use the type that best fits your desired functionality.","body":"@KrustytheClown If you need to store a fixed number of elements, you don&#39;t need most of the methods of the List/Collection interfaces, and it might even be an error to call add/remove for that List/Collection. Using an array makes your intention for the data to be fixed-size clear to anyone who looks at your code. As an alternative, you can use <code>Arrays.asList()</code> to get a fixed-size <code>List</code>, but that will only cause invalid calls to add/remove to fail during runtime with an exception.  You should prefer to use the type that best fits your desired functionality."},{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1701876851,"post_id":28298459,"comment_id":136829656,"body_markdown":"In theory an `ImmutableList` would be a better fit here, but OP is asking about arrays vs. `ArrayList` specifically. Plus, I personally think `ImmutableList`s are kind of a pain to deal with since as you said, calling add or remove throws `UnsupportedOperationException`","body":"In theory an <code>ImmutableList</code> would be a better fit here, but OP is asking about arrays vs. <code>ArrayList</code> specifically. Plus, I personally think <code>ImmutableList</code>s are kind of a pain to deal with since as you said, calling add or remove throws <code>UnsupportedOperationException</code>"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":3,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1422965090,"creation_date":1422965090,"answer_id":28298459,"question_id":28298427,"body_markdown":"For a fixed size data, the most simple data structure is an array. `ArrayList` wouldn&#39;t take much more memory, though, as it is backed by an array (and the default initial capacity of an `ArrayList` is 10, so in your case the sizes of the arrays being used in both cases would be the same).\r\n\r\nAn advantage to using arrays is that they can hold primitives, while `ArrayList` can only hold reference types.\r\nAn `int[]` is more efficient than `ArrayList&lt;Integer&gt;`.","title":"If I have fixed size data, should I go for array and arraylist?","body":"<p>For a fixed size data, the most simple data structure is an array. <code>ArrayList</code> wouldn't take much more memory, though, as it is backed by an array (and the default initial capacity of an <code>ArrayList</code> is 10, so in your case the sizes of the arrays being used in both cases would be the same).</p>\n\n<p>An advantage to using arrays is that they can hold primitives, while <code>ArrayList</code> can only hold reference types.\nAn <code>int[]</code> is more efficient than <code>ArrayList&lt;Integer&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":5534166,"reputation":776,"user_id":4408546,"accept_rate":100,"display_name":"Jeremy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422965309,"creation_date":1422965309,"answer_id":28298533,"question_id":28298427,"body_markdown":"`ArrayList` fits your need. It is fast.\r\n\r\n    List&lt;Integer&gt; list = new ArrayList();\r\n    list.add(1);\r\n    list.add(2);","title":"If I have fixed size data, should I go for array and arraylist?","body":"<p><code>ArrayList</code> fits your need. It is fast.</p>\n\n<pre><code>List&lt;Integer&gt; list = new ArrayList();\nlist.add(1);\nlist.add(2);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1698019020,"post_id":28298644,"comment_id":136348398,"body_markdown":"This is, to put it mildly, wrong. What if I want to create sub-lists from my collection? What if I need to pass my collection to a method that takes a `Collection`/`List` ? What if I want to check if an element exists in the array - do you really want to rewrite `.contains()` every time? By the way, I&#39;m accounting for the `Arrays` class&#39;s static methods as well, despite how inconvenient they are.","body":"This is, to put it mildly, wrong. What if I want to create sub-lists from my collection? What if I need to pass my collection to a method that takes a <code>Collection</code>/<code>List</code> ? What if I want to check if an element exists in the array - do you really want to rewrite <code>.contains()</code> every time? By the way, I&#39;m accounting for the <code>Arrays</code> class&#39;s static methods as well, despite how inconvenient they are."}],"tags":[],"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1422965627,"creation_date":1422965627,"answer_id":28298644,"question_id":28298427,"body_markdown":"**Arrays** are much faster because `array[10]` is *faster* to access than `array.get(10)`, as the latter internally does the same call, but adds the overhead for the function call plus additional checks.\r\n\r\nSo for a known limited size you will always opt for **Arrays** over **ArrayList**","title":"If I have fixed size data, should I go for array and arraylist?","body":"<p><strong>Arrays</strong> are much faster because <code>array[10]</code> is <em>faster</em> to access than <code>array.get(10)</code>, as the latter internally does the same call, but adds the overhead for the function call plus additional checks.</p>\n\n<p>So for a known limited size you will always opt for <strong>Arrays</strong> over <strong>ArrayList</strong></p>\n"},{"tags":[],"owner":{"account_id":2575332,"reputation":49,"user_id":2233158,"display_name":"Adi"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1422967404,"creation_date":1422967404,"answer_id":28299268,"question_id":28298427,"body_markdown":"Array always take lesser memory than Arraylist. \r\nIf you are only going to store integers, Array list is the best option. ","title":"If I have fixed size data, should I go for array and arraylist?","body":"<p>Array always take lesser memory than Arraylist. \nIf you are only going to store integers, Array list is the best option. </p>\n"},{"comments":[{"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"score":0,"creation_date":1701827736,"post_id":77255255,"comment_id":136822858,"body_markdown":"hey yall performance nutjobs can downvote but you know I&#39;m right. Any half decent Java developer wouldn&#39;t spend a second more thinking about a question this meaningless and just pick `ArrayList` for the added helper functions and `List` compatibility","body":"hey yall performance nutjobs can downvote but you know I&#39;m right. Any half decent Java developer wouldn&#39;t spend a second more thinking about a question this meaningless and just pick <code>ArrayList</code> for the added helper functions and <code>List</code> compatibility"}],"tags":[],"owner":{"account_id":6898784,"reputation":518,"user_id":5299082,"accept_rate":0,"display_name":"Krusty the Clown"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1701827908,"creation_date":1696797409,"answer_id":77255255,"question_id":28298427,"body_markdown":"I&#39;m just gonna go out on a limb here and say it: **it really doesn&#39;t matter**. `ArrayList`&#39;s overhead and performance difference is so minuscule it won&#39;t be noticeable in 99% of cases (And if it really matters in that other &quot;1%&quot;, you shouldn&#39;t be using a language with a garbage collector in the first place!)\r\n\r\nNot to mention `ArrayList` is a `List` implementation; any method taking a `List` can take an `ArrayList` without conversion. ","title":"If I have fixed size data, should I go for array and arraylist?","body":"<p>I'm just gonna go out on a limb here and say it: <strong>it really doesn't matter</strong>. <code>ArrayList</code>'s overhead and performance difference is so minuscule it won't be noticeable in 99% of cases (And if it really matters in that other &quot;1%&quot;, you shouldn't be using a language with a garbage collector in the first place!)</p>\n<p>Not to mention <code>ArrayList</code> is a <code>List</code> implementation; any method taking a <code>List</code> can take an <code>ArrayList</code> without conversion.</p>\n"}],"owner":{"account_id":5647231,"reputation":11,"user_id":4468896,"display_name":"sushree behera"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":381,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1701827908,"creation_date":1422964996,"question_id":28298427,"body_markdown":"Suppose I have 10 integers. Now, as I know the size of data which one should i use array or `ArrayList` and why?\r\n***********\r\n    ArrayList&lt;?&gt; list = new ArrayList&lt;&gt;();","title":"If I have fixed size data, should I go for array and arraylist?","body":"<p>Suppose I have 10 integers. Now, as I know the size of data which one should i use array or <code>ArrayList</code> and why?</p>\n\n<hr>\n\n<pre><code>ArrayList&lt;?&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-boot","integration-testing"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1530914751,"post_id":51217862,"comment_id":89417392,"body_markdown":"Possible duplicate of [Failed to Load ApplicationContext during Spring unit test](https://stackoverflow.com/q/21561432/5221149)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/q/21561432/5221149\">Failed to Load ApplicationContext during Spring unit test</a>"}],"answers":[{"tags":[],"owner":{"account_id":2478433,"reputation":188,"user_id":2158527,"display_name":"Syroezhkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556108673,"creation_date":1556108673,"answer_id":55830005,"question_id":51217862,"body_markdown":"**SessionCookieConfig** class appears in servlet-api from version 3.0. \r\n\r\nTo fix your issues just add this dependency to your **build.gradle** file\r\n\r\n    testCompile(&quot;javax.servlet:javax.servlet-api:3.1.0&quot;)\r\n","title":"Does not find the java.lang.NoClassDefFoundError class: javax / servlet / SessionCookieConfig","body":"<p><strong>SessionCookieConfig</strong> class appears in servlet-api from version 3.0. </p>\n\n<p>To fix your issues just add this dependency to your <strong>build.gradle</strong> file</p>\n\n<pre><code>testCompile(\"javax.servlet:javax.servlet-api:3.1.0\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1701827880,"creation_date":1601965137,"answer_id":64220314,"question_id":51217862,"body_markdown":"for all the mvn users, please add below dependency to the pom.xml \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Does not find the java.lang.NoClassDefFoundError class: javax / servlet / SessionCookieConfig","body":"<p>for all the mvn users, please add below dependency to the pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13896574,"reputation":71,"user_id":10033266,"display_name":"dsfsdgdfg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7965,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1701827880,"creation_date":1530912720,"question_id":51217862,"body_markdown":"I have dependencies in the project\r\n\r\n     compile(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;) {\r\n        exclude group: &quot;org.apache.tomcat&quot;, module: &quot;tomcat-jdbc&quot;\r\n        exclude group: &quot;org.hibernate&quot;, module: &quot;hibernate-entitymanager&quot;\r\n    }\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-security&quot;)\r\n    compile(&quot;org.springframework.boot:spring-boot-starter-mail&quot;)\r\n    compile(&quot;org.springframework.boot:spring-boot-configuration-processor&quot;)\r\n    compile(&quot;org.eclipse.persistence:org.eclipse.persistence.jpa&quot;)\r\n    compile(&quot;org.eclipse.persistence:org.eclipse.persistence.jpa.modelgen.processor&quot;)\r\n    compile(&quot;com.google.api-client:google-api-client&quot;)\r\n    compile(&quot;com.google.oauth-client:google-oauth-client-jetty&quot;)\r\n    compile(&quot;com.google.apis:google-api-services-drive&quot;)\r\n \r\n       // dependencies from the inherited module (compile(project(&quot;...&quot;))\r\n        api(&quot;com.fasterxml.jackson.core:jackson-databind&quot;)\r\n        api(&quot;org.hibernate.validator:hibernate-validator&quot;)\r\n        api(&quot;commons-validator:commons-validator&quot;)\r\n        api(&quot;org.apache.commons:commons-lang3&quot;)\r\n        implementation(&quot;com.google.guava:guava&quot;)\r\nI wanted to do integration tests so I added dependencies\r\n\r\n    testCompile(&quot;com.github.springtestdbunit:spring-test-dbunit:1.3.0&quot;)\r\n    testCompile(&quot;org.dbunit:dbunit:2.5.4&quot;)\r\nI created the basic configuration class\r\n\r\n    \r\n    /**\r\n     * Spring configuration class for integration tests.\r\n     */\r\n    @Configuration \r\n    @EnableAutoConfiguration \r\n    @ComponentScan\r\n    public class PopcornCoreTestApplication {}\r\nand an abstract class\r\n\r\n    \r\n    /**\r\n     * Base class to save on configuration.\r\n     */\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = PopcornCoreTestApplication.class, webEnvironment = SpringBootTest.WebEnvironment.MOCK)\r\n    @TestExecutionListeners(\r\n            {\r\n                    DependencyInjectionTestExecutionListener.class,\r\n                    DirtiesContextTestExecutionListener.class,\r\n                    TransactionalTestExecutionListener.class,\r\n                    TransactionDbUnitTestExecutionListener.class\r\n            }\r\n    )\r\n    public abstract class DBUnitTestBase {\r\n     \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n     \r\n        /**\r\n         * Clean out the db after every test.\r\n         */\r\n        @After\r\n        public void cleanup() {\r\n            this.userRepository.deleteAll();\r\n        }\r\n    }\r\nand some example test to check if it works\r\n\r\n   \r\n    /**\r\n     * Integration tests for UserPersistenceServiceImpl.\r\n     */\r\n    public class UserPersistenceServiceImplIntegrationTests extends DBUnitTestBase {\r\n \r\n        @Autowired\r\n        private UserPersistenceService userPersistenceService;\r\n \r\n        /**\r\n         * Setup.\r\n         */\r\n       @Test\r\n        public void setup() {\r\n            Assert.assertThat(this.userRepository.count(), Matchers.is(0L));\r\n        }\r\n    }\r\nand its not working. I am getting the test start pop\r\n\r\n        lip 04, 2018 6:30:10 PM org.springframework.boot.test.context.SpringBootTestContextBootstrapper buildDefaultMergedContextConfiguration\r\n    INFO: Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.jonki.popcorn.core.jpa.service.UserPersistenceServiceImplIntegrationTests], using SpringBootContextLoader\r\n    lip 04, 2018 6:30:10 PM org.springframework.test.context.support.AbstractContextLoader generateDefaultLocations\r\n    INFO: Could not detect default resource locations for test class [com.jonki.popcorn.core.jpa.service.UserPersistenceServiceImplIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n    lip 04, 2018 6:30:11 PM org.springframework.boot.test.context.SpringBootTestContextBootstrapper getTestExecutionListeners\r\n    INFO: Using TestExecutionListeners: [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@769e7ee8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5276e6b0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@71b1176b, com.github.springtestdbunit.TransactionDbUnitTestExecutionListener@6193932a]\r\n     \r\n    java.lang.NoClassDefFoundError: javax/servlet/SessionCookieConfig\r\n    ...\r\n     \r\n    lip 04, 2018 6:30:12 PM org.springframework.test.context.TestContextManager prepareTestInstance\r\n    SEVERE: Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@769e7ee8] to prepare test instance [com.jonki.popcorn.core.jpa.service.UserPersistenceServiceImplIntegrationTests@402bba4f]\r\n    java.lang.NoClassDefFoundError: javax/servlet/SessionCookieConfig\r\n\r\non pastebin all error https://pastebin.com/8kC4Mkm6\r\n\r\nI tried to add a dependency\r\n\r\n    javax.servlet-api\r\n\r\nbut it did not help and the same mistake is still there.\r\n\r\nHow to deal with this?","title":"Does not find the java.lang.NoClassDefFoundError class: javax / servlet / SessionCookieConfig","body":"<p>I have dependencies in the project</p>\n\n<pre><code> compile(\"org.springframework.boot:spring-boot-starter-data-jpa\") {\n    exclude group: \"org.apache.tomcat\", module: \"tomcat-jdbc\"\n    exclude group: \"org.hibernate\", module: \"hibernate-entitymanager\"\n}\ncompile(\"org.springframework.boot:spring-boot-starter-security\")\ncompile(\"org.springframework.boot:spring-boot-starter-mail\")\ncompile(\"org.springframework.boot:spring-boot-configuration-processor\")\ncompile(\"org.eclipse.persistence:org.eclipse.persistence.jpa\")\ncompile(\"org.eclipse.persistence:org.eclipse.persistence.jpa.modelgen.processor\")\ncompile(\"com.google.api-client:google-api-client\")\ncompile(\"com.google.oauth-client:google-oauth-client-jetty\")\ncompile(\"com.google.apis:google-api-services-drive\")\n\n   // dependencies from the inherited module (compile(project(\"...\"))\n    api(\"com.fasterxml.jackson.core:jackson-databind\")\n    api(\"org.hibernate.validator:hibernate-validator\")\n    api(\"commons-validator:commons-validator\")\n    api(\"org.apache.commons:commons-lang3\")\n    implementation(\"com.google.guava:guava\")\n</code></pre>\n\n<p>I wanted to do integration tests so I added dependencies</p>\n\n<pre><code>testCompile(\"com.github.springtestdbunit:spring-test-dbunit:1.3.0\")\ntestCompile(\"org.dbunit:dbunit:2.5.4\")\n</code></pre>\n\n<p>I created the basic configuration class</p>\n\n<pre><code>/**\n * Spring configuration class for integration tests.\n */\n@Configuration \n@EnableAutoConfiguration \n@ComponentScan\npublic class PopcornCoreTestApplication {}\n</code></pre>\n\n<p>and an abstract class</p>\n\n<pre><code>/**\n * Base class to save on configuration.\n */\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = PopcornCoreTestApplication.class, webEnvironment = SpringBootTest.WebEnvironment.MOCK)\n@TestExecutionListeners(\n        {\n                DependencyInjectionTestExecutionListener.class,\n                DirtiesContextTestExecutionListener.class,\n                TransactionalTestExecutionListener.class,\n                TransactionDbUnitTestExecutionListener.class\n        }\n)\npublic abstract class DBUnitTestBase {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    /**\n     * Clean out the db after every test.\n     */\n    @After\n    public void cleanup() {\n        this.userRepository.deleteAll();\n    }\n}\n</code></pre>\n\n<p>and some example test to check if it works</p>\n\n<pre><code>/**\n * Integration tests for UserPersistenceServiceImpl.\n */\npublic class UserPersistenceServiceImplIntegrationTests extends DBUnitTestBase {\n\n    @Autowired\n    private UserPersistenceService userPersistenceService;\n\n    /**\n     * Setup.\n     */\n   @Test\n    public void setup() {\n        Assert.assertThat(this.userRepository.count(), Matchers.is(0L));\n    }\n}\n</code></pre>\n\n<p>and its not working. I am getting the test start pop</p>\n\n<pre><code>    lip 04, 2018 6:30:10 PM org.springframework.boot.test.context.SpringBootTestContextBootstrapper buildDefaultMergedContextConfiguration\nINFO: Neither @ContextConfiguration nor @ContextHierarchy found for test class [com.jonki.popcorn.core.jpa.service.UserPersistenceServiceImplIntegrationTests], using SpringBootContextLoader\nlip 04, 2018 6:30:10 PM org.springframework.test.context.support.AbstractContextLoader generateDefaultLocations\nINFO: Could not detect default resource locations for test class [com.jonki.popcorn.core.jpa.service.UserPersistenceServiceImplIntegrationTests]: no resource found for suffixes {-context.xml, Context.groovy}.\nlip 04, 2018 6:30:11 PM org.springframework.boot.test.context.SpringBootTestContextBootstrapper getTestExecutionListeners\nINFO: Using TestExecutionListeners: [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@769e7ee8, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5276e6b0, org.springframework.test.context.transaction.TransactionalTestExecutionListener@71b1176b, com.github.springtestdbunit.TransactionDbUnitTestExecutionListener@6193932a]\n\njava.lang.NoClassDefFoundError: javax/servlet/SessionCookieConfig\n...\n\nlip 04, 2018 6:30:12 PM org.springframework.test.context.TestContextManager prepareTestInstance\nSEVERE: Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@769e7ee8] to prepare test instance [com.jonki.popcorn.core.jpa.service.UserPersistenceServiceImplIntegrationTests@402bba4f]\njava.lang.NoClassDefFoundError: javax/servlet/SessionCookieConfig\n</code></pre>\n\n<p>on pastebin all error <a href=\"https://pastebin.com/8kC4Mkm6\" rel=\"noreferrer\">https://pastebin.com/8kC4Mkm6</a></p>\n\n<p>I tried to add a dependency</p>\n\n<pre><code>javax.servlet-api\n</code></pre>\n\n<p>but it did not help and the same mistake is still there.</p>\n\n<p>How to deal with this?</p>\n"},{"tags":["java","json","multithreading","jsonparser"],"comments":[{"owner":{"account_id":53229,"reputation":144059,"user_id":159145,"accept_rate":56,"display_name":"Dai"},"score":2,"creation_date":1701823574,"post_id":77609977,"comment_id":136822529,"body_markdown":"_&quot;So, why isn&#39;t JSONParser thread-safe?&quot;_ - Because parsers tend to be stateful, and stateful things are not intended to have multiple concurrent consumers; it would be a waste of time to implement for no benefit.","body":"<i>&quot;So, why isn&#39;t JSONParser thread-safe?&quot;</i> - Because parsers tend to be stateful, and stateful things are not intended to have multiple concurrent consumers; it would be a waste of time to implement for no benefit."},{"owner":{"account_id":2734060,"reputation":263892,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1701823637,"post_id":77609977,"comment_id":136822536,"body_markdown":"Thread-safety is very hard and carries overhead. Trying to make too many classes thread-safe was one of the big mistakes of Java&#39;s early design - for example, early classes like Hashtable and Vector tried to be thread-safe, while replacements like HashMap and ArrayList don&#39;t.","body":"Thread-safety is very hard and carries overhead. Trying to make too many classes thread-safe was one of the big mistakes of Java&#39;s early design - for example, early classes like Hashtable and Vector tried to be thread-safe, while replacements like HashMap and ArrayList don&#39;t."},{"owner":{"account_id":220160,"reputation":99410,"user_id":477420,"display_name":"Alexei Levenkov"},"score":0,"creation_date":1701824695,"post_id":77609977,"comment_id":136822631,"body_markdown":"Side note: your last edit (removing *text* of the comment) made the post objectively worse - it is generally expected that all important content of the post is present as text and images are just provide supplemental information (unless question about image processing of some specific UI feature). Also missing language tag (presumably &quot;java&quot;) is unusual - unless your specific goal is to limit audience who sees the post (i.e. spam-seed post) include tag that identifies the language/framework  you are asking about (and avoid generic tags like &quot;parsing&quot;).","body":"Side note: your last edit (removing <i>text</i> of the comment) made the post objectively worse - it is generally expected that all important content of the post is present as text and images are just provide supplemental information (unless question about image processing of some specific UI feature). Also missing language tag (presumably &quot;java&quot;) is unusual - unless your specific goal is to limit audience who sees the post (i.e. spam-seed post) include tag that identifies the language/framework  you are asking about (and avoid generic tags like &quot;parsing&quot;)."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1701828596,"post_id":77609977,"comment_id":136822937,"body_markdown":"_Maybe_ (but I&#39;m not promising anything) _maybe_ they mean that it is not safe for different threads to share the same _instance_ of `JSONParser`. The class doesn&#39;t have any `static` methods, so it _might_ be OK for different threads to use it so long as each thread has its own private instance. But, given that the documentation is nearly non-existent, I would want to do a thorough review of the source code before I used it in a commercial product or, in any important project.","body":"<i>Maybe</i> (but I&#39;m not promising anything) <i>maybe</i> they mean that it is not safe for different threads to share the same <i>instance</i> of <code>JSONParser</code>. The class doesn&#39;t have any <code>static</code> methods, so it <i>might</i> be OK for different threads to use it so long as each thread has its own private instance. But, given that the documentation is nearly non-existent, I would want to do a thorough review of the source code before I used it in a commercial product or, in any important project."}],"owner":{"account_id":25012945,"reputation":1,"user_id":18872290,"display_name":"김맷돌"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1701823579,"answer_count":0,"score":-1,"last_activity_date":1701827031,"creation_date":1701823158,"question_id":77609977,"body_markdown":"A thread issue occurred while using JSONParser of org.json.simple.parser, and I looked at the JSONParser class and found the following comment: `Please note that JSONParser is NOT thread-safe.`\r\n\r\nSo, why isn&#39;t JSONParser thread-safe?\r\n\r\n(I solved the thread issue by creating a bean that uses JSONParser.)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U5n2Y.png","title":"Why isn&#39;t JSONParser thread-safe in Java?","body":"<p>A thread issue occurred while using JSONParser of org.json.simple.parser, and I looked at the JSONParser class and found the following comment: <code>Please note that JSONParser is NOT thread-safe.</code></p>\n<p>So, why isn't JSONParser thread-safe?</p>\n<p>(I solved the thread issue by creating a bean that uses JSONParser.)</p>\n"},{"tags":["java","spring-boot","caching","enums","caffeine-cache"],"answers":[{"comments":[{"owner":{"account_id":27789466,"reputation":23,"user_id":21216186,"display_name":"sjvoon97"},"score":0,"creation_date":1701831423,"post_id":77599263,"comment_id":136823106,"body_markdown":"Thanks for the solution, this is a good start but as I trying to use only enum, I will try with @Reveson solution","body":"Thanks for the solution, this is a good start but as I trying to use only enum, I will try with @Reveson solution"},{"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"score":1,"creation_date":1701834783,"post_id":77599263,"comment_id":136823352,"body_markdown":"@sjvoon97 `FieldNameConstants(onlyExplicitlyIncluded` package is under lombok.experimental. this may consist bug and isnt finalized yet.","body":"@sjvoon97 <code>FieldNameConstants(onlyExplicitlyIncluded</code> package is under lombok.experimental. this may consist bug and isnt finalized yet."},{"owner":{"account_id":27789466,"reputation":23,"user_id":21216186,"display_name":"sjvoon97"},"score":0,"creation_date":1701838581,"post_id":77599263,"comment_id":136823585,"body_markdown":"Thanks @Zahid I will check it out, might be getting back to using constant if there is no choice here","body":"Thanks @Zahid I will check it out, might be getting back to using constant if there is no choice here"},{"owner":{"account_id":4042366,"reputation":300,"user_id":3324794,"display_name":"Reveson"},"score":0,"creation_date":1701850130,"post_id":77599263,"comment_id":136824779,"body_markdown":"Yes, it is under lombok.experimental package, but please read on official site why:\n`Experimental because: New feature; unsure if this busts enough boilerplate.`\nIt should be pretty safe to use. It is with us since version `1.16.22`. Ofcourse it was redesigned in `1.18.4` and `onlyExplicitlyIncluded` was added `1.18.8`. So the main feature is available for over 5 years. The `onlyExplicitlyIncluded` is available for over 4 years. \nSources: \n- https://projectlombok.org/features/experimental/FieldNameConstants\n- https://projectlombok.org/changelog","body":"Yes, it is under lombok.experimental package, but please read on official site why: <code>Experimental because: New feature; unsure if this busts enough boilerplate.</code> It should be pretty safe to use. It is with us since version <code>1.16.22</code>. Ofcourse it was redesigned in <code>1.18.4</code> and <code>onlyExplicitlyIncluded</code> was added <code>1.18.8</code>. So the main feature is available for over 5 years. The <code>onlyExplicitlyIncluded</code> is available for over 4 years.  Sources:  - <a href=\"https://projectlombok.org/features/experimental/FieldNameConstants\" rel=\"nofollow noreferrer\">projectlombok.org/features/experimental/FieldNameConstants</a> - <a href=\"https://projectlombok.org/changelog\" rel=\"nofollow noreferrer\">projectlombok.org/changelog</a>"}],"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701826031,"creation_date":1701691177,"answer_id":77599263,"question_id":77598934,"body_markdown":"```java\r\npublic enum CacheName {\r\n    CACHE_A(Names.CACHE_A);\r\n\r\n    public class Names{\r\n        public static final String CACHE_A = &quot;CACHE_A&quot;;\r\n    }\r\n\r\n    private final String label;\r\n\r\n    private CacheName(String label) {\r\n        this.label = label;\r\n    }\r\n\r\n    public String toString() {\r\n        return this.label;\r\n    }\r\n}\r\n```\r\n\r\nAnd in annotation you can use it like\r\n\r\n```java\r\n@Cacheable(CacheName.Names.CACHE_A)\r\npublic MyObject getObject(){ .. }\r\n```","title":"Can I use enum in @Cacheable","body":"<pre class=\"lang-java prettyprint-override\"><code>public enum CacheName {\n    CACHE_A(Names.CACHE_A);\n\n    public class Names{\n        public static final String CACHE_A = &quot;CACHE_A&quot;;\n    }\n\n    private final String label;\n\n    private CacheName(String label) {\n        this.label = label;\n    }\n\n    public String toString() {\n        return this.label;\n    }\n}\n</code></pre>\n<p>And in annotation you can use it like</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(CacheName.Names.CACHE_A)\npublic MyObject getObject(){ .. }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4042366,"reputation":300,"user_id":3324794,"display_name":"Reveson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701791602,"creation_date":1701791602,"answer_id":77607551,"question_id":77598934,"body_markdown":"If you don&#39;t mind using lombok then there is a neat trick to achieve that:\r\n```java\r\n@FieldNameConstants(onlyExplicitlyIncluded = true)\r\npublic enum CacheName {\r\n    @FieldNameConstants.Include CACHE_A,\r\n}\r\n```\r\n\r\nand then in your annotation you have access to a static field throught `Fields` subclass:\r\n```java\r\n@Cacheable(CacheName.Fields.CACHE_A)\r\npublic MyObject getObject(){\r\n    //return something \r\n}\r\n```\r\n\r\nTested on lombok version `1.18.28`.","title":"Can I use enum in @Cacheable","body":"<p>If you don't mind using lombok then there is a neat trick to achieve that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FieldNameConstants(onlyExplicitlyIncluded = true)\npublic enum CacheName {\n    @FieldNameConstants.Include CACHE_A,\n}\n</code></pre>\n<p>and then in your annotation you have access to a static field throught <code>Fields</code> subclass:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Cacheable(CacheName.Fields.CACHE_A)\npublic MyObject getObject(){\n    //return something \n}\n</code></pre>\n<p>Tested on lombok version <code>1.18.28</code>.</p>\n"}],"owner":{"account_id":27789466,"reputation":23,"user_id":21216186,"display_name":"sjvoon97"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77607551,"answer_count":2,"score":2,"last_activity_date":1701826031,"creation_date":1701688047,"question_id":77598934,"body_markdown":"I would like to use enum in a @Cacheable as its cache name such as `@Cacheable(CacheName.CACHE_A.getName())`\r\n\r\nI have a sample enum like \r\n\r\n```\r\npublic enum CacheName {\r\n  CACHE_A(&quot;CACHE_A&quot;);\r\n  private final String name;\r\n  CacheName(String name){\r\n    this.name=name;\r\n  }\r\n  public String getName(){\r\n    return name;\r\n  }\r\n}\r\n```\r\nI tried to use it like a constant String as cache name in my service method\r\n\r\n```\r\n@Cacheable(CacheName.CACHE_A.getName())\r\npublic MyObject getObject(){ \r\n//return something \r\n}\r\n```\r\nThis is not working.\r\n\r\nIt works when I declare a constant class with \r\n`public static String CACHE_A = &quot;CACHE_A&quot;; `\r\n\r\nIs there any workaround if I prefer to use enum over a constant class, I do not see any difference as enum suppose to be fixed, right? please correct me, thanks","title":"Can I use enum in @Cacheable","body":"<p>I would like to use enum in a @Cacheable as its cache name such as <code>@Cacheable(CacheName.CACHE_A.getName())</code></p>\n<p>I have a sample enum like</p>\n<pre><code>public enum CacheName {\n  CACHE_A(&quot;CACHE_A&quot;);\n  private final String name;\n  CacheName(String name){\n    this.name=name;\n  }\n  public String getName(){\n    return name;\n  }\n}\n</code></pre>\n<p>I tried to use it like a constant String as cache name in my service method</p>\n<pre><code>@Cacheable(CacheName.CACHE_A.getName())\npublic MyObject getObject(){ \n//return something \n}\n</code></pre>\n<p>This is not working.</p>\n<p>It works when I declare a constant class with\n<code>public static String CACHE_A = &quot;CACHE_A&quot;; </code></p>\n<p>Is there any workaround if I prefer to use enum over a constant class, I do not see any difference as enum suppose to be fixed, right? please correct me, thanks</p>\n"},{"tags":["java","eclipse","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":8679023,"reputation":515,"user_id":6495551,"accept_rate":26,"display_name":"Sulteric"},"score":0,"creation_date":1700708211,"post_id":77534060,"comment_id":136688568,"body_markdown":"If I open project properties and go to Build Path I can see the various Selenium jar files listed under Classpath. Java is listed under Modulepath. I can also see them in the tree view under Referenced libraries. Hover is on. If I enter the import command manually it tells me that the package is not accessible.","body":"If I open project properties and go to Build Path I can see the various Selenium jar files listed under Classpath. Java is listed under Modulepath. I can also see them in the tree view under Referenced libraries. Hover is on. If I enter the import command manually it tells me that the package is not accessible."},{"owner":{"account_id":8679023,"reputation":515,"user_id":6495551,"accept_rate":26,"display_name":"Sulteric"},"score":0,"creation_date":1700710203,"post_id":77534060,"comment_id":136688719,"body_markdown":"Also this may have something to do with running on a VMware session. I&#39;m going to try this on my personal desktop and see if there&#39;s a difference.","body":"Also this may have something to do with running on a VMware session. I&#39;m going to try this on my personal desktop and see if there&#39;s a difference."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1700710351,"post_id":77534060,"comment_id":136688731,"body_markdown":"Just double checking: Its `WebDriver driver = new ChromeDriver();` - note the parentheses. You did that, right?","body":"Just double checking: Its <code>WebDriver driver = new ChromeDriver();</code> - note the parentheses. You did that, right?"},{"owner":{"account_id":8679023,"reputation":515,"user_id":6495551,"accept_rate":26,"display_name":"Sulteric"},"score":0,"creation_date":1700711402,"post_id":77534060,"comment_id":136688797,"body_markdown":"Yes, I did, sorry I didn&#39;t include that here. It&#39;s not the VM either. I have the same issue on my personal desktop. I also have my CLASSPATH system environment variable set and it includes where the Selenium jar files are located. I should honestly just download IntelliJ, it was SO much easier. I&#39;ve followed a few tutorials and they&#39;re doing the exact same thing I am but I don&#39;t get option to import the selenium library that they get on the hover.","body":"Yes, I did, sorry I didn&#39;t include that here. It&#39;s not the VM either. I have the same issue on my personal desktop. I also have my CLASSPATH system environment variable set and it includes where the Selenium jar files are located. I should honestly just download IntelliJ, it was SO much easier. I&#39;ve followed a few tutorials and they&#39;re doing the exact same thing I am but I don&#39;t get option to import the selenium library that they get on the hover."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1700747242,"post_id":77534060,"comment_id":136694211,"body_markdown":"The `CLASSPATH` sys env variable is obsolete and has no effect here in any case (conceptually it&#39;s completely broken: You can run more than one java app on a single computer, hence the idea of a global classpath variable is just wrong). You&#39;ve misconfigured something, but you aren&#39;t giving us the details we need to help you.","body":"The <code>CLASSPATH</code> sys env variable is obsolete and has no effect here in any case (conceptually it&#39;s completely broken: You can run more than one java app on a single computer, hence the idea of a global classpath variable is just wrong). You&#39;ve misconfigured something, but you aren&#39;t giving us the details we need to help you."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1700706785,"creation_date":1700706785,"answer_id":77534060,"question_id":77533874,"body_markdown":"&gt; The selenium libraries are in my build path.\r\n\r\nYou haven&#39;t given enough information to know which of a few problems you&#39;re dealing with.\r\n\r\n### 90%+ odds: No, they aren&#39;t.\r\n\r\nSelenium isn&#39;t in your build path. Something else is, or it&#39;s not in there at all. If you have no idea how to proceed, write out the fully qualified package name or write the import by hand, and if it&#39;s still an error, it&#39;s definitely this.\r\n\r\n### Other option - hover isn&#39;t on\r\n\r\nIn the &#39;source&#39; menu you&#39;ll find &#39;Organize Imports&#39;. Have java code that is, other than missing `import` statements, completely valid, then pick that option. It&#39;ll appear. If it doesn&#39;t, it&#39;s the first thing (no, you don&#39;t have selenium on the project&#39;s classpath).\r\n\r\nAlternatively, hit CTRL+1 or CMD+1 depending on OS (or if that is not working, open the preferences, type `keys` in the pref filter box, then in the key shortcut settings, type `quick fix`, and check out what it is. You may have changed it; CTRL+1/CMD+1 are merely defaults). This is more or less what the hover thing does. If this _does not_ pop up a box that offers to import it, it&#39;s probably back to the first door.\r\n\r\n### Other option - you&#39;re editing a projectless java file\r\n\r\nIn eclipse you can create scratchpads or just open a random java file straight from disk. However, such files need to be self contained; they don&#39;t _have_ a classpath and can&#39;t get one either. You&#39;ll know if the editor&#39;s icon is a document thingie with a J as usual, but the J is an outline (with white in the middle), instead of solid blue. If this is the case, open (or create) a source file inside a project.","title":"Eclipse not giving Import option to resolve an unknown reference","body":"<blockquote>\n<p>The selenium libraries are in my build path.</p>\n</blockquote>\n<p>You haven't given enough information to know which of a few problems you're dealing with.</p>\n<h3>90%+ odds: No, they aren't.</h3>\n<p>Selenium isn't in your build path. Something else is, or it's not in there at all. If you have no idea how to proceed, write out the fully qualified package name or write the import by hand, and if it's still an error, it's definitely this.</p>\n<h3>Other option - hover isn't on</h3>\n<p>In the 'source' menu you'll find 'Organize Imports'. Have java code that is, other than missing <code>import</code> statements, completely valid, then pick that option. It'll appear. If it doesn't, it's the first thing (no, you don't have selenium on the project's classpath).</p>\n<p>Alternatively, hit CTRL+1 or CMD+1 depending on OS (or if that is not working, open the preferences, type <code>keys</code> in the pref filter box, then in the key shortcut settings, type <code>quick fix</code>, and check out what it is. You may have changed it; CTRL+1/CMD+1 are merely defaults). This is more or less what the hover thing does. If this <em>does not</em> pop up a box that offers to import it, it's probably back to the first door.</p>\n<h3>Other option - you're editing a projectless java file</h3>\n<p>In eclipse you can create scratchpads or just open a random java file straight from disk. However, such files need to be self contained; they don't <em>have</em> a classpath and can't get one either. You'll know if the editor's icon is a document thingie with a J as usual, but the J is an outline (with white in the middle), instead of solid blue. If this is the case, open (or create) a source file inside a project.</p>\n"},{"tags":[],"owner":{"account_id":8679023,"reputation":515,"user_id":6495551,"accept_rate":26,"display_name":"Sulteric"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701825632,"creation_date":1701825632,"answer_id":77610082,"question_id":77533874,"body_markdown":"I fixed the problem. I switched to Visual Studio and C#. No more issues.","title":"Eclipse not giving Import option to resolve an unknown reference","body":"<p>I fixed the problem. I switched to Visual Studio and C#. No more issues.</p>\n"}],"owner":{"account_id":8679023,"reputation":515,"user_id":6495551,"accept_rate":26,"display_name":"Sulteric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1701825632,"creation_date":1700702008,"question_id":77533874,"body_markdown":"I&#39;ve been away from Eclipse for a long time and am having an issue getting a basic Selenium program working. Inside my main() I&#39;m trying to declare a new Webdriver.\r\n\r\n     WebDriver driver = new ChromeDriver;\r\n\r\nOf course this gives an error as I have not imported org.openqa.selenium.* yet. If I hovered over WebDriver in the past it used to give me the option of importing the required library. It&#39;s not doing so. I have no idea why. The selenium libraries are in my build path. I&#39;m using Eclipse 2023 09.\r\n\r\nAny help at resolving this would be greatly appreciated.","title":"Eclipse not giving Import option to resolve an unknown reference","body":"<p>I've been away from Eclipse for a long time and am having an issue getting a basic Selenium program working. Inside my main() I'm trying to declare a new Webdriver.</p>\n<pre><code> WebDriver driver = new ChromeDriver;\n</code></pre>\n<p>Of course this gives an error as I have not imported org.openqa.selenium.* yet. If I hovered over WebDriver in the past it used to give me the option of importing the required library. It's not doing so. I have no idea why. The selenium libraries are in my build path. I'm using Eclipse 2023 09.</p>\n<p>Any help at resolving this would be greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701764459,"creation_date":1701764459,"answer_id":77604709,"question_id":77603658,"body_markdown":"### Summary\r\nsend multiple via same end point , it is not ```REST API```  scenario. In general , we often use Long connection to handle this scenario , there many tech to choose  like websocket , tcp protocol , socket , but all of them are too heavy , just send a mejssage to specified host may  configure so much . \r\n\r\n### Solution\r\nIn a nutshell ,  there is  [Server-Sent Events](https://www.w3.org/TR/eventsource/) could easy solve your problem ,  i would demonstrae bacic demo for this tech  in spring ， also you can read [offical spring sse doc](https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-ann-async.html#mvc-ann-async-sse)\r\n\r\n\r\n#### 1. set up endpoint in spring \r\n```java\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.servlet.mvc.method.annotation.SseEmitter;\r\n\r\nimport java.io.IOException;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/sse&quot;)\r\npublic class SseController {\r\n\r\n    @GetMapping(&quot;/events&quot;)\r\n    public SseEmitter handleSse() {\r\n        SseEmitter emitter = new SseEmitter();\r\n\r\n        // Asynchronous processing to send events\r\n        new Thread(() -&gt; {\r\n            try {\r\n                for (int i = 0; i &lt; 10; i++) {\r\n                    // Send events every 1 second\r\n                    emitter.send(SseEmitter.event().name(&quot;message&quot;).data(&quot;Event &quot; + i));\r\n\r\n                    Thread.sleep(1000);\r\n                }\r\n                // Signal the end of the event stream\r\n                emitter.complete();\r\n            } catch (IOException | InterruptedException e) {\r\n                emitter.completeWithError(e);\r\n            }\r\n        }).start();\r\n\r\n        return emitter;\r\n    }\r\n}\r\n\r\n\r\n```\r\n#### connect endpoint by client side \r\n\r\n```html \r\n\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\r\n    &lt;title&gt;SSE Example&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;h1&gt;SSE Example&lt;/h1&gt;\r\n    &lt;div id=&quot;sse-events&quot;&gt;&lt;/div&gt;\r\n\r\n    &lt;script&gt;\r\n        const eventSource = new EventSource(&#39;/sse/events&#39;);\r\n\r\n        eventSource.onmessage = function (event) {\r\n            const eventsDiv = document.getElementById(&#39;sse-events&#39;);\r\n            eventsDiv.innerHTML += `&lt;p&gt;${event.data}&lt;/p&gt;`;\r\n        };\r\n\r\n        eventSource.onerror = function (error) {\r\n            console.error(&#39;EventSource failed:&#39;, error);\r\n            eventSource.close();\r\n        };\r\n    &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n\r\n```\r\n\r\n\r\nIn this example, the /sse/events endpoint in the SseController returns an SseEmitter, and a separate thread is used to send events asynchronously. The JavaScript code on the client side uses the EventSource API to listen for events and update the HTML content.\r\n\r\nRemember to configure your Spring Boot application with appropriate dependencies, and you may need to handle exceptions and cleanup appropriately in a production scenario.\r\n\r\n### Appendix\r\n\r\n```\r\n  &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4.2&lt;/version&gt; // replace appropriate  version , 3.0.0 or else later is ok\r\n      &lt;/dependency&gt;\r\n```\r\nyou can find major class at following package path (may different from other spring boot version )\r\n```\r\norg.springframework.web.servlet.mvc.method.annotation.SseEmitter\r\n```","title":"How to send multiple time response from one endpoint in Java springboot?","body":"<h3>Summary</h3>\n<p>send multiple via same end point , it is not <code>REST API</code>  scenario. In general , we often use Long connection to handle this scenario , there many tech to choose  like websocket , tcp protocol , socket , but all of them are too heavy , just send a mejssage to specified host may  configure so much .</p>\n<h3>Solution</h3>\n<p>In a nutshell ,  there is  <a href=\"https://www.w3.org/TR/eventsource/\" rel=\"nofollow noreferrer\">Server-Sent Events</a> could easy solve your problem ,  i would demonstrae bacic demo for this tech  in spring ， also you can read <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc/mvc-ann-async.html#mvc-ann-async-sse\" rel=\"nofollow noreferrer\">offical spring sse doc</a></p>\n<h4>1. set up endpoint in spring</h4>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.servlet.mvc.method.annotation.SseEmitter;\n\nimport java.io.IOException;\n\n@RestController\n@RequestMapping(&quot;/sse&quot;)\npublic class SseController {\n\n    @GetMapping(&quot;/events&quot;)\n    public SseEmitter handleSse() {\n        SseEmitter emitter = new SseEmitter();\n\n        // Asynchronous processing to send events\n        new Thread(() -&gt; {\n            try {\n                for (int i = 0; i &lt; 10; i++) {\n                    // Send events every 1 second\n                    emitter.send(SseEmitter.event().name(&quot;message&quot;).data(&quot;Event &quot; + i));\n\n                    Thread.sleep(1000);\n                }\n                // Signal the end of the event stream\n                emitter.complete();\n            } catch (IOException | InterruptedException e) {\n                emitter.completeWithError(e);\n            }\n        }).start();\n\n        return emitter;\n    }\n}\n\n\n</code></pre>\n<h4>connect endpoint by client side</h4>\n<pre class=\"lang-html prettyprint-override\"><code>\n&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;\n    &lt;title&gt;SSE Example&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;h1&gt;SSE Example&lt;/h1&gt;\n    &lt;div id=&quot;sse-events&quot;&gt;&lt;/div&gt;\n\n    &lt;script&gt;\n        const eventSource = new EventSource('/sse/events');\n\n        eventSource.onmessage = function (event) {\n            const eventsDiv = document.getElementById('sse-events');\n            eventsDiv.innerHTML += `&lt;p&gt;${event.data}&lt;/p&gt;`;\n        };\n\n        eventSource.onerror = function (error) {\n            console.error('EventSource failed:', error);\n            eventSource.close();\n        };\n    &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n<p>In this example, the /sse/events endpoint in the SseController returns an SseEmitter, and a separate thread is used to send events asynchronously. The JavaScript code on the client side uses the EventSource API to listen for events and update the HTML content.</p>\n<p>Remember to configure your Spring Boot application with appropriate dependencies, and you may need to handle exceptions and cleanup appropriately in a production scenario.</p>\n<h3>Appendix</h3>\n<pre><code>  &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt; // replace appropriate  version , 3.0.0 or else later is ok\n      &lt;/dependency&gt;\n</code></pre>\n<p>you can find major class at following package path (may different from other spring boot version )</p>\n<pre><code>org.springframework.web.servlet.mvc.method.annotation.SseEmitter\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701825230,"creation_date":1701825230,"answer_id":77610067,"question_id":77603658,"body_markdown":"To achieve real-time updates of test case statuses in a Spring Boot application, you&#39;ll need to use an asynchronous communication method. Traditional REST endpoints are synchronous and request-response based, meaning the client makes a request and waits for a response, which isn&#39;t suitable for your requirement. Here are some approaches you can consider:\r\n\r\n1. **WebSocket**: This is a good choice for real-time communication between the server and the client. Spring Boot supports WebSocket and it allows bi-directional communication. You can send a message to the client each time a test case completes.\r\n\r\n2. **Server-Sent Events (SSE)**: SSEs are a simpler alternative to WebSockets. They allow the server to push data to the client. It&#39;s a one-way communication from the server to the client. Spring has support for SSE through the `SseEmitter` class.\r\n\r\n3. **Long Polling**: This is another approach where the client makes a request to the server and the server holds the request open until it has new data to send back. It&#39;s less efficient than WebSockets or SSE but can be easier to implement in some cases.\r\n\r\n4. **Messaging Queues**: Using a message broker like RabbitMQ or Apache Kafka, you can publish messages (test case statuses) to a queue/topic, and the client can subscribe to these messages. This might be more complex to set up but is very powerful and scalable.\r\n\r\nImplementing any of these will require some changes on both the server side and the client side. Here&#39;s a general idea of how you can proceed:\r\n\r\n- Modify your endpoint to start the test cases asynchronously. You can use `@Async` annotation in Spring Boot to easily run methods asynchronously.\r\n- Choose a real-time communication method (WebSocket, SSE, etc.).\r\n- Implement the server-side logic to send updates after each test case completes.\r\n- Update your client-side application to handle these real-time updates.\r\n\r\nRemember, the exact implementation will depend on the specific technologies and architecture of your application.","title":"How to send multiple time response from one endpoint in Java springboot?","body":"<p>To achieve real-time updates of test case statuses in a Spring Boot application, you'll need to use an asynchronous communication method. Traditional REST endpoints are synchronous and request-response based, meaning the client makes a request and waits for a response, which isn't suitable for your requirement. Here are some approaches you can consider:</p>\n<ol>\n<li><p><strong>WebSocket</strong>: This is a good choice for real-time communication between the server and the client. Spring Boot supports WebSocket and it allows bi-directional communication. You can send a message to the client each time a test case completes.</p>\n</li>\n<li><p><strong>Server-Sent Events (SSE)</strong>: SSEs are a simpler alternative to WebSockets. They allow the server to push data to the client. It's a one-way communication from the server to the client. Spring has support for SSE through the <code>SseEmitter</code> class.</p>\n</li>\n<li><p><strong>Long Polling</strong>: This is another approach where the client makes a request to the server and the server holds the request open until it has new data to send back. It's less efficient than WebSockets or SSE but can be easier to implement in some cases.</p>\n</li>\n<li><p><strong>Messaging Queues</strong>: Using a message broker like RabbitMQ or Apache Kafka, you can publish messages (test case statuses) to a queue/topic, and the client can subscribe to these messages. This might be more complex to set up but is very powerful and scalable.</p>\n</li>\n</ol>\n<p>Implementing any of these will require some changes on both the server side and the client side. Here's a general idea of how you can proceed:</p>\n<ul>\n<li>Modify your endpoint to start the test cases asynchronously. You can use <code>@Async</code> annotation in Spring Boot to easily run methods asynchronously.</li>\n<li>Choose a real-time communication method (WebSocket, SSE, etc.).</li>\n<li>Implement the server-side logic to send updates after each test case completes.</li>\n<li>Update your client-side application to handle these real-time updates.</li>\n</ul>\n<p>Remember, the exact implementation will depend on the specific technologies and architecture of your application.</p>\n"}],"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77604709,"answer_count":2,"score":3,"last_activity_date":1701825230,"creation_date":1701746621,"question_id":77603658,"body_markdown":"Scenario:  \r\nI have 30 testcases for end-to-end process flow that includes (scheduler, producer and consumer). So, I&#39;m automating the 30 testcase in java springmvc web application. I have created an endpoint which is to start testing, then it will run 30 testcase one after other in order, I have created 30 methods for each testcase, each test case approx takes 5 min to complete because (have to execute scheduler, producer and consumer). so, after one test case is complete, I want to show in UI the status and message, I don&#39;t want to wait till all the 30 testcase completion then show status of all testcase. How to achieve this using rest endpoint?","title":"How to send multiple time response from one endpoint in Java springboot?","body":"<p>Scenario:<br />\nI have 30 testcases for end-to-end process flow that includes (scheduler, producer and consumer). So, I'm automating the 30 testcase in java springmvc web application. I have created an endpoint which is to start testing, then it will run 30 testcase one after other in order, I have created 30 methods for each testcase, each test case approx takes 5 min to complete because (have to execute scheduler, producer and consumer). so, after one test case is complete, I want to show in UI the status and message, I don't want to wait till all the 30 testcase completion then show status of all testcase. How to achieve this using rest endpoint?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":12493684,"reputation":188,"user_id":9094429,"display_name":"Ahmad Qureshi"},"score":0,"creation_date":1702002338,"post_id":77609648,"comment_id":136847383,"body_markdown":"Works well, Thanks","body":"Works well, Thanks"}],"tags":[],"owner":{"account_id":9265428,"reputation":24,"user_id":10551815,"display_name":"Loibologic"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701816494,"creation_date":1701816494,"answer_id":77609648,"question_id":77608905,"body_markdown":"With Spring Data, you would typically use a `Repository Interface` and do the encryption using an `AttributeConverter`.\r\n\r\nHere&#39;s an `AttributeConverter` [example by sultanov.dev][1]: \r\n\r\n```java\r\n@Component\r\npublic class AttributeEncryptor implements AttributeConverter&lt;String, String&gt; {\r\n\r\n    private static final String AES = &quot;AES&quot;;\r\n    private static final String SECRET = &quot;secret-key-12345&quot;;\r\n\r\n    private final Key key;\r\n    private final Cipher cipher;\r\n\r\n    public AttributeEncryptor() throws Exception {\r\n        key = new SecretKeySpec(SECRET.getBytes(), AES);\r\n        cipher = Cipher.getInstance(AES);\r\n    }\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(String attribute) {\r\n        try {\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n            return Base64.getEncoder().encodeToString(cipher.doFinal(attribute.getBytes()));\r\n        } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public String convertToEntityAttribute(String dbData) {\r\n        try {\r\n            cipher.init(Cipher.DECRYPT_MODE, key);\r\n            return new String(cipher.doFinal(Base64.getDecoder().decode(dbData)));\r\n        } catch (InvalidKeyException | BadPaddingException | IllegalBlockSizeException e) {\r\n            throw new IllegalStateException(e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe entity `User` would then only contain the fundamental data fields and getter/setter methods (Lombok for brevity) and a `@Convert` annotation for the username.\r\n\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\npublic class User {\r\n    @Id\r\n    private Long id;\r\n\r\n    @Convert(converter = AttributeEncryptor.class)\r\n    private String username;\r\n\r\n    private int age;\r\n}\r\n```\r\n\r\nThe `@Column` annotation is used when an attribute in the entity is drawn from the secondary table, with a table attribute identifying the appropriate table. I&#39;m not sure what you were trying to achieve marking the getter methods as columns.\r\n\r\nAccess to stored objects is commonly achieved using one of Sping Data&#39;s Repository Interfaces, e.g. `JpaRepository`.\r\n\r\n```java\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\t\r\n}\r\n```\r\n\r\nIn your Service Layer, you should then be able to work with data from repository with encryption being handled automatically.\r\n```java\r\n@Service\r\npublic class UserService {\r\n\t@Autowired\r\n\tprivate UserRepository repository;\r\n\r\n    @Transactional(readOnly = true)\r\n\tpublic User loadUser(Long id) {\r\n        return repository.findById(id).orElse(null);;\t\r\n\t}\r\n\r\n    @Transactional\t\r\n\tpublic User save(User user) {\r\n\t\treturn repository.save(user);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n  [1]: https://sultanov.dev/blog/database-column-level-encryption-with-spring-data-jpa/","title":"Save manipulated data with hibernate","body":"<p>With Spring Data, you would typically use a <code>Repository Interface</code> and do the encryption using an <code>AttributeConverter</code>.</p>\n<p>Here's an <code>AttributeConverter</code> <a href=\"https://sultanov.dev/blog/database-column-level-encryption-with-spring-data-jpa/\" rel=\"nofollow noreferrer\">example by sultanov.dev</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class AttributeEncryptor implements AttributeConverter&lt;String, String&gt; {\n\n    private static final String AES = &quot;AES&quot;;\n    private static final String SECRET = &quot;secret-key-12345&quot;;\n\n    private final Key key;\n    private final Cipher cipher;\n\n    public AttributeEncryptor() throws Exception {\n        key = new SecretKeySpec(SECRET.getBytes(), AES);\n        cipher = Cipher.getInstance(AES);\n    }\n\n    @Override\n    public String convertToDatabaseColumn(String attribute) {\n        try {\n            cipher.init(Cipher.ENCRYPT_MODE, key);\n            return Base64.getEncoder().encodeToString(cipher.doFinal(attribute.getBytes()));\n        } catch (IllegalBlockSizeException | BadPaddingException | InvalidKeyException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n\n    @Override\n    public String convertToEntityAttribute(String dbData) {\n        try {\n            cipher.init(Cipher.DECRYPT_MODE, key);\n            return new String(cipher.doFinal(Base64.getDecoder().decode(dbData)));\n        } catch (InvalidKeyException | BadPaddingException | IllegalBlockSizeException e) {\n            throw new IllegalStateException(e);\n        }\n    }\n}\n\n</code></pre>\n<p>The entity <code>User</code> would then only contain the fundamental data fields and getter/setter methods (Lombok for brevity) and a <code>@Convert</code> annotation for the username.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\npublic class User {\n    @Id\n    private Long id;\n\n    @Convert(converter = AttributeEncryptor.class)\n    private String username;\n\n    private int age;\n}\n</code></pre>\n<p>The <code>@Column</code> annotation is used when an attribute in the entity is drawn from the secondary table, with a table attribute identifying the appropriate table. I'm not sure what you were trying to achieve marking the getter methods as columns.</p>\n<p>Access to stored objects is commonly achieved using one of Sping Data's Repository Interfaces, e.g. <code>JpaRepository</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    \n}\n</code></pre>\n<p>In your Service Layer, you should then be able to work with data from repository with encryption being handled automatically.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class UserService {\n    @Autowired\n    private UserRepository repository;\n\n    @Transactional(readOnly = true)\n    public User loadUser(Long id) {\n        return repository.findById(id).orElse(null);;   \n    }\n\n    @Transactional  \n    public User save(User user) {\n        return repository.save(user);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12493684,"reputation":188,"user_id":9094429,"display_name":"Ahmad Qureshi"},"score":1,"creation_date":1702002284,"post_id":77610060,"comment_id":136847379,"body_markdown":"Annotations were working very well with my use case but the only problem is when there is refresh fired and after @postload execution there is an additional update being fired as the data is manipulated","body":"Annotations were working very well with my use case but the only problem is when there is refresh fired and after @postload execution there is an additional update being fired as the data is manipulated"}],"tags":[],"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701825071,"creation_date":1701825071,"answer_id":77610060,"question_id":77608905,"body_markdown":"The issue you&#39;re facing is due to the way Hibernate interacts with entity getters and setters during the persisting and retrieving process. Hibernate uses getters and setters to access entity properties, which in your case leads to unintentional decryption and re-encryption.\r\n\r\nTo resolve this issue, you can follow these steps:\r\n\r\n1. **Separate Database and Domain Model**: Instead of directly encrypting and decrypting in the getter and setter of the `User` entity, you can introduce a separate domain model class. This class will represent the decrypted version of your data for use in the application logic.\r\n\r\n2. **Utilize @PrePersist and @PostLoad Annotations**: Use these annotations to handle encryption and decryption outside of the getters and setters. This ensures that the data is encrypted before being persisted and decrypted after being loaded from the database, without interfering with the standard getter/setter behavior.\r\n\r\n3. **Refactor Your Entity Class**:\r\n   - Keep the `username` as a plain string in the `User` entity.\r\n   - Use `@PrePersist` to encrypt the username just before persisting.\r\n   - Use `@PostLoad` to decrypt the username right after loading it from the database.\r\n\r\nHere&#39;s how you can refactor your `User` entity:\r\n\r\n```java\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\n@Table\r\nclass User {\r\n\r\n    @Column\r\n    private String username;\r\n    private int age;\r\n\r\n    // Standard getters and setters\r\n    public String getUsername(){\r\n        return this.username;\r\n    }\r\n\r\n    public void setUsername(String username){\r\n        this.username = username;\r\n    }\r\n\r\n    public int getAge(){\r\n        return this.age;\r\n    }\r\n\r\n    public void setAge(int age){\r\n        this.age = age;\r\n    }\r\n\r\n    @PrePersist\r\n    private void encryptFields() {\r\n        this.username = Commons.encrypt(this.username);\r\n    }\r\n\r\n    @PostLoad\r\n    private void decryptFields() {\r\n        this.username = Commons.decrypt(this.username);\r\n    }\r\n}\r\n```\r\n\r\nIn this approach:\r\n- The `@PrePersist` method `encryptFields` is called before the entity manager persists the entity, ensuring that the `username` is encrypted in the database.\r\n- The `@PostLoad` method `decryptFields` is called after the entity is loaded from the database, decrypting the `username` for use in your application.\r\n\r\nThis way, the standard getters and setters remain unaffected, and encryption/decryption is handled transparently during the persistence and retrieval phases. This strategy should meet your requirement of encrypting data for storage while still being able to use decrypted data in your code.","title":"Save manipulated data with hibernate","body":"<p>The issue you're facing is due to the way Hibernate interacts with entity getters and setters during the persisting and retrieving process. Hibernate uses getters and setters to access entity properties, which in your case leads to unintentional decryption and re-encryption.</p>\n<p>To resolve this issue, you can follow these steps:</p>\n<ol>\n<li><p><strong>Separate Database and Domain Model</strong>: Instead of directly encrypting and decrypting in the getter and setter of the <code>User</code> entity, you can introduce a separate domain model class. This class will represent the decrypted version of your data for use in the application logic.</p>\n</li>\n<li><p><strong>Utilize @PrePersist and @PostLoad Annotations</strong>: Use these annotations to handle encryption and decryption outside of the getters and setters. This ensures that the data is encrypted before being persisted and decrypted after being loaded from the database, without interfering with the standard getter/setter behavior.</p>\n</li>\n<li><p><strong>Refactor Your Entity Class</strong>:</p>\n<ul>\n<li>Keep the <code>username</code> as a plain string in the <code>User</code> entity.</li>\n<li>Use <code>@PrePersist</code> to encrypt the username just before persisting.</li>\n<li>Use <code>@PostLoad</code> to decrypt the username right after loading it from the database.</li>\n</ul>\n</li>\n</ol>\n<p>Here's how you can refactor your <code>User</code> entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.*;\n\n@Entity\n@Table\nclass User {\n\n    @Column\n    private String username;\n    private int age;\n\n    // Standard getters and setters\n    public String getUsername(){\n        return this.username;\n    }\n\n    public void setUsername(String username){\n        this.username = username;\n    }\n\n    public int getAge(){\n        return this.age;\n    }\n\n    public void setAge(int age){\n        this.age = age;\n    }\n\n    @PrePersist\n    private void encryptFields() {\n        this.username = Commons.encrypt(this.username);\n    }\n\n    @PostLoad\n    private void decryptFields() {\n        this.username = Commons.decrypt(this.username);\n    }\n}\n</code></pre>\n<p>In this approach:</p>\n<ul>\n<li>The <code>@PrePersist</code> method <code>encryptFields</code> is called before the entity manager persists the entity, ensuring that the <code>username</code> is encrypted in the database.</li>\n<li>The <code>@PostLoad</code> method <code>decryptFields</code> is called after the entity is loaded from the database, decrypting the <code>username</code> for use in your application.</li>\n</ul>\n<p>This way, the standard getters and setters remain unaffected, and encryption/decryption is handled transparently during the persistence and retrieval phases. This strategy should meet your requirement of encrypting data for storage while still being able to use decrypted data in your code.</p>\n"}],"owner":{"account_id":12493684,"reputation":188,"user_id":9094429,"display_name":"Ahmad Qureshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77609648,"answer_count":2,"score":0,"last_activity_date":1701825071,"creation_date":1701805820,"question_id":77608905,"body_markdown":"I am trying to save user details into User table but with some columns having encrypted data, But I still want to use them after decrypting into the code. \r\nExample: User Details has username, I am encrypting and storing them in the table. But I want to use username after decrypting it.\r\n\r\nTo achieve this I added code to encrypt the username in setter of the bean and to use the value a code to decrypt the value is added in the getter, as below\r\n\r\n```\r\n@Table\r\n@Entity\r\nclass User {\r\n\r\nprivate String username;\r\nprivate int age;\r\n\r\n@Column\r\npublic String getUsername(){\r\n return Commons.decrypt(this.username);\r\n}\r\n\r\n@Column\r\npublic int getAge(){\r\n return this.age;\r\n}\r\n\r\npublic void setUsername(String username){\r\n this.username = Commons.encrypt(username);\r\n}\r\n\r\npublic void setAge(int age){}\r\n this.age = age;\r\n}\r\n```\r\n\r\nAnd while saving the value in the User table, I am using `persist` method of `javax.persistence.EntityManager` class, code looks something like below\r\n\r\n```\r\nUserDetails user = new UserDetails();\r\nuser.setUsername(&quot;User 1&quot;);\r\nuser.setAge(31);\r\nentityManager.persist();\r\n```\r\n\r\nI am expecting the code to perform as below\r\n\r\n 1. When username is set through `setter`, it should encrypt the value\r\n 2. When `persist` method is called encrypted value must be save in the DB\r\n 3. When data is fetched from database it should have encrypted username value\r\n 4. Upon calling `getter` method it should decrypt and return decrypted username\r\n\r\nBut the problem is as soon as I call the `persist` method `hibernate` internally calls `getter` and `setter` methods n number of times which finally results in saving a decrypted value i.e `User 1` instead of `eytsnkcjsdvnfsnvkscd=` in the database, Hence when I try to get data from DB a decrypted value is returned and `Commons.decrypt(this.username)` in `getter` fails.\r\n\r\nHow to achieve the above expectations through a common code strategy, I was trying in getter and setter because most of the code is already is written and is using it. Making the change in single place i.e getter and setter will automatically enable security\r\n","title":"Save manipulated data with hibernate","body":"<p>I am trying to save user details into User table but with some columns having encrypted data, But I still want to use them after decrypting into the code.\nExample: User Details has username, I am encrypting and storing them in the table. But I want to use username after decrypting it.</p>\n<p>To achieve this I added code to encrypt the username in setter of the bean and to use the value a code to decrypt the value is added in the getter, as below</p>\n<pre><code>@Table\n@Entity\nclass User {\n\nprivate String username;\nprivate int age;\n\n@Column\npublic String getUsername(){\n return Commons.decrypt(this.username);\n}\n\n@Column\npublic int getAge(){\n return this.age;\n}\n\npublic void setUsername(String username){\n this.username = Commons.encrypt(username);\n}\n\npublic void setAge(int age){}\n this.age = age;\n}\n</code></pre>\n<p>And while saving the value in the User table, I am using <code>persist</code> method of <code>javax.persistence.EntityManager</code> class, code looks something like below</p>\n<pre><code>UserDetails user = new UserDetails();\nuser.setUsername(&quot;User 1&quot;);\nuser.setAge(31);\nentityManager.persist();\n</code></pre>\n<p>I am expecting the code to perform as below</p>\n<ol>\n<li>When username is set through <code>setter</code>, it should encrypt the value</li>\n<li>When <code>persist</code> method is called encrypted value must be save in the DB</li>\n<li>When data is fetched from database it should have encrypted username value</li>\n<li>Upon calling <code>getter</code> method it should decrypt and return decrypted username</li>\n</ol>\n<p>But the problem is as soon as I call the <code>persist</code> method <code>hibernate</code> internally calls <code>getter</code> and <code>setter</code> methods n number of times which finally results in saving a decrypted value i.e <code>User 1</code> instead of <code>eytsnkcjsdvnfsnvkscd=</code> in the database, Hence when I try to get data from DB a decrypted value is returned and <code>Commons.decrypt(this.username)</code> in <code>getter</code> fails.</p>\n<p>How to achieve the above expectations through a common code strategy, I was trying in getter and setter because most of the code is already is written and is using it. Making the change in single place i.e getter and setter will automatically enable security</p>\n"},{"tags":["java","spring","one-to-many"],"comments":[{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":1,"creation_date":1701815778,"post_id":77609553,"comment_id":136821709,"body_markdown":"`Choice` class data will be stored into a table, let&#39;s assume `choice` and as you mentioned `choiceId` as `@Id` it is a `primary key`, so it shouldn&#39;t have duplicate values","body":"<code>Choice</code> class data will be stored into a table, let&#39;s assume <code>choice</code> and as you mentioned <code>choiceId</code> as <code>@Id</code> it is a <code>primary key</code>, so it shouldn&#39;t have duplicate values"},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701816159,"post_id":77609553,"comment_id":136821764,"body_markdown":"if you want to have 1, 2, 3 ... for each new poll, you can introduced a **new** column into `choice` table and use that when saving the `poll` record","body":"if you want to have 1, 2, 3 ... for each new poll, you can introduced a <b>new</b> column into <code>choice</code> table and use that when saving the <code>poll</code> record"},{"owner":{"account_id":22357131,"reputation":23,"user_id":16574203,"display_name":"binarystrength"},"score":0,"creation_date":1701816611,"post_id":77609553,"comment_id":136821812,"body_markdown":"@kcsurapaneni What if I were to use &quot;choice_id&quot; and &quot;poll_id_fk&quot; as a composite primary key?","body":"@kcsurapaneni What if I were to use &quot;choice_id&quot; and &quot;poll_id_fk&quot; as a composite primary key?"},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701817098,"post_id":77609553,"comment_id":136821875,"body_markdown":"in `choice` table? yeah, you can do that, but remember you have to update `Choice` entity accordingly and I&#39;m not sure about auto generating one of the key in case of composite primary key","body":"in <code>choice</code> table? yeah, you can do that, but remember you have to update <code>Choice</code> entity accordingly and I&#39;m not sure about auto generating one of the key in case of composite primary key"}],"answers":[{"tags":[],"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701816729,"creation_date":1701816729,"answer_id":77609665,"question_id":77609553,"body_markdown":"The relation data bases just works this way. The Id must be unique for every record to distingt them. However if want to store collection with relation only to your poll you can try this way of setting field.\r\n\r\n    @Lob\r\n    @Column\r\n    private List&lt;Choice&gt; choices = new ArrayList&lt;&gt;();\r\n\r\nNo need to make class Choise an Entity and no need to have Id at all, since you have indexed collection. ","title":"One to many relationship and ID generation","body":"<p>The relation data bases just works this way. The Id must be unique for every record to distingt them. However if want to store collection with relation only to your poll you can try this way of setting field.</p>\n<pre><code>@Lob\n@Column\nprivate List&lt;Choice&gt; choices = new ArrayList&lt;&gt;();\n</code></pre>\n<p>No need to make class Choise an Entity and no need to have Id at all, since you have indexed collection.</p>\n"},{"comments":[{"owner":{"account_id":22357131,"reputation":23,"user_id":16574203,"display_name":"binarystrength"},"score":1,"creation_date":1701829488,"post_id":77610052,"comment_id":136822995,"body_markdown":"Thank you. Ultimately, I went with a mix of 2. and 5. I used @IdClass annotation instead.","body":"Thank you. Ultimately, I went with a mix of 2. and 5. I used @IdClass annotation instead."}],"tags":[],"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701824933,"creation_date":1701824933,"answer_id":77610052,"question_id":77609553,"body_markdown":"To achieve the behavior you&#39;re looking for – where `choiceId` resets for each new `Poll` – you will need to make some changes to your current implementation. The primary issue is that `@GeneratedValue(strategy = GenerationType.AUTO)` in your `Choice` class generates a unique identifier for every `Choice` entity across all `Poll` entities, resulting in incrementing IDs across different polls.\r\n\r\nHere are a few approaches you might consider:\r\n\r\n### 1. Manual ID Management\r\nYou could manually manage the `choiceId` instead of using `@GeneratedValue`. This approach would require you to set the `choiceId` for each `Choice` relative to its `Poll` when creating or adding choices to a poll. However, this can get complex and error-prone, especially with concurrent transactions.\r\n\r\n### 2. Composite Key\r\nConsider using a composite key that includes both the `pollId` and an additional identifier for each choice. This way, the `choiceId` could be unique only within the scope of each `Poll`. The composite key can be implemented using `@Embeddable` or `@EmbeddedId` in JPA.\r\n\r\nExample of a composite key class:\r\n```java\r\n@Embeddable\r\npublic class ChoiceId implements Serializable {\r\n    private String pollId;\r\n    private Long choiceNumber; // This resets for each Poll\r\n\r\n    // getters, setters, hashCode, equals\r\n}\r\n```\r\nIn your `Choice` class, you would use `ChoiceId` as the primary key.\r\n\r\n### 3. Database-Level Solution\r\nIf your database supports it, you could use a database-specific feature that allows for resetting sequence numbers based on a condition (like the creation of a new `Poll`). This is database-specific and might not be portable across different database systems.\r\n\r\n### 4. Using a Counter in Poll\r\nAdd a counter in the `Poll` entity that keeps track of the number of choices. Each time a new choice is added, increment this counter and use it as the `choiceId`. This ensures that `choiceId` is unique per poll but resets for each new poll.\r\n\r\n### 5. Business Logic Layer\r\nHandle the `choiceId` generation in your service layer or business logic layer, where you have more control over the ID generation logic. This would involve calculating the next `choiceId` based on the existing choices of a particular poll.\r\n\r\n### Choosing the Right Approach\r\nEach of these approaches has its trade-offs in terms of complexity, ease of implementation, and maintainability. The best approach depends on your specific requirements and the environment in which your application operates. \r\n\r\nFor instance, if you want to keep things simple and avoid modifying the database schema, manual ID management or handling it at the business logic layer could be the way to go. On the other hand, if you need a more robust solution that scales well, considering a composite key or a database-level solution might be more appropriate.","title":"One to many relationship and ID generation","body":"<p>To achieve the behavior you're looking for – where <code>choiceId</code> resets for each new <code>Poll</code> – you will need to make some changes to your current implementation. The primary issue is that <code>@GeneratedValue(strategy = GenerationType.AUTO)</code> in your <code>Choice</code> class generates a unique identifier for every <code>Choice</code> entity across all <code>Poll</code> entities, resulting in incrementing IDs across different polls.</p>\n<p>Here are a few approaches you might consider:</p>\n<h3>1. Manual ID Management</h3>\n<p>You could manually manage the <code>choiceId</code> instead of using <code>@GeneratedValue</code>. This approach would require you to set the <code>choiceId</code> for each <code>Choice</code> relative to its <code>Poll</code> when creating or adding choices to a poll. However, this can get complex and error-prone, especially with concurrent transactions.</p>\n<h3>2. Composite Key</h3>\n<p>Consider using a composite key that includes both the <code>pollId</code> and an additional identifier for each choice. This way, the <code>choiceId</code> could be unique only within the scope of each <code>Poll</code>. The composite key can be implemented using <code>@Embeddable</code> or <code>@EmbeddedId</code> in JPA.</p>\n<p>Example of a composite key class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class ChoiceId implements Serializable {\n    private String pollId;\n    private Long choiceNumber; // This resets for each Poll\n\n    // getters, setters, hashCode, equals\n}\n</code></pre>\n<p>In your <code>Choice</code> class, you would use <code>ChoiceId</code> as the primary key.</p>\n<h3>3. Database-Level Solution</h3>\n<p>If your database supports it, you could use a database-specific feature that allows for resetting sequence numbers based on a condition (like the creation of a new <code>Poll</code>). This is database-specific and might not be portable across different database systems.</p>\n<h3>4. Using a Counter in Poll</h3>\n<p>Add a counter in the <code>Poll</code> entity that keeps track of the number of choices. Each time a new choice is added, increment this counter and use it as the <code>choiceId</code>. This ensures that <code>choiceId</code> is unique per poll but resets for each new poll.</p>\n<h3>5. Business Logic Layer</h3>\n<p>Handle the <code>choiceId</code> generation in your service layer or business logic layer, where you have more control over the ID generation logic. This would involve calculating the next <code>choiceId</code> based on the existing choices of a particular poll.</p>\n<h3>Choosing the Right Approach</h3>\n<p>Each of these approaches has its trade-offs in terms of complexity, ease of implementation, and maintainability. The best approach depends on your specific requirements and the environment in which your application operates.</p>\n<p>For instance, if you want to keep things simple and avoid modifying the database schema, manual ID management or handling it at the business logic layer could be the way to go. On the other hand, if you need a more robust solution that scales well, considering a composite key or a database-level solution might be more appropriate.</p>\n"}],"owner":{"account_id":22357131,"reputation":23,"user_id":16574203,"display_name":"binarystrength"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77610052,"answer_count":2,"score":2,"last_activity_date":1701824933,"creation_date":1701814888,"question_id":77609553,"body_markdown":"I have two classes.\r\n\r\nPoll.java\r\n```\r\npublic class Poll {\r\n    @Id\r\n    @Column(name = &quot;poll_id&quot;)\r\n    String pollId;\r\n    String question;\r\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\r\n    String endDateTime;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\r\n    @JoinColumn(name = &quot;poll_id_fk&quot;, referencedColumnName = &quot;poll_id&quot;)\r\n    List&lt;Choice&gt; choices;\r\n}\r\n\r\n```\r\nand\r\n\r\nChoice.java\r\n```\r\npublic class Choice {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;choice_id&quot;)\r\n    Long choiceId;\r\n    String text;\r\n    Integer votes;\r\n}\r\n```\r\n\r\nWhen I create new polls, the choice_id increments from the last previously created choice_id&#39;s number. How can I make choice_id reset its value when a new poll is created?\r\n\r\n\r\nI tried changing the strategy GenerationType, but that does not seem to affect anything. I am expecting a result like this:\r\n\r\n```\r\n[\r\n    {\r\n        &quot;pollId&quot;: &quot;MvWRj&quot;,\r\n        &quot;question&quot;: &quot;poll 2?&quot;,\r\n        &quot;endDateTime&quot;: &quot;2023-07-09 19:50&quot;,\r\n        &quot;choices&quot;: [\r\n            {\r\n                **&quot;choiceId&quot;: 1,**\r\n                &quot;text&quot;: &quot;choice 1&quot;,\r\n                &quot;votes&quot;: 1\r\n            },\r\n            {\r\n                **&quot;choiceId&quot;: 2,**\r\n                &quot;text&quot;: &quot;choice 2&quot;,\r\n                &quot;votes&quot;: 0\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;pollId&quot;: &quot;V838D&quot;,\r\n        &quot;question&quot;: &quot;poll 1?&quot;,\r\n        &quot;endDateTime&quot;: &quot;2023-07-09 19:50&quot;,\r\n        &quot;choices&quot;: [\r\n            {\r\n                **&quot;choiceId&quot;: 1,**\r\n                &quot;text&quot;: &quot;choice 1&quot;,\r\n                &quot;votes&quot;: 1\r\n            },\r\n            {\r\n                **&quot;choiceId&quot;: 2,**\r\n                &quot;text&quot;: &quot;choice 2&quot;,\r\n                &quot;votes&quot;: 0\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\nwhereas I get the result like:\r\n```\r\n[\r\n    {\r\n        &quot;pollId&quot;: &quot;MvWRj&quot;,\r\n        &quot;question&quot;: &quot;poll 2?&quot;,\r\n        &quot;endDateTime&quot;: &quot;2023-07-09 19:50&quot;,\r\n        &quot;choices&quot;: [\r\n            {\r\n                **&quot;choiceId&quot;: 3,**\r\n                &quot;text&quot;: &quot;choice 1&quot;,\r\n                &quot;votes&quot;: 1\r\n            },\r\n            {\r\n                **&quot;choiceId&quot;: 4,**\r\n                &quot;text&quot;: &quot;choice 2&quot;,\r\n                &quot;votes&quot;: 0\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        &quot;pollId&quot;: &quot;V838D&quot;,\r\n        &quot;question&quot;: &quot;poll 1?&quot;,\r\n        &quot;endDateTime&quot;: &quot;2023-07-09 19:50&quot;,\r\n        &quot;choices&quot;: [\r\n            {\r\n                **&quot;choiceId&quot;: 1,**\r\n                &quot;text&quot;: &quot;choice 1&quot;,\r\n                &quot;votes&quot;: 1\r\n            },\r\n            {\r\n                **&quot;choiceId&quot;: 2,**\r\n                &quot;text&quot;: &quot;choice 2&quot;,\r\n                &quot;votes&quot;: 0\r\n            }\r\n        ]\r\n    }\r\n]\r\n```\r\n\r\n","title":"One to many relationship and ID generation","body":"<p>I have two classes.</p>\n<p>Poll.java</p>\n<pre><code>public class Poll {\n    @Id\n    @Column(name = &quot;poll_id&quot;)\n    String pollId;\n    String question;\n    @DateTimeFormat(pattern = &quot;yyyy-MM-dd HH:mm&quot;)\n    String endDateTime;\n\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true)\n    @JoinColumn(name = &quot;poll_id_fk&quot;, referencedColumnName = &quot;poll_id&quot;)\n    List&lt;Choice&gt; choices;\n}\n\n</code></pre>\n<p>and</p>\n<p>Choice.java</p>\n<pre><code>public class Choice {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;choice_id&quot;)\n    Long choiceId;\n    String text;\n    Integer votes;\n}\n</code></pre>\n<p>When I create new polls, the choice_id increments from the last previously created choice_id's number. How can I make choice_id reset its value when a new poll is created?</p>\n<p>I tried changing the strategy GenerationType, but that does not seem to affect anything. I am expecting a result like this:</p>\n<pre><code>[\n    {\n        &quot;pollId&quot;: &quot;MvWRj&quot;,\n        &quot;question&quot;: &quot;poll 2?&quot;,\n        &quot;endDateTime&quot;: &quot;2023-07-09 19:50&quot;,\n        &quot;choices&quot;: [\n            {\n                **&quot;choiceId&quot;: 1,**\n                &quot;text&quot;: &quot;choice 1&quot;,\n                &quot;votes&quot;: 1\n            },\n            {\n                **&quot;choiceId&quot;: 2,**\n                &quot;text&quot;: &quot;choice 2&quot;,\n                &quot;votes&quot;: 0\n            }\n        ]\n    },\n    {\n        &quot;pollId&quot;: &quot;V838D&quot;,\n        &quot;question&quot;: &quot;poll 1?&quot;,\n        &quot;endDateTime&quot;: &quot;2023-07-09 19:50&quot;,\n        &quot;choices&quot;: [\n            {\n                **&quot;choiceId&quot;: 1,**\n                &quot;text&quot;: &quot;choice 1&quot;,\n                &quot;votes&quot;: 1\n            },\n            {\n                **&quot;choiceId&quot;: 2,**\n                &quot;text&quot;: &quot;choice 2&quot;,\n                &quot;votes&quot;: 0\n            }\n        ]\n    }\n]\n</code></pre>\n<p>whereas I get the result like:</p>\n<pre><code>[\n    {\n        &quot;pollId&quot;: &quot;MvWRj&quot;,\n        &quot;question&quot;: &quot;poll 2?&quot;,\n        &quot;endDateTime&quot;: &quot;2023-07-09 19:50&quot;,\n        &quot;choices&quot;: [\n            {\n                **&quot;choiceId&quot;: 3,**\n                &quot;text&quot;: &quot;choice 1&quot;,\n                &quot;votes&quot;: 1\n            },\n            {\n                **&quot;choiceId&quot;: 4,**\n                &quot;text&quot;: &quot;choice 2&quot;,\n                &quot;votes&quot;: 0\n            }\n        ]\n    },\n    {\n        &quot;pollId&quot;: &quot;V838D&quot;,\n        &quot;question&quot;: &quot;poll 1?&quot;,\n        &quot;endDateTime&quot;: &quot;2023-07-09 19:50&quot;,\n        &quot;choices&quot;: [\n            {\n                **&quot;choiceId&quot;: 1,**\n                &quot;text&quot;: &quot;choice 1&quot;,\n                &quot;votes&quot;: 1\n            },\n            {\n                **&quot;choiceId&quot;: 2,**\n                &quot;text&quot;: &quot;choice 2&quot;,\n                &quot;votes&quot;: 0\n            }\n        ]\n    }\n]\n</code></pre>\n"},{"tags":["java","while-loop"],"answers":[{"comments":[{"owner":{"account_id":6272657,"reputation":3,"user_id":4876406,"display_name":"Eric Irwin"},"score":0,"creation_date":1431028699,"post_id":30110115,"comment_id":48331908,"body_markdown":"I get an error, can&#39;t find symbol using `int bestGame = Integer.Max_INT;`","body":"I get an error, can&#39;t find symbol using <code>int bestGame = Integer.Max_INT;</code>"},{"owner":{"account_id":3392345,"reputation":10946,"user_id":2846923,"accept_rate":100,"display_name":"The Guy with The Hat"},"score":0,"creation_date":1431028810,"post_id":30110115,"comment_id":48331968,"body_markdown":"This answer turned up in the low quality review queue, presumably because you didn&#39;t explain the code. If you do explain it (in your answer), you are far more likely to get more upvotes—and the questioner is more likely to learn something!","body":"This answer turned up in the low quality review queue, presumably because you didn&#39;t explain the code. If you do explain it (in your answer), you are far more likely to get more upvotes—and the questioner is more likely to learn something!"},{"owner":{"account_id":6272657,"reputation":3,"user_id":4876406,"display_name":"Eric Irwin"},"score":0,"creation_date":1431029758,"post_id":30110115,"comment_id":48332504,"body_markdown":"Thank you so much! This was killing me last night I appreciate the quick responses!","body":"Thank you so much! This was killing me last night I appreciate the quick responses!"}],"tags":[],"owner":{"account_id":471510,"reputation":695,"user_id":879359,"accept_rate":100,"display_name":"miki"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431029123,"creation_date":1431027241,"answer_id":30110115,"question_id":30110000,"body_markdown":"Keep track of the best score, which is the lowest number of guesses.\r\n\r\n    int bestGame = Integer.MAX_VALUE; // at the top\r\n    bestGame = Math.min(bestGame, numberOfTries); // at the end of your inner while loop\r\n\r\nThe worst possible score is the highest number of guesses, which is limited by Integer.MAX_VALUE, so you start there.","title":"Calculating Overall Best Game in Guessing Game","body":"<p>Keep track of the best score, which is the lowest number of guesses.</p>\n\n<pre><code>int bestGame = Integer.MAX_VALUE; // at the top\nbestGame = Math.min(bestGame, numberOfTries); // at the end of your inner while loop\n</code></pre>\n\n<p>The worst possible score is the highest number of guesses, which is limited by Integer.MAX_VALUE, so you start there.</p>\n"},{"comments":[{"owner":{"account_id":4728704,"reputation":17032,"user_id":3824919,"display_name":"Tom"},"score":1,"creation_date":1431028496,"post_id":30110162,"comment_id":48331786,"body_markdown":"When can `numberOfGuesses` be smaller than `bestGame` if you initialize it with **0**? :P","body":"When can <code>numberOfGuesses</code> be smaller than <code>bestGame</code> if you initialize it with <b>0</b>? :P"}],"tags":[],"owner":{"account_id":1142837,"reputation":13542,"user_id":1126273,"accept_rate":81,"display_name":"Bal&#225;zs &#201;des"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431060390,"creation_date":1431027407,"answer_id":30110162,"question_id":30110000,"body_markdown":"To fit into the code you have already written, You could\r\n\r\n 1. Create a new &#39;global&#39; variable, for example `int bestGame = Integer.MAX_VALUE;`.\r\n 2. Whenever the user is done with a game do a check if the current `numberOfGuesses` is smaller than the current `bestGame`, and if it is, then overwrite `bestGame` with the current `numberOfGuesses`. \r\n 3. At the end, you simply need to output `bestGame`.\r\n\r\n","title":"Calculating Overall Best Game in Guessing Game","body":"<p>To fit into the code you have already written, You could</p>\n\n<ol>\n<li>Create a new 'global' variable, for example <code>int bestGame = Integer.MAX_VALUE;</code>.</li>\n<li>Whenever the user is done with a game do a check if the current <code>numberOfGuesses</code> is smaller than the current <code>bestGame</code>, and if it is, then overwrite <code>bestGame</code> with the current <code>numberOfGuesses</code>. </li>\n<li>At the end, you simply need to output <code>bestGame</code>.</li>\n</ol>\n"},{"tags":[],"owner":{"display_name":"user3915483"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431027479,"creation_date":1431027479,"answer_id":30110185,"question_id":30110000,"body_markdown":"In order to get the best game you need a keep track of the best best after each game, such as a variable that checks it there is a new best game after each game. ","title":"Calculating Overall Best Game in Guessing Game","body":"<p>In order to get the best game you need a keep track of the best best after each game, such as a variable that checks it there is a new best game after each game. </p>\n"},{"comments":[{"owner":{"account_id":6272657,"reputation":3,"user_id":4876406,"display_name":"Eric Irwin"},"score":0,"creation_date":1431035978,"post_id":30111271,"comment_id":48335710,"body_markdown":"actually no that&#39;s more complicated than what I was trying to do. I was simply trying to get it to print your best score under the Best Game category. So whatever game had the lowest amount of guesses that would be the &quot;Best game&quot; and it would print however many guesses that was. I figured it out but thank you for the help thats pretty useful for future reference.","body":"actually no that&#39;s more complicated than what I was trying to do. I was simply trying to get it to print your best score under the Best Game category. So whatever game had the lowest amount of guesses that would be the &quot;Best game&quot; and it would print however many guesses that was. I figured it out but thank you for the help thats pretty useful for future reference."}],"tags":[],"owner":{"account_id":4841436,"reputation":695,"user_id":3906361,"display_name":"aakansha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1431031373,"creation_date":1431031373,"answer_id":30111271,"question_id":30110000,"body_markdown":"By the best game u mean minimum number of tries needed to answer is the best game.\r\n\r\n\r\n      /* int mintries,bestgame,gamenumber=0;\r\n       bestgamenumber=0;mintreies=Integer.MAX_VALUE:*/\r\nAdd the above lines above your while(play)   \r\n   \r\n            gamenumber++;\r\n         /*if(mintries&gt;numberOfTries)\r\n            {\r\n               mintries=numberOfTries;//update mintries\r\n               betgame=gamenumber;\r\n            }*/\r\nAdd the if condition just before closing while(play).\r\nSo it will be like\r\n             \r\n\r\n             int mintries;\r\n             mintreies=Integer.MAX_VALUE:  \r\n             int gamenumber=0;\r\n              int bestgamenumber=0//if you want to print the which game is the   best game(!st,2nd,3rd..)    ;        \r\n             while(play)\r\n             { \r\n                 // do all your stuff\r\n                  gamenumber++;\r\n                  if(mintries&gt;numberOfTries)\r\n                  {\r\n                     mintries=numberOfTries;//update mintries\r\n                     bestgamenumber=gamenumber;\r\n                   } \r\n            }\r\n               }\r\n              System.out.println(&quot;Game number +bestgamenumber+&quot;was the best game with&quot;+ mintries+&quot;tries);\r\n             \r\nI am considering that you want to print which game (1st,2nd,3rd)is best and minimum tries made to guess the best game.Correct me if i am wrong.","title":"Calculating Overall Best Game in Guessing Game","body":"<p>By the best game u mean minimum number of tries needed to answer is the best game.</p>\n\n<pre><code>  /* int mintries,bestgame,gamenumber=0;\n   bestgamenumber=0;mintreies=Integer.MAX_VALUE:*/\n</code></pre>\n\n<p>Add the above lines above your while(play)   </p>\n\n<pre><code>        gamenumber++;\n     /*if(mintries&gt;numberOfTries)\n        {\n           mintries=numberOfTries;//update mintries\n           betgame=gamenumber;\n        }*/\n</code></pre>\n\n<p>Add the if condition just before closing while(play).\nSo it will be like</p>\n\n<pre><code>         int mintries;\n         mintreies=Integer.MAX_VALUE:  \n         int gamenumber=0;\n          int bestgamenumber=0//if you want to print the which game is the   best game(!st,2nd,3rd..)    ;        \n         while(play)\n         { \n             // do all your stuff\n              gamenumber++;\n              if(mintries&gt;numberOfTries)\n              {\n                 mintries=numberOfTries;//update mintries\n                 bestgamenumber=gamenumber;\n               } \n        }\n           }\n          System.out.println(\"Game number +bestgamenumber+\"was the best game with\"+ mintries+\"tries);\n</code></pre>\n\n<p>I am considering that you want to print which game (1st,2nd,3rd)is best and minimum tries made to guess the best game.Correct me if i am wrong.</p>\n"}],"owner":{"account_id":6272657,"reputation":3,"user_id":4876406,"display_name":"Eric Irwin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1712,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1701824418,"creation_date":1431026868,"question_id":30110000,"body_markdown":"SI wrote a java code for a numbers guessing game. The entire thing is pretty much done. It works by choosing a random number then asking the user for console inputs and then saying whether that is higher or lower than the random number. Once you guess it, it then asks if you want to play again. When you finally say no to this (be it one game or several) it prints out your Overall results including total games, total guesses, avg guesses/game and your best game. I have everything worked out except I cant figure out how to make it print your overall best game.\r\n\r\n    import java.util.*; //so I can use scanner\r\n    \r\n    public class GuessingGame {\r\n       public static void main(String[] args) {\r\n       \r\n          Random rand = new Random ();\r\n          int max = 100;\r\n          Scanner input = new Scanner(System.in);\r\n          int guess;\r\n          boolean play = true;\r\n          int totalGames = 0;\r\n          int totalGuesses = 0;\r\n          \r\n          System.out.println(&quot;Can you guess the word?&quot;);\r\n          System.out.println(&quot;I am sure you cannot guess!&quot;);\r\n          System.out.println(&quot;Go ahead and try!&quot;);\r\n          System.out.println();\r\n          \r\n          while (play) {\r\n          \r\n             System.out.println(&quot;I&#39;m thinking of a number between 1 and &quot; + max + &quot;...&quot;);\r\n             int numberToGuess = rand.nextInt(max) + 1;\r\n             int numberOfTries = 0;\r\n             boolean win = false;\r\n             while (!win) {\r\n             \r\n                System.out.print(&quot;Your guess? &quot;);\r\n                guess = input.nextInt();\r\n                numberOfTries++;\r\n                 \r\n                if (guess == numberToGuess) {\r\n                   win = true;  \r\n                } else if (guess &gt; numberToGuess) {\r\n                   System.out.println(&quot;It&#39;s lower.&quot;);\r\n                } else if (guess &lt; numberToGuess) {\r\n                   System.out.println(&quot;It&#39;s higher.&quot;);\r\n                }      \r\n                input.nextLine();\r\n             }\r\n             if (numberOfTries == 1) {\r\n                System.out.println(&quot;You got it right in &quot; + numberOfTries + &quot; guess!&quot;);\r\n             } else {\r\n                System.out.println(&quot;You got it right in &quot; + numberOfTries + &quot; guesses!&quot;);\r\n             }   \r\n                totalGames++;\r\n                totalGuesses+= numberOfTries;\r\n                System.out.print(&quot;Do you want to play again? &quot;);\r\n                           \r\n                String answer = input.nextLine();\r\n                char firstLetter = answer.charAt(0);\r\n                if (firstLetter == &#39;y&#39; || firstLetter == &#39;Y&#39;) {\r\n                play = true;  \r\n                } else {\r\n                play = false;              \r\n             }  \r\n             System.out.println();           \r\n          }\r\n          System.out.println(&quot;Overall results:&quot;);\r\n          System.out.println(&quot;Total games = &quot; + totalGames);  \r\n          System.out.println(&quot;Total guesses = &quot; +  totalGuesses);\r\n          System.out.println(&quot;Guesses/game = &quot; + totalGuesses/totalGames);\r\n          System.out.println(&quot;Best game = &quot;);\r\n       }  \r\n    } ","title":"Calculating Overall Best Game in Guessing Game","body":"<p>SI wrote a java code for a numbers guessing game. The entire thing is pretty much done. It works by choosing a random number then asking the user for console inputs and then saying whether that is higher or lower than the random number. Once you guess it, it then asks if you want to play again. When you finally say no to this (be it one game or several) it prints out your Overall results including total games, total guesses, avg guesses/game and your best game. I have everything worked out except I cant figure out how to make it print your overall best game.</p>\n<pre><code>import java.util.*; //so I can use scanner\n\npublic class GuessingGame {\n   public static void main(String[] args) {\n   \n      Random rand = new Random ();\n      int max = 100;\n      Scanner input = new Scanner(System.in);\n      int guess;\n      boolean play = true;\n      int totalGames = 0;\n      int totalGuesses = 0;\n      \n      System.out.println(&quot;Can you guess the word?&quot;);\n      System.out.println(&quot;I am sure you cannot guess!&quot;);\n      System.out.println(&quot;Go ahead and try!&quot;);\n      System.out.println();\n      \n      while (play) {\n      \n         System.out.println(&quot;I'm thinking of a number between 1 and &quot; + max + &quot;...&quot;);\n         int numberToGuess = rand.nextInt(max) + 1;\n         int numberOfTries = 0;\n         boolean win = false;\n         while (!win) {\n         \n            System.out.print(&quot;Your guess? &quot;);\n            guess = input.nextInt();\n            numberOfTries++;\n             \n            if (guess == numberToGuess) {\n               win = true;  \n            } else if (guess &gt; numberToGuess) {\n               System.out.println(&quot;It's lower.&quot;);\n            } else if (guess &lt; numberToGuess) {\n               System.out.println(&quot;It's higher.&quot;);\n            }      \n            input.nextLine();\n         }\n         if (numberOfTries == 1) {\n            System.out.println(&quot;You got it right in &quot; + numberOfTries + &quot; guess!&quot;);\n         } else {\n            System.out.println(&quot;You got it right in &quot; + numberOfTries + &quot; guesses!&quot;);\n         }   \n            totalGames++;\n            totalGuesses+= numberOfTries;\n            System.out.print(&quot;Do you want to play again? &quot;);\n                       \n            String answer = input.nextLine();\n            char firstLetter = answer.charAt(0);\n            if (firstLetter == 'y' || firstLetter == 'Y') {\n            play = true;  \n            } else {\n            play = false;              \n         }  \n         System.out.println();           \n      }\n      System.out.println(&quot;Overall results:&quot;);\n      System.out.println(&quot;Total games = &quot; + totalGames);  \n      System.out.println(&quot;Total guesses = &quot; +  totalGuesses);\n      System.out.println(&quot;Guesses/game = &quot; + totalGuesses/totalGames);\n      System.out.println(&quot;Best game = &quot;);\n   }  \n} \n</code></pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1700265669,"post_id":77504542,"comment_id":136637424,"body_markdown":"if you have already defined what authentication you are using there is no need to set this and it can all be removed because spring security will already supply you with a predefined AuthenticationManager unless you have built a custom security solution which is in general bad practice and not recommended, and thats also the reason as to why there is no direct docs for it. As it is once again, not best practice to build custom security solutions.","body":"if you have already defined what authentication you are using there is no need to set this and it can all be removed because spring security will already supply you with a predefined AuthenticationManager unless you have built a custom security solution which is in general bad practice and not recommended, and thats also the reason as to why there is no direct docs for it. As it is once again, not best practice to build custom security solutions."}],"answers":[{"tags":[],"owner":{"account_id":24440940,"reputation":3132,"user_id":18364656,"display_name":"Andrei Lisa"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1700315031,"creation_date":1700315031,"answer_id":77507143,"question_id":77504542,"body_markdown":"You could rewrite `AuthenticationManager` Bean as next one it is going to work as expected.\r\n\r\n      @Bean\r\n      public AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\r\n    \r\n            AuthenticationManagerBuilder authManagerBuilder =  http.getSharedObject(AuthenticationManagerBuilder.class);\r\n            authManagerBuilder.userDetailsService(customUserDetailService)\r\n                .passwordEncoder(passwordEncoder());\r\n            return authManagerBuilder.build();        \r\n          }\r\n\r\nMore details about it and some references you will be able to find [spring-security-without-the-websecurityconfigureradapter][1] post.\r\n\r\n  [1]: https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter","title":"Rewriting a Spring security deprecated, AuthenticationManager / HttpSecurity","body":"<p>You could rewrite <code>AuthenticationManager</code> Bean as next one it is going to work as expected.</p>\n<pre><code>  @Bean\n  public AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\n\n        AuthenticationManagerBuilder authManagerBuilder =  http.getSharedObject(AuthenticationManagerBuilder.class);\n        authManagerBuilder.userDetailsService(customUserDetailService)\n            .passwordEncoder(passwordEncoder());\n        return authManagerBuilder.build();        \n      }\n</code></pre>\n<p>More details about it and some references you will be able to find <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">spring-security-without-the-websecurityconfigureradapter</a> post.</p>\n"},{"tags":[],"owner":{"account_id":2588110,"reputation":7132,"user_id":2243324,"display_name":"jzheaux"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701823540,"creation_date":1701823540,"answer_id":77610001,"question_id":77504542,"body_markdown":"Instead of using `AuthenticationManagerBuilder`, please publish the `UserDetailsService` and `PasswordEncoder` beans separately like so:\r\n\r\n```java\r\n@Bean\r\nUserDetailsService customUserDetailsService() {\r\n    // ... construct\r\n}\r\n\r\n@Bean\r\nPasswordEncoder passwordEncoder() {\r\n    // ... construct\r\n}\r\n```\r\n\r\nIn your case, given that you are fine with the `AuthenticationProvider` defaults in `AuthenticationManager`, there is no need to construct one directly as you are doing.","title":"Rewriting a Spring security deprecated, AuthenticationManager / HttpSecurity","body":"<p>Instead of using <code>AuthenticationManagerBuilder</code>, please publish the <code>UserDetailsService</code> and <code>PasswordEncoder</code> beans separately like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\nUserDetailsService customUserDetailsService() {\n    // ... construct\n}\n\n@Bean\nPasswordEncoder passwordEncoder() {\n    // ... construct\n}\n</code></pre>\n<p>In your case, given that you are fine with the <code>AuthenticationProvider</code> defaults in <code>AuthenticationManager</code>, there is no need to construct one directly as you are doing.</p>\n"}],"owner":{"account_id":6549447,"reputation":303,"user_id":5064330,"accept_rate":58,"display_name":"Rind"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":77507143,"answer_count":2,"score":2,"last_activity_date":1701823540,"creation_date":1700253950,"question_id":77504542,"body_markdown":"I&#39;ve read some examples and docs on Spring security which i managed to rewrite a deprecated function on the SecurityFilterchain.\r\n\r\nhttps://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/SecurityConfigurerAdapter.html#and()\r\n\r\nHowever in another function below im facing issue on not knowing how i can rewrite it in a lambda based configuration and would need help to rewrite this.\r\n\r\n\r\n\r\n\r\n      @Bean\r\n        public AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\r\n        \r\n           return http.getSharedObject(AuthenticationManagerBuilder.class)\r\n                   .userDetailsService(customUserDetailService)\r\n                   .passwordEncoder(passwordEncoder())\r\n                   .and().build();\r\n        \r\n        }","title":"Rewriting a Spring security deprecated, AuthenticationManager / HttpSecurity","body":"<p>I've read some examples and docs on Spring security which i managed to rewrite a deprecated function on the SecurityFilterchain.</p>\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/SecurityConfigurerAdapter.html#and()\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/config/annotation/SecurityConfigurerAdapter.html#and()</a></p>\n<p>However in another function below im facing issue on not knowing how i can rewrite it in a lambda based configuration and would need help to rewrite this.</p>\n<pre><code>  @Bean\n    public AuthenticationManager authenticationManager(HttpSecurity http) throws Exception {\n    \n       return http.getSharedObject(AuthenticationManagerBuilder.class)\n               .userDetailsService(customUserDetailService)\n               .passwordEncoder(passwordEncoder())\n               .and().build();\n    \n    }\n</code></pre>\n"},{"tags":["java","build.gradle","vscode-extensions","robotics","wpilib"],"owner":{"account_id":30076186,"reputation":1,"user_id":23048942,"display_name":"Jackson Scott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701869504,"answer_count":0,"score":-2,"last_activity_date":1701822754,"creation_date":1701820859,"question_id":77609881,"body_markdown":"I made an FRC robot project using Advantage Kit which is an advanced telemetry logging system. I had to make a lot of changes to my build gradle, and venderdeps, shown here:\\[https://github.com/barbute/Project-Advantage-Armstrong/blob/master/build.gradle \\]. In contrast to the pre-made settings of the Command Robot. All of this is being done in java. My code repository is here: https://github.com/FRC5411/robot-ADVKit-ArcadeDrive-Jackson. Error when I try to build(https://i.stack.imgur.com/FaGbj.png)\r\n\r\nI tried to run literally any other code folder but that didn&#39;t work. I am thinking it has to do with WPILIB itself and how I downloaded it, that or my computer. ","title":"whenever I try to build any code folder: &quot;Execution failed for task &#39;:createVersionFile&#39; error.&quot;","body":"<p>I made an FRC robot project using Advantage Kit which is an advanced telemetry logging system. I had to make a lot of changes to my build gradle, and venderdeps, shown here:[https://github.com/barbute/Project-Advantage-Armstrong/blob/master/build.gradle ]. In contrast to the pre-made settings of the Command Robot. All of this is being done in java. My code repository is here: <a href=\"https://github.com/FRC5411/robot-ADVKit-ArcadeDrive-Jackson\" rel=\"nofollow noreferrer\">https://github.com/FRC5411/robot-ADVKit-ArcadeDrive-Jackson</a>. Error when I try to build(<a href=\"https://i.stack.imgur.com/FaGbj.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/FaGbj.png</a>)</p>\n<p>I tried to run literally any other code folder but that didn't work. I am thinking it has to do with WPILIB itself and how I downloaded it, that or my computer.</p>\n"},{"tags":["java","numberformatexception"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1701820971,"post_id":77609794,"comment_id":136822277,"body_markdown":"You&#39;re trying to parse `sections[2]` as a number. `sections[2]` is the word Himalayas. You mean `sections[1]`.","body":"You&#39;re trying to parse <code>sections[2]</code> as a number. <code>sections[2]</code> is the word Himalayas. You mean <code>sections[1]</code>."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1701822153,"post_id":77609794,"comment_id":136822381,"body_markdown":"In a debugger you can stop at line `MountainPeak mountain = new ...` and view the contents of the `sections` array in the &quot;variables&quot; view. Then the problem should become clear. If you want you can also do something like `String heightStr = sections[2]` so you can directly view the `heightStr` in the debugger. Or you can even put `println` statements or trace logs in there.","body":"In a debugger you can stop at line <code>MountainPeak mountain = new ...</code> and view the contents of the <code>sections</code> array in the &quot;variables&quot; view. Then the problem should become clear. If you want you can also do something like <code>String heightStr = sections[2]</code> so you can directly view the <code>heightStr</code> in the debugger. Or you can even put <code>println</code> statements or trace logs in there."}],"owner":{"account_id":30076106,"reputation":1,"user_id":23048887,"display_name":"JavaJuice"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701821285,"answer_count":0,"score":-2,"last_activity_date":1701822338,"creation_date":1701819170,"question_id":77609794,"body_markdown":"I&#39;m trying to read a full .text file I have onto the terminal to make sure I understand how to print it all out.  I was successful in doing so, but my next step was to create a class and methods that further organize this code instead of it all being in the main function.  Now, all of a sudden, I run into several errors I have no idea how to fix.\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.ArrayList;\r\n\r\npublic class MountainPeak \r\n{\r\n\tprivate final static String attrSeparator = &quot;\\t&quot;;\r\n\r\n\tprotected String name, mountainRange;\r\n\tprotected int height;\r\n\t\r\n\tpublic MountainPeak() \r\n\t{\r\n\t\t\r\n\t}\r\n\tpublic MountainPeak(String name, int height, String mountainRange)\r\n\t{\r\n\t\tthis.name = name;\r\n\t\tthis.height = height;\r\n\t\tthis.mountainRange = mountainRange;\r\n\t}\r\n\t\r\n\tpublic String getName()\r\n\t{\r\n\t\treturn name;\r\n\t}\r\n\tpublic void setName(String name)\r\n\t{\r\n\t\tthis.name = name;\r\n\t}\r\n\tpublic int getHeight()\r\n\t{\r\n\t\treturn height;\r\n\t}\r\n\tpublic void setHeight(int height)\r\n\t{\r\n\t\tthis.height = height;\r\n\t}\r\n\tpublic String getMountainRange()\r\n\t{\r\n\t\treturn mountainRange;\r\n\t}\r\n\tpublic void setMountainRange(String mountainRange)\r\n\t{\r\n\t\tthis.mountainRange = mountainRange;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic String toString() \r\n\t{\r\n\t\treturn (&quot;Mountain: &quot; + name + attrSeparator + height + attrSeparator + mountainRange);\r\n\t}\r\n}\r\n\r\n\r\npublic class MountainPeakTest \r\n{\r\n\tprivate String fileName;\r\n\tprivate ArrayList&lt;MountainPeak&gt; mountainList;\r\n\t\r\n\tpublic MountainPeakTest(String name)\r\n    {\r\n    \tthis.fileName = name;\r\n    }\r\n\r\n\tpublic void theBuffer()\r\n\t{\r\n\t\ttry \r\n\t\t{\r\n\t\t\tBufferedReader reader = new BufferedReader(new FileReader(fileName));\r\n\t\t\tString currentLine;\r\n\t\t\twhile((currentLine = reader.readLine()) != null)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(currentLine);\r\n\t\t\t\tcreateData(currentLine);\r\n\t\t\t}\r\n\t\t\treader.close();\r\n\t\t} \r\n\t\tcatch (IOException e) \r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic void createData(String line)\r\n\t{\r\n\t\tif (mountainList == null)\r\n\t\t{\r\n\t\t\tmountainList = new ArrayList&lt;MountainPeak&gt;();\r\n\t\t}\r\n\t\tString[] sections = line.split(&quot;\\t&quot;);\r\n\t\tMountainPeak mountain = new MountainPeak(sections[0], \r\n\t\t\t\tInteger.valueOf(sections[2]), \r\n\t\t\t\tsections[3]);\r\n\t\tSystem.out.println(mountain.toString());\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tMountainPeakTest r = new MountainPeakTest(&quot;C:\\\\Users\\\\Joos\\\\.eclipse\\\\CS212\\\\mountainPeaks.txt&quot;);\r\n\t\tr.theBuffer();\r\n\t}\r\n}\r\n```\r\n\r\nThe code breaks at `theBuffer()` after the first loop on the while statement inside.\r\n\r\nError:\r\n```none\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;Himalayas&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:668)\r\n\tat java.base/java.lang.Integer.valueOf(Integer.java:999)\r\n\tat jl_HW11.MountainPeakTest.createData(MountainPeakTest.java:46)\r\n\tat jl_HW11.MountainPeakTest.theBuffer(MountainPeakTest.java:27)\r\n\tat jl_HW11.MountainPeakTest.main(MountainPeakTest.java:55)\r\n```\r\nThis is the text file I am trying to read from:\r\n```none\r\nDhaulagiri I\t8167\tHimalayas\r\n\r\nMount Everest\t8848\tHimalayas\r\n\r\nBroad Peak (K3)\t8051\tKarakoram\r\n\r\nNanga Parbat\t8126\tHimalayas\r\n\r\nKangchenjunga\t8586\tHimalayas\r\n\r\nMakalu\t8485\tHimalayas\r\n\r\nBroad Peak\t8051\tKarakoram\r\n\r\nK4\t8035\tKarakoram\r\n\r\nLhotse\t8516\tHimalayas\r\n\r\nGosainthan\t8027\tHimalayas\r\n\r\nMakalu\t8485\tHimalayas\r\n\r\nCho Oyu\t8188\tHimalayas\r\n\r\nManaslu\t8163\tHimalayas\r\n\r\nAnnapurna I\t8091\tHimalayas\r\n\r\nLhotse\t8516\tHimalayas\r\n\r\nGasherbrum I\t8080\tKarakoram\r\n\r\nBroad Peak\t8051\tKarakoram\r\n```\r\n\r\nOnly the first line is displayed onto the console before the errors start coming in.","title":"Java Number format Exception?","body":"<p>I'm trying to read a full .text file I have onto the terminal to make sure I understand how to print it all out.  I was successful in doing so, but my next step was to create a class and methods that further organize this code instead of it all being in the main function.  Now, all of a sudden, I run into several errors I have no idea how to fix.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.ArrayList;\n\npublic class MountainPeak \n{\n    private final static String attrSeparator = &quot;\\t&quot;;\n\n    protected String name, mountainRange;\n    protected int height;\n    \n    public MountainPeak() \n    {\n        \n    }\n    public MountainPeak(String name, int height, String mountainRange)\n    {\n        this.name = name;\n        this.height = height;\n        this.mountainRange = mountainRange;\n    }\n    \n    public String getName()\n    {\n        return name;\n    }\n    public void setName(String name)\n    {\n        this.name = name;\n    }\n    public int getHeight()\n    {\n        return height;\n    }\n    public void setHeight(int height)\n    {\n        this.height = height;\n    }\n    public String getMountainRange()\n    {\n        return mountainRange;\n    }\n    public void setMountainRange(String mountainRange)\n    {\n        this.mountainRange = mountainRange;\n    }\n    \n    @Override\n    public String toString() \n    {\n        return (&quot;Mountain: &quot; + name + attrSeparator + height + attrSeparator + mountainRange);\n    }\n}\n\n\npublic class MountainPeakTest \n{\n    private String fileName;\n    private ArrayList&lt;MountainPeak&gt; mountainList;\n    \n    public MountainPeakTest(String name)\n    {\n        this.fileName = name;\n    }\n\n    public void theBuffer()\n    {\n        try \n        {\n            BufferedReader reader = new BufferedReader(new FileReader(fileName));\n            String currentLine;\n            while((currentLine = reader.readLine()) != null)\n            {\n                System.out.println(currentLine);\n                createData(currentLine);\n            }\n            reader.close();\n        } \n        catch (IOException e) \n        {\n            e.printStackTrace();\n        }\n    }\n    \n    \n    public void createData(String line)\n    {\n        if (mountainList == null)\n        {\n            mountainList = new ArrayList&lt;MountainPeak&gt;();\n        }\n        String[] sections = line.split(&quot;\\t&quot;);\n        MountainPeak mountain = new MountainPeak(sections[0], \n                Integer.valueOf(sections[2]), \n                sections[3]);\n        System.out.println(mountain.toString());\n    }\n    \n    \n    public static void main(String[] args) \n    {\n        MountainPeakTest r = new MountainPeakTest(&quot;C:\\\\Users\\\\Joos\\\\.eclipse\\\\CS212\\\\mountainPeaks.txt&quot;);\n        r.theBuffer();\n    }\n}\n</code></pre>\n<p>The code breaks at <code>theBuffer()</code> after the first loop on the while statement inside.</p>\n<p>Error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;Himalayas&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:668)\n    at java.base/java.lang.Integer.valueOf(Integer.java:999)\n    at jl_HW11.MountainPeakTest.createData(MountainPeakTest.java:46)\n    at jl_HW11.MountainPeakTest.theBuffer(MountainPeakTest.java:27)\n    at jl_HW11.MountainPeakTest.main(MountainPeakTest.java:55)\n</code></pre>\n<p>This is the text file I am trying to read from:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Dhaulagiri I    8167    Himalayas\n\nMount Everest   8848    Himalayas\n\nBroad Peak (K3) 8051    Karakoram\n\nNanga Parbat    8126    Himalayas\n\nKangchenjunga   8586    Himalayas\n\nMakalu  8485    Himalayas\n\nBroad Peak  8051    Karakoram\n\nK4  8035    Karakoram\n\nLhotse  8516    Himalayas\n\nGosainthan  8027    Himalayas\n\nMakalu  8485    Himalayas\n\nCho Oyu 8188    Himalayas\n\nManaslu 8163    Himalayas\n\nAnnapurna I 8091    Himalayas\n\nLhotse  8516    Himalayas\n\nGasherbrum I    8080    Karakoram\n\nBroad Peak  8051    Karakoram\n</code></pre>\n<p>Only the first line is displayed onto the console before the errors start coming in.</p>\n"},{"tags":["java","user-interface","javafx","textarea","fxml"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1701821520,"post_id":77609891,"comment_id":136822330,"body_markdown":"https://stackoverflow.com/questions/55668795/javafx-2-independent-windows-at-once/55671730#55671730","body":"<a href=\"https://stackoverflow.com/questions/55668795/javafx-2-independent-windows-at-once/55671730#55671730\" title=\"javafx 2 independent windows at once\">stackoverflow.com/questions/55668795/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701838779,"post_id":77609891,"comment_id":136823597,"body_markdown":"Your xml document details id=&quot;outputText&quot; ALSO i cannot see it declared anywhere in code.","body":"Your xml document details id=&quot;outputText&quot; ALSO i cannot see it declared anywhere in code."}],"answers":[{"comments":[{"owner":{"account_id":26675589,"reputation":9,"user_id":23048945,"display_name":"Karim Ibrahim"},"score":0,"creation_date":1701963300,"post_id":77609945,"comment_id":136842097,"body_markdown":"I can&#39;t believe how easy that was. Thanks, I feel so stupid.","body":"I can&#39;t believe how easy that was. Thanks, I feel so stupid."}],"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1701822308,"creation_date":1701822308,"answer_id":77609945,"question_id":77609891,"body_markdown":"The identity attribute is wrong in your FXML document.\r\n\r\nYou should be using `fx:id`, not `id`.\r\n\r\nThis:\r\n\r\n    &lt;TextArea id=&quot;inputText&quot; . . . \r\n\r\nShould be:\r\n\r\n    &lt;TextArea fx:id=&quot;inputText&quot; . . .\r\n\r\nSimilarly for your other ids defined in FXML like for `outputText`.\r\n\r\nBy setting `id`, you are only setting the CSS ID, not an FXML reference that can be injected by the loader into a controller which uses the `@FXML` annotation.\r\n\r\nThe [FXML documentation](https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#variable_resolution) isn&#39;t really good at documenting this topic, but it says:\r\n\r\n&gt; Assigning an `fx:id` value to an element creates a variable in the document&#39;s namespace that can later be referred to by variable dereference attributes, such as the &quot;toggleGroup&quot; attribute shown above, or in script code, discussed in a later section. Additionally, if the object&#39;s type defines an &quot;id&quot; property, this value will also be passed to the objects `setId()` method.\r\n\r\nSo `fx:id` also sets `id` (which is used as a CSS identifier), in addition to putting a reference to the object in the namespace which can be extracted and set by the loader on public references in your controller class or references annotated with the `@FXML` annotation.\r\n\r\nSee the [documentation on controllers and `@FXML`][1] for more info and examples.\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#controllers","title":"JavaFX: Null Pointer Exception when Setting TextArea Content in Second Window from First Window","body":"<p>The identity attribute is wrong in your FXML document.</p>\n<p>You should be using <code>fx:id</code>, not <code>id</code>.</p>\n<p>This:</p>\n<pre><code>&lt;TextArea id=&quot;inputText&quot; . . . \n</code></pre>\n<p>Should be:</p>\n<pre><code>&lt;TextArea fx:id=&quot;inputText&quot; . . .\n</code></pre>\n<p>Similarly for your other ids defined in FXML like for <code>outputText</code>.</p>\n<p>By setting <code>id</code>, you are only setting the CSS ID, not an FXML reference that can be injected by the loader into a controller which uses the <code>@FXML</code> annotation.</p>\n<p>The <a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#variable_resolution\" rel=\"nofollow noreferrer\">FXML documentation</a> isn't really good at documenting this topic, but it says:</p>\n<blockquote>\n<p>Assigning an <code>fx:id</code> value to an element creates a variable in the document's namespace that can later be referred to by variable dereference attributes, such as the &quot;toggleGroup&quot; attribute shown above, or in script code, discussed in a later section. Additionally, if the object's type defines an &quot;id&quot; property, this value will also be passed to the objects <code>setId()</code> method.</p>\n</blockquote>\n<p>So <code>fx:id</code> also sets <code>id</code> (which is used as a CSS identifier), in addition to putting a reference to the object in the namespace which can be extracted and set by the loader on public references in your controller class or references annotated with the <code>@FXML</code> annotation.</p>\n<p>See the <a href=\"https://openjfx.io/javadoc/21/javafx.fxml/javafx/fxml/doc-files/introduction_to_fxml.html#controllers\" rel=\"nofollow noreferrer\">documentation on controllers and <code>@FXML</code></a> for more info and examples.</p>\n"}],"owner":{"account_id":26675589,"reputation":9,"user_id":23048945,"display_name":"Karim Ibrahim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1701822308,"creation_date":1701821115,"question_id":77609891,"body_markdown":"I am using JavaFX and creating two window application one to browse a file and the other to show its content\r\n\r\nthe Problem is that I am getting null pointer exception when I acssess inputText.setText(filecontent)\r\nAs it says inputText is null\r\n\r\n\r\n```\r\n\r\npublic class AppController  {\r\n\r\n\r\n    private Button BrowseButton;\r\n\r\n\r\n    @FXML\r\n    private void handleBrowseButtonAction(MouseEvent event) {\r\n        FileChooser fileChooser = new FileChooser();\r\n        fileChooser.setTitle(&quot;Choose a File&quot;);\r\n        File selectedFile = fileChooser.showOpenDialog(BrowseButton.getScene().getWindow());\r\n\r\n        if (selectedFile != null) {\r\n            try {\r\n                String fileContent = Files.readString(selectedFile.toPath());\r\n                openFullScreenStage(fileContent);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private void openFullScreenStage(String fileContent) {\r\n        try {\r\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;editor.fxml&quot;));\r\n            Parent root = loader.load();\r\n\r\n            // Accessing the controller of the editor.fxml\r\n            editorController editorController1 = loader.getController();\r\n\r\n            // Assuming TextArea in editor.fxml has the fx:id &quot;inputText&quot;\r\n            /*TextArea textArea = editorController1.inputText;*/\r\n\r\n            //editorController1.initialize();\r\n           // editorController1.fakeinitialize();\r\n\r\n            editorController1.setInputText(fileContent);\r\n\r\n\r\n\r\n                Stage fullScreenStage = new Stage();\r\n                fullScreenStage.setFullScreen(true);\r\n                fullScreenStage.setScene(new Scene(root));\r\n                fullScreenStage.show();\r\n\r\n                //System.err.println(&quot;TextArea in editor.fxml is null&quot;);\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nThe controller for  the text area\r\n\r\n```\r\n\r\npackage com.editor.xml_editor;\r\n\r\nimport javafx.fxml.FXML;\r\nimport javafx.fxml.Initializable;\r\nimport javafx.scene.control.TextArea;\r\n\r\nimport java.net.URL;\r\nimport java.util.ResourceBundle;\r\n\r\npublic class editorController implements Initializable {\r\n    @FXML\r\n    protected TextArea inputText;\r\n\r\n\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        this.inputText.setText(&quot;Hello World&quot;);\r\n    }\r\n\r\n    public void setInputText(String input) {\r\n        inputText.setText(input);\r\n    }\r\n\r\n    // Assuming you want to expose this TextArea\r\n\r\n\r\n    // This TextArea is used internally\r\n\r\n\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n\r\nFxml for the text Area\r\n\r\n\r\n\r\n```\r\n\r\n&lt;AnchorPane prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot; xmlns=&quot;http://javafx.com/javafx/20&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.editor.xml_editor.editorController&quot;&gt;\r\n   &lt;children&gt;\r\n     \r\n      &lt;BorderPane layoutY=&quot;26.0&quot; prefHeight=&quot;370.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;25.600000000000023&quot;&gt;\r\n         \r\n         &lt;center&gt;\r\n            &lt;SplitPane dividerPositions=&quot;0.48328877005347587&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n              &lt;items&gt;\r\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;100.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;TextArea id=&quot;inputText&quot; layoutX=&quot;15.2&quot; layoutY=&quot;48.0&quot; prefHeight=&quot;322.0&quot; prefWidth=&quot;290.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;16.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/AnchorPane&gt;\r\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;100.0&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;TextArea id=&quot;outputText&quot; editable=&quot;false&quot; layoutX=&quot;41.0&quot; layoutY=&quot;53.0&quot; prefHeight=&quot;322.0&quot; prefWidth=&quot;290.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;16.0&quot; AnchorPane.topAnchor=&quot;0.0&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/AnchorPane&gt;\r\n              &lt;/items&gt;\r\n            &lt;/SplitPane&gt;\r\n         &lt;/center&gt;\r\n      &lt;/BorderPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n\r\n```\r\n \r\n\r\nI tried all the programming I could","title":"JavaFX: Null Pointer Exception when Setting TextArea Content in Second Window from First Window","body":"<p>I am using JavaFX and creating two window application one to browse a file and the other to show its content</p>\n<p>the Problem is that I am getting null pointer exception when I acssess inputText.setText(filecontent)\nAs it says inputText is null</p>\n<pre><code>\npublic class AppController  {\n\n\n    private Button BrowseButton;\n\n\n    @FXML\n    private void handleBrowseButtonAction(MouseEvent event) {\n        FileChooser fileChooser = new FileChooser();\n        fileChooser.setTitle(&quot;Choose a File&quot;);\n        File selectedFile = fileChooser.showOpenDialog(BrowseButton.getScene().getWindow());\n\n        if (selectedFile != null) {\n            try {\n                String fileContent = Files.readString(selectedFile.toPath());\n                openFullScreenStage(fileContent);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n\n    private void openFullScreenStage(String fileContent) {\n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;editor.fxml&quot;));\n            Parent root = loader.load();\n\n            // Accessing the controller of the editor.fxml\n            editorController editorController1 = loader.getController();\n\n            // Assuming TextArea in editor.fxml has the fx:id &quot;inputText&quot;\n            /*TextArea textArea = editorController1.inputText;*/\n\n            //editorController1.initialize();\n           // editorController1.fakeinitialize();\n\n            editorController1.setInputText(fileContent);\n\n\n\n                Stage fullScreenStage = new Stage();\n                fullScreenStage.setFullScreen(true);\n                fullScreenStage.setScene(new Scene(root));\n                fullScreenStage.show();\n\n                //System.err.println(&quot;TextArea in editor.fxml is null&quot;);\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n}\n\n</code></pre>\n<p>The controller for  the text area</p>\n<pre><code>\npackage com.editor.xml_editor;\n\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.TextArea;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class editorController implements Initializable {\n    @FXML\n    protected TextArea inputText;\n\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        this.inputText.setText(&quot;Hello World&quot;);\n    }\n\n    public void setInputText(String input) {\n        inputText.setText(input);\n    }\n\n    // Assuming you want to expose this TextArea\n\n\n    // This TextArea is used internally\n\n\n\n}\n\n\n</code></pre>\n<p>Fxml for the text Area</p>\n<pre><code>\n&lt;AnchorPane prefHeight=&quot;600.0&quot; prefWidth=&quot;800.0&quot; xmlns=&quot;http://javafx.com/javafx/20&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.editor.xml_editor.editorController&quot;&gt;\n   &lt;children&gt;\n     \n      &lt;BorderPane layoutY=&quot;26.0&quot; prefHeight=&quot;370.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;25.600000000000023&quot;&gt;\n         \n         &lt;center&gt;\n            &lt;SplitPane dividerPositions=&quot;0.48328877005347587&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n              &lt;items&gt;\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;100.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;TextArea id=&quot;inputText&quot; layoutX=&quot;15.2&quot; layoutY=&quot;48.0&quot; prefHeight=&quot;322.0&quot; prefWidth=&quot;290.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;16.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot; /&gt;\n                     &lt;/children&gt;\n                  &lt;/AnchorPane&gt;\n                &lt;AnchorPane minHeight=&quot;0.0&quot; minWidth=&quot;0.0&quot; prefHeight=&quot;160.0&quot; prefWidth=&quot;100.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;TextArea id=&quot;outputText&quot; editable=&quot;false&quot; layoutX=&quot;41.0&quot; layoutY=&quot;53.0&quot; prefHeight=&quot;322.0&quot; prefWidth=&quot;290.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;16.0&quot; AnchorPane.topAnchor=&quot;0.0&quot; /&gt;\n                     &lt;/children&gt;\n                  &lt;/AnchorPane&gt;\n              &lt;/items&gt;\n            &lt;/SplitPane&gt;\n         &lt;/center&gt;\n      &lt;/BorderPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n\n</code></pre>\n<p>I tried all the programming I could</p>\n"},{"tags":["java","reactjs","spring-boot","websocket"],"owner":{"account_id":20338127,"reputation":1,"user_id":14918268,"display_name":"Finsser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701821295,"creation_date":1701821295,"question_id":77609900,"body_markdown":"I am having trouble receiving the messages from the backend through the WebSocket connection and to the client.\r\n\r\nThe connection itself seems to be established and the creation of a new game or joining an existing one seems to work with no problems.\r\n\r\nMy controller:\r\n```\r\n@Controller\r\n@AllArgsConstructor\r\npublic class GameWebSocketController {\r\n    private final SimpMessagingTemplate messagingTemplate;\r\n    private final GameService gameService;\r\n\r\n    @MessageMapping(&quot;/game.move&quot;)\r\n    public void processMove(@Payload GameMove move){\r\n        Game updatedGame = gameService.updateGameState(move);\r\n\r\n        messagingTemplate.convertAndSendToUser(updatedGame.getPlayer1Id().toString(), &quot;/queue/game-updates&quot;, updatedGame);\r\n        messagingTemplate.convertAndSendToUser(updatedGame.getPlayer2Id().toString(), &quot;/queue/game-updates&quot;, updatedGame);\r\n    }\r\n\r\n    @MessageMapping(&quot;/game.join&quot;)\r\n    public void joinGame(@Payload GameJoinRequest request){\r\n        Game game = gameService.createOrJoinGame(request.getPlayerId());\r\n        messagingTemplate.convertAndSendToUser(request.getPlayerId().toString(), &quot;/queue/game-updates&quot;, game);\r\n    }\r\n}\r\n ```\r\nIn my frontend code the gameId seems to always be null: \r\n```\r\nconst navigate = useNavigate();\r\n    let stompClient = null;\r\n    const [gameId, setGameId] = useState(null);\r\n\r\n    const startGame = () =&gt; {\r\n        if (!stompClient || stompClient.active === false) {\r\n            stompClient = new Client({\r\n                // Use SockJS for the WebSocket connection\r\n                webSocketFactory: () =&gt; new SockJS(&#39;http://localhost:8080/ws&#39;),\r\n                reconnectDelay: 5000,\r\n                heartbeatIncoming: 4000,\r\n                heartbeatOutgoing: 4000,\r\n\r\n                onConnect: () =&gt; {\r\n                    console.log(&#39;WebSocket Connected&#39;);\r\n                    stompClient.subscribe(&#39;/user/queue/game-updates&#39;, (message) =&gt; {\r\n                        const response = JSON.parse(message.body);\r\n                        console.log(response);\r\n                        setGameId(response.id);\r\n                        if (response &amp;&amp; response.id) {\r\n                            navigate(`/live/${response.id}`);\r\n                        }\r\n                    });\r\n\r\n                    const request = { playerId: userId };\r\n                    stompClient.publish({\r\n                        destination: &quot;/app/game.join&quot;,\r\n                        body: JSON.stringify(request)\r\n                    });\r\n                },\r\n                onStompError: (frame) =&gt; {\r\n                    console.error(&#39;Broker reported error: &#39; + frame.headers[&#39;message&#39;]);\r\n                    console.error(&#39;Additional details: &#39; + frame.body);\r\n                },\r\n            });\r\n\r\n            stompClient.activate();\r\n        }\r\n    };\r\n ```\r\nThis is also my WebSocket configuration in case you need it: \r\n```\r\n@Configuration\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;, &quot;/queue&quot;, &quot;/user&quot;, &quot;/game&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n        config.setUserDestinationPrefix(&quot;/user&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;http://localhost:5173&quot;).withSockJS();\r\n    }\r\n\r\n}\r\n ```\r\n\r\nI&#39;ve been trying to fix it for a couple of days. What am I doing wrong?","title":"Retrieving the WebSocket message in the frontend doesn&#39;t seems to work. Any ideas?","body":"<p>I am having trouble receiving the messages from the backend through the WebSocket connection and to the client.</p>\n<p>The connection itself seems to be established and the creation of a new game or joining an existing one seems to work with no problems.</p>\n<p>My controller:</p>\n<pre><code>@Controller\n@AllArgsConstructor\npublic class GameWebSocketController {\n    private final SimpMessagingTemplate messagingTemplate;\n    private final GameService gameService;\n\n    @MessageMapping(&quot;/game.move&quot;)\n    public void processMove(@Payload GameMove move){\n        Game updatedGame = gameService.updateGameState(move);\n\n        messagingTemplate.convertAndSendToUser(updatedGame.getPlayer1Id().toString(), &quot;/queue/game-updates&quot;, updatedGame);\n        messagingTemplate.convertAndSendToUser(updatedGame.getPlayer2Id().toString(), &quot;/queue/game-updates&quot;, updatedGame);\n    }\n\n    @MessageMapping(&quot;/game.join&quot;)\n    public void joinGame(@Payload GameJoinRequest request){\n        Game game = gameService.createOrJoinGame(request.getPlayerId());\n        messagingTemplate.convertAndSendToUser(request.getPlayerId().toString(), &quot;/queue/game-updates&quot;, game);\n    }\n}\n</code></pre>\n<p>In my frontend code the gameId seems to always be null:</p>\n<pre><code>const navigate = useNavigate();\n    let stompClient = null;\n    const [gameId, setGameId] = useState(null);\n\n    const startGame = () =&gt; {\n        if (!stompClient || stompClient.active === false) {\n            stompClient = new Client({\n                // Use SockJS for the WebSocket connection\n                webSocketFactory: () =&gt; new SockJS('http://localhost:8080/ws'),\n                reconnectDelay: 5000,\n                heartbeatIncoming: 4000,\n                heartbeatOutgoing: 4000,\n\n                onConnect: () =&gt; {\n                    console.log('WebSocket Connected');\n                    stompClient.subscribe('/user/queue/game-updates', (message) =&gt; {\n                        const response = JSON.parse(message.body);\n                        console.log(response);\n                        setGameId(response.id);\n                        if (response &amp;&amp; response.id) {\n                            navigate(`/live/${response.id}`);\n                        }\n                    });\n\n                    const request = { playerId: userId };\n                    stompClient.publish({\n                        destination: &quot;/app/game.join&quot;,\n                        body: JSON.stringify(request)\n                    });\n                },\n                onStompError: (frame) =&gt; {\n                    console.error('Broker reported error: ' + frame.headers['message']);\n                    console.error('Additional details: ' + frame.body);\n                },\n            });\n\n            stompClient.activate();\n        }\n    };\n</code></pre>\n<p>This is also my WebSocket configuration in case you need it:</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;, &quot;/queue&quot;, &quot;/user&quot;, &quot;/game&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n        config.setUserDestinationPrefix(&quot;/user&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/ws&quot;).setAllowedOrigins(&quot;http://localhost:5173&quot;).withSockJS();\n    }\n\n}\n</code></pre>\n<p>I've been trying to fix it for a couple of days. What am I doing wrong?</p>\n"},{"tags":["java","sockets","zeromq","distributed-system"],"answers":[{"comments":[{"owner":{"account_id":30076051,"reputation":1,"user_id":23048847,"display_name":"Fabio Teixeira"},"score":0,"creation_date":1701821581,"post_id":77609862,"comment_id":136822334,"body_markdown":"Sadly I&#39;m kinda forced to use it as it&#39;s for a university assignment, truthfully its the first time I&#39;m using ZeroMQ but it was recommended by the professor.","body":"Sadly I&#39;m kinda forced to use it as it&#39;s for a university assignment, truthfully its the first time I&#39;m using ZeroMQ but it was recommended by the professor."},{"owner":{"account_id":30076151,"reputation":1,"user_id":23048918,"display_name":"ahahschizoposting"},"score":0,"creation_date":1701822769,"post_id":77609862,"comment_id":136822443,"body_markdown":"Time to start considering dropping out or changing universities, buddy.","body":"Time to start considering dropping out or changing universities, buddy."},{"owner":{"account_id":7932983,"reputation":1434,"user_id":5990117,"display_name":"Petr Aleksandrov"},"score":0,"creation_date":1701942193,"post_id":77609862,"comment_id":136838050,"body_markdown":"The post doesn&#39;t answer the initial question. It&#39;s more opinion the a solution. IMHO Such posts should be a comments (not answers).","body":"The post doesn&#39;t answer the initial question. It&#39;s more opinion the a solution. IMHO Such posts should be a comments (not answers)."}],"tags":[],"owner":{"account_id":30076151,"reputation":1,"user_id":23048918,"display_name":"ahahschizoposting"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701820374,"creation_date":1701820374,"answer_id":77609862,"question_id":77609785,"body_markdown":"Java&#39;s 0MQ interface is not the best. I&#39;ve used C++&#39;s and Python&#39;s interface, which works well. \r\nAlso, looking at your code I can tell it is pretty clean and not convoluted at all, which leads me to assume it&#39;s not your fault.\r\nHave you tried contacting 0MQ&#39;s support? I heard they have a pretty good hotline you can call during work hours and they might be able to help you with your problems.\r\nIf that doesn&#39;t work out, I&#39;d recommend you use [java.nio](https://docs.oracle.com/javase/8/docs/api/java/nio/package-summary.html) for any socket-related work while doing it java.\r\nBy the way, is there any particular reason for choosing Java here? It&#39;s like shooting yourself in the foot, seeing as there are many better solutions such as PHP, Perl or VBA.","title":"ZeroMQ DEALER doesnt receive response from ROUTER in DEALER/ROUTER configuration","body":"<p>Java's 0MQ interface is not the best. I've used C++'s and Python's interface, which works well.\nAlso, looking at your code I can tell it is pretty clean and not convoluted at all, which leads me to assume it's not your fault.\nHave you tried contacting 0MQ's support? I heard they have a pretty good hotline you can call during work hours and they might be able to help you with your problems.\nIf that doesn't work out, I'd recommend you use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/package-summary.html\" rel=\"nofollow noreferrer\">java.nio</a> for any socket-related work while doing it java.\nBy the way, is there any particular reason for choosing Java here? It's like shooting yourself in the foot, seeing as there are many better solutions such as PHP, Perl or VBA.</p>\n"}],"owner":{"account_id":30076051,"reputation":1,"user_id":23048847,"display_name":"Fabio Teixeira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701820374,"creation_date":1701819041,"question_id":77609785,"body_markdown":"Im trying to implement a distributed system in Java using ZeroMQ. I have created a ServerNode and a Broker class. The relevant part of the ServerNode is the following:\r\n\r\n```\r\npublic class ServerNode {\r\n    ...\r\n    private final ZMQ.Socket dealerSocket;\r\n    private final ConsistentHashing consistentHashing;\r\n    ...\r\n\r\n    public ServerNode(String serverAddress, String brokerAddress) {\r\n        this.serverAddress = serverAddress;\r\n        this.brokerAddress = brokerAddress;\r\n\r\n        this.context = new ZContext();\r\n\r\n        this.dealerSocket = context.createSocket(SocketType.DEALER);\r\n        this.dealerSocket.bind(serverAddress.substring(0, serverAddress.length() - 1) + &quot;1&quot;); //binds to port 5001\r\n        ...\r\n    }\r\n\r\n    public void start() {\r\n        joinRing();\r\n        executorService.submit(this::checkNeighbourHeatbeat);\r\n        executorService.submit(this::listenForMessages);\r\n\r\n    }\r\n\r\n    private void joinRing() {\r\n        ZMsg msg = new ZMsg();\r\n        msg.addString(&quot;JOIN&quot;);\r\n        msg.addString(this.serverAddress);\r\n        \r\n        ZMQ.Socket brokerSocket = context.createSocket(SocketType.DEALER);\r\n        brokerSocket.connect(brokerAddress);\r\n        msg.send(brokerSocket);\r\n\r\n        ZMsg response = ZMsg.recvMsg(brokerSocket); //not sure if this is correct\r\n        System.out.println(&quot;RECEIVED RESPONSE: &quot; + response);\r\n        if (response != null) {\r\n            String ringState = response.popString();\r\n            this.ring = utils.stringToTreeMap(ringState);\r\n            System.out.println(&quot;Received ring state: &quot; + this.ring);\r\n            \r\n            ZMQ.Socket nodeDealerSocket = context.createSocket(SocketType.DEALER);\r\n            for (String nodeAddress : this.ring.values()) {\r\n                if (!Objects.equals(nodeAddress, this.serverAddress)) {\r\n                    nodeDealerSocket.connect(nodeAddress.substring(0, nodeAddress.length() - 1) + &quot;1&quot;);\r\n                    msg.send(nodeDealerSocket);\r\n                    nodeDealerSocket.disconnect(nodeAddress.substring(0, nodeAddress.length() - 1) + &quot;1&quot;);\r\n                }\r\n            }\r\n            nodeDealerSocket.close();\r\n            \r\n        }\r\n        brokerSocket.close();\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        String serverAddress;\r\n        String brokerAddress = &quot;tcp://127.0.0.1:5000&quot;;\r\n\r\n        if (args.length &gt; 0) {\r\n            serverAddress = args[0];\r\n        } else {\r\n            System.out.println(&quot;Enter a valid server address (e.g., tcp://127.0.0.2:5000): &quot;);\r\n            Scanner scanner = new Scanner(System.in);\r\n            serverAddress = scanner.nextLine();\r\n            scanner.close();\r\n        }\r\n\r\n        ServerNode node = new ServerNode(serverAddress, brokerAddress);\r\n        node.start();\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nAnd the Broker:\r\n\r\n\r\n```\r\npublic class Broker {\r\n\r\n    private ConsistentHashing consistentHashing;\r\n    private ZContext context;\r\n    private ZMQ.Socket serverRoutSocket; // REP socket for &quot;JOIN&quot; requests\r\n    private TreeMap&lt;Integer, String&gt; ring;\r\n\r\n    public Broker() throws NoSuchAlgorithmException {\r\n        this.consistentHashing = new ConsistentHashing(1);\r\n        this.context = new ZContext();\r\n\r\n        this.serverRoutSocket = context.createSocket(SocketType.ROUTER);\r\n        this.serverRoutSocket.bind(&quot;tcp://127.0.0.1:5000&quot;);\r\n\r\n        this.ring = new TreeMap&lt;&gt;();\r\n    }\r\n\r\n    public void start() {\r\n        System.out.println(&quot;BROKER STARTED&quot;);\r\n        Poller poller = context.createPoller(1); //! LATEr ADD ROUTER CLIENT\r\n        poller.register(serverRoutSocket, Poller.POLLIN);\r\n\r\n        while (!Thread.currentThread().isInterrupted()) {\r\n            poller.poll();\r\n\r\n            if (poller.pollin(0)) { \r\n                ZMsg serverRoutReq = ZMsg.recvMsg(serverRoutSocket);\r\n                if (serverRoutReq != null) {\r\n                    handleServerRoutRequest(serverRoutReq);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void handleServerRoutRequest(ZMsg request) {\r\n        System.out.println(&quot;REQUEST: &quot; + request);\r\n        String dealerIdentity = request.popString();\r\n        String header = request.popString();\r\n        String server = null;\r\n        ZMsg response = new ZMsg();\r\n        System.out.println(&quot;identity: &quot; + dealerIdentity);\r\n        response.addString(dealerIdentity);\r\n\r\n        switch (header) {\r\n            case &quot;JOIN&quot; -&gt; {\r\n                server = request.popString();\r\n                consistentHashing.addServer(server, ring);\r\n                response.addString(ring.toString());\r\n                System.out.println(&quot;RESPONSE SENT: &quot; + response);\r\n                response.send(serverRoutSocket);\r\n            }\r\n            case &quot;REMOVE&quot; -&gt; {\r\n                System.out.println(&quot;SERVER REMOVED: &quot; + ring);\r\n                server = request.popString();\r\n                consistentHashing.removeServer(server, ring);\r\n            }\r\n            default -&gt; {\r\n            }\r\n            //ignore\r\n        }\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            Broker broker = new Broker();\r\n            broker.start();\r\n        } catch (NoSuchAlgorithmException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAs you can see in the joinRing method of the ServerNode class I connect the DEALER socket to the Broker&#39;s ROUTER socket. I then send a message composed of &quot;JOIN&quot; and then the server address which is then received by the broker and handled accoridngly in the handleServerRoutRequest method. The broker should then respond to the server with the current ring state which the server will use to find all the nodes present in the system. After that the server simply sends a join message to each node so that they can update their own ring.\r\n\r\n\r\nAfter sending the join request to the broker I expected that the broker would return the ring, and while the message appears to be created correctly with the identity followed by the load (ex: [ 00C1D76C28, {1114376065=tcp://127.0.0.2:5000} ]), the server gets stuck on the `ZMsg response = ZMsg.recvMsg(brokerSocket);` line. Why is the response not being received?","title":"ZeroMQ DEALER doesnt receive response from ROUTER in DEALER/ROUTER configuration","body":"<p>Im trying to implement a distributed system in Java using ZeroMQ. I have created a ServerNode and a Broker class. The relevant part of the ServerNode is the following:</p>\n<pre><code>public class ServerNode {\n    ...\n    private final ZMQ.Socket dealerSocket;\n    private final ConsistentHashing consistentHashing;\n    ...\n\n    public ServerNode(String serverAddress, String brokerAddress) {\n        this.serverAddress = serverAddress;\n        this.brokerAddress = brokerAddress;\n\n        this.context = new ZContext();\n\n        this.dealerSocket = context.createSocket(SocketType.DEALER);\n        this.dealerSocket.bind(serverAddress.substring(0, serverAddress.length() - 1) + &quot;1&quot;); //binds to port 5001\n        ...\n    }\n\n    public void start() {\n        joinRing();\n        executorService.submit(this::checkNeighbourHeatbeat);\n        executorService.submit(this::listenForMessages);\n\n    }\n\n    private void joinRing() {\n        ZMsg msg = new ZMsg();\n        msg.addString(&quot;JOIN&quot;);\n        msg.addString(this.serverAddress);\n        \n        ZMQ.Socket brokerSocket = context.createSocket(SocketType.DEALER);\n        brokerSocket.connect(brokerAddress);\n        msg.send(brokerSocket);\n\n        ZMsg response = ZMsg.recvMsg(brokerSocket); //not sure if this is correct\n        System.out.println(&quot;RECEIVED RESPONSE: &quot; + response);\n        if (response != null) {\n            String ringState = response.popString();\n            this.ring = utils.stringToTreeMap(ringState);\n            System.out.println(&quot;Received ring state: &quot; + this.ring);\n            \n            ZMQ.Socket nodeDealerSocket = context.createSocket(SocketType.DEALER);\n            for (String nodeAddress : this.ring.values()) {\n                if (!Objects.equals(nodeAddress, this.serverAddress)) {\n                    nodeDealerSocket.connect(nodeAddress.substring(0, nodeAddress.length() - 1) + &quot;1&quot;);\n                    msg.send(nodeDealerSocket);\n                    nodeDealerSocket.disconnect(nodeAddress.substring(0, nodeAddress.length() - 1) + &quot;1&quot;);\n                }\n            }\n            nodeDealerSocket.close();\n            \n        }\n        brokerSocket.close();\n    }\n    \n    public static void main(String[] args) {\n        String serverAddress;\n        String brokerAddress = &quot;tcp://127.0.0.1:5000&quot;;\n\n        if (args.length &gt; 0) {\n            serverAddress = args[0];\n        } else {\n            System.out.println(&quot;Enter a valid server address (e.g., tcp://127.0.0.2:5000): &quot;);\n            Scanner scanner = new Scanner(System.in);\n            serverAddress = scanner.nextLine();\n            scanner.close();\n        }\n\n        ServerNode node = new ServerNode(serverAddress, brokerAddress);\n        node.start();\n    }\n    ...\n}\n</code></pre>\n<p>And the Broker:</p>\n<pre><code>public class Broker {\n\n    private ConsistentHashing consistentHashing;\n    private ZContext context;\n    private ZMQ.Socket serverRoutSocket; // REP socket for &quot;JOIN&quot; requests\n    private TreeMap&lt;Integer, String&gt; ring;\n\n    public Broker() throws NoSuchAlgorithmException {\n        this.consistentHashing = new ConsistentHashing(1);\n        this.context = new ZContext();\n\n        this.serverRoutSocket = context.createSocket(SocketType.ROUTER);\n        this.serverRoutSocket.bind(&quot;tcp://127.0.0.1:5000&quot;);\n\n        this.ring = new TreeMap&lt;&gt;();\n    }\n\n    public void start() {\n        System.out.println(&quot;BROKER STARTED&quot;);\n        Poller poller = context.createPoller(1); //! LATEr ADD ROUTER CLIENT\n        poller.register(serverRoutSocket, Poller.POLLIN);\n\n        while (!Thread.currentThread().isInterrupted()) {\n            poller.poll();\n\n            if (poller.pollin(0)) { \n                ZMsg serverRoutReq = ZMsg.recvMsg(serverRoutSocket);\n                if (serverRoutReq != null) {\n                    handleServerRoutRequest(serverRoutReq);\n                }\n            }\n        }\n    }\n\n    private void handleServerRoutRequest(ZMsg request) {\n        System.out.println(&quot;REQUEST: &quot; + request);\n        String dealerIdentity = request.popString();\n        String header = request.popString();\n        String server = null;\n        ZMsg response = new ZMsg();\n        System.out.println(&quot;identity: &quot; + dealerIdentity);\n        response.addString(dealerIdentity);\n\n        switch (header) {\n            case &quot;JOIN&quot; -&gt; {\n                server = request.popString();\n                consistentHashing.addServer(server, ring);\n                response.addString(ring.toString());\n                System.out.println(&quot;RESPONSE SENT: &quot; + response);\n                response.send(serverRoutSocket);\n            }\n            case &quot;REMOVE&quot; -&gt; {\n                System.out.println(&quot;SERVER REMOVED: &quot; + ring);\n                server = request.popString();\n                consistentHashing.removeServer(server, ring);\n            }\n            default -&gt; {\n            }\n            //ignore\n        }\n    }\n\n\n    public static void main(String[] args) {\n        try {\n            Broker broker = new Broker();\n            broker.start();\n        } catch (NoSuchAlgorithmException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n</code></pre>\n<p>As you can see in the joinRing method of the ServerNode class I connect the DEALER socket to the Broker's ROUTER socket. I then send a message composed of &quot;JOIN&quot; and then the server address which is then received by the broker and handled accoridngly in the handleServerRoutRequest method. The broker should then respond to the server with the current ring state which the server will use to find all the nodes present in the system. After that the server simply sends a join message to each node so that they can update their own ring.</p>\n<p>After sending the join request to the broker I expected that the broker would return the ring, and while the message appears to be created correctly with the identity followed by the load (ex: [ 00C1D76C28, {1114376065=tcp://127.0.0.2:5000} ]), the server gets stuck on the <code>ZMsg response = ZMsg.recvMsg(brokerSocket);</code> line. Why is the response not being received?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1701820703,"post_id":77609837,"comment_id":136822252,"body_markdown":"&quot;*Working on this problem and need some help. Heres what I have:*&quot; -- this is not a great problem statement. Please tell us the details of the problems with your code and the steps you&#39;ve taken to debug the issue and use this to ask a much more specific and site-appropriate problem statement as per the [ask] and the [help].","body":"&quot;<i>Working on this problem and need some help. Heres what I have:</i>&quot; -- this is not a great problem statement. Please tell us the details of the problems with your code and the steps you&#39;ve taken to debug the issue and use this to ask a much more specific and site-appropriate problem statement as per the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and the <a href=\"https://stackoverflow.com/help\">help center</a>."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":1,"creation_date":1701828032,"post_id":77609837,"comment_id":136822882,"body_markdown":"check the `isPrime()` method... for example `isPrime(3)` will return false, actually it will return `false` for every number that is not `2` - there must be something wrong with the loop - my suggestion: use a debugger and set a breakpoint at the `return false` inside the loop and check why it is being executed (alternative: print the values of `i` before returning `false`)","body":"check the <code>isPrime()</code> method... for example <code>isPrime(3)</code> will return false, actually it will return <code>false</code> for every number that is not <code>2</code> - there must be something wrong with the loop - my suggestion: use a debugger and set a breakpoint at the <code>return false</code> inside the loop and check why it is being executed (alternative: print the values of <code>i</code> before returning <code>false</code>)"}],"owner":{"account_id":30075982,"reputation":1,"user_id":23048795,"display_name":"Beatrix Boer"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701820607,"answer_count":0,"score":-3,"last_activity_date":1701820341,"creation_date":1701819938,"question_id":77609837,"body_markdown":"Prime numbers. Write a program that prompts the user for an integer and then prints out all prime numbers up to that integer. For example, when the user enters 20, the program should print\r\n```\r\n2\r\n3\r\n5\r\n7\r\n11\r\n13\r\n17\r\n19\r\n```\r\nRecall that a number is a prime number if it is not divisible by any number except 1 and itself.\r\n\r\nUse a class PrimeGenerator with methods nextPrime and isPrime. Supply a class PrimePrinter whose main method reads a user input, constructs a PrimeGenerator object, and prints the primes.\r\n\r\nWorking on this problem and need some help. Heres what I have: \r\n\r\n```\r\npublic class PrimeGenerator {\r\n\tprivate int num;\r\n\tprivate int prime;\r\n\tprivate int numbers = 0; \r\n\r\n\tpublic PrimeGenerator(int num) {\r\n\t\tthis.num = num; \r\n\t}\r\n\r\n\tpublic int nextPrime(int num) {\r\n\t\twhile(numbers &lt;= num) {\r\n\t\t\tif (isPrime(numbers)) {\r\n\t\t\t\treturn numbers; \r\n\t\t\t}\r\n\t\t\tnumbers++; \r\n\t\t}        \r\n\t\treturn numbers; \r\n\t}\r\n\r\n\tpublic boolean isPrime(int num) {\r\n\t\tif (num &lt;= 1) {\r\n\t\t\treturn false; \r\n\t\t} else if (num == 2)  {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tfor(int i = 3; i &lt;= num; i++) { \r\n\t\t\tif (num % i == 0) {\r\n\t\t\t\treturn false; \r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t} \r\n}\r\n```\r\n```\r\npublic class PrimeNumbers {\r\n\tpublic static void main (String [] args) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tint num; \r\n\t\tSystem.out.print(&quot;Enter an integer:&quot; ); \r\n\t\tnum = scan.nextInt(); \r\n\t\tPrimeGenerator sim1 = new PrimeGenerator(num); \r\n\t\tSystem.out.print(sim1.nextPrime(num));\r\n\t}\r\n}\r\n```","title":"How to write a program that prompts the user for an integer and then prints out all prime numbers up to that integer? (in java, using tester + class)","body":"<p>Prime numbers. Write a program that prompts the user for an integer and then prints out all prime numbers up to that integer. For example, when the user enters 20, the program should print</p>\n<pre><code>2\n3\n5\n7\n11\n13\n17\n19\n</code></pre>\n<p>Recall that a number is a prime number if it is not divisible by any number except 1 and itself.</p>\n<p>Use a class PrimeGenerator with methods nextPrime and isPrime. Supply a class PrimePrinter whose main method reads a user input, constructs a PrimeGenerator object, and prints the primes.</p>\n<p>Working on this problem and need some help. Heres what I have:</p>\n<pre><code>public class PrimeGenerator {\n    private int num;\n    private int prime;\n    private int numbers = 0; \n\n    public PrimeGenerator(int num) {\n        this.num = num; \n    }\n\n    public int nextPrime(int num) {\n        while(numbers &lt;= num) {\n            if (isPrime(numbers)) {\n                return numbers; \n            }\n            numbers++; \n        }        \n        return numbers; \n    }\n\n    public boolean isPrime(int num) {\n        if (num &lt;= 1) {\n            return false; \n        } else if (num == 2)  {\n            return true;\n        }\n        for(int i = 3; i &lt;= num; i++) { \n            if (num % i == 0) {\n                return false; \n            }\n        }\n        return true;\n    } \n}\n</code></pre>\n<pre><code>public class PrimeNumbers {\n    public static void main (String [] args) {\n        Scanner scan = new Scanner(System.in);\n        int num; \n        System.out.print(&quot;Enter an integer:&quot; ); \n        num = scan.nextInt(); \n        PrimeGenerator sim1 = new PrimeGenerator(num); \n        System.out.print(sim1.nextPrime(num));\n    }\n}\n</code></pre>\n"},{"tags":["java","ant","tomcat8"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701842208,"post_id":77609511,"comment_id":136823883,"body_markdown":"This could help , apparently there is a difference between compile and run.    https://www.eclipse.org/forums/index.php/t/218598/","body":"This could help , apparently there is a difference between compile and run.    <a href=\"https://www.eclipse.org/forums/index.php/t/218598/\" rel=\"nofollow noreferrer\">eclipse.org/forums/index.php/t/218598</a>"}],"owner":{"account_id":4687640,"reputation":425,"user_id":3794648,"display_name":"user3794648"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701819513,"creation_date":1701814238,"question_id":77609511,"body_markdown":"I&#39;m trying to get an older application based on ANT to run on Tomcat. I&#39;m getting the following error when I run it in Eclipse:\r\n\r\n  \r\n\r\n    Caused by: java.lang.NoClassDefFoundError: org/eclipse/birt/core/exception/BirtException\r\n    \tat java.base/java.lang.Class.getDeclaredFields0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\r\n    \tat java.base/java.lang.Class.getDeclaredFields(Class.java:2371)\r\n    \tat org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:110)\r\n    \tat org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\r\n    \tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationListenerAnnotations(WebAnnotationSet.java:89)\r\n    \tat org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:67)\r\n    \tat org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:329)\r\n    \tat org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:783)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:300)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:114)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4804)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\r\n    \t... 6 more\r\n    Caused by: java.lang.ClassNotFoundException: org.eclipse.birt.core.exception.BirtException\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:592)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\r\n    \t... 19 more\r\n\r\nThe class BirtException is defined in the coreapi.jar file which is on the build path.  It&#39;s also mentioned in the build.xml file like this:\r\n\r\n    &lt;path id=&quot;MDS 3.0 Single Code.classpath&quot;&gt;\r\n    \t\t&lt;path refid=&quot;JSF 2 Libraries.userclasspath&quot;/&gt;\r\n    \t\t&lt;path refid=&quot;Oracle Libraries.userclasspath&quot;/&gt;\r\n    \t\t&lt;path refid=&quot;Tomahawk Libraries.userclasspath&quot;/&gt;\r\n    \t\t&lt;path refid=&quot;tomahawk.userclasspath&quot;/&gt;\r\n    \t\t&lt;path refid=&quot;Oracle.userclasspath&quot;/&gt;\r\n    \t\t&lt;path refid=&quot;JSF Libraries.userclasspath&quot;/&gt;\r\n    \t\t&lt;path refid=&quot;EclipseLink.userclasspath&quot;/&gt;\r\n    \t\t&lt;path refid=&quot;Tomcat.userclasspath&quot;/&gt;\r\n    \t\t&lt;pathelement location=&quot;${ECLIPSE_HOME}configuration/org.eclipse.osgi/105/0/.cp/data/2.5.2/engineapi.jar&quot;/&gt;\r\n    &lt;pathelement location=&quot;Libraries/eclipse_config_libs/coreapi.jar&quot;/&gt;\r\n\r\nSo, it seems like it should be available at run time.  What am I missing here?\r\nI&#39;m using tomcat 8.5 and eclipse 4.29\r\n\r\n\r\n\r\n","title":"Class not found exception in old ant-based web-app","body":"<p>I'm trying to get an older application based on ANT to run on Tomcat. I'm getting the following error when I run it in Eclipse:</p>\n<pre><code>Caused by: java.lang.NoClassDefFoundError: org/eclipse/birt/core/exception/BirtException\n    at java.base/java.lang.Class.getDeclaredFields0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3297)\n    at java.base/java.lang.Class.getDeclaredFields(Class.java:2371)\n    at org.apache.catalina.util.Introspection.getDeclaredFields(Introspection.java:110)\n    at org.apache.catalina.startup.WebAnnotationSet.loadFieldsAnnotation(WebAnnotationSet.java:269)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationListenerAnnotations(WebAnnotationSet.java:89)\n    at org.apache.catalina.startup.WebAnnotationSet.loadApplicationAnnotations(WebAnnotationSet.java:67)\n    at org.apache.catalina.startup.ContextConfig.applicationAnnotationsConfig(ContextConfig.java:329)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:783)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:300)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:114)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4804)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)\n    ... 6 more\nCaused by: java.lang.ClassNotFoundException: org.eclipse.birt.core.exception.BirtException\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:592)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:525)\n    ... 19 more\n</code></pre>\n<p>The class BirtException is defined in the coreapi.jar file which is on the build path.  It's also mentioned in the build.xml file like this:</p>\n<pre><code>&lt;path id=&quot;MDS 3.0 Single Code.classpath&quot;&gt;\n        &lt;path refid=&quot;JSF 2 Libraries.userclasspath&quot;/&gt;\n        &lt;path refid=&quot;Oracle Libraries.userclasspath&quot;/&gt;\n        &lt;path refid=&quot;Tomahawk Libraries.userclasspath&quot;/&gt;\n        &lt;path refid=&quot;tomahawk.userclasspath&quot;/&gt;\n        &lt;path refid=&quot;Oracle.userclasspath&quot;/&gt;\n        &lt;path refid=&quot;JSF Libraries.userclasspath&quot;/&gt;\n        &lt;path refid=&quot;EclipseLink.userclasspath&quot;/&gt;\n        &lt;path refid=&quot;Tomcat.userclasspath&quot;/&gt;\n        &lt;pathelement location=&quot;${ECLIPSE_HOME}configuration/org.eclipse.osgi/105/0/.cp/data/2.5.2/engineapi.jar&quot;/&gt;\n&lt;pathelement location=&quot;Libraries/eclipse_config_libs/coreapi.jar&quot;/&gt;\n</code></pre>\n<p>So, it seems like it should be available at run time.  What am I missing here?\nI'm using tomcat 8.5 and eclipse 4.29</p>\n"},{"tags":["java","amazon-web-services","spring-boot","memory-leaks","amazon-dynamodb"],"comments":[{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":0,"creation_date":1701735682,"post_id":77603205,"comment_id":136810289,"body_markdown":"Without any heap dump etc... it&#39;s hard to tell. But from the information provided, the fact that you create the Table component for every request, which initiates a client would lead me to believe you create too many clients without closing any. Try a test where you only initiate the Table client once and share it across function invocations.","body":"Without any heap dump etc... it&#39;s hard to tell. But from the information provided, the fact that you create the Table component for every request, which initiates a client would lead me to believe you create too many clients without closing any. Try a test where you only initiate the Table client once and share it across function invocations."},{"owner":{"account_id":3278201,"reputation":821,"user_id":2759538,"accept_rate":79,"display_name":"Ace McCloud"},"score":0,"creation_date":1701735833,"post_id":77603205,"comment_id":136810302,"body_markdown":"So instead of this line being called for every request, I will create an object from it and keep it in the repository class? I can test that out. Any suggestions for a heap dump on a docker container? \n\nreturn dynamoDbEnhancedClient.table(studentTableName, TableSchema.fromBean(Student.class));","body":"So instead of this line being called for every request, I will create an object from it and keep it in the repository class? I can test that out. Any suggestions for a heap dump on a docker container?   return dynamoDbEnhancedClient.table(studentTableName, TableSchema.fromBean(Student.class));"},{"owner":{"account_id":10749774,"reputation":14484,"user_id":7909676,"display_name":"Leeroy Hannigan"},"score":1,"creation_date":1701736661,"post_id":77603205,"comment_id":136810387,"body_markdown":"Yea returning the entire Table object from the initialiser would be better IMO. As for heap dump, I&#39;m no expert on docket so hopefully someone else can chime in and help you there. Let me know how the test goes.","body":"Yea returning the entire Table object from the initialiser would be better IMO. As for heap dump, I&#39;m no expert on docket so hopefully someone else can chime in and help you there. Let me know how the test goes."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":1,"creation_date":1701782318,"post_id":77603205,"comment_id":136815880,"body_markdown":"It looks to me like your memory usage returned to the ~60% that it was using prior to the load test. And during the load test, it remained at a plateau. If you had an actual leak, I would have expected it to keep going up when under load, until you got an OOM.","body":"It looks to me like your memory usage returned to the ~60% that it was using prior to the load test. And during the load test, it remained at a plateau. If you had an actual leak, I would have expected it to keep going up when under load, until you got an OOM."},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":2,"creation_date":1701782373,"post_id":77603205,"comment_id":136815894,"body_markdown":"It is also entirely possible that some objects moved into the tenured generation during the load test, and the JVM hasn&#39;t run a full collection since the test ended.","body":"It is also entirely possible that some objects moved into the tenured generation during the load test, and the JVM hasn&#39;t run a full collection since the test ended."},{"owner":{"account_id":3278201,"reputation":821,"user_id":2759538,"accept_rate":79,"display_name":"Ace McCloud"},"score":0,"creation_date":1701810315,"post_id":77603205,"comment_id":136820941,"body_markdown":"Any setting in spring that can force to run GC at fixed time?\n\n\n The first statement you mentioned is not the case. Load test ended at 1:09 as per first graph but it plateuad till 1:50 at which point we restarted pods to reclaim them.","body":"Any setting in spring that can force to run GC at fixed time?    The first statement you mentioned is not the case. Load test ended at 1:09 as per first graph but it plateuad till 1:50 at which point we restarted pods to reclaim them."},{"owner":{"account_id":3278201,"reputation":821,"user_id":2759538,"accept_rate":79,"display_name":"Ace McCloud"},"score":0,"creation_date":1701819509,"post_id":77603205,"comment_id":136822125,"body_markdown":"Uploaded a heapdump by objects as well as dominators.","body":"Uploaded a heapdump by objects as well as dominators."}],"owner":{"account_id":3278201,"reputation":821,"user_id":2759538,"accept_rate":79,"display_name":"Ace McCloud"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701819482,"creation_date":1701735287,"question_id":77603205,"body_markdown":"We have a springboot application talking to a DynamoDB table which uses the V2 AWS SDK with DynamoDBEnhancedClient. On deploying the application to EKS and running a load test, we saw an issue where the application was consuming a lot of memory as expected due to high volume of requests. [![enter image description here][1]][1]\r\n\r\nHowever, after the load test stopped at 1:09 in the graph below, we expected the memory to be claimed and recovered but instead it remained flatline pegged at high even with no more incoming requests.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThis is how the application is wired up. \r\n\r\nWe have the configuration class where DynamoDB client BEAN is instantiated. \r\n\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\n@Getter\r\npublic class DynamoConfiguration {\r\n\r\n    @Bean\r\n    @Profile({&quot;!local &amp; !integrationtest&quot;})\r\n    public DynamoDbClient getDynamoDbClient() {\r\n        return DynamoDbClient.builder()\r\n            .region(Region.of(System.getenv(&quot;AWS_REGION&quot;)))\r\n            .credentialsProvider(WebIdentityTokenFileCredentialsProvider.builder().build()).build();\r\n    }\r\n    \r\n    /**\r\n     * Instantiates an enhanced DynamoDB client for interacting with DynamoDB.\r\n     */\r\n    @Bean\r\n    public DynamoDbEnhancedClient getDynamoDbEnhancedClient(DynamoDbClient dynamoDbClient) \r\n    {\r\n        return DynamoDbEnhancedClient.builder()\r\n            .dynamoDbClient(dynamoDbClient)\r\n            .build();\r\n    }\r\n}\r\n```\r\n\r\nNext we have a repository class for the Student table with the client used to generated a table object first and all CRUD operations performed on the table. \r\n\r\nNOTE: Load test was heavy on the findById function and not on the save function so it was read heavy.\r\n\r\n```\r\n@Repository\r\n@RequiredArgsConstructor\r\npublic class StudentRepository {\r\n\r\n    private final DynamoDbEnhancedClient dynamoDbEnhancedClient;\r\n    \r\n    @Value(&quot;${dynamodb.tables.student}&quot;)\r\n    private String studentTableName;\r\n\r\n    /**\r\n     * Retrieves a student by id.\r\n     */\r\n    public Optional&lt;Student&gt; findById(final String id) {\r\n        DynamoDbTable&lt;Student&gt; studentTable = getTable();\r\n        Key idKey = Key.builder().partitionValue(id).build();\r\n        return Optional.ofNullable(studentTable.getItem(idKey));\r\n    }\r\n\r\n    /**\r\n     * Saves a student to the table.\r\n     */\r\n    public void save(final Student Student) {\r\n        DynamoDbTable&lt;Student&gt; studentTable = getTable();\r\n        studentTable.putItem(Student);\r\n    }\r\n    \r\n    /**\r\n     * Gets Student table object.\r\n     */\r\n    private DynamoDbTable&lt;Student&gt; getTable() {\r\n        return dynamoDbEnhancedClient.table(studentTableName, TableSchema.fromBean(Student.class));\r\n    }\r\n}\r\n```\r\n\r\n\r\nAny guidance on anything we are doing wrong in this setup especially with usage of @Bean and @Repository annotations? Or anything we need to do to terminate the DB connection or table object to ensure memory after the request is reclaimed?\r\n\r\nOr do we need to try using the EnhancedAsync client if its a threading issue with the blocking client?\r\n\r\nOpen to any other suggestion since the SDK V2 is fairly new and not all issues have been documented.\r\n\r\nThis is the POM version of the SDK: 2.19.18 and the two libraries we are using. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;dynamodb-enhanced&lt;/artifactId&gt;\r\n        &lt;version&gt;${aws.java.sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;sts&lt;/artifactId&gt;\r\n        &lt;version&gt;${aws.java.sdk.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;aws.java.sdk.version&gt;2.19.18&lt;/aws.java.sdk.version&gt;\r\n\r\nUpdate: \r\nHeapDump of dominators by retained:\r\n[![enter image description here][3]][3]\r\n\r\nHeapdump of objects by retained:\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NtlzT.png\r\n  [2]: https://i.stack.imgur.com/Mef8S.png\r\n  [3]: https://i.stack.imgur.com/QU4BS.png\r\n  [4]: https://i.stack.imgur.com/EeE5L.png","title":"Memory leak using V2 AWS DynamoDB SDK in SpringBoot application","body":"<p>We have a springboot application talking to a DynamoDB table which uses the V2 AWS SDK with DynamoDBEnhancedClient. On deploying the application to EKS and running a load test, we saw an issue where the application was consuming a lot of memory as expected due to high volume of requests. <a href=\"https://i.stack.imgur.com/NtlzT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NtlzT.png\" alt=\"enter image description here\" /></a></p>\n<p>However, after the load test stopped at 1:09 in the graph below, we expected the memory to be claimed and recovered but instead it remained flatline pegged at high even with no more incoming requests.</p>\n<p><a href=\"https://i.stack.imgur.com/Mef8S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mef8S.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how the application is wired up.</p>\n<p>We have the configuration class where DynamoDB client BEAN is instantiated.</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\n@Getter\npublic class DynamoConfiguration {\n\n    @Bean\n    @Profile({&quot;!local &amp; !integrationtest&quot;})\n    public DynamoDbClient getDynamoDbClient() {\n        return DynamoDbClient.builder()\n            .region(Region.of(System.getenv(&quot;AWS_REGION&quot;)))\n            .credentialsProvider(WebIdentityTokenFileCredentialsProvider.builder().build()).build();\n    }\n    \n    /**\n     * Instantiates an enhanced DynamoDB client for interacting with DynamoDB.\n     */\n    @Bean\n    public DynamoDbEnhancedClient getDynamoDbEnhancedClient(DynamoDbClient dynamoDbClient) \n    {\n        return DynamoDbEnhancedClient.builder()\n            .dynamoDbClient(dynamoDbClient)\n            .build();\n    }\n}\n</code></pre>\n<p>Next we have a repository class for the Student table with the client used to generated a table object first and all CRUD operations performed on the table.</p>\n<p>NOTE: Load test was heavy on the findById function and not on the save function so it was read heavy.</p>\n<pre><code>@Repository\n@RequiredArgsConstructor\npublic class StudentRepository {\n\n    private final DynamoDbEnhancedClient dynamoDbEnhancedClient;\n    \n    @Value(&quot;${dynamodb.tables.student}&quot;)\n    private String studentTableName;\n\n    /**\n     * Retrieves a student by id.\n     */\n    public Optional&lt;Student&gt; findById(final String id) {\n        DynamoDbTable&lt;Student&gt; studentTable = getTable();\n        Key idKey = Key.builder().partitionValue(id).build();\n        return Optional.ofNullable(studentTable.getItem(idKey));\n    }\n\n    /**\n     * Saves a student to the table.\n     */\n    public void save(final Student Student) {\n        DynamoDbTable&lt;Student&gt; studentTable = getTable();\n        studentTable.putItem(Student);\n    }\n    \n    /**\n     * Gets Student table object.\n     */\n    private DynamoDbTable&lt;Student&gt; getTable() {\n        return dynamoDbEnhancedClient.table(studentTableName, TableSchema.fromBean(Student.class));\n    }\n}\n</code></pre>\n<p>Any guidance on anything we are doing wrong in this setup especially with usage of @Bean and @Repository annotations? Or anything we need to do to terminate the DB connection or table object to ensure memory after the request is reclaimed?</p>\n<p>Or do we need to try using the EnhancedAsync client if its a threading issue with the blocking client?</p>\n<p>Open to any other suggestion since the SDK V2 is fairly new and not all issues have been documented.</p>\n<p>This is the POM version of the SDK: 2.19.18 and the two libraries we are using.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;dynamodb-enhanced&lt;/artifactId&gt;\n    &lt;version&gt;${aws.java.sdk.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n    &lt;artifactId&gt;sts&lt;/artifactId&gt;\n    &lt;version&gt;${aws.java.sdk.version}&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;aws.java.sdk.version&gt;2.19.18&lt;/aws.java.sdk.version&gt;\n</code></pre>\n<p>Update:\nHeapDump of dominators by retained:\n<a href=\"https://i.stack.imgur.com/QU4BS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QU4BS.png\" alt=\"enter image description here\" /></a></p>\n<p>Heapdump of objects by retained:\n<a href=\"https://i.stack.imgur.com/EeE5L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EeE5L.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","json","request","gson","json-deserialization"],"answers":[{"tags":[],"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701818841,"creation_date":1701818522,"answer_id":77609761,"question_id":77603437,"body_markdown":"&gt; ```java\r\n&gt; @Data \r\n&gt; @NoArgsConstructor\r\n&gt; @AllArgsConstructor\r\n&gt; public class Sample {\r\n&gt;     ...\r\n&gt; }\r\n&gt; ```\r\n\r\nTo avoid any misunderstandings: Gson only uses the no-args constructor and sets and gets field values using reflection, without using any setter or getter methods. (The only exception are Java [Record Classes](https://docs.oracle.com/en/java/javase/17/language/records.html) where Gson does use the args constructor and accessor methods.)\r\n\r\n&gt; what is the default behavior when gson is parsing a response (in this case: d,e...), and it can&#39;t find an equivalent variable in the Type?\r\n\r\nIt just ignores them. But this is unfortunately also something you cannot configure at the moment, see [Gson issue 188](https://github.com/google/gson/issues/188).\r\n\r\n&gt; &quot;exclude&quot; fields by using exclusion strategies\r\n\r\nGson&#39;s [`ExclusionStrategy`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/ExclusionStrategy.html) is rather for the opposite use case: A field exists in your Java class but you don&#39;t want it to be serialized or deserialized. For simple cases you can also make the field `transient` to exclude it.\r\n\r\n&gt; In addition, does order matter? say the order of mappings is a, b, c, d.... what happens if we switch where a and b are in Sample?\r\n\r\nThe order of fields in the Java class does not matter when deserializing from JSON, but it does matter when serializing to JSON.\\\r\nThe order in the JSON data when deserializing does not matter in most cases, and in your use case most likely it doesn&#39;t. Cases where it does matter are:\r\n- A JSON object contains members with duplicate names. Then normally the last occurrence will be used, for example `{&quot;a&quot;:1,&quot;a&quot;:2}` will have the same effect as `{&quot;a&quot;:2}`.\r\n- You are deserializing as `Map`, `Object` or [`JsonObject`](https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonObject.html). Then Gson will create a `Map` instance which preserves the order, which can be seen when you iterate for example over `Map.entrySet()`. But the different iteration order might not (and probably should not) matter for your application logic.\r\n\r\n----\r\n\r\n&gt; ```java\r\n&gt; Type sampleListType = new TypeToken&lt;List&lt;Sample&gt;&gt;() {}.getType(); \r\n&gt; List&lt;Sample&gt; stashLines = gson.fromJson(sampleLines, sampleListType);\r\n&gt; ```\r\n\r\nIn Gson version &gt;= 2.10 you can use the `Gson.fromJson(..., TypeToken)` overloads. You should prefer them over the `Gson.fromJson(..., Type)` overloads you are using because they are type-safe&lt;sup&gt;[1]&lt;/sup&gt;. So you could change your code to:\r\n```java\r\nTypeToken&lt;List&lt;Sample&gt;&gt; sampleListType = new TypeToken&lt;List&lt;Sample&gt;&gt;() {}; \r\nList&lt;Sample&gt; stashLines = gson.fromJson(sampleLines, sampleListType);\r\n```\r\n\r\nIn Java 9 this becomes more concise because you can use the &#39;diamond form&#39; with anonymous classes:\\\r\n`TypeToken&lt;List&lt;Sample&gt;&gt; sampleListType = new TypeToken&lt;&gt;() {};`\\\r\nAnd in Java 10 you can alternatively use `var`:\\\r\n`var sampleListType = new TypeToken&lt;List&lt;Sample&gt;&gt;() {};`\r\n\r\n----\r\n\r\n[1]: For example `Gson.fromJson(..., Type)` lets you write non-type-safe code like this, which compiles without warnings but fails at runtime:\r\n```java\r\n// Note: Mismatch between `WrongClass` and `MyClass`\r\nList&lt;WrongClass&gt; list = new Gson().fromJson(&quot;[{}]&quot;, new TypeToken&lt;List&lt;MyClass&gt;&gt;() {}.getType());\r\n// Throws ClassCastException\r\nWrongClass first = list.get(0);\r\n```","title":"Questions about JSON/Gson serialization and deserialization","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>@Data \n@NoArgsConstructor\n@AllArgsConstructor\npublic class Sample {\n    ...\n}\n</code></pre>\n</blockquote>\n<p>To avoid any misunderstandings: Gson only uses the no-args constructor and sets and gets field values using reflection, without using any setter or getter methods. (The only exception are Java <a href=\"https://docs.oracle.com/en/java/javase/17/language/records.html\" rel=\"nofollow noreferrer\">Record Classes</a> where Gson does use the args constructor and accessor methods.)</p>\n<blockquote>\n<p>what is the default behavior when gson is parsing a response (in this case: d,e...), and it can't find an equivalent variable in the Type?</p>\n</blockquote>\n<p>It just ignores them. But this is unfortunately also something you cannot configure at the moment, see <a href=\"https://github.com/google/gson/issues/188\" rel=\"nofollow noreferrer\">Gson issue 188</a>.</p>\n<blockquote>\n<p>&quot;exclude&quot; fields by using exclusion strategies</p>\n</blockquote>\n<p>Gson's <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/ExclusionStrategy.html\" rel=\"nofollow noreferrer\"><code>ExclusionStrategy</code></a> is rather for the opposite use case: A field exists in your Java class but you don't want it to be serialized or deserialized. For simple cases you can also make the field <code>transient</code> to exclude it.</p>\n<blockquote>\n<p>In addition, does order matter? say the order of mappings is a, b, c, d.... what happens if we switch where a and b are in Sample?</p>\n</blockquote>\n<p>The order of fields in the Java class does not matter when deserializing from JSON, but it does matter when serializing to JSON.<br />\nThe order in the JSON data when deserializing does not matter in most cases, and in your use case most likely it doesn't. Cases where it does matter are:</p>\n<ul>\n<li>A JSON object contains members with duplicate names. Then normally the last occurrence will be used, for example <code>{&quot;a&quot;:1,&quot;a&quot;:2}</code> will have the same effect as <code>{&quot;a&quot;:2}</code>.</li>\n<li>You are deserializing as <code>Map</code>, <code>Object</code> or <a href=\"https://javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonObject.html\" rel=\"nofollow noreferrer\"><code>JsonObject</code></a>. Then Gson will create a <code>Map</code> instance which preserves the order, which can be seen when you iterate for example over <code>Map.entrySet()</code>. But the different iteration order might not (and probably should not) matter for your application logic.</li>\n</ul>\n<hr />\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>Type sampleListType = new TypeToken&lt;List&lt;Sample&gt;&gt;() {}.getType(); \nList&lt;Sample&gt; stashLines = gson.fromJson(sampleLines, sampleListType);\n</code></pre>\n</blockquote>\n<p>In Gson version &gt;= 2.10 you can use the <code>Gson.fromJson(..., TypeToken)</code> overloads. You should prefer them over the <code>Gson.fromJson(..., Type)</code> overloads you are using because they are type-safe<sup>[1]</sup>. So you could change your code to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>TypeToken&lt;List&lt;Sample&gt;&gt; sampleListType = new TypeToken&lt;List&lt;Sample&gt;&gt;() {}; \nList&lt;Sample&gt; stashLines = gson.fromJson(sampleLines, sampleListType);\n</code></pre>\n<p>In Java 9 this becomes more concise because you can use the 'diamond form' with anonymous classes:<br />\n<code>TypeToken&lt;List&lt;Sample&gt;&gt; sampleListType = new TypeToken&lt;&gt;() {};</code><br />\nAnd in Java 10 you can alternatively use <code>var</code>:<br />\n<code>var sampleListType = new TypeToken&lt;List&lt;Sample&gt;&gt;() {};</code></p>\n<hr />\n<p>[1]: For example <code>Gson.fromJson(..., Type)</code> lets you write non-type-safe code like this, which compiles without warnings but fails at runtime:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Note: Mismatch between `WrongClass` and `MyClass`\nList&lt;WrongClass&gt; list = new Gson().fromJson(&quot;[{}]&quot;, new TypeToken&lt;List&lt;MyClass&gt;&gt;() {}.getType());\n// Throws ClassCastException\nWrongClass first = list.get(0);\n</code></pre>\n"}],"owner":{"account_id":17675249,"reputation":155,"user_id":12830338,"display_name":"anon comp"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77609761,"answer_count":1,"score":0,"last_activity_date":1701818841,"creation_date":1701741477,"question_id":77603437,"body_markdown":"I&#39;m pretty new to serialization in Java, and I have several questions I&#39;ve gathered as I&#39;ve been reading into it.\r\n\r\nsay you want to deserialize a json response, and that json response has a bunch of fields (eg - a, b,c,d,e,f,g,h) but you only want a,b,c. the api youre trying to hit is paginated, so you loop through them.  also you declare a metadataclass, say Sample.java  like so to only include the fields you want:\r\n\r\n```\r\n@Data \r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n\r\npublic class Sample {\r\n    private String a;\r\n    private String b;\r\n    private String c;\r\n}\r\n```\r\n\r\n\r\nsay your service class does this:\r\n```\r\nUriComponentsBuilder createBranchUri = UriComponentsBuilder.fromUriString(requestUrl);\r\ntry { \r\n    Gson gson = new Gson(); \r\n    Type sampleListType = new TypeToken&lt;List&lt;Sample&gt;&gt;() {}.getType(); \r\n    //loop through the pages and make requests JsonArray sampleLines =      paginatedRequest(restTemplate, createBranchUri, &quot;values&quot;); \r\n    List&lt;Sample&gt; stashLines = gson.fromJson(sampleLines, sampleListType); \r\n..........\r\n```\r\n\r\nis this allowed? meaning will it handle the serialization without erroring and properly assign the values for String a, b and c? or are we only able to &quot;exclude&quot; fields by using exclusion strategies like the ones described here or by directly indexing into the json object. worded another way - what is the default behavior when gson is parsing a response (in this case: d,e...), and it can&#39;t find an equivalent variable in the Type?\r\nIn addition, does order matter? say the order of mappings is a, b, c, d....\r\nwhat happens if we switch where a and b are in Sample?","title":"Questions about JSON/Gson serialization and deserialization","body":"<p>I'm pretty new to serialization in Java, and I have several questions I've gathered as I've been reading into it.</p>\n<p>say you want to deserialize a json response, and that json response has a bunch of fields (eg - a, b,c,d,e,f,g,h) but you only want a,b,c. the api youre trying to hit is paginated, so you loop through them.  also you declare a metadataclass, say Sample.java  like so to only include the fields you want:</p>\n<pre><code>@Data \n@NoArgsConstructor\n@AllArgsConstructor\n\npublic class Sample {\n    private String a;\n    private String b;\n    private String c;\n}\n</code></pre>\n<p>say your service class does this:</p>\n<pre><code>UriComponentsBuilder createBranchUri = UriComponentsBuilder.fromUriString(requestUrl);\ntry { \n    Gson gson = new Gson(); \n    Type sampleListType = new TypeToken&lt;List&lt;Sample&gt;&gt;() {}.getType(); \n    //loop through the pages and make requests JsonArray sampleLines =      paginatedRequest(restTemplate, createBranchUri, &quot;values&quot;); \n    List&lt;Sample&gt; stashLines = gson.fromJson(sampleLines, sampleListType); \n..........\n</code></pre>\n<p>is this allowed? meaning will it handle the serialization without erroring and properly assign the values for String a, b and c? or are we only able to &quot;exclude&quot; fields by using exclusion strategies like the ones described here or by directly indexing into the json object. worded another way - what is the default behavior when gson is parsing a response (in this case: d,e...), and it can't find an equivalent variable in the Type?\nIn addition, does order matter? say the order of mappings is a, b, c, d....\nwhat happens if we switch where a and b are in Sample?</p>\n"},{"tags":["java","android","kotlin","android-jetpack-compose","android-compose-textfield"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1701819099,"post_id":77609773,"comment_id":136822080,"body_markdown":"I will be somewhat surprised if this works well for you. &quot;And how can you get the current value that is entered into a field from Java code?&quot; -- in your code sample, I think it is `s`. It is the parameter passed to the `onValueChanged` callback, and you will need to not only hold onto it yourself, but need to supply it back to `InputTextField()` as `text`.","body":"I will be somewhat surprised if this works well for you. &quot;And how can you get the current value that is entered into a field from Java code?&quot; -- in your code sample, I think it is <code>s</code>. It is the parameter passed to the <code>onValueChanged</code> callback, and you will need to not only hold onto it yourself, but need to supply it back to <code>InputTextField()</code> as <code>text</code>."},{"owner":{"account_id":21376295,"reputation":1124,"user_id":15742980,"display_name":"testivanivan"},"score":0,"creation_date":1701819550,"post_id":77609773,"comment_id":136822130,"body_markdown":"@CommonsWare,\n&quot;but need to supply it back to InputTextField() as text&quot;. Did I understand you correctly, I will need  in Java code inside onValueChangeCallback call the initComposeInputFiled again with s ?","body":"@CommonsWare, &quot;but need to supply it back to InputTextField() as text&quot;. Did I understand you correctly, I will need  in Java code inside onValueChangeCallback call the initComposeInputFiled again with s ?"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1701819774,"post_id":77609773,"comment_id":136822152,"body_markdown":"You will need to do something like that. Put Java aside for a moment and focus on Compose. I am assuming that `InputTextField()` is from your design system and wraps `TextField()` or `BasicTextField()`. If so, those are stateless. If you were to write this purely in Kotlin and Compose, the value passed to `onValueChanged` would typically go in a `MutableState` that you `remember()`, and the `text` parameter to the field would reference that state. That is how the field knows the text to render without it holding its own state: you pass in that text on each recomposition.","body":"You will need to do something like that. Put Java aside for a moment and focus on Compose. I am assuming that <code>InputTextField()</code> is from your design system and wraps <code>TextField()</code> or <code>BasicTextField()</code>. If so, those are stateless. If you were to write this purely in Kotlin and Compose, the value passed to <code>onValueChanged</code> would typically go in a <code>MutableState</code> that you <code>remember()</code>, and the <code>text</code> parameter to the field would reference that state. That is how the field knows the text to render without it holding its own state: you pass in that text on each recomposition."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1701819918,"post_id":77609773,"comment_id":136822167,"body_markdown":"The fact that you&#39;re trying to all of this from Java does not change that. You will still need to manage the state in your own code; it&#39;s just that this code is Java. That&#39;s why I am skeptical that this will work, as I don&#39;t know how recompositions are going to hold up in this approach.","body":"The fact that you&#39;re trying to all of this from Java does not change that. You will still need to manage the state in your own code; it&#39;s just that this code is Java. That&#39;s why I am skeptical that this will work, as I don&#39;t know how recompositions are going to hold up in this approach."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1701820209,"post_id":77609773,"comment_id":136822194,"body_markdown":"You might be better served creating a stateful field, wrapping that in a dedicated `ComposeView`, then using that as an ordinary `View` from Java.","body":"You might be better served creating a stateful field, wrapping that in a dedicated <code>ComposeView</code>, then using that as an ordinary <code>View</code> from Java."},{"owner":{"account_id":21376295,"reputation":1124,"user_id":15742980,"display_name":"testivanivan"},"score":0,"creation_date":1701821068,"post_id":77609773,"comment_id":136822285,"body_markdown":"Have you come across examples of such implementation? since I am new in jetpack compose it is difficult for me to perceive information in words","body":"Have you come across examples of such implementation? since I am new in jetpack compose it is difficult for me to perceive information in words"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1701823492,"post_id":77609773,"comment_id":136822520,"body_markdown":"I have not tried to do this in general, let alone from something wrapped in a `ComposeView` -- sorry!","body":"I have not tried to do this in general, let alone from something wrapped in a <code>ComposeView</code> -- sorry!"}],"owner":{"account_id":21376295,"reputation":1124,"user_id":15742980,"display_name":"testivanivan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701818794,"creation_date":1701818794,"question_id":77609773,"body_markdown":"I have custom composable InputTextField. I needed to use this field to enter text from Java code. For this I created a helper method in Kotlin: \r\n\r\n    fun ComposeView.initInputField(\r\n        text: String,\r\n        onValueChanged: (String) -&gt; Unit,\r\n        isEditable: Boolean = true,\r\n    ) {\r\n        setContent {\r\n            RncbTheme {\r\n                InputTextField(\r\n                    text = text, \r\n                    onValueChange = onValueChanged,\r\n                    isEditable = isEditable,\r\n                 )\r\n        }\r\n    }\r\n\r\nHere is my java code: \r\n\r\n     @Override\r\n        public void initComposeInputFiled(String initialText) {\r\n     \r\n            InputFieldKt.initInputField(composeInputView, initialText, s -&gt; {\r\n                // onValueChange\r\n                return Unit.INSTANCE;\r\n            });\r\n        }\r\n\r\nThe problem is that I don&#39;t quite understand how to manage this field from Java code. Should I call the `initComposeInputFiled`  method every time if I need to write a specific value to a field ?\r\nAnd how can you get the current value that is entered into a field from Java code? \r\n\r\n\r\nPlease, help me. ","title":"Android. How to use composable TextField from Java code?","body":"<p>I have custom composable InputTextField. I needed to use this field to enter text from Java code. For this I created a helper method in Kotlin:</p>\n<pre><code>fun ComposeView.initInputField(\n    text: String,\n    onValueChanged: (String) -&gt; Unit,\n    isEditable: Boolean = true,\n) {\n    setContent {\n        RncbTheme {\n            InputTextField(\n                text = text, \n                onValueChange = onValueChanged,\n                isEditable = isEditable,\n             )\n    }\n}\n</code></pre>\n<p>Here is my java code:</p>\n<pre><code> @Override\n    public void initComposeInputFiled(String initialText) {\n \n        InputFieldKt.initInputField(composeInputView, initialText, s -&gt; {\n            // onValueChange\n            return Unit.INSTANCE;\n        });\n    }\n</code></pre>\n<p>The problem is that I don't quite understand how to manage this field from Java code. Should I call the <code>initComposeInputFiled</code>  method every time if I need to write a specific value to a field ?\nAnd how can you get the current value that is entered into a field from Java code?</p>\n<p>Please, help me.</p>\n"},{"tags":["java","apache-kafka"],"owner":{"account_id":290142,"reputation":468,"user_id":591525,"display_name":"jsmaupin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701818777,"creation_date":1701818777,"question_id":77609772,"body_markdown":"We have three Kafka brokers version 1.1.1 on c5.4xlarge AWS instances. There is currently about 750 topics and about 1800 partitions. For certain reasons we cannot upgrade soon. One team connected to these brokers has mentioned that occasionally, the time to receive an ACK (with `acks=1`) takes over 10 seconds. The p95 response time of the ACKS is about 11ms.  I&#39;m a bit confused as to what could be causing this. \r\n\r\nWe are running the following version of Java\r\n```$ java -version\r\nopenjdk version &quot;1.8.0_382&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_382-b05)\r\nOpenJDK 64-Bit Server VM (build 25.382-b05, mixed mode)\r\n```\r\n\r\nYou can see the delay on the producer side in these logs.  This is a test producer that sends messages synchronously by waiting on the future with `send().get()`, through the Kafka Spring client.\r\n\r\n```\r\n2023-12-05 19:27:15.036 TRACE 1664 --- [ | TestProducer] o.a.k.clients.producer.internals.Sender  : [Producer clientId=TestProducer] Nodes with data ready to send: [kafka1:6667 (id: 1001 rack: us-west-2a)]\r\n2023-12-05 19:27:15.036 TRACE 1664 --- [ | TestProducer] o.a.k.clients.producer.internals.Sender  : [Producer clientId=TestProducer] Sent produce request to 1001: (type=ProduceRequest, acks=1, timeout=30000, partitionRecords=({test-producer-2=[(record=DefaultRecord(offset=0, timestamp=1701804435036, key=0 bytes, value=3 bytes))]}), transactionalId=&#39;&#39;\r\n2023-12-05 19:27:25.062 TRACE 1664 --- [ | TestProducer] o.a.k.clients.producer.internals.Sender  : [Producer clientId=TestProducer] Received produce response from node 1001 with correlation id 59645\r\n2023-12-05 19:27:25.062 TRACE 1664 --- [ | TestProducer] o.a.k.c.p.internals.ProducerBatch        : Successfully produced messages to test-producer-2 with base offset 283532.\r\n2023-12-05 19:27:25.062  INFO 1664 --- [   scheduling-1] com.company.kafkatest.Service             : Publish completed in 10025ms, Start: 2023-12-05T19:27:15.036Z, End: 2023-12-05T19:27:25.062Z. Metadata test-producer-2@283532\r\n```\r\n\r\nOn the broker side, we can see the request log which was entered at `2023-12-05 13:27:25.062`\r\n```\r\nCompleted request:RequestHeader(apiKey=PRODUCE, apiVersion=5, clientId=TestProducer, correlationId=59645) -- {acks=1,timeout=30000,numPartitions=1},response:{responses=[{topic=produce-test,partition_responses=[{partition=2,error_code=0,base_offset=283532,log_append_time=-1,log_start_offset=91996}]}],throttle_time_ms=0} from connection 10.0.0.13:6667-[redacted broker IP]:37072-52576;totalTime:15.921,requestQueueTime:0.025,localTime:0.51,remoteTime:0.0,throttleTime:0.017,responseQueueTime:15.174,sendTime:0.213,securityProtocol:SASL_OAUTHBEARER,principal:User:[redacted],listener:SASL_OAUTHBEARER (kafka.request.logger)\r\n```\r\n\r\nHere are some of the non-default configs we have on the broker side:\r\n```\r\nnum.partitions=3\r\nnum.recovery.threads.per.data.dir=32\r\n\r\n# replica timings\r\nmax.incremental.fetch.session.cache.slots=20000\r\nreplica.lag.time.max.ms=90000\r\nnum.replica.fetchers=8\r\nnum.io.threads=16\r\nnum.network.threads=32\r\nheartbeat.interval.ms=9000\r\nsession.timeout.ms=30000\r\n```\r\n\r\nThe producer using library version `1.1.1` is using all the defaults and `acks=1`. Here is the producer config that is printed in the logs:\r\n```\r\n2023-12-05 19:24:58.971  INFO 1664 --- [   scheduling-1] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values:\r\n        acks = 1\r\n        batch.size = 16384\r\n        bootstrap.servers = [kafka1:6667, kafka2:6667, kafka3:6667]\r\n        buffer.memory = 33554432\r\n        client.id = TestProducer\r\n        compression.type = none\r\n        connections.max.idle.ms = 540000\r\n        enable.idempotence = false\r\n        interceptor.classes = []\r\n        key.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n        linger.ms = 0\r\n        max.block.ms = 60000\r\n        max.in.flight.requests.per.connection = 5\r\n        max.request.size = 1048576\r\n        metadata.max.age.ms = 300000\r\n        metric.reporters = []\r\n        metrics.num.samples = 2\r\n        metrics.recording.level = INFO\r\n        metrics.sample.window.ms = 30000\r\n        partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n        receive.buffer.bytes = 32768\r\n        reconnect.backoff.max.ms = 1000\r\n        reconnect.backoff.ms = 50\r\n        request.timeout.ms = 30000\r\n        retries = 0\r\n        retry.backoff.ms = 100\r\n        sasl.jaas.config = [hidden]\r\n\r\n        [removed some sasl configs]\r\n\r\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n        sasl.kerberos.min.time.before.relogin = 60000\r\n        sasl.kerberos.service.name = null\r\n        sasl.kerberos.ticket.renew.jitter = 0.05\r\n        sasl.kerberos.ticket.renew.window.factor = 0.8\r\n        sasl.mechanism = OAUTHBEARER\r\n        security.protocol = SASL_OAUTHBEARER\r\n        send.buffer.bytes = 131072\r\n        ssl.cipher.suites = null\r\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]\r\n        ssl.endpoint.identification.algorithm = null\r\n        ssl.key.password = null\r\n        ssl.keymanager.algorithm = SunX509\r\n        ssl.keystore.location = null\r\n        ssl.keystore.password = null\r\n        ssl.keystore.type = JKS\r\n        ssl.protocol = TLS\r\n        ssl.provider = null\r\n        ssl.secure.random.implementation = null\r\n        ssl.trustmanager.algorithm = PKIX\r\n        ssl.truststore.location = null\r\n        ssl.truststore.password = null\r\n        ssl.truststore.type = JKS\r\n        transaction.timeout.ms = 60000\r\n        transactional.id = null\r\n        value.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n```\r\n\r\nAlso, for the JVM options, we are using:\r\n```\r\nKAFKA_HEAP_OPTS=&quot;-Xmx4G -Xms4G&quot;\r\nKAFKA_JVM_PERFORMANCE_OPTS=&quot;-server -XX:+UseCompressedOops -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:+CMSScavengeBeforeRemark -XX:+DisableExplicitGC -Djava.awt.headless=true&quot;\r\n```\r\n\r\nNote that the CPU usage on these brokers usually sits around 3%, and the load is almost non-existent.","title":"Seeing intermittent long ACK times in Kafka Producer (10 seconds)","body":"<p>We have three Kafka brokers version 1.1.1 on c5.4xlarge AWS instances. There is currently about 750 topics and about 1800 partitions. For certain reasons we cannot upgrade soon. One team connected to these brokers has mentioned that occasionally, the time to receive an ACK (with <code>acks=1</code>) takes over 10 seconds. The p95 response time of the ACKS is about 11ms.  I'm a bit confused as to what could be causing this.</p>\n<p>We are running the following version of Java</p>\n<pre><code>openjdk version &quot;1.8.0_382&quot;\nOpenJDK Runtime Environment (build 1.8.0_382-b05)\nOpenJDK 64-Bit Server VM (build 25.382-b05, mixed mode)\n</code></pre>\n<p>You can see the delay on the producer side in these logs.  This is a test producer that sends messages synchronously by waiting on the future with <code>send().get()</code>, through the Kafka Spring client.</p>\n<pre><code>2023-12-05 19:27:15.036 TRACE 1664 --- [ | TestProducer] o.a.k.clients.producer.internals.Sender  : [Producer clientId=TestProducer] Nodes with data ready to send: [kafka1:6667 (id: 1001 rack: us-west-2a)]\n2023-12-05 19:27:15.036 TRACE 1664 --- [ | TestProducer] o.a.k.clients.producer.internals.Sender  : [Producer clientId=TestProducer] Sent produce request to 1001: (type=ProduceRequest, acks=1, timeout=30000, partitionRecords=({test-producer-2=[(record=DefaultRecord(offset=0, timestamp=1701804435036, key=0 bytes, value=3 bytes))]}), transactionalId=''\n2023-12-05 19:27:25.062 TRACE 1664 --- [ | TestProducer] o.a.k.clients.producer.internals.Sender  : [Producer clientId=TestProducer] Received produce response from node 1001 with correlation id 59645\n2023-12-05 19:27:25.062 TRACE 1664 --- [ | TestProducer] o.a.k.c.p.internals.ProducerBatch        : Successfully produced messages to test-producer-2 with base offset 283532.\n2023-12-05 19:27:25.062  INFO 1664 --- [   scheduling-1] com.company.kafkatest.Service             : Publish completed in 10025ms, Start: 2023-12-05T19:27:15.036Z, End: 2023-12-05T19:27:25.062Z. Metadata test-producer-2@283532\n</code></pre>\n<p>On the broker side, we can see the request log which was entered at <code>2023-12-05 13:27:25.062</code></p>\n<pre><code>Completed request:RequestHeader(apiKey=PRODUCE, apiVersion=5, clientId=TestProducer, correlationId=59645) -- {acks=1,timeout=30000,numPartitions=1},response:{responses=[{topic=produce-test,partition_responses=[{partition=2,error_code=0,base_offset=283532,log_append_time=-1,log_start_offset=91996}]}],throttle_time_ms=0} from connection 10.0.0.13:6667-[redacted broker IP]:37072-52576;totalTime:15.921,requestQueueTime:0.025,localTime:0.51,remoteTime:0.0,throttleTime:0.017,responseQueueTime:15.174,sendTime:0.213,securityProtocol:SASL_OAUTHBEARER,principal:User:[redacted],listener:SASL_OAUTHBEARER (kafka.request.logger)\n</code></pre>\n<p>Here are some of the non-default configs we have on the broker side:</p>\n<pre><code>num.partitions=3\nnum.recovery.threads.per.data.dir=32\n\n# replica timings\nmax.incremental.fetch.session.cache.slots=20000\nreplica.lag.time.max.ms=90000\nnum.replica.fetchers=8\nnum.io.threads=16\nnum.network.threads=32\nheartbeat.interval.ms=9000\nsession.timeout.ms=30000\n</code></pre>\n<p>The producer using library version <code>1.1.1</code> is using all the defaults and <code>acks=1</code>. Here is the producer config that is printed in the logs:</p>\n<pre><code>2023-12-05 19:24:58.971  INFO 1664 --- [   scheduling-1] o.a.k.clients.producer.ProducerConfig    : ProducerConfig values:\n        acks = 1\n        batch.size = 16384\n        bootstrap.servers = [kafka1:6667, kafka2:6667, kafka3:6667]\n        buffer.memory = 33554432\n        client.id = TestProducer\n        compression.type = none\n        connections.max.idle.ms = 540000\n        enable.idempotence = false\n        interceptor.classes = []\n        key.serializer = class org.apache.kafka.common.serialization.StringSerializer\n        linger.ms = 0\n        max.block.ms = 60000\n        max.in.flight.requests.per.connection = 5\n        max.request.size = 1048576\n        metadata.max.age.ms = 300000\n        metric.reporters = []\n        metrics.num.samples = 2\n        metrics.recording.level = INFO\n        metrics.sample.window.ms = 30000\n        partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\n        receive.buffer.bytes = 32768\n        reconnect.backoff.max.ms = 1000\n        reconnect.backoff.ms = 50\n        request.timeout.ms = 30000\n        retries = 0\n        retry.backoff.ms = 100\n        sasl.jaas.config = [hidden]\n\n        [removed some sasl configs]\n\n        sasl.kerberos.kinit.cmd = /usr/bin/kinit\n        sasl.kerberos.min.time.before.relogin = 60000\n        sasl.kerberos.service.name = null\n        sasl.kerberos.ticket.renew.jitter = 0.05\n        sasl.kerberos.ticket.renew.window.factor = 0.8\n        sasl.mechanism = OAUTHBEARER\n        security.protocol = SASL_OAUTHBEARER\n        send.buffer.bytes = 131072\n        ssl.cipher.suites = null\n        ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]\n        ssl.endpoint.identification.algorithm = null\n        ssl.key.password = null\n        ssl.keymanager.algorithm = SunX509\n        ssl.keystore.location = null\n        ssl.keystore.password = null\n        ssl.keystore.type = JKS\n        ssl.protocol = TLS\n        ssl.provider = null\n        ssl.secure.random.implementation = null\n        ssl.trustmanager.algorithm = PKIX\n        ssl.truststore.location = null\n        ssl.truststore.password = null\n        ssl.truststore.type = JKS\n        transaction.timeout.ms = 60000\n        transactional.id = null\n        value.serializer = class org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>Also, for the JVM options, we are using:</p>\n<pre><code>KAFKA_HEAP_OPTS=&quot;-Xmx4G -Xms4G&quot;\nKAFKA_JVM_PERFORMANCE_OPTS=&quot;-server -XX:+UseCompressedOops -XX:+UseParNewGC -XX:+UseConcMarkSweepGC -XX:+CMSClassUnloadingEnabled -XX:+CMSScavengeBeforeRemark -XX:+DisableExplicitGC -Djava.awt.headless=true&quot;\n</code></pre>\n<p>Note that the CPU usage on these brokers usually sits around 3%, and the load is almost non-existent.</p>\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":1,"creation_date":1701259696,"post_id":77570957,"comment_id":136752984,"body_markdown":"It specifies you should use the SslContextBuilder (see [here](https://netty.io/4.1/api/io/netty/handler/ssl/SslContext.html#newClientContext--) ; the intro of the page gives of code example)","body":"It specifies you should use the SslContextBuilder (see <a href=\"https://netty.io/4.1/api/io/netty/handler/ssl/SslContext.html#newClientContext--\" rel=\"nofollow noreferrer\">here</a> ; the intro of the page gives of code example)"},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1701259954,"post_id":77570957,"comment_id":136753024,"body_markdown":"This is correct, thanks, upvoted (if you want to make it an answer, up to you)","body":"This is correct, thanks, upvoted (if you want to make it an answer, up to you)"},{"owner":{"account_id":1852014,"reputation":24139,"user_id":1678362,"display_name":"Aaron"},"score":0,"creation_date":1701284891,"post_id":77570957,"comment_id":136757980,"body_markdown":"I&#39;m good thanks :)","body":"I&#39;m good thanks :)"}],"answers":[{"tags":[],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701818752,"creation_date":1701818752,"answer_id":77609769,"question_id":77570957,"body_markdown":"As Aaron said (credits to him), we can use ```SslContextBuilder.forClient().build()```","title":"io.netty.handler.ssl.SslContext.newClientContext() deprecated in favor of?","body":"<p>As Aaron said (credits to him), we can use <code>SslContextBuilder.forClient().build()</code></p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77609769,"answer_count":1,"score":0,"last_activity_date":1701818752,"creation_date":1701259122,"question_id":77570957,"body_markdown":"- What I am trying to achieve:\r\n\r\nI would like to create a dummy SslContext (the one from io.netty.handler.ssl.SslContext, not SSLContext) during my testing.\r\n\r\n- What did I try:\r\n\r\nSince it is a dummy and it is for testing only, I used ```io.netty.handler.ssl.SslContext.newClientContext() ```, which creates a SslContext object, probably not secure, but good enough for my tests.\r\n\r\n- Issue:\r\n\r\nUnfortunately, now using ```netty-handler-4.1.100.Final.jar```, ```SslContext.newClientContext()``` seems to be deprecated.\r\n\r\nHowever, the doc does not mention what is the replacement.\r\n\r\n```\r\n    /** @deprecated */\r\n    @Deprecated\r\n    public static SslContext newClientContext() throws SSLException {\r\n        return newClientContext((SslProvider)null, (File)null, (TrustManagerFactory)null);\r\n    }\r\n```\r\n\r\n- Question:\r\n\r\nI do not have certificates, keys, or any other security related material, and would like to avoid creating some just for the sake of the test if possible.\r\nWhat is the non deprecated alternative to ```SslContext.newClientContext()```? \r\n","title":"io.netty.handler.ssl.SslContext.newClientContext() deprecated in favor of?","body":"<ul>\n<li>What I am trying to achieve:</li>\n</ul>\n<p>I would like to create a dummy SslContext (the one from io.netty.handler.ssl.SslContext, not SSLContext) during my testing.</p>\n<ul>\n<li>What did I try:</li>\n</ul>\n<p>Since it is a dummy and it is for testing only, I used <code>io.netty.handler.ssl.SslContext.newClientContext() </code>, which creates a SslContext object, probably not secure, but good enough for my tests.</p>\n<ul>\n<li>Issue:</li>\n</ul>\n<p>Unfortunately, now using <code>netty-handler-4.1.100.Final.jar</code>, <code>SslContext.newClientContext()</code> seems to be deprecated.</p>\n<p>However, the doc does not mention what is the replacement.</p>\n<pre><code>    /** @deprecated */\n    @Deprecated\n    public static SslContext newClientContext() throws SSLException {\n        return newClientContext((SslProvider)null, (File)null, (TrustManagerFactory)null);\n    }\n</code></pre>\n<ul>\n<li>Question:</li>\n</ul>\n<p>I do not have certificates, keys, or any other security related material, and would like to avoid creating some just for the sake of the test if possible.\nWhat is the non deprecated alternative to <code>SslContext.newClientContext()</code>?</p>\n"},{"tags":["java","ssh","junit","jsch"],"comments":[{"owner":{"account_id":453710,"reputation":192103,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":0,"creation_date":1701845569,"post_id":77609758,"comment_id":136824175,"body_markdown":"*&quot;Fails&quot;* fails as a problem description.","body":"<i>&quot;Fails&quot;</i> fails as a problem description."},{"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"score":0,"creation_date":1701869402,"post_id":77609758,"comment_id":136828178,"body_markdown":"Please [edit] your question to describe exactly what happens when you run your code and it fails. Consider enabling [debug logging](https://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/Logger.html) and including the output in your question.","body":"Please <a href=\"https://stackoverflow.com/posts/77609758/edit\">edit</a> your question to describe exactly what happens when you run your code and it fails. Consider enabling <a href=\"https://epaul.github.io/jsch-documentation/simple.javadoc/com/jcraft/jsch/Logger.html\" rel=\"nofollow noreferrer\">debug logging</a> and including the output in your question."}],"owner":{"account_id":382390,"reputation":2430,"user_id":737585,"accept_rate":63,"display_name":"jAckOdE"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701818386,"creation_date":1701818386,"question_id":77609758,"body_markdown":"This exact code to open jsch ssh connection to a remote host fails when it run in a junit \r\n@BeforeEach method, but work fine in main() of a java application.\r\n \r\n\r\n```\r\n    String host = &quot;192.168.1.100&quot;;\r\n    int port = 22;\r\n    String user = &quot;ubuntu&quot;;\r\n    String identityFile = &quot;key.pem&quot;;\r\n    JSch jsch = new JSch();\r\n    jsch.addIdentity(identityFile);\r\n    \r\n    sshSession = jsch.getSession(user, host, port);\r\n    Properties config = new Properties();\r\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    sshSession.setConfig(config);\r\n    sshSession.connect();\r\n```\r\n\r\n\r\nIs there something special about JUnit runtime that might block this? ","title":"Jsch connection refused when connect from within Junit","body":"<p>This exact code to open jsch ssh connection to a remote host fails when it run in a junit\n@BeforeEach method, but work fine in main() of a java application.</p>\n<pre><code>    String host = &quot;192.168.1.100&quot;;\n    int port = 22;\n    String user = &quot;ubuntu&quot;;\n    String identityFile = &quot;key.pem&quot;;\n    JSch jsch = new JSch();\n    jsch.addIdentity(identityFile);\n    \n    sshSession = jsch.getSession(user, host, port);\n    Properties config = new Properties();\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\n    sshSession.setConfig(config);\n    sshSession.connect();\n</code></pre>\n<p>Is there something special about JUnit runtime that might block this?</p>\n"},{"tags":["java","string","ascii"],"comments":[{"owner":{"account_id":27451004,"reputation":3,"user_id":20943252,"display_name":"BloxyBloxy"},"score":0,"creation_date":1701809194,"post_id":77609137,"comment_id":136820775,"body_markdown":"P.S, I dont know the term to unescaped strings, and I dont want to use generic replace methods, I want to escape any supposing escape characters.","body":"P.S, I dont know the term to unescaped strings, and I dont want to use generic replace methods, I want to escape any supposing escape characters."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":4,"creation_date":1701809870,"post_id":77609137,"comment_id":136820870,"body_markdown":"There isn&#39;t, and, you&#39;ve got your terms mixed up. Your input string is &#39;escaped&#39;, and that method should be called &#39;unescape&#39;. The concept of a &#39;backslash-n&#39; is called an &#39;escape&#39;; hence, turning a string containing a newline into a string containing backslash + n is &#39;escaping&#39; it, and the reverse is &#39;unescaping&#39; it. Note that this sounds like an X/Y problem. For example, you used regexes to parse a string out of some JSON. The real solution is to use a JSON library, not to try to write your own unescaper. There is no such method in core java.","body":"There isn&#39;t, and, you&#39;ve got your terms mixed up. Your input string is &#39;escaped&#39;, and that method should be called &#39;unescape&#39;. The concept of a &#39;backslash-n&#39; is called an &#39;escape&#39;; hence, turning a string containing a newline into a string containing backslash + n is &#39;escaping&#39; it, and the reverse is &#39;unescaping&#39; it. Note that this sounds like an X/Y problem. For example, you used regexes to parse a string out of some JSON. The real solution is to use a JSON library, not to try to write your own unescaper. There is no such method in core java."},{"owner":{"account_id":27451004,"reputation":3,"user_id":20943252,"display_name":"BloxyBloxy"},"score":0,"creation_date":1701810004,"post_id":77609137,"comment_id":136820892,"body_markdown":"@rzwitserloot ok, the  java suceks, I give up on using it...","body":"@rzwitserloot ok, the  java suceks, I give up on using it..."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":4,"creation_date":1701810458,"post_id":77609137,"comment_id":136820964,"body_markdown":"since Java 15: `String myConverted = myString.translateEscapes();` - [documentation](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#translateEscapes()) (which can be searched)","body":"since Java 15: <code>String myConverted = myString.translateEscapes();</code> - <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#translateEscapes()\" rel=\"nofollow noreferrer\">documentation</a> (which can be searched)"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1701811505,"post_id":77609137,"comment_id":136821102,"body_markdown":"Ah, hey, now - nice find, @user85421 - so there is!","body":"Ah, hey, now - nice find, @user85421 - so there is!"},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":1,"creation_date":1701817399,"post_id":77609137,"comment_id":136821908,"body_markdown":"*&quot;the java suceks, I give up on using it.&quot;* -- somehow I think Java will not suffer because of this.","body":"<i>&quot;the java suceks, I give up on using it.&quot;</i> -- somehow I think Java will not suffer because of this."},{"owner":{"account_id":27451004,"reputation":3,"user_id":20943252,"display_name":"BloxyBloxy"},"score":0,"creation_date":1701847157,"post_id":77609137,"comment_id":136824382,"body_markdown":"@dilettante I dont really mean it, im sure java is a really great language, and so are others too! Im just, having a hard time wrapping my mind around java.","body":"@dilettante I dont really mean it, im sure java is a really great language, and so are others too! Im just, having a hard time wrapping my mind around java."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1701911851,"post_id":77609137,"comment_id":136834974,"body_markdown":"Technically, those are _un-escaped_, _un-escaped_ _[escape characters](https://en.wikipedia.org/wiki/Escape_character)_.","body":"Technically, those are <i>un-escaped</i>, <i>un-escaped</i> <i><a href=\"https://en.wikipedia.org/wiki/Escape_character\" rel=\"nofollow noreferrer\">escape characters</a></i>."}],"answers":[{"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1701816424,"post_id":77609421,"comment_id":136821795,"body_markdown":"No need for `String::replace`, just use [`String::translateEscapes`](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#translateEscapes()).","body":"No need for <code>String::replace</code>, just use <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/lang/String.html#translateEscapes()\" rel=\"nofollow noreferrer\"><code>String::translateEscapes</code></a>."},{"owner":{"account_id":27451004,"reputation":3,"user_id":20943252,"display_name":"BloxyBloxy"},"score":0,"creation_date":1701847463,"post_id":77609421,"comment_id":136824420,"body_markdown":"You helped the development of the programming language Luca! Thank you!","body":"You helped the development of the programming language Luca! Thank you!"}],"tags":[],"owner":{"account_id":12732750,"reputation":519,"user_id":9248765,"display_name":"Ludov Dmitrii"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701817084,"creation_date":1701812852,"answer_id":77609421,"question_id":77609137,"body_markdown":"You are using too much `\\`s. To make new line you need `\\n`, to make `&quot;` will do `\\&quot;`.\r\nPlace 3 of `\\\\\\&quot;` and you get one `\\` escaped before escaped `&quot;`\r\nTherefre if you generate this data it need some adjust. If you recieving it this way, unfortunately you have to make some rules of processing. Hovever since 15 java there is easy way:\r\n\r\n        String myString = &quot;Hello \\\\n \\\\\\&quot;World\\\\\\&quot;&quot;;\r\n        System.out.println(&quot;Before : \\n&quot;);\r\n        String s = myString.translateEscapes();\r\n        System.out.println(&quot;s = &quot; + s);\r\n   \r\n    ","title":"How to convert &#39;unescaped string&#39; to string in Java","body":"<p>You are using too much <code>\\</code>s. To make new line you need <code>\\n</code>, to make <code>&quot;</code> will do <code>\\&quot;</code>.\nPlace 3 of <code>\\\\\\&quot;</code> and you get one <code>\\</code> escaped before escaped <code>&quot;</code>\nTherefre if you generate this data it need some adjust. If you recieving it this way, unfortunately you have to make some rules of processing. Hovever since 15 java there is easy way:</p>\n<pre><code>    String myString = &quot;Hello \\\\n \\\\\\&quot;World\\\\\\&quot;&quot;;\n    System.out.println(&quot;Before : \\n&quot;);\n    String s = myString.translateEscapes();\n    System.out.println(&quot;s = &quot; + s);\n</code></pre>\n"}],"owner":{"account_id":27451004,"reputation":3,"user_id":20943252,"display_name":"BloxyBloxy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77609421,"answer_count":1,"score":-1,"last_activity_date":1701817084,"creation_date":1701808990,"question_id":77609137,"body_markdown":"Question above.\r\n\r\nAnd by &#39;unescaped&#39; I mean `&quot;Hello \\\\n \\\\\\&quot;World\\\\\\&quot;&quot;`.\r\n\r\n```\r\nString myString = &quot;Hello \\\\n \\\\\\&quot;World\\\\\\&quot;&quot;;\r\nSystem.out.println(&quot;Before : \\n&quot;);\r\nSystem.out.println(myString);\r\nString myConverted = escape(myString);\r\nSystem.out.println(&quot;After : \\n&quot;);\r\nSystem.out.println(myConverted);\r\n```\r\n\r\nOutput:\r\n```\r\nBefore :\r\n\r\nHello \\n \\&quot;World\\&quot;\r\nAfter :\r\n\r\nHello\r\n &quot;World&quot;\r\n```\r\n\r\nSo I would be converting it to `&quot;Hello \\n \\&quot;World\\&quot;&quot;`.\r\n\r\nI want it to escape the characters.\r\n\r\nIs there a function to do this? `escape` is only an example.","title":"How to convert &#39;unescaped string&#39; to string in Java","body":"<p>Question above.</p>\n<p>And by 'unescaped' I mean <code>&quot;Hello \\\\n \\\\\\&quot;World\\\\\\&quot;&quot;</code>.</p>\n<pre><code>String myString = &quot;Hello \\\\n \\\\\\&quot;World\\\\\\&quot;&quot;;\nSystem.out.println(&quot;Before : \\n&quot;);\nSystem.out.println(myString);\nString myConverted = escape(myString);\nSystem.out.println(&quot;After : \\n&quot;);\nSystem.out.println(myConverted);\n</code></pre>\n<p>Output:</p>\n<pre><code>Before :\n\nHello \\n \\&quot;World\\&quot;\nAfter :\n\nHello\n &quot;World&quot;\n</code></pre>\n<p>So I would be converting it to <code>&quot;Hello \\n \\&quot;World\\&quot;&quot;</code>.</p>\n<p>I want it to escape the characters.</p>\n<p>Is there a function to do this? <code>escape</code> is only an example.</p>\n"},{"tags":["java","spring-boot","open-telemetry"],"comments":[{"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"score":0,"creation_date":1702315562,"post_id":77609690,"comment_id":136878545,"body_markdown":"Looks like the console appender&#39;s pattern is being mangled. You&#39;ve included just a snippet of the `logback-spring.xml` file, but its not clear how you&#39;re configuring the console appender. Also, I don&#39;t see you calling `OpenTelemetryAppender.install(OpenTelemetry)` so its not clear how exactly the appender is getting a ref to your SdkLoggerProvider instance.","body":"Looks like the console appender&#39;s pattern is being mangled. You&#39;ve included just a snippet of the <code>logback-spring.xml</code> file, but its not clear how you&#39;re configuring the console appender. Also, I don&#39;t see you calling <code>OpenTelemetryAppender.install(OpenTelemetry)</code> so its not clear how exactly the appender is getting a ref to your SdkLoggerProvider instance."}],"owner":{"account_id":3157647,"reputation":447,"user_id":2669657,"display_name":"user2669657"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701817067,"creation_date":1701817067,"question_id":77609690,"body_markdown":"I&#39;m trying to export logs using [opentelemetry manual instrumentation](https://opentelemetry.io/docs/instrumentation/java/manual/#log-appenders) with a custom `SdkLoggerProvider` for a Spring Boot 3 + Tracing + but whenever I try to add back `logback appender` suggested in the documentation the headers generated by spring boot disappear from the logs, does anybody knows how to export logs proper for Spring Boot 3 app?\r\n\r\nWithout [logack appender](https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/logback/logback-appender-1.0/library)\r\n\r\n    2023-12-05T22:36:06.055Z DEBUG [payment-service,traceID=30855c52a5c6025aa466bd16a2ec9791,7cf1b551d2c66da6,requestId=c6e2286e-bc42-4b84-8c63-f33604986ddb] 36480 --- [payment-service] [nio-8080-exec-2] [30855c52a5c6025aa466bd16a2ec9791-7cf1b551d2c66da6] o.s.web.servlet.DispatcherServlet        : GET &quot;/v1/payments?usernameFrom=admina&quot;, parameters={masked}\r\n    2023-12-05T22:36:06.061Z DEBUG [payment-service,traceID=30855c52a5c6025aa466bd16a2ec9791,7cf1b551d2c66da6,requestId=c6e2286e-bc42-4b84-8c63-f33604986ddb] 36480 --- [payment-service] [nio-8080-exec-2] [30855c52a5c6025aa466bd16a2ec9791-7cf1b551d2c66da6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springboot.SimpleRestApplication$PaymentController#getAllByUsernameFrom(String)\r\n    2023-12-05T22:36:06.079Z  INFO [payment-service,traceID=30855c52a5c6025aa466bd16a2ec9791,7cf1b551d2c66da6,requestId=c6e2286e-bc42-4b84-8c63-f33604986ddb] 36480 --- [payment-service] [nio-8080-exec-2] [30855c52a5c6025aa466bd16a2ec9791-7cf1b551d2c66da6] c.e.springboot.SimpleRestApplication     : Return list of payments\r\n    2023-12-05T22:36:06.095Z DEBUG [payment-service,traceID=30855c52a5c6025aa466bd16a2ec9791,7cf1b551d2c66da6,requestId=c6e2286e-bc42-4b84-8c63-f33604986ddb] 36480 --- [payment-service] [nio-8080-exec-2] [30855c52a5c6025aa466bd16a2ec9791-7cf1b551d2c66da6] org.hibernate.SQL                        : select u1_0.username,u1_0.active,u1_0.balance,u1_0.locale from tb_user u1_0 where u1_0.username=?\r\n    Hibernate: select u1_0.username,u1_0.active,u1_0.balance,u1_0.locale from tb_user u1_0 where u1_0.username=?\r\n\r\n\r\nWith logback appender configuration\r\n\r\n    2023-12-05T22:41:02.781Z DEBUG [payment-service,traceID=,,requestId=] 37024 --- [payment-service] [nio-8080-exec-3] [                                                 ] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springboot.SimpleRestApplication$PaymentController#getAllByUsernameFrom(String)\r\n    2023-12-05T22:41:02.783Z  INFO [payment-service,traceID=,,requestId=] 37024 --- [payment-service] [nio-8080-exec-3] [                                                 ] c.e.springboot.SimpleRestApplication     : Return list of payments\r\n    2023-12-05T22:41:02.792Z DEBUG [payment-service,traceID=,,requestId=] 37024 --- [payment-service] [nio-8080-exec-3] [                                                 ] org.hibernate.SQL                        : select u1_0.username,u1_0.active,u1_0.balance,u1_0.locale from tb_user u1_0 where u1_0.username=?\r\n    Hibernate: select u1_0.username,u1_0.active,u1_0.balance,u1_0.locale from tb_user u1_0 where u1_0.username=?\r\n\r\n\r\nFollowing piece of code and configuration used.\r\n\r\nSpring Boot App\r\n\r\n    public static void main(String[] args) {\r\n        new SpringApplicationBuilder(SimpleRestApplication.class)\r\n                .initializers((ApplicationContextInitializer&lt;GenericApplicationContext&gt;) applicationContext -&gt; applicationContext.registerBean(SdkLoggerProvider.class, () -&gt; {\r\n                    ConfigurableEnvironment environment = applicationContext.getEnvironment();\r\n\r\n                    String endpoint = environment.getProperty(&quot;otel.exporter.logs.endpoint&quot;, &quot;http://localhost:4317&quot;);\r\n\r\n                    return SdkLoggerProvider.builder()\r\n                            .addLogRecordProcessor(\r\n                                    BatchLogRecordProcessor.builder(OtlpGrpcLogRecordExporter.builder().setEndpoint(endpoint).build()).build())\r\n                            .build();\r\n                }))\r\n                .run(args);\r\n    }\r\n\r\napplication.yml\r\n\r\n    spring:\r\n      application:\r\n        name: payment-service\r\n    management:\r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: health,info,prometheus\r\n      tracing:\r\n        propagation:\r\n          produce: w3c, b3, b3_multi\r\n          consume: b3, w3c, b3_multi\r\n        baggage:\r\n          remote-fields: requestId\r\n          correlation:\r\n            fields: requestId\r\n        sampling:\r\n          probability: 1.0\r\n      otlp:\r\n        metrics:\r\n          export:\r\n            url: ${OTLP_URL:http://localhost:4318}/v1/metrics\r\n        tracing:\r\n          endpoint: ${OTLP_URL:http://localhost:4318}/v1/traces\r\n      opentelemetry:\r\n        resource-attributes:\r\n          &quot;service.name&quot;: ${spring.application.name}\r\n    logging:\r\n      pattern:\r\n        level: &quot;%5p [${spring.application.name:},traceID=%X{traceId:-},%X{spanId:-},requestId=%X{requestId:-}]&quot;\r\n\r\nlogback-spring.xml\r\n\r\n    &lt;appender name=&quot;OpenTelemetry&quot;\r\n              class=&quot;io.opentelemetry.instrumentation.logback.appender.v1_0.OpenTelemetryAppender&quot;&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;root level=&quot;info&quot;&gt;\r\n        &lt;appender-ref ref=&quot;OpenTelemetry&quot;/&gt;\r\n        &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\r\n    &lt;/root&gt;\r\n","title":"How export logs to Opentelemetry with Spring Boot 3 Racing + logback","body":"<p>I'm trying to export logs using <a href=\"https://opentelemetry.io/docs/instrumentation/java/manual/#log-appenders\" rel=\"nofollow noreferrer\">opentelemetry manual instrumentation</a> with a custom <code>SdkLoggerProvider</code> for a Spring Boot 3 + Tracing + but whenever I try to add back <code>logback appender</code> suggested in the documentation the headers generated by spring boot disappear from the logs, does anybody knows how to export logs proper for Spring Boot 3 app?</p>\n<p>Without <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/logback/logback-appender-1.0/library\" rel=\"nofollow noreferrer\">logack appender</a></p>\n<pre><code>2023-12-05T22:36:06.055Z DEBUG [payment-service,traceID=30855c52a5c6025aa466bd16a2ec9791,7cf1b551d2c66da6,requestId=c6e2286e-bc42-4b84-8c63-f33604986ddb] 36480 --- [payment-service] [nio-8080-exec-2] [30855c52a5c6025aa466bd16a2ec9791-7cf1b551d2c66da6] o.s.web.servlet.DispatcherServlet        : GET &quot;/v1/payments?usernameFrom=admina&quot;, parameters={masked}\n2023-12-05T22:36:06.061Z DEBUG [payment-service,traceID=30855c52a5c6025aa466bd16a2ec9791,7cf1b551d2c66da6,requestId=c6e2286e-bc42-4b84-8c63-f33604986ddb] 36480 --- [payment-service] [nio-8080-exec-2] [30855c52a5c6025aa466bd16a2ec9791-7cf1b551d2c66da6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springboot.SimpleRestApplication$PaymentController#getAllByUsernameFrom(String)\n2023-12-05T22:36:06.079Z  INFO [payment-service,traceID=30855c52a5c6025aa466bd16a2ec9791,7cf1b551d2c66da6,requestId=c6e2286e-bc42-4b84-8c63-f33604986ddb] 36480 --- [payment-service] [nio-8080-exec-2] [30855c52a5c6025aa466bd16a2ec9791-7cf1b551d2c66da6] c.e.springboot.SimpleRestApplication     : Return list of payments\n2023-12-05T22:36:06.095Z DEBUG [payment-service,traceID=30855c52a5c6025aa466bd16a2ec9791,7cf1b551d2c66da6,requestId=c6e2286e-bc42-4b84-8c63-f33604986ddb] 36480 --- [payment-service] [nio-8080-exec-2] [30855c52a5c6025aa466bd16a2ec9791-7cf1b551d2c66da6] org.hibernate.SQL                        : select u1_0.username,u1_0.active,u1_0.balance,u1_0.locale from tb_user u1_0 where u1_0.username=?\nHibernate: select u1_0.username,u1_0.active,u1_0.balance,u1_0.locale from tb_user u1_0 where u1_0.username=?\n</code></pre>\n<p>With logback appender configuration</p>\n<pre><code>2023-12-05T22:41:02.781Z DEBUG [payment-service,traceID=,,requestId=] 37024 --- [payment-service] [nio-8080-exec-3] [                                                 ] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.example.springboot.SimpleRestApplication$PaymentController#getAllByUsernameFrom(String)\n2023-12-05T22:41:02.783Z  INFO [payment-service,traceID=,,requestId=] 37024 --- [payment-service] [nio-8080-exec-3] [                                                 ] c.e.springboot.SimpleRestApplication     : Return list of payments\n2023-12-05T22:41:02.792Z DEBUG [payment-service,traceID=,,requestId=] 37024 --- [payment-service] [nio-8080-exec-3] [                                                 ] org.hibernate.SQL                        : select u1_0.username,u1_0.active,u1_0.balance,u1_0.locale from tb_user u1_0 where u1_0.username=?\nHibernate: select u1_0.username,u1_0.active,u1_0.balance,u1_0.locale from tb_user u1_0 where u1_0.username=?\n</code></pre>\n<p>Following piece of code and configuration used.</p>\n<p>Spring Boot App</p>\n<pre><code>public static void main(String[] args) {\n    new SpringApplicationBuilder(SimpleRestApplication.class)\n            .initializers((ApplicationContextInitializer&lt;GenericApplicationContext&gt;) applicationContext -&gt; applicationContext.registerBean(SdkLoggerProvider.class, () -&gt; {\n                ConfigurableEnvironment environment = applicationContext.getEnvironment();\n\n                String endpoint = environment.getProperty(&quot;otel.exporter.logs.endpoint&quot;, &quot;http://localhost:4317&quot;);\n\n                return SdkLoggerProvider.builder()\n                        .addLogRecordProcessor(\n                                BatchLogRecordProcessor.builder(OtlpGrpcLogRecordExporter.builder().setEndpoint(endpoint).build()).build())\n                        .build();\n            }))\n            .run(args);\n}\n</code></pre>\n<p>application.yml</p>\n<pre><code>spring:\n  application:\n    name: payment-service\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: health,info,prometheus\n  tracing:\n    propagation:\n      produce: w3c, b3, b3_multi\n      consume: b3, w3c, b3_multi\n    baggage:\n      remote-fields: requestId\n      correlation:\n        fields: requestId\n    sampling:\n      probability: 1.0\n  otlp:\n    metrics:\n      export:\n        url: ${OTLP_URL:http://localhost:4318}/v1/metrics\n    tracing:\n      endpoint: ${OTLP_URL:http://localhost:4318}/v1/traces\n  opentelemetry:\n    resource-attributes:\n      &quot;service.name&quot;: ${spring.application.name}\nlogging:\n  pattern:\n    level: &quot;%5p [${spring.application.name:},traceID=%X{traceId:-},%X{spanId:-},requestId=%X{requestId:-}]&quot;\n</code></pre>\n<p>logback-spring.xml</p>\n<pre><code>&lt;appender name=&quot;OpenTelemetry&quot;\n          class=&quot;io.opentelemetry.instrumentation.logback.appender.v1_0.OpenTelemetryAppender&quot;&gt;\n&lt;/appender&gt;\n\n&lt;root level=&quot;info&quot;&gt;\n    &lt;appender-ref ref=&quot;OpenTelemetry&quot;/&gt;\n    &lt;appender-ref ref=&quot;CONSOLE&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n"},{"tags":["java","yaml","snakeyaml"],"owner":{"account_id":30075758,"reputation":1,"user_id":23048622,"display_name":"bomb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701816672,"creation_date":1701816672,"question_id":77609661,"body_markdown":"I am looking for advice concerning parsing the Yaml files.\r\nIt might be irrelevant in this issue, however, to introduce you to idea, I am fetching every entry in the Yaml file to the List. Then, I have a list of Map&lt;String, Object&gt; and finally I am iterate through list with custom mapping logic, since I am not doing 1:1 mapping, more kind of storing the values as reference in Maps of class with type determined based on the id. \r\n\r\nThe example yaml file is looking like this:\r\n\r\n```\r\n- id: exampleId1\r\n  size: 0\r\n  default: unknown\r\n  values:\r\n    0: off\r\n    1: val_x\r\n    2: val_z\r\n    3: val_y\r\n    \r\n- id: exampleId1\r\n  size: 0\r\n  default: unknown\r\n  values:\r\n    0: off\r\n    1: val_y\r\n```\r\n\r\nSo there, I take a object of a class exampleId1 and that one have defined the List&lt;Integer, String&gt;, where the mapping of values is done. However, the snakeYaml is casting the value off to boolean, subsequently the value val_x comes, which is properly parsed to String. \r\n\r\nThe issue is indeed the value off that is being later stored as false, while printing the parsed data. After commenting out the off value, the files are properly fetched and no error arise. Although with snakeYaml, which cast values off to boolean, error remains.\r\n\r\nWhat I am looking for is a way to disable casting the values like off, on, yes, no to boolean explicitly. \r\n\r\nWhat I have found so far in Library source files is the definition of the Resolver class, which probably reply for this harsh logic.\r\n\r\n```\r\npublic class Resolver {\r\n    public static final Pattern BOOL = Pattern.compile(&quot;^(?:yes|Yes|YES|no|No|NO|true|True|TRUE|false|False|FALSE|on|On|ON|off|Off|OFF)$&quot;);\r\n    public static final Pattern FLOAT = Pattern.compile(&quot;^([-+]?(?:[0-9][0-9_]*)\\\\.[0-9_]*(?:[eE][-+]?[0-9]+)?|[-+]?(?:[0-9][0-9_]*)(?:[eE][-+]?[0-9]+)|[-+]?\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*|[-+]?\\\\.(?:inf|Inf|INF)|\\\\.(?:nan|NaN|NAN))$&quot;);\r\n    public static final Pattern INT = Pattern.compile(&quot;^(?:[-+]?0b_*[0-1][0-1_]*|[-+]?0_*[0-7][0-7_]*|[-+]?(?:0|[1-9][0-9_]*)|[-+]?0x_*[0-9a-fA-F][0-9a-fA-F_]*|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)$&quot;);\r\n    public static final Pattern MERGE = Pattern.compile(&quot;^(?:&lt;&lt;)$&quot;);\r\n    public static final Pattern NULL = Pattern.compile(&quot;^(?:~|null|Null|NULL| )$&quot;);\r\n    public static final Pattern EMPTY = Pattern.compile(&quot;^$&quot;);\r\n    public static final Pattern TIMESTAMP = Pattern.compile(&quot;^(?:[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]|[0-9][0-9][0-9][0-9]-[0-9][0-9]?-[0-9][0-9]?(?:[Tt]|[ \\t]+)[0-9][0-9]?:[0-9][0-9]:[0-9][0-9](?:\\\\.[0-9]*)?(?:[ \\t]*(?:Z|[-+][0-9][0-9]?(?::[0-9][0-9])?))?)$&quot;);\r\n    public static final Pattern VALUE = Pattern.compile(&quot;^(?:=)$&quot;);\r\n    public static final Pattern YAML = Pattern.compile(&quot;^(?:!|&amp;|\\\\*)$&quot;);\r\n    protected Map&lt;Character, List&lt;ResolverTuple&gt;&gt; yamlImplicitResolvers = new HashMap();\r\n\r\n    protected void addImplicitResolvers() {\r\n        this.addImplicitResolver(Tag.BOOL, BOOL, &quot;yYnNtTfFoO&quot;, 10);\r\n        this.addImplicitResolver(Tag.INT, INT, &quot;-+0123456789&quot;);\r\n        this.addImplicitResolver(Tag.FLOAT, FLOAT, &quot;-+0123456789.&quot;);\r\n        this.addImplicitResolver(Tag.MERGE, MERGE, &quot;&lt;&quot;, 10);\r\n        this.addImplicitResolver(Tag.NULL, NULL, &quot;~nN\\u0000&quot;, 10);\r\n        this.addImplicitResolver(Tag.NULL, EMPTY, (String)null, 10);\r\n        this.addImplicitResolver(Tag.TIMESTAMP, TIMESTAMP, &quot;0123456789&quot;, 50);\r\n        this.addImplicitResolver(Tag.YAML, YAML, &quot;!&amp;*&quot;, 10);\r\n    }\r\n```\r\n\r\nIs there is a concise way to overwrite the logic or pattern generation for boolean? Or maybe, you have different idea to recommend, I am open to everything!\r\n\r\nP.S. The snakeYaml version I have is 2.0\r\n\r\n\r\nWhat I did so far is trying to overwrite the addImplicitResolver method, create a new Resolver, but unfortunately without success so far. ","title":"SnakeYaml is parsing value off as a boolean instead of String","body":"<p>I am looking for advice concerning parsing the Yaml files.\nIt might be irrelevant in this issue, however, to introduce you to idea, I am fetching every entry in the Yaml file to the List. Then, I have a list of Map&lt;String, Object&gt; and finally I am iterate through list with custom mapping logic, since I am not doing 1:1 mapping, more kind of storing the values as reference in Maps of class with type determined based on the id.</p>\n<p>The example yaml file is looking like this:</p>\n<pre><code>- id: exampleId1\n  size: 0\n  default: unknown\n  values:\n    0: off\n    1: val_x\n    2: val_z\n    3: val_y\n    \n- id: exampleId1\n  size: 0\n  default: unknown\n  values:\n    0: off\n    1: val_y\n</code></pre>\n<p>So there, I take a object of a class exampleId1 and that one have defined the List&lt;Integer, String&gt;, where the mapping of values is done. However, the snakeYaml is casting the value off to boolean, subsequently the value val_x comes, which is properly parsed to String.</p>\n<p>The issue is indeed the value off that is being later stored as false, while printing the parsed data. After commenting out the off value, the files are properly fetched and no error arise. Although with snakeYaml, which cast values off to boolean, error remains.</p>\n<p>What I am looking for is a way to disable casting the values like off, on, yes, no to boolean explicitly.</p>\n<p>What I have found so far in Library source files is the definition of the Resolver class, which probably reply for this harsh logic.</p>\n<pre><code>public class Resolver {\n    public static final Pattern BOOL = Pattern.compile(&quot;^(?:yes|Yes|YES|no|No|NO|true|True|TRUE|false|False|FALSE|on|On|ON|off|Off|OFF)$&quot;);\n    public static final Pattern FLOAT = Pattern.compile(&quot;^([-+]?(?:[0-9][0-9_]*)\\\\.[0-9_]*(?:[eE][-+]?[0-9]+)?|[-+]?(?:[0-9][0-9_]*)(?:[eE][-+]?[0-9]+)|[-+]?\\\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\\\.[0-9_]*|[-+]?\\\\.(?:inf|Inf|INF)|\\\\.(?:nan|NaN|NAN))$&quot;);\n    public static final Pattern INT = Pattern.compile(&quot;^(?:[-+]?0b_*[0-1][0-1_]*|[-+]?0_*[0-7][0-7_]*|[-+]?(?:0|[1-9][0-9_]*)|[-+]?0x_*[0-9a-fA-F][0-9a-fA-F_]*|[-+]?[1-9][0-9_]*(?::[0-5]?[0-9])+)$&quot;);\n    public static final Pattern MERGE = Pattern.compile(&quot;^(?:&lt;&lt;)$&quot;);\n    public static final Pattern NULL = Pattern.compile(&quot;^(?:~|null|Null|NULL| )$&quot;);\n    public static final Pattern EMPTY = Pattern.compile(&quot;^$&quot;);\n    public static final Pattern TIMESTAMP = Pattern.compile(&quot;^(?:[0-9][0-9][0-9][0-9]-[0-9][0-9]-[0-9][0-9]|[0-9][0-9][0-9][0-9]-[0-9][0-9]?-[0-9][0-9]?(?:[Tt]|[ \\t]+)[0-9][0-9]?:[0-9][0-9]:[0-9][0-9](?:\\\\.[0-9]*)?(?:[ \\t]*(?:Z|[-+][0-9][0-9]?(?::[0-9][0-9])?))?)$&quot;);\n    public static final Pattern VALUE = Pattern.compile(&quot;^(?:=)$&quot;);\n    public static final Pattern YAML = Pattern.compile(&quot;^(?:!|&amp;|\\\\*)$&quot;);\n    protected Map&lt;Character, List&lt;ResolverTuple&gt;&gt; yamlImplicitResolvers = new HashMap();\n\n    protected void addImplicitResolvers() {\n        this.addImplicitResolver(Tag.BOOL, BOOL, &quot;yYnNtTfFoO&quot;, 10);\n        this.addImplicitResolver(Tag.INT, INT, &quot;-+0123456789&quot;);\n        this.addImplicitResolver(Tag.FLOAT, FLOAT, &quot;-+0123456789.&quot;);\n        this.addImplicitResolver(Tag.MERGE, MERGE, &quot;&lt;&quot;, 10);\n        this.addImplicitResolver(Tag.NULL, NULL, &quot;~nN\\u0000&quot;, 10);\n        this.addImplicitResolver(Tag.NULL, EMPTY, (String)null, 10);\n        this.addImplicitResolver(Tag.TIMESTAMP, TIMESTAMP, &quot;0123456789&quot;, 50);\n        this.addImplicitResolver(Tag.YAML, YAML, &quot;!&amp;*&quot;, 10);\n    }\n</code></pre>\n<p>Is there is a concise way to overwrite the logic or pattern generation for boolean? Or maybe, you have different idea to recommend, I am open to everything!</p>\n<p>P.S. The snakeYaml version I have is 2.0</p>\n<p>What I did so far is trying to overwrite the addImplicitResolver method, create a new Resolver, but unfortunately without success so far.</p>\n"},{"tags":["java","blob","httpserver"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":3,"creation_date":1701816696,"post_id":77609645,"comment_id":136821824,"body_markdown":"`Files.readAllBytes` uhh, why not open the file as stream and write the output bit-by-bit? it has been [asked before](https://stackoverflow.com/questions/9959326/what-is-the-proper-way-to-open-a-stream-in-java), but im not sure your java version but that link should be sufficient example.","body":"<code>Files.readAllBytes</code> uhh, why not open the file as stream and write the output bit-by-bit? it has been <a href=\"https://stackoverflow.com/questions/9959326/what-is-the-proper-way-to-open-a-stream-in-java\">asked before</a>, but im not sure your java version but that link should be sufficient example."},{"owner":{"account_id":14769345,"reputation":177,"user_id":10666298,"display_name":"boomcreeper11"},"score":0,"creation_date":1701816757,"post_id":77609645,"comment_id":136821833,"body_markdown":"This is an extract from a larger codebase, it&#39;s used elsewhere and the file is also stored in RAM for faster loading","body":"This is an extract from a larger codebase, it&#39;s used elsewhere and the file is also stored in RAM for faster loading"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1701816857,"post_id":77609645,"comment_id":136821844,"body_markdown":"Well ... no matter what you think you are going to achieve by doing that, what you will actually do is create a lot of heap pressure, leading to extra GC load and possibly an OOME.  Which is better: marginally faster downloads or not crashing randomly?","body":"Well ... no matter what you think you are going to achieve by doing that, what you will actually do is create a lot of heap pressure, leading to extra GC load and possibly an OOME.  Which is better: marginally faster downloads or not crashing randomly?"},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":2,"creation_date":1701816865,"post_id":77609645,"comment_id":136821845,"body_markdown":"again, the key is to read/write in chunks. putting everything in RAM is not advisable. unless you have a lot of it and only handle a couple of requests not thousands.","body":"again, the key is to read/write in chunks. putting everything in RAM is not advisable. unless you have a lot of it and only handle a couple of requests not thousands."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1701817063,"post_id":77609645,"comment_id":136821869,"body_markdown":"Also ... have you tried to identify how large a file that you *can* download?  That may help you (and us) to figure out what the cause of the problem is.","body":"Also ... have you tried to identify how large a file that you <i>can</i> download?  That may help you (and us) to figure out what the cause of the problem is."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1701817741,"post_id":77609645,"comment_id":136821944,"body_markdown":"There is no reason to do it this way. It isn&#39;t &#39;marginally faster&#39;, it is actually *slower* , because you have the latency of reading the entire file before you&#39;ve sent one byte of it. Use the standard Java copy loop and eliminate the whole problem.","body":"There is no reason to do it this way. It isn&#39;t &#39;marginally faster&#39;, it is actually <i>slower</i> , because you have the latency of reading the entire file before you&#39;ve sent one byte of it. Use the standard Java copy loop and eliminate the whole problem."},{"owner":{"account_id":14769345,"reputation":177,"user_id":10666298,"display_name":"boomcreeper11"},"score":0,"creation_date":1701818448,"post_id":77609645,"comment_id":136822019,"body_markdown":"The solution was to buffer the input and write small bits at a time, like Stephen C and Bagus Tesa mentioned, in the original codebase it was faster because it was read in once at application start, anyone it&#39;s resolved now.","body":"The solution was to buffer the input and write small bits at a time, like Stephen C and Bagus Tesa mentioned, in the original codebase it was faster because it was read in once at application start, anyone it&#39;s resolved now."},{"owner":{"account_id":14769345,"reputation":177,"user_id":10666298,"display_name":"boomcreeper11"},"score":0,"creation_date":1701819142,"post_id":77609645,"comment_id":136822086,"body_markdown":"@BagusTesa Could you post your buffering comment as an answer so that I can mark it as correct","body":"@BagusTesa Could you post your buffering comment as an answer so that I can mark it as correct"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701841796,"post_id":77609645,"comment_id":136823855,"body_markdown":"@boomcreeper11   have you seen this &quot;ramfileserver&quot;  https://drive.google.com/file/d/1RZIsA5_ap62B4RsUdyl8XODnHhxverAY/view?usp=sharing","body":"@boomcreeper11   have you seen this &quot;ramfileserver&quot;  <a href=\"https://drive.google.com/file/d/1RZIsA5_ap62B4RsUdyl8XODnHhxverAY/view?usp=sharing\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1RZIsA5_ap62B4RsUdyl8XODnHhxverAY/&hellip;</a>"}],"owner":{"account_id":14769345,"reputation":177,"user_id":10666298,"display_name":"boomcreeper11"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701816471,"creation_date":1701816471,"question_id":77609645,"body_markdown":"There are no error on the server side, but clients like Chrome and the application that needs the file can&#39;t download it. The server works with smaller files and it basically runs like this:\r\n```java\r\npackage org.org.APIServer.api;\r\n\r\nimport com.sun.net.httpserver.HttpExchange;\r\nimport com.sun.net.httpserver.HttpHandler;\r\nimport com.sun.net.httpserver.HttpServer;\r\n\r\npublic class APIServer {\r\n    public static void startAPIServer() {\r\n        try {\r\n            HttpServer server = HttpServer.create(new InetSocketAddress(8000), 0);\r\n            server.createContext(&quot;/api&quot;, new APIHandler());\r\n            server.setExecutor(null);\r\n            server.start();\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    static class APIHandler implements HttpHandler {\r\n        @Override\r\n        public void handle(HttpExchange t) throws IOException {\r\n            byte[] responseBytes = Files.readAllBytes(Path.of(&quot;pack.zip&quot;));\r\n            t.getResponseHeaders().set(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\r\n            t.sendResponseHeaders(200, responseBytes.length);\r\n            OutputStream os = t.getResponseBody();\r\n            os.write(responseBytes);\r\n            os.close();\r\n        }\r\n    }\r\n}\r\n```\r\nMy test file is 1GB btw","title":"Java httpserver cannot send large files","body":"<p>There are no error on the server side, but clients like Chrome and the application that needs the file can't download it. The server works with smaller files and it basically runs like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.org.APIServer.api;\n\nimport com.sun.net.httpserver.HttpExchange;\nimport com.sun.net.httpserver.HttpHandler;\nimport com.sun.net.httpserver.HttpServer;\n\npublic class APIServer {\n    public static void startAPIServer() {\n        try {\n            HttpServer server = HttpServer.create(new InetSocketAddress(8000), 0);\n            server.createContext(&quot;/api&quot;, new APIHandler());\n            server.setExecutor(null);\n            server.start();\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    static class APIHandler implements HttpHandler {\n        @Override\n        public void handle(HttpExchange t) throws IOException {\n            byte[] responseBytes = Files.readAllBytes(Path.of(&quot;pack.zip&quot;));\n            t.getResponseHeaders().set(&quot;Content-Type&quot;, &quot;application/octet-stream&quot;);\n            t.sendResponseHeaders(200, responseBytes.length);\n            OutputStream os = t.getResponseBody();\n            os.write(responseBytes);\n            os.close();\n        }\n    }\n}\n</code></pre>\n<p>My test file is 1GB btw</p>\n"},{"tags":["java","eclipse"],"answers":[{"comments":[{"owner":{"account_id":33601,"reputation":28373,"user_id":94169,"accept_rate":77,"display_name":"softwarematter"},"score":0,"creation_date":1257878354,"post_id":1709979,"comment_id":1587089,"body_markdown":"Right now I&#39;m testing on my machine. So it won&#39;t be a problem right?","body":"Right now I&#39;m testing on my machine. So it won&#39;t be a problem right?"}],"tags":[],"owner":{"account_id":17205,"reputation":7140,"user_id":38264,"accept_rate":67,"display_name":"z  -"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1257876347,"creation_date":1257876347,"answer_id":1709979,"question_id":1709960,"body_markdown":"do you have port 8000, or whatever port you have configured for remote connections open on your firewall?","title":"Remote debugging Java application","body":"<p>do you have port 8000, or whatever port you have configured for remote connections open on your firewall?</p>\n"},{"comments":[{"owner":{"account_id":45775,"reputation":12238,"user_id":135078,"accept_rate":94,"display_name":"Kelly S. French"},"score":0,"creation_date":1257953700,"post_id":1709986,"comment_id":1593513,"body_markdown":"Sometimes the port hasn&#39;t been released from the last time it was ran. On Windows do a &#39;netstat -a&#39; and look for the port the remote app is using to listen for debug connections. If it is still open, you won&#39;t be able to open a remote debug session. Close the port/socket or if it comes down to it, change the port used. Hopefully the first socket eventually releases before you lock up the second.","body":"Sometimes the port hasn&#39;t been released from the last time it was ran. On Windows do a &#39;netstat -a&#39; and look for the port the remote app is using to listen for debug connections. If it is still open, you won&#39;t be able to open a remote debug session. Close the port/socket or if it comes down to it, change the port used. Hopefully the first socket eventually releases before you lock up the second."}],"tags":[],"owner":{"account_id":45775,"reputation":12238,"user_id":135078,"accept_rate":94,"display_name":"Kelly S. French"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1257876388,"creation_date":1257876388,"answer_id":1709986,"question_id":1709960,"body_markdown":"The remote application needs to be started first. Did you add the arguments to the target remote app so it will accept a debugging connection/  ","title":"Remote debugging Java application","body":"<p>The remote application needs to be started first. Did you add the arguments to the target remote app so it will accept a debugging connection/  </p>\n"},{"comments":[{"owner":{"account_id":33601,"reputation":28373,"user_id":94169,"accept_rate":77,"display_name":"softwarematter"},"score":0,"creation_date":1257878283,"post_id":1710075,"comment_id":1587077,"body_markdown":"When I tried netstat /a i got: \nTCP    DEV-MACHINE2:8787      localhost:1261         ESTABLISHED\nThis is the only entry for the port number 8787 which I an using.","body":"When I tried netstat /a i got:  TCP    DEV-MACHINE2:8787      localhost:1261         ESTABLISHED This is the only entry for the port number 8787 which I an using."}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1257877118,"creation_date":1257877118,"answer_id":1710075,"question_id":1709960,"body_markdown":"You need to invoke the process to be debugged with the appropriate options e.g.\r\n\r\n    -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044\r\n\r\n(substitute with the appropriate port if necessary) and it sounds like the VM isn&#39;t listening on the configured port. You can use `netstat /a` to confirm if the VM is listening on that port (or `telnet`)\r\n\r\n","title":"Remote debugging Java application","body":"<p>You need to invoke the process to be debugged with the appropriate options e.g.</p>\n\n<pre><code>-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=1044\n</code></pre>\n\n<p>(substitute with the appropriate port if necessary) and it sounds like the VM isn't listening on the configured port. You can use <code>netstat /a</code> to confirm if the VM is listening on that port (or <code>telnet</code>)</p>\n"},{"comments":[{"owner":{"account_id":59933,"reputation":6258,"user_id":179189,"accept_rate":100,"display_name":"Murali VP"},"score":0,"creation_date":1257923454,"post_id":1710080,"comment_id":1590954,"body_markdown":"just do a netstat -an | grep 8000","body":"just do a netstat -an | grep 8000"}],"tags":[],"owner":{"account_id":59933,"reputation":6258,"user_id":179189,"accept_rate":100,"display_name":"Murali VP"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1257877142,"creation_date":1257877142,"answer_id":1710080,"question_id":1709960,"body_markdown":"Make sure your JVM was started with these options \r\n\r\n&gt; -Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n\r\n\r\n and that port 8000 is free","title":"Remote debugging Java application","body":"<p>Make sure your JVM was started with these options </p>\n\n<blockquote>\n  <p>-Xdebug -Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=n</p>\n</blockquote>\n\n<p>and that port 8000 is free</p>\n"},{"tags":[],"owner":{"account_id":1160604,"reputation":21,"user_id":1140168,"display_name":"rajeshkumar.kondapalli"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1349095084,"creation_date":1349090118,"answer_id":12672204,"question_id":1709960,"body_markdown":"For client debugging, I came across the same issue\r\n\r\n    URL -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=4081\r\n\r\nChanging the port number solved the issue.","title":"Remote debugging Java application","body":"<p>For client debugging, I came across the same issue</p>\n\n<pre><code>URL -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=4081\n</code></pre>\n\n<p>Changing the port number solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":327803,"reputation":316,"user_id":650382,"display_name":"Datbates"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701814364,"creation_date":1701814364,"answer_id":77609521,"question_id":1709960,"body_markdown":"With the newer JDKs you might also need to specify address=*:8000 so that it listens for remote connections.","title":"Remote debugging Java application","body":"<p>With the newer JDKs you might also need to specify address=*:8000 so that it listens for remote connections.</p>\n"}],"owner":{"account_id":33601,"reputation":28373,"user_id":94169,"accept_rate":77,"display_name":"softwarematter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5465,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1710075,"answer_count":6,"score":1,"last_activity_date":1701814364,"creation_date":1257876187,"question_id":1709960,"body_markdown":"I am getting the following message when I try to remote debug a java application through eclipse.\r\n&quot;Failed to connect to remote VM. Connection refused.&quot;\r\nWhat could be the error?\r\n","title":"Remote debugging Java application","body":"<p>I am getting the following message when I try to remote debug a java application through eclipse.\n\"Failed to connect to remote VM. Connection refused.\"\nWhat could be the error?</p>\n"},{"tags":["java","spring-boot","dependency-injection"],"answers":[{"comments":[{"owner":{"account_id":23653414,"reputation":269,"user_id":17682036,"display_name":"maxfromgermany"},"score":0,"creation_date":1645898568,"post_id":71278538,"comment_id":125993356,"body_markdown":"Hi I have added this in a configuration class but got these error Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path","body":"Hi I have added this in a configuration class but got these error Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path"},{"owner":{"account_id":23653414,"reputation":269,"user_id":17682036,"display_name":"maxfromgermany"},"score":0,"creation_date":1645898575,"post_id":71278538,"comment_id":125993359,"body_markdown":"I will post my code","body":"I will post my code"},{"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"score":0,"creation_date":1645961925,"post_id":71278538,"comment_id":126002575,"body_markdown":"So are you saying the original problem is solved and you have a second problem now? or is this still part of the original issue with EmailService?","body":"So are you saying the original problem is solved and you have a second problem now? or is this still part of the original issue with EmailService?"},{"owner":{"account_id":23653414,"reputation":269,"user_id":17682036,"display_name":"maxfromgermany"},"score":0,"creation_date":1645962041,"post_id":71278538,"comment_id":126002593,"body_markdown":"Yes so I did exactly what you told me.","body":"Yes so I did exactly what you told me."},{"owner":{"account_id":23653414,"reputation":269,"user_id":17682036,"display_name":"maxfromgermany"},"score":0,"creation_date":1645962106,"post_id":71278538,"comment_id":126002600,"body_markdown":"But I am getting an completely new different error from the moment I update my application properties with the right configuration","body":"But I am getting an completely new different error from the moment I update my application properties with the right configuration"},{"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"score":0,"creation_date":1645962117,"post_id":71278538,"comment_id":126002604,"body_markdown":"If the email service is no longer a problem, it sounds like you have another dependency issue. spring-boot-starter-security. https://spring.io/guides/gs/securing-web/","body":"If the email service is no longer a problem, it sounds like you have another dependency issue. spring-boot-starter-security. <a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/securing-web</a>"},{"owner":{"account_id":23653414,"reputation":269,"user_id":17682036,"display_name":"maxfromgermany"},"score":0,"creation_date":1645962178,"post_id":71278538,"comment_id":126002618,"body_markdown":"Could you explain what you exactly mean please ? I quite new to spring boot. I have been working with node js before and the nodemailer works a bit different","body":"Could you explain what you exactly mean please ? I quite new to spring boot. I have been working with node js before and the nodemailer works a bit different"},{"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"score":0,"creation_date":1645962197,"post_id":71278538,"comment_id":126002622,"body_markdown":"I&#39;ll update my answer","body":"I&#39;ll update my answer"},{"owner":{"account_id":23653414,"reputation":269,"user_id":17682036,"display_name":"maxfromgermany"},"score":0,"creation_date":1645962298,"post_id":71278538,"comment_id":126002640,"body_markdown":"Wait I will post my WebSecurityConfig as wel","body":"Wait I will post my WebSecurityConfig as wel"},{"owner":{"account_id":23653414,"reputation":269,"user_id":17682036,"display_name":"maxfromgermany"},"score":0,"creation_date":1645962373,"post_id":71278538,"comment_id":126002657,"body_markdown":"You cann see my WebSecurityConfig class as well now !","body":"You cann see my WebSecurityConfig class as well now !"},{"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"score":0,"creation_date":1645962843,"post_id":71278538,"comment_id":126002733,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/242450/discussion-between-joeblade-and-maxfromgermany).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/242450/discussion-between-joeblade-and-maxfromgermany\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652263202,"creation_date":1645894027,"answer_id":71278538,"question_id":71278456,"body_markdown":"In your application.yml you can configure it (set some properties) and add spring-boot-starter-mail to your maven dependencies. \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nas the documentation states:\r\n\r\nIf spring.mail.host and the relevant libraries (as defined by spring-boot-starter-mail) are available, a default JavaMailSender is created if none exists. The sender can be further customized by configuration items from the spring.mail namespace. See MailProperties for more details.\r\n\r\nsee:\r\nhttps://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-email.html\r\n\r\n\r\n\r\n\r\nYou can also set up this by hand in a @Configuration annotated class. see Baeldung&#39;s example: https://www.baeldung.com/spring-email\r\n\r\n    @Bean\r\n    public JavaMailSender getJavaMailSender() {\r\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n        mailSender.setHost(&quot;smtp.gmail.com&quot;);\r\n        mailSender.setPort(587);\r\n    \r\n        mailSender.setUsername(&quot;my.gmail@gmail.com&quot;);\r\n        mailSender.setPassword(&quot;password&quot;);\r\n    \r\n        Properties props = mailSender.getJavaMailProperties();\r\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n\r\n        return mailSender;\r\n    }\r\n\r\nI would suggest going with the former as you are using spring boot so let it handle it&#39;s stuff. Adding the second for completeness\r\n\r\n\r\nIt looks like the dependencies are an issue: When you use spring-boot you have the basic spring setup it provides and a lot of optional modules (starters) that you can pull in. You don&#39;t have to use these which is why they aren&#39;t switched on by default.\r\n\r\nsee for instance: https://www.baeldung.com/spring-boot-starters and https://spring.io/guides/gs/securing-web/\r\n\r\nI&#39;ll list the dependency you can use and what it is rougly for. just know you don&#39;t _have_ to use these they are optional but if you are making a web application spring-boot-starter-web is likely useful.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nsimilarly if you want to create testcases\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn your case you want to use spring security so:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe scope: test   part is if you use unit tests (see spring-boot-starter-test earlier). If you don&#39;t have the tests (yet) then you could leave it off but it doesn&#39;t hurt to have it. \r\n\r\nBasically if you use spring boot and you want to have a ready made/connected component from org.springframework.xxxx then there is often a spring-boot-starter-xxxx somewhere. google spring boot starter and the name of the package and you&#39;ll get a ton of hits. Look for tutorial code/initial project code as those will likely have the dependencies you need.\r\n\r\n\r\nAfter some debugging the remaining issue was found to be: **Invalid factory method &#39;configure&#39; on class**\r\n\r\n    @Bean\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception { \r\n\r\nThis error is caused because @Bean suggests it constructs a bean but it didn&#39;t have a return argument. (It had void). Configure shouldn&#39;t have @Bean. removing it fixed it. ","title":"Field mailSender .. required a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; that could not be found","body":"<p>In your application.yml you can configure it (set some properties) and add spring-boot-starter-mail to your maven dependencies.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>as the documentation states:</p>\n<p>If spring.mail.host and the relevant libraries (as defined by spring-boot-starter-mail) are available, a default JavaMailSender is created if none exists. The sender can be further customized by configuration items from the spring.mail namespace. See MailProperties for more details.</p>\n<p>see:\n<a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-email.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/boot-features-email.html</a></p>\n<p>You can also set up this by hand in a @Configuration annotated class. see Baeldung's example: <a href=\"https://www.baeldung.com/spring-email\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-email</a></p>\n<pre><code>@Bean\npublic JavaMailSender getJavaMailSender() {\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n    mailSender.setHost(&quot;smtp.gmail.com&quot;);\n    mailSender.setPort(587);\n\n    mailSender.setUsername(&quot;my.gmail@gmail.com&quot;);\n    mailSender.setPassword(&quot;password&quot;);\n\n    Properties props = mailSender.getJavaMailProperties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n    return mailSender;\n}\n</code></pre>\n<p>I would suggest going with the former as you are using spring boot so let it handle it's stuff. Adding the second for completeness</p>\n<p>It looks like the dependencies are an issue: When you use spring-boot you have the basic spring setup it provides and a lot of optional modules (starters) that you can pull in. You don't have to use these which is why they aren't switched on by default.</p>\n<p>see for instance: <a href=\"https://www.baeldung.com/spring-boot-starters\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-starters</a> and <a href=\"https://spring.io/guides/gs/securing-web/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/securing-web/</a></p>\n<p>I'll list the dependency you can use and what it is rougly for. just know you don't <em>have</em> to use these they are optional but if you are making a web application spring-boot-starter-web is likely useful.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>similarly if you want to create testcases</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In your case you want to use spring security so:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The scope: test   part is if you use unit tests (see spring-boot-starter-test earlier). If you don't have the tests (yet) then you could leave it off but it doesn't hurt to have it.</p>\n<p>Basically if you use spring boot and you want to have a ready made/connected component from org.springframework.xxxx then there is often a spring-boot-starter-xxxx somewhere. google spring boot starter and the name of the package and you'll get a ton of hits. Look for tutorial code/initial project code as those will likely have the dependencies you need.</p>\n<p>After some debugging the remaining issue was found to be: <strong>Invalid factory method 'configure' on class</strong></p>\n<pre><code>@Bean\n@Override\nprotected void configure(HttpSecurity http) throws Exception { \n</code></pre>\n<p>This error is caused because @Bean suggests it constructs a bean but it didn't have a return argument. (It had void). Configure shouldn't have @Bean. removing it fixed it.</p>\n"},{"tags":[],"owner":{"account_id":2441614,"reputation":66,"user_id":2129980,"accept_rate":0,"display_name":"Milos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701814288,"creation_date":1701814288,"answer_id":77609517,"question_id":71278456,"body_markdown":"It is very important order in pom.xml\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n","title":"Field mailSender .. required a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; that could not be found","body":"<p>It is very important order in pom.xml</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-integration&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-cache&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23653414,"reputation":269,"user_id":17682036,"display_name":"maxfromgermany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701814288,"creation_date":1645893435,"question_id":71278456,"body_markdown":"I&#39;m currently trying to build an email registration process with an email confirmation. I use the JavaMailSender for this. Unfortunately, I am currently getting this error so that my application no longer starts.\r\n\r\nI&#39;m also very sure that I&#39;m using the right annotations. But maybe I&#39;m wrong, since I&#39;m relatively new to Sprin Boot\r\n\r\n\r\nThats my Error Code \r\n\r\n    Field mailSender in com.....services.EmailService required a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; that could not be found.\r\n    \r\n    The injection point has the following annotations:\r\n    \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n    \r\n    \r\n    Action:\r\n    \r\n    Consider defining a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; in your configuration.\r\n\r\nEmailService Class\r\n\r\n    @Service\r\n    public class EmailService {\r\n    \r\n      @Autowired private JavaMailSender mailSender;\r\n    \r\n      public void sendVerificationEmail(User user, String siteURL)\r\n          throws MessagingException, UnsupportedEncodingException {\r\n    ....\r\n    \r\n    mailSender.send(message);\r\n      }\r\n    }\r\n\r\n\r\nIn hindsight I use the function in my Auth Service class\r\n\r\n    @Service\r\n    public class AuthService {\r\n    \r\n    ....\r\n    @Autowired private EmailService emailService;\r\n    \r\n    public JwtResponse signUpUser(SignUpRequest signUpRequest, String siteURL)\r\n          throws MessagingException, UnsupportedEncodingException {...\r\n    ...\r\n    \r\n    emailService.sendVerificationEmail(user, siteURL);\r\n    ...\r\n\r\n\r\nUpdate after User Comment \r\n\r\nCreatet a EmailConfiguration Class\r\n\r\n    @Configuration\r\n    public class EmailConfiguration {\r\n    \r\n      @Autowired private JavaMailSender mailSender;\r\n    \r\n      @Bean\r\n      public static JavaMailSender getJavaMailSender() {\r\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n        mailSender.setHost(&quot;smtp.gmail.com&quot;);\r\n        mailSender.setPort(587);\r\n    \r\n        mailSender.setUsername(&quot;my.gmail@gmail.com&quot;);\r\n        mailSender.setPassword(&quot;password&quot;);\r\n    \r\n        Properties props = mailSender.getJavaMailProperties();\r\n        props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    \r\n        return mailSender;\r\n      }\r\n    }\r\n\r\nand added these to the application properties\r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=username\r\n    spring.mail.password=password\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n\r\nnew Error \r\n\r\n     Error creating bean with name &#39;springSecurityFilterChain&#39; defined in class path resource...\r\n\r\nWebSecurityConfig class \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n      @Autowired private UserDetailsServiceImpl userDetailsService;\r\n    \r\n      @Bean\r\n      private static JwtAuthorizationFilter authenticationJwtTokenFilter() {\r\n        return new JwtAuthorizationFilter();\r\n      }\r\n    \r\n      @Bean\r\n      private static PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder(12);\r\n      }\r\n    \r\n      @Override\r\n      public void configure(AuthenticationManagerBuilder authenticationManagerBuilder)\r\n          throws Exception {\r\n        authenticationManagerBuilder\r\n            .userDetailsService(userDetailsService)\r\n            .passwordEncoder(WebSecurityConfig.passwordEncoder());\r\n      }\r\n    \r\n      @Bean\r\n      @Override\r\n      public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n      }\r\n    \r\n      @Bean\r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n    \r\n        // Disable CSRF (cross site request forgery)\r\n        http.cors()\r\n            .and()\r\n            .csrf()\r\n            .disable()\r\n            // No session will be created or used by spring security\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/api/v1/auth/**&quot;)\r\n            .permitAll()\r\n            .anyRequest()\r\n            .authenticated();\r\n    \r\n        // Apply JWT\r\n        http.addFilterBefore(\r\n            WebSecurityConfig.authenticationJwtTokenFilter(),\r\n            UsernamePasswordAuthenticationFilter.class);\r\n      }\r\n    }\r\n\r\n","title":"Field mailSender .. required a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; that could not be found","body":"<p>I'm currently trying to build an email registration process with an email confirmation. I use the JavaMailSender for this. Unfortunately, I am currently getting this error so that my application no longer starts.</p>\n<p>I'm also very sure that I'm using the right annotations. But maybe I'm wrong, since I'm relatively new to Sprin Boot</p>\n<p>Thats my Error Code</p>\n<pre><code>Field mailSender in com.....services.EmailService required a bean of type 'org.springframework.mail.javamail.JavaMailSender' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.mail.javamail.JavaMailSender' in your configuration.\n</code></pre>\n<p>EmailService Class</p>\n<pre><code>@Service\npublic class EmailService {\n\n  @Autowired private JavaMailSender mailSender;\n\n  public void sendVerificationEmail(User user, String siteURL)\n      throws MessagingException, UnsupportedEncodingException {\n....\n\nmailSender.send(message);\n  }\n}\n</code></pre>\n<p>In hindsight I use the function in my Auth Service class</p>\n<pre><code>@Service\npublic class AuthService {\n\n....\n@Autowired private EmailService emailService;\n\npublic JwtResponse signUpUser(SignUpRequest signUpRequest, String siteURL)\n      throws MessagingException, UnsupportedEncodingException {...\n...\n\nemailService.sendVerificationEmail(user, siteURL);\n...\n</code></pre>\n<p>Update after User Comment</p>\n<p>Createt a EmailConfiguration Class</p>\n<pre><code>@Configuration\npublic class EmailConfiguration {\n\n  @Autowired private JavaMailSender mailSender;\n\n  @Bean\n  public static JavaMailSender getJavaMailSender() {\n    JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n    mailSender.setHost(&quot;smtp.gmail.com&quot;);\n    mailSender.setPort(587);\n\n    mailSender.setUsername(&quot;my.gmail@gmail.com&quot;);\n    mailSender.setPassword(&quot;password&quot;);\n\n    Properties props = mailSender.getJavaMailProperties();\n    props.put(&quot;mail.transport.protocol&quot;, &quot;smtp&quot;);\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\n    props.put(&quot;mail.debug&quot;, &quot;true&quot;);\n\n    return mailSender;\n  }\n}\n</code></pre>\n<p>and added these to the application properties</p>\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=username\nspring.mail.password=password\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n</code></pre>\n<p>new Error</p>\n<pre><code> Error creating bean with name 'springSecurityFilterChain' defined in class path resource...\n</code></pre>\n<p>WebSecurityConfig class</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Autowired private UserDetailsServiceImpl userDetailsService;\n\n  @Bean\n  private static JwtAuthorizationFilter authenticationJwtTokenFilter() {\n    return new JwtAuthorizationFilter();\n  }\n\n  @Bean\n  private static PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder(12);\n  }\n\n  @Override\n  public void configure(AuthenticationManagerBuilder authenticationManagerBuilder)\n      throws Exception {\n    authenticationManagerBuilder\n        .userDetailsService(userDetailsService)\n        .passwordEncoder(WebSecurityConfig.passwordEncoder());\n  }\n\n  @Bean\n  @Override\n  public AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n  }\n\n  @Bean\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n\n    // Disable CSRF (cross site request forgery)\n    http.cors()\n        .and()\n        .csrf()\n        .disable()\n        // No session will be created or used by spring security\n        .sessionManagement()\n        .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n        .and()\n        .authorizeRequests()\n        .antMatchers(&quot;/api/v1/auth/**&quot;)\n        .permitAll()\n        .anyRequest()\n        .authenticated();\n\n    // Apply JWT\n    http.addFilterBefore(\n        WebSecurityConfig.authenticationJwtTokenFilter(),\n        UsernamePasswordAuthenticationFilter.class);\n  }\n}\n</code></pre>\n"},{"tags":["java","macos","swing","netbeans","jbutton"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1701762772,"post_id":77604558,"comment_id":136812712,"body_markdown":"PLease share an [mcve]","body":"PLease share an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}],"answers":[{"comments":[{"owner":{"account_id":26876898,"reputation":1,"user_id":20458008,"display_name":"Mounira"},"score":0,"creation_date":1701811540,"post_id":77604619,"comment_id":136821108,"body_markdown":"Thank you for your response, I tried it and when I run the color the background color is white until I click on it. it changes.","body":"Thank you for your response, I tried it and when I run the color the background color is white until I click on it. it changes."}],"tags":[],"owner":{"account_id":29256396,"reputation":11,"user_id":22414504,"display_name":"Adil ALTUN"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701763163,"creation_date":1701763163,"answer_id":77604619,"question_id":77604558,"body_markdown":"can you try this code block;\r\n\r\n\r\n    jButton1.setBackground(new java.awt.Color(102, 255, 51));\r\n    jButton1.setOpaque(true);\r\n    jButton1.setBorderPainted(false);","title":"Java Swing in NetBeans: Background Color Not Changing for JButton","body":"<p>can you try this code block;</p>\n<pre><code>jButton1.setBackground(new java.awt.Color(102, 255, 51));\njButton1.setOpaque(true);\njButton1.setBorderPainted(false);\n</code></pre>\n"}],"owner":{"account_id":26876898,"reputation":1,"user_id":20458008,"display_name":"Mounira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701813720,"creation_date":1701762390,"question_id":77604558,"body_markdown":"I am facing an issue with my Java Swing project in NetBeans on macOS, specifically related to the background color of components. I have a `JButton` in my GUI, and I&#39;m trying to set their background colors from the properties. However, despite setting the color values in the code, the background colors do not appear as expected when I run the program.\r\n\r\nHere is a snippet of the relevant code from the `initComponents` method:\r\n\r\n```java\r\n// Code from initComponents method\r\njButton1.setBackground(new java.awt.Color(102, 255, 51)); // Light green color\r\njButton1.setOpaque(true);\r\n\r\njLabel1.setBackground(new java.awt.Color(255, 51, 0)); // Bright red color\r\n\r\n```\r\nset the setOpaque(true) property.\r\nReinstalled NetBeans.\r\nTried with a panel and without it.\r\nDespite these efforts, the background colors are not updating as expected. Are there any known issues with Java Swing in NetBeans on macOS, especially on M1 chips? Any suggestions on how to troubleshoot and resolve this issue would be greatly appreciated.\r\n\r\n\r\nHere is the entire code:\r\n\r\n```java\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\r\n */\r\npackage projet;\r\n\r\npublic class Login extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form Login\r\n     */\r\n    public Login() {\r\n        initComponents();\r\n    }\r\n\r\n    /**\r\n     * This method is called from within the constructor to initialize the form.\r\n     * WARNING: Do NOT modify this code. The content of this method is always\r\n     * regenerated by the Form Editor.\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jPanel1 = new javax.swing.JPanel();\r\n        jPanel2 = new javax.swing.JPanel();\r\n        jLabel1 = new javax.swing.JLabel();\r\n        jLabel2 = new javax.swing.JLabel();\r\n        jLabel3 = new javax.swing.JLabel();\r\n        jTextField1 = new javax.swing.JTextField();\r\n        jLabel4 = new javax.swing.JLabel();\r\n        jTextField2 = new javax.swing.JTextField();\r\n        jLabel5 = new javax.swing.JLabel();\r\n        jLabel6 = new javax.swing.JLabel();\r\n        jButton1 = new javax.swing.JButton();\r\n\r\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jPanel1.setBackground(new java.awt.Color(255, 255, 255));\r\n\r\n        jPanel2.setBackground(new java.awt.Color(0, 102, 204));\r\n\r\n        jLabel1.setIcon(new javax.swing.ImageIcon(&quot;/Users/Mounira/Downloads/login.png&quot;)); // NOI18N\r\n\r\n        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\r\n        jPanel2.setLayout(jPanel2Layout);\r\n        jPanel2Layout.setHorizontalGroup(\r\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(jPanel2Layout.createSequentialGroup()\r\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 464, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addGap(0, 6, Short.MAX_VALUE))\r\n        );\r\n        jPanel2Layout.setVerticalGroup(\r\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()\r\n                .addContainerGap(134, Short.MAX_VALUE)\r\n                .addComponent(jLabel1)\r\n                .addGap(64, 64, 64))\r\n        );\r\n\r\n        jLabel2.setFont(new java.awt.Font(&quot;Lao MN&quot;, 1, 36)); // NOI18N\r\n        jLabel2.setForeground(new java.awt.Color(0, 102, 204));\r\n        jLabel2.setText(&quot;Login&quot;);\r\n\r\n        jLabel3.setFont(new java.awt.Font(&quot;Lucida Grande&quot;, 0, 18)); // NOI18N\r\n        jLabel3.setText(&quot;Email&quot;);\r\n\r\n        jTextField1.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jTextField1ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jLabel4.setFont(new java.awt.Font(&quot;Lucida Grande&quot;, 0, 18)); // NOI18N\r\n        jLabel4.setText(&quot;Password&quot;);\r\n\r\n        jTextField2.addActionListener(new java.awt.event.ActionListener() {\r\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                jTextField2ActionPerformed(evt);\r\n            }\r\n        });\r\n\r\n        jLabel5.setFont(new java.awt.Font(&quot;Lao MN&quot;, 0, 18)); // NOI18N\r\n        jLabel5.setForeground(new java.awt.Color(0, 102, 204));\r\n        jLabel5.setText(&quot;Etudiant&quot;);\r\n\r\n        jLabel6.setFont(new java.awt.Font(&quot;Lao MN&quot;, 0, 18)); // NOI18N\r\n        jLabel6.setText(&quot;Enseignant&quot;);\r\n\r\n        jButton1.setBackground(new java.awt.Color(0, 102, 204));\r\n        jButton1.setFont(new java.awt.Font(&quot;Lao MN&quot;, 0, 24)); // NOI18N\r\n        jButton1.setForeground(new java.awt.Color(255, 255, 255));\r\n        jButton1.setText(&quot;Login&quot;);\r\n\r\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\r\n        jPanel1.setLayout(jPanel1Layout);\r\n        jPanel1Layout.setHorizontalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()\r\n                        .addContainerGap(43, Short.MAX_VALUE)\r\n                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                                .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 229, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                                .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                                    .addGroup(jPanel1Layout.createSequentialGroup()\r\n                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                                        .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 229, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                                    .addGroup(jPanel1Layout.createSequentialGroup()\r\n                                        .addGap(20, 20, 20)\r\n                                        .addComponent(jButton1)))))\r\n                        .addGap(32, 32, 32))\r\n                    .addGroup(jPanel1Layout.createSequentialGroup()\r\n                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                                .addGap(151, 151, 151)\r\n                                .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                                .addGap(102, 102, 102)\r\n                                .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 103, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                                .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 103, javax.swing.GroupLayout.PREFERRED_SIZE)))\r\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))\r\n                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n        );\r\n        jPanel1Layout.setVerticalGroup(\r\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n            .addGroup(jPanel1Layout.createSequentialGroup()\r\n                .addGap(91, 91, 91)\r\n                .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addGap(37, 37, 37)\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addGap(28, 28, 28)\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\r\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))\r\n                .addGap(47, 47, 47)\r\n                .addComponent(jButton1)\r\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n        );\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addGap(0, 0, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        // TODO add your handling code here:\r\n        \r\n    }                                           \r\n\r\n    private void jTextField2ActionPerformed(java.awt.event.ActionEvent evt) {                                            \r\n        // TODO add your handling code here:\r\n    }                                           \r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String args[]) {\r\n        /* Set the Nimbus look and feel */\r\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n         */\r\n        try {\r\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                    break;\r\n                }\r\n            }\r\n        } catch (ClassNotFoundException ex) {\r\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (InstantiationException ex) {\r\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (IllegalAccessException ex) {\r\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n        }\r\n        //&lt;/editor-fold&gt;\r\n\r\n        /* Create and display the form */\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new Login().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JButton jButton1;\r\n    private javax.swing.JLabel jLabel1;\r\n    private javax.swing.JLabel jLabel2;\r\n    private javax.swing.JLabel jLabel3;\r\n    private javax.swing.JLabel jLabel4;\r\n    private javax.swing.JLabel jLabel5;\r\n    private javax.swing.JLabel jLabel6;\r\n    private javax.swing.JPanel jPanel1;\r\n    private javax.swing.JPanel jPanel2;\r\n    private javax.swing.JTextField jTextField1;\r\n    private javax.swing.JTextField jTextField2;\r\n    // End of variables declaration                   \r\n}\r\n```\r\n\r\n","title":"Java Swing in NetBeans: Background Color Not Changing for JButton","body":"<p>I am facing an issue with my Java Swing project in NetBeans on macOS, specifically related to the background color of components. I have a <code>JButton</code> in my GUI, and I'm trying to set their background colors from the properties. However, despite setting the color values in the code, the background colors do not appear as expected when I run the program.</p>\n<p>Here is a snippet of the relevant code from the <code>initComponents</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Code from initComponents method\njButton1.setBackground(new java.awt.Color(102, 255, 51)); // Light green color\njButton1.setOpaque(true);\n\njLabel1.setBackground(new java.awt.Color(255, 51, 0)); // Bright red color\n\n</code></pre>\n<p>set the setOpaque(true) property.\nReinstalled NetBeans.\nTried with a panel and without it.\nDespite these efforts, the background colors are not updating as expected. Are there any known issues with Java Swing in NetBeans on macOS, especially on M1 chips? Any suggestions on how to troubleshoot and resolve this issue would be greatly appreciated.</p>\n<p>Here is the entire code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template\n */\npackage projet;\n\npublic class Login extends javax.swing.JFrame {\n\n    /**\n     * Creates new form Login\n     */\n    public Login() {\n        initComponents();\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \n    private void initComponents() {\n\n        jPanel1 = new javax.swing.JPanel();\n        jPanel2 = new javax.swing.JPanel();\n        jLabel1 = new javax.swing.JLabel();\n        jLabel2 = new javax.swing.JLabel();\n        jLabel3 = new javax.swing.JLabel();\n        jTextField1 = new javax.swing.JTextField();\n        jLabel4 = new javax.swing.JLabel();\n        jTextField2 = new javax.swing.JTextField();\n        jLabel5 = new javax.swing.JLabel();\n        jLabel6 = new javax.swing.JLabel();\n        jButton1 = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        jPanel1.setBackground(new java.awt.Color(255, 255, 255));\n\n        jPanel2.setBackground(new java.awt.Color(0, 102, 204));\n\n        jLabel1.setIcon(new javax.swing.ImageIcon(&quot;/Users/Mounira/Downloads/login.png&quot;)); // NOI18N\n\n        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);\n        jPanel2.setLayout(jPanel2Layout);\n        jPanel2Layout.setHorizontalGroup(\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(jPanel2Layout.createSequentialGroup()\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 464, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(0, 6, Short.MAX_VALUE))\n        );\n        jPanel2Layout.setVerticalGroup(\n            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()\n                .addContainerGap(134, Short.MAX_VALUE)\n                .addComponent(jLabel1)\n                .addGap(64, 64, 64))\n        );\n\n        jLabel2.setFont(new java.awt.Font(&quot;Lao MN&quot;, 1, 36)); // NOI18N\n        jLabel2.setForeground(new java.awt.Color(0, 102, 204));\n        jLabel2.setText(&quot;Login&quot;);\n\n        jLabel3.setFont(new java.awt.Font(&quot;Lucida Grande&quot;, 0, 18)); // NOI18N\n        jLabel3.setText(&quot;Email&quot;);\n\n        jTextField1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jTextField1ActionPerformed(evt);\n            }\n        });\n\n        jLabel4.setFont(new java.awt.Font(&quot;Lucida Grande&quot;, 0, 18)); // NOI18N\n        jLabel4.setText(&quot;Password&quot;);\n\n        jTextField2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jTextField2ActionPerformed(evt);\n            }\n        });\n\n        jLabel5.setFont(new java.awt.Font(&quot;Lao MN&quot;, 0, 18)); // NOI18N\n        jLabel5.setForeground(new java.awt.Color(0, 102, 204));\n        jLabel5.setText(&quot;Etudiant&quot;);\n\n        jLabel6.setFont(new java.awt.Font(&quot;Lao MN&quot;, 0, 18)); // NOI18N\n        jLabel6.setText(&quot;Enseignant&quot;);\n\n        jButton1.setBackground(new java.awt.Color(0, 102, 204));\n        jButton1.setFont(new java.awt.Font(&quot;Lao MN&quot;, 0, 24)); // NOI18N\n        jButton1.setForeground(new java.awt.Color(255, 255, 255));\n        jButton1.setText(&quot;Login&quot;);\n\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n        jPanel1.setLayout(jPanel1Layout);\n        jPanel1Layout.setHorizontalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel1Layout.createSequentialGroup()\n                        .addContainerGap(43, Short.MAX_VALUE)\n                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addGroup(jPanel1Layout.createSequentialGroup()\n                                .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 229, javax.swing.GroupLayout.PREFERRED_SIZE))\n                            .addGroup(jPanel1Layout.createSequentialGroup()\n                                .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 84, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                                    .addGroup(jPanel1Layout.createSequentialGroup()\n                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                        .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 229, javax.swing.GroupLayout.PREFERRED_SIZE))\n                                    .addGroup(jPanel1Layout.createSequentialGroup()\n                                        .addGap(20, 20, 20)\n                                        .addComponent(jButton1)))))\n                        .addGap(32, 32, 32))\n                    .addGroup(jPanel1Layout.createSequentialGroup()\n                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n                            .addGroup(jPanel1Layout.createSequentialGroup()\n                                .addGap(151, 151, 151)\n                                .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE))\n                            .addGroup(jPanel1Layout.createSequentialGroup()\n                                .addGap(102, 102, 102)\n                                .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 103, javax.swing.GroupLayout.PREFERRED_SIZE)\n                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                                .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 103, javax.swing.GroupLayout.PREFERRED_SIZE)))\n                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))\n                .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))\n        );\n        jPanel1Layout.setVerticalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n            .addGroup(jPanel1Layout.createSequentialGroup()\n                .addGap(91, 91, 91)\n                .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 65, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(37, 37, 37)\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addGap(28, 28, 28)\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jTextField1, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)\n                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE)\n                    .addComponent(jTextField2, javax.swing.GroupLayout.PREFERRED_SIZE, 40, javax.swing.GroupLayout.PREFERRED_SIZE))\n                .addGap(47, 47, 47)\n                .addComponent(jButton1)\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addGap(0, 0, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;                        \n\n    private void jTextField1ActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        // TODO add your handling code here:\n        \n    }                                           \n\n    private void jTextField2ActionPerformed(java.awt.event.ActionEvent evt) {                                            \n        // TODO add your handling code here:\n    }                                           \n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(Login.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new Login().setVisible(true);\n            }\n        });\n    }\n\n    // Variables declaration - do not modify                     \n    private javax.swing.JButton jButton1;\n    private javax.swing.JLabel jLabel1;\n    private javax.swing.JLabel jLabel2;\n    private javax.swing.JLabel jLabel3;\n    private javax.swing.JLabel jLabel4;\n    private javax.swing.JLabel jLabel5;\n    private javax.swing.JLabel jLabel6;\n    private javax.swing.JPanel jPanel1;\n    private javax.swing.JPanel jPanel2;\n    private javax.swing.JTextField jTextField1;\n    private javax.swing.JTextField jTextField2;\n    // End of variables declaration                   \n}\n</code></pre>\n"},{"tags":["java","eclipse","autocloseable"],"comments":[{"owner":{"account_id":57542,"reputation":28477,"user_id":172363,"accept_rate":83,"display_name":"Andrew Eisenberg"},"score":0,"creation_date":1399268150,"post_id":23459568,"comment_id":35974858,"body_markdown":"Looks like this might be a bug in the static analysis. What version of Eclipse are you using? This was introduced in Eclipse 3.8/4.2 and got significantly better in 4.3 and there are more improvements coming in 4.4. So, make sure you are using the latest version.","body":"Looks like this might be a bug in the static analysis. What version of Eclipse are you using? This was introduced in Eclipse 3.8/4.2 and got significantly better in 4.3 and there are more improvements coming in 4.4. So, make sure you are using the latest version."},{"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"score":0,"creation_date":1399273163,"post_id":23459568,"comment_id":35976714,"body_markdown":"@AndrewEisenberg I&#39;m using Kepler SR 1, which I believe, is v4.3.1. I filed a bug report with the Eclipse team: https://bugs.eclipse.org/bugs/show_bug.cgi?id=434065. There was a related bug (referenced there), which will be fixed in 4.4. Not sure if this fix will also address the issue here.","body":"@AndrewEisenberg I&#39;m using Kepler SR 1, which I believe, is v4.3.1. I filed a bug report with the Eclipse team: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=434065\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=434065</a>. There was a related bug (referenced there), which will be fixed in 4.4. Not sure if this fix will also address the issue here."},{"owner":{"account_id":57542,"reputation":28477,"user_id":172363,"accept_rate":83,"display_name":"Andrew Eisenberg"},"score":0,"creation_date":1399304859,"post_id":23459568,"comment_id":35994837,"body_markdown":"Your best chance is to download the latest 4.4 milestone and see if it is fixed. Since M7 is already out, things should be pretty stable and not much danger moving to it.","body":"Your best chance is to download the latest 4.4 milestone and see if it is fixed. Since M7 is already out, things should be pretty stable and not much danger moving to it."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1562512845,"creation_date":1562512845,"answer_id":56923477,"question_id":23459568,"body_markdown":"It is clearly a bug.  The bug report https://bugs.eclipse.org/bugs/show_bug.cgi?id=434065 has been acknowledged, but not fixed.\r\n\r\nThe bug is still open as of July 2019.","title":"Eclipse inconsistencies: Resource leak: &#39;&lt;unassigned Closeable value&gt;&#39; is never closed","body":"<p>It is clearly a bug.  The bug report <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=434065\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=434065</a> has been acknowledged, but not fixed.</p>\n\n<p>The bug is still open as of July 2019.</p>\n"}],"owner":{"account_id":1258178,"reputation":12401,"user_id":1217178,"accept_rate":72,"display_name":"Markus A."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8140,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1701813640,"creation_date":1399225874,"question_id":23459568,"body_markdown":"If I have the following code:\r\n\r\n\tpublic OutputStream test(boolean condition) throws FileNotFoundException {\r\n\t\treturn condition ? null : new FileOutputStream(&quot;test.txt&quot;);\r\n\t}\r\n\r\nEclipse puts yellow squiggles under `new FileOutputStream(&quot;test.txt&quot;)` and shows me the following warning:\r\n\r\n`Resource leak: &#39;&lt;unassigned Closeable value&gt;&#39; is never closed`\r\n\r\nThe strange thing is, if I remove the ternary operation:\r\n\r\n\tpublic OutputStream test() throws FileNotFoundException {\r\n\t\treturn new FileOutputStream(&quot;test.txt&quot;);\r\n\t}\r\n\r\nthe warning goes away.\r\n\r\nIs this an inconsistency (bug?) in Eclipse or am I missing some fundamental difference between the two scenarios?\r\n\r\nIn general, it seems like Eclipse is smart enough to understand that when I return a [`Closeable`][1] from a method, it is ok to not have the method close the stream (after-all, what&#39;s the point of returning a closed stream?). It even does this correctly when I return the result indirectly:\r\n\r\n\tpublic OutputStream test() throws FileNotFoundException {\r\n\t\tFileOutputStream result = new FileOutputStream(&quot;test.txt&quot;);\r\n\t\treturn result;\r\n\t}\r\n\r\n(no warnings here)\r\n\r\nSo, is Eclipse just getting confused by the ternary operation? If so, should I report this as a bug?\r\n\r\n&lt;hr&gt;\r\n\r\nAnother strange thing:\r\n\r\nIf I replace [`FileOutputStream`][2] with [`ByteArrayOutputStream`][3], the warning goes away also:\r\n\r\n\tpublic OutputStream test(boolean condition) {\r\n\t\treturn condition ? null : new ByteArrayOutputStream();\r\n\t}\r\n\r\nHow come it&#39;s treating these two streams differently? Both are direct descendents of [`OutputStream`][4] and implement the exact same interfaces ([`Closeable`][5], [`Flushable`][6], [`AutoCloseable`][7]). Does it somehow know that [`ByteArrayOutputStream.close()`][8] is a no-op? If so, is that hard-coded into Eclipse or does it actually parse the source or byte-code to figure this out?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/io/FileOutputStream.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html\r\n  [4]: http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html\r\n  [5]: http://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html\r\n  [6]: http://docs.oracle.com/javase/8/docs/api/java/io/Flushable.html\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\r\n  [8]: http://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html#close--","title":"Eclipse inconsistencies: Resource leak: &#39;&lt;unassigned Closeable value&gt;&#39; is never closed","body":"<p>If I have the following code:</p>\n\n<pre><code>public OutputStream test(boolean condition) throws FileNotFoundException {\n    return condition ? null : new FileOutputStream(\"test.txt\");\n}\n</code></pre>\n\n<p>Eclipse puts yellow squiggles under <code>new FileOutputStream(\"test.txt\")</code> and shows me the following warning:</p>\n\n<p><code>Resource leak: '&lt;unassigned Closeable value&gt;' is never closed</code></p>\n\n<p>The strange thing is, if I remove the ternary operation:</p>\n\n<pre><code>public OutputStream test() throws FileNotFoundException {\n    return new FileOutputStream(\"test.txt\");\n}\n</code></pre>\n\n<p>the warning goes away.</p>\n\n<p>Is this an inconsistency (bug?) in Eclipse or am I missing some fundamental difference between the two scenarios?</p>\n\n<p>In general, it seems like Eclipse is smart enough to understand that when I return a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html\" rel=\"nofollow\"><code>Closeable</code></a> from a method, it is ok to not have the method close the stream (after-all, what's the point of returning a closed stream?). It even does this correctly when I return the result indirectly:</p>\n\n<pre><code>public OutputStream test() throws FileNotFoundException {\n    FileOutputStream result = new FileOutputStream(\"test.txt\");\n    return result;\n}\n</code></pre>\n\n<p>(no warnings here)</p>\n\n<p>So, is Eclipse just getting confused by the ternary operation? If so, should I report this as a bug?</p>\n\n<hr>\n\n<p>Another strange thing:</p>\n\n<p>If I replace <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/FileOutputStream.html\" rel=\"nofollow\"><code>FileOutputStream</code></a> with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"nofollow\"><code>ByteArrayOutputStream</code></a>, the warning goes away also:</p>\n\n<pre><code>public OutputStream test(boolean condition) {\n    return condition ? null : new ByteArrayOutputStream();\n}\n</code></pre>\n\n<p>How come it's treating these two streams differently? Both are direct descendents of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/OutputStream.html\" rel=\"nofollow\"><code>OutputStream</code></a> and implement the exact same interfaces (<a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/Closeable.html\" rel=\"nofollow\"><code>Closeable</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/Flushable.html\" rel=\"nofollow\"><code>Flushable</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow\"><code>AutoCloseable</code></a>). Does it somehow know that <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html#close--\" rel=\"nofollow\"><code>ByteArrayOutputStream.close()</code></a> is a no-op? If so, is that hard-coded into Eclipse or does it actually parse the source or byte-code to figure this out?</p>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":15585153,"reputation":1806,"user_id":11243901,"display_name":"Arun Sai Mustyala"},"score":0,"creation_date":1633673773,"post_id":69491169,"comment_id":122827044,"body_markdown":"Have a look at this: https://stackoverflow.com/questions/24917194/spring-boot-inject-map-from-application-yml","body":"Have a look at this: <a href=\"https://stackoverflow.com/questions/24917194/spring-boot-inject-map-from-application-yml\" title=\"spring boot inject map from application yml\">stackoverflow.com/questions/24917194/&hellip;</a>"},{"owner":{"account_id":17352297,"reputation":2252,"user_id":12570528,"display_name":"Gregor Zurowski"},"score":0,"creation_date":1633680551,"post_id":69491169,"comment_id":122829260,"body_markdown":"Maybe the following will help: https://stackoverflow.com/questions/69490852/merge-property-file-into-application-properties/69491001#69491001","body":"Maybe the following will help: <a href=\"https://stackoverflow.com/questions/69490852/merge-property-file-into-application-properties/69491001#69491001\" title=\"merge property file into application properties\">stackoverflow.com/questions/69490852/&hellip;</a>"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1633686573,"post_id":69491169,"comment_id":122831477,"body_markdown":"Does this answer your question? [Spring Boot - inject map from application.yml](https://stackoverflow.com/questions/24917194/spring-boot-inject-map-from-application-yml)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24917194/spring-boot-inject-map-from-application-yml\">Spring Boot - inject map from application.yml</a>"}],"answers":[{"tags":[],"owner":{"account_id":4114115,"reputation":307,"user_id":5095483,"display_name":"Deepa Dhanalakota"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701813526,"creation_date":1701813526,"answer_id":77609455,"question_id":69491169,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    There are 2 ways to do it.\r\n    First setup the configmap.yaml file as shown below--\r\n    Key1:  \r\n      abc: &#39;abcval&#39;\r\n      xyz: &#39;xyzval&#39;\r\n    Key2:\r\n      aaa: &#39;aaaval&#39;\r\n      bbb: &#39;bbbval&#39;\r\n\r\n\r\n    Add to a config class- \r\n    @Configuration\r\n    public class Configfile{\r\n    \t@Bean\r\n    \tpublic Map&lt;String, Map&lt;String,String&gt;&gt; configMap() {\r\n    \t\t\r\n    \t\tMap&lt;String, Map&lt;String,String&gt;&gt; mapVal=new HashMap&lt;String, Map&lt;String,String&gt;&gt;();\r\n            ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\r\n            InputStream resource = getClass().getResourceAsStream(&quot;/configmap.yaml&quot;);       \r\n            mapVal = mapper.mapVal(resource, Map.class);\r\n            return mapVal;\r\n        }\r\n    }\r\n\r\n    1) if you know the key \r\n    \tIn Service class -\r\n    \t\t\t Use the @Value annotation and get in form of map...\r\n many google links have it like this- https://stackoverflow.com/questions/72040438/spring-boot-map-a-map-from-application-yaml-to-a-map-with-value-annotation\r\n\r\n    2) if you dont know the key and want to lookup the prop values based on the key runtime\r\n    \tIn Service class -\r\n    \t\t@Resource(name=&quot;configMap&quot;) \r\n    \t\tprivate Map&lt;String,Map&lt;String,String&gt;&gt; configMap;\r\n    \t\tString keyname = getKeyName()\r\n    \t\tMap&lt;String,String&gt; keyFieldsmap= configMap.get(keyname);\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"I want to read YAML in the map form. How can I do it?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>There are 2 ways to do it.\nFirst setup the configmap.yaml file as shown below--\nKey1:  \n  abc: 'abcval'\n  xyz: 'xyzval'\nKey2:\n  aaa: 'aaaval'\n  bbb: 'bbbval'\n\n\nAdd to a config class- \n@Configuration\npublic class Configfile{\n    @Bean\n    public Map&lt;String, Map&lt;String,String&gt;&gt; configMap() {\n        \n        Map&lt;String, Map&lt;String,String&gt;&gt; mapVal=new HashMap&lt;String, Map&lt;String,String&gt;&gt;();\n        ObjectMapper mapper = new ObjectMapper(new YAMLFactory());\n        InputStream resource = getClass().getResourceAsStream(\"/configmap.yaml\");       \n        mapVal = mapper.mapVal(resource, Map.class);\n        return mapVal;\n    }\n}\n\n1) if you know the key \n    In Service class -\n             Use the @Value annotation and get in form of map...\n many google links have it like this- https://stackoverflow.com/questions/72040438/spring-boot-map-a-map-from-application-yaml-to-a-map-with-value-annotation\n\n2) if you dont know the key and want to lookup the prop values based on the key runtime\n    In Service class -\n        @Resource(name=\"configMap\") \n        private Map&lt;String,Map&lt;String,String&gt;&gt; configMap;\n        String keyname = getKeyName()\n        Map&lt;String,String&gt; keyFieldsmap= configMap.get(keyname);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":22697839,"reputation":1,"user_id":16865697,"display_name":"Raghav Mittal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701813526,"creation_date":1633672908,"question_id":69491169,"body_markdown":"Sample yaml looks like \r\n```&quot;yaml&quot;:\r\n  &quot;mappings&quot;:\r\n    &quot;name&quot;: &quot;foo&quot;\r\n    &quot;aliases&quot;: &quot;abc&quot;\r\n   ```\r\n\r\nTrying to implement it using PropertySourceFactory, but unsuccessful.\r\n```\r\nimport import org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.context.properties.ConfigurationProperties;\r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.PropertySource;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n@Configuration\r\n//@ConfigurationProperties\r\n@PropertySource(value = &quot;classpath:order_config.yml&quot;, factory = YamlPropertySourceFactory.class)\r\npublic class ValidatorConfig {\r\n\r\n    @Value(&quot;${yaml.mappings}&quot;)\r\n    private Map&lt;String, String&gt; mappings = new HashMap&lt;&gt;();\r\n\r\n    @Value(&quot;${yaml.mappings.name}&quot;)\r\n    private String create;\r\n\r\n\r\n    public String getValidatorBean(String tenant, String requestType) {\r\n        System.out.println(mappings);\r\n        return &quot;yes&quot;;\r\n    }\r\n}\r\n\r\n\r\n\r\nimport org.springframework.beans.factory.config.YamlPropertiesFactoryBean;\r\nimport org.springframework.core.env.PropertiesPropertySource;\r\nimport org.springframework.core.env.PropertySource;\r\nimport org.springframework.core.io.support.EncodedResource;\r\nimport org.springframework.core.io.support.PropertySourceFactory;\r\n\r\nimport java.io.IOException;\r\nimport java.util.Properties;\r\n\r\npublic class YamlPropertySourceFactory implements PropertySourceFactory {\r\n\r\n    @Override\r\n    public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource encodedResource)\r\n            throws IOException {\r\n        YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n        factory.setResources(encodedResource.getResource());\r\n\r\n        Properties properties = factory.getObject();\r\n\r\n        return new PropertiesPropertySource(encodedResource.getResource().getFilename(), properties);\r\n    }\r\n}\r\n```\r\nHave tried using a bunch of methods using @Value, @ConfigurationProperties, but unsuccessful\r\nCan we implement it using YamlMapFactoryBean. Have not been able to find its working demonstration.","title":"I want to read YAML in the map form. How can I do it?","body":"<p>Sample yaml looks like</p>\n<pre><code>  &quot;mappings&quot;:\n    &quot;name&quot;: &quot;foo&quot;\n    &quot;aliases&quot;: &quot;abc&quot;\n</code></pre>\n<p>Trying to implement it using PropertySourceFactory, but unsuccessful.</p>\n<pre><code>import import org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\n\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\n\n@Configuration\n//@ConfigurationProperties\n@PropertySource(value = &quot;classpath:order_config.yml&quot;, factory = YamlPropertySourceFactory.class)\npublic class ValidatorConfig {\n\n    @Value(&quot;${yaml.mappings}&quot;)\n    private Map&lt;String, String&gt; mappings = new HashMap&lt;&gt;();\n\n    @Value(&quot;${yaml.mappings.name}&quot;)\n    private String create;\n\n\n    public String getValidatorBean(String tenant, String requestType) {\n        System.out.println(mappings);\n        return &quot;yes&quot;;\n    }\n}\n\n\n\nimport org.springframework.beans.factory.config.YamlPropertiesFactoryBean;\nimport org.springframework.core.env.PropertiesPropertySource;\nimport org.springframework.core.env.PropertySource;\nimport org.springframework.core.io.support.EncodedResource;\nimport org.springframework.core.io.support.PropertySourceFactory;\n\nimport java.io.IOException;\nimport java.util.Properties;\n\npublic class YamlPropertySourceFactory implements PropertySourceFactory {\n\n    @Override\n    public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource encodedResource)\n            throws IOException {\n        YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n        factory.setResources(encodedResource.getResource());\n\n        Properties properties = factory.getObject();\n\n        return new PropertiesPropertySource(encodedResource.getResource().getFilename(), properties);\n    }\n}\n</code></pre>\n<p>Have tried using a bunch of methods using @Value, @ConfigurationProperties, but unsuccessful\nCan we implement it using YamlMapFactoryBean. Have not been able to find its working demonstration.</p>\n"},{"tags":["java","windows","url","cmd","processbuilder"],"comments":[{"owner":{"account_id":11374202,"reputation":11,"user_id":8338985,"display_name":"wassim ben"},"score":0,"creation_date":1521198117,"post_id":49319042,"comment_id":85639229,"body_markdown":"i&#39;ve resolved the problem using **c:\\PROGRA~1** (the short name notation of c:\\Programme Files) , but if you have another solutions please share it with us , just for knowledge ;) .","body":"i&#39;ve resolved the problem using <b>c:\\PROGRA~1</b> (the short name notation of c:\\Programme Files) , but if you have another solutions please share it with us , just for knowledge ;) ."},{"owner":{"account_id":89244,"reputation":172617,"user_id":246342,"display_name":"Alex K."},"score":0,"creation_date":1521201043,"post_id":49319042,"comment_id":85641003,"body_markdown":"Paths with spaces when passed as an argument to cmd must be quoted `&quot;\\&quot;C:/Program Files/eMailer/myProg.exe\\&quot;&quot;`","body":"Paths with spaces when passed as an argument to cmd must be quoted <code>&quot;\\&quot;C:&#47;Program Files&#47;eMailer&#47;myProg.exe\\&quot;&quot;</code>"},{"owner":{"account_id":11374202,"reputation":11,"user_id":8338985,"display_name":"wassim ben"},"score":0,"creation_date":1521212586,"post_id":49319042,"comment_id":85649033,"body_markdown":"i&#39;ve tried it with double quote , and another time with single quote but without success","body":"i&#39;ve tried it with double quote , and another time with single quote but without success"}],"answers":[{"tags":[],"owner":{"account_id":7160270,"reputation":1,"user_id":5471257,"display_name":"Abc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521202226,"creation_date":1521202226,"answer_id":49320454,"question_id":49319042,"body_markdown":"You could try to quote the argument. Otherwise the space in the argument will make `myProg` think there are two arguments.\r\n\r\n    String[] command = { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;C:/Program Files/eMailer/myProg.exe&quot;, &quot;\\&quot;C:\\\\Program Files\\\\eMailer\\\\params.txt\\&quot;&quot; };\r\n    ProcessBuilder builder = new ProcessBuilder(command);\r\n    builder.redirectErrorStream(true);\r\n    Process p = builder.start();","title":"how to run an .exe and pass another url as param in java","body":"<p>You could try to quote the argument. Otherwise the space in the argument will make <code>myProg</code> think there are two arguments.</p>\n\n<pre><code>String[] command = { \"cmd.exe\", \"/c\", \"C:/Program Files/eMailer/myProg.exe\", \"\\\"C:\\\\Program Files\\\\eMailer\\\\params.txt\\\"\" };\nProcessBuilder builder = new ProcessBuilder(command);\nbuilder.redirectErrorStream(true);\nProcess p = builder.start();\n</code></pre>\n"}],"owner":{"account_id":11374202,"reputation":11,"user_id":8338985,"display_name":"wassim ben"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701813109,"creation_date":1521197696,"question_id":49319042,"body_markdown":"I want to run an exe file and pass to it an URL as parameter :\r\n\r\n```\r\nString[] command = { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;C:/Program Files/eMailer/myProg.exe&quot;, &quot;C:\\\\Program Files\\\\eMailer\\\\params.txt&quot; };\r\n\t\t\tProcessBuilder builder= new ProcessBuilder(command);\r\n\t\t\tbuilder.redirectErrorStream(true);\r\n\t\t\tProcess p = builder.start();\r\n```\r\nthe problem here is that I get : &#39;C:/&#39;Program&#39; is not recognized as command;\r\nwhen I use `myurl` already not work , I&#39;ve tried a lot of variations with no result.\r\n\r\nNB: I have 2 problems : \r\n\r\n 1. first with introducing the space in &quot;Program files&quot;\r\n 2. second with passing the second URL as parameter for the exe file\r\n\r\nThank you for your help","title":"how to run an .exe and pass another url as param in java","body":"<p>I want to run an exe file and pass to it an URL as parameter :</p>\n<pre><code>String[] command = { &quot;cmd.exe&quot;, &quot;/c&quot;, &quot;C:/Program Files/eMailer/myProg.exe&quot;, &quot;C:\\\\Program Files\\\\eMailer\\\\params.txt&quot; };\n            ProcessBuilder builder= new ProcessBuilder(command);\n            builder.redirectErrorStream(true);\n            Process p = builder.start();\n</code></pre>\n<p>the problem here is that I get : 'C:/'Program' is not recognized as command;\nwhen I use <code>myurl</code> already not work , I've tried a lot of variations with no result.</p>\n<p>NB: I have 2 problems :</p>\n<ol>\n<li>first with introducing the space in &quot;Program files&quot;</li>\n<li>second with passing the second URL as parameter for the exe file</li>\n</ol>\n<p>Thank you for your help</p>\n"},{"tags":["java","android","kotlin","dependencies"],"comments":[{"owner":{"account_id":5478644,"reputation":653,"user_id":4355877,"accept_rate":82,"display_name":"Mick"},"score":56,"creation_date":1678119066,"post_id":75263047,"comment_id":133467228,"body_markdown":"I thought I was the only one who got this error while having had no use of Kotlin anywhere in my large project.. Then I came across this very-obvious-to-me-now answer and it solved it very simply for me...\nhttps://stackoverflow.com/a/75315276/4355877","body":"I thought I was the only one who got this error while having had no use of Kotlin anywhere in my large project.. Then I came across this very-obvious-to-me-now answer and it solved it very simply for me... <a href=\"https://stackoverflow.com/a/75315276/4355877\">stackoverflow.com/a/75315276/4355877</a>"},{"owner":{"account_id":145567,"reputation":17881,"user_id":355456,"accept_rate":70,"display_name":"Hong"},"score":2,"creation_date":1680019103,"post_id":75263047,"comment_id":133823622,"body_markdown":"@Mick Thank you so much for the tip, a lifesaver for those shunning Kotlin.","body":"@Mick Thank you so much for the tip, a lifesaver for those shunning Kotlin."},{"owner":{"account_id":22580507,"reputation":821,"user_id":16765223,"display_name":"M DEV"},"score":0,"creation_date":1681109963,"post_id":75263047,"comment_id":133999648,"body_markdown":"@midnighthowlers Try this solution once: https://stackoverflow.com/a/75974885/16765223","body":"@midnighthowlers Try this solution once: <a href=\"https://stackoverflow.com/a/75974885/16765223\">stackoverflow.com/a/75974885/16765223</a>"},{"owner":{"account_id":6205573,"reputation":18140,"user_id":4833705,"accept_rate":86,"display_name":"Lance Samaria"},"score":0,"creation_date":1690367865,"post_id":75263047,"comment_id":135342688,"body_markdown":"This answer worked for me. It&#39;s on page 2, that&#39;s why I&#39;m adding this as a comment here: https://stackoverflow.com/a/75550269/4833705","body":"This answer worked for me. It&#39;s on page 2, that&#39;s why I&#39;m adding this as a comment here: <a href=\"https://stackoverflow.com/a/75550269/4833705\">stackoverflow.com/a/75550269/4833705</a>"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1701574262,"post_id":75263047,"comment_id":136792244,"body_markdown":"Why do we need 62 answers to this question?","body":"Why do we need 62 answers to this question?"}],"answers":[{"tags":[],"owner":{"account_id":7501165,"reputation":525,"user_id":5699461,"display_name":"Luiz Rodrigo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674878616,"creation_date":1674878616,"answer_id":75265284,"question_id":75263047,"body_markdown":"According to the release notes of Kotlin 1.8.0 (https://kotlinlang.org/docs/whatsnew18.html#updated-jvm-compilation-target), you shouldn&#39;t specify `kotlin-stdlib-jdk7` nor `kotlin-stdlib-jdk8` as dependencies anymore and, instead, just use `kotlin-stdlib`.","title":"Duplicate class in Kotlin Android","body":"<p>According to the release notes of Kotlin 1.8.0 (<a href=\"https://kotlinlang.org/docs/whatsnew18.html#updated-jvm-compilation-target\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/whatsnew18.html#updated-jvm-compilation-target</a>), you shouldn't specify <code>kotlin-stdlib-jdk7</code> nor <code>kotlin-stdlib-jdk8</code> as dependencies anymore and, instead, just use <code>kotlin-stdlib</code>.</p>\n"},{"comments":[{"owner":{"account_id":11562480,"reputation":6622,"user_id":8471798,"display_name":"canerkaseler"},"score":66,"creation_date":1675552925,"post_id":75268089,"comment_id":132954784,"body_markdown":"Note: After updating to &#39;1.8.0&#39;, do not forget to update kotlinCompilerExtensionVersion as &#39;1.4.0&#39; .","body":"Note: After updating to &#39;1.8.0&#39;, do not forget to update kotlinCompilerExtensionVersion as &#39;1.4.0&#39; ."},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":14,"creation_date":1676031338,"post_id":75268089,"comment_id":133060150,"body_markdown":"I get a compilation error: \n**This version (1.3.2) of the Compose Compiler requires Kotlin version 1.7.20 but you appear to be using Kotlin version 1.8.0 which is not known to be compatible.  Please fix your configuration (or `suppressKotlinVersionCompatibilityCheck` but don&#39;t say I didn&#39;t warn you!).**","body":"I get a compilation error:  <b>This version (1.3.2) of the Compose Compiler requires Kotlin version 1.7.20 but you appear to be using Kotlin version 1.8.0 which is not known to be compatible.  Please fix your configuration (or <code>suppressKotlinVersionCompatibilityCheck</code> but don&#39;t say I didn&#39;t warn you!).</b>"},{"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"score":1,"creation_date":1676239359,"post_id":75268089,"comment_id":133092822,"body_markdown":"Question as a noob: Where should I add the above?","body":"Question as a noob: Where should I add the above?"},{"owner":{"account_id":18459139,"reputation":381,"user_id":13447094,"display_name":"Enes Kayıklık"},"score":0,"creation_date":1676719567,"post_id":75268089,"comment_id":133196565,"body_markdown":"If you are using ksp, do not forget to update it too. https://github.com/google/ksp/releases. For kotlin version 1.8.0 ksp must be 1.8.0","body":"If you are using ksp, do not forget to update it too. <a href=\"https://github.com/google/ksp/releases\" rel=\"nofollow noreferrer\">github.com/google/ksp/releases</a>. For kotlin version 1.8.0 ksp must be 1.8.0"},{"owner":{"account_id":1729173,"reputation":426,"user_id":1583157,"display_name":"Reijo Korhonen"},"score":0,"creation_date":1678141217,"post_id":75268089,"comment_id":133472887,"body_markdown":"got this error:The &#39;kotlin-android-extensions&#39; Gradle plugin is no longer supported. Please use this migration guide (https://goo.gle/kotlin-android-extensions-deprecation) to start working with View Binding (https://developer.android.com/topic/libraries/view-binding) and the &#39;kotlin-parcelize&#39; plugin.","body":"got this error:The &#39;kotlin-android-extensions&#39; Gradle plugin is no longer supported. Please use this migration guide (<a href=\"https://goo.gle/kotlin-android-extensions-deprecation\" rel=\"nofollow noreferrer\">goo.gle/kotlin-android-extensions-deprecation</a>) to start working with View Binding (<a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/view-binding</a>) and the &#39;kotlin-parcelize&#39; plugin."},{"owner":{"account_id":4450305,"reputation":5442,"user_id":3622415,"accept_rate":100,"display_name":"kangkyu"},"score":3,"creation_date":1679732648,"post_id":75268089,"comment_id":133776516,"body_markdown":"@PrasannjeetSingh It is `build.gradle` file","body":"@PrasannjeetSingh It is <code>build.gradle</code> file"},{"owner":{"account_id":984178,"reputation":366,"user_id":1003116,"display_name":"Mazhar"},"score":5,"creation_date":1683299932,"post_id":75268089,"comment_id":134350601,"body_markdown":"@IgorGanapolsky - You can update the kotlinCompilerExtensionVersion to 1.4.4 in app level build.gradle. You can find this in ComposeOptions {} block. Check the link below to find the correctly mapped version (https://developer.android.com/jetpack/androidx/releases/compose-kotlin)","body":"@IgorGanapolsky - You can update the kotlinCompilerExtensionVersion to 1.4.4 in app level build.gradle. You can find this in ComposeOptions {} block. Check the link below to find the correctly mapped version (<a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/compose-kot&zwnj;&#8203;lin</a>)"},{"owner":{"account_id":14534276,"reputation":2020,"user_id":10498159,"display_name":"Ven Ren"},"score":0,"creation_date":1684053805,"post_id":75268089,"comment_id":134458016,"body_markdown":"This is useful but you also need edit kotlinCompilerExtensionVersion= &quot;1.4.3&quot;.  https://developer.android.com/jetpack/androidx/releases/compose-kotlin?hl=zh-cn","body":"This is useful but you also need edit kotlinCompilerExtensionVersion= &quot;1.4.3&quot;.  <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin?hl=zh-cn\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/&hellip;</a>"},{"owner":{"account_id":5736115,"reputation":632,"user_id":4530241,"display_name":"Carlos Leonardo Camilo Vargas"},"score":0,"creation_date":1686622304,"post_id":75268089,"comment_id":134820958,"body_markdown":"I had the same issue. By default Android Studio creates a project with `kotlinCompilerExtensionVersion &#39;1.3.2&#39;` (**Compose Compiler Version**) and `id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.20&#39; apply false` (**Kotlin Version**). And the problem comes when you try to use/update library versions: For example `implementation &#39;androidx.core:core-ktx:1.8.0&#39;` to 1.10.1 , result in that error(you&#39;ll have to look for the right version). **To avoid this use the latest version of Compose Compiler Version and Kotlin version** (https://developer.android.com/jetpack/androidx/releases/compose-kotlin)","body":"I had the same issue. By default Android Studio creates a project with <code>kotlinCompilerExtensionVersion &#39;1.3.2&#39;</code> (<b>Compose Compiler Version</b>) and <code>id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.20&#39; apply false</code> (<b>Kotlin Version</b>). And the problem comes when you try to use/update library versions: For example <code>implementation &#39;androidx.core:core-ktx:1.8.0&#39;</code> to 1.10.1 , result in that error(you&#39;ll have to look for the right version). <b>To avoid this use the latest version of Compose Compiler Version and Kotlin version</b> (<a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/androidx/releases/compose-kot&zwnj;&#8203;lin</a>)"},{"owner":{"account_id":1859386,"reputation":415,"user_id":1684287,"display_name":"Armando Pe&#241;a"},"score":0,"creation_date":1688062093,"post_id":75268089,"comment_id":135026890,"body_markdown":"I replaced: \n- apply plugin: &#39;com.android.application&#39;\n\nwith :\n\nplugins {\n    id &#39;com.android.application&#39;\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\n}\n\nAnd it works.","body":"I replaced:  - apply plugin: &#39;com.android.application&#39;  with :  plugins {     id &#39;com.android.application&#39;     id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false }  And it works."},{"owner":{"account_id":981025,"reputation":10495,"user_id":1000741,"accept_rate":66,"display_name":"Francois"},"score":0,"creation_date":1697788080,"post_id":75268089,"comment_id":136326176,"body_markdown":"When updating `org.jetbrains.kotlin.android` to `1.8.0` add `android`&gt;`composeOptions` &gt; `kotlinCompilerExtensionVersion = &quot;1.4.0&quot;` in your app level `build.gradle` file","body":"When updating <code>org.jetbrains.kotlin.android</code> to <code>1.8.0</code> add <code>android</code>&gt;<code>composeOptions</code> &gt; <code>kotlinCompilerExtensionVersion = &quot;1.4.0&quot;</code> in your app level <code>build.gradle</code> file"}],"tags":[],"owner":{"account_id":27642997,"reputation":2945,"user_id":21099549,"display_name":"Jurpro"},"comment_count":11,"down_vote_count":3,"up_vote_count":295,"is_accepted":false,"score":292,"last_activity_date":1701573675,"creation_date":1674913560,"answer_id":75268089,"question_id":75263047,"body_markdown":"Simply. For me, just change this Gradle plugin from 1.7.10 to 1.8.0 Then synchronise &amp;rarr; invalidate caches &amp;rarr; build\r\n\r\nFrom:\r\n\r\n    plugins {\r\n        ....\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.10&#39; apply false\r\n    }\r\n\r\n\r\n\r\nTo:\r\n\r\n    plugins {\r\n        ....\r\n        id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\n    }\r\n","title":"Duplicate class in Kotlin Android","body":"<p>Simply. For me, just change this Gradle plugin from 1.7.10 to 1.8.0 Then synchronise → invalidate caches → build</p>\n<p>From:</p>\n<pre><code>plugins {\n    ....\n    id 'org.jetbrains.kotlin.android' version '1.7.10' apply false\n}\n</code></pre>\n<p>To:</p>\n<pre><code>plugins {\n    ....\n    id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8876334,"reputation":831,"user_id":6628335,"display_name":"Mohamed Medhat"},"comment_count":0,"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1701573779,"creation_date":1674914557,"answer_id":75268204,"question_id":75263047,"body_markdown":"I solved the problem by changing the Kotlin class path dependency in the root *[build.gradle][1]* file from\r\n\r\n```\r\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.20-RC&quot;\r\n```\r\n\r\nto\r\n\r\n```\r\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/tutorial_using_tasks.html\r\n\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p>I solved the problem by changing the Kotlin class path dependency in the root <em><a href=\"https://docs.gradle.org/current/userguide/tutorial_using_tasks.html\" rel=\"nofollow noreferrer\">build.gradle</a></em> file from</p>\n<pre><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.20-RC&quot;\n</code></pre>\n<p>to</p>\n<pre><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19793044,"reputation":117,"user_id":14495624,"display_name":"Blaupunkt"},"score":0,"creation_date":1677140024,"post_id":75276293,"comment_id":133279784,"body_markdown":"Same here. Had to downgrade material3 version to ```&#39;1.1.0-alpha04&#39;```","body":"Same here. Had to downgrade material3 version to <code>&#39;1.1.0-alpha04&#39;</code>"}],"tags":[],"owner":{"account_id":17564518,"reputation":49,"user_id":12899712,"display_name":"Gregory"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1701573846,"creation_date":1675008057,"answer_id":75276293,"question_id":75263047,"body_markdown":"It is maybe some updated version dependency. In my new compose app, when I updated\r\n\r\n&gt; implementation &#39;androidx.compose.material3:material3:*&#39;(new version)\r\n&gt; from 1.0.0-alpha11\r\n\r\nI will got this error. Try revert updated dependency.\r\n\r\nAlso, I was getting this error when `android studio` was added in my Gradle modules `ktx:+` dependency.\r\n\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p>It is maybe some updated version dependency. In my new compose app, when I updated</p>\n<blockquote>\n<p>implementation 'androidx.compose.material3:material3:*'(new version)\nfrom 1.0.0-alpha11</p>\n</blockquote>\n<p>I will got this error. Try revert updated dependency.</p>\n<p>Also, I was getting this error when <code>android studio</code> was added in my Gradle modules <code>ktx:+</code> dependency.</p>\n"},{"tags":[],"owner":{"account_id":26655552,"reputation":21,"user_id":20269135,"display_name":"Macbook Air"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701573900,"creation_date":1675055848,"answer_id":75280491,"question_id":75263047,"body_markdown":"For compose, use stable-version of material3:\r\n\r\n`androidx.compose.material3:material3:1.0.1`\r\n\r\nAnd then:\r\n\r\n`id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.0&#39; apply false`\r\n","title":"Duplicate class in Kotlin Android","body":"<p>For compose, use stable-version of material3:</p>\n<p><code>androidx.compose.material3:material3:1.0.1</code></p>\n<p>And then:</p>\n<p><code>id 'org.jetbrains.kotlin.android' version '1.7.0' apply false</code></p>\n"},{"tags":[],"owner":{"account_id":21672030,"reputation":19,"user_id":15989534,"display_name":"Flochocinco"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701573935,"creation_date":1675083559,"answer_id":75284751,"question_id":75263047,"body_markdown":"I had the same issue while it was working two days ago...\r\n\r\nI changed to\r\n\r\n    composeOptions {\r\n            kotlinCompilerExtensionVersion &#39;1.3.2&#39;\r\n    }\r\n\r\nand\r\n`id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.20&#39; apply false` \r\nin build.gradle (Project).\r\n\r\nThen clean and rebuild the project.\r\n","title":"Duplicate class in Kotlin Android","body":"<p>I had the same issue while it was working two days ago...</p>\n<p>I changed to</p>\n<pre><code>composeOptions {\n        kotlinCompilerExtensionVersion '1.3.2'\n}\n</code></pre>\n<p>and\n<code>id 'org.jetbrains.kotlin.android' version '1.7.20' apply false</code>\nin build.gradle (Project).</p>\n<p>Then clean and rebuild the project.</p>\n"},{"comments":[{"owner":{"account_id":4690396,"reputation":1599,"user_id":3796660,"accept_rate":54,"display_name":"AJW"},"score":7,"creation_date":1678320608,"post_id":75298544,"comment_id":133511815,"body_markdown":"I have a project where the build failed for the same reason as above.  And I am not using any kotlin code in my project.  Is there a way to disable any and all kotlin dependencies so that I can&#39;t possibly get a &quot;duplicate classes&quot; for kotlin dependencies?","body":"I have a project where the build failed for the same reason as above.  And I am not using any kotlin code in my project.  Is there a way to disable any and all kotlin dependencies so that I can&#39;t possibly get a &quot;duplicate classes&quot; for kotlin dependencies?"},{"owner":{"account_id":41432,"reputation":6901,"user_id":120398,"accept_rate":80,"display_name":"David Fraser"},"score":1,"creation_date":1678458141,"post_id":75298544,"comment_id":133541457,"body_markdown":"If you&#39;re not using any kotlin code, it sounds like a very different problem even if it has the same error message... probably worth posting as a separate question","body":"If you&#39;re not using any kotlin code, it sounds like a very different problem even if it has the same error message... probably worth posting as a separate question"},{"owner":{"account_id":3333073,"reputation":4712,"user_id":2801482,"display_name":"Robyer"},"score":5,"creation_date":1679050821,"post_id":75298544,"comment_id":133655457,"body_markdown":"@AJW You may think that you don&#39;t use any Kotlin code in your project, but the dependencies you use can use Kotlin code inside them (for example various AndroidX libraries are written in Kotlin).","body":"@AJW You may think that you don&#39;t use any Kotlin code in your project, but the dependencies you use can use Kotlin code inside them (for example various AndroidX libraries are written in Kotlin)."},{"owner":{"account_id":18606755,"reputation":238,"user_id":13560194,"display_name":"Blue Ocean"},"score":2,"creation_date":1679566970,"post_id":75298544,"comment_id":133746002,"body_markdown":"It works now. You can also find information in [youtrack.jetbrains.com](https://youtrack.jetbrains.com/issue/KT-54136/Duplicated-classes-cause-build-failure-if-a-dependency-to-kotlin-stdlib-specified-in-an-android-project).","body":"It works now. You can also find information in <a href=\"https://youtrack.jetbrains.com/issue/KT-54136/Duplicated-classes-cause-build-failure-if-a-dependency-to-kotlin-stdlib-specified-in-an-android-project\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com</a>."},{"owner":{"account_id":1037834,"reputation":333,"user_id":1044572,"display_name":"David Scherfgen"},"score":0,"creation_date":1682498374,"post_id":75298544,"comment_id":134223966,"body_markdown":"With Android Studio Giraffe (2022.3.1 Beta 1), I get a warning in the IDE: `&#39;implementation&#39; is defined by &#39;dependencies&#39; but used within &#39;constraints&#39;`. Any idea why, and how to get rid of it?","body":"With Android Studio Giraffe (2022.3.1 Beta 1), I get a warning in the IDE: <code>&#39;implementation&#39; is defined by &#39;dependencies&#39; but used within &#39;constraints&#39;</code>. Any idea why, and how to get rid of it?"},{"owner":{"account_id":15750262,"reputation":111,"user_id":11365041,"display_name":"fidel morris omolo"},"score":0,"creation_date":1682966610,"post_id":75298544,"comment_id":134292034,"body_markdown":"This solution worked for me but I also tried out a much cleaner approach from the official kotlin docs. Here is the link: https://kotlinlang.org/docs/whatsnew18.html#usage-of-the-latest-kotlin-stdlib-version-in-transitive-dependencies.","body":"This solution worked for me but I also tried out a much cleaner approach from the official kotlin docs. Here is the link: <a href=\"https://kotlinlang.org/docs/whatsnew18.html#usage-of-the-latest-kotlin-stdlib-version-in-transitive-dependencies\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/&hellip;</a>."},{"owner":{"account_id":19235430,"reputation":431,"user_id":14056496,"display_name":"jdevp2"},"score":1,"creation_date":1688345752,"post_id":75298544,"comment_id":135057622,"body_markdown":"Thanks for the solution. Wish `gradle` can&#39;t be little smart to detect and fix this type of issues.","body":"Thanks for the solution. Wish <code>gradle</code> can&#39;t be little smart to detect and fix this type of issues."},{"owner":{"account_id":483967,"reputation":1219,"user_id":899345,"accept_rate":44,"display_name":"Luke Irvin"},"score":0,"creation_date":1697727695,"post_id":75298544,"comment_id":136318747,"body_markdown":"I&#39;ve updated my build.gradle with this &amp; it still does not work.","body":"I&#39;ve updated my build.gradle with this &amp; it still does not work."},{"owner":{"account_id":41432,"reputation":6901,"user_id":120398,"accept_rate":80,"display_name":"David Fraser"},"score":0,"creation_date":1698662438,"post_id":75298544,"comment_id":136429353,"body_markdown":"For more recent versions of kotlin, this solution should not be needed...; using the `kotlin-stdlib` declaration instead is probably what you need to do (as hinted at in the first two paragraphs)... but if you find another scenario you could share the details?","body":"For more recent versions of kotlin, this solution should not be needed...; using the <code>kotlin-stdlib</code> declaration instead is probably what you need to do (as hinted at in the first two paragraphs)... but if you find another scenario you could share the details?"}],"tags":[],"owner":{"account_id":41432,"reputation":6901,"user_id":120398,"accept_rate":80,"display_name":"David Fraser"},"comment_count":9,"down_vote_count":2,"up_vote_count":210,"is_accepted":false,"score":208,"last_activity_date":1701574034,"creation_date":1675174777,"answer_id":75298544,"question_id":75263047,"body_markdown":"*See [this note](https://kotlinlang.org/docs/whatsnew18.html#obligatory-check-for-jvm-targets-of-related-kotlin-and-java-compile-tasks) in the official Kotlin documentation for an explanation of how alignment works with these dependencies and build flags. The below original answer is an alternative approach which doesn&#39;t take this into account.*\r\n\r\nThis is because `kotlin-stdlib-jdk7` and `kotlin-stdlib-jdk8` are older dependencies that should be replaced by `kotlin-stdlib` (As @MrPNG pointed out from [the what&#39;s new docs for Kotlin 1.8](https://kotlinlang.org/docs/whatsnew18.html#updated-jvm-compilation-target)). However, other libraries may still declare a dependency on them, which needs to be replaced with a dependency on `kotlin-stdlib`.\r\n\r\nYou can override how the jdk7 and jdk8 versions are resolved like this (in your `app/build.gradle`):\r\n\r\n```\r\ndependencies {\r\n    constraints {\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n        }\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe `constraints` section above can be added in alongside your other dependencies. Choose the version (here `1.8.0`) to match the one you actually want to be used, which should be the one that your non-jdkN-named version is in the duplicate class error (e.g., `(org.jetbrains.kotlin:kotlin-stdlib:1.8.0)`)\r\n\r\nIf you have `apply plugin: &#39;kotlin-android&#39;` in this file, then it doesn&#39;t need to separately also say to depend on the stdlib in dependencies, so remove any lines that look like this:\r\n\r\n```\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n```\r\n\r\n(thanks to [this blog](https://dev.to/retyui/fix-react-native-android-builds-duplicate-class-kotlincollections-found-in-modules-jetified-kotlin-stdlib-180-2ca7))\r\n\r\n\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p><em>See <a href=\"https://kotlinlang.org/docs/whatsnew18.html#obligatory-check-for-jvm-targets-of-related-kotlin-and-java-compile-tasks\" rel=\"nofollow noreferrer\">this note</a> in the official Kotlin documentation for an explanation of how alignment works with these dependencies and build flags. The below original answer is an alternative approach which doesn't take this into account.</em></p>\n<p>This is because <code>kotlin-stdlib-jdk7</code> and <code>kotlin-stdlib-jdk8</code> are older dependencies that should be replaced by <code>kotlin-stdlib</code> (As @MrPNG pointed out from <a href=\"https://kotlinlang.org/docs/whatsnew18.html#updated-jvm-compilation-target\" rel=\"nofollow noreferrer\">the what's new docs for Kotlin 1.8</a>). However, other libraries may still declare a dependency on them, which needs to be replaced with a dependency on <code>kotlin-stdlib</code>.</p>\n<p>You can override how the jdk7 and jdk8 versions are resolved like this (in your <code>app/build.gradle</code>):</p>\n<pre><code>dependencies {\n    constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n}\n</code></pre>\n<p>The <code>constraints</code> section above can be added in alongside your other dependencies. Choose the version (here <code>1.8.0</code>) to match the one you actually want to be used, which should be the one that your non-jdkN-named version is in the duplicate class error (e.g., <code>(org.jetbrains.kotlin:kotlin-stdlib:1.8.0)</code>)</p>\n<p>If you have <code>apply plugin: 'kotlin-android'</code> in this file, then it doesn't need to separately also say to depend on the stdlib in dependencies, so remove any lines that look like this:</p>\n<pre><code>    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n</code></pre>\n<p>(thanks to <a href=\"https://dev.to/retyui/fix-react-native-android-builds-duplicate-class-kotlincollections-found-in-modules-jetified-kotlin-stdlib-180-2ca7\" rel=\"nofollow noreferrer\">this blog</a>)</p>\n"},{"tags":[],"owner":{"account_id":1352505,"reputation":2704,"user_id":1291714,"display_name":"riggaroo"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1676031542,"creation_date":1675254676,"answer_id":75310229,"question_id":75263047,"body_markdown":"If you are using Compose you need to update the Compose Compiler (https://developer.android.com/jetpack/androidx/releases/compose-compiler) to 1.4.2 and Kotlin to 1.8.10 at the same time.","title":"Duplicate class in Kotlin Android","body":"<p>If you are using Compose you need to update the Compose Compiler (<a href=\"https://developer.android.com/jetpack/androidx/releases/compose-compiler\" rel=\"noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-compiler</a>) to 1.4.2 and Kotlin to 1.8.10 at the same time.</p>\n"},{"tags":[],"owner":{"account_id":16709206,"reputation":21,"user_id":12076847,"display_name":"atanasi charle"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675365957,"creation_date":1675365957,"answer_id":75328068,"question_id":75263047,"body_markdown":"I had the same error in my project but mine was caused by different jetpack compose libraries having different versions and I put the specific version number `&quot;1.3.3&quot;` which caused other libraries that have later version numbers to not be found. I fix this by using compose BOM which provides the latest version to each library","title":"Duplicate class in Kotlin Android","body":"<p>I had the same error in my project but mine was caused by different jetpack compose libraries having different versions and I put the specific version number <code>&quot;1.3.3&quot;</code> which caused other libraries that have later version numbers to not be found. I fix this by using compose BOM which provides the latest version to each library</p>\n"},{"tags":[],"owner":{"account_id":10647346,"reputation":5559,"user_id":7839518,"display_name":"Tonnie"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676195613,"creation_date":1676195613,"answer_id":75426135,"question_id":75263047,"body_markdown":"I noted the issue specifically after upgrading to these 2 libraries:\r\n\r\n - **`Material3`** version **`1.1.0-alpha05`**\r\n \r\n - **`Runtime-livedata`** version **`1.4.0-beta01`**\r\n\r\nThis is are full dependencies:\r\n\r\n    implementation &#39;androidx.compose.runtime:runtime-livedata:1.4.0-beta01&#39;\r\n    implementation &#39;androidx.compose.material3:material3:1.1.0-alpha04&#39;\r\nThis is the error I was getting with **`Jdk-18.0.2`**\r\n\r\n&gt; Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in\r\n&gt; modules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0)\r\n&gt; and kotlin-stdlib-jdk8-1.7.20\r\n\r\nThe way around it for the time being is to downgrade these 2 libraries until the bug is corrected or updates are made.\r\n\r\n    implementation &#39;androidx.compose.material3:material3:1.1.0-alpha04&#39;\r\n    implementation &#39;androidx.compose.runtime:runtime-livedata:1.4.0-alpha01&#39;\r\n\r\nMind you there may be other dependencies that are affected and if you have recently upgraded the dependencies, you may need to rollback the updates and eliminate the library one by one to identify the troublesome one.","title":"Duplicate class in Kotlin Android","body":"<p>I noted the issue specifically after upgrading to these 2 libraries:</p>\n<ul>\n<li><p><strong><code>Material3</code></strong> version <strong><code>1.1.0-alpha05</code></strong></p>\n</li>\n<li><p><strong><code>Runtime-livedata</code></strong> version <strong><code>1.4.0-beta01</code></strong></p>\n</li>\n</ul>\n<p>This is are full dependencies:</p>\n<pre><code>implementation 'androidx.compose.runtime:runtime-livedata:1.4.0-beta01'\nimplementation 'androidx.compose.material3:material3:1.1.0-alpha04'\n</code></pre>\n<p>This is the error I was getting with <strong><code>Jdk-18.0.2</code></strong></p>\n<blockquote>\n<p>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in\nmodules kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0)\nand kotlin-stdlib-jdk8-1.7.20</p>\n</blockquote>\n<p>The way around it for the time being is to downgrade these 2 libraries until the bug is corrected or updates are made.</p>\n<pre><code>implementation 'androidx.compose.material3:material3:1.1.0-alpha04'\nimplementation 'androidx.compose.runtime:runtime-livedata:1.4.0-alpha01'\n</code></pre>\n<p>Mind you there may be other dependencies that are affected and if you have recently upgraded the dependencies, you may need to rollback the updates and eliminate the library one by one to identify the troublesome one.</p>\n"},{"tags":[],"owner":{"account_id":2177911,"reputation":966,"user_id":1928149,"accept_rate":67,"display_name":"Prasannjeet Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676245174,"creation_date":1676245174,"answer_id":75430864,"question_id":75263047,"body_markdown":"### Update 2023\r\n\r\nRecently, I had the same issue where most of the duplicate classes belonged to Kotlin. One of the errors was something like this:\r\n\r\n```\r\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\r\n```\r\n\r\nI had this issue because I was using a buggy kotlin version. Upgrade your kotlin version to `1.8.0-Beta`. Follow this:\r\n\r\nin your `android/build.gradle`, first add this in the `ext` section:\r\n\r\n```\r\nkotlinVersion = &quot;1.8.0-Beta&quot;\r\n```\r\n\r\nNow, go down to the dependencies section and add this:\r\n\r\n```\r\nclasspath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;\r\n```\r\n\r\nFinally, make sure your `JAVA_HOME` points to a JDK11.\r\n\r\nDoing these fixed my problem. Hope it helps!","title":"Duplicate class in Kotlin Android","body":"<h3>Update 2023</h3>\n<p>Recently, I had the same issue where most of the duplicate classes belonged to Kotlin. One of the errors was something like this:</p>\n<pre><code>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.21 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.21)\n</code></pre>\n<p>I had this issue because I was using a buggy kotlin version. Upgrade your kotlin version to <code>1.8.0-Beta</code>. Follow this:</p>\n<p>in your <code>android/build.gradle</code>, first add this in the <code>ext</code> section:</p>\n<pre><code>kotlinVersion = &quot;1.8.0-Beta&quot;\n</code></pre>\n<p>Now, go down to the dependencies section and add this:</p>\n<pre><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;\n</code></pre>\n<p>Finally, make sure your <code>JAVA_HOME</code> points to a JDK11.</p>\n<p>Doing these fixed my problem. Hope it helps!</p>\n"},{"comments":[{"owner":{"account_id":12171956,"reputation":186,"user_id":8886323,"display_name":"Frankdroid7"},"score":3,"creation_date":1681157516,"post_id":75550269,"comment_id":134008430,"body_markdown":"This worked for me. Although I only needed to upgrade the kotlin android plugin. Thanks!","body":"This worked for me. Although I only needed to upgrade the kotlin android plugin. Thanks!"},{"owner":{"account_id":1832087,"reputation":1411,"user_id":1663283,"display_name":"Gabriel"},"score":4,"creation_date":1681221452,"post_id":75550269,"comment_id":134019109,"body_markdown":"Adding the plugin worked for me, although my project is only Java and I don&#39;t use Kotlin at all. This really looks to me like a flaw in Android Studio, if not completely a bug.","body":"Adding the plugin worked for me, although my project is only Java and I don&#39;t use Kotlin at all. This really looks to me like a flaw in Android Studio, if not completely a bug."},{"owner":{"account_id":44978,"reputation":593,"user_id":132296,"accept_rate":73,"display_name":"HX_unbanned"},"score":0,"creation_date":1687170280,"post_id":75550269,"comment_id":134894667,"body_markdown":"same here; adding &quot;implementation (platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))&quot; fixed the issue, EVEN if I have no kotlin code.","body":"same here; adding &quot;implementation (platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))&quot; fixed the issue, EVEN if I have no kotlin code."}],"tags":[],"owner":{"account_id":21124704,"reputation":629,"user_id":15530167,"display_name":"Tran Chien"},"comment_count":3,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1677185936,"creation_date":1677185936,"answer_id":75550269,"question_id":75263047,"body_markdown":"Upgrade kotlin android plugin and kotlin compiler\r\n```groovy\r\nplugins {\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.10&#39;\r\n}\r\nandroid {\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\r\n    }\r\n}\r\n```","title":"Duplicate class in Kotlin Android","body":"<p>Upgrade kotlin android plugin and kotlin compiler</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.android' version '1.8.10'\n}\nandroid {\n    composeOptions {\n        kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"score":9,"creation_date":1679571977,"post_id":75567658,"comment_id":133747160,"body_markdown":"I&#39;m not using kotlin in a project and this solved my problem.","body":"I&#39;m not using kotlin in a project and this solved my problem."},{"owner":{"account_id":2145125,"reputation":2114,"user_id":1902910,"display_name":"Dustin"},"score":1,"creation_date":1686538855,"post_id":75567658,"comment_id":134807176,"body_markdown":"Unfortunately Kotlin is now a dependency for many of the Android core libraries, so now you are using Kotlin indirectly whether you want it or not.  Unfortunately, that means we get the build problems that come with it.","body":"Unfortunately Kotlin is now a dependency for many of the Android core libraries, so now you are using Kotlin indirectly whether you want it or not.  Unfortunately, that means we get the build problems that come with it."}],"tags":[],"owner":{"account_id":8064110,"reputation":993,"user_id":6078825,"display_name":"Prashanth"},"comment_count":2,"down_vote_count":2,"up_vote_count":61,"is_accepted":false,"score":59,"last_activity_date":1701574132,"creation_date":1677350919,"answer_id":75567658,"question_id":75263047,"body_markdown":"I was getting the same error after upgrading the Android annotation library from version 1.4.0 to 1.6.0,\r\n\r\n    implementation &#39;androidx.annotation:annotation:1.6.0&#39;\r\n\r\nSo I downgraded to 1.5.0 and the error was gone:\r\n\r\n    implementation &#39;androidx.annotation:annotation:1.5.0&#39;\r\n\r\n\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p>I was getting the same error after upgrading the Android annotation library from version 1.4.0 to 1.6.0,</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.6.0'\n</code></pre>\n<p>So I downgraded to 1.5.0 and the error was gone:</p>\n<pre><code>implementation 'androidx.annotation:annotation:1.5.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9758708,"reputation":193,"user_id":7234479,"display_name":"leo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677532112,"creation_date":1677532112,"answer_id":75585591,"question_id":75263047,"body_markdown":"The accepted answer worked for me, but the Kotlin DSL syntax is:\r\n```kt\r\nkotlin(&quot;android&quot;).version(&quot;1.8.10&quot;).apply(false)\r\n```","title":"Duplicate class in Kotlin Android","body":"<p>The accepted answer worked for me, but the Kotlin DSL syntax is:</p>\n<pre><code>kotlin(&quot;android&quot;).version(&quot;1.8.10&quot;).apply(false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7958616,"reputation":465,"user_id":6007077,"display_name":"guenter47"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677834638,"creation_date":1677834638,"answer_id":75625126,"question_id":75263047,"body_markdown":"I first tried David Fraser&#39;s solution (constraints {...}) and it worked fine, but I found it strange and discarded it.\r\nInstead I changed the plugins as follows:\r\n\r\n    id &#39;org.jetbrains.kotlin.multiplatform&#39; version &#39;1.8.0&#39; apply false // before 1.7.10\r\n\r\nThis also fixed the error.","title":"Duplicate class in Kotlin Android","body":"<p>I first tried David Fraser's solution (constraints {...}) and it worked fine, but I found it strange and discarded it.\nInstead I changed the plugins as follows:</p>\n<pre><code>id 'org.jetbrains.kotlin.multiplatform' version '1.8.0' apply false // before 1.7.10\n</code></pre>\n<p>This also fixed the error.</p>\n"},{"tags":[],"owner":{"account_id":15826085,"reputation":41,"user_id":11418896,"display_name":"Mawuli"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1678479368,"creation_date":1678016575,"answer_id":75641974,"question_id":75263047,"body_markdown":"I had the same errors in my project. What finally helped me was the following steps\r\n    \r\n1-I have updated the buildScript: as below\r\n    \r\n    buildscript {\r\n        ext {\r\n            compose_ui_version = &#39;1.3.3&#39;\r\n        }\r\n    }\r\n    then change pluggin \r\n    From\r\n    \r\n    plugins {\r\n    ....\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.10&#39; apply false\r\n    \r\n    }\r\n    \r\n    To\r\n    \r\n    plugins {\r\n    ....\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.10&#39; apply false\r\n    }\r\n    \r\nlastly updated in build.grade(app)\r\n    \r\n   Change in android scope {}\r\n```\r\n    android {\r\n    ......\r\n    composeOptions {\r\n            kotlinCompilerExtensionVersion &#39;1.2.0&#39;\r\n        }\r\n    .......\r\n    }\r\n ```   \r\nTo the following and the errors were gone\r\n    \r\n     composeOptions {\r\n            kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\r\n        }\r\n    \r\n    Hope it helps someone else ","title":"Duplicate class in Kotlin Android","body":"<p>I had the same errors in my project. What finally helped me was the following steps</p>\n<p>1-I have updated the buildScript: as below</p>\n<pre><code>buildscript {\n    ext {\n        compose_ui_version = '1.3.3'\n    }\n}\nthen change pluggin \nFrom\n\nplugins {\n....\nid 'org.jetbrains.kotlin.android' version '1.7.10' apply false\n\n}\n\nTo\n\nplugins {\n....\nid 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n}\n</code></pre>\n<p>lastly updated in build.grade(app)</p>\n<p>Change in android scope {}</p>\n<pre><code>    android {\n    ......\n    composeOptions {\n            kotlinCompilerExtensionVersion '1.2.0'\n        }\n    .......\n    }\n</code></pre>\n<p>To the following and the errors were gone</p>\n<pre><code> composeOptions {\n        kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\n    }\n\nHope it helps someone else \n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1678595959,"post_id":75663164,"comment_id":133562820,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75663164/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":5305707,"reputation":1,"user_id":4233715,"display_name":"Rodrigo Castrillon"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678198741,"creation_date":1678198741,"answer_id":75663164,"question_id":75263047,"body_markdown":"Replace this\r\n\r\n    implementation(&quot;androidx.navigation:navigation-compose:2.6.0-alpha06&quot;)\r\n\r\nWith\r\n\r\n    implementation(&quot;androidx.navigation:navigation-compose:2.6.0-alpha04&quot;)","title":"Duplicate class in Kotlin Android","body":"<p>Replace this</p>\n<pre><code>implementation(&quot;androidx.navigation:navigation-compose:2.6.0-alpha06&quot;)\n</code></pre>\n<p>With</p>\n<pre><code>implementation(&quot;androidx.navigation:navigation-compose:2.6.0-alpha04&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9192259,"reputation":1012,"user_id":6832328,"display_name":"patel dhruval"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1678207468,"creation_date":1678207468,"answer_id":75664860,"question_id":75263047,"body_markdown":"I was using `org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.10` before in our SDK and then I updated kotlin to v1.8.0 and that&#39;s when I started getting the above error in our Android Java front end application.\r\nUsing `org.jetbrains.kotlin:kotlin-bom` resolved the issue with transitive dependencies and might be a cleaner approach since it doesn&#39;t leak Kotlin details into the Java application.\r\n\r\nso I just replaced \r\n```\r\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.10&quot;\r\n```\r\n\r\nwith below which solved the problem for me.\r\n\r\n```\r\n// Align versions of all Kotlin components\r\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.8.0&quot;\r\n``` ","title":"Duplicate class in Kotlin Android","body":"<p>I was using <code>org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.10</code> before in our SDK and then I updated kotlin to v1.8.0 and that's when I started getting the above error in our Android Java front end application.\nUsing <code>org.jetbrains.kotlin:kotlin-bom</code> resolved the issue with transitive dependencies and might be a cleaner approach since it doesn't leak Kotlin details into the Java application.</p>\n<p>so I just replaced</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.10&quot;\n</code></pre>\n<p>with below which solved the problem for me.</p>\n<pre><code>// Align versions of all Kotlin components\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib:1.8.0&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6984098,"reputation":718,"user_id":5355770,"display_name":"Tom Ladek"},"score":6,"creation_date":1682089173,"post_id":75719642,"comment_id":134165629,"body_markdown":"This worked for me even though our project is a pure Java project without any Kotlin code. The clue that it would came from here: https://youtrack.jetbrains.com/issue/KT-55297/kotlin-stdlib-should-declare-constraints-on-kotlin-stdlib-jdk8-and-kotlin-stdlib-jdk7","body":"This worked for me even though our project is a pure Java project without any Kotlin code. The clue that it would came from here: <a href=\"https://youtrack.jetbrains.com/issue/KT-55297/kotlin-stdlib-should-declare-constraints-on-kotlin-stdlib-jdk8-and-kotlin-stdlib-jdk7\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-55297/&hellip;</a>"},{"owner":{"account_id":971839,"reputation":663,"user_id":994263,"accept_rate":80,"display_name":"Climax"},"score":2,"creation_date":1683218899,"post_id":75719642,"comment_id":134336753,"body_markdown":"This fixed my issue as well","body":"This fixed my issue as well"},{"owner":{"account_id":131689,"reputation":451,"user_id":331864,"accept_rate":67,"display_name":"isomeme"},"score":1,"creation_date":1685940562,"post_id":75719642,"comment_id":134725645,"body_markdown":"This also worked for me. I think this is sufficient if you are not using Kotlin directly.","body":"This also worked for me. I think this is sufficient if you are not using Kotlin directly."},{"owner":{"account_id":6513509,"reputation":130,"user_id":5040050,"display_name":"iwantwin"},"score":0,"creation_date":1687361557,"post_id":75719642,"comment_id":134926990,"body_markdown":"This also worked for me","body":"This also worked for me"},{"owner":{"account_id":4848241,"reputation":362,"user_id":3911287,"display_name":"dazed"},"score":1,"creation_date":1687521525,"post_id":75719642,"comment_id":134952268,"body_markdown":"Fixed it for me as well: project is pure Java (no Kotlin).","body":"Fixed it for me as well: project is pure Java (no Kotlin)."},{"owner":{"account_id":16654370,"reputation":121,"user_id":12036216,"display_name":"Mr. Octodood"},"score":0,"creation_date":1688060778,"post_id":75719642,"comment_id":135026649,"body_markdown":"I logged in just to upvote this","body":"I logged in just to upvote this"},{"owner":{"account_id":9857637,"reputation":173,"user_id":7301666,"display_name":"SaurabhG"},"score":0,"creation_date":1688647151,"post_id":75719642,"comment_id":135103887,"body_markdown":"Bravo... You saved my life bro... Thanks..","body":"Bravo... You saved my life bro... Thanks.."},{"owner":{"account_id":6098958,"reputation":99,"user_id":4758698,"accept_rate":60,"display_name":"Gonzalo GM"},"score":0,"creation_date":1689009017,"post_id":75719642,"comment_id":135149503,"body_markdown":"This should be marked as correct answer (y)","body":"This should be marked as correct answer (y)"},{"owner":{"account_id":16879371,"reputation":79,"user_id":12205909,"display_name":"Josphat Mwania"},"score":0,"creation_date":1695196533,"post_id":75719642,"comment_id":135990241,"body_markdown":"Hello!\n\nThis worked for me. Thank you.","body":"Hello!  This worked for me. Thank you."}],"tags":[],"owner":{"account_id":11681031,"reputation":1515,"user_id":8552748,"display_name":"Zakaria Bin Abdur Rouf"},"comment_count":9,"down_vote_count":0,"up_vote_count":139,"is_accepted":false,"score":139,"last_activity_date":1678698943,"creation_date":1678697339,"answer_id":75719642,"question_id":75263047,"body_markdown":"I have tried all the previous solutions but after adding the below code it was working.\r\n\r\n    dependencies {\r\n       ... ... ...\r\n       implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n       ... ... ...\r\n    }\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p>I have tried all the previous solutions but after adding the below code it was working.</p>\n<pre><code>dependencies {\n   ... ... ...\n   implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n   ... ... ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3642523,"reputation":4487,"user_id":3036320,"display_name":"Ahamadullah Saikat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678881039,"creation_date":1678881039,"answer_id":75744310,"question_id":75263047,"body_markdown":"Replace \r\n\r\n`classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.20&quot;` \r\n\r\nWith \r\n\r\n`classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.10&quot;`\r\n\r\nAnd then If you used `kotlin-android-extensions` plugin, then remove this line. And use `View binding` to whole project.","title":"Duplicate class in Kotlin Android","body":"<p>Replace</p>\n<p><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.20&quot;</code></p>\n<p>With</p>\n<p><code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.10&quot;</code></p>\n<p>And then If you used <code>kotlin-android-extensions</code> plugin, then remove this line. And use <code>View binding</code> to whole project.</p>\n"},{"tags":[],"owner":{"account_id":9755346,"reputation":7480,"user_id":7232295,"accept_rate":86,"display_name":"Uddhav P. Gautam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679100401,"creation_date":1679100401,"answer_id":75773243,"question_id":75263047,"body_markdown":"Duplicate id detected is because there is a duplicate id you defined. For example, you defined the id in project level build.gradle file and if you define the same id in your module-level build.gradle file then it is simply a duplicate id problem. ","title":"Duplicate class in Kotlin Android","body":"<p>Duplicate id detected is because there is a duplicate id you defined. For example, you defined the id in project level build.gradle file and if you define the same id in your module-level build.gradle file then it is simply a duplicate id problem.</p>\n"},{"tags":[],"owner":{"account_id":2348141,"reputation":2594,"user_id":2057782,"accept_rate":77,"display_name":"AouledIssa"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1679350673,"creation_date":1679350673,"answer_id":75795808,"question_id":75263047,"body_markdown":"I ran into this issue today and I fixed it by upgrading both `Kotlin` `std-lib` for android and the `std-lib` itself.\r\nAlso it&#39;s worth mentioning that if you&#39;re using compose, you have upgrade the  `kotlinCompilerExtensionVersion`\r\n\r\nHere is the final setup\r\n\r\n- gradle file at Module level\r\n```groovy\r\ncomposeOptions {\r\n    kotlinCompilerExtensionVersion &#39;1.4.3&#39;\r\n}\r\n```\r\n\r\n- root project gradle file\r\n```groovy\r\nplugins {\r\n    id &#39;com.android.application&#39; version &#39;7.3.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.3.1&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.10&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.jvm&#39; version &#39;1.8.10&#39; apply false\r\n}\r\n```\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p>I ran into this issue today and I fixed it by upgrading both <code>Kotlin</code> <code>std-lib</code> for android and the <code>std-lib</code> itself.\nAlso it's worth mentioning that if you're using compose, you have upgrade the  <code>kotlinCompilerExtensionVersion</code></p>\n<p>Here is the final setup</p>\n<ul>\n<li>gradle file at Module level</li>\n</ul>\n<pre><code>composeOptions {\n    kotlinCompilerExtensionVersion '1.4.3'\n}\n</code></pre>\n<ul>\n<li>root project gradle file</li>\n</ul>\n<pre><code>plugins {\n    id 'com.android.application' version '7.3.1' apply false\n    id 'com.android.library' version '7.3.1' apply false\n    id 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n    id 'org.jetbrains.kotlin.jvm' version '1.8.10' apply false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7541339,"reputation":181,"user_id":5725819,"display_name":"Ranajit Sawant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680173792,"creation_date":1680173792,"answer_id":75887353,"question_id":75263047,"body_markdown":"If you are upgrading to 1.8.0\r\nthen you should add\r\n\r\n        implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n","title":"Duplicate class in Kotlin Android","body":"<p>If you are upgrading to 1.8.0\nthen you should add</p>\n<pre><code>    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":945300,"reputation":463,"user_id":972656,"accept_rate":87,"display_name":"Darkendorf"},"score":1,"creation_date":1680503208,"post_id":75898804,"comment_id":133903249,"body_markdown":"it just can be a temporary solution, but it helped me a lot !","body":"it just can be a temporary solution, but it helped me a lot !"}],"tags":[],"owner":{"account_id":16329972,"reputation":21,"user_id":15083327,"display_name":"Liubomyr Pavlyk"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1680267400,"creation_date":1680267400,"answer_id":75898804,"question_id":75263047,"body_markdown":"Downgrade these deps to\r\n\r\n    implementation &#39;androidx.lifecycle:lifecycle-runtime-ktx:2.3.1&#39;\r\n    implementation &#39;androidx.activity:activity-compose:1.5.1&#39;","title":"Duplicate class in Kotlin Android","body":"<p>Downgrade these deps to</p>\n<pre><code>implementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.3.1'\nimplementation 'androidx.activity:activity-compose:1.5.1'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5185935,"reputation":1649,"user_id":4150337,"display_name":"Michał Dobi Dobrzański"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680507844,"creation_date":1680507400,"answer_id":75917014,"question_id":75263047,"body_markdown":"Such problem occurred after upgrading jetpack compose from `1.3.0` to `1.4.0`.\r\n\r\nIf you find this problem, please refer to the [Kotlin Compose compatibility map][1] in order to find **matching Kotlin/Compose Compiler** versions.\r\n\r\nWhen you have found them, you need to make sure that:\r\n- Gradle plugin has the right version (in `buildSrc`: `build.gradle.kts` for KTX gradle or in regular Gradle the root `build.gradle` one: `implementation(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:&lt;KOTLIN_VERSION&gt;&quot;)`)\r\n- Kotlin dependency has right version (if you use multi-module app and use Kotlin directly (`implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib:&lt;KOTLIN_VERSION&gt;&quot;)`)\r\n- `kotlinCompilerExtensionVersion = &lt;COMPOSE_VERSION&gt;` is matching\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/compose-kotlin","title":"Duplicate class in Kotlin Android","body":"<p>Such problem occurred after upgrading jetpack compose from <code>1.3.0</code> to <code>1.4.0</code>.</p>\n<p>If you find this problem, please refer to the <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">Kotlin Compose compatibility map</a> in order to find <strong>matching Kotlin/Compose Compiler</strong> versions.</p>\n<p>When you have found them, you need to make sure that:</p>\n<ul>\n<li>Gradle plugin has the right version (in <code>buildSrc</code>: <code>build.gradle.kts</code> for KTX gradle or in regular Gradle the root <code>build.gradle</code> one: <code>implementation(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:&lt;KOTLIN_VERSION&gt;&quot;)</code>)</li>\n<li>Kotlin dependency has right version (if you use multi-module app and use Kotlin directly (<code>implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib:&lt;KOTLIN_VERSION&gt;&quot;)</code>)</li>\n<li><code>kotlinCompilerExtensionVersion = &lt;COMPOSE_VERSION&gt;</code> is matching</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2936050,"reputation":3084,"user_id":2514902,"display_name":"Ashana.Jackol"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1680805229,"creation_date":1680805229,"answer_id":75952607,"question_id":75263047,"body_markdown":"I had the same error on my Kotlin project. When I add Ktor to my project and upgraded the library versions, and then I got the wired long error. This is how I fixed it.\r\n\r\nI used compose version 1.4.0\r\n\r\n    ext {\r\n        compose_ui_version = &#39;1.4.0&#39;\r\n    }\r\nkotlin version `1.8.0`, the latest one `1.8.10` not compatible with compose `1.4.0` So I used,\r\n\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.0&#39; apply false\r\nThen, adjust the `composeOptions` on app level build.gradle file, like\r\n\r\n    composeOptions {\r\n        kotlinCompilerExtensionVersion &#39;1.4.0&#39;\r\n    }\r\nThese are the three changes that I have done and I got escaped from the wired error. Hope this will help someone.","title":"Duplicate class in Kotlin Android","body":"<p>I had the same error on my Kotlin project. When I add Ktor to my project and upgraded the library versions, and then I got the wired long error. This is how I fixed it.</p>\n<p>I used compose version 1.4.0</p>\n<pre><code>ext {\n    compose_ui_version = '1.4.0'\n}\n</code></pre>\n<p>kotlin version <code>1.8.0</code>, the latest one <code>1.8.10</code> not compatible with compose <code>1.4.0</code> So I used,</p>\n<pre><code>id 'org.jetbrains.kotlin.android' version '1.8.0' apply false\n</code></pre>\n<p>Then, adjust the <code>composeOptions</code> on app level build.gradle file, like</p>\n<pre><code>composeOptions {\n    kotlinCompilerExtensionVersion '1.4.0'\n}\n</code></pre>\n<p>These are the three changes that I have done and I got escaped from the wired error. Hope this will help someone.</p>\n"},{"tags":[],"owner":{"account_id":5826102,"reputation":2248,"user_id":4592448,"accept_rate":100,"display_name":"Fortran"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681231991,"creation_date":1681231991,"answer_id":75988375,"question_id":75263047,"body_markdown":"kotlinCompilerExtensionVersion(compose) -&gt; kotlin_version  \r\n\r\n1.4.4 -&gt; 1.8.10\r\n\r\n1.4.3 -&gt; 1.8.10\r\n\r\n1.4.2 -&gt; 1.8.10\r\n\r\n1.4.1 -&gt; 1.8.0\r\n\r\n1.4.0 -&gt; 1.8.0\r\n\r\n1.4.0-alpha02 -&gt; 1.7.21\r\n\r\n1.4.0-alpha01 -&gt; 1.7.20\r\n\r\n1.3.2 -&gt;1.7.20\r\n\r\n...\r\n\r\nOther versions: https://developer.android.com/jetpack/androidx/releases/compose-kotlin","title":"Duplicate class in Kotlin Android","body":"<p>kotlinCompilerExtensionVersion(compose) -&gt; kotlin_version</p>\n<p>1.4.4 -&gt; 1.8.10</p>\n<p>1.4.3 -&gt; 1.8.10</p>\n<p>1.4.2 -&gt; 1.8.10</p>\n<p>1.4.1 -&gt; 1.8.0</p>\n<p>1.4.0 -&gt; 1.8.0</p>\n<p>1.4.0-alpha02 -&gt; 1.7.21</p>\n<p>1.4.0-alpha01 -&gt; 1.7.20</p>\n<p>1.3.2 -&gt;1.7.20</p>\n<p>...</p>\n<p>Other versions: <a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-kotlin</a></p>\n"},{"tags":[],"owner":{"account_id":16967123,"reputation":3285,"user_id":12272687,"display_name":"Mori"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1681375297,"creation_date":1681375297,"answer_id":76003404,"question_id":75263047,"body_markdown":"As I checked all ways, if there is a alpha version like this :\r\n\r\n     implementation &#39;androidx.appcompat:appcompat:1.7.0-alpha02&#39;\r\n**change it to**\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n\r\n\r\nthen **Add** class path in `build.gradle()`\r\n\r\n     dependencies {\r\n         \r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;\r\n    ...\r\n        }","title":"Duplicate class in Kotlin Android","body":"<p>As I checked all ways, if there is a alpha version like this :</p>\n<pre><code> implementation 'androidx.appcompat:appcompat:1.7.0-alpha02'\n</code></pre>\n<p><strong>change it to</strong></p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.6.1'\n</code></pre>\n<p>then <strong>Add</strong> class path in <code>build.gradle()</code></p>\n<pre><code> dependencies {\n     \n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.0&quot;\n...\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7349100,"reputation":10066,"user_id":5595926,"display_name":"ΓDΛ"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1681907256,"creation_date":1681907256,"answer_id":76054519,"question_id":75263047,"body_markdown":"    lifecycle-viewmodel-ktx-2.6.1\r\n\r\ndown \r\n\r\n    lifecycle-viewmodel-ktx-2.5.1\r\n\r\nI managed to get it working by lowering the dependency values.\r\n","title":"Duplicate class in Kotlin Android","body":"<pre><code>lifecycle-viewmodel-ktx-2.6.1\n</code></pre>\n<p>down</p>\n<pre><code>lifecycle-viewmodel-ktx-2.5.1\n</code></pre>\n<p>I managed to get it working by lowering the dependency values.</p>\n"},{"tags":[],"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682071192,"creation_date":1682071192,"answer_id":76072071,"question_id":75263047,"body_markdown":"By [@ArdaKazancı answer][1], I did a similar change: (agp:7.4.2, gradle: 7.5)\r\n\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.3.1&#39;\r\n    implementation &#39;androidx.core:core:1.10.0&#39;\r\n\r\nto\r\n\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n    implementation &#39;androidx.core:core:1.9.0&#39; \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76054519/6576302","title":"Duplicate class in Kotlin Android","body":"<p>By <a href=\"https://stackoverflow.com/a/76054519/6576302\">@ArdaKazancı answer</a>, I did a similar change: (agp:7.4.2, gradle: 7.5)</p>\n<pre><code>implementation 'androidx.recyclerview:recyclerview:1.3.1'\nimplementation 'androidx.core:core:1.10.0'\n</code></pre>\n<p>to</p>\n<pre><code>implementation 'androidx.recyclerview:recyclerview:1.2.1'\nimplementation 'androidx.core:core:1.9.0' \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17861811,"reputation":1847,"user_id":12975134,"display_name":"ycannot"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701574464,"creation_date":1682452649,"answer_id":76104959,"question_id":75263047,"body_markdown":"It is because of a Compose compiler version and Kotlin version incompatibility. when I posting this answer, most updated compatible versions were:\r\n\r\n * Compose compiler version: 1.4.6\r\n * Kotlin Version: 1.8.20\r\n\r\nYou can always find most updated compatible versions on this page: *[Compose to Kotlin Compatibility Map][1]* \r\n\r\nYou can set this versions in app-level Gradle file like this:\r\n\r\n```\r\ncomposeOptions {\r\n    kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\r\n}\r\n```\r\nand\r\n\r\n```\r\nplugins {\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.10&#39;\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/compose-kotlin","title":"Duplicate class in Kotlin Android","body":"<p>It is because of a Compose compiler version and Kotlin version incompatibility. when I posting this answer, most updated compatible versions were:</p>\n<ul>\n<li>Compose compiler version: 1.4.6</li>\n<li>Kotlin Version: 1.8.20</li>\n</ul>\n<p>You can always find most updated compatible versions on this page: <em><a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin\" rel=\"nofollow noreferrer\">Compose to Kotlin Compatibility Map</a></em></p>\n<p>You can set this versions in app-level Gradle file like this:</p>\n<pre><code>composeOptions {\n    kotlinCompilerExtensionVersion = &quot;1.4.3&quot;\n}\n</code></pre>\n<p>and</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.android' version '1.8.10'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10587710,"reputation":2772,"user_id":7799462,"display_name":"Halil Ozel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682709489,"creation_date":1682709489,"answer_id":76132651,"question_id":75263047,"body_markdown":"I&#39;m getting similar error. These settings worked for me.\r\n\r\nNote: I&#39;m using `Android Studio Flamingo | 2022.2.1`\r\n\r\n`build.gradle(:project)` settings\r\n\r\nOld use:\r\n\r\n```gradle\r\nbuildscript {\r\n    ext.kotlin_version = &quot;1.7.20&quot;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.4.2&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n...\r\n```\r\n\r\nNew use:\r\n\r\n```gradle\r\nbuildscript {\r\n    ext.kotlin_version = &quot;1.8.0&quot;\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:8.0.2&#39;\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n    }\r\n}\r\n...\r\n```\r\n\r\n`build.gradle(:app)` settings\r\n\r\nOld use:\r\n\r\n```gradle\r\n...\r\ncompileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;1.8&#39;\r\n    }\r\n...\r\n```\r\n\r\nNew use:\r\n\r\n```gradle\r\n...\r\ncompileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_17\r\n        targetCompatibility JavaVersion.VERSION_17\r\n    }\r\n    kotlinOptions {\r\n        jvmTarget = &#39;17&#39;\r\n    }\r\n...\r\n```\r\n\r\nGradle Projects Settings\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/427JG.png\r\n","title":"Duplicate class in Kotlin Android","body":"<p>I'm getting similar error. These settings worked for me.</p>\n<p>Note: I'm using <code>Android Studio Flamingo | 2022.2.1</code></p>\n<p><code>build.gradle(:project)</code> settings</p>\n<p>Old use:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.7.20&quot;\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.4.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n...\n</code></pre>\n<p>New use:</p>\n<pre><code>buildscript {\n    ext.kotlin_version = &quot;1.8.0&quot;\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:8.0.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n    }\n}\n...\n</code></pre>\n<p><code>build.gradle(:app)</code> settings</p>\n<p>Old use:</p>\n<pre><code>...\ncompileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    kotlinOptions {\n        jvmTarget = '1.8'\n    }\n...\n</code></pre>\n<p>New use:</p>\n<pre><code>...\ncompileOptions {\n        sourceCompatibility JavaVersion.VERSION_17\n        targetCompatibility JavaVersion.VERSION_17\n    }\n    kotlinOptions {\n        jvmTarget = '17'\n    }\n...\n</code></pre>\n<p>Gradle Projects Settings</p>\n<p><a href=\"https://i.stack.imgur.com/427JG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/427JG.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":5670481,"reputation":1144,"user_id":4485256,"accept_rate":29,"display_name":"Jacksonsox"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683060513,"creation_date":1683060513,"answer_id":76158759,"question_id":75263047,"body_markdown":"On my Mac.  I hadn&#39;t worked on my app in a while 6-12 months maybe.  I was just checking in to make sure that Android Studio and the dependencies weren&#39;t too out of date.  I received the same error as noted in the question.\r\n\r\n1) When I tried to change my `ext.kotlin_version = &quot;1.7.20&quot;` to 1.8.x, I received a warning about `classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;` being inconsistent with my Kotlin version.\r\n\r\n2) When I went into `Tools`-&gt;`Kotlin`-&gt;`Configure Kotlin Updates` and noticed that I couldn&#39;t get the the recent 1.8.20 version.\r\n\r\n[![Tool Menu][1]][1]\r\n[![Kotlin Config Window][2]][2]\r\n\r\n3) Then went to see if I needed an `Android Studio`-&gt;`Check for updates...` \r\n[![enter image description here][3]][3]\r\n\r\n4) I in fact did need a major release update arctic fox to flamingo.\r\nAfter upgrading to Flamingo, I was able to update both locations of Kotlin Version to 1.8.20.  `Tools`-&gt;`Kotlin`-&gt;`Configure Kotlin Updates` and `ext.kotlin_version = &quot;1.8.20&quot;`\r\n\r\n5) Did `File`-&gt;`Invalidate Cache` and reboot\r\n6) Did `Build`-&gt;`Clean Project`\r\n7) I updated whatever else needed to be updated with Flamingo\r\n8) Built and ran -&gt; and ...\r\n`BUILD SUCCESSFUL in 1m 6s`\r\n`38 actionable tasks: 38 executed`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fpcHb.png\r\n  [2]: https://i.stack.imgur.com/2um1v.png\r\n  [3]: https://i.stack.imgur.com/IZzPQ.png","title":"Duplicate class in Kotlin Android","body":"<p>On my Mac.  I hadn't worked on my app in a while 6-12 months maybe.  I was just checking in to make sure that Android Studio and the dependencies weren't too out of date.  I received the same error as noted in the question.</p>\n<ol>\n<li><p>When I tried to change my <code>ext.kotlin_version = &quot;1.7.20&quot;</code> to 1.8.x, I received a warning about <code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;</code> being inconsistent with my Kotlin version.</p>\n</li>\n<li><p>When I went into <code>Tools</code>-&gt;<code>Kotlin</code>-&gt;<code>Configure Kotlin Updates</code> and noticed that I couldn't get the the recent 1.8.20 version.</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/fpcHb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fpcHb.png\" alt=\"Tool Menu\" /></a>\n<a href=\"https://i.stack.imgur.com/2um1v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2um1v.png\" alt=\"Kotlin Config Window\" /></a></p>\n<ol start=\"3\">\n<li><p>Then went to see if I needed an <code>Android Studio</code>-&gt;<code>Check for updates...</code>\n<a href=\"https://i.stack.imgur.com/IZzPQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IZzPQ.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>I in fact did need a major release update arctic fox to flamingo.\nAfter upgrading to Flamingo, I was able to update both locations of Kotlin Version to 1.8.20.  <code>Tools</code>-&gt;<code>Kotlin</code>-&gt;<code>Configure Kotlin Updates</code> and <code>ext.kotlin_version = &quot;1.8.20&quot;</code></p>\n</li>\n<li><p>Did <code>File</code>-&gt;<code>Invalidate Cache</code> and reboot</p>\n</li>\n<li><p>Did <code>Build</code>-&gt;<code>Clean Project</code></p>\n</li>\n<li><p>I updated whatever else needed to be updated with Flamingo</p>\n</li>\n<li><p>Built and ran -&gt; and ...\n<code>BUILD SUCCESSFUL in 1m 6s</code>\n<code>38 actionable tasks: 38 executed</code></p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15222052,"reputation":381,"user_id":11033789,"display_name":"Alexander Dyagel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1701574519,"creation_date":1683361856,"answer_id":76187916,"question_id":75263047,"body_markdown":"Workaround for earlier KGP versions now is:\r\n\r\n### File *app/build.gradle*\r\n\r\n    dependencies {\r\n        constraints {\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p>Workaround for earlier KGP versions now is:</p>\n<h3>File <em>app/build.gradle</em></h3>\n<pre><code>dependencies {\n    constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15492141,"reputation":111,"user_id":11267840,"display_name":"Fakhriddin Umarov"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684068968,"creation_date":1684068968,"answer_id":76247603,"question_id":75263047,"body_markdown":"I fixed it by making Compose Compiler and JetBrains Kotlin plugins compatible\r\n\r\nFirst, make sure are you using **org.jetbrains.kotlin.android** plugin version above 1.8.0.  \r\n\r\n**build.gradle(Project)**\r\n```\r\nplugins {\r\n  ...\r\n  id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.21&#39; apply false\r\n}\r\n```\r\n\r\n\r\nThen check compatible version of Compose Compiler from below link and update **build.gradle(app)**:  \r\nhttps://developer.android.com/jetpack/androidx/releases/compose-kotlin#pre-release_kotlin_compatibility\r\n\r\n\r\n```\r\nandroid {\r\n  ...\r\n  composeOptions {\r\n    kotlinCompilerExtensionVersion &#39;1.4.7&#39;\r\n  }\r\n}\r\n```\r\n","title":"Duplicate class in Kotlin Android","body":"<p>I fixed it by making Compose Compiler and JetBrains Kotlin plugins compatible</p>\n<p>First, make sure are you using <strong>org.jetbrains.kotlin.android</strong> plugin version above 1.8.0.</p>\n<p><strong>build.gradle(Project)</strong></p>\n<pre><code>plugins {\n  ...\n  id 'org.jetbrains.kotlin.android' version '1.8.21' apply false\n}\n</code></pre>\n<p>Then check compatible version of Compose Compiler from below link and update <strong>build.gradle(app)</strong>:<br />\n<a href=\"https://developer.android.com/jetpack/androidx/releases/compose-kotlin#pre-release_kotlin_compatibility\" rel=\"noreferrer\">https://developer.android.com/jetpack/androidx/releases/compose-kotlin#pre-release_kotlin_compatibility</a></p>\n<pre><code>android {\n  ...\n  composeOptions {\n    kotlinCompilerExtensionVersion '1.4.7'\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13733259,"reputation":1173,"user_id":9910265,"display_name":"Mohamed Ben Romdhane"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684404183,"creation_date":1684404183,"answer_id":76279693,"question_id":75263047,"body_markdown":"This duplication happens because some of the libraries still use module `org.jetbrains.kotlin:kotlin-stdlib-jdk8` or `org.jetbrains.kotlin:kotlin-stdlib-jdk7` instead of the new module `org.jetbrains.kotlin:kotlin-stdlib`, therefore the class duplication accure.\r\n\r\nTo fix this we need to replace this module by ourselves:\r\n\r\n```` \r\nmodules {\r\n        module(&#39;org.jetbrains.kotlin:kotlin-stdlib-jdk8&#39;)\r\n                { replacedBy &#39;org.jetbrains.kotlin:kotlin-stdlib&#39;, &#39;kotlin fixes&#39; }\r\n        module(&#39;org.jetbrains.kotlin:kotlin-stdlib-jdk7&#39;)\r\n                { replacedBy &#39;org.jetbrains.kotlin:kotlin-stdlib&#39;, &#39;kotlin fixes&#39; }\r\n    }\r\n````","title":"Duplicate class in Kotlin Android","body":"<p>This duplication happens because some of the libraries still use module <code>org.jetbrains.kotlin:kotlin-stdlib-jdk8</code> or <code>org.jetbrains.kotlin:kotlin-stdlib-jdk7</code> instead of the new module <code>org.jetbrains.kotlin:kotlin-stdlib</code>, therefore the class duplication accure.</p>\n<p>To fix this we need to replace this module by ourselves:</p>\n<pre><code>modules {\n        module('org.jetbrains.kotlin:kotlin-stdlib-jdk8')\n                { replacedBy 'org.jetbrains.kotlin:kotlin-stdlib', 'kotlin fixes' }\n        module('org.jetbrains.kotlin:kotlin-stdlib-jdk7')\n                { replacedBy 'org.jetbrains.kotlin:kotlin-stdlib', 'kotlin fixes' }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":905926,"reputation":502,"user_id":940837,"display_name":"FrankKrumnow"},"score":2,"creation_date":1686831726,"post_id":76288629,"comment_id":134855309,"body_markdown":"Everything complied fine. Then I updated androidx fragments from 1.5.7 to 1.6 and about 100 kotlin duplicate class errors occurred. What worries me is that they did not vanish when I got back to 1.5.7 and deleted build and invalidate cache.\nIts like black magic - it messes you up and sticks with you even if you revert back to older version!\nStill this implementation fixes those duplicate classes thank you","body":"Everything complied fine. Then I updated androidx fragments from 1.5.7 to 1.6 and about 100 kotlin duplicate class errors occurred. What worries me is that they did not vanish when I got back to 1.5.7 and deleted build and invalidate cache. Its like black magic - it messes you up and sticks with you even if you revert back to older version! Still this implementation fixes those duplicate classes thank you"},{"owner":{"account_id":16098022,"reputation":61,"user_id":11619664,"display_name":"Wahaj Mubeen"},"score":0,"creation_date":1689402946,"post_id":76288629,"comment_id":135211357,"body_markdown":"Can anyone please elaborate on why this works? I have no clue how it fixed my issue of duplicate classes.","body":"Can anyone please elaborate on why this works? I have no clue how it fixed my issue of duplicate classes."},{"owner":{"account_id":24908121,"reputation":307,"user_id":22024291,"display_name":"Elle Bishop"},"score":0,"creation_date":1690549983,"post_id":76288629,"comment_id":135373361,"body_markdown":"the only fix that worked for me is this, thanks!","body":"the only fix that worked for me is this, thanks!"},{"owner":{"account_id":24908121,"reputation":307,"user_id":22024291,"display_name":"Elle Bishop"},"score":1,"creation_date":1690550194,"post_id":76288629,"comment_id":135373407,"body_markdown":"@WahajMubeen apparently we are using mutliple dependencies in pubsec.yaml file, and they all need the kotlin versions to be aligned, but each uses a diff version, which causes this issue, the fix mentioned above , is a solution to fix the duplicate class error. It resolves the conflict by using the Kotlin Bill of Materials (BOM) to ensure that all Kotlin dependencies in your project use the same version.","body":"@WahajMubeen apparently we are using mutliple dependencies in pubsec.yaml file, and they all need the kotlin versions to be aligned, but each uses a diff version, which causes this issue, the fix mentioned above , is a solution to fix the duplicate class error. It resolves the conflict by using the Kotlin Bill of Materials (BOM) to ensure that all Kotlin dependencies in your project use the same version."}],"tags":[],"owner":{"account_id":19906601,"reputation":281,"user_id":14585529,"display_name":"Mada AFLAK"},"comment_count":4,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1684608863,"creation_date":1684495815,"answer_id":76288629,"question_id":75263047,"body_markdown":"You can now update the lifecycle dependencies to the most up-to-date versions, and simply add the following line in your build.gradle\r\n\r\n    dependencies {\r\n    \r\n        (...)\r\n    \r\n        // Fix Duplicate class\r\n        implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n    \r\n    }","title":"Duplicate class in Kotlin Android","body":"<p>You can now update the lifecycle dependencies to the most up-to-date versions, and simply add the following line in your build.gradle</p>\n<pre><code>dependencies {\n\n    (...)\n\n    // Fix Duplicate class\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9558125,"reputation":357,"user_id":7099939,"display_name":"M Shaban Ali"},"score":2,"creation_date":1687341330,"post_id":76296390,"comment_id":134922198,"body_markdown":"Thanks a lot. This saved the day. I recommend everyone to try this first.","body":"Thanks a lot. This saved the day. I recommend everyone to try this first."}],"tags":[],"owner":{"account_id":11343846,"reputation":433,"user_id":8316956,"display_name":"Humayun MHA"},"comment_count":1,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1684602098,"creation_date":1684602098,"answer_id":76296390,"question_id":75263047,"body_markdown":"I tried many ways to solve this same prolem but didnt work\r\nI tried to add this dependencies below in my &quot;**build.gradle(module:app)**&quot;..\r\n\r\n    implementation (platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\nand then synce now, it will resolve this error.","title":"Duplicate class in Kotlin Android","body":"<p>I tried many ways to solve this same prolem but didnt work\nI tried to add this dependencies below in my &quot;<strong>build.gradle(module:app)</strong>&quot;..</p>\n<pre><code>implementation (platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n</code></pre>\n<p>and then synce now, it will resolve this error.</p>\n"},{"tags":[],"owner":{"account_id":10780313,"reputation":192,"user_id":7931023,"display_name":"Ashfaque"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1701574621,"creation_date":1684656409,"answer_id":76298880,"question_id":75263047,"body_markdown":"Step 1: Add this\r\n\r\n    plugins {\r\n            id &#39;com.android.application&#39;\r\n            id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.10&#39; apply false\r\n        }\r\n\r\nStep 2: Add this on the dependencies\r\n\r\n    dependencies {\r\n\r\n    .....\r\n\r\n      constraints{\r\n            implementation &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.10&#39;\r\n            implementation &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.10&#39;\r\n        }\r\n    }\r\n\r\n***Note***: version &#39;1.8.10&#39;, jdk7:1.8.10 and jdk7:1.8.10 are the same...\r\n\r\n\r\n\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p>Step 1: Add this</p>\n<pre><code>plugins {\n        id 'com.android.application'\n        id 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n    }\n</code></pre>\n<p>Step 2: Add this on the dependencies</p>\n<pre><code>dependencies {\n\n.....\n\n  constraints{\n        implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.10'\n        implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.10'\n    }\n}\n</code></pre>\n<p><em><strong>Note</strong></em>: version '1.8.10', jdk7:1.8.10 and jdk7:1.8.10 are the same...</p>\n"},{"tags":[],"owner":{"account_id":10842367,"reputation":11,"user_id":7973175,"display_name":"Arbuino عرب وينو"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686048179,"creation_date":1686048179,"answer_id":76413808,"question_id":75263047,"body_markdown":"(gradle.properties)\r\n\r\n\r\n\r\n\r\n    org.gradle.jvmargs=-Xmx4608m\r\n    android.useAndroidX=true\r\n    android.enableJetifier=true\r\n    android.enableR8=true\r\n\r\nand app (build.gradle)\r\n\r\n    constraints {\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n        }\r\n","title":"Duplicate class in Kotlin Android","body":"<p>(gradle.properties)</p>\n<pre><code>org.gradle.jvmargs=-Xmx4608m\nandroid.useAndroidX=true\nandroid.enableJetifier=true\nandroid.enableR8=true\n</code></pre>\n<p>and app (build.gradle)</p>\n<pre><code>constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":22240798,"reputation":107,"user_id":16475345,"display_name":"ElyasAsmad"},"score":0,"creation_date":1688057729,"post_id":76416355,"comment_id":135026039,"body_markdown":"This solution literally fixed the problem. Thanks!","body":"This solution literally fixed the problem. Thanks!"},{"owner":{"account_id":3009033,"reputation":1853,"user_id":2552918,"accept_rate":57,"display_name":"novas1r1"},"score":0,"creation_date":1691479982,"post_id":76416355,"comment_id":135493484,"body_markdown":"Fixed it. For me it was important to know that it needs to go into the android/app/build.gradle file, and not in the android/build.gradle file.","body":"Fixed it. For me it was important to know that it needs to go into the android/app/build.gradle file, and not in the android/build.gradle file."}],"tags":[],"owner":{"account_id":15371519,"reputation":101,"user_id":11089415,"display_name":"Anton Miroshnyk"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1701574719,"creation_date":1686066626,"answer_id":76416355,"question_id":75263047,"body_markdown":"Use:\r\n\r\n    configurations.all {\r\n        resolutionStrategy {\r\n            force &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.10&#39;\r\n        }\r\n    }\r\n\r\nAdding this to the end of the Gradle file helps.\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p>Use:</p>\n<pre><code>configurations.all {\n    resolutionStrategy {\n        force 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.10'\n    }\n}\n</code></pre>\n<p>Adding this to the end of the Gradle file helps.</p>\n"},{"comments":[{"owner":{"account_id":3505189,"reputation":1449,"user_id":2930864,"display_name":"Percy Vega"},"score":0,"creation_date":1688945838,"post_id":76462458,"comment_id":135138774,"body_markdown":"Correct! THANK YOU!!!!","body":"Correct! THANK YOU!!!!"},{"owner":{"account_id":15268897,"reputation":1894,"user_id":11016652,"display_name":"zomega"},"score":0,"creation_date":1696343624,"post_id":76462458,"comment_id":136138873,"body_markdown":"I had the same issue. Downgraded from `2.7.2` to `2.5.3` and it worked. But why is the new version not working? I don&#39;t know...","body":"I had the same issue. Downgraded from <code>2.7.2</code> to <code>2.5.3</code> and it worked. But why is the new version not working? I don&#39;t know..."}],"tags":[],"owner":{"account_id":352337,"reputation":156,"user_id":689365,"display_name":"MartijndeM"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1686640288,"creation_date":1686640288,"answer_id":76462458,"question_id":75263047,"body_markdown":"This happened to me when upgrading one of these\r\n\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n\r\nTo version 2.6.0. When rolling back to 2.5.3 the error went away.","title":"Duplicate class in Kotlin Android","body":"<p>This happened to me when upgrading one of these</p>\n<pre><code>implementation 'androidx.navigation:navigation-fragment:2.5.3'\nimplementation 'androidx.navigation:navigation-ui:2.5.3'\n</code></pre>\n<p>To version 2.6.0. When rolling back to 2.5.3 the error went away.</p>\n"},{"tags":[],"owner":{"account_id":27638159,"reputation":65,"user_id":21095668,"display_name":"Jay Taravia"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686811486,"creation_date":1686811486,"answer_id":76479796,"question_id":75263047,"body_markdown":"In my case, only changing the implementation &#39;androidx.core:core-ktx:1.10.1&#39; to   implementation &#39;androidx.core:core-ktx:1.7.0&#39; worked for me.","title":"Duplicate class in Kotlin Android","body":"<p>In my case, only changing the implementation 'androidx.core:core-ktx:1.10.1' to   implementation 'androidx.core:core-ktx:1.7.0' worked for me.</p>\n"},{"comments":[{"owner":{"account_id":7090548,"reputation":5933,"user_id":5425860,"display_name":"Faiz Ahmad Dae"},"score":0,"creation_date":1691160846,"post_id":76527618,"comment_id":135458804,"body_markdown":"it work for me thanks","body":"it work for me thanks"}],"tags":[],"owner":{"account_id":21142699,"reputation":53,"user_id":15544700,"display_name":"Stephen Muindi"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689684964,"creation_date":1687387997,"answer_id":76527618,"question_id":75263047,"body_markdown":"Adding this code inside app level/build.gradle  \r\n\r\n    dependencies{\r\n     ....\r\n        constraints{\r\n            implementation &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.10&#39;\r\n            implementation &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.10&#39;\r\n        }\r\n    }\r\n\r\nand adding this code inside project level/build.gradle\r\n\r\n    dependencies {\r\n        .....\r\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.10&quot;\r\n    }\r\nIt fixed this error 100%. It worked for me.\r\n","title":"Duplicate class in Kotlin Android","body":"<p>Adding this code inside app level/build.gradle</p>\n<pre><code>dependencies{\n ....\n    constraints{\n        implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.10'\n        implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.10'\n    }\n}\n</code></pre>\n<p>and adding this code inside project level/build.gradle</p>\n<pre><code>dependencies {\n    .....\n    classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.7.10&quot;\n}\n</code></pre>\n<p>It fixed this error 100%. It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":4869796,"reputation":5586,"user_id":3926727,"accept_rate":100,"display_name":"Rasel"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688961423,"creation_date":1687752126,"answer_id":76553444,"question_id":75263047,"body_markdown":"If I update kotlin version to 1.8.0 then it forces me to use **view binding** \r\n\r\ni.e. `classpath &#39;org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.10&#39;`\r\n\r\nthen if you want to keep kotlin version as it was before then just add it in app level gradle-\r\n\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;\r\nit will solve *duplicate class* issues though it is a temporary solution.\r\nHere my AGP version is **7.4.1** and Gradle version is **7.5**","title":"Duplicate class in Kotlin Android","body":"<p>If I update kotlin version to 1.8.0 then it forces me to use <strong>view binding</strong></p>\n<p>i.e. <code>classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.8.10'</code></p>\n<p>then if you want to keep kotlin version as it was before then just add it in app level gradle-</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;\n</code></pre>\n<p>it will solve <em>duplicate class</em> issues though it is a temporary solution.\nHere my AGP version is <strong>7.4.1</strong> and Gradle version is <strong>7.5</strong></p>\n"},{"comments":[{"owner":{"account_id":6756099,"reputation":71,"user_id":5204452,"display_name":"ZaFaR97"},"score":1,"creation_date":1689053600,"post_id":76576129,"comment_id":135154692,"body_markdown":"Thank you so much, I had same problem with pure java, but because I updated `androidx.core:core` to 1.10.1 while keeping `fresco*` at 2.6.0. I had to revert `androidx.core:core` to 1.9.0 because I cannot use newer `fresco*` 3.0.0.","body":"Thank you so much, I had same problem with pure java, but because I updated <code>androidx.core:core</code> to 1.10.1 while keeping <code>fresco*</code> at 2.6.0. I had to revert <code>androidx.core:core</code> to 1.9.0 because I cannot use newer <code>fresco*</code> 3.0.0."},{"owner":{"account_id":3801000,"reputation":624,"user_id":3154666,"accept_rate":75,"display_name":"Introspective"},"score":1,"creation_date":1689070459,"post_id":76576129,"comment_id":135157848,"body_markdown":"@ZaFaR97 You are very welcome. What baffles me is that at some point I thought `androidx.core:core` was needed but now I see that it is not needed. I must have gone through some transitional stage, because my project was so old, that it had to undergo a lot of changes.","body":"@ZaFaR97 You are very welcome. What baffles me is that at some point I thought <code>androidx.core:core</code> was needed but now I see that it is not needed. I must have gone through some transitional stage, because my project was so old, that it had to undergo a lot of changes."},{"owner":{"account_id":6756099,"reputation":71,"user_id":5204452,"display_name":"ZaFaR97"},"score":0,"creation_date":1689159982,"post_id":76576129,"comment_id":135173185,"body_markdown":"I didn&#39;t know if it is needed in my project, I leave it till I can test it.","body":"I didn&#39;t know if it is needed in my project, I leave it till I can test it."}],"tags":[],"owner":{"account_id":3801000,"reputation":624,"user_id":3154666,"accept_rate":75,"display_name":"Introspective"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1687980483,"creation_date":1687979957,"answer_id":76576129,"question_id":75263047,"body_markdown":"I had the same exact issue after accepting Android Studio&#39;s suggestion to update certain dependencies.\r\n\r\nI looked at all the solutions here but none applied in my case because... I am **not using kotlin** in my code anywhere (i.e. my development is all in pure Java).\r\n\r\nThat led me to finding the following line in `build.gradle`:\r\n```\r\n\timplementation &#39;androidx.core:core-ktx:1.10.1&#39;\r\n```\r\nI just deleted it and **all built perfectly** as before the updates.\r\n\r\nI have no idea why my `build.gradle` had a reference to `androidx.core:core-ktx:1.9.0` in the first place (before the upgrade).\r\n","title":"Duplicate class in Kotlin Android","body":"<p>I had the same exact issue after accepting Android Studio's suggestion to update certain dependencies.</p>\n<p>I looked at all the solutions here but none applied in my case because... I am <strong>not using kotlin</strong> in my code anywhere (i.e. my development is all in pure Java).</p>\n<p>That led me to finding the following line in <code>build.gradle</code>:</p>\n<pre><code>    implementation 'androidx.core:core-ktx:1.10.1'\n</code></pre>\n<p>I just deleted it and <strong>all built perfectly</strong> as before the updates.</p>\n<p>I have no idea why my <code>build.gradle</code> had a reference to <code>androidx.core:core-ktx:1.9.0</code> in the first place (before the upgrade).</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":2,"creation_date":1689070817,"post_id":76648657,"comment_id":135157933,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76648657/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28622344,"reputation":11,"user_id":21915112,"display_name":"mrvivaldio"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701574788,"creation_date":1688923019,"answer_id":76648657,"question_id":75263047,"body_markdown":"Change all lines in file *[build.gradle][1]* to:\r\n   \r\n```lang-none\r\nimplementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\nimplementation &#39;com.google.android.material:material:1.8.0&#39;\r\nimplementation &#39;androidx.annotation:annotation:1.3.0&#39;\r\nimplementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\nimplementation &#39;androidx.lifecycle:lifecycle-livedata-ktx:2.5.1&#39;\r\nimplementation &#39;androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1&#39;\r\ntestImplementation &#39;junit:junit:4.13.2&#39;\r\nandroidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\nandroidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n```\r\n\r\nI&#39;d say downgrade the dependencies. I just do it and it works very well.\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/tutorial_using_tasks.html\r\n","title":"Duplicate class in Kotlin Android","body":"<p>Change all lines in file <em><a href=\"https://docs.gradle.org/current/userguide/tutorial_using_tasks.html\" rel=\"nofollow noreferrer\">build.gradle</a></em> to:</p>\n<pre class=\"lang-none prettyprint-override\"><code>implementation 'androidx.appcompat:appcompat:1.6.1'\nimplementation 'com.google.android.material:material:1.8.0'\nimplementation 'androidx.annotation:annotation:1.3.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.1.4'\nimplementation 'androidx.lifecycle:lifecycle-livedata-ktx:2.5.1'\nimplementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.5.1'\ntestImplementation 'junit:junit:4.13.2'\nandroidTestImplementation 'androidx.test.ext:junit:1.1.5'\nandroidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n</code></pre>\n<p>I'd say downgrade the dependencies. I just do it and it works very well.</p>\n"},{"tags":[],"owner":{"account_id":27758972,"reputation":21,"user_id":21191787,"display_name":"Jaoadun Nasif"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701574854,"creation_date":1688924094,"answer_id":76648735,"question_id":75263047,"body_markdown":"I had the same problem after updating my Android Studio. For this to work, I had to downgrade my dependencies like this\r\n\r\nPrevious use:\r\n\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.core:core-ktx:1.10.1&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment-ktx:2.6.0&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui-ktx:2.6.0&#39;\r\n    }\r\n\r\nChanging to:\r\n\r\n    dependencies {\r\n    \r\n        implementation &#39;androidx.core:core-ktx:1.7.0&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment-ktx:2.5.3&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui-ktx:2.5.3&#39;\r\n    }\r\n\r\nIt worked for me.","title":"Duplicate class in Kotlin Android","body":"<p>I had the same problem after updating my Android Studio. For this to work, I had to downgrade my dependencies like this</p>\n<p>Previous use:</p>\n<pre><code>dependencies {\n\n    implementation 'androidx.core:core-ktx:1.10.1'\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.6.0'\n    implementation 'androidx.navigation:navigation-ui-ktx:2.6.0'\n}\n</code></pre>\n<p>Changing to:</p>\n<pre><code>dependencies {\n\n    implementation 'androidx.core:core-ktx:1.7.0'\n    implementation 'androidx.navigation:navigation-fragment-ktx:2.5.3'\n    implementation 'androidx.navigation:navigation-ui-ktx:2.5.3'\n}\n</code></pre>\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":14492953,"reputation":191,"user_id":10468540,"display_name":"Ahmed Ramadan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689417934,"creation_date":1689417934,"answer_id":76693378,"question_id":75263047,"body_markdown":"I solved this problem and added this line in the build.gradle:\r\n\r\n\r\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p>I solved this problem and added this line in the build.gradle:</p>\n<pre><code>implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9473147,"reputation":1047,"user_id":7043375,"display_name":"Dhvani023"},"score":0,"creation_date":1690287940,"post_id":76742834,"comment_id":135329649,"body_markdown":"If you have a new question, please ask it by clicking the [Ask Question](https://stackoverflow.com/questions/ask) button. Include a link to this question if it helps provide context. - [From Review](/review/late-answers/34728815)","body":"If you have a new question, please ask it by clicking the <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a> button. Include a link to this question if it helps provide context. - <a href=\"/review/late-answers/34728815\">From Review</a>"}],"tags":[],"owner":{"account_id":23211533,"reputation":61,"user_id":17304904,"display_name":"Harsh kumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1701812987,"creation_date":1690012761,"answer_id":76742834,"question_id":75263047,"body_markdown":"This problem will be solved by adding the dependency in build.gradle(app) file \r\n\r\n\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;\r\n\r\nit&#39;s working properly","title":"Duplicate class in Kotlin Android","body":"<p>This problem will be solved by adding the dependency in build.gradle(app) file</p>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;\n</code></pre>\n<p>it's working properly</p>\n"},{"tags":[],"owner":{"account_id":1477288,"reputation":5052,"user_id":1387386,"display_name":"Anatolii Shuba"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690838281,"creation_date":1690838281,"answer_id":76807199,"question_id":75263047,"body_markdown":"The issue may be easely fixed by one line only:\r\n\r\n    dependencies {\r\n    .....\r\n        implementation &#39;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.9.0&#39;\r\n    }","title":"Duplicate class in Kotlin Android","body":"<p>The issue may be easely fixed by one line only:</p>\n<pre><code>dependencies {\n.....\n    implementation 'org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.9.0'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":29196506,"reputation":131,"user_id":22367497,"display_name":"user22367497"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1691655495,"creation_date":1691642489,"answer_id":76872696,"question_id":75263047,"body_markdown":"edit app/build.gradle file in flutter\r\n\r\n    dependencies {\r\n    \r\n        (...)\r\n    \r\n        // Fix Duplicate class\r\n        implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n    \r\n    }","title":"Duplicate class in Kotlin Android","body":"<p>edit app/build.gradle file in flutter</p>\n<pre><code>dependencies {\n\n    (...)\n\n    // Fix Duplicate class\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6085988,"reputation":1292,"user_id":4750017,"accept_rate":100,"display_name":"Arbaz Alam"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1694578891,"creation_date":1692085021,"answer_id":76904122,"question_id":75263047,"body_markdown":"Add the below line in your **build.gradle(Module:app)**\r\n\r\n    dependencies {\r\n\r\n    (...)\r\n\r\n    // Fix Duplicate class\r\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\n    }\r\n\r\nThis is because **kotlin-stdlib-jdk7** and **kotlin-stdlib-jdk8** are older dependencies that should be replaced by *kotlin-stdlib*. However, other libraries may still declare a dependency on them, which needs to be replaced with a dependency on *kotlin-stdlib*.","title":"Duplicate class in Kotlin Android","body":"<p>Add the below line in your <strong>build.gradle(Module:app)</strong></p>\n<pre><code>dependencies {\n\n(...)\n\n// Fix Duplicate class\nimplementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n\n}\n</code></pre>\n<p>This is because <strong>kotlin-stdlib-jdk7</strong> and <strong>kotlin-stdlib-jdk8</strong> are older dependencies that should be replaced by <em>kotlin-stdlib</em>. However, other libraries may still declare a dependency on them, which needs to be replaced with a dependency on <em>kotlin-stdlib</em>.</p>\n"},{"comments":[{"owner":{"account_id":9411834,"reputation":296,"user_id":6998825,"display_name":"Hassan Badawi"},"score":1,"creation_date":1696442589,"post_id":77087083,"comment_id":136154866,"body_markdown":"Great! Using the Kotlin Bill of Materials (BOM) is indeed a good approach to manage the Kotlin version and ensure consistency throughout your project. By specifying the Kotlin BOM, you&#39;re effectively managing the Kotlin version for your project and avoiding conflicts related to duplicate class issues.\n\nIncluding the Kotlin BOM allows you to define the Kotlin version in a single place, making it easier to manage dependencies and prevent version conflicts. It&#39;s a good practice, especially when dealing with Kotlin in multi-module or complex projects.","body":"Great! Using the Kotlin Bill of Materials (BOM) is indeed a good approach to manage the Kotlin version and ensure consistency throughout your project. By specifying the Kotlin BOM, you&#39;re effectively managing the Kotlin version for your project and avoiding conflicts related to duplicate class issues.  Including the Kotlin BOM allows you to define the Kotlin version in a single place, making it easier to manage dependencies and prevent version conflicts. It&#39;s a good practice, especially when dealing with Kotlin in multi-module or complex projects."}],"tags":[],"owner":{"account_id":25111994,"reputation":167,"user_id":18961511,"display_name":"safXcode"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1696088531,"creation_date":1694505423,"answer_id":77087083,"question_id":75263047,"body_markdown":"add this inside your **dependencies**, it will solve the **error**.\r\n\r\n```\r\ndependencies {\r\n\r\n    (...)\r\n\r\n    // Fix Duplicate class\r\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\r\n\r\n}\r\n```","title":"Duplicate class in Kotlin Android","body":"<p>add this inside your <strong>dependencies</strong>, it will solve the <strong>error</strong>.</p>\n<pre><code>dependencies {\n\n    (...)\n\n    // Fix Duplicate class\n    implementation(platform(&quot;org.jetbrains.kotlin:kotlin-bom:1.8.0&quot;))\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11619321,"reputation":11,"user_id":8511076,"display_name":"Stef"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696756032,"creation_date":1696756032,"answer_id":77252973,"question_id":75263047,"body_markdown":"Here is the real solution, put this code in your gradle (app)\r\n\r\n   \r\n\r\n     constraints {\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n            implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n                because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n            }\r\n        }","title":"Duplicate class in Kotlin Android","body":"<p>Here is the real solution, put this code in your gradle (app)</p>\n<pre><code> constraints {\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n        }\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1664470,"reputation":742,"user_id":1532175,"display_name":"FredG"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697225724,"creation_date":1697225724,"answer_id":77290245,"question_id":75263047,"body_markdown":"I have a pure Java app.\r\n\r\nIf you want to update :\r\n- androidx.appcompat:appcompat from 1.4.x to 1.5.0\r\n- androidx.annotation:annotation from 1.5.0 to 1.6.0\r\n\r\nAnd probably a few other.\r\n\r\nIt seems you need to add something like this in your project.\r\n```\r\nplugins {\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.10&#39;\r\n}\r\n```","title":"Duplicate class in Kotlin Android","body":"<p>I have a pure Java app.</p>\n<p>If you want to update :</p>\n<ul>\n<li>androidx.appcompat:appcompat from 1.4.x to 1.5.0</li>\n<li>androidx.annotation:annotation from 1.5.0 to 1.6.0</li>\n</ul>\n<p>And probably a few other.</p>\n<p>It seems you need to add something like this in your project.</p>\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.android' version '1.8.10'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8871799,"reputation":89,"user_id":6625307,"display_name":"Vikrant Singh Rawat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701575074,"creation_date":1697528082,"answer_id":77306977,"question_id":75263047,"body_markdown":"Add the below line in the project-level [build.gradle][1] file.\r\n\r\n```lang-none\r\nplugins {\r\n\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.8.10&#39; apply false\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/tutorial_using_tasks.html\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p>Add the below line in the project-level <a href=\"https://docs.gradle.org/current/userguide/tutorial_using_tasks.html\" rel=\"nofollow noreferrer\">build.gradle</a> file.</p>\n<pre class=\"lang-none prettyprint-override\"><code>plugins {\n\n    id 'org.jetbrains.kotlin.android' version '1.8.10' apply false\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27381838,"reputation":1,"user_id":20886322,"display_name":"mohamad rashid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701574909,"creation_date":1697968477,"answer_id":77339451,"question_id":75263047,"body_markdown":"Change this in `~\\android\\app\\build.gradle`\r\n\r\n```\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\r\n\r\n}\r\n```\r\n\r\nto:\r\n\r\n```\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n\r\n}\r\n```\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p>Change this in <code>~\\android\\app\\build.gradle</code></p>\n<pre><code>dependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;\n\n}\n</code></pre>\n<p>to:</p>\n<pre><code>dependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1944316,"reputation":3606,"user_id":1749806,"accept_rate":100,"display_name":"Goran Horia Mihail"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701574888,"creation_date":1698434038,"answer_id":77376570,"question_id":75263047,"body_markdown":"Try this:\r\n\r\n    dependencies {\r\n         configurations.implementation {\r\n             exclude group: &#39;org.jetbrains.kotlin&#39;, module: &#39;kotlin-stdlib-jdk8&#39;\r\n         }\r\n         ....\r\n    }\r\n","title":"Duplicate class in Kotlin Android","body":"<p>Try this:</p>\n<pre><code>dependencies {\n     configurations.implementation {\n         exclude group: 'org.jetbrains.kotlin', module: 'kotlin-stdlib-jdk8'\n     }\n     ....\n}\n</code></pre>\n"}],"owner":{"account_id":27591481,"reputation":3681,"user_id":21058541,"display_name":"midnighthowlers"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201541,"favorite_count":0,"down_vote_count":0,"up_vote_count":368,"answer_count":59,"score":368,"last_activity_date":1701812987,"creation_date":1674851299,"question_id":75263047,"body_markdown":"![Image Example](https://i.stack.imgur.com/ugp7v.png)\r\n\r\nI kept on getting an error that there is a duplicate error in classes.\r\n[This is what I have under org.jetbrains.kotlin folder](https://i.stack.imgur.com/92lfH.png)\r\n[.idea/libraries](https://i.stack.imgur.com/Q0zHs.png)\r\n\r\nIt seems like the problem is because there is two different dependencies for Kotlin, from *stdlib* and *stdlibjdk8*, but I don&#39;t know how to remove either one from my module/project dependencies. How can I do it?\r\n\r\nHere&#39;s the full error code:\r\n\r\n```lang-none\r\nDuplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\r\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\r\nDuplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\r\nDuplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\r\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\r\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\r\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\r\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\r\n```\r\n\r\nI&#39;ve tried deleting the files from the org.jetbrains.kotlin, but whenever I build the app in Android Studio, the files will be redownloaded again.\r\n\r\nThis is my module app [Gradle][1] code:\r\n\r\n~~~groovy\r\n\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.umfs&quot;\r\n        minSdk 21\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n    namespace &#39;com.example.umfs&#39;\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.7.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.1.0&#39;\r\n    implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-core:21.1.1&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.5.3&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.5.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.4.1&#39;\r\n    implementation &#39;androidx.recyclerview:recyclerview:1.2.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.4&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.0&#39;\r\n    implementation &#39;de.hdodenhof:circleimageview:3.1.0&#39;\r\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\r\n    implementation &#39;com.google.firebase:firebase-firestore:24.4.1&#39;\r\n    implementation &#39;com.google.firebase:firebase-storage:20.1.0&#39;\r\n    implementation &#39;com.google.firebase:firebase-database&#39;\r\n    implementation platform(&#39;com.google.firebase:firebase-bom:28.4.0&#39;)\r\n    implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n    implementation &#39;com.makeramen:roundedimageview:2.3.0&#39;\r\n    implementation &#39;com.github.bumptech.glide:glide:4.14.2&#39;\r\n    implementation &#39;com.github.marlonlom:timeago:4.0.3&#39;\r\n    implementation &quot;androidx.core:core-ktx:+&quot;\r\n\r\n}\r\n\r\napply plugin: &#39;com.google.gms.google-services&#39;\r\n~~~\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gradle\r\n\r\n","title":"Duplicate class in Kotlin Android","body":"<p><img src=\"https://i.stack.imgur.com/ugp7v.png\" alt=\"Image Example\" /></p>\n<p>I kept on getting an error that there is a duplicate error in classes.\n<a href=\"https://i.stack.imgur.com/92lfH.png\" rel=\"noreferrer\">This is what I have under org.jetbrains.kotlin folder</a>\n<a href=\"https://i.stack.imgur.com/Q0zHs.png\" rel=\"noreferrer\">.idea/libraries</a></p>\n<p>It seems like the problem is because there is two different dependencies for Kotlin, from <em>stdlib</em> and <em>stdlibjdk8</em>, but I don't know how to remove either one from my module/project dependencies. How can I do it?</p>\n<p>Here's the full error code:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Duplicate class kotlin.collections.jdk8.CollectionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.internal.jdk7.JDK7PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.internal.jdk8.JDK8PlatformImplementations found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.io.path.ExperimentalPathApi found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathRelativizer found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathsKt__PathReadWriteKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.io.path.PathsKt__PathUtilsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.jdk7.AutoCloseableKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk7-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.6.0)\nDuplicate class kotlin.jvm.jdk8.JvmRepeatableKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.random.jdk8.PlatformThreadLocalRandom found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$1 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$2 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$3 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.streams.jdk8.StreamsKt$asSequence$$inlined$Sequence$4 found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.text.jdk8.RegexExtensionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\nDuplicate class kotlin.time.jdk8.DurationConversionsJDK8Kt found in modules jetified-kotlin-stdlib-1.8.0 (org.jetbrains.kotlin:kotlin-stdlib:1.8.0) and jetified-kotlin-stdlib-jdk8-1.6.0 (org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.6.0)\n</code></pre>\n<p>I've tried deleting the files from the org.jetbrains.kotlin, but whenever I build the app in Android Studio, the files will be redownloaded again.</p>\n<p>This is my module app <a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"noreferrer\">Gradle</a> code:</p>\n<pre><code>\nplugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n}\n\nandroid {\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.umfs&quot;\n        minSdk 21\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n\n    buildFeatures {\n        viewBinding true\n    }\n\n    namespace 'com.example.umfs'\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.7.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'com.google.firebase:firebase-database:20.1.0'\n    implementation 'androidx.preference:preference:1.2.0'\n    implementation 'com.google.firebase:firebase-auth:21.1.0'\n    implementation 'com.google.firebase:firebase-core:21.1.1'\n    implementation 'androidx.navigation:navigation-fragment:2.5.3'\n    implementation 'androidx.navigation:navigation-ui:2.5.3'\n    implementation 'com.google.firebase:firebase-firestore:24.4.1'\n    implementation 'androidx.recyclerview:recyclerview:1.2.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.4'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.0'\n    implementation 'de.hdodenhof:circleimageview:3.1.0'\n    implementation &quot;androidx.cardview:cardview:1.0.0&quot;\n    implementation 'com.google.firebase:firebase-firestore:24.4.1'\n    implementation 'com.google.firebase:firebase-storage:20.1.0'\n    implementation 'com.google.firebase:firebase-database'\n    implementation platform('com.google.firebase:firebase-bom:28.4.0')\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.makeramen:roundedimageview:2.3.0'\n    implementation 'com.github.bumptech.glide:glide:4.14.2'\n    implementation 'com.github.marlonlom:timeago:4.0.3'\n    implementation &quot;androidx.core:core-ktx:+&quot;\n\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"},{"tags":["java","methods","time","parameters","java-time"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701205833,"post_id":77566630,"comment_id":136746116,"body_markdown":"I fixed your code formatting. Please study so you can do that yourself. Also, please put effort into using correct case and such  in your prose. Stack Overflow is meant to be more like Wikipedia, less like a casual chat room.","body":"I fixed your code formatting. Please study so you can do that yourself. Also, please put effort into using correct case and such  in your prose. Stack Overflow is meant to be more like Wikipedia, less like a casual chat room."}],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1701812868,"post_id":77567170,"comment_id":136821318,"body_markdown":"@working.monkey If the Answer is helpful, up-vote (click Up arrow). If the Answer solves your Question, then accept it (click big check mark).","body":"@working.monkey If the Answer is helpful, up-vote (click Up arrow). If the Answer solves your Question, then accept it (click big check mark)."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701205886,"creation_date":1701205886,"answer_id":77567170,"question_id":77566630,"body_markdown":"You must study the [Javadoc][1] for any class you want to use.\r\n\r\nOn [`LocalTime`][2], you will not find any `minutesToSubtract` method. You can only call methods defined on that class.\r\n\r\nYou will find a [`minusMinutes`][3] method.\r\n\r\nBecause *java.time* uses [immutable objects][4], the result of that method is a new `LocalTime` object. The original `LocalTime` object remains intact.\r\n\r\n    LocalTime now = LocalTime.now() ;\r\n    LocalTime then = now.minusMinutes( 2 ) ;\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Javadoc\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/time/LocalTime.html\r\n  [3]: https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/time/LocalTime.html#minusMinutes(long)\r\n  [4]: https://en.wikipedia.org/wiki/Immutable_object","title":"using minusMinutes() in the LocalTime class in the time package","body":"<p>You must study the <a href=\"https://en.wikipedia.org/wiki/Javadoc\" rel=\"nofollow noreferrer\">Javadoc</a> for any class you want to use.</p>\n<p>On <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>LocalTime</code></a>, you will not find any <code>minutesToSubtract</code> method. You can only call methods defined on that class.</p>\n<p>You will find a <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api//java.base/java/time/LocalTime.html#minusMinutes(long)\" rel=\"nofollow noreferrer\"><code>minusMinutes</code></a> method.</p>\n<p>Because <em>java.time</em> uses <a href=\"https://en.wikipedia.org/wiki/Immutable_object\" rel=\"nofollow noreferrer\">immutable objects</a>, the result of that method is a new <code>LocalTime</code> object. The original <code>LocalTime</code> object remains intact.</p>\n<pre><code>LocalTime now = LocalTime.now() ;\nLocalTime then = now.minusMinutes( 2 ) ;\n</code></pre>\n"}],"owner":{"account_id":29644136,"reputation":1,"user_id":22719553,"display_name":"working.monkey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701812905,"creation_date":1701199330,"question_id":77566630,"body_markdown":"I am quite new and am asking to see how to use this method. here is my problematic code...\r\n\r\n```java\r\nimport java.time.LocalTime;\r\n\r\nclass Workingtime{\r\n  public static void main(String[] args){\r\n\r\n    LocalTime timeobj = LocalTime.minusMinutes();\r\n    String subtractedtimevar = timeobj.minutesToSubtract(1);\r\n    System.out.println(subtractedtimevar);\r\n\r\n  }\r\n}\r\n```\r\n\r\nplease give me the correct use of this method with any subtraction of time as an example.\r\n\r\n\r\n\r\ni tried to subtract 1 minute to see how the method works from the oracle literature.\r\n\r\nthanks to those who respond.\r\n\r\n- working monkey","title":"using minusMinutes() in the LocalTime class in the time package","body":"<p>I am quite new and am asking to see how to use this method. here is my problematic code...</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalTime;\n\nclass Workingtime{\n  public static void main(String[] args){\n\n    LocalTime timeobj = LocalTime.minusMinutes();\n    String subtractedtimevar = timeobj.minutesToSubtract(1);\n    System.out.println(subtractedtimevar);\n\n  }\n}\n</code></pre>\n<p>please give me the correct use of this method with any subtraction of time as an example.</p>\n<p>i tried to subtract 1 minute to see how the method works from the oracle literature.</p>\n<p>thanks to those who respond.</p>\n<ul>\n<li>working monkey</li>\n</ul>\n"},{"tags":["java","pdf-generation","pdfbox"],"comments":[{"owner":{"account_id":2546504,"reputation":2896,"user_id":2211208,"display_name":"vimal krishna"},"score":0,"creation_date":1485720126,"post_id":19635275,"comment_id":71031092,"body_markdown":"Working example is here\nhttp://stackoverflow.com/questions/32308964/how-to-add-multiple-pages-in-pdfbox/41925284#41925284","body":"Working example is here <a href=\"http://stackoverflow.com/questions/32308964/how-to-add-multiple-pages-in-pdfbox/41925284#41925284\" title=\"how to add multiple pages in pdfbox\">stackoverflow.com/questions/32308964/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1382992348,"post_id":19637772,"comment_id":29168383,"body_markdown":"I assume @Ronald searches a way to insert text without having to break the lines manually or at least having methods to support line breaking according to character length.","body":"I assume @Ronald searches a way to insert text without having to break the lines manually or at least having methods to support line breaking according to character length."},{"owner":{"account_id":3268206,"reputation":647,"user_id":2752226,"display_name":"Ronald James"},"score":0,"creation_date":1383022349,"post_id":19637772,"comment_id":29177497,"body_markdown":"@mkl This is what exactly i meant.","body":"@mkl This is what exactly i meant."}],"tags":[],"owner":{"account_id":60411,"reputation":395,"user_id":180448,"accept_rate":80,"display_name":"Mark Waschkowski"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1382971391,"creation_date":1382971391,"answer_id":19637772,"question_id":19635275,"body_markdown":"Just draw the string in a position below, typically done within a loop:\r\n\r\n    float textx = margin+cellMargin;\r\n    float texty = y-15;\r\n    for(int i = 0; i &lt; content.length; i++){\r\n        for(int j = 0 ; j &lt; content[i].length; j++){\r\n            String text = content[i][j];\r\n            contentStream.beginText();\r\n            contentStream.moveTextPositionByAmount(textx,texty);\r\n            contentStream.drawString(text);\r\n            contentStream.endText();\r\n            textx += colWidth;\r\n        }\r\n        texty-=rowHeight;\r\n        textx = margin+cellMargin;\r\n    }\r\n\r\nThese are the important lines:\r\n\r\n    contentStream.beginText();\r\n    contentStream.moveTextPositionByAmount(textx,texty);\r\n    contentStream.drawString(text);\r\n    contentStream.endText();\r\n\r\nJust keep drawing new strings in new positions. For an example using a table, see here:\r\nhttp://fahdshariff.blogspot.ca/2010/10/creating-tables-with-pdfbox.html","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p>Just draw the string in a position below, typically done within a loop:</p>\n\n<pre><code>float textx = margin+cellMargin;\nfloat texty = y-15;\nfor(int i = 0; i &lt; content.length; i++){\n    for(int j = 0 ; j &lt; content[i].length; j++){\n        String text = content[i][j];\n        contentStream.beginText();\n        contentStream.moveTextPositionByAmount(textx,texty);\n        contentStream.drawString(text);\n        contentStream.endText();\n        textx += colWidth;\n    }\n    texty-=rowHeight;\n    textx = margin+cellMargin;\n}\n</code></pre>\n\n<p>These are the important lines:</p>\n\n<pre><code>contentStream.beginText();\ncontentStream.moveTextPositionByAmount(textx,texty);\ncontentStream.drawString(text);\ncontentStream.endText();\n</code></pre>\n\n<p>Just keep drawing new strings in new positions. For an example using a table, see here:\n<a href=\"http://fahdshariff.blogspot.ca/2010/10/creating-tables-with-pdfbox.html\" rel=\"nofollow\">http://fahdshariff.blogspot.ca/2010/10/creating-tables-with-pdfbox.html</a></p>\n"},{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1430379896,"post_id":19683618,"comment_id":48044081,"body_markdown":"If you also want your text to be justified, have a look at [this answer](http://stackoverflow.com/a/20681996/1729265) improving the sample here.","body":"If you also want your text to be justified, have a look at <a href=\"http://stackoverflow.com/a/20681996/1729265\">this answer</a> improving the sample here."},{"owner":{"account_id":4569916,"reputation":566,"user_id":3709866,"accept_rate":86,"display_name":"frostman"},"score":1,"creation_date":1484752005,"post_id":19683618,"comment_id":70640187,"body_markdown":"Thanks for your solution, but currently it doesn&#39;t support the case when the word is longer than the maximum width of the line. In that case, the word needs to be broken but the code doesn&#39;t do that.","body":"Thanks for your solution, but currently it doesn&#39;t support the case when the word is longer than the maximum width of the line. In that case, the word needs to be broken but the code doesn&#39;t do that."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1484777924,"post_id":19683618,"comment_id":70655390,"body_markdown":"*&quot;In that case, the word needs to be broken but the code doesn&#39;t do that.&quot;* - Whether in that case the word needs to be broken or needs to exceed the line borders, depends on the use case at hand. As proper word breaking, i.e. language-specific hyphenation, is a topic in its own right, I here implemented the alternative solution.","body":"<i>&quot;In that case, the word needs to be broken but the code doesn&#39;t do that.&quot;</i> - Whether in that case the word needs to be broken or needs to exceed the line borders, depends on the use case at hand. As proper word breaking, i.e. language-specific hyphenation, is a topic in its own right, I here implemented the alternative solution."},{"owner":{"account_id":227916,"reputation":2970,"user_id":489872,"accept_rate":86,"display_name":"ave4496"},"score":0,"creation_date":1487143354,"post_id":19683618,"comment_id":71644472,"body_markdown":"could you add line breaks when there are \\n in the string?","body":"could you add line breaks when there are \\n in the string?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1487147968,"post_id":19683618,"comment_id":71646962,"body_markdown":"@aleskv Yes, quite easily. I have added a new section &quot;Adding unconditional line breaks&quot; to the answer covering that.","body":"@aleskv Yes, quite easily. I have added a new section &quot;Adding unconditional line breaks&quot; to the answer covering that."},{"owner":{"account_id":2497935,"reputation":3239,"user_id":2173890,"accept_rate":30,"display_name":"sifr_dot_in"},"score":0,"creation_date":1657801486,"post_id":19683618,"comment_id":128899824,"body_markdown":"@mkl I am facing:\njava.lang.ExceptionInInitializerError\nat\nPDFont pdfFont = PDType1Font.HELVETICA;\nin both PDFBox 1.8.x and 2.0.x\nAny solution? (have googled a lot)","body":"@mkl I am facing: java.lang.ExceptionInInitializerError at PDFont pdfFont = PDType1Font.HELVETICA; in both PDFBox 1.8.x and 2.0.x Any solution? (have googled a lot)"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1670802017,"post_id":19683618,"comment_id":131951641,"body_markdown":"@sifr_dot_in that sounds weird. Make that a question in its own right and provide additional data, in particular the full stack trace.","body":"@sifr_dot_in that sounds weird. Make that a question in its own right and provide additional data, in particular the full stack trace."}],"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"comment_count":7,"down_vote_count":1,"up_vote_count":105,"is_accepted":true,"score":104,"last_activity_date":1657796393,"creation_date":1383139770,"answer_id":19683618,"question_id":19635275,"body_markdown":"Adding to the answer of Mark you might want to know where to split your long string. You can use the `PDFont` method `getStringWidth` for that.\r\n\r\nPutting everything together you get something like this (with minor differences depending on the PDFBox version):\r\n\r\n### PDFBox 1.8.x\r\n\r\n    PDDocument doc = null;\r\n    try\r\n    {\r\n        doc = new PDDocument();\r\n        PDPage page = new PDPage();\r\n        doc.addPage(page);\r\n        PDPageContentStream contentStream = new PDPageContentStream(doc, page);\r\n\r\n        PDFont pdfFont = PDType1Font.HELVETICA;\r\n        float fontSize = 25;\r\n        float leading = 1.5f * fontSize;\r\n\r\n        PDRectangle mediabox = page.getMediaBox();\r\n        float margin = 72;\r\n        float width = mediabox.getWidth() - 2*margin;\r\n        float startX = mediabox.getLowerLeftX() + margin;\r\n        float startY = mediabox.getUpperRightY() - margin;\r\n\r\n        String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \r\n        List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n        int lastSpace = -1;\r\n        while (text.length() &gt; 0)\r\n        {\r\n            int spaceIndex = text.indexOf(&#39; &#39;, lastSpace + 1);\r\n            if (spaceIndex &lt; 0)\r\n                spaceIndex = text.length();\r\n            String subString = text.substring(0, spaceIndex);\r\n            float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\r\n            System.out.printf(&quot;&#39;%s&#39; - %f of %f\\n&quot;, subString, size, width);\r\n            if (size &gt; width)\r\n            {\r\n                if (lastSpace &lt; 0)\r\n                    lastSpace = spaceIndex;\r\n                subString = text.substring(0, lastSpace);\r\n                lines.add(subString);\r\n                text = text.substring(lastSpace).trim();\r\n                System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, subString);\r\n                lastSpace = -1;\r\n            }\r\n            else if (spaceIndex == text.length())\r\n            {\r\n                lines.add(text);\r\n                System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, text);\r\n                text = &quot;&quot;;\r\n            }\r\n            else\r\n            {\r\n                lastSpace = spaceIndex;\r\n            }\r\n        }\r\n            \r\n        contentStream.beginText();\r\n        contentStream.setFont(pdfFont, fontSize);\r\n        contentStream.moveTextPositionByAmount(startX, startY);            \r\n        for (String line: lines)\r\n        {\r\n            contentStream.drawString(line);\r\n            contentStream.moveTextPositionByAmount(0, -leading);\r\n        }\r\n        contentStream.endText(); \r\n        contentStream.close();\r\n\r\n        doc.save(&quot;break-long-string.pdf&quot;);\r\n    }\r\n    finally\r\n    {\r\n        if (doc != null)\r\n        {\r\n            doc.close();\r\n        }\r\n    }\r\n\r\n*([BreakLongString.java][1] test `testBreakString` for PDFBox 1.8.x)*\r\n\r\n### PDFBox 2.0.x\r\n\r\n    PDDocument doc = null;\r\n    try\r\n    {\r\n        doc = new PDDocument();\r\n        PDPage page = new PDPage();\r\n        doc.addPage(page);\r\n        PDPageContentStream contentStream = new PDPageContentStream(doc, page);\r\n\r\n        PDFont pdfFont = PDType1Font.HELVETICA;\r\n        float fontSize = 25;\r\n        float leading = 1.5f * fontSize;\r\n\r\n        PDRectangle mediabox = page.getMediaBox();\r\n        float margin = 72;\r\n        float width = mediabox.getWidth() - 2*margin;\r\n        float startX = mediabox.getLowerLeftX() + margin;\r\n        float startY = mediabox.getUpperRightY() - margin;\r\n\r\n        String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \r\n        List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n        int lastSpace = -1;\r\n        while (text.length() &gt; 0)\r\n        {\r\n            int spaceIndex = text.indexOf(&#39; &#39;, lastSpace + 1);\r\n            if (spaceIndex &lt; 0)\r\n                spaceIndex = text.length();\r\n            String subString = text.substring(0, spaceIndex);\r\n            float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\r\n            System.out.printf(&quot;&#39;%s&#39; - %f of %f\\n&quot;, subString, size, width);\r\n            if (size &gt; width)\r\n            {\r\n                if (lastSpace &lt; 0)\r\n                    lastSpace = spaceIndex;\r\n                subString = text.substring(0, lastSpace);\r\n                lines.add(subString);\r\n                text = text.substring(lastSpace).trim();\r\n                System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, subString);\r\n                lastSpace = -1;\r\n            }\r\n            else if (spaceIndex == text.length())\r\n            {\r\n                lines.add(text);\r\n                System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, text);\r\n                text = &quot;&quot;;\r\n            }\r\n            else\r\n            {\r\n                lastSpace = spaceIndex;\r\n            }\r\n        }\r\n\r\n        contentStream.beginText();\r\n        contentStream.setFont(pdfFont, fontSize);\r\n        contentStream.newLineAtOffset(startX, startY);\r\n        for (String line: lines)\r\n        {\r\n            contentStream.showText(line);\r\n            contentStream.newLineAtOffset(0, -leading);\r\n        }\r\n        contentStream.endText(); \r\n        contentStream.close();\r\n\r\n        doc.save(new File(RESULT_FOLDER, &quot;break-long-string.pdf&quot;));\r\n    }\r\n    finally\r\n    {\r\n        if (doc != null)\r\n        {\r\n            doc.close();\r\n        }\r\n    }\r\n\r\n*([BreakLongString.java][2] test `testBreakString` for PDFBox 2.0.x)*\r\n\r\n### The result\r\n\r\n![Screenshot of the result PDF displayed in Acrobat Reader][3]\r\n\r\nThis looks as expected.\r\n\r\nOf course there are numerous improvements to make but this should show how to do it.\r\n\r\n### Adding unconditional line breaks\r\n\r\nIn a comment aleskv asked:\r\n\r\n&gt; could you add line breaks when there are \\n in the string?\r\n\r\nOne can easily extend the solution to unconditionally break at newline characters by first splitting the string at &#39;\\n&#39; characters and then iterating over the split result.\r\n\r\nE.g. if instead of the long string from above\r\n\r\n    String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \r\n\r\nyou want to process this even longer string with embedded new line characters\r\n\r\n    String textNL = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.\\nFurthermore, I have added some newline characters to the string at which lines also shall be broken.\\nIt should work alright like this...&quot;;\r\n\r\nyou can simply replace\r\n\r\n    String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \r\n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n    int lastSpace = -1;\r\n    while (text.length() &gt; 0)\r\n    {\r\n        [...]\r\n    }\r\n\r\nin the solutions above by\r\n\r\n    String textNL = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.\\nFurthermore, I have added some newline characters to the string at which lines also shall be broken.\\nIt should work alright like this...&quot;; \r\n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n    for (String text : textNL.split(&quot;\\n&quot;))\r\n    {\r\n        int lastSpace = -1;\r\n        while (text.length() &gt; 0)\r\n        {\r\n            [...]\r\n        }\r\n    }\r\n\r\n*(from [BreakLongString.java][4] test `testBreakStringNL`)*\r\n\r\nThe result:\r\n\r\n[![Screenshot][5]][5]\r\n\r\n\r\n  [1]: https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/content/BreakLongString.java#L40\r\n  [2]: https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/content/BreakLongString.java#L39\r\n  [3]: http://i.stack.imgur.com/ov011.png\r\n  [4]: https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/content/BreakLongString.java#L220\r\n  [5]: https://i.stack.imgur.com/43ijf.png","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p>Adding to the answer of Mark you might want to know where to split your long string. You can use the <code>PDFont</code> method <code>getStringWidth</code> for that.</p>\n<p>Putting everything together you get something like this (with minor differences depending on the PDFBox version):</p>\n<h3>PDFBox 1.8.x</h3>\n<pre><code>PDDocument doc = null;\ntry\n{\n    doc = new PDDocument();\n    PDPage page = new PDPage();\n    doc.addPage(page);\n    PDPageContentStream contentStream = new PDPageContentStream(doc, page);\n\n    PDFont pdfFont = PDType1Font.HELVETICA;\n    float fontSize = 25;\n    float leading = 1.5f * fontSize;\n\n    PDRectangle mediabox = page.getMediaBox();\n    float margin = 72;\n    float width = mediabox.getWidth() - 2*margin;\n    float startX = mediabox.getLowerLeftX() + margin;\n    float startY = mediabox.getUpperRightY() - margin;\n\n    String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n    int lastSpace = -1;\n    while (text.length() &gt; 0)\n    {\n        int spaceIndex = text.indexOf(' ', lastSpace + 1);\n        if (spaceIndex &lt; 0)\n            spaceIndex = text.length();\n        String subString = text.substring(0, spaceIndex);\n        float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\n        System.out.printf(&quot;'%s' - %f of %f\\n&quot;, subString, size, width);\n        if (size &gt; width)\n        {\n            if (lastSpace &lt; 0)\n                lastSpace = spaceIndex;\n            subString = text.substring(0, lastSpace);\n            lines.add(subString);\n            text = text.substring(lastSpace).trim();\n            System.out.printf(&quot;'%s' is line\\n&quot;, subString);\n            lastSpace = -1;\n        }\n        else if (spaceIndex == text.length())\n        {\n            lines.add(text);\n            System.out.printf(&quot;'%s' is line\\n&quot;, text);\n            text = &quot;&quot;;\n        }\n        else\n        {\n            lastSpace = spaceIndex;\n        }\n    }\n        \n    contentStream.beginText();\n    contentStream.setFont(pdfFont, fontSize);\n    contentStream.moveTextPositionByAmount(startX, startY);            \n    for (String line: lines)\n    {\n        contentStream.drawString(line);\n        contentStream.moveTextPositionByAmount(0, -leading);\n    }\n    contentStream.endText(); \n    contentStream.close();\n\n    doc.save(&quot;break-long-string.pdf&quot;);\n}\nfinally\n{\n    if (doc != null)\n    {\n        doc.close();\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox1/blob/master/src/test/java/mkl/testarea/pdfbox1/content/BreakLongString.java#L40\" rel=\"nofollow noreferrer\">BreakLongString.java</a> test <code>testBreakString</code> for PDFBox 1.8.x)</em></p>\n<h3>PDFBox 2.0.x</h3>\n<pre><code>PDDocument doc = null;\ntry\n{\n    doc = new PDDocument();\n    PDPage page = new PDPage();\n    doc.addPage(page);\n    PDPageContentStream contentStream = new PDPageContentStream(doc, page);\n\n    PDFont pdfFont = PDType1Font.HELVETICA;\n    float fontSize = 25;\n    float leading = 1.5f * fontSize;\n\n    PDRectangle mediabox = page.getMediaBox();\n    float margin = 72;\n    float width = mediabox.getWidth() - 2*margin;\n    float startX = mediabox.getLowerLeftX() + margin;\n    float startY = mediabox.getUpperRightY() - margin;\n\n    String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n    int lastSpace = -1;\n    while (text.length() &gt; 0)\n    {\n        int spaceIndex = text.indexOf(' ', lastSpace + 1);\n        if (spaceIndex &lt; 0)\n            spaceIndex = text.length();\n        String subString = text.substring(0, spaceIndex);\n        float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\n        System.out.printf(&quot;'%s' - %f of %f\\n&quot;, subString, size, width);\n        if (size &gt; width)\n        {\n            if (lastSpace &lt; 0)\n                lastSpace = spaceIndex;\n            subString = text.substring(0, lastSpace);\n            lines.add(subString);\n            text = text.substring(lastSpace).trim();\n            System.out.printf(&quot;'%s' is line\\n&quot;, subString);\n            lastSpace = -1;\n        }\n        else if (spaceIndex == text.length())\n        {\n            lines.add(text);\n            System.out.printf(&quot;'%s' is line\\n&quot;, text);\n            text = &quot;&quot;;\n        }\n        else\n        {\n            lastSpace = spaceIndex;\n        }\n    }\n\n    contentStream.beginText();\n    contentStream.setFont(pdfFont, fontSize);\n    contentStream.newLineAtOffset(startX, startY);\n    for (String line: lines)\n    {\n        contentStream.showText(line);\n        contentStream.newLineAtOffset(0, -leading);\n    }\n    contentStream.endText(); \n    contentStream.close();\n\n    doc.save(new File(RESULT_FOLDER, &quot;break-long-string.pdf&quot;));\n}\nfinally\n{\n    if (doc != null)\n    {\n        doc.close();\n    }\n}\n</code></pre>\n<p><em>(<a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/content/BreakLongString.java#L39\" rel=\"nofollow noreferrer\">BreakLongString.java</a> test <code>testBreakString</code> for PDFBox 2.0.x)</em></p>\n<h3>The result</h3>\n<p><img src=\"https://i.stack.imgur.com/ov011.png\" alt=\"Screenshot of the result PDF displayed in Acrobat Reader\" /></p>\n<p>This looks as expected.</p>\n<p>Of course there are numerous improvements to make but this should show how to do it.</p>\n<h3>Adding unconditional line breaks</h3>\n<p>In a comment aleskv asked:</p>\n<blockquote>\n<p>could you add line breaks when there are \\n in the string?</p>\n</blockquote>\n<p>One can easily extend the solution to unconditionally break at newline characters by first splitting the string at '\\n' characters and then iterating over the split result.</p>\n<p>E.g. if instead of the long string from above</p>\n<pre><code>String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \n</code></pre>\n<p>you want to process this even longer string with embedded new line characters</p>\n<pre><code>String textNL = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.\\nFurthermore, I have added some newline characters to the string at which lines also shall be broken.\\nIt should work alright like this...&quot;;\n</code></pre>\n<p>you can simply replace</p>\n<pre><code>String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;; \nList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\nint lastSpace = -1;\nwhile (text.length() &gt; 0)\n{\n    [...]\n}\n</code></pre>\n<p>in the solutions above by</p>\n<pre><code>String textNL = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.\\nFurthermore, I have added some newline characters to the string at which lines also shall be broken.\\nIt should work alright like this...&quot;; \nList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\nfor (String text : textNL.split(&quot;\\n&quot;))\n{\n    int lastSpace = -1;\n    while (text.length() &gt; 0)\n    {\n        [...]\n    }\n}\n</code></pre>\n<p><em>(from <a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/content/BreakLongString.java#L220\" rel=\"nofollow noreferrer\">BreakLongString.java</a> test <code>testBreakStringNL</code>)</em></p>\n<p>The result:</p>\n<p><a href=\"https://i.stack.imgur.com/43ijf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/43ijf.png\" alt=\"Screenshot\" /></a></p>\n"},{"comments":[{"owner":{"account_id":5058446,"reputation":1111,"user_id":4060898,"accept_rate":66,"display_name":"partho"},"score":0,"creation_date":1476619357,"post_id":23074810,"comment_id":67413402,"body_markdown":"This could be a comment instead of answer.","body":"This could be a comment instead of answer."}],"tags":[],"owner":{"account_id":3999398,"reputation":1959,"user_id":3295819,"display_name":"Bharathiraja"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1397536847,"creation_date":1397536847,"answer_id":23074810,"question_id":19635275,"body_markdown":"contentStream.moveTextPositionByAmount(textx,texty) is key point.\r\n\r\nsay for example if you are using a A4 size means 580,800 is width and height correspondling(approximately). so you have move your text based on the position of your document size. \r\n\r\nPDFBox supports varies page format . so the height and width will vary for different page format","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p>contentStream.moveTextPositionByAmount(textx,texty) is key point.</p>\n\n<p>say for example if you are using a A4 size means 580,800 is width and height correspondling(approximately). so you have move your text based on the position of your document size. </p>\n\n<p>PDFBox supports varies page format . so the height and width will vary for different page format</p>\n"},{"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1439382159,"post_id":31962119,"comment_id":51837165,"body_markdown":"Yes, as I commented in my answer the case `(spaceIndex &lt; 0)` (i.e. last word) should be handled differently. Your answer reminded me to actually update the answer accordingly.","body":"Yes, as I commented in my answer the case <code>(spaceIndex &lt; 0)</code> (i.e. last word) should be handled differently. Your answer reminded me to actually update the answer accordingly."}],"tags":[],"owner":{"account_id":3238655,"reputation":448,"user_id":2732203,"accept_rate":60,"display_name":"Michael Woywod"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1439374089,"creation_date":1439374089,"answer_id":31962119,"question_id":19635275,"body_markdown":"I know it&#39;s a bit late, but i had a little problem with mkl&#39;s solution. If the last line would only contain one word, your algorithm writes it on the previous one.\r\n\r\nFor Example: &quot;Lorem ipsum dolor sit amet&quot; is your text and it should add a line break after &quot;sit&quot;.\r\n\r\n    Lorem ipsum dolor sit\r\n    amet\r\n\r\nBut it does this:\r\n\r\n    Lorem ipsum dolor sit amet\r\n\r\nI came up with my own solution i want to share with you.\r\n\r\n    /**\r\n     * @param text The text to write on the page.\r\n     * @param x The position on the x-axis.\r\n     * @param y The position on the y-axis.\r\n     * @param allowedWidth The maximum allowed width of the whole text (e.g. the width of the page - a defined margin).\r\n     * @param page The page for the text.\r\n     * @param contentStream The content stream to set the text properties and write the text.\r\n     * @param font The font used to write the text.\r\n     * @param fontSize The font size used to write the text.\r\n     * @param lineHeight The line height of the font (typically 1.2 * fontSize or 1.5 * fontSize).\r\n     * @throws IOException\r\n     */\r\n    private void drawMultiLineText(String text, int x, int y, int allowedWidth, PDPage page, PDPageContentStream contentStream, PDFont font, int fontSize, int lineHeight) throws IOException {\r\n    \t\r\n\t\tList&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n\t\t\r\n\t\tString myLine = &quot;&quot;;\r\n\t\t\r\n\t\t// get all words from the text\r\n\t\t// keep in mind that words are separated by spaces -&gt; &quot;Lorem ipsum!!!!:)&quot; -&gt; words are &quot;Lorem&quot; and &quot;ipsum!!!!:)&quot;\r\n\t\tString[] words = text.split(&quot; &quot;);\r\n\t\tfor(String word : words) {\r\n\t\t\t\r\n\t\t\tif(!myLine.isEmpty()) {\r\n\t\t\t\tmyLine += &quot; &quot;;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// test the width of the current line + the current word\r\n\t\t\tint size = (int) (fontSize * font.getStringWidth(myLine + word) / 1000);\r\n\t\t\tif(size &gt; allowedWidth) {\r\n\t\t\t\t// if the line would be too long with the current word, add the line without the current word\r\n\t\t\t\tlines.add(myLine);\r\n\t\t\t\t\r\n\t\t\t\t// and start a new line with the current word\r\n\t\t\t\tmyLine = word;\r\n\t\t\t} else {\r\n\t\t\t\t// if the current line + the current word would fit, add the current word to the line\r\n\t\t\t\tmyLine += word;\r\n\t\t\t}\r\n\t\t}\r\n\t\t// add the rest to lines\r\n\t\tlines.add(myLine);\r\n\t\t\r\n\t\tfor(String line : lines) {\r\n\t\t\tcontentStream.beginText();\r\n\t\t\tcontentStream.setFont(font, fontSize);\r\n\t\t\tcontentStream.moveTextPositionByAmount(x, y);\r\n\t\t\tcontentStream.drawString(line);\r\n\t\t\tcontentStream.endText();\r\n\t\t\t\r\n\t\t\ty -= lineHeight;\r\n\t\t}\r\n\r\n    }","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p>I know it's a bit late, but i had a little problem with mkl's solution. If the last line would only contain one word, your algorithm writes it on the previous one.</p>\n\n<p>For Example: \"Lorem ipsum dolor sit amet\" is your text and it should add a line break after \"sit\".</p>\n\n<pre><code>Lorem ipsum dolor sit\namet\n</code></pre>\n\n<p>But it does this:</p>\n\n<pre><code>Lorem ipsum dolor sit amet\n</code></pre>\n\n<p>I came up with my own solution i want to share with you.</p>\n\n<pre><code>/**\n * @param text The text to write on the page.\n * @param x The position on the x-axis.\n * @param y The position on the y-axis.\n * @param allowedWidth The maximum allowed width of the whole text (e.g. the width of the page - a defined margin).\n * @param page The page for the text.\n * @param contentStream The content stream to set the text properties and write the text.\n * @param font The font used to write the text.\n * @param fontSize The font size used to write the text.\n * @param lineHeight The line height of the font (typically 1.2 * fontSize or 1.5 * fontSize).\n * @throws IOException\n */\nprivate void drawMultiLineText(String text, int x, int y, int allowedWidth, PDPage page, PDPageContentStream contentStream, PDFont font, int fontSize, int lineHeight) throws IOException {\n\n    List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n\n    String myLine = \"\";\n\n    // get all words from the text\n    // keep in mind that words are separated by spaces -&gt; \"Lorem ipsum!!!!:)\" -&gt; words are \"Lorem\" and \"ipsum!!!!:)\"\n    String[] words = text.split(\" \");\n    for(String word : words) {\n\n        if(!myLine.isEmpty()) {\n            myLine += \" \";\n        }\n\n        // test the width of the current line + the current word\n        int size = (int) (fontSize * font.getStringWidth(myLine + word) / 1000);\n        if(size &gt; allowedWidth) {\n            // if the line would be too long with the current word, add the line without the current word\n            lines.add(myLine);\n\n            // and start a new line with the current word\n            myLine = word;\n        } else {\n            // if the current line + the current word would fit, add the current word to the line\n            myLine += word;\n        }\n    }\n    // add the rest to lines\n    lines.add(myLine);\n\n    for(String line : lines) {\n        contentStream.beginText();\n        contentStream.setFont(font, fontSize);\n        contentStream.moveTextPositionByAmount(x, y);\n        contentStream.drawString(line);\n        contentStream.endText();\n\n        y -= lineHeight;\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5112663,"reputation":2660,"user_id":4098821,"accept_rate":75,"display_name":"Robbe"},"score":0,"creation_date":1510761965,"post_id":47311914,"comment_id":81574909,"body_markdown":"Could you explain how and why this solves op&#39;s problem?","body":"Could you explain how and why this solves op&#39;s problem?"},{"owner":{"account_id":12257681,"reputation":71,"user_id":8946302,"display_name":"Vinayak Nathjogi"},"score":0,"creation_date":1510762707,"post_id":47311914,"comment_id":81575429,"body_markdown":"This is just an additional approach to earlier answer to solve the issue if text is too long which can&#39;t be set in single page.","body":"This is just an additional approach to earlier answer to solve the issue if text is too long which can&#39;t be set in single page."}],"tags":[],"owner":{"account_id":12257681,"reputation":71,"user_id":8946302,"display_name":"Vinayak Nathjogi"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1510762363,"creation_date":1510761446,"answer_id":47311914,"question_id":19635275,"body_markdown":"\r\n\r\n    ///// FOR PDBOX 2.0.X\r\n    //  FOR ADDING DYNAMIC PAGE ACCORDING THE LENGTH OF THE CONTENT\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.apache.pdfbox.pdmodel.PDDocument;\r\n    import org.apache.pdfbox.pdmodel.PDPage;\r\n    import org.apache.pdfbox.pdmodel.PDPageContentStream;\r\n    import org.apache.pdfbox.pdmodel.common.PDRectangle;\r\n    import org.apache.pdfbox.pdmodel.font.PDFont;\r\n    import org.apache.pdfbox.pdmodel.font.PDType1Font;\r\n      \r\n    public class Document_Creation {\r\n        \r\n       public static void main (String args[]) throws IOException {\r\n           \r\n    \t   PDDocument doc = null;\r\n    \t   try\r\n    \t   {\r\n    \t       doc = new PDDocument();\r\n    \t       PDPage page = new PDPage();\r\n    \t       doc.addPage(page);\r\n    \t       PDPageContentStream contentStream = new PDPageContentStream(doc, page);\r\n    \r\n    \t       PDFont pdfFont = PDType1Font.HELVETICA;\r\n    \t       float fontSize = 25;\r\n    \t       float leading = 1.5f * fontSize;\r\n    \r\n    \t       PDRectangle mediabox = page.getMediaBox();\r\n    \t       float margin = 72;\r\n    \t       float width = mediabox.getWidth() - 2*margin;\r\n    \t       float startX = mediabox.getLowerLeftX() + margin;\r\n    \t       float startY = mediabox.getUpperRightY() - margin;\r\n    \r\n    \t       String text = &quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.An essay is, generally, a piece of writing that gives the author&#39;s own argument — but the definition is vague, overlapping with those of an article, a pamphlet, and a short story. Essays have traditionally been sub-classified as formal and informal. Formal essays are characterized by serious purpose, dignity, logical organization, length,whereas the informal essay is characterized by the personal element (self-revelation, individual tastes and experiences, confidential manner), humor, graceful style, rambling structure, unconventionality or novelty of theme.Lastly, one of the most attractive features of cats as housepets is their ease of care. Cats do not have to be walked. They get plenty of exercise in the house as they play, and they do their business in the litter box. Cleaning a litter box is a quick, painless procedure. Cats also take care of their own grooming. Bathing a cat is almost never necessary because under ordinary circumstances cats clean themselves. Cats are more particular about personal cleanliness than people are. In addition, cats can be left home alone for a few hours without fear. Unlike some pets, most cats will not destroy the furnishings when left alone. They are content to go about their usual activities until their owners return.&quot;; \r\n    \t       List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\r\n    \t       int lastSpace = -1;\r\n    \t       while (text.length() &gt; 0)\r\n    \t       {\r\n    \t           int spaceIndex = text.indexOf(&#39; &#39;, lastSpace + 1);\r\n    \t           if (spaceIndex &lt; 0)\r\n    \t               spaceIndex = text.length();\r\n    \t           String subString = text.substring(0, spaceIndex);\r\n    \t           float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\r\n    \t           System.out.printf(&quot;&#39;%s&#39; - %f of %f\\n&quot;, subString, size, width);\r\n    \t           if (size &gt; width)\r\n    \t           {\r\n    \t               if (lastSpace &lt; 0)\r\n    \t                   lastSpace = spaceIndex;\r\n    \t               subString = text.substring(0, lastSpace);\r\n    \t               lines.add(subString);\r\n    \t               text = text.substring(lastSpace).trim();\r\n    \t               System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, subString);\r\n    \t               lastSpace = -1;\r\n    \t           }\r\n    \t           else if (spaceIndex == text.length())\r\n    \t           {\r\n    \t               lines.add(text);\r\n    \t               System.out.printf(&quot;&#39;%s&#39; is line\\n&quot;, text);\r\n    \t               text = &quot;&quot;;\r\n    \t           }\r\n    \t           else\r\n    \t           {\r\n    \t               lastSpace = spaceIndex;\r\n    \t           }\r\n    \t       }\r\n    \r\n    \t       contentStream.beginText();\r\n    \t       contentStream.setFont(pdfFont, fontSize);\r\n    \t       contentStream.newLineAtOffset(startX, startY);\r\n    \t       float currentY=startY;\r\n    \t       for (String line: lines)\r\n    \t       {\r\n    \t    \t   currentY -=leading;\r\n    \t    \t   \r\n    \t    \t   if(currentY&lt;=margin)\r\n    \t    \t   {\r\n    \t    \t\t   \r\n    \t    \t       contentStream.endText(); \r\n    \t    \t       contentStream.close();\r\n    \t    \t       PDPage new_Page = new PDPage();\r\n    \t    \t       doc.addPage(new_Page);\r\n    \t    \t       contentStream = new PDPageContentStream(doc, new_Page);\r\n    \t    \t       contentStream.beginText();\r\n    \t    \t       contentStream.setFont(pdfFont, fontSize);\r\n    \t    \t       contentStream.newLineAtOffset(startX, startY);\r\n    \t    \t       currentY=startY;\r\n    \t    \t   }\r\n    \t           contentStream.showText(line);\r\n    \t           contentStream.newLineAtOffset(0, -leading);\r\n    \t       }\r\n    \t       contentStream.endText(); \r\n    \t       contentStream.close();\r\n    \r\n    \t       doc.save(&quot;C:/Users/VINAYAK/Desktop/docccc/break-long-string.pdf&quot;);\r\n    \t   }\r\n    \t   finally\r\n    \t   {\r\n    \t       if (doc != null)\r\n    \t       {\r\n    \t           doc.close();\r\n    \t       }\r\n    \t   }\r\n    \r\n       }  \r\n    }\r\n\r\n[![Output][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/mopfd.png","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<pre><code>///// FOR PDBOX 2.0.X\n//  FOR ADDING DYNAMIC PAGE ACCORDING THE LENGTH OF THE CONTENT\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.pdfbox.pdmodel.PDDocument;\nimport org.apache.pdfbox.pdmodel.PDPage;\nimport org.apache.pdfbox.pdmodel.PDPageContentStream;\nimport org.apache.pdfbox.pdmodel.common.PDRectangle;\nimport org.apache.pdfbox.pdmodel.font.PDFont;\nimport org.apache.pdfbox.pdmodel.font.PDType1Font;\n\npublic class Document_Creation {\n\n   public static void main (String args[]) throws IOException {\n\n       PDDocument doc = null;\n       try\n       {\n           doc = new PDDocument();\n           PDPage page = new PDPage();\n           doc.addPage(page);\n           PDPageContentStream contentStream = new PDPageContentStream(doc, page);\n\n           PDFont pdfFont = PDType1Font.HELVETICA;\n           float fontSize = 25;\n           float leading = 1.5f * fontSize;\n\n           PDRectangle mediabox = page.getMediaBox();\n           float margin = 72;\n           float width = mediabox.getWidth() - 2*margin;\n           float startX = mediabox.getLowerLeftX() + margin;\n           float startY = mediabox.getUpperRightY() - margin;\n\n           String text = \"I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox.An essay is, generally, a piece of writing that gives the author's own argument — but the definition is vague, overlapping with those of an article, a pamphlet, and a short story. Essays have traditionally been sub-classified as formal and informal. Formal essays are characterized by serious purpose, dignity, logical organization, length,whereas the informal essay is characterized by the personal element (self-revelation, individual tastes and experiences, confidential manner), humor, graceful style, rambling structure, unconventionality or novelty of theme.Lastly, one of the most attractive features of cats as housepets is their ease of care. Cats do not have to be walked. They get plenty of exercise in the house as they play, and they do their business in the litter box. Cleaning a litter box is a quick, painless procedure. Cats also take care of their own grooming. Bathing a cat is almost never necessary because under ordinary circumstances cats clean themselves. Cats are more particular about personal cleanliness than people are. In addition, cats can be left home alone for a few hours without fear. Unlike some pets, most cats will not destroy the furnishings when left alone. They are content to go about their usual activities until their owners return.\"; \n           List&lt;String&gt; lines = new ArrayList&lt;String&gt;();\n           int lastSpace = -1;\n           while (text.length() &gt; 0)\n           {\n               int spaceIndex = text.indexOf(' ', lastSpace + 1);\n               if (spaceIndex &lt; 0)\n                   spaceIndex = text.length();\n               String subString = text.substring(0, spaceIndex);\n               float size = fontSize * pdfFont.getStringWidth(subString) / 1000;\n               System.out.printf(\"'%s' - %f of %f\\n\", subString, size, width);\n               if (size &gt; width)\n               {\n                   if (lastSpace &lt; 0)\n                       lastSpace = spaceIndex;\n                   subString = text.substring(0, lastSpace);\n                   lines.add(subString);\n                   text = text.substring(lastSpace).trim();\n                   System.out.printf(\"'%s' is line\\n\", subString);\n                   lastSpace = -1;\n               }\n               else if (spaceIndex == text.length())\n               {\n                   lines.add(text);\n                   System.out.printf(\"'%s' is line\\n\", text);\n                   text = \"\";\n               }\n               else\n               {\n                   lastSpace = spaceIndex;\n               }\n           }\n\n           contentStream.beginText();\n           contentStream.setFont(pdfFont, fontSize);\n           contentStream.newLineAtOffset(startX, startY);\n           float currentY=startY;\n           for (String line: lines)\n           {\n               currentY -=leading;\n\n               if(currentY&lt;=margin)\n               {\n\n                   contentStream.endText(); \n                   contentStream.close();\n                   PDPage new_Page = new PDPage();\n                   doc.addPage(new_Page);\n                   contentStream = new PDPageContentStream(doc, new_Page);\n                   contentStream.beginText();\n                   contentStream.setFont(pdfFont, fontSize);\n                   contentStream.newLineAtOffset(startX, startY);\n                   currentY=startY;\n               }\n               contentStream.showText(line);\n               contentStream.newLineAtOffset(0, -leading);\n           }\n           contentStream.endText(); \n           contentStream.close();\n\n           doc.save(\"C:/Users/VINAYAK/Desktop/docccc/break-long-string.pdf\");\n       }\n       finally\n       {\n           if (doc != null)\n           {\n               doc.close();\n           }\n       }\n\n   }  \n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/mopfd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mopfd.png\" alt=\"Output\"></a></p>\n"},{"tags":[],"owner":{"account_id":7717417,"reputation":4037,"user_id":5844686,"display_name":"Big Pumpkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607813889,"creation_date":1607813889,"answer_id":65270709,"question_id":19635275,"body_markdown":"[Pdfbox-layout][1] abstracts out all the tedious details of managing the layout. As a complete Kotlin example, here is how to convert a text file to a pdf without worrying about line wrapping and pagination.\r\n\r\n    import org.apache.pdfbox.pdmodel.font.PDType1Font\r\n    import rst.pdfbox.layout.elements.Document\r\n    import rst.pdfbox.layout.elements.Paragraph\r\n    import java.io.File\r\n\r\n    fun main() {\r\n        val textFile = &quot;input.txt&quot;\r\n        val pdfFile = &quot;output.pdf&quot;\r\n        val font = PDType1Font.COURIER\r\n        val fontSize = 12f\r\n\r\n        val document = Document(40f, 50f, 40f, 60f)\r\n        val paragraph = Paragraph()\r\n        File(textFile).forEachLine {\r\n            paragraph.addText(&quot;$it\\n&quot;, fontSize, font)\r\n        }\r\n        document.add(paragraph)\r\n        document.save(File(pdfFile))\r\n    }\r\n\r\n\r\n  [1]: https://github.com/ralfstuckert/pdfbox-layout","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p><a href=\"https://github.com/ralfstuckert/pdfbox-layout\" rel=\"nofollow noreferrer\">Pdfbox-layout</a> abstracts out all the tedious details of managing the layout. As a complete Kotlin example, here is how to convert a text file to a pdf without worrying about line wrapping and pagination.</p>\n<pre><code>import org.apache.pdfbox.pdmodel.font.PDType1Font\nimport rst.pdfbox.layout.elements.Document\nimport rst.pdfbox.layout.elements.Paragraph\nimport java.io.File\n\nfun main() {\n    val textFile = &quot;input.txt&quot;\n    val pdfFile = &quot;output.pdf&quot;\n    val font = PDType1Font.COURIER\n    val fontSize = 12f\n\n    val document = Document(40f, 50f, 40f, 60f)\n    val paragraph = Paragraph()\n    File(textFile).forEachLine {\n        paragraph.addText(&quot;$it\\n&quot;, fontSize, font)\n    }\n    document.add(paragraph)\n    document.save(File(pdfFile))\n}\n</code></pre>\n"}],"owner":{"account_id":3268206,"reputation":647,"user_id":2752226,"display_name":"Ronald James"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62060,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":19683618,"answer_count":6,"score":47,"last_activity_date":1701812067,"creation_date":1382964643,"question_id":19635275,"body_markdown":"I am using Pdfbox to generate PDF files using Java. The problem is that when i add long text contents in the document, it is not displayed properly. Only a part of it is displayed. That too in a single line.\r\n\r\nI want text to be in multiple lines.\r\n\r\nMy code is given below:\r\n\r\n    PDPageContentStream pdfContent=new PDPageContentStream(pdfDocument, pdfPage, true, true);\r\n\r\n    pdfContent.beginText();\r\n    pdfContent.setFont(pdfFont, 11);\r\n    pdfContent.moveTextPositionByAmount(30,750);            \r\n    pdfContent.drawString(&quot;I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox&quot;);\r\n    pdfContent.endText();\r\n\r\n    \r\nMy output:\r\n\r\n![This is my output file][1]\r\n\r\n  [1]: http://i.stack.imgur.com/1IePg.png","title":"How to generate multiple lines in PDF using Apache pdfbox","body":"<p>I am using Pdfbox to generate PDF files using Java. The problem is that when i add long text contents in the document, it is not displayed properly. Only a part of it is displayed. That too in a single line.</p>\n\n<p>I want text to be in multiple lines.</p>\n\n<p>My code is given below:</p>\n\n<pre><code>PDPageContentStream pdfContent=new PDPageContentStream(pdfDocument, pdfPage, true, true);\n\npdfContent.beginText();\npdfContent.setFont(pdfFont, 11);\npdfContent.moveTextPositionByAmount(30,750);            \npdfContent.drawString(\"I am trying to create a PDF file with a lot of text contents in the document. I am using PDFBox\");\npdfContent.endText();\n</code></pre>\n\n<p>My output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/1IePg.png\" alt=\"This is my output file\"></p>\n"},{"tags":["java","spring","spring-boot","javabeans","spring-bean"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1701705859,"post_id":77600703,"comment_id":136805937,"body_markdown":"**key.enabled** is not a boolean; try with `@ConditionalOnProperty(name = &quot;key.enabled&quot;, havingValue =&quot;on&quot;, matchIfMissing = true)`","body":"<b>key.enabled</b> is not a boolean; try with <code>@ConditionalOnProperty(name = &quot;key.enabled&quot;, havingValue =&quot;on&quot;, matchIfMissing = true)</code>"},{"owner":{"account_id":9525384,"reputation":512,"user_id":7078743,"accept_rate":43,"display_name":"kcsurapaneni"},"score":0,"creation_date":1701738424,"post_id":77600703,"comment_id":136810538,"body_markdown":"I can see it loads both `TestConfig` and `NoConfig`. Tested it in my local. Can you push a sample code to GitHub, so that we can tell what&#39;s wrong","body":"I can see it loads both <code>TestConfig</code> and <code>NoConfig</code>. Tested it in my local. Can you push a sample code to GitHub, so that we can tell what&#39;s wrong"}],"answers":[{"comments":[{"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"score":0,"creation_date":1701706561,"post_id":77600838,"comment_id":136806087,"body_markdown":"I already did it, see: @Profile(&quot;test&quot;)\n    public class TestConfig","body":"I already did it, see: @Profile(&quot;test&quot;)     public class TestConfig"},{"owner":{"account_id":20279877,"reputation":28,"user_id":14874053,"display_name":"Сестренка 8 лет"},"score":0,"creation_date":1701709717,"post_id":77600838,"comment_id":136806735,"body_markdown":"No I mean the @TestConfiguration annotation. See : https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/TestConfiguration.html","body":"No I mean the @TestConfiguration annotation. See : <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/test/context/TestConfiguration.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>"},{"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"score":0,"creation_date":1701721843,"post_id":77600838,"comment_id":136808741,"body_markdown":"Unfortunately it doesnt change anything to use TestConfiguration instead of Configuration annotation on this class.","body":"Unfortunately it doesnt change anything to use TestConfiguration instead of Configuration annotation on this class."},{"owner":{"account_id":20279877,"reputation":28,"user_id":14874053,"display_name":"Сестренка 8 лет"},"score":0,"creation_date":1701811657,"post_id":77600838,"comment_id":136821126,"body_markdown":"@jd466 try to add `havingValue` attribute in `@ConditionalOnProperty` annotation and change `key.enabled` attribute in yaml file to set the value of it to `true`","body":"@jd466 try to add <code>havingValue</code> attribute in <code>@ConditionalOnProperty</code> annotation and change <code>key.enabled</code> attribute in yaml file to set the value of it to <code>true</code>"}],"tags":[],"owner":{"account_id":20279877,"reputation":28,"user_id":14874053,"display_name":"Сестренка 8 лет"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701811737,"creation_date":1701705444,"answer_id":77600838,"question_id":77600703,"body_markdown":"Bean `NoConfig` you have is always created when there is no bean `Config`. You can try to use `@TestConfiguration` to define beans needed for a particular test, or you can write a `BeanFactoryPostProcessor` to exclude unnecessary bean from initialisation\r\n\r\nOr try to add `havingValue` attribute in `@ConditionalOnProperty` annotation and change `key.enabled` attribute in yaml file to set the value of it to `true`","title":"Loading the right bean in the test profile in Spring boot","body":"<p>Bean <code>NoConfig</code> you have is always created when there is no bean <code>Config</code>. You can try to use <code>@TestConfiguration</code> to define beans needed for a particular test, or you can write a <code>BeanFactoryPostProcessor</code> to exclude unnecessary bean from initialisation</p>\n<p>Or try to add <code>havingValue</code> attribute in <code>@ConditionalOnProperty</code> annotation and change <code>key.enabled</code> attribute in yaml file to set the value of it to <code>true</code></p>\n"}],"owner":{"account_id":5988394,"reputation":549,"user_id":4705229,"accept_rate":97,"display_name":"jd466"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701811737,"creation_date":1701704206,"question_id":77600703,"body_markdown":"My application.yaml has the following entries: \r\n\r\n    spring:\r\n      profiles:\r\n        active: test\r\n        include: h2, test\r\n    key:\r\n     enabled: on\r\n\r\n\r\nI have the following three bean definitions and would like to load the TestConfig bean in my tests. But it takes NoConfig Bean in the tests:\r\n\r\n\r\n        @ConditionalOnProperty(name = &quot;key.enabled&quot;, matchIfMissing = true)\r\n        @Profile(&quot;test&quot;)\r\n        public class TestConfig {}\r\n    \r\n        @ConditionalOnMissingBean(Config.class)\r\n        public class NoConfig {}\r\n    \r\n       @ConditionalOnProperty(name = &quot;key.enabled&quot;, matchIfMissing = true)\r\n       @Profile(&quot;!test&quot;)\r\n       public class Config{}\r\n\r\nI also check the active profile in the test, and it is indeed test profile. \r\n\r\n    @Value(&quot;${spring.profiles.active:Unknown}&quot;)\r\n    private String activeProfile;\r\n\r\n\r\n","title":"Loading the right bean in the test profile in Spring boot","body":"<p>My application.yaml has the following entries:</p>\n<pre><code>spring:\n  profiles:\n    active: test\n    include: h2, test\nkey:\n enabled: on\n</code></pre>\n<p>I have the following three bean definitions and would like to load the TestConfig bean in my tests. But it takes NoConfig Bean in the tests:</p>\n<pre><code>    @ConditionalOnProperty(name = &quot;key.enabled&quot;, matchIfMissing = true)\n    @Profile(&quot;test&quot;)\n    public class TestConfig {}\n\n    @ConditionalOnMissingBean(Config.class)\n    public class NoConfig {}\n\n   @ConditionalOnProperty(name = &quot;key.enabled&quot;, matchIfMissing = true)\n   @Profile(&quot;!test&quot;)\n   public class Config{}\n</code></pre>\n<p>I also check the active profile in the test, and it is indeed test profile.</p>\n<pre><code>@Value(&quot;${spring.profiles.active:Unknown}&quot;)\nprivate String activeProfile;\n</code></pre>\n"},{"tags":["java","spring-boot","websocket","google-cloud-pubsub","google-cloud-run"],"comments":[{"owner":{"account_id":1136268,"reputation":15739,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"score":0,"creation_date":1701774868,"post_id":77603512,"comment_id":136814668,"body_markdown":"This question is a little too general. You would need to detail certain things you have tried and issues you are having with them so that there is more focus.","body":"This question is a little too general. You would need to detail certain things you have tried and issues you are having with them so that there is more focus."},{"owner":{"account_id":3851330,"reputation":101,"user_id":3191449,"display_name":"user3191449"},"score":0,"creation_date":1701811489,"post_id":77603512,"comment_id":136821100,"body_markdown":"@KamalAboul-Hosn added a couple more paragraphs at the end describing what I&#39;m trying to do and what I&#39;ve seen and tried already.  does that make it less general?","body":"@KamalAboul-Hosn added a couple more paragraphs at the end describing what I&#39;m trying to do and what I&#39;ve seen and tried already.  does that make it less general?"}],"owner":{"account_id":3851330,"reputation":101,"user_id":3191449,"display_name":"user3191449"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701811444,"creation_date":1701743101,"question_id":77603512,"body_markdown":"A tutorial published by Google describes how to build a Chat services using WebSockets and Redis Pub/Sub: https://cloud.google.com/run/docs/tutorials/websockets\r\n\r\nThe tutorial uses Node.js with Redis Pub/Sub on the server side.  It also uses the socket.io redis adapter to ensure that emitted events are broadcast across all Cloud Run instances so that all connected WebSockets have a chance at processing the event regardless as to which server instance it is connected to.\r\n\r\nThe client and server code can then be written as if there is logically one cloud run service with access to all socket.io rooms.  The client can join a room and listen for events, and the server to emit events to any room it wants knowing that it will make it to all subscribers.\r\n\r\n\r\n\r\nHow would the same thing be achieved using a Spring Boot based service on cloud run, and Google&#39;s Pub/Sub as the Pub/Sub mechanism?  I&#39;m not so concerned about the storing of messages.  Rather, I&#39;m trying to figure out how to get events that are published to a topic to get broadcast to the correct WebSocket that is associated with some kind of room or conversation id.\r\n\r\nThe Redis Pub/Sub and Adapter solution seems to only be available in Node.js.  And I&#39;m not sure what it&#39;s doing under the hood to efficiently broadcast events to all instances of the service in order to ensure that it gets delivered to the right WebSocket.  My best guess is that it would involve a fanout mechanism in pub/sub along with some ConcurrentHashMaps to keep track of all the connected WebSockets.\r\n\r\nIf there are any open source libraries or tools that can simplify some of this that would be ideal.  I would work with STOMP potentially, however in my situation RabbitMQ is not available.  Only Google Pub/Sub.\r\n\r\nSurely there&#39;s a way to do the same thing this tutorial does but in Java with the same level of simplicity.\r\n\r\nSpecifically I want to allow each WebSocket connection to subscribe to a conversation.  Any time a producer publishes a message associated with that conversation, I want the subscribed WebSocketSessions to receive that message.\r\n\r\nWith STOMP, the front end could subscribe to /topic/conv12345 and producers could publish to it.  In the linked tutorial it used socket.io rooms.  I&#39;m trying to do it with Google Pub/Sub which is not a STOMP relay broker.","title":"WebSockets in Cloud Run, but with Spring","body":"<p>A tutorial published by Google describes how to build a Chat services using WebSockets and Redis Pub/Sub: <a href=\"https://cloud.google.com/run/docs/tutorials/websockets\" rel=\"nofollow noreferrer\">https://cloud.google.com/run/docs/tutorials/websockets</a></p>\n<p>The tutorial uses Node.js with Redis Pub/Sub on the server side.  It also uses the socket.io redis adapter to ensure that emitted events are broadcast across all Cloud Run instances so that all connected WebSockets have a chance at processing the event regardless as to which server instance it is connected to.</p>\n<p>The client and server code can then be written as if there is logically one cloud run service with access to all socket.io rooms.  The client can join a room and listen for events, and the server to emit events to any room it wants knowing that it will make it to all subscribers.</p>\n<p>How would the same thing be achieved using a Spring Boot based service on cloud run, and Google's Pub/Sub as the Pub/Sub mechanism?  I'm not so concerned about the storing of messages.  Rather, I'm trying to figure out how to get events that are published to a topic to get broadcast to the correct WebSocket that is associated with some kind of room or conversation id.</p>\n<p>The Redis Pub/Sub and Adapter solution seems to only be available in Node.js.  And I'm not sure what it's doing under the hood to efficiently broadcast events to all instances of the service in order to ensure that it gets delivered to the right WebSocket.  My best guess is that it would involve a fanout mechanism in pub/sub along with some ConcurrentHashMaps to keep track of all the connected WebSockets.</p>\n<p>If there are any open source libraries or tools that can simplify some of this that would be ideal.  I would work with STOMP potentially, however in my situation RabbitMQ is not available.  Only Google Pub/Sub.</p>\n<p>Surely there's a way to do the same thing this tutorial does but in Java with the same level of simplicity.</p>\n<p>Specifically I want to allow each WebSocket connection to subscribe to a conversation.  Any time a producer publishes a message associated with that conversation, I want the subscribed WebSocketSessions to receive that message.</p>\n<p>With STOMP, the front end could subscribe to /topic/conv12345 and producers could publish to it.  In the linked tutorial it used socket.io rooms.  I'm trying to do it with Google Pub/Sub which is not a STOMP relay broker.</p>\n"},{"tags":["java","jpa","jta"],"comments":[{"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"score":0,"creation_date":1458358267,"post_id":36096092,"comment_id":59838907,"body_markdown":"Can you check in your entity class that you have imported  `javax.persistence.Entity` instead of `org.hibernate.annotations.Entity` and did you make JPA aware of this entity through mapping tag of `persistence.xml` or `component-scan` etc","body":"Can you check in your entity class that you have imported  <code>javax.persistence.Entity</code> instead of <code>org.hibernate.annotations.Entity</code> and did you make JPA aware of this entity through mapping tag of <code>persistence.xml</code> or <code>component-scan</code> etc"},{"owner":{"account_id":3025716,"reputation":97,"user_id":2565786,"display_name":"Felipe Cabral"},"score":0,"creation_date":1458388419,"post_id":36096092,"comment_id":59845702,"body_markdown":"So, I&#39;m using just `javax.persistence.Entity` into my project. I believe that this problem not happened for this reason. Now a new error happens after implements SqlResultSetMapping. Do you know if i need some special library?","body":"So, I&#39;m using just <code>javax.persistence.Entity</code> into my project. I believe that this problem not happened for this reason. Now a new error happens after implements SqlResultSetMapping. Do you know if i need some special library?"}],"answers":[{"comments":[{"owner":{"account_id":3025716,"reputation":97,"user_id":2565786,"display_name":"Felipe Cabral"},"score":0,"creation_date":1458388178,"post_id":36096286,"comment_id":59845616,"body_markdown":"I have improve my question, putting new result of my test applying your suggestion of using SqlResultSetMapping and putting the resultList into a generic Object list but dont works too. Thanks for your time.","body":"I have improve my question, putting new result of my test applying your suggestion of using SqlResultSetMapping and putting the resultList into a generic Object list but dont works too. Thanks for your time."}],"tags":[],"owner":{"account_id":4151180,"reputation":880,"user_id":3403603,"display_name":"neal"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1458346273,"creation_date":1458346273,"answer_id":36096286,"question_id":36096092,"body_markdown":"if you want to return a native query&#39;s results to an object I would suggest using [SqlResultSetMapping][1].\r\n\r\nOtherwise, set your return type to:\r\n\r\n    List&lt;Object[]&gt; results = em.createNativeQuery(query)\r\n                    .setParameter(1, numeroCeps)\r\n                    .setParameter(2, numeroComplementoCeps)\r\n                    .getResultList();\r\n\r\n \r\nAnd then loop through the result list, and cast each member of the Object array to its data type.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/persistence/SqlResultSetMapping.html","title":"Caused by: org.hibernate.MappingException: Unknown entity: New Object. JTA","body":"<p>if you want to return a native query's results to an object I would suggest using <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/SqlResultSetMapping.html\" rel=\"nofollow\">SqlResultSetMapping</a>.</p>\n\n<p>Otherwise, set your return type to:</p>\n\n<pre><code>List&lt;Object[]&gt; results = em.createNativeQuery(query)\n                .setParameter(1, numeroCeps)\n                .setParameter(2, numeroComplementoCeps)\n                .getResultList();\n</code></pre>\n\n<p>And then loop through the result list, and cast each member of the Object array to its data type.</p>\n"},{"comments":[{"owner":{"account_id":3025716,"reputation":97,"user_id":2565786,"display_name":"Felipe Cabral"},"score":0,"creation_date":1458388131,"post_id":36096359,"comment_id":59845602,"body_markdown":"It was my fault but even fix this code part, don&#39;t works yet. I have improve my question, putting new result of my test applying your suggestion of using SqlResultSetMapping but dont works too. Thanks for your time.","body":"It was my fault but even fix this code part, don&#39;t works yet. I have improve my question, putting new result of my test applying your suggestion of using SqlResultSetMapping but dont works too. Thanks for your time."}],"tags":[],"owner":{"account_id":2386830,"reputation":7918,"user_id":2087640,"accept_rate":82,"display_name":"Gab"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458346806,"creation_date":1458346806,"answer_id":36096359,"question_id":36096092,"body_markdown":" List&lt;**UnidadeTeste**&gt; lsita = new ArrayList&lt;**UnidadeTeste**&gt;();\r\n\r\nlsita = em.createNativeQuery(query, **Unidade**.class)\r\n\r\nThere is a type mismatch here. The exception is clear : Unknown entity: br.com.project.modelo.**UnidadeTeste**\r\n\r\nYour entity is Unidade and you must so return a `List&lt;Unidade&gt;` not `UnidadeTeste`.\r\n\r\nOtherwise try [SqlResultSetMapping][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/7/api/javax/persistence/SqlResultSetMapping.html","title":"Caused by: org.hibernate.MappingException: Unknown entity: New Object. JTA","body":"<p>List&lt;<strong>UnidadeTeste</strong>> lsita = new ArrayList&lt;<strong>UnidadeTeste</strong>>();</p>\n\n<p>lsita = em.createNativeQuery(query, <strong>Unidade</strong>.class)</p>\n\n<p>There is a type mismatch here. The exception is clear : Unknown entity: br.com.project.modelo.<strong>UnidadeTeste</strong></p>\n\n<p>Your entity is Unidade and you must so return a <code>List&lt;Unidade&gt;</code> not <code>UnidadeTeste</code>.</p>\n\n<p>Otherwise try <a href=\"http://docs.oracle.com/javaee/7/api/javax/persistence/SqlResultSetMapping.html\" rel=\"nofollow\">SqlResultSetMapping</a></p>\n"},{"tags":[],"owner":{"account_id":3025716,"reputation":97,"user_id":2565786,"display_name":"Felipe Cabral"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487355390,"creation_date":1458398125,"answer_id":36103008,"question_id":36096092,"body_markdown":"My solution was:\r\n\r\nIn this topic:https://stackoverflow.com/questions/30595445/how-to-map-a-native-query-to-a-pojo-when-i-do-not-have-any-entity-on-my-project\r\nare describe exactly my problem. But even reading before, I could not understand a little detail, that solved my problem.\r\n\r\nEven creating a simple entity for receiver a result of my query, is necessary to map my class into persistence.xml. this was my mistake!\r\n\r\nSo, my project now:\r\n\r\npersistence.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence version=&quot;2.0&quot;\r\n    \txmlns=&quot;http://java.sun.com/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;&gt;\r\n    \t\r\n    \t&lt;persistence-unit name=&quot;projetoAtividade&quot; transaction-type=&quot;JTA&quot;&gt;\r\n    \t\t&lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n    \t\t&lt;jta-data-source&gt;java:/projetoAtividade&lt;/jta-data-source&gt;\r\n    \t\t\r\n            //another classes\r\n\r\n    \t\t&lt;class&gt;br.com.project.modelo.UnidadeTeste&lt;/class&gt;\r\n\r\n            //properties of connection\r\n\r\nUnidadeTeste.class:\r\n\r\n    package br.com.project.modelo;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class UnidadeTeste {\r\n    \r\n    \t@Id\r\n    \tprivate Long id;\r\n    \r\n    \tprivate String description;\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    }\r\n\r\nEJB:\r\n\r\n\t\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic void testeChamada(){\r\n    \t\tList&lt;UnidadeTeste&gt; lista = em.createNativeQuery(&quot;SELECT nu_idntr_pessoa AS id, email AS description FROM Pessoa&quot;, UnidadeTeste.class).getResultList();\r\n    \t\tSystem.out.println(&quot;===============&gt;&gt;&quot;+lista.size());\r\n    \t}\r\n    \t\r\nRemember that you need put aliases for column with the same name on attributes that you created in your class.","title":"Caused by: org.hibernate.MappingException: Unknown entity: New Object. JTA","body":"<p>My solution was:</p>\n\n<p>In this topic:<a href=\"https://stackoverflow.com/questions/30595445/how-to-map-a-native-query-to-a-pojo-when-i-do-not-have-any-entity-on-my-project\">How to map a Native Query to a POJO, when I do not have any Entity on my project?</a>\nare describe exactly my problem. But even reading before, I could not understand a little detail, that solved my problem.</p>\n\n<p>Even creating a simple entity for receiver a result of my query, is necessary to map my class into persistence.xml. this was my mistake!</p>\n\n<p>So, my project now:</p>\n\n<p>persistence.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence version=\"2.0\"\n    xmlns=\"http://java.sun.com/xml/ns/persistence\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd\"&gt;\n\n    &lt;persistence-unit name=\"projetoAtividade\" transaction-type=\"JTA\"&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;jta-data-source&gt;java:/projetoAtividade&lt;/jta-data-source&gt;\n\n        //another classes\n\n        &lt;class&gt;br.com.project.modelo.UnidadeTeste&lt;/class&gt;\n\n        //properties of connection\n</code></pre>\n\n<p>UnidadeTeste.class:</p>\n\n<pre><code>package br.com.project.modelo;\n\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class UnidadeTeste {\n\n    @Id\n    private Long id;\n\n    private String description;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n}\n</code></pre>\n\n<p>EJB:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\n    public void testeChamada(){\n        List&lt;UnidadeTeste&gt; lista = em.createNativeQuery(\"SELECT nu_idntr_pessoa AS id, email AS description FROM Pessoa\", UnidadeTeste.class).getResultList();\n        System.out.println(\"===============&gt;&gt;\"+lista.size());\n    }\n</code></pre>\n\n<p>Remember that you need put aliases for column with the same name on attributes that you created in your class.</p>\n"},{"tags":[],"owner":{"account_id":2405897,"reputation":53,"user_id":2102394,"display_name":"Nerssi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701810925,"creation_date":1701810925,"answer_id":77609275,"question_id":36096092,"body_markdown":"You should define a SqlResultSetMapping annotation as well and refer to it in your named native query annotation:\r\n\r\n    @SqlResultSetMapping(\r\n            name = &quot;nameToReferTO&quot;,\r\n            classes = @ConstructorResult(targetClass = X.class,\r\n                    columns = {@ColumnResult(name = &quot;A&quot;), @ColumnResult(name = &quot;B&quot;)})\r\n    )","title":"Caused by: org.hibernate.MappingException: Unknown entity: New Object. JTA","body":"<p>You should define a SqlResultSetMapping annotation as well and refer to it in your named native query annotation:</p>\n<pre><code>@SqlResultSetMapping(\n        name = &quot;nameToReferTO&quot;,\n        classes = @ConstructorResult(targetClass = X.class,\n                columns = {@ColumnResult(name = &quot;A&quot;), @ColumnResult(name = &quot;B&quot;)})\n)\n</code></pre>\n"}],"owner":{"account_id":3025716,"reputation":97,"user_id":2565786,"display_name":"Felipe Cabral"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14064,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":36096286,"answer_count":4,"score":1,"last_activity_date":1701810925,"creation_date":1458344818,"question_id":36096092,"body_markdown":"Due the complexity of my dataBase, i decided create a new Object where I specifying just the parameters that I will to use. To do custom query I&#39;m using createNativeQuery in JPA. Following my Object.\r\n\r\nPOJO:\r\n\r\n    @Entity\r\n    public class Unidade implements Serializable{\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \r\n    \tprivate Long numeroUnidade;\r\n    \tprivate String nomeUnidade;\r\n    \tprivate Integer numeroCep;\r\n    \tprivate Integer numeroCepComplemento;\r\n    \tprivate String tipoServico;\r\n    \tprivate Integer status;\r\n    \tprivate String logradouro;\r\n    \tprivate String bairro;\r\n    \tprivate String cidade;\r\n    \tprivate String uf;\r\n    \tprivate Integer statusVinculo; \r\n    \r\n       //getter and setters\r\n\r\nCurrently I&#39;m using the following select to return the simple integer and works without show any problem. \r\n\r\n    @PersistenceContext(unitName=&quot;projetoAtividade&quot;)\r\n    private EntityManager em;\r\n    \r\n    public void selectTeste(){\r\n    \t\tint quantidade = (Integer) em.createNativeQuery(&quot;select count(*) from abc.nattbu29_escritorio;&quot;).getSingleResult();\r\n    \t\tSystem.out.println(&quot;========== QUANTIDADE DE REGISTRO NA TABELA ===========&quot;);\r\n    \t\tSystem.out.println(quantidade);\r\n    \t}\r\n\r\nAlthough the previous query worked fine, when a submit a complex query putting the respective alias, using too createNativeQuery and putting the object return, the hibernate throw a exception (org.hibernate.MappingException: Unknown).\r\n\r\nRemembering that I create a new class putting @Entity specifying.\r\n\r\nQuery:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n        \tpublic List&lt;UnidadeTeste&gt; buscarUnidadeGenerica(int numeroCeps, int numeroComplementoCeps){\r\n        \t\tList&lt;UnidadeTeste&gt; lsita = new ArrayList&lt;UnidadeTeste&gt;();\r\n        \t\tString query = &quot;SELECT &quot;\r\n        \t\t\t\t+&quot;TBZ21.NATURAL as numeroPv, &quot;\r\n        \t\t\t\t+&quot;TBZ21.UNIDADE as nomePv, &quot;\r\n        \t\t\t\t+&quot;TBZ21.SITUACAO as statusVinculacao, &quot;\r\n        \t\t\t\t+&quot;TBJ55.TPO_ATUACAO_U44 as tipoServAZW, &quot;\r\n        \t\t\t\t+&quot;TBJ55.SITUACAO_ATUAL as status, &quot;\r\n        \t\t\t\t+&quot;TBH18.LOCALIDADE as cidade, &quot;\r\n        \t\t\t\t+&quot;&#39;&#39; as bairro, &quot;\r\n        \t\t\t\t+&quot;&#39;&#39; as logradouro, &quot;\r\n        \t\t\t\t+&quot;TBH18.CEP as numeroCep, &quot;\r\n        \t\t\t\t+&quot;TBH18.CEP_COMPLEMENTO as numeroCepComplemento, &quot;\r\n        \t\t\t\t+&quot;TBH18.FK_AZWVWL22_UNISG as uf &quot;\r\n        \t\t\t\t+&quot;FROM AZW.AZWTBJ55_RGATUACAO TBJ55 &quot;\r\n        \t\t\t\t+&quot;LEFT JOIN AZW.AZWTBH18_LOCALIDADE TBH18 ON &quot;\r\n        \t\t\t\t+&quot;TBH18.LOCALIDADEE = TBJ55.LOCALIDADEE &quot;\r\n        \t\t\t\t+&quot;LEFT JOIN AZW.AZWTBZ21_UNIDADE TBZ21 ON &quot;\r\n        \t\t\t\t+&quot;TBJ55.NATURAL = TBZ21.NATURAL &quot;\r\n        \t\t\t\t+&quot;WHERE TBH18.CEP = ?1 &quot;\r\n        \t\t\t\t\t+&quot;AND TBH18.CEP_COMPLEMENTO = ?2; &quot;\r\n        \t\t\r\n        \t\tlsita = em.createNativeQuery(query, Unidade.class)\r\n        \t\t\t\t.setParameter(1, numeroCeps)\r\n        \t\t\t\t.setParameter(2, numeroComplementoCeps)\r\n        \t\t\t\t.getResultList();\r\n        \t\tSystem.out.println(lsita.size()+&quot;&lt;&lt;&lt;&lt;=====================&quot;);\r\n        \t\treturn lsita;\r\n        \t}\r\n\r\nError:\r\n\r\n    Caused by: org.hibernate.MappingException: Unknown entity: br.com.project.modelo.UnidadeTeste\r\n    \tat org.hibernate.internal.SessionFactoryImpl.getEntityPersister(SessionFactoryImpl.java:1031) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.getSQLLoadable(SQLQueryReturnProcessor.java:336) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.processRootReturn(SQLQueryReturnProcessor.java:377) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.processReturn(SQLQueryReturnProcessor.java:356) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.process(SQLQueryReturnProcessor.java:172) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.loader.custom.sql.SQLCustomQuery.&lt;init&gt;(SQLCustomQuery.java:87) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.query.spi.NativeSQLQueryPlan.&lt;init&gt;(NativeSQLQueryPlan.java:67) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.engine.query.spi.QueryPlanCache.getNativeSQLQueryPlan(QueryPlanCache.java:155) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl.getNativeSQLQueryPlan(AbstractSessionImpl.java:218) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:224) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:156) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\r\n    \tat org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:252) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\r\n    \t... 84 more\r\nIn my search through the internet, almost all forum topics was unanimous in the solution answer: &quot; Put the @Entity before class declaration&quot; but, it not works to me.\r\n\r\nI had &quot;spent&quot; all my day trying looking for a solutions worked but, unfortunately, \r\nI not had successes. Someone can say a new way to solve my problem?\r\nI tested in 2 different project and hapens the same problem.\r\n\r\n\r\n**Question complement:**\r\n\r\nFolks, I tried create a @SqlResultSetMapping into my class, the coding following, but now, the hibernate trows the another exception:\r\n\r\n     ERROR [org.jboss.ejb3.invocation] (http--127.0.0.1-8888-2) JBAS014134: EJB Invocation failed on component AtividadeEJB for method public void br.com.project.jboss.modelo.AtividadeEJB.testeChamada(): javax.ejb.EJBException: javax.persistence.PersistenceException: org.hibernate.MappingException: Unknown SqlResultSetMapping [UnidadeResult]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:166) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:230) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\r\n    \tat org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\r\n\r\nMy new POJO:\r\n\r\n\r\n    @Entity\r\n    @SqlResultSetMapping(name=&quot;UnidadeResult&quot;, \r\n    entities={ \r\n        @EntityResult(entityClass=UnidadeTeste.class, fields={\r\n            @FieldResult(name=&quot;tx_descricao&quot;, column=&quot;nomePv&quot;),\r\n            @FieldResult(name=&quot;nu_idntr_pessoa&quot;, column=&quot;id&quot;)})},\r\n    columns={\r\n        @ColumnResult(name=&quot;nomePv&quot;)}\r\n    )\r\n    \r\n    \r\n    public class UnidadeTeste implements Serializable{\r\n    \t\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \tprivate Long id;\r\n    \t\r\n    \tprivate String nomePv;\r\n    \r\n    \tpublic String getNomePv() {\r\n    \t\treturn nomePv;\r\n    \t}\r\n    \r\n    \tpublic void setNomePv(String nomePv) {\r\n    \t\tthis.nomePv = nomePv;\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \t\r\nMy EJB:\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    \tpublic void testeChamada(){\r\n    \t\tList&lt;Object&gt; lista = em.createNativeQuery(&quot;SELECT nu_idntr_pessoa as id, email as nomePv FROM pessoa;&quot;, &quot;UnidadeResult&quot;).getResultList();\r\n    \t\tSystem.out.println(&quot;===============&gt;&gt;&quot;+lista.size());\r\n    \t}\r\n        \t","title":"Caused by: org.hibernate.MappingException: Unknown entity: New Object. JTA","body":"<p>Due the complexity of my dataBase, i decided create a new Object where I specifying just the parameters that I will to use. To do custom query I'm using createNativeQuery in JPA. Following my Object.</p>\n\n<p>POJO:</p>\n\n<pre><code>@Entity\npublic class Unidade implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n\n    private Long numeroUnidade;\n    private String nomeUnidade;\n    private Integer numeroCep;\n    private Integer numeroCepComplemento;\n    private String tipoServico;\n    private Integer status;\n    private String logradouro;\n    private String bairro;\n    private String cidade;\n    private String uf;\n    private Integer statusVinculo; \n\n   //getter and setters\n</code></pre>\n\n<p>Currently I'm using the following select to return the simple integer and works without show any problem. </p>\n\n<pre><code>@PersistenceContext(unitName=\"projetoAtividade\")\nprivate EntityManager em;\n\npublic void selectTeste(){\n        int quantidade = (Integer) em.createNativeQuery(\"select count(*) from abc.nattbu29_escritorio;\").getSingleResult();\n        System.out.println(\"========== QUANTIDADE DE REGISTRO NA TABELA ===========\");\n        System.out.println(quantidade);\n    }\n</code></pre>\n\n<p>Although the previous query worked fine, when a submit a complex query putting the respective alias, using too createNativeQuery and putting the object return, the hibernate throw a exception (org.hibernate.MappingException: Unknown).</p>\n\n<p>Remembering that I create a new class putting @Entity specifying.</p>\n\n<p>Query:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\n        public List&lt;UnidadeTeste&gt; buscarUnidadeGenerica(int numeroCeps, int numeroComplementoCeps){\n            List&lt;UnidadeTeste&gt; lsita = new ArrayList&lt;UnidadeTeste&gt;();\n            String query = \"SELECT \"\n                    +\"TBZ21.NATURAL as numeroPv, \"\n                    +\"TBZ21.UNIDADE as nomePv, \"\n                    +\"TBZ21.SITUACAO as statusVinculacao, \"\n                    +\"TBJ55.TPO_ATUACAO_U44 as tipoServAZW, \"\n                    +\"TBJ55.SITUACAO_ATUAL as status, \"\n                    +\"TBH18.LOCALIDADE as cidade, \"\n                    +\"'' as bairro, \"\n                    +\"'' as logradouro, \"\n                    +\"TBH18.CEP as numeroCep, \"\n                    +\"TBH18.CEP_COMPLEMENTO as numeroCepComplemento, \"\n                    +\"TBH18.FK_AZWVWL22_UNISG as uf \"\n                    +\"FROM AZW.AZWTBJ55_RGATUACAO TBJ55 \"\n                    +\"LEFT JOIN AZW.AZWTBH18_LOCALIDADE TBH18 ON \"\n                    +\"TBH18.LOCALIDADEE = TBJ55.LOCALIDADEE \"\n                    +\"LEFT JOIN AZW.AZWTBZ21_UNIDADE TBZ21 ON \"\n                    +\"TBJ55.NATURAL = TBZ21.NATURAL \"\n                    +\"WHERE TBH18.CEP = ?1 \"\n                        +\"AND TBH18.CEP_COMPLEMENTO = ?2; \"\n\n            lsita = em.createNativeQuery(query, Unidade.class)\n                    .setParameter(1, numeroCeps)\n                    .setParameter(2, numeroComplementoCeps)\n                    .getResultList();\n            System.out.println(lsita.size()+\"&lt;&lt;&lt;&lt;=====================\");\n            return lsita;\n        }\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>Caused by: org.hibernate.MappingException: Unknown entity: br.com.project.modelo.UnidadeTeste\n    at org.hibernate.internal.SessionFactoryImpl.getEntityPersister(SessionFactoryImpl.java:1031) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.getSQLLoadable(SQLQueryReturnProcessor.java:336) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.processRootReturn(SQLQueryReturnProcessor.java:377) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.processReturn(SQLQueryReturnProcessor.java:356) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.loader.custom.sql.SQLQueryReturnProcessor.process(SQLQueryReturnProcessor.java:172) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.loader.custom.sql.SQLCustomQuery.&lt;init&gt;(SQLCustomQuery.java:87) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.query.spi.NativeSQLQueryPlan.&lt;init&gt;(NativeSQLQueryPlan.java:67) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.engine.query.spi.QueryPlanCache.getNativeSQLQueryPlan(QueryPlanCache.java:155) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl.getNativeSQLQueryPlan(AbstractSessionImpl.java:218) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.AbstractSessionImpl.list(AbstractSessionImpl.java:224) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.internal.SQLQueryImpl.list(SQLQueryImpl.java:156) [hibernate-core-4.0.1.Final.jar:4.0.1.Final]\n    at org.hibernate.ejb.QueryImpl.getResultList(QueryImpl.java:252) [hibernate-entitymanager-4.0.1.Final.jar:4.0.1.Final]\n    ... 84 more\n</code></pre>\n\n<p>In my search through the internet, almost all forum topics was unanimous in the solution answer: \" Put the @Entity before class declaration\" but, it not works to me.</p>\n\n<p>I had \"spent\" all my day trying looking for a solutions worked but, unfortunately, \nI not had successes. Someone can say a new way to solve my problem?\nI tested in 2 different project and hapens the same problem.</p>\n\n<p><strong>Question complement:</strong></p>\n\n<p>Folks, I tried create a @SqlResultSetMapping into my class, the coding following, but now, the hibernate trows the another exception:</p>\n\n<pre><code> ERROR [org.jboss.ejb3.invocation] (http--127.0.0.1-8888-2) JBAS014134: EJB Invocation failed on component AtividadeEJB for method public void br.com.project.jboss.modelo.AtividadeEJB.testeChamada(): javax.ejb.EJBException: javax.persistence.PersistenceException: org.hibernate.MappingException: Unknown SqlResultSetMapping [UnidadeResult]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.handleExceptionInOurTx(CMTTxInterceptor.java:166) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.invokeInOurTx(CMTTxInterceptor.java:230) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.required(CMTTxInterceptor.java:304) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.as.ejb3.tx.CMTTxInterceptor.processInvocation(CMTTxInterceptor.java:190) [jboss-as-ejb3-7.1.1.Final.jar:7.1.1.Final]\n    at org.jboss.invocation.InterceptorContext.proceed(InterceptorContext.java:288) [jboss-invocation-1.1.1.Final.jar:1.1.1.Final]\n</code></pre>\n\n<p>My new POJO:</p>\n\n<pre><code>@Entity\n@SqlResultSetMapping(name=\"UnidadeResult\", \nentities={ \n    @EntityResult(entityClass=UnidadeTeste.class, fields={\n        @FieldResult(name=\"tx_descricao\", column=\"nomePv\"),\n        @FieldResult(name=\"nu_idntr_pessoa\", column=\"id\")})},\ncolumns={\n    @ColumnResult(name=\"nomePv\")}\n)\n\n\npublic class UnidadeTeste implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    private String nomePv;\n\n    public String getNomePv() {\n        return nomePv;\n    }\n\n    public void setNomePv(String nomePv) {\n        this.nomePv = nomePv;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n</code></pre>\n\n<p>My EJB:</p>\n\n<pre><code>@SuppressWarnings(\"unchecked\")\n    public void testeChamada(){\n        List&lt;Object&gt; lista = em.createNativeQuery(\"SELECT nu_idntr_pessoa as id, email as nomePv FROM pessoa;\", \"UnidadeResult\").getResultList();\n        System.out.println(\"===============&gt;&gt;\"+lista.size());\n    }\n</code></pre>\n"},{"tags":["java","maven","selenium-webdriver","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1701757783,"post_id":77604135,"comment_id":136812075,"body_markdown":"[Please do not upload images of code/data/errors.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors.</a>"}],"answers":[{"tags":[],"owner":{"account_id":17624374,"reputation":1,"user_id":12789666,"display_name":"ntchmbr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701809640,"creation_date":1701757520,"answer_id":77604185,"question_id":77604135,"body_markdown":"I figured out a simple solution for this issue. We needd to put next line on finish in custom testng listener.\r\n\r\n\r\n    public class TestNGListener implements ITestListener {\r\n\r\n    @Override\r\n    public void onFinish(ITestContext context) {\r\n        //This line is necessary to indent properly the online cucumber report outputs\r\n        System.out.println(&quot;\\n\\n&quot;);\r\n       }\r\n    }\r\n\r\n\r\n[Solution for console output][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bHuo0.png","title":"Online Cucumber Report Console Output In The Same Line","body":"<p>I figured out a simple solution for this issue. We needd to put next line on finish in custom testng listener.</p>\n<pre><code>public class TestNGListener implements ITestListener {\n\n@Override\npublic void onFinish(ITestContext context) {\n    //This line is necessary to indent properly the online cucumber report outputs\n    System.out.println(&quot;\\n\\n&quot;);\n   }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bHuo0.png\" rel=\"nofollow noreferrer\">Solution for console output</a></p>\n"}],"owner":{"account_id":17624374,"reputation":1,"user_id":12789666,"display_name":"ntchmbr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701809725,"creation_date":1701756572,"question_id":77604135,"body_markdown":"This is a selenium java project,and using Intellij Idea to run the test automation scenarios. It generates online cucumber report at the end. But as you can see in the image, unfortunately, it combines apache maven console logs and cucumber report. Where can i manipulate the console outputs to put some space?\r\n\r\n[cucumber report console output][1]\r\n\r\nThe first thing comes to my mind is Apache surefire plugin which provides loggs. I was thiking to customize a logger class and when i detect the report i can put some space between them. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ZTHN.jpg","title":"Online Cucumber Report Console Output In The Same Line","body":"<p>This is a selenium java project,and using Intellij Idea to run the test automation scenarios. It generates online cucumber report at the end. But as you can see in the image, unfortunately, it combines apache maven console logs and cucumber report. Where can i manipulate the console outputs to put some space?</p>\n<p><a href=\"https://i.stack.imgur.com/5ZTHN.jpg\" rel=\"nofollow noreferrer\">cucumber report console output</a></p>\n<p>The first thing comes to my mind is Apache surefire plugin which provides loggs. I was thiking to customize a logger class and when i detect the report i can put some space between them.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":13848741,"reputation":10825,"user_id":9997212,"display_name":"enzo"},"score":0,"creation_date":1701804138,"post_id":77608749,"comment_id":136820046,"body_markdown":"Are your `age*` variables integers and you want to store the count of each age of your objects?","body":"Are your <code>age*</code> variables integers and you want to store the count of each age of your objects?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":4,"creation_date":1701804724,"post_id":77608749,"comment_id":136820133,"body_markdown":"what should be assigned to the variables? The last found object with the corresponding age? The age? A list of objects with the respective object? The count of objects with that age? ... ? Maybe better show what you meant by showing how you would do it with single `for` loop (and why Java 8 Stream?)","body":"what should be assigned to the variables? The last found object with the corresponding age? The age? A list of objects with the respective object? The count of objects with that age? ... ? Maybe better show what you meant by showing how you would do it with single <code>for</code> loop (and why Java 8 Stream?)"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1701807625,"post_id":77608749,"comment_id":136820540,"body_markdown":"Could you put the example of the object? 1) It isn&#39;t clear - or you have a single variable &quot;age&quot;, or you have different variables &quot;age8, age16,....&quot;. 2) I do not understand what is contained in the List? Your objects? It seems you write about object fields - so this is very confusing. So: put the example of your object, the List creation, expected result","body":"Could you put the example of the object? 1) It isn&#39;t clear - or you have a single variable &quot;age&quot;, or you have different variables &quot;age8, age16,....&quot;. 2) I do not understand what is contained in the List? Your objects? It seems you write about object fields - so this is very confusing. So: put the example of your object, the List creation, expected result"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1701810120,"post_id":77608749,"comment_id":136820908,"body_markdown":"Please show example input and expected output, then vote to reopen.","body":"Please show example input and expected output, then vote to reopen."}],"answers":[{"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1701808709,"post_id":77609067,"comment_id":136820704,"body_markdown":"Could also do, `record MyObject(int age) {}` (if using JDK 14/17+) for simplicity. Note that `List.of` will not work in JDK8. You would have to use `Arrays.asList` and then make it immutable.","body":"Could also do, <code>record MyObject(int age) {}</code> (if using JDK 14/17+) for simplicity. Note that <code>List.of</code> will not work in JDK8. You would have to use <code>Arrays.asList</code> and then make it immutable."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1701809591,"post_id":77609067,"comment_id":136820829,"body_markdown":"Yep.  I glossed over the Java8 requirement.  Made the change.  Thanks!","body":"Yep.  I glossed over the Java8 requirement.  Made the change.  Thanks!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1701869719,"post_id":77609067,"comment_id":136828242,"body_markdown":"You can also use `Stream.of(new MyObject(8),new MyObject(10), new MyObject(12))` and omit the `List` detour.","body":"You can also use <code>Stream.of(new MyObject(8),new MyObject(10), new MyObject(12))</code> and omit the <code>List</code> detour."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1701871952,"post_id":77609067,"comment_id":136828708,"body_markdown":"@Holger i agree. I just did it with a list since the OP said  they they had a list of objects.","body":"@Holger i agree. I just did it with a list since the OP said  they they had a list of objects."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701809647,"creation_date":1701808015,"answer_id":77609067,"question_id":77608749,"body_markdown":"If I am to take you literally, you want to assign the of the age to it&#39;s properly named field.  To do this in streams without explicit conditionals to match the age to the field, you could use reflection.\r\n\r\n- first, declare some objects in a list.\r\n- then stream the objects and construct the field and assign the value to that field.\r\n\r\nThe following example prints\r\n```\r\nage8 = 8\r\nage10 = 10\r\nage12 = 12\r\n```\r\nThe Method\r\n```\r\npublic class ToFields {\r\n\r\n    int age8;\r\n    int age10;\r\n    int age12;\r\n    public static void main(String[] args) {\r\n        new ToFields().start();\r\n    }\r\n    public void start() {\r\n        List&lt;MyObject&gt; list = Arrays.asList(new MyObject(8),new \r\n                           MyObject(10), new MyObject(12));\r\n        list.stream()\r\n          .forEach(obj-&gt;{\r\n             try {           \r\n                  this.getClass().getDeclaredField(&quot;age&quot;+obj.getAge())\r\n                 .set(this, obj.getAge()); \r\n             } catch(Exception e) {\r\n                  e.printStackTrace();\r\n             }\r\n           });\r\n     System.out.println(&quot;age8 = &quot; + age8);\r\n     System.out.println(&quot;age10 = &quot; + age10);\r\n     System.out.println(&quot;age12 = &quot; + age12);\r\n    }\r\n}\r\n\r\nclass MyObject {\r\n  int age;\r\n  public MyObject(int age) {\r\n      this.age = age;\r\n  }\r\n  public int getAge() {\r\n      return age;\r\n  }\r\n  \r\n}\r\n```\r\nHowever, imo, this is fraught with problems and not a very good design.  I would recommend you simply stream them and store in a map where the keys are dynamically constructed as above and assigned the accompanying value.\r\n\r\nHere is how that would look.\r\n\r\n- The first arg to `toMap` is the `key`\r\n- The second is the `value`.\r\n- `(a,b)-&gt;a` - is the combiner.  In this case it avoids throwing a duplicate key exception by simply keeping the first one stored in the map.\r\n```\r\nMap&lt;String, Integer&gt; result = list.stream()\r\n        .collect(Collectors.toMap(obj -&gt; &quot;age&quot; + obj.getAge(),\r\n                                           MyObject::getAge,\r\n                                           (a,b)-&gt;a));\r\nresult.entrySet().forEach(System.out::println);\r\n```\r\nprints\r\n```\r\nage8=8\r\nage12=12\r\nage10=10\r\n\r\n","title":"Java 8 stream to do assignments with 3 different predicates","body":"<p>If I am to take you literally, you want to assign the of the age to it's properly named field.  To do this in streams without explicit conditionals to match the age to the field, you could use reflection.</p>\n<ul>\n<li>first, declare some objects in a list.</li>\n<li>then stream the objects and construct the field and assign the value to that field.</li>\n</ul>\n<p>The following example prints</p>\n<pre><code>age8 = 8\nage10 = 10\nage12 = 12\n</code></pre>\n<p>The Method</p>\n<pre><code>public class ToFields {\n\n    int age8;\n    int age10;\n    int age12;\n    public static void main(String[] args) {\n        new ToFields().start();\n    }\n    public void start() {\n        List&lt;MyObject&gt; list = Arrays.asList(new MyObject(8),new \n                           MyObject(10), new MyObject(12));\n        list.stream()\n          .forEach(obj-&gt;{\n             try {           \n                  this.getClass().getDeclaredField(&quot;age&quot;+obj.getAge())\n                 .set(this, obj.getAge()); \n             } catch(Exception e) {\n                  e.printStackTrace();\n             }\n           });\n     System.out.println(&quot;age8 = &quot; + age8);\n     System.out.println(&quot;age10 = &quot; + age10);\n     System.out.println(&quot;age12 = &quot; + age12);\n    }\n}\n\nclass MyObject {\n  int age;\n  public MyObject(int age) {\n      this.age = age;\n  }\n  public int getAge() {\n      return age;\n  }\n  \n}\n</code></pre>\n<p>However, imo, this is fraught with problems and not a very good design.  I would recommend you simply stream them and store in a map where the keys are dynamically constructed as above and assigned the accompanying value.</p>\n<p>Here is how that would look.</p>\n<ul>\n<li>The first arg to <code>toMap</code> is the <code>key</code></li>\n<li>The second is the <code>value</code>.</li>\n<li><code>(a,b)-&gt;a</code> - is the combiner.  In this case it avoids throwing a duplicate key exception by simply keeping the first one stored in the map.</li>\n</ul>\n<pre><code>Map&lt;String, Integer&gt; result = list.stream()\n        .collect(Collectors.toMap(obj -&gt; &quot;age&quot; + obj.getAge(),\n                                           MyObject::getAge,\n                                           (a,b)-&gt;a));\nresult.entrySet().forEach(System.out::println);\n</code></pre>\n<p>prints</p>\n<pre><code>age8=8\nage12=12\nage10=10\n\n</code></pre>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1701810128,"answer_count":1,"score":-4,"last_activity_date":1701809647,"creation_date":1701803764,"question_id":77608749,"body_markdown":"Say I have a List of Java 8 objects of a type. And the object has a field age.\r\nI want to find a Java 8/stream way of saying that if age is 12, assign to variable age12, if age is 8 assign to age8 and if age is 10 assign to age10 all in a single pass.\r\nI know I can have 3 variables and do a single for loop and achieve it. \r\nHow can I do this with streams?","title":"Java 8 stream to do assignments with 3 different predicates","body":"<p>Say I have a List of Java 8 objects of a type. And the object has a field age.\nI want to find a Java 8/stream way of saying that if age is 12, assign to variable age12, if age is 8 assign to age8 and if age is 10 assign to age10 all in a single pass.\nI know I can have 3 variables and do a single for loop and achieve it.\nHow can I do this with streams?</p>\n"},{"tags":["java","mongodb","spring-boot","oracle-cloud-infrastructure"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1701710007,"post_id":77601266,"comment_id":136806785,"body_markdown":"MongoDB has no http interface. What do you try to do?","body":"MongoDB has no http interface. What do you try to do?"},{"owner":{"account_id":30064758,"reputation":1,"user_id":23040163,"display_name":"xtro"},"score":0,"creation_date":1701711136,"post_id":77601266,"comment_id":136806975,"body_markdown":"I have a vm instance in oracle cloud  which running a mongodb. However, my subnet is a private subnet. So my requirement is I need to access this mongodb instance via internet (outside from the cloud). Only solution is oci loadbalncer. which is already configured.","body":"I have a vm instance in oracle cloud  which running a mongodb. However, my subnet is a private subnet. So my requirement is I need to access this mongodb instance via internet (outside from the cloud). Only solution is oci loadbalncer. which is already configured."},{"owner":{"account_id":30064758,"reputation":1,"user_id":23040163,"display_name":"xtro"},"score":0,"creation_date":1701711223,"post_id":77601266,"comment_id":136806992,"body_markdown":"This the details error in spring boot com.mongodb.MongoInternalException: The reply message length 1347703880 is greater than the maximum message length 33554432\n\tat com.mongodb.internal.connection.MessageHeader.&lt;init&gt;(MessageHeader.java:41) ~[mongodb-driver-core-4.1.1.jar:?]\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveResponseBuffers(InternalStreamConnection.java:651) ~[mongodb-driver-core-4.1.1.jar:?]\n\tat com.mongodb.internal.connection.InternalStreamConnection.receiveMessageWithAdditionalTimeout(InternalStreamConnection.java:513) ~[mongodb-driver-core-4.1.1.jar","body":"This the details error in spring boot com.mongodb.MongoInternalException: The reply message length 1347703880 is greater than the maximum message length 33554432 \tat com.mongodb.internal.connection.MessageHeader.&lt;init&gt;(Message&zwnj;&#8203;Header.java:41) ~[mongodb-driver-core-4.1.1.jar:?] \tat com.mongodb.internal.connection.InternalStreamConnection.rec&zwnj;&#8203;eiveResponseBuffers(&zwnj;&#8203;InternalStreamConnec&zwnj;&#8203;tion.java:651) ~[mongodb-driver-core-4.1.1.jar:?] \tat com.mongodb.internal.connection.InternalStreamConnection.rec&zwnj;&#8203;eiveMessageWithAddit&zwnj;&#8203;ionalTimeout(Interna&zwnj;&#8203;lStreamConnection.ja&zwnj;&#8203;va:513) ~[mongodb-driver-core-4.1.1.jar"}],"answers":[{"tags":[],"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701807714,"creation_date":1701807714,"answer_id":77609047,"question_id":77601266,"body_markdown":"You cannot use `telnet` or `curl` or tools of that kind to connect to *and actually interact with* MongoDB.  The default port 27017 on which `mongod` is listening requires a connection from one of the 20 or so supported client-side drivers (java, javascript, C, python, etc. etc.)   `telnet` connect works but the moment you try to pass traffic through the connection you will get the native connection error.","title":"Mongodb &quot;errmsg&quot;:&quot;Client sent an HTTP request over a native MongoDB connection&quot;","body":"<p>You cannot use <code>telnet</code> or <code>curl</code> or tools of that kind to connect to <em>and actually interact with</em> MongoDB.  The default port 27017 on which <code>mongod</code> is listening requires a connection from one of the 20 or so supported client-side drivers (java, javascript, C, python, etc. etc.)   <code>telnet</code> connect works but the moment you try to pass traffic through the connection you will get the native connection error.</p>\n"}],"owner":{"account_id":30064758,"reputation":1,"user_id":23040163,"display_name":"xtro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701807714,"creation_date":1701709491,"question_id":77601266,"body_markdown":"\r\nInstance hosted in oracle private subnet configured via loadbalancer , when access from out side it from loadbalncer public IP  gives this error.\r\n```\r\n&quot;errmsg&quot;:&quot;Client sent an HTTP request over a native MongoDB connection&quot; \r\n```\r\nTechnology springboot , oracle cloud, mongodb 7\r\n\r\n\r\n\r\nTelnet via 27017 working\r\n","title":"Mongodb &quot;errmsg&quot;:&quot;Client sent an HTTP request over a native MongoDB connection&quot;","body":"<p>Instance hosted in oracle private subnet configured via loadbalancer , when access from out side it from loadbalncer public IP  gives this error.</p>\n<pre><code>&quot;errmsg&quot;:&quot;Client sent an HTTP request over a native MongoDB connection&quot; \n</code></pre>\n<p>Technology springboot , oracle cloud, mongodb 7</p>\n<p>Telnet via 27017 working</p>\n"},{"tags":["java","timefold"],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701807542,"creation_date":1701807542,"answer_id":77609037,"question_id":77608674,"body_markdown":"Currently, `ProblemChangeDirector` does not support lookup by id. What you can do is create an &quot;empty&quot; entity that only has its planning id set and use that to lookup the entity:\r\n\r\n```java\r\nMyEntity lookupEntity = new MyEntity(id);\r\nproblemChangeDirector.removeEntity(lookupEntity, workingSolution.getMyEntityList()::remove);\r\n```","title":"ScoreDirector problem change entity lookup","body":"<p>Currently, <code>ProblemChangeDirector</code> does not support lookup by id. What you can do is create an &quot;empty&quot; entity that only has its planning id set and use that to lookup the entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyEntity lookupEntity = new MyEntity(id);\nproblemChangeDirector.removeEntity(lookupEntity, workingSolution.getMyEntityList()::remove);\n</code></pre>\n"}],"owner":{"account_id":3689370,"reputation":2805,"user_id":3072366,"accept_rate":59,"display_name":"Pezetter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77609037,"answer_count":1,"score":-1,"last_activity_date":1701807542,"creation_date":1701802838,"question_id":77608674,"body_markdown":"I can investigate this myself, but figured i&#39;d put the question out there in case anyone else stumbles across this.\r\n\r\nI would like to be able to &quot;remove&quot; a planning entity via a `ProblemChange`. I was hoping to be able to do this by planning ID. Does `ProblemChangeDirector.lookUpWorkingObjec`t support lookup by ID, or must the entire entity be passed? ","title":"ScoreDirector problem change entity lookup","body":"<p>I can investigate this myself, but figured i'd put the question out there in case anyone else stumbles across this.</p>\n<p>I would like to be able to &quot;remove&quot; a planning entity via a <code>ProblemChange</code>. I was hoping to be able to do this by planning ID. Does <code>ProblemChangeDirector.lookUpWorkingObjec</code>t support lookup by ID, or must the entire entity be passed?</p>\n"},{"tags":["java","spring-boot","gradle"],"answers":[{"tags":[],"owner":{"account_id":460910,"reputation":899,"user_id":862292,"display_name":"Guno"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701807238,"creation_date":1701807238,"answer_id":77609015,"question_id":77607941,"body_markdown":"Your first dependency declaration already should add the jar to the class path.\r\nYou don&#39;t need the second dependency, which it is not able to resolve, as it will look for that in the repositories you defined, not in the filetree.\r\n\r\nSo, just this should do it:\r\n\r\n\r\n    dependencies {\r\n        compile fileTree(dir: &#39;lib&#39;, include: [&#39;*.jar&#39;])\r\n    }","title":"Why spring boot .gradle project not support the external .jar files?","body":"<p>Your first dependency declaration already should add the jar to the class path.\nYou don't need the second dependency, which it is not able to resolve, as it will look for that in the repositories you defined, not in the filetree.</p>\n<p>So, just this should do it:</p>\n<pre><code>dependencies {\n    compile fileTree(dir: 'lib', include: ['*.jar'])\n}\n</code></pre>\n"}],"owner":{"account_id":15630062,"reputation":89,"user_id":11276607,"display_name":"gimhanas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701807238,"creation_date":1701795262,"question_id":77607941,"body_markdown":"I have build gradle spring boot project with add external .jar with lib folder.but it was not building properly.\r\n\r\n**gradle.build**\r\n\r\n    dependencies {\r\n    \tcompile fileTree(dir: &#39;lib&#39;, include: [&#39;*.jar&#39;])\r\n    \r\n    \tcompile group: &#39;rezg.rezos&#39;, name: &#39;rezg-data-publisher&#39;, version: &#39;1.0.0-SNAPSHOT&#39;\r\n    }\r\n**This is the jar path of project folder,**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bpPLS.png\r\n\r\nBut project building time getting this error,\r\n\r\n    Could not resolve all dependencies for configuration &#39;:compileClasspath&#39;.\r\n    &gt; Could not find rezg.rezos:rezg-data-publisher:1.0.0-SNAPSHOT.\r\n      Required by:\r\n          project :\r\n    \r\n    Possible solution:\r\n     - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n\r\n**What are the best possible options to resolve this issue?**","title":"Why spring boot .gradle project not support the external .jar files?","body":"<p>I have build gradle spring boot project with add external .jar with lib folder.but it was not building properly.</p>\n<p><strong>gradle.build</strong></p>\n<pre><code>dependencies {\n    compile fileTree(dir: 'lib', include: ['*.jar'])\n\n    compile group: 'rezg.rezos', name: 'rezg-data-publisher', version: '1.0.0-SNAPSHOT'\n}\n</code></pre>\n<p><strong>This is the jar path of project folder,</strong></p>\n<p><a href=\"https://i.stack.imgur.com/bpPLS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bpPLS.png\" alt=\"enter image description here\" /></a></p>\n<p>But project building time getting this error,</p>\n<pre><code>Could not resolve all dependencies for configuration ':compileClasspath'.\n&gt; Could not find rezg.rezos:rezg-data-publisher:1.0.0-SNAPSHOT.\n  Required by:\n      project :\n\nPossible solution:\n - Declare repository providing the artifact, see the documentation at https://docs.gradle.org/current/userguide/declaring_repositories.html\n</code></pre>\n<p><strong>What are the best possible options to resolve this issue?</strong></p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1701814296,"post_id":77609011,"comment_id":136821520,"body_markdown":"Why you don&#39;t want to use streaming? This seems a perfect use case for streaming if it is supported.","body":"Why you don&#39;t want to use streaming? This seems a perfect use case for streaming if it is supported."},{"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"score":0,"creation_date":1701823348,"post_id":77609011,"comment_id":136822505,"body_markdown":"@aled streaming has some limitations and usually comes with some caveats. IMO a 60mb file shouldn&#39;t need special handling given how small that is by today&#39;s standards","body":"@aled streaming has some limitations and usually comes with some caveats. IMO a 60mb file shouldn&#39;t need special handling given how small that is by today&#39;s standards"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1701824484,"post_id":77609011,"comment_id":136822607,"body_markdown":"The size of the file and the memory needed to process it are two different things as you are noticing. Also the input file may be compressed.","body":"The size of the file and the memory needed to process it are two different things as you are noticing. Also the input file may be compressed."},{"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"score":0,"creation_date":1701831134,"post_id":77609011,"comment_id":136823090,"body_markdown":"The input file is not compressed, it&#39;s a pure ~60mb file. There&#39;s no reason it should take over 7gb of memory","body":"The input file is not compressed, it&#39;s a pure ~60mb file. There&#39;s no reason it should take over 7gb of memory"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1701841405,"post_id":77609011,"comment_id":136823834,"body_markdown":"&quot;The input file is not compressed&quot;: Of course it is. A `*.xlsx` file is in Office Open XML format. That is a ZIP archive containing XML files an other files in a special directory structure. &quot;There&#39;s no reason it should take...&quot;: The ZIP needs to be unpacked. The XML needs to be interpreted. Relations need to be followed and after that probably other XML needs to be interpreted for each relation ...","body":"&quot;The input file is not compressed&quot;: Of course it is. A <code>*.xlsx</code> file is in Office Open XML format. That is a ZIP archive containing XML files an other files in a special directory structure. &quot;There&#39;s no reason it should take...&quot;: The ZIP needs to be unpacked. The XML needs to be interpreted. Relations need to be followed and after that probably other XML needs to be interpreted for each relation ..."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1701841886,"post_id":77609011,"comment_id":136823861,"body_markdown":"See https://stackoverflow.com/questions/72701730/why-poi-costs-so-much-memory-to-handle-xlsx/72703722#72703722","body":"See <a href=\"https://stackoverflow.com/questions/72701730/why-poi-costs-so-much-memory-to-handle-xlsx/72703722#72703722\" title=\"why poi costs so much memory to handle xlsx\">stackoverflow.com/questions/72701730/&hellip;</a>"},{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":2,"creation_date":1701860034,"post_id":77609011,"comment_id":136826498,"body_markdown":"https://github.com/pjfanning/excel-streaming-reader-sample is one of a number of streaming examples that you could use as a starting point. I would recommend using a lib like commons-csv to do proper CSV output though. There are other streaming examples at https://poi.apache.org/components/spreadsheet/examples.html","body":"<a href=\"https://github.com/pjfanning/excel-streaming-reader-sample\" rel=\"nofollow noreferrer\">github.com/pjfanning/excel-streaming-reader-sample</a> is one of a number of streaming examples that you could use as a starting point. I would recommend using a lib like commons-csv to do proper CSV output though. There are other streaming examples at <a href=\"https://poi.apache.org/components/spreadsheet/examples.html\" rel=\"nofollow noreferrer\">poi.apache.org/components/spreadsheet/examples.html</a>"},{"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"score":0,"creation_date":1701876239,"post_id":77609011,"comment_id":136829542,"body_markdown":"@PJFanning I&#39;m actually using your library now (have been using it for a few years)! Thanks for creating and maintaining it - quick question, are there any restrictions / caveats when using streaming mode? If I understand correctly we won&#39;t be able to recalculate formula values (which is fine), but are there any other limitations for just reading a file?","body":"@PJFanning I&#39;m actually using your library now (have been using it for a few years)! Thanks for creating and maintaining it - quick question, are there any restrictions / caveats when using streaming mode? If I understand correctly we won&#39;t be able to recalculate formula values (which is fine), but are there any other limitations for just reading a file?"},{"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"score":0,"creation_date":1701877309,"post_id":77609011,"comment_id":136829742,"body_markdown":"@AxelRichter I saw that, but it doesn&#39;t explain the original question. The raw text is 63mb, the XLSX is 80mb. If I unzip the XLSX, the contents are 324MB. 7gb RAM is much more than I would anticipate it taking to process.","body":"@AxelRichter I saw that, but it doesn&#39;t explain the original question. The raw text is 63mb, the XLSX is 80mb. If I unzip the XLSX, the contents are 324MB. 7gb RAM is much more than I would anticipate it taking to process."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1701928923,"post_id":77609011,"comment_id":136836320,"body_markdown":"Tried to explain it more in my answer -&gt; https://stackoverflow.com/questions/72701730/why-poi-costs-so-much-memory-to-handle-xlsx/72703722#72703722","body":"Tried to explain it more in my answer -&gt; <a href=\"https://stackoverflow.com/questions/72701730/why-poi-costs-so-much-memory-to-handle-xlsx/72703722#72703722\" title=\"why poi costs so much memory to handle xlsx\">stackoverflow.com/questions/72701730/&hellip;</a>"}],"owner":{"account_id":1746755,"reputation":1408,"user_id":1596770,"accept_rate":80,"display_name":"aarbor"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701807181,"creation_date":1701807181,"question_id":77609011,"body_markdown":"Is there a way to optimize Apache POI usage without using streaming? If I have a 63mb excel file with 500k rows, converting the file to CSV uses up over 7gb of RAM. \r\n\r\nAs a source file, I downloaded [customers-500000.csv][1] from GitHub [datablist/sample-csv-files][2], opened it in Excel, and saved it as an .xlsx with no other changes.\r\n\r\nThe code itself is fairly straight forward:\r\n\r\n```java\r\ntry (Workbook workbook = WorkbookFactory.create(file, null, false)) {\r\n DataFormatter formatter = new DataFormatter();\r\n formatter.setUseCachedValuesForFormulaCells(true);\r\n try (Writer writer = Files.newBufferedWriter(outputFilePath); CSVPrinter csvWriter =  CSVFormat.Builder.create(CSVFormat.RFC4180).setAutoFlush(true).build()) {\r\n Sheet sheet = workbook.getSheetAt(0);\r\n Iterator&lt;Row&gt; iterator = sheet.iterator();\r\n while (iterator.hasNext()) {\r\n   Row row = iterator.next();\r\n   for (int colNum = 0; colNum &lt;= row.getLastCellNum(); colNum++) {\r\n     Cell cell = row.getCell(colNum);\r\n     values.add(formatter.formatCellValue(cell));\r\n   }\r\n   csvWriter.printRecord(values);\r\n   csvWriter.flush();\r\n }\r\n}\r\n```\r\n\r\nBased on profiling, we are using 114x more memory than the file size itself, is there a way to get this to a more reasonable state?\r\n\r\n[![profiling][3]][3]\r\n\r\n\r\n\r\n[![heapdump][4]][4]\r\n\r\n\r\n  [1]: https://github.com/datablist/sample-csv-files/raw/main/files/customers/customers-500000.zip\r\n  [2]: https://github.com/datablist/sample-csv-files\r\n  [3]: https://i.stack.imgur.com/QndfH.png\r\n  [4]: https://i.stack.imgur.com/fh1le.png","title":"Apache POI Memory Usage","body":"<p>Is there a way to optimize Apache POI usage without using streaming? If I have a 63mb excel file with 500k rows, converting the file to CSV uses up over 7gb of RAM.</p>\n<p>As a source file, I downloaded <a href=\"https://github.com/datablist/sample-csv-files/raw/main/files/customers/customers-500000.zip\" rel=\"nofollow noreferrer\">customers-500000.csv</a> from GitHub <a href=\"https://github.com/datablist/sample-csv-files\" rel=\"nofollow noreferrer\">datablist/sample-csv-files</a>, opened it in Excel, and saved it as an .xlsx with no other changes.</p>\n<p>The code itself is fairly straight forward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (Workbook workbook = WorkbookFactory.create(file, null, false)) {\n DataFormatter formatter = new DataFormatter();\n formatter.setUseCachedValuesForFormulaCells(true);\n try (Writer writer = Files.newBufferedWriter(outputFilePath); CSVPrinter csvWriter =  CSVFormat.Builder.create(CSVFormat.RFC4180).setAutoFlush(true).build()) {\n Sheet sheet = workbook.getSheetAt(0);\n Iterator&lt;Row&gt; iterator = sheet.iterator();\n while (iterator.hasNext()) {\n   Row row = iterator.next();\n   for (int colNum = 0; colNum &lt;= row.getLastCellNum(); colNum++) {\n     Cell cell = row.getCell(colNum);\n     values.add(formatter.formatCellValue(cell));\n   }\n   csvWriter.printRecord(values);\n   csvWriter.flush();\n }\n}\n</code></pre>\n<p>Based on profiling, we are using 114x more memory than the file size itself, is there a way to get this to a more reasonable state?</p>\n<p><a href=\"https://i.stack.imgur.com/QndfH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QndfH.png\" alt=\"profiling\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/fh1le.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fh1le.png\" alt=\"heapdump\" /></a></p>\n"},{"tags":["java","rest","postman"],"comments":[{"owner":{"account_id":9636750,"reputation":2702,"user_id":7152558,"display_name":"Mahesh_Loya"},"score":0,"creation_date":1522938274,"post_id":49674408,"comment_id":86360398,"body_markdown":"Please check https://stackoverflow.com/questions/39037049/how-to-upload-a-file-and-json-data-in-postman/48054400#48054400","body":"Please check <a href=\"https://stackoverflow.com/questions/39037049/how-to-upload-a-file-and-json-data-in-postman/48054400#48054400\" title=\"how to upload a file and json data in postman\">stackoverflow.com/questions/39037049/&hellip;</a>"},{"owner":{"account_id":10688267,"reputation":69,"user_id":7868109,"display_name":"Bizi"},"score":0,"creation_date":1523288470,"post_id":49674408,"comment_id":86487663,"body_markdown":"Hello, thanks for your time, I tried to send the request like this: **http://192.168.202.210:8080/afb-fintech-api/rest/agentbanking/uploadOpenAccountRequestFiles/1**;  then follow  the example on the link your mentioned above, I received this error : HTTP 415 - Unsupported Media Type.","body":"Hello, thanks for your time, I tried to send the request like this: <b><a href=\"http://192.168.202.210:8080/afb-fintech-api/rest/agentbanking/uploadOpenAccountRequestFiles/1\" rel=\"nofollow noreferrer\">192.168.202.210:8080/afb-fintech-api/rest/agentbanking/&hellip;</a></b>;  then follow  the example on the link your mentioned above, I received this error : HTTP 415 - Unsupported Media Type."},{"owner":{"account_id":10688267,"reputation":69,"user_id":7868109,"display_name":"Bizi"},"score":0,"creation_date":1523288749,"post_id":49674408,"comment_id":86487867,"body_markdown":"please, I have no content type selected in headers.and in the body, just **form-data** and the file are selected","body":"please, I have no content type selected in headers.and in the body, just <b>form-data</b> and the file are selected"}],"answers":[{"tags":[],"owner":{"account_id":3386007,"reputation":647,"user_id":2841947,"accept_rate":50,"display_name":"Rahul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522939422,"creation_date":1522939041,"answer_id":49675063,"question_id":49674408,"body_markdown":"For calling that service, you need to pass requestId like below:\r\n\r\nhttp://localhost:8080/uploadOpenAccountRequestFiles/**requestId-value-here**\r\n\r\nFor sending MultiPart data such as a file, you need to select form-data option in the body section in Postman and select the file by selecting the File dropdown. Also, make sure to set the appropriate headers for the request.\r\n\r\nCheck the below stackoverflow answer for more details:\r\n\r\nhttps://stackoverflow.com/questions/16015548/tool-for-sending-multipart-form-data-request","title":"Difficulties sending multipart/form-data request via Postman","body":"<p>For calling that service, you need to pass requestId like below:</p>\n\n<p><a href=\"http://localhost:8080/uploadOpenAccountRequestFiles/\" rel=\"nofollow noreferrer\">http://localhost:8080/uploadOpenAccountRequestFiles/</a><strong>requestId-value-here</strong></p>\n\n<p>For sending MultiPart data such as a file, you need to select form-data option in the body section in Postman and select the file by selecting the File dropdown. Also, make sure to set the appropriate headers for the request.</p>\n\n<p>Check the below stackoverflow answer for more details:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/16015548/tool-for-sending-multipart-form-data-request\">Tool for sending multipart/form-data request</a></p>\n"},{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1646939366,"post_id":71390515,"comment_id":126254045,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/31237030)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/31237030\">From Review</a>"}],"tags":[],"owner":{"account_id":7372298,"reputation":41,"user_id":5612127,"display_name":"jitendra singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646718054,"creation_date":1646718054,"answer_id":71390515,"question_id":49674408,"body_markdown":"The steps of uploading a file through postman along with passing some input data along with the multipart request is very well discussed in below blog along with the screenshot. In this blog, the api code is written in node js. You can go through it once. It may give some information.\r\n\r\nhttps://jksnu.blogspot.com/2021/09/how-to-create-post-request-with.html","title":"Difficulties sending multipart/form-data request via Postman","body":"<p>The steps of uploading a file through postman along with passing some input data along with the multipart request is very well discussed in below blog along with the screenshot. In this blog, the api code is written in node js. You can go through it once. It may give some information.</p>\n<p><a href=\"https://jksnu.blogspot.com/2021/09/how-to-create-post-request-with.html\" rel=\"nofollow noreferrer\">https://jksnu.blogspot.com/2021/09/how-to-create-post-request-with.html</a></p>\n"}],"owner":{"account_id":10688267,"reputation":69,"user_id":7868109,"display_name":"Bizi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9501,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701806916,"creation_date":1522937179,"question_id":49674408,"body_markdown":"please, this is y concern: I&#39;ll like to know how to query a web service defined as in the below code using postman for test purposes.\r\nPS: I can&#39;t change the method signature\r\n\r\nI have a web service like this :\r\n\r\n    @POST\r\n\t@Path(&quot;/uploadOpenAccountRequestFiles/{requestId}&quot;)\r\n\t@Consumes({MediaType.APPLICATION_JSON,MediaType.MULTIPART_FORM_DATA})\r\n\tpublic Response uploadOpenAccountRequestFiles(@PathParam(&quot;requestId&quot;) String requestId,\r\n\t\t\tMultipartFormDataInput multipartFormDataInput)\r\n\t\t\tthrows JsonGenerationException, JsonMappingException, IOException {\r\n\r\n\t\tinitContext();\r\n\t\tlogger.info(&quot;DIGIBANK : uploadOpenAccountRequestFiles END: &quot;);\r\n\r\n\t\tString msge = &quot;&quot;;\r\n\t\ttry {\r\n\t\t\tdigiBean.saveToserver(requestId, multipartFormDataInput);\r\n\t\t} catch (Exception e) {\r\n \t\t\tmsge = e.getMessage();\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\t\torg.af.webservice.Response resp = new org.af.webservice.Response(\r\n\t\t\t\trequest.getSession().getId(), &quot;uploadOpenAccountRequestFiles&quot;, &quot;&quot;,\r\n\t\t\t\tmsge.equalsIgnoreCase(&quot;OK&quot;) ? true : false, msge.equalsIgnoreCase(&quot;OK&quot;) ? false : true, &quot;&quot;,\r\n\t\t\t\tmsge.equalsIgnoreCase(&quot;OK&quot;) ? true : false, &quot;Boolean&quot;, msge);\r\n\r\n\t\tlogger.info(&quot;DIGIBANK : uploadOpenAccountRequestFiles END: &quot;);\r\n\t\treturn Response.ok().entity(mapper.writeValueAsString(resp)).build();\r\n\t}\r\nthis is are images of my configurations:\r\n\r\n[enter image description here][1]\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U19Lu.png\r\n  [2]: https://i.stack.imgur.com/PFX5B.png","title":"Difficulties sending multipart/form-data request via Postman","body":"<p>please, this is y concern: I'll like to know how to query a web service defined as in the below code using postman for test purposes.\nPS: I can't change the method signature</p>\n\n<p>I have a web service like this :</p>\n\n<pre><code>@POST\n@Path(\"/uploadOpenAccountRequestFiles/{requestId}\")\n@Consumes({MediaType.APPLICATION_JSON,MediaType.MULTIPART_FORM_DATA})\npublic Response uploadOpenAccountRequestFiles(@PathParam(\"requestId\") String requestId,\n        MultipartFormDataInput multipartFormDataInput)\n        throws JsonGenerationException, JsonMappingException, IOException {\n\n    initContext();\n    logger.info(\"DIGIBANK : uploadOpenAccountRequestFiles END: \");\n\n    String msge = \"\";\n    try {\n        digiBean.saveToserver(requestId, multipartFormDataInput);\n    } catch (Exception e) {\n        msge = e.getMessage();\n        e.printStackTrace();\n    }\n\n    org.af.webservice.Response resp = new org.af.webservice.Response(\n            request.getSession().getId(), \"uploadOpenAccountRequestFiles\", \"\",\n            msge.equalsIgnoreCase(\"OK\") ? true : false, msge.equalsIgnoreCase(\"OK\") ? false : true, \"\",\n            msge.equalsIgnoreCase(\"OK\") ? true : false, \"Boolean\", msge);\n\n    logger.info(\"DIGIBANK : uploadOpenAccountRequestFiles END: \");\n    return Response.ok().entity(mapper.writeValueAsString(resp)).build();\n}\n</code></pre>\n\n<p>this is are images of my configurations:</p>\n\n<p><a href=\"https://i.stack.imgur.com/U19Lu.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/PFX5B.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","runtime","infinite-sequence"],"answers":[{"comments":[{"owner":{"account_id":3991533,"reputation":11,"user_id":3290306,"display_name":"user3290306"},"score":0,"creation_date":1392519093,"post_id":21806639,"comment_id":32999057,"body_markdown":"Thanks, I corrected that, but am still getting frozen applet when running T_T","body":"Thanks, I corrected that, but am still getting frozen applet when running T_T"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1392520543,"post_id":21806639,"comment_id":32999341,"body_markdown":"Actually, your answer is incorrect. `==` will work just fine for comparing Strings here, because the Strings bring compared are String literals, and thus are interned so the same String object will be used everywhere the same literal us coded.","body":"Actually, your answer is incorrect. <code>==</code> will work just fine for comparing Strings here, because the Strings bring compared are String literals, and thus are interned so the same String object will be used everywhere the same literal us coded."},{"owner":{"account_id":3502893,"reputation":4596,"user_id":2929205,"accept_rate":100,"display_name":"ltalhouarne"},"score":0,"creation_date":1392520669,"post_id":21806639,"comment_id":32999363,"body_markdown":"It will work but it is, in general, preferable to use .equals() when comparing strings.","body":"It will work but it is, in general, preferable to use .equals() when comparing strings."}],"tags":[],"owner":{"account_id":3502893,"reputation":4596,"user_id":2929205,"accept_rate":100,"display_name":"ltalhouarne"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392518670,"creation_date":1392518670,"answer_id":21806639,"question_id":21806608,"body_markdown":"You need to use the following:\r\n\r\n    buttons[row][0].getText().equals(buttons[row][1].getText())\r\n\r\ninstead of:\r\n\r\n    buttons[row][0].getText()==buttons[row][1].getText()\r\n\r\n**That also applies to all the other string comparisons in your checkWin method.**","title":"Doing Tic Tac Toe game with GUI interface on java, facing runtime error after including new method","body":"<p>You need to use the following:</p>\n\n<pre><code>buttons[row][0].getText().equals(buttons[row][1].getText())\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>buttons[row][0].getText()==buttons[row][1].getText()\n</code></pre>\n\n<p><strong>That also applies to all the other string comparisons in your checkWin method.</strong></p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392528879,"creation_date":1392528879,"answer_id":21807742,"question_id":21806608,"body_markdown":"The loop in you checkWon can&#39;t end while the game is I complete, but you can complete the game because the while loop is blocking it","title":"Doing Tic Tac Toe game with GUI interface on java, facing runtime error after including new method","body":"<p>The loop in you checkWon can't end while the game is I complete, but you can complete the game because the while loop is blocking it</p>\n"},{"tags":[],"owner":{"account_id":9717308,"reputation":1,"user_id":7207219,"display_name":"Jess Fan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480024953,"creation_date":1480024953,"answer_id":40795048,"question_id":21806608,"body_markdown":"The issue seems to be that the AI (&quot;compTurn()&quot;) Is running an indefinite loop, and never gives the player an actual turn. It instead constantly tries to do its turn. To combat this, add a regulating variable (I added &quot;int whoseTurn&quot; in the example fix below).\r\n\r\nThat only combats the runtime error, though. Another issue is that on MacOS devices (I tested it on MacOS X) the buttons are drawn before the backbuffer, and so the result is a blank backbuffer and a unplayable game. The solution to this is to draw the buttons after drawing the backbuffer, or just copy + paste the code of the buttons after the drawing backbuffer code.\r\n\r\nThere is yet another issue, whereas the &quot;Start button is completely useless, and does not affect the game in any way. I removed that in the example code below.\r\n\r\nThe final issue is that your &quot;checkWin&quot; mehtod is simple, but oftentimes wrong. I have replaced it with a longer, more accurate win checking system.\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.*;\r\n    import javax.swing.JOptionPane;\r\n\r\n    class TicGUI extends JFrame \r\n    {\r\n\r\n    JButton[][] buttons = new JButton[3][3];\r\n    JFrame frame = new JFrame(&quot;TicTacToe&quot;);                    //Global frame and grid button variables\r\n    JButton reset = new JButton(&quot;Reset&quot;);             //Create reset button for game\r\n    JOptionPane turn;\r\n    int moveCounter = 9;\r\n    boolean gameWon = false;\r\n    int WhoseTurn = 1;\r\n\r\n    public TicGUI()                                        //Tic tac default constructor which adds and dimensions Jframe\r\n    {\r\n     super();\r\n     frame.setSize(350, 355);\r\n     frame.setDefaultCloseOperation(EXIT_ON_CLOSE);        //Setting dimension of Jframe and setting parameters\r\n     frame.setVisible(true);\r\n     frame.setResizable(false);\r\n     JButton[][] buttons = new JButton[3][3];\r\n     JFrame frame = new JFrame(&quot;TicTacToe&quot;);                    //Global frame and grid button variables \r\n     JButton reset = new JButton(&quot;Reset&quot;);             //Create reset button for game\r\n     JOptionPane turn;\r\n\r\n    }\r\n\r\n    private void checkWin(int row, int col)\r\n    {\r\n\t\ttry {\r\n\t\tif (buttons[0][2].getText()==buttons[1][2].getText()&amp;&amp; buttons[1][2].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[0][2].getText()&amp;&amp; buttons[1][2].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][2].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][2].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\tif (buttons[0][1].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][1].getText()&amp;&amp; buttons[2][1].getText()==buttons[0][1].getText()&amp;&amp; buttons[1][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\tif (buttons[0][0].getText()==buttons[1][0].getText()&amp;&amp; buttons[1][0].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][0].getText()==buttons[0][0].getText()&amp;&amp; buttons[1][0].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][0].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][0].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\tif (buttons[2][0].getText()==buttons[2][1].getText()&amp;&amp; buttons[2][1].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[2][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[2][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\tif (buttons[1][0].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[1][2].getText()&amp;&amp; buttons[1][2].getText()==buttons[1][0].getText()&amp;&amp; buttons[1][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\tif (buttons[0][0].getText()==buttons[0][1].getText()&amp;&amp; buttons[0][1].getText()==buttons[0][2].getText()&amp;&amp; buttons[0][2].getText()==buttons[0][0].getText()&amp;&amp; buttons[0][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[0][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[0][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t   if (buttons[0][0].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[0][0].getText()&amp;&amp; buttons[1][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t   if (buttons[0][2].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][0].getText()==buttons[0][2].getText()&amp;&amp; buttons[1][1].getText()!=&quot;&quot;)\r\n\t   {\r\n\t\t  gameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ &quot; wins!!!&quot;);\r\n\t   }\r\n\t\t}catch(Exception e) {\r\n\t\t\tgameWon = true;\r\n\t\t  WhoseTurn = 0;\r\n          System.out.println(&quot;Stalemate&quot;);\r\n\t\t  JOptionPane.showMessageDialog(frame, &quot;Stalemate&quot;);\r\n\t\t}\r\n    }\r\n\r\n    private void compTurn(int count)\r\n    { \r\n    int randomMove=count;\r\n    Random num = new Random();\r\n    randomMove = num.nextInt(randomMove)+1;\r\n\r\n     while(gameWon ==false &amp; WhoseTurn ==2)\r\n      {\r\n       for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\r\n        {\r\n         for(int j = 0; j &lt; 3; j++) \r\n          {                 \r\n           if(buttons[i][j].isEnabled()==true)\r\n            {\r\n               randomMove--;\r\n\r\n             if(randomMove==0 )\r\n              {\r\n                buttons[i][j].setText(&quot;O&quot;);\r\n                buttons[i][j].setEnabled(false);\r\n                moveCounter--;\r\n                checkWin(i, j);\r\n\t\t\t\tWhoseTurn = 1;\r\n              }\r\n             } \r\n\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n    private void initialize()             //Initialize tic tac toe game board\r\n    {\r\n      JPanel mainPanel = new JPanel(new BorderLayout());         //create main panel container to put layer others on top\r\n      JPanel menu = new JPanel(new BorderLayout());\r\n      JPanel game = new JPanel(new GridLayout(3,3));                     //Create two more panels with layouts for buttons\r\n\r\n      frame.add(mainPanel);                                         //add main container panel to frame\r\n\r\n      mainPanel.setPreferredSize(new Dimension(325,425));\r\n      menu.setPreferredSize(new Dimension(300,50));                     //Setting dimensions of panels\r\n      game.setPreferredSize(new Dimension(300,300));\r\n\r\n      mainPanel.add(menu, BorderLayout.NORTH);                   //Add two panels to the main container panel             \r\n      mainPanel.add(game, BorderLayout.SOUTH);\r\n\r\n      //Add both start/reset buttons to menu container panel\r\n      menu.add(reset, BorderLayout.NORTH);\r\n\r\n      reset.addActionListener(new myActionListener());\r\n\r\n    for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\r\n     {\r\n      for(int j = 0; j &lt; 3; j++) \r\n        {\r\n\r\n         buttons[i][j] = new JButton();                //Instantiating buttons \r\n         buttons[i][j].setText(&quot;&quot;);\r\n         buttons[i][j].setVisible(true);\r\n\r\n         game.add(buttons[i][j]); \r\n         buttons[i][j].addActionListener(new myActionListener());        //Adding response event to buttons\r\n        }\r\n     }\r\n\r\n    }\r\n\r\n    private class myActionListener implements ActionListener\r\n    {      //Implementing action listener for buttons\r\n     public void actionPerformed(ActionEvent a) \r\n      {\r\n       //Display X&#39;s or O&#39;s on the buttons\r\n\t   if(gameWon == false)\r\n\t   {\r\n       if(a.getSource() == buttons[0][0])                  //Checking which button is pressed\r\n         {\r\n           buttons[0][0].setText(&quot;X&quot;);\r\n           buttons[0][0].setEnabled(false);\r\n\t\t   WhoseTurn = 2;\r\n           moveCounter--;\r\n           compTurn(moveCounter);\r\n           checkWin(0,0);\r\n         } \r\n       else if(a.getSource() == buttons[0][1])\r\n         {\r\n           buttons[0][1].setText(&quot;X&quot;);\r\n           buttons[0][1].setEnabled(false);\r\n\t\t   WhoseTurn = 2;\r\n           moveCounter--;\r\n           compTurn(moveCounter);\r\n           checkWin(0,1);\r\n         } \r\n       else if(a.getSource() == buttons[1][0])\r\n        {\r\n          buttons[1][0].setText(&quot;X&quot;);  \r\n          buttons[1][0].setEnabled(false);\r\n\t\t  WhoseTurn = 2;\r\n          moveCounter--;\r\n          compTurn(moveCounter);\r\n          checkWin(1,0);\r\n        } \r\n       else if(a.getSource() == buttons[1][1])\r\n        {\r\n          buttons[1][1].setText(&quot;X&quot;);\r\n          buttons[1][1].setEnabled(false);\r\n\t\t  WhoseTurn = 2;\r\n          moveCounter--;\r\n          compTurn(moveCounter);\r\n          checkWin(1,1);\r\n        }\r\n       else if(a.getSource() == buttons[1][2])\r\n        {\r\n          buttons[1][2].setText(&quot;X&quot;);\r\n          buttons[1][2].setEnabled(false);\r\n\t\t  WhoseTurn = 2;\r\n          moveCounter--;\r\n          compTurn(moveCounter); \r\n          checkWin(1,2);\r\n        } \r\n       else if(a.getSource() == buttons[2][2])\r\n        {\r\n         buttons[2][2].setText(&quot;X&quot;);\r\n         buttons[2][2].setEnabled(false);\r\n\t\t WhoseTurn = 2;\r\n         moveCounter--;\r\n         compTurn(moveCounter);\r\n         checkWin(2,2);\r\n        } \r\n       else if(a.getSource() == buttons[0][2])\r\n        {\r\n         buttons[0][2].setText(&quot;X&quot;);\r\n         buttons[0][2].setEnabled(false);\r\n\t\t WhoseTurn = 2;\r\n         moveCounter--;\r\n         compTurn(moveCounter);\r\n         checkWin(0,2);\r\n        }\r\n       else if(a.getSource() == buttons[2][1])\r\n        {\r\n         buttons[2][1].setText(&quot;X&quot;);\r\n         buttons[2][1].setEnabled(false);\r\n\t\t WhoseTurn = 2;\r\n         moveCounter--;\r\n         compTurn(moveCounter);\r\n         checkWin(2,1);\r\n        }\r\n       else if(a.getSource() == buttons[2][0])\r\n        {\r\n         buttons[2][0].setText(&quot;X&quot;);\r\n         buttons[2][0].setEnabled(false);\r\n\t\t WhoseTurn = 2;\r\n         moveCounter--;\r\n         compTurn(moveCounter);\r\n         checkWin(2,0);\r\n        }\r\n\t   }\r\n       if(a.getSource() == reset)\r\n         {\r\n            for(int i = 0; i &lt; 3; i++)\r\n             { \r\n               for(int j = 0; j &lt; 3; j++)\r\n                {\r\n\t\t\t\t\tgameWon = false;\r\n                   buttons[i][j].setText(&quot;&quot;); \r\n                   buttons[i][j].setEnabled(true);\r\n\t\t\t\t   moveCounter = 9;\r\n\t\t\t\t   WhoseTurn = 1;\r\n                   \r\n                }\r\n             }\r\n           }\r\n\t  }\r\n     }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n      TicGUI game = new TicGUI();         //main method and instantiating tic tac object and calling initialize function\r\n      game.initialize();\r\n     }\r\n    }\r\n\r\n\r\nIf you continue to have problems, just ask!\r\n\r\n- Jess Fan\r\n\r\nJEF1056\r\n[Musical artist, .Net programmer, Student]\r\n\r\nhttps://itunes.apple.com/us/artist/jef1056/id1139804160\r\nhttps://play.google.com/store/music/artist/JEF1056?id=Aovo6cz54vkx2ekexyl7eom6nwy","title":"Doing Tic Tac Toe game with GUI interface on java, facing runtime error after including new method","body":"<p>The issue seems to be that the AI (\"compTurn()\") Is running an indefinite loop, and never gives the player an actual turn. It instead constantly tries to do its turn. To combat this, add a regulating variable (I added \"int whoseTurn\" in the example fix below).</p>\n\n<p>That only combats the runtime error, though. Another issue is that on MacOS devices (I tested it on MacOS X) the buttons are drawn before the backbuffer, and so the result is a blank backbuffer and a unplayable game. The solution to this is to draw the buttons after drawing the backbuffer, or just copy + paste the code of the buttons after the drawing backbuffer code.</p>\n\n<p>There is yet another issue, whereas the \"Start button is completely useless, and does not affect the game in any way. I removed that in the example code below.</p>\n\n<p>The final issue is that your \"checkWin\" mehtod is simple, but oftentimes wrong. I have replaced it with a longer, more accurate win checking system.</p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\nimport javax.swing.JOptionPane;\n\nclass TicGUI extends JFrame \n{\n\nJButton[][] buttons = new JButton[3][3];\nJFrame frame = new JFrame(\"TicTacToe\");                    //Global frame and grid button variables\nJButton reset = new JButton(\"Reset\");             //Create reset button for game\nJOptionPane turn;\nint moveCounter = 9;\nboolean gameWon = false;\nint WhoseTurn = 1;\n\npublic TicGUI()                                        //Tic tac default constructor which adds and dimensions Jframe\n{\n super();\n frame.setSize(350, 355);\n frame.setDefaultCloseOperation(EXIT_ON_CLOSE);        //Setting dimension of Jframe and setting parameters\n frame.setVisible(true);\n frame.setResizable(false);\n JButton[][] buttons = new JButton[3][3];\n JFrame frame = new JFrame(\"TicTacToe\");                    //Global frame and grid button variables \n JButton reset = new JButton(\"Reset\");             //Create reset button for game\n JOptionPane turn;\n\n}\n\nprivate void checkWin(int row, int col)\n{\n    try {\n    if (buttons[0][2].getText()==buttons[1][2].getText()&amp;&amp; buttons[1][2].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[0][2].getText()&amp;&amp; buttons[1][2].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][2].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][2].getText()+ \" wins!!!\");\n   }\n    if (buttons[0][1].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][1].getText()&amp;&amp; buttons[2][1].getText()==buttons[0][1].getText()&amp;&amp; buttons[1][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ \" wins!!!\");\n   }\n    if (buttons[0][0].getText()==buttons[1][0].getText()&amp;&amp; buttons[1][0].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][0].getText()==buttons[0][0].getText()&amp;&amp; buttons[1][0].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][0].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][0].getText()+ \" wins!!!\");\n   }\n    if (buttons[2][0].getText()==buttons[2][1].getText()&amp;&amp; buttons[2][1].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[2][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[2][1].getText()+ \" wins!!!\");\n   }\n    if (buttons[1][0].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[1][2].getText()&amp;&amp; buttons[1][2].getText()==buttons[1][0].getText()&amp;&amp; buttons[1][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ \" wins!!!\");\n   }\n    if (buttons[0][0].getText()==buttons[0][1].getText()&amp;&amp; buttons[0][1].getText()==buttons[0][2].getText()&amp;&amp; buttons[0][2].getText()==buttons[0][0].getText()&amp;&amp; buttons[0][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[0][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[0][1].getText()+ \" wins!!!\");\n   }\n   if (buttons[0][0].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][2].getText()&amp;&amp; buttons[2][2].getText()==buttons[0][0].getText()&amp;&amp; buttons[1][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ \" wins!!!\");\n   }\n   if (buttons[0][2].getText()==buttons[1][1].getText()&amp;&amp; buttons[1][1].getText()==buttons[2][0].getText()&amp;&amp; buttons[2][0].getText()==buttons[0][2].getText()&amp;&amp; buttons[1][1].getText()!=\"\")\n   {\n      gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(buttons[1][1].getText()+ \" wins!!!\");\n      JOptionPane.showMessageDialog(frame, buttons[1][1].getText()+ \" wins!!!\");\n   }\n    }catch(Exception e) {\n        gameWon = true;\n      WhoseTurn = 0;\n      System.out.println(\"Stalemate\");\n      JOptionPane.showMessageDialog(frame, \"Stalemate\");\n    }\n}\n\nprivate void compTurn(int count)\n{ \nint randomMove=count;\nRandom num = new Random();\nrandomMove = num.nextInt(randomMove)+1;\n\n while(gameWon ==false &amp; WhoseTurn ==2)\n  {\n   for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\n    {\n     for(int j = 0; j &lt; 3; j++) \n      {                 \n       if(buttons[i][j].isEnabled()==true)\n        {\n           randomMove--;\n\n         if(randomMove==0 )\n          {\n            buttons[i][j].setText(\"O\");\n            buttons[i][j].setEnabled(false);\n            moveCounter--;\n            checkWin(i, j);\n            WhoseTurn = 1;\n          }\n         } \n\n        }\n      }\n    }\n  }\n\nprivate void initialize()             //Initialize tic tac toe game board\n{\n  JPanel mainPanel = new JPanel(new BorderLayout());         //create main panel container to put layer others on top\n  JPanel menu = new JPanel(new BorderLayout());\n  JPanel game = new JPanel(new GridLayout(3,3));                     //Create two more panels with layouts for buttons\n\n  frame.add(mainPanel);                                         //add main container panel to frame\n\n  mainPanel.setPreferredSize(new Dimension(325,425));\n  menu.setPreferredSize(new Dimension(300,50));                     //Setting dimensions of panels\n  game.setPreferredSize(new Dimension(300,300));\n\n  mainPanel.add(menu, BorderLayout.NORTH);                   //Add two panels to the main container panel             \n  mainPanel.add(game, BorderLayout.SOUTH);\n\n  //Add both start/reset buttons to menu container panel\n  menu.add(reset, BorderLayout.NORTH);\n\n  reset.addActionListener(new myActionListener());\n\nfor(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\n {\n  for(int j = 0; j &lt; 3; j++) \n    {\n\n     buttons[i][j] = new JButton();                //Instantiating buttons \n     buttons[i][j].setText(\"\");\n     buttons[i][j].setVisible(true);\n\n     game.add(buttons[i][j]); \n     buttons[i][j].addActionListener(new myActionListener());        //Adding response event to buttons\n    }\n }\n\n}\n\nprivate class myActionListener implements ActionListener\n{      //Implementing action listener for buttons\n public void actionPerformed(ActionEvent a) \n  {\n   //Display X's or O's on the buttons\n   if(gameWon == false)\n   {\n   if(a.getSource() == buttons[0][0])                  //Checking which button is pressed\n     {\n       buttons[0][0].setText(\"X\");\n       buttons[0][0].setEnabled(false);\n       WhoseTurn = 2;\n       moveCounter--;\n       compTurn(moveCounter);\n       checkWin(0,0);\n     } \n   else if(a.getSource() == buttons[0][1])\n     {\n       buttons[0][1].setText(\"X\");\n       buttons[0][1].setEnabled(false);\n       WhoseTurn = 2;\n       moveCounter--;\n       compTurn(moveCounter);\n       checkWin(0,1);\n     } \n   else if(a.getSource() == buttons[1][0])\n    {\n      buttons[1][0].setText(\"X\");  \n      buttons[1][0].setEnabled(false);\n      WhoseTurn = 2;\n      moveCounter--;\n      compTurn(moveCounter);\n      checkWin(1,0);\n    } \n   else if(a.getSource() == buttons[1][1])\n    {\n      buttons[1][1].setText(\"X\");\n      buttons[1][1].setEnabled(false);\n      WhoseTurn = 2;\n      moveCounter--;\n      compTurn(moveCounter);\n      checkWin(1,1);\n    }\n   else if(a.getSource() == buttons[1][2])\n    {\n      buttons[1][2].setText(\"X\");\n      buttons[1][2].setEnabled(false);\n      WhoseTurn = 2;\n      moveCounter--;\n      compTurn(moveCounter); \n      checkWin(1,2);\n    } \n   else if(a.getSource() == buttons[2][2])\n    {\n     buttons[2][2].setText(\"X\");\n     buttons[2][2].setEnabled(false);\n     WhoseTurn = 2;\n     moveCounter--;\n     compTurn(moveCounter);\n     checkWin(2,2);\n    } \n   else if(a.getSource() == buttons[0][2])\n    {\n     buttons[0][2].setText(\"X\");\n     buttons[0][2].setEnabled(false);\n     WhoseTurn = 2;\n     moveCounter--;\n     compTurn(moveCounter);\n     checkWin(0,2);\n    }\n   else if(a.getSource() == buttons[2][1])\n    {\n     buttons[2][1].setText(\"X\");\n     buttons[2][1].setEnabled(false);\n     WhoseTurn = 2;\n     moveCounter--;\n     compTurn(moveCounter);\n     checkWin(2,1);\n    }\n   else if(a.getSource() == buttons[2][0])\n    {\n     buttons[2][0].setText(\"X\");\n     buttons[2][0].setEnabled(false);\n     WhoseTurn = 2;\n     moveCounter--;\n     compTurn(moveCounter);\n     checkWin(2,0);\n    }\n   }\n   if(a.getSource() == reset)\n     {\n        for(int i = 0; i &lt; 3; i++)\n         { \n           for(int j = 0; j &lt; 3; j++)\n            {\n                gameWon = false;\n               buttons[i][j].setText(\"\"); \n               buttons[i][j].setEnabled(true);\n               moveCounter = 9;\n               WhoseTurn = 1;\n\n            }\n         }\n       }\n  }\n }\n\npublic static void main(String[] args)\n{\n  TicGUI game = new TicGUI();         //main method and instantiating tic tac object and calling initialize function\n  game.initialize();\n }\n}\n</code></pre>\n\n<p>If you continue to have problems, just ask!</p>\n\n<ul>\n<li>Jess Fan</li>\n</ul>\n\n<p>JEF1056\n[Musical artist, .Net programmer, Student]</p>\n\n<p><a href=\"https://itunes.apple.com/us/artist/jef1056/id1139804160\" rel=\"nofollow noreferrer\">https://itunes.apple.com/us/artist/jef1056/id1139804160</a>\n<a href=\"https://play.google.com/store/music/artist/JEF1056?id=Aovo6cz54vkx2ekexyl7eom6nwy\" rel=\"nofollow noreferrer\">https://play.google.com/store/music/artist/JEF1056?id=Aovo6cz54vkx2ekexyl7eom6nwy</a></p>\n"}],"owner":{"account_id":3991533,"reputation":11,"user_id":3290306,"display_name":"user3290306"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1701806916,"creation_date":1392518368,"question_id":21806608,"body_markdown":"So I am making a tic tac toe game with user friendly GUI interface.  I have almost completed the game but there seems to be a problem with my checkWin function.  Up to this point, everything was working just fine until I added the checkWin function and the parameters associated it with it.  Before I implemented the checkWin function, you would press a button, it would be marked X and then there would be an automated computer move that would place an O randomly on the board where there isn&#39;t an X.  Code is posted below.  When I run the code, and you press a button, the applet just freezes and you can&#39;t even exit out of it without end task, ctrl-alt-del...  Again, everything worked fine up until the checkWin function and now I&#39;m facing a run-time error.    \r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import java.util.*;\r\n                  \r\n    public class TicGUI extends JFrame \r\n        {\r\n    \r\n\t  JFrame frame = new JFrame(&quot;TicTacToe&quot;);                    //Global frame and grid button variables \r\n      JButton[][] buttons = new JButton[3][3];\r\n      JButton start = new JButton(&quot;Start&quot;);              //Create start/reset buttons for game\r\n      JButton reset = new JButton(&quot;Reset&quot;);\r\n      JOptionPane turn;\r\n      int moveCounter = 9;\r\n      boolean gameWon = false;\r\n\r\n\t\r\n     public TicGUI()                                        //Tic tac default constructor which adds and dimensions Jframe\r\n       {\r\n         super();\r\n         frame.setSize(350, 450);\r\n         frame.setDefaultCloseOperation(EXIT_ON_CLOSE);        //Setting dimension of Jframe and setting parameters\r\n         frame.setVisible(true);\r\n         frame.setResizable(false);\r\n       \r\n       }\r\n   \r\n      private void checkWin(int row, int col)\r\n        {\r\n          if(buttons[row][0].getText()==buttons[row][1].getText()&amp;&amp; buttons[row][1].getText()==buttons[row][2].getText())\r\n            {\r\n        \t  gameWon = true;\r\n              System.out.println(buttons[row][0].getText()+ &quot; wins!!!&quot;);         \r\n            }\r\n        else  if(buttons[0][col].getText()==buttons[1][col].getText()&amp;&amp; buttons[1][col].getText()==buttons[2][col].getText())\r\n           {\r\n        \t  gameWon = true;\r\n        \t  System.out.println(buttons[row][0].getText()+ &quot; wins!!!&quot;);\r\n           }\r\n        }\r\n      private void compTurn(int count)\r\n       { \r\n    \tint randomMove=count;\r\n    \tRandom num = new Random();\r\n    \trandomMove = num.nextInt(randomMove)+1;\r\n    \t\r\n         while(gameWon ==false)\r\n          {\r\n    \t   for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\r\n  \t        {\r\n  \t\t     for(int j = 0; j &lt; 3; j++) \r\n  \t\t      {                 \r\n  \t\t       if(buttons[i][j].isEnabled()==true)\r\n  \t\t        {\r\n  \t\t    \t   randomMove--;\r\n  \t\t         \r\n  \t\t    \t if(randomMove==0 )\r\n  \t\t    \t  {\r\n  \t\t    \t\tbuttons[i][j].setText(&quot;O&quot;);\r\n                    buttons[i][j].setEnabled(false);\r\n                    moveCounter--;\r\n                    checkWin(i, j);\r\n  \t\t    \t  }\r\n  \t\t         } \r\n  \t\t     \r\n  \t            }\r\n  \t          }\r\n            }\r\n          }\r\n    \r\n    private void initialize()             //Initialize tic tac toe game board\r\n       {\r\n    \t  JPanel mainPanel = new JPanel(new BorderLayout());         //create main panel container to put layer others on top\r\n          JPanel menu = new JPanel(new BorderLayout());\r\n          JPanel game = new JPanel(new GridLayout(3,3));                     //Create two more panels with layouts for buttons\r\n        \r\n          frame.add(mainPanel);                                         //add main container panel to frame\r\n        \r\n          mainPanel.setPreferredSize(new Dimension(325,425));\r\n          menu.setPreferredSize(new Dimension(300,50));                     //Setting dimensions of panels\r\n          game.setPreferredSize(new Dimension(300,300));\r\n        \r\n          mainPanel.add(menu, BorderLayout.NORTH);                   //Add two panels to the main container panel             \r\n          mainPanel.add(game, BorderLayout.SOUTH);\r\n        \r\n          menu.add(start, BorderLayout.WEST);                //Add both start/reset buttons to menu container panel\r\n          menu.add(reset, BorderLayout.EAST);\r\n          \r\n          start.addActionListener(new myActionListener());\r\n          reset.addActionListener(new myActionListener());\r\n        \r\n       for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\r\n   \t     {\r\n   \t\t  for(int j = 0; j &lt; 3; j++) \r\n   \t        {\r\n   \t\t \r\n   \t\t     buttons[i][j] = new JButton();                //Instantiating buttons \r\n   \t\t     buttons[i][j].setText(&quot;&quot;);\r\n   \t\t     buttons[i][j].setVisible(true);\r\n   \t\t   \r\n   \t\t     game.add(buttons[i][j]); \r\n   \t\t     buttons[i][j].addActionListener(new myActionListener());        //Adding response event to buttons\r\n   \t        }\r\n   \t     }\r\n       \r\n      }\r\n  \r\n     private class myActionListener implements ActionListener\r\n       {      //Implementing action listener for buttons\r\n \t     public void actionPerformed(ActionEvent a) \r\n          {\r\n \t \t   //Display X&#39;s or O&#39;s on the buttons \t\r\n \t       if(a.getSource() == buttons[0][0])                  //Checking which button is pressed\r\n \t \t     {\r\n \t \t       buttons[0][0].setText(&quot;X&quot;);\r\n \t \t       buttons[0][0].setEnabled(false);\r\n \t \t       moveCounter--;\r\n \t \t       compTurn(moveCounter);\r\n \t \t       checkWin(0,0);\r\n \t \t     } \r\n \t \t   else if(a.getSource() == buttons[0][1])\r\n \t \t     {\r\n \t \t       buttons[0][1].setText(&quot;X&quot;);\r\n \t \t       buttons[0][1].setEnabled(false);\r\n \t \t       moveCounter--;\r\n \t \t       compTurn(moveCounter);\r\n \t \t       checkWin(0,1);\r\n \t \t     } \r\n \t \t   else if(a.getSource() == buttons[1][0])\r\n \t \t    {\r\n \t \t      buttons[1][0].setText(&quot;X&quot;);  \r\n \t \t      buttons[1][0].setEnabled(false);\r\n \t \t      moveCounter--;\r\n \t \t      compTurn(moveCounter);\r\n \t \t      checkWin(1,0);\r\n \t \t    } \r\n \t \t   else if(a.getSource() == buttons[1][1])\r\n \t \t    {\r\n \t \t      buttons[1][1].setText(&quot;X&quot;);\r\n \t \t      buttons[1][1].setEnabled(false);\r\n \t \t      moveCounter--;\r\n \t \t      compTurn(moveCounter);\r\n \t \t      checkWin(1,1);\r\n \t \t    }\r\n \t \t   else if(a.getSource() == buttons[1][2])\r\n \t \t    {\r\n \t \t      buttons[1][2].setText(&quot;X&quot;);\r\n \t \t      buttons[1][2].setEnabled(false);\r\n \t \t      moveCounter--;\r\n \t \t      compTurn(moveCounter); \r\n \t \t      checkWin(1,2);\r\n \t \t    } \r\n \t \t   else if(a.getSource() == buttons[2][2])\r\n \t \t    {\r\n \t \t     buttons[2][2].setText(&quot;X&quot;);\r\n \t \t     buttons[2][2].setEnabled(false);\r\n \t \t     moveCounter--;\r\n \t \t     compTurn(moveCounter);\r\n \t \t     checkWin(2,2);\r\n \t \t    } \r\n \t \t   else if(a.getSource() == buttons[0][2])\r\n \t \t    {\r\n \t \t     buttons[0][2].setText(&quot;X&quot;);\r\n \t \t     buttons[0][2].setEnabled(false);\r\n \t \t     moveCounter--;\r\n \t \t     compTurn(moveCounter);\r\n \t \t     checkWin(0,2);\r\n \t \t    }\r\n \t \t   else if(a.getSource() == buttons[2][1])\r\n \t \t    {\r\n \t \t     buttons[2][1].setText(&quot;X&quot;);\r\n \t \t     buttons[2][1].setEnabled(false);\r\n \t \t     moveCounter--;\r\n \t \t     compTurn(moveCounter);\r\n \t \t     checkWin(2,1);\r\n \t \t    }\r\n \t \t   else if(a.getSource() == buttons[2][0])\r\n \t\t    {\r\n \t\t     buttons[2][0].setText(&quot;X&quot;);\r\n \t\t     buttons[2][0].setEnabled(false);\r\n \t\t     moveCounter--;\r\n \t\t     compTurn(moveCounter);\r\n \t\t     checkWin(2,0);\r\n \t\t    }\r\n \t \t   else if(a.getSource() == start)\r\n \t \t     {\r\n \t \t\t   turn = new JOptionPane(&quot;Do you want to go first?\\n&quot;,JOptionPane.QUESTION_MESSAGE, JOptionPane.YES_NO_OPTION);\r\n \t \t\t   start.setEnabled(false);\r\n \t \t     }\r\n \t \t   else if(a.getSource() == reset)\r\n \t \t     {\r\n \t \t\t    for(int i = 0; i &lt; 3; i++)\r\n \t \t\t     { \r\n \t \t\t       for(int j = 0; j &lt; 3; j++)\r\n \t \t\t        {\r\n \t \t\t    \t   buttons[i][j].setText(&quot;&quot;); \r\n \t \t\t    \t   buttons[i][j].setEnabled(true);\r\n \t \t\t    \t   gameWon = false;\r\n \t \t\t        }\r\n \t \t\t     }\r\n \t \t       }\r\n           }\r\n         }\r\n\r\n     public static void main(String[] args)\r\n        {\r\n    \t  TicGUI game = new TicGUI();         //main method and instantiating tic tac object and calling initialize function\r\n    \t  game.initialize();\r\n        }\r\n     }\r\n \r\n ","title":"Doing Tic Tac Toe game with GUI interface on java, facing runtime error after including new method","body":"<p>So I am making a tic tac toe game with user friendly GUI interface.  I have almost completed the game but there seems to be a problem with my checkWin function.  Up to this point, everything was working just fine until I added the checkWin function and the parameters associated it with it.  Before I implemented the checkWin function, you would press a button, it would be marked X and then there would be an automated computer move that would place an O randomly on the board where there isn't an X.  Code is posted below.  When I run the code, and you press a button, the applet just freezes and you can't even exit out of it without end task, ctrl-alt-del...  Again, everything worked fine up until the checkWin function and now I'm facing a run-time error.    </p>\n\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.*;\nimport java.util.*;\n\npublic class TicGUI extends JFrame \n    {\n\n  JFrame frame = new JFrame(\"TicTacToe\");                    //Global frame and grid button variables \n  JButton[][] buttons = new JButton[3][3];\n  JButton start = new JButton(\"Start\");              //Create start/reset buttons for game\n  JButton reset = new JButton(\"Reset\");\n  JOptionPane turn;\n  int moveCounter = 9;\n  boolean gameWon = false;\n\n\n public TicGUI()                                        //Tic tac default constructor which adds and dimensions Jframe\n   {\n     super();\n     frame.setSize(350, 450);\n     frame.setDefaultCloseOperation(EXIT_ON_CLOSE);        //Setting dimension of Jframe and setting parameters\n     frame.setVisible(true);\n     frame.setResizable(false);\n\n   }\n\n  private void checkWin(int row, int col)\n    {\n      if(buttons[row][0].getText()==buttons[row][1].getText()&amp;&amp; buttons[row][1].getText()==buttons[row][2].getText())\n        {\n          gameWon = true;\n          System.out.println(buttons[row][0].getText()+ \" wins!!!\");         \n        }\n    else  if(buttons[0][col].getText()==buttons[1][col].getText()&amp;&amp; buttons[1][col].getText()==buttons[2][col].getText())\n       {\n          gameWon = true;\n          System.out.println(buttons[row][0].getText()+ \" wins!!!\");\n       }\n    }\n  private void compTurn(int count)\n   { \n    int randomMove=count;\n    Random num = new Random();\n    randomMove = num.nextInt(randomMove)+1;\n\n     while(gameWon ==false)\n      {\n       for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\n        {\n         for(int j = 0; j &lt; 3; j++) \n          {                 \n           if(buttons[i][j].isEnabled()==true)\n            {\n               randomMove--;\n\n             if(randomMove==0 )\n              {\n                buttons[i][j].setText(\"O\");\n                buttons[i][j].setEnabled(false);\n                moveCounter--;\n                checkWin(i, j);\n              }\n             } \n\n            }\n          }\n        }\n      }\n\nprivate void initialize()             //Initialize tic tac toe game board\n   {\n      JPanel mainPanel = new JPanel(new BorderLayout());         //create main panel container to put layer others on top\n      JPanel menu = new JPanel(new BorderLayout());\n      JPanel game = new JPanel(new GridLayout(3,3));                     //Create two more panels with layouts for buttons\n\n      frame.add(mainPanel);                                         //add main container panel to frame\n\n      mainPanel.setPreferredSize(new Dimension(325,425));\n      menu.setPreferredSize(new Dimension(300,50));                     //Setting dimensions of panels\n      game.setPreferredSize(new Dimension(300,300));\n\n      mainPanel.add(menu, BorderLayout.NORTH);                   //Add two panels to the main container panel             \n      mainPanel.add(game, BorderLayout.SOUTH);\n\n      menu.add(start, BorderLayout.WEST);                //Add both start/reset buttons to menu container panel\n      menu.add(reset, BorderLayout.EAST);\n\n      start.addActionListener(new myActionListener());\n      reset.addActionListener(new myActionListener());\n\n   for(int i = 0; i &lt; 3; i++)                      //Create grid of buttons for tic tac toe game\n     {\n      for(int j = 0; j &lt; 3; j++) \n        {\n\n         buttons[i][j] = new JButton();                //Instantiating buttons \n         buttons[i][j].setText(\"\");\n         buttons[i][j].setVisible(true);\n\n         game.add(buttons[i][j]); \n         buttons[i][j].addActionListener(new myActionListener());        //Adding response event to buttons\n        }\n     }\n\n  }\n\n private class myActionListener implements ActionListener\n   {      //Implementing action listener for buttons\n     public void actionPerformed(ActionEvent a) \n      {\n       //Display X's or O's on the buttons  \n       if(a.getSource() == buttons[0][0])                  //Checking which button is pressed\n         {\n           buttons[0][0].setText(\"X\");\n           buttons[0][0].setEnabled(false);\n           moveCounter--;\n           compTurn(moveCounter);\n           checkWin(0,0);\n         } \n       else if(a.getSource() == buttons[0][1])\n         {\n           buttons[0][1].setText(\"X\");\n           buttons[0][1].setEnabled(false);\n           moveCounter--;\n           compTurn(moveCounter);\n           checkWin(0,1);\n         } \n       else if(a.getSource() == buttons[1][0])\n        {\n          buttons[1][0].setText(\"X\");  \n          buttons[1][0].setEnabled(false);\n          moveCounter--;\n          compTurn(moveCounter);\n          checkWin(1,0);\n        } \n       else if(a.getSource() == buttons[1][1])\n        {\n          buttons[1][1].setText(\"X\");\n          buttons[1][1].setEnabled(false);\n          moveCounter--;\n          compTurn(moveCounter);\n          checkWin(1,1);\n        }\n       else if(a.getSource() == buttons[1][2])\n        {\n          buttons[1][2].setText(\"X\");\n          buttons[1][2].setEnabled(false);\n          moveCounter--;\n          compTurn(moveCounter); \n          checkWin(1,2);\n        } \n       else if(a.getSource() == buttons[2][2])\n        {\n         buttons[2][2].setText(\"X\");\n         buttons[2][2].setEnabled(false);\n         moveCounter--;\n         compTurn(moveCounter);\n         checkWin(2,2);\n        } \n       else if(a.getSource() == buttons[0][2])\n        {\n         buttons[0][2].setText(\"X\");\n         buttons[0][2].setEnabled(false);\n         moveCounter--;\n         compTurn(moveCounter);\n         checkWin(0,2);\n        }\n       else if(a.getSource() == buttons[2][1])\n        {\n         buttons[2][1].setText(\"X\");\n         buttons[2][1].setEnabled(false);\n         moveCounter--;\n         compTurn(moveCounter);\n         checkWin(2,1);\n        }\n       else if(a.getSource() == buttons[2][0])\n        {\n         buttons[2][0].setText(\"X\");\n         buttons[2][0].setEnabled(false);\n         moveCounter--;\n         compTurn(moveCounter);\n         checkWin(2,0);\n        }\n       else if(a.getSource() == start)\n         {\n           turn = new JOptionPane(\"Do you want to go first?\\n\",JOptionPane.QUESTION_MESSAGE, JOptionPane.YES_NO_OPTION);\n           start.setEnabled(false);\n         }\n       else if(a.getSource() == reset)\n         {\n            for(int i = 0; i &lt; 3; i++)\n             { \n               for(int j = 0; j &lt; 3; j++)\n                {\n                   buttons[i][j].setText(\"\"); \n                   buttons[i][j].setEnabled(true);\n                   gameWon = false;\n                }\n             }\n           }\n       }\n     }\n\n public static void main(String[] args)\n    {\n      TicGUI game = new TicGUI();         //main method and instantiating tic tac object and calling initialize function\n      game.initialize();\n    }\n }\n</code></pre>\n"},{"tags":["java","amazon-web-services","graph","gremlin","amazon-neptune"],"answers":[{"comments":[{"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"score":0,"creation_date":1701881205,"post_id":77608924,"comment_id":136830543,"body_markdown":"Hi, I tried using \n\ng.V(&quot;User/123123123&quot;) based ids, however it didn&#39;t result into much performance diferrence.\n\nI need to query on depth 1 and 3, can it some how be optimized for that?","body":"Hi, I tried using   g.V(&quot;User/123123123&quot;) based ids, however it didn&#39;t result into much performance diferrence.  I need to query on depth 1 and 3, can it some how be optimized for that?"}],"tags":[],"owner":{"account_id":14025132,"reputation":2074,"user_id":10130372,"display_name":"Taylor Riggan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701806025,"creation_date":1701806025,"answer_id":77608924,"question_id":77608583,"body_markdown":"Do all users have a unique ID?  If so, you could likely speed up the first part of the query by storing the user IDs as the actual vertex ID and not bother with both a label check AND looking for a property value.  The fact that you&#39;re using a numeric as the ID, is also causing added latency as Neptune is going through the process of applying type promotion as part of the query execution.  Just use something like `user_1004` as the ID for the user vertex in this case.  Then you can do:\r\n\r\n```\r\ng.V(&#39;user_1004&#39;).\r\n    repeat(\r\n        both(\r\n            &#39;USES_UPI&#39;,\r\n            &#39;USES_ACCOUNT&#39;,\r\n            &#39;USES_HARDWARE_ID&#39;,\r\n            &#39;USES_GAID&#39;,\r\n            &#39;HAS_COOKIES&#39;).\r\n        simplePath().\r\n        dedup()).\r\n  times(3).\r\n  hasLabel(&#39;Gaid&#39;).\r\n  dedup().\r\n  count()\r\n ```\r\n\r\nIt also appears that there is a large amount of fan-out in the graph after the 2nd hop.  If you have super nodes in the graph, you may need to derive a method to detect those and mitigate them.  In most of these ID graph patterns, super nodes provide little value.  So placing an incrementing counter property on nodes to denote their fanout can more easily allow you to avoid traversing past the super node.  Then in the `repeat()` you can add something like `has(&#39;associated_ids&#39;, lt(10))` to filter out any nodes that have more downstream connections that you care about.","title":"Optimize neptune query while using repeat &amp; times","body":"<p>Do all users have a unique ID?  If so, you could likely speed up the first part of the query by storing the user IDs as the actual vertex ID and not bother with both a label check AND looking for a property value.  The fact that you're using a numeric as the ID, is also causing added latency as Neptune is going through the process of applying type promotion as part of the query execution.  Just use something like <code>user_1004</code> as the ID for the user vertex in this case.  Then you can do:</p>\n<pre><code>g.V('user_1004').\n    repeat(\n        both(\n            'USES_UPI',\n            'USES_ACCOUNT',\n            'USES_HARDWARE_ID',\n            'USES_GAID',\n            'HAS_COOKIES').\n        simplePath().\n        dedup()).\n  times(3).\n  hasLabel('Gaid').\n  dedup().\n  count()\n</code></pre>\n<p>It also appears that there is a large amount of fan-out in the graph after the 2nd hop.  If you have super nodes in the graph, you may need to derive a method to detect those and mitigate them.  In most of these ID graph patterns, super nodes provide little value.  So placing an incrementing counter property on nodes to denote their fanout can more easily allow you to avoid traversing past the super node.  Then in the <code>repeat()</code> you can add something like <code>has('associated_ids', lt(10))</code> to filter out any nodes that have more downstream connections that you care about.</p>\n"}],"owner":{"account_id":7768515,"reputation":1636,"user_id":7972621,"display_name":"Ankit Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701806025,"creation_date":1701801959,"question_id":77608583,"body_markdown":"I have the following neptune query\r\n\r\n```\r\ng.V().hasLabel(&#39;User&#39;)\r\n  .has(&#39;user_id&#39;, 1004)\r\n.repeat(both(&#39;USES_UPI&#39;,&#39;USES_ACCOUNT&#39;,&#39;USES_HARDWARE_ID&#39;,&#39;USES_GAID&#39;,&#39;HAS_COOKIES&#39;).simplePath().dedup())\r\n  .times(3)\r\n  .hasLabel(&#39;Gaid&#39;)\r\n  .dedup()\r\n  .count()\r\n```\r\n\r\nand it&#39;s taking too much time.\r\n\r\nI tried profiling the query\r\n\r\n\r\n```\r\nOriginal Traversal\r\n==================\r\n[GraphStep(vertex,[]), HasStep([~label.eq(User), user_id.eq(159017810)]), RepeatStep([VertexStep(BOTH,[USES_UPI, USES_ACCOUNT, USES_HARDWARE_ID, USES_GAID, HAS_COOKIES],vertex), PathFilterStep(simple,null,null), DedupGlobalStep(null,null), RepeatEndStep],until(loops(3)),emit(false)), HasStep([~label.eq(Gaid)]), DedupGlobalStep(null,null), CountGlobalStep]\r\n\r\nOptimized Traversal\r\n===================\r\nNeptune steps:\r\n[\r\n    NeptuneGraphQueryStep(Vertex) {\r\n        JoinGroupNode {\r\n            PatternNode[(?1, &lt;user_id&gt;, ?9, ?) . project distinct ?1 . ContainsFilter(?9 in (159017810^^&lt;INT&gt;, 159017810^^&lt;LONG&gt;, 1.59017808E8^^&lt;FLOAT&gt;, 1.5901781E8^^&lt;DOUBLE&gt;)) .], {estimatedCardinality=1, expectedTotalOutput=1, indexTime=0, joinTime=0, numSearches=1, actualTotalOutput=1}\r\n            PatternNode[(?1, &lt;~label&gt;, ?2=&lt;User&gt;, &lt;~&gt;) . project ask .], {estimatedCardinality=1327714, expectedTotalOutput=679, actualTotalOutput=379683, indexTime=0, joinTime=0, numSearches=1}\r\n            RepeatNode {\r\n                Repeat {\r\n                    JoinGroupNode {\r\n                        UnionNode {\r\n                            PatternNode[(?3, ?6, ?4, ?7) . project ?3,?4 . IsEdgeIdFilter(?7) . ContainsFilter(?6 in (&lt;USES_UPI&gt;, &lt;USES_ACCOUNT&gt;, &lt;USES_HARDWARE_ID&gt;, &lt;USES_GAID&gt;, &lt;HAS_COOKIES&gt;)) .], {cacheJoin=true, estimatedCardinality=1923966, indexTime=354, joinTime=26212, numSearches=379683}\r\n                            PatternNode[(?4, ?6, ?3, ?7) . project ?3,?4 . IsEdgeIdFilter(?7) . ContainsFilter(?6 in (&lt;USES_UPI&gt;, &lt;USES_ACCOUNT&gt;, &lt;USES_HARDWARE_ID&gt;, &lt;USES_GAID&gt;, &lt;HAS_COOKIES&gt;)) .], {cacheJoin=true, estimatedCardinality=1923966, indexTime=356, joinTime=19633, numSearches=379683}\r\n                        }, annotations={estimatedCardinality=3847932}\r\n                        SimplePathFilter(?1, ?4)) .\r\n                    }\r\n                }\r\n                LoopsCondition {\r\n                    LoopsFilter(?3,eq(3))\r\n                }\r\n            }, annotations={emitFirst=false, untilFirst=false, repeatMode=BFS, dedup=true}\r\n        }, annotations={path=[Vertex(?1):GraphStep, Repeat[̶V̶e̶r̶t̶e̶x̶(̶?̶3̶)̶:̶G̶r̶a̶p̶h̶S̶t̶e̶p̶, Vertex(?4):VertexStep, ̶V̶e̶r̶t̶e̶x̶(̶?̶8̶)̶:̶V̶e̶r̶t̶e̶x̶S̶t̶e̶p̶]], joinStats=true, optimizationTime=2, maxVarId=10, executionTime=107826}\r\n    },\r\n    NeptuneTraverserConverterStep\r\n]\r\n+ not converted into Neptune steps: NeptuneHasStep([~label.eq(Gaid)]),\r\nNeptune steps:\r\n[\r\n    NeptuneMemoryTrackerStep\r\n]\r\n+ not converted into Neptune steps: DedupGlobalStep(null,null),CountGlobalStep,\r\n\r\nWARNING: &gt;&gt; [NeptuneHasStep([~label.eq(Gaid)]), DedupGlobalStep(null,null)] &lt;&lt; (or one of the children for each step) is not supported natively yet\r\n\r\n\r\n\r\nRuntime (ms)\r\n============\r\nQuery Execution: 107828.341\r\n\r\nTraversal Metrics\r\n=================\r\nStep                                                               Count  Traversers       Time (ms)    % Dur\r\n-------------------------------------------------------------------------------------------------------------\r\nNeptuneGraphQueryStep(Vertex)                                     743022      743022       52892.767    49.06\r\nNeptuneTraverserConverterStep                                     743022      743022        8142.297     7.55\r\nNeptuneHasStep([~label.eq(Gaid)])                                   4138        4138       46695.267    43.32\r\nDedupGlobalStep(null,null)                                          4138        4138          48.927     0.05\r\nCountGlobalStep                                                        1           1          22.215     0.02\r\n                                            &gt;TOTAL                     -           -      107801.475        -\r\n\r\nRepeat Metrics\r\n==============\r\nIteration  Visited   Output    Until     Emit     Next\r\n------------------------------------------------------\r\n        0        1        0        0        0        1\r\n        1        3        0        0        0        3\r\n        2   379679        0        0        0   379679\r\n        3   743022   743022   743022        0        0\r\n------------------------------------------------------\r\n           1122705   743022   743022        0   379683\r\n\r\nPredicates\r\n==========\r\n# of predicates: 26\r\n\r\nResults\r\n=======\r\nCount: 1\r\n\r\n\r\nIndex Operations\r\n================\r\nQuery execution:\r\n    # of statement index ops: 1,502,390\r\n    # of unique statement index ops: 1,502,390\r\n    Duplication ratio: 1.0\r\n    # of terms materialized: 162\r\n```\r\n\r\n\r\nRight now it&#39;s taking time in seconds, can it be optimized somehow?","title":"Optimize neptune query while using repeat &amp; times","body":"<p>I have the following neptune query</p>\n<pre><code>g.V().hasLabel('User')\n  .has('user_id', 1004)\n.repeat(both('USES_UPI','USES_ACCOUNT','USES_HARDWARE_ID','USES_GAID','HAS_COOKIES').simplePath().dedup())\n  .times(3)\n  .hasLabel('Gaid')\n  .dedup()\n  .count()\n</code></pre>\n<p>and it's taking too much time.</p>\n<p>I tried profiling the query</p>\n<pre><code>Original Traversal\n==================\n[GraphStep(vertex,[]), HasStep([~label.eq(User), user_id.eq(159017810)]), RepeatStep([VertexStep(BOTH,[USES_UPI, USES_ACCOUNT, USES_HARDWARE_ID, USES_GAID, HAS_COOKIES],vertex), PathFilterStep(simple,null,null), DedupGlobalStep(null,null), RepeatEndStep],until(loops(3)),emit(false)), HasStep([~label.eq(Gaid)]), DedupGlobalStep(null,null), CountGlobalStep]\n\nOptimized Traversal\n===================\nNeptune steps:\n[\n    NeptuneGraphQueryStep(Vertex) {\n        JoinGroupNode {\n            PatternNode[(?1, &lt;user_id&gt;, ?9, ?) . project distinct ?1 . ContainsFilter(?9 in (159017810^^&lt;INT&gt;, 159017810^^&lt;LONG&gt;, 1.59017808E8^^&lt;FLOAT&gt;, 1.5901781E8^^&lt;DOUBLE&gt;)) .], {estimatedCardinality=1, expectedTotalOutput=1, indexTime=0, joinTime=0, numSearches=1, actualTotalOutput=1}\n            PatternNode[(?1, &lt;~label&gt;, ?2=&lt;User&gt;, &lt;~&gt;) . project ask .], {estimatedCardinality=1327714, expectedTotalOutput=679, actualTotalOutput=379683, indexTime=0, joinTime=0, numSearches=1}\n            RepeatNode {\n                Repeat {\n                    JoinGroupNode {\n                        UnionNode {\n                            PatternNode[(?3, ?6, ?4, ?7) . project ?3,?4 . IsEdgeIdFilter(?7) . ContainsFilter(?6 in (&lt;USES_UPI&gt;, &lt;USES_ACCOUNT&gt;, &lt;USES_HARDWARE_ID&gt;, &lt;USES_GAID&gt;, &lt;HAS_COOKIES&gt;)) .], {cacheJoin=true, estimatedCardinality=1923966, indexTime=354, joinTime=26212, numSearches=379683}\n                            PatternNode[(?4, ?6, ?3, ?7) . project ?3,?4 . IsEdgeIdFilter(?7) . ContainsFilter(?6 in (&lt;USES_UPI&gt;, &lt;USES_ACCOUNT&gt;, &lt;USES_HARDWARE_ID&gt;, &lt;USES_GAID&gt;, &lt;HAS_COOKIES&gt;)) .], {cacheJoin=true, estimatedCardinality=1923966, indexTime=356, joinTime=19633, numSearches=379683}\n                        }, annotations={estimatedCardinality=3847932}\n                        SimplePathFilter(?1, ?4)) .\n                    }\n                }\n                LoopsCondition {\n                    LoopsFilter(?3,eq(3))\n                }\n            }, annotations={emitFirst=false, untilFirst=false, repeatMode=BFS, dedup=true}\n        }, annotations={path=[Vertex(?1):GraphStep, Repeat[̶V̶e̶r̶t̶e̶x̶(̶?̶3̶)̶:̶G̶r̶a̶p̶h̶S̶t̶e̶p̶, Vertex(?4):VertexStep, ̶V̶e̶r̶t̶e̶x̶(̶?̶8̶)̶:̶V̶e̶r̶t̶e̶x̶S̶t̶e̶p̶]], joinStats=true, optimizationTime=2, maxVarId=10, executionTime=107826}\n    },\n    NeptuneTraverserConverterStep\n]\n+ not converted into Neptune steps: NeptuneHasStep([~label.eq(Gaid)]),\nNeptune steps:\n[\n    NeptuneMemoryTrackerStep\n]\n+ not converted into Neptune steps: DedupGlobalStep(null,null),CountGlobalStep,\n\nWARNING: &gt;&gt; [NeptuneHasStep([~label.eq(Gaid)]), DedupGlobalStep(null,null)] &lt;&lt; (or one of the children for each step) is not supported natively yet\n\n\n\nRuntime (ms)\n============\nQuery Execution: 107828.341\n\nTraversal Metrics\n=================\nStep                                                               Count  Traversers       Time (ms)    % Dur\n-------------------------------------------------------------------------------------------------------------\nNeptuneGraphQueryStep(Vertex)                                     743022      743022       52892.767    49.06\nNeptuneTraverserConverterStep                                     743022      743022        8142.297     7.55\nNeptuneHasStep([~label.eq(Gaid)])                                   4138        4138       46695.267    43.32\nDedupGlobalStep(null,null)                                          4138        4138          48.927     0.05\nCountGlobalStep                                                        1           1          22.215     0.02\n                                            &gt;TOTAL                     -           -      107801.475        -\n\nRepeat Metrics\n==============\nIteration  Visited   Output    Until     Emit     Next\n------------------------------------------------------\n        0        1        0        0        0        1\n        1        3        0        0        0        3\n        2   379679        0        0        0   379679\n        3   743022   743022   743022        0        0\n------------------------------------------------------\n           1122705   743022   743022        0   379683\n\nPredicates\n==========\n# of predicates: 26\n\nResults\n=======\nCount: 1\n\n\nIndex Operations\n================\nQuery execution:\n    # of statement index ops: 1,502,390\n    # of unique statement index ops: 1,502,390\n    Duplication ratio: 1.0\n    # of terms materialized: 162\n</code></pre>\n<p>Right now it's taking time in seconds, can it be optimized somehow?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4711119,"reputation":1624,"user_id":3811599,"accept_rate":75,"display_name":"Marcel"},"score":0,"creation_date":1445884217,"post_id":33353008,"comment_id":54501701,"body_markdown":"Did you tried to remove the &quot;,&quot; in the Double string?","body":"Did you tried to remove the &quot;,&quot; in the Double string?"},{"owner":{"account_id":5735072,"reputation":370,"user_id":4529570,"accept_rate":100,"display_name":"ccc"},"score":4,"creation_date":1445885090,"post_id":33353008,"comment_id":54502222,"body_markdown":"Possible duplicate of [Best way to parseDouble with comma as decimal separator?](http://stackoverflow.com/questions/4323599/best-way-to-parsedouble-with-comma-as-decimal-separator)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4323599/best-way-to-parsedouble-with-comma-as-decimal-separator\">Best way to parseDouble with comma as decimal separator?</a>"}],"answers":[{"tags":[],"owner":{"account_id":2401857,"reputation":157,"user_id":5430900,"display_name":"Prem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445884210,"creation_date":1445884210,"answer_id":33353067,"question_id":33353008,"body_markdown":"You should remove the comma (,) from your string:\r\n\r\nThis will work:\r\n\r\n    double d = Double.parseDouble(&quot;40123.012345678901&quot;); ","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>You should remove the comma (,) from your string:</p>\n\n<p>This will work:</p>\n\n<pre><code>double d = Double.parseDouble(\"40123.012345678901\"); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":78500,"reputation":149064,"user_id":223386,"accept_rate":99,"display_name":"hsz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445884247,"creation_date":1445884247,"answer_id":33353076,"question_id":33353008,"body_markdown":"The simplest way is to remove comma:\r\n\r\n    double d = Double.parseDouble(&quot;40,123.012345678901&quot;.replace(&quot;,&quot;, &quot;&quot;)); \r\n","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>The simplest way is to remove comma:</p>\n\n<pre><code>double d = Double.parseDouble(\"40,123.012345678901\".replace(\",\", \"\")); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1445884266,"creation_date":1445884266,"answer_id":33353080,"question_id":33353008,"body_markdown":"A `double` is limited to around 16 digits of precision.  If you need more precision, you should use BigDecimal.\r\n\r\n    BigDecimal bd = new BigDecimal(&quot;40,123.012345678901&quot;.replace(&quot;,&quot;, &quot;&quot;)); ","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>A <code>double</code> is limited to around 16 digits of precision.  If you need more precision, you should use BigDecimal.</p>\n\n<pre><code>BigDecimal bd = new BigDecimal(\"40,123.012345678901\".replace(\",\", \"\")); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4660020,"reputation":404,"user_id":3774523,"display_name":"algor"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1445884468,"creation_date":1445884468,"answer_id":33353141,"question_id":33353008,"body_markdown":"If there is no way to get rid of comma(,) you may use another approach:\r\n\r\n    NumberFormat format = NumberFormat.getInstance(Locale.US);\r\n    Number number = format.parse(&quot;40,123.012345678901&quot;);\r\n    double d = number.doubleValue();","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>If there is no way to get rid of comma(,) you may use another approach:</p>\n\n<pre><code>NumberFormat format = NumberFormat.getInstance(Locale.US);\nNumber number = format.parse(\"40,123.012345678901\");\ndouble d = number.doubleValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5735072,"reputation":370,"user_id":4529570,"accept_rate":100,"display_name":"ccc"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445884806,"creation_date":1445884806,"answer_id":33353222,"question_id":33353008,"body_markdown":"Use `NumberFormat` to get `double` value,\r\n\r\n        try {\r\n            NumberFormat format = NumberFormat.getInstance();\r\n            Number parse = format.parse(&quot;40,123.012345678901&quot;);\r\n            System.out.println(parse.doubleValue());\r\n        } catch (ParseException ex) {\r\n            System.out.println(ex.getMessage());\r\n        }","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>Use <code>NumberFormat</code> to get <code>double</code> value,</p>\n\n<pre><code>    try {\n        NumberFormat format = NumberFormat.getInstance();\n        Number parse = format.parse(\"40,123.012345678901\");\n        System.out.println(parse.doubleValue());\n    } catch (ParseException ex) {\n        System.out.println(ex.getMessage());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2919557,"reputation":7353,"user_id":2502126,"accept_rate":20,"display_name":"Buzz Moschetti"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701805317,"creation_date":1701805317,"answer_id":77608864,"question_id":33353008,"body_markdown":"Careful.  `double` is not infinitely large.  10 or more decimals starts to cut down on the size of the integer portion.   Indeed, even the string `40123.012345678901` in the question does not completely roundtrip:\r\n```java\r\npublic static void show(String s) {\r\n    double d = Double.parseDouble(s);\r\n    System.out.printf(&quot;[%s] [%f] [%.15f]\\n&quot;, s, d, d);\r\n}\r\n\r\nshow(&quot;40123.012345678901&quot;);\r\n[40123.012345678901] [40123.012346] [40123.012345678900000] // lost the 1.\r\nshow(&quot;40123.0123456789012345&quot;);\r\n[40123.0123456789012345] [40123.012346] [40123.012345678900000] // lost 12345\r\n\r\nshow(&quot;4.0123456789012345&quot;); // less integer digits:\r\n[4.0123456789012345] [4.012346] [4.012345678901235]  // we picked up 12345 again!\r\n\r\nshow(&quot;123456789.0123456789012345&quot;); \r\n[123456789.0123456789012345] [123456789.012346] [123456789.012345670000000]  // lost 9012345!\r\n```\r\n","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>Careful.  <code>double</code> is not infinitely large.  10 or more decimals starts to cut down on the size of the integer portion.   Indeed, even the string <code>40123.012345678901</code> in the question does not completely roundtrip:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void show(String s) {\n    double d = Double.parseDouble(s);\n    System.out.printf(&quot;[%s] [%f] [%.15f]\\n&quot;, s, d, d);\n}\n\nshow(&quot;40123.012345678901&quot;);\n[40123.012345678901] [40123.012346] [40123.012345678900000] // lost the 1.\nshow(&quot;40123.0123456789012345&quot;);\n[40123.0123456789012345] [40123.012346] [40123.012345678900000] // lost 12345\n\nshow(&quot;4.0123456789012345&quot;); // less integer digits:\n[4.0123456789012345] [4.012346] [4.012345678901235]  // we picked up 12345 again!\n\nshow(&quot;123456789.0123456789012345&quot;); \n[123456789.0123456789012345] [123456789.012346] [123456789.012345670000000]  // lost 9012345!\n</code></pre>\n"}],"owner":{"account_id":7189687,"reputation":1,"user_id":5490498,"display_name":"S M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1701805317,"creation_date":1445883981,"question_id":33353008,"body_markdown":"How do I convert a string such as  `40,123.012345678901`  to a `double`?\r\n\r\n    double d = Double.parseDouble(&quot;40,123.012345678901&quot;); \r\n\r\nthrows a number format exception.\r\n\r\nThanks\r\n","title":"Java - Convert a string to double with 10 or more decimals","body":"<p>How do I convert a string such as  <code>40,123.012345678901</code>  to a <code>double</code>?</p>\n\n<pre><code>double d = Double.parseDouble(\"40,123.012345678901\"); \n</code></pre>\n\n<p>throws a number format exception.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","arrays","multidimensional-array","dynamic-arrays"],"comments":[{"owner":{"account_id":3771148,"reputation":34933,"user_id":3133316,"display_name":"PaulMcKenzie"},"score":0,"creation_date":1701647559,"post_id":77596228,"comment_id":136798478,"body_markdown":"Do not use the `dsa` tag.  The `dsa` tag is for `Digital Signature Algorithm`.","body":"Do not use the <code>dsa</code> tag.  The <code>dsa</code> tag is for <code>Digital Signature Algorithm</code>."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1701648064,"post_id":77596228,"comment_id":136798513,"body_markdown":"Assumes `rows=3`. When you do `new int[rows][];`, you created an array like `[null, null, null]`. When you do `new int[rows][2]`, you get `[[0, 0], [0, 0], [0, 0]]`. You need to initialize those arrays yourself if you&#39;re using variable dimensions. Basically, you created an array of `int[]` (an object, which defaults to `null`) vs `int[col]` (an array of length `col`, with default values of 0).","body":"Assumes <code>rows=3</code>. When you do <code>new int[rows][];</code>, you created an array like <code>[null, null, null]</code>. When you do <code>new int[rows][2]</code>, you get <code>[[0, 0], [0, 0], [0, 0]]</code>. You need to initialize those arrays yourself if you&#39;re using variable dimensions. Basically, you created an array of <code>int[]</code> (an object, which defaults to <code>null</code>) vs <code>int[col]</code> (an array of length <code>col</code>, with default values of 0)."}],"answers":[{"comments":[{"owner":{"account_id":30057627,"reputation":1,"user_id":23034568,"display_name":"Vidita Singh"},"score":0,"creation_date":1701687077,"post_id":77597871,"comment_id":136802311,"body_markdown":"but this defines static no of columns i.e for every array there will be fixed no of elements I want the user to input how many elements does the each array contain.","body":"but this defines static no of columns i.e for every array there will be fixed no of elements I want the user to input how many elements does the each array contain."},{"owner":{"account_id":5941380,"reputation":4127,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"score":0,"creation_date":1701687265,"post_id":77597871,"comment_id":136802350,"body_markdown":"That is being catered by above program it asked for array size from user","body":"That is being catered by above program it asked for array size from user"}],"tags":[],"owner":{"account_id":5941380,"reputation":4127,"user_id":4672460,"accept_rate":100,"display_name":"Selaka Nanayakkara"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701676005,"creation_date":1701676005,"answer_id":77597871,"question_id":77596228,"body_markdown":"The below code takes input from user for the Columns and Rows and Insert values according asking from user to input the value and then Prints them for users reference.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    \r\n    public class Main\r\n    {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n            Scanner scanner = new Scanner(System.in);\r\n    \r\n            // Get the dimensions of the array from the user\r\n            System.out.print(&quot;Enter the number of rows: &quot;);\r\n            int rows = scanner.nextInt();\r\n    \r\n            System.out.print(&quot;Enter the number of columns: &quot;);\r\n            int columns = scanner.nextInt();\r\n    \r\n            // Create a 2D array based on user input\r\n            int[][] array = new int[rows][columns];\r\n    \r\n            // Take input for each element of the array\r\n            System.out.println(&quot;Enter the elements of the array:&quot;);\r\n    \r\n            for (int i = 0; i &lt; rows; i++) {\r\n                for (int j = 0; j &lt; columns; j++) {\r\n                    System.out.print(&quot;Enter element at position [&quot; + i + &quot;][&quot; + j + &quot;]: &quot;);\r\n                    array[i][j] = scanner.nextInt();\r\n                }\r\n            }\r\n    \r\n            // Print the elements of the array\r\n            System.out.println(&quot;The array is:&quot;);\r\n    \r\n            for (int i = 0; i &lt; rows; i++) {\r\n                for (int j = 0; j &lt; columns; j++) {\r\n                    System.out.print(array[i][j] + &quot; &quot;);\r\n                }\r\n                System.out.println();  // Move to the next line after each row\r\n            }\r\n    \r\n            // Close the scanner to avoid resource leak\r\n            scanner.close();\r\n    \t}\r\n    }\r\n\r\n&gt; Refer the working code [here][1]\r\n\r\n\r\n  [1]: https://onlinegdb.com/afbLtuZfU","title":"How do I Take 2D array with variable columns as input from user in Java?","body":"<p>The below code takes input from user for the Columns and Rows and Insert values according asking from user to input the value and then Prints them for users reference.</p>\n<pre><code>import java.util.Scanner;\n\n\npublic class Main\n{\n    public static void main(String[] args) {\n        \n        Scanner scanner = new Scanner(System.in);\n\n        // Get the dimensions of the array from the user\n        System.out.print(&quot;Enter the number of rows: &quot;);\n        int rows = scanner.nextInt();\n\n        System.out.print(&quot;Enter the number of columns: &quot;);\n        int columns = scanner.nextInt();\n\n        // Create a 2D array based on user input\n        int[][] array = new int[rows][columns];\n\n        // Take input for each element of the array\n        System.out.println(&quot;Enter the elements of the array:&quot;);\n\n        for (int i = 0; i &lt; rows; i++) {\n            for (int j = 0; j &lt; columns; j++) {\n                System.out.print(&quot;Enter element at position [&quot; + i + &quot;][&quot; + j + &quot;]: &quot;);\n                array[i][j] = scanner.nextInt();\n            }\n        }\n\n        // Print the elements of the array\n        System.out.println(&quot;The array is:&quot;);\n\n        for (int i = 0; i &lt; rows; i++) {\n            for (int j = 0; j &lt; columns; j++) {\n                System.out.print(array[i][j] + &quot; &quot;);\n            }\n            System.out.println();  // Move to the next line after each row\n        }\n\n        // Close the scanner to avoid resource leak\n        scanner.close();\n    }\n}\n</code></pre>\n<blockquote>\n<p>Refer the working code <a href=\"https://onlinegdb.com/afbLtuZfU\" rel=\"nofollow noreferrer\">here</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":30057627,"reputation":1,"user_id":23034568,"display_name":"Vidita Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701804638,"creation_date":1701804638,"answer_id":77608816,"question_id":77596228,"body_markdown":"It works using the following code:\r\n\r\n    System.out.print(&quot;enter no. of rows: &quot;);\r\n        int rows = sc.nextInt();\r\n\r\n        int col = 10;\r\n        int[][] arr = new int[rows][col];\r\n\r\n        for (int r=0; r&lt;arr.length; r++) {\r\n\r\n            System.out.printf(&quot;Enter no. of elements in array %d (should be less than 10): &quot;,r+1);\r\n            col = sc.nextInt();\r\n\r\n            for (int c=0; c&lt;col;c++){\r\n\r\n                System.out.printf(&quot;Enter element [%d][%d]: &quot;,r+1,c+1);\r\n                arr[r][c] = sc.nextInt();\r\n            }\r\n        }\r\n\r\nThe col  numbers however must be less than the ones defined statically.","title":"How do I Take 2D array with variable columns as input from user in Java?","body":"<p>It works using the following code:</p>\n<pre><code>System.out.print(&quot;enter no. of rows: &quot;);\n    int rows = sc.nextInt();\n\n    int col = 10;\n    int[][] arr = new int[rows][col];\n\n    for (int r=0; r&lt;arr.length; r++) {\n\n        System.out.printf(&quot;Enter no. of elements in array %d (should be less than 10): &quot;,r+1);\n        col = sc.nextInt();\n\n        for (int c=0; c&lt;col;c++){\n\n            System.out.printf(&quot;Enter element [%d][%d]: &quot;,r+1,c+1);\n            arr[r][c] = sc.nextInt();\n        }\n    }\n</code></pre>\n<p>The col  numbers however must be less than the ones defined statically.</p>\n"}],"owner":{"account_id":30057627,"reputation":1,"user_id":23034568,"display_name":"Vidita Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701804638,"creation_date":1701638600,"question_id":77596228,"body_markdown":"I want to take a 2D array with each element as an input from user.\r\nHowever, I want the user to specify in each array(i.e the column part or the each individual array) how many elements are there i.e taking variable columns.\r\n\r\n\r\nI entered the following code:\r\n\r\n```\r\nSystem.out.print(&quot;enter no. of rows: &quot;);\r\n        int rows = sc.nextInt();\r\n\r\n        int[][] arr = new int[rows][];\r\n\r\n        for (int r=0; r&lt;arr.length; r++) {\r\n            System.out.print(&quot;Enter no. of elements in array &quot;+r +&quot;: &quot;);\r\n            int col = sc.nextInt();\r\n\r\n            for (int c=0; c&lt;col;c++){\r\n\r\n                System.out.print(&quot;Enter element &quot;+c +&quot;: &quot;);\r\n                arr[r][c] = sc.nextInt();\r\n            }\r\n        }\r\n\r\n        for (int[] x :\r\n                arr) {\r\n            System.out.println(Arrays.toString(x));\r\n        }\r\n```\r\n\r\nIt should take input of a 2D array with variable columns as defined by user and print it.\r\nBut,\r\nIt shows the following error:\r\n[Error in code](https://i.stack.imgur.com/W6i0E.png)\r\n\r\n\r\n----------\r\nHowever when I define the number of columns it works fine.\r\nlike this:\r\n\r\n    System.out.print(&quot;enter no. of rows: &quot;);\r\n        int rows = sc.nextInt();\r\n        System.out.print(&quot;Enter no. of elements in each array : &quot;);\r\n        int col = sc.nextInt();\r\n        int[][] arr = new int[rows][col];\r\n\r\n        for (int r=0; r&lt;arr.length; r++) {\r\n\r\n\r\n            for (int c=0; c&lt;col;c++){\r\n\r\n                System.out.print(&quot;Enter element &quot;+c +&quot;: &quot;);\r\n                arr[r][c] = sc.nextInt();\r\n            }\r\n        }\r\n\r\n        for (int[] x :\r\n                arr) {\r\n            System.out.println(Arrays.toString(x));\r\n        }\r\n    }\r\n\r\n----------\r\n\r\n\r\n","title":"How do I Take 2D array with variable columns as input from user in Java?","body":"<p>I want to take a 2D array with each element as an input from user.\nHowever, I want the user to specify in each array(i.e the column part or the each individual array) how many elements are there i.e taking variable columns.</p>\n<p>I entered the following code:</p>\n<pre><code>System.out.print(&quot;enter no. of rows: &quot;);\n        int rows = sc.nextInt();\n\n        int[][] arr = new int[rows][];\n\n        for (int r=0; r&lt;arr.length; r++) {\n            System.out.print(&quot;Enter no. of elements in array &quot;+r +&quot;: &quot;);\n            int col = sc.nextInt();\n\n            for (int c=0; c&lt;col;c++){\n\n                System.out.print(&quot;Enter element &quot;+c +&quot;: &quot;);\n                arr[r][c] = sc.nextInt();\n            }\n        }\n\n        for (int[] x :\n                arr) {\n            System.out.println(Arrays.toString(x));\n        }\n</code></pre>\n<p>It should take input of a 2D array with variable columns as defined by user and print it.\nBut,\nIt shows the following error:\n<a href=\"https://i.stack.imgur.com/W6i0E.png\" rel=\"nofollow noreferrer\">Error in code</a></p>\n<hr />\n<p>However when I define the number of columns it works fine.\nlike this:</p>\n<pre><code>System.out.print(&quot;enter no. of rows: &quot;);\n    int rows = sc.nextInt();\n    System.out.print(&quot;Enter no. of elements in each array : &quot;);\n    int col = sc.nextInt();\n    int[][] arr = new int[rows][col];\n\n    for (int r=0; r&lt;arr.length; r++) {\n\n\n        for (int c=0; c&lt;col;c++){\n\n            System.out.print(&quot;Enter element &quot;+c +&quot;: &quot;);\n            arr[r][c] = sc.nextInt();\n        }\n    }\n\n    for (int[] x :\n            arr) {\n        System.out.println(Arrays.toString(x));\n    }\n}\n</code></pre>\n<hr />\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1653418176,"post_id":72366267,"comment_id":127846860,"body_markdown":"What is the compiler error you get.","body":"What is the compiler error you get."},{"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"score":0,"creation_date":1653420444,"post_id":72366267,"comment_id":127847526,"body_markdown":"@M.Deinum added compilation error","body":"@M.Deinum added compilation error"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1653456695,"post_id":72366267,"comment_id":127853903,"body_markdown":"Hmm. Thats weird, the docs state that it should work, the javadoc clearly indicates that there is no `access(String)` method. Appears to be an omission somewhere. I would create an issue in the spring security bug tracker as it is either wrong documentation or missing code.","body":"Hmm. Thats weird, the docs state that it should work, the javadoc clearly indicates that there is no <code>access(String)</code> method. Appears to be an omission somewhere. I would create an issue in the spring security bug tracker as it is either wrong documentation or missing code."},{"owner":{"account_id":13426329,"reputation":103,"user_id":9687563,"display_name":"lucas"},"score":0,"creation_date":1688972983,"post_id":72366267,"comment_id":135141298,"body_markdown":"Is it possible to use hasIpAddress with spring security 6 ?","body":"Is it possible to use hasIpAddress with spring security 6 ?"},{"owner":{"account_id":4107094,"reputation":350,"user_id":3370777,"display_name":"James"},"score":0,"creation_date":1697809970,"post_id":72366267,"comment_id":136330169,"body_markdown":"ciao @lucas, no it is not i myself has been struggling. the only thing i foud that remotely works: `http.authorizeHttpRequests(authorize -&gt; {\n       \n            authorize.requestMatchers(request -&gt; isIpAddressMatch(request, &quot;11.11.11.11&quot;)).permitAll();`","body":"ciao @lucas, no it is not i myself has been struggling. the only thing i foud that remotely works: <code>http.authorizeHttpRequests(authorize -&gt; {                     authorize.requestMatchers(request -&gt; isIpAddressMatch(request, &quot;11.11.11.11&quot;)).permitAll();</code>"}],"answers":[{"tags":[],"owner":{"account_id":21488921,"reputation":4730,"user_id":15835039,"display_name":"Steve Riesenberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1701804126,"creation_date":1653584456,"answer_id":72395472,"question_id":72366267,"body_markdown":"This does appear to be an issue with the docs. There is not currently a built-in implementation providing the `hasIpAddress(String)` access check, but you can use the `IpAddressMatcher` class to implement an `AuthorizationManager` capable of performing it.\r\n\r\nHere&#39;s an example configuration:\r\n\r\n```java\r\n@EnableWebSecurity\r\npublic class SecurityConfiguration {\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeHttpRequests((authorizeRequests) -&gt; authorizeRequests\r\n                .requestMatchers(&quot;/&quot;).access(hasIpAddress(&quot;127.0.0.1&quot;))\r\n                .anyRequest().authenticated()\r\n            )\r\n            .formLogin(Customizer.withDefaults())\r\n            .httpBasic(Customizer.withDefaults());\r\n        return http.build();\r\n    }\r\n\r\n    private static AuthorizationManager&lt;RequestAuthorizationContext&gt; hasIpAddress(String ipAddress) {\r\n        IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(ipAddress);\r\n        return (authentication, context) -&gt; {\r\n            HttpServletRequest request = context.getRequest();\r\n            return new AuthorizationDecision(ipAddressMatcher.matches(request));\r\n        };\r\n    }\r\n\r\n}\r\n```","title":"Matching IP address with authorizeHttpRequests","body":"<p>This does appear to be an issue with the docs. There is not currently a built-in implementation providing the <code>hasIpAddress(String)</code> access check, but you can use the <code>IpAddressMatcher</code> class to implement an <code>AuthorizationManager</code> capable of performing it.</p>\n<p>Here's an example configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\npublic class SecurityConfiguration {\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n            .authorizeHttpRequests((authorizeRequests) -&gt; authorizeRequests\n                .requestMatchers(&quot;/&quot;).access(hasIpAddress(&quot;127.0.0.1&quot;))\n                .anyRequest().authenticated()\n            )\n            .formLogin(Customizer.withDefaults())\n            .httpBasic(Customizer.withDefaults());\n        return http.build();\n    }\n\n    private static AuthorizationManager&lt;RequestAuthorizationContext&gt; hasIpAddress(String ipAddress) {\n        IpAddressMatcher ipAddressMatcher = new IpAddressMatcher(ipAddress);\n        return (authentication, context) -&gt; {\n            HttpServletRequest request = context.getRequest();\n            return new AuthorizationDecision(ipAddressMatcher.matches(request));\n        };\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":103073,"reputation":9057,"user_id":276263,"accept_rate":58,"display_name":"krishnakumarp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1692066808,"creation_date":1692066808,"answer_id":76903132,"question_id":72366267,"body_markdown":"Prescribed way as per [Spring documentation][1] is as below.\r\n\r\n    IpAddressMatcher hasIpAddress = new IpAddressMatcher(ipAddress);\r\n    authorizeRequests.requestMatchers(&quot;/your/url/**&quot;)\r\n    \t.access((authentication, context) -&gt;\r\n    \t\tnew AuthorizationDecision(hasIpAddress.matches(context.getRequest())));\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#_migrate_hasipaddress_to_accessauthorizationmanager\r\n\r\n\r\n\r\n","title":"Matching IP address with authorizeHttpRequests","body":"<p>Prescribed way as per <a href=\"https://docs.spring.io/spring-security/reference/5.8/migration/servlet/authorization.html#_migrate_hasipaddress_to_accessauthorizationmanager\" rel=\"nofollow noreferrer\">Spring documentation</a> is as below.</p>\n<pre><code>IpAddressMatcher hasIpAddress = new IpAddressMatcher(ipAddress);\nauthorizeRequests.requestMatchers(&quot;/your/url/**&quot;)\n    .access((authentication, context) -&gt;\n        new AuthorizationDecision(hasIpAddress.matches(context.getRequest())));\n</code></pre>\n"}],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2755,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":72395472,"answer_count":2,"score":4,"last_activity_date":1701804126,"creation_date":1653409322,"question_id":72366267,"body_markdown":"I&#39;ve read in [Spring Security Reference](https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html) that AuthorizationFilter supersedes FilterSecurityInterceptor. So I&#39;m trying to migrate my application to this newer method.\r\n\r\nI have something like\r\n\r\n```\r\n                http.authorizeRequests()\r\n                        .mvcMatchers(&quot;/&quot;)\r\n                        .hasIpAddress(&quot;127.0.0.1&quot;)\r\n```\r\n\r\nAccording to the linked page I should be able to write something like\r\n\r\n```\r\n                http.authorizeHttpRequests()\r\n                        .mvcMatchers(&quot;/&quot;)\r\n                        .access(&quot;hasIpAddress(&#39;127.0.0.1&#39;)&quot;)\r\n```\r\n\r\nbut there&#39;s no `access(String)` method. I even tried to paste verbatim code from the documentation:\r\n\r\n```\r\n@Bean\r\nSecurityFilterChain web(HttpSecurity http) throws Exception {\r\n\thttp\r\n\t\t// ...\r\n\t\t.authorizeHttpRequests(authorize -&gt; authorize                                  \r\n\t\t\t.mvcMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll()         \r\n\t\t\t.mvcMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)                             \r\n\t\t\t.mvcMatchers(&quot;/db/**&quot;).access(&quot;hasRole(&#39;ADMIN&#39;) and hasRole(&#39;DBA&#39;)&quot;)   \r\n\t\t\t.anyRequest().denyAll()                                                \r\n\t\t);\r\n\r\n\treturn http.build();\r\n}\r\n```\r\n\r\nwhich does not compile for the same reason.\r\n\r\nHere&#39;s compilation error:\r\n\r\n```\r\nApplication.java:103:55\r\njava: incompatible types: java.lang.String cannot be converted to org.springframework.security.authorization.AuthorizationManager&lt;org.springframework.security.web.access.intercept.RequestAuthorizationContext&gt;\r\n```\r\n\r\nHow do I use authorizeHttpRequests with IP addresses or string expression? Is it issue with documentation?\r\n\r\nI&#39;m using Spring Boot 2.7.0 and Spring Security 5.7.1\r\n","title":"Matching IP address with authorizeHttpRequests","body":"<p>I've read in <a href=\"https://docs.spring.io/spring-security/reference/servlet/authorization/authorize-http-requests.html\" rel=\"nofollow noreferrer\">Spring Security Reference</a> that AuthorizationFilter supersedes FilterSecurityInterceptor. So I'm trying to migrate my application to this newer method.</p>\n<p>I have something like</p>\n<pre><code>                http.authorizeRequests()\n                        .mvcMatchers(&quot;/&quot;)\n                        .hasIpAddress(&quot;127.0.0.1&quot;)\n</code></pre>\n<p>According to the linked page I should be able to write something like</p>\n<pre><code>                http.authorizeHttpRequests()\n                        .mvcMatchers(&quot;/&quot;)\n                        .access(&quot;hasIpAddress('127.0.0.1')&quot;)\n</code></pre>\n<p>but there's no <code>access(String)</code> method. I even tried to paste verbatim code from the documentation:</p>\n<pre><code>@Bean\nSecurityFilterChain web(HttpSecurity http) throws Exception {\n    http\n        // ...\n        .authorizeHttpRequests(authorize -&gt; authorize                                  \n            .mvcMatchers(&quot;/resources/**&quot;, &quot;/signup&quot;, &quot;/about&quot;).permitAll()         \n            .mvcMatchers(&quot;/admin/**&quot;).hasRole(&quot;ADMIN&quot;)                             \n            .mvcMatchers(&quot;/db/**&quot;).access(&quot;hasRole('ADMIN') and hasRole('DBA')&quot;)   \n            .anyRequest().denyAll()                                                \n        );\n\n    return http.build();\n}\n</code></pre>\n<p>which does not compile for the same reason.</p>\n<p>Here's compilation error:</p>\n<pre><code>Application.java:103:55\njava: incompatible types: java.lang.String cannot be converted to org.springframework.security.authorization.AuthorizationManager&lt;org.springframework.security.web.access.intercept.RequestAuthorizationContext&gt;\n</code></pre>\n<p>How do I use authorizeHttpRequests with IP addresses or string expression? Is it issue with documentation?</p>\n<p>I'm using Spring Boot 2.7.0 and Spring Security 5.7.1</p>\n"},{"tags":["java","apache-flink","batch-processing"],"answers":[{"comments":[{"owner":{"account_id":29204816,"reputation":11,"user_id":22374157,"display_name":"Dhanaji Patil"},"score":0,"creation_date":1702289344,"post_id":77608778,"comment_id":136873756,"body_markdown":"I have tried one approach by sinking the data from a file or database using the first job, and when sourcing the data from the second job, it&#39;s obtained in a DataSet/DataSource. Due to this, I&#39;m unable to apply the conditional statement.\n\nI also attempted to execute two statements within a single job, but this resulted in an error stating that multiple jobs are not allowed.\n\nStill we are facing the same issue because data in the DataSet/DataSource so not able to use a conditional statement.","body":"I have tried one approach by sinking the data from a file or database using the first job, and when sourcing the data from the second job, it&#39;s obtained in a DataSet/DataSource. Due to this, I&#39;m unable to apply the conditional statement.  I also attempted to execute two statements within a single job, but this resulted in an error stating that multiple jobs are not allowed.  Still we are facing the same issue because data in the DataSet/DataSource so not able to use a conditional statement."}],"tags":[],"owner":{"account_id":82425,"reputation":8280,"user_id":231762,"display_name":"kkrugler"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701804109,"creation_date":1701804109,"answer_id":77608778,"question_id":77599488,"body_markdown":"Since you need to process ALL of the records to determine what your downstream operations will do, you have two choices...\r\n\r\n 1. Run this as two jobs, where the first job has a counter for # of invalid records, and writes all results to temp storage (ideally in a more efficient format than CSV, e.g. Parquet). Then the second job can check the counter and decide what to do with the data.\r\n 2. Buffer all the data, which (with the DataSet API) means using memory by default. Then you can defer the decision of what to do, based on the valid flag for all records. But that obviously creates memory constraints on the size of any one file.\r\n\r\nNote that if you only needed to separate the data, you could use the DataStream API with buckets to write valid vs. invalid records to different locations.","title":"Handling Conditional Processing in Apache Flink&#39;s Batch Mode with DataSet Constraints","body":"<p>Since you need to process ALL of the records to determine what your downstream operations will do, you have two choices...</p>\n<ol>\n<li>Run this as two jobs, where the first job has a counter for # of invalid records, and writes all results to temp storage (ideally in a more efficient format than CSV, e.g. Parquet). Then the second job can check the counter and decide what to do with the data.</li>\n<li>Buffer all the data, which (with the DataSet API) means using memory by default. Then you can defer the decision of what to do, based on the valid flag for all records. But that obviously creates memory constraints on the size of any one file.</li>\n</ol>\n<p>Note that if you only needed to separate the data, you could use the DataStream API with buckets to write valid vs. invalid records to different locations.</p>\n"}],"owner":{"account_id":29204816,"reputation":11,"user_id":22374157,"display_name":"Dhanaji Patil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1701804109,"creation_date":1701693345,"question_id":77599488,"body_markdown":"I utilized Apache Flink for batch mode file processing. Initially, I read a CSV file into a custom object, DataSet\\&lt;MyObject\\&gt; readCsvData. Subsequently, I performed various validations on the data and updated the isValid flag in readCsvData. For instance, setting isValid to true for valid records and false for invalid ones.\r\n\r\nNow, I aim to use a conditional statement to determine if all CSV file records are valid. However, due to certain limitations:\r\n\r\nFor Eg.\r\n\r\n\r\n\r\n```\r\nfinal ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();\r\nString fileName = myFile.csv\r\nDataSet&lt;MyObject&gt; readCsvData = readAndProcessCsvData(env, fileName);\r\n\r\nDataSet&lt;MyObject&gt; validateFile = validateFile(readCsvData);\r\n\r\nif(toCheckIsValidFlag){\r\n    //********** process further ***********\r\n    generateAckFile();\r\n}\r\nelse\r\n{\r\n    generateNckFile();\r\n}\r\n\r\nenv.execute();\r\n```\r\n\r\nAnd MyObject is\r\n\r\n```\r\npublic class MyObject{\r\n\r\n    private FileDetails fileDetails;\r\n    private String fileName;\r\n    public boolean isValid ;\r\n    public String invalidReason;\r\n\r\n}\r\n```\r\n\r\n\r\nI&#39;m operating in the execution environment (batch mode), restricting the use of eager functions like .collect() or .count().\r\nDirectly setting the flag isn&#39;t feasible because custom code executes after the job runs.\r\nRetrieving a MyObject from DataSet is not possible without using operators like .collect() or collector().\r\nHence, I&#39;m seeking a method to check if all records in readCsvData are valid (readCsvData.isValid == true). Based on this condition, I intend to proceed with further transformations and sink the data, or direct all the data to a file sink.\r\n\r\nWhile used ager functions then showing error.\r\n\r\nThe exception:\r\n\r\n```\r\nCaused by: org.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Job was submitted in detached mode. Results of job execution, such as accumulators, runtime, etc. are not available. Please make sure your program doesn&#39;t call an eager execution function [collect, print, printToErr, count].\r\n```","title":"Handling Conditional Processing in Apache Flink&#39;s Batch Mode with DataSet Constraints","body":"<p>I utilized Apache Flink for batch mode file processing. Initially, I read a CSV file into a custom object, DataSet&lt;MyObject&gt; readCsvData. Subsequently, I performed various validations on the data and updated the isValid flag in readCsvData. For instance, setting isValid to true for valid records and false for invalid ones.</p>\n<p>Now, I aim to use a conditional statement to determine if all CSV file records are valid. However, due to certain limitations:</p>\n<p>For Eg.</p>\n<pre><code>final ExecutionEnvironment env = ExecutionEnvironment.getExecutionEnvironment();\nString fileName = myFile.csv\nDataSet&lt;MyObject&gt; readCsvData = readAndProcessCsvData(env, fileName);\n\nDataSet&lt;MyObject&gt; validateFile = validateFile(readCsvData);\n\nif(toCheckIsValidFlag){\n    //********** process further ***********\n    generateAckFile();\n}\nelse\n{\n    generateNckFile();\n}\n\nenv.execute();\n</code></pre>\n<p>And MyObject is</p>\n<pre><code>public class MyObject{\n\n    private FileDetails fileDetails;\n    private String fileName;\n    public boolean isValid ;\n    public String invalidReason;\n\n}\n</code></pre>\n<p>I'm operating in the execution environment (batch mode), restricting the use of eager functions like .collect() or .count().\nDirectly setting the flag isn't feasible because custom code executes after the job runs.\nRetrieving a MyObject from DataSet is not possible without using operators like .collect() or collector().\nHence, I'm seeking a method to check if all records in readCsvData are valid (readCsvData.isValid == true). Based on this condition, I intend to proceed with further transformations and sink the data, or direct all the data to a file sink.</p>\n<p>While used ager functions then showing error.</p>\n<p>The exception:</p>\n<pre><code>Caused by: org.apache.flink.client.program.ProgramInvocationException: The main method caused an error: Job was submitted in detached mode. Results of job execution, such as accumulators, runtime, etc. are not available. Please make sure your program doesn't call an eager execution function [collect, print, printToErr, count].\n</code></pre>\n"},{"tags":["java","spring-boot","azure-active-directory","cas"],"owner":{"account_id":29803423,"reputation":11,"user_id":22840682,"display_name":"Abhishek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1701435921,"answer_count":0,"score":0,"last_activity_date":1701803924,"creation_date":1698850194,"question_id":77403514,"body_markdown":"I&#39;m using CAS 6.5.3 with Microsoft Azure AD / Entra ID as the backend. When logging out, CAS tries to redirect the user back to Microsoft using this URL format `https://login.microsoftonline.com/&lt;tenant-id&gt;/oauth2/logout?id_token_hint=&lt;user-token&gt;`. In our case, the `&lt;user-token&gt;` field, contains the entire token claim including any groups that the user belongs to. Due to this, users that belong to many groups get a huge logout URL that causes some users to get a Microsoft error `AADSTS90015: Requested query string is too long.`\r\n\r\nIs there a way to force CAS to create the logout URL as a `POST` request instead of a `GET` or not include the entire claim in the logout URL.\r\n\r\nEDIT: I would like to either have another way to logout without speciying the `id_token_hint` parameter or remove the groups claims from the `id_token_hint` parameter but I don&#39;t see a way to do so in the CAS server configuration. I also don&#39;t see in the CAS source where this parameter is getting built.","title":"CAS Integration with Azure AD fails on logout for some users","body":"<p>I'm using CAS 6.5.3 with Microsoft Azure AD / Entra ID as the backend. When logging out, CAS tries to redirect the user back to Microsoft using this URL format <code>https://login.microsoftonline.com/&lt;tenant-id&gt;/oauth2/logout?id_token_hint=&lt;user-token&gt;</code>. In our case, the <code>&lt;user-token&gt;</code> field, contains the entire token claim including any groups that the user belongs to. Due to this, users that belong to many groups get a huge logout URL that causes some users to get a Microsoft error <code>AADSTS90015: Requested query string is too long.</code></p>\n<p>Is there a way to force CAS to create the logout URL as a <code>POST</code> request instead of a <code>GET</code> or not include the entire claim in the logout URL.</p>\n<p>EDIT: I would like to either have another way to logout without speciying the <code>id_token_hint</code> parameter or remove the groups claims from the <code>id_token_hint</code> parameter but I don't see a way to do so in the CAS server configuration. I also don't see in the CAS source where this parameter is getting built.</p>\n"},{"tags":["java","hibernate","insert-update"],"comments":[{"owner":{"account_id":5007263,"reputation":761,"user_id":4024558,"accept_rate":43,"display_name":"Tarwirdur Turon"},"score":0,"creation_date":1701804655,"post_id":77608761,"comment_id":136820119,"body_markdown":"Just set a breakpoint to the problem field setter and inspect it with a debugger.","body":"Just set a breakpoint to the problem field setter and inspect it with a debugger."}],"owner":{"account_id":30074896,"reputation":1,"user_id":23047997,"display_name":"Summa Summa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701803892,"creation_date":1701803892,"question_id":77608761,"body_markdown":"One object has been sent to hibernate saveOrUpdate method for updating the data. Before save the value of one field was different and after save the value in the object got changed. Is this one of the issue of hibernate call? Or it happened due to collision with any other flow because the method hibernate saveOrUpdate is getting called from more than 10 places.\r\n\r\nStill trying to find the root cause.","title":"Value of one field in one entity has been changed after hibernate call saveOrUpdate","body":"<p>One object has been sent to hibernate saveOrUpdate method for updating the data. Before save the value of one field was different and after save the value in the object got changed. Is this one of the issue of hibernate call? Or it happened due to collision with any other flow because the method hibernate saveOrUpdate is getting called from more than 10 places.</p>\n<p>Still trying to find the root cause.</p>\n"},{"tags":["java","arrays","file","reference","bufferedreader"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1701803554,"post_id":77608706,"comment_id":136819968,"body_markdown":"Having just skimmed the description I&#39;m like 95% sure that your fields in `Save` are `static`. They should not be.","body":"Having just skimmed the description I&#39;m like 95% sure that your fields in <code>Save</code> are <code>static</code>. They should not be."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1701806880,"post_id":77608706,"comment_id":136820433,"body_markdown":"maybe you could include a [mre] (you can remove the *documentation* and even simplify it to one field or so and only relevant methods)","body":"maybe you could include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (you can remove the <i>documentation</i> and even simplify it to one field or so and only relevant methods)"}],"owner":{"account_id":30074718,"reputation":1,"user_id":23047869,"display_name":"Caden"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701840528,"answer_count":0,"score":-2,"last_activity_date":1701803294,"creation_date":1701803294,"question_id":77608706,"body_markdown":"I am trying to write a program that can read and write save data into files in a way that my monkey brain can understand. However, I ran into problems with creating a method which can return an array of &quot;Save&quot; objects, storing data relating to all the different saves stored in a file.\r\n\r\n```\r\npublic static Save [ ] getSaves ( String file )\r\n{\r\n    \r\n   int len = length ( file ) ;\r\n   Save [ ] savesList = new Save [ len ] ;\r\n   BufferedReader br = null ;\r\n   \r\n   try {\r\n        \r\n    br = new BufferedReader ( new FileReader ( &quot;saves.txt&quot; ) ) ;\r\n            br . readLine ( ) ;\r\n        \r\n    } catch ( Exception e ) { }\r\n    \r\n    for ( int i = 0 ; i &lt; len ; i ++ ) {\r\n        \r\n       // debug\r\n       System . out . println ( &quot;\\nIteration &quot; + i + &quot; :\\n&quot; ) ;\r\n        \r\n        if ( i &gt; 0 ) { System . out . println ( &quot;Pre ( i - 1 ) :\\n&quot; + savesList [ i - 1 ] ) ; }\r\n        \r\n        try {\r\n            \r\n            savesList [ i ] = new Save ( Integer . parseInt ( br . readLine ( ) . substring ( 1 ) ) ) ;\r\n            \r\n            // debug\r\n            System . out . println ( &quot;Post :&quot; ) ;\r\n            if ( i &gt; 0 ) { System . out . println ( &quot;i - 1 :\\n&quot; + savesList [ i - 1 ] ) ; }\r\n            System . out . println ( &quot;i :\\n&quot; + savesList [ i ] ) ;\r\n            if ( i &lt; len - 1 ) { System . out . println ( &quot;i + 1 :\\n&quot; + savesList [ i + 1 ] ) ; }\r\n            \r\n        }\r\n        catch ( IOException e ) { System . out . println ( &quot;Error : Could not add Save object to savesList&quot; ) ; }\r\n        \r\n        readToLine ( br , dataTypes . length ) ;\r\n        \r\n    }\r\n    \r\n    return savesList ;\r\n    \r\n}\r\n```\r\n( Calling `length ( file ) ;` returns the number of saves in the file, `readToLine ( br , dataTypes . length ) ;` advances the BufferedReader to the point where the next save&#39;s information starts )\r\n\r\nIt was for some reason returning a list of all the same Save objects, except they all had different references, but the same data.\r\n\r\nAnd I didn&#39;t include the whole class because it is an absolute mess with WAY too much documentation. Over 3/4ths of the whole class is just documentation and it is an eyesore to look at.\r\n\r\nThis was meant to return an array containing object references to each Save object corresponding to a save in the file.\r\n\r\nThrough debugging I found out that each Save object that I added to the array, it would overwrite all the indices before it in the array with the same data, but not the ones in front of it.\r\n\r\nI tested the references being returned, and the references of each of the objects remained the same from the moment they were created, but after the next Save object was added to the array, all the other Save objects in the array would have their data overwritten by the new Save object.\r\n\r\nI tried making the code only add the Save object if the index I was trying to add it to was null, but that didn&#39;t work. I tried using an ArrayList instead, but that didn&#39;t work. I tried rewriting the whole method to see if I was missing something obvious twice, but that didn&#39;t work either.\r\n\r\nI also discovered that when the file had 4 or more saves in it, it would seemingly break and say that in the line where the new Save object was being created ( `savesList [ i ] = new Save ( Integer . parseInt ( br . readLine ( ) . substring ( 1 ) ) ) ;` ) that the String being read by br didn&#39;t have the substring it was looking for ( It threw an ArrayIndexOutOfBoundsException ).","title":"Java Object references in array changing their data, but not the reference for seemingly no reason","body":"<p>I am trying to write a program that can read and write save data into files in a way that my monkey brain can understand. However, I ran into problems with creating a method which can return an array of &quot;Save&quot; objects, storing data relating to all the different saves stored in a file.</p>\n<pre><code>public static Save [ ] getSaves ( String file )\n{\n    \n   int len = length ( file ) ;\n   Save [ ] savesList = new Save [ len ] ;\n   BufferedReader br = null ;\n   \n   try {\n        \n    br = new BufferedReader ( new FileReader ( &quot;saves.txt&quot; ) ) ;\n            br . readLine ( ) ;\n        \n    } catch ( Exception e ) { }\n    \n    for ( int i = 0 ; i &lt; len ; i ++ ) {\n        \n       // debug\n       System . out . println ( &quot;\\nIteration &quot; + i + &quot; :\\n&quot; ) ;\n        \n        if ( i &gt; 0 ) { System . out . println ( &quot;Pre ( i - 1 ) :\\n&quot; + savesList [ i - 1 ] ) ; }\n        \n        try {\n            \n            savesList [ i ] = new Save ( Integer . parseInt ( br . readLine ( ) . substring ( 1 ) ) ) ;\n            \n            // debug\n            System . out . println ( &quot;Post :&quot; ) ;\n            if ( i &gt; 0 ) { System . out . println ( &quot;i - 1 :\\n&quot; + savesList [ i - 1 ] ) ; }\n            System . out . println ( &quot;i :\\n&quot; + savesList [ i ] ) ;\n            if ( i &lt; len - 1 ) { System . out . println ( &quot;i + 1 :\\n&quot; + savesList [ i + 1 ] ) ; }\n            \n        }\n        catch ( IOException e ) { System . out . println ( &quot;Error : Could not add Save object to savesList&quot; ) ; }\n        \n        readToLine ( br , dataTypes . length ) ;\n        \n    }\n    \n    return savesList ;\n    \n}\n</code></pre>\n<p>( Calling <code>length ( file ) ;</code> returns the number of saves in the file, <code>readToLine ( br , dataTypes . length ) ;</code> advances the BufferedReader to the point where the next save's information starts )</p>\n<p>It was for some reason returning a list of all the same Save objects, except they all had different references, but the same data.</p>\n<p>And I didn't include the whole class because it is an absolute mess with WAY too much documentation. Over 3/4ths of the whole class is just documentation and it is an eyesore to look at.</p>\n<p>This was meant to return an array containing object references to each Save object corresponding to a save in the file.</p>\n<p>Through debugging I found out that each Save object that I added to the array, it would overwrite all the indices before it in the array with the same data, but not the ones in front of it.</p>\n<p>I tested the references being returned, and the references of each of the objects remained the same from the moment they were created, but after the next Save object was added to the array, all the other Save objects in the array would have their data overwritten by the new Save object.</p>\n<p>I tried making the code only add the Save object if the index I was trying to add it to was null, but that didn't work. I tried using an ArrayList instead, but that didn't work. I tried rewriting the whole method to see if I was missing something obvious twice, but that didn't work either.</p>\n<p>I also discovered that when the file had 4 or more saves in it, it would seemingly break and say that in the line where the new Save object was being created ( <code>savesList [ i ] = new Save ( Integer . parseInt ( br . readLine ( ) . substring ( 1 ) ) ) ;</code> ) that the String being read by br didn't have the substring it was looking for ( It threw an ArrayIndexOutOfBoundsException ).</p>\n"},{"tags":["java","pdf","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1701843999,"post_id":77608691,"comment_id":136824015,"body_markdown":"Pdfbox does not explicitly support signatures with multiple visualizations (they are not valid according to spec after all), let alone signatures with multiple different visualizations. In particular `SignatureOptions` only has a `setVisualSignature` method (i.e. for a single visualization). To create a signature with multiple, different visualizations you&#39;ll have to do a bit more low level programming.","body":"Pdfbox does not explicitly support signatures with multiple visualizations (they are not valid according to spec after all), let alone signatures with multiple different visualizations. In particular <code>SignatureOptions</code> only has a <code>setVisualSignature</code> method (i.e. for a single visualization). To create a signature with multiple, different visualizations you&#39;ll have to do a bit more low level programming."}],"owner":{"account_id":30074222,"reputation":1,"user_id":23047484,"display_name":"TCS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1701840560,"answer_count":0,"score":-2,"last_activity_date":1701803093,"creation_date":1701803093,"question_id":77608691,"body_markdown":"Im trying to create one visualization for each document&#39;s page and sign it once with PdfBox. Each visualization has a different image to be render. However, always the first visualization of the signature is replaced by the visualization of the last one. I need help to understand what is happening in order to fix it\r\n\r\n\r\nTried to replicate the 3rd alternative discussed in [text](https://stackoverflow.com/questions/52829507/multiple-signs-using-pdfbox-2-0-12-java)\r\nbut the first visualization of the signature is replaced by the visualization of the last one. This is my code:\r\n\r\n```\r\npublic function()\r\n            throws IOException, IllegalStateException, GeneralSecurityException\r\n    {\r\n         ...\r\n        try {\r\n             ...\r\n\r\n            try (\r\n                FileOutputStream fos = new FileOutputStream(fileAFirmar);\r\n                PDDocument doc = PDDocument.load(filePdfCopia)\r\n                )\r\n            {\r\n                int accessPermissions = SigUtils.getMDPPermission(doc);\r\n\r\n                float margin = 5f;\r\n                float circleRadius = 25f;\r\n\r\n                int sigPage = doc.getNumberOfPages();\r\n                PDPage targetPage = doc.getPage(sigPage - 1);\r\n                PDRectangle pageSize = targetPage.getMediaBox();\r\n                PDRectangle a4Size = PDRectangle.A4;\r\n\r\n                float sigX = a4Size.getWidth() - margin - (circleRadius * 2);\r\n                float sigY = a4Size.getHeight() - margin - (circleRadius * 2);\r\n                float sigW = circleRadius * 2;  // Width of the circle\r\n                float sigH = circleRadius * 2;  // Height of the circle\r\n\r\n                PDRectangle rect = new PDRectangle(sigX, sigY, sigW, sigH);\r\n\r\n                PDSignature signature = new PDSignature();\r\n\r\n                if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\r\n                {\r\n                    SigUtils.setMDPPermission(doc, signature, 2);\r\n                }\r\n\r\n                signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\r\n                signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n                signature.setLocation(&quot;&quot;);\r\n                signature.setReason(&quot;&quot;);\r\n                signature.setSignDate(Calendar.getInstance());\r\n\r\n                SignatureInterface signatureInterface = null;\r\n                SignatureOptions signatureOptions = new SignatureOptions();\r\n\r\n                List&lt;File&gt; signatureImageFilesList = new ArrayList&lt;&gt;();\r\n                signatureImageFilesList.add(foleoImgFile);\r\n                signatureImageFilesList.add(foleoImgFile2);\r\n                signatureImageFilesList.add(foleoImgFile3);\r\n\r\n                int fileIndex = 0;\r\n\r\n                    int totalPages = doc.getNumberOfPages();\r\n                    \r\n                    for (int i = 0; i &lt; totalPages; i++) {\r\n                        _log.info(&quot;Page iteration: &quot; + i);\r\n\r\n                        PDPage pdPage = doc.getPage(i);\r\n                        File signatureImageFile = signatureImageFilesList.get(fileIndex);\r\n\r\n                        signatureOptions.setPage(i);\r\n                        InputStream signatureFieldStream = addSignatureField(doc, pdPage, i, rect, signature, folio, sigX, sigY, signatureImageFile);\r\n                        signatureOptions.setVisualSignature(signatureFieldStream);\r\n                        folio++;\r\n                        fileIndex++;\r\n                        // Check if the file index reaches the end of the array\r\n                        if (fileIndex &gt;= signatureImageFilesList.size()) {\r\n                            // Reset the index to start from the beginning\r\n                            fileIndex = 0;\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                doc.addSignature(signature, signatureInterface, signatureOptions);\r\n\r\n                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);           \r\n                KeyStore keyStore = signer.loadKeyStore();\r\n                byte[] signatureBytes = signer.sign(externalSigning.getContent());\r\n\r\n                MessageDigest digest = null;\r\n                try {\r\n                    digest = MessageDigest.getInstance(SysConstanst.SIGNATURE_HASH_ALGO);\r\n                } catch (NoSuchAlgorithmException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n                externalSigning.setSignature(signatureBytes);\r\n            }\r\n            IOUtils.closeQuietly(signatureOptions);\r\n\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return foleadoResp;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n```\r\npublic InputStream addSignatureField(\r\n        PDDocument pdDocument, PDPage pdPage, int pageNum,  PDRectangle rect, PDSignature signature, \r\n        Integer folio, float circleXa, float circleYa, File image\r\n    ) throws IOException, IllegalStateException {\r\n\r\n        try {\r\n\r\n            PDAcroForm acroForm = pdDocument.getDocumentCatalog().getAcroForm();\r\n\r\n            if (acroForm == null) {\r\n                acroForm = new PDAcroForm(pdDocument);\r\n                pdDocument.getDocumentCatalog().setAcroForm(acroForm);\r\n            }\r\n            acroForm.getCOSObject().setNeedToBeUpdated(true);\r\n            COSObject fields = acroForm.getCOSObject().getCOSObject(COSName.FIELDS);\r\n            if (fields != null)\r\n                fields.setNeedToBeUpdated(true);\r\n\r\n            acroForm.setSignaturesExist(true);\r\n            acroForm.setAppendOnly(true);\r\n            acroForm.getCOSObject().setDirect(true);\r\n            \r\n            PDSignatureField signatureField = new PDSignatureField(acroForm);\r\n            signatureField.setSignature(signature);\r\n            PDAnnotationWidget widget = signatureField.getWidgets().get(0);\r\n\r\n            widget.setRectangle(rect);\r\n            widget.setPage(pdPage);\r\n\r\n            pdPage.getAnnotations().add(widget);\r\n            pdPage.getCOSObject().setNeedToBeUpdated(true);\r\n\r\n            List&lt;PDField&gt; acroFormFields = acroForm.getFields();\r\n            acroFormFields.add(signatureField);\r\n         \r\n            PDStream stream = new PDStream(pdDocument);\r\n            PDFormXObject form = new PDFormXObject(stream);\r\n            \r\n            PDResources res = new PDResources();\r\n            form.setResources(res);\r\n            form.setFormType(1);\r\n\r\n            PDRectangle bbox = new PDRectangle(rect.getWidth(), rect.getHeight());\r\n            float height = bbox.getHeight();\r\n\r\n            Matrix initialScale = null;\r\n            switch (pdPage.getRotation())\r\n            {\r\n                case 90:\r\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(1));\r\n                    initialScale = Matrix.getScaleInstance(bbox.getWidth() / bbox.getHeight(), bbox.getHeight() / bbox.getWidth());\r\n                    height = bbox.getWidth();\r\n                    break;\r\n                case 180:\r\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(2));\r\n                    break;\r\n                case 270:\r\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(3));\r\n                    initialScale = Matrix.getScaleInstance(bbox.getWidth() / bbox.getHeight(), bbox.getHeight() / bbox.getWidth());\r\n                    height = bbox.getWidth();\r\n                    break;\r\n                case 0:\r\n                default:\r\n                    break;\r\n            }\r\n        \r\n            form.setBBox(bbox);\r\n            PDFont font = PDType1Font.HELVETICA_BOLD;\r\n        \r\n            PDAppearanceDictionary appearance = new PDAppearanceDictionary();\r\n            appearance.getCOSObject().setDirect(true);\r\n            PDAppearanceStream appearanceStream = new PDAppearanceStream(form.getCOSObject());\r\n            appearance.setNormalAppearance(appearanceStream);\r\n            widget.setAppearance(appearance);\r\n        \r\n            PDRectangle pageSize = pdPage.getMediaBox();\r\n\r\n            try (PDPageContentStream cs = new PDPageContentStream(pdDocument, appearanceStream )){\r\n\r\n                if (image != null)\r\n                {\r\n                   \r\n                    cs.saveGraphicsState();\r\n                    float scalingFactor = 0.24f;  \r\n                    cs.transform(Matrix.getScaleInstance(scalingFactor, scalingFactor));\r\n\r\n                    PDImageXObject img = PDImageXObject.createFromFileByExtension(image, pdDocument);\r\n                    float imgWidth = img.getWidth() * scalingFactor;  \r\n                    float imgHeight = img.getHeight() * scalingFactor;  \r\n                    float imgX = (rect.getWidth() - imgWidth) / 2;\r\n                    float imgY = (rect.getHeight() - imgHeight) / 2;\r\n\r\n                    cs.drawImage(img, imgX, imgY);\r\n                    cs.restoreGraphicsState();\r\n                }\r\n\r\n                String elFolio = Integer.toString(folio);\r\n                float randomTextFontSize = 8;  \r\n                float randomTextWidth = font.getStringWidth(elFolio) / 1000 * 5;\r\n                float randomTextX = rect.getLowerLeftX() + (rect.getWidth() - randomTextWidth) / 2;\r\n                float randomTextY = rect.getLowerLeftY() + 15;\r\n                \r\n                cs.beginText();\r\n                cs.setFont(font, 5);\r\n                cs.setStrokingColor(0.5f, 0.5f, 0.5f);\r\n                cs.newLineAtOffset((rect.getWidth() - randomTextWidth) / 2 , rect.getHeight() - (rect.getHeight()-10));\r\n\r\n                cs.showText(elFolio);\r\n                cs.endText();\r\n                \r\n            }\r\n\r\n             // general updates\r\n             pdDocument.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\r\n\r\n            // COSDictionary pageTreeObject = pdPage.getCOSObject();\r\n            // _log.info(&quot;pageTreeObject &quot; + pageTreeObject);\r\n            // while (pageTreeObject != null) {\r\n            //     _log.info(&quot;while (pageTreeObject != null) &quot; );\r\n            //     pageTreeObject.setNeedToBeUpdated(true);\r\n            //     pageTreeObject = (COSDictionary) pageTreeObject.getDictionaryObject(COSName.PARENT);\r\n            // }\r\n\r\n            _log.info(&quot;ByteArrayOutputStream &quot; );\r\n\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            pdDocument.save(baos);\r\n\r\n            return new ByteArrayInputStream(baos.toByteArray());\r\n\r\n        }\r\n        catch (IOException e) {\r\n            throw new IllegalStateException(&quot;Error a&#241;adiendo firmas&quot;, e);\r\n        }\r\n    }\r\n```\r\n\r\n","title":"How do I show multiple visualizations of one signature with PdfBox?","body":"<p>Im trying to create one visualization for each document's page and sign it once with PdfBox. Each visualization has a different image to be render. However, always the first visualization of the signature is replaced by the visualization of the last one. I need help to understand what is happening in order to fix it</p>\n<p>Tried to replicate the 3rd alternative discussed in <a href=\"https://stackoverflow.com/questions/52829507/multiple-signs-using-pdfbox-2-0-12-java\">text</a>\nbut the first visualization of the signature is replaced by the visualization of the last one. This is my code:</p>\n<pre><code>public function()\n            throws IOException, IllegalStateException, GeneralSecurityException\n    {\n         ...\n        try {\n             ...\n\n            try (\n                FileOutputStream fos = new FileOutputStream(fileAFirmar);\n                PDDocument doc = PDDocument.load(filePdfCopia)\n                )\n            {\n                int accessPermissions = SigUtils.getMDPPermission(doc);\n\n                float margin = 5f;\n                float circleRadius = 25f;\n\n                int sigPage = doc.getNumberOfPages();\n                PDPage targetPage = doc.getPage(sigPage - 1);\n                PDRectangle pageSize = targetPage.getMediaBox();\n                PDRectangle a4Size = PDRectangle.A4;\n\n                float sigX = a4Size.getWidth() - margin - (circleRadius * 2);\n                float sigY = a4Size.getHeight() - margin - (circleRadius * 2);\n                float sigW = circleRadius * 2;  // Width of the circle\n                float sigH = circleRadius * 2;  // Height of the circle\n\n                PDRectangle rect = new PDRectangle(sigX, sigY, sigW, sigH);\n\n                PDSignature signature = new PDSignature();\n\n                if (doc.getVersion() &gt;= 1.5f &amp;&amp; accessPermissions == 0)\n                {\n                    SigUtils.setMDPPermission(doc, signature, 2);\n                }\n\n                signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);\n                signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n                signature.setLocation(&quot;&quot;);\n                signature.setReason(&quot;&quot;);\n                signature.setSignDate(Calendar.getInstance());\n\n                SignatureInterface signatureInterface = null;\n                SignatureOptions signatureOptions = new SignatureOptions();\n\n                List&lt;File&gt; signatureImageFilesList = new ArrayList&lt;&gt;();\n                signatureImageFilesList.add(foleoImgFile);\n                signatureImageFilesList.add(foleoImgFile2);\n                signatureImageFilesList.add(foleoImgFile3);\n\n                int fileIndex = 0;\n\n                    int totalPages = doc.getNumberOfPages();\n                    \n                    for (int i = 0; i &lt; totalPages; i++) {\n                        _log.info(&quot;Page iteration: &quot; + i);\n\n                        PDPage pdPage = doc.getPage(i);\n                        File signatureImageFile = signatureImageFilesList.get(fileIndex);\n\n                        signatureOptions.setPage(i);\n                        InputStream signatureFieldStream = addSignatureField(doc, pdPage, i, rect, signature, folio, sigX, sigY, signatureImageFile);\n                        signatureOptions.setVisualSignature(signatureFieldStream);\n                        folio++;\n                        fileIndex++;\n                        // Check if the file index reaches the end of the array\n                        if (fileIndex &gt;= signatureImageFilesList.size()) {\n                            // Reset the index to start from the beginning\n                            fileIndex = 0;\n                        }\n\n\n                    }\n\n                doc.addSignature(signature, signatureInterface, signatureOptions);\n\n                ExternalSigningSupport externalSigning = doc.saveIncrementalForExternalSigning(fos);           \n                KeyStore keyStore = signer.loadKeyStore();\n                byte[] signatureBytes = signer.sign(externalSigning.getContent());\n\n                MessageDigest digest = null;\n                try {\n                    digest = MessageDigest.getInstance(SysConstanst.SIGNATURE_HASH_ALGO);\n                } catch (NoSuchAlgorithmException e) {\n                    e.printStackTrace();\n                }\n\n                externalSigning.setSignature(signatureBytes);\n            }\n            IOUtils.closeQuietly(signatureOptions);\n\n\n        } catch (Exception e) {\n            e.printStackTrace();\n            return foleadoResp;\n        }\n    }\n</code></pre>\n<pre><code>public InputStream addSignatureField(\n        PDDocument pdDocument, PDPage pdPage, int pageNum,  PDRectangle rect, PDSignature signature, \n        Integer folio, float circleXa, float circleYa, File image\n    ) throws IOException, IllegalStateException {\n\n        try {\n\n            PDAcroForm acroForm = pdDocument.getDocumentCatalog().getAcroForm();\n\n            if (acroForm == null) {\n                acroForm = new PDAcroForm(pdDocument);\n                pdDocument.getDocumentCatalog().setAcroForm(acroForm);\n            }\n            acroForm.getCOSObject().setNeedToBeUpdated(true);\n            COSObject fields = acroForm.getCOSObject().getCOSObject(COSName.FIELDS);\n            if (fields != null)\n                fields.setNeedToBeUpdated(true);\n\n            acroForm.setSignaturesExist(true);\n            acroForm.setAppendOnly(true);\n            acroForm.getCOSObject().setDirect(true);\n            \n            PDSignatureField signatureField = new PDSignatureField(acroForm);\n            signatureField.setSignature(signature);\n            PDAnnotationWidget widget = signatureField.getWidgets().get(0);\n\n            widget.setRectangle(rect);\n            widget.setPage(pdPage);\n\n            pdPage.getAnnotations().add(widget);\n            pdPage.getCOSObject().setNeedToBeUpdated(true);\n\n            List&lt;PDField&gt; acroFormFields = acroForm.getFields();\n            acroFormFields.add(signatureField);\n         \n            PDStream stream = new PDStream(pdDocument);\n            PDFormXObject form = new PDFormXObject(stream);\n            \n            PDResources res = new PDResources();\n            form.setResources(res);\n            form.setFormType(1);\n\n            PDRectangle bbox = new PDRectangle(rect.getWidth(), rect.getHeight());\n            float height = bbox.getHeight();\n\n            Matrix initialScale = null;\n            switch (pdPage.getRotation())\n            {\n                case 90:\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(1));\n                    initialScale = Matrix.getScaleInstance(bbox.getWidth() / bbox.getHeight(), bbox.getHeight() / bbox.getWidth());\n                    height = bbox.getWidth();\n                    break;\n                case 180:\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(2));\n                    break;\n                case 270:\n                    form.setMatrix(AffineTransform.getQuadrantRotateInstance(3));\n                    initialScale = Matrix.getScaleInstance(bbox.getWidth() / bbox.getHeight(), bbox.getHeight() / bbox.getWidth());\n                    height = bbox.getWidth();\n                    break;\n                case 0:\n                default:\n                    break;\n            }\n        \n            form.setBBox(bbox);\n            PDFont font = PDType1Font.HELVETICA_BOLD;\n        \n            PDAppearanceDictionary appearance = new PDAppearanceDictionary();\n            appearance.getCOSObject().setDirect(true);\n            PDAppearanceStream appearanceStream = new PDAppearanceStream(form.getCOSObject());\n            appearance.setNormalAppearance(appearanceStream);\n            widget.setAppearance(appearance);\n        \n            PDRectangle pageSize = pdPage.getMediaBox();\n\n            try (PDPageContentStream cs = new PDPageContentStream(pdDocument, appearanceStream )){\n\n                if (image != null)\n                {\n                   \n                    cs.saveGraphicsState();\n                    float scalingFactor = 0.24f;  \n                    cs.transform(Matrix.getScaleInstance(scalingFactor, scalingFactor));\n\n                    PDImageXObject img = PDImageXObject.createFromFileByExtension(image, pdDocument);\n                    float imgWidth = img.getWidth() * scalingFactor;  \n                    float imgHeight = img.getHeight() * scalingFactor;  \n                    float imgX = (rect.getWidth() - imgWidth) / 2;\n                    float imgY = (rect.getHeight() - imgHeight) / 2;\n\n                    cs.drawImage(img, imgX, imgY);\n                    cs.restoreGraphicsState();\n                }\n\n                String elFolio = Integer.toString(folio);\n                float randomTextFontSize = 8;  \n                float randomTextWidth = font.getStringWidth(elFolio) / 1000 * 5;\n                float randomTextX = rect.getLowerLeftX() + (rect.getWidth() - randomTextWidth) / 2;\n                float randomTextY = rect.getLowerLeftY() + 15;\n                \n                cs.beginText();\n                cs.setFont(font, 5);\n                cs.setStrokingColor(0.5f, 0.5f, 0.5f);\n                cs.newLineAtOffset((rect.getWidth() - randomTextWidth) / 2 , rect.getHeight() - (rect.getHeight()-10));\n\n                cs.showText(elFolio);\n                cs.endText();\n                \n            }\n\n             // general updates\n             pdDocument.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\n\n            // COSDictionary pageTreeObject = pdPage.getCOSObject();\n            // _log.info(&quot;pageTreeObject &quot; + pageTreeObject);\n            // while (pageTreeObject != null) {\n            //     _log.info(&quot;while (pageTreeObject != null) &quot; );\n            //     pageTreeObject.setNeedToBeUpdated(true);\n            //     pageTreeObject = (COSDictionary) pageTreeObject.getDictionaryObject(COSName.PARENT);\n            // }\n\n            _log.info(&quot;ByteArrayOutputStream &quot; );\n\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            pdDocument.save(baos);\n\n            return new ByteArrayInputStream(baos.toByteArray());\n\n        }\n        catch (IOException e) {\n            throw new IllegalStateException(&quot;Error añadiendo firmas&quot;, e);\n        }\n    }\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1701748869,"post_id":77603687,"comment_id":136811309,"body_markdown":"Why do you need to store the type it if it&#39;s hardcoded?","body":"Why do you need to store the type it if it&#39;s hardcoded?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1701748908,"post_id":77603687,"comment_id":136811311,"body_markdown":"Also, why not just _use_ Jackson, then? What benefit does rolling your own solution get you here?","body":"Also, why not just <i>use</i> Jackson, then? What benefit does rolling your own solution get you here?"},{"owner":{"account_id":4609664,"reputation":392,"user_id":7396101,"accept_rate":0,"display_name":"Pepria"},"score":0,"creation_date":1701796687,"post_id":77603687,"comment_id":136818791,"body_markdown":"@shmosel updated with an example of what I am trying to achieve?","body":"@shmosel updated with an example of what I am trying to achieve?"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1701797887,"post_id":77603687,"comment_id":136819030,"body_markdown":"Where was method `Value.getTemplate` defined?  Can you add a `Value.getClazz` in that same object passed in as `toRender`?","body":"Where was method <code>Value.getTemplate</code> defined?  Can you add a <code>Value.getClazz</code> in that same object passed in as <code>toRender</code>?"},{"owner":{"account_id":4609664,"reputation":392,"user_id":7396101,"accept_rate":0,"display_name":"Pepria"},"score":0,"creation_date":1701802761,"post_id":77603687,"comment_id":136819825,"body_markdown":"@phatfingers Sorry, that&#39;s a typo - it should be `getSerializedValue`","body":"@phatfingers Sorry, that&#39;s a typo - it should be <code>getSerializedValue</code>"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1701803003,"post_id":77603687,"comment_id":136819871,"body_markdown":"You would need the class of T to deserialize that T type through reflection. However you can&#39;t get the type/class of T at runtime because of [type erasure](https://docs.oracle.com/javase/tutorial/java/generics/erasure.html). As commented above you can just use a serialization library that already provides solution to this (and other) problems for serialization/deserialization. Or you can look at its source code to figure out how those libraries solve this problem (short answer: reflection and/or code gen).","body":"You would need the class of T to deserialize that T type through reflection. However you can&#39;t get the type/class of T at runtime because of <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/erasure.html\" rel=\"nofollow noreferrer\">type erasure</a>. As commented above you can just use a serialization library that already provides solution to this (and other) problems for serialization/deserialization. Or you can look at its source code to figure out how those libraries solve this problem (short answer: reflection and/or code gen)."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1701810851,"post_id":77603687,"comment_id":136821018,"body_markdown":"Can you pass a `Class&lt;T&gt;` alongside (or through) `Value&lt;T&gt;`?","body":"Can you pass a <code>Class&lt;T&gt;</code> alongside (or through) <code>Value&lt;T&gt;</code>?"}],"owner":{"account_id":4609664,"reputation":392,"user_id":7396101,"accept_rate":0,"display_name":"Pepria"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701802712,"creation_date":1701747301,"question_id":77603687,"body_markdown":"I want to create a generic wrapper object whose value will be set at runtime. So:\r\n\r\n```java\r\n// wrapper type\r\nclass Value&lt;T&gt; {\r\n   private String serializedValue;\r\n   private T value;\r\n}\r\n\r\n// usage\r\nclass MyClass {\r\n   private Value&lt;Map&lt;String, Object&gt; mapValue;\r\n   private Value&lt;String&gt; stringValue;\r\n}\r\n```\r\nBasically, the `serializedValue` will be a `String` representation of the `value` field(like JSON string) and at runtime, I want to construct typed Java object from it. So for example, if `serializedValue` is `{&quot;key&quot;:&quot;value&quot;}`, I want to construct a `Map&lt;String, Object&gt;` at runtime from that JSON(using a lib like Jackson) and set the `mapValue` field in a `MyClass` object. But I am not sure how to handle/store the generic type info so I can convert the serialized string to a Java object at runtime?\r\n\r\n**Edit**: In this scenario, how would I implement below method,\r\n```java\r\npublic  static &lt;T&gt; Value&lt;T&gt; deserialize(Value&lt;T&gt; toRender) {\r\n    String serialized = toRender.getSerializedValue();\r\n    T value = new ObjectMapper().readValue(serialized, &lt;what do I put here?&gt;);\r\n    //...\r\n  }\r\n```","title":"Java/Generics: How do I define a generic value type?","body":"<p>I want to create a generic wrapper object whose value will be set at runtime. So:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// wrapper type\nclass Value&lt;T&gt; {\n   private String serializedValue;\n   private T value;\n}\n\n// usage\nclass MyClass {\n   private Value&lt;Map&lt;String, Object&gt; mapValue;\n   private Value&lt;String&gt; stringValue;\n}\n</code></pre>\n<p>Basically, the <code>serializedValue</code> will be a <code>String</code> representation of the <code>value</code> field(like JSON string) and at runtime, I want to construct typed Java object from it. So for example, if <code>serializedValue</code> is <code>{&quot;key&quot;:&quot;value&quot;}</code>, I want to construct a <code>Map&lt;String, Object&gt;</code> at runtime from that JSON(using a lib like Jackson) and set the <code>mapValue</code> field in a <code>MyClass</code> object. But I am not sure how to handle/store the generic type info so I can convert the serialized string to a Java object at runtime?</p>\n<p><strong>Edit</strong>: In this scenario, how would I implement below method,</p>\n<pre class=\"lang-java prettyprint-override\"><code>public  static &lt;T&gt; Value&lt;T&gt; deserialize(Value&lt;T&gt; toRender) {\n    String serialized = toRender.getSerializedValue();\n    T value = new ObjectMapper().readValue(serialized, &lt;what do I put here?&gt;);\n    //...\n  }\n</code></pre>\n"},{"tags":["java","html","create-react-app","production"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701802857,"post_id":77608634,"comment_id":136819849,"body_markdown":"Few people learn a programming language by reading technical specs. We usually have someone teach us. Teaching might be in person, from taking a course, which might or might not use textbooks. Some might learn by reading textbooks or other training material. In one semester, a teach might reach dozens of students. But, now that we have the technology, teaching by video can reach thousands. And, it might be faster and easier to create a video than to write a new printed textbook.","body":"Few people learn a programming language by reading technical specs. We usually have someone teach us. Teaching might be in person, from taking a course, which might or might not use textbooks. Some might learn by reading textbooks or other training material. In one semester, a teach might reach dozens of students. But, now that we have the technology, teaching by video can reach thousands. And, it might be faster and easier to create a video than to write a new printed textbook."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1701803058,"post_id":77608634,"comment_id":136819885,"body_markdown":"Welcome to Stack Overflow. This question seems to be too broad to be suitable for Stack Overflow. To better understand how this site is intended to be used, here are some resources: [Tour](https://stackoverflow.com/tour), [Help Center](https://stackoverflow.com/help), [How to Ask A Good Question](https://stackoverflow.com/help/how-to-ask)","body":"Welcome to Stack Overflow. This question seems to be too broad to be suitable for Stack Overflow. To better understand how this site is intended to be used, here are some resources: <a href=\"https://stackoverflow.com/tour\">Tour</a>, <a href=\"https://stackoverflow.com/help\">Help Center</a>, <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask A Good Question</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1701816507,"post_id":77608634,"comment_id":136821802,"body_markdown":"Depends on the documentation.  Your question is tagged with Java, and Java SE and Java EE have superb written documentation and specifications.  Some frameworks, however, have atrocious documentation that isn’t worth a single look.","body":"Depends on the documentation.  Your question is tagged with Java, and Java SE and Java EE have superb written documentation and specifications.  Some frameworks, however, have atrocious documentation that isn’t worth a single look."},{"owner":{"account_id":29961594,"reputation":62,"user_id":22961148,"display_name":"dilettante"},"score":2,"creation_date":1701817784,"post_id":77608634,"comment_id":136821949,"body_markdown":"A well-written textbook is far more informative than most of the &#39;tutorials&#39; available on the internet. I am admittedly &#39;of a certain age&#39;, but I have never learned a programming language by watching videos, and I prefer paper to screens for in-depth reading. I use online references to remind me of things I already know (like the arguments for some function or other, for example).","body":"A well-written textbook is far more informative than most of the &#39;tutorials&#39; available on the internet. I am admittedly &#39;of a certain age&#39;, but I have never learned a programming language by watching videos, and I prefer paper to screens for in-depth reading. I use online references to remind me of things I already know (like the arguments for some function or other, for example)."},{"owner":{"account_id":101080,"reputation":69720,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1702329342,"post_id":77608634,"comment_id":136880727,"body_markdown":"fyi this question is off-topic, because 1) there&#39;s no programming question here; 2) it&#39;s opinion/discussion-based; 3) there&#39;s no way to know how any individual learns, aside from asking them or reading their published materials about it. There&#39;s just no possible way to answer this question objectively, as everyone needs to find the best way to learn, for themselves.","body":"fyi this question is off-topic, because 1) there&#39;s no programming question here; 2) it&#39;s opinion/discussion-based; 3) there&#39;s no way to know how any individual learns, aside from asking them or reading their published materials about it. There&#39;s just no possible way to answer this question objectively, as everyone needs to find the best way to learn, for themselves."}],"owner":{"account_id":26748115,"reputation":1,"user_id":20347919,"display_name":"Monster x"},"comment_count":5,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1701802521,"answer_count":0,"score":-5,"last_activity_date":1701802420,"creation_date":1701802420,"question_id":77608634,"body_markdown":"Is Reading documentation not a right way to learn programming fundamentals instead of watching videos related to that?\r\n\r\nI want to know that is.like harvard&#39;s students billgates or mark zukerberg who founded facebook ,microsoft. were they read documentation for learning programming language?","title":"Why we do not read documentation to learn any language instead of watching videos ,tutorial course?","body":"<p>Is Reading documentation not a right way to learn programming fundamentals instead of watching videos related to that?</p>\n<p>I want to know that is.like harvard's students billgates or mark zukerberg who founded facebook ,microsoft. were they read documentation for learning programming language?</p>\n"},{"tags":["java","unit-testing","junit5","junit-jupiter"],"answers":[{"tags":[],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1701677634,"creation_date":1701676639,"answer_id":77597933,"question_id":77597635,"body_markdown":"Figured it out. I had to surround the space with single quotation marks as shown below:\r\n\r\n    @CsvSource({\r\n                    &quot;&#39; &#39;,lastName&quot;\r\n    })","title":"How to pass a space as value in @CsvSource","body":"<p>Figured it out. I had to surround the space with single quotation marks as shown below:</p>\n<pre><code>@CsvSource({\n                &quot;' ',lastName&quot;\n})\n</code></pre>\n"},{"comments":[{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1701688477,"post_id":77598317,"comment_id":136802542,"body_markdown":"I tried the first approach, but it didn&#39;t work. firstName contained both quotes and space between them after that.","body":"I tried the first approach, but it didn&#39;t work. firstName contained both quotes and space between them after that."},{"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"score":0,"creation_date":1701688757,"post_id":77598317,"comment_id":136802585,"body_markdown":"You can try with signle quotes `&#39; &#39;` in the first approach.","body":"You can try with signle quotes <code>&#39; &#39;</code> in the first approach."},{"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"score":0,"creation_date":1701688915,"post_id":77598317,"comment_id":136802615,"body_markdown":"Can you try the second soltuion, if it works fine, pls?","body":"Can you try the second soltuion, if it works fine, pls?"},{"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"score":0,"creation_date":1701689918,"post_id":77598317,"comment_id":136802745,"body_markdown":"Unfortunately not. firstName contains `\\s`","body":"Unfortunately not. firstName contains <code>\\s</code>"}],"tags":[],"owner":{"account_id":18239208,"reputation":164,"user_id":13276541,"display_name":"Ahmed Mera"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701681536,"creation_date":1701681536,"answer_id":77598317,"question_id":77597635,"body_markdown":"you can try one of this solutions:\r\n\r\n 1. You can escape space value using double quotes, like this: \r\n```\r\n@ParameterizedTest\r\n@CsvSource({\r\n    &quot;\\&quot; \\&quot;,lastName&quot;\r\n})\r\nvoid test(String firstName, String lastName) {\r\n    // Your test logic\r\n}\r\n\r\n```\r\n\r\n 2. You can use an escape sequence for a space, such as `\\s`. This should ensure that a space character is passed as the value for firstName, like this:\r\n\r\n```\r\n@ParameterizedTest\r\n@CsvSource({\r\n    &quot;\\\\s,lastName&quot;\r\n})\r\nvoid test(String firstName, String lastName) {\r\n     // Your test logic\r\n}\r\n\r\n```\r\n\r\n ","title":"How to pass a space as value in @CsvSource","body":"<p>you can try one of this solutions:</p>\n<ol>\n<li>You can escape space value using double quotes, like this:</li>\n</ol>\n<pre><code>@ParameterizedTest\n@CsvSource({\n    &quot;\\&quot; \\&quot;,lastName&quot;\n})\nvoid test(String firstName, String lastName) {\n    // Your test logic\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>You can use an escape sequence for a space, such as <code>\\s</code>. This should ensure that a space character is passed as the value for firstName, like this:</li>\n</ol>\n<pre><code>@ParameterizedTest\n@CsvSource({\n    &quot;\\\\s,lastName&quot;\n})\nvoid test(String firstName, String lastName) {\n     // Your test logic\n}\n\n</code></pre>\n"}],"owner":{"account_id":943688,"reputation":2561,"user_id":971355,"accept_rate":79,"display_name":"ka3ak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":77597933,"answer_count":2,"score":3,"last_activity_date":1701802334,"creation_date":1701672915,"question_id":77597635,"body_markdown":"Cannot figure out the syntax to pass a space as a value in jupiter&#39;s `@CsvSource`\r\n\r\n    @ParameterizedTest\r\n    @CsvSource({\r\n    \t\t\t\t&quot; ,lastName&quot;\r\n    })\r\n    void test(String firstName, String lastName) {\r\n    ...\r\n    }\r\n\r\nbut `firstName` is null and not a space character. Is it doable at all with this annotation?","title":"How to pass a space as value in @CsvSource","body":"<p>Cannot figure out the syntax to pass a space as a value in jupiter's <code>@CsvSource</code></p>\n<pre><code>@ParameterizedTest\n@CsvSource({\n                &quot; ,lastName&quot;\n})\nvoid test(String firstName, String lastName) {\n...\n}\n</code></pre>\n<p>but <code>firstName</code> is null and not a space character. Is it doable at all with this annotation?</p>\n"},{"tags":["java","oracle","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1701704357,"post_id":77600367,"comment_id":136805647,"body_markdown":"Very strange... You can let Hibernate log exact the SQL statement in use by setting `logging.level.org.hibernate.SQL=DEBUG`. Hope it helps. And please share the table definition with all relevant constraints. Maybe we will be able to identify the issue.","body":"Very strange... You can let Hibernate log exact the SQL statement in use by setting <code>logging.level.org.hibernate.SQL=DEBUG</code>. Hope it helps. And please share the table definition with all relevant constraints. Maybe we will be able to identify the issue."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1701704441,"post_id":77600367,"comment_id":136805661,"body_markdown":"Have you turned on logging in Hibernate to see the SQL statements and values that are being used? https://stackoverflow.com/q/74862254/636009","body":"Have you turned on logging in Hibernate to see the SQL statements and values that are being used? <a href=\"https://stackoverflow.com/q/74862254/636009\">stackoverflow.com/q/74862254/636009</a>"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":2,"creation_date":1701704495,"post_id":77600367,"comment_id":136805667,"body_markdown":"@Mar-Z That will show the SQL statement with placeholders. You have to turn on trace logging of another package to see the values, too.","body":"@Mar-Z That will show the SQL statement with placeholders. You have to turn on trace logging of another package to see the values, too."},{"owner":{"account_id":25674310,"reputation":19,"user_id":19438015,"display_name":"Braden Weber"},"score":0,"creation_date":1701706222,"post_id":77600367,"comment_id":136806002,"body_markdown":"Thank you both for your help! @Mar-Z `frequencyQty` is set as `NUMBER(10, 2)` with no constraints. There is nothing that references frequencyQty in its constraint either. It&#39;s about as simple as a table column gets. @David Conrad, thanks for that direction on logging. I checked, and it is indeed getting saved to the database as the number it&#39;s supposed to be according to the logs, but it is still `null` in the database after the save is performed.","body":"Thank you both for your help! @Mar-Z <code>frequencyQty</code> is set as <code>NUMBER(10, 2)</code> with no constraints. There is nothing that references frequencyQty in its constraint either. It&#39;s about as simple as a table column gets. @David Conrad, thanks for that direction on logging. I checked, and it is indeed getting saved to the database as the number it&#39;s supposed to be according to the logs, but it is still <code>null</code> in the database after the save is performed."}],"answers":[{"tags":[],"owner":{"account_id":25674310,"reputation":19,"user_id":19438015,"display_name":"Braden Weber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701802274,"creation_date":1701802274,"answer_id":77608624,"question_id":77600367,"body_markdown":"I found where the problem came from. I still don&#39;t quite understand why it is a problem at all, but I at least found out what fixed it.\r\n\r\nBasically, the API endpoint that was called to save `frequencyQty` was receiving a JSON node that mapped to the object containing the `frequencyQty` field. In the code, I convert the JSON node into the object, set `frequencyQty`, and save it to the database. For some reason, after the code is finished running, there is something that automatically calls for the database to save the *old* value that was passed into the API endpoint through that JSON node, which held the `frequencyQty` as `null`. I still don&#39;t understand why that was happening automatically, but once I traced it back to that, I just changed the logic for what was sent to the API.\r\n\r\nI have spent 20+ hours trying to figure out this bug. I am still confused as to why it exists, but for now, I&#39;m accepting the fix and moving on with my life.","title":"Object value not saving to the database through Hibernate","body":"<p>I found where the problem came from. I still don't quite understand why it is a problem at all, but I at least found out what fixed it.</p>\n<p>Basically, the API endpoint that was called to save <code>frequencyQty</code> was receiving a JSON node that mapped to the object containing the <code>frequencyQty</code> field. In the code, I convert the JSON node into the object, set <code>frequencyQty</code>, and save it to the database. For some reason, after the code is finished running, there is something that automatically calls for the database to save the <em>old</em> value that was passed into the API endpoint through that JSON node, which held the <code>frequencyQty</code> as <code>null</code>. I still don't understand why that was happening automatically, but once I traced it back to that, I just changed the logic for what was sent to the API.</p>\n<p>I have spent 20+ hours trying to figure out this bug. I am still confused as to why it exists, but for now, I'm accepting the fix and moving on with my life.</p>\n"}],"owner":{"account_id":25674310,"reputation":19,"user_id":19438015,"display_name":"Braden Weber"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77608624,"answer_count":1,"score":0,"last_activity_date":1701802274,"creation_date":1701701412,"question_id":77600367,"body_markdown":"I am working on a Spring Boot project that uses Hibernate to interact with an Oracle database.\r\n\r\nThe `save` functionality isn&#39;t working as expected. It is just the default implementation from the Spring Data JPA framework that takes in an object and saves it to the repository. The object definition has a field called `frequencyQty` that has these definitions:\r\n\r\n```\r\n@Column(precision=10, scale=2)\r\nprivate BigDecimal frequencyQty;\r\n\r\n...\r\n\r\npublic BigDecimal getFrequencyQty() {\r\n    return frequencyQty;\r\n}\r\n\r\npublic void setFrequencyQty(BigDecimal frequencyQty) {\r\n    this.frequencyQty = frequencyQty;\r\n}\r\n```\r\n\r\nThe precision of 10 and scale of 2 exactly match the definition of the database column as well.\r\n\r\nThe problem is that Hibernate is not saving this field to the database correctly. If that field in the database is `null`, then nothing ever gets saved. But if the field in the database has a value in it already, then it can save other values just fine.\r\n\r\nFor example, if the field in the database is `null` and I try to save `4`, it remains `null`. If the field in the database is `1` and I try to save `4`, then it saves `4` like expected.\r\n\r\nI have done everything I can think of to debug why this is happening. Other fields for this object save normally, overriding `null` values if they exist, even when they&#39;re saved at the same time as `frequencyQty`. **This is an important detail**, because it means the row is getting saved to the database correctly except for this one specific field. The debugger confirms that the correct values are set in frequencyQty at the time the `save` functionality is called. I have found absolutely nothing to suggest there should be anything special about this field.\r\n\r\nAnyone have any ideas?\r\n\r\nEDIT: Oracle version is 19c Standard Edition 2 Release 19.0.0.0.0\r\n\r\nEDIT: When I check the SQL logs, it appears that the correct SQL is being called to set `frequencyQty`, but later some SQL is called that sets `frequencyQty` back to `null`. This definitely isn&#39;t being done manually, and now I&#39;m just trying to figure out why this script would be running automatically.","title":"Object value not saving to the database through Hibernate","body":"<p>I am working on a Spring Boot project that uses Hibernate to interact with an Oracle database.</p>\n<p>The <code>save</code> functionality isn't working as expected. It is just the default implementation from the Spring Data JPA framework that takes in an object and saves it to the repository. The object definition has a field called <code>frequencyQty</code> that has these definitions:</p>\n<pre><code>@Column(precision=10, scale=2)\nprivate BigDecimal frequencyQty;\n\n...\n\npublic BigDecimal getFrequencyQty() {\n    return frequencyQty;\n}\n\npublic void setFrequencyQty(BigDecimal frequencyQty) {\n    this.frequencyQty = frequencyQty;\n}\n</code></pre>\n<p>The precision of 10 and scale of 2 exactly match the definition of the database column as well.</p>\n<p>The problem is that Hibernate is not saving this field to the database correctly. If that field in the database is <code>null</code>, then nothing ever gets saved. But if the field in the database has a value in it already, then it can save other values just fine.</p>\n<p>For example, if the field in the database is <code>null</code> and I try to save <code>4</code>, it remains <code>null</code>. If the field in the database is <code>1</code> and I try to save <code>4</code>, then it saves <code>4</code> like expected.</p>\n<p>I have done everything I can think of to debug why this is happening. Other fields for this object save normally, overriding <code>null</code> values if they exist, even when they're saved at the same time as <code>frequencyQty</code>. <strong>This is an important detail</strong>, because it means the row is getting saved to the database correctly except for this one specific field. The debugger confirms that the correct values are set in frequencyQty at the time the <code>save</code> functionality is called. I have found absolutely nothing to suggest there should be anything special about this field.</p>\n<p>Anyone have any ideas?</p>\n<p>EDIT: Oracle version is 19c Standard Edition 2 Release 19.0.0.0.0</p>\n<p>EDIT: When I check the SQL logs, it appears that the correct SQL is being called to set <code>frequencyQty</code>, but later some SQL is called that sets <code>frequencyQty</code> back to <code>null</code>. This definitely isn't being done manually, and now I'm just trying to figure out why this script would be running automatically.</p>\n"},{"tags":["java","snowflake-cloud-data-platform","user-defined-functions"],"answers":[{"tags":[],"owner":{"account_id":8322039,"reputation":32568,"user_id":6253347,"display_name":"Elliott Brossard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701802178,"creation_date":1701802178,"answer_id":77608611,"question_id":77608116,"body_markdown":"Your question is somewhat unclear (it seems like you have both performance and query compilation issues) but to answer the latter:\r\n\r\n&gt; How do I return an object SecretKey from getKeyFromPassword(String password, String salt). I&#39;m getting 100315 (P0000): Unsupported return type: javax.crypto.SecretKey in function GETKEYFROMPASSWORD with handler utilEncryptDecrypt.getKeyFromPassword\r\n\r\nThis is telling you that the return type of your Java UDF needs to be one of the supported types listed in https://docs.snowflake.com/en/developer-guide/udf-stored-procedure-data-type-mapping#sql-java-data-type-mappings. If you want to return binary output, for example, then `byte[]` is probably a good choice. You can convert `javax.crypto.SecretKey` to `byte[]` using `getEncoded`; see https://docs.oracle.com/javase/8/docs/api/java/security/Key.html#getEncoded--.\r\n\r\nYou would probably want `decrypt` to take `byte[]` for the `secretKey` as well, then, and you could use `SecretKey decodedKey = new SecretKeySpec(encodedKey, 0, encodedKey.length, &quot;AES&quot;);`, where `encodedKey` is the `byte[]` passed as input.","title":"Snowflake Java UDF return SecretKey object","body":"<p>Your question is somewhat unclear (it seems like you have both performance and query compilation issues) but to answer the latter:</p>\n<blockquote>\n<p>How do I return an object SecretKey from getKeyFromPassword(String password, String salt). I'm getting 100315 (P0000): Unsupported return type: javax.crypto.SecretKey in function GETKEYFROMPASSWORD with handler utilEncryptDecrypt.getKeyFromPassword</p>\n</blockquote>\n<p>This is telling you that the return type of your Java UDF needs to be one of the supported types listed in <a href=\"https://docs.snowflake.com/en/developer-guide/udf-stored-procedure-data-type-mapping#sql-java-data-type-mappings\" rel=\"nofollow noreferrer\">https://docs.snowflake.com/en/developer-guide/udf-stored-procedure-data-type-mapping#sql-java-data-type-mappings</a>. If you want to return binary output, for example, then <code>byte[]</code> is probably a good choice. You can convert <code>javax.crypto.SecretKey</code> to <code>byte[]</code> using <code>getEncoded</code>; see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/security/Key.html#getEncoded--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/security/Key.html#getEncoded--</a>.</p>\n<p>You would probably want <code>decrypt</code> to take <code>byte[]</code> for the <code>secretKey</code> as well, then, and you could use <code>SecretKey decodedKey = new SecretKeySpec(encodedKey, 0, encodedKey.length, &quot;AES&quot;);</code>, where <code>encodedKey</code> is the <code>byte[]</code> passed as input.</p>\n"}],"owner":{"account_id":12537342,"reputation":17,"user_id":9123610,"display_name":"LeoG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1701840728,"answer_count":1,"score":-3,"last_activity_date":1701802178,"creation_date":1701796953,"question_id":77608116,"body_markdown":"I had to write my own decrypt UDF but I&#39;m facing performance issue as I call decrypt UDF for each record. The performance issue comes from generating AES secretKey from 65000 iterations. I want to decouple it from actual decryption. I can do this as I have batches of records (50k in the batch) encrypted with the same key and salt.\r\n\r\nQ1. How do I return an object *SecretKey* from *getKeyFromPassword(String password, String salt)*. I&#39;m getting 100315 (P0000): Unsupported return type: javax.crypto.SecretKey in function GETKEYFROMPASSWORD with handler utilEncryptDecrypt.getKeyFromPassword\r\n\r\nQ2. How do I pass the result from *SecretKey getKeyFromPassword(String password, String salt)* and pass into *decrypt(String strToDecrypt, String secretKey)* or something similar.\r\n\r\n\r\n ","title":"Snowflake Java UDF return SecretKey object","body":"<p>I had to write my own decrypt UDF but I'm facing performance issue as I call decrypt UDF for each record. The performance issue comes from generating AES secretKey from 65000 iterations. I want to decouple it from actual decryption. I can do this as I have batches of records (50k in the batch) encrypted with the same key and salt.</p>\n<p>Q1. How do I return an object <em>SecretKey</em> from <em>getKeyFromPassword(String password, String salt)</em>. I'm getting 100315 (P0000): Unsupported return type: javax.crypto.SecretKey in function GETKEYFROMPASSWORD with handler utilEncryptDecrypt.getKeyFromPassword</p>\n<p>Q2. How do I pass the result from <em>SecretKey getKeyFromPassword(String password, String salt)</em> and pass into <em>decrypt(String strToDecrypt, String secretKey)</em> or something similar.</p>\n"},{"tags":["java","spring-data-jpa","spring-data-mongodb"],"owner":{"account_id":5318975,"reputation":1980,"user_id":4242934,"accept_rate":27,"display_name":"Borgy Manotoy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701802108,"creation_date":1701802108,"question_id":77608602,"body_markdown":"I am using Spring Data MongoDb, and I would like to implement a dynamic query filter/Criterias but with pagination and sorting.\r\n\r\nOriginally I am getting the list of employees using the code below (jpa):\r\n\r\n    Page&lt;Employee&gt; findAllByBranchIdAndDepartmentAndDisabled(String branchId, String department, boolean active, Pageable page);\r\n\r\nBut there is a change that can return the list of employees (active and not), or only the active employees.\r\n\r\nI also tried using @Query but cannot make the query filter `active` optional. \r\nI mean when activeOnly is true, add query filter `active=true`.\r\nWhen activeOnly is false, do not add query filter `active=true`.\r\n\r\n    @Query(value=&quot;{ &#39;branchId&#39;: ?0, &#39;department&#39;:?1, &#39;active&#39;:?2 }&quot;)\r\n    Page&lt;Employee&gt; findEmployees(String branchId, String department, boolean activeOnly, Pageable page);\r\n\r\nI can create dynamic queries with Criteria and MongoTemplate, but it only supports lists.\r\n\r\nI also saw a conversion from List to Page using PageImpl, but PageImpl does not do sorting.\r\n\r\nThe query can be sorted by any Employee field like `firstName, lastName, username, email`, etc.\r\n\r\nIs there any easier/faster/more efficient way of converting a list to a page with sorting?\r\n\r\nIt seems that I can only use PageImpl but I have to manually do sublisting and sorting before passing the processed list to PageImpl.\r\n\r\nAre there any better way?","title":"Java convert List to Page with sort by field and asc/desc","body":"<p>I am using Spring Data MongoDb, and I would like to implement a dynamic query filter/Criterias but with pagination and sorting.</p>\n<p>Originally I am getting the list of employees using the code below (jpa):</p>\n<pre><code>Page&lt;Employee&gt; findAllByBranchIdAndDepartmentAndDisabled(String branchId, String department, boolean active, Pageable page);\n</code></pre>\n<p>But there is a change that can return the list of employees (active and not), or only the active employees.</p>\n<p>I also tried using @Query but cannot make the query filter <code>active</code> optional.\nI mean when activeOnly is true, add query filter <code>active=true</code>.\nWhen activeOnly is false, do not add query filter <code>active=true</code>.</p>\n<pre><code>@Query(value=&quot;{ 'branchId': ?0, 'department':?1, 'active':?2 }&quot;)\nPage&lt;Employee&gt; findEmployees(String branchId, String department, boolean activeOnly, Pageable page);\n</code></pre>\n<p>I can create dynamic queries with Criteria and MongoTemplate, but it only supports lists.</p>\n<p>I also saw a conversion from List to Page using PageImpl, but PageImpl does not do sorting.</p>\n<p>The query can be sorted by any Employee field like <code>firstName, lastName, username, email</code>, etc.</p>\n<p>Is there any easier/faster/more efficient way of converting a list to a page with sorting?</p>\n<p>It seems that I can only use PageImpl but I have to manually do sublisting and sorting before passing the processed list to PageImpl.</p>\n<p>Are there any better way?</p>\n"},{"tags":["java","intellij-idea","junit"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1701055524,"post_id":77554369,"comment_id":136723460,"body_markdown":"Do not use images for text information like code, logs, and configurations.","body":"Do not use images for text information like code, logs, and configurations."},{"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"score":1,"creation_date":1701082742,"post_id":77554369,"comment_id":136726686,"body_markdown":"Please share full code in GitHub or a Google Driver then I can take a look at it. Is it an Android project?","body":"Please share full code in GitHub or a Google Driver then I can take a look at it. Is it an Android project?"},{"owner":{"account_id":6242553,"reputation":47,"user_id":4855685,"display_name":"k_charles"},"score":0,"creation_date":1701109184,"post_id":77554369,"comment_id":136731829,"body_markdown":"@aled The environment is accessed via RDP and does not provide a means for me to copy/paste between host and client. Figured since I&#39;m just attempting to import a dependency that this would help illustrate what I had done and how I had done it so far.","body":"@aled The environment is accessed via RDP and does not provide a means for me to copy/paste between host and client. Figured since I&#39;m just attempting to import a dependency that this would help illustrate what I had done and how I had done it so far."},{"owner":{"account_id":6242553,"reputation":47,"user_id":4855685,"display_name":"k_charles"},"score":0,"creation_date":1701109333,"post_id":77554369,"comment_id":136731853,"body_markdown":"@JackyLiu-JetBrains It&#39;s a project that&#39;s intended to use a fuzzing tools&#39; SDK, not targeting Android.","body":"@JackyLiu-JetBrains It&#39;s a project that&#39;s intended to use a fuzzing tools&#39; SDK, not targeting Android."}],"answers":[{"tags":[],"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1701709308,"creation_date":1701709308,"answer_id":77601253,"question_id":77554369,"body_markdown":"You hava a Gradle project.\r\n\r\nFor Gradle projects IntelliJ uses Gradle by default to:\r\n- Build and run\r\n- run tests\r\n\r\nIn IntelliJ 2023 the setting is under: Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle\r\n\r\nThus, you need to configure Gradle to use local dependencies. \r\n\r\nThe simplest way you can do that is using [File dependencies](https://docs.gradle.org/current/userguide/dependency_management.html#sub:file_dependencies)\r\n\r\n```\r\ndependencies {\r\n    testImplementation files(&#39;libs/junit-4.12.jar&#39;, &#39;libs/hamcrest-core-1.3.jar&#39;)\r\n}\r\n```\r\n\r\nor alternatively:\r\n```\r\ndependencies {\r\n    testImplementation fileTree(dir: &#39;libs&#39;, include: &#39;*.jar&#39;)\r\n}\r\n```\r\n\r\nNotes:\r\n- you seem to have used file dependencies for implementation, but not for test implementation\r\n- junit depends on `hamcrest-core`. Check the pom for the correct version. [junit-4.12.pom](https://repo1.maven.org/maven2/junit/junit/4.12/junit-4.12.pom)\r\n\r\n\r\nAn alternative approach is to set up a local maven repository.","title":"Offline IntelliJ installation and junit","body":"<p>You hava a Gradle project.</p>\n<p>For Gradle projects IntelliJ uses Gradle by default to:</p>\n<ul>\n<li>Build and run</li>\n<li>run tests</li>\n</ul>\n<p>In IntelliJ 2023 the setting is under: Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle</p>\n<p>Thus, you need to configure Gradle to use local dependencies.</p>\n<p>The simplest way you can do that is using <a href=\"https://docs.gradle.org/current/userguide/dependency_management.html#sub:file_dependencies\" rel=\"nofollow noreferrer\">File dependencies</a></p>\n<pre><code>dependencies {\n    testImplementation files('libs/junit-4.12.jar', 'libs/hamcrest-core-1.3.jar')\n}\n</code></pre>\n<p>or alternatively:</p>\n<pre><code>dependencies {\n    testImplementation fileTree(dir: 'libs', include: '*.jar')\n}\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li>you seem to have used file dependencies for implementation, but not for test implementation</li>\n<li>junit depends on <code>hamcrest-core</code>. Check the pom for the correct version. <a href=\"https://repo1.maven.org/maven2/junit/junit/4.12/junit-4.12.pom\" rel=\"nofollow noreferrer\">junit-4.12.pom</a></li>\n</ul>\n<p>An alternative approach is to set up a local maven repository.</p>\n"},{"tags":[],"owner":{"account_id":6242553,"reputation":47,"user_id":4855685,"display_name":"k_charles"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1701801990,"creation_date":1701801990,"answer_id":77608589,"question_id":77554369,"body_markdown":"Thanks for all who responded but ultimately I discovered that IntelliJ was trying to update Gradle even with &quot;Toggle Offline Mode&quot; enabled within Gradle settings. \r\n\r\nBy navigating to File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle and manually settings the distribution to &quot;Local installation&quot; it no longer attempted to download itself and behaved appropriately. ","title":"Offline IntelliJ installation and junit","body":"<p>Thanks for all who responded but ultimately I discovered that IntelliJ was trying to update Gradle even with &quot;Toggle Offline Mode&quot; enabled within Gradle settings.</p>\n<p>By navigating to File -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Gradle and manually settings the distribution to &quot;Local installation&quot; it no longer attempted to download itself and behaved appropriately.</p>\n"}],"owner":{"account_id":6242553,"reputation":47,"user_id":4855685,"display_name":"k_charles"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77608589,"answer_count":2,"score":0,"last_activity_date":1701801990,"creation_date":1701055353,"question_id":77554369,"body_markdown":"I&#39;ve seen similar questions but my installation has no outside connectivity. I&#39;ve tried the recommendations in several posts I&#39;ll link below but my issue persists. I downloaded both junit and hamcrest per installation instructions and have been trying to get my project to recognize junit.\r\n\r\n[![offline junit files][1]][1]\r\n\r\nFirst, the error I&#39;m receiving when attempting to debug:\r\n\r\n[![No cached. version listing for junit][2]][2]\r\n\r\nI have added them to my project under Project Settings -&gt; Libraries\r\n\r\n[![Libraries][3]][3]\r\n\r\nI have added them as modules via Project Settings -&gt; Modules\r\n\r\n[![Project Settings - Modules][4]][4]\r\n\r\nI have it added via Gradle as a dependency:\r\n\r\n[![Gradle dependency][5]][5]\r\n\r\nWhat am I missing? Still very much new to IntelliJ so any and all help is welcome. Thanks!\r\n\r\nhttps://stackoverflow.com/questions/19330832/setting-up-junit-with-intellij-idea\r\n\r\nhttps://stackoverflow.com/questions/60327197/importing-junit-into-intellij\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X8s4s.png\r\n  [2]: https://i.stack.imgur.com/MCbgb.png\r\n  [3]: https://i.stack.imgur.com/TM3At.png\r\n  [4]: https://i.stack.imgur.com/qiYeC.png\r\n  [5]: https://i.stack.imgur.com/EPAGf.png","title":"Offline IntelliJ installation and junit","body":"<p>I've seen similar questions but my installation has no outside connectivity. I've tried the recommendations in several posts I'll link below but my issue persists. I downloaded both junit and hamcrest per installation instructions and have been trying to get my project to recognize junit.</p>\n<p><a href=\"https://i.stack.imgur.com/X8s4s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X8s4s.png\" alt=\"offline junit files\" /></a></p>\n<p>First, the error I'm receiving when attempting to debug:</p>\n<p><a href=\"https://i.stack.imgur.com/MCbgb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MCbgb.png\" alt=\"No cached. version listing for junit\" /></a></p>\n<p>I have added them to my project under Project Settings -&gt; Libraries</p>\n<p><a href=\"https://i.stack.imgur.com/TM3At.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TM3At.png\" alt=\"Libraries\" /></a></p>\n<p>I have added them as modules via Project Settings -&gt; Modules</p>\n<p><a href=\"https://i.stack.imgur.com/qiYeC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qiYeC.png\" alt=\"Project Settings - Modules\" /></a></p>\n<p>I have it added via Gradle as a dependency:</p>\n<p><a href=\"https://i.stack.imgur.com/EPAGf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EPAGf.png\" alt=\"Gradle dependency\" /></a></p>\n<p>What am I missing? Still very much new to IntelliJ so any and all help is welcome. Thanks!</p>\n<p><a href=\"https://stackoverflow.com/questions/19330832/setting-up-junit-with-intellij-idea\">Setting up JUnit with IntelliJ IDEA</a></p>\n<p><a href=\"https://stackoverflow.com/questions/60327197/importing-junit-into-intellij\">Importing JUnit into Intellij</a></p>\n"},{"tags":["java","spring-boot","kotlin","resilience4j"],"comments":[{"owner":{"account_id":3245347,"reputation":3398,"user_id":3887073,"accept_rate":75,"display_name":"Ben"},"score":0,"creation_date":1701803126,"post_id":77608540,"comment_id":136819900,"body_markdown":"Easy. The correct version of &#39;io.vavr&#39; is the version that has the method &#39;io.vavr.CheckedFunction0&#39; (at least). Your used version does not have this method. A quick Google search yielded (for example) &#39;0.9.3&#39;.","body":"Easy. The correct version of &#39;io.vavr&#39; is the version that has the method &#39;io.vavr.CheckedFunction0&#39; (at least). Your used version does not have this method. A quick Google search yielded (for example) &#39;0.9.3&#39;."}],"owner":{"account_id":20974517,"reputation":57,"user_id":15410874,"display_name":"Karol Wolny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701801542,"creation_date":1701801542,"question_id":77608540,"body_markdown":"i get an error like &quot;Caused by: java.lang.NoSuchMethodError: &#39;io.vavr.CheckedFunction0&quot;, i figured out is problem with compatibility of resilence and io.vavr, i have in code resilensce in 2.0.2 version, what is correct version of io.vavr? I write in kotlin, mayby this information is important too.","title":"Caused by: java.lang.NoSuchMethodError: &#39;io.vavr.CheckedFunction0","body":"<p>i get an error like &quot;Caused by: java.lang.NoSuchMethodError: 'io.vavr.CheckedFunction0&quot;, i figured out is problem with compatibility of resilence and io.vavr, i have in code resilensce in 2.0.2 version, what is correct version of io.vavr? I write in kotlin, mayby this information is important too.</p>\n"},{"tags":["java","spring-boot","testcontainers"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1701808678,"post_id":77608537,"comment_id":136820697,"body_markdown":"If you are looking for an example using spring-cloud aws and Testcontainers with LocalStack. Then, take a look at this one https://github.com/eddumelendez/testcontainers-localstack/tree/main/sqs which uses the latest versions","body":"If you are looking for an example using spring-cloud aws and Testcontainers with LocalStack. Then, take a look at this one <a href=\"https://github.com/eddumelendez/testcontainers-localstack/tree/main/sqs\" rel=\"nofollow noreferrer\">github.com/eddumelendez/testcontainers-localstack/tree/main/&zwnj;&#8203;sqs</a> which uses the latest versions"}],"owner":{"account_id":6026159,"reputation":639,"user_id":4812741,"accept_rate":42,"display_name":"Ger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701801525,"creation_date":1701801525,"question_id":77608537,"body_markdown":"You need to test a class that will be an SQS listener using container testing. \r\n\r\nBut I&#39;m encountering an error that I can&#39;t resolve, I&#39;ve tried several approaches but it hasn&#39;t resolved it, can anyone give a contribution as to what the problem is?\r\n\r\nI added the dependency aws-java-sdk-sts because the error was `com.amazonaws.SdkClientException: To use assume role profiles the aws-java-sdk-sts module must be on the class path`\r\n\r\nAnd now after inserting this dependency I started to have this new error that I describe below\r\n\r\n**Maven dependency**\r\n\r\n    &lt;parent&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.1.5&lt;/version&gt;\r\n    \t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    \t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-cloud-aws-messaging&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${spring-cloud-aws-messaging.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    \t\t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-testcontainers&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${testcontainers.version}&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \t\t\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;localstack&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.16.2&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.12.604&lt;/version&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Test**\r\n\r\n    @Testcontainers\r\n    @SpringBootTest\r\n    public class SQSListenerTest {\r\n    \r\n        private static final String QUEUE_NAME = UUID.randomUUID().toString();\r\n    \r\n        @Autowired\r\n        private QueueMessagingTemplate queueMessagingTemplate;\r\n    \r\n        @Container\r\n        public static LocalStackContainer localStackContainer = new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack:2.0&quot;))\r\n                .withServices(SQS)\r\n                .withEnv(&quot;HOSTNAME_EXTERNAL&quot;, &quot;localhost&quot;);\r\n    \r\n        @DynamicPropertySource\r\n        static void overrideConfiguration(DynamicPropertyRegistry registry) {\r\n            registry.add(&quot;sqs.queue.name&quot;, () -&gt; QUEUE_NAME);\r\n            registry.add(&quot;spring.cloud.aws.region.static&quot;, () -&gt; localStackContainer.getRegion());\r\n            registry.add(&quot;spring.cloud.aws.credentials.access-key&quot;, () -&gt; localStackContainer.getAccessKey());\r\n            registry.add(&quot;spring.cloud.aws.credentials.secret-key&quot;, () -&gt; localStackContainer.getSecretKey());\r\n            registry.add(&quot;spring.cloud.aws.sqs.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(SQS).toString());\r\n        }\r\n    \r\n        @BeforeAll\r\n        static void beforeAll() throws IOException, InterruptedException {\r\n            localStackContainer.execInContainer(&quot;awslocal&quot;, &quot;sqs&quot;, &quot;create-queue&quot;, &quot;--queue-name&quot;, QUEUE_NAME);\r\n        }\r\n    \r\n        @Test\r\n        public void testSingleWebhook() {\r\n            queueMessagingTemplate.convertAndSend(QUEUE_NAME, &quot;Test message&quot;);\r\n        }\r\n    }\r\n\r\n**Erro**\r\n\r\n    java.lang.NullPointerException: You must specify a value for roleArn and roleSessionName\r\n    \r\n    \tat com.amazonaws.auth.STSAssumeRoleSessionCredentialsProvider$Builder.&lt;init&gt;(STSAssumeRoleSessionCredentialsProvider.java:390)\r\n    \tat com.amazonaws.services.securitytoken.internal.STSProfileCredentialsService.getAssumeRoleCredentialsProvider(STSProfileCredentialsService.java:31)\r\n    \tat com.amazonaws.auth.profile.internal.securitytoken.STSProfileCredentialsServiceProvider.getProfileCredentialsProvider(STSProfileCredentialsServiceProvider.java:39)\r\n    \tat com.amazonaws.auth.profile.internal.securitytoken.STSProfileCredentialsServiceProvider.getCredentials(STSProfileCredentialsServiceProvider.java:71)\r\n    \tat com.amazonaws.auth.WebIdentityTokenCredentialsProvider.getCredentials(WebIdentityTokenCredentialsProvider.java:76)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.getCredentialsFromContext(AmazonHttpClient.java:1269)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.runBeforeRequestHandlers(AmazonHttpClient.java:845)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:794)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\r\n    \tat com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\r\n    \tat com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\r\n    \tat com.amazonaws.services.sqs.AmazonSQSClient.doInvoke(AmazonSQSClient.java:2207)\r\n    \tat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2174)\r\n    \tat com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2163)\r\n    \tat com.amazonaws.services.sqs.AmazonSQSClient.executeGetQueueUrl(AmazonSQSClient.java:1201)\r\n    \tat com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:1173)\r\n    \tat org.springframework.cloud.aws.messaging.support.destination.DynamicQueueUrlDestinationResolver.resolveDestination(DynamicQueueUrlDestinationResolver.java:94)\r\n    \tat org.springframework.cloud.aws.messaging.support.destination.DynamicQueueUrlDestinationResolver.resolveDestination(DynamicQueueUrlDestinationResolver.java:38)\r\n    \tat org.springframework.messaging.core.CachingDestinationResolverProxy.resolveDestination(CachingDestinationResolverProxy.java:92)\r\n    \tat org.springframework.cloud.aws.messaging.core.support.AbstractMessageChannelMessagingSendingTemplate.resolveMessageChannelByLogicalName(AbstractMessageChannelMessagingSendingTemplate.java:108)\r\n    \tat org.springframework.cloud.aws.messaging.core.support.AbstractMessageChannelMessagingSendingTemplate.convertAndSend(AbstractMessageChannelMessagingSendingTemplate.java:80)\r\n    \tat com.demo.message.listener.SQSListenerTest.testSingleWebhook(SQSListenerTest.java:82)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\r\n    \tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\r\n    \tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n    \tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\r\n    \tat org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n\r\n","title":"TestContainer SQS Java And Spring","body":"<p>You need to test a class that will be an SQS listener using container testing.</p>\n<p>But I'm encountering an error that I can't resolve, I've tried several approaches but it hasn't resolved it, can anyone give a contribution as to what the problem is?</p>\n<p>I added the dependency aws-java-sdk-sts because the error was <code>com.amazonaws.SdkClientException: To use assume role profiles the aws-java-sdk-sts module must be on the class path</code></p>\n<p>And now after inserting this dependency I started to have this new error that I describe below</p>\n<p><strong>Maven dependency</strong></p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.5&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n    \n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-aws-messaging&lt;/artifactId&gt;\n    &lt;version&gt;${spring-cloud-aws-messaging.version}&lt;/version&gt;\n&lt;/dependency&gt;\n        \n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-config&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n        \n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-testcontainers&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;testcontainers&lt;/artifactId&gt;\n    &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;${testcontainers.version}&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n        \n&lt;dependency&gt;\n    &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n    &lt;artifactId&gt;localstack&lt;/artifactId&gt;\n    &lt;version&gt;1.16.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n    &lt;artifactId&gt;aws-java-sdk-sts&lt;/artifactId&gt;\n    &lt;version&gt;1.12.604&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><strong>Test</strong></p>\n<pre><code>@Testcontainers\n@SpringBootTest\npublic class SQSListenerTest {\n\n    private static final String QUEUE_NAME = UUID.randomUUID().toString();\n\n    @Autowired\n    private QueueMessagingTemplate queueMessagingTemplate;\n\n    @Container\n    public static LocalStackContainer localStackContainer = new LocalStackContainer(DockerImageName.parse(&quot;localstack/localstack:2.0&quot;))\n            .withServices(SQS)\n            .withEnv(&quot;HOSTNAME_EXTERNAL&quot;, &quot;localhost&quot;);\n\n    @DynamicPropertySource\n    static void overrideConfiguration(DynamicPropertyRegistry registry) {\n        registry.add(&quot;sqs.queue.name&quot;, () -&gt; QUEUE_NAME);\n        registry.add(&quot;spring.cloud.aws.region.static&quot;, () -&gt; localStackContainer.getRegion());\n        registry.add(&quot;spring.cloud.aws.credentials.access-key&quot;, () -&gt; localStackContainer.getAccessKey());\n        registry.add(&quot;spring.cloud.aws.credentials.secret-key&quot;, () -&gt; localStackContainer.getSecretKey());\n        registry.add(&quot;spring.cloud.aws.sqs.endpoint&quot;, () -&gt; localStackContainer.getEndpointOverride(SQS).toString());\n    }\n\n    @BeforeAll\n    static void beforeAll() throws IOException, InterruptedException {\n        localStackContainer.execInContainer(&quot;awslocal&quot;, &quot;sqs&quot;, &quot;create-queue&quot;, &quot;--queue-name&quot;, QUEUE_NAME);\n    }\n\n    @Test\n    public void testSingleWebhook() {\n        queueMessagingTemplate.convertAndSend(QUEUE_NAME, &quot;Test message&quot;);\n    }\n}\n</code></pre>\n<p><strong>Erro</strong></p>\n<pre><code>java.lang.NullPointerException: You must specify a value for roleArn and roleSessionName\n\n    at com.amazonaws.auth.STSAssumeRoleSessionCredentialsProvider$Builder.&lt;init&gt;(STSAssumeRoleSessionCredentialsProvider.java:390)\n    at com.amazonaws.services.securitytoken.internal.STSProfileCredentialsService.getAssumeRoleCredentialsProvider(STSProfileCredentialsService.java:31)\n    at com.amazonaws.auth.profile.internal.securitytoken.STSProfileCredentialsServiceProvider.getProfileCredentialsProvider(STSProfileCredentialsServiceProvider.java:39)\n    at com.amazonaws.auth.profile.internal.securitytoken.STSProfileCredentialsServiceProvider.getCredentials(STSProfileCredentialsServiceProvider.java:71)\n    at com.amazonaws.auth.WebIdentityTokenCredentialsProvider.getCredentials(WebIdentityTokenCredentialsProvider.java:76)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.getCredentialsFromContext(AmazonHttpClient.java:1269)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.runBeforeRequestHandlers(AmazonHttpClient.java:845)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.doExecute(AmazonHttpClient.java:794)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.executeWithTimer(AmazonHttpClient.java:781)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.execute(AmazonHttpClient.java:755)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutor.access$500(AmazonHttpClient.java:715)\n    at com.amazonaws.http.AmazonHttpClient$RequestExecutionBuilderImpl.execute(AmazonHttpClient.java:697)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:561)\n    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:541)\n    at com.amazonaws.services.sqs.AmazonSQSClient.doInvoke(AmazonSQSClient.java:2207)\n    at com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2174)\n    at com.amazonaws.services.sqs.AmazonSQSClient.invoke(AmazonSQSClient.java:2163)\n    at com.amazonaws.services.sqs.AmazonSQSClient.executeGetQueueUrl(AmazonSQSClient.java:1201)\n    at com.amazonaws.services.sqs.AmazonSQSClient.getQueueUrl(AmazonSQSClient.java:1173)\n    at org.springframework.cloud.aws.messaging.support.destination.DynamicQueueUrlDestinationResolver.resolveDestination(DynamicQueueUrlDestinationResolver.java:94)\n    at org.springframework.cloud.aws.messaging.support.destination.DynamicQueueUrlDestinationResolver.resolveDestination(DynamicQueueUrlDestinationResolver.java:38)\n    at org.springframework.messaging.core.CachingDestinationResolverProxy.resolveDestination(CachingDestinationResolverProxy.java:92)\n    at org.springframework.cloud.aws.messaging.core.support.AbstractMessageChannelMessagingSendingTemplate.resolveMessageChannelByLogicalName(AbstractMessageChannelMessagingSendingTemplate.java:108)\n    at org.springframework.cloud.aws.messaging.core.support.AbstractMessageChannelMessagingSendingTemplate.convertAndSend(AbstractMessageChannelMessagingSendingTemplate.java:80)\n    at com.demo.message.listener.SQSListenerTest.testSingleWebhook(SQSListenerTest.java:82)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:727)\n    at org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:156)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:147)\n    at org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:86)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(InterceptingExecutableInvoker.java:103)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.lambda$invoke$0(InterceptingExecutableInvoker.java:93)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\n    at org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:92)\n    at org.junit.jupiter.engine.execution.InterceptingExecutableInvoker.invoke(InterceptingExecutableInvoker.java:86)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:217)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:213)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:138)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\n</code></pre>\n"},{"tags":["java","postgresql","hibernate","pgcrypto"],"comments":[{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1535563249,"post_id":52077348,"comment_id":91116256,"body_markdown":"An annotation, any annotation, requires static info, yes.","body":"An annotation, any annotation, requires static info, yes."},{"owner":{"account_id":2362508,"reputation":1030,"user_id":2068897,"accept_rate":81,"display_name":"mdzh"},"score":0,"creation_date":1584526236,"post_id":52077348,"comment_id":107460753,"body_markdown":"Have you found a solution?","body":"Have you found a solution?"},{"owner":{"account_id":1447480,"reputation":1567,"user_id":1365460,"accept_rate":51,"display_name":"Ankur Raiyani"},"score":0,"creation_date":1595493291,"post_id":52077348,"comment_id":111495444,"body_markdown":"Did you get the solution?","body":"Did you get the solution?"},{"owner":{"account_id":8436878,"reputation":147,"user_id":6330773,"display_name":"Valentin Rochet"},"score":0,"creation_date":1595930127,"post_id":52077348,"comment_id":111637102,"body_markdown":"Hey. I&#39;m not sure cause it was quite a time ago, but I think we couldn&#39;t find a proper solution, so we did the decrypt part in the SQL requests. We had to do it in every request... not super clean","body":"Hey. I&#39;m not sure cause it was quite a time ago, but I think we couldn&#39;t find a proper solution, so we did the decrypt part in the SQL requests. We had to do it in every request... not super clean"},{"owner":{"account_id":1393301,"reputation":36,"user_id":1323605,"display_name":"Fabian Steels"},"score":0,"creation_date":1600685904,"post_id":52077348,"comment_id":113155433,"body_markdown":"look this [issue](https://stackoverflow.com/questions/42437840/how-to-encrypt-a-column-in-postgres-using-hibernate-columntransformer/42437963#42437963) a solution seems to be found","body":"look this <a href=\"https://stackoverflow.com/questions/42437840/how-to-encrypt-a-column-in-postgres-using-hibernate-columntransformer/42437963#42437963\">issue</a> a solution seems to be found"}],"answers":[{"tags":[],"owner":{"account_id":401085,"reputation":1174,"user_id":767434,"display_name":"max"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1701801502,"creation_date":1663854332,"answer_id":73815778,"question_id":52077348,"body_markdown":"You cannot use other than static parameters in annotations.\r\n\r\nWhat we did is to set the password in the current jdbc session (Transaction Interceptor)\r\n\r\n    SET env_key = &#39;my-super-secret-pwd&#39;;\r\n\r\nand than read the password via postgresql function \r\n\r\n    current_setting(&#39;enc_key&#39;)\r\n\r\n\r\nIn Quarkus the transaction interceptor looks like that: \r\n\r\n```java\r\n@ApplicationScoped\r\n@Unremovable\r\npublic class TransactionObserver {\r\n\r\n    @ConfigProperty(name = &quot;my.encryption.key&quot;)\r\n    String envEncryptionKey;\r\n\r\n    @Inject\r\n    EntityManager em;\r\n\r\n    public void onBeginTransaction(@Observes @Initialized(TransactionScoped.class) Object event) {\r\n        addEncryptionKeyToSession();\r\n    }\r\n\r\n    private void addEncryptionKeyToSession() {\r\n        em.createNativeQuery(&quot;SET enc_key = &#39;&quot; + envEncryptionKey + &quot;&#39;;&quot;).executeUpdate();\r\n    }\r\n}\r\n```\r\n\r\nand in the entity you do something like that:\r\n\r\n```java\r\n@ColumnTransformer(read = &quot;pgp_sym_decrypt(NAME, current_setting(&#39;enc_key&#39;))&quot;, write = &quot;pgp_sym_encrypt(?, current_setting(&#39;enc_key&#39;))&quot;)\r\n@Column(name = &quot;NAME&quot;, columnDefinition = &quot;bytea&quot;, unique = false, nullable = true)\r\npublic String name;\r\n```\r\n\r\n\r\n","title":"Is it possible to variabilize the password in Hibernate @ColumnTransformer for pgcrypto?","body":"<p>You cannot use other than static parameters in annotations.</p>\n<p>What we did is to set the password in the current jdbc session (Transaction Interceptor)</p>\n<pre><code>SET env_key = 'my-super-secret-pwd';\n</code></pre>\n<p>and than read the password via postgresql function</p>\n<pre><code>current_setting('enc_key')\n</code></pre>\n<p>In Quarkus the transaction interceptor looks like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\n@Unremovable\npublic class TransactionObserver {\n\n    @ConfigProperty(name = &quot;my.encryption.key&quot;)\n    String envEncryptionKey;\n\n    @Inject\n    EntityManager em;\n\n    public void onBeginTransaction(@Observes @Initialized(TransactionScoped.class) Object event) {\n        addEncryptionKeyToSession();\n    }\n\n    private void addEncryptionKeyToSession() {\n        em.createNativeQuery(&quot;SET enc_key = '&quot; + envEncryptionKey + &quot;';&quot;).executeUpdate();\n    }\n}\n</code></pre>\n<p>and in the entity you do something like that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ColumnTransformer(read = &quot;pgp_sym_decrypt(NAME, current_setting('enc_key'))&quot;, write = &quot;pgp_sym_encrypt(?, current_setting('enc_key'))&quot;)\n@Column(name = &quot;NAME&quot;, columnDefinition = &quot;bytea&quot;, unique = false, nullable = true)\npublic String name;\n</code></pre>\n"}],"owner":{"account_id":8436878,"reputation":147,"user_id":6330773,"display_name":"Valentin Rochet"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1936,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1701801502,"creation_date":1535545242,"question_id":52077348,"body_markdown":"I&#39;m working on a postgresql base that use pgcrypto to encrypt some columns of the base.\r\n\r\nJava side, I use JPA to &quot;map&quot; my classes to my database.\r\n\r\nCurrently, to encrypt and decrypt fields in java I use `@ColumnTransformer`. Example :  \r\n\r\n\t@Column(name = &quot;my_column&quot;, nullable = false)\r\n\t@ColumnTransformer(read = &quot;pgp_sym_decrypt(my_column, &quot;my_password&quot;)&quot;, write = &quot;pgp_sym_encrypt(?, &quot;my_password&quot;)&quot;)\r\n\tprivate String myColumn;\r\n\r\nThis works fine. But I would like to variabilize my password. My application will be deployed on several servers and the password will be different for each one.\r\n\r\nI tried a lot of things, I searched on internet but I didn&#39;t find anything.\r\nSo I&#39;m starting to think... is this just possible with this annotation ? Or should I encrypt/decrypt in another way ? In the repository maybe ?\r\n\r\n_PS here are a few examples of what I tried :_\r\n\r\n    @ColumnTransformer(read = &quot;pgp_sym_decrypt(my_column, ${application.security.pgcryptoPassword})&quot;, write = &quot;pgp_sym_encrypt(?, ${application.security.pgcryptoPassword})&quot;)\r\nwith application.security.pgcryptoPassword defined in my configuration file\r\n\r\n    @Value(&quot;${application.security.pgcryptoPassword}&quot;)\r\n\tprivate static final String pgcryptoPassword;\r\n    private static final String readCreator = &quot;pgp_sym_decrypt(creation_aladdin_par, &quot; + pgcryptoPassword + &quot;)&quot;;\r\n    @ColumnTransformer(read = readCreator, write = &quot;pgp_sym_encrypt(?, my_password)&quot;)\r\n\r\n\r\n**EDIT**\r\n\r\nI tried 2 things :\r\n\r\n    private static final String pgcryptoPassword = &quot;my_password&quot;;\r\n    \r\n    @ColumnTransformer(read = &quot;pgp_sym_decrypt(my_column, &#39;&quot; + pgcryptoPassword + &quot;&#39;)&quot;, write = &quot;pgp_sym_encrypt(?, &#39;&quot; + pgcryptoPassword  + &quot;&#39;)&quot;)\r\n\tprivate String myColumn;\r\n\r\nand\r\n\r\n    @Value(&quot;${application.security.pgcryptoPassword}&quot;)\r\n\tprivate static final String pgcryptoPassword;\r\n    @ColumnTransformer(read = &quot;pgp_sym_decrypt(my_column, &#39;&quot; + pgcryptoPassword + &quot;&#39;)&quot;, write = &quot;pgp_sym_encrypt(?, &#39;&quot; + pgcryptoPassword  + &quot;&#39;)&quot;)\r\n\tprivate String myColumn;\r\n\r\nFirst works, second I get the error :  \r\n`The value for annotation attribute ColumnTransformer.read must be a constant expression`  \r\nFrom what I found on internet about this error, I think there is no way to variabilize my password in a configuration file and use it in the `@ColumnTransformer` annotation.\r\n\r\nDo you agree with me or do you have another solution ?","title":"Is it possible to variabilize the password in Hibernate @ColumnTransformer for pgcrypto?","body":"<p>I'm working on a postgresql base that use pgcrypto to encrypt some columns of the base.</p>\n\n<p>Java side, I use JPA to \"map\" my classes to my database.</p>\n\n<p>Currently, to encrypt and decrypt fields in java I use <code>@ColumnTransformer</code>. Example :  </p>\n\n<pre><code>@Column(name = \"my_column\", nullable = false)\n@ColumnTransformer(read = \"pgp_sym_decrypt(my_column, \"my_password\")\", write = \"pgp_sym_encrypt(?, \"my_password\")\")\nprivate String myColumn;\n</code></pre>\n\n<p>This works fine. But I would like to variabilize my password. My application will be deployed on several servers and the password will be different for each one.</p>\n\n<p>I tried a lot of things, I searched on internet but I didn't find anything.\nSo I'm starting to think... is this just possible with this annotation ? Or should I encrypt/decrypt in another way ? In the repository maybe ?</p>\n\n<p><em>PS here are a few examples of what I tried :</em></p>\n\n<pre><code>@ColumnTransformer(read = \"pgp_sym_decrypt(my_column, ${application.security.pgcryptoPassword})\", write = \"pgp_sym_encrypt(?, ${application.security.pgcryptoPassword})\")\n</code></pre>\n\n<p>with application.security.pgcryptoPassword defined in my configuration file</p>\n\n<pre><code>@Value(\"${application.security.pgcryptoPassword}\")\nprivate static final String pgcryptoPassword;\nprivate static final String readCreator = \"pgp_sym_decrypt(creation_aladdin_par, \" + pgcryptoPassword + \")\";\n@ColumnTransformer(read = readCreator, write = \"pgp_sym_encrypt(?, my_password)\")\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>I tried 2 things :</p>\n\n<pre><code>private static final String pgcryptoPassword = \"my_password\";\n\n@ColumnTransformer(read = \"pgp_sym_decrypt(my_column, '\" + pgcryptoPassword + \"')\", write = \"pgp_sym_encrypt(?, '\" + pgcryptoPassword  + \"')\")\nprivate String myColumn;\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Value(\"${application.security.pgcryptoPassword}\")\nprivate static final String pgcryptoPassword;\n@ColumnTransformer(read = \"pgp_sym_decrypt(my_column, '\" + pgcryptoPassword + \"')\", write = \"pgp_sym_encrypt(?, '\" + pgcryptoPassword  + \"')\")\nprivate String myColumn;\n</code></pre>\n\n<p>First works, second I get the error :<br>\n<code>The value for annotation attribute ColumnTransformer.read must be a constant expression</code><br>\nFrom what I found on internet about this error, I think there is no way to variabilize my password in a configuration file and use it in the <code>@ColumnTransformer</code> annotation.</p>\n\n<p>Do you agree with me or do you have another solution ?</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1701801468,"post_id":77608076,"comment_id":136819613,"body_markdown":"Word doesn&#39;t have attachments. I assume you mean an embedded object.","body":"Word doesn&#39;t have attachments. I assume you mean an embedded object."}],"owner":{"account_id":8572689,"reputation":502,"user_id":6422979,"accept_rate":38,"display_name":"Rajesh Om"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1701801438,"creation_date":1701796634,"question_id":77608076,"body_markdown":"I generated Word document file using Apache POI but want to insert a CSV file as an embedded object that can be opened (double clicking on it).Is there any code snippet available using Apache POI Java program.\r\n\r\n**Used below code to Generate Word Document:**\r\n\r\n    import java.io.FileOutputStream;  \r\n    import java.io.OutputStream;  \r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;  \r\n    import org.apache.poi.xwpf.usermodel.XWPFParagraph;  \r\n    import org.apache.poi.xwpf.usermodel.XWPFRun;  \r\n    public class ParagraphExample {  \r\n        public static void main(String[] args) {  \r\n            XWPFDocument doc = new XWPFDocument();  \r\n            try(OutputStream os = new FileOutputStream(&quot;TestResults.doc&quot;)) {  \r\n                XWPFParagraph paragraph = doc.createParagraph();  \r\n                XWPFRun run = paragraph.createRun();  \r\n                run.setText(&quot;Hello, This is Test Execution Results. This paragraph is written &quot;+  \r\n                &quot;by using XWPFParagrah.&quot;);  \r\n                doc.write(os);  \r\n            }catch(Exception e) {  \r\n                System.out.println(e.getMessage());  \r\n            }  \r\n        }  \r\n    } ","title":"Insert a csv file as embedded object in a word document using Java","body":"<p>I generated Word document file using Apache POI but want to insert a CSV file as an embedded object that can be opened (double clicking on it).Is there any code snippet available using Apache POI Java program.</p>\n<p><strong>Used below code to Generate Word Document:</strong></p>\n<pre><code>import java.io.FileOutputStream;  \nimport java.io.OutputStream;  \nimport org.apache.poi.xwpf.usermodel.XWPFDocument;  \nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;  \nimport org.apache.poi.xwpf.usermodel.XWPFRun;  \npublic class ParagraphExample {  \n    public static void main(String[] args) {  \n        XWPFDocument doc = new XWPFDocument();  \n        try(OutputStream os = new FileOutputStream(&quot;TestResults.doc&quot;)) {  \n            XWPFParagraph paragraph = doc.createParagraph();  \n            XWPFRun run = paragraph.createRun();  \n            run.setText(&quot;Hello, This is Test Execution Results. This paragraph is written &quot;+  \n            &quot;by using XWPFParagrah.&quot;);  \n            doc.write(os);  \n        }catch(Exception e) {  \n            System.out.println(e.getMessage());  \n        }  \n    }  \n} \n</code></pre>\n"},{"tags":["java","mysql","rest","maven","jdbc"],"owner":{"account_id":24403765,"reputation":1,"user_id":18332169,"display_name":"Snehal Poratkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701801344,"creation_date":1701801344,"question_id":77608527,"body_markdown":"controller class\r\n\r\n    package com.vd.visualDashBoard;\r\n\r\n    import com.vd.visualDashBoard.Model.VdashboardModel;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    import java.util.List;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/vData&quot;)\r\n    public class VdashboardController {\r\n    @Autowired\r\n    private VdashboardService vdashboardService;\r\n    \r\n    @GetMapping(&quot;/getData&quot;)\r\n    public ResponseEntity&lt;List&lt;VdashboardModel&gt;&gt; getAllData()\r\n    {\r\n        System.out.println(&quot; in control&quot;);\r\n        return new ResponseEntity&lt;List&lt;VdashboardModel&gt;&gt;(vdashboardService.findAll(), HttpStatus.OK);\r\n    }\r\n    }\r\n\r\n\r\n\r\nservice interface\r\n\r\n    package com.vd.visualDashBoard;\r\n\r\n    import com.vd.visualDashBoard.Model.VdashboardModel;\r\n\r\n    import java.util.List;\r\n\r\n    public interface VdashboardService {\r\n    public List&lt;VdashboardModel&gt; findAll();\r\n    }\r\n\r\n\r\nserviceimpl class\r\n\r\n    package com.vd.visualDashBoard;\r\n\r\n    import com.vd.visualDashBoard.Model.VdashboardModel;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n\r\n    import java.util.List;\r\n\r\n    @Service\r\n    public class VdashboardServiceImpl implements VdashboardService{\r\n    @Autowired\r\n    VdashboardRepository vdashboardRepository;\r\n    \r\n    @Override\r\n\tpublic List&lt;VdashboardModel&gt; findAll() {\r\n        return vdashboardRepository.findAll();\r\n    }\r\n    }\r\n\r\n\r\n\r\n[error occure on service page](https://i.stack.imgur.com/BEgY6.png)\r\n[then I have to select manually serviceimpl class](https://i.stack.imgur.com/57Nbp.png)\r\n\r\nI am getting error when I travel from service to service impl class. Pointer is move from only controller to service and after that break for 1 class and then manually I switch from service impl to repository, y it is happen, I am using java17 currently. also I build the path correctly.\r\n\r\n\r\n","title":"Problem finding implementations in spring boot application, why control in not transfer from service to serviceimpl class","body":"<p>controller class</p>\n<pre><code>package com.vd.visualDashBoard;\n\nimport com.vd.visualDashBoard.Model.VdashboardModel;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api/vData&quot;)\npublic class VdashboardController {\n@Autowired\nprivate VdashboardService vdashboardService;\n\n@GetMapping(&quot;/getData&quot;)\npublic ResponseEntity&lt;List&lt;VdashboardModel&gt;&gt; getAllData()\n{\n    System.out.println(&quot; in control&quot;);\n    return new ResponseEntity&lt;List&lt;VdashboardModel&gt;&gt;(vdashboardService.findAll(), HttpStatus.OK);\n}\n}\n</code></pre>\n<p>service interface</p>\n<pre><code>package com.vd.visualDashBoard;\n\nimport com.vd.visualDashBoard.Model.VdashboardModel;\n\nimport java.util.List;\n\npublic interface VdashboardService {\npublic List&lt;VdashboardModel&gt; findAll();\n}\n</code></pre>\n<p>serviceimpl class</p>\n<pre><code>package com.vd.visualDashBoard;\n\nimport com.vd.visualDashBoard.Model.VdashboardModel;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class VdashboardServiceImpl implements VdashboardService{\n@Autowired\nVdashboardRepository vdashboardRepository;\n\n@Override\npublic List&lt;VdashboardModel&gt; findAll() {\n    return vdashboardRepository.findAll();\n}\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/BEgY6.png\" rel=\"nofollow noreferrer\">error occure on service page</a>\n<a href=\"https://i.stack.imgur.com/57Nbp.png\" rel=\"nofollow noreferrer\">then I have to select manually serviceimpl class</a></p>\n<p>I am getting error when I travel from service to service impl class. Pointer is move from only controller to service and after that break for 1 class and then manually I switch from service impl to repository, y it is happen, I am using java17 currently. also I build the path correctly.</p>\n"},{"tags":["java","uuid"],"comments":[{"owner":{"account_id":43861,"reputation":59786,"user_id":128397,"accept_rate":82,"display_name":"Daniel Pryden"},"score":0,"creation_date":1374892102,"post_id":17893609,"comment_id":26134064,"body_markdown":"Related, possible duplicate: [What namespace does the JDK use to generate a UUID with nameUUIDFromBytes?](http://stackoverflow.com/questions/9504519/what-namespace-does-the-jdk-use-to-generate-a-uuid-with-nameuuidfrombytes)","body":"Related, possible duplicate: <a href=\"http://stackoverflow.com/questions/9504519/what-namespace-does-the-jdk-use-to-generate-a-uuid-with-nameuuidfrombytes\">What namespace does the JDK use to generate a UUID with nameUUIDFromBytes?</a>"}],"answers":[{"comments":[{"owner":{"account_id":990187,"reputation":83,"user_id":1007729,"display_name":"djvdorp"},"score":5,"creation_date":1383738861,"post_id":17893632,"comment_id":29454116,"body_markdown":"An example code for this would be:  \n`ByteBuffer bb = ByteBuffer.wrap(inputByteArray);  \nlong firstLong = bb.getLong();  \nlong secondLong = bb.getLong();\n\nreturn new UUID(firstLong, secondLong);`","body":"An example code for this would be:   <code>ByteBuffer bb = ByteBuffer.wrap(inputByteArray);   long firstLong = bb.getLong();   long secondLong = bb.getLong();  return new UUID(firstLong, secondLong);</code>"},{"owner":{"account_id":3531209,"reputation":1138,"user_id":2950711,"accept_rate":71,"display_name":"AMDG"},"score":0,"creation_date":1408242137,"post_id":17893632,"comment_id":39516063,"body_markdown":"What if access to the UUID contructor is restricted like in minecraft? I have that problem because Im trying to condense a UUID and some data down to bytes in one big file to create a Shop characteristic of a Plugin for a bukkit server. the file is of binary in array : [0] UUID [1] money [2] points. This would just repeat going down the list in the file.","body":"What if access to the UUID contructor is restricted like in minecraft? I have that problem because Im trying to condense a UUID and some data down to bytes in one big file to create a Shop characteristic of a Plugin for a bukkit server. the file is of binary in array : [0] UUID [1] money [2] points. This would just repeat going down the list in the file."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":3,"creation_date":1408325236,"post_id":17893632,"comment_id":39532680,"body_markdown":"@LinkTheProgrammer - if you have a different problem, then you should probably open a new question.","body":"@LinkTheProgrammer - if you have a different problem, then you should probably open a new question."}],"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":3,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1374891641,"creation_date":1374891641,"answer_id":17893632,"question_id":17893609,"body_markdown":"that&#39;s because `nameUUIDFromBytes` constructs a specific kind of UUID (as the javadoc states).\r\n\r\nif you want to convert a byte[] back to a UUID, you should use the UUID constructor.  Wrap a ByteBuffer around the byte[], read the 2 longs and pass them to the UUID constructor.","title":"convert uuid to byte, that works when using UUID.nameUUIDFromBytes(b)","body":"<p>that's because <code>nameUUIDFromBytes</code> constructs a specific kind of UUID (as the javadoc states).</p>\n\n<p>if you want to convert a byte[] back to a UUID, you should use the UUID constructor.  Wrap a ByteBuffer around the byte[], read the 2 longs and pass them to the UUID constructor.</p>\n"},{"comments":[{"owner":{"account_id":296842,"reputation":531,"user_id":602037,"accept_rate":100,"display_name":"Pedro Lamar&#227;o"},"score":2,"creation_date":1433368519,"post_id":29836273,"comment_id":49328461,"body_markdown":"This implies everybody agrees on little-endian representation.","body":"This implies everybody agrees on little-endian representation."},{"owner":{"account_id":964700,"reputation":1819,"user_id":988346,"display_name":"user988346"},"score":0,"creation_date":1529600076,"post_id":29836273,"comment_id":88943936,"body_markdown":"Is this little endian? The ByteBuffer itself is going to start with a BIG_ENDIAN order.","body":"Is this little endian? The ByteBuffer itself is going to start with a BIG_ENDIAN order."},{"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"score":0,"creation_date":1529680155,"post_id":29836273,"comment_id":88976340,"body_markdown":"Yes.  This was tested using x86 (little-endian) based processors.","body":"Yes.  This was tested using x86 (little-endian) based processors."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1582762788,"post_id":29836273,"comment_id":106893165,"body_markdown":"@Brice I don&#39;t believe &quot;using x86 (little-endian) based processors&quot; is relevant. The [`ByteBuffer`](https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/ByteBuffer.html) class has an independent endianness and &quot;_The initial order of a byte buffer is always BIG_ENDIAN_&quot;.","body":"@Brice I don&#39;t believe &quot;using x86 (little-endian) based processors&quot; is relevant. The <a href=\"https://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\"><code>ByteBuffer</code></a> class has an independent endianness and &quot;<i>The initial order of a byte buffer is always BIG_ENDIAN</i>&quot;."},{"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"score":0,"creation_date":1701763024,"post_id":29836273,"comment_id":136812744,"body_markdown":"Perhaps `ByteBuffer.wrap(new byte[16])` can be replaced by `ByteBuffer.allocate(16)`.","body":"Perhaps <code>ByteBuffer.wrap(new byte[16])</code> can be replaced by <code>ByteBuffer.allocate(16)</code>."},{"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"score":0,"creation_date":1701800843,"post_id":29836273,"comment_id":136819523,"body_markdown":"Good suggestion. Code updated.","body":"Good suggestion. Code updated."}],"tags":[],"owner":{"account_id":881149,"reputation":10220,"user_id":225217,"accept_rate":85,"display_name":"Brice Roncace"},"comment_count":6,"down_vote_count":0,"up_vote_count":84,"is_accepted":true,"score":84,"last_activity_date":1701800826,"creation_date":1429832531,"answer_id":29836273,"question_id":17893609,"body_markdown":"\tpublic class UuidUtils {\r\n\t  public static UUID asUuid(byte[] bytes) {\r\n\t    ByteBuffer bb = ByteBuffer.wrap(bytes);\r\n\t    long firstLong = bb.getLong();\r\n\t    long secondLong = bb.getLong();\r\n\t    return new UUID(firstLong, secondLong);\r\n\t  }\r\n\t\r\n\t  public static byte[] asBytes(UUID uuid) {\r\n\t    ByteBuffer bb = ByteBuffer.allocate(16);\r\n\t    bb.putLong(uuid.getMostSignificantBits());\r\n\t    bb.putLong(uuid.getLeastSignificantBits());\r\n\t    return bb.array();\r\n\t  }\r\n\t}\r\n\r\n---\r\n\r\n\t@Test\r\n\tpublic void verifyUUIDBytesCanBeReconstructedBackToOriginalUUID() {\r\n\t  UUID u = UUID.randomUUID();\r\n\t  byte[] uBytes = UuidUtils.asBytes(u);\r\n\t  UUID u2 = UuidUtils.asUuid(uBytes);\r\n\t  Assert.assertEquals(u, u2);\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void verifyNameUUIDFromBytesMethodDoesNotRecreateOriginalUUID() {\r\n\t  UUID u = UUID.randomUUID();\r\n\t  byte[] uBytes = UuidUtils.asBytes(u);\r\n\t  UUID u2 = UUID.nameUUIDFromBytes(uBytes);\r\n\t  Assert.assertNotEquals(u, u2);\r\n\t}","title":"convert uuid to byte, that works when using UUID.nameUUIDFromBytes(b)","body":"<pre><code>public class UuidUtils {\n  public static UUID asUuid(byte[] bytes) {\n    ByteBuffer bb = ByteBuffer.wrap(bytes);\n    long firstLong = bb.getLong();\n    long secondLong = bb.getLong();\n    return new UUID(firstLong, secondLong);\n  }\n\n  public static byte[] asBytes(UUID uuid) {\n    ByteBuffer bb = ByteBuffer.allocate(16);\n    bb.putLong(uuid.getMostSignificantBits());\n    bb.putLong(uuid.getLeastSignificantBits());\n    return bb.array();\n  }\n}\n</code></pre>\n<hr />\n<pre><code>@Test\npublic void verifyUUIDBytesCanBeReconstructedBackToOriginalUUID() {\n  UUID u = UUID.randomUUID();\n  byte[] uBytes = UuidUtils.asBytes(u);\n  UUID u2 = UuidUtils.asUuid(uBytes);\n  Assert.assertEquals(u, u2);\n}\n\n@Test\npublic void verifyNameUUIDFromBytesMethodDoesNotRecreateOriginalUUID() {\n  UUID u = UUID.randomUUID();\n  byte[] uBytes = UuidUtils.asBytes(u);\n  UUID u2 = UUID.nameUUIDFromBytes(uBytes);\n  Assert.assertNotEquals(u, u2);\n}\n</code></pre>\n"}],"owner":{"account_id":38475,"reputation":2983,"user_id":110432,"accept_rate":48,"display_name":"Anon21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48253,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":29836273,"answer_count":2,"score":39,"last_activity_date":1701800826,"creation_date":1374891351,"question_id":17893609,"body_markdown":"I am converting UUID to byte using this code\r\n\r\n    public byte[] getIdAsByte(UUID uuid)\r\n    {\r\n        ByteBuffer bb = ByteBuffer.wrap(new byte[16]);\r\n        bb.putLong(uuid.getMostSignificantBits());\r\n        bb.putLong(uuid.getLeastSignificantBits());\r\n        return bb.array();\r\n    }\r\n\r\nHowever, if I try to recreate the UUID using this function,\r\n\r\n    public UUID frombyte(byte[] b)\r\n    {\r\n        return UUID.nameUUIDFromBytes(b);\r\n    }\r\n\r\nIt is not the same UUID. Converting a randomUUID back and forth returns two different it.\r\n\r\n    UUID u = UUID.randomUUID();\r\n    System.out.println(u.toString());\r\n    System.out.println(frombyte(getIdAsByte(u)).toString());\r\n\r\nprints:\r\n\r\n    1ae004cf-0f48-469f-8a94-01339afaec41\r\n    8b5d1a71-a4a0-3b46-bec3-13ab9ab12e8e","title":"convert uuid to byte, that works when using UUID.nameUUIDFromBytes(b)","body":"<p>I am converting UUID to byte using this code</p>\n\n<pre><code>public byte[] getIdAsByte(UUID uuid)\n{\n    ByteBuffer bb = ByteBuffer.wrap(new byte[16]);\n    bb.putLong(uuid.getMostSignificantBits());\n    bb.putLong(uuid.getLeastSignificantBits());\n    return bb.array();\n}\n</code></pre>\n\n<p>However, if I try to recreate the UUID using this function,</p>\n\n<pre><code>public UUID frombyte(byte[] b)\n{\n    return UUID.nameUUIDFromBytes(b);\n}\n</code></pre>\n\n<p>It is not the same UUID. Converting a randomUUID back and forth returns two different it.</p>\n\n<pre><code>UUID u = UUID.randomUUID();\nSystem.out.println(u.toString());\nSystem.out.println(frombyte(getIdAsByte(u)).toString());\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>1ae004cf-0f48-469f-8a94-01339afaec41\n8b5d1a71-a4a0-3b46-bec3-13ab9ab12e8e\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":2,"creation_date":1701787535,"post_id":77607055,"comment_id":136816997,"body_markdown":"Get a beginner Java book, and work it through. Learn about loops, encapsulation and about arrays! The last part will explain you what IndexOutOfBoundExceptions are and how they can be prevented.","body":"Get a beginner Java book, and work it through. Learn about loops, encapsulation and about arrays! The last part will explain you what IndexOutOfBoundExceptions are and how they can be prevented."},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":1,"creation_date":1701787613,"post_id":77607055,"comment_id":136817022,"body_markdown":"A good example of a beginner java book is &quot;David J. Eck - Introduction to Programming Using Java&quot;","body":"A good example of a beginner java book is &quot;David J. Eck - Introduction to Programming Using Java&quot;"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1701787667,"post_id":77607055,"comment_id":136817034,"body_markdown":"Or &quot;Bruce Eckel - Thinking in Java&quot;","body":"Or &quot;Bruce Eckel - Thinking in Java&quot;"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":1,"creation_date":1701787704,"post_id":77607055,"comment_id":136817043,"body_markdown":"This will bring you further than just beyond this exception. Good luck!","body":"This will bring you further than just beyond this exception. Good luck!"},{"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"score":0,"creation_date":1701800920,"post_id":77607055,"comment_id":136819538,"body_markdown":"You want to anybody analyze all your code and search where the exception might be thrown. Please update your question according to: https://stackoverflow.com/help/how-to-ask","body":"You want to anybody analyze all your code and search where the exception might be thrown. Please update your question according to: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1701801020,"post_id":77607055,"comment_id":136819554,"body_markdown":"You have 7 questions but only 4 answers.  It is not surprising that you are encountering an exception when trying to access an answer that does not exist.","body":"You have 7 questions but only 4 answers.  It is not surprising that you are encountering an exception when trying to access an answer that does not exist."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1701804654,"post_id":77607055,"comment_id":136820118,"body_markdown":"Does this answer your question? [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"},{"owner":{"account_id":530062,"reputation":547,"user_id":1203181,"display_name":"John B. Lambe"},"score":0,"creation_date":1701820846,"post_id":77607055,"comment_id":136822269,"body_markdown":"Welcome to StackOverflow.\nThere are a lot of basic questions like this on the site, so please look for similar questions before posting a question. (To avoid cluttering the site with duplicate or very similar questions.)\nSee https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it (posted in a comment by Progman) for example.\n\nAlso, try to provide more useful information. For example, if you&#39;re asking about an exception, include the line on which it was raised.\n\nSee the guidelines here: stackoverflow.com/help/how-to-ask\n\nHGR&#39;s c","body":"Welcome to StackOverflow. There are a lot of basic questions like this on the site, so please look for similar questions before posting a question. (To avoid cluttering the site with duplicate or very similar questions.) See <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\" title=\"what causes a java lang arrayindexoutofboundsexception and how do i prevent it\">stackoverflow.com/questions/5554734/&hellip;</a> (posted in a comment by Progman) for example.  Also, try to provide more useful information. For example, if you&#39;re asking about an exception, include the line on which it was raised.  See the guidelines here: stackoverflow.com/help/how-to-ask  HGR&#39;s c"}],"owner":{"account_id":30072588,"reputation":1,"user_id":23046181,"display_name":"ShinjiDArc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":2,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":0,"score":-2,"last_activity_date":1701800508,"creation_date":1701787166,"question_id":77607055,"body_markdown":"How&#39;s it going? So this is a quiz game project, but everytime I go past question 4 this error appears:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 4\r\n\r\nI kinda of have no idea how to fix this, so if someone please helped me it would be very cool, here&#39;s the code:\r\n\r\nMain Class:\r\n\r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n           Quizz quiz = new Quizz();\r\n        }\r\n        \r\n    }\r\n\r\nQuiz class:\r\n\r\n    import java.awt.event.*;\r\n    import java.awt.*;\r\n    import javax.swing.*;\r\n\r\n\r\n    public class Quizz implements ActionListener{\r\n\r\n    String[] questions = \r\n    {\r\n        &quot;Quem da o melhor grau de moto?&quot;,\r\n        &quot;Quem tem o melhor bigode?&quot;,\r\n        &quot;Quem tem o emprego mais legal&quot;,\r\n        &quot;Quem &#233; o mais alto?&quot;,\r\n        &quot;Bla&quot;,\r\n        &quot;Bla2&quot;,\r\n        &quot;Bla 3&quot;\r\n    };\r\n\r\n    String[][] options = \r\n    {\r\n        {&quot;Uma doen&#231;a do cora&#231;&#227;o&quot;,&quot;Uma doen&#231;a respirat&#243;ria&quot;,&quot;Um dist&#250;rbio de humor&quot;,&quot;Uma infec&#231;&#227;o viral&quot;},\r\n\r\n        {&quot;Febre e tosse&quot;,&quot;Dor de cabe&#231;a e dor de dente&quot;,&quot;Preocupa&#231;&#227;o excessiva e nervosismo&quot;,&quot;Manchas na pele&quot;},\r\n\r\n        {&quot;Antibi&#243;ticos&quot;,&quot;Cirurgia card&#237;aca&quot;,&quot;Terapia e medicamentos&quot;,&quot;Dieta equilibrada&quot;},\r\n\r\n        {&quot;Crian&#231;as&quot;,&quot;Adolescentes&quot;,&quot;Adultos jovens&quot;,&quot; Idosos&quot;},\r\n\r\n        {&quot;Trauma emocional&quot;,&quot;Uso de drogas il&#237;citas&quot;,&quot; Exerc&#237;cios regulares&quot;,&quot;Estresse cr&#244;nico&quot;},\r\n\r\n        {&quot;Ter uma rede de apoio social forte&quot;,&quot;Hist&#243;ria familiar de depress&#227;o&quot;,&quot; Consumo moderado de &#225;lcool&quot;,&quot;Pr&#225;tica regular de medita&#231;&#227;o&quot;},\r\n                \r\n        {&quot;Transtorno de p&#226;nico&quot;,&quot;Transtorno obsessivo-compulsivo&quot;,&quot;Transtorno de estresse p&#243;s-traum&#225;tico&quot;,&quot;Transtorno de ansiedade social&quot;},\r\n\r\n        {&quot;Fadiga&quot;,&quot;Ins&#244;nia&quot;,&quot;Aumento do interesse em atividades&quot;,&quot;Sentimentos de tristeza profunda&quot;},\r\n\r\n        {&quot;N&#227;o h&#225; diferen&#231;a&quot;,&quot;Tristeza &#233; um estado de humor passageiro, enquanto a depress&#227;o &#233; uma condi&#231;&#227;o m&#233;dica&quot;,&quot;Depress&#227;o &#233; sempre mais intensa do que a tristeza&quot;,&quot;Tristeza &#233; uma forma leve de depress&#227;o&quot;},\r\n\r\n        {&quot;Comer alimentos picantes&quot;,&quot; Exerc&#237;cios f&#237;sicos regulares&quot;,&quot; Situa&#231;&#245;es de estresse extremo&quot;,&quot;Beber &#225;gua fria&quot;},\r\n\r\n        {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;}\r\n    };\r\n\r\n    char[] answers = \r\n    {\r\n        &#39;C&#39;,\r\n        &#39;D&#39;,\r\n        &#39;A&#39;,\r\n        &#39;B&#39;\r\n    };\r\n\r\n    char guess;\r\n    char answer;\r\n    int index;\r\n    int correct_guesses =0;\r\n    int total_questions = questions.length;\r\n    int result;\r\n    int seconds=10;\r\n    JFrame frame = new JFrame();\r\n    JTextField textfield = new JTextField();\r\n    JTextArea textarea = new JTextArea();\r\n    JButton buttonA = new JButton();\r\n    JButton buttonB = new JButton();\r\n    JButton buttonC = new JButton();\r\n    JButton buttonD = new JButton();\r\n    JLabel answer_labelA = new JLabel();\r\n    JLabel answer_labelB = new JLabel();\r\n    JLabel answer_labelC = new JLabel();\r\n    JLabel answer_labelD = new JLabel();\r\n    JLabel time_label = new JLabel();\r\n    JLabel seconds_left = new JLabel();\r\n    JTextField number_right = new JTextField();\r\n    JTextField percentage = new JTextField();\r\n\r\n    Timer timer = new Timer(1000, new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            seconds--;\r\n            seconds_left.setText(String.valueOf(seconds));\r\n\r\n            if(seconds&lt;=0) {\r\n                displayAnswer();\r\n            }\r\n        }\r\n    });\r\n\r\n    public Quizz() {\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(650,650);\r\n        frame.getContentPane().setBackground(new Color(255, 255, 255));\r\n        frame.setLayout(null);\r\n        frame.setResizable(false);\r\n\r\n        textfield.setBounds(0,0,650,50);\r\n        textfield.setBackground(new Color(255,255,255));\r\n        textfield.setForeground(new Color(0,0,139));\r\n        textfield.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,30));\r\n        textfield.setBorder(BorderFactory.createBevelBorder(1));\r\n        textfield.setHorizontalAlignment(JTextField.CENTER);\r\n        textfield.setEditable(false);\r\n\r\n        textarea.setBounds(0,50,650,50);\r\n        textarea.setLineWrap(true);\r\n        textarea.setWrapStyleWord(true);\r\n        textarea.setBackground(new Color(255,255,225));\r\n        textarea.setForeground(new Color(0,0,139));\r\n        textarea.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,25));\r\n        textarea.setBorder(BorderFactory.createBevelBorder(1));\r\n        textarea.setEditable(false);\r\n\r\n        buttonA.setBounds(0,100,100,100);\r\n        buttonA.setFont(new Font(&quot;MTimes Roman&quot;,Font.BOLD,25));\r\n        buttonA.setFocusable(false);\r\n\r\n        buttonA.addActionListener(this);\r\n        buttonA.setText(&quot;A&quot;);\r\n        buttonB.setBounds(0,200,100,100);\r\n        buttonB.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\r\n        buttonB.setFocusable(false);\r\n        buttonB.addActionListener(this);\r\n        buttonB.setText(&quot;B&quot;);\r\n        buttonC.setBounds(0,300,100,100);\r\n        buttonC.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\r\n        buttonC.setFocusable(false);\r\n        buttonC.addActionListener(this);\r\n        buttonC.setText(&quot;C&quot;);\r\n        buttonD.setBounds(0,400,100,100);\r\n        buttonD.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\r\n        buttonD.setFocusable(false);\r\n        buttonD.addActionListener(this);\r\n        buttonD.setText(&quot;D&quot;);\r\n\r\n        answer_labelA.setBounds(125,100,500,100);\r\n        answer_labelA.setBackground(new Color(50,50,50));\r\n        answer_labelA.setForeground(new Color(25, 25, 112));\r\n        answer_labelA.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\r\n        answer_labelB.setBounds(125,200,500,100);\r\n        answer_labelB.setBackground(new Color(50,50,50));\r\n        answer_labelB.setForeground(new Color(25, 25, 112));\r\n        answer_labelB.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\r\n        answer_labelC.setBounds(125,300,500,100);\r\n        answer_labelC.setBackground(new Color(50,50,50));\r\n        answer_labelC.setForeground(new Color(25, 25, 112));\r\n        answer_labelC.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\r\n        answer_labelD.setBounds(125,400,500,100);\r\n        answer_labelD.setBackground(new Color(50,50,50));\r\n        answer_labelD.setForeground(new Color(25, 25, 112));\r\n        answer_labelD.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\r\n\r\n        seconds_left.setBounds(535,96,80,80);\r\n        seconds_left.setBackground(new Color(255,255,255));\r\n        seconds_left.setForeground(new Color(0,0,0));\r\n        seconds_left.setFont(new Font(&quot;Comic Sans&quot;,Font.BOLD,60));\r\n\r\n        seconds_left.setOpaque(true);\r\n        seconds_left.setHorizontalAlignment(JTextField.TRAILING);\r\n        seconds_left.setText(String.valueOf(seconds));\r\n        number_right.setBounds(225,225,200,100);\r\n        number_right.setBackground(new Color(255,255,255));\r\n        number_right.setForeground(new Color(0,0,139));\r\n        number_right.setFont(new Font(&quot;Ink Free&quot;,Font.ITALIC,20));\r\n\r\n        number_right.setHorizontalAlignment(JTextField.CENTER);\r\n        number_right.setEditable(false);\r\n\r\n        frame.add(time_label);\r\n        frame.add(seconds_left);\r\n        frame.add(answer_labelA);\r\n        frame.add(answer_labelB);\r\n        frame.add(answer_labelC);\r\n        frame.add(answer_labelD);\r\n        frame.add(buttonA);\r\n        frame.add(buttonB);\r\n        frame.add(buttonC);\r\n        frame.add(buttonD);\r\n        frame.add(textarea);\r\n        frame.add(textfield);\r\n        frame.setVisible(true);\r\n\r\n        nextQuestion();\r\n\r\n    }\r\n\r\n    public void nextQuestion() {\r\n        if(index&gt;=total_questions) {\r\n            results();\r\n        }\r\n        else {\r\n            textfield.setText(&quot;Quest&#227;o &quot;+(index+1));\r\n            textarea.setText(questions[index]);\r\n            answer_labelA.setText(options[index][0]);\r\n            answer_labelB.setText(options[index][1]);\r\n            answer_labelC.setText(options[index][2]);\r\n            answer_labelD.setText(options[index][3]);\r\n            timer.start();\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        buttonA.setEnabled(false);\r\n        buttonB.setEnabled(false);\r\n        buttonC.setEnabled(false);\r\n        buttonD.setEnabled(false);\r\n\r\n        if(e.getSource()==buttonA) {\r\n            answer= &#39;A&#39;;\r\n\r\n            if(answer == answers[index]) {\r\n                correct_guesses++;\r\n            }\r\n        }\r\n\r\n        if(e.getSource()==buttonB) {\r\n            answer= &#39;B&#39;;\r\n\r\n            if(answer == answers[index]) {\r\n                correct_guesses++;\r\n            }\r\n        }\r\n\r\n        if(e.getSource()==buttonC) {\r\n            answer= &#39;C&#39;;\r\n\r\n            if(answer == answers[index]) {\r\n                correct_guesses++;\r\n            }\r\n        }\r\n\r\n        if(e.getSource()==buttonD) {\r\n            answer= &#39;D&#39;;\r\n\r\n            if(answer == answers[index]) {\r\n                correct_guesses++;\r\n            }\r\n        }\r\n\r\n        displayAnswer();\r\n\r\n    }\r\n\r\n    public void displayAnswer() {\r\n        timer.stop();\r\n\r\n        buttonA.setEnabled(false);\r\n        buttonB.setEnabled(false);\r\n        buttonC.setEnabled(false);\r\n        buttonD.setEnabled(false);\r\n\r\n        if(answers[index] != &#39;A&#39;)\r\n            answer_labelA.setForeground(new Color(255,0,0));\r\n\r\n        if(answers[index] != &#39;B&#39;)\r\n            answer_labelB.setForeground(new Color(255,0,0));\r\n\r\n        if(answers[index] != &#39;C&#39;)\r\n            answer_labelC.setForeground(new Color(255,0,0));\r\n\r\n        if(answers[index] != &#39;D&#39;)\r\n            answer_labelD.setForeground(new Color(255,0,0));\r\n\r\n        Timer pause = new Timer(2000, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                answer_labelA.setForeground(new Color(25,255,0));\r\n                answer_labelB.setForeground(new Color(25,255,0));\r\n                answer_labelC.setForeground(new Color(25,255,0));\r\n                answer_labelD.setForeground(new Color(25,255,0));\r\n\r\n                answer = &#39; &#39;;\r\n\r\n                seconds=10;\r\n                seconds_left.setText(String.valueOf(seconds));\r\n\r\n                buttonA.setEnabled(true);\r\n                buttonB.setEnabled(true);\r\n                buttonC.setEnabled(true);\r\n                buttonD.setEnabled(true);\r\n\r\n                index++;\r\n\r\n                nextQuestion();\r\n            }\r\n        });\r\n\r\n        pause.setRepeats(false);\r\n        pause.start();\r\n\r\n    }\r\n\r\n    public void results(){\r\n        buttonA.setEnabled(false);\r\n        buttonB.setEnabled(false);\r\n        buttonC.setEnabled(false);\r\n        buttonD.setEnabled(false);\r\n\r\n        result = (int)((correct_guesses/(double)total_questions)*100);\r\n\r\n        textfield.setText(&quot;Resultado:&quot;);\r\n        textarea.setText(&quot;&quot;);\r\n\r\n        answer_labelA.setText(&quot;&quot;);\r\n        answer_labelB.setText(&quot;&quot;);\r\n        answer_labelC.setText(&quot;&quot;);\r\n        answer_labelD.setText(&quot;&quot;);\r\n\r\n        number_right.setText(&quot;(&quot;+correct_guesses+&quot;/&quot;+total_questions+&quot;)&quot;);\r\n\r\n        percentage.setText(result+&quot;%&quot;);\r\n\r\n        frame.add(number_right);\r\n        frame.add(percentage);\r\n    }\r\n\r\n    }\r\n\r\nI&#39;m really confused actually, I&#39;m a beginner!\r\n\r\n","title":"Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 4","body":"<p>How's it going? So this is a quiz game project, but everytime I go past question 4 this error appears:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 4\n</code></pre>\n<p>I kinda of have no idea how to fix this, so if someone please helped me it would be very cool, here's the code:</p>\n<p>Main Class:</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n       Quizz quiz = new Quizz();\n    }\n    \n}\n</code></pre>\n<p>Quiz class:</p>\n<pre><code>import java.awt.event.*;\nimport java.awt.*;\nimport javax.swing.*;\n\n\npublic class Quizz implements ActionListener{\n\nString[] questions = \n{\n    &quot;Quem da o melhor grau de moto?&quot;,\n    &quot;Quem tem o melhor bigode?&quot;,\n    &quot;Quem tem o emprego mais legal&quot;,\n    &quot;Quem é o mais alto?&quot;,\n    &quot;Bla&quot;,\n    &quot;Bla2&quot;,\n    &quot;Bla 3&quot;\n};\n\nString[][] options = \n{\n    {&quot;Uma doença do coração&quot;,&quot;Uma doença respiratória&quot;,&quot;Um distúrbio de humor&quot;,&quot;Uma infecção viral&quot;},\n\n    {&quot;Febre e tosse&quot;,&quot;Dor de cabeça e dor de dente&quot;,&quot;Preocupação excessiva e nervosismo&quot;,&quot;Manchas na pele&quot;},\n\n    {&quot;Antibióticos&quot;,&quot;Cirurgia cardíaca&quot;,&quot;Terapia e medicamentos&quot;,&quot;Dieta equilibrada&quot;},\n\n    {&quot;Crianças&quot;,&quot;Adolescentes&quot;,&quot;Adultos jovens&quot;,&quot; Idosos&quot;},\n\n    {&quot;Trauma emocional&quot;,&quot;Uso de drogas ilícitas&quot;,&quot; Exercícios regulares&quot;,&quot;Estresse crônico&quot;},\n\n    {&quot;Ter uma rede de apoio social forte&quot;,&quot;História familiar de depressão&quot;,&quot; Consumo moderado de álcool&quot;,&quot;Prática regular de meditação&quot;},\n            \n    {&quot;Transtorno de pânico&quot;,&quot;Transtorno obsessivo-compulsivo&quot;,&quot;Transtorno de estresse pós-traumático&quot;,&quot;Transtorno de ansiedade social&quot;},\n\n    {&quot;Fadiga&quot;,&quot;Insônia&quot;,&quot;Aumento do interesse em atividades&quot;,&quot;Sentimentos de tristeza profunda&quot;},\n\n    {&quot;Não há diferença&quot;,&quot;Tristeza é um estado de humor passageiro, enquanto a depressão é uma condição médica&quot;,&quot;Depressão é sempre mais intensa do que a tristeza&quot;,&quot;Tristeza é uma forma leve de depressão&quot;},\n\n    {&quot;Comer alimentos picantes&quot;,&quot; Exercícios físicos regulares&quot;,&quot; Situações de estresse extremo&quot;,&quot;Beber água fria&quot;},\n\n    {&quot;&quot;,&quot;&quot;,&quot;&quot;,&quot;&quot;}\n};\n\nchar[] answers = \n{\n    'C',\n    'D',\n    'A',\n    'B'\n};\n\nchar guess;\nchar answer;\nint index;\nint correct_guesses =0;\nint total_questions = questions.length;\nint result;\nint seconds=10;\nJFrame frame = new JFrame();\nJTextField textfield = new JTextField();\nJTextArea textarea = new JTextArea();\nJButton buttonA = new JButton();\nJButton buttonB = new JButton();\nJButton buttonC = new JButton();\nJButton buttonD = new JButton();\nJLabel answer_labelA = new JLabel();\nJLabel answer_labelB = new JLabel();\nJLabel answer_labelC = new JLabel();\nJLabel answer_labelD = new JLabel();\nJLabel time_label = new JLabel();\nJLabel seconds_left = new JLabel();\nJTextField number_right = new JTextField();\nJTextField percentage = new JTextField();\n\nTimer timer = new Timer(1000, new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        seconds--;\n        seconds_left.setText(String.valueOf(seconds));\n\n        if(seconds&lt;=0) {\n            displayAnswer();\n        }\n    }\n});\n\npublic Quizz() {\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    frame.setSize(650,650);\n    frame.getContentPane().setBackground(new Color(255, 255, 255));\n    frame.setLayout(null);\n    frame.setResizable(false);\n\n    textfield.setBounds(0,0,650,50);\n    textfield.setBackground(new Color(255,255,255));\n    textfield.setForeground(new Color(0,0,139));\n    textfield.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,30));\n    textfield.setBorder(BorderFactory.createBevelBorder(1));\n    textfield.setHorizontalAlignment(JTextField.CENTER);\n    textfield.setEditable(false);\n\n    textarea.setBounds(0,50,650,50);\n    textarea.setLineWrap(true);\n    textarea.setWrapStyleWord(true);\n    textarea.setBackground(new Color(255,255,225));\n    textarea.setForeground(new Color(0,0,139));\n    textarea.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,25));\n    textarea.setBorder(BorderFactory.createBevelBorder(1));\n    textarea.setEditable(false);\n\n    buttonA.setBounds(0,100,100,100);\n    buttonA.setFont(new Font(&quot;MTimes Roman&quot;,Font.BOLD,25));\n    buttonA.setFocusable(false);\n\n    buttonA.addActionListener(this);\n    buttonA.setText(&quot;A&quot;);\n    buttonB.setBounds(0,200,100,100);\n    buttonB.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\n    buttonB.setFocusable(false);\n    buttonB.addActionListener(this);\n    buttonB.setText(&quot;B&quot;);\n    buttonC.setBounds(0,300,100,100);\n    buttonC.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\n    buttonC.setFocusable(false);\n    buttonC.addActionListener(this);\n    buttonC.setText(&quot;C&quot;);\n    buttonD.setBounds(0,400,100,100);\n    buttonD.setFont(new Font(&quot;Times Roman&quot;,Font.BOLD,35));\n    buttonD.setFocusable(false);\n    buttonD.addActionListener(this);\n    buttonD.setText(&quot;D&quot;);\n\n    answer_labelA.setBounds(125,100,500,100);\n    answer_labelA.setBackground(new Color(50,50,50));\n    answer_labelA.setForeground(new Color(25, 25, 112));\n    answer_labelA.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\n    answer_labelB.setBounds(125,200,500,100);\n    answer_labelB.setBackground(new Color(50,50,50));\n    answer_labelB.setForeground(new Color(25, 25, 112));\n    answer_labelB.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\n    answer_labelC.setBounds(125,300,500,100);\n    answer_labelC.setBackground(new Color(50,50,50));\n    answer_labelC.setForeground(new Color(25, 25, 112));\n    answer_labelC.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\n    answer_labelD.setBounds(125,400,500,100);\n    answer_labelD.setBackground(new Color(50,50,50));\n    answer_labelD.setForeground(new Color(25, 25, 112));\n    answer_labelD.setFont(new Font(&quot;Times Roman&quot;,Font.PLAIN,25));\n\n    seconds_left.setBounds(535,96,80,80);\n    seconds_left.setBackground(new Color(255,255,255));\n    seconds_left.setForeground(new Color(0,0,0));\n    seconds_left.setFont(new Font(&quot;Comic Sans&quot;,Font.BOLD,60));\n\n    seconds_left.setOpaque(true);\n    seconds_left.setHorizontalAlignment(JTextField.TRAILING);\n    seconds_left.setText(String.valueOf(seconds));\n    number_right.setBounds(225,225,200,100);\n    number_right.setBackground(new Color(255,255,255));\n    number_right.setForeground(new Color(0,0,139));\n    number_right.setFont(new Font(&quot;Ink Free&quot;,Font.ITALIC,20));\n\n    number_right.setHorizontalAlignment(JTextField.CENTER);\n    number_right.setEditable(false);\n\n    frame.add(time_label);\n    frame.add(seconds_left);\n    frame.add(answer_labelA);\n    frame.add(answer_labelB);\n    frame.add(answer_labelC);\n    frame.add(answer_labelD);\n    frame.add(buttonA);\n    frame.add(buttonB);\n    frame.add(buttonC);\n    frame.add(buttonD);\n    frame.add(textarea);\n    frame.add(textfield);\n    frame.setVisible(true);\n\n    nextQuestion();\n\n}\n\npublic void nextQuestion() {\n    if(index&gt;=total_questions) {\n        results();\n    }\n    else {\n        textfield.setText(&quot;Questão &quot;+(index+1));\n        textarea.setText(questions[index]);\n        answer_labelA.setText(options[index][0]);\n        answer_labelB.setText(options[index][1]);\n        answer_labelC.setText(options[index][2]);\n        answer_labelD.setText(options[index][3]);\n        timer.start();\n    }\n\n}\n\n@Override\npublic void actionPerformed(ActionEvent e) {\n    buttonA.setEnabled(false);\n    buttonB.setEnabled(false);\n    buttonC.setEnabled(false);\n    buttonD.setEnabled(false);\n\n    if(e.getSource()==buttonA) {\n        answer= 'A';\n\n        if(answer == answers[index]) {\n            correct_guesses++;\n        }\n    }\n\n    if(e.getSource()==buttonB) {\n        answer= 'B';\n\n        if(answer == answers[index]) {\n            correct_guesses++;\n        }\n    }\n\n    if(e.getSource()==buttonC) {\n        answer= 'C';\n\n        if(answer == answers[index]) {\n            correct_guesses++;\n        }\n    }\n\n    if(e.getSource()==buttonD) {\n        answer= 'D';\n\n        if(answer == answers[index]) {\n            correct_guesses++;\n        }\n    }\n\n    displayAnswer();\n\n}\n\npublic void displayAnswer() {\n    timer.stop();\n\n    buttonA.setEnabled(false);\n    buttonB.setEnabled(false);\n    buttonC.setEnabled(false);\n    buttonD.setEnabled(false);\n\n    if(answers[index] != 'A')\n        answer_labelA.setForeground(new Color(255,0,0));\n\n    if(answers[index] != 'B')\n        answer_labelB.setForeground(new Color(255,0,0));\n\n    if(answers[index] != 'C')\n        answer_labelC.setForeground(new Color(255,0,0));\n\n    if(answers[index] != 'D')\n        answer_labelD.setForeground(new Color(255,0,0));\n\n    Timer pause = new Timer(2000, new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            answer_labelA.setForeground(new Color(25,255,0));\n            answer_labelB.setForeground(new Color(25,255,0));\n            answer_labelC.setForeground(new Color(25,255,0));\n            answer_labelD.setForeground(new Color(25,255,0));\n\n            answer = ' ';\n\n            seconds=10;\n            seconds_left.setText(String.valueOf(seconds));\n\n            buttonA.setEnabled(true);\n            buttonB.setEnabled(true);\n            buttonC.setEnabled(true);\n            buttonD.setEnabled(true);\n\n            index++;\n\n            nextQuestion();\n        }\n    });\n\n    pause.setRepeats(false);\n    pause.start();\n\n}\n\npublic void results(){\n    buttonA.setEnabled(false);\n    buttonB.setEnabled(false);\n    buttonC.setEnabled(false);\n    buttonD.setEnabled(false);\n\n    result = (int)((correct_guesses/(double)total_questions)*100);\n\n    textfield.setText(&quot;Resultado:&quot;);\n    textarea.setText(&quot;&quot;);\n\n    answer_labelA.setText(&quot;&quot;);\n    answer_labelB.setText(&quot;&quot;);\n    answer_labelC.setText(&quot;&quot;);\n    answer_labelD.setText(&quot;&quot;);\n\n    number_right.setText(&quot;(&quot;+correct_guesses+&quot;/&quot;+total_questions+&quot;)&quot;);\n\n    percentage.setText(result+&quot;%&quot;);\n\n    frame.add(number_right);\n    frame.add(percentage);\n}\n\n}\n</code></pre>\n<p>I'm really confused actually, I'm a beginner!</p>\n"},{"tags":["java","quicksort"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":4,"creation_date":1701800513,"post_id":77608446,"comment_id":136819462,"body_markdown":"Please read: [How to debug small programs (`https://ericlippert.com/`)](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/)","body":"Please read: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs (<code>https:&#47;&#47;ericlippert.com&#47;</code>)</a>"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1701800571,"post_id":77608446,"comment_id":136819474,"body_markdown":"Does this answer your question? [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What is a debugger and how can it help me diagnose problems?</a>"},{"owner":{"account_id":3415144,"reputation":23576,"user_id":2864275,"display_name":"Iłya Bursov"},"score":0,"creation_date":1701801571,"post_id":77608446,"comment_id":136819629,"body_markdown":"`qs(mas, low, middle - 1);` don&#39;t exclude middle element here, replace it with `qs(mas, low, middle);`","body":"<code>qs(mas, low, middle - 1);</code> don&#39;t exclude middle element here, replace it with <code>qs(mas, low, middle);</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1701801606,"post_id":77608446,"comment_id":136819641,"body_markdown":"If you want to become a software developer, or otherwise regularly develop software, you will need some debugging skills. I and others who commented believe you will be better off by debugging this yourself.","body":"If you want to become a software developer, or otherwise regularly develop software, you will need some debugging skills. I and others who commented believe you will be better off by debugging this yourself."}],"owner":{"account_id":30074527,"reputation":1,"user_id":23047715,"display_name":"Muhammed Muradly"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1701801935,"answer_count":0,"score":-4,"last_activity_date":1701800412,"creation_date":1701800276,"question_id":77608446,"body_markdown":"Here is my QuickSort algoritm and it doesnt work correct. \r\n\r\n```\r\nclass QuickSort{\r\n    public static void qs(int[] mas, int low, int high) {\r\n        if (low&gt;high) return;\r\n        int middle = partition(mas, low, high);\r\n        qs(mas, low, middle - 1);\r\n        qs(mas,middle+1,high);\r\n    }\r\n    public static int partition(int[] mas, int low, int high){\r\n        int middle = (high+low)/2;\r\n        int support = mas[middle];\r\n        int i = low, j = high;\r\n        while (i&lt;=j) {\r\n            while (mas[i] &lt; support) i++;\r\n            while ((mas[j]) &gt; support) j--;\r\n            if (i &lt;= j) {\r\n                int helper = mas[i];\r\n                mas[i] = mas[j];\r\n                mas[j] = helper;\r\n                i++;\r\n                j--;\r\n            }\r\n        }\r\n        return middle;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nFor example u can try in with array [1,5,4,2,3] result: [1,3,2,4,5 ]. Why it doesnt work? Full answer please ","title":"Quick Sort algoritm","body":"<p>Here is my QuickSort algoritm and it doesnt work correct.</p>\n<pre><code>class QuickSort{\n    public static void qs(int[] mas, int low, int high) {\n        if (low&gt;high) return;\n        int middle = partition(mas, low, high);\n        qs(mas, low, middle - 1);\n        qs(mas,middle+1,high);\n    }\n    public static int partition(int[] mas, int low, int high){\n        int middle = (high+low)/2;\n        int support = mas[middle];\n        int i = low, j = high;\n        while (i&lt;=j) {\n            while (mas[i] &lt; support) i++;\n            while ((mas[j]) &gt; support) j--;\n            if (i &lt;= j) {\n                int helper = mas[i];\n                mas[i] = mas[j];\n                mas[j] = helper;\n                i++;\n                j--;\n            }\n        }\n        return middle;\n    }\n\n}\n</code></pre>\n<p>For example u can try in with array [1,5,4,2,3] result: [1,3,2,4,5 ]. Why it doesnt work? Full answer please</p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":4,"creation_date":1675811440,"post_id":75379859,"comment_id":133008376,"body_markdown":"You haven&#39;t asked a question. Please read [ask].","body":"You haven&#39;t asked a question. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>."}],"answers":[{"tags":[],"owner":{"account_id":27503600,"reputation":84,"user_id":20986750,"display_name":"Marco Riccetti"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1675816245,"creation_date":1675814801,"answer_id":75380222,"question_id":75379859,"body_markdown":"Let&#39;s start with the fact that you need to have uniqueness in your array, so you want a set. \r\n\r\nThe best (quick) implementation you can find using the standard libraries is `LinkedHashSet&lt;Integer&gt;`.\r\n\r\nIf we analyze its documentation for a second we can see that by default it preserves the insertion order, which is perfect for your case, however, we also notice that it ignores re-insertions if the element is present:\r\n\r\n\r\n\r\n&gt; This linked list defines the iteration ordering, which is the order in\r\n&gt; which elements were inserted into the set (insertion-order). Note that\r\n&gt; insertion order is not affected if an element is re-inserted into the\r\n&gt; set. (An element e is reinserted into a set s if s.add(e) is invoked\r\n&gt; when s.contains(e) would return true immediately prior to the\r\n&gt; invocation.)\r\n\r\nTo get around this problem, you can create a utility function that first attempts to remove the number you want to insert from the set, then reinserts it again, thus changing the insertion order.\r\n\r\nE.g.\r\n\r\n    final var set = new LinkedHashSet&lt;Integer&gt;();\r\n\r\n...\r\n\r\n    static void addFirst(Set&lt;Integer&gt; set, int val) {\r\n      set.remove(val);\r\n      set.add(val);\r\n    }\r\n\r\nAt this point you can take its iterator and read the set values as you need it most.\r\n\r\nNote:\r\nSince this is only efficient if the reads are in the direction of the iterator or if they are few compared to the inserts, so, if you have to iterate often in reverse then you are better off using a `LinkedList&lt;Integer&gt;`\r\n directly and doing the same little game as `remove()` and `add()`.\r\n\r\nThat&#39;s because, unfortunately although the set is doubly linked, the only way you can scroll through it in reverse is as follows:\r\n\r\n    final var list = new LinkedList&lt;&gt;(set); \r\n    final var it = list.descendingIterator(); \r\n    while(it.hasNext()) {\r\n       int item = it.next();\r\n       // do something \r\n    }","title":"How to sort insert and prioritize most recent in an Array List?","body":"<p>Let's start with the fact that you need to have uniqueness in your array, so you want a set.</p>\n<p>The best (quick) implementation you can find using the standard libraries is <code>LinkedHashSet&lt;Integer&gt;</code>.</p>\n<p>If we analyze its documentation for a second we can see that by default it preserves the insertion order, which is perfect for your case, however, we also notice that it ignores re-insertions if the element is present:</p>\n<blockquote>\n<p>This linked list defines the iteration ordering, which is the order in\nwhich elements were inserted into the set (insertion-order). Note that\ninsertion order is not affected if an element is re-inserted into the\nset. (An element e is reinserted into a set s if s.add(e) is invoked\nwhen s.contains(e) would return true immediately prior to the\ninvocation.)</p>\n</blockquote>\n<p>To get around this problem, you can create a utility function that first attempts to remove the number you want to insert from the set, then reinserts it again, thus changing the insertion order.</p>\n<p>E.g.</p>\n<pre><code>final var set = new LinkedHashSet&lt;Integer&gt;();\n</code></pre>\n<p>...</p>\n<pre><code>static void addFirst(Set&lt;Integer&gt; set, int val) {\n  set.remove(val);\n  set.add(val);\n}\n</code></pre>\n<p>At this point you can take its iterator and read the set values as you need it most.</p>\n<p>Note:\nSince this is only efficient if the reads are in the direction of the iterator or if they are few compared to the inserts, so, if you have to iterate often in reverse then you are better off using a <code>LinkedList&lt;Integer&gt;</code>\ndirectly and doing the same little game as <code>remove()</code> and <code>add()</code>.</p>\n<p>That's because, unfortunately although the set is doubly linked, the only way you can scroll through it in reverse is as follows:</p>\n<pre><code>final var list = new LinkedList&lt;&gt;(set); \nfinal var it = list.descendingIterator(); \nwhile(it.hasNext()) {\n   int item = it.next();\n   // do something \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701800298,"creation_date":1675864160,"answer_id":75386750,"question_id":75379859,"body_markdown":"Keeping to you existing scheme, here is one way this could be accomplished. Read the comments in code:\r\n\r\nRunnable code:\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class AddNewButDeleteDuplicate_Demo {\r\n    \r\n    // System related newline character sequence. Could be used anywhere.\r\n    public static final String LS = System.lineSeparator(); \r\n    \r\n    // Open a keyboard input stream. Could be used anywhere.\r\n    public static final Scanner userInput = new Scanner(System.in); \r\n    \r\n    // Application Entry Point:\r\n    public static void main(String[] args) {\r\n        // App started this way to avoid the need for statics:\r\n        new AddNewButDeleteDuplicate_Demo().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        // This code can create an int[] array of any size:\r\n        \r\n        int[] intArray; // Declare our int[] array \r\n        int count = 1;  // Counter used for &#39;number of entries&#39; display:\r\n        \r\n        // Inform of upcoming prompt:\r\n        System.out.println(&quot;Enter integer numbers (1 to 10) to add to Array&quot; + LS \r\n                           + &quot;or enter &#39;s&#39; at any time to stop.&quot;);\r\n\r\n        /* List Interface of Integer to hold all integer values supplied \r\n           by User.This List is later converted to an int[] Array. List\r\n           is used because it can grow dynamically whereas Arrays can not. \r\n           This then allows the User to enter as many elements as desired\r\n           which the rules specify 10 elements max since we can only enter \r\n           values from 1 to 10.                     */\r\n        List&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\r\n        \r\n        // To hold the current value supplied by User:\r\n        String inputValue = &quot;&quot;;  \r\n        \r\n        // Repeatable User Entry Prompt with a Stop mechanism and entry Validation:\r\n        while (inputValue.isEmpty()) {\r\n            // Prompt:\r\n            System.out.print(&quot;Entry #&quot; + count + &quot;: -&gt; &quot;);\r\n            // Get User Entry:\r\n            inputValue = userInput.nextLine().trim();\r\n            // Is &#39;Stop&#39; desired?\r\n            if (inputValue.equalsIgnoreCase(&quot;s&quot;)) {\r\n                // Yes...Inform and exit `while` loop\r\n                System.out.println(&quot;Done Creating Array!&quot;);\r\n                break;  // Exit `while` loop.\r\n            }\r\n            /* Validate User Entry. If the entry IS NOT a string representation\r\n               of a unsigned integer value from 1 to 10 then indicate as invalid\r\n               and allow the User to try again.        */\r\n            if (!inputValue.matches(&quot;\\\\d+&quot;) || Integer.parseInt(inputValue) &lt; 1 || \r\n                                                 Integer.parseInt(inputValue) &gt; 10) {\r\n                System.out.println(&quot;&gt;&gt; Invalid Entry (&quot; + inputValue + &quot;)! Try again... &lt;&lt;&quot; + LS);\r\n                inputValue = &quot;&quot;;    // Empty variable to ensure re-loop.\r\n                continue;  // Jump to top of loop:\r\n            }\r\n\r\n            /* If we made it to this point, then the User supplied value is \r\n               valid. Convert the User supplied string numerical value to \r\n               int data type.               */\r\n            int val = Integer.parseInt(inputValue);\r\n            \r\n            /* For demo purposes, display the Current List before checking\r\n               for duplicates:         */\r\n            System.out.println(&quot;List Previous: -&gt; &quot; + intList);\r\n            \r\n            // Check for duplicate...\r\n            /* If List is not empty and the int value of the User supplied\r\n               number IS currently contained within the List then remove the\r\n               duplicate value already contained within the List and insert \r\n               the new (same) value to the beginning of the List at index 0.  */\r\n            if (!intList.isEmpty() &amp;&amp; intList.contains(val)) {\r\n                int idx = intList.indexOf(val);\r\n                /* If the duplicate is already located at index 0 of the List \r\n                   then there is no point doing any modification to the List\r\n                   since this is where we would place the new value anyways. */\r\n                if (idx != 0) {\r\n                    intList.remove(idx); \r\n                    intList.add(0, val);\r\n                    // Inform of duplicate entry:\r\n                    System.out.println(&quot;&gt;&gt; Duplicate Entry (&quot; + inputValue + &quot;)! &quot;\r\n                            + &quot;Old value removed at index &quot; + idx + &quot; and New value inserted &quot;\r\n                                    + &quot;into index 0. &lt;&lt;&quot; + LS);\r\n                }\r\n            }\r\n            // Otherwise, just add the int value to the List:\r\n            else {\r\n                intList.add(val);\r\n            }\r\n            \r\n            /* For demo purposes, display the Current List after checking\r\n               for duplicates:         */\r\n            System.out.println(&quot;List Current:  -&gt; &quot; + intList);\r\n            \r\n            inputValue = &quot;&quot;; // Empty variable to ensure re-loop.\r\n            count++;  // Increment User entry count:\r\n        }\r\n        \r\n        // Convert the List to an int[] Array using Streams:\r\n        intArray = intList.stream().mapToInt(d -&gt; d).toArray();\r\n        \r\n        // Display int[] Array:\r\n        System.out.println(&quot;The intArray[] Array: -&gt; &quot; + Arrays.toString(intArray));\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to sort insert and prioritize most recent in an Array List?","body":"<p>Keeping to you existing scheme, here is one way this could be accomplished. Read the comments in code:</p>\n<p>Runnable code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Scanner;\n\n\npublic class AddNewButDeleteDuplicate_Demo {\n    \n    // System related newline character sequence. Could be used anywhere.\n    public static final String LS = System.lineSeparator(); \n    \n    // Open a keyboard input stream. Could be used anywhere.\n    public static final Scanner userInput = new Scanner(System.in); \n    \n    // Application Entry Point:\n    public static void main(String[] args) {\n        // App started this way to avoid the need for statics:\n        new AddNewButDeleteDuplicate_Demo().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        // This code can create an int[] array of any size:\n        \n        int[] intArray; // Declare our int[] array \n        int count = 1;  // Counter used for 'number of entries' display:\n        \n        // Inform of upcoming prompt:\n        System.out.println(&quot;Enter integer numbers (1 to 10) to add to Array&quot; + LS \n                           + &quot;or enter 's' at any time to stop.&quot;);\n\n        /* List Interface of Integer to hold all integer values supplied \n           by User.This List is later converted to an int[] Array. List\n           is used because it can grow dynamically whereas Arrays can not. \n           This then allows the User to enter as many elements as desired\n           which the rules specify 10 elements max since we can only enter \n           values from 1 to 10.                     */\n        List&lt;Integer&gt; intList = new ArrayList&lt;&gt;();\n        \n        // To hold the current value supplied by User:\n        String inputValue = &quot;&quot;;  \n        \n        // Repeatable User Entry Prompt with a Stop mechanism and entry Validation:\n        while (inputValue.isEmpty()) {\n            // Prompt:\n            System.out.print(&quot;Entry #&quot; + count + &quot;: -&gt; &quot;);\n            // Get User Entry:\n            inputValue = userInput.nextLine().trim();\n            // Is 'Stop' desired?\n            if (inputValue.equalsIgnoreCase(&quot;s&quot;)) {\n                // Yes...Inform and exit `while` loop\n                System.out.println(&quot;Done Creating Array!&quot;);\n                break;  // Exit `while` loop.\n            }\n            /* Validate User Entry. If the entry IS NOT a string representation\n               of a unsigned integer value from 1 to 10 then indicate as invalid\n               and allow the User to try again.        */\n            if (!inputValue.matches(&quot;\\\\d+&quot;) || Integer.parseInt(inputValue) &lt; 1 || \n                                                 Integer.parseInt(inputValue) &gt; 10) {\n                System.out.println(&quot;&gt;&gt; Invalid Entry (&quot; + inputValue + &quot;)! Try again... &lt;&lt;&quot; + LS);\n                inputValue = &quot;&quot;;    // Empty variable to ensure re-loop.\n                continue;  // Jump to top of loop:\n            }\n\n            /* If we made it to this point, then the User supplied value is \n               valid. Convert the User supplied string numerical value to \n               int data type.               */\n            int val = Integer.parseInt(inputValue);\n            \n            /* For demo purposes, display the Current List before checking\n               for duplicates:         */\n            System.out.println(&quot;List Previous: -&gt; &quot; + intList);\n            \n            // Check for duplicate...\n            /* If List is not empty and the int value of the User supplied\n               number IS currently contained within the List then remove the\n               duplicate value already contained within the List and insert \n               the new (same) value to the beginning of the List at index 0.  */\n            if (!intList.isEmpty() &amp;&amp; intList.contains(val)) {\n                int idx = intList.indexOf(val);\n                /* If the duplicate is already located at index 0 of the List \n                   then there is no point doing any modification to the List\n                   since this is where we would place the new value anyways. */\n                if (idx != 0) {\n                    intList.remove(idx); \n                    intList.add(0, val);\n                    // Inform of duplicate entry:\n                    System.out.println(&quot;&gt;&gt; Duplicate Entry (&quot; + inputValue + &quot;)! &quot;\n                            + &quot;Old value removed at index &quot; + idx + &quot; and New value inserted &quot;\n                                    + &quot;into index 0. &lt;&lt;&quot; + LS);\n                }\n            }\n            // Otherwise, just add the int value to the List:\n            else {\n                intList.add(val);\n            }\n            \n            /* For demo purposes, display the Current List after checking\n               for duplicates:         */\n            System.out.println(&quot;List Current:  -&gt; &quot; + intList);\n            \n            inputValue = &quot;&quot;; // Empty variable to ensure re-loop.\n            count++;  // Increment User entry count:\n        }\n        \n        // Convert the List to an int[] Array using Streams:\n        intArray = intList.stream().mapToInt(d -&gt; d).toArray();\n        \n        // Display int[] Array:\n        System.out.println(&quot;The intArray[] Array: -&gt; &quot; + Arrays.toString(intArray));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675869676,"creation_date":1675869676,"answer_id":75387938,"question_id":75379859,"body_markdown":"I will provide a solution for arrays and I will presume that if a new item is specified by the user, it will get to the head of the array and pulling everything to the right, with the oldest falling out of the array:\r\n\r\n```\r\nint index = intArray.indexOf(input);\r\nif (index &lt; 0) {\r\n    index = intArray.length; //we default to the last item that would disappear\r\nfor (int i = index; i &gt; 0; i--) {\r\n    intArray[i] = intArray[i - 1];\r\n}\r\nintArray[0] = input;\r\n```","title":"How to sort insert and prioritize most recent in an Array List?","body":"<p>I will provide a solution for arrays and I will presume that if a new item is specified by the user, it will get to the head of the array and pulling everything to the right, with the oldest falling out of the array:</p>\n<pre><code>int index = intArray.indexOf(input);\nif (index &lt; 0) {\n    index = intArray.length; //we default to the last item that would disappear\nfor (int i = index; i &gt; 0; i--) {\n    intArray[i] = intArray[i - 1];\n}\nintArray[0] = input;\n</code></pre>\n"}],"owner":{"account_id":16132246,"reputation":3,"user_id":11645566,"display_name":"PrnceAkeem"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75387938,"answer_count":3,"score":-1,"last_activity_date":1701800298,"creation_date":1675810990,"question_id":75379859,"body_markdown":"I tried checking the array to see if the number is already listed, if the user happens to input a number twice thus number should be placed to the top being its most recent and everything else should be shifted down. in Short given the array [ 4, 5, 6, 7, 9] if the users inputs 7 it should be changed to [7, 4, 5, 6, 9].\r\n\r\n\r\n\r\n\r\n\r\n    //Array Created\r\n    int intArray[] = new int[5]; \r\n\r\n    //Number of values in the array\r\n    int count = 0;\r\n\r\n    //Value user enters\r\n    int userInput = 0;\r\n    \r\n    //Receive user inputs\r\n    Scanner in = new Scanner(System.in);\r\n    \r\n    //First Prompt \r\n    System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\r\n    userInput = in.nextInt();\r\n\r\n    //Keep asking for number if invalid\r\n    while((userInput &lt; 0) || (userInput &gt; 10)){\r\n      System.out.println(&quot;Invalid number. Must be between 1 - 10\\n&quot;);\r\n      System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\r\n      userInput = in.nextInt();\r\n    }\r\n    \r\n    intArray[count] = userInput;\r\n    count++;\r\n    \r\n   \r\n     while(userInput != 0){\r\n\r\n       //Keeps Track of the numbers inputed \r\n      System.out.println(&quot;There is currently &quot; + count + &quot; On The Table.&quot;);\r\n      for(int i = 0; i &lt; count; i++){\r\n        System.out.print(intArray[i] + &quot; &quot;);\r\n      }\r\n  \r\n      System.out.print(&quot;\\n\\n&quot;);\r\n      System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\r\n      \r\n      userInput = in.nextInt();\r\n      \r\n      //Don&#39;t Allow numbers bigger than 10 or less than 1\r\n      while(userInput &lt; 0 || userInput &gt; 10){\r\n        System.out.println(&quot;Invalid number.\\n&quot;);\r\n        System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\r\n        userInput = in.nextInt();\r\n      } \r\n\r\n      if(count == intArray.length){\r\n        int tempPrev;\r\n        for(int i = (intArray.length - 1); i &gt; 0; i--){\r\n          \r\n          //Store the previous value\r\n          tempPrev = intArray[i - 1];\r\n\r\n          //Assign current index to what was in previous\r\n          intArray[i] = tempPrev;\r\n        }\r\n        \r\n        intArray[0] = userInput;\r\n        count = intArray.length;\r\n      } else {\r\n        intArray[count] = userInput;\r\n        count++;\r\n      }\r\n    }\r\n    System.out.println(&quot;The end.&quot;);\r\n  }\r\n}\r\n","title":"How to sort insert and prioritize most recent in an Array List?","body":"<p>I tried checking the array to see if the number is already listed, if the user happens to input a number twice thus number should be placed to the top being its most recent and everything else should be shifted down. in Short given the array [ 4, 5, 6, 7, 9] if the users inputs 7 it should be changed to [7, 4, 5, 6, 9].</p>\n<pre><code>//Array Created\nint intArray[] = new int[5]; \n\n//Number of values in the array\nint count = 0;\n\n//Value user enters\nint userInput = 0;\n\n//Receive user inputs\nScanner in = new Scanner(System.in);\n\n//First Prompt \nSystem.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\nuserInput = in.nextInt();\n\n//Keep asking for number if invalid\nwhile((userInput &lt; 0) || (userInput &gt; 10)){\n  System.out.println(&quot;Invalid number. Must be between 1 - 10\\n&quot;);\n  System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\n  userInput = in.nextInt();\n}\n\nintArray[count] = userInput;\ncount++;\n\n\n while(userInput != 0){\n\n   //Keeps Track of the numbers inputed \n  System.out.println(&quot;There is currently &quot; + count + &quot; On The Table.&quot;);\n  for(int i = 0; i &lt; count; i++){\n    System.out.print(intArray[i] + &quot; &quot;);\n  }\n\n  System.out.print(&quot;\\n\\n&quot;);\n  System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\n  \n  userInput = in.nextInt();\n  \n  //Don't Allow numbers bigger than 10 or less than 1\n  while(userInput &lt; 0 || userInput &gt; 10){\n    System.out.println(&quot;Invalid number.\\n&quot;);\n    System.out.println(&quot;Enter The File You Wish To Use. Enter 0 to stop:&quot;);\n    userInput = in.nextInt();\n  } \n\n  if(count == intArray.length){\n    int tempPrev;\n    for(int i = (intArray.length - 1); i &gt; 0; i--){\n      \n      //Store the previous value\n      tempPrev = intArray[i - 1];\n\n      //Assign current index to what was in previous\n      intArray[i] = tempPrev;\n    }\n    \n    intArray[0] = userInput;\n    count = intArray.length;\n  } else {\n    intArray[count] = userInput;\n    count++;\n  }\n}\nSystem.out.println(&quot;The end.&quot;);\n</code></pre>\n<p>}\n}</p>\n"},{"tags":["java","ubuntu","wav","javasound"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1316247053,"post_id":7453380,"comment_id":9015587,"body_markdown":"1) Does the exact source shown in the [JavaSound info. page](http://stackoverflow.com/tags/javasound/info) for playing a WAV work for you?  2) Does that exact source (except URL changed) fail for your test WAVs?","body":"1) Does the exact source shown in the <a href=\"http://stackoverflow.com/tags/javasound/info\">JavaSound info. page</a> for playing a WAV work for you?  2) Does that exact source (except URL changed) fail for your test WAVs?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1316247281,"post_id":7453380,"comment_id":9015610,"body_markdown":"For better help sooner, post an [SSCCE](http://pscode.org/sscce.html).","body":"For better help sooner, post an <a href=\"http://pscode.org/sscce.html\" rel=\"nofollow noreferrer\">SSCCE</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1316321848,"post_id":7453380,"comment_id":9024281,"body_markdown":"@broiyan: why did I waste my free time working on your Swing validate question if you&#39;re just going to delete it? Duly noted for future reference.","body":"@broiyan: why did I waste my free time working on your Swing validate question if you&#39;re just going to delete it? Duly noted for future reference."}],"answers":[{"comments":[{"owner":{"account_id":188416,"reputation":10894,"user_id":427155,"accept_rate":85,"display_name":"H2ONaCl"},"score":2,"creation_date":1316255627,"post_id":7453757,"comment_id":9016508,"body_markdown":"Thanks.  It needed a clip.setFramePosition(0); to make it replay properly.","body":"Thanks.  It needed a clip.setFramePosition(0); to make it replay properly."}],"tags":[],"owner":{"account_id":475091,"reputation":1856,"user_id":885210,"accept_rate":100,"display_name":"wanderlust"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1316251178,"creation_date":1316251178,"answer_id":7453757,"question_id":7453380,"body_markdown":"For playing the clip for the second time you must call\r\n\r\n    clip.start();\r\n    clip.stop();\r\n\r\ncause after the second call of clip.start(); it is trying to play the file from the place where [it stopped previously][1].\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1,5.0/docs/api/javax/sound/sampled/Clip.html","title":"Java sound replaying via Clip and AudioInputStream is not working","body":"<p>For playing the clip for the second time you must call</p>\n\n<pre><code>clip.start();\nclip.stop();\n</code></pre>\n\n<p>cause after the second call of clip.start(); it is trying to play the file from the place where <a href=\"http://download.oracle.com/javase/1,5.0/docs/api/javax/sound/sampled/Clip.html\" rel=\"nofollow\">it stopped previously</a>.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1701934802,"post_id":77608422,"comment_id":136836963,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/77608422/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":30074545,"reputation":1,"user_id":23047726,"display_name":"user23047726"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701799986,"creation_date":1701799986,"answer_id":77608422,"question_id":7453380,"body_markdown":"This wonderful API worked for me:\r\n\r\n    import javax.sound.sampled.*;\r\n    import java.io.BufferedInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.MalformedURLException;\r\n    \r\n    /**\r\n     * Handles playing, stopping, and looping of sounds for the game.\r\n     *\r\n     * @author Langdon Staab\r\n     * @author Tyler Tomas\r\n     */\r\n    public class Sound {\r\n        Clip clip;\r\n    \r\n        @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n        public Sound(String filename) {\r\n            try (InputStream in = getClass().getResourceAsStream(filename)) {\r\n                assert in != null;\r\n                InputStream bufferedIn = new BufferedInputStream(in);\r\n                try (AudioInputStream audioIn = AudioSystem.getAudioInputStream(bufferedIn)) {\r\n                    clip = AudioSystem.getClip();\r\n                    clip.open(audioIn);\r\n                }\r\n            } catch (MalformedURLException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Malformed URL: \\n&quot; + e);\r\n            } catch (UnsupportedAudioFileException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Unsupported Audio File: \\n&quot; + e);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Input/Output Error: \\n&quot; + e);\r\n            } catch (LineUnavailableException e) {\r\n                e.printStackTrace();\r\n                throw new RuntimeException(&quot;Sound: Line Unavailable Exception Error: \\n&quot; + e);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n            // play, stop, loop the sound clip\r\n        }\r\n    \r\n        public void play() {\r\n            clip.setFramePosition(0);  // Must always rewind!\r\n            clip.start();\r\n        }\r\n    \r\n        public void loop() {\r\n            clip.loop(Clip.LOOP_CONTINUOUSLY);\r\n        }\r\n    \r\n        public void stop() {\r\n            clip.stop();\r\n        }\r\n    \r\n        public boolean isPlaying() {\r\n            //return false;\r\n            return clip.getFrameLength() &gt; clip.getFramePosition();\r\n        }\r\n    }","title":"Java sound replaying via Clip and AudioInputStream is not working","body":"<p>This wonderful API worked for me:</p>\n<pre><code>import javax.sound.sampled.*;\nimport java.io.BufferedInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.MalformedURLException;\n\n/**\n * Handles playing, stopping, and looping of sounds for the game.\n *\n * @author Langdon Staab\n * @author Tyler Tomas\n */\npublic class Sound {\n    Clip clip;\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    public Sound(String filename) {\n        try (InputStream in = getClass().getResourceAsStream(filename)) {\n            assert in != null;\n            InputStream bufferedIn = new BufferedInputStream(in);\n            try (AudioInputStream audioIn = AudioSystem.getAudioInputStream(bufferedIn)) {\n                clip = AudioSystem.getClip();\n                clip.open(audioIn);\n            }\n        } catch (MalformedURLException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Malformed URL: \\n&quot; + e);\n        } catch (UnsupportedAudioFileException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Unsupported Audio File: \\n&quot; + e);\n        } catch (IOException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Input/Output Error: \\n&quot; + e);\n        } catch (LineUnavailableException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Sound: Line Unavailable Exception Error: \\n&quot; + e);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n        // play, stop, loop the sound clip\n    }\n\n    public void play() {\n        clip.setFramePosition(0);  // Must always rewind!\n        clip.start();\n    }\n\n    public void loop() {\n        clip.loop(Clip.LOOP_CONTINUOUSLY);\n    }\n\n    public void stop() {\n        clip.stop();\n    }\n\n    public boolean isPlaying() {\n        //return false;\n        return clip.getFrameLength() &gt; clip.getFramePosition();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":188416,"reputation":10894,"user_id":427155,"accept_rate":85,"display_name":"H2ONaCl"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2617,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7453757,"answer_count":2,"score":0,"last_activity_date":1701799986,"creation_date":1316246336,"question_id":7453380,"body_markdown":"This is a slightly modified example from the Java Sound info page. [https://stackoverflow.com/tags/javasound/info][1] Unfortunately, it only plays the sound once but the intention is twice.\r\n\r\n    import java.io.File;\r\n    import javax.sound.sampled.*;\r\n    \r\n    public class TestNoise {\r\n        public static void main(String[] args) throws Exception {\r\n            File f = new File(&quot;/home/brian/drip.wav&quot;);\r\n            AudioInputStream ais = AudioSystem.getAudioInputStream(f);\r\n            \r\n            AudioFormat af = ais.getFormat();\r\n            DataLine.Info info = new DataLine.Info(Clip.class, af);\r\n            Clip clip = (Clip)AudioSystem.getLine(info);\r\n            \r\n            clip.open(ais);\r\n            clip.start();    // heard this\r\n            Java.killTime(); \r\n            clip.start();    // NOT HEARD\r\n            Java.killTime();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/tags/javasound/info\r\n\r\n**Edit: To understand the answer, see the link provided by Wanderlust or just do what it says in the comment below his answer.**","title":"Java sound replaying via Clip and AudioInputStream is not working","body":"<p>This is a slightly modified example from the Java Sound info page. <a href=\"https://stackoverflow.com/tags/javasound/info\">https://stackoverflow.com/tags/javasound/info</a> Unfortunately, it only plays the sound once but the intention is twice.</p>\n\n<pre><code>import java.io.File;\nimport javax.sound.sampled.*;\n\npublic class TestNoise {\n    public static void main(String[] args) throws Exception {\n        File f = new File(\"/home/brian/drip.wav\");\n        AudioInputStream ais = AudioSystem.getAudioInputStream(f);\n\n        AudioFormat af = ais.getFormat();\n        DataLine.Info info = new DataLine.Info(Clip.class, af);\n        Clip clip = (Clip)AudioSystem.getLine(info);\n\n        clip.open(ais);\n        clip.start();    // heard this\n        Java.killTime(); \n        clip.start();    // NOT HEARD\n        Java.killTime();\n    }\n}\n</code></pre>\n\n<p><strong>Edit: To understand the answer, see the link provided by Wanderlust or just do what it says in the comment below his answer.</strong></p>\n"},{"tags":["java","hibernate","methods","spring-data-jpa","deprecated"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1691132722,"post_id":76833652,"comment_id":135453057,"body_markdown":"Never use @lombok.Data because equals will be wrong","body":"Never use @lombok.Data because equals will be wrong"},{"owner":{"account_id":29157722,"reputation":11,"user_id":22337125,"display_name":"neo xu"},"score":0,"creation_date":1691135957,"post_id":76833652,"comment_id":135453704,"body_markdown":"@SimonMartinelli yes you are right, but its not important in this question.","body":"@SimonMartinelli yes you are right, but its not important in this question."}],"answers":[{"comments":[{"owner":{"account_id":29157722,"reputation":11,"user_id":22337125,"display_name":"neo xu"},"score":0,"creation_date":1691138675,"post_id":76834134,"comment_id":135454155,"body_markdown":"thx to @Long, its good enough to solve my problem, in fact, I could rewrite the save method as：\n                 ID id = (ID)entityInformation.getId(entity);\t\t\n\t\t\t\t\n\t\tOptional&lt;T&gt; persistenceOptional = this.findById(id);\n\t\tif (persistenceOptional.isEmpty()) {\n\t\t\tthrow new StaleObjectStateException(entityInformation.getEntityName(), id); \n\t\t}\n                // do the update\nBut I still think there is a possible best way to handle this, any more idea?","body":"thx to @Long, its good enough to solve my problem, in fact, I could rewrite the save method as：                  ID id = (ID)entityInformation.getId(entity);\t\t \t\t\t\t \t\tOptional&lt;T&gt; persistenceOptional = this.findById(id); \t\tif (persistenceOptional.isEmpty()) { \t\t\tthrow new StaleObjectStateException(entityInformation.getEntityName(), id);  \t\t}                 // do the update But I still think there is a possible best way to handle this, any more idea?"},{"owner":{"account_id":9008386,"reputation":83,"user_id":6714057,"display_name":"Long"},"score":0,"creation_date":1691163544,"post_id":76834134,"comment_id":135459411,"body_markdown":"Still not get what you&#39;re trying to do. If you modify like that, how can you insert new record from now on?\nYou can extend your repository with a custom interface that contains custom function called updateIfExist(), then you can implement that function with your logic. Throw error when entity not exist... etc. \nFor update() function of JPA, just leave it as it is.","body":"Still not get what you&#39;re trying to do. If you modify like that, how can you insert new record from now on? You can extend your repository with a custom interface that contains custom function called updateIfExist(), then you can implement that function with your logic. Throw error when entity not exist... etc.  For update() function of JPA, just leave it as it is."},{"owner":{"account_id":29157722,"reputation":11,"user_id":22337125,"display_name":"neo xu"},"score":0,"creation_date":1691372703,"post_id":76834134,"comment_id":135478090,"body_markdown":"I meant the implementation code seems a little strange. It&#39;s need to query at first before update, however I dont want do like that, its not so elegant...","body":"I meant the implementation code seems a little strange. It&#39;s need to query at first before update, however I dont want do like that, its not so elegant..."}],"tags":[],"owner":{"account_id":9008386,"reputation":83,"user_id":6714057,"display_name":"Long"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1691136905,"creation_date":1691136905,"answer_id":76834134,"question_id":76833652,"body_markdown":"This is implemenation for JPA save function:\r\n\r\n```\r\n    @Transactional\r\n    public &lt;S extends T&gt; S save(S entity) {\r\n        if (this.entityInformation.isNew(entity)) {\r\n            this.em.persist(entity);\r\n            return entity;\r\n        } else {\r\n            return this.em.merge(entity);\r\n        }\r\n    }\r\n```\r\nSo, as you can see, JPA do check if entity is existing or not. \r\nIf yes, then it will update, otherwise JPA will insert a new record. If you don&#39;t want to insert if not exist, you can call findById() first, throw exception if entity not exist, then call save() after that. Please don&#39;t try to modify default behavior of JPA as it can cause more issue in the future. ","title":"spring data jpa with hibernate 6 - why the jpa save() method do insert when I try to update a non-existing record?","body":"<p>This is implemenation for JPA save function:</p>\n<pre><code>    @Transactional\n    public &lt;S extends T&gt; S save(S entity) {\n        if (this.entityInformation.isNew(entity)) {\n            this.em.persist(entity);\n            return entity;\n        } else {\n            return this.em.merge(entity);\n        }\n    }\n</code></pre>\n<p>So, as you can see, JPA do check if entity is existing or not.\nIf yes, then it will update, otherwise JPA will insert a new record. If you don't want to insert if not exist, you can call findById() first, throw exception if entity not exist, then call save() after that. Please don't try to modify default behavior of JPA as it can cause more issue in the future.</p>\n"},{"tags":[],"owner":{"account_id":2701145,"reputation":4860,"user_id":2433323,"display_name":"Klaus Groenbaek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701799950,"creation_date":1701799950,"answer_id":77608413,"question_id":76833652,"body_markdown":"You should implement `org.springframework.data.domain.Persistable`\r\n\r\n**Explanation**: \r\nSpring Data only has a single save method, but underneath it needs to do either persist or merge, as you can see in the save implementation. This is only an issue if you assign the primary key in code. If JPA assigns it, using an IDGenerator, you don&#39;t need to do anything, because spring data sees that the ID is null, so it will call persist. \r\n\r\nSpring Data designed an extension point for this specific usecase, so we can tell the framework if the entity is new or old, and the id is not null. The solution is to implement the `org.springframework.data.domain.Persistable&lt;ID&gt;` and override the `isNew()` method. \r\nWhen you have an unmanaged Entity, and call save it, Spring data will forward to persist, as detailed in the save method. If you have an unmanaged entity, that is not new, Spring data will merge the entity, as the JPA spec specifies.\r\n","title":"spring data jpa with hibernate 6 - why the jpa save() method do insert when I try to update a non-existing record?","body":"<p>You should implement <code>org.springframework.data.domain.Persistable</code></p>\n<p><strong>Explanation</strong>:\nSpring Data only has a single save method, but underneath it needs to do either persist or merge, as you can see in the save implementation. This is only an issue if you assign the primary key in code. If JPA assigns it, using an IDGenerator, you don't need to do anything, because spring data sees that the ID is null, so it will call persist.</p>\n<p>Spring Data designed an extension point for this specific usecase, so we can tell the framework if the entity is new or old, and the id is not null. The solution is to implement the <code>org.springframework.data.domain.Persistable&lt;ID&gt;</code> and override the <code>isNew()</code> method.\nWhen you have an unmanaged Entity, and call save it, Spring data will forward to persist, as detailed in the save method. If you have an unmanaged entity, that is not new, Spring data will merge the entity, as the JPA spec specifies.</p>\n"}],"owner":{"account_id":29157722,"reputation":11,"user_id":22337125,"display_name":"neo xu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1701799950,"creation_date":1691132596,"question_id":76833652,"body_markdown":"I have a &quot;Test&quot; entity:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;TEST&quot;)\r\n@lombok.Data\r\npublic class Test {\t\r\n\t\r\n\t@Id\r\n\t@jakarta.persistence.GeneratedValue(generator = &quot;test_id_gen_key&quot;)\r\n\t@org.hibernate.annotations.GenericGenerator(name=&quot;test_id_gen_key&quot;, type=org.hibernate.id.IdentityGenerator.class)\r\n\t@Column(name=&quot;id&quot;, nullable = false)\r\n\tprivate Integer id;\r\n\t\r\n\t@Column(name=&quot;name&quot;, nullable = true, length = 10)\r\n\tprivate String name;\r\n\t\r\n}\r\n```\r\n\r\nAnd the TestRepository:\r\n\r\n```\r\n@Repository\r\npublic interface TestRepository extends JpaRepository&lt;Test, Integer&gt; {\r\n\r\n}\r\n```\r\n\r\nWhen I try to do a update in TestService like this:\r\n\r\n```\r\nvar test = new Test(10, &quot;any name&quot;);  // the id value : 10 does not exist in the databse \r\n\r\ntestRepository.save(test);\r\n\r\n```\r\n\r\nThen the hibernate execute the merge() method:\r\n1. query the database with the id value ： 10；\r\n2. got nothing from step 1, then it execute an insert sql to generate a new record.\r\n\r\nBut what I want in this situation is to throw a exception, the CrudRepository#save method also said &quot;also thrown if the entity is assumed to be present but does not exist in the database&quot; :\r\n\r\n\r\n```\r\n\t/**\r\n\t * Saves a given entity. Use the returned instance for further operations as the save operation might have changed the\r\n\t * entity instance completely.\r\n\t *\r\n\t * @param entity must not be {@literal null}.\r\n\t * @return the saved entity; will never be {@literal null}.\r\n\t * @throws IllegalArgumentException in case the given {@literal entity} is {@literal null}.\r\n\t * @throws OptimisticLockingFailureException when the entity uses optimistic locking and has a version attribute with\r\n\t *           a different value from that found in the persistence store. **Also thrown if the entity is assumed to be\r\n\t *           present but does not exist in the database**.\r\n\t */\r\n\t&lt;S extends T&gt; S save(S entity);\r\n```\r\n\r\nWhat is the best way to handle this situation?\r\n\r\n\r\n\r\n\r\n\r\n\r\nI extend the SimpleJpaRepository implementation and add a update method to call the org.hibernate.Session#update() method, it works as I expected, but the method is deprecated already, I dont think its a prefect solution:\r\n\r\n\r\n```\r\n@SuppressWarnings(&quot;deprecation&quot;)\r\n\t@Override\r\n\tpublic T update(T entity) {\t\t\r\n\t\tsession().update(entity);\r\n\t\t\r\n\t\treturn entity;\r\n\t}\r\n```\r\n","title":"spring data jpa with hibernate 6 - why the jpa save() method do insert when I try to update a non-existing record?","body":"<p>I have a &quot;Test&quot; entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;TEST&quot;)\n@lombok.Data\npublic class Test { \n    \n    @Id\n    @jakarta.persistence.GeneratedValue(generator = &quot;test_id_gen_key&quot;)\n    @org.hibernate.annotations.GenericGenerator(name=&quot;test_id_gen_key&quot;, type=org.hibernate.id.IdentityGenerator.class)\n    @Column(name=&quot;id&quot;, nullable = false)\n    private Integer id;\n    \n    @Column(name=&quot;name&quot;, nullable = true, length = 10)\n    private String name;\n    \n}\n</code></pre>\n<p>And the TestRepository:</p>\n<pre><code>@Repository\npublic interface TestRepository extends JpaRepository&lt;Test, Integer&gt; {\n\n}\n</code></pre>\n<p>When I try to do a update in TestService like this:</p>\n<pre><code>var test = new Test(10, &quot;any name&quot;);  // the id value : 10 does not exist in the databse \n\ntestRepository.save(test);\n\n</code></pre>\n<p>Then the hibernate execute the merge() method:</p>\n<ol>\n<li>query the database with the id value ： 10；</li>\n<li>got nothing from step 1, then it execute an insert sql to generate a new record.</li>\n</ol>\n<p>But what I want in this situation is to throw a exception, the CrudRepository#save method also said &quot;also thrown if the entity is assumed to be present but does not exist in the database&quot; :</p>\n<pre><code>    /**\n     * Saves a given entity. Use the returned instance for further operations as the save operation might have changed the\n     * entity instance completely.\n     *\n     * @param entity must not be {@literal null}.\n     * @return the saved entity; will never be {@literal null}.\n     * @throws IllegalArgumentException in case the given {@literal entity} is {@literal null}.\n     * @throws OptimisticLockingFailureException when the entity uses optimistic locking and has a version attribute with\n     *           a different value from that found in the persistence store. **Also thrown if the entity is assumed to be\n     *           present but does not exist in the database**.\n     */\n    &lt;S extends T&gt; S save(S entity);\n</code></pre>\n<p>What is the best way to handle this situation?</p>\n<p>I extend the SimpleJpaRepository implementation and add a update method to call the org.hibernate.Session#update() method, it works as I expected, but the method is deprecated already, I dont think its a prefect solution:</p>\n<pre><code>@SuppressWarnings(&quot;deprecation&quot;)\n    @Override\n    public T update(T entity) {     \n        session().update(entity);\n        \n        return entity;\n    }\n</code></pre>\n"},{"tags":["java","caldav","ical4j"],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701799604,"creation_date":1701022354,"question_id":77552904,"body_markdown":"I&#39;m using ical4j 3.2.14 to add, update or delete events on a file based calendar and it works fine. The next step is doing the same on a caldav server like sogo.\r\nI know ical4j-connector but I&#39;ve got no idea how to use it. I couldn&#39;t find any usefull tutorial or example for that.\r\n\r\nCould someone explain me how to read a calendar object from a caldav server and merge or save the changes back?\r\n\r\nEvery hint is helpful.","title":"How to use ical4j with a caldav server?","body":"<p>I'm using ical4j 3.2.14 to add, update or delete events on a file based calendar and it works fine. The next step is doing the same on a caldav server like sogo.\nI know ical4j-connector but I've got no idea how to use it. I couldn't find any usefull tutorial or example for that.</p>\n<p>Could someone explain me how to read a calendar object from a caldav server and merge or save the changes back?</p>\n<p>Every hint is helpful.</p>\n"},{"tags":["java","event-listener"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1701280846,"post_id":77573232,"comment_id":136757372,"body_markdown":"Define the variable as an instance variable in your class and then in the constructor you you assign the User to this variable.","body":"Define the variable as an instance variable in your class and then in the constructor you you assign the User to this variable."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1701281902,"post_id":77573232,"comment_id":136757528,"body_markdown":"Make ButtonAction an inner class of LoginDialog so it has access to user.","body":"Make ButtonAction an inner class of LoginDialog so it has access to user."},{"owner":{"account_id":1367890,"reputation":31,"user_id":1420240,"display_name":"and"},"score":0,"creation_date":1701291611,"post_id":77573232,"comment_id":136759063,"body_markdown":"I have to pass it to another jFrame. User must be visible to a login frame and a main frame.The user parameter of LoginDialog comes from main application.","body":"I have to pass it to another jFrame. User must be visible to a login frame and a main frame.The user parameter of LoginDialog comes from main application."},{"owner":{"account_id":1367890,"reputation":31,"user_id":1420240,"display_name":"and"},"score":0,"creation_date":1701798284,"post_id":77573232,"comment_id":136819103,"body_markdown":"My is only an excercise. I want that a user is rcognized from the main application after he is successfull logged in.","body":"My is only an excercise. I want that a user is rcognized from the main application after he is successfull logged in."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1701798413,"post_id":77573232,"comment_id":136819137,"body_markdown":"If you want help debugging your code, you need to post more of it. I suggest that you post the body of constructor for class `LoginDialog`. I also suggest that you post code that calls that constructor. Is class `ButtonAction` an inner class of `LoginDialog`?","body":"If you want help debugging your code, you need to post more of it. I suggest that you post the body of constructor for class <code>LoginDialog</code>. I also suggest that you post code that calls that constructor. Is class <code>ButtonAction</code> an inner class of <code>LoginDialog</code>?"},{"owner":{"account_id":1367890,"reputation":31,"user_id":1420240,"display_name":"and"},"score":0,"creation_date":1701799038,"post_id":77573232,"comment_id":136819240,"body_markdown":"yes ButtonAction is an inner class. as you can see i have posted more.","body":"yes ButtonAction is an inner class. as you can see i have posted more."}],"owner":{"account_id":1367890,"reputation":31,"user_id":1420240,"display_name":"and"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1701798972,"creation_date":1701277982,"question_id":77573232,"body_markdown":"i want to modify the variable user passed to a constructor and then modify it in an event listener. the application consists of two window one for login and the main window for the application. I want that the user is recognized by the main window. So when the user log in successfully his info are stored in a user object. the problem is that when the user clicks on the login button the user variable is not seen in the inner class ButtonAction. \r\nfor example:\r\n\r\n```\r\npublic class LoginDialog extends JDialog{\r\npublic LoginDialog(User user) {\r\n       \r\n\r\n\r\n....\r\n}\r\nprivate class ButtonAction implements ActionListener{\r\n\t\tpublic void actionPerformed(ActionEvent ev) {\r\n                             ................\r\n                             setUserInfo(user)//here user is not visible\r\n                }\r\n}\r\n\r\n\r\n}\r\n```\r\n```\r\n    \r\n    public class Main {\r\n\r\n\tprivate JFrame mainFrame;\r\n\tprivate LoginFrame loginFrame;\r\n\tprivate JLabel mainFrameLabel=new JLabel(&quot;Sign In&quot;);\r\n\tUser user=null;\r\n\r\n\t/**\r\n\t * Launch the application.\r\n\t */\r\n\tpublic static void main(String[] args) {\r\n\t\tEventQueue.invokeLater(new Runnable() {\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tMain window = new Main();\r\n\t\t\t\t\twindow.mainFrame.setVisible(true);\r\n\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Create the application.\r\n\t */\r\n\tpublic Main() {\r\n\t\tinitialize();\r\n\t}\r\n\r\n\t/**\r\n\t * Initialize the contents of the frame.\r\n\t */\r\n\tprivate void initialize() {\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\tLoginDialog loginDialog = new LoginDialog(user);\r\n\t\tloginDialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\r\n\t\tloginDialog.setModal(true);\r\n\t\tloginDialog.setVisible(true);\r\n\t\tSystem.out.println(&quot;Stampo info studente:&quot;);\r\n\t\tSystem.out.println(user);\r\n\t\tloginDialog.dispose();\r\n\t\t\r\n\t\tif(user.getLoggedIn()) {\r\n\t\t\tmainFrame = new JFrame(&quot;Main Frame&quot;);\r\n\t\t\tmainFrame.setBounds(300, 300, 450, 300);\r\n\t\t\tmainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tmainFrame.getContentPane().setLayout(null);\r\n\t\t\t\r\n\t\t\tJPanel mainPanel = new JPanel();\r\n\t\t\tmainPanel.setBounds(10, 10, 426, 243);\r\n\t\t\tmainFrame.getContentPane().add(mainPanel);\r\n\t\t\tmainPanel.setLayout(null);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tmainFrameLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\r\n\t\t\tmainFrameLabel.setBounds(70, 102, 252, 33);\r\n\t\t\tmainPanel.add(mainFrameLabel);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tmainFrame.addWindowListener(new WindowAdapter() {\r\n\t\t\t\tpublic void windowClosed(WindowEvent we) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tmainFrameLabel.setText(&quot;Sign In&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tuser.setLoggedIn(false);\r\n\t\t\t\t\tuser=null;\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t      public void windowClosing(WindowEvent we) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tmainFrameLabel.setText(&quot;Sign In&quot;);\r\n\t\t\t\t\t\r\n\t\t\t\t\tuser.setLoggedIn(false);\r\n\t\t\t\t\tuser=null;\r\n\t\t\t\t\tSystem.exit(0);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n}\r\n}\r\n```\r\nI get an error &quot;user cannot be resolved to a variable&quot; on setInfoUser(user).How can i solve it?\r\nAs you can see i have summerized.\r\nI have tried several things. But i haven&#39;t solved the problem.\r\nP.s.there are some other errors but i am not interested.","title":"How to modify a variable in an event listener","body":"<p>i want to modify the variable user passed to a constructor and then modify it in an event listener. the application consists of two window one for login and the main window for the application. I want that the user is recognized by the main window. So when the user log in successfully his info are stored in a user object. the problem is that when the user clicks on the login button the user variable is not seen in the inner class ButtonAction.\nfor example:</p>\n<pre><code>public class LoginDialog extends JDialog{\npublic LoginDialog(User user) {\n       \n\n\n....\n}\nprivate class ButtonAction implements ActionListener{\n        public void actionPerformed(ActionEvent ev) {\n                             ................\n                             setUserInfo(user)//here user is not visible\n                }\n}\n\n\n}\n</code></pre>\n<pre><code>    \n    public class Main {\n\n    private JFrame mainFrame;\n    private LoginFrame loginFrame;\n    private JLabel mainFrameLabel=new JLabel(&quot;Sign In&quot;);\n    User user=null;\n\n    /**\n     * Launch the application.\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                try {\n                    Main window = new Main();\n                    window.mainFrame.setVisible(true);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }\n        });\n    }\n\n    /**\n     * Create the application.\n     */\n    public Main() {\n        initialize();\n    }\n\n    /**\n     * Initialize the contents of the frame.\n     */\n    private void initialize() {\n        \n        \n        \n        \n        LoginDialog loginDialog = new LoginDialog(user);\n        loginDialog.setDefaultCloseOperation(JDialog.DISPOSE_ON_CLOSE);\n        loginDialog.setModal(true);\n        loginDialog.setVisible(true);\n        System.out.println(&quot;Stampo info studente:&quot;);\n        System.out.println(user);\n        loginDialog.dispose();\n        \n        if(user.getLoggedIn()) {\n            mainFrame = new JFrame(&quot;Main Frame&quot;);\n            mainFrame.setBounds(300, 300, 450, 300);\n            mainFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            mainFrame.getContentPane().setLayout(null);\n            \n            JPanel mainPanel = new JPanel();\n            mainPanel.setBounds(10, 10, 426, 243);\n            mainFrame.getContentPane().add(mainPanel);\n            mainPanel.setLayout(null);\n            \n            \n            mainFrameLabel.setFont(new Font(&quot;Tahoma&quot;, Font.BOLD, 14));\n            mainFrameLabel.setBounds(70, 102, 252, 33);\n            mainPanel.add(mainFrameLabel);\n            \n            \n            mainFrame.addWindowListener(new WindowAdapter() {\n                public void windowClosed(WindowEvent we) {\n                    \n                    mainFrameLabel.setText(&quot;Sign In&quot;);\n                    \n                    user.setLoggedIn(false);\n                    user=null;\n                    System.exit(0);\n                }\n                  public void windowClosing(WindowEvent we) {\n                    \n                    mainFrameLabel.setText(&quot;Sign In&quot;);\n                    \n                    user.setLoggedIn(false);\n                    user=null;\n                    System.exit(0);\n                }\n                \n                \n            });\n        }\n}\n}\n</code></pre>\n<p>I get an error &quot;user cannot be resolved to a variable&quot; on setInfoUser(user).How can i solve it?\nAs you can see i have summerized.\nI have tried several things. But i haven't solved the problem.\nP.s.there are some other errors but i am not interested.</p>\n"},{"tags":["c#","java"],"comments":[{"owner":{"account_id":8171,"reputation":33191,"user_id":14558,"accept_rate":80,"display_name":"andrewdotn"},"score":10,"creation_date":1384228859,"post_id":16539245,"comment_id":29642093,"body_markdown":"Why this would be nice: [Callbacks as our Generations’ Go To Statement](http://tirania.org/blog/archive/2013/Aug-15.html) by Miguel de Icaza.","body":"Why this would be nice: <a href=\"http://tirania.org/blog/archive/2013/Aug-15.html\" rel=\"nofollow noreferrer\">Callbacks as our Generations’ Go To Statement</a> by Miguel de Icaza."},{"owner":{"account_id":1251686,"reputation":29348,"user_id":1531054,"accept_rate":95,"display_name":"s.d"},"score":0,"creation_date":1519360342,"post_id":16539245,"comment_id":84889236,"body_markdown":"Java&#39;s current solution is to not deal with actual values prefixed with `async`, but use `Future` or `Observable` values instead.","body":"Java&#39;s current solution is to not deal with actual values prefixed with <code>async</code>, but use <code>Future</code> or <code>Observable</code> values instead."},{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":6,"creation_date":1576172146,"post_id":16539245,"comment_id":104822171,"body_markdown":"There is no equivalent. And it hurts. One more missing feature you need complicated workarounds and libraries for, without ever reaching the same effect as these two, simple words.","body":"There is no equivalent. And it hurts. One more missing feature you need complicated workarounds and libraries for, without ever reaching the same effect as these two, simple words."},{"owner":{"account_id":205210,"reputation":13775,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":0,"creation_date":1582294256,"post_id":16539245,"comment_id":106738298,"body_markdown":"It&#39;s worth noting that for a long time, Java designers have tried to keep the Java bytecode backward compatible with only changes to libraries and Syntatic-sugar around existing features. *See the fact that generics don&#39;t store run-time type information and lambders are implemented as object implementing an interface*.  async/await would require very large changes to the bytecode to be possible and therefore I wouldn&#39;t expect to see it in java any time soon.","body":"It&#39;s worth noting that for a long time, Java designers have tried to keep the Java bytecode backward compatible with only changes to libraries and Syntatic-sugar around existing features. <i>See the fact that generics don&#39;t store run-time type information and lambders are implemented as object implementing an interface</i>.  async/await would require very large changes to the bytecode to be possible and therefore I wouldn&#39;t expect to see it in java any time soon."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":1,"creation_date":1630072342,"post_id":16539245,"comment_id":121863429,"body_markdown":"@PhilipCouling I don&#39;t believe there is any need to do any change in the bytecode to support async await. It&#39;s just syntactic sugar around Futures, nothing more. As a matter of fact, in JavaScript, you can transpile your async/await code in Future equivalent for backward compatibility. It&#39;s just about building a state machine, which you can do by generating bytecode. No need for changes in the JVM.","body":"@PhilipCouling I don&#39;t believe there is any need to do any change in the bytecode to support async await. It&#39;s just syntactic sugar around Futures, nothing more. As a matter of fact, in JavaScript, you can transpile your async/await code in Future equivalent for backward compatibility. It&#39;s just about building a state machine, which you can do by generating bytecode. No need for changes in the JVM."},{"owner":{"account_id":205210,"reputation":13775,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":0,"creation_date":1630084830,"post_id":16539245,"comment_id":121868326,"body_markdown":"@pieroxy Java and JavaScript are very different. JavaScript has yield which can be used to implement await. last time I checked Java does not. As a matter of fact yield is how python first achieved async. But without yield it&#39;s near impossible to stop what you&#39;re doing, save the stack, do something completely different then restore the stack and carry on all on the same thread. It&#39;s just not how the nvm works.","body":"@pieroxy Java and JavaScript are very different. JavaScript has yield which can be used to implement await. last time I checked Java does not. As a matter of fact yield is how python first achieved async. But without yield it&#39;s near impossible to stop what you&#39;re doing, save the stack, do something completely different then restore the stack and carry on all on the same thread. It&#39;s just not how the nvm works."},{"owner":{"account_id":205210,"reputation":13775,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":0,"creation_date":1630085392,"post_id":16539245,"comment_id":121868511,"body_markdown":"@pieroxy just to be clear async/await is **not** syntactic sugar to a language with no yield. It&#39;s a fundamental construct.","body":"@pieroxy just to be clear async/await is <b>not</b> syntactic sugar to a language with no yield. It&#39;s a fundamental construct."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":0,"creation_date":1630312699,"post_id":16539245,"comment_id":121912816,"body_markdown":"@PhilipCouling As far as I understand it, python and javascript need yield because they do not have multithreading. Java having multithreading since day one, I don&#39;t believe yield would be of any necessity. Just transforming all the code after an async to a callback is all that is needed. Fundamentally, async/await is just another way of writing Future and callbacks, but this time the code is linear instead of all over the place. There are shenanigans with exceptions and other things of course.","body":"@PhilipCouling As far as I understand it, python and javascript need yield because they do not have multithreading. Java having multithreading since day one, I don&#39;t believe yield would be of any necessity. Just transforming all the code after an async to a callback is all that is needed. Fundamentally, async/await is just another way of writing Future and callbacks, but this time the code is linear instead of all over the place. There are shenanigans with exceptions and other things of course."},{"owner":{"account_id":205210,"reputation":13775,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":2,"creation_date":1630314004,"post_id":16539245,"comment_id":121913278,"body_markdown":"@pieroxy no **async is not multithreading** and python had multithreading long before async. Multithreading uses operating system threads and the OS time slices between them. Async uses a single OS thread and the application takes responsibility to switch tasks when a task reaches a logical point where it must stop ( eg network read). The whole point of async is that it it reuses the same thread to perform other tasks while a task is blocking. The lack of threading is purely a JavaScript thing.","body":"@pieroxy no <b>async is not multithreading</b> and python had multithreading long before async. Multithreading uses operating system threads and the OS time slices between them. Async uses a single OS thread and the application takes responsibility to switch tasks when a task reaches a logical point where it must stop ( eg network read). The whole point of async is that it it reuses the same thread to perform other tasks while a task is blocking. The lack of threading is purely a JavaScript thing."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":1,"creation_date":1630314659,"post_id":16539245,"comment_id":121913522,"body_markdown":"@PhilipCouling Thanks for the clarification. That said, C# async await implementation does *not* guarantee the continuation is going to be done on the same thread. It&#39;s just syntactic sugar on top of Promises - so I guess your mileage may vary depending on which language you use. And Java could very well implement the C# flavor of async/await.","body":"@PhilipCouling Thanks for the clarification. That said, C# async await implementation does <i>not</i> guarantee the continuation is going to be done on the same thread. It&#39;s just syntactic sugar on top of Promises - so I guess your mileage may vary depending on which language you use. And Java could very well implement the C# flavor of async/await."},{"owner":{"account_id":205210,"reputation":13775,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":2,"creation_date":1630319597,"post_id":16539245,"comment_id":121915395,"body_markdown":"@pieroxy still no.  Even in c# the core concept remains the same and is not syntactic sugar ([as described by jon skeet](https://stackoverflow.com/a/16539332/453851)).  Sure multiple threads may execute tasks from the same pool but that doesn&#39;t mean async is a threading model.  Async is hard to understand and many people don&#39;t.  In all languages that support async; `await` can suspend the entire call stack of the task and executes something different on the same thread.  In java you just can&#39;t suspend the stack and restore it later.","body":"@pieroxy still no.  Even in c# the core concept remains the same and is not syntactic sugar (<a href=\"https://stackoverflow.com/a/16539332/453851\">as described by jon skeet</a>).  Sure multiple threads may execute tasks from the same pool but that doesn&#39;t mean async is a threading model.  Async is hard to understand and many people don&#39;t.  In all languages that support async; <code>await</code> can suspend the entire call stack of the task and executes something different on the same thread.  In java you just can&#39;t suspend the stack and restore it later."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":0,"creation_date":1630327746,"post_id":16539245,"comment_id":121918575,"body_markdown":"@PhilipCouling So what you are saying is that the [ea-async](https://github.com/electronicarts/ea-async) library is not actually implementing async await as they claim they do (apart from having parenthesis where none should be if it was in the language directly) ? For me, the real benefit of async/await is to write async code in a sequential fashion, instead of having callbacks all over the place, and that lib does it. What feature of async/await is missing here? And can you advise me on some reading on the topic so I&#39;ll stop bugging you here?","body":"@PhilipCouling So what you are saying is that the <a href=\"https://github.com/electronicarts/ea-async\" rel=\"nofollow noreferrer\">ea-async</a> library is not actually implementing async await as they claim they do (apart from having parenthesis where none should be if it was in the language directly) ? For me, the real benefit of async/await is to write async code in a sequential fashion, instead of having callbacks all over the place, and that lib does it. What feature of async/await is missing here? And can you advise me on some reading on the topic so I&#39;ll stop bugging you here?"},{"owner":{"account_id":205210,"reputation":13775,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":0,"creation_date":1630362299,"post_id":16539245,"comment_id":121930791,"body_markdown":"@pieroxy ea-async modifies the byte code via instrumentation AFAIK. Thus my original point stands. A lot of async documentation is a bit vague. C# has some reasonable docs (https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/) but I struggle to find the ones that helped me most originally.","body":"@pieroxy ea-async modifies the byte code via instrumentation AFAIK. Thus my original point stands. A lot of async documentation is a bit vague. C# has some reasonable docs (<a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/concepts/async/\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/dotnet/csharp/programming-guide/&hellip;</a>&zwnj;&#8203;) but I struggle to find the ones that helped me most originally."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":0,"creation_date":1630386672,"post_id":16539245,"comment_id":121934467,"body_markdown":"@PhilipCouling If we assume ea-async does properly async/await, it proves my point, not yours. The fact that they modify the bytecode is irrelevant. It just shows there is a way to emmit bytecode that can do async/await with a current JVM, no need to change the JVM, just the compiler to emmit the proper bytecode. Thanks for the doc, I&#39;m jumping in.","body":"@PhilipCouling If we assume ea-async does properly async/await, it proves my point, not yours. The fact that they modify the bytecode is irrelevant. It just shows there is a way to emmit bytecode that can do async/await with a current JVM, no need to change the JVM, just the compiler to emmit the proper bytecode. Thanks for the doc, I&#39;m jumping in."},{"owner":{"account_id":205210,"reputation":13775,"user_id":453851,"accept_rate":70,"display_name":"Philip Couling"},"score":0,"creation_date":1630397459,"post_id":16539245,"comment_id":121937933,"body_markdown":"@pieroxy my original point, that you have continually argued with, is [you can&#39;t do this without modifying the byte code](https://stackoverflow.com/questions/16539245/java-equivalent-of-c-sharp-async-await?noredirect=1#comment106738298_16539245) ... a library modifying the byte code does not prove me wrong.  Historically java designers have avoided such changes.  I think i&#39;ll leave this there.","body":"@pieroxy my original point, that you have continually argued with, is <a href=\"https://stackoverflow.com/questions/16539245/java-equivalent-of-c-sharp-async-await?noredirect=1#comment106738298_16539245\">you can&#39;t do this without modifying the byte code</a> ... a library modifying the byte code does not prove me wrong.  Historically java designers have avoided such changes.  I think i&#39;ll leave this there."},{"owner":{"account_id":1599577,"reputation":1009,"user_id":1480910,"display_name":"pieroxy"},"score":0,"creation_date":1630470781,"post_id":16539245,"comment_id":121961430,"body_markdown":"@PhilipCouling Right, that was your original point, my bad. My point was just that Kotlin has async/await and runs on the JVM, so there is nothing to do in the JVM and bytecode intepretation/runtime for Java to support async/await. Of course, if they were to implement this, it would generate new bytecode, but I fail to see where that&#39;s a problem. Your analogy with Generics doesn&#39;t hold here because the JVM doesn&#39;t support them at runtime. And Kotlin can call Java and Java Kotlin so there is no compatibility issue in any way. Supporting them in Java libs would be the real work.","body":"@PhilipCouling Right, that was your original point, my bad. My point was just that Kotlin has async/await and runs on the JVM, so there is nothing to do in the JVM and bytecode intepretation/runtime for Java to support async/await. Of course, if they were to implement this, it would generate new bytecode, but I fail to see where that&#39;s a problem. Your analogy with Generics doesn&#39;t hold here because the JVM doesn&#39;t support them at runtime. And Kotlin can call Java and Java Kotlin so there is no compatibility issue in any way. Supporting them in Java libs would be the real work."},{"owner":{"account_id":7074737,"reputation":2172,"user_id":6084517,"display_name":"Nathan Chappell"},"score":0,"creation_date":1668968181,"post_id":16539245,"comment_id":131529378,"body_markdown":"If your programming language is strong enough to support writing an event loop, then it&#39;s possible to write async/await as merely generating code for a state-machine (sytactic sugar).  If some language implementation takes it a step further by letting some runtime system determine if an event loop or different thread is used, or if there are multiple event-loops guaranteed, then you&#39;re missing the point of async/await.  Supporting generics is a different story - in C# at least it would require modifying the syntax and semantics of metadata.","body":"If your programming language is strong enough to support writing an event loop, then it&#39;s possible to write async/await as merely generating code for a state-machine (sytactic sugar).  If some language implementation takes it a step further by letting some runtime system determine if an event loop or different thread is used, or if there are multiple event-loops guaranteed, then you&#39;re missing the point of async/await.  Supporting generics is a different story - in C# at least it would require modifying the syntax and semantics of metadata."}],"answers":[{"comments":[{"owner":{"account_id":930623,"reputation":32992,"user_id":960567,"accept_rate":79,"display_name":"Imran Qadir Baksh - Baloch"},"score":0,"creation_date":1368523163,"post_id":16539332,"comment_id":23754296,"body_markdown":"Thanks. Is there any third party library for that? or any plan for the upcoming java","body":"Thanks. Is there any third party library for that? or any plan for the upcoming java"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":19,"creation_date":1368523438,"post_id":16539332,"comment_id":23754479,"body_markdown":"@user960567: No, my point is that it&#39;s a *language* feature - it can&#39;t be put solely in libraries. I don&#39;t believe there&#39;s any equivalent scheduled for Java 8 at least.","body":"@user960567: No, my point is that it&#39;s a <i>language</i> feature - it can&#39;t be put solely in libraries. I don&#39;t believe there&#39;s any equivalent scheduled for Java 8 at least."},{"owner":{"account_id":930623,"reputation":32992,"user_id":960567,"accept_rate":79,"display_name":"Imran Qadir Baksh - Baloch"},"score":0,"creation_date":1368523831,"post_id":16539332,"comment_id":23754752,"body_markdown":"Sorry, but for your comment &quot;even in C# before v5&quot;, I think with Microsoft.Bcl.Async we can use async await in .NET 4.0","body":"Sorry, but for your comment &quot;even in C# before v5&quot;, I think with Microsoft.Bcl.Async we can use async await in .NET 4.0"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":12,"creation_date":1368523900,"post_id":16539332,"comment_id":23754794,"body_markdown":"@user960567: You need to distinguish between the version of C# you&#39;re using and the version of .NET you&#39;re using. async/await is a *language* feature - it was introduced in C# 5. Yes, you can use Microsoft.Bcl.Async to use async/await targeting .NET 4, but you&#39;ve still got to use a C# 5 compiler.","body":"@user960567: You need to distinguish between the version of C# you&#39;re using and the version of .NET you&#39;re using. async/await is a <i>language</i> feature - it was introduced in C# 5. Yes, you can use Microsoft.Bcl.Async to use async/await targeting .NET 4, but you&#39;ve still got to use a C# 5 compiler."},{"owner":{"account_id":377251,"reputation":1058,"user_id":729239,"accept_rate":82,"display_name":"rozar"},"score":0,"creation_date":1395815245,"post_id":16539332,"comment_id":34503704,"body_markdown":"@JonSkeet Can we say netflix&#39;s RX  https://github.com/Netflix/RxJava will accomplish the asynchronous we are expecting","body":"@JonSkeet Can we say netflix&#39;s RX  <a href=\"https://github.com/Netflix/RxJava\" rel=\"nofollow noreferrer\">github.com/Netflix/RxJava</a> will accomplish the asynchronous we are expecting"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":6,"creation_date":1395816388,"post_id":16539332,"comment_id":34504283,"body_markdown":"@rozar: No, not really. There are already multiple options for asynchrony - but RxJava doesn&#39;t change the *language* in the way that C# did. I have nothing against Rx, but it&#39;s not the same thing as async in C# 5.","body":"@rozar: No, not really. There are already multiple options for asynchrony - but RxJava doesn&#39;t change the <i>language</i> in the way that C# did. I have nothing against Rx, but it&#39;s not the same thing as async in C# 5."},{"owner":{"account_id":3148552,"reputation":162,"user_id":2662503,"accept_rate":67,"display_name":"DtechNet"},"score":0,"creation_date":1445385689,"post_id":16539332,"comment_id":54299685,"body_markdown":"@JonSkeet you do agree that the JVM is highly concurrent and possesses many asynchronous mechanisms .. right?","body":"@JonSkeet you do agree that the JVM is highly concurrent and possesses many asynchronous mechanisms .. right?"},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":11,"creation_date":1445406307,"post_id":16539332,"comment_id":54305036,"body_markdown":"@DtechNet: Well there&#39;s a lot of JVM machinery which is asynchronous, yes... that&#39;s very different from there being *actual language features* supporting asynchrony though. (There was a lot of asynchrony in .NET before async/await, too... but async/await makes it *far* easier to take advantage of that.)","body":"@DtechNet: Well there&#39;s a lot of JVM machinery which is asynchronous, yes... that&#39;s very different from there being <i>actual language features</i> supporting asynchrony though. (There was a lot of asynchrony in .NET before async/await, too... but async/await makes it <i>far</i> easier to take advantage of that.)"},{"owner":{"account_id":8047335,"reputation":494,"user_id":6067158,"accept_rate":75,"display_name":"Aarkon"},"score":0,"creation_date":1560245760,"post_id":16539332,"comment_id":99663085,"body_markdown":"I know this thread is old, but I think the answer marked as correct is outdated. There are solutions pointed out in the other answers which do not match the async/await syntax by 100%, but get fairly close.","body":"I know this thread is old, but I think the answer marked as correct is outdated. There are solutions pointed out in the other answers which do not match the async/await syntax by 100%, but get fairly close."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":5,"creation_date":1560251374,"post_id":16539332,"comment_id":99666314,"body_markdown":"@Aarkon: I would argue that unless there&#39;s explicit *language* support, the answer is still correct. It&#39;s not just a matter of libraries that make scheduling simpler - the whole way the C# compiler builds a state machine is important here.","body":"@Aarkon: I would argue that unless there&#39;s explicit <i>language</i> support, the answer is still correct. It&#39;s not just a matter of libraries that make scheduling simpler - the whole way the C# compiler builds a state machine is important here."},{"owner":{"account_id":8047335,"reputation":494,"user_id":6067158,"accept_rate":75,"display_name":"Aarkon"},"score":0,"creation_date":1560264954,"post_id":16539332,"comment_id":99674695,"body_markdown":"Agreed, your answer is still technically correct and for sure you have a point saying that library support is something different than on the language core. Yet, since the original question was if there is &quot;any Java equivalent&quot; to async/await, it feels incomplete to me.","body":"Agreed, your answer is still technically correct and for sure you have a point saying that library support is something different than on the language core. Yet, since the original question was if there is &quot;any Java equivalent&quot; to async/await, it feels incomplete to me."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1560267512,"post_id":16539332,"comment_id":99676296,"body_markdown":"@Aarkon: The third paragraph explicitly talks about there being no *language* equivalent, but a bunch of classes already in the base libraries. I&#39;m content with this answer - I don&#39;t intend to change it.","body":"@Aarkon: The third paragraph explicitly talks about there being no <i>language</i> equivalent, but a bunch of classes already in the base libraries. I&#39;m content with this answer - I don&#39;t intend to change it."},{"owner":{"account_id":8047335,"reputation":494,"user_id":6067158,"accept_rate":75,"display_name":"Aarkon"},"score":0,"creation_date":1560420295,"post_id":16539332,"comment_id":99733928,"body_markdown":"At least to me, reading your answer, it didn&#39;t feel like what I was looking for already knowing there were some libraries around that make it relatively easy to write async java. But of course, your mileage may vary.","body":"At least to me, reading your answer, it didn&#39;t feel like what I was looking for already knowing there were some libraries around that make it relatively easy to write async java. But of course, your mileage may vary."},{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1593153039,"post_id":16539332,"comment_id":110685118,"body_markdown":"@MohamedIqzas: Those aren&#39;t really equivalent to async/await. There are plenty of ways of writing parallel and/or asynchronous code in Java, but async/await provides additional *language-level* support that makes a big difference.","body":"@MohamedIqzas: Those aren&#39;t really equivalent to async/await. There are plenty of ways of writing parallel and/or asynchronous code in Java, but async/await provides additional <i>language-level</i> support that makes a big difference."},{"owner":{"account_id":4717468,"reputation":3723,"user_id":3816260,"accept_rate":62,"display_name":"dephinera"},"score":1,"creation_date":1602796722,"post_id":16539332,"comment_id":113841537,"body_markdown":"It&#39;s 2020 now and whoever still wants async/await in Java, you can simply use Kotlin and Kotlin coroutines. Fortunately it has Java interpolability.","body":"It&#39;s 2020 now and whoever still wants async/await in Java, you can simply use Kotlin and Kotlin coroutines. Fortunately it has Java interpolability."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":15,"down_vote_count":4,"up_vote_count":185,"is_accepted":true,"score":181,"last_activity_date":1368523052,"creation_date":1368523052,"answer_id":16539332,"question_id":16539245,"body_markdown":"No, there isn&#39;t any equivalent of async/await in Java - or even in C# before v5.\r\n\r\nIt&#39;s a fairly complex language feature to build a state machine behind the scenes.\r\n\r\nThere&#39;s relatively little *language* support for asynchrony/concurrency in Java, but the `java.util.concurrent` package contains a lot of useful *classes* around this. (Not quite equivalent to the Task Parallel Library, but the closest approximation to it.)","title":"Java Equivalent of C# async/await?","body":"<p>No, there isn't any equivalent of async/await in Java - or even in C# before v5.</p>\n\n<p>It's a fairly complex language feature to build a state machine behind the scenes.</p>\n\n<p>There's relatively little <em>language</em> support for asynchrony/concurrency in Java, but the <code>java.util.concurrent</code> package contains a lot of useful <em>classes</em> around this. (Not quite equivalent to the Task Parallel Library, but the closest approximation to it.)</p>\n"},{"comments":[{"owner":{"account_id":2144391,"reputation":4766,"user_id":1902354,"accept_rate":67,"display_name":"Natan"},"score":5,"creation_date":1409317532,"post_id":16540265,"comment_id":39930920,"body_markdown":"I don&#39;t think this library has anything to do with what async/await does.","body":"I don&#39;t think this library has anything to do with what async/await does."}],"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"comment_count":1,"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1368525695,"creation_date":1368525695,"answer_id":16540265,"question_id":16539245,"body_markdown":"Java itself has no equivalent features, but third-party libraries exist which offer similar functionality, e.g.[Kilim][1].\r\n\r\n\r\n  [1]: https://github.com/kilim/kilim","title":"Java Equivalent of C# async/await?","body":"<p>Java itself has no equivalent features, but third-party libraries exist which offer similar functionality, e.g.<a href=\"https://github.com/kilim/kilim\" rel=\"noreferrer\">Kilim</a>.</p>\n"},{"tags":[],"owner":{"account_id":114839,"reputation":23525,"user_id":301816,"accept_rate":84,"display_name":"stevebot"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1401374328,"creation_date":1401374328,"answer_id":23936006,"question_id":16539245,"body_markdown":"There isn&#39;t anything native to java that lets you do this like async/await keywords, but what you can do if you really want to is use a [CountDownLatch][1]. You *could* then imitate async/await by passing this around (at least in Java7). This is a common practice in Android unit testing where we have to make an async call (usually a runnable posted by a handler), and then await for the result (count down). \r\n\r\nUsing this however inside your application as opposed to your test is **NOT** what I am recommending. That would be extremely shoddy as CountDownLatch depends on you effectively counting down the right number of times and in the right places. \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html","title":"Java Equivalent of C# async/await?","body":"<p>There isn't anything native to java that lets you do this like async/await keywords, but what you can do if you really want to is use a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/CountDownLatch.html\" rel=\"nofollow\">CountDownLatch</a>. You <em>could</em> then imitate async/await by passing this around (at least in Java7). This is a common practice in Android unit testing where we have to make an async call (usually a runnable posted by a handler), and then await for the result (count down). </p>\n\n<p>Using this however inside your application as opposed to your test is <strong>NOT</strong> what I am recommending. That would be extremely shoddy as CountDownLatch depends on you effectively counting down the right number of times and in the right places. </p>\n"},{"comments":[{"owner":{"account_id":74886,"reputation":26643,"user_id":214977,"accept_rate":69,"display_name":"granadaCoder"},"score":3,"creation_date":1544640376,"post_id":24568103,"comment_id":94351524,"body_markdown":"Here is an article quote restarting this answer&#39;s first paragraph  //start quote  For client applications, such as Windows Store, Windows desktop and Windows Phone apps, the primary benefit of async is responsiveness. These types of apps use async chiefly to keep the UI responsive. For server applications, the primary benefit of async is scalability.    https://msdn.microsoft.com/en-us/magazine/dn802603.aspx","body":"Here is an article quote restarting this answer&#39;s first paragraph  //start quote  For client applications, such as Windows Store, Windows desktop and Windows Phone apps, the primary benefit of async is responsiveness. These types of apps use async chiefly to keep the UI responsive. For server applications, the primary benefit of async is scalability.    <a href=\"https://msdn.microsoft.com/en-us/magazine/dn802603.aspx\" rel=\"nofollow noreferrer\">msdn.microsoft.com/en-us/magazine/dn802603.aspx</a>"}],"tags":[],"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"comment_count":1,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1687258479,"creation_date":1404455855,"answer_id":24568103,"question_id":16539245,"body_markdown":"First, understand what async/await is. It is a way for a single-threaded GUI application or an efficient server to run multiple &quot;fibers&quot; or &quot;co-routines&quot; or &quot;lightweight threads&quot; on a single thread. Of note is that it uses the cooperative form of multi-threading, as opposed to pre-emptive. It is meant to solve one of two, separate issues. The first is that the framework developer found it too hard to do concurrent programming (typical of GUI frameworks). The second is that OS threads have too much overhead, particularly memory usage (typical of server frameworks).\r\n\r\nIn case you don&#39;t have either problem, then just use regular OS multi-threading. This is often easier and faster than asynchronous programming. To launch threads, consider using `ExecutorService.submit` and `Future.get` or the upcoming `StructuredTaskScope`. Inside of those threads, use ordinary synchronous, blocking calls.\r\n\r\n*In case your problem is scalability* and OS thread overhead, then know that Java 21 offers &quot;virtual&quot; threads. These are a lot like OS threads, but use much less memory. Go has a similar feature called [goroutines](https://stackoverflow.com/questions/27789227/what-exactly-are-goroutines#27794268).\r\n\r\nFor older versions of Java, you&#39;ll need to look to your framework, which has likely implemented some sort of &quot;asynchronous&quot; optimization. Many frameworks have done this, including Servlet 3.0. These don&#39;t have the elegance of language features, though. They work through ordinary callbacks.\r\n\r\n*In case  your problem is concurrency*, then you likewise need to look at your framework. For example, JavaFX offers `javafx.concurrent.Task`.","title":"Java Equivalent of C# async/await?","body":"<p>First, understand what async/await is. It is a way for a single-threaded GUI application or an efficient server to run multiple &quot;fibers&quot; or &quot;co-routines&quot; or &quot;lightweight threads&quot; on a single thread. Of note is that it uses the cooperative form of multi-threading, as opposed to pre-emptive. It is meant to solve one of two, separate issues. The first is that the framework developer found it too hard to do concurrent programming (typical of GUI frameworks). The second is that OS threads have too much overhead, particularly memory usage (typical of server frameworks).</p>\n<p>In case you don't have either problem, then just use regular OS multi-threading. This is often easier and faster than asynchronous programming. To launch threads, consider using <code>ExecutorService.submit</code> and <code>Future.get</code> or the upcoming <code>StructuredTaskScope</code>. Inside of those threads, use ordinary synchronous, blocking calls.</p>\n<p><em>In case your problem is scalability</em> and OS thread overhead, then know that Java 21 offers &quot;virtual&quot; threads. These are a lot like OS threads, but use much less memory. Go has a similar feature called <a href=\"https://stackoverflow.com/questions/27789227/what-exactly-are-goroutines#27794268\">goroutines</a>.</p>\n<p>For older versions of Java, you'll need to look to your framework, which has likely implemented some sort of &quot;asynchronous&quot; optimization. Many frameworks have done this, including Servlet 3.0. These don't have the elegance of language features, though. They work through ordinary callbacks.</p>\n<p><em>In case  your problem is concurrency</em>, then you likewise need to look at your framework. For example, JavaFX offers <code>javafx.concurrent.Task</code>.</p>\n"},{"comments":[{"owner":{"account_id":2050029,"reputation":2394,"user_id":1829232,"accept_rate":70,"display_name":"UltimaWeapon"},"score":13,"creation_date":1467007198,"post_id":25624909,"comment_id":63533124,"body_markdown":"async/await in C# is not a Fiber. It just compiler magic that use continuation on Promise (the `Task` class) by registering a callback.","body":"async/await in C# is not a Fiber. It just compiler magic that use continuation on Promise (the <code>Task</code> class) by registering a callback."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1544803781,"post_id":25624909,"comment_id":94417909,"body_markdown":"@UltimaWeapon So what do you consider to be fibers?","body":"@UltimaWeapon So what do you consider to be fibers?"},{"owner":{"account_id":2050029,"reputation":2394,"user_id":1829232,"accept_rate":70,"display_name":"UltimaWeapon"},"score":0,"creation_date":1544869152,"post_id":25624909,"comment_id":94433894,"body_markdown":"@AleksandrDubinsky One of the example is goroutine.","body":"@AleksandrDubinsky One of the example is goroutine."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":1,"creation_date":1544949392,"post_id":25624909,"comment_id":94450059,"body_markdown":"@UltimaWeapon I was looking for an explanation.","body":"@UltimaWeapon I was looking for an explanation."},{"owner":{"account_id":2050029,"reputation":2394,"user_id":1829232,"accept_rate":70,"display_name":"UltimaWeapon"},"score":0,"creation_date":1544972747,"post_id":25624909,"comment_id":94455385,"body_markdown":"@AleksandrDubinsky I&#39;m lazy to explain it. If you really want to know you may search the article about under the hood of goroutine.","body":"@AleksandrDubinsky I&#39;m lazy to explain it. If you really want to know you may search the article about under the hood of goroutine."},{"owner":{"account_id":10832036,"reputation":159,"user_id":7966077,"display_name":"Tony B"},"score":0,"creation_date":1558972979,"post_id":25624909,"comment_id":99265887,"body_markdown":"C# async/await use is nothing to do with Fibers. It is compiler-support for simplification of callbacks used in asynchronous I/O, not for asynchronous computation state management.","body":"C# async/await use is nothing to do with Fibers. It is compiler-support for simplification of callbacks used in asynchronous I/O, not for asynchronous computation state management."},{"owner":{"account_id":1425755,"reputation":495,"user_id":1349324,"accept_rate":100,"display_name":"Surya Pratap"},"score":0,"creation_date":1562139728,"post_id":25624909,"comment_id":100279387,"body_markdown":"Asynchrony and Concurency are not same, async is related to not waiting for a task to complete before going on with the program flow this has nothing to do with threading, it can be done on same thread. Concurreny is the ability to run multiple tasks at the same time which is what threading is all about.","body":"Asynchrony and Concurency are not same, async is related to not waiting for a task to complete before going on with the program flow this has nothing to do with threading, it can be done on same thread. Concurreny is the ability to run multiple tasks at the same time which is what threading is all about."}],"tags":[],"owner":{"account_id":71616,"reputation":1101,"user_id":207131,"display_name":"FabienB"},"comment_count":7,"down_vote_count":6,"up_vote_count":21,"is_accepted":false,"score":15,"last_activity_date":1559314959,"creation_date":1409665387,"answer_id":25624909,"question_id":16539245,"body_markdown":"There is no equivalent of C# async/await in Java at the language level. A concept known as [Fibers][1] aka *cooperative threads* aka *lightweight threads* could be an interesting alternative. You can find Java libraries providing support for fibers.\r\n\r\n**Java libraries implementing Fibers**\r\n\r\n - [JetLang][2]\r\n - [Kilim][3]\r\n - [Quasar][4]\r\n\r\n\r\nYou can read [this article (from Quasar)][5] for a nice introduction to fibers. It covers what threads are, how fibers can be implemented on the JVM and has some Quasar specific code.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Fiber_(computer_science)\r\n  [2]: https://code.google.com/p/jetlang/\r\n  [3]: http://www.malhar.net/sriram/kilim/\r\n  [4]: http://docs.paralleluniverse.co/quasar/\r\n  [5]: http://blog.paralleluniverse.co/2014/02/06/fibers-threads-strands/","title":"Java Equivalent of C# async/await?","body":"<p>There is no equivalent of C# async/await in Java at the language level. A concept known as <a href=\"https://en.wikipedia.org/wiki/Fiber_(computer_science)\" rel=\"nofollow noreferrer\">Fibers</a> aka <em>cooperative threads</em> aka <em>lightweight threads</em> could be an interesting alternative. You can find Java libraries providing support for fibers.</p>\n\n<p><strong>Java libraries implementing Fibers</strong></p>\n\n<ul>\n<li><a href=\"https://code.google.com/p/jetlang/\" rel=\"nofollow noreferrer\">JetLang</a></li>\n<li><a href=\"http://www.malhar.net/sriram/kilim/\" rel=\"nofollow noreferrer\">Kilim</a></li>\n<li><a href=\"http://docs.paralleluniverse.co/quasar/\" rel=\"nofollow noreferrer\">Quasar</a></li>\n</ul>\n\n<p>You can read <a href=\"http://blog.paralleluniverse.co/2014/02/06/fibers-threads-strands/\" rel=\"nofollow noreferrer\">this article (from Quasar)</a> for a nice introduction to fibers. It covers what threads are, how fibers can be implemented on the JVM and has some Quasar specific code.</p>\n"},{"comments":[{"owner":{"account_id":31223,"reputation":39166,"user_id":85597,"accept_rate":82,"display_name":"Akash Kava"},"score":26,"creation_date":1469791918,"post_id":27978021,"comment_id":64696452,"body_markdown":"Syntatic sugar? Do you have any idea about how to wrap exceptions around async code, and loops around async code?","body":"Syntatic sugar? Do you have any idea about how to wrap exceptions around async code, and loops around async code?"},{"owner":{"account_id":1063177,"reputation":1671,"user_id":1064375,"display_name":"yeoman"},"score":69,"creation_date":1476189077,"post_id":27978021,"comment_id":67233198,"body_markdown":"Classes, too, are syntactic sugar. The compiler creates all the trees and lists of function pointers you would normally write by hand for you fully automatically. These functions / methods are syntactic sugar, too. They auto-generate all the gotos you would normally, being a real programmer, write by hand. Assembler is syntactic sugar, too. Real programmers manually write machine code and manually port it to all target architectures.","body":"Classes, too, are syntactic sugar. The compiler creates all the trees and lists of function pointers you would normally write by hand for you fully automatically. These functions / methods are syntactic sugar, too. They auto-generate all the gotos you would normally, being a real programmer, write by hand. Assembler is syntactic sugar, too. Real programmers manually write machine code and manually port it to all target architectures."},{"owner":{"account_id":1063177,"reputation":1671,"user_id":1064375,"display_name":"yeoman"},"score":51,"creation_date":1476189329,"post_id":27978021,"comment_id":67233362,"body_markdown":"Thinking abou itt, computers themselves are just syntactic sugar for l4m3 n00bz. Real programmers solder them tiny integrated circuits to a wooden board and connect them with gold wire because circuit boards are syntactic sugar, just like mass production, shoes, or food.","body":"Thinking abou itt, computers themselves are just syntactic sugar for l4m3 n00bz. Real programmers solder them tiny integrated circuits to a wooden board and connect them with gold wire because circuit boards are syntactic sugar, just like mass production, shoes, or food."},{"owner":{"account_id":2231822,"reputation":786,"user_id":1969177,"display_name":"user1969177"},"score":3,"creation_date":1632061046,"post_id":27978021,"comment_id":122386325,"body_markdown":"Right, syntactic sugar that reduces the amount of code to maintain, understand, and step through by a couple orders of magnitude is *so* hipster.","body":"Right, syntactic sugar that reduces the amount of code to maintain, understand, and step through by a couple orders of magnitude is <i>so</i> hipster."},{"owner":{"account_id":380676,"reputation":2153,"user_id":734860,"accept_rate":88,"display_name":"entonio"},"score":0,"creation_date":1669596642,"post_id":27978021,"comment_id":131671154,"body_markdown":"Something can only be called syntactic sugar when it&#39;s possible to write equivalent code that doesn&#39;t use it. That&#39;s not the case here, the things going on behind the scenes in async/await have no way to be expressed using java syntax.","body":"Something can only be called syntactic sugar when it&#39;s possible to write equivalent code that doesn&#39;t use it. That&#39;s not the case here, the things going on behind the scenes in async/await have no way to be expressed using java syntax."},{"owner":{"account_id":272494,"reputation":1333,"user_id":563603,"display_name":"Ykok"},"score":0,"creation_date":1684754920,"post_id":27978021,"comment_id":134558269,"body_markdown":".Net already had async methods in place before the introduction of async/await. And I believe java has them as well. And writing a wrapper that converts the old async methods to async/await is fairly simple.","body":".Net already had async methods in place before the introduction of async/await. And I believe java has them as well. And writing a wrapper that converts the old async methods to async/await is fairly simple."},{"owner":{"account_id":272494,"reputation":1333,"user_id":563603,"display_name":"Ykok"},"score":0,"creation_date":1684755093,"post_id":27978021,"comment_id":134558297,"body_markdown":"@entonio I&#39;m not totally sure about Java, but everything that is being done in .Net/C# now with async/await could be done before it was introduced. It would look really ugly and be hard to read, but in theory it can be done.","body":"@entonio I&#39;m not totally sure about Java, but everything that is being done in .Net/C# now with async/await could be done before it was introduced. It would look really ugly and be hard to read, but in theory it can be done."},{"owner":{"account_id":380676,"reputation":2153,"user_id":734860,"accept_rate":88,"display_name":"entonio"},"score":0,"creation_date":1684883207,"post_id":27978021,"comment_id":134581907,"body_markdown":"@Ykok a number of answers in this very page explain why async/await is fundamentally different from the regular &#39;async patterns&#39; you may find everywhere. I&#39;m not going to rehash it, the core of it is Java (still) has no yield or any other interruption+continuation mechanism. In fact, the only reason I&#39;m pointing it out is that it can lead someone to read up on how async/await really works, which is an eye opener.","body":"@Ykok a number of answers in this very page explain why async/await is fundamentally different from the regular &#39;async patterns&#39; you may find everywhere. I&#39;m not going to rehash it, the core of it is Java (still) has no yield or any other interruption+continuation mechanism. In fact, the only reason I&#39;m pointing it out is that it can lead someone to read up on how async/await really works, which is an eye opener."},{"owner":{"account_id":272494,"reputation":1333,"user_id":563603,"display_name":"Ykok"},"score":0,"creation_date":1684993244,"post_id":27978021,"comment_id":134599120,"body_markdown":"@entonio Before async/await was introduced, there were already asynchronous I/O libraries in C# ([example](https://learn.microsoft.com/en-us/dotnet/api/system.net.webclient.downloadstringasync?view=netframework-3.5)). Hence since async/await is syntactic sugar as you write, and the framework already supported asynchronous communication - then you could in fact implement the exact same functionality (which I&#39;ve tried in a demonstration project). Furthermore by utilizing the `TaskCompletionSource` you can actually wrap old asynchronous so you can expose them as methods using async/await pattern.","body":"@entonio Before async/await was introduced, there were already asynchronous I/O libraries in C# (<a href=\"https://learn.microsoft.com/en-us/dotnet/api/system.net.webclient.downloadstringasync?view=netframework-3.5\" rel=\"nofollow noreferrer\">example</a>). Hence since async/await is syntactic sugar as you write, and the framework already supported asynchronous communication - then you could in fact implement the exact same functionality (which I&#39;ve tried in a demonstration project). Furthermore by utilizing the <code>TaskCompletionSource</code> you can actually wrap old asynchronous so you can expose them as methods using async/await pattern."},{"owner":{"account_id":272494,"reputation":1333,"user_id":563603,"display_name":"Ykok"},"score":0,"creation_date":1684993745,"post_id":27978021,"comment_id":134599187,"body_markdown":"@entonio looking at java documentation there is the whole nio library - which is a non-blocking io library that&#39;s been available since java 7. This looks to support asynchronous I/O in the same sense as C# has always done. This means that implementing async/await in java could be as easy as implementing a syntactic sugar layer.","body":"@entonio looking at java documentation there is the whole nio library - which is a non-blocking io library that&#39;s been available since java 7. This looks to support asynchronous I/O in the same sense as C# has always done. This means that implementing async/await in java could be as easy as implementing a syntactic sugar layer."},{"owner":{"account_id":380676,"reputation":2153,"user_id":734860,"accept_rate":88,"display_name":"entonio"},"score":0,"creation_date":1685104923,"post_id":27978021,"comment_id":134618750,"body_markdown":"@Ykok you can spend all day looking for async libraries we all know about or you can spend a few minutes in this very page reading how async/await works and understanding why it is not a matter of syntactic sugar.","body":"@Ykok you can spend all day looking for async libraries we all know about or you can spend a few minutes in this very page reading how async/await works and understanding why it is not a matter of syntactic sugar."},{"owner":{"account_id":272494,"reputation":1333,"user_id":563603,"display_name":"Ykok"},"score":0,"creation_date":1685219425,"post_id":27978021,"comment_id":134632108,"body_markdown":"@entonio I understand async/await quite well thank you. And async/await **is** in fact syntactic sugar. As I wrote I have implementing the same logic with and without async/await. I suggest you read up on async/await. You can start [on this microsoft page](https://learn.microsoft.com/en-us/dotnet/csharp/asynchronous-programming/async-scenarios) where it states &quot;the compiler transforms your code into a state machine&quot;. On this page there is also a link to a microsoft developer who has written a [page on how async/await works](https://devblogs.microsoft.com/dotnet/how-async-await-really-works/).","body":"@entonio I understand async/await quite well thank you. And async/await <b>is</b> in fact syntactic sugar. As I wrote I have implementing the same logic with and without async/await. I suggest you read up on async/await. You can start <a href=\"https://learn.microsoft.com/en-us/dotnet/csharp/asynchronous-programming/async-scenarios\" rel=\"nofollow noreferrer\">on this microsoft page</a> where it states &quot;the compiler transforms your code into a state machine&quot;. On this page there is also a link to a microsoft developer who has written a <a href=\"https://devblogs.microsoft.com/dotnet/how-async-await-really-works/\" rel=\"nofollow noreferrer\">page on how async/await works</a>."},{"owner":{"account_id":380676,"reputation":2153,"user_id":734860,"accept_rate":88,"display_name":"entonio"},"score":0,"creation_date":1685289269,"post_id":27978021,"comment_id":134637816,"body_markdown":"@Ykok if you read your second link, you should know what `yield` is. Java has no `yield`.","body":"@Ykok if you read your second link, you should know what <code>yield</code> is. Java has no <code>yield</code>."},{"owner":{"account_id":380676,"reputation":2153,"user_id":734860,"accept_rate":88,"display_name":"entonio"},"score":0,"creation_date":1685289528,"post_id":27978021,"comment_id":134637854,"body_markdown":"Here&#39;s an explanation of how async/await work differently from the callback pattern: https://blog.stephencleary.com/2013/11/there-is-no-thread.html","body":"Here&#39;s an explanation of how async/await work differently from the callback pattern: <a href=\"https://blog.stephencleary.com/2013/11/there-is-no-thread.html\" rel=\"nofollow noreferrer\">blog.stephencleary.com/2013/11/there-is-no-thread.html</a>"},{"owner":{"account_id":272494,"reputation":1333,"user_id":563603,"display_name":"Ykok"},"score":0,"creation_date":1685563171,"post_id":27978021,"comment_id":134679440,"body_markdown":"@entonio Even though Java has no `yield` it is still possible to utilize the callback mechanism and create code that executes as if you had written async/await. You can still write what you meant to write after `await` in your callback method (it would still be rather unreadable).","body":"@entonio Even though Java has no <code>yield</code> it is still possible to utilize the callback mechanism and create code that executes as if you had written async/await. You can still write what you meant to write after <code>await</code> in your callback method (it would still be rather unreadable)."},{"owner":{"account_id":272494,"reputation":1333,"user_id":563603,"display_name":"Ykok"},"score":0,"creation_date":1685563710,"post_id":27978021,"comment_id":134679533,"body_markdown":"@entonio Great article (I&#39;ve read it before, and I&#39;ve written with author in the past). And I agree that the two patterns are different and doesn&#39;t look alike. They just accomplish the same thing when used for asynchronous methods.","body":"@entonio Great article (I&#39;ve read it before, and I&#39;ve written with author in the past). And I agree that the two patterns are different and doesn&#39;t look alike. They just accomplish the same thing when used for asynchronous methods."}],"tags":[],"owner":{"account_id":3892351,"reputation":361,"user_id":3222183,"display_name":"caisx25"},"comment_count":16,"down_vote_count":10,"up_vote_count":24,"is_accepted":false,"score":14,"last_activity_date":1421387461,"creation_date":1421387461,"answer_id":27978021,"question_id":16539245,"body_markdown":"**async** and **await** are syntactic sugars. The essence of async and await is state machine. The compiler will transform your async/await code into a state machine.\r\n\r\nAt the same time, in order for async/await to be really practicable in real projects, we need to have lots of **Async I/O library functions** already in place. For C#, most original synchronized I/O functions has an alternative Async version. The reason we need these Async functions is because in most cases, your own async/await code will boil down to some library Async method. \r\n\r\nThe Async version library functions in C# is kind of like the AsynchronousChannel concept in Java. For example, we have AsynchronousFileChannel.read which can either return a Future or execute a callback after the read operation is done. But it’s not exactly the same. All C# Async functions return Tasks (similar to Future but more powerful than Future).\r\n\r\nSo let’s say Java do support async/await, and we write some code like this:\r\n\r\n    public static async Future&lt;Byte&gt; readFirstByteAsync(String filePath) {\r\n        Path path = Paths.get(filePath);\r\n        AsynchronousFileChannel channel = AsynchronousFileChannel.open(path);\r\n\t\t\r\n        ByteBuffer buffer = ByteBuffer.allocate(100_000);\r\n        await channel.read(buffer, 0, buffer, this);\r\n        return buffer.get(0);\r\n    }\r\n\r\nThen I would imagine the compiler will transform the original async/await code into something like this:\r\n\r\n\tpublic static Future&lt;Byte&gt; readFirstByteAsync(String filePath) {\r\n\t\t\r\n\t\tCompletableFuture&lt;Byte&gt; result = new CompletableFuture&lt;Byte&gt;();\r\n\r\n\t\tAsyncHandler ah = new AsyncHandler(result, filePath);\r\n\t\t\r\n\t\tah.completed(null, null);\r\n\r\n\t\treturn result;\r\n\t}\r\nAnd here is the implementation for AsyncHandler:\r\n\r\n    class AsyncHandler implements CompletionHandler&lt;Integer, ByteBuffer&gt;\r\n    {\r\n        CompletableFuture&lt;Byte&gt; future;\r\n        int state;\r\n        String filePath;\r\n\r\n        public AsyncHandler(CompletableFuture&lt;Byte&gt; future, String filePath)\r\n        {\r\n            this.future = future;\r\n            this.state = 0;\r\n            this.filePath = filePath;\r\n        }\r\n\r\n        @Override\r\n        public void completed(Integer arg0, ByteBuffer arg1) {\r\n            try {\r\n                if (state == 0) {\r\n                    state = 1;\r\n                    Path path = Paths.get(filePath);\r\n                    AsynchronousFileChannel channel = AsynchronousFileChannel.open(path);\r\n                    \r\n                    ByteBuffer buffer = ByteBuffer.allocate(100_000);\r\n                    channel.read(buffer, 0, buffer, this);\r\n                    return;\r\n                } else {\r\n                    Byte ret = arg1.get(0);\r\n                    future.complete(ret);\r\n                }\r\n                \r\n            } catch (Exception e) {\r\n                future.completeExceptionally(e);\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void failed(Throwable arg0, ByteBuffer arg1) {\r\n            future.completeExceptionally(arg0);\r\n        }\r\n    }\r\n\r\n","title":"Java Equivalent of C# async/await?","body":"<p><strong>async</strong> and <strong>await</strong> are syntactic sugars. The essence of async and await is state machine. The compiler will transform your async/await code into a state machine.</p>\n\n<p>At the same time, in order for async/await to be really practicable in real projects, we need to have lots of <strong>Async I/O library functions</strong> already in place. For C#, most original synchronized I/O functions has an alternative Async version. The reason we need these Async functions is because in most cases, your own async/await code will boil down to some library Async method. </p>\n\n<p>The Async version library functions in C# is kind of like the AsynchronousChannel concept in Java. For example, we have AsynchronousFileChannel.read which can either return a Future or execute a callback after the read operation is done. But it’s not exactly the same. All C# Async functions return Tasks (similar to Future but more powerful than Future).</p>\n\n<p>So let’s say Java do support async/await, and we write some code like this:</p>\n\n<pre><code>public static async Future&lt;Byte&gt; readFirstByteAsync(String filePath) {\n    Path path = Paths.get(filePath);\n    AsynchronousFileChannel channel = AsynchronousFileChannel.open(path);\n\n    ByteBuffer buffer = ByteBuffer.allocate(100_000);\n    await channel.read(buffer, 0, buffer, this);\n    return buffer.get(0);\n}\n</code></pre>\n\n<p>Then I would imagine the compiler will transform the original async/await code into something like this:</p>\n\n<pre><code>public static Future&lt;Byte&gt; readFirstByteAsync(String filePath) {\n\n    CompletableFuture&lt;Byte&gt; result = new CompletableFuture&lt;Byte&gt;();\n\n    AsyncHandler ah = new AsyncHandler(result, filePath);\n\n    ah.completed(null, null);\n\n    return result;\n}\n</code></pre>\n\n<p>And here is the implementation for AsyncHandler:</p>\n\n<pre><code>class AsyncHandler implements CompletionHandler&lt;Integer, ByteBuffer&gt;\n{\n    CompletableFuture&lt;Byte&gt; future;\n    int state;\n    String filePath;\n\n    public AsyncHandler(CompletableFuture&lt;Byte&gt; future, String filePath)\n    {\n        this.future = future;\n        this.state = 0;\n        this.filePath = filePath;\n    }\n\n    @Override\n    public void completed(Integer arg0, ByteBuffer arg1) {\n        try {\n            if (state == 0) {\n                state = 1;\n                Path path = Paths.get(filePath);\n                AsynchronousFileChannel channel = AsynchronousFileChannel.open(path);\n\n                ByteBuffer buffer = ByteBuffer.allocate(100_000);\n                channel.read(buffer, 0, buffer, this);\n                return;\n            } else {\n                Byte ret = arg1.get(0);\n                future.complete(ret);\n            }\n\n        } catch (Exception e) {\n            future.completeExceptionally(e);\n        }\n    }\n\n    @Override\n    public void failed(Throwable arg0, ByteBuffer arg1) {\n        future.completeExceptionally(arg0);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":552813,"reputation":401,"user_id":918058,"display_name":"haimb"},"score":4,"creation_date":1547619607,"post_id":28416646,"comment_id":95248718,"body_markdown":"Actually, that&#39;s the equivalent of the happy flow.\nIt doesn&#39;t cover handling exceptions, finally and others.\nIncluding them will make the code much more complex and more prone to errors.","body":"Actually, that&#39;s the equivalent of the happy flow. It doesn&#39;t cover handling exceptions, finally and others. Including them will make the code much more complex and more prone to errors."},{"owner":{"account_id":1175385,"reputation":22626,"user_id":1151521,"accept_rate":77,"display_name":"Aleksandr Dubinsky"},"score":6,"creation_date":1573595572,"post_id":28416646,"comment_id":103930925,"body_markdown":"This isn&#39;t a continuation. This example misses the real purpose of async/await, which is to release the current thread to execute other things, and then to continue execution of this method on the current thread after a response arrives. (This is either necessary for the UI thread to be responsive, or to reduce memory usage.) What this example does is a plain blocking thread synchronization, plus some callbacks.","body":"This isn&#39;t a continuation. This example misses the real purpose of async/await, which is to release the current thread to execute other things, and then to continue execution of this method on the current thread after a response arrives. (This is either necessary for the UI thread to be responsive, or to reduce memory usage.) What this example does is a plain blocking thread synchronization, plus some callbacks."},{"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"score":1,"creation_date":1573652242,"post_id":28416646,"comment_id":103950994,"body_markdown":"@AleksandrDubinsky I agree with you when you point that the callback may not run on the caller thread. You are right. I disagree about blocking a thread. My updated answer of _UPDATED on 25-05-2016_ is non-blocking.","body":"@AleksandrDubinsky I agree with you when you point that the callback may not run on the caller thread. You are right. I disagree about blocking a thread. My updated answer of <i>UPDATED on 25-05-2016</i> is non-blocking."},{"owner":{"account_id":3315377,"reputation":475,"user_id":2787886,"accept_rate":0,"display_name":"spyro"},"score":3,"creation_date":1576172229,"post_id":28416646,"comment_id":104822212,"body_markdown":".... and this sample is exactly the reason why C# is so much simpler to write and read when doing asynchronous stuff. It&#39;s just a pain in Java.","body":".... and this sample is exactly the reason why C# is so much simpler to write and read when doing asynchronous stuff. It&#39;s just a pain in Java."}],"tags":[],"owner":{"account_id":1161310,"reputation":8921,"user_id":1140754,"accept_rate":70,"display_name":"Miguel Gamboa"},"comment_count":4,"down_vote_count":2,"up_vote_count":54,"is_accepted":false,"score":52,"last_activity_date":1492551425,"creation_date":1423506164,"answer_id":28416646,"question_id":16539245,"body_markdown":"The `await` uses a continuation to execute additional code when the asynchronous operation completes (`client.GetStringAsync(...)`). \r\n\r\nSo, as the most close approximation I would use a `CompletableFuture&lt;T&gt;` (the Java 8 equivalent to .net `Task&lt;TResult&gt;`) based solution to process the Http request asynchronously. \r\n\r\n**UPDATED on 25-05-2016 to [AsyncHttpClient](https://github.com/AsyncHttpClient/async-http-client) v.2 released on Abril 13th of 2016:**\r\n\r\nSo the Java 8 equivalent to the OP example of ` AccessTheWebAsync()` is the following:\r\n\r\n    CompletableFuture&lt;Integer&gt; AccessTheWebAsync()\r\n    {\r\n        AsyncHttpClient asyncHttpClient = new DefaultAsyncHttpClient();\r\n        return asyncHttpClient\r\n           .prepareGet(&quot;http://msdn.microsoft.com&quot;)\r\n           .execute()\r\n           .toCompletableFuture()\r\n           .thenApply(Response::getResponseBody)\r\n           .thenApply(String::length);\r\n    }\r\n\r\nThis usage was taken from the answer to [How do I get a CompletableFuture&lt;T&gt; from an Async Http Client request?](https://stackoverflow.com/a/37437643/1140754)\r\nand which is according to the new API provided in version 2 of [AsyncHttpClient](https://github.com/AsyncHttpClient/async-http-client) released on Abril 13th of 2016, that has already intrinsic support for `CompletableFuture&lt;T&gt;`.\r\n\r\n**Original answer using version 1 of AsyncHttpClient:**\r\n\r\nTo that end we have two possible approaches: \r\n\r\n   * the first one uses non-blocking IO and I call it ` AccessTheWebAsyncNio`. Yet, because the `AsyncCompletionHandler` is an abstract class (instead of a functional interface) we cannot pass a lambda as argument. So it incurs in inevitable verbosity due to the syntax of anonymous classes. However, **this solution is the most close to the  execution flow of the given C\\# example**.\r\n\r\n   * the second one is slightly less verbose however it will submit a new _Task_ that ultimately will block a thread on `f.get()` until the response is complete.\r\n\r\n**First approach**, more verbose but non-blocking:\r\n\r\n    static CompletableFuture&lt;Integer&gt; AccessTheWebAsyncNio(){\r\n        final AsyncHttpClient asyncHttpClient = new AsyncHttpClient();\r\n        final CompletableFuture&lt;Integer&gt; promise = new CompletableFuture&lt;&gt;();\r\n        asyncHttpClient\r\n            .prepareGet(&quot;https://msdn.microsoft.com&quot;)\r\n            .execute(new AsyncCompletionHandler&lt;Response&gt;(){\r\n                @Override\r\n                public Response onCompleted(Response resp) throws Exception {\r\n                    promise.complete(resp.getResponseBody().length());\r\n                    return resp;\r\n                }\r\n            });\r\n        return promise;\r\n    }\r\n\r\n**Second approach** less verbose but blocking a thread:\r\n\r\n    static CompletableFuture&lt;Integer&gt; AccessTheWebAsync(){\r\n        try(AsyncHttpClient asyncHttpClient = new AsyncHttpClient()){\r\n            Future&lt;Response&gt; f = asyncHttpClient\r\n                .prepareGet(&quot;https://msdn.microsoft.com&quot;)\r\n                .execute();\r\n            return CompletableFuture.supplyAsync(\r\n                () -&gt; return f.join().getResponseBody().length());\r\n        }\r\n    }\r\n","title":"Java Equivalent of C# async/await?","body":"<p>The <code>await</code> uses a continuation to execute additional code when the asynchronous operation completes (<code>client.GetStringAsync(...)</code>). </p>\n\n<p>So, as the most close approximation I would use a <code>CompletableFuture&lt;T&gt;</code> (the Java 8 equivalent to .net <code>Task&lt;TResult&gt;</code>) based solution to process the Http request asynchronously. </p>\n\n<p><strong>UPDATED on 25-05-2016 to <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"noreferrer\">AsyncHttpClient</a> v.2 released on Abril 13th of 2016:</strong></p>\n\n<p>So the Java 8 equivalent to the OP example of <code>AccessTheWebAsync()</code> is the following:</p>\n\n<pre><code>CompletableFuture&lt;Integer&gt; AccessTheWebAsync()\n{\n    AsyncHttpClient asyncHttpClient = new DefaultAsyncHttpClient();\n    return asyncHttpClient\n       .prepareGet(\"http://msdn.microsoft.com\")\n       .execute()\n       .toCompletableFuture()\n       .thenApply(Response::getResponseBody)\n       .thenApply(String::length);\n}\n</code></pre>\n\n<p>This usage was taken from the answer to <a href=\"https://stackoverflow.com/a/37437643/1140754\">How do I get a CompletableFuture from an Async Http Client request?</a>\nand which is according to the new API provided in version 2 of <a href=\"https://github.com/AsyncHttpClient/async-http-client\" rel=\"noreferrer\">AsyncHttpClient</a> released on Abril 13th of 2016, that has already intrinsic support for <code>CompletableFuture&lt;T&gt;</code>.</p>\n\n<p><strong>Original answer using version 1 of AsyncHttpClient:</strong></p>\n\n<p>To that end we have two possible approaches: </p>\n\n<ul>\n<li><p>the first one uses non-blocking IO and I call it <code>AccessTheWebAsyncNio</code>. Yet, because the <code>AsyncCompletionHandler</code> is an abstract class (instead of a functional interface) we cannot pass a lambda as argument. So it incurs in inevitable verbosity due to the syntax of anonymous classes. However, <strong>this solution is the most close to the  execution flow of the given C# example</strong>.</p></li>\n<li><p>the second one is slightly less verbose however it will submit a new <em>Task</em> that ultimately will block a thread on <code>f.get()</code> until the response is complete.</p></li>\n</ul>\n\n<p><strong>First approach</strong>, more verbose but non-blocking:</p>\n\n<pre><code>static CompletableFuture&lt;Integer&gt; AccessTheWebAsyncNio(){\n    final AsyncHttpClient asyncHttpClient = new AsyncHttpClient();\n    final CompletableFuture&lt;Integer&gt; promise = new CompletableFuture&lt;&gt;();\n    asyncHttpClient\n        .prepareGet(\"https://msdn.microsoft.com\")\n        .execute(new AsyncCompletionHandler&lt;Response&gt;(){\n            @Override\n            public Response onCompleted(Response resp) throws Exception {\n                promise.complete(resp.getResponseBody().length());\n                return resp;\n            }\n        });\n    return promise;\n}\n</code></pre>\n\n<p><strong>Second approach</strong> less verbose but blocking a thread:</p>\n\n<pre><code>static CompletableFuture&lt;Integer&gt; AccessTheWebAsync(){\n    try(AsyncHttpClient asyncHttpClient = new AsyncHttpClient()){\n        Future&lt;Response&gt; f = asyncHttpClient\n            .prepareGet(\"https://msdn.microsoft.com\")\n            .execute();\n        return CompletableFuture.supplyAsync(\n            () -&gt; return f.join().getResponseBody().length());\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1868029,"reputation":442,"user_id":1691072,"display_name":"pratikpc"},"score":0,"creation_date":1609733705,"post_id":28795097,"comment_id":115906113,"body_markdown":"How would you handle String x = await f(); if(x == &quot;Facebook&quot;) { LongAsyncFuncToRunFacebook();} else {LongAsyncFuncToRunSomethingElse();} AfterIfElseRunSomethingNewJustForFun();","body":"How would you handle String x = await f(); if(x == &quot;Facebook&quot;) { LongAsyncFuncToRunFacebook();} else {LongAsyncFuncToRunSomethingElse();} AfterIfElseRunSomethingNewJustForFun();"}],"tags":[],"owner":{"account_id":5866777,"reputation":29,"user_id":4620465,"display_name":"stofu"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1425222461,"creation_date":1425222461,"answer_id":28795097,"question_id":16539245,"body_markdown":"I make and released Java async/await library.\r\nhttps://github.com/stofu1234/kamaitachi\r\n\r\nThis library don&#39;t need compiler extension, and realize stackless IO processing in Java.\r\n\r\n        async Task&lt;int&gt; AccessTheWebAsync(){ \r\n            HttpClient client= new HttpClient();\r\n            var urlContents= await client.GetStringAsync(&quot;http://msdn.microsoft.com&quot;);\r\n      　    return urlContents.Length;\r\n        }\r\n　　　↓\r\n\r\n        //LikeWebApplicationTester.java\r\n        BlockingQueue&lt;Integer&gt; AccessTheWebAsync() {\r\n\t\t   HttpClient client = new HttpClient();\r\n\t\t   return awaiter.await(\r\n\t\t\t\t() -&gt; client.GetStringAsync(&quot;http://msdn.microsoft.com&quot;),\r\n\t\t\t\turlContents -&gt; {\r\n\t\t\t\t\treturn urlContents.length();\r\n\t\t\t\t});\r\n\t    }\r\n\t    public void doget(){\r\n\t\t    BlockingQueue&lt;Integer&gt; lengthQueue=AccessTheWebAsync();\r\n\t\t    awaiter.awaitVoid(()-&gt;lengthQueue.take(),\r\n\t\t\t\tlength-&gt;{\r\n\t\t\t\t\tSystem.out.println(&quot;Length:&quot;+length);\r\n\t\t\t\t}\r\n\t\t\t\t);\r\n\t    }","title":"Java Equivalent of C# async/await?","body":"<p>I make and released Java async/await library.\n<a href=\"https://github.com/stofu1234/kamaitachi\" rel=\"nofollow\">https://github.com/stofu1234/kamaitachi</a></p>\n\n<p>This library don't need compiler extension, and realize stackless IO processing in Java.</p>\n\n<pre><code>    async Task&lt;int&gt; AccessTheWebAsync(){ \n        HttpClient client= new HttpClient();\n        var urlContents= await client.GetStringAsync(\"http://msdn.microsoft.com\");\n  　    return urlContents.Length;\n    }\n</code></pre>\n\n<p>　　　↓</p>\n\n<pre><code>    //LikeWebApplicationTester.java\n    BlockingQueue&lt;Integer&gt; AccessTheWebAsync() {\n       HttpClient client = new HttpClient();\n       return awaiter.await(\n            () -&gt; client.GetStringAsync(\"http://msdn.microsoft.com\"),\n            urlContents -&gt; {\n                return urlContents.length();\n            });\n    }\n    public void doget(){\n        BlockingQueue&lt;Integer&gt; lengthQueue=AccessTheWebAsync();\n        awaiter.awaitVoid(()-&gt;lengthQueue.take(),\n            length-&gt;{\n                System.out.println(\"Length:\"+length);\n            }\n            );\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1657795,"reputation":2619,"user_id":2771718,"display_name":"Piotr Kołaczkowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441992833,"creation_date":1441992833,"answer_id":32529113,"question_id":16539245,"body_markdown":"Java has unfortunately no equivalent of async/await. The closest you can get is probably with ListenableFuture from Guava and listener chaining, but it would be still very cumbersome to write for cases involving multiple asynchronous calls, as the nesting level would very quickly grow.\r\n\r\nIf you&#39;re ok with using a different language on top of JVM, fortunately there is async/await in Scala which is a direct C# async/await equivalent with an almost identical syntax and semantics:\r\nhttps://github.com/scala/async/  \r\n\r\nNote that although this functionality needed a pretty advanced compiler support in C#, in Scala it could be added as a library thanks to a very powerful  macro system in Scala and therefore can be added even to older versions of Scala like 2.10. Additionally Scala is class-compatible with Java, so you can write the async code in Scala and then call it from Java.\r\n\r\nThere is also another similar project called Akka Dataflow http://doc.akka.io/docs/akka/2.3-M1/scala/dataflow.html which uses different wording but conceptually is very similar, however implemented using delimited continuations, not macros (so it works with even older Scala versions like 2.9).","title":"Java Equivalent of C# async/await?","body":"<p>Java has unfortunately no equivalent of async/await. The closest you can get is probably with ListenableFuture from Guava and listener chaining, but it would be still very cumbersome to write for cases involving multiple asynchronous calls, as the nesting level would very quickly grow.</p>\n\n<p>If you're ok with using a different language on top of JVM, fortunately there is async/await in Scala which is a direct C# async/await equivalent with an almost identical syntax and semantics:\n<a href=\"https://github.com/scala/async/\" rel=\"nofollow\">https://github.com/scala/async/</a>  </p>\n\n<p>Note that although this functionality needed a pretty advanced compiler support in C#, in Scala it could be added as a library thanks to a very powerful  macro system in Scala and therefore can be added even to older versions of Scala like 2.10. Additionally Scala is class-compatible with Java, so you can write the async code in Scala and then call it from Java.</p>\n\n<p>There is also another similar project called Akka Dataflow <a href=\"http://doc.akka.io/docs/akka/2.3-M1/scala/dataflow.html\" rel=\"nofollow\">http://doc.akka.io/docs/akka/2.3-M1/scala/dataflow.html</a> which uses different wording but conceptually is very similar, however implemented using delimited continuations, not macros (so it works with even older Scala versions like 2.9).</p>\n"},{"tags":[],"owner":{"account_id":7334204,"reputation":199,"user_id":5586158,"display_name":"Valery Silaev"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1448540969,"creation_date":1448540969,"answer_id":33938778,"question_id":16539245,"body_markdown":"As it was mentioned, there is no direct equivalent, but very close approximation could be created with Java bytecode modifications (for both async/await-like instructions and underlying continuations implementation).\r\n\r\nI&#39;m working right now on a project that implements async/await on top of [JavaFlow continuation](https://github.com/vsilaev/java-continuations) library, please check https://github.com/vsilaev/java-async-await\r\n\r\nNo Maven mojo is created yet, but you may run examples with supplied Java agent. Here is how async/await code looks like:\r\n\r\n    public class AsyncAwaitNioFileChannelDemo {\r\n\r\n\tpublic static void main(final String[] argv) throws Exception {\r\n\t\t\r\n\t\t...\r\n\t\tfinal AsyncAwaitNioFileChannelDemo demo = new AsyncAwaitNioFileChannelDemo();\r\n\t\tfinal CompletionStage&lt;String&gt; result = demo.processFile(&quot;./.project&quot;);\r\n\t\tSystem.out.println(&quot;Returned to caller &quot; + LocalTime.now());\r\n\t\t...\r\n\t}\r\n\t\r\n\t\r\n\tpublic @async CompletionStage&lt;String&gt; processFile(final String fileName) throws IOException {\r\n\t\tfinal Path path = Paths.get(new File(fileName).toURI());\r\n\t\ttry (\r\n\t\t\t\tfinal AsyncFileChannel file = new AsyncFileChannel(\r\n\t\t\t\t\tpath, Collections.singleton(StandardOpenOption.READ), null\r\n\t\t\t\t); \t\t\t\t\r\n\t\t\t\tfinal FileLock lock = await(file.lockAll(true))\r\n\t\t\t) {\r\n\r\n\t\t\tSystem.out.println(&quot;In process, shared lock: &quot; + lock);\r\n\t\t\tfinal ByteBuffer buffer = ByteBuffer.allocateDirect((int)file.size());\r\n\t\t\t\r\n\t\t\tawait( file.read(buffer, 0L) );\r\n\t\t\tSystem.out.println(&quot;In process, bytes read: &quot; + buffer);\r\n\t\t\tbuffer.rewind();\r\n   \r\n\t\t\tfinal String result = processBytes(buffer);\r\n\t\t\t \r\n\t\t\treturn asyncResult(result);\r\n\t\t\t\r\n\t\t} catch (final IOException ex) {\r\n\t\t\tex.printStackTrace(System.out);\r\n\t\t\tthrow ex;\r\n\t\t}\r\n\t}\r\n\r\n@async is the annotation that flags a method as asynchronously executable, await() is a function that waits on CompletableFuture using continuations and a call to &quot;return asyncResult(someValue)&quot; is what finalizes associated CompletableFuture/Continuation\r\n\r\nAs with C#, control flow is preserved and exception handling may be done in regular manner (try/catch like in sequentially executed code)","title":"Java Equivalent of C# async/await?","body":"<p>As it was mentioned, there is no direct equivalent, but very close approximation could be created with Java bytecode modifications (for both async/await-like instructions and underlying continuations implementation).</p>\n\n<p>I'm working right now on a project that implements async/await on top of <a href=\"https://github.com/vsilaev/java-continuations\">JavaFlow continuation</a> library, please check <a href=\"https://github.com/vsilaev/java-async-await\">https://github.com/vsilaev/java-async-await</a></p>\n\n<p>No Maven mojo is created yet, but you may run examples with supplied Java agent. Here is how async/await code looks like:</p>\n\n<pre><code>public class AsyncAwaitNioFileChannelDemo {\n\npublic static void main(final String[] argv) throws Exception {\n\n    ...\n    final AsyncAwaitNioFileChannelDemo demo = new AsyncAwaitNioFileChannelDemo();\n    final CompletionStage&lt;String&gt; result = demo.processFile(\"./.project\");\n    System.out.println(\"Returned to caller \" + LocalTime.now());\n    ...\n}\n\n\npublic @async CompletionStage&lt;String&gt; processFile(final String fileName) throws IOException {\n    final Path path = Paths.get(new File(fileName).toURI());\n    try (\n            final AsyncFileChannel file = new AsyncFileChannel(\n                path, Collections.singleton(StandardOpenOption.READ), null\n            );              \n            final FileLock lock = await(file.lockAll(true))\n        ) {\n\n        System.out.println(\"In process, shared lock: \" + lock);\n        final ByteBuffer buffer = ByteBuffer.allocateDirect((int)file.size());\n\n        await( file.read(buffer, 0L) );\n        System.out.println(\"In process, bytes read: \" + buffer);\n        buffer.rewind();\n\n        final String result = processBytes(buffer);\n\n        return asyncResult(result);\n\n    } catch (final IOException ex) {\n        ex.printStackTrace(System.out);\n        throw ex;\n    }\n}\n</code></pre>\n\n<p>@async is the annotation that flags a method as asynchronously executable, await() is a function that waits on CompletableFuture using continuations and a call to \"return asyncResult(someValue)\" is what finalizes associated CompletableFuture/Continuation</p>\n\n<p>As with C#, control flow is preserved and exception handling may be done in regular manner (try/catch like in sequentially executed code)</p>\n"},{"tags":[],"owner":{"account_id":205116,"reputation":2304,"user_id":453702,"display_name":"Pellet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461123736,"creation_date":1461123736,"answer_id":36733411,"question_id":16539245,"body_markdown":"If you&#39;re just after clean code which simulates the same effect as async/await in java and don&#39;t mind blocking the thread it is called on until it is finished, such as in a test, you could use something like this code:\r\n\r\n    \r\n    interface Async {\r\n        void run(Runnable handler);\r\n    }\r\n\r\n    static void await(Async async) throws InterruptedException {\r\n\r\n        final CountDownLatch countDownLatch = new CountDownLatch(1);\r\n        async.run(new Runnable() {\r\n\r\n            @Override\r\n            public void run() {\r\n                countDownLatch.countDown();\r\n            }\r\n        });\r\n        countDownLatch.await(YOUR_TIMEOUT_VALUE_IN_SECONDS, TimeUnit.SECONDS);\r\n    }\r\n\r\n        await(new Async() {\r\n            @Override\r\n            public void run(final Runnable handler) {\r\n                yourAsyncMethod(new CompletionHandler() {\r\n\r\n                    @Override\r\n                    public void completion() {\r\n                        handler.run();\r\n                    }\r\n                });\r\n            }\r\n        });","title":"Java Equivalent of C# async/await?","body":"<p>If you're just after clean code which simulates the same effect as async/await in java and don't mind blocking the thread it is called on until it is finished, such as in a test, you could use something like this code:</p>\n\n<pre><code>interface Async {\n    void run(Runnable handler);\n}\n\nstatic void await(Async async) throws InterruptedException {\n\n    final CountDownLatch countDownLatch = new CountDownLatch(1);\n    async.run(new Runnable() {\n\n        @Override\n        public void run() {\n            countDownLatch.countDown();\n        }\n    });\n    countDownLatch.await(YOUR_TIMEOUT_VALUE_IN_SECONDS, TimeUnit.SECONDS);\n}\n\n    await(new Async() {\n        @Override\n        public void run(final Runnable handler) {\n            yourAsyncMethod(new CompletionHandler() {\n\n                @Override\n                public void completion() {\n                    handler.run();\n                }\n            });\n        }\n    });\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6529610,"reputation":1563,"user_id":5051165,"accept_rate":67,"display_name":"Matt Welke"},"score":2,"creation_date":1622312068,"post_id":58136642,"comment_id":119759234,"body_markdown":"I&#39;m looking forward to this. I&#39;m learning Java, coming from Node.js and Go, and this is painful. Node.js has async/await (the colored function problem never bothered me much) and Go has goroutines so you just write blocking code in the millions of cheap goroutines you spawn. Java seems to have neither and needs me to use things like java.util.concurrent or RxJava to make my code non-blocking. If my understanding of Project Loom is correct, it&#39;ll make coding asynchronous things in Java as easy as Go. You&#39;d just write blocking code without worrying about running out of &quot;threads&quot; able to execute.","body":"I&#39;m looking forward to this. I&#39;m learning Java, coming from Node.js and Go, and this is painful. Node.js has async/await (the colored function problem never bothered me much) and Go has goroutines so you just write blocking code in the millions of cheap goroutines you spawn. Java seems to have neither and needs me to use things like java.util.concurrent or RxJava to make my code non-blocking. If my understanding of Project Loom is correct, it&#39;ll make coding asynchronous things in Java as easy as Go. You&#39;d just write blocking code without worrying about running out of &quot;threads&quot; able to execute."},{"owner":{"account_id":5608163,"reputation":214,"user_id":4441927,"display_name":"Martin Obr&#225;til"},"score":1,"creation_date":1628694632,"post_id":58136642,"comment_id":121491290,"body_markdown":"@MattWelke Yes, that&#39;s correct understanding.","body":"@MattWelke Yes, that&#39;s correct understanding."}],"tags":[],"owner":{"account_id":5608163,"reputation":214,"user_id":4441927,"display_name":"Martin Obr&#225;til"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1696342493,"creation_date":1569594877,"answer_id":58136642,"question_id":16539245,"body_markdown":"Java doesn&#39;t have a direct equivalent to the C# language feature called async/await. However, starting from OpenJDK 21, Java introduced [virtual threads][1], which provide a lightweight mechanism for concurrency. Unlike traditional threads, virtual threads significantly reduce overhead, allowing for the spawning of millions of threads without running into scalability issues.\r\n\r\nAdditionally, the virtual thread approach in Java addresses the &quot;[colored function problem][3]&quot; associated with async/await.\r\n\r\nA similar concurrency mechanism is present in Golang, known as [goroutines][2].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html\r\n  [2]: https://tour.golang.org/concurrency/1\r\n  [3]: https://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/","title":"Java Equivalent of C# async/await?","body":"<p>Java doesn't have a direct equivalent to the C# language feature called async/await. However, starting from OpenJDK 21, Java introduced <a href=\"https://docs.oracle.com/en/java/javase/21/core/virtual-threads.html\" rel=\"nofollow noreferrer\">virtual threads</a>, which provide a lightweight mechanism for concurrency. Unlike traditional threads, virtual threads significantly reduce overhead, allowing for the spawning of millions of threads without running into scalability issues.</p>\n<p>Additionally, the virtual thread approach in Java addresses the &quot;<a href=\"https://journal.stuffwithstuff.com/2015/02/01/what-color-is-your-function/\" rel=\"nofollow noreferrer\">colored function problem</a>&quot; associated with async/await.</p>\n<p>A similar concurrency mechanism is present in Golang, known as <a href=\"https://tour.golang.org/concurrency/1\" rel=\"nofollow noreferrer\">goroutines</a>.</p>\n"},{"comments":[{"owner":{"account_id":248860,"reputation":2568,"user_id":524504,"accept_rate":75,"display_name":"masterxilo"},"score":1,"creation_date":1655393870,"post_id":66524653,"comment_id":128326816,"body_markdown":"here&#39;s an article about it: https://dzone.com/articles/async-await-in-java","body":"here&#39;s an article about it: <a href=\"https://dzone.com/articles/async-await-in-java\" rel=\"nofollow noreferrer\">dzone.com/articles/async-await-in-java</a>"}],"tags":[],"owner":{"account_id":13085809,"reputation":824,"user_id":9454812,"display_name":"walter33"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1615180707,"creation_date":1615180707,"answer_id":66524653,"question_id":16539245,"body_markdown":"There is an &quot;equivalent&quot; of await developed by EA: https://github.com/electronicarts/ea-async. Refer to the Java example code:\r\n\r\n    import static com.ea.async.Async.await;\r\n    import static java.util.concurrent.CompletableFuture.completedFuture;\r\n    \r\n    public class Store\r\n    {\r\n        public CompletableFuture&lt;Boolean&gt; buyItem(String itemTypeId, int cost)\r\n        {\r\n            if(!await(bank.decrement(cost))) {\r\n                return completedFuture(false);\r\n            }\r\n            await(inventory.giveItem(itemTypeId));\r\n            return completedFuture(true);\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Java Equivalent of C# async/await?","body":"<p>There is an &quot;equivalent&quot; of await developed by EA: <a href=\"https://github.com/electronicarts/ea-async\" rel=\"noreferrer\">https://github.com/electronicarts/ea-async</a>. Refer to the Java example code:</p>\n<pre><code>import static com.ea.async.Async.await;\nimport static java.util.concurrent.CompletableFuture.completedFuture;\n\npublic class Store\n{\n    public CompletableFuture&lt;Boolean&gt; buyItem(String itemTypeId, int cost)\n    {\n        if(!await(bank.decrement(cost))) {\n            return completedFuture(false);\n        }\n        await(inventory.giveItem(itemTypeId));\n        return completedFuture(true);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3710550,"reputation":847,"user_id":3087999,"display_name":"vipcxj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631554933,"creation_date":1631554933,"answer_id":69167001,"question_id":16539245,"body_markdown":"I have developed a library [JAsync](https://github.com/vipcxj/jasync) to do this.\r\nIt is just released today.\r\nIt makes the developer&#39;s asynchronous programming experience as close as possible to the usual synchronous programming, including code style and debugging.\r\nHere is the example.\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/employees&quot;)\r\npublic class MyRestController {\r\n    @Inject\r\n    private EmployeeRepository employeeRepository;\r\n    @Inject\r\n    private SalaryRepository salaryRepository;\r\n\r\n    // The standard JAsync async method must be annotated with the Async annotation, and return a Promise object.\r\n    @Async()\r\n    private Promise&lt;Double&gt; _getEmployeeTotalSalaryByDepartment(String department) {\r\n        double money = 0.0;\r\n        // A Mono object can be transformed to the Promise object. So we get a Mono object first.\r\n        Mono&lt;List&lt;Employee&gt;&gt; empsMono = employeeRepository.findEmployeeByDepartment(department);\r\n        // Transformed the Mono object to the Promise object.\r\n        Promise&lt;List&lt;Employee&gt;&gt; empsPromise = JAsync.from(empsMono);\r\n        // Use await just like es and c# to get the value of the Promise without blocking the current thread.\r\n        for (Employee employee : empsPromise.await()) {\r\n            // The method findSalaryByEmployee also return a Mono object. We transform it to the Promise just like above. And then await to get the result.\r\n            Salary salary = JAsync.from(salaryRepository.findSalaryByEmployee(employee.id)).await();\r\n            money += salary.total;\r\n        }\r\n        // The async method must return a Promise object, so we use just method to wrap the result to a Promise.\r\n        return JAsync.just(money);\r\n    }\r\n\r\n    // This is a normal webflux method.\r\n    @GetMapping(&quot;/{department}/salary&quot;)\r\n    public Mono&lt;Double&gt; getEmployeeTotalSalaryByDepartment(@PathVariable String department) { \r\n        // Use unwrap method to transform the Promise object back to the Mono object.\r\n        return _getEmployeeTotalSalaryByDepartment(department).unwrap(Mono.class);\r\n    }\r\n}\r\n```\r\nAnd in debug mode, you can see all the variable just like the synchronous code.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cKDkA.png\r\n\r\n\r\nThe other great thing about this project is that it&#39;s one of the few projects of its kind that&#39;s still active right now. It&#39;s just been released, so it has a lot of potential","title":"Java Equivalent of C# async/await?","body":"<p>I have developed a library <a href=\"https://github.com/vipcxj/jasync\" rel=\"nofollow noreferrer\">JAsync</a> to do this.\nIt is just released today.\nIt makes the developer's asynchronous programming experience as close as possible to the usual synchronous programming, including code style and debugging.\nHere is the example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/employees&quot;)\npublic class MyRestController {\n    @Inject\n    private EmployeeRepository employeeRepository;\n    @Inject\n    private SalaryRepository salaryRepository;\n\n    // The standard JAsync async method must be annotated with the Async annotation, and return a Promise object.\n    @Async()\n    private Promise&lt;Double&gt; _getEmployeeTotalSalaryByDepartment(String department) {\n        double money = 0.0;\n        // A Mono object can be transformed to the Promise object. So we get a Mono object first.\n        Mono&lt;List&lt;Employee&gt;&gt; empsMono = employeeRepository.findEmployeeByDepartment(department);\n        // Transformed the Mono object to the Promise object.\n        Promise&lt;List&lt;Employee&gt;&gt; empsPromise = JAsync.from(empsMono);\n        // Use await just like es and c# to get the value of the Promise without blocking the current thread.\n        for (Employee employee : empsPromise.await()) {\n            // The method findSalaryByEmployee also return a Mono object. We transform it to the Promise just like above. And then await to get the result.\n            Salary salary = JAsync.from(salaryRepository.findSalaryByEmployee(employee.id)).await();\n            money += salary.total;\n        }\n        // The async method must return a Promise object, so we use just method to wrap the result to a Promise.\n        return JAsync.just(money);\n    }\n\n    // This is a normal webflux method.\n    @GetMapping(&quot;/{department}/salary&quot;)\n    public Mono&lt;Double&gt; getEmployeeTotalSalaryByDepartment(@PathVariable String department) { \n        // Use unwrap method to transform the Promise object back to the Mono object.\n        return _getEmployeeTotalSalaryByDepartment(department).unwrap(Mono.class);\n    }\n}\n</code></pre>\n<p>And in debug mode, you can see all the variable just like the synchronous code.</p>\n<p><a href=\"https://i.stack.imgur.com/cKDkA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cKDkA.png\" alt=\"enter image description here\" /></a></p>\n<p>The other great thing about this project is that it's one of the few projects of its kind that's still active right now. It's just been released, so it has a lot of potential</p>\n"},{"tags":[],"owner":{"account_id":340465,"reputation":560,"user_id":670502,"display_name":"DrMaxB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701798645,"creation_date":1701797846,"answer_id":77608217,"question_id":16539245,"body_markdown":"`java.util.concurrent` provides easy to use classes that do the same thing as async/await.\r\n\r\nIn the example below, `onDeviceInfoReceived` sets the class&#39; deviceInfo object and is called sometime after the device info request because it takes some time to process, as happens in web or file I/O requests.\r\n\r\n`getDeviceInfoAsync` waits for `deviceInfo` to be non-null (or 100ms) and returns the future, the same way an `async` task does. And you can get the `DeviceInfo` object from the future using the `get` method. You can even specify a timeout, as shown in `getAnalyzerInfo`.\r\n\r\n    public void onDeviceInfoReceived(DeviceInfo devInfo) {\r\n        this.deviceInfo = devInfo;\r\n    }\r\n\r\n    public DeviceInfo getDeviceInfo() {\r\n        Future&lt;DeviceInfo&gt; future = getDeviceInfoAsync();\r\n        DeviceInfo info = null;\r\n        try {\r\n            info = future.get(100, TimeUnit.MILLISECONDS);\r\n        } catch (Exception e) {\r\n\r\n        }\r\n        return info;\r\n    }\r\n\r\n    private Future&lt;DeviceInfo&gt; getDeviceInfoAsync() {\r\n        ExecutorService executor = Executors.newSingleThreadExecutor();\r\n        Callable&lt;DeviceInfo&gt; callable = () -&gt; {\r\n            long startTime = System.currentTimeMillis();\r\n            while (deviceInfo == null) {\r\n                if (System.currentTimeMillis() - startTime &gt; 100) {\r\n                    return null;\r\n                }\r\n                Thread.sleep(10);\r\n            }\r\n            return deviceInfo;\r\n        };\r\n        Future&lt;DeviceInfo&gt; future = executor.submit(callable);\r\n        executor.shutdown();\r\n        return future;\r\n    }\r\n\r\nThe C# equivalent method would be:\r\n\r\n    public async Task&lt;DeviceInfo&gt; GetDeviceInfoAsync() \r\n\r\nand you cal call it using `DeviceInfo info = await GetDeviceInfoAsync()`","title":"Java Equivalent of C# async/await?","body":"<p><code>java.util.concurrent</code> provides easy to use classes that do the same thing as async/await.</p>\n<p>In the example below, <code>onDeviceInfoReceived</code> sets the class' deviceInfo object and is called sometime after the device info request because it takes some time to process, as happens in web or file I/O requests.</p>\n<p><code>getDeviceInfoAsync</code> waits for <code>deviceInfo</code> to be non-null (or 100ms) and returns the future, the same way an <code>async</code> task does. And you can get the <code>DeviceInfo</code> object from the future using the <code>get</code> method. You can even specify a timeout, as shown in <code>getAnalyzerInfo</code>.</p>\n<pre><code>public void onDeviceInfoReceived(DeviceInfo devInfo) {\n    this.deviceInfo = devInfo;\n}\n\npublic DeviceInfo getDeviceInfo() {\n    Future&lt;DeviceInfo&gt; future = getDeviceInfoAsync();\n    DeviceInfo info = null;\n    try {\n        info = future.get(100, TimeUnit.MILLISECONDS);\n    } catch (Exception e) {\n\n    }\n    return info;\n}\n\nprivate Future&lt;DeviceInfo&gt; getDeviceInfoAsync() {\n    ExecutorService executor = Executors.newSingleThreadExecutor();\n    Callable&lt;DeviceInfo&gt; callable = () -&gt; {\n        long startTime = System.currentTimeMillis();\n        while (deviceInfo == null) {\n            if (System.currentTimeMillis() - startTime &gt; 100) {\n                return null;\n            }\n            Thread.sleep(10);\n        }\n        return deviceInfo;\n    };\n    Future&lt;DeviceInfo&gt; future = executor.submit(callable);\n    executor.shutdown();\n    return future;\n}\n</code></pre>\n<p>The C# equivalent method would be:</p>\n<pre><code>public async Task&lt;DeviceInfo&gt; GetDeviceInfoAsync() \n</code></pre>\n<p>and you cal call it using <code>DeviceInfo info = await GetDeviceInfoAsync()</code></p>\n"}],"owner":{"account_id":930623,"reputation":32992,"user_id":960567,"accept_rate":79,"display_name":"Imran Qadir Baksh - Baloch"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180281,"favorite_count":0,"down_vote_count":1,"up_vote_count":213,"accepted_answer_id":16539332,"answer_count":15,"score":212,"last_activity_date":1701798645,"creation_date":1368522830,"question_id":16539245,"body_markdown":"I am a normal C# developer but occasionally I develop application in Java. I&#39;m wondering if there is any Java equivalent of C# async/await? \r\nIn simple words what is the java equivalent of:\r\n\r\n    async Task&lt;int&gt; AccessTheWebAsync()\r\n    { \r\n        HttpClient client = new HttpClient();\r\n        var urlContents = await client.GetStringAsync(&quot;http://msdn.microsoft.com&quot;);\r\n        return urlContents.Length;\r\n    }","title":"Java Equivalent of C# async/await?","body":"<p>I am a normal C# developer but occasionally I develop application in Java. I'm wondering if there is any Java equivalent of C# async/await? \nIn simple words what is the java equivalent of:</p>\n\n<pre><code>async Task&lt;int&gt; AccessTheWebAsync()\n{ \n    HttpClient client = new HttpClient();\n    var urlContents = await client.GetStringAsync(\"http://msdn.microsoft.com\");\n    return urlContents.Length;\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","cascade","persistent"],"answers":[{"comments":[{"owner":{"account_id":3939135,"reputation":728,"user_id":3853452,"display_name":"maris"},"score":0,"creation_date":1627978170,"post_id":27672764,"comment_id":121292488,"body_markdown":"@OneToMany(cascade = CascadeType.ALL, .... works for me. Also i understood the reason for that from your explanation; thanks!","body":"@OneToMany(cascade = CascadeType.ALL, .... works for me. Also i understood the reason for that from your explanation; thanks!"}],"tags":[],"owner":{"account_id":3130131,"reputation":4109,"user_id":2648110,"display_name":"Ilya Ovesnov"},"comment_count":1,"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1419726915,"creation_date":1419726915,"answer_id":27672764,"question_id":27672337,"body_markdown":"    teamService.save(team);\r\nSave method accepts only transient objects. What is the transient object you can find [here][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html\r\n\r\n`Transient - an object is transient if it has just been instantiated using the new operator, and it is not associated with a Hibernate Session. It has no persistent representation in the database and no identifier value has been assigned. Transient instances will be destroyed by the garbage collector if the application does not hold a reference anymore. Use the Hibernate Session to make an object persistent (and let Hibernate take care of the SQL statements that need to be executed for this transition).`\r\n\r\nYou are getting the Team object and you are trying to persist it to the DB but that object has Account object in it and that Account object is detached (means that instance of that object has saved into the DB but that object is not in the session). Hibernate is trying to save it because of you have specified:\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, ....\r\n\r\nSo, there are few ways how you can fix it:\r\n\r\n1) do not use CascadeType.ALL configuration. Account object can be used for number of Teams (at least domain structure allows it) and update operation might update Account for ALL Teams -- it means that this operation should not be initiated with Team update.\r\nI would remove cascade parameter from there (default value is no cascade operations), of if you really need use MERGE/DELETE configuration. But if you really need to persist it then see option #2\r\n\r\n2) use &#39;saveOrUpdate()&#39; method instead of &#39;save()&#39;. &#39;saveOrUpdate()&#39; method accepts transient and detached objects. \r\nBut the problem with this approach is in design: do you really need to insert/update account when you are saving Team object? I would split it in two operations and prevent updating Account from the Team.\r\n\r\nHope this helps.","title":"Detached entity passed to persist when save the child data","body":"<pre><code>teamService.save(team);\n</code></pre>\n\n<p>Save method accepts only transient objects. What is the transient object you can find <a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/objectstate.html\" rel=\"noreferrer\">here</a></p>\n\n<p><code>Transient - an object is transient if it has just been instantiated using the new operator, and it is not associated with a Hibernate Session. It has no persistent representation in the database and no identifier value has been assigned. Transient instances will be destroyed by the garbage collector if the application does not hold a reference anymore. Use the Hibernate Session to make an object persistent (and let Hibernate take care of the SQL statements that need to be executed for this transition).</code></p>\n\n<p>You are getting the Team object and you are trying to persist it to the DB but that object has Account object in it and that Account object is detached (means that instance of that object has saved into the DB but that object is not in the session). Hibernate is trying to save it because of you have specified:</p>\n\n<pre><code>@OneToMany(cascade = CascadeType.ALL, ....\n</code></pre>\n\n<p>So, there are few ways how you can fix it:</p>\n\n<p>1) do not use CascadeType.ALL configuration. Account object can be used for number of Teams (at least domain structure allows it) and update operation might update Account for ALL Teams -- it means that this operation should not be initiated with Team update.\nI would remove cascade parameter from there (default value is no cascade operations), of if you really need use MERGE/DELETE configuration. But if you really need to persist it then see option #2</p>\n\n<p>2) use 'saveOrUpdate()' method instead of 'save()'. 'saveOrUpdate()' method accepts transient and detached objects. \nBut the problem with this approach is in design: do you really need to insert/update account when you are saving Team object? I would split it in two operations and prevent updating Account from the Team.</p>\n\n<p>Hope this helps.</p>\n"},{"comments":[{"owner":{"account_id":4745627,"reputation":5635,"user_id":3837078,"accept_rate":73,"display_name":"Michael Hegner"},"score":1,"creation_date":1474146202,"post_id":27677392,"comment_id":66414973,"body_markdown":"Thats the perfext answer, make sure id has no value.","body":"Thats the perfext answer, make sure id has no value."},{"owner":{"account_id":3654060,"reputation":997,"user_id":3045531,"accept_rate":55,"display_name":"Froxx"},"score":2,"creation_date":1506802673,"post_id":27677392,"comment_id":79967741,"body_markdown":"Oh, so objects with an id that has a `@GeneratedValue` can&#39;t even be saved if that id is already set? I thought that annotation would just be some kind of fallback. Good to know it&#39;s not!","body":"Oh, so objects with an id that has a <code>@GeneratedValue</code> can&#39;t even be saved if that id is already set? I thought that annotation would just be some kind of fallback. Good to know it&#39;s not!"},{"owner":{"account_id":5811438,"reputation":1501,"user_id":4582350,"display_name":"Ram"},"score":1,"creation_date":1508567536,"post_id":27677392,"comment_id":80668878,"body_markdown":"Make sure your id is not set to 0 if your datatype is `Integer` and it is okay if id datatype is `int`.","body":"Make sure your id is not set to 0 if your datatype is <code>Integer</code> and it is okay if id datatype is <code>int</code>."},{"owner":{"account_id":11915685,"reputation":1432,"user_id":8719655,"display_name":"Carlos L&#243;pez Mar&#237;"},"score":1,"creation_date":1623318850,"post_id":27677392,"comment_id":120047601,"body_markdown":"This was the simplest answer as well as the key for me: the id had a generation strategy and I was setting it!","body":"This was the simplest answer as well as the key for me: the id had a generation strategy and I was setting it!"}],"tags":[],"owner":{"account_id":3747484,"reputation":3573,"user_id":3115822,"display_name":"Borja"},"comment_count":4,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1419777545,"creation_date":1419777545,"answer_id":27677392,"question_id":27672337,"body_markdown":"The error occurs because the **id** is set. Hibernate distinguishes between transient and detached objects and persist works only with transient objects.\r\n\r\n    isteamService.save(team);\r\n\r\nin this operation can not be loaded id because is @GeneratedValue\r\n\r\n\r\n","title":"Detached entity passed to persist when save the child data","body":"<p>The error occurs because the <strong>id</strong> is set. Hibernate distinguishes between transient and detached objects and persist works only with transient objects.</p>\n\n<pre><code>isteamService.save(team);\n</code></pre>\n\n<p>in this operation can not be loaded id because is @GeneratedValue</p>\n"},{"tags":[],"owner":{"account_id":5444982,"reputation":103,"user_id":4331868,"display_name":"Pubudu "},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1499416555,"creation_date":1499416555,"answer_id":44966225,"question_id":27672337,"body_markdown":"Since your id is auto generated value, don&#39;t send it from client side. I had a same issue. Make sure that you does&#39;t provide a value for auto generated attribute. ","title":"Detached entity passed to persist when save the child data","body":"<p>Since your id is auto generated value, don't send it from client side. I had a same issue. Make sure that you does't provide a value for auto generated attribute. </p>\n"},{"tags":[],"owner":{"account_id":20169031,"reputation":61,"user_id":14792260,"display_name":"Nurmuhammad Tuhtasinov"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658173410,"creation_date":1613026605,"answer_id":66150073,"question_id":27672337,"body_markdown":"Please, change `@OneToMany(cascade = CascadeType.ALL,..)` to `@OneToMany(cascade = CascadeType.REMOVE,...)` or another except `CascadeType.PERSIST` and the problem has been solved","title":"Detached entity passed to persist when save the child data","body":"<p>Please, change <code>@OneToMany(cascade = CascadeType.ALL,..)</code> to <code>@OneToMany(cascade = CascadeType.REMOVE,...)</code> or another except <code>CascadeType.PERSIST</code> and the problem has been solved</p>\n"},{"tags":[],"owner":{"account_id":2349225,"reputation":26836,"user_id":2058547,"accept_rate":60,"display_name":"Ojonugwa Jude Ochalifu"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661240568,"creation_date":1661240568,"answer_id":73454860,"question_id":27672337,"body_markdown":"This error happened for me when I tried to save a child entity and then pass the newly saved entity as parameter to a new parent object.\r\n\r\nFor instance:\r\n\r\n`ChildA a = childAService.save(childAObject);`\r\n\r\n`Parent parent = new Parent()`;\r\n\r\n`parent.setChildA(a) // &lt;=== Culprit`\r\n\r\n`parentService.save(parent);`\r\n\r\nInstead, do:\r\n\r\n`ChildA a = new ChildA();`\r\n\r\n`parent.setChildA(a)`\r\n\r\n`parentService.save(parent)`\r\n\r\nHibernate handles the persisting of `a` for you, you don&#39;t have to do it yourself.","title":"Detached entity passed to persist when save the child data","body":"<p>This error happened for me when I tried to save a child entity and then pass the newly saved entity as parameter to a new parent object.</p>\n<p>For instance:</p>\n<p><code>ChildA a = childAService.save(childAObject);</code></p>\n<p><code>Parent parent = new Parent()</code>;</p>\n<p><code>parent.setChildA(a) // &lt;=== Culprit</code></p>\n<p><code>parentService.save(parent);</code></p>\n<p>Instead, do:</p>\n<p><code>ChildA a = new ChildA();</code></p>\n<p><code>parent.setChildA(a)</code></p>\n<p><code>parentService.save(parent)</code></p>\n<p>Hibernate handles the persisting of <code>a</code> for you, you don't have to do it yourself.</p>\n"},{"tags":[],"owner":{"account_id":3904599,"reputation":81,"user_id":3231598,"display_name":"Filip Kubala"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666696932,"creation_date":1666696932,"answer_id":74193282,"question_id":27672337,"body_markdown":"Be aware of Lombok .toBuilder() method - it is creating a new instance of the object, which can be pretty misleading, when you are trying to update the part of a child object.\r\n\r\nExample:\r\n\r\n```\r\npublic class User {\r\n\r\n @OneToOne(...)\r\n Field x;\r\n\r\n}\r\n```\r\n\r\n```\r\n@Builder(toBuilder = true)\r\npublic class Field {\r\nString a;\r\nString b;\r\n}\r\n```\r\n\r\n```\r\n@Transactional\r\npublic class UserService {\r\n\r\npublic updateUserField(User user) {\r\n...\r\nuser.setX(user.getX().toBuilder().a(&quot;New value&quot;).build());\r\n}\r\n\r\n}\r\n```\r\nThis will throw the PersistentObjectException without explicitly calling the userRepo.save method.\r\n\r\nYou need to do:\r\n\r\n```\r\nvar x = user.getX();\r\nx.setA(&quot;New Value&quot;);\r\n```\r\n \r\n","title":"Detached entity passed to persist when save the child data","body":"<p>Be aware of Lombok .toBuilder() method - it is creating a new instance of the object, which can be pretty misleading, when you are trying to update the part of a child object.</p>\n<p>Example:</p>\n<pre><code>public class User {\n\n @OneToOne(...)\n Field x;\n\n}\n</code></pre>\n<pre><code>@Builder(toBuilder = true)\npublic class Field {\nString a;\nString b;\n}\n</code></pre>\n<pre><code>@Transactional\npublic class UserService {\n\npublic updateUserField(User user) {\n...\nuser.setX(user.getX().toBuilder().a(&quot;New value&quot;).build());\n}\n\n}\n</code></pre>\n<p>This will throw the PersistentObjectException without explicitly calling the userRepo.save method.</p>\n<p>You need to do:</p>\n<pre><code>var x = user.getX();\nx.setA(&quot;New Value&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13680020,"reputation":580,"user_id":9870617,"display_name":"Vivek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701798315,"creation_date":1701798315,"answer_id":77608266,"question_id":27672337,"body_markdown":"**The primary problem arose because I was including the ID in the URL, as demonstrated below. This caused confusion for Hibernate because, in my model, I had annotated the ID with @GeneratedValue, indicating that Hibernate should generate the ID automatically. Therefore, there was no need to explicitly pass the ID value:**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/course/{id}/section&quot;)\r\n    public class SectionController {\r\n        //....SOME CODE\r\n    }\r\n\r\n**Replace the {id} with something specific:**\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/course/{courseId}/section&quot;)\r\n    public class SectionController {\r\n        //....SOME CODE\r\n    }","title":"Detached entity passed to persist when save the child data","body":"<p><strong>The primary problem arose because I was including the ID in the URL, as demonstrated below. This caused confusion for Hibernate because, in my model, I had annotated the ID with @GeneratedValue, indicating that Hibernate should generate the ID automatically. Therefore, there was no need to explicitly pass the ID value:</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/course/{id}/section&quot;)\npublic class SectionController {\n    //....SOME CODE\n}\n</code></pre>\n<p><strong>Replace the {id} with something specific:</strong></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/course/{courseId}/section&quot;)\npublic class SectionController {\n    //....SOME CODE\n}\n</code></pre>\n"}],"owner":{"account_id":2644378,"reputation":2562,"user_id":2287404,"accept_rate":76,"display_name":"keysersoze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92594,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":27672764,"answer_count":7,"score":25,"last_activity_date":1701798315,"creation_date":1419722059,"question_id":27672337,"body_markdown":"I&#39;m getting this error when submitting the form:\r\n\r\n&gt;org.hibernate.PersistentObjectException: detached entity passed to persist: com.project.pmet.model.Account; nested exception is javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: com.project.pmet.model.Account\r\n\r\nHere are my entities:\r\n\r\n**Account:** \r\n\r\n    @Entity\r\n    @DynamicInsert\r\n    @DynamicUpdate\r\n    public class Account {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Integer id;\r\n    \r\n        @Column(nullable = false)\r\n        private String login;\r\n    \r\n        @Column(nullable = false)\r\n        private String password;\r\n    \r\n        @Column(nullable = false)\r\n        private String email;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;team_id&quot;)\r\n        private Team team;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;owner&quot;)\r\n        private List&lt;Team&gt; ownedTeams;\r\n    \r\n        ...\r\n\r\n**Team:**\r\n\r\n    @Entity\r\n    @DynamicInsert\r\n    @DynamicUpdate\r\n    public class Team {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Integer id;\r\n    \r\n        @Column(nullable = false)\r\n        private String name;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;owner_id&quot;, nullable = false)\r\n        private Account owner;\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;team&quot;)\r\n        private List&lt;Account&gt; members;\r\n    \r\n        ...\r\n\r\nHere&#39;s a part of the Controller:\r\n\r\n        @ModelAttribute(&quot;team&quot;)\r\n        public Team createTeamObject() {\r\n            return new Team();\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/teams/create-team&quot;, method = RequestMethod.GET)\r\n        public String getCreateTeam(@ModelAttribute(&quot;team&quot;) Team team, Principal principal) {\r\n            logger.info(&quot;Welcome to the create team page!&quot;);\r\n    \r\n            Account owner = accountService.findOneByLogin(principal.getName());\r\n            team.setOwner(owner);\r\n            team.setMembers(new AutoPopulatingList&lt;Account&gt;(Account.class));\r\n    \r\n            return &quot;teams&quot;;\r\n        }\r\n    \r\n        @RequestMapping(value = &quot;/teams/create-team&quot;, method = RequestMethod.POST)\r\n        public String postCreateTeam(@ModelAttribute(&quot;team&quot;) Team team) {\r\n            logger.info(&quot;Team created!&quot;);\r\n    \r\n            teamService.save(team);\r\n    \r\n            return &quot;redirect:/teams.html&quot;;\r\n        }\r\n\r\nAnd the form:\r\n\r\n    &lt;form:form commandName=&quot;team&quot; id=&quot;teamForm&quot;&gt;\r\n          &lt;div class=&quot;form-group&quot;&gt;\r\n              &lt;label&gt;Name&lt;/label&gt;\r\n              &lt;form:input path=&quot;name&quot; cssClass=&quot;form-control&quot; /&gt;\r\n          &lt;/div&gt;\r\n          &lt;div class=&quot;form-group&quot; id=&quot;row-template&quot;&gt;\r\n              &lt;label&gt;Members&lt;/label&gt;\r\n              &lt;form:select path=&quot;members[0].id&quot; cssClass=&quot;form-control&quot; data-live-search=&quot;true&quot; &gt;\r\n                 &lt;form:options items=&quot;${accounts}&quot; itemValue=&quot;id&quot; /&gt;\r\n              &lt;/form:select&gt;\r\n              ...\r\n          &lt;/div&gt;\r\n       &lt;form:hidden path=&quot;owner.id&quot; /&gt;\r\n    &lt;/form:form&gt;\r\n\r\nWhat am I doing wrong?","title":"Detached entity passed to persist when save the child data","body":"<p>I'm getting this error when submitting the form:</p>\n\n<blockquote>\n  <p>org.hibernate.PersistentObjectException: detached entity passed to persist: com.project.pmet.model.Account; nested exception is javax.persistence.PersistenceException: org.hibernate.PersistentObjectException: detached entity passed to persist: com.project.pmet.model.Account</p>\n</blockquote>\n\n<p>Here are my entities:</p>\n\n<p><strong>Account:</strong> </p>\n\n<pre><code>@Entity\n@DynamicInsert\n@DynamicUpdate\npublic class Account {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    @Column(nullable = false)\n    private String login;\n\n    @Column(nullable = false)\n    private String password;\n\n    @Column(nullable = false)\n    private String email;\n\n    @ManyToOne\n    @JoinColumn(name = \"team_id\")\n    private Team team;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"owner\")\n    private List&lt;Team&gt; ownedTeams;\n\n    ...\n</code></pre>\n\n<p><strong>Team:</strong></p>\n\n<pre><code>@Entity\n@DynamicInsert\n@DynamicUpdate\npublic class Team {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @ManyToOne\n    @JoinColumn(name = \"owner_id\", nullable = false)\n    private Account owner;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = \"team\")\n    private List&lt;Account&gt; members;\n\n    ...\n</code></pre>\n\n<p>Here's a part of the Controller:</p>\n\n<pre><code>    @ModelAttribute(\"team\")\n    public Team createTeamObject() {\n        return new Team();\n    }\n\n    @RequestMapping(value = \"/teams/create-team\", method = RequestMethod.GET)\n    public String getCreateTeam(@ModelAttribute(\"team\") Team team, Principal principal) {\n        logger.info(\"Welcome to the create team page!\");\n\n        Account owner = accountService.findOneByLogin(principal.getName());\n        team.setOwner(owner);\n        team.setMembers(new AutoPopulatingList&lt;Account&gt;(Account.class));\n\n        return \"teams\";\n    }\n\n    @RequestMapping(value = \"/teams/create-team\", method = RequestMethod.POST)\n    public String postCreateTeam(@ModelAttribute(\"team\") Team team) {\n        logger.info(\"Team created!\");\n\n        teamService.save(team);\n\n        return \"redirect:/teams.html\";\n    }\n</code></pre>\n\n<p>And the form:</p>\n\n<pre><code>&lt;form:form commandName=\"team\" id=\"teamForm\"&gt;\n      &lt;div class=\"form-group\"&gt;\n          &lt;label&gt;Name&lt;/label&gt;\n          &lt;form:input path=\"name\" cssClass=\"form-control\" /&gt;\n      &lt;/div&gt;\n      &lt;div class=\"form-group\" id=\"row-template\"&gt;\n          &lt;label&gt;Members&lt;/label&gt;\n          &lt;form:select path=\"members[0].id\" cssClass=\"form-control\" data-live-search=\"true\" &gt;\n             &lt;form:options items=\"${accounts}\" itemValue=\"id\" /&gt;\n          &lt;/form:select&gt;\n          ...\n      &lt;/div&gt;\n   &lt;form:hidden path=\"owner.id\" /&gt;\n&lt;/form:form&gt;\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"},{"tags":["java","android","kotlin","java-17"],"owner":{"account_id":14979876,"reputation":23,"user_id":10814133,"display_name":"Muba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701798026,"creation_date":1701785929,"question_id":77606917,"body_markdown":"I&#39;m using lib:\r\n\r\n    &#39;com.madgag.spongycastle:core:1.58.0.0&#39;\r\n\r\n\r\nMy App java version is 17\r\n\r\n\r\ni got this error:  [![enter image description here][1]][1]\r\n\r\nHow can i fix this ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/y7p54.png","title":"SHA-256 digest error for org/bouncycastle/asn1/ASN1Sequence$1.class","body":"<p>I'm using lib:</p>\n<pre><code>'com.madgag.spongycastle:core:1.58.0.0'\n</code></pre>\n<p>My App java version is 17</p>\n<p>i got this error:  <a href=\"https://i.stack.imgur.com/y7p54.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y7p54.png\" alt=\"enter image description here\" /></a></p>\n<p>How can i fix this ?</p>\n"},{"tags":["java","apache-spark","delta-lake"],"answers":[{"comments":[{"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"score":0,"creation_date":1701808741,"post_id":77607447,"comment_id":136820711,"body_markdown":"Thanks Alex I was able to move ahead but now my spark job fails when trying to save data to delta lake.\n\n23/12/06 02:03:48 WARN TaskSetManager: Lost task 0.0 in stage 3.0 (TID 3) (172.26.78.176 executor 0): java.lang.ClassNotFoundException: org.apache.spark.sql.delta.files.DelayedCommitProtocol","body":"Thanks Alex I was able to move ahead but now my spark job fails when trying to save data to delta lake.  23/12/06 02:03:48 WARN TaskSetManager: Lost task 0.0 in stage 3.0 (TID 3) (172.26.78.176 executor 0): java.lang.ClassNotFoundException: org.apache.spark.sql.delta.files.DelayedCommitProtocol"},{"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"score":0,"creation_date":1701809259,"post_id":77607447,"comment_id":136820786,"body_markdown":"Check strings with “caused by” - it could be something with initialization of that class","body":"Check strings with “caused by” - it could be something with initialization of that class"}],"tags":[],"owner":{"account_id":9963,"reputation":82992,"user_id":18627,"display_name":"Alex Ott"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1701790738,"creation_date":1701790738,"answer_id":77607447,"question_id":77605408,"body_markdown":"If you look, then you can see that [Spark 3.1.2 was compiled][1] with Hadoop 3.2.0 as a dependency, so you need to use the same version of other components.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.12/3.1.2","title":"Issues with Spark 3.1.2, Hadoop 3.2.1, and AWS Hadoop Dependencies","body":"<p>If you look, then you can see that <a href=\"https://mvnrepository.com/artifact/org.apache.spark/spark-core_2.12/3.1.2\" rel=\"nofollow noreferrer\">Spark 3.1.2 was compiled</a> with Hadoop 3.2.0 as a dependency, so you need to use the same version of other components.</p>\n"}],"owner":{"account_id":1948681,"reputation":522,"user_id":1753273,"accept_rate":86,"display_name":"agaonsindhe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1702022567,"accepted_answer_id":77607447,"answer_count":1,"score":-1,"last_activity_date":1701797645,"creation_date":1701771633,"question_id":77605408,"body_markdown":"I&#39;m encountering compatibility issues with Spark, Hadoop, and AWS Hadoop dependencies in my Java Spark application. \r\n\r\nThe Spark version running on my local machine is 3.1.2.\r\n\r\nProblem:\r\nI&#39;m working on a Spark application (version 3.1.2) that interacts with data stored in Amazon S3. The application uses Hadoop (version 3.2.1) and includes dependencies for AWS Hadoop.\r\n\r\npom.xml \r\n\r\n\t\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\t  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t\t  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t\t  &lt;groupId&gt;org.poc&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;delta-lake&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t\t  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t\t  &lt;name&gt;delta-lake&lt;/name&gt;\r\n\t\t  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n\t\t  &lt;properties&gt;\r\n\t\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t\t&lt;scala.version&gt;2.12&lt;/scala.version&gt;\r\n\t\t\t&lt;spark.version&gt;3.1.2&lt;/spark.version&gt;\r\n\t\t\t&lt;delta.version&gt;1.0.0&lt;/delta.version&gt;\r\n\t\t\t&lt;aws.sdk.version&gt;1.12.604&lt;/aws.sdk.version&gt; &lt;!-- Use the latest version --&gt;\r\n\t\t  &lt;/properties&gt;\r\n\r\n\t\t  &lt;dependencies&gt;\r\n\t\t\t&lt;!-- Spark dependencies --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;spark-core_${scala.version}&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;${spark.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;spark-sql_${scala.version}&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;${spark.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- Delta Lake dependencies --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;io.delta&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;delta-core_2.12&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;${delta.version}&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- Hadoop AWS for S3 connectivity --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;hadoop-aws&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- Hadoop dependencies --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.2.1&lt;/version&gt; &lt;!-- Update to match your Spark version --&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;3.2.1&lt;/version&gt; &lt;!-- Update to match your Spark version --&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- AWS SDK for Java dependencies --&gt;\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;1.12.604&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t\t&lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-core --&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t  &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t  &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\r\n\t\t\t  &lt;version&gt;1.12.604&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\n\t\t  &lt;/dependencies&gt;\r\n\r\n\t\t  &lt;build&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t  &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t  &lt;source&gt;${java.version}&lt;/source&gt;\r\n\t\t\t\t  &lt;target&gt;${java.version}&lt;/target&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t  &lt;/plugin&gt;\r\n\t\t\t  &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.4&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t  &lt;execution&gt;\r\n\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t  &lt;goal&gt;shade&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t  &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t  &lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t  &lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t  &lt;/build&gt;\r\n\t\t&lt;/project&gt;\r\n\r\nIssues : \r\n\r\nWhen running the Spark application, I&#39;m encountering the following runtime error related to IOStatisticsSource:\r\n\r\n    java.lang.NoClassDefFoundError: org/apache/hadoop/fs/statistics/IOStatisticsSource\r\n\r\nQuestions:\r\n\r\nWhat versions of Hadoop and AWS Hadoop dependencies are compatible with Spark 3.1.2?\r\nIs there a conflict between Hadoop versions in my dependencies?\r\nShould I remove the hadoop-aws dependency if I&#39;m not using S3?\r\nI&#39;ve tried updating dependencies, removing hadoop-aws, and configuring serialization, but the issue persists.\r\n\r\nAny guidance on resolving this issue or insights into the compatibility of these dependencies would be greatly appreciated.\r\n","title":"Issues with Spark 3.1.2, Hadoop 3.2.1, and AWS Hadoop Dependencies","body":"<p>I'm encountering compatibility issues with Spark, Hadoop, and AWS Hadoop dependencies in my Java Spark application.</p>\n<p>The Spark version running on my local machine is 3.1.2.</p>\n<p>Problem:\nI'm working on a Spark application (version 3.1.2) that interacts with data stored in Amazon S3. The application uses Hadoop (version 3.2.1) and includes dependencies for AWS Hadoop.</p>\n<p>pom.xml</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n      &lt;groupId&gt;org.poc&lt;/groupId&gt;\n      &lt;artifactId&gt;delta-lake&lt;/artifactId&gt;\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n      &lt;packaging&gt;jar&lt;/packaging&gt;\n\n      &lt;name&gt;delta-lake&lt;/name&gt;\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n      &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;scala.version&gt;2.12&lt;/scala.version&gt;\n        &lt;spark.version&gt;3.1.2&lt;/spark.version&gt;\n        &lt;delta.version&gt;1.0.0&lt;/delta.version&gt;\n        &lt;aws.sdk.version&gt;1.12.604&lt;/aws.sdk.version&gt; &lt;!-- Use the latest version --&gt;\n      &lt;/properties&gt;\n\n      &lt;dependencies&gt;\n        &lt;!-- Spark dependencies --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n          &lt;artifactId&gt;spark-core_${scala.version}&lt;/artifactId&gt;\n          &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n          &lt;artifactId&gt;spark-sql_${scala.version}&lt;/artifactId&gt;\n          &lt;version&gt;${spark.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Delta Lake dependencies --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;io.delta&lt;/groupId&gt;\n          &lt;artifactId&gt;delta-core_2.12&lt;/artifactId&gt;\n          &lt;version&gt;${delta.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hadoop AWS for S3 connectivity --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n          &lt;artifactId&gt;hadoop-aws&lt;/artifactId&gt;\n          &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hadoop dependencies --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n          &lt;artifactId&gt;hadoop-common&lt;/artifactId&gt;\n          &lt;version&gt;3.2.1&lt;/version&gt; &lt;!-- Update to match your Spark version --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n          &lt;artifactId&gt;hadoop-hdfs&lt;/artifactId&gt;\n          &lt;version&gt;3.2.1&lt;/version&gt; &lt;!-- Update to match your Spark version --&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- AWS SDK for Java dependencies --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-s3 --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n          &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n          &lt;version&gt;1.12.604&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.amazonaws/aws-java-sdk-core --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n          &lt;artifactId&gt;aws-java-sdk-core&lt;/artifactId&gt;\n          &lt;version&gt;1.12.604&lt;/version&gt;\n        &lt;/dependency&gt;\n\n      &lt;/dependencies&gt;\n\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;source&gt;${java.version}&lt;/source&gt;\n              &lt;target&gt;${java.version}&lt;/target&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/project&gt;\n</code></pre>\n<p>Issues :</p>\n<p>When running the Spark application, I'm encountering the following runtime error related to IOStatisticsSource:</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/hadoop/fs/statistics/IOStatisticsSource\n</code></pre>\n<p>Questions:</p>\n<p>What versions of Hadoop and AWS Hadoop dependencies are compatible with Spark 3.1.2?\nIs there a conflict between Hadoop versions in my dependencies?\nShould I remove the hadoop-aws dependency if I'm not using S3?\nI've tried updating dependencies, removing hadoop-aws, and configuring serialization, but the issue persists.</p>\n<p>Any guidance on resolving this issue or insights into the compatibility of these dependencies would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701693327,"post_id":77599468,"comment_id":136803370,"body_markdown":"Did you add `spring-boot-starter-validation` or only `validation-api`? I suspect the latter, if so replace `validation-api` with `spring-boot-starter-validation`. If not add your dependencies to the question.","body":"Did you add <code>spring-boot-starter-validation</code> or only <code>validation-api</code>? I suspect the latter, if so replace <code>validation-api</code> with <code>spring-boot-starter-validation</code>. If not add your dependencies to the question."},{"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1701693360,"post_id":77599468,"comment_id":136803378,"body_markdown":"yes. Updated the question","body":"yes. Updated the question"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1701693402,"post_id":77599468,"comment_id":136803388,"body_markdown":"Also your controller is always returning `OK`, you have included the `BindingResult` so it will never throw an error, unless you do that yourself in the controller. You need to check if there is an error, if so return 400 else return 200, or remove the `BindingResult` from the method.","body":"Also your controller is always returning <code>OK</code>, you have included the <code>BindingResult</code> so it will never throw an error, unless you do that yourself in the controller. You need to check if there is an error, if so return 400 else return 200, or remove the <code>BindingResult</code> from the method."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701693454,"post_id":77599468,"comment_id":136803397,"body_markdown":"Pleae don&#39;t add code as screenshots but as code. THe screenshot is unreadable (that being said, remove the `version` you shouldn&#39;t have `version` in `spring-boot-starter-*` dependencies.","body":"Pleae don&#39;t add code as screenshots but as code. THe screenshot is unreadable (that being said, remove the <code>version</code> you shouldn&#39;t have <code>version</code> in <code>spring-boot-starter-*</code> dependencies."},{"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"score":0,"creation_date":1701693640,"post_id":77599468,"comment_id":136803429,"body_markdown":"Thanks. I removed BindingResult and now I have the error. Now I have a doubt remains a bad practice not to use BindingResult in the the method?","body":"Thanks. I removed BindingResult and now I have the error. Now I have a doubt remains a bad practice not to use BindingResult in the the method?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1701693708,"post_id":77599468,"comment_id":136803444,"body_markdown":"It isn&#39;t but you need to take care of the error flow yourself then.","body":"It isn&#39;t but you need to take care of the error flow yourself then."}],"owner":{"account_id":1615315,"reputation":7242,"user_id":1493192,"accept_rate":65,"display_name":"Gianni Spear"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1701797342,"creation_date":1701693117,"question_id":77599468,"body_markdown":"I have a DTO class (`treeDTO`) that contains within it two other DTO classes (`DistributionDTO` and `BlossomDTO`). \r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import jakarta.validation.Valid;\r\n    import jakarta.validation.constraints.NotBlank;\r\n    import jakarta.validation.constraints.NotEmpty;\r\n    import jakarta.validation.constraints.NotNull;\r\n    import lombok.*;\r\n    \r\n    import java.util.Set;\r\n    \r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    public class TreeDTO {\r\n    \r\n        @NotBlank(message = &quot;Family cannot be null.&quot;)\r\n        @JsonProperty(&quot;family&quot;)\r\n        private String family;\r\n    \r\n        @NotBlank(message = &quot;Genius cannot be empty.&quot;)\r\n        @JsonProperty(&quot;genius&quot;)\r\n        private String genius;\r\n    \r\n        @NotBlank(message = &quot;Species cannot be null.&quot;)\r\n        @JsonProperty(&quot;species&quot;)\r\n        private String species;\r\n    \r\n        @NotEmpty(message = &quot;Common name(s) cannot be empty.&quot;)\r\n        @JsonProperty(&quot;common_name&quot;)\r\n        private Set&lt;String&gt; commonNames;\r\n    \r\n        @NotNull(message = &quot;Distribution cannot be null.&quot;)\r\n        @JsonProperty(&quot;distribution&quot;)\r\n        @Valid\r\n        private DistributionDTO distributionDTO;\r\n    \r\n        @NotNull(message = &quot;Blossom cannot be null.&quot;)\r\n        @JsonProperty(&quot;blossom&quot;)\r\n        @Valid\r\n        private BlossomDTO blossomDTO;\r\n    }\r\n\r\nand \r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    public class DistributionDTO {\r\n    \r\n        @NotNull(message = &quot;Neophyte cannot be null.&quot;)\r\n        @JsonProperty(&quot;neophyte&quot;)\r\n        private Boolean isNeophyte;\r\n    \r\n        @NotEmpty(message = &quot;Areal cannot be null.&quot;)\r\n        @JsonProperty(&quot;areal&quot;)\r\n        private Set&lt;arealEnum&gt; areal;\r\n    \r\n    }\r\n\r\nand \r\n\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    public class BlossomDTO {\r\n    \r\n        @NotEmpty(message = &quot;Blossom color cannot be null.&quot;)\r\n        @JsonProperty(&quot;color&quot;)\r\n        private Set&lt;BlossomColorEnum&gt; blossomColor;\r\n    \r\n        @NotNull(message = &quot;Odor cannot be empty.&quot;)\r\n        //@NotNull(message = &quot;Blossom odor cannot be null.&quot;)\r\n        @JsonProperty(&quot;odor&quot;)\r\n        private Boolean isBlossomOdor;\r\n    \r\n        @NotEmpty(message = &quot;Blossom period cannot be null.&quot;)\r\n        @JsonProperty(&quot;period&quot;)\r\n        private Set&lt;BlossomPeriodEnum&gt; blossomPeriod;\r\n    \r\n        @NotNull(message = &quot;Blossom ornamental cannot be null.&quot;)\r\n        @JsonProperty(&quot;ornamental&quot;)\r\n        private Boolean isBlossomOrnamental;\r\n    \r\n    }\r\n\r\nEverything is handled by a controller that receives as input a JSON:\r\n\r\n    @RestController\r\n    @RequestMapping(path=&quot;api/v1/tree-finder&quot;)\r\n    public class TreeController {\r\n    \r\n        private final TreeService treeService;\r\n    \r\n        @Autowired\r\n        public TreeController(TreeService treeService) {\r\n            this.treeService = treeService;\r\n        }\r\n    \r\n        @PostMapping(\r\n                value = &quot;/create-tree&quot;,\r\n                consumes = MediaType.APPLICATION_JSON_VALUE,\r\n                produces = MediaType.APPLICATION_JSON_VALUE\r\n        )\r\n        public ResponseEntity&lt;?&gt; createTree(\r\n    \r\n                @RequestBody\r\n                @Valid\r\n                TreeDTO treeDTO,\r\n                BindingResult result\r\n        ){\r\n            System.out.println(treeDTO.getFamily());\r\n            return ResponseEntity.ok(HttpStatus.OK);\r\n        }\r\n    }\r\n\r\n\r\nwhat I&#39;m trying to do is handle the following cases that if incorrect should generate an error:\r\n\r\n**correct case**\r\n\r\n    {\r\n        &quot;family&quot;: &quot;test1&quot;,\r\n        &quot;genius&quot;: &quot;tes2&quot;,\r\n        &quot;species&quot;: &quot;test3&quot;,\r\n        &quot;common_name&quot;: [\r\n            &quot;A&quot;,\r\n            &quot;B&quot;,\r\n            &quot;C&quot;\r\n        ],\r\n        &quot;distribution&quot;: {\r\n            &quot;neophyte&quot;: true,\r\n            &quot;areal&quot;: [&quot;015&quot;]\r\n        },\r\n        &quot;blossom&quot;:{\r\n            &quot;color&quot;: [&quot;brown&quot;],\r\n            &quot;odor&quot;: true,\r\n            &quot;period&quot;: [1, 2, 3],\r\n            &quot;ornamental&quot;: true\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**first error case**: in this case if it is missing in the JSON `distributionDTO` and/or `blossomDTO` should raise an error (in the example below distributionDTO is missing)\r\n\r\n\r\n    {\r\n        &quot;family&quot;: &quot;test1&quot;,\r\n        &quot;genius&quot;: &quot;tes2&quot;,\r\n        &quot;species&quot;: &quot;test3&quot;,\r\n        &quot;common_name&quot;: [\r\n            &quot;A&quot;,\r\n            &quot;B&quot;,\r\n            &quot;C&quot;\r\n        ],\r\n        &quot;blossom&quot;:{\r\n            &quot;color&quot;: [&quot;brown&quot;],\r\n            &quot;odor&quot;: true,\r\n            &quot;period&quot;: [1, 2, 3],\r\n            &quot;ornamental&quot;: true\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**second error case**: in this case the DTO classes (`distributionDTO` and `blossomDTO`) may be present but a variable is missing (in the example `Boolean isNeophyte` of `DistributionDTO` is missing):\r\n\r\n\r\n    {\r\n        &quot;family&quot;: &quot;test1&quot;,\r\n        &quot;genius&quot;: &quot;tes2&quot;,\r\n        &quot;species&quot;: &quot;test3&quot;,\r\n        &quot;common_name&quot;: [\r\n            &quot;A&quot;,\r\n            &quot;B&quot;,\r\n            &quot;C&quot;\r\n        ],\r\n        &quot;distribution&quot;: {\r\n            &quot;areal&quot;: [&quot;015&quot;]\r\n        },\r\n        &quot;blossom&quot;:{\r\n            &quot;color&quot;: [&quot;brown&quot;],\r\n            &quot;odor&quot;: true,\r\n            &quot;period&quot;: [1, 2, 3],\r\n            &quot;ornamental&quot;: true\r\n        }\r\n    }\r\n\r\n[![enter image description here][3]][3]\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kgNoV.png\r\n  [2]: https://i.stack.imgur.com/4M9Tl.png\r\n  [3]: https://i.stack.imgur.com/y5tya.png\r\n  [4]: https://i.stack.imgur.com/j4zdY.png","title":"spring boot Javax validation on nested DTO","body":"<p>I have a DTO class (<code>treeDTO</code>) that contains within it two other DTO classes (<code>DistributionDTO</code> and <code>BlossomDTO</code>).</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport jakarta.validation.Valid;\nimport jakarta.validation.constraints.NotBlank;\nimport jakarta.validation.constraints.NotEmpty;\nimport jakarta.validation.constraints.NotNull;\nimport lombok.*;\n\nimport java.util.Set;\n\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Builder\npublic class TreeDTO {\n\n    @NotBlank(message = &quot;Family cannot be null.&quot;)\n    @JsonProperty(&quot;family&quot;)\n    private String family;\n\n    @NotBlank(message = &quot;Genius cannot be empty.&quot;)\n    @JsonProperty(&quot;genius&quot;)\n    private String genius;\n\n    @NotBlank(message = &quot;Species cannot be null.&quot;)\n    @JsonProperty(&quot;species&quot;)\n    private String species;\n\n    @NotEmpty(message = &quot;Common name(s) cannot be empty.&quot;)\n    @JsonProperty(&quot;common_name&quot;)\n    private Set&lt;String&gt; commonNames;\n\n    @NotNull(message = &quot;Distribution cannot be null.&quot;)\n    @JsonProperty(&quot;distribution&quot;)\n    @Valid\n    private DistributionDTO distributionDTO;\n\n    @NotNull(message = &quot;Blossom cannot be null.&quot;)\n    @JsonProperty(&quot;blossom&quot;)\n    @Valid\n    private BlossomDTO blossomDTO;\n}\n</code></pre>\n<p>and</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Builder\npublic class DistributionDTO {\n\n    @NotNull(message = &quot;Neophyte cannot be null.&quot;)\n    @JsonProperty(&quot;neophyte&quot;)\n    private Boolean isNeophyte;\n\n    @NotEmpty(message = &quot;Areal cannot be null.&quot;)\n    @JsonProperty(&quot;areal&quot;)\n    private Set&lt;arealEnum&gt; areal;\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@Builder\npublic class BlossomDTO {\n\n    @NotEmpty(message = &quot;Blossom color cannot be null.&quot;)\n    @JsonProperty(&quot;color&quot;)\n    private Set&lt;BlossomColorEnum&gt; blossomColor;\n\n    @NotNull(message = &quot;Odor cannot be empty.&quot;)\n    //@NotNull(message = &quot;Blossom odor cannot be null.&quot;)\n    @JsonProperty(&quot;odor&quot;)\n    private Boolean isBlossomOdor;\n\n    @NotEmpty(message = &quot;Blossom period cannot be null.&quot;)\n    @JsonProperty(&quot;period&quot;)\n    private Set&lt;BlossomPeriodEnum&gt; blossomPeriod;\n\n    @NotNull(message = &quot;Blossom ornamental cannot be null.&quot;)\n    @JsonProperty(&quot;ornamental&quot;)\n    private Boolean isBlossomOrnamental;\n\n}\n</code></pre>\n<p>Everything is handled by a controller that receives as input a JSON:</p>\n<pre><code>@RestController\n@RequestMapping(path=&quot;api/v1/tree-finder&quot;)\npublic class TreeController {\n\n    private final TreeService treeService;\n\n    @Autowired\n    public TreeController(TreeService treeService) {\n        this.treeService = treeService;\n    }\n\n    @PostMapping(\n            value = &quot;/create-tree&quot;,\n            consumes = MediaType.APPLICATION_JSON_VALUE,\n            produces = MediaType.APPLICATION_JSON_VALUE\n    )\n    public ResponseEntity&lt;?&gt; createTree(\n\n            @RequestBody\n            @Valid\n            TreeDTO treeDTO,\n            BindingResult result\n    ){\n        System.out.println(treeDTO.getFamily());\n        return ResponseEntity.ok(HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>what I'm trying to do is handle the following cases that if incorrect should generate an error:</p>\n<p><strong>correct case</strong></p>\n<pre><code>{\n    &quot;family&quot;: &quot;test1&quot;,\n    &quot;genius&quot;: &quot;tes2&quot;,\n    &quot;species&quot;: &quot;test3&quot;,\n    &quot;common_name&quot;: [\n        &quot;A&quot;,\n        &quot;B&quot;,\n        &quot;C&quot;\n    ],\n    &quot;distribution&quot;: {\n        &quot;neophyte&quot;: true,\n        &quot;areal&quot;: [&quot;015&quot;]\n    },\n    &quot;blossom&quot;:{\n        &quot;color&quot;: [&quot;brown&quot;],\n        &quot;odor&quot;: true,\n        &quot;period&quot;: [1, 2, 3],\n        &quot;ornamental&quot;: true\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/kgNoV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kgNoV.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>first error case</strong>: in this case if it is missing in the JSON <code>distributionDTO</code> and/or <code>blossomDTO</code> should raise an error (in the example below distributionDTO is missing)</p>\n<pre><code>{\n    &quot;family&quot;: &quot;test1&quot;,\n    &quot;genius&quot;: &quot;tes2&quot;,\n    &quot;species&quot;: &quot;test3&quot;,\n    &quot;common_name&quot;: [\n        &quot;A&quot;,\n        &quot;B&quot;,\n        &quot;C&quot;\n    ],\n    &quot;blossom&quot;:{\n        &quot;color&quot;: [&quot;brown&quot;],\n        &quot;odor&quot;: true,\n        &quot;period&quot;: [1, 2, 3],\n        &quot;ornamental&quot;: true\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4M9Tl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4M9Tl.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>second error case</strong>: in this case the DTO classes (<code>distributionDTO</code> and <code>blossomDTO</code>) may be present but a variable is missing (in the example <code>Boolean isNeophyte</code> of <code>DistributionDTO</code> is missing):</p>\n<pre><code>{\n    &quot;family&quot;: &quot;test1&quot;,\n    &quot;genius&quot;: &quot;tes2&quot;,\n    &quot;species&quot;: &quot;test3&quot;,\n    &quot;common_name&quot;: [\n        &quot;A&quot;,\n        &quot;B&quot;,\n        &quot;C&quot;\n    ],\n    &quot;distribution&quot;: {\n        &quot;areal&quot;: [&quot;015&quot;]\n    },\n    &quot;blossom&quot;:{\n        &quot;color&quot;: [&quot;brown&quot;],\n        &quot;odor&quot;: true,\n        &quot;period&quot;: [1, 2, 3],\n        &quot;ornamental&quot;: true\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/y5tya.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/y5tya.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/j4zdY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j4zdY.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","crash","android-emulator"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1701783996,"post_id":77606652,"comment_id":136816264,"body_markdown":"Can tell you one point , android is unix linux , and not finding the .so module is common in new installs because of linking between .so libraries and link files to send one module to another. There may be documentation on their site for how to link that specific file.","body":"Can tell you one point , android is unix linux , and not finding the .so module is common in new installs because of linking between .so libraries and link files to send one module to another. There may be documentation on their site for how to link that specific file."}],"owner":{"account_id":12411344,"reputation":9,"user_id":9043330,"display_name":"Mahmoud Nasr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1701797175,"creation_date":1701783644,"question_id":77606652,"body_markdown":"after upgrading to latest android studio and latest gradle (android studio Android Studio Hedgehog | 2023.1.1) and gradle ( com.android.tools.build:gradle:8.2.0 ) and target sdk is 33 , the application crash on startup only on the emulator (application runs perfectly on rea; device) , the error is \r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.rentcentric.mobileagentpro, PID: 2820\r\n                                                                                                    java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libmonosgen-2.0.so&quot; not found\r\n                                                                                                    \tat java.lang.Runtime.loadLibrary0(Runtime.java:1077)\r\n                                                                                                    \tat java.lang.Runtime.loadLibrary0(Runtime.java:998)\r\n                                                                                                    \tat java.lang.System.loadLibrary(System.java:1661)\r\n                                                                                                    \tat mono.MonoPackageManager.LoadApplication(MonoPackageManager.java:78)\r\n                                                                                                    \tat mono.MonoRuntimeProvider.attachInfo(MonoRuntimeProvider.java:35)\r\n                                                                                                    \tat android.app.ActivityThread.installProvider(ActivityThread.java:7462)\r\n                                                                                                    \tat android.app.ActivityThread.installContentProviders(ActivityThread.java:6973)\r\n                                                                                                    \tat android.app.ActivityThread.handleBindApplication(ActivityThread.java:6744)\r\n                                                                                                    \tat android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\r\n                                                                                                    \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2133)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n                                                                                                    \tat android.os.Looper.loopOnce(Looper.java:201)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:288)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7872)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n","title":"android app crash at startup on android studio emulator crash: java.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libmonosgen-2.0.so&quot; not found","body":"<p>after upgrading to latest android studio and latest gradle (android studio Android Studio Hedgehog | 2023.1.1) and gradle ( com.android.tools.build:gradle:8.2.0 ) and target sdk is 33 , the application crash on startup only on the emulator (application runs perfectly on rea; device) , the error is\nFATAL EXCEPTION: main\nProcess: com.rentcentric.mobileagentpro, PID: 2820\njava.lang.UnsatisfiedLinkError: dlopen failed: library &quot;libmonosgen-2.0.so&quot; not found\nat java.lang.Runtime.loadLibrary0(Runtime.java:1077)\nat java.lang.Runtime.loadLibrary0(Runtime.java:998)\nat java.lang.System.loadLibrary(System.java:1661)\nat mono.MonoPackageManager.LoadApplication(MonoPackageManager.java:78)\nat mono.MonoRuntimeProvider.attachInfo(MonoRuntimeProvider.java:35)\nat android.app.ActivityThread.installProvider(ActivityThread.java:7462)\nat android.app.ActivityThread.installContentProviders(ActivityThread.java:6973)\nat android.app.ActivityThread.handleBindApplication(ActivityThread.java:6744)\nat android.app.ActivityThread.-$$Nest$mhandleBindApplication(Unknown Source:0)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2133)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loopOnce(Looper.java:201)\nat android.os.Looper.loop(Looper.java:288)\nat android.app.ActivityThread.main(ActivityThread.java:7872)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)</p>\n"},{"tags":["java","javafx","mapping","scenebuilder"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":3,"creation_date":1701620555,"post_id":77594831,"comment_id":136795809,"body_markdown":"The stack trace clearly shows that you are mixing libraries from JavaFX 20.0.1 and libraries from JavaFX 21.0.1.  I’m not sure how that happened, but I suggest doing a clean build—meaning, delete all .jar files and executables that you have built, and build them from scratch.  Also, you should edit your question and show us the contents of your Table.fxml file.","body":"The stack trace clearly shows that you are mixing libraries from JavaFX 20.0.1 and libraries from JavaFX 21.0.1.  I’m not sure how that happened, but I suggest doing a clean build—meaning, delete all .jar files and executables that you have built, and build them from scratch.  Also, you should edit your question and show us the contents of your Table.fxml file."},{"owner":{"account_id":30055278,"reputation":1,"user_id":23032810,"display_name":"vchandu"},"score":0,"creation_date":1701694910,"post_id":77594831,"comment_id":136803664,"body_markdown":"I&#39;ll try. I have edited the question","body":"I&#39;ll try. I have edited the question"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1701734586,"post_id":77594831,"comment_id":136810189,"body_markdown":"The class not found `com/sun/javafx/collections/MappingChange$Map`was [recently removed from JavaFX](https://github.com/openjdk/jfx/pull/972/files#diff-0c5dea49a4ace580e54a17cded776439261e359b2d421b5d0d845d04ab85237dL34).  Probably your mixed JavaFX versions used is the cause of the issue.  All your JavaFX libraries should be the same version (and best to use latest stable as per VGR - 21.0.1 at the moment).  Because the problem is likely environmental for you, it is unlikely somebody else will be able to replicate it.","body":"The class not found <code>com&#47;sun&#47;javafx&#47;collections&#47;MappingChange$Map</code>was <a href=\"https://github.com/openjdk/jfx/pull/972/files#diff-0c5dea49a4ace580e54a17cded776439261e359b2d421b5d0d845d04ab85237dL34\" rel=\"nofollow noreferrer\">recently removed from JavaFX</a>.  Probably your mixed JavaFX versions used is the cause of the issue.  All your JavaFX libraries should be the same version (and best to use latest stable as per VGR - 21.0.1 at the moment).  Because the problem is likely environmental for you, it is unlikely somebody else will be able to replicate it."},{"owner":{"account_id":30055278,"reputation":1,"user_id":23032810,"display_name":"vchandu"},"score":0,"creation_date":1701796639,"post_id":77594831,"comment_id":136818777,"body_markdown":"@VGR I rebuilt it from scratch and it worked. Thanks","body":"@VGR I rebuilt it from scratch and it worked. Thanks"},{"owner":{"account_id":30055278,"reputation":1,"user_id":23032810,"display_name":"vchandu"},"score":0,"creation_date":1701796772,"post_id":77594831,"comment_id":136818810,"body_markdown":"@jewelsea thanks for your insights. I rebuilt the program and the dependencies were now different. As you said it was environmental i guess.","body":"@jewelsea thanks for your insights. I rebuilt the program and the dependencies were now different. As you said it was environmental i guess."}],"answers":[{"comments":[{"owner":{"account_id":30055278,"reputation":1,"user_id":23032810,"display_name":"vchandu"},"score":0,"creation_date":1701694874,"post_id":77594876,"comment_id":136803656,"body_markdown":"I have edited my question plz have a look","body":"I have edited my question plz have a look"}],"tags":[],"owner":{"account_id":26244172,"reputation":34,"user_id":19917972,"display_name":"MrCrobben"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1701616252,"creation_date":1701616252,"answer_id":77594876,"question_id":77594831,"body_markdown":"From the stack trace is hard to figure out what went wrong. I suggest adding some code.\r\n\r\nNow from my experience this could be that you didn&#39;t create `Controller` class and added it to XML file. Please provide your XML so I could help you more","title":"the scene which containing a table view in java fx is not opening from the button provided in another scene","body":"<p>From the stack trace is hard to figure out what went wrong. I suggest adding some code.</p>\n<p>Now from my experience this could be that you didn't create <code>Controller</code> class and added it to XML file. Please provide your XML so I could help you more</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1702071949,"post_id":77608123,"comment_id":136856799,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77608123/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":30055278,"reputation":1,"user_id":23032810,"display_name":"vchandu"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701796988,"creation_date":1701796988,"answer_id":77608123,"question_id":77594831,"body_markdown":"The problem was due to the dependencies (environmental). I have no idea what caused for that. After I rebuilt the program from scratch it worked fine without any change in the code. The dependencies mentioned in the xml have changed.","title":"the scene which containing a table view in java fx is not opening from the button provided in another scene","body":"<p>The problem was due to the dependencies (environmental). I have no idea what caused for that. After I rebuilt the program from scratch it worked fine without any change in the code. The dependencies mentioned in the xml have changed.</p>\n"}],"owner":{"account_id":30055278,"reputation":1,"user_id":23032810,"display_name":"vchandu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1701796988,"creation_date":1701615586,"question_id":77594831,"body_markdown":"I am trying to build a small java desktop application using JavaFX  to enter student details. On the opening scene I have provided buttons to switch into different scenes. I can access the other scenes but the scene with a TableView which contains all the student details from the database is not opening. \r\n\r\nHere&#39;s my full error message;\r\n\r\n    javafx.fxml.LoadException: \r\n    /H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\r\n    \r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1024)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:759)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\r\n    \tat com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:64)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n    \tat javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\r\n    \tat javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n    \tat javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1022)\r\n    \t... 60 more\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/javafx/collections/MappingChange$Map\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView$TableViewArrayListSelectionModel.&lt;init&gt;(TableView.java:2249)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:669)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:646)\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \t... 63 more\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.javafx.collections.MappingChange$Map\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 67 more\r\n    Exception in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1858)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\r\n    \tat javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\r\n    \tat javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\r\n    \tat javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\r\n    \tat javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\r\n    \tat javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\r\n    \tat javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:1623)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    \tat javafx.base@21.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\r\n    \tat javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\r\n    \t... 46 more\r\n    Caused by: java.lang.RuntimeException: javafx.fxml.LoadException: \r\n    /H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\r\n    \r\n    \tat com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:67)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \t... 53 more\r\n    Caused by: javafx.fxml.LoadException: \r\n    /H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\r\n    \r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1024)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:759)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\r\n    \tat com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:64)\r\n    \t... 54 more\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\r\n    \tat javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1022)\r\n    \t... 60 more\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/javafx/collections/MappingChange$Map\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView$TableViewArrayListSelectionModel.&lt;init&gt;(TableView.java:2249)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:669)\r\n    \tat javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:646)\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \t... 63 more\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.javafx.collections.MappingChange$Map\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 67 more\r\n\r\n**Here&#39;s the Table.fxml code;**\r\n \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n        &lt;?import javafx.scene.control.*?&gt;\r\n        &lt;?import javafx.scene.layout.*?&gt;\r\n        &lt;?import javafx.scene.text.*?&gt;\r\n    \r\n        &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; \r\n        minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot;\r\n                prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2- \r\n        ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\r\n                \r\n        fx:controller=&quot;com.example.educationalcentre.TableController&quot;&gt;\r\n        &lt;TableView fx:id=&quot;tblStudent&quot; layoutY=&quot;70.0&quot; prefHeight=&quot;321.0&quot; \r\n        prefWidth=&quot;600.0&quot;&gt;\r\n          &lt;columns&gt;\r\n              &lt;TableColumn fx:id=&quot;id&quot; prefWidth=&quot;75.0&quot; text=&quot;StudentID&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;fname&quot; prefWidth=&quot;75.0&quot; text=&quot;First \r\n          Name&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;lname&quot; prefWidth=&quot;75.0&quot; text=&quot;Last \r\n          Name&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;gender&quot; prefWidth=&quot;75.0&quot; \r\n         text=&quot;Gender&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;email&quot; prefWidth=&quot;75.0&quot; text=&quot;Email&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;dob&quot; prefWidth=&quot;75.0&quot; text=&quot;BirthDay&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;cstatus&quot; prefWidth=&quot;75.0&quot; text=&quot;Civil \r\n          Status&quot;/&gt;\r\n              &lt;TableColumn fx:id=&quot;address&quot; prefWidth=&quot;75.0&quot; text=&quot;Address&quot;/&gt;\r\n          &lt;/columns&gt;\r\n        &lt;/TableView&gt;\r\n        &lt;Label layoutX=&quot;9.0&quot; layoutY=&quot;9.0&quot; prefHeight=&quot;46.0&quot; prefWidth=&quot;339.0&quot; text=&quot;Student List&quot;&gt;\r\n            &lt;font&gt;\r\n              &lt;Font size=&quot;35.0&quot;/&gt;\r\n            &lt;/font&gt;\r\n        &lt;/Label&gt;\r\n    &lt;/AnchorPane&gt;\r\n\r\n**Here&#39;s my controller class for the scene containing table view**\r\n \r\n\r\n        package com.example.educationalcentre;\r\n    \r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.scene.control.TableColumn;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    import javafx.fxml.Initializable;\r\n    \r\n    import java.net.URL;\r\n    import java.sql.SQLException;\r\n    import java.util.Date;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class TableController implements Initializable {\r\n        StudentService studentService;\r\n        @FXML\r\n        private TableView &lt;Student&gt; tblStudent;\r\n        @FXML\r\n        private TableColumn &lt;Student, Integer&gt;  id;\r\n        @FXML\r\n        private TableColumn &lt;Student,String&gt; fname;\r\n    \r\n        @FXML private  TableColumn &lt;Student,String&gt; lname;\r\n        @FXML private TableColumn &lt;Student,String&gt; gender;\r\n        @FXML private TableColumn &lt;Student,String&gt; email;\r\n        @FXML private TableColumn &lt;Student, Date&gt; dob;\r\n        @FXML private TableColumn &lt;Student,String&gt; cstatus;\r\n        @FXML private TableColumn &lt;Student, String&gt; address;\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n            try {\r\n                loadStudent();\r\n            } catch (SQLException | ClassNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n    \r\n        }\r\n        @FXML\r\n            private void loadStudent() throws SQLException, ClassNotFoundException {\r\n            studentService = new StudentService();\r\n            ObservableList&lt;Student&gt; students;\r\n            students = FXCollections.observableArrayList(studentService.getStudentList());\r\n          id.setCellValueFactory(new PropertyValueFactory&lt;Student, Integer&gt;(&quot;studentID&quot;));\r\n          fname.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;firstName&quot;));\r\n    \r\n            lname.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;lastName&quot;));\r\n            address.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;address&quot;));\r\n            email.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;email&quot;));\r\n            cstatus.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;civilStatus&quot;));\r\n            gender.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;gender&quot;));\r\n            dob.setCellValueFactory(new PropertyValueFactory&lt;Student, Date&gt;(&quot;DOB&quot;));\r\n    \r\n            tblStudent.setItems(students);\r\n\r\n**Here&#39;s the method in my controller class for the first window of my program which contains the button to open the scene with the controller class**\r\n\r\n    @FXML\r\n    public void switchToTable(ActionEvent event) throws IOException {\r\n        FXMLLoader fxmlLoader = new \r\n    FXMLLoader(RegistryApplication.class.getResource(&quot;Table.fxml&quot;));\r\n         stage = (Stage) \r\n    ((Node)event.getSource()).getScene().getWindow();\r\n    \r\n        try {\r\n            scene = new Scene(fxmlLoader.load());\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(e);\r\n        }\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"the scene which containing a table view in java fx is not opening from the button provided in another scene","body":"<p>I am trying to build a small java desktop application using JavaFX  to enter student details. On the opening scene I have provided buttons to switch into different scenes. I can access the other scenes but the scene with a TableView which contains all the student details from the database is not opening.</p>\n<p>Here's my full error message;</p>\n<pre><code>javafx.fxml.LoadException: \n/H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\n\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1024)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:759)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\n    at com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:64)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base@21.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n    at javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\n    at javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\n    at javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1022)\n    ... 60 more\nCaused by: java.lang.NoClassDefFoundError: com/sun/javafx/collections/MappingChange$Map\n    at javafx.controls@20.0.1/javafx.scene.control.TableView$TableViewArrayListSelectionModel.&lt;init&gt;(TableView.java:2249)\n    at javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:669)\n    at javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:646)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    ... 63 more\nCaused by: java.lang.ClassNotFoundException: com.sun.javafx.collections.MappingChange$Map\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 67 more\nException in thread &quot;JavaFX Application Thread&quot; java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1858)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ControllerMethodEventHandler.handle(FXMLLoader.java:1726)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:86)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:49)\n    at javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Node.fireEvent(Node.java:8944)\n    at javafx.controls@20.0.1/javafx.scene.control.Button.fire(Button.java:203)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.behavior.ButtonBehavior.mouseReleased(ButtonBehavior.java:207)\n    at javafx.controls@20.0.1/com.sun.javafx.scene.control.inputmap.InputMap.handle(InputMap.java:274)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler$NormalEventHandlerRecord.handleBubblingEvent(CompositeEventHandler.java:247)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventHandler.dispatchBubblingEvent(CompositeEventHandler.java:80)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:232)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventHandlerManager.dispatchBubblingEvent(EventHandlerManager.java:189)\n    at javafx.base@21.0.1/com.sun.javafx.event.CompositeEventDispatcher.dispatchBubblingEvent(CompositeEventDispatcher.java:59)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:58)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.BasicEventDispatcher.dispatchEvent(BasicEventDispatcher.java:56)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventDispatchChainImpl.dispatchEvent(EventDispatchChainImpl.java:114)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEventImpl(EventUtil.java:74)\n    at javafx.base@21.0.1/com.sun.javafx.event.EventUtil.fireEvent(EventUtil.java:54)\n    at javafx.base@21.0.1/javafx.event.Event.fireEvent(Event.java:198)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$MouseHandler.process(Scene.java:3980)\n    at javafx.graphics@20.0.1/javafx.scene.Scene.processMouseEvent(Scene.java:1890)\n    at javafx.graphics@20.0.1/javafx.scene.Scene$ScenePeerListener.mouseEvent(Scene.java:2704)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:411)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler$MouseEventNotification.run(GlassViewEventHandler.java:301)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:400)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.lambda$handleMouseEvent$2(GlassViewEventHandler.java:450)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.QuantumToolkit.runWithoutRenderLock(QuantumToolkit.java:424)\n    at javafx.graphics@20.0.1/com.sun.javafx.tk.quantum.GlassViewEventHandler.handleMouseEvent(GlassViewEventHandler.java:449)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.handleMouseEvent(View.java:551)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.View.notifyMouse(View.java:937)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics@20.0.1/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:185)\n    at java.base/java.lang.Thread.run(Thread.java:1623)\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:119)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at com.sun.javafx.reflect.Trampoline.invoke(MethodUtil.java:72)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at javafx.base@21.0.1/com.sun.javafx.reflect.MethodUtil.invoke(MethodUtil.java:270)\n    at javafx.fxml@20.0.1/com.sun.javafx.fxml.MethodHelper.invoke(MethodHelper.java:84)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$MethodHandler.invoke(FXMLLoader.java:1853)\n    ... 46 more\nCaused by: java.lang.RuntimeException: javafx.fxml.LoadException: \n/H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\n\n    at com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:67)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 53 more\nCaused by: javafx.fxml.LoadException: \n/H:/Java/Educational%20Centre/target/classes/com/example/educationalcentre/Table.fxml:10\n\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2722)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1024)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$ValueElement.processStartElement(FXMLLoader.java:759)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.processStartElement(FXMLLoader.java:2853)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2649)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2563)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader.load(FXMLLoader.java:2531)\n    at com.example.educationalcentre/com.example.educationalcentre.SceneController.switchToTable(SceneController.java:64)\n    ... 54 more\nCaused by: java.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:79)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:484)\n    at javafx.fxml@20.0.1/javafx.fxml.FXMLLoader$InstanceDeclarationElement.constructValue(FXMLLoader.java:1022)\n    ... 60 more\nCaused by: java.lang.NoClassDefFoundError: com/sun/javafx/collections/MappingChange$Map\n    at javafx.controls@20.0.1/javafx.scene.control.TableView$TableViewArrayListSelectionModel.&lt;init&gt;(TableView.java:2249)\n    at javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:669)\n    at javafx.controls@20.0.1/javafx.scene.control.TableView.&lt;init&gt;(TableView.java:646)\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    ... 63 more\nCaused by: java.lang.ClassNotFoundException: com.sun.javafx.collections.MappingChange$Map\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 67 more\n</code></pre>\n<p><strong>Here's the Table.fxml code;</strong></p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n    &lt;?import javafx.scene.control.*?&gt;\n    &lt;?import javafx.scene.layout.*?&gt;\n    &lt;?import javafx.scene.text.*?&gt;\n\n    &lt;AnchorPane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; \n    minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot;\n            prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17.0.2- \n    ea&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot;\n            \n    fx:controller=&quot;com.example.educationalcentre.TableController&quot;&gt;\n    &lt;TableView fx:id=&quot;tblStudent&quot; layoutY=&quot;70.0&quot; prefHeight=&quot;321.0&quot; \n    prefWidth=&quot;600.0&quot;&gt;\n      &lt;columns&gt;\n          &lt;TableColumn fx:id=&quot;id&quot; prefWidth=&quot;75.0&quot; text=&quot;StudentID&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;fname&quot; prefWidth=&quot;75.0&quot; text=&quot;First \n      Name&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;lname&quot; prefWidth=&quot;75.0&quot; text=&quot;Last \n      Name&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;gender&quot; prefWidth=&quot;75.0&quot; \n     text=&quot;Gender&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;email&quot; prefWidth=&quot;75.0&quot; text=&quot;Email&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;dob&quot; prefWidth=&quot;75.0&quot; text=&quot;BirthDay&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;cstatus&quot; prefWidth=&quot;75.0&quot; text=&quot;Civil \n      Status&quot;/&gt;\n          &lt;TableColumn fx:id=&quot;address&quot; prefWidth=&quot;75.0&quot; text=&quot;Address&quot;/&gt;\n      &lt;/columns&gt;\n    &lt;/TableView&gt;\n    &lt;Label layoutX=&quot;9.0&quot; layoutY=&quot;9.0&quot; prefHeight=&quot;46.0&quot; prefWidth=&quot;339.0&quot; text=&quot;Student List&quot;&gt;\n        &lt;font&gt;\n          &lt;Font size=&quot;35.0&quot;/&gt;\n        &lt;/font&gt;\n    &lt;/Label&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p><strong>Here's my controller class for the scene containing table view</strong></p>\n<pre><code>    package com.example.educationalcentre;\n\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.scene.control.TableColumn;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.cell.PropertyValueFactory;\nimport javafx.fxml.Initializable;\n\nimport java.net.URL;\nimport java.sql.SQLException;\nimport java.util.Date;\nimport java.util.ResourceBundle;\n\npublic class TableController implements Initializable {\n    StudentService studentService;\n    @FXML\n    private TableView &lt;Student&gt; tblStudent;\n    @FXML\n    private TableColumn &lt;Student, Integer&gt;  id;\n    @FXML\n    private TableColumn &lt;Student,String&gt; fname;\n\n    @FXML private  TableColumn &lt;Student,String&gt; lname;\n    @FXML private TableColumn &lt;Student,String&gt; gender;\n    @FXML private TableColumn &lt;Student,String&gt; email;\n    @FXML private TableColumn &lt;Student, Date&gt; dob;\n    @FXML private TableColumn &lt;Student,String&gt; cstatus;\n    @FXML private TableColumn &lt;Student, String&gt; address;\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        try {\n            loadStudent();\n        } catch (SQLException | ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n    @FXML\n        private void loadStudent() throws SQLException, ClassNotFoundException {\n        studentService = new StudentService();\n        ObservableList&lt;Student&gt; students;\n        students = FXCollections.observableArrayList(studentService.getStudentList());\n      id.setCellValueFactory(new PropertyValueFactory&lt;Student, Integer&gt;(&quot;studentID&quot;));\n      fname.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;firstName&quot;));\n\n        lname.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;lastName&quot;));\n        address.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;address&quot;));\n        email.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;email&quot;));\n        cstatus.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;civilStatus&quot;));\n        gender.setCellValueFactory(new PropertyValueFactory&lt;Student, String&gt;(&quot;gender&quot;));\n        dob.setCellValueFactory(new PropertyValueFactory&lt;Student, Date&gt;(&quot;DOB&quot;));\n\n        tblStudent.setItems(students);\n</code></pre>\n<p><strong>Here's the method in my controller class for the first window of my program which contains the button to open the scene with the controller class</strong></p>\n<pre><code>@FXML\npublic void switchToTable(ActionEvent event) throws IOException {\n    FXMLLoader fxmlLoader = new \nFXMLLoader(RegistryApplication.class.getResource(&quot;Table.fxml&quot;));\n     stage = (Stage) \n((Node)event.getSource()).getScene().getWindow();\n\n    try {\n        scene = new Scene(fxmlLoader.load());\n    } catch (IOException e) {\n        e.printStackTrace();\n        throw new RuntimeException(e);\n    }\n    stage.setScene(scene);\n    stage.show();\n}\n</code></pre>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1701657641,"post_id":77590337,"comment_id":136799189,"body_markdown":"You should read the guide for [how to ask a good question](https://stackoverflow.com/help/how-to-ask). There are two different DOCTYPEs (mapper and configuration) and you are using configuration one in the mapper. If you are new, I would recommend using a project template like [these](https://github.com/harawata/mybatis-issues) rather than starting from scratch.","body":"You should read the guide for <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a good question</a>. There are two different DOCTYPEs (mapper and configuration) and you are using configuration one in the mapper. If you are new, I would recommend using a project template like <a href=\"https://github.com/harawata/mybatis-issues\" rel=\"nofollow noreferrer\">these</a> rather than starting from scratch."}],"answers":[{"tags":[],"owner":{"account_id":13115133,"reputation":507,"user_id":9536653,"display_name":"PandaSurge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701796904,"creation_date":1701796904,"answer_id":77608113,"question_id":77590337,"body_markdown":"The bug you are encountering is related to your &lt;configuration&gt; element not being the root element in the XML file. &lt;mapper&gt; should be nested inside &lt;configuration&gt;. The namespace in &lt;mapper&gt; should also define the class/interface where your MyBatis methods are.","title":"How can I redirect users mapper in mybatis spring boot","body":"<p>The bug you are encountering is related to your  element not being the root element in the XML file.  should be nested inside . The namespace in  should also define the class/interface where your MyBatis methods are.</p>\n"}],"owner":{"account_id":30047337,"reputation":1,"user_id":23026657,"display_name":"Phan Duong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1701883588,"answer_count":1,"score":0,"last_activity_date":1701796904,"creation_date":1701520057,"question_id":77590337,"body_markdown":"[enter image description here](https://i.stack.imgur.com/AQ8m0.png)PLEASE HELP! I&#39;m just have stated learning spring boot and don&#39;t know how to fix this bug when trying to connect to mapper \r\n\r\n\r\nit sad [{\r\n\t&quot;resource&quot;: &quot;/c:/Users/Hi/hackathon/dataretrival/src/main/resources/mybatis/mapper/todo-mapper.xml&quot;,\r\n\t&quot;owner&quot;: &quot;_generated_diagnostic_collection_name_#6&quot;,\r\n\t&quot;code&quot;: &quot;RootElementTypeMustMatchDoctypedecl&quot;,\r\n\t&quot;severity&quot;: 8,\r\n\t&quot;message&quot;: &quot;Document root element \\&quot;mapper\\&quot;, must match DOCTYPE root \\&quot;configuration\\&quot;.&quot;,\r\n\t&quot;source&quot;: &quot;xml&quot;,\r\n\t&quot;startLineNumber&quot;: 5,\r\n\t&quot;startColumn&quot;: 2,\r\n\t&quot;endLineNumber&quot;: 5,\r\n\t&quot;endColumn&quot;: 8\r\n}]\r\n\r\n\r\nI tried to change the resource in mybatis-config and relocated todo-mapping.xml","title":"How can I redirect users mapper in mybatis spring boot","body":"<p><a href=\"https://i.stack.imgur.com/AQ8m0.png\" rel=\"nofollow noreferrer\">enter image description here</a>PLEASE HELP! I'm just have stated learning spring boot and don't know how to fix this bug when trying to connect to mapper</p>\n<p>it sad [{\n&quot;resource&quot;: &quot;/c:/Users/Hi/hackathon/dataretrival/src/main/resources/mybatis/mapper/todo-mapper.xml&quot;,\n&quot;owner&quot;: &quot;<em>generated_diagnostic_collection_name</em>#6&quot;,\n&quot;code&quot;: &quot;RootElementTypeMustMatchDoctypedecl&quot;,\n&quot;severity&quot;: 8,\n&quot;message&quot;: &quot;Document root element &quot;mapper&quot;, must match DOCTYPE root &quot;configuration&quot;.&quot;,\n&quot;source&quot;: &quot;xml&quot;,\n&quot;startLineNumber&quot;: 5,\n&quot;startColumn&quot;: 2,\n&quot;endLineNumber&quot;: 5,\n&quot;endColumn&quot;: 8\n}]</p>\n<p>I tried to change the resource in mybatis-config and relocated todo-mapping.xml</p>\n"},{"tags":["java","maven","httpclient"],"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":2,"creation_date":1701785829,"post_id":77606897,"comment_id":136816641,"body_markdown":"Please copy and paste your code instead of using a screenshot. Please also include what the error message is.","body":"Please copy and paste your code instead of using a screenshot. Please also include what the error message is."}],"answers":[{"tags":[],"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1701787820,"creation_date":1701787518,"answer_id":77607097,"question_id":77606897,"body_markdown":"The [`getEntity()`][1] method belongs to [`CloseableHttpResponse`][2], not [`HttpResponse`][3]. Just change your code to use the former:\r\n\r\n    CloseableHttpResponse httpresponse = httpclient.execute(httpget);\r\n    Scanner scanner = new Scanner(httpresponse.getEntity().getContent());\r\n\r\nBe aware that [`CloseableHttpClient#execute(ClassicHttpRequest)`][4] is deprecated. You should instead use a execute with an [`HttpClientResponseHandler`][5], which will automatically deallocate any resources. Here&#39;s an example:\r\n\r\n\tMyObject myObject = httpclient.execute(httpget, new HttpClientResponseHandler&lt;MyObject&gt;() {\r\n\t\t@Override\r\n\t\tpublic MyObject handleResponse(ClassicHttpResponse response) throws HttpException, IOException {\r\n\t\t\tScanner scanner = new Scanner(response.getEntity().getContent());\r\n\t\t\tint id = scanner.nextInt();\r\n\t\t\tString name = scanner.next();\r\n\t\t\tString description = scanner.nextLine();\r\n\t\t\treturn new MyObject(id, name, description);\r\n\t\t}\r\n\t});\r\n\r\n\r\n  [1]: https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html#getEntity--\r\n  [2]: https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html\r\n  [3]: https://hc.apache.org/httpcomponents-core-5.1.x/current/httpcore5/apidocs/org/apache/hc/core5/http/HttpResponse.html\r\n  [4]: https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpClient.html#execute-org.apache.hc.core5.http.ClassicHttpRequest-\r\n  [5]: https://hc.apache.org/httpcomponents-core-5.2.x/current/httpcore5/apidocs/index.html?org/apache/hc/core5/http/io/HttpClientResponseHandler.html","title":"How do I get the content of the Entity object from the HttpResponse instance?","body":"<p>The <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html#getEntity--\" rel=\"nofollow noreferrer\"><code>getEntity()</code></a> method belongs to <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpResponse.html\" rel=\"nofollow noreferrer\"><code>CloseableHttpResponse</code></a>, not <a href=\"https://hc.apache.org/httpcomponents-core-5.1.x/current/httpcore5/apidocs/org/apache/hc/core5/http/HttpResponse.html\" rel=\"nofollow noreferrer\"><code>HttpResponse</code></a>. Just change your code to use the former:</p>\n<pre><code>CloseableHttpResponse httpresponse = httpclient.execute(httpget);\nScanner scanner = new Scanner(httpresponse.getEntity().getContent());\n</code></pre>\n<p>Be aware that <a href=\"https://hc.apache.org/httpcomponents-client-5.2.x/current/httpclient5/apidocs/org/apache/hc/client5/http/impl/classic/CloseableHttpClient.html#execute-org.apache.hc.core5.http.ClassicHttpRequest-\" rel=\"nofollow noreferrer\"><code>CloseableHttpClient#execute(ClassicHttpRequest)</code></a> is deprecated. You should instead use a execute with an <a href=\"https://hc.apache.org/httpcomponents-core-5.2.x/current/httpcore5/apidocs/index.html?org/apache/hc/core5/http/io/HttpClientResponseHandler.html\" rel=\"nofollow noreferrer\"><code>HttpClientResponseHandler</code></a>, which will automatically deallocate any resources. Here's an example:</p>\n<pre><code>MyObject myObject = httpclient.execute(httpget, new HttpClientResponseHandler&lt;MyObject&gt;() {\n    @Override\n    public MyObject handleResponse(ClassicHttpResponse response) throws HttpException, IOException {\n        Scanner scanner = new Scanner(response.getEntity().getContent());\n        int id = scanner.nextInt();\n        String name = scanner.next();\n        String description = scanner.nextLine();\n        return new MyObject(id, name, description);\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":29620184,"reputation":13,"user_id":22701382,"display_name":"AJHG"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":1,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77607097,"answer_count":1,"score":1,"last_activity_date":1701796854,"creation_date":1701785760,"question_id":77606897,"body_markdown":"I get an error everytime I try to get the content of an Entity object.\r\n\r\n    package com.mycompany.prueba_rest;\r\n\r\n    import java.io.IOException;\r\n    import java.util.Scanner;\r\n    import org.apache.hc.client5.http.classic.methods.HttpGet;\r\n    import org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\r\n    import org.apache.hc.client5.http.impl.classic.HttpClients;\r\n    import org.apache.hc.core5.http.HttpResponse;\r\n\r\n    public class Prueba_REST {\r\n\r\n        public static void main(String[] args) throws IOException {\r\n        \r\n           // Crear objeto HttpClient.\r\n           CloseableHttpClient httpclient = HttpClients.createDefault();\r\n\r\n           //Crear un objeto HttpGet.\r\n           HttpGet httpget = new HttpGet(&quot;https://www.tutorialspoint.com&quot;);\r\n\r\n           //Imprimir por pantalla el m&#233;todo usado.\r\n           System.out.println(&quot;Request Type: &quot;+httpget.getMethod());\r\n\r\n           //Ejecutar el pedido GET.\r\n           HttpResponse httpresponse = httpclient.execute(httpget);\r\n\r\n                                                      // Error here!\r\n           Scanner scanner = new Scanner(httpresponse.getEntity().getContent());\r\n        }\r\n    }\r\n\r\nI tried changing the version of the repository and looking for information in the official documentation that could help me solve this problem.\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents.client5/httpclient5 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\r\n            &lt;version&gt;5.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;","title":"How do I get the content of the Entity object from the HttpResponse instance?","body":"<p>I get an error everytime I try to get the content of an Entity object.</p>\n<pre><code>package com.mycompany.prueba_rest;\n\nimport java.io.IOException;\nimport java.util.Scanner;\nimport org.apache.hc.client5.http.classic.methods.HttpGet;\nimport org.apache.hc.client5.http.impl.classic.CloseableHttpClient;\nimport org.apache.hc.client5.http.impl.classic.HttpClients;\nimport org.apache.hc.core5.http.HttpResponse;\n\npublic class Prueba_REST {\n\n    public static void main(String[] args) throws IOException {\n    \n       // Crear objeto HttpClient.\n       CloseableHttpClient httpclient = HttpClients.createDefault();\n\n       //Crear un objeto HttpGet.\n       HttpGet httpget = new HttpGet(&quot;https://www.tutorialspoint.com&quot;);\n\n       //Imprimir por pantalla el método usado.\n       System.out.println(&quot;Request Type: &quot;+httpget.getMethod());\n\n       //Ejecutar el pedido GET.\n       HttpResponse httpresponse = httpclient.execute(httpget);\n\n                                                  // Error here!\n       Scanner scanner = new Scanner(httpresponse.getEntity().getContent());\n    }\n}\n</code></pre>\n<p>I tried changing the version of the repository and looking for information in the official documentation that could help me solve this problem.</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.httpcomponents.client5/httpclient5 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents.client5&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient5&lt;/artifactId&gt;\n        &lt;version&gt;5.2.1&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n"},{"tags":["java","maven","mockito","maven-plugin","mojo"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1701808180,"post_id":77608066,"comment_id":136820618,"body_markdown":"So this: `during a mojo execution.` means you are writing a plugin? What kind of plugin is that? Why do you need to test resolver? What is the idea?  Apart from that you should test with the plugin?","body":"So this: <code>during a mojo execution.</code> means you are writing a plugin? What kind of plugin is that? Why do you need to test resolver? What is the idea?  Apart from that you should test with the plugin?"}],"owner":{"account_id":29664334,"reputation":11,"user_id":22735242,"display_name":"Kevin Nammour"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1701796551,"creation_date":1701796551,"question_id":77608066,"body_markdown":"I have a class in my maven project that is used to resolve artifacts during a mojo execution. However I need to write tests for this ArtifactResolver class that tests it on a real repo which is let&#39;s say maven&#39;s central repo.\r\n\r\nThis is my class:\r\n\r\n```\r\npublic class ArtifactResolver {\r\n    private final RepositorySystem repositorySystem;\r\n\r\n    private final RepositorySystemSession repositorySystemSession;\r\n\r\n    private final List&lt;RemoteRepository&gt; remoteRepositoryList;\r\n\r\n    public ArtifactResolver(RepositorySystem repositorySystem,\r\n                            RepositorySystemSession repositorySystemSession,\r\n                            List&lt;RemoteRepository&gt; remoteRepositoryList) {\r\n        this.repositorySystem = repositorySystem;\r\n        this.repositorySystemSession = repositorySystemSession;\r\n        this.remoteRepositoryList = remoteRepositoryList;\r\n    }\r\n\r\n    public ArtifactResult resolve(Artifact artifact) throws ArtifactResolutionException {\r\n        ArtifactRequest artifactRequest = new ArtifactRequest();\r\n        artifactRequest.setArtifact(artifact);\r\n        artifactRequest.setRepositories(remoteRepositoryList);\r\n        return repositorySystem.resolveArtifact(repositorySystemSession, artifactRequest);\r\n    }\r\n}\r\n```\r\n\r\nI just want to create mock instances of repositorySystemSession and remoteRepositoryList that will be able to resolve a real dependency like log4j for example.\r\n\r\nAdding the remote repositories works manually, however I am finding mocking instances of repositorySystemSession and remoteRepositoryList hard. What I tried is creating them using the following:\r\n\r\n```\r\npackage murex.subsystems.dependencies.services;\r\n\r\nimport org.eclipse.aether.RepositorySystem;\r\nimport org.eclipse.aether.RepositorySystemSession;\r\nimport org.eclipse.aether.artifact.DefaultArtifact;\r\nimport org.eclipse.aether.repository.RemoteRepository;\r\nimport org.apache.maven.repository.internal.MavenRepositorySystemUtils;\r\nimport org.eclipse.aether.resolution.ArtifactResolutionException;\r\nimport org.junit.jupiter.api.BeforeEach;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.io.TempDir;\r\n\r\nimport java.io.File;\r\nimport java.util.Collections;\r\nimport java.util.List;\r\n\r\npublic class ArtifactResolverTest {\r\n    private ArtifactResolver artifactResolver;\r\n\r\n    @BeforeEach\r\n    public void beforeEach(@TempDir File tempDir) {\r\n        RepositorySystem repositorySystem = MavenRepositorySystemUtils.newServiceLocator().getService(RepositorySystem.class);\r\n        RepositorySystemSession repositorySystemSession = MavenRepositorySystemUtils.newSession();\r\n        RemoteRepository remoteRepository = new RemoteRepository.Builder(&quot;central&quot;, &quot;default&quot;, &quot;https://repo.maven.apache.org/maven2/&quot;).build();\r\n        List&lt;RemoteRepository&gt; remoteRepositoryList = Collections.singletonList(remoteRepository);\r\n        artifactResolver = new ArtifactResolver(null, repositorySystem, repositorySystemSession, remoteRepositoryList);\r\n\r\n    }\r\n\r\n    @Test\r\n    void testResolve() throws ArtifactResolutionException {\r\n        artifactResolver.resolve(new DefaultArtifact(&quot;log4j:log4j:1.2.17&quot;));\r\n    }\r\n}\r\n```\r\n\r\nBut I am facing the following error:\r\n\r\njava.lang.NullPointerException: repository system session&#39;s local repository manager cannot be null\r\n\r\nSo can anyone assist me with that?","title":"Writing tests for apache maven resolver","body":"<p>I have a class in my maven project that is used to resolve artifacts during a mojo execution. However I need to write tests for this ArtifactResolver class that tests it on a real repo which is let's say maven's central repo.</p>\n<p>This is my class:</p>\n<pre><code>public class ArtifactResolver {\n    private final RepositorySystem repositorySystem;\n\n    private final RepositorySystemSession repositorySystemSession;\n\n    private final List&lt;RemoteRepository&gt; remoteRepositoryList;\n\n    public ArtifactResolver(RepositorySystem repositorySystem,\n                            RepositorySystemSession repositorySystemSession,\n                            List&lt;RemoteRepository&gt; remoteRepositoryList) {\n        this.repositorySystem = repositorySystem;\n        this.repositorySystemSession = repositorySystemSession;\n        this.remoteRepositoryList = remoteRepositoryList;\n    }\n\n    public ArtifactResult resolve(Artifact artifact) throws ArtifactResolutionException {\n        ArtifactRequest artifactRequest = new ArtifactRequest();\n        artifactRequest.setArtifact(artifact);\n        artifactRequest.setRepositories(remoteRepositoryList);\n        return repositorySystem.resolveArtifact(repositorySystemSession, artifactRequest);\n    }\n}\n</code></pre>\n<p>I just want to create mock instances of repositorySystemSession and remoteRepositoryList that will be able to resolve a real dependency like log4j for example.</p>\n<p>Adding the remote repositories works manually, however I am finding mocking instances of repositorySystemSession and remoteRepositoryList hard. What I tried is creating them using the following:</p>\n<pre><code>package murex.subsystems.dependencies.services;\n\nimport org.eclipse.aether.RepositorySystem;\nimport org.eclipse.aether.RepositorySystemSession;\nimport org.eclipse.aether.artifact.DefaultArtifact;\nimport org.eclipse.aether.repository.RemoteRepository;\nimport org.apache.maven.repository.internal.MavenRepositorySystemUtils;\nimport org.eclipse.aether.resolution.ArtifactResolutionException;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.io.TempDir;\n\nimport java.io.File;\nimport java.util.Collections;\nimport java.util.List;\n\npublic class ArtifactResolverTest {\n    private ArtifactResolver artifactResolver;\n\n    @BeforeEach\n    public void beforeEach(@TempDir File tempDir) {\n        RepositorySystem repositorySystem = MavenRepositorySystemUtils.newServiceLocator().getService(RepositorySystem.class);\n        RepositorySystemSession repositorySystemSession = MavenRepositorySystemUtils.newSession();\n        RemoteRepository remoteRepository = new RemoteRepository.Builder(&quot;central&quot;, &quot;default&quot;, &quot;https://repo.maven.apache.org/maven2/&quot;).build();\n        List&lt;RemoteRepository&gt; remoteRepositoryList = Collections.singletonList(remoteRepository);\n        artifactResolver = new ArtifactResolver(null, repositorySystem, repositorySystemSession, remoteRepositoryList);\n\n    }\n\n    @Test\n    void testResolve() throws ArtifactResolutionException {\n        artifactResolver.resolve(new DefaultArtifact(&quot;log4j:log4j:1.2.17&quot;));\n    }\n}\n</code></pre>\n<p>But I am facing the following error:</p>\n<p>java.lang.NullPointerException: repository system session's local repository manager cannot be null</p>\n<p>So can anyone assist me with that?</p>\n"},{"tags":["java","pdf","itext","pdf-reader"],"comments":[{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":2,"creation_date":1458732682,"post_id":36176286,"comment_id":59989170,"body_markdown":"Why are you forced to use an ancient and unmaintained version of iText that doesn&#39;t contain the feature you need?","body":"Why are you forced to use an ancient and unmaintained version of iText that doesn&#39;t contain the feature you need?"},{"owner":{"account_id":400683,"reputation":7350,"user_id":766786,"accept_rate":68,"display_name":"Amedee Van Gasse"},"score":4,"creation_date":1458747253,"post_id":36176286,"comment_id":60000131,"body_markdown":"If you look at the source code (https://github.com/itext/itextpdf/blob/develop/itext/src/main/java/com/itextpdf/text/pdf/PdfReader.java) then you will see that `unethicalreading` was added in iText 5.0.2 _(`com.itextpdf` iText)_. More precisely, in this commit: https://github.com/itext/itextpdf/commit/c27c608dee1495b91dc290653b1f387d7c09adde on Mar 31, 2010. Which means you are using a version of iText that is at least 6 years old.","body":"If you look at the source code (<a href=\"https://github.com/itext/itextpdf/blob/develop/itext/src/main/java/com/itextpdf/text/pdf/PdfReader.java\" rel=\"nofollow noreferrer\">github.com/itext/itextpdf/blob/develop/itext/src/main/java/&zwnj;&#8203;com/&hellip;</a>) then you will see that <code>unethicalreading</code> was added in iText 5.0.2 <i>(<code>com.itextpdf</code> iText)</i>. More precisely, in this commit: <a href=\"https://github.com/itext/itextpdf/commit/c27c608dee1495b91dc290653b1f387d7c09adde\" rel=\"nofollow noreferrer\">github.com/itext/itextpdf/commit/&hellip;</a> on Mar 31, 2010. Which means you are using a version of iText that is at least 6 years old."}],"answers":[{"tags":[],"owner":{"account_id":4763924,"reputation":26697,"user_id":3850595,"accept_rate":86,"display_name":"Jordi Castilla"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1560936381,"creation_date":1458731495,"answer_id":36176562,"question_id":36176286,"body_markdown":"[Here][1] there seems to be a workaround to make iText to ignore password **with a disclaimer**:\r\n&gt;**I leave legal issues up to you** by executing the code below.\r\n\r\n    public static PdfReader unlockPdf(PdfReader reader) {\r\n        if (reader == null) {\r\n            return reader;\r\n        }\r\n        try {\r\n            java.lang.reflect.Field f = reader.getClass().getDeclaredField(&quot;encrypted&quot;);\r\n            f.setAccessible(true);\r\n            f.set(reader, false);\r\n        } catch (Exception e) { /* ignore */ }\r\n        return reader;\r\n    }\r\n\r\n  [1]: http://www.pdfsam.org/pdf-split-and-merge/if-you-have-the-error-message-pdfreader-not-opened-with-owner-password/323/","title":"iText - read PDFs created with an unknown random owner password","body":"<p><a href=\"http://www.pdfsam.org/pdf-split-and-merge/if-you-have-the-error-message-pdfreader-not-opened-with-owner-password/323/\" rel=\"noreferrer\">Here</a> there seems to be a workaround to make iText to ignore password <strong>with a disclaimer</strong>:</p>\n\n<blockquote>\n  <p><strong>I leave legal issues up to you</strong> by executing the code below.</p>\n</blockquote>\n\n<pre><code>public static PdfReader unlockPdf(PdfReader reader) {\n    if (reader == null) {\n        return reader;\n    }\n    try {\n        java.lang.reflect.Field f = reader.getClass().getDeclaredField(\"encrypted\");\n        f.setAccessible(true);\n        f.set(reader, false);\n    } catch (Exception e) { /* ignore */ }\n    return reader;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12711122,"reputation":46,"user_id":9234724,"display_name":"Alan Baronio Menegotto"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1701796087,"creation_date":1701796087,"answer_id":77608022,"question_id":36176286,"body_markdown":"For OpenPDF there&#39;s a property on PdfReader that does the magic:\r\n\r\n    /**\r\n       * Sets whether the document (if encrypted) may be modified even if the owner password was not\r\n       * supplied. If this is set to &lt;CODE&gt;false&lt;/CODE&gt; an exception will be thrown when attempting to\r\n       * access the Document if the owner password was not supplied (for encrypted documents.)\r\n       *\r\n       * @param modificationAllowedWithoutOwnerPassword\r\n       *         the modificationAllowedWithoutOwnerPassword state.\r\n       */\r\n      public void setModificationAllowedWithoutOwnerPassword(\r\n        boolean modificationAllowedWithoutOwnerPassword) {\r\n        this.modificationAllowedWithoutOwnerPassword = modificationAllowedWithoutOwnerPassword;\r\n      }\r\n\r\nCode Example:\r\n\r\n    PdfReader reader = new PdfReader(byteArray);\r\n    reader.setModificationAllowedWithoutOwnerPassword(true);\t\t\r\n    \r\n    reader.addViewerPreference(PdfName.HIDE, PdfBoolean.PDFFALSE);\r\n    reader.addViewerPreference(PdfName.HIDEWINDOWUI,PdfBoolean.PDFFALSE);\r\n    \t\t\r\n    // encrypt e sai para byte array\r\n    ByteArrayOutputStream os = new ByteArrayOutputStream();\r\n    PdfEncryptor.encrypt(reader, os, null, null, permissions, true);\r\n    reader.close();\r\n\r\nSource: https://github.com/LibrePDF/OpenPDF/pull/84","title":"iText - read PDFs created with an unknown random owner password","body":"<p>For OpenPDF there's a property on PdfReader that does the magic:</p>\n<pre><code>/**\n   * Sets whether the document (if encrypted) may be modified even if the owner password was not\n   * supplied. If this is set to &lt;CODE&gt;false&lt;/CODE&gt; an exception will be thrown when attempting to\n   * access the Document if the owner password was not supplied (for encrypted documents.)\n   *\n   * @param modificationAllowedWithoutOwnerPassword\n   *         the modificationAllowedWithoutOwnerPassword state.\n   */\n  public void setModificationAllowedWithoutOwnerPassword(\n    boolean modificationAllowedWithoutOwnerPassword) {\n    this.modificationAllowedWithoutOwnerPassword = modificationAllowedWithoutOwnerPassword;\n  }\n</code></pre>\n<p>Code Example:</p>\n<pre><code>PdfReader reader = new PdfReader(byteArray);\nreader.setModificationAllowedWithoutOwnerPassword(true);        \n\nreader.addViewerPreference(PdfName.HIDE, PdfBoolean.PDFFALSE);\nreader.addViewerPreference(PdfName.HIDEWINDOWUI,PdfBoolean.PDFFALSE);\n        \n// encrypt e sai para byte array\nByteArrayOutputStream os = new ByteArrayOutputStream();\nPdfEncryptor.encrypt(reader, os, null, null, permissions, true);\nreader.close();\n</code></pre>\n<p>Source: <a href=\"https://github.com/LibrePDF/OpenPDF/pull/84\" rel=\"nofollow noreferrer\">https://github.com/LibrePDF/OpenPDF/pull/84</a></p>\n"}],"owner":{"account_id":5225325,"reputation":1053,"user_id":4177544,"display_name":"0x44656E6E79"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4507,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":36176562,"answer_count":2,"score":2,"last_activity_date":1701796087,"creation_date":1458730717,"question_id":36176286,"body_markdown":"I&#39;m getting the following exception when excecuting this code:\r\n\r\n    public byte[] watermarking(byte[] orig) throws IOException {\r\n            PdfReader pdfReader = new PdfReader(orig);\r\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n            PdfStamper pdfStamper = null;\r\n    \r\n            try {\r\n                pdfStamper = new PdfStamper(pdfReader, baos); //exc here\r\n                ...\r\n                }\r\n                ...\r\n            } catch (DocumentException var8) {\r\n                ...\r\n            }\r\n        }\r\n\r\nException:\r\n\r\n    11:43:11,094 ERROR [de.mlp.xbg.pa.rest.SessionRR] (http-/127.0.0.1:8081-6) PdfReader not opened with owner password: java.lang.IllegalArgumentException: PdfReader not opened with owner password\r\n\t\r\nI checked other threads regarding this topic and it seems that the easiest solution is to add `PdfReader.unethicalreading = true;`\r\n\r\nHowever, I&#39;m forced to use iText 2.1.7 or older _(`com.lowagie` iText)_ and not iText 5.0.0 or newer _(`com.itextpdf` iText)_. `PdfReader.unethicalreading` does not exist in the old version of the library.","title":"iText - read PDFs created with an unknown random owner password","body":"<p>I'm getting the following exception when excecuting this code:</p>\n\n<pre><code>public byte[] watermarking(byte[] orig) throws IOException {\n        PdfReader pdfReader = new PdfReader(orig);\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        PdfStamper pdfStamper = null;\n\n        try {\n            pdfStamper = new PdfStamper(pdfReader, baos); //exc here\n            ...\n            }\n            ...\n        } catch (DocumentException var8) {\n            ...\n        }\n    }\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>11:43:11,094 ERROR [de.mlp.xbg.pa.rest.SessionRR] (http-/127.0.0.1:8081-6) PdfReader not opened with owner password: java.lang.IllegalArgumentException: PdfReader not opened with owner password\n</code></pre>\n\n<p>I checked other threads regarding this topic and it seems that the easiest solution is to add <code>PdfReader.unethicalreading = true;</code></p>\n\n<p>However, I'm forced to use iText 2.1.7 or older <em>(<code>com.lowagie</code> iText)</em> and not iText 5.0.0 or newer <em>(<code>com.itextpdf</code> iText)</em>. <code>PdfReader.unethicalreading</code> does not exist in the old version of the library.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9902,"page":15,"page_size":100}
