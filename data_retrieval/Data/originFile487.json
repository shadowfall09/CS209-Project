{"items":[{"tags":["java","android","bluetooth-lowenergy"],"answers":[{"comments":[{"owner":{"account_id":5459362,"reputation":565,"user_id":4341933,"accept_rate":100,"display_name":"Alexander Mladzhov"},"score":0,"creation_date":1682429653,"post_id":76070543,"comment_id":134211503,"body_markdown":"Hello, Tony please add some descriptions, of why you have taken these actions","body":"Hello, Tony please add some descriptions, of why you have taken these actions"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1682429668,"post_id":76070543,"comment_id":134211507,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76070543/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28092522,"reputation":1,"user_id":21461808,"display_name":"Tony Siu"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682059337,"creation_date":1682059337,"answer_id":76070543,"question_id":74290632,"body_markdown":"Add setScannable(true) to the advertisingSetParameters. Thats what I did.\r\n```\r\n   AdvertisingSetParameters.Builder advertisingSetParametersBuilder = (new AdvertisingSetParameters.Builder())\r\n                .setConnectable(false)\r\n                .setScannable(true)\r\n                .setInterval(AdvertisingSetParameters.INTERVAL_MIN)\r\n                .setTxPowerLevel(AdvertisingSetParameters.TX_POWER_MIN);\r\n```","title":"Android Ble AdvertisingSet not sending scanResponse","body":"<p>Add setScannable(true) to the advertisingSetParameters. Thats what I did.</p>\n<pre><code>   AdvertisingSetParameters.Builder advertisingSetParametersBuilder = (new AdvertisingSetParameters.Builder())\n                .setConnectable(false)\n                .setScannable(true)\n                .setInterval(AdvertisingSetParameters.INTERVAL_MIN)\n                .setTxPowerLevel(AdvertisingSetParameters.TX_POWER_MIN);\n</code></pre>\n"}],"owner":{"account_id":10739241,"reputation":116,"user_id":7902933,"display_name":"Gaspar gg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682059337,"creation_date":1667398510,"question_id":74290632,"body_markdown":"it looks like advertisingSet does not send the scan response passed in parameter.\r\nDoes anyone know what i&#39;m doing wrong here ?\r\n\r\nAdvertisingSet : \r\n\r\n    AdvertisingSetParameters parameters = (new AdvertisingSetParameters.Builder())\r\n                    .setConnectable(false)\r\n                    .setLegacyMode(true)\r\n                    .setInterval(AdvertisingSetParameters.INTERVAL_HIGH)\r\n                    .setTxPowerLevel(AdvertisingSetParameters.TX_POWER_MEDIUM)\r\n                    .build();\r\n    \r\n    byte[] packet = &quot;hello&quot;.getBytes(StandardCharsets.UTF_8);\r\n    \r\n    \r\n    AdvertiseData data = new AdvertiseData.Builder()\r\n    \t\t.setIncludeDeviceName( true )\r\n    \t\t.setIncludeTxPowerLevel(false)\r\n    \t\t.addServiceUuid(serviceId)\r\n    \t\t.build();\r\n    \r\n    AdvertiseData response = new AdvertiseData.Builder()\r\n    \t\t.setIncludeDeviceName( false )\r\n    \t\t.setIncludeTxPowerLevel(false)\r\n    \t\t.addServiceUuid(serviceId)\r\n    \t\t.addServiceData(serviceId, packet )\r\n    \t\t.build();\r\n    \t\t\r\n    \r\n    advertiser.startAdvertisingSet(parameters, data, response, null, null,callback);\r\n\r\n\r\nScanner : \r\n\r\n    List&lt;ScanFilter&gt; filters = new ArrayList&lt;&gt;();\r\n    ScanFilter filter = new ScanFilter.Builder()\r\n    \t\t.setServiceUuid(serviceId)\r\n    \t\t.build();\r\n    filters.add( filter );\r\n    \r\n    // Setting scanning mode to low latency\r\n    ScanSettings scanSettings = new ScanSettings.Builder()\r\n    \t\t.setScanMode( ScanSettings.SCAN_MODE_LOW_LATENCY )\r\n    \t\t.build();\r\n    \r\n    \r\n    \r\n    bluetoothLeScanner.startScan(filters, scanSettings,\r\n    \t\tnew ScanCallback() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void onScanResult(int callbackType, ScanResult result) {\r\n    \t\t\t\tsuper.onScanResult(callbackType, result);\r\n    \t\t\t\tLog.d(TAG, scanResult.toString());\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onBatchScanResults(List&lt;ScanResult&gt; results) {\r\n    \t\t\t\tsuper.onBatchScanResults(results);\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void onScanFailed(int errorCode) {\r\n    \t\t\t\tsuper.onScanFailed(errorCode);\r\n    \t\t\t\tLog.e(TAG, &quot;onScanFailed: &quot; + errorCode);\r\n    \t\t\t}\r\n    \t\t});\r\n\r\n\r\nthis is what is given by the scaner callback, as you can see, the scanResponse has not been found as the serviceData is empty. What am i missing ?\r\n\r\n    ScanResult{device=6F:26:02:1A:91:E7,\r\n     scanRecord=ScanRecord [mAdvertiseFlags=-1,\r\n     mServiceUuids=[0000950d-0000-1000-8000-00805f9b34fb],\r\n     mManufacturerSpecificData={},\r\n     mServiceData={},\r\n     mTxPowerLevel=-2147483648,\r\n     mDeviceName=1RLjXZvX/Default user],\r\n     rssi=-62,\r\n     timestampNanos=11220453733034,\r\n     eventType=16,\r\n     primaryPhy=1,\r\n     secondaryPhy=0,\r\n     advertisingSid=255,\r\n     txPower=127,\r\n     periodicAdvertisingInterval=0}\r\n\r\n\r\n","title":"Android Ble AdvertisingSet not sending scanResponse","body":"<p>it looks like advertisingSet does not send the scan response passed in parameter.\nDoes anyone know what i'm doing wrong here ?</p>\n<p>AdvertisingSet :</p>\n<pre><code>AdvertisingSetParameters parameters = (new AdvertisingSetParameters.Builder())\n                .setConnectable(false)\n                .setLegacyMode(true)\n                .setInterval(AdvertisingSetParameters.INTERVAL_HIGH)\n                .setTxPowerLevel(AdvertisingSetParameters.TX_POWER_MEDIUM)\n                .build();\n\nbyte[] packet = &quot;hello&quot;.getBytes(StandardCharsets.UTF_8);\n\n\nAdvertiseData data = new AdvertiseData.Builder()\n        .setIncludeDeviceName( true )\n        .setIncludeTxPowerLevel(false)\n        .addServiceUuid(serviceId)\n        .build();\n\nAdvertiseData response = new AdvertiseData.Builder()\n        .setIncludeDeviceName( false )\n        .setIncludeTxPowerLevel(false)\n        .addServiceUuid(serviceId)\n        .addServiceData(serviceId, packet )\n        .build();\n        \n\nadvertiser.startAdvertisingSet(parameters, data, response, null, null,callback);\n</code></pre>\n<p>Scanner :</p>\n<pre><code>List&lt;ScanFilter&gt; filters = new ArrayList&lt;&gt;();\nScanFilter filter = new ScanFilter.Builder()\n        .setServiceUuid(serviceId)\n        .build();\nfilters.add( filter );\n\n// Setting scanning mode to low latency\nScanSettings scanSettings = new ScanSettings.Builder()\n        .setScanMode( ScanSettings.SCAN_MODE_LOW_LATENCY )\n        .build();\n\n\n\nbluetoothLeScanner.startScan(filters, scanSettings,\n        new ScanCallback() {\n            @Override\n            public void onScanResult(int callbackType, ScanResult result) {\n                super.onScanResult(callbackType, result);\n                Log.d(TAG, scanResult.toString());\n\n            }\n\n            @Override\n            public void onBatchScanResults(List&lt;ScanResult&gt; results) {\n                super.onBatchScanResults(results);\n            }\n\n            @Override\n            public void onScanFailed(int errorCode) {\n                super.onScanFailed(errorCode);\n                Log.e(TAG, &quot;onScanFailed: &quot; + errorCode);\n            }\n        });\n</code></pre>\n<p>this is what is given by the scaner callback, as you can see, the scanResponse has not been found as the serviceData is empty. What am i missing ?</p>\n<pre><code>ScanResult{device=6F:26:02:1A:91:E7,\n scanRecord=ScanRecord [mAdvertiseFlags=-1,\n mServiceUuids=[0000950d-0000-1000-8000-00805f9b34fb],\n mManufacturerSpecificData={},\n mServiceData={},\n mTxPowerLevel=-2147483648,\n mDeviceName=1RLjXZvX/Default user],\n rssi=-62,\n timestampNanos=11220453733034,\n eventType=16,\n primaryPhy=1,\n secondaryPhy=0,\n advertisingSid=255,\n txPower=127,\n periodicAdvertisingInterval=0}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":23540670,"reputation":11,"user_id":17584913,"display_name":"lulzeR"},"score":0,"creation_date":1682029928,"post_id":76068254,"comment_id":134155923,"body_markdown":"oh my bad there is the service I will add","body":"oh my bad there is the service I will add"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682059014,"creation_date":1682024507,"answer_id":76068254,"question_id":76067761,"body_markdown":"The user object being submitted to `register` does not have the password field populated.\r\n\r\nThe code you show here looks fine. \r\n\r\nEither the page is not populating the password field or there is something wrong with the UserJsonView.RegistrationView class. Can you add it to the question.\r\n\r\nAlso, I need all the annotations on the `resister` method. Logically it’s a PUT or POST but I don’t see the annotation.\r\n\r\nThe html page calling `register` would be helpful.\r\n\r\nPlease add more code and a System.out.println(user) in `register` and add the output to the question.\r\n\r\nI suspect that the next step is for me to simulate. I will need enough code to do that.","title":"getting rawPassword cannot be null while creating auth by json consumption?","body":"<p>The user object being submitted to <code>register</code> does not have the password field populated.</p>\n<p>The code you show here looks fine.</p>\n<p>Either the page is not populating the password field or there is something wrong with the UserJsonView.RegistrationView class. Can you add it to the question.</p>\n<p>Also, I need all the annotations on the <code>resister</code> method. Logically it’s a PUT or POST but I don’t see the annotation.</p>\n<p>The html page calling <code>register</code> would be helpful.</p>\n<p>Please add more code and a System.out.println(user) in <code>register</code> and add the output to the question.</p>\n<p>I suspect that the next step is for me to simulate. I will need enough code to do that.</p>\n"}],"owner":{"account_id":23540670,"reputation":11,"user_id":17584913,"display_name":"lulzeR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682059014,"creation_date":1682020237,"question_id":76067761,"body_markdown":"Here is my Secuiry by using SecurityFilterChain and providing PasswordEncored but still have an error which I will provide in the next block\r\n```\r\n\r\n@Configuration\r\n@EnableGlobalMethodSecurity(prePostEnabled = true)\r\npublic class SpringSecurity {\r\n\r\n    private final RecipesUserDetailsService userDetailsService;\r\n\r\n    @Autowired\r\n    public SpringSecurity(RecipesUserDetailsService userDetailsService) {\r\n        this.userDetailsService = userDetailsService;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider authenticationProvider() {\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService);\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n        return authProvider;\r\n    }\r\n\r\n    @Bean\r\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.httpBasic()\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/api/register&quot;).anonymous()\r\n                .antMatchers(&quot;/actuator/shutdown&quot;).anonymous()\r\n                .antMatchers(&quot;/h2-console/**&quot;).anonymous()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .csrf().disable()\r\n                .headers().frameOptions().disable();\r\n        return http.build();\r\n    }\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(authenticationProvider());\r\n    }\r\n\r\n}\r\n```\r\n\r\nand here is the detailService\r\n\r\n```\r\n@Service\r\n@AllArgsConstructor\r\npublic class RecipesUserDetailsService implements UserDetailsService {\r\n    private final UserRepository userRepository;\r\n\r\n\r\n    @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        User user = userRepository.findById(username)\r\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\r\n        return new RecipeUserDetails(user);\r\n    }\r\n}\r\n\r\n```\r\n\r\nand getting error like this in the run terminal and i don&#39;t really get what is wrong in my code\r\n\r\n\r\n```\r\n2023-04-21 04:41:09.574 ERROR 404954 --- [nio-8822-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: rawPassword cannot be null] with root cause\r\n\r\njava.lang.IllegalArgumentException: rawPassword cannot be null\r\n\tat org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(BCryptPasswordEncoder.java:107) ~[spring-security-crypto-5.5.3.jar:5.5.3]\r\n\tat recipes.service.UserService.add(UserService.java:26) ~[classes/:na]\r\n\tat recipes.controller.RegistrationController.register(RegistrationController.java:29) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI was sending auth via spring security, sending json request like this in Controller\r\n\r\n```@PostMapping(value = &quot;/register&quot;, consumes = APPLICATION_JSON_VALUE)\r\n    @ResponseStatus(HttpStatus.OK)\r\n    public void register(@JsonView(UserJsonView.RegistrationView.class)\r\n                             @Valid @RequestBody User user){\r\n        userService.add(user);\r\n    }```\r\n\r\nhere is service\r\n\r\n    @Service\r\npublic class UserService {\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Autowired\r\n    public UserService(UserRepository userRepository, PasswordEncoder passwordEncoder) {\r\n        this.userRepository = userRepository;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\n    public void add(User user) {\r\n        if (userRepository.existsById(user.getEmail())) {\r\n            throw new KeyAlreadyExistsException();\r\n        }\r\n        String encodedPassword = passwordEncoder.encode(user.getPassword());\r\n        user.setPassword(encodedPassword);\r\n        userRepository.save(user);\r\n    }\r\n    public void addTest(User user) {\r\n        userRepository.save(user);\r\n    }\r\n}\r\n\r\nUser\r\n\r\n    @Entity\r\n@Table(name = &quot;USERS&quot;)\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class User {\r\n    @Id\r\n    @NotBlank\r\n    @Email(regexp = &quot;^(?=.{1,64}@)[A-Za-z0-9\\\\+_-]+(\\\\.[A-Za-z0-9\\\\+_-]+)*@&quot;\r\n            + &quot;[^-][A-Za-z0-9\\\\+-]+(\\\\.[A-Za-z0-9\\\\+-]+)*(\\\\.[A-Za-z]{2,})$&quot;)\r\n    @JsonView(UserJsonView.RegistrationView.class)\r\n    private String email;\r\n\r\n\r\n    @Size(min = 8)\r\n    private String password;\r\n\r\n     @OneToMany(mappedBy = &quot;user&quot;,cascade = CascadeType.ALL)\r\n     private Set&lt;Recipe&gt; recipe;\r\n}\r\n","title":"getting rawPassword cannot be null while creating auth by json consumption?","body":"<p>Here is my Secuiry by using SecurityFilterChain and providing PasswordEncored but still have an error which I will provide in the next block</p>\n<pre><code>\n@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class SpringSecurity {\n\n    private final RecipesUserDetailsService userDetailsService;\n\n    @Autowired\n    public SpringSecurity(RecipesUserDetailsService userDetailsService) {\n        this.userDetailsService = userDetailsService;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n\n    @Bean\n    SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.httpBasic()\n                .and()\n                .authorizeRequests()\n                .antMatchers(&quot;/api/register&quot;).anonymous()\n                .antMatchers(&quot;/actuator/shutdown&quot;).anonymous()\n                .antMatchers(&quot;/h2-console/**&quot;).anonymous()\n                .anyRequest().authenticated()\n                .and()\n                .csrf().disable()\n                .headers().frameOptions().disable();\n        return http.build();\n    }\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n}\n</code></pre>\n<p>and here is the detailService</p>\n<pre><code>@Service\n@AllArgsConstructor\npublic class RecipesUserDetailsService implements UserDetailsService {\n    private final UserRepository userRepository;\n\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        User user = userRepository.findById(username)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found&quot;));\n        return new RecipeUserDetails(user);\n    }\n}\n\n</code></pre>\n<p>and getting error like this in the run terminal and i don't really get what is wrong in my code</p>\n<pre><code>2023-04-21 04:41:09.574 ERROR 404954 --- [nio-8822-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: rawPassword cannot be null] with root cause\n\njava.lang.IllegalArgumentException: rawPassword cannot be null\n    at org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder.encode(BCryptPasswordEncoder.java:107) ~[spring-security-crypto-5.5.3.jar:5.5.3]\n    at recipes.service.UserService.add(UserService.java:26) ~[classes/:na]\n    at recipes.controller.RegistrationController.register(RegistrationController.java:29) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n\n</code></pre>\n<p>I was sending auth via spring security, sending json request like this in Controller</p>\n<pre><code>    @ResponseStatus(HttpStatus.OK)\n    public void register(@JsonView(UserJsonView.RegistrationView.class)\n                             @Valid @RequestBody User user){\n        userService.add(user);\n    }```\n\nhere is service\n\n    @Service\npublic class UserService {\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    @Autowired\n    public UserService(UserRepository userRepository, PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    public void add(User user) {\n        if (userRepository.existsById(user.getEmail())) {\n            throw new KeyAlreadyExistsException();\n        }\n        String encodedPassword = passwordEncoder.encode(user.getPassword());\n        user.setPassword(encodedPassword);\n        userRepository.save(user);\n    }\n    public void addTest(User user) {\n        userRepository.save(user);\n    }\n}\n\nUser\n\n    @Entity\n@Table(name = &quot;USERS&quot;)\n@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class User {\n    @Id\n    @NotBlank\n    @Email(regexp = &quot;^(?=.{1,64}@)[A-Za-z0-9\\\\+_-]+(\\\\.[A-Za-z0-9\\\\+_-]+)*@&quot;\n            + &quot;[^-][A-Za-z0-9\\\\+-]+(\\\\.[A-Za-z0-9\\\\+-]+)*(\\\\.[A-Za-z]{2,})$&quot;)\n    @JsonView(UserJsonView.RegistrationView.class)\n    private String email;\n\n\n    @Size(min = 8)\n    private String password;\n\n     @OneToMany(mappedBy = &quot;user&quot;,cascade = CascadeType.ALL)\n     private Set&lt;Recipe&gt; recipe;\n}\n</code></pre>\n"},{"tags":["java","android","react-native","android-studio"],"owner":{"account_id":16690407,"reputation":283,"user_id":12063167,"display_name":"rohit garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682058217,"creation_date":1682058217,"question_id":76070430,"body_markdown":"I have an android application and react native application, i had integrated my react app into existing android app.\r\nNow i have screens like\r\n\r\nNative Screen 1 ---&gt; OnClick Btn ---&gt; React Native Bundle. Now my react native bundle is loaded.\r\n\r\nNow if press back from React native Bundle i navigate back to native screen. Now if i again click the btn and navigate to react native bundles, in this case my entire bundle of react native will be loaded again, so i want to prevent it. I want if i have loaded one bundle in react native, i want to save its instance so that next time if i move to that bundle it will be used from there only without loading it again. ","title":"Saving the react native bundle when integrating in existing android application","body":"<p>I have an android application and react native application, i had integrated my react app into existing android app.\nNow i have screens like</p>\n<p>Native Screen 1 ---&gt; OnClick Btn ---&gt; React Native Bundle. Now my react native bundle is loaded.</p>\n<p>Now if press back from React native Bundle i navigate back to native screen. Now if i again click the btn and navigate to react native bundles, in this case my entire bundle of react native will be loaded again, so i want to prevent it. I want if i have loaded one bundle in react native, i want to save its instance so that next time if i move to that bundle it will be used from there only without loading it again.</p>\n"},{"tags":["java","nodes","traversal","jcreator"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1682057443,"post_id":76070321,"comment_id":134158719,"body_markdown":"What is unclear to you about that error message? Can you point in your code where you have defined a method called  `rotateWithRightChild`?","body":"What is unclear to you about that error message? Can you point in your code where you have defined a method called  <code>rotateWithRightChild</code>?"}],"answers":[{"tags":[],"owner":{"account_id":27436725,"reputation":89,"user_id":20932425,"display_name":"shmily"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682057719,"creation_date":1682057719,"answer_id":76070369,"question_id":76070321,"body_markdown":"your code defines only method `rotateWithLeftChild`. Please add method `rotateWithRightChild`.","title":"I do not know the solution of this, a program of an AVLTREEHow can i solve the error error: cannot find symbol node = rotateWithRightChild(node);","body":"<p>your code defines only method <code>rotateWithLeftChild</code>. Please add method <code>rotateWithRightChild</code>.</p>\n"}],"owner":{"account_id":25201131,"reputation":3,"user_id":19039982,"display_name":"ouie raphael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76070369,"answer_count":1,"score":0,"last_activity_date":1682057719,"creation_date":1682057228,"question_id":76070321,"body_markdown":"  This is the code of my program, it is an AVL Tree but it shows error  error: cannot find symbol\r\nThis error message is indicating that the compiler cannot find the symbol rotateWithRightChild. This typically happens when a method or variable is not defined in the current scope.\r\n   \t\t\t\t\t\t\r\n\r\n  import java.util.Scanner;\r\n    \r\n    class Node\r\n    {\r\n    \tint element;\r\n    \tint h;\r\n    \tNode leftChild;\r\n    \tNode rightChild;\r\n    \t\r\n    \tpublic Node()\r\n    \t{\r\n    \t\tleftChild = null;\r\n    \t\trightChild = null;\r\n    \t\telement = 0;\r\n    \t\th = 0;\r\n    \t}\r\n    \t\r\n    \tpublic Node(int element)\r\n    \t{\r\n    \t\tleftChild = null;\r\n    \t\trightChild = null;\r\n    \t\tthis.element = element;\r\n    \t\th = 0;\r\n    \t}\r\n    }\r\n    \r\n    class ConstructAVLTree\r\n    { \r\n       private Node rootNode;\r\n       \r\n       public ConstructAVLTree()\r\n       {\r\n       \trootNode = null;\r\n       }\r\n       \r\n       public void removeAll()\r\n       {\r\n       \t rootNode = null;\r\n       }\r\n       \r\n       public boolean checkEmpty()\r\n       {\r\n       \t if(rootNode == null)\r\n       \t \treturn true;\r\n       \t \telse\r\n       \t \t\treturn false;\r\n       }\r\n       \r\n       public void insertElement(int element)\r\n       {\r\n       \trootNode = insertElement (element, rootNode);\r\n       }\r\n       \r\n       private int getHeight(Node node)\r\n       {\r\n       \treturn node == null ?-1 : node.h;\r\n       }\r\n       \r\n       private int getMaxHeight(int leftNodeHeight, int rightNodeHeight)\r\n       {\r\n       \treturn leftNodeHeight &gt; rightNodeHeight ? leftNodeHeight : rightNodeHeight;\r\n       }\r\n       \r\n       private Node insertElement(int element, Node node)\r\n       {\r\n       \tif (node== null)\r\n       \t\tnode = new Node(element);\r\n       \t\t\telse if (element &lt; node.element)\r\n       \t\t\t{\r\n       \t\t\t\tnode.leftChild = insertElement( element, node.leftChild);\r\n       \t\t\t\tif (getHeight(node.leftChild)- getHeight(node.rightChild) == 2)\r\n       \t\t\t\t\tif (element &lt; node.leftChild.element)\r\n       \t\t\t\t\t\tnode = rotateWithLeftChild(node);\r\n       \t\t\t\t\t\telse\r\n       \t\t\t\t\t\t\tnode = doubleWithLeftChild(node);\r\n       \t\t\t}\r\n       \t\t\telse if ( element &gt; node.element)\r\n       \t\t\t{\r\n       \t\t\t\tnode.rightChild = insertElement( element, node.rightChild);\r\n       \t\t\t\tif (getHeight(node.rightChild)- getHeight(node.leftChild) == 2)\r\n       \t\t\t\t\tif (element &gt; node.rightChild.element)\r\n       \t\t\t\t\t\tnode = rotateWithRightChild(node);\r\n       \t\t\t\t\t\telse\r\n       \t\t\t\t\t\t\tnode = doubleWithRightChild(node);\r\n       \t\t\t\t\r\n       \t\t\t}\r\n       \t\t\telse\r\n       \t\t\t\tnode.h = getMaxHeight(getHeight(node.leftChild), getHeight(node.rightChild))+1;\r\n       \t\t\t\t\r\n       \t\t\t\treturn node;\r\n       }\r\n       \r\n       private Node rotateWithLeftChild(Node node2)\r\n       {\r\n       \t  Node node1 = node2.leftChild;\r\n       \t  node2.leftChild = node1.rightChild;\r\n       \t  node1.rightChild = node2;\r\n       \t  node2.h = getMaxHeight( getHeight(node2.leftChild), getHeight(node2.rightChild)) + 1;\r\n       \t  node1.h = getMaxHeight( getHeight(node1.leftChild), node2.h) + 1;\r\n       \t  return node1;\r\n       }\r\n       private Node doubleWithLeftChild(Node node3)\r\n       {\r\n       \r\n       \tnode3.leftChild = rotateWithRightChild( node3.leftChild);\r\n       \treturn rotateWithLeftChild (node3);\r\n       }\r\n       \r\n       private Node doubleWithRightChild( Node node1)\r\n       {\r\n       \tnode1.rightChild = rotateWithLeftChild( node1.rightChild);\r\n       \treturn rotateWithRightChild(node1);\r\n       }\r\n       \r\n       public int getTotalNumberOfNodes()\r\n       {\r\n       \t return getTotalNumberOfNodes(rootNode);\r\n       }\r\n       private int getTotalNumberOfNodes(Node head)\r\n       {\r\n       \tif (head==null)\r\n       \t\treturn 0;\r\n       \t\telse\r\n       \t\t{\r\n       \t\t\tint length = 1;\r\n       \t\t\tlength = length + getTotalNumberOfNodes(head.leftChild);\r\n       \t\t\tlength = length + getTotalNumberOfNodes(head.rightChild);\r\n       \t\t\treturn length;\r\n       \t\t}\r\n       }\r\n       public boolean searchElement(int element)\r\n       {\r\n       \treturn searchElement(rootNode, element);\r\n       }\r\n       \r\n       private boolean searchElement(Node head, int element)\r\n       {\r\n       \tboolean check = false;\r\n       \twhile ((head != null) &amp;&amp; !check)\r\n       \t{\r\n       \t\tint headElement = head.element;\r\n       \t\tif ( element &lt; headElement)\r\n       \t\t\thead = head.leftChild;\r\n       \t\t\telse if (element &gt; headElement)\r\n       \t\t\t\thead = head.rightChild;\r\n       \t\t\t\telse\r\n       \t\t\t\t{\r\n       \t\t\t\t\tcheck = true;\r\n       \t\t\t\t\tbreak;\r\n       \t\t\t\t}\r\n       \t\t\t\tcheck = searchElement(head, element);\r\n       \t}\r\n       \treturn check;\r\n       \t}\r\n       \t\r\n       \tpublic void inorderTraversal()\r\n       \t{\r\n       \t\tinorderTraversal(rootNode);\r\n       \t}\r\n       \tprivate void inorderTraversal(Node head)\r\n       \t{\r\n       \t\tif (head != null);\r\n       \t\t{\r\n       \t\t\tinorderTraversal(head.leftChild);\r\n       \t\t\t\tSystem.out.print(head.element+ &quot;&quot;);\r\n       \t\t\t\tinorderTraversal(head.rightChild);\r\n       \t\t}\r\n       \t}\r\n       \t\r\n       \tpublic void preorderTraversal()\r\n       \t{\r\n       \t\tpreorderTraversal(rootNode);\r\n       \t}\r\n       \tprivate void preorderTraversal(Node head)\r\n       \t{\r\n       \t\tif (head != null)\r\n       \t\t{\r\n       \t\t\tSystem.out.print(head.element + &quot;&quot;);\r\n       \t\t\t\tpreorderTraversal(head.leftChild);\r\n       \t\t\t\tpreorderTraversal(head.rightChild);\r\n       \t\t}\r\n       \t}\r\n       \t\r\n       \tpublic void postorderTraversal()\r\n       \t{\r\n       \t\tpostorderTraversal(rootNode);\r\n       \t}\r\n       \t\r\n       \tprivate void postorderTraversal(Node head)\r\n       \t{\r\n       \t\tif (head!= null)\r\n       \t\r\n         \t{\r\n         \t\tpostorderTraversal(head.leftChild);\r\n         \t\tpostorderTraversal(head.rightChild);\r\n         \t\tSystem.out.print(head.element+ &quot;&quot;);\r\n        \t}\r\n       \t}\r\n       \t\r\n       \t\r\n       }\r\n    \r\n        \r\n    \r\n          error: cannot find symbol &quot;node = rotateWithRightChild(node);&quot;","title":"I do not know the solution of this, a program of an AVLTREEHow can i solve the error error: cannot find symbol node = rotateWithRightChild(node);","body":"<p>This is the code of my program, it is an AVL Tree but it shows error  error: cannot find symbol\nThis error message is indicating that the compiler cannot find the symbol rotateWithRightChild. This typically happens when a method or variable is not defined in the current scope.</p>\n<p>import java.util.Scanner;</p>\n<pre><code>class Node\n{\n    int element;\n    int h;\n    Node leftChild;\n    Node rightChild;\n    \n    public Node()\n    {\n        leftChild = null;\n        rightChild = null;\n        element = 0;\n        h = 0;\n    }\n    \n    public Node(int element)\n    {\n        leftChild = null;\n        rightChild = null;\n        this.element = element;\n        h = 0;\n    }\n}\n\nclass ConstructAVLTree\n{ \n   private Node rootNode;\n   \n   public ConstructAVLTree()\n   {\n    rootNode = null;\n   }\n   \n   public void removeAll()\n   {\n     rootNode = null;\n   }\n   \n   public boolean checkEmpty()\n   {\n     if(rootNode == null)\n        return true;\n        else\n            return false;\n   }\n   \n   public void insertElement(int element)\n   {\n    rootNode = insertElement (element, rootNode);\n   }\n   \n   private int getHeight(Node node)\n   {\n    return node == null ?-1 : node.h;\n   }\n   \n   private int getMaxHeight(int leftNodeHeight, int rightNodeHeight)\n   {\n    return leftNodeHeight &gt; rightNodeHeight ? leftNodeHeight : rightNodeHeight;\n   }\n   \n   private Node insertElement(int element, Node node)\n   {\n    if (node== null)\n        node = new Node(element);\n            else if (element &lt; node.element)\n            {\n                node.leftChild = insertElement( element, node.leftChild);\n                if (getHeight(node.leftChild)- getHeight(node.rightChild) == 2)\n                    if (element &lt; node.leftChild.element)\n                        node = rotateWithLeftChild(node);\n                        else\n                            node = doubleWithLeftChild(node);\n            }\n            else if ( element &gt; node.element)\n            {\n                node.rightChild = insertElement( element, node.rightChild);\n                if (getHeight(node.rightChild)- getHeight(node.leftChild) == 2)\n                    if (element &gt; node.rightChild.element)\n                        node = rotateWithRightChild(node);\n                        else\n                            node = doubleWithRightChild(node);\n                \n            }\n            else\n                node.h = getMaxHeight(getHeight(node.leftChild), getHeight(node.rightChild))+1;\n                \n                return node;\n   }\n   \n   private Node rotateWithLeftChild(Node node2)\n   {\n      Node node1 = node2.leftChild;\n      node2.leftChild = node1.rightChild;\n      node1.rightChild = node2;\n      node2.h = getMaxHeight( getHeight(node2.leftChild), getHeight(node2.rightChild)) + 1;\n      node1.h = getMaxHeight( getHeight(node1.leftChild), node2.h) + 1;\n      return node1;\n   }\n   private Node doubleWithLeftChild(Node node3)\n   {\n   \n    node3.leftChild = rotateWithRightChild( node3.leftChild);\n    return rotateWithLeftChild (node3);\n   }\n   \n   private Node doubleWithRightChild( Node node1)\n   {\n    node1.rightChild = rotateWithLeftChild( node1.rightChild);\n    return rotateWithRightChild(node1);\n   }\n   \n   public int getTotalNumberOfNodes()\n   {\n     return getTotalNumberOfNodes(rootNode);\n   }\n   private int getTotalNumberOfNodes(Node head)\n   {\n    if (head==null)\n        return 0;\n        else\n        {\n            int length = 1;\n            length = length + getTotalNumberOfNodes(head.leftChild);\n            length = length + getTotalNumberOfNodes(head.rightChild);\n            return length;\n        }\n   }\n   public boolean searchElement(int element)\n   {\n    return searchElement(rootNode, element);\n   }\n   \n   private boolean searchElement(Node head, int element)\n   {\n    boolean check = false;\n    while ((head != null) &amp;&amp; !check)\n    {\n        int headElement = head.element;\n        if ( element &lt; headElement)\n            head = head.leftChild;\n            else if (element &gt; headElement)\n                head = head.rightChild;\n                else\n                {\n                    check = true;\n                    break;\n                }\n                check = searchElement(head, element);\n    }\n    return check;\n    }\n    \n    public void inorderTraversal()\n    {\n        inorderTraversal(rootNode);\n    }\n    private void inorderTraversal(Node head)\n    {\n        if (head != null);\n        {\n            inorderTraversal(head.leftChild);\n                System.out.print(head.element+ &quot;&quot;);\n                inorderTraversal(head.rightChild);\n        }\n    }\n    \n    public void preorderTraversal()\n    {\n        preorderTraversal(rootNode);\n    }\n    private void preorderTraversal(Node head)\n    {\n        if (head != null)\n        {\n            System.out.print(head.element + &quot;&quot;);\n                preorderTraversal(head.leftChild);\n                preorderTraversal(head.rightChild);\n        }\n    }\n    \n    public void postorderTraversal()\n    {\n        postorderTraversal(rootNode);\n    }\n    \n    private void postorderTraversal(Node head)\n    {\n        if (head!= null)\n    \n        {\n            postorderTraversal(head.leftChild);\n            postorderTraversal(head.rightChild);\n            System.out.print(head.element+ &quot;&quot;);\n        }\n    }\n    \n    \n   }\n\n    \n\n      error: cannot find symbol &quot;node = rotateWithRightChild(node);&quot;\n</code></pre>\n"},{"tags":["java","audio","raspberry-pi","libgdx","audio-player"],"comments":[{"owner":{"account_id":8049065,"reputation":804,"user_id":6068297,"display_name":"Level_Up"},"score":1,"creation_date":1682059174,"post_id":76070350,"comment_id":134158976,"body_markdown":"Maybe this can help you: https://myrobotlab.org/content/fixing-audio-output-java-11-raspberry-pi","body":"Maybe this can help you: <a href=\"https://myrobotlab.org/content/fixing-audio-output-java-11-raspberry-pi\" rel=\"nofollow noreferrer\">myrobotlab.org/content/fixing-audio-output-java-11-raspberry&zwnj;&#8203;-pi</a>"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1682060678,"post_id":76070350,"comment_id":134159263,"body_markdown":"@Level_Up  Good idea, my customer has also openjdk-11! I try today to test using JDK 14 and JDK 17 and if this will not help I will edit sound.properties file. Thanks!","body":"@Level_Up  Good idea, my customer has also openjdk-11! I try today to test using JDK 14 and JDK 17 and if this will not help I will edit sound.properties file. Thanks!"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1683007722,"post_id":76070350,"comment_id":134296932,"body_markdown":"@Level_Up My customer tested the Java 17 (Liberika JDK 17). The situation is the same: the sound is only on 3,5 mm jack. Maybe the manual correction of the properties file can help","body":"@Level_Up My customer tested the Java 17 (Liberika JDK 17). The situation is the same: the sound is only on 3,5 mm jack. Maybe the manual correction of the properties file can help"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1684874052,"post_id":76070350,"comment_id":134580582,"body_markdown":"@Level_Up no, it doesn&#39;t work. I must use Java &gt;=14 and I need to transfer the audio outup to HDMI","body":"@Level_Up no, it doesn&#39;t work. I must use Java &gt;=14 and I need to transfer the audio outup to HDMI"}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682057534,"creation_date":1682057534,"question_id":76070350,"body_markdown":"How to select an audio output from Java on Raspberry Pi\r\n\r\nI create a videogame using Java and LibGDX. The game must run on a Raspberry Pi 3B with Raspberry Pi OS 32 bit. The game must also translate soundtracks throught the HDMI output direct into a monitor with embedded  speakers.\r\n\r\nWhen my customer tries to play a sound in my videogame the audio streams through the 3,5 mm jack audio output even if that is connected with nothing. I use this interface from [LibGDX][1].\r\nBut when my customer plays the same sound using the default media player in Raspberry Pi OS it plays normally through the HDMI output. The audio from YouTube videos plays also via the HDMI.\r\nI have tried also another classed to play sounds (AudioInputStream, Clip and AudioSystem from the package javax.sound.sampled.*). But the sounds also play through the 3,5 mm jack.\r\n\r\nMaybe I need to select an another output device direct from the code? Are there abilities to do that?\r\n\r\nMaybe I need to build my project and generate the executable jar-file not on my windows PC but on a Raspberry Pi where the sound output device already set on HDMI as default?\r\n\r\n\r\n  [1]: https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/audio/Sound.java","title":"Select sound output from java for Raspberry Pi","body":"<p>How to select an audio output from Java on Raspberry Pi</p>\n<p>I create a videogame using Java and LibGDX. The game must run on a Raspberry Pi 3B with Raspberry Pi OS 32 bit. The game must also translate soundtracks throught the HDMI output direct into a monitor with embedded  speakers.</p>\n<p>When my customer tries to play a sound in my videogame the audio streams through the 3,5 mm jack audio output even if that is connected with nothing. I use this interface from <a href=\"https://github.com/libgdx/libgdx/blob/master/gdx/src/com/badlogic/gdx/audio/Sound.java\" rel=\"nofollow noreferrer\">LibGDX</a>.\nBut when my customer plays the same sound using the default media player in Raspberry Pi OS it plays normally through the HDMI output. The audio from YouTube videos plays also via the HDMI.\nI have tried also another classed to play sounds (AudioInputStream, Clip and AudioSystem from the package javax.sound.sampled.*). But the sounds also play through the 3,5 mm jack.</p>\n<p>Maybe I need to select an another output device direct from the code? Are there abilities to do that?</p>\n<p>Maybe I need to build my project and generate the executable jar-file not on my windows PC but on a Raspberry Pi where the sound output device already set on HDMI as default?</p>\n"},{"tags":["java","mockito","junit5","junit-jupiter"],"comments":[{"owner":{"account_id":4242943,"reputation":1241,"user_id":3472362,"display_name":"nkrivenko"},"score":0,"creation_date":1604874623,"post_id":64743671,"comment_id":114473015,"body_markdown":"So what’s the question?","body":"So what’s the question?"},{"owner":{"account_id":11738415,"reputation":121,"user_id":8591493,"display_name":"GreenJenks"},"score":0,"creation_date":1604875212,"post_id":64743671,"comment_id":114473138,"body_markdown":"@nkrivenko The question is in the header. :)","body":"@nkrivenko The question is in the header. :)"},{"owner":{"account_id":11738415,"reputation":121,"user_id":8591493,"display_name":"GreenJenks"},"score":0,"creation_date":1604915385,"post_id":64743671,"comment_id":114482558,"body_markdown":"Has no one a idea?","body":"Has no one a idea?"},{"owner":{"account_id":12480263,"reputation":10843,"user_id":9085273,"display_name":"rieckpil"},"score":0,"creation_date":1604989662,"post_id":64743671,"comment_id":114508427,"body_markdown":"This [similar question](https://stackoverflow.com/questions/20404276/mock-system-class-to-get-system-properties) might help.","body":"This <a href=\"https://stackoverflow.com/questions/20404276/mock-system-class-to-get-system-properties\">similar question</a> might help."},{"owner":{"account_id":11738415,"reputation":121,"user_id":8591493,"display_name":"GreenJenks"},"score":0,"creation_date":1605203626,"post_id":64743671,"comment_id":114585804,"body_markdown":"Sorry no this is for JUnit4","body":"Sorry no this is for JUnit4"}],"answers":[{"tags":[],"owner":{"account_id":375393,"reputation":113,"user_id":726202,"display_name":"dodoconr"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659392348,"creation_date":1659392348,"answer_id":73200128,"question_id":64743671,"body_markdown":"I think you can use `EnviromentVariableRule` at junit4.\r\n\r\nLook at this link: https://www.baeldung.com/java-system-stubs#2-junit-4-environment-variables","title":"How to Mock System.getenv() with JUnit5","body":"<p>I think you can use <code>EnviromentVariableRule</code> at junit4.</p>\n<p>Look at this link: <a href=\"https://www.baeldung.com/java-system-stubs#2-junit-4-environment-variables\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-system-stubs#2-junit-4-environment-variables</a></p>\n"},{"tags":[],"owner":{"account_id":25890494,"reputation":31,"user_id":19617974,"display_name":"Holger Veltrup"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659513896,"creation_date":1659513896,"answer_id":73218263,"question_id":64743671,"body_markdown":"It does not seem to be possible to mock `System`. See [here](https://stackoverflow.com/questions/64182348/mockitoexception-when-trying-to-mock-java-lang-system)\r\n\r\nSystem Stubs might also be a good alternative for [JUnit5](https://github.com/webcompere/system-stubs#junit-5-extension)\r\n","title":"How to Mock System.getenv() with JUnit5","body":"<p>It does not seem to be possible to mock <code>System</code>. See <a href=\"https://stackoverflow.com/questions/64182348/mockitoexception-when-trying-to-mock-java-lang-system\">here</a></p>\n<p>System Stubs might also be a good alternative for <a href=\"https://github.com/webcompere/system-stubs#junit-5-extension\" rel=\"nofollow noreferrer\">JUnit5</a></p>\n"},{"tags":[],"owner":{"account_id":26865683,"reputation":11,"user_id":20448486,"display_name":"Minaam Qureshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667902549,"creation_date":1667902549,"answer_id":74359042,"question_id":64743671,"body_markdown":"You can create the object in the production code and mock that object in test.\r\n\r\nIn production code\r\n\r\n    Object Env{\r\n           fun getVar() = System.getEnv(&quot;key&quot;)\r\n    }\r\nthen call with Env in production code\r\n\r\n    val callObject = Env.getVar()\r\n\r\nIn test file\r\n\r\n    @BeforeEach\r\n    fun setup() {\r\n    mockkObject(Env)\r\n    }\r\nIn test you can enter this - \r\n\r\n    every { Env.getVar() } returns &quot;value&quot;\r\n\r\n","title":"How to Mock System.getenv() with JUnit5","body":"<p>You can create the object in the production code and mock that object in test.</p>\n<p>In production code</p>\n<pre><code>Object Env{\n       fun getVar() = System.getEnv(&quot;key&quot;)\n}\n</code></pre>\n<p>then call with Env in production code</p>\n<pre><code>val callObject = Env.getVar()\n</code></pre>\n<p>In test file</p>\n<pre><code>@BeforeEach\nfun setup() {\nmockkObject(Env)\n}\n</code></pre>\n<p>In test you can enter this -</p>\n<pre><code>every { Env.getVar() } returns &quot;value&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16910112,"reputation":1,"user_id":12229377,"display_name":"hiteshree neve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682056373,"creation_date":1682056373,"answer_id":76070256,"question_id":64743671,"body_markdown":"Add the below configuration in maven-surefire-plugin dependency of your pom.xml, and run your junit test case as it is without making explicit changes related to System.getEnv() like Mocking System.class. This is not allowed/required.\r\n\r\nIf for example below is how your environment variable looks like :- \r\n- Env Variable name := PROPERTY_NAME\r\n- Env Variable Value := PROPERTY_VALUE\r\n\r\nAnd if you access that environment variable using the below line \r\nJava :- System.getEnv(&quot;PROPERTY_NAME&quot;);\r\n\r\nMake the below changes to your pom.xml :-\r\n\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;2.22.2&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n   &lt;environmentVariables&gt;\r\n      &lt;PROPERTY_NAME&gt;PROPERTY_VALUE&lt;/PROPERTY_NAME&gt;\r\n   &lt;/environmentVariables&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n","title":"How to Mock System.getenv() with JUnit5","body":"<p>Add the below configuration in maven-surefire-plugin dependency of your pom.xml, and run your junit test case as it is without making explicit changes related to System.getEnv() like Mocking System.class. This is not allowed/required.</p>\n<p>If for example below is how your environment variable looks like :-</p>\n<ul>\n<li>Env Variable name := PROPERTY_NAME</li>\n<li>Env Variable Value := PROPERTY_VALUE</li>\n</ul>\n<p>And if you access that environment variable using the below line\nJava :- System.getEnv(&quot;PROPERTY_NAME&quot;);</p>\n<p>Make the below changes to your pom.xml :-</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.22.2&lt;/version&gt;\n  &lt;configuration&gt;\n   &lt;environmentVariables&gt;\n      &lt;PROPERTY_NAME&gt;PROPERTY_VALUE&lt;/PROPERTY_NAME&gt;\n   &lt;/environmentVariables&gt;\n  &lt;/configuration&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":11738415,"reputation":121,"user_id":8591493,"display_name":"GreenJenks"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12264,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":4,"score":9,"last_activity_date":1682056373,"creation_date":1604874419,"question_id":64743671,"body_markdown":"I want to mock the System.getenv() method. I found only solutions for JUnit4 and PowerMockito. \r\nI use the following dependency:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.23.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nHere is my example of the test:\r\n\r\n    @ExtendWith(MockitoExtension.class) \r\n    public class TestEnvVariable {\r\n\r\n      @Mock\r\n      System system;\r\n\r\n      @Test\r\n      public void shouldExpandPropertyContentToMatchingSysEnv() throws Exception {\r\n          when(system.getenv(&quot;KEY&quot;)).thenReturn(&quot;VALUE&quot;);\r\n          assertEquals(&quot;VALUE&quot;, &quot;KEY&quot;);\r\n      }\r\n    }\r\n\r\nHow to Mock System.getenv() with JUnit5?","title":"How to Mock System.getenv() with JUnit5","body":"<p>I want to mock the System.getenv() method. I found only solutions for JUnit4 and PowerMockito.\nI use the following dependency:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;2.23.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Here is my example of the test:</p>\n<pre><code>@ExtendWith(MockitoExtension.class) \npublic class TestEnvVariable {\n\n  @Mock\n  System system;\n\n  @Test\n  public void shouldExpandPropertyContentToMatchingSysEnv() throws Exception {\n      when(system.getenv(&quot;KEY&quot;)).thenReturn(&quot;VALUE&quot;);\n      assertEquals(&quot;VALUE&quot;, &quot;KEY&quot;);\n  }\n}\n</code></pre>\n<p>How to Mock System.getenv() with JUnit5?</p>\n"},{"tags":["java","android","unity-game-engine","android-permissions","android-unity-plugin"],"answers":[{"comments":[{"owner":{"account_id":25942713,"reputation":11,"user_id":19661921,"display_name":"Shawlong"},"score":0,"creation_date":1682055631,"post_id":76070161,"comment_id":134158486,"body_markdown":"Hi thanks for you answer. But I can&#39;t use unity API for the permission because I need to check permission in a foreground service I use when the app is close.  I will try to install the androidx library","body":"Hi thanks for you answer. But I can&#39;t use unity API for the permission because I need to check permission in a foreground service I use when the app is close.  I will try to install the androidx library"}],"tags":[],"owner":{"account_id":8238102,"reputation":20388,"user_id":6196568,"display_name":"shingo"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682055080,"creation_date":1682055080,"answer_id":76070161,"question_id":76070093,"body_markdown":"The error is because your project does not include [the androidx library](https://developer.android.com/jetpack/androidx). In fact you don&#39;t have to reinvent the wheel, Unity already has [the permission APIs](https://docs.unity3d.com/ScriptReference/Android.Permission.html).\r\n\r\n    using UnityEngine.Android;\r\n\r\n    ....\r\n\r\n    void test()\r\n    {\r\n        texte.text = Permission.HasUserAuthorizedPermission(Permission.CoarseLocation)\r\n                     ? &quot;is ok&quot; : &quot;is not ok&quot;;\r\n    }","title":"How Call checkSelfPermission in a native java plugin for UNITY","body":"<p>The error is because your project does not include <a href=\"https://developer.android.com/jetpack/androidx\" rel=\"nofollow noreferrer\">the androidx library</a>. In fact you don't have to reinvent the wheel, Unity already has <a href=\"https://docs.unity3d.com/ScriptReference/Android.Permission.html\" rel=\"nofollow noreferrer\">the permission APIs</a>.</p>\n<pre><code>using UnityEngine.Android;\n\n....\n\nvoid test()\n{\n    texte.text = Permission.HasUserAuthorizedPermission(Permission.CoarseLocation)\n                 ? &quot;is ok&quot; : &quot;is not ok&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":25942713,"reputation":11,"user_id":19661921,"display_name":"Shawlong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682055080,"creation_date":1682054296,"question_id":76070093,"body_markdown":"i have a projet in Unity 3d who use a jave plugin. In this plugin i need to check if user have already enable the permission. But everytime i call checkSelfPermission the app crash and i dont know why. \r\n\r\nJava plugin(module) \r\n\r\n```\r\npublic class callFromUnity{\r\n\r\n    public String checkPermission(Context context)\r\n    {\r\n        if (ContextCompat.checkSelfPermission(context, android.Manifest.permission.ACCESS_COARSE_LOCATION)\r\n                == PackageManager.PERMISSION_GRANTED) {\r\n            return  &quot;is ok&quot;;\r\n        }\r\n        else\r\n        {\r\n            return &quot;is not ok&quot;;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nUnity C#\r\n\r\n```\r\n    AndroidJavaClass unityClass;\r\n    AndroidJavaObject unityActivity;\r\n    AndroidJavaObject pluginsInstance;\r\n    AndroidJavaObject context;\r\n    public Text texte;\r\n\r\n    void Start()\r\n    {\r\n       enablePlugins(&quot;com.mypackage.test.callFromUnity&quot;);\r\n       test();\r\n    }\r\n\r\n\r\n    void enablePlugins(string pluginName)\r\n    {\r\n        unityClass = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\r\n        unityActivity = unityClass.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\r\n       context = unityActivity.Call&lt;AndroidJavaObject&gt;(&quot;getApplicationContext&quot;);\r\n        pluginsInstance = new AndroidJavaObject(pluginName);\r\n\r\n           if (pluginsInstance == null)\r\n           {\r\n           }\r\n           else\r\n           {      \r\n  // this method is hide in the Java plugins because i remove the code for simplify this question\r\n            pluginsInstance.CallStatic(&quot;receiveUnityActivity&quot;, unityActivity);\r\n            }\r\n     \r\n    }\r\n\r\n    void test()\r\n    {\r\n        texte.text = pluginsInstance.Call&lt;string&gt;(&quot;checkPermission&quot;, context);\r\n    }\r\n\r\n```\r\n\r\nin debug i have this log\r\n\r\n\r\n```\r\n2023-04-21 01:10:57.881 28263 28303 Error Unity AndroidJavaException: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/content/ContextCompat;\r\n2023-04-21 01:10:57.881 28263 28303 Error Unity java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/content/ContextCompat;\r\n2023-04-21 01:10:57.881 28263 28303 Error Unity \tat com.unity3d.player.UnityPlayer.nativeRender(Native Method)\r\n2023-04-21 01:10:57.881 28263 28303 Error Unity \tat com.unity3d.player.UnityPlayer.access$300(Unknown Source:0)\r\n2023-04-21 01:10:57.881 28263 28303 Error Unity \tat com.unity3d.player.UnityPlayer$e$1.handleMessage(Unknown Source:95)\r\n2023-04-21 01:10:57.881 28263 28303 Error Unity \tat android.os.Handler.dispatchMessage(Handler.java:106)\r\n2023-04-21 01:10:57.881 28263 28303 Error Unity \tat android.os.Looper.loop(Looper.java:219)\r\n2023-04-21 01:10:57.881 28263 28303 Error Unity \tat com.unity3d.player.UnityPlayer$e.run(Unknown Source:20)\r\n2023-04-21 01:10:57.881 28263 28303 Error Unity Caused by: java.lang.ClassNotFoundException: androidx.core.content.ContextCompat\r\n2023-04-21 01:10:57.881 28263 28303 Error Unity \t... 6 more\r\n2023-04-21 01:10:57.881 28263 28303 Error Unity   at UnityEngine.AndroidJNISafe.CheckException () [0x00000] in &lt;00000000000000000000000000000000&gt;:0 \r\n2023-04-21 01:10:57.881 28263 28303 Error Unity   at UnityEngine.AndroidJNISafe.FindClass (System.String name) [0x00000] in &lt;00000000000000000000000000000000&gt;:0 \r\n2023-04-21 01:10:57.881 28263 28303 Error Unity   at UnityEngine.AndroidJavaObject._AndroidJavaObject (System.String className, System.Object[] args) [0x00000] in &lt;00000000000000000000000000000000&gt;\r\n\r\n```\r\n\r\n\r\ni have try to expand my class to Activity, or ContextCompat or remove the context arguments and remplace by &quot;this&quot;. But for now nothing work. \r\n\r\n","title":"How Call checkSelfPermission in a native java plugin for UNITY","body":"<p>i have a projet in Unity 3d who use a jave plugin. In this plugin i need to check if user have already enable the permission. But everytime i call checkSelfPermission the app crash and i dont know why.</p>\n<p>Java plugin(module)</p>\n<pre><code>public class callFromUnity{\n\n    public String checkPermission(Context context)\n    {\n        if (ContextCompat.checkSelfPermission(context, android.Manifest.permission.ACCESS_COARSE_LOCATION)\n                == PackageManager.PERMISSION_GRANTED) {\n            return  &quot;is ok&quot;;\n        }\n        else\n        {\n            return &quot;is not ok&quot;;\n        }\n    }\n}\n\n</code></pre>\n<p>Unity C#</p>\n<pre><code>    AndroidJavaClass unityClass;\n    AndroidJavaObject unityActivity;\n    AndroidJavaObject pluginsInstance;\n    AndroidJavaObject context;\n    public Text texte;\n\n    void Start()\n    {\n       enablePlugins(&quot;com.mypackage.test.callFromUnity&quot;);\n       test();\n    }\n\n\n    void enablePlugins(string pluginName)\n    {\n        unityClass = new AndroidJavaClass(&quot;com.unity3d.player.UnityPlayer&quot;);\n        unityActivity = unityClass.GetStatic&lt;AndroidJavaObject&gt;(&quot;currentActivity&quot;);\n       context = unityActivity.Call&lt;AndroidJavaObject&gt;(&quot;getApplicationContext&quot;);\n        pluginsInstance = new AndroidJavaObject(pluginName);\n\n           if (pluginsInstance == null)\n           {\n           }\n           else\n           {      \n  // this method is hide in the Java plugins because i remove the code for simplify this question\n            pluginsInstance.CallStatic(&quot;receiveUnityActivity&quot;, unityActivity);\n            }\n     \n    }\n\n    void test()\n    {\n        texte.text = pluginsInstance.Call&lt;string&gt;(&quot;checkPermission&quot;, context);\n    }\n\n</code></pre>\n<p>in debug i have this log</p>\n<pre><code>2023-04-21 01:10:57.881 28263 28303 Error Unity AndroidJavaException: java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/content/ContextCompat;\n2023-04-21 01:10:57.881 28263 28303 Error Unity java.lang.NoClassDefFoundError: Failed resolution of: Landroidx/core/content/ContextCompat;\n2023-04-21 01:10:57.881 28263 28303 Error Unity     at com.unity3d.player.UnityPlayer.nativeRender(Native Method)\n2023-04-21 01:10:57.881 28263 28303 Error Unity     at com.unity3d.player.UnityPlayer.access$300(Unknown Source:0)\n2023-04-21 01:10:57.881 28263 28303 Error Unity     at com.unity3d.player.UnityPlayer$e$1.handleMessage(Unknown Source:95)\n2023-04-21 01:10:57.881 28263 28303 Error Unity     at android.os.Handler.dispatchMessage(Handler.java:106)\n2023-04-21 01:10:57.881 28263 28303 Error Unity     at android.os.Looper.loop(Looper.java:219)\n2023-04-21 01:10:57.881 28263 28303 Error Unity     at com.unity3d.player.UnityPlayer$e.run(Unknown Source:20)\n2023-04-21 01:10:57.881 28263 28303 Error Unity Caused by: java.lang.ClassNotFoundException: androidx.core.content.ContextCompat\n2023-04-21 01:10:57.881 28263 28303 Error Unity     ... 6 more\n2023-04-21 01:10:57.881 28263 28303 Error Unity   at UnityEngine.AndroidJNISafe.CheckException () [0x00000] in &lt;00000000000000000000000000000000&gt;:0 \n2023-04-21 01:10:57.881 28263 28303 Error Unity   at UnityEngine.AndroidJNISafe.FindClass (System.String name) [0x00000] in &lt;00000000000000000000000000000000&gt;:0 \n2023-04-21 01:10:57.881 28263 28303 Error Unity   at UnityEngine.AndroidJavaObject._AndroidJavaObject (System.String className, System.Object[] args) [0x00000] in &lt;00000000000000000000000000000000&gt;\n\n</code></pre>\n<p>i have try to expand my class to Activity, or ContextCompat or remove the context arguments and remplace by &quot;this&quot;. But for now nothing work.</p>\n"},{"tags":["java","eclipse","class","visual-studio-code"],"comments":[{"owner":{"account_id":26317294,"reputation":210,"user_id":19979867,"display_name":"Leonardo Emmanuel de Azevedo"},"score":0,"creation_date":1681988407,"post_id":76063289,"comment_id":134146648,"body_markdown":".class files are .java files compiled. To generate the .class files you have to compile your project.","body":".class files are .java files compiled. To generate the .class files you have to compile your project."},{"owner":{"account_id":6134502,"reputation":333,"user_id":4783796,"display_name":"Knupel"},"score":0,"creation_date":1681990199,"post_id":76063289,"comment_id":134147051,"body_markdown":"@LeonardoEmmanueldeAzevedo but the problem, it&#39;s not when I compile my project the file.class appear, but the files appear when I do a save. Is it possible that my file changes location when I save my project?","body":"@LeonardoEmmanueldeAzevedo but the problem, it&#39;s not when I compile my project the file.class appear, but the files appear when I do a save. Is it possible that my file changes location when I save my project?"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":1,"creation_date":1681990328,"post_id":76063289,"comment_id":134147075,"body_markdown":"When you save the file where? Notepad doesn&#39;t do that. Eclipse uses different folders (src/ vs bin/) by default for that.","body":"When you save the file where? Notepad doesn&#39;t do that. Eclipse uses different folders (src/ vs bin/) by default for that."},{"owner":{"account_id":6134502,"reputation":333,"user_id":4783796,"display_name":"Knupel"},"score":0,"creation_date":1681990695,"post_id":76063289,"comment_id":134147163,"body_markdown":"@LeonardoEmmanueldeAzevedo just save, I don&#39;t specify the path. It&#39;s a regular save.","body":"@LeonardoEmmanueldeAzevedo just save, I don&#39;t specify the path. It&#39;s a regular save."},{"owner":{"account_id":6134502,"reputation":333,"user_id":4783796,"display_name":"Knupel"},"score":0,"creation_date":1681991533,"post_id":76063289,"comment_id":134147352,"body_markdown":"@JohannesKuhn You give me a good idea, I checked the folder bin and my folder src. I found in the src one, a same file .classpath .idea .project. I remove it And know the file.class don&#39;t come back. Thx","body":"@JohannesKuhn You give me a good idea, I checked the folder bin and my folder src. I found in the src one, a same file .classpath .idea .project. I remove it And know the file.class don&#39;t come back. Thx"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1681996110,"post_id":76063289,"comment_id":134148531,"body_markdown":"Eclipse *can* be configured to use the same folder for source and class files (generally a bad idea), but the right &quot;fix&quot; is to change the output folder. (Project -&gt; Build Settings afaik)","body":"Eclipse <i>can</i> be configured to use the same folder for source and class files (generally a bad idea), but the right &quot;fix&quot; is to change the output folder. (Project -&gt; Build Settings afaik)"},{"owner":{"account_id":6134502,"reputation":333,"user_id":4783796,"display_name":"Knupel"},"score":0,"creation_date":1683702342,"post_id":76063289,"comment_id":134405137,"body_markdown":"@JialeDu Yes I can, but I don&#39;t know how change the status","body":"@JialeDu Yes I can, but I don&#39;t know how change the status"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1683702507,"post_id":76063289,"comment_id":134405161,"body_markdown":"If you find the solution, Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See [can I answer my own question..](https://stackoverflow.com/help/self-answer), Just a reminder :)","body":"If you find the solution, Please consider answering it and accepting it as an answer to change its status to Answered. It will also help others to solve a similar issue. See <a href=\"https://stackoverflow.com/help/self-answer\">can I answer my own question..</a>, Just a reminder :)"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682053995,"creation_date":1682053995,"answer_id":76070078,"question_id":76063289,"body_markdown":"Add this setting in workspace *settings.json*\r\n\r\n&gt; A relative path to the workspace where stores the compiled output. Only effective in the WORKSPACE scope. The setting will NOT affect Maven or Gradle project.\r\n\r\n```json\r\n    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\r\n```","title":"how don&#39;t create .class java when I save my project","body":"<p>Add this setting in workspace <em>settings.json</em></p>\n<blockquote>\n<p>A relative path to the workspace where stores the compiled output. Only effective in the WORKSPACE scope. The setting will NOT affect Maven or Gradle project.</p>\n</blockquote>\n<pre class=\"lang-json prettyprint-override\"><code>    &quot;java.project.outputPath&quot;: &quot;bin&quot;,\n</code></pre>\n"}],"owner":{"account_id":6134502,"reputation":333,"user_id":4783796,"display_name":"Knupel"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682053995,"creation_date":1681987988,"question_id":76063289,"body_markdown":"I develop a Processing Library for Processing from many years, but since yesterday when I save my project with `VSCode`or `Eclipse` there are `file.class` created automatically in src folder at same level of `file.java` for each class of my code. After, it&#39;s very hard to navigate between the files. I don&#39;t find why it&#39;s happen, now and how disabled this automatic creation of `file.class`.\r\nBelow two screenshots to explain my problem.\r\n\r\nBefore:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAfter saved:\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/g6lAZ.jpg\r\n  [2]: https://i.stack.imgur.com/fQkPG.jpg","title":"how don&#39;t create .class java when I save my project","body":"<p>I develop a Processing Library for Processing from many years, but since yesterday when I save my project with <code>VSCode</code>or <code>Eclipse</code> there are <code>file.class</code> created automatically in src folder at same level of <code>file.java</code> for each class of my code. After, it's very hard to navigate between the files. I don't find why it's happen, now and how disabled this automatic creation of <code>file.class</code>.\nBelow two screenshots to explain my problem.</p>\n<p>Before:\n<a href=\"https://i.stack.imgur.com/g6lAZ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g6lAZ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>After saved:\n<a href=\"https://i.stack.imgur.com/fQkPG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fQkPG.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-8","bluej"],"comments":[{"owner":{"account_id":17360629,"reputation":1309,"user_id":12576990,"display_name":"Rafael"},"score":0,"creation_date":1682046636,"post_id":76069594,"comment_id":134157585,"body_markdown":"Have you set PATH environment variable properly? https://www.java.com/en/download/help/path.html","body":"Have you set PATH environment variable properly? <a href=\"https://www.java.com/en/download/help/path.html\" rel=\"nofollow noreferrer\">java.com/en/download/help/path.html</a>"},{"owner":{"account_id":23195346,"reputation":103,"user_id":19081609,"display_name":"jared-dev"},"score":1,"creation_date":1682048766,"post_id":76069594,"comment_id":134157743,"body_markdown":"@Rafael yes I have, Here&#39;s how I did it:                                                                                `sudo update-alternatives --install &quot;/usr/bin/java&quot; &quot;java&quot; &quot;/usr/lib/jvm/jdk1.8.0_371/bin/java&quot; 0`                                                                                              -                                                                                      \n`sudo update-alternatives --install &quot;/usr/bin/javac&quot; &quot;javac&quot; &quot;/usr/lib/jvm/jdk1.8.0_371/bin/javac&quot; 0`","body":"@Rafael yes I have, Here&#39;s how I did it:                                                                                <code>sudo update-alternatives --install &quot;&#47;usr&#47;bin&#47;java&quot; &quot;java&quot; &quot;&#47;usr&#47;lib&#47;jvm&#47;jdk1.8.0_371&#47;bin&#47;java&quot; 0</code>                                                                                              -                                                                                       <code>sudo update-alternatives --install &quot;&#47;usr&#47;bin&#47;javac&quot; &quot;javac&quot; &quot;&#47;usr&#47;lib&#47;jvm&#47;jdk1.8.0_371&#47;bin&#47;javac&quot; 0</code>"}],"answers":[{"tags":[],"owner":{"account_id":23195346,"reputation":103,"user_id":19081609,"display_name":"jared-dev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682053826,"creation_date":1682053826,"answer_id":76070069,"question_id":76069594,"body_markdown":"I&#39;ve now solved this problem by running\r\n\r\n    sudo nano /etc/apt/sources.list\r\n\r\nThen in the sources.list file I added this:\r\n\r\n    deb https://debian.opennms.org/ stable main\r\n\r\nThen I run this commands in order:\r\n\r\n   \r\n\r\n    wget -O - http://debian.opennms.org/OPENNMS-GPG-KEY | sudo apt-key add -\r\n\r\n   \r\n\r\n    sudo apt-get update\r\n\r\n   \r\n\r\n    sudo apt-get install oracle-java8-installer\r\n\r\n   \r\n\r\n    sudo dpkg -i BlueJ-linux-411-duke.deb\r\n\r\n\r\nI now have BlueJ installed and can run it.\r\n\r\n","title":"Java 8 JDK is installed but installing BlueJ fails","body":"<p>I've now solved this problem by running</p>\n<pre><code>sudo nano /etc/apt/sources.list\n</code></pre>\n<p>Then in the sources.list file I added this:</p>\n<pre><code>deb https://debian.opennms.org/ stable main\n</code></pre>\n<p>Then I run this commands in order:</p>\n<pre><code>wget -O - http://debian.opennms.org/OPENNMS-GPG-KEY | sudo apt-key add -\n\n\n\nsudo apt-get update\n\n\n\nsudo apt-get install oracle-java8-installer\n\n\n\nsudo dpkg -i BlueJ-linux-411-duke.deb\n</code></pre>\n<p>I now have BlueJ installed and can run it.</p>\n"}],"owner":{"account_id":23195346,"reputation":103,"user_id":19081609,"display_name":"jared-dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76070069,"answer_count":1,"score":1,"last_activity_date":1682053826,"creation_date":1682046188,"question_id":76069594,"body_markdown":"I&#39;m using linux OS with Debian 11 distribution. I&#39;m using this [this documentation][1].\r\n \r\nThe output of `javac -version` is  `javac 1.8.0_371` indicating that **I have Java 8 JDK installed**. \r\n\r\nI downloaded the specific version of BlueJ mentioned in the documentation. Then I ran `sudo dpkg -i BlueJ-linux-411-duke.deb` and it outputs this error messages:\r\n\r\n    Selecting previously unselected package bluej.\r\n    (Reading database ... 205849 files and directories currently installed.)\r\n    Preparing to unpack BlueJ-linux-411-duke.deb ...\r\n    Unpacking bluej (4.1.1-duke) ...\r\n    dpkg: dependency problems prevent configuration of bluej:\r\n     bluej depends on openjdk-8-jdk | oracle-java8-jdk | oracle-java8-installer; however:\r\n      Package openjdk-8-jdk is not installed.\r\n      Package oracle-java8-jdk is not installed.\r\n      Package oracle-java8-installer is not installed.\r\n     bluej depends on libopenjfx-java | oracle-java8-jdk | oracle-java8-installer; however:\r\n      Package libopenjfx-java is not installed.\r\n      Package oracle-java8-jdk is not installed.\r\n      Package oracle-java8-installer is not installed.\r\n    \r\n    dpkg: error processing package bluej (--install):\r\n     dependency problems - leaving unconfigured\r\n    Processing triggers for gnome-menus (3.36.0-1) ...\r\n    Processing triggers for desktop-file-utils (0.26-1) ...\r\n    Processing triggers for mailcap (3.69) ...\r\n    Processing triggers for hicolor-icon-theme (0.17-2) ...\r\n    Errors were encountered while processing:\r\n     bluej\r\n\r\nIt&#39;s saying things like `Package oracle-java8-jdk is not installed.` even though it is certainly installed. \r\n\r\nI&#39;m completely new to Java. Any feedback, help, and answers would be much appreciated. \r\n\r\n  [1]: https://www.dukelearntoprogram.com//downloads/bluej.php?course=2 \r\n\r\n","title":"Java 8 JDK is installed but installing BlueJ fails","body":"<p>I'm using linux OS with Debian 11 distribution. I'm using this <a href=\"https://www.dukelearntoprogram.com//downloads/bluej.php?course=2\" rel=\"nofollow noreferrer\">this documentation</a>.</p>\n<p>The output of <code>javac -version</code> is  <code>javac 1.8.0_371</code> indicating that <strong>I have Java 8 JDK installed</strong>.</p>\n<p>I downloaded the specific version of BlueJ mentioned in the documentation. Then I ran <code>sudo dpkg -i BlueJ-linux-411-duke.deb</code> and it outputs this error messages:</p>\n<pre><code>Selecting previously unselected package bluej.\n(Reading database ... 205849 files and directories currently installed.)\nPreparing to unpack BlueJ-linux-411-duke.deb ...\nUnpacking bluej (4.1.1-duke) ...\ndpkg: dependency problems prevent configuration of bluej:\n bluej depends on openjdk-8-jdk | oracle-java8-jdk | oracle-java8-installer; however:\n  Package openjdk-8-jdk is not installed.\n  Package oracle-java8-jdk is not installed.\n  Package oracle-java8-installer is not installed.\n bluej depends on libopenjfx-java | oracle-java8-jdk | oracle-java8-installer; however:\n  Package libopenjfx-java is not installed.\n  Package oracle-java8-jdk is not installed.\n  Package oracle-java8-installer is not installed.\n\ndpkg: error processing package bluej (--install):\n dependency problems - leaving unconfigured\nProcessing triggers for gnome-menus (3.36.0-1) ...\nProcessing triggers for desktop-file-utils (0.26-1) ...\nProcessing triggers for mailcap (3.69) ...\nProcessing triggers for hicolor-icon-theme (0.17-2) ...\nErrors were encountered while processing:\n bluej\n</code></pre>\n<p>It's saying things like <code>Package oracle-java8-jdk is not installed.</code> even though it is certainly installed.</p>\n<p>I'm completely new to Java. Any feedback, help, and answers would be much appreciated.</p>\n"},{"tags":["java","if-statement","methods","return"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":3,"creation_date":1446300996,"post_id":33452555,"comment_id":54691843,"body_markdown":"First off, never compare Strings with `==`. Use the `equals(...)` method.","body":"First off, never compare Strings with <code>==</code>. Use the <code>equals(...)</code> method."},{"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"score":0,"creation_date":1446301252,"post_id":33452555,"comment_id":54691919,"body_markdown":"What&#39;s wrong with this code? Why put the returns inside the if statement?","body":"What&#39;s wrong with this code? Why put the returns inside the if statement?"},{"owner":{"account_id":7218910,"reputation":23,"user_id":5510242,"display_name":"I.C. Weiner"},"score":0,"creation_date":1446301281,"post_id":33452555,"comment_id":54691930,"body_markdown":"can you please give me an example of the equals(..) please?","body":"can you please give me an example of the equals(..) please?"},{"owner":{"account_id":2493825,"reputation":1697,"user_id":2170766,"display_name":"RamPrakash"},"score":0,"creation_date":1446301591,"post_id":33452555,"comment_id":54692022,"body_markdown":"@Weiner I gave sample code below. You will get null if one of the colors is neither red, blue nor yellow","body":"@Weiner I gave sample code below. You will get null if one of the colors is neither red, blue nor yellow"}],"answers":[{"comments":[{"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"score":0,"creation_date":1446301572,"post_id":33452656,"comment_id":54692015,"body_markdown":"This doesn&#39;t answer the original question","body":"This doesn&#39;t answer the original question"},{"owner":{"account_id":2493825,"reputation":1697,"user_id":2170766,"display_name":"RamPrakash"},"score":0,"creation_date":1446301717,"post_id":33452656,"comment_id":54692053,"body_markdown":"you are right. I gave him explanation of where his logic is wrong or assumptions or wrong. so that he can learn it from mistakes.","body":"you are right. I gave him explanation of where his logic is wrong or assumptions or wrong. so that he can learn it from mistakes."},{"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"score":0,"creation_date":1446301767,"post_id":33452656,"comment_id":54692063,"body_markdown":"But you still didn&#39;t make it return from inside the ifs.","body":"But you still didn&#39;t make it return from inside the ifs."},{"owner":{"account_id":2493825,"reputation":1697,"user_id":2170766,"display_name":"RamPrakash"},"score":0,"creation_date":1446302514,"post_id":33452656,"comment_id":54692302,"body_markdown":"we are returning only one statement based on the if else condition. please have a look at java documentation for more details..","body":"we are returning only one statement based on the if else condition. please have a look at java documentation for more details.."},{"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"score":0,"creation_date":1446302588,"post_id":33452656,"comment_id":54692330,"body_markdown":"@RamPrakash Those `if`s are now an exact copy of my answer :(","body":"@RamPrakash Those <code>if</code>s are now an exact copy of my answer :("},{"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"score":0,"creation_date":1446302754,"post_id":33452656,"comment_id":54692385,"body_markdown":"@RamPrakash I tend to have that effect. =)","body":"@RamPrakash I tend to have that effect. =)"}],"tags":[],"owner":{"account_id":2493825,"reputation":1697,"user_id":2170766,"display_name":"RamPrakash"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446301953,"creation_date":1446301464,"answer_id":33452656,"question_id":33452555,"body_markdown":"as per you request.. here is the code..\r\n   \r\n\r\n     public static String  mixColors1(String x, String y)\r\n    \t{\r\n    \t    String red=&quot;red&quot;;\r\n    \t    String yellow=&quot;yellow&quot;;\r\n    \t    String blue=&quot;blue&quot;;\r\n    \t    if(red.equals(x) &amp;&amp; yellow.equals(y) || red.equals(y) &amp;&amp; yellow.equals(x))//if red&amp;yellow selected\r\n    \t        return &quot;orange&quot;;//return orange\r\n    \r\n    \t    else if(red.equals(x) &amp;&amp; blue.equals(y) || red.equals(y) &amp;&amp; blue.equals(x))//if red&amp;blue selected\r\n    \t        return &quot;purple&quot;;//return purple\r\n    \r\n    \t    else if(yellow.equals(x) &amp;&amp; blue.equals(y) || yellow.equals(y) &amp;&amp; blue.equals(x))//if blue&amp;yellow selected\r\n    \t        return &quot;green&quot;;//return green\r\n            else\r\n    \t    return null;    \t    //if color won&#39;t match it will return null\r\n\r\n    \t}","title":"How do I return my string inside an if statement?","body":"<p>as per you request.. here is the code..</p>\n\n<pre><code> public static String  mixColors1(String x, String y)\n    {\n        String red=\"red\";\n        String yellow=\"yellow\";\n        String blue=\"blue\";\n        if(red.equals(x) &amp;&amp; yellow.equals(y) || red.equals(y) &amp;&amp; yellow.equals(x))//if red&amp;yellow selected\n            return \"orange\";//return orange\n\n        else if(red.equals(x) &amp;&amp; blue.equals(y) || red.equals(y) &amp;&amp; blue.equals(x))//if red&amp;blue selected\n            return \"purple\";//return purple\n\n        else if(yellow.equals(x) &amp;&amp; blue.equals(y) || yellow.equals(y) &amp;&amp; blue.equals(x))//if blue&amp;yellow selected\n            return \"green\";//return green\n        else\n        return null;            //if color won't match it will return null\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"score":0,"creation_date":1446302459,"post_id":33452658,"comment_id":54692290,"body_markdown":"@I.C.Weiner You can totally have multiple `return`s! The first one that the method encounters will be the one that breaks it out of the method, however. So you can *have* multiple `return`s, but only one will be *executed*.","body":"@I.C.Weiner You can totally have multiple <code>return</code>s! The first one that the method encounters will be the one that breaks it out of the method, however. So you can <i>have</i> multiple <code>return</code>s, but only one will be <i>executed</i>."},{"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"score":0,"creation_date":1446302677,"post_id":33452658,"comment_id":54692363,"body_markdown":"@I.C.Weiner No problem! I&#39;m glad I helped (make sure to accept if I did)!","body":"@I.C.Weiner No problem! I&#39;m glad I helped (make sure to accept if I did)!"}],"tags":[],"owner":{"account_id":2785906,"reputation":16981,"user_id":2397327,"accept_rate":97,"display_name":"Jonathan Lam"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1446301493,"creation_date":1446301493,"answer_id":33452658,"question_id":33452555,"body_markdown":"I&#39;m not sure what&#39;s wrong with setting the `color` inside the `if`s and `return`ing it at the end, but here is what you wanted:\r\n\r\nReplace your `if...else` ladder with the following:\r\n\r\n    if(red.equals(x) &amp;&amp; yellow.equals(y) || red.equals(y) &amp;&amp; yellow.equals(x))//if red&amp;yellow selected\r\n        return &quot;orange&quot;;\r\n    else if(red.equals(x) &amp;&amp; blue.equals(y) || red.equals(y) &amp;&amp; blue.equals(x))//if red&amp;blue selected\r\n        return &quot;purple&quot;;\r\n    else if(yellow.equals(x) &amp;&amp; blue.equals(y) || yellow.equals(y) &amp;&amp; blue.equals(x))//if blue&amp;yellow selected\r\n        return &quot;green&quot;;\r\n    else\r\n        return null;  // default value, if neither orange nor purple nor green\r\n\r\nThis simply switches out the setting of `color` with a `return` statement. (Returning *inside* the `if` statements like the original question asked.)\r\n\r\nThis also shows how to properly use the `.equals()` method like you asked in the comment.","title":"How do I return my string inside an if statement?","body":"<p>I'm not sure what's wrong with setting the <code>color</code> inside the <code>if</code>s and <code>return</code>ing it at the end, but here is what you wanted:</p>\n\n<p>Replace your <code>if...else</code> ladder with the following:</p>\n\n<pre><code>if(red.equals(x) &amp;&amp; yellow.equals(y) || red.equals(y) &amp;&amp; yellow.equals(x))//if red&amp;yellow selected\n    return \"orange\";\nelse if(red.equals(x) &amp;&amp; blue.equals(y) || red.equals(y) &amp;&amp; blue.equals(x))//if red&amp;blue selected\n    return \"purple\";\nelse if(yellow.equals(x) &amp;&amp; blue.equals(y) || yellow.equals(y) &amp;&amp; blue.equals(x))//if blue&amp;yellow selected\n    return \"green\";\nelse\n    return null;  // default value, if neither orange nor purple nor green\n</code></pre>\n\n<p>This simply switches out the setting of <code>color</code> with a <code>return</code> statement. (Returning <em>inside</em> the <code>if</code> statements like the original question asked.)</p>\n\n<p>This also shows how to properly use the <code>.equals()</code> method like you asked in the comment.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682339198,"post_id":76070039,"comment_id":134194430,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/76070039/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28192943,"reputation":1,"user_id":21548055,"display_name":"SHIVAM SINGH"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682053505,"creation_date":1682053432,"answer_id":76070039,"question_id":33452555,"body_markdown":"```\r\npublic class Solution {\r\n    public static String remarkStudent(int score) {\r\n        // Write your code here\r\n        if ((score&gt;75)&amp;&amp; (score&lt;=100)) {\r\n            return &quot;Distinction&quot;;\r\n        } else if ((score&gt;50)&amp;&amp; (score&lt;=75)) {\r\n         return &quot;Average&quot;;\r\n        } else if ((score&gt;30)&amp;&amp; (score&lt;=50)) {\r\n            return  &quot;Below Average&quot;;\r\n        } else{\r\n            return null ;\r\n        }\r\n    }\r\n}\r\n```","title":"How do I return my string inside an if statement?","body":"<pre><code>public class Solution {\n    public static String remarkStudent(int score) {\n        // Write your code here\n        if ((score&gt;75)&amp;&amp; (score&lt;=100)) {\n            return &quot;Distinction&quot;;\n        } else if ((score&gt;50)&amp;&amp; (score&lt;=75)) {\n         return &quot;Average&quot;;\n        } else if ((score&gt;30)&amp;&amp; (score&lt;=50)) {\n            return  &quot;Below Average&quot;;\n        } else{\n            return null ;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7218910,"reputation":23,"user_id":5510242,"display_name":"I.C. Weiner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10790,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":33452658,"answer_count":3,"score":1,"last_activity_date":1682053505,"creation_date":1446300791,"question_id":33452555,"body_markdown":"    public static String  mixColors1(String x, String y)\r\n\t{\r\n\t\tString red=&quot;red&quot;;\r\n\t\tString yellow=&quot;yellow&quot;;\r\n\t\tString blue=&quot;blue&quot;;\r\n\t\tString color = null;//this line... is an issue\r\n\t\tif(red == x &amp;&amp; yellow == y || red == y &amp;&amp; yellow == x)//if red&amp;yellow selected\r\n\t\t\tcolor = &quot;orange&quot;;//return orange\r\n\t\t\t\r\n\t\telse if(red == x &amp;&amp; blue == y || red == y &amp;&amp; blue == x)//if red&amp;blue selected\r\n\t\t\tcolor = &quot;purple&quot;;//return purple\r\n\t\t\t\r\n\t\telse if(yellow == x &amp;&amp; blue == y || yellow == y &amp;&amp; blue == x)//if blue&amp;yellow selected\r\n\t\t\tcolor = &quot;green&quot;;//return green\r\n\t\t\t\r\n\t\treturn color;\r\n\t}","title":"How do I return my string inside an if statement?","body":"<pre><code>public static String  mixColors1(String x, String y)\n{\n    String red=\"red\";\n    String yellow=\"yellow\";\n    String blue=\"blue\";\n    String color = null;//this line... is an issue\n    if(red == x &amp;&amp; yellow == y || red == y &amp;&amp; yellow == x)//if red&amp;yellow selected\n        color = \"orange\";//return orange\n\n    else if(red == x &amp;&amp; blue == y || red == y &amp;&amp; blue == x)//if red&amp;blue selected\n        color = \"purple\";//return purple\n\n    else if(yellow == x &amp;&amp; blue == y || yellow == y &amp;&amp; blue == x)//if blue&amp;yellow selected\n        color = \"green\";//return green\n\n    return color;\n}\n</code></pre>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1681951887,"post_id":76059630,"comment_id":134141067,"body_markdown":"If it didn&#39;t work, it almost certainly threw an exception.  What exception did it throw?","body":"If it didn&#39;t work, it almost certainly threw an exception.  What exception did it throw?"},{"owner":{"account_id":28354792,"reputation":3,"user_id":21685708,"display_name":"L Code"},"score":0,"creation_date":1682000868,"post_id":76059630,"comment_id":134149873,"body_markdown":"there were no exception (that im aware of at least) not in the debugger/catch/logcat couldnt find anything","body":"there were no exception (that im aware of at least) not in the debugger/catch/logcat couldnt find anything"}],"answers":[{"comments":[{"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1681970819,"post_id":76060749,"comment_id":134142948,"body_markdown":"One solution to your problem is, embed the String variable &#39;s&#39; in an object and then use gson.toJson(object). It should work then.","body":"One solution to your problem is, embed the String variable &#39;s&#39; in an object and then use gson.toJson(object). It should work then."},{"owner":{"account_id":28354792,"reputation":3,"user_id":21685708,"display_name":"L Code"},"score":0,"creation_date":1682011015,"post_id":76060749,"comment_id":134152482,"body_markdown":"tried it, didnt work","body":"tried it, didnt work"},{"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1682013542,"post_id":76060749,"comment_id":134153030,"body_markdown":"Did you check if the file is getting created?","body":"Did you check if the file is getting created?"},{"owner":{"account_id":28354792,"reputation":3,"user_id":21685708,"display_name":"L Code"},"score":0,"creation_date":1682018925,"post_id":76060749,"comment_id":134154077,"body_markdown":"the file existed prior\nI tired deleting it and re running the project, nothing happened no file was created still no exceptions","body":"the file existed prior I tired deleting it and re running the project, nothing happened no file was created still no exceptions"},{"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"score":0,"creation_date":1682053086,"post_id":76060749,"comment_id":134158196,"body_markdown":"Pls check my edited answer above. It has the solution. It works.","body":"Pls check my edited answer above. It has the solution. It works."}],"tags":[],"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681967528,"creation_date":1681967528,"answer_id":76060749,"question_id":76059630,"body_markdown":"Gson.toJson(Obj) is used to convert an object into a Json-String which is a key value pair. Gson.toJson() takes a java object as an argument, whereas, you are passing a STRING value which not right, I think. For example, an object of Employee class, can be converted into json as below.\r\n\r\n    class Employee {\r\n    int empId;\r\n    String name;\r\n    String department;   \r\n} `\r\n\r\nNow, you can call \r\n\r\n    gson.toJson(new Employee(100, &quot;abc&quot;, &quot;xyz&quot;), new FileWriter(file));\r\n\r\nSo, please check your requirement again.","title":"Issue writing to json file in android","body":"<p>Gson.toJson(Obj) is used to convert an object into a Json-String which is a key value pair. Gson.toJson() takes a java object as an argument, whereas, you are passing a STRING value which not right, I think. For example, an object of Employee class, can be converted into json as below.</p>\n<pre><code>class Employee {\nint empId;\nString name;\nString department;   \n</code></pre>\n<p>} `</p>\n<p>Now, you can call</p>\n<pre><code>gson.toJson(new Employee(100, &quot;abc&quot;, &quot;xyz&quot;), new FileWriter(file));\n</code></pre>\n<p>So, please check your requirement again.</p>\n"},{"tags":[],"owner":{"account_id":5849714,"reputation":92,"user_id":5362509,"display_name":"Lakshmi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682052587,"creation_date":1682052587,"answer_id":76069982,"question_id":76059630,"body_markdown":"Try this. This worked for me. \r\n\r\n    private class myString {\r\n        String str;\r\n        public myString() {\r\n            this.str = &quot;Testing123...&quot;;\r\n        }\r\n    }\r\n\r\n    Gson gson = new Gson();\r\n        myString s = new myString();\r\n        File file = new File(getApplicationContext().getFilesDir(), &quot;Test.json&quot;);\r\n\r\n        try {\r\n            if(!file.exists())\r\n                file.createNewFile();\r\n            FileOutputStream fileOutputStream = new FileOutputStream(file);\r\n            byte[] arr = gson.toJson(s).getBytes();\r\n            fileOutputStream.write(arr);\r\n            fileOutputStream.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    ","title":"Issue writing to json file in android","body":"<p>Try this. This worked for me.</p>\n<pre><code>private class myString {\n    String str;\n    public myString() {\n        this.str = &quot;Testing123...&quot;;\n    }\n}\n\nGson gson = new Gson();\n    myString s = new myString();\n    File file = new File(getApplicationContext().getFilesDir(), &quot;Test.json&quot;);\n\n    try {\n        if(!file.exists())\n            file.createNewFile();\n        FileOutputStream fileOutputStream = new FileOutputStream(file);\n        byte[] arr = gson.toJson(s).getBytes();\n        fileOutputStream.write(arr);\n        fileOutputStream.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28354792,"reputation":3,"user_id":21685708,"display_name":"L Code"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76069982,"answer_count":2,"score":0,"last_activity_date":1682052587,"creation_date":1681949046,"question_id":76059630,"body_markdown":"Im trying to write into a json file and it just doesnt work, I dont get any errors but nothing changes in the file.\r\n\r\nhere is the relevant section of my code \r\n\r\n```\r\n        try {\r\n            //method1\r\n            Gson gson = new Gson();\r\n            String s = &quot;gjsanhfhj&quot;;\r\n            String path = this.getApplicationContext().getFilesDir().getAbsolutePath() + &quot;/&quot; + &quot;test.json&quot;;\r\n\r\n            File file = new File(path);\r\n            file.setWritable(true);\r\n\r\n            gson.toJson(s,new FileWriter(file));\r\n\r\n            //method2\r\n            FileOutputStream outputStream;\r\n            outputStream = openFileOutput(path, Context.MODE_PRIVATE);\r\n            outputStream.write(s.getBytes());\r\n            outputStream.close();\r\n\r\n            //method3\r\n            Writer output;\r\n            output = new BufferedWriter(new FileWriter(file));\r\n            output.write(s);\r\n            output.close();\r\n\r\n\r\n            Toast.makeText(this.getApplicationContext(), &quot;check&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\n\r\n\r\nI tried the 3 methods above, didnt work I couldnt find anything else\r\n\r\nI tried this\r\n```\r\n\r\npublic class PlayerData {\r\n    private int gold;\r\n    private int wins;\r\n    private int losses;\r\n\r\n    public PlayerData(){\r\n        gold = 0;\r\n        wins = 0;\r\n        losses = 0;\r\n    }\r\n\r\n\r\n            Gson gson = new Gson();\r\n            String path = this.getApplicationContext().getFilesDir().getAbsolutePath() + &quot;/&quot; + &quot;test.json&quot;;\r\n            File file = new File(path);\r\n            file.setWritable(true);\r\n\r\n            gson.toJson(new PlayerData(),new FileWriter(file));\r\n\r\n``` \r\ndidnt work","title":"Issue writing to json file in android","body":"<p>Im trying to write into a json file and it just doesnt work, I dont get any errors but nothing changes in the file.</p>\n<p>here is the relevant section of my code</p>\n<pre><code>        try {\n            //method1\n            Gson gson = new Gson();\n            String s = &quot;gjsanhfhj&quot;;\n            String path = this.getApplicationContext().getFilesDir().getAbsolutePath() + &quot;/&quot; + &quot;test.json&quot;;\n\n            File file = new File(path);\n            file.setWritable(true);\n\n            gson.toJson(s,new FileWriter(file));\n\n            //method2\n            FileOutputStream outputStream;\n            outputStream = openFileOutput(path, Context.MODE_PRIVATE);\n            outputStream.write(s.getBytes());\n            outputStream.close();\n\n            //method3\n            Writer output;\n            output = new BufferedWriter(new FileWriter(file));\n            output.write(s);\n            output.close();\n\n\n            Toast.makeText(this.getApplicationContext(), &quot;check&quot;, Toast.LENGTH_SHORT).show();\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I tried the 3 methods above, didnt work I couldnt find anything else</p>\n<p>I tried this</p>\n<pre><code>\npublic class PlayerData {\n    private int gold;\n    private int wins;\n    private int losses;\n\n    public PlayerData(){\n        gold = 0;\n        wins = 0;\n        losses = 0;\n    }\n\n\n            Gson gson = new Gson();\n            String path = this.getApplicationContext().getFilesDir().getAbsolutePath() + &quot;/&quot; + &quot;test.json&quot;;\n            File file = new File(path);\n            file.setWritable(true);\n\n            gson.toJson(new PlayerData(),new FileWriter(file));\n\n</code></pre>\n<p>didnt work</p>\n"},{"tags":["java","generics"],"answers":[{"comments":[{"owner":{"account_id":1815814,"reputation":987,"user_id":1650913,"accept_rate":86,"display_name":"Scoopta"},"score":0,"creation_date":1682054979,"post_id":76069969,"comment_id":134158400,"body_markdown":"O_O...not only does this fix my problem but it fixes my unchecked cast warning too...TIL, thanks!","body":"O_O...not only does this fix my problem but it fixes my unchecked cast warning too...TIL, thanks!"}],"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1682052412,"creation_date":1682052412,"answer_id":76069969,"question_id":76069867,"body_markdown":"You can use `&amp;` to ensure that `T` is an `enum` and implements `A`:\r\n\r\n```java\r\nclass C&lt;T extends Enum&lt;T&gt; &amp; A&gt; {\r\n    public C(Class&lt;T&gt; t) {\r\n        T test = Enum.valueOf(t, &quot;TEST&quot;);\r\n    }\r\n}\r\n```","title":"In java what is the correct Class generic to use for Enum.valueOf()?","body":"<p>You can use <code>&amp;</code> to ensure that <code>T</code> is an <code>enum</code> and implements <code>A</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class C&lt;T extends Enum&lt;T&gt; &amp; A&gt; {\n    public C(Class&lt;T&gt; t) {\n        T test = Enum.valueOf(t, &quot;TEST&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1815814,"reputation":987,"user_id":1650913,"accept_rate":86,"display_name":"Scoopta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76069969,"answer_count":1,"score":2,"last_activity_date":1682052412,"creation_date":1682050724,"question_id":76069867,"body_markdown":"I have a setup like this\r\n\r\n    interface A {}\r\n\r\n    enum B implements A {\r\n        TEST;\r\n    }\r\n\r\n    class C&lt;T extends Enum&lt;? extends A&gt;&gt; {\r\n        public C(T t) {\r\n            T test = (T) T.valueOf(t.getClass(), &quot;TEST&quot;);\r\n        }\r\n    }\r\n\r\nwhich works...however ideally I&#39;d like to change C to be something like\r\n\r\n    class C&lt;T extends Enum&lt;? extends A&gt;&gt; {\r\n        public C(Class&lt;T&gt; t) {\r\n            T test = (T) T.valueOf(t, &quot;TEST&quot;);\r\n        }\r\n    }\r\n\r\nhowever doing the second doesn&#39;t compile. What is the correct Class&lt;&gt; generic to use here? `Class&lt;? extends Enum&gt;` works but then I get a warning about a raw generic. Using `Class&lt;? extends Enum&lt;?&gt;&gt;` brings me back to an error. I know I can just use the first option and call `getClass()`, or even just suppress the warning for the raw generic but I want to understand what the correct generic type is...or am I just in Java generics hell and is there no right answer without suppressing the warning?","title":"In java what is the correct Class generic to use for Enum.valueOf()?","body":"<p>I have a setup like this</p>\n<pre><code>interface A {}\n\nenum B implements A {\n    TEST;\n}\n\nclass C&lt;T extends Enum&lt;? extends A&gt;&gt; {\n    public C(T t) {\n        T test = (T) T.valueOf(t.getClass(), &quot;TEST&quot;);\n    }\n}\n</code></pre>\n<p>which works...however ideally I'd like to change C to be something like</p>\n<pre><code>class C&lt;T extends Enum&lt;? extends A&gt;&gt; {\n    public C(Class&lt;T&gt; t) {\n        T test = (T) T.valueOf(t, &quot;TEST&quot;);\n    }\n}\n</code></pre>\n<p>however doing the second doesn't compile. What is the correct Class&lt;&gt; generic to use here? <code>Class&lt;? extends Enum&gt;</code> works but then I get a warning about a raw generic. Using <code>Class&lt;? extends Enum&lt;?&gt;&gt;</code> brings me back to an error. I know I can just use the first option and call <code>getClass()</code>, or even just suppress the warning for the raw generic but I want to understand what the correct generic type is...or am I just in Java generics hell and is there no right answer without suppressing the warning?</p>\n"},{"tags":["java","spring-boot","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1644248867,"post_id":71021158,"comment_id":125548493,"body_markdown":"2 Different browser means 2 different sessions. If you want to avoid same user to login again while first is logged in, you need to maintain the a session cache/db of currently logged in users and check against it.","body":"2 Different browser means 2 different sessions. If you want to avoid same user to login again while first is logged in, you need to maintain the a session cache/db of currently logged in users and check against it."},{"owner":{"account_id":10562632,"reputation":1057,"user_id":7781936,"display_name":"mao95"},"score":0,"creation_date":1644249560,"post_id":71021158,"comment_id":125548869,"body_markdown":"Thanks for the comment. But if so, what is the purpose of maximumSessions? I mean, if I try re-logging in in the same browser with a different tab, I simply get logged in in another tab automatically. Isn&#39;t maximumSession a parameter to avoid concurrent logins on different sessions (so, different browsers)? Or am I missing something?","body":"Thanks for the comment. But if so, what is the purpose of maximumSessions? I mean, if I try re-logging in in the same browser with a different tab, I simply get logged in in another tab automatically. Isn&#39;t maximumSession a parameter to avoid concurrent logins on different sessions (so, different browsers)? Or am I missing something?"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1644249960,"post_id":71021158,"comment_id":125549055,"body_markdown":"@mao95 You are logging in to your authorization server, that doesn&#39;t know if you are already logged in to your client. You could restrict the login to your own authorization server.","body":"@mao95 You are logging in to your authorization server, that doesn&#39;t know if you are already logged in to your client. You could restrict the login to your own authorization server."},{"owner":{"account_id":10562632,"reputation":1057,"user_id":7781936,"display_name":"mao95"},"score":0,"creation_date":1644250438,"post_id":71021158,"comment_id":125549264,"body_markdown":"@dur now that you made me think about it, it makes sense. Unfortunately I must login in an external authorization server, without restricting the login to my own server. Is there a way to check for maximumSession also in this way? Maybe adding a table to the db with the currently logged in users and check against it, or do you have a better idea?","body":"@dur now that you made me think about it, it makes sense. Unfortunately I must login in an external authorization server, without restricting the login to my own server. Is there a way to check for maximumSession also in this way? Maybe adding a table to the db with the currently logged in users and check against it, or do you have a better idea?"},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1644251276,"post_id":71021158,"comment_id":125549619,"body_markdown":"@mao95 I&#39;m sure there is a way to do that, but I can&#39;t give you any details, I would need to look into the documentation and code of Spring Security.","body":"@mao95 I&#39;m sure there is a way to do that, but I can&#39;t give you any details, I would need to look into the documentation and code of Spring Security."}],"answers":[{"tags":[],"owner":{"account_id":3853439,"reputation":373,"user_id":3192945,"accept_rate":67,"display_name":"user0011"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682050889,"creation_date":1682050379,"answer_id":76069844,"question_id":71021158,"body_markdown":"When oauth application deployed with multiple replicas(instances) and session are stored in redis etc., SessionRegistryImpl is not sufficient , use SpringSessionBackedSessionRegistry it allows concurrent session management with Spring Security in a clustered environment.\r\n\r\nhttps://docs.spring.io/spring-session/docs/current/api/org/springframework/session/security/SpringSessionBackedSessionRegistry.html\r\n\r\n    \r\n\r\n           @Inject\r\n           @Named(&quot;redisConnectionFactory&quot;)\r\n           private RedisConnectionFactory redisConnectionFactory;\r\n    \r\n           @SuppressWarnings({ &quot;unchecked&quot; })\r\n           @Bean\r\n           public SessionRegistry sessionRegistry()\r\n           {\r\n              return new SpringSessionBackedSessionRegistry(new RedisIndexedSessionRepository(sessionRedisOperations()));\r\n             \r\n           }\r\n        \r\n           @Bean\r\n           public RedisOperations&lt;Object, Object&gt; sessionRedisOperations()\r\n           {\r\n              RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\r\n              redisTemplate.setConnectionFactory(redisConnectionFactory);\r\n              redisTemplate.setKeySerializer(new StringRedisSerializer());\r\n              redisTemplate.setHashKeySerializer(new StringRedisSerializer());\r\n              redisTemplate.afterPropertiesSet();\r\n              return redisTemplate;\r\n           }\r\n             @Override\r\n              public void configure(HttpSecurity http) throws Exception\r\n              {\r\n                  http\r\n                    .sessionManagement()\r\n                    .maximumSessions(maximumSessions)\r\n                    .expiredUrl((&quot;/login?ex=MultiSession&quot;))\r\n                    .sessionRegistry(sessionRegistry())\r\n            ....\r\n            }\r\n\r\n        @Configuration\r\n        @EnableRedisHttpSession(maxInactiveIntervalInSeconds = 1800, redisFlushMode = RedisFlushMode.IMMEDIATE)\r\n        public class RedisConfig\r\n        {\r\n        \r\n         @Bean\r\n           public RedisConnectionFactory redisConnectionFactory()\r\n           {\r\n              LettuceClientConfiguration clientConfig = getLettuceClientConfiguration();\r\n        \r\n          ....\r\n          }\r\n     }","title":"Problem with concurrent sessions and OAuth2 in Spring Boot","body":"<p>When oauth application deployed with multiple replicas(instances) and session are stored in redis etc., SessionRegistryImpl is not sufficient , use SpringSessionBackedSessionRegistry it allows concurrent session management with Spring Security in a clustered environment.</p>\n<p><a href=\"https://docs.spring.io/spring-session/docs/current/api/org/springframework/session/security/SpringSessionBackedSessionRegistry.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-session/docs/current/api/org/springframework/session/security/SpringSessionBackedSessionRegistry.html</a></p>\n<pre><code>       @Inject\n       @Named(&quot;redisConnectionFactory&quot;)\n       private RedisConnectionFactory redisConnectionFactory;\n\n       @SuppressWarnings({ &quot;unchecked&quot; })\n       @Bean\n       public SessionRegistry sessionRegistry()\n       {\n          return new SpringSessionBackedSessionRegistry(new RedisIndexedSessionRepository(sessionRedisOperations()));\n         \n       }\n    \n       @Bean\n       public RedisOperations&lt;Object, Object&gt; sessionRedisOperations()\n       {\n          RedisTemplate&lt;Object, Object&gt; redisTemplate = new RedisTemplate&lt;&gt;();\n          redisTemplate.setConnectionFactory(redisConnectionFactory);\n          redisTemplate.setKeySerializer(new StringRedisSerializer());\n          redisTemplate.setHashKeySerializer(new StringRedisSerializer());\n          redisTemplate.afterPropertiesSet();\n          return redisTemplate;\n       }\n         @Override\n          public void configure(HttpSecurity http) throws Exception\n          {\n              http\n                .sessionManagement()\n                .maximumSessions(maximumSessions)\n                .expiredUrl((&quot;/login?ex=MultiSession&quot;))\n                .sessionRegistry(sessionRegistry())\n        ....\n        }\n\n    @Configuration\n    @EnableRedisHttpSession(maxInactiveIntervalInSeconds = 1800, redisFlushMode = RedisFlushMode.IMMEDIATE)\n    public class RedisConfig\n    {\n    \n     @Bean\n       public RedisConnectionFactory redisConnectionFactory()\n       {\n          LettuceClientConfiguration clientConfig = getLettuceClientConfiguration();\n    \n      ....\n      }\n }\n</code></pre>\n"}],"owner":{"account_id":10562632,"reputation":1057,"user_id":7781936,"display_name":"mao95"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682050889,"creation_date":1644247992,"question_id":71021158,"body_markdown":"I&#39;m working with Spring Security 5.6.0 and OAuth 2.0 authentication. I&#39;m trying to limit the concurrent sessions for each user to one. After some tries, I managed to write this code:\r\n```java\r\n@Override\r\nprotected void configure(HttpSecurity http) throws Exception {\r\n\r\n  http\r\n  [...]\r\n    .sessionManagement()\r\n\t.sessionFixation().migrateSession()\r\n\t.sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\r\n\t.invalidSessionUrl(&quot;/expired&quot;)\r\n\t.maximumSessions(1)\r\n\t.maxSessionsPreventsLogin(true)\r\n\t.sessionRegistry(sessionRegistry());\r\n```\r\n\r\nwith \r\n\r\n```java\r\n@Bean\r\npublic SessionRegistry sessionRegistry() {\r\n\tSessionRegistry sessionRegistry = new SessionRegistryImpl();\r\n\treturn sessionRegistry;\r\n}\r\n\r\n@Bean\r\npublic HttpSessionEventPublisher httpSessionEventPublisher() {\r\n\treturn new HttpSessionEventPublisher();\r\n}\r\n```\r\n\r\nYet, this doesn&#39;t work for some reason, letting two different browsers make API calls with the same user logged in. Any suggestions?","title":"Problem with concurrent sessions and OAuth2 in Spring Boot","body":"<p>I'm working with Spring Security 5.6.0 and OAuth 2.0 authentication. I'm trying to limit the concurrent sessions for each user to one. After some tries, I managed to write this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void configure(HttpSecurity http) throws Exception {\n\n  http\n  [...]\n    .sessionManagement()\n    .sessionFixation().migrateSession()\n    .sessionCreationPolicy(SessionCreationPolicy.IF_REQUIRED)\n    .invalidSessionUrl(&quot;/expired&quot;)\n    .maximumSessions(1)\n    .maxSessionsPreventsLogin(true)\n    .sessionRegistry(sessionRegistry());\n</code></pre>\n<p>with</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic SessionRegistry sessionRegistry() {\n    SessionRegistry sessionRegistry = new SessionRegistryImpl();\n    return sessionRegistry;\n}\n\n@Bean\npublic HttpSessionEventPublisher httpSessionEventPublisher() {\n    return new HttpSessionEventPublisher();\n}\n</code></pre>\n<p>Yet, this doesn't work for some reason, letting two different browsers make API calls with the same user logged in. Any suggestions?</p>\n"},{"tags":["java","spring-boot","maven","devops","teamcity"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1682056925,"post_id":76069876,"comment_id":134158654,"body_markdown":"The simple answer to this is: You have to upgrade your maven version otherwise you can not use that version of the plugin that&#39;s it... The other question which would come is: Why using such an old ancient version of Maven and why can&#39;t you upgrade your maven version? And what it mean in a production environment there is usually no build tool in there?","body":"The simple answer to this is: You have to upgrade your maven version otherwise you can not use that version of the plugin that&#39;s it... The other question which would come is: Why using such an old ancient version of Maven and why can&#39;t you upgrade your maven version? And what it mean in a production environment there is usually no build tool in there?"}],"owner":{"account_id":5995912,"reputation":37,"user_id":4710559,"display_name":"Amrit raj singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682050883,"creation_date":1682050883,"question_id":76069876,"body_markdown":"This is an springboot application and I am trying to add a webcomponent in this service. I am using com.github.eirslett:frontend-maven-plugin to install npm for my webcomponent. My application is working fine on my local environment with maven 3.9.0. But my application is failing in  production environment as it has maven 3.0.5 installed and I cannot simply upgrade the maven there. \r\n\r\nError I am getting on my prod linux environment:\r\n\r\n```\r\n[05:45:23][Step 2/2] [ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.11.2:install-node-and-npm (Install Node and NPM linux) on project my-web-application: The plugin com.github.eirslett:frontend-maven-plugin:1.11.2 requires Maven version 3.1.0 -&gt; [Help 1]\r\n[05:45:23][Step 2/2] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.11.2:install-node-and-npm (Install Node and NPM linux) on project my-web-application: The plugin com.github.eirslett:frontend-maven-plugin:1.11.2 requires Maven version 3.1.0\r\n[05:45:23][Step 2/2] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:170)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\r\n[05:45:23][Step 2/2] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[05:45:23][Step 2/2] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n[05:45:23][Step 2/2] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[05:45:23][Step 2/2] \tat java.lang.reflect.Method.invoke(Method.java:497)\r\n[05:45:23][Step 2/2] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\r\n[05:45:23][Step 2/2] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\r\n[05:45:23][Step 2/2] \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\r\n[05:45:23][Step 2/2] \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\r\n[05:45:23][Step 2/2] Caused by: org.apache.maven.plugin.PluginIncompatibleException: The plugin com.github.eirslett:frontend-maven-plugin:1.11.2 requires Maven version 3.1.0\r\n[05:45:23][Step 2/2] \tat org.apache.maven.plugin.internal.DefaultMavenPluginManager.checkRequiredMavenVersion(DefaultMavenPluginManager.java:283)\r\n[05:45:23][Step 2/2] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:166)\r\n[05:45:23][Step 2/2] \t... 19 more\r\n```\r\nThis is the plugin I am using:\r\n\r\n           &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11.2&lt;/version&gt;\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;nodeVersion&gt;${node.version}&lt;/nodeVersion&gt;\r\n                    &lt;downloadRoot&gt;${nodejsDownloadRoot}/&lt;/downloadRoot&gt;\r\n                    &lt;workingDirectory&gt;${frontend-src-dir}&lt;/workingDirectory&gt;\r\n                    &lt;installDirectory&gt;${project.build.directory}&lt;/installDirectory&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;install node and npm&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;npm install&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;arguments&gt;install&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;npm build&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;arguments&gt;run build&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\r\nI tried all the fixes I could think of or find on internet but I am not able to resolve it. Any lead will be helpful. Thankyou.","title":"Error maven PluginIncompatibleException in teamcity : The plugin com.github.eirslett:frontend-maven-plugin:1.11.2 requires Maven version 3.1.0","body":"<p>This is an springboot application and I am trying to add a webcomponent in this service. I am using com.github.eirslett:frontend-maven-plugin to install npm for my webcomponent. My application is working fine on my local environment with maven 3.9.0. But my application is failing in  production environment as it has maven 3.0.5 installed and I cannot simply upgrade the maven there.</p>\n<p>Error I am getting on my prod linux environment:</p>\n<pre><code>[05:45:23][Step 2/2] [ERROR] Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.11.2:install-node-and-npm (Install Node and NPM linux) on project my-web-application: The plugin com.github.eirslett:frontend-maven-plugin:1.11.2 requires Maven version 3.1.0 -&gt; [Help 1]\n[05:45:23][Step 2/2] org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.github.eirslett:frontend-maven-plugin:1.11.2:install-node-and-npm (Install Node and NPM linux) on project my-web-application: The plugin com.github.eirslett:frontend-maven-plugin:1.11.2 requires Maven version 3.1.0\n[05:45:23][Step 2/2]    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:170)\n[05:45:23][Step 2/2]    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n[05:45:23][Step 2/2]    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n[05:45:23][Step 2/2]    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n[05:45:23][Step 2/2]    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n[05:45:23][Step 2/2]    at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n[05:45:23][Step 2/2]    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n[05:45:23][Step 2/2]    at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n[05:45:23][Step 2/2]    at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n[05:45:23][Step 2/2]    at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n[05:45:23][Step 2/2]    at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n[05:45:23][Step 2/2]    at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n[05:45:23][Step 2/2]    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[05:45:23][Step 2/2]    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n[05:45:23][Step 2/2]    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[05:45:23][Step 2/2]    at java.lang.reflect.Method.invoke(Method.java:497)\n[05:45:23][Step 2/2]    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n[05:45:23][Step 2/2]    at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n[05:45:23][Step 2/2]    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n[05:45:23][Step 2/2]    at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\n[05:45:23][Step 2/2] Caused by: org.apache.maven.plugin.PluginIncompatibleException: The plugin com.github.eirslett:frontend-maven-plugin:1.11.2 requires Maven version 3.1.0\n[05:45:23][Step 2/2]    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.checkRequiredMavenVersion(DefaultMavenPluginManager.java:283)\n[05:45:23][Step 2/2]    at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:166)\n[05:45:23][Step 2/2]    ... 19 more\n</code></pre>\n<p>This is the plugin I am using:</p>\n<pre><code>       &lt;plugin&gt;\n            &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n            &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.11.2&lt;/version&gt;\n\n            &lt;configuration&gt;\n                &lt;nodeVersion&gt;${node.version}&lt;/nodeVersion&gt;\n                &lt;downloadRoot&gt;${nodejsDownloadRoot}/&lt;/downloadRoot&gt;\n                &lt;workingDirectory&gt;${frontend-src-dir}&lt;/workingDirectory&gt;\n                &lt;installDirectory&gt;${project.build.directory}&lt;/installDirectory&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;install node and npm&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;install-node-and-npm&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;npm install&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;npm&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;arguments&gt;install&lt;/arguments&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;npm build&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;npm&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;generate-resources&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;arguments&gt;run build&lt;/arguments&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n<p>I tried all the fixes I could think of or find on internet but I am not able to resolve it. Any lead will be helpful. Thankyou.</p>\n"},{"tags":["java","pointers","unsafe"],"comments":[{"owner":{"account_id":2397,"reputation":179879,"user_id":3333,"accept_rate":80,"display_name":"Paul Tomblin"},"score":0,"creation_date":1258476122,"post_id":1750106,"comment_id":1632209,"body_markdown":"The default &quot;hashCode&quot; for an Object is its pointer address.","body":"The default &quot;hashCode&quot; for an Object is its pointer address."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":2,"creation_date":1258476226,"post_id":1750106,"comment_id":1632222,"body_markdown":"In Sun&#39;s implementation anyway.","body":"In Sun&#39;s implementation anyway."},{"owner":{"display_name":"user213038"},"score":1,"creation_date":1258476434,"post_id":1750106,"comment_id":1632250,"body_markdown":"can i use that pointer address","body":"can i use that pointer address"},{"owner":{"account_id":42704,"reputation":8824,"user_id":124493,"accept_rate":96,"display_name":"San Jacinto"},"score":0,"creation_date":1258476490,"post_id":1750106,"comment_id":1632255,"body_markdown":"what do you mean &quot;use?&quot; you will &quot;use&quot; it every time you reference the object.","body":"what do you mean &quot;use?&quot; you will &quot;use&quot; it every time you reference the object."},{"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1258476555,"post_id":1750106,"comment_id":1632262,"body_markdown":"No, as I said in my answer, you can&#39;t do anything with specific memory addresses in Java.","body":"No, as I said in my answer, you can&#39;t do anything with specific memory addresses in Java."},{"owner":{"account_id":36759,"reputation":38034,"user_id":104950,"accept_rate":93,"display_name":"Amir Afghani"},"score":7,"creation_date":1258476771,"post_id":1750106,"comment_id":1632288,"body_markdown":"The default hashCode for a java object is NOT it&#39;s pointer address, re-read the contract for hashCode carefully and you&#39;ll notice that two distinct objects in memory can have the same hashCode value.","body":"The default hashCode for a java object is NOT it&#39;s pointer address, re-read the contract for hashCode carefully and you&#39;ll notice that two distinct objects in memory can have the same hashCode value."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1260091062,"post_id":1750106,"comment_id":1749700,"body_markdown":"In 64-bit and 32-bit Java, the 32-bit hashCode is not the address.  hashCodes are not guaranteed to be unique.  The location of a object can be moved in memory as it moved between spaces and the memory is compacted, the hashCode however doesn&#39;t change.","body":"In 64-bit and 32-bit Java, the 32-bit hashCode is not the address.  hashCodes are not guaranteed to be unique.  The location of a object can be moved in memory as it moved between spaces and the memory is compacted, the hashCode however doesn&#39;t change."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":2,"creation_date":1373536723,"post_id":1750106,"comment_id":25597961,"body_markdown":"90% of what you could do with C++ pointers you can do with java refrences, the remaining 10% you can acieve by packaging a reference inside annother object (not that I&#39;ve ever found it nessissary to do that)","body":"90% of what you could do with C++ pointers you can do with java refrences, the remaining 10% you can acieve by packaging a reference inside annother object (not that I&#39;ve ever found it nessissary to do that)"}],"answers":[{"comments":[{"owner":{"account_id":41828,"reputation":9595,"user_id":121674,"accept_rate":75,"display_name":"David Seiler"},"score":1,"creation_date":1258475830,"post_id":1750115,"comment_id":1632162,"body_markdown":"Not even through JNI?  No Java knowledge to speak of here, but I thought I&#39;d heard you could get some low-level bit-grubbing done that way.","body":"Not even through JNI?  No Java knowledge to speak of here, but I thought I&#39;d heard you could get some low-level bit-grubbing done that way."},{"owner":{"account_id":71932,"reputation":2395,"user_id":207868,"display_name":"Poindexter"},"score":0,"creation_date":1258475896,"post_id":1750115,"comment_id":1632174,"body_markdown":"As far as my ~4 years of Java experience and looking for the answer myself says no, Java pointers are not externally accessible.","body":"As far as my ~4 years of Java experience and looking for the answer myself says no, Java pointers are not externally accessible."},{"owner":{"display_name":"user213038"},"score":0,"creation_date":1258476184,"post_id":1750115,"comment_id":1632215,"body_markdown":"Thanks for response. \nI asked because, my lecturer told that at research level where java used in handheld devices,,they use pointer...that;s why I asked","body":"Thanks for response.  I asked because, my lecturer told that at research level where java used in handheld devices,,they use pointer...that;s why I asked"},{"owner":{"account_id":42704,"reputation":8824,"user_id":124493,"accept_rate":96,"display_name":"San Jacinto"},"score":0,"creation_date":1258476446,"post_id":1750115,"comment_id":1632252,"body_markdown":"@unknown(google) if it&#39;s at the research level, depending upon what is being done, it may have been that they needed such functionality, so they violated the normal idioms and implemented them anyway. You can implement your own JVM if you so wish to have a superset (or subset, or mixture) of normal Java features, but such code may not run on other Java platforms.","body":"@unknown(google) if it&#39;s at the research level, depending upon what is being done, it may have been that they needed such functionality, so they violated the normal idioms and implemented them anyway. You can implement your own JVM if you so wish to have a superset (or subset, or mixture) of normal Java features, but such code may not run on other Java platforms."},{"owner":{"display_name":"user213038"},"score":0,"creation_date":1258476796,"post_id":1750115,"comment_id":1632294,"body_markdown":"@san: Thanks for the answer. BTW I cannot vote..says that I need 15 reputation","body":"@san: Thanks for the answer. BTW I cannot vote..says that I need 15 reputation"},{"owner":{"account_id":1267027,"reputation":2073,"user_id":1224138,"accept_rate":27,"display_name":"Danger"},"score":0,"creation_date":1438298498,"post_id":1750115,"comment_id":51406536,"body_markdown":"Technically, no Java objects are pointers. They are references. If they were pointers, and your garbage collection ran, your program would instantly crash.","body":"Technically, no Java objects are pointers. They are references. If they were pointers, and your garbage collection ran, your program would instantly crash."}],"tags":[],"owner":{"account_id":71932,"reputation":2395,"user_id":207868,"display_name":"Poindexter"},"comment_count":6,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1258475790,"creation_date":1258475790,"answer_id":1750115,"question_id":1750106,"body_markdown":"Technically, all Java objects are pointers.  All primitive types are values though.  There is no way to take manual control of those pointers. Java just internally uses pass-by-reference.","title":"How can I use pointers in Java?","body":"<p>Technically, all Java objects are pointers.  All primitive types are values though.  There is no way to take manual control of those pointers. Java just internally uses pass-by-reference.</p>\n"},{"comments":[{"owner":{"account_id":1267027,"reputation":2073,"user_id":1224138,"accept_rate":27,"display_name":"Danger"},"score":3,"creation_date":1438298645,"post_id":1750120,"comment_id":51406572,"body_markdown":"One of the few correct answers here hardly has any upvotes?","body":"One of the few correct answers here hardly has any upvotes?"},{"owner":{"account_id":4110336,"reputation":611,"user_id":3373283,"display_name":"kingfrito_5005"},"score":1,"creation_date":1438720437,"post_id":1750120,"comment_id":51562697,"body_markdown":"Note that there exist &#39;pointer&#39; objects that simulate pointerlike behavior. For many purposes this can be used the same way, memory level addressing not withstanding. Given the nature of the question I feel its odd that nobody else mentioned this.","body":"Note that there exist &#39;pointer&#39; objects that simulate pointerlike behavior. For many purposes this can be used the same way, memory level addressing not withstanding. Given the nature of the question I feel its odd that nobody else mentioned this."},{"owner":{"account_id":9444354,"reputation":422,"user_id":8641608,"accept_rate":60,"display_name":"Neeraj Yadav"},"score":0,"creation_date":1515563767,"post_id":1750120,"comment_id":83342073,"body_markdown":"This should be the answer at top. Because for beginners telling that &quot;behind the scenes java have pointers&quot; can lead to very confusing state. Even when Java is taught at starting level, it is taught that pointers are not secure that&#39;s why they are not used in Java. A programmer needs to be told what he/she can see and work on. Reference and pointers are actually very different.","body":"This should be the answer at top. Because for beginners telling that &quot;behind the scenes java have pointers&quot; can lead to very confusing state. Even when Java is taught at starting level, it is taught that pointers are not secure that&#39;s why they are not used in Java. A programmer needs to be told what he/she can see and work on. Reference and pointers are actually very different."},{"owner":{"account_id":4962561,"reputation":597,"user_id":3993154,"accept_rate":100,"display_name":"Sometowngeek"},"score":0,"creation_date":1564354932,"post_id":1750120,"comment_id":100991821,"body_markdown":"Not sure I entirely agree with the &quot;2.2.3 No Enums&quot; topic in the link. The data might be outdated, but Java *does* support enums.","body":"Not sure I entirely agree with the &quot;2.2.3 No Enums&quot; topic in the link. The data might be outdated, but Java <i>does</i> support enums."},{"owner":{"account_id":38309,"reputation":19501,"user_id":109880,"accept_rate":76,"display_name":"Fortega"},"score":1,"creation_date":1564666740,"post_id":1750120,"comment_id":101112930,"body_markdown":"@Sometowngeek the document linked to is a white paper from 1996 describing the very first version of java. Enums are introduced in java version 1.5 (2004)","body":"@Sometowngeek the document linked to is a white paper from 1996 describing the very first version of java. Enums are introduced in java version 1.5 (2004)"},{"owner":{"account_id":4962561,"reputation":597,"user_id":3993154,"accept_rate":100,"display_name":"Sometowngeek"},"score":0,"creation_date":1564851895,"post_id":1750120,"comment_id":101169250,"body_markdown":"@Fortega derp... I didn&#39;t realize the document was dated. Thanks for clarifying :)","body":"@Fortega derp... I didn&#39;t realize the document was dated. Thanks for clarifying :)"},{"owner":{"account_id":101335,"reputation":688,"user_id":272733,"accept_rate":27,"display_name":"Michael Tsang"},"score":0,"creation_date":1588076618,"post_id":1750120,"comment_id":108755458,"body_markdown":"Java has pointers. `Dog d = new Dog(); d.bark();` in Java is the same as `Dog *d = new Dog(); d-&gt;bark();` in C++.\n\nThe difference is that, in Java you can&#39;t take a reference to get a pointer to non-objects, and you can&#39;t deference object pointers. Also you can&#39;t convert to numbers and do maths on it. Accessing an object thru a `null` pointer will get a `NullPointerException`.","body":"Java has pointers. <code>Dog d = new Dog(); d.bark();</code> in Java is the same as <code>Dog *d = new Dog(); d-&gt;bark();</code> in C++.  The difference is that, in Java you can&#39;t take a reference to get a pointer to non-objects, and you can&#39;t deference object pointers. Also you can&#39;t convert to numbers and do maths on it. Accessing an object thru a <code>null</code> pointer will get a <code>NullPointerException</code>."}],"tags":[],"owner":{"account_id":38309,"reputation":19501,"user_id":109880,"accept_rate":76,"display_name":"Fortega"},"comment_count":7,"down_vote_count":4,"up_vote_count":70,"is_accepted":false,"score":66,"last_activity_date":1485091448,"creation_date":1258475808,"answer_id":1750120,"question_id":1750106,"body_markdown":"As Java has no pointer data types, it is impossible to use pointers in Java. Even the few experts will not be able to use pointers in java.\r\n\r\nSee also the last point in: [The Java Language Environment][1]\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/simple-142616.html\r\n","title":"How can I use pointers in Java?","body":"<p>As Java has no pointer data types, it is impossible to use pointers in Java. Even the few experts will not be able to use pointers in java.</p>\n\n<p>See also the last point in: <a href=\"http://www.oracle.com/technetwork/java/javase/simple-142616.html\" rel=\"noreferrer\">The Java Language Environment</a></p>\n"},{"comments":[{"owner":{"display_name":"user213038"},"score":0,"creation_date":1258476034,"post_id":1750121,"comment_id":1632198,"body_markdown":"I am curious to know that. Thanks for the answer","body":"I am curious to know that. Thanks for the answer"},{"owner":{"account_id":1267027,"reputation":2073,"user_id":1224138,"accept_rate":27,"display_name":"Danger"},"score":0,"creation_date":1438298606,"post_id":1750121,"comment_id":51406560,"body_markdown":"Java does need pointers, and that is why Java added JNI - to get around the lack of &quot;pointer-like&quot; or lower level functions you simply can not do in Java, no matter what code you write.","body":"Java does need pointers, and that is why Java added JNI - to get around the lack of &quot;pointer-like&quot; or lower level functions you simply can not do in Java, no matter what code you write."}],"tags":[],"owner":{"account_id":19462,"reputation":102762,"user_id":45664,"accept_rate":91,"display_name":"Andrzej Doyle"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1258475812,"creation_date":1258475812,"answer_id":1750121,"question_id":1750106,"body_markdown":"Not really, no.\r\n\r\nJava doesn&#39;t have pointers.  If you *really* wanted you could try to emulate them by building around something like reflection, but it would have all of the **complexity** of pointers with none of the **benefits**.\r\n\r\nJava doesn&#39;t have pointers because it doesn&#39;t need them.  What kind of answers were you hoping for from this question, i.e. deep down did you hope you could use them for something or was this just curiousity?","title":"How can I use pointers in Java?","body":"<p>Not really, no.</p>\n\n<p>Java doesn't have pointers.  If you <em>really</em> wanted you could try to emulate them by building around something like reflection, but it would have all of the <strong>complexity</strong> of pointers with none of the <strong>benefits</strong>.</p>\n\n<p>Java doesn't have pointers because it doesn't need them.  What kind of answers were you hoping for from this question, i.e. deep down did you hope you could use them for something or was this just curiousity?</p>\n"},{"tags":[],"owner":{"account_id":64680,"reputation":57620,"user_id":190822,"accept_rate":89,"display_name":"yazz.com"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1258475941,"creation_date":1258475941,"answer_id":1750136,"question_id":1750106,"body_markdown":"Java does not have pointers like C has, but it does allow you to create new objects on the heap which are &quot;referenced&quot; by variables. The lack of pointers is to stop Java programs from referencing memory locations illegally, and also enables Garbage Collection to be automatically carried out by the Java Virtual Machine.","title":"How can I use pointers in Java?","body":"<p>Java does not have pointers like C has, but it does allow you to create new objects on the heap which are \"referenced\" by variables. The lack of pointers is to stop Java programs from referencing memory locations illegally, and also enables Garbage Collection to be automatically carried out by the Java Virtual Machine.</p>\n"},{"comments":[{"owner":{"account_id":101335,"reputation":688,"user_id":272733,"accept_rate":27,"display_name":"Michael Tsang"},"score":1,"creation_date":1588076776,"post_id":1750138,"comment_id":108755540,"body_markdown":"This is plain wrong. You can&#39;t write a `swap` function in Java which will swap two objects.","body":"This is plain wrong. You can&#39;t write a <code>swap</code> function in Java which will swap two objects."},{"owner":{"account_id":3612035,"reputation":2033,"user_id":3012814,"accept_rate":57,"display_name":"Sebi2020"},"score":0,"creation_date":1678541663,"post_id":1750138,"comment_id":133554566,"body_markdown":"@MichaelTsang Where did he talk about `swap`?! There is nothing wrong with this answer. You&#39;re copying references, not objects. This implies that you cannot move the objects itself.","body":"@MichaelTsang Where did he talk about <code>swap</code>?! There is nothing wrong with this answer. You&#39;re copying references, not objects. This implies that you cannot move the objects itself."}],"tags":[],"owner":{"account_id":72061,"reputation":1386,"user_id":208180,"display_name":"coolest_head"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1258475959,"creation_date":1258475959,"answer_id":1750138,"question_id":1750106,"body_markdown":"All objects in java are passed to functions by reference copy except primitives. \r\n\r\nIn effect, this means that you are sending a copy of the pointer to the original object rather than a copy of the object itself.\r\n\r\nPlease leave a comment if you want an example to understand this.\r\n","title":"How can I use pointers in Java?","body":"<p>All objects in java are passed to functions by reference copy except primitives. </p>\n\n<p>In effect, this means that you are sending a copy of the pointer to the original object rather than a copy of the object itself.</p>\n\n<p>Please leave a comment if you want an example to understand this.</p>\n"},{"comments":[{"owner":{"account_id":1267027,"reputation":2073,"user_id":1224138,"accept_rate":27,"display_name":"Danger"},"score":17,"creation_date":1438298163,"post_id":1750141,"comment_id":51406454,"body_markdown":"Java simply does not have pointers, plain and simple, and I can not for the life of me understand why so many answers here state incorrect information. This is StackOverlfow people! The definition of a pointer in computer science is (you can Google for this): &quot;In computer science, a pointer is a programming language object, whose value refers to (or &quot;points to&quot;) another value stored elsewhere in the computer memory using its address.&quot; A reference in Java is NOT a pointer.  Java needs to run garbage collection and if you had a real pointer it would then be wrong!","body":"Java simply does not have pointers, plain and simple, and I can not for the life of me understand why so many answers here state incorrect information. This is StackOverlfow people! The definition of a pointer in computer science is (you can Google for this): &quot;In computer science, a pointer is a programming language object, whose value refers to (or &quot;points to&quot;) another value stored elsewhere in the computer memory using its address.&quot; A reference in Java is NOT a pointer.  Java needs to run garbage collection and if you had a real pointer it would then be wrong!"},{"owner":{"account_id":4110336,"reputation":611,"user_id":3373283,"display_name":"kingfrito_5005"},"score":5,"creation_date":1438720324,"post_id":1750141,"comment_id":51562637,"body_markdown":"@Danger A pointer is a a piece of data containing a memory address. Java is two things, which people forget. It is a language and a platform. Much as one would not say that .NET is a language, we need to remember that saying &#39;Java doesn&#39;t have pointers&#39; can be misleading because the platform does of course have and use pointers. Those pointers are not accessible to the programmer through the Java language, but they do exist in the runtime. References in the language exist on top of actual pointers in the runtime.","body":"@Danger A pointer is a a piece of data containing a memory address. Java is two things, which people forget. It is a language and a platform. Much as one would not say that .NET is a language, we need to remember that saying &#39;Java doesn&#39;t have pointers&#39; can be misleading because the platform does of course have and use pointers. Those pointers are not accessible to the programmer through the Java language, but they do exist in the runtime. References in the language exist on top of actual pointers in the runtime."},{"owner":{"account_id":1267027,"reputation":2073,"user_id":1224138,"accept_rate":27,"display_name":"Danger"},"score":0,"creation_date":1438735041,"post_id":1750141,"comment_id":51567893,"body_markdown":"@kingfrito_5005 It would appear that you are agreeing with me. I believe you said &quot;Those pointers are not accessible to the programmer through the Java Language&quot; which is consistent with my statement that &quot;Java does not have pointers&quot;. References are semantically significantly different from pointers.","body":"@kingfrito_5005 It would appear that you are agreeing with me. I believe you said &quot;Those pointers are not accessible to the programmer through the Java Language&quot; which is consistent with my statement that &quot;Java does not have pointers&quot;. References are semantically significantly different from pointers."},{"owner":{"account_id":4110336,"reputation":611,"user_id":3373283,"display_name":"kingfrito_5005"},"score":2,"creation_date":1438783153,"post_id":1750141,"comment_id":51591198,"body_markdown":"@Danger this is true, but I think its important in these cases to distinguish between the platform and the language because I know that when I was first starting out a statement like yours would have confused me.","body":"@Danger this is true, but I think its important in these cases to distinguish between the platform and the language because I know that when I was first starting out a statement like yours would have confused me."},{"owner":{"account_id":5219104,"reputation":68,"user_id":4173101,"display_name":"VulstaR"},"score":1,"creation_date":1570440007,"post_id":1750141,"comment_id":102900700,"body_markdown":"Yup, Java certainly has pointers behind the variables. It is just that developers dont have to deal with them because java is doing the magic for this behind the scenes. This means developers are not directly allowed to point a variable to a specific memmory adress, and deal with data offsets and stuff. It allows java to keep a clean memmory garbage collection, but since every variable is essentialy a pointer, it also takes some extra memmory to have all those auto generated pointer adresses, which in the more low level languages could have been avoided.","body":"Yup, Java certainly has pointers behind the variables. It is just that developers dont have to deal with them because java is doing the magic for this behind the scenes. This means developers are not directly allowed to point a variable to a specific memmory adress, and deal with data offsets and stuff. It allows java to keep a clean memmory garbage collection, but since every variable is essentialy a pointer, it also takes some extra memmory to have all those auto generated pointer adresses, which in the more low level languages could have been avoided."}],"tags":[],"owner":{"account_id":7745,"reputation":189765,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"comment_count":5,"down_vote_count":5,"up_vote_count":56,"is_accepted":false,"score":51,"last_activity_date":1258475988,"creation_date":1258475988,"answer_id":1750141,"question_id":1750106,"body_markdown":"Java does have pointers. Any time you create an object in Java, you&#39;re actually creating a pointer to the object; this pointer could then be set to a different object or to `null`, and the original object will still exist (pending garbage collection).\r\n\r\nWhat you can&#39;t do in Java is pointer arithmetic. You can&#39;t dereference a specific memory address or increment a pointer.\r\n\r\nIf you really want to get low-level, the only way to do it is with the [Java Native Interface][1]; and even then, the low-level part has to be done in C or C++.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/technotes/guides/jni/","title":"How can I use pointers in Java?","body":"<p>Java does have pointers. Any time you create an object in Java, you're actually creating a pointer to the object; this pointer could then be set to a different object or to <code>null</code>, and the original object will still exist (pending garbage collection).</p>\n\n<p>What you can't do in Java is pointer arithmetic. You can't dereference a specific memory address or increment a pointer.</p>\n\n<p>If you really want to get low-level, the only way to do it is with the <a href=\"http://java.sun.com/javase/6/docs/technotes/guides/jni/\" rel=\"noreferrer\">Java Native Interface</a>; and even then, the low-level part has to be done in C or C++.</p>\n"},{"comments":[{"owner":{"account_id":19779,"reputation":229365,"user_id":46642,"accept_rate":88,"display_name":"R. Martinho Fernandes"},"score":23,"creation_date":1260087237,"post_id":1750197,"comment_id":1749535,"body_markdown":"Nice answer, but you failed to address one key difference: C has pointer arithmetics. (Fortunately) you can&#39;t do that in Java.","body":"Nice answer, but you failed to address one key difference: C has pointer arithmetics. (Fortunately) you can&#39;t do that in Java."},{"owner":{"account_id":1267027,"reputation":2073,"user_id":1224138,"accept_rate":27,"display_name":"Danger"},"score":24,"creation_date":1406099284,"post_id":1750197,"comment_id":38689413,"body_markdown":"I hate to down vote any answer, especially one that is popular, but Java does not have pointers and you simply can not use a reference like a pointer.  There are certain things you can only do with real pointers - for example, you can get or set any byte in your process data space.  You simply can&#39;t do that in Java.  It&#39;s really bad that so many people here seem to not understand what a pointer really is, imho, and now I will get off my rant soap box and hope you forgive me for my little outburst.","body":"I hate to down vote any answer, especially one that is popular, but Java does not have pointers and you simply can not use a reference like a pointer.  There are certain things you can only do with real pointers - for example, you can get or set any byte in your process data space.  You simply can&#39;t do that in Java.  It&#39;s really bad that so many people here seem to not understand what a pointer really is, imho, and now I will get off my rant soap box and hope you forgive me for my little outburst."},{"owner":{"account_id":4229667,"reputation":290,"user_id":3462295,"display_name":"user3462295"},"score":8,"creation_date":1409588299,"post_id":1750197,"comment_id":40006315,"body_markdown":"I think you mean Unfortunately. Why would you think it is good that java does not support pointer arithmetic?","body":"I think you mean Unfortunately. Why would you think it is good that java does not support pointer arithmetic?"},{"owner":{"account_id":2477282,"reputation":1503,"user_id":2230115,"accept_rate":94,"display_name":"iCodeSometime"},"score":3,"creation_date":1425421027,"post_id":1750197,"comment_id":45955108,"body_markdown":"@user3462295 Because people seem to think it is too difficult to be used by the general populace, and can only be understood by coding ninjas writing compilers or device drivers.","body":"@user3462295 Because people seem to think it is too difficult to be used by the general populace, and can only be understood by coding ninjas writing compilers or device drivers."},{"owner":{"account_id":2048935,"reputation":4092,"user_id":1828361,"accept_rate":65,"display_name":"csga5000"},"score":0,"creation_date":1438214072,"post_id":1750197,"comment_id":51363846,"body_markdown":"@Danger He says &quot;You can use these like a pointer&quot;, while it&#39;s true that it&#39;s only a reference, the general behavior of the object is the same, and it addresses the question properly.","body":"@Danger He says &quot;You can use these like a pointer&quot;, while it&#39;s true that it&#39;s only a reference, the general behavior of the object is the same, and it addresses the question properly."},{"owner":{"account_id":1267027,"reputation":2073,"user_id":1224138,"accept_rate":27,"display_name":"Danger"},"score":1,"creation_date":1438272581,"post_id":1750197,"comment_id":51393505,"body_markdown":"@csga5000 You misquoted the question. Nowhere in the question does the OP use the word &quot;like&quot;. Therefore I believe both this answer and your comment are misleading and I will stand by my comment, which is: Java simply has no pointers. You can use a reference in some ways that are similar to pointers, but no, Java has no pointers which is what this question asked.","body":"@csga5000 You misquoted the question. Nowhere in the question does the OP use the word &quot;like&quot;. Therefore I believe both this answer and your comment are misleading and I will stand by my comment, which is: Java simply has no pointers. You can use a reference in some ways that are similar to pointers, but no, Java has no pointers which is what this question asked."},{"owner":{"account_id":2048935,"reputation":4092,"user_id":1828361,"accept_rate":65,"display_name":"csga5000"},"score":7,"creation_date":1438275137,"post_id":1750197,"comment_id":51394965,"body_markdown":"@Danger First line of answer &quot;All objects in Java are references and you can use them like pointers.&quot;.  This is the best answer that can be provided.  If the only answer had been &quot;No, java has no pointers.&quot; that answer would have been unhelpful.  This answer instead states what you can do instead.","body":"@Danger First line of answer &quot;All objects in Java are references and you can use them like pointers.&quot;.  This is the best answer that can be provided.  If the only answer had been &quot;No, java has no pointers.&quot; that answer would have been unhelpful.  This answer instead states what you can do instead."},{"owner":{"account_id":2048935,"reputation":4092,"user_id":1828361,"accept_rate":65,"display_name":"csga5000"},"score":0,"creation_date":1438275233,"post_id":1750197,"comment_id":51395024,"body_markdown":"@Danger I did 1 up your comment when I read it, as I think it&#39;s a good point that java doesn&#39;t have pointers, that may have been better represented in the answer, however, the answer does not state that there ARE pointers, only that objects are references, and other helpful information.","body":"@Danger I did 1 up your comment when I read it, as I think it&#39;s a good point that java doesn&#39;t have pointers, that may have been better represented in the answer, however, the answer does not state that there ARE pointers, only that objects are references, and other helpful information."},{"owner":{"account_id":1267027,"reputation":2073,"user_id":1224138,"accept_rate":27,"display_name":"Danger"},"score":0,"creation_date":1438297452,"post_id":1750197,"comment_id":51406239,"body_markdown":"It is true you can use references like pointers if you severely restrict how you use pointers, but then you&#39;re missing the point. (pun intended!) Thank you for 1-upping my comment though. A better and more clear answer would start with: &quot;No, Java does not have pointers. But if you consider a restricted use of pointers which we can call references, than you can used a restricted subset of pointer functionality within Java.&quot;","body":"It is true you can use references like pointers if you severely restrict how you use pointers, but then you&#39;re missing the point. (pun intended!) Thank you for 1-upping my comment though. A better and more clear answer would start with: &quot;No, Java does not have pointers. But if you consider a restricted use of pointers which we can call references, than you can used a restricted subset of pointer functionality within Java.&quot;"},{"owner":{"account_id":1304139,"reputation":199,"user_id":1253469,"accept_rate":62,"display_name":"italianfoot"},"score":0,"creation_date":1587518585,"post_id":1750197,"comment_id":108541534,"body_markdown":"Could you elaborate on the aliasing problem?","body":"Could you elaborate on the aliasing problem?"},{"owner":{"account_id":7555179,"reputation":103,"user_id":15271278,"display_name":"Robherc KV5ROB"},"score":0,"creation_date":1650762254,"post_id":1750197,"comment_id":127197973,"body_markdown":"I think the answer should be updated from &quot;This is very rare and usually only results from run away recursion&quot; to &quot;This is very rare and usually only results from infinite loops or run away recursion&quot; lol","body":"I think the answer should be updated from &quot;This is very rare and usually only results from run away recursion&quot; to &quot;This is very rare and usually only results from infinite loops or run away recursion&quot; lol"}],"tags":[],"owner":{"account_id":47564,"reputation":17345,"user_id":140934,"accept_rate":98,"display_name":"Sajad Bahmani"},"comment_count":11,"down_vote_count":6,"up_vote_count":288,"is_accepted":false,"score":282,"last_activity_date":1422975043,"creation_date":1258476539,"answer_id":1750197,"question_id":1750106,"body_markdown":"All objects in Java are references and you can use them like pointers.\r\n\r\n    abstract class Animal\r\n    {...\r\n    }\r\n\r\n    class Lion extends Animal\r\n    {...\r\n    }\r\n\r\n    class Tiger extends Animal\r\n    {\t\r\n\tpublic Tiger() {...}\r\n\tpublic void growl(){...}\r\n    }\r\n\r\n    Tiger first = null;\r\n    Tiger second = new Tiger();\r\n    Tiger third;\r\n\r\nDereferencing a null:\r\n\r\n    first.growl();\t// ERROR, first is null.    \r\n    third.growl(); // ERROR, third has not been initialized.\r\n\r\nAliasing Problem:\r\n\r\n    third = new Tiger();\r\n    first = third;\r\n\r\nLosing Cells:\r\n\r\n    second = third; // Possible ERROR. The old value of second is lost.    \r\n You can make this safe by first assuring that there is no further need of the old value of second or assigning another pointer the value of second.\r\n\r\n    first = second;\r\n    second = third;\t//OK\r\n\r\nNote that giving second a value in other ways (NULL, new...) is just as much a potential error and may result in losing the object that it points to.\r\n\r\nThe Java system will throw an exception (`OutOfMemoryError`) when you call new and the allocator cannot allocate the requested cell. This is very rare and usually results from run-away recursion.\r\n\r\nNote that, from a language point of view, abandoning objects to the garbage collector are not errors at all. It is just something that the programmer needs to be aware of. The same variable can point to different objects at different times and old values will be reclaimed when no pointer references them. But if the logic of the program requires maintaining at least one reference to the object, It will cause an error.\r\n\r\nNovices often make the following error.\r\n\r\n    Tiger tony = new Tiger();\r\n    tony = third; // Error, the new object allocated above is reclaimed. \r\n\r\nWhat you probably meant to say was:\r\n\r\n    Tiger tony = null;\r\n    tony = third; // OK.\r\n\r\nImproper Casting:\r\n\r\n    Lion leo = new Lion();\r\n    Tiger tony = (Tiger)leo; // Always illegal and caught by compiler. \r\n\r\n    Animal whatever = new Lion(); // Legal.\r\n    Tiger tony = (Tiger)whatever; // Illegal, just as in previous example.\r\n    Lion leo = (Lion)whatever; // Legal, object whatever really is a Lion.\r\n\r\n \r\n------------\r\nPointers in C:\r\n\r\n    void main() {   \r\n        int*    x;  // Allocate the pointers x and y\r\n        int*    y;  // (but not the pointees)\r\n        \r\n        x = malloc(sizeof(int));    // Allocate an int pointee,\r\n                                    // and set x to point to it\r\n        \r\n        *x = 42;    // Dereference x to store 42 in its pointee\r\n        \r\n        *y = 13;    // CRASH -- y does not have a pointee yet\r\n        \r\n        y = x;      // Pointer assignment sets y to point to x&#39;s pointee\r\n        \r\n        *y = 13;    // Dereference y to store 13 in its (shared) pointee\r\n    }\r\n\r\nPointers in Java:\r\n\r\n    class IntObj {\r\n        public int value;\r\n    }\r\n    \r\n    public class Binky() {\r\n        public static void main(String[] args) {\r\n            IntObj  x;  // Allocate the pointers x and y\r\n            IntObj  y;  // (but not the IntObj pointees)\r\n            \r\n            x = new IntObj();   // Allocate an IntObj pointee\r\n                                // and set x to point to it\r\n            \r\n            x.value = 42;   // Dereference x to store 42 in its pointee\r\n            \r\n            y.value = 13;   // CRASH -- y does not have a pointee yet\r\n            \r\n            y = x;  // Pointer assignment sets y to point to x&#39;s pointee\r\n            \r\n            y.value = 13;   // Deference y to store 13 in its (shared) pointee\r\n        }\r\n    } \r\n\r\n**UPDATE:** as suggested in the comments one must note that C has pointer arithmetic. However, we do not have that in Java.","title":"How can I use pointers in Java?","body":"<p>All objects in Java are references and you can use them like pointers.</p>\n\n<pre><code>abstract class Animal\n{...\n}\n\nclass Lion extends Animal\n{...\n}\n\nclass Tiger extends Animal\n{   \npublic Tiger() {...}\npublic void growl(){...}\n}\n\nTiger first = null;\nTiger second = new Tiger();\nTiger third;\n</code></pre>\n\n<p>Dereferencing a null:</p>\n\n<pre><code>first.growl();  // ERROR, first is null.    \nthird.growl(); // ERROR, third has not been initialized.\n</code></pre>\n\n<p>Aliasing Problem:</p>\n\n<pre><code>third = new Tiger();\nfirst = third;\n</code></pre>\n\n<p>Losing Cells:</p>\n\n<pre><code>second = third; // Possible ERROR. The old value of second is lost.    \n</code></pre>\n\n<p>You can make this safe by first assuring that there is no further need of the old value of second or assigning another pointer the value of second.</p>\n\n<pre><code>first = second;\nsecond = third; //OK\n</code></pre>\n\n<p>Note that giving second a value in other ways (NULL, new...) is just as much a potential error and may result in losing the object that it points to.</p>\n\n<p>The Java system will throw an exception (<code>OutOfMemoryError</code>) when you call new and the allocator cannot allocate the requested cell. This is very rare and usually results from run-away recursion.</p>\n\n<p>Note that, from a language point of view, abandoning objects to the garbage collector are not errors at all. It is just something that the programmer needs to be aware of. The same variable can point to different objects at different times and old values will be reclaimed when no pointer references them. But if the logic of the program requires maintaining at least one reference to the object, It will cause an error.</p>\n\n<p>Novices often make the following error.</p>\n\n<pre><code>Tiger tony = new Tiger();\ntony = third; // Error, the new object allocated above is reclaimed. \n</code></pre>\n\n<p>What you probably meant to say was:</p>\n\n<pre><code>Tiger tony = null;\ntony = third; // OK.\n</code></pre>\n\n<p>Improper Casting:</p>\n\n<pre><code>Lion leo = new Lion();\nTiger tony = (Tiger)leo; // Always illegal and caught by compiler. \n\nAnimal whatever = new Lion(); // Legal.\nTiger tony = (Tiger)whatever; // Illegal, just as in previous example.\nLion leo = (Lion)whatever; // Legal, object whatever really is a Lion.\n</code></pre>\n\n<hr>\n\n<p>Pointers in C:</p>\n\n<pre><code>void main() {   \n    int*    x;  // Allocate the pointers x and y\n    int*    y;  // (but not the pointees)\n\n    x = malloc(sizeof(int));    // Allocate an int pointee,\n                                // and set x to point to it\n\n    *x = 42;    // Dereference x to store 42 in its pointee\n\n    *y = 13;    // CRASH -- y does not have a pointee yet\n\n    y = x;      // Pointer assignment sets y to point to x's pointee\n\n    *y = 13;    // Dereference y to store 13 in its (shared) pointee\n}\n</code></pre>\n\n<p>Pointers in Java:</p>\n\n<pre><code>class IntObj {\n    public int value;\n}\n\npublic class Binky() {\n    public static void main(String[] args) {\n        IntObj  x;  // Allocate the pointers x and y\n        IntObj  y;  // (but not the IntObj pointees)\n\n        x = new IntObj();   // Allocate an IntObj pointee\n                            // and set x to point to it\n\n        x.value = 42;   // Dereference x to store 42 in its pointee\n\n        y.value = 13;   // CRASH -- y does not have a pointee yet\n\n        y = x;  // Pointer assignment sets y to point to x's pointee\n\n        y.value = 13;   // Deference y to store 13 in its (shared) pointee\n    }\n} \n</code></pre>\n\n<p><strong>UPDATE:</strong> as suggested in the comments one must note that C has pointer arithmetic. However, we do not have that in Java.</p>\n"},{"tags":[],"owner":{"account_id":36232,"reputation":26946,"user_id":103206,"accept_rate":67,"display_name":"Jay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1258478114,"creation_date":1258478114,"answer_id":1750362,"question_id":1750106,"body_markdown":"As others have said, the short answer is &quot;No&quot;.\r\n\r\nSure, you could write JNI code that plays with Java pointers. Depending on what you&#39;re trying to accomplish, maybe that would get you somewhere and maybe it wouldn&#39;t.\r\n\r\nYou could always simulate pointes by creating an array and working with indexes into the array. Again, depending on what you&#39;re trying to accomplish, that might or might not be useful.","title":"How can I use pointers in Java?","body":"<p>As others have said, the short answer is \"No\".</p>\n\n<p>Sure, you could write JNI code that plays with Java pointers. Depending on what you're trying to accomplish, maybe that would get you somewhere and maybe it wouldn't.</p>\n\n<p>You could always simulate pointes by creating an array and working with indexes into the array. Again, depending on what you're trying to accomplish, that might or might not be useful.</p>\n"},{"comments":[{"owner":{"account_id":397827,"reputation":2100,"user_id":762175,"accept_rate":87,"display_name":"Ethan Reesor"},"score":9,"creation_date":1337125190,"post_id":1854856,"comment_id":13747729,"body_markdown":"Pointers are extremely powerful and useful. There are many cases where not having pointers (Java) makes code much less efficient. Just because people suck at using pointers doesn&#39;t mean languages should exclude them. Should I not have a rifle because others (like the military) use them to kill people?","body":"Pointers are extremely powerful and useful. There are many cases where not having pointers (Java) makes code much less efficient. Just because people suck at using pointers doesn&#39;t mean languages should exclude them. Should I not have a rifle because others (like the military) use them to kill people?"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1337145187,"post_id":1854856,"comment_id":13751022,"body_markdown":"There isn&#39;t much useful or powerful you can&#39;t do in Java as the language is.  For everything else there is the Unsafe class which I find I need to use very rarely.","body":"There isn&#39;t much useful or powerful you can&#39;t do in Java as the language is.  For everything else there is the Unsafe class which I find I need to use very rarely."},{"owner":{"account_id":1267027,"reputation":2073,"user_id":1224138,"accept_rate":27,"display_name":"Danger"},"score":2,"creation_date":1438298804,"post_id":1854856,"comment_id":51406619,"body_markdown":"Much of the code I have written over the last 40 years could never have been implemented in Java, because Java is lacking core, low level capabilities.","body":"Much of the code I have written over the last 40 years could never have been implemented in Java, because Java is lacking core, low level capabilities."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1438327980,"post_id":1854856,"comment_id":51415156,"body_markdown":"@Danger which is why a large number of libraries use Unsafe and the idea of removing it has sparked so much debate in Java 9.  The plan is to provide replacements, but they are not ready yet.","body":"@Danger which is why a large number of libraries use Unsafe and the idea of removing it has sparked so much debate in Java 9.  The plan is to provide replacements, but they are not ready yet."},{"owner":{"account_id":3248847,"reputation":1579,"user_id":2739681,"accept_rate":82,"display_name":"PeMa"},"score":1,"creation_date":1616691242,"post_id":1854856,"comment_id":118088934,"body_markdown":"This actually is the only correct answer. I was just about to write an answer pointing to https://www.baeldung.com/java-unsafe.","body":"This actually is the only correct answer. I was just about to write an answer pointing to <a href=\"https://www.baeldung.com/java-unsafe\" rel=\"nofollow noreferrer\">baeldung.com/java-unsafe</a>."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":1,"creation_date":1616775993,"post_id":1854856,"comment_id":118117659,"body_markdown":"@PeMa about 5 years ago I wrote a library to wrap much of this functionality to make it safer. https://github.com/OpenHFT/Chronicle-Bytes","body":"@PeMa about 5 years ago I wrote a library to wrap much of this functionality to make it safer. <a href=\"https://github.com/OpenHFT/Chronicle-Bytes\" rel=\"nofollow noreferrer\">github.com/OpenHFT/Chronicle-Bytes</a>"},{"owner":{"account_id":3248847,"reputation":1579,"user_id":2739681,"accept_rate":82,"display_name":"PeMa"},"score":0,"creation_date":1616880901,"post_id":1854856,"comment_id":118143509,"body_markdown":"@PeterLawrey thank you for the comment. I&#39;ll have a closer look at it.","body":"@PeterLawrey thank you for the comment. I&#39;ll have a closer look at it."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1617009992,"post_id":1854856,"comment_id":118171157,"body_markdown":"@PeMa I suggest you also look at Chronicle Queue and Chronicle Map which use this library to store data in off heap and persisted shared memory.","body":"@PeMa I suggest you also look at Chronicle Queue and Chronicle Map which use this library to store data in off heap and persisted shared memory."},{"owner":{"account_id":423955,"reputation":2521,"user_id":803674,"accept_rate":76,"display_name":"niken"},"score":0,"creation_date":1624049523,"post_id":1854856,"comment_id":120260970,"body_markdown":"Stop marketing your software and just admit pointers in java would change the game. And , dare I say , make (most) of the library you have worked so hard on obsolete ? Don&#39;t worry though, &quot;they&quot; won&#39;t add pointers any time soon, because come on, just read some of the answers and comments ( lol... )","body":"Stop marketing your software and just admit pointers in java would change the game. And , dare I say , make (most) of the library you have worked so hard on obsolete ? Don&#39;t worry though, &quot;they&quot; won&#39;t add pointers any time soon, because come on, just read some of the answers and comments ( lol... )"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1624183681,"post_id":1854856,"comment_id":120284057,"body_markdown":"@niken Mentioning software in a comment 11 years after the original answer isn&#39;t marketing.","body":"@niken Mentioning software in a comment 11 years after the original answer isn&#39;t marketing."},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1624184259,"post_id":1854856,"comment_id":120284205,"body_markdown":"@niken In May it had 80K downloads, not too obsolete.","body":"@niken In May it had 80K downloads, not too obsolete."}],"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":11,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1260091241,"creation_date":1260091241,"answer_id":1854856,"question_id":1750106,"body_markdown":"You can use addresses and pointers using the Unsafe class.  However as the name suggests, these methods are UNSAFE and generally a bad idea. Incorrect usage can result in your JVM randomly dying (actually the same problem get using pointers incorrectly in C/C++)\r\n\r\nWhile you may be used to pointers and think you need them (because you don&#39;t know how to code any other way), you will find that you don&#39;t and you will be better off for it.","title":"How can I use pointers in Java?","body":"<p>You can use addresses and pointers using the Unsafe class.  However as the name suggests, these methods are UNSAFE and generally a bad idea. Incorrect usage can result in your JVM randomly dying (actually the same problem get using pointers incorrectly in C/C++)</p>\n\n<p>While you may be used to pointers and think you need them (because you don't know how to code any other way), you will find that you don't and you will be better off for it.</p>\n"},{"tags":[],"owner":{"account_id":95359,"reputation":337,"user_id":259750,"accept_rate":40,"display_name":"Mordan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1264562396,"creation_date":1264562396,"answer_id":2144359,"question_id":1750106,"body_markdown":"you can have pointers for literals as well. You have to implement them yourself. It is pretty basic for experts ;). Use an array of int/object/long/byte and voila you have the basics for implementing pointers. Now any int value can be a pointer to that array int[]. You can increment the pointer, you can decrement the pointer, you can multiply the pointer. You indeed have pointer arithmetics!\r\nThat&#39;s the only way to implements 1000 int attributes classes and have a generic method that applies to all attributes. You can also use a byte[] array instead of an int[]\r\n\r\nHowever I do wish Java would let you pass literal values by reference. Something along the lines \r\n\r\n`//(* telling you it is a pointer)\r\npublic void myMethod(int* intValue); `","title":"How can I use pointers in Java?","body":"<p>you can have pointers for literals as well. You have to implement them yourself. It is pretty basic for experts ;). Use an array of int/object/long/byte and voila you have the basics for implementing pointers. Now any int value can be a pointer to that array int[]. You can increment the pointer, you can decrement the pointer, you can multiply the pointer. You indeed have pointer arithmetics!\nThat's the only way to implements 1000 int attributes classes and have a generic method that applies to all attributes. You can also use a byte[] array instead of an int[]</p>\n\n<p>However I do wish Java would let you pass literal values by reference. Something along the lines </p>\n\n<p><code>//(* telling you it is a pointer)\npublic void myMethod(int* intValue);</code></p>\n"},{"comments":[{"owner":{"account_id":1267027,"reputation":2073,"user_id":1224138,"accept_rate":27,"display_name":"Danger"},"score":1,"creation_date":1438298557,"post_id":17590358,"comment_id":51406551,"body_markdown":"No, Java objects are not pointers. They are equivalent to references, which have a different set of capabilities and semantics.","body":"No, Java objects are not pointers. They are equivalent to references, which have a different set of capabilities and semantics."}],"tags":[],"owner":{"account_id":3033239,"reputation":15,"user_id":2571844,"display_name":"Krishna Kant"},"comment_count":1,"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1373536463,"creation_date":1373536463,"answer_id":17590358,"question_id":1750106,"body_markdown":"All java objects are pointer because a variable which holds address is called pointer and object hold address.so object is pointer variable.","title":"How can I use pointers in Java?","body":"<p>All java objects are pointer because a variable which holds address is called pointer and object hold address.so object is pointer variable.</p>\n"},{"comments":[{"owner":{"account_id":7607369,"reputation":101,"user_id":5809403,"display_name":"ttbek"},"score":0,"creation_date":1635763637,"post_id":22838453,"comment_id":123372178,"body_markdown":"I might be a weird case, but I&#39;ve had more memory leaks using Java than C or C++ because the garbage collector wasn&#39;t triggering.  I seem to always end up need to explicitly call the garbage collector.  Not that I haven&#39;t had other pointer related errors, but specifically for leaks I&#39;ve had them more often with Java than without.","body":"I might be a weird case, but I&#39;ve had more memory leaks using Java than C or C++ because the garbage collector wasn&#39;t triggering.  I seem to always end up need to explicitly call the garbage collector.  Not that I haven&#39;t had other pointer related errors, but specifically for leaks I&#39;ve had them more often with Java than without."}],"tags":[],"owner":{"account_id":454737,"reputation":15596,"user_id":852499,"accept_rate":61,"display_name":"Mustafa G&#252;ven"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1396529780,"creation_date":1396529780,"answer_id":22838453,"question_id":1750106,"body_markdown":"from the book named Decompiling Android by Godfrey Nolan\r\n\r\nSecurity dictates that **pointers aren’t\r\nused in Java** so hackers can’t break out of an application and into the operating\r\nsystem. No pointers means that something else----in this case, the JVM----has to\r\ntake care of the allocating and freeing memory. Memory leaks should also\r\nbecome a thing of the past, or so the theory goes. Some applications written in\r\nC and C++ are notorious for leaking memory like a sieve because programmers\r\ndon’t pay attention to freeing up unwanted memory at the appropriate time----not\r\nthat anybody reading this would be guilty of such a sin. Garbage collection\r\nshould also make programmers more productive, with less time spent on\r\ndebugging memory problems.\r\n\r\n","title":"How can I use pointers in Java?","body":"<p>from the book named Decompiling Android by Godfrey Nolan</p>\n\n<p>Security dictates that <strong>pointers aren’t\nused in Java</strong> so hackers can’t break out of an application and into the operating\nsystem. No pointers means that something else----in this case, the JVM----has to\ntake care of the allocating and freeing memory. Memory leaks should also\nbecome a thing of the past, or so the theory goes. Some applications written in\nC and C++ are notorious for leaking memory like a sieve because programmers\ndon’t pay attention to freeing up unwanted memory at the appropriate time----not\nthat anybody reading this would be guilty of such a sin. Garbage collection\nshould also make programmers more productive, with less time spent on\ndebugging memory problems.</p>\n"},{"tags":[],"owner":{"account_id":207136,"reputation":3285,"user_id":456832,"accept_rate":86,"display_name":"zezba9000"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1436660156,"creation_date":1436660156,"answer_id":31363138,"question_id":1750106,"body_markdown":"Java reference types are not the same as C pointers as you can&#39;t have a pointer to a pointer in Java.","title":"How can I use pointers in Java?","body":"<p>Java reference types are not the same as C pointers as you can't have a pointer to a pointer in Java.</p>\n"},{"tags":[],"owner":{"account_id":4110336,"reputation":611,"user_id":3373283,"display_name":"kingfrito_5005"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1470219651,"creation_date":1438787476,"answer_id":31836352,"question_id":1750106,"body_markdown":"There are pointers in Java, but you cannot manipulate them the way that you can in C++ or C. When you pass an object, you are passing a pointer to that object, but not in the same sense as in C++. That object cannot be dereferenced. If you set its values using its native accessors, it will change because Java knows its memory location through the pointer. But the pointer is immutable. When you attempt to set the pointer to a new location, you instead end up with a new local object with the same name as the other. The original object is unchanged. Here is a brief program to demonstrate the difference.\r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    \r\n    class Ideone {\r\n    \r\n        public static void main(String[] args) throws java.lang.Exception {\r\n            System.out.println(&quot;Expected # = 0 1 2 2 1&quot;);\r\n            Cat c = new Cat();\r\n            c.setClaws(0);\r\n            System.out.println(&quot;Initial value is &quot; + c.getClaws());\r\n            // prints 0 obviously\r\n            clawsAreOne(c);\r\n            System.out.println(&quot;Accessor changes value to &quot; + c.getClaws());\r\n            // prints 1 because the value &#39;referenced&#39; by the &#39;pointer&#39; is changed using an accessor.\r\n            makeNewCat(c);\r\n            System.out.println(&quot;Final value is &quot; + c.getClaws());\r\n            // prints 1 because the pointer is not changed to &#39;kitten&#39;; that would be a reference pass.\r\n        }\r\n    \r\n        public static void clawsAreOne(Cat kitty) {\r\n            kitty.setClaws(1);\r\n        }\r\n    \r\n        public static void makeNewCat(Cat kitty) {\r\n            Cat kitten = new Cat();\r\n            kitten.setClaws(2);\r\n            kitty = kitten;\r\n            System.out.println(&quot;Value in makeNewCat scope of kitten &quot; + kitten.getClaws());\r\n            //Prints 2. the value pointed to by &#39;kitten&#39; is 2\r\n            System.out.println(&quot;Value in makeNewcat scope of kitty &quot; + kitty.getClaws());\r\n            //Prints 2. The local copy is being used within the scope of this method.\r\n        }\r\n    }\r\n    \r\n    class Cat {\r\n    \r\n        private int claws;\r\n    \r\n        public void setClaws(int i) {\r\n            claws = i;\r\n        }\r\n    \r\n        public int getClaws() {\r\n            return claws;\r\n        }\r\n    }\r\n\r\n\r\n\r\nThis can be run at Ideone.com.\r\n","title":"How can I use pointers in Java?","body":"<p>There are pointers in Java, but you cannot manipulate them the way that you can in C++ or C. When you pass an object, you are passing a pointer to that object, but not in the same sense as in C++. That object cannot be dereferenced. If you set its values using its native accessors, it will change because Java knows its memory location through the pointer. But the pointer is immutable. When you attempt to set the pointer to a new location, you instead end up with a new local object with the same name as the other. The original object is unchanged. Here is a brief program to demonstrate the difference.</p>\n\n<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\nclass Ideone {\n\n    public static void main(String[] args) throws java.lang.Exception {\n        System.out.println(\"Expected # = 0 1 2 2 1\");\n        Cat c = new Cat();\n        c.setClaws(0);\n        System.out.println(\"Initial value is \" + c.getClaws());\n        // prints 0 obviously\n        clawsAreOne(c);\n        System.out.println(\"Accessor changes value to \" + c.getClaws());\n        // prints 1 because the value 'referenced' by the 'pointer' is changed using an accessor.\n        makeNewCat(c);\n        System.out.println(\"Final value is \" + c.getClaws());\n        // prints 1 because the pointer is not changed to 'kitten'; that would be a reference pass.\n    }\n\n    public static void clawsAreOne(Cat kitty) {\n        kitty.setClaws(1);\n    }\n\n    public static void makeNewCat(Cat kitty) {\n        Cat kitten = new Cat();\n        kitten.setClaws(2);\n        kitty = kitten;\n        System.out.println(\"Value in makeNewCat scope of kitten \" + kitten.getClaws());\n        //Prints 2. the value pointed to by 'kitten' is 2\n        System.out.println(\"Value in makeNewcat scope of kitty \" + kitty.getClaws());\n        //Prints 2. The local copy is being used within the scope of this method.\n    }\n}\n\nclass Cat {\n\n    private int claws;\n\n    public void setClaws(int i) {\n        claws = i;\n    }\n\n    public int getClaws() {\n        return claws;\n    }\n}\n</code></pre>\n\n<p>This can be run at Ideone.com.</p>\n"},{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1645993371,"post_id":71234217,"comment_id":126009221,"body_markdown":"You are not showing pointers in Java, just because for arrays the syntax to pass them to a method does not include `[]`.\nFor C to understand you could have a look at https://stackoverflow.com/questions/1641957/is-an-array-name-a-pointer","body":"You are not showing pointers in Java, just because for arrays the syntax to pass them to a method does not include <code>[]</code>. For C to understand you could have a look at <a href=\"https://stackoverflow.com/questions/1641957/is-an-array-name-a-pointer\" title=\"is an array name a pointer\">stackoverflow.com/questions/1641957/is-an-array-name-a-point&zwnj;&#8203;er</a>"}],"tags":[],"owner":{"account_id":24343163,"reputation":13,"user_id":18280260,"display_name":"user18280260"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1645607848,"creation_date":1645607848,"answer_id":71234217,"question_id":1750106,"body_markdown":"java can easily has pointer by knowing that the array name is pointer to the the first index.  this why when we pass array to function we don&#39;t write its square brackets. because array is reference\r\n\r\n\r\n```\r\n\r\npublic class Main    \r\n{\r\n    public static void func ( int ptr1[] , int ptr2[] )\r\n {\r\n      int temp;\r\n      temp = ptr1[0];\r\n      ptr1[0] = ptr2[0];\r\n      ptr2[0] = temp;\r\n      \r\n }\r\n    \r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tint x = 5;               int y = 8;\r\n\t\t\r\n\t\t// in c language\r\n\t\t//  int *p = &amp;x;       int *q = &amp;y;\r\n\t\t\r\n\t\t\r\n\t\t//  in Java\r\n\t\tint p[] = new int[1];\r\n\t\tint q[] = new int[1];\r\n\t\t\r\n\t\tp[0] = x;   // same as pointer\r\n\t\tq[0] = y;   // same as pointer\r\n\t\t\r\n\t\tfunc( p , q );  // passing address ( refrence )\r\n\t\t\r\n\t\tSystem.out.println( &quot;  After Swap &quot; );\r\n        System.out.println( &quot;x = &quot;  + p[0] + &quot;  &quot; +  &quot;y = &quot; + q[0] );\r\n\t\t\r\n\t}\r\n}\r\n\r\n\r\n```","title":"How can I use pointers in Java?","body":"<p>java can easily has pointer by knowing that the array name is pointer to the the first index.  this why when we pass array to function we don't write its square brackets. because array is reference</p>\n<pre><code>\npublic class Main    \n{\n    public static void func ( int ptr1[] , int ptr2[] )\n {\n      int temp;\n      temp = ptr1[0];\n      ptr1[0] = ptr2[0];\n      ptr2[0] = temp;\n      \n }\n    \n    public static void main(String[] args) {\n        \n        int x = 5;               int y = 8;\n        \n        // in c language\n        //  int *p = &amp;x;       int *q = &amp;y;\n        \n        \n        //  in Java\n        int p[] = new int[1];\n        int q[] = new int[1];\n        \n        p[0] = x;   // same as pointer\n        q[0] = y;   // same as pointer\n        \n        func( p , q );  // passing address ( refrence )\n        \n        System.out.println( &quot;  After Swap &quot; );\n        System.out.println( &quot;x = &quot;  + p[0] + &quot;  &quot; +  &quot;y = &quot; + q[0] );\n        \n    }\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9630189,"reputation":29,"user_id":7148393,"display_name":"Isaac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668829962,"creation_date":1668828865,"answer_id":74497360,"question_id":1750106,"body_markdown":"You can, but not completely. You can&#39;t directly access pointers but you can have lists with variables that point to the same location. I came across a way by accident a few years ago.\r\n\r\nI&#39;m not sure why but in Java when you set a list to equal another list, rather than copying all the information, a pointer to the original list is made. I&#39;m not sure if it applies to all forms of lists, but it has for the ones I have tested so far. I believe arrayList also has the function clone(), to circumvent this, if you wanted a proper seperate list.\r\n\r\nint[] example\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args){\r\n\r\n        int[] alpha = new int[] {1,2,3};\r\n\r\n        int[] beta = alpha;\r\n        beta[0]=9;\r\n        beta[1]=9;\r\n        beta[2]=9;\r\n\r\n        System.out.println(&quot;alpha: &quot; + alpha[0] + &quot;, &quot; + alpha[1] + &quot;, &quot; + alpha[2]);\r\n        System.out.println(&quot;-beta: &quot; + beta[0] + &quot;, &quot; + beta[1] + &quot;, &quot; + beta[2]);\r\n    }\r\n}\r\n```\r\n\r\narrayList example\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args){\r\n\r\n        ArrayList&lt;Integer&gt; alpha = new ArrayList&lt;&gt;();\r\n        alpha.add(1);\r\n        alpha.add(2);\r\n        alpha.add(3);\r\n\r\n        ArrayList&lt;Integer&gt; beta = alpha;\r\n        beta.add(4);\r\n        beta.set(0, 5);\r\n\r\n        System.out.println(&quot;alpha: &quot; + alpha.toString());\r\n        System.out.println(&quot;-beta: &quot; + beta.toString());\r\n    }\r\n}\r\n```","title":"How can I use pointers in Java?","body":"<p>You can, but not completely. You can't directly access pointers but you can have lists with variables that point to the same location. I came across a way by accident a few years ago.</p>\n<p>I'm not sure why but in Java when you set a list to equal another list, rather than copying all the information, a pointer to the original list is made. I'm not sure if it applies to all forms of lists, but it has for the ones I have tested so far. I believe arrayList also has the function clone(), to circumvent this, if you wanted a proper seperate list.</p>\n<p>int[] example</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args){\n\n        int[] alpha = new int[] {1,2,3};\n\n        int[] beta = alpha;\n        beta[0]=9;\n        beta[1]=9;\n        beta[2]=9;\n\n        System.out.println(&quot;alpha: &quot; + alpha[0] + &quot;, &quot; + alpha[1] + &quot;, &quot; + alpha[2]);\n        System.out.println(&quot;-beta: &quot; + beta[0] + &quot;, &quot; + beta[1] + &quot;, &quot; + beta[2]);\n    }\n}\n</code></pre>\n<p>arrayList example</p>\n<pre><code>import java.util.ArrayList;\n\npublic class Main {\n\n    public static void main(String[] args){\n\n        ArrayList&lt;Integer&gt; alpha = new ArrayList&lt;&gt;();\n        alpha.add(1);\n        alpha.add(2);\n        alpha.add(3);\n\n        ArrayList&lt;Integer&gt; beta = alpha;\n        beta.add(4);\n        beta.set(0, 5);\n\n        System.out.println(&quot;alpha: &quot; + alpha.toString());\n        System.out.println(&quot;-beta: &quot; + beta.toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23720399,"reputation":15,"user_id":17741027,"display_name":"v22"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682050626,"creation_date":1682050626,"answer_id":76069859,"question_id":1750106,"body_markdown":"If you want the feeling of pointers in Java, i made this small thingy right here:\r\nhttps://github.com/v22lel/C-Pointers-in-Java\r\nBut keep in mind, that those pointers are only allocated on a virtual memory, so they dont use real ram and are way slower than normal java. This is just a little fun joke and shouldnt be used in project seriously.","title":"How can I use pointers in Java?","body":"<p>If you want the feeling of pointers in Java, i made this small thingy right here:\n<a href=\"https://github.com/v22lel/C-Pointers-in-Java\" rel=\"nofollow noreferrer\">https://github.com/v22lel/C-Pointers-in-Java</a>\nBut keep in mind, that those pointers are only allocated on a virtual memory, so they dont use real ram and are way slower than normal java. This is just a little fun joke and shouldnt be used in project seriously.</p>\n"}],"owner":{"display_name":"user213038"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":524630,"favorite_count":0,"down_vote_count":1,"up_vote_count":150,"answer_count":17,"score":149,"last_activity_date":1682050626,"creation_date":1258475679,"question_id":1750106,"body_markdown":"I know Java doesn&#39;t have pointers, but I heard that Java programs can be created with pointers and that this can be done by the few who are experts in Java. Is it true?","title":"How can I use pointers in Java?","body":"<p>I know Java doesn't have pointers, but I heard that Java programs can be created with pointers and that this can be done by the few who are experts in Java. Is it true?</p>\n"},{"tags":["java","multithreading","synchronization"],"owner":{"account_id":26118565,"reputation":3,"user_id":19811247,"display_name":"AKStacks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682050719,"answer_count":0,"score":0,"last_activity_date":1682050595,"creation_date":1682050595,"question_id":76069856,"body_markdown":"This question was asked to me in interview . My answer was \r\n\r\n1. One of the way is using Singleton with double locked checking with synchronization .\r\n\r\n2. Using Volatile keyword as it will load the data directly into memory instead of caching it .\r\n\r\nHe was not satisfied with the answer and was telling me this is not a right way .\r\n\r\nCan Someone please help with answers with example that would help","title":"Make class thread safe in Java if used by multiple classes","body":"<p>This question was asked to me in interview . My answer was</p>\n<ol>\n<li><p>One of the way is using Singleton with double locked checking with synchronization .</p>\n</li>\n<li><p>Using Volatile keyword as it will load the data directly into memory instead of caching it .</p>\n</li>\n</ol>\n<p>He was not satisfied with the answer and was telling me this is not a right way .</p>\n<p>Can Someone please help with answers with example that would help</p>\n"},{"tags":["java","jndi"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1682005619,"post_id":76065819,"comment_id":134151152,"body_markdown":"Do you have the full stack-trace?","body":"Do you have the full stack-trace?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1682005639,"post_id":76065819,"comment_id":134151159,"body_markdown":"Do you have a `jndi.properties` on your classpath? If so, can you share its contents?","body":"Do you have a <code>jndi.properties</code> on your classpath? If so, can you share its contents?"},{"owner":{"account_id":17457576,"reputation":65,"user_id":12656008,"display_name":"pranp2001"},"score":0,"creation_date":1682046154,"post_id":76065819,"comment_id":134157557,"body_markdown":"Hey Justin! I just added the full stack trace to the question. However, I am not sure what a jndi.proprties is, I have not added that.","body":"Hey Justin! I just added the full stack trace to the question. However, I am not sure what a jndi.proprties is, I have not added that."}],"owner":{"account_id":17457576,"reputation":65,"user_id":12656008,"display_name":"pranp2001"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682050050,"creation_date":1682004439,"question_id":76065819,"body_markdown":"My current code works **without** setting security policy. However, when I add the line:\r\n\r\n    System.setSecurityManager(new SecurityManager());\r\n\r\nI get the following error for my JMS application:\r\n\r\n    javax.naming.NoInitialContextException: Cannot instantiate class: com.sun.enterprise.naming.impl.SerialInitContextFactory [Root exception is java.lang.IllegalStateException: No generator was provided and there is no default generator registered]\r\n    \tat javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684)\r\n    \tat javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:313)\r\n    \tat javax.naming.InitialContext.init(InitialContext.java:244)\r\n    \tat javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:192)\r\n    \tat backend.GameDetailsTopicPublisher.createJNDIContext(GameDetailsTopicPublisher.java:54)\r\n    \tat backend.GameDetailsTopicPublisher.&lt;init&gt;(GameDetailsTopicPublisher.java:34)\r\n    \tat backend.Server.receiveActiveGameUserQueue(Server.java:71)\r\n    \tat backend.Server.main(Server.java:44)\r\n    Caused by: java.lang.IllegalStateException: No generator was provided and there is no default generator registered\r\n    \tat org.glassfish.hk2.internal.ServiceLocatorFactoryImpl.internalCreate(ServiceLocatorFactoryImpl.java:308)\r\n    \tat org.glassfish.hk2.internal.ServiceLocatorFactoryImpl.create(ServiceLocatorFactoryImpl.java:268)\r\n    \tat org.glassfish.hk2.internal.ServiceLocatorFactoryImpl.create(ServiceLocatorFactoryImpl.java:225)\r\n    \tat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.newServiceLocator(AbstractModulesRegistryImpl.java:142)\r\n    \tat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:218)\r\n    \tat com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:224)\r\n    \tat com.sun.enterprise.module.single.StaticModulesRegistry.createServiceLocator(StaticModulesRegistry.java:88)\r\n    \tat org.glassfish.internal.api.Globals.getStaticHabitat(Globals.java:102)\r\n    \tat com.sun.enterprise.naming.impl.SerialInitContextFactory.&lt;init&gt;(SerialInitContextFactory.java:130)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat java.lang.Class.newInstance(Class.java:442)\r\n    \tat javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:682)\r\n    \t... 7 more\r\n    Program aborted\r\n\r\nMy security.policy file looks like:\r\n\r\n    grant {\r\n\t permission java.net.SocketPermission &quot;*:1024-65535&quot;, &quot;connect,accept&quot;;\r\n\t permission java.net.SocketPermission &quot;*:80&quot;, &quot;connect&quot;;\r\n\t permission java.io.FilePermission &quot;UserInfo.txt&quot;, &quot;read,write&quot;;\r\n\t permission java.io.FilePermission &quot;OnlineUser.txt&quot;, &quot;read,write&quot;;\r\n\t permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\r\n    };\r\n\r\nIf I allow all permissions by making my security.policy file:\r\n\r\n    grant {\r\n      permission java.security.AllPermission;\r\n    }\r\n\r\neverything works normally. So I Reckon the problem has something to do with security permissions?\r\n\r\nI am using glassfish for the server. I have included **gf-client.jar**, **javaee.jar** and **appserv-rt.jar** from the glassfish5/glassfish/lib folder, in the build path of the project. \r\n\r\nMy initialization for the JNDI InitialContext looks like:\r\n\r\n    private InitialContext jndiContext;\r\n\r\n\tprivate void createJNDIContext() throws NamingException {\r\n\t\tSystem.setProperty(&quot;org.omg.CORBA.ORBInitialHost&quot;, host);\r\n\t\tSystem.setProperty(&quot;org.omg.CORBA.ORBInitialPort&quot;, &quot;3700&quot;);\r\n\t\ttry {\r\n\t\t\tjndiContext = new InitialContext();\r\n\t\t} catch (NamingException e) {\r\n\t\t\tSystem.err.println(&quot;Could not create JNDI API context: &quot; + e);\r\n            e.printStackTrace();\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t}\r\n\r\nI am new to the whole JMS world. Would appreciate any advice and help!\r\nThank you!\r\n\r\n\r\n","title":"Unable to create JNDI API Context while using security policy","body":"<p>My current code works <strong>without</strong> setting security policy. However, when I add the line:</p>\n<pre><code>System.setSecurityManager(new SecurityManager());\n</code></pre>\n<p>I get the following error for my JMS application:</p>\n<pre><code>javax.naming.NoInitialContextException: Cannot instantiate class: com.sun.enterprise.naming.impl.SerialInitContextFactory [Root exception is java.lang.IllegalStateException: No generator was provided and there is no default generator registered]\n    at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:684)\n    at javax.naming.InitialContext.getDefaultInitCtx(InitialContext.java:313)\n    at javax.naming.InitialContext.init(InitialContext.java:244)\n    at javax.naming.InitialContext.&lt;init&gt;(InitialContext.java:192)\n    at backend.GameDetailsTopicPublisher.createJNDIContext(GameDetailsTopicPublisher.java:54)\n    at backend.GameDetailsTopicPublisher.&lt;init&gt;(GameDetailsTopicPublisher.java:34)\n    at backend.Server.receiveActiveGameUserQueue(Server.java:71)\n    at backend.Server.main(Server.java:44)\nCaused by: java.lang.IllegalStateException: No generator was provided and there is no default generator registered\n    at org.glassfish.hk2.internal.ServiceLocatorFactoryImpl.internalCreate(ServiceLocatorFactoryImpl.java:308)\n    at org.glassfish.hk2.internal.ServiceLocatorFactoryImpl.create(ServiceLocatorFactoryImpl.java:268)\n    at org.glassfish.hk2.internal.ServiceLocatorFactoryImpl.create(ServiceLocatorFactoryImpl.java:225)\n    at com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.newServiceLocator(AbstractModulesRegistryImpl.java:142)\n    at com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:218)\n    at com.sun.enterprise.module.common_impl.AbstractModulesRegistryImpl.createServiceLocator(AbstractModulesRegistryImpl.java:224)\n    at com.sun.enterprise.module.single.StaticModulesRegistry.createServiceLocator(StaticModulesRegistry.java:88)\n    at org.glassfish.internal.api.Globals.getStaticHabitat(Globals.java:102)\n    at com.sun.enterprise.naming.impl.SerialInitContextFactory.&lt;init&gt;(SerialInitContextFactory.java:130)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at java.lang.Class.newInstance(Class.java:442)\n    at javax.naming.spi.NamingManager.getInitialContext(NamingManager.java:682)\n    ... 7 more\nProgram aborted\n</code></pre>\n<p>My security.policy file looks like:</p>\n<pre><code>grant {\n permission java.net.SocketPermission &quot;*:1024-65535&quot;, &quot;connect,accept&quot;;\n permission java.net.SocketPermission &quot;*:80&quot;, &quot;connect&quot;;\n permission java.io.FilePermission &quot;UserInfo.txt&quot;, &quot;read,write&quot;;\n permission java.io.FilePermission &quot;OnlineUser.txt&quot;, &quot;read,write&quot;;\n permission java.util.PropertyPermission &quot;*&quot;, &quot;read,write&quot;;\n};\n</code></pre>\n<p>If I allow all permissions by making my security.policy file:</p>\n<pre><code>grant {\n  permission java.security.AllPermission;\n}\n</code></pre>\n<p>everything works normally. So I Reckon the problem has something to do with security permissions?</p>\n<p>I am using glassfish for the server. I have included <strong>gf-client.jar</strong>, <strong>javaee.jar</strong> and <strong>appserv-rt.jar</strong> from the glassfish5/glassfish/lib folder, in the build path of the project.</p>\n<p>My initialization for the JNDI InitialContext looks like:</p>\n<pre><code>private InitialContext jndiContext;\n\nprivate void createJNDIContext() throws NamingException {\n    System.setProperty(&quot;org.omg.CORBA.ORBInitialHost&quot;, host);\n    System.setProperty(&quot;org.omg.CORBA.ORBInitialPort&quot;, &quot;3700&quot;);\n    try {\n        jndiContext = new InitialContext();\n    } catch (NamingException e) {\n        System.err.println(&quot;Could not create JNDI API context: &quot; + e);\n        e.printStackTrace();\n        throw e;\n    }\n}\n</code></pre>\n<p>I am new to the whole JMS world. Would appreciate any advice and help!\nThank you!</p>\n"},{"tags":["java","android","capacitor-plugin"],"answers":[{"comments":[{"owner":{"account_id":4931879,"reputation":677,"user_id":3971390,"accept_rate":0,"display_name":"eppineda"},"score":0,"creation_date":1682381645,"post_id":76069748,"comment_id":134203153,"body_markdown":"This is surprisingly absent from the Android documentation for Capacitor. It&#39;s so fundamental to successfully packaging native functionality into a plugin. Thank you!","body":"This is surprisingly absent from the Android documentation for Capacitor. It&#39;s so fundamental to successfully packaging native functionality into a plugin. Thank you!"}],"tags":[],"owner":{"account_id":28029077,"reputation":949,"user_id":21408550,"display_name":"inkredusk"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682049264,"creation_date":1682048608,"answer_id":76069748,"question_id":76069656,"body_markdown":"You should be able to call `this.getActivity().getApplicationContext()` in a class that extends `com.getcapacitor.Plugin`.\r\n\r\nFor example, see below custom plugin code: \r\n\r\n\r\n    package com.example.mypackage;\r\n    \r\n    import com.getcapacitor.JSObject;\r\n    import com.getcapacitor.Plugin;\r\n    import com.getcapacitor.PluginCall;\r\n    import com.getcapacitor.PluginMethod;\r\n    import com.getcapacitor.annotation.CapacitorPlugin;\r\n    \r\n    @CapacitorPlugin(name = &quot;MyPackage&quot;)\r\n    public class MyPackagePlugin extends Plugin {\r\n    \r\n        private MyPackage implementation = new MyPackage(this.getActivity().getApplicationContext());\r\n    \r\n        @PluginMethod\r\n        public void echo(PluginCall call) {\r\n            String value = call.getString(&quot;value&quot;);\r\n    \r\n            JSObject ret = new JSObject();\r\n            ret.put(&quot;value&quot;, implementation.echo(value));\r\n            call.resolve(ret);\r\n        }\r\n    }\r\n\r\n**UPDATE**\r\n\r\nIn the more recent versions of `Capacitor` you can also call the `getContext` method which is defined in the built-in `Plugin.java` file.\r\n\r\n    /**\r\n     * Get the main {@link Context} for the current Activity (your app)\r\n     * @return the Context for the current activity\r\n     */\r\n    public Context getContext() {\r\n        return this.bridge.getContext();\r\n    }\r\n\r\nReference link: [Plugin source][1]\r\n\r\nHope that helps!\r\n\r\n\r\n  [1]: https://github.com/ionic-team/capacitor/blob/main/android/capacitor/src/main/java/com/getcapacitor/Plugin.java","title":"Capacitor/Android Question: How to obtain current Context?","body":"<p>You should be able to call <code>this.getActivity().getApplicationContext()</code> in a class that extends <code>com.getcapacitor.Plugin</code>.</p>\n<p>For example, see below custom plugin code:</p>\n<pre><code>package com.example.mypackage;\n\nimport com.getcapacitor.JSObject;\nimport com.getcapacitor.Plugin;\nimport com.getcapacitor.PluginCall;\nimport com.getcapacitor.PluginMethod;\nimport com.getcapacitor.annotation.CapacitorPlugin;\n\n@CapacitorPlugin(name = &quot;MyPackage&quot;)\npublic class MyPackagePlugin extends Plugin {\n\n    private MyPackage implementation = new MyPackage(this.getActivity().getApplicationContext());\n\n    @PluginMethod\n    public void echo(PluginCall call) {\n        String value = call.getString(&quot;value&quot;);\n\n        JSObject ret = new JSObject();\n        ret.put(&quot;value&quot;, implementation.echo(value));\n        call.resolve(ret);\n    }\n}\n</code></pre>\n<p><strong>UPDATE</strong></p>\n<p>In the more recent versions of <code>Capacitor</code> you can also call the <code>getContext</code> method which is defined in the built-in <code>Plugin.java</code> file.</p>\n<pre><code>/**\n * Get the main {@link Context} for the current Activity (your app)\n * @return the Context for the current activity\n */\npublic Context getContext() {\n    return this.bridge.getContext();\n}\n</code></pre>\n<p>Reference link: <a href=\"https://github.com/ionic-team/capacitor/blob/main/android/capacitor/src/main/java/com/getcapacitor/Plugin.java\" rel=\"nofollow noreferrer\">Plugin source</a></p>\n<p>Hope that helps!</p>\n"}],"owner":{"account_id":4931879,"reputation":677,"user_id":3971390,"accept_rate":0,"display_name":"eppineda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76069748,"answer_count":1,"score":1,"last_activity_date":1682049264,"creation_date":1682047293,"question_id":76069656,"body_markdown":"I am developing a Capacitor (4) plugin and need to access Android system services, which requires referencing the current `Context`. How do I obtain the context within the scope of the plugin?\r\n\r\nThank you.","title":"Capacitor/Android Question: How to obtain current Context?","body":"<p>I am developing a Capacitor (4) plugin and need to access Android system services, which requires referencing the current <code>Context</code>. How do I obtain the context within the scope of the plugin?</p>\n<p>Thank you.</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":7352305,"reputation":125,"user_id":5598020,"display_name":"Gestalt"},"score":1,"creation_date":1682047318,"post_id":76069647,"comment_id":134157632,"body_markdown":"You could try deleting the .idea folder in your project folder and then try to import it again.","body":"You could try deleting the .idea folder in your project folder and then try to import it again."}],"owner":{"account_id":28366033,"reputation":11,"user_id":21695316,"display_name":"Shaw Sameen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682048255,"creation_date":1682047113,"question_id":76069647,"body_markdown":"I want to run a springboot application on IntelliJ IDEA,the console says:\r\n\r\n```\r\nFailed to initialize JPA EntityManagerFactory: \r\nYou can only annotate one callback method with\r\njakarta.persistence.PreUpdate in bean class: \r\ncom.shaw.entity.Approve and callback listener: \r\ncom.shaw.listener.ApproveListener\r\n```\r\n\r\nIDEA console:\r\n[![IDEA console][1]][1]\r\n\r\nBut I can run application on STS-Eclipse successfully, please tell me if you has any solution.\r\n\r\nPS. I cleaned the project in IDEA and rebuild it, but, the application can&#39;t run successfully also the code is same because I&#39;m using git.\r\n\r\nI use `@PreUpdate` only once in ApproveListener:\r\n\r\n[![ApproveListener java code][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nd2T5.png\r\n  [2]: https://i.stack.imgur.com/h1SwN.png","title":"can not run springboot JPA application with IntelliJ IDEA but can run with STS-Eclipse","body":"<p>I want to run a springboot application on IntelliJ IDEA,the console says:</p>\n<pre><code>Failed to initialize JPA EntityManagerFactory: \nYou can only annotate one callback method with\njakarta.persistence.PreUpdate in bean class: \ncom.shaw.entity.Approve and callback listener: \ncom.shaw.listener.ApproveListener\n</code></pre>\n<p>IDEA console:\n<a href=\"https://i.stack.imgur.com/nd2T5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nd2T5.png\" alt=\"IDEA console\" /></a></p>\n<p>But I can run application on STS-Eclipse successfully, please tell me if you has any solution.</p>\n<p>PS. I cleaned the project in IDEA and rebuild it, but, the application can't run successfully also the code is same because I'm using git.</p>\n<p>I use <code>@PreUpdate</code> only once in ApproveListener:</p>\n<p><a href=\"https://i.stack.imgur.com/h1SwN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h1SwN.png\" alt=\"ApproveListener java code\" /></a></p>\n"},{"tags":["java","amazon-web-services","spring-boot","docker","amazon-ecs"],"comments":[{"owner":{"account_id":7501,"reputation":187982,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1682079539,"post_id":76069335,"comment_id":134163274,"body_markdown":"What version of Java are you running? The `JAVA_OPTS` environment variable isn&#39;t a universal environment variable, it seems to be mostly used by Tomcat and other servlet containers. It appears that your version of Java does not use that environment variable. You could always simply add `-Djava.io.tmpdir=/usr/src/app/tmp` to the `ENTRYPOINT`.","body":"What version of Java are you running? The <code>JAVA_OPTS</code> environment variable isn&#39;t a universal environment variable, it seems to be mostly used by Tomcat and other servlet containers. It appears that your version of Java does not use that environment variable. You could always simply add <code>-Djava.io.tmpdir=&#47;usr&#47;src&#47;app&#47;tmp</code> to the <code>ENTRYPOINT</code>."},{"owner":{"account_id":23829556,"reputation":55,"user_id":17836028,"display_name":"YusufDoc"},"score":0,"creation_date":1682311258,"post_id":76069335,"comment_id":134189365,"body_markdown":"Hey @MarkB, we are using Java 11. I updated the docker file as such but still getting the same error.\n\n```FROM adoptopenjdk/openjdk11:alpine-jre\nRUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\nUSER spring:spring\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} component-pgs-amex-message-processor-service.jar\n\nWORKDIR /usr/src/app/tmp &amp;&amp; chown spring:spring /usr/src/app/tmp\n# ENV JAVA_OPTS=&quot;-Djava.io.tmpdir=/usr/src/app/tmp&quot;\nENTRYPOINT [&quot;java&quot;,&quot;-Djava.io.tmpdir=/usr/src/app/tmp&quot;,&quot;-jar&quot;,&quot;/component-pgs-amex-message-processor-service.jar&quot;]```","body":"Hey @MarkB, we are using Java 11. I updated the docker file as such but still getting the same error.  <code>FROM adoptopenjdk&#47;openjdk11:alpine-jre RUN addgroup -S spring &amp;&amp; adduser -S spring -G spring USER spring:spring ARG JAR_FILE=target&#47;*.jar COPY ${JAR_FILE} component-pgs-amex-message-processor-service.jar  WORKDIR &#47;usr&#47;src&#47;app&#47;tmp &amp;&amp; chown spring:spring &#47;usr&#47;src&#47;app&#47;tmp # ENV JAVA_OPTS=&quot;-Djava.io.tmpdir=&#47;usr&#47;src&#47;app&#47;tmp&quot; ENTRYPOINT [&quot;java&quot;,&quot;-Djava.io.tmpdir=&#47;usr&#47;src&#47;app&#47;tmp&quot;,&quot;-jar&quot;,&quot;&#47;compone&zwnj;&#8203;nt-pgs-amex-message-&zwnj;&#8203;processor-service.ja&zwnj;&#8203;r&quot;]</code>"},{"owner":{"account_id":9737031,"reputation":513,"user_id":7219960,"accept_rate":80,"display_name":"Ninad Kulkarni"},"score":0,"creation_date":1684849972,"post_id":76069335,"comment_id":134575251,"body_markdown":"I want to set readrootfilesystem flag to true and run the containerize java application as fargate service , After setting flag to true , I got the same error ,  Any solution ?","body":"I want to set readrootfilesystem flag to true and run the containerize java application as fargate service , After setting flag to true , I got the same error ,  Any solution ?"}],"owner":{"account_id":23829556,"reputation":55,"user_id":17836028,"display_name":"YusufDoc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1063,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1682047291,"creation_date":1682041422,"question_id":76069335,"body_markdown":"We have a Java application with spring framework and I am trying to enable read-only root filesystem for the container. I have tried modifying the docker file to provide a writable path for the application but I keep getting the below error\r\n\r\n```{&quot;dateTime&quot;:&quot;2023-04-21T00:53:12.922Z&quot;,&quot;type&quot;:&quot;ERROR&quot;,&quot;stage&quot;:&quot;dev&quot;,&quot;logger&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;class&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;method&quot;:&quot;reportFailure&quot;,&quot;file&quot;:&quot;SpringApplication.java&quot;,&quot;line&quot;:865,&quot;thread&quot;:&quot;main&quot;,&quot;message&quot;:&quot;Application run failed&quot;,&quot;stack_trace&quot;:&quot;j.n.f.FileSystemException: /tmp/tomcat.8091.7261574515025557054: Read-only file system\\n\\tat s.n.fs.UnixException.translateToIOException(Unknown Source)\\n\\tat s.n.fs.UnixException.rethrowAsIOException(Unknown Source)\\n\\tat s.n.fs.UnixException.rethrowAsIOException(Unknown Source)\\n\\tat s.n.f.UnixFileSystemProvider.createDirectory(Unknown Source)\\n\\tat java.nio.file.Files.createDirectory(Unknown Source)\\n\\tat j.n.f.TempFileHelper.create(Unknown Source)\\n\\tat j.n.f.TempFileHelper.createTempDirectory(Unknown Source)\\n\\tat java.nio.file.Files.createTempDirectory(Unknown Source)\\n\\tat o.s.b.w.s.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:189)\\n\\t... 19 common frames omitted\\nWrapped by: o.s.b.w.s.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\\n\\tat o.s.b.w.s.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:195)\\n\\tat o.s.b.w.e.t.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:188)\\n\\tat o.s.b.w.s.c.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182)\\n\\tat o.s.b.w.s.c.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\\n\\t... 16 common frames omitted\\nWrapped by: o.s.c.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\\n\\tat o.s.b.w.s.c.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)\\n\\tat o.s.c.s.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)\\n\\tat o.s.b.w.s.c.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\\n\\tat o.s.b.SpringApplication.refresh(SpringApplication.java:775)\\n\\tat o.s.b.SpringApplication.refreshContext(SpringApplication.java:448)\\n\\tat o.s.b.SpringApplication.run(SpringApplication.java:339)\\n\\tat o.s.b.SpringApplication.run(SpringApplication.java:1365)\\n\\tat o.s.b.SpringApplica...\\n&quot;}```\r\n\r\nThe docker file config is \r\n\r\n```FROM adoptopenjdk/openjdk11:alpine-jre\r\nRUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\r\nUSER spring:spring\r\nARG JAR_FILE=target/*.jar\r\nCOPY ${JAR_FILE} xxx.jar\r\n\r\n# Create a writable directory for temporary files\r\nWORKDIR /usr/src/app/tmp &amp;&amp; chown spring:spring /usr/src/app/tmp\r\n\r\n# Configure the application to use the new directory for temporary files\r\nENV JAVA_OPTS=&quot;-Djava.io.tmpdir=/usr/src/app/tmp&quot;\r\n\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/xxx.jar&quot;]\r\n```\r\n\r\nIs there anything else I need to do within the application for it to use the path provided in the docker file?","title":"Error while running ECS container with read-only root filesystem","body":"<p>We have a Java application with spring framework and I am trying to enable read-only root filesystem for the container. I have tried modifying the docker file to provide a writable path for the application but I keep getting the below error</p>\n<p><code>{&quot;dateTime&quot;:&quot;2023-04-21T00:53:12.922Z&quot;,&quot;type&quot;:&quot;ERROR&quot;,&quot;stage&quot;:&quot;dev&quot;,&quot;logger&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;class&quot;:&quot;org.springframework.boot.SpringApplication&quot;,&quot;method&quot;:&quot;reportFailure&quot;,&quot;file&quot;:&quot;SpringApplication.java&quot;,&quot;line&quot;:865,&quot;thread&quot;:&quot;main&quot;,&quot;message&quot;:&quot;Application run failed&quot;,&quot;stack_trace&quot;:&quot;j.n.f.FileSystemException: /tmp/tomcat.8091.7261574515025557054: Read-only file system\\n\\tat s.n.fs.UnixException.translateToIOException(Unknown Source)\\n\\tat s.n.fs.UnixException.rethrowAsIOException(Unknown Source)\\n\\tat s.n.fs.UnixException.rethrowAsIOException(Unknown Source)\\n\\tat s.n.f.UnixFileSystemProvider.createDirectory(Unknown Source)\\n\\tat java.nio.file.Files.createDirectory(Unknown Source)\\n\\tat j.n.f.TempFileHelper.create(Unknown Source)\\n\\tat j.n.f.TempFileHelper.createTempDirectory(Unknown Source)\\n\\tat java.nio.file.Files.createTempDirectory(Unknown Source)\\n\\tat o.s.b.w.s.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:189)\\n\\t... 19 common frames omitted\\nWrapped by: o.s.b.w.s.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\\n\\tat o.s.b.w.s.AbstractConfigurableWebServerFactory.createTempDir(AbstractConfigurableWebServerFactory.java:195)\\n\\tat o.s.b.w.e.t.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:188)\\n\\tat o.s.b.w.s.c.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182)\\n\\tat o.s.b.w.s.c.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160)\\n\\t... 16 common frames omitted\\nWrapped by: o.s.c.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to create tempDir. java.io.tmpdir is set to /tmp\\n\\tat o.s.b.w.s.c.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:163)\\n\\tat o.s.c.s.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577)\\n\\tat o.s.b.w.s.c.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\\n\\tat o.s.b.SpringApplication.refresh(SpringApplication.java:775)\\n\\tat o.s.b.SpringApplication.refreshContext(SpringApplication.java:448)\\n\\tat o.s.b.SpringApplication.run(SpringApplication.java:339)\\n\\tat o.s.b.SpringApplication.run(SpringApplication.java:1365)\\n\\tat o.s.b.SpringApplica...\\n&quot;}</code></p>\n<p>The docker file config is</p>\n<pre><code>RUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\nUSER spring:spring\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} xxx.jar\n\n# Create a writable directory for temporary files\nWORKDIR /usr/src/app/tmp &amp;&amp; chown spring:spring /usr/src/app/tmp\n\n# Configure the application to use the new directory for temporary files\nENV JAVA_OPTS=&quot;-Djava.io.tmpdir=/usr/src/app/tmp&quot;\n\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/xxx.jar&quot;]\n</code></pre>\n<p>Is there anything else I need to do within the application for it to use the path provided in the docker file?</p>\n"},{"tags":["java","amazon-web-services","email","jakarta-mail","amazon-ses"],"comments":[{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1682046430,"post_id":76069483,"comment_id":134157572,"body_markdown":"Which line is generating the error?","body":"Which line is generating the error?"},{"owner":{"account_id":28365827,"reputation":1,"user_id":21695144,"display_name":"Heidi"},"score":0,"creation_date":1682056441,"post_id":76069483,"comment_id":134158584,"body_markdown":"```\nif(attach != null){\n            for (String at : attach){\n                MimeBodyPart att = new MimeBodyPart();\n                DataSource fds = new FileDataSource(at);\n                att.setDataHandler(new DataHandler(fds));\n                att.setFileName(fds.getName());\n\n                msg.addBodyPart(att);\n            }\n        }\n```\nI think this one is","body":"``` if(attach != null){             for (String at : attach){                 MimeBodyPart att = new MimeBodyPart();                 DataSource fds = new FileDataSource(at);                 att.setDataHandler(new DataHandler(fds));                 att.setFileName(fds.getName());                  msg.addBodyPart(att);             }         } ``` I think this one is"},{"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"score":0,"creation_date":1682060566,"post_id":76069483,"comment_id":134159240,"body_markdown":"That&#39;s not one line. It&#39;s several lines in a `for` loop. You should add some debugging statements to help identify exactly which line is causing the error. It would be one that attempts to access the file system. I presume that the problem would be one of the values in the `attach` array. It would probably help to `log.debug(at)` and also `fds` to see what values they have when it fails.","body":"That&#39;s not one line. It&#39;s several lines in a <code>for</code> loop. You should add some debugging statements to help identify exactly which line is causing the error. It would be one that attempts to access the file system. I presume that the problem would be one of the values in the <code>attach</code> array. It would probably help to <code>log.debug(at)</code> and also <code>fds</code> to see what values they have when it fails."}],"owner":{"account_id":28365827,"reputation":1,"user_id":21695144,"display_name":"Heidi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682046328,"creation_date":1682044004,"question_id":76069483,"body_markdown":"PROBLEM : File / Directory not found\r\n\r\nI wrote a code to send an email with attachments via AWS SES using Java SpringBoot.\r\nI can send the email when I am in a local environment, (with C:\\\\Users ~ location) \r\nbut I cannot use my code when I&#39;m in server environment.\r\n\r\nWhat is the problem in my code?\r\nI want to attach files with url of it. \r\n\r\n\r\n\r\n\r\n\r\n```\r\n//Dto\r\n\r\nprivate List&lt;String&gt; emailList = new ArrayList&lt;&gt;();\r\nprivate List&lt;String&gt; ccList = new ArrayList&lt;&gt;();\r\nprivate List&lt;String&gt; bccList = new ArrayList&lt;&gt;();\r\nprivate List&lt;String&gt; attachList = new ArrayList&lt;&gt;();\r\nprivate String title;\r\nprivate String content;\r\n```\r\n\r\n\r\n```\r\n//Service\r\n\r\npublic class EmailAttachService {\r\n    @Autowired\r\n    AmazonSimpleEmailService ses;\r\n\r\n    public void sendEmailwithAttachments(EmailAttachSendReqDto reqDto) throws MessagingException, IOException {\r\n        String sender = reqDto.getSenderEmail();\r\n        List&lt;String&gt; recipient = reqDto.getEmailList();\r\n        List&lt;String&gt; cc = reqDto.getCcList();\r\n        List&lt;String&gt; bcc = reqDto.getBccList();\r\n        String subject = reqDto.getTitle();\r\n        List&lt;String&gt; attach = reqDto.getAttachList();\r\n        String content = reqDto.getContent();\r\n\r\n        Session session = Session.getDefaultInstance(new Properties());\r\n\r\n        MimeMessage message = new MimeMessage(session);\r\n        message.setSubject(subject, &quot;UTF-8&quot;);\r\n        message.setFrom(new InternetAddress(sender));\r\n\r\n        message.addRecipients(Message.RecipientType.TO,InternetAddress.parse(String.join(&quot;,&quot;, recipient)));\r\n        message.addRecipients(Message.RecipientType.CC,InternetAddress.parse(String.join(&quot;,&quot;, cc)));\r\n        message.addRecipients(Message.RecipientType.BCC,InternetAddress.parse(String.join(&quot;,&quot;, bcc)));\r\n\r\n        MimeMultipart msg_body = new MimeMultipart(&quot;alternative&quot;);\r\n\r\n        MimeBodyPart wrap = new MimeBodyPart();\r\n\r\n        MimeBodyPart htmlPart = new MimeBodyPart();\r\n        htmlPart.setContent(content, &quot;text/html; charset=UTF-8&quot;);\r\n\r\n        msg_body.addBodyPart(htmlPart);\r\n\r\n        wrap.setContent(msg_body);\r\n        MimeMultipart msg = new MimeMultipart(&quot;mixed&quot;);\r\n\r\n        message.setContent(msg);\r\n\r\n        msg.addBodyPart(wrap);\r\n\r\n        if(attach != null){\r\n            for (String at : attach){\r\n                MimeBodyPart att = new MimeBodyPart();\r\n                DataSource fds = new FileDataSource(at);\r\n                att.setDataHandler(new DataHandler(fds));\r\n                att.setFileName(fds.getName());\r\n\r\n                msg.addBodyPart(att);\r\n            }\r\n        }\r\n\r\n        try {\r\n            PrintStream out = System.out;\r\n            message.writeTo(out);\r\n\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            message.writeTo(outputStream);\r\n            RawMessage rawMessage =\r\n                    new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\r\n\r\n            SendRawEmailRequest rawEmailRequest =\r\n                    new SendRawEmailRequest(rawMessage);\r\n\r\n            SendRawEmailResult result = ses.sendRawEmail(rawEmailRequest);\r\n            log.debug(&quot;Email sent to &quot; + reqDto.getEmailList() + &quot;, Message ID: &quot; + result.getMessageId());\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            throw new EmailSendException(ExceptionState.EMAIL_SEND_FAIL,&quot;Email send Fail&quot;);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n//Config\r\n\r\n@Bean\r\n    public AmazonSimpleEmailService amazonSimpleEmailService() {\r\n        final BasicAWSCredentials basicAWSCredentials = new BasicAWSCredentials(accessKey, secretKey);\r\n        final AWSStaticCredentialsProvider awsStaticCredentialProvider = new AWSStaticCredentialsProvider(basicAWSCredentials);\r\n\r\n        return AmazonSimpleEmailServiceClientBuilder.standard()\r\n                .withCredentials(awsStaticCredentialProvider)\r\n                .withRegion(&quot;ap-northeast-2&quot;).build();\r\n    }\r\n```\r\n\r\n\r\n\r\n","title":"AWS SES on EC2- file not found","body":"<p>PROBLEM : File / Directory not found</p>\n<p>I wrote a code to send an email with attachments via AWS SES using Java SpringBoot.\nI can send the email when I am in a local environment, (with C:\\Users ~ location)\nbut I cannot use my code when I'm in server environment.</p>\n<p>What is the problem in my code?\nI want to attach files with url of it.</p>\n<pre><code>//Dto\n\nprivate List&lt;String&gt; emailList = new ArrayList&lt;&gt;();\nprivate List&lt;String&gt; ccList = new ArrayList&lt;&gt;();\nprivate List&lt;String&gt; bccList = new ArrayList&lt;&gt;();\nprivate List&lt;String&gt; attachList = new ArrayList&lt;&gt;();\nprivate String title;\nprivate String content;\n</code></pre>\n<pre><code>//Service\n\npublic class EmailAttachService {\n    @Autowired\n    AmazonSimpleEmailService ses;\n\n    public void sendEmailwithAttachments(EmailAttachSendReqDto reqDto) throws MessagingException, IOException {\n        String sender = reqDto.getSenderEmail();\n        List&lt;String&gt; recipient = reqDto.getEmailList();\n        List&lt;String&gt; cc = reqDto.getCcList();\n        List&lt;String&gt; bcc = reqDto.getBccList();\n        String subject = reqDto.getTitle();\n        List&lt;String&gt; attach = reqDto.getAttachList();\n        String content = reqDto.getContent();\n\n        Session session = Session.getDefaultInstance(new Properties());\n\n        MimeMessage message = new MimeMessage(session);\n        message.setSubject(subject, &quot;UTF-8&quot;);\n        message.setFrom(new InternetAddress(sender));\n\n        message.addRecipients(Message.RecipientType.TO,InternetAddress.parse(String.join(&quot;,&quot;, recipient)));\n        message.addRecipients(Message.RecipientType.CC,InternetAddress.parse(String.join(&quot;,&quot;, cc)));\n        message.addRecipients(Message.RecipientType.BCC,InternetAddress.parse(String.join(&quot;,&quot;, bcc)));\n\n        MimeMultipart msg_body = new MimeMultipart(&quot;alternative&quot;);\n\n        MimeBodyPart wrap = new MimeBodyPart();\n\n        MimeBodyPart htmlPart = new MimeBodyPart();\n        htmlPart.setContent(content, &quot;text/html; charset=UTF-8&quot;);\n\n        msg_body.addBodyPart(htmlPart);\n\n        wrap.setContent(msg_body);\n        MimeMultipart msg = new MimeMultipart(&quot;mixed&quot;);\n\n        message.setContent(msg);\n\n        msg.addBodyPart(wrap);\n\n        if(attach != null){\n            for (String at : attach){\n                MimeBodyPart att = new MimeBodyPart();\n                DataSource fds = new FileDataSource(at);\n                att.setDataHandler(new DataHandler(fds));\n                att.setFileName(fds.getName());\n\n                msg.addBodyPart(att);\n            }\n        }\n\n        try {\n            PrintStream out = System.out;\n            message.writeTo(out);\n\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n            message.writeTo(outputStream);\n            RawMessage rawMessage =\n                    new RawMessage(ByteBuffer.wrap(outputStream.toByteArray()));\n\n            SendRawEmailRequest rawEmailRequest =\n                    new SendRawEmailRequest(rawMessage);\n\n            SendRawEmailResult result = ses.sendRawEmail(rawEmailRequest);\n            log.debug(&quot;Email sent to &quot; + reqDto.getEmailList() + &quot;, Message ID: &quot; + result.getMessageId());\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            throw new EmailSendException(ExceptionState.EMAIL_SEND_FAIL,&quot;Email send Fail&quot;);\n        }\n    }\n}\n\n</code></pre>\n<pre><code>//Config\n\n@Bean\n    public AmazonSimpleEmailService amazonSimpleEmailService() {\n        final BasicAWSCredentials basicAWSCredentials = new BasicAWSCredentials(accessKey, secretKey);\n        final AWSStaticCredentialsProvider awsStaticCredentialProvider = new AWSStaticCredentialsProvider(basicAWSCredentials);\n\n        return AmazonSimpleEmailServiceClientBuilder.standard()\n                .withCredentials(awsStaticCredentialProvider)\n                .withRegion(&quot;ap-northeast-2&quot;).build();\n    }\n</code></pre>\n"},{"tags":["java","spring","authentication","amazon-cognito"],"owner":{"account_id":27240057,"reputation":11,"user_id":20766389,"display_name":"Antonio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682045962,"creation_date":1671608950,"question_id":74872780,"body_markdown":"I&#39;m having trouble implementing the process of remembering devices in Amazon Cognito, so that the next time the user logs in it doesn&#39;t ask for the 2FA code.\r\n\r\nFor this I have implemented the first step of 2 that the Amazon website says:\r\n\r\n&gt; Remembering devices is a two-part process:\r\n&gt; \r\n&gt; 1. Confirming a new device. Initiate authentication from the device, and then confirm it with Amazon Cognito to get unique device identifiers.\r\n&gt; 2. Verifying a confirmed device. Initiate authentication from a confirmed device to skip the MFA step on subsequent sign-in attempts.\r\n\r\nI am with the first step &quot;Confirming a new device&quot; but it does not work for me. The problem is calculating the &quot;passwordVerifier&quot; value. \r\n\r\nAccording to Amazon these are the steps to follow (section &quot;Call ConfirmDevice&quot;): https://aws.amazon.com/es/premiumsupport/knowledge-center/cognito-user-pool-remembered-devices/\r\n\r\n\r\nI have the following code:\r\n\r\n\r\n    String HEX_N =\r\n         &quot;FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD1&quot;\r\n             + &quot;29024E088A67CC74020BBEA63B139B22514A08798E3404DD&quot;\r\n             + &quot;EF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245&quot;\r\n             + &quot;E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7ED&quot;\r\n             + &quot;EE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3D&quot;\r\n             + &quot;C2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F&quot;\r\n             + &quot;83655D23DCA3AD961C62F356208552BB9ED529077096966D&quot;\r\n             + &quot;670C354E4ABC9804F1746C08CA18217C32905E462E36CE3B&quot;\r\n             + &quot;E39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9&quot;\r\n             + &quot;DE2BCBF6955817183995497CEA956AE515D2261898FA0510&quot;\r\n             + &quot;15728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64&quot;\r\n             + &quot;ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7&quot;\r\n             + &quot;ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6B&quot;\r\n             + &quot;F12FFA06D98A0864D87602733EC86A64521F2B18177B200C&quot;\r\n             + &quot;BBE117577A615D6C770988C0BAD946E208E24FA074E5AB31&quot;\r\n             + &quot;43DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF&quot;;\r\n     \r\n    BigInteger N = new BigInteger(HEX_N, 16);\r\n    \r\n    BigInteger g = new BigInteger(&quot;2&quot;, 16);\r\n    \r\n    Random random = ThreadLocalRandom.current();\r\n    byte[] randomBytes = new byte[16];\r\n    random.nextBytes(randomBytes);\r\n    String salt = Base64.getUrlEncoder().encodeToString(randomBytes);\r\n    \r\n    randomBytes = new byte[40];\r\n    random.nextBytes(randomBytes);\r\n    String randomPassword = Base64.getUrlEncoder().encodeToString(randomBytes);\r\n    \r\n    String fullPassword = Hashing.sha256().hashString(this.getDeviceGroupKey() + this.getUsername() + &quot;:&quot; + randomPassword, StandardCharsets.UTF_8).toString();\r\n    \r\n    String saltFullPassword = Hashing.sha256().hashString(salt + fullPassword, StandardCharsets.UTF_8).toString();\r\n    \r\n    String passwordVerifier = Base64.getUrlEncoder().encodeToString(g.modPow(new BigInteger(saltFullPassword,16), N).toString(16).getBytes());\r\n    \r\n    DeviceSecretVerifierConfigType deviceSecretVerifierConfigType = new DeviceSecretVerifierConfigType();\r\n    deviceSecretVerifierConfigType.setSalt(salt);\r\n    deviceSecretVerifierConfigType.setPasswordVerifier(passwordVerifier);\r\n    \r\n    ConfirmDeviceRequest confirmDeviceRequest = new ConfirmDeviceRequest();\r\n    confirmDeviceRequest.setDeviceKey(this.getDeviceKey());\r\n    confirmDeviceRequest.setDeviceName(this.getDeviceName());\r\n    confirmDeviceRequest.setAccessToken(this.getToken());\r\n    confirmDeviceRequest.setDeviceSecretVerifierConfig(deviceSecretVerifierConfigType);\r\n    \r\n    ConfirmDeviceResult confirmDeviceResult = awsCognitoIdentityProvider.confirmDevice(confirmDeviceRequest);  \r\n\r\nand the execution returns the following error\r\n\r\n&gt; &quot;com.amazonaws.services.cognitoidp.model.InvalidParameterException: Found negative value for salt or password verifier.&quot;\r\n\r\nAlthough other times it returns another error, it is the following\r\n\r\n&gt; &quot;com.amazonaws.services.cognitoidp.model.InvalidParameterException: Invalid device key given.&quot;\r\n\r\nI tried confirming the device and getting it to register with AWS but not enough.\r\n","title":"How to implement the remember device process in Amazon Cognito in Java?","body":"<p>I'm having trouble implementing the process of remembering devices in Amazon Cognito, so that the next time the user logs in it doesn't ask for the 2FA code.</p>\n<p>For this I have implemented the first step of 2 that the Amazon website says:</p>\n<blockquote>\n<p>Remembering devices is a two-part process:</p>\n<ol>\n<li>Confirming a new device. Initiate authentication from the device, and then confirm it with Amazon Cognito to get unique device identifiers.</li>\n<li>Verifying a confirmed device. Initiate authentication from a confirmed device to skip the MFA step on subsequent sign-in attempts.</li>\n</ol>\n</blockquote>\n<p>I am with the first step &quot;Confirming a new device&quot; but it does not work for me. The problem is calculating the &quot;passwordVerifier&quot; value.</p>\n<p>According to Amazon these are the steps to follow (section &quot;Call ConfirmDevice&quot;): <a href=\"https://aws.amazon.com/es/premiumsupport/knowledge-center/cognito-user-pool-remembered-devices/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/es/premiumsupport/knowledge-center/cognito-user-pool-remembered-devices/</a></p>\n<p>I have the following code:</p>\n<pre><code>String HEX_N =\n     &quot;FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD1&quot;\n         + &quot;29024E088A67CC74020BBEA63B139B22514A08798E3404DD&quot;\n         + &quot;EF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245&quot;\n         + &quot;E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7ED&quot;\n         + &quot;EE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3D&quot;\n         + &quot;C2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F&quot;\n         + &quot;83655D23DCA3AD961C62F356208552BB9ED529077096966D&quot;\n         + &quot;670C354E4ABC9804F1746C08CA18217C32905E462E36CE3B&quot;\n         + &quot;E39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9&quot;\n         + &quot;DE2BCBF6955817183995497CEA956AE515D2261898FA0510&quot;\n         + &quot;15728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64&quot;\n         + &quot;ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7&quot;\n         + &quot;ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6B&quot;\n         + &quot;F12FFA06D98A0864D87602733EC86A64521F2B18177B200C&quot;\n         + &quot;BBE117577A615D6C770988C0BAD946E208E24FA074E5AB31&quot;\n         + &quot;43DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF&quot;;\n \nBigInteger N = new BigInteger(HEX_N, 16);\n\nBigInteger g = new BigInteger(&quot;2&quot;, 16);\n\nRandom random = ThreadLocalRandom.current();\nbyte[] randomBytes = new byte[16];\nrandom.nextBytes(randomBytes);\nString salt = Base64.getUrlEncoder().encodeToString(randomBytes);\n\nrandomBytes = new byte[40];\nrandom.nextBytes(randomBytes);\nString randomPassword = Base64.getUrlEncoder().encodeToString(randomBytes);\n\nString fullPassword = Hashing.sha256().hashString(this.getDeviceGroupKey() + this.getUsername() + &quot;:&quot; + randomPassword, StandardCharsets.UTF_8).toString();\n\nString saltFullPassword = Hashing.sha256().hashString(salt + fullPassword, StandardCharsets.UTF_8).toString();\n\nString passwordVerifier = Base64.getUrlEncoder().encodeToString(g.modPow(new BigInteger(saltFullPassword,16), N).toString(16).getBytes());\n\nDeviceSecretVerifierConfigType deviceSecretVerifierConfigType = new DeviceSecretVerifierConfigType();\ndeviceSecretVerifierConfigType.setSalt(salt);\ndeviceSecretVerifierConfigType.setPasswordVerifier(passwordVerifier);\n\nConfirmDeviceRequest confirmDeviceRequest = new ConfirmDeviceRequest();\nconfirmDeviceRequest.setDeviceKey(this.getDeviceKey());\nconfirmDeviceRequest.setDeviceName(this.getDeviceName());\nconfirmDeviceRequest.setAccessToken(this.getToken());\nconfirmDeviceRequest.setDeviceSecretVerifierConfig(deviceSecretVerifierConfigType);\n\nConfirmDeviceResult confirmDeviceResult = awsCognitoIdentityProvider.confirmDevice(confirmDeviceRequest);  \n</code></pre>\n<p>and the execution returns the following error</p>\n<blockquote>\n<p>&quot;com.amazonaws.services.cognitoidp.model.InvalidParameterException: Found negative value for salt or password verifier.&quot;</p>\n</blockquote>\n<p>Although other times it returns another error, it is the following</p>\n<blockquote>\n<p>&quot;com.amazonaws.services.cognitoidp.model.InvalidParameterException: Invalid device key given.&quot;</p>\n</blockquote>\n<p>I tried confirming the device and getting it to register with AWS but not enough.</p>\n"},{"tags":["java","kotlin","date","date-formatting","uppercase"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682015936,"post_id":76067044,"comment_id":134153506,"body_markdown":"Personally I would use [`DateTimeFormatterBuilder.appendText(TemporalField, Map&lt;Long, String&gt;)`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendText(java.time.temporal.TemporalField,java.util.Map)) to build a formatter that would format the day of week abbreviation in all uppercase. But yes, another option is to have two `DateTimeFormatter`s, uppercase the string from one of them and concatenate the results.","body":"Personally I would use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/format/DateTimeFormatterBuilder.html#appendText(java.time.temporal.TemporalField,java.util.Map)\" rel=\"nofollow noreferrer\"><code>DateTimeFormatterBuilder.appendText(TemporalField, Map&lt;Long, String&gt;)</code></a> to build a formatter that would format the day of week abbreviation in all uppercase. But yes, another option is to have two <code>DateTimeFormatter</code>s, uppercase the string from one of them and concatenate the results."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1682016456,"post_id":76067044,"comment_id":134153602,"body_markdown":"See [my answer to a similar question here](https://stackoverflow.com/a/51240496/5772882).","body":"See <a href=\"https://stackoverflow.com/a/51240496/5772882\">my answer to a similar question here</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":4,"creation_date":1682017571,"post_id":76067044,"comment_id":134153812,"body_markdown":"Yet an alternative would be `String.format(Locale.ENGLISH, &quot;%te %&lt;tb %&lt;Ta&quot;, LocalDate.of(2023, Month.MAY, 25))`. Yields `25 May THU`. Serious downside is it’s about unreadable.","body":"Yet an alternative would be <code>String.format(Locale.ENGLISH, &quot;%te %&lt;tb %&lt;Ta&quot;, LocalDate.of(2023, Month.MAY, 25))</code>. Yields <code>25 May THU</code>. Serious downside is it’s about unreadable."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1682622129,"post_id":76067044,"comment_id":134249045,"body_markdown":"Is all-uppercase the norm in the particular culture in which you are interested? If so, say so. Then we might be able to get your desired result via `Locale` class.","body":"Is all-uppercase the norm in the particular culture in which you are interested? If so, say so. Then we might be able to get your desired result via <code>Locale</code> class."}],"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682045775,"creation_date":1682013984,"question_id":76067044,"body_markdown":"Is is possible to format a date like `25 May MON` (not `25 May Mon`)? Or do I have to format the date twice (`&quot;d MMM&quot;` and `&quot;EEE&quot;`), then call `uppercase` for the second string and then join them?","title":"Java date format &quot;25 May MON&quot; instead of &quot;25 May Mon&quot; - &quot;d MMM EEE&quot;","body":"<p>Is is possible to format a date like <code>25 May MON</code> (not <code>25 May Mon</code>)? Or do I have to format the date twice (<code>&quot;d MMM&quot;</code> and <code>&quot;EEE&quot;</code>), then call <code>uppercase</code> for the second string and then join them?</p>\n"},{"tags":["java","string","math"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1682045489,"post_id":76069491,"comment_id":134157511,"body_markdown":"Parse the input `String` to separate the &quot;calculate&quot;, &quot;5&quot;, &quot;+&quot;, and &quot;2&quot;.  Make sure there are four tokens, the first is &quot;calculate&quot;, the second and fourth tokens are integers, and the third token is a plus or minus.","body":"Parse the input <code>String</code> to separate the &quot;calculate&quot;, &quot;5&quot;, &quot;+&quot;, and &quot;2&quot;.  Make sure there are four tokens, the first is &quot;calculate&quot;, the second and fourth tokens are integers, and the third token is a plus or minus."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682046030,"post_id":76069491,"comment_id":134157549,"body_markdown":"Welcome to Stack Overflow. This has been treated a lot, not only on Stack Overflow but on many websites. Use your search engine. And BTW, you are supposed to do that every time before posting a question here. See you around.","body":"Welcome to Stack Overflow. This has been treated a lot, not only on Stack Overflow but on many websites. Use your search engine. And BTW, you are supposed to do that every time before posting a question here. See you around."},{"owner":{"account_id":28365847,"reputation":1,"user_id":21695159,"display_name":"Jen"},"score":0,"creation_date":1682046718,"post_id":76069491,"comment_id":134157596,"body_markdown":"I am new to coding. I having been searching websites for two hours and have not found a solution.  This is the last part of the program I have to finish and I’m stumped.  I also reached out to classmate who also can’t figure it out and Reddit with no response.","body":"I am new to coding. I having been searching websites for two hours and have not found a solution.  This is the last part of the program I have to finish and I’m stumped.  I also reached out to classmate who also can’t figure it out and Reddit with no response."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682049517,"post_id":76069491,"comment_id":134157814,"body_markdown":"I understand. I am sorry, Stack Overflow does not work for tutoring the basics of programming. I hope you will be able to find help some place else. For a decent Stack Overflow question you would at the least need to tell us what your search had brought up and spell out in what way it did not help or was insufficient. Until proven otherwise I still believe this has already been covered in depth elsewhere.","body":"I understand. I am sorry, Stack Overflow does not work for tutoring the basics of programming. I hope you will be able to find help some place else. For a decent Stack Overflow question you would at the least need to tell us what your search had brought up and spell out in what way it did not help or was insufficient. Until proven otherwise I still believe this has already been covered in depth elsewhere."}],"owner":{"account_id":28365847,"reputation":1,"user_id":21695159,"display_name":"Jen"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682045949,"answer_count":0,"score":0,"last_activity_date":1682044123,"creation_date":1682044123,"question_id":76069491,"body_markdown":"How do I solve a math problem that is in a string? The user will enter a math problem that starts with the word calculate. like &quot;calculate 5 + 2&quot; or &quot;calculate 10 - 3&quot; and the program needs to solve it. \r\n\r\nSo far I have the user ask a question and then if (question.toLowerCase().contains(&quot;calculate&quot;)). Now I need it to solve but idk what to do.","title":"Java Homework String","body":"<p>How do I solve a math problem that is in a string? The user will enter a math problem that starts with the word calculate. like &quot;calculate 5 + 2&quot; or &quot;calculate 10 - 3&quot; and the program needs to solve it.</p>\n<p>So far I have the user ask a question and then if (question.toLowerCase().contains(&quot;calculate&quot;)). Now I need it to solve but idk what to do.</p>\n"},{"tags":["java","redis","jwt","shiro"],"owner":{"account_id":24523339,"reputation":1,"user_id":18436068,"display_name":"sealand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682043811,"creation_date":1682043811,"question_id":76069468,"body_markdown":"in project,i used jwt+redis to implements user&#39;s auth,but how to design the k-v that I get in trouble. I think:\r\n1. when user login, jwt return the token to user, redis put token as key, user info as value at the same time with expire time; \r\n2. user request the server with token;server verify the token in redis, if it has the key-value, so ture,else false and return the noauth message or token expires;\r\nin the whole process, i dont&#39;t verify the token in using jwt, redis is used instead.\r\n\r\nbut jwttoken is too long as key , i think it isn&#39;t a good case. what should I do \r\n\r\ndesign a good k-v in jwttoken,","title":"how to design a nice key-value in redis+jwt？","body":"<p>in project,i used jwt+redis to implements user's auth,but how to design the k-v that I get in trouble. I think:</p>\n<ol>\n<li>when user login, jwt return the token to user, redis put token as key, user info as value at the same time with expire time;</li>\n<li>user request the server with token;server verify the token in redis, if it has the key-value, so ture,else false and return the noauth message or token expires;\nin the whole process, i dont't verify the token in using jwt, redis is used instead.</li>\n</ol>\n<p>but jwttoken is too long as key , i think it isn't a good case. what should I do</p>\n<p>design a good k-v in jwttoken,</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1681989882,"post_id":76063023,"comment_id":134146976,"body_markdown":"Your clear method looks odd, why do you call `.get()` on the threadlocal? That won&#39;t remove the value …","body":"Your clear method looks odd, why do you call <code>.get()</code> on the threadlocal? That won&#39;t remove the value …"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1681993875,"post_id":76063023,"comment_id":134147891,"body_markdown":"You forgot the `&lt;typeGoesHere&gt;` on data1 and data2.","body":"You forgot the <code>&lt;typeGoesHere&gt;</code> on data1 and data2."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1682042291,"post_id":76063023,"comment_id":134157258,"body_markdown":"@knittl sorry, mistyped, already fix it from `get` to `remove`.","body":"@knittl sorry, mistyped, already fix it from <code>get</code> to <code>remove</code>."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1683182235,"post_id":76063023,"comment_id":134327744,"body_markdown":"`ThreadLocal` has a `isPresent` method, `local.isPresent` can be used to check if a local variable is removed.","body":"<code>ThreadLocal</code> has a <code>isPresent</code> method, <code>local.isPresent</code> can be used to check if a local variable is removed."}],"answers":[{"comments":[{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1682042377,"post_id":76063081,"comment_id":134157267,"body_markdown":"once `counter.remove` is called, do I need to call `withInitial` again? If the answer is yes, how do I know it is removed.","body":"once <code>counter.remove</code> is called, do I need to call <code>withInitial</code> again? If the answer is yes, how do I know it is removed."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1682052329,"post_id":76063081,"comment_id":134158112,"body_markdown":"I see. After reading doc for remove function, withIntial can reset its value once get is called after it&#39;s removed.","body":"I see. After reading doc for remove function, withIntial can reset its value once get is called after it&#39;s removed."}],"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1681986535,"creation_date":1681986535,"answer_id":76063081,"question_id":76063023,"body_markdown":"Provably you should use `ThreadLocal.withInitial()`?\r\n\r\n```java\r\nclass ContextHolder {\r\n\r\n    private final static ThreadLocal&lt;String&gt; DATA =\r\n                    ThreadLocal.withInitial(() -&gt; &quot;initial value&quot;);\r\n    \r\n}\r\n```\r\n\r\nIt will initialize the thread local value once per thread.\r\n\r\n[Java - Set the initial value for thread-local variable][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/example/java-book/set-the-initial-value-for-thread-local-variable.html","title":"Java ThreadLocal how to know if it is removed","body":"<p>Provably you should use <code>ThreadLocal.withInitial()</code>?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ContextHolder {\n\n    private final static ThreadLocal&lt;String&gt; DATA =\n                    ThreadLocal.withInitial(() -&gt; &quot;initial value&quot;);\n    \n}\n</code></pre>\n<p>It will initialize the thread local value once per thread.</p>\n<p><a href=\"http://www.java2s.com/example/java-book/set-the-initial-value-for-thread-local-variable.html\" rel=\"nofollow noreferrer\">Java - Set the initial value for thread-local variable</a></p>\n"}],"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76063081,"answer_count":1,"score":2,"last_activity_date":1682043020,"creation_date":1681986137,"question_id":76063023,"body_markdown":"In a method it runs like this:\r\n\r\n```\r\ninterceptorMethod () {\r\n\ttry {\r\n\t\tContextHolder.init();\r\n        doSomething();\r\n\t} finally {\r\n\t    ContextHolder.clear();\r\n\t}\r\n}\r\n```\r\nAnd ContextHolder is like this:\r\n```\r\nContextHolder {\r\n    ThreadLocal&lt;Integer&gt; data1 = new ...\r\n\tThreadLocal&lt;Integer&gt; data2 = new ...\r\n    init(int d1, int d2) {\r\n\t   data1.set(d1)\r\n\t   data2.set(d2)\r\n\t}\r\n\t\r\n\tclear() {\r\n\t   data1.remove()\r\n\t   data2.remove()\r\n\t}\r\n\t\r\n    // getters and setters for data1 and data2\r\n}\r\n```\r\nThe problem shows up when `doSomething` is intercepted too, aka. `interceptorMethod` run twice. In this case, init() is called twice, and clear is also called twice, and clear cannot be called twice continuously. \r\n\r\nSo I am thinking to add a `ThreadLocal&lt;Integer&gt; counter`, thereafter init becomes like this:\r\n```\r\nContextHolder {\r\n    ThreadLocal&lt;Integer&gt; data1 = new ...\r\n    ThreadLocal&lt;Integer&gt; data2 = new ...\r\n    ThreadLocal&lt;Integer&gt; counter = new ...\r\n    init(int d1, int d2) {\r\n       // here, how do I know if counter is removed?\r\n       isRemoved(counter)? counter.set(0): counter.set(counteger.get() + 1)\r\n       data1.set(d1)\r\n       data2.set(d2)\r\n    }\r\n    clear() {\r\n       if ( 0 == minusCounter(counter)) {\r\n           data1.remove()\r\n           data2.remove()\r\n           counter.remove()\r\n       } \r\n    }\r\n```\r\n\r\n**Then how to detect if a ThreadLocal is already removed? isRemoved(counter)** Or is there a better way, not using counter, to achieve this?\r\n","title":"Java ThreadLocal how to know if it is removed","body":"<p>In a method it runs like this:</p>\n<pre><code>interceptorMethod () {\n    try {\n        ContextHolder.init();\n        doSomething();\n    } finally {\n        ContextHolder.clear();\n    }\n}\n</code></pre>\n<p>And ContextHolder is like this:</p>\n<pre><code>ContextHolder {\n    ThreadLocal&lt;Integer&gt; data1 = new ...\n    ThreadLocal&lt;Integer&gt; data2 = new ...\n    init(int d1, int d2) {\n       data1.set(d1)\n       data2.set(d2)\n    }\n    \n    clear() {\n       data1.remove()\n       data2.remove()\n    }\n    \n    // getters and setters for data1 and data2\n}\n</code></pre>\n<p>The problem shows up when <code>doSomething</code> is intercepted too, aka. <code>interceptorMethod</code> run twice. In this case, init() is called twice, and clear is also called twice, and clear cannot be called twice continuously.</p>\n<p>So I am thinking to add a <code>ThreadLocal&lt;Integer&gt; counter</code>, thereafter init becomes like this:</p>\n<pre><code>ContextHolder {\n    ThreadLocal&lt;Integer&gt; data1 = new ...\n    ThreadLocal&lt;Integer&gt; data2 = new ...\n    ThreadLocal&lt;Integer&gt; counter = new ...\n    init(int d1, int d2) {\n       // here, how do I know if counter is removed?\n       isRemoved(counter)? counter.set(0): counter.set(counteger.get() + 1)\n       data1.set(d1)\n       data2.set(d2)\n    }\n    clear() {\n       if ( 0 == minusCounter(counter)) {\n           data1.remove()\n           data2.remove()\n           counter.remove()\n       } \n    }\n</code></pre>\n<p><strong>Then how to detect if a ThreadLocal is already removed? isRemoved(counter)</strong> Or is there a better way, not using counter, to achieve this?</p>\n"},{"tags":["java","csv","android-room","export-to-csv","read.csv"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1682042207,"post_id":76069332,"comment_id":134157246,"body_markdown":"a) It is better to use a CSV library than using this `writer.append(&quot;,&quot;);` type of logic.  b) Why not have a separate file for each type of `List`?","body":"a) It is better to use a CSV library than using this <code>writer.append(&quot;,&quot;);</code> type of logic.  b) Why not have a separate file for each type of <code>List</code>?"},{"owner":{"account_id":27507627,"reputation":19,"user_id":20990119,"display_name":"YoshioK"},"score":0,"creation_date":1682044968,"post_id":76069332,"comment_id":134157472,"body_markdown":"Thank you for  your coment. a)I don&#39;t know about CSV library so I&#39;ll learn from now. b)When have a separate file for each type of List,users have to backup and restore two files(decklist and its contents,wordlist).But is it the better way?","body":"Thank you for  your coment. a)I don&#39;t know about CSV library so I&#39;ll learn from now. b)When have a separate file for each type of List,users have to backup and restore two files(decklist and its contents,wordlist).But is it the better way?"},{"owner":{"account_id":27507627,"reputation":19,"user_id":20990119,"display_name":"YoshioK"},"score":0,"creation_date":1682069835,"post_id":76069332,"comment_id":134161232,"body_markdown":"I&#39;ve actually tried to make two CSV files and method to call them at one click(onoptionsitemselected menu) a while \n ago.Though I have to tap twice in the picker,the move is not bad. It might be the better  way than packing two lists in one file.","body":"I&#39;ve actually tried to make two CSV files and method to call them at one click(onoptionsitemselected menu) a while   ago.Though I have to tap twice in the picker,the move is not bad. It might be the better  way than packing two lists in one file."}],"owner":{"account_id":27507627,"reputation":19,"user_id":20990119,"display_name":"YoshioK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682041382,"creation_date":1682041382,"question_id":76069332,"body_markdown":"I wrote codes to export roomdatabase data to CSV file and import the data from it using storage access framework.It works but my roomdatabase has two entity class therefore  one more list.\r\n\r\nSo I want to write and read one more list in the same CSV file so that the user can backup and restore the data in one click each.\r\n\r\nIs there the way for that?\r\n\r\nThank You.\r\n\r\nexport:\r\n\r\n```\r\n public void exportCSV() {\r\n        Intent intent2 = new Intent(Intent.ACTION_CREATE_DOCUMENT);\r\n        intent2.setType(&quot;text/csv&quot;);\r\n        intent2.putExtra(Intent.EXTRA_TITLE, &quot;db_backUp&quot;);\r\n        startForExportResult.launch(intent2);\r\n    }\r\n```\r\n\r\nimport:\r\n\r\n```\r\npublic void importCSV() {\r\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\r\n        intent.setType(&quot;text/*&quot;);\r\n        intent.putExtra(Intent.EXTRA_TITLE, &quot;db_backUp&quot;);\r\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\r\n        startForImportResult.launch(intent);\r\n    }\r\n```\r\n\r\nActivityResultLaunche:export\r\n\r\n```\r\nActivityResultLauncher&lt;Intent&gt; startForExportResult = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(), result -&gt; {\r\n                Intent intent = result.getData();\r\n                if(intent != null){\r\n                    Uri title = intent.getData();\r\n                    recordList.clear();\r\n                    db = Room.databaseBuilder(getContext().getApplicationContext(), DeckRoomDatabase.class, &quot;deck_database&quot;)\r\n                            .allowMainThreadQueries().build();\r\n                    deckDao = db.deckDao();\r\n                    List&lt;Deck&gt; decks = deckDao.getAllDecksForCSV();\r\n                    recordList = (ArrayList&lt;Deck&gt;) decks;\r\n                    if(title != null &amp;&amp; result.getResultCode() == RESULT_OK){\r\n                        try(BufferedWriter writer = new BufferedWriter(\r\n                                new OutputStreamWriter(\r\n                                        getContext().getContentResolver().openOutputStream(title)))){\r\n\r\n                            for(int i = 0; i &lt; recordList.size(); i++){\r\n                                writer.append(&quot;&quot; + recordList.get(i).getName());\r\n                                writer.append(&quot;,&quot;);\r\n                                writer.append(&quot;&quot; + recordList.get(i).getListCount());\r\n                                writer.append(&quot;,&quot;);\r\n                                writer.append(&quot;&quot; + recordList.get(i).getDateTime());\r\n                                writer.append(&quot;,&quot;);\r\n                                writer.append(&quot;&quot; + recordList.get(i).getParameter());\r\n                                writer.append(&quot;\\n&quot;);\r\n                            }\r\n                            writer.flush();\r\n                            writer.close();\r\n                            Toast.makeText(this.getContext(), &quot;Backup Export to:&quot; + title.toString(), Toast.LENGTH_SHORT).show();\r\n                        } catch (IOException e){\r\n                            e.printStackTrace();\r\n                            Toast.makeText(this.getContext(), &quot;&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n    });\r\n```\r\n\r\nActivityResultLaunche:import\r\n\r\n```\r\nActivityResultLauncher&lt;Intent&gt; startForImportResult = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(), result -&gt; {\r\n                Intent intent = result.getData();\r\n                if(intent != null){\r\n                    Uri uri = intent.getData();\r\n                    if(uri != null &amp;&amp; result.getResultCode() == RESULT_OK){\r\n                        try(BufferedReader reader = new BufferedReader(\r\n                                new InputStreamReader(\r\n                                        getContext().getContentResolver().openInputStream(uri)))){\r\n                            String line;\r\n                            while ((line = reader.readLine()) != null){\r\n                                String[] nextLine = line.split(&quot;,&quot;, 4);\r\n                                if(nextLine.length != 4) {\r\n                                    continue;\r\n                                }\r\n                                    String name = nextLine[0];\r\n                                    String listCount = nextLine[1];\r\n                                    String dateTime = nextLine[2];\r\n                                    String parameter = nextLine[3];\r\n\r\n                                    deckDao.insertDeck(new Deck(name, Integer.parseInt(listCount), LocalDateTime.parse(dateTime),\r\n                                            Integer.parseInt(parameter)));\r\n                            }\r\n\r\n                            Toast.makeText(this.getContext(), &quot;Backup Restored...&quot;, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                        catch (Exception e){\r\n                            Toast.makeText(this.getContext(), &quot;&quot; + e, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n```","title":"write and read two lists in one CSV file","body":"<p>I wrote codes to export roomdatabase data to CSV file and import the data from it using storage access framework.It works but my roomdatabase has two entity class therefore  one more list.</p>\n<p>So I want to write and read one more list in the same CSV file so that the user can backup and restore the data in one click each.</p>\n<p>Is there the way for that?</p>\n<p>Thank You.</p>\n<p>export:</p>\n<pre><code> public void exportCSV() {\n        Intent intent2 = new Intent(Intent.ACTION_CREATE_DOCUMENT);\n        intent2.setType(&quot;text/csv&quot;);\n        intent2.putExtra(Intent.EXTRA_TITLE, &quot;db_backUp&quot;);\n        startForExportResult.launch(intent2);\n    }\n</code></pre>\n<p>import:</p>\n<pre><code>public void importCSV() {\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n        intent.setType(&quot;text/*&quot;);\n        intent.putExtra(Intent.EXTRA_TITLE, &quot;db_backUp&quot;);\n        intent.addCategory(Intent.CATEGORY_OPENABLE);\n        startForImportResult.launch(intent);\n    }\n</code></pre>\n<p>ActivityResultLaunche:export</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; startForExportResult = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(), result -&gt; {\n                Intent intent = result.getData();\n                if(intent != null){\n                    Uri title = intent.getData();\n                    recordList.clear();\n                    db = Room.databaseBuilder(getContext().getApplicationContext(), DeckRoomDatabase.class, &quot;deck_database&quot;)\n                            .allowMainThreadQueries().build();\n                    deckDao = db.deckDao();\n                    List&lt;Deck&gt; decks = deckDao.getAllDecksForCSV();\n                    recordList = (ArrayList&lt;Deck&gt;) decks;\n                    if(title != null &amp;&amp; result.getResultCode() == RESULT_OK){\n                        try(BufferedWriter writer = new BufferedWriter(\n                                new OutputStreamWriter(\n                                        getContext().getContentResolver().openOutputStream(title)))){\n\n                            for(int i = 0; i &lt; recordList.size(); i++){\n                                writer.append(&quot;&quot; + recordList.get(i).getName());\n                                writer.append(&quot;,&quot;);\n                                writer.append(&quot;&quot; + recordList.get(i).getListCount());\n                                writer.append(&quot;,&quot;);\n                                writer.append(&quot;&quot; + recordList.get(i).getDateTime());\n                                writer.append(&quot;,&quot;);\n                                writer.append(&quot;&quot; + recordList.get(i).getParameter());\n                                writer.append(&quot;\\n&quot;);\n                            }\n                            writer.flush();\n                            writer.close();\n                            Toast.makeText(this.getContext(), &quot;Backup Export to:&quot; + title.toString(), Toast.LENGTH_SHORT).show();\n                        } catch (IOException e){\n                            e.printStackTrace();\n                            Toast.makeText(this.getContext(), &quot;&quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                }\n    });\n</code></pre>\n<p>ActivityResultLaunche:import</p>\n<pre><code>ActivityResultLauncher&lt;Intent&gt; startForImportResult = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(), result -&gt; {\n                Intent intent = result.getData();\n                if(intent != null){\n                    Uri uri = intent.getData();\n                    if(uri != null &amp;&amp; result.getResultCode() == RESULT_OK){\n                        try(BufferedReader reader = new BufferedReader(\n                                new InputStreamReader(\n                                        getContext().getContentResolver().openInputStream(uri)))){\n                            String line;\n                            while ((line = reader.readLine()) != null){\n                                String[] nextLine = line.split(&quot;,&quot;, 4);\n                                if(nextLine.length != 4) {\n                                    continue;\n                                }\n                                    String name = nextLine[0];\n                                    String listCount = nextLine[1];\n                                    String dateTime = nextLine[2];\n                                    String parameter = nextLine[3];\n\n                                    deckDao.insertDeck(new Deck(name, Integer.parseInt(listCount), LocalDateTime.parse(dateTime),\n                                            Integer.parseInt(parameter)));\n                            }\n\n                            Toast.makeText(this.getContext(), &quot;Backup Restored...&quot;, Toast.LENGTH_SHORT).show();\n                        }\n                        catch (Exception e){\n                            Toast.makeText(this.getContext(), &quot;&quot; + e, Toast.LENGTH_SHORT).show();\n                        }\n                    }\n                }\n            });\n</code></pre>\n"},{"tags":["java","types","annotation-processing"],"comments":[{"owner":{"account_id":463176,"reputation":2496,"user_id":865910,"accept_rate":73,"display_name":"Ordiel"},"score":2,"creation_date":1422169144,"post_id":7687829,"comment_id":44640454,"body_markdown":"Not many people ask this kind of questions, but for those of us who lives in the (Java) Tartarus, the support of others turns to be very useful","body":"Not many people ask this kind of questions, but for those of us who lives in the (Java) Tartarus, the support of others turns to be very useful"}],"answers":[{"comments":[{"owner":{"account_id":34148,"reputation":31824,"user_id":96233,"accept_rate":98,"display_name":"Ralph"},"score":1,"creation_date":1317995314,"post_id":7688029,"comment_id":9346141,"body_markdown":"That may do the trick, although &quot;duct tape and chewing gum&quot; come to mind. BTW, cool username :-).","body":"That may do the trick, although &quot;duct tape and chewing gum&quot; come to mind. BTW, cool username :-)."}],"tags":[],"owner":{"account_id":104911,"reputation":119222,"user_id":280244,"accept_rate":81,"display_name":"Ralph"},"comment_count":1,"down_vote_count":0,"up_vote_count":33,"is_accepted":true,"score":33,"last_activity_date":1317994503,"creation_date":1317994503,"answer_id":7688029,"question_id":7687829,"body_markdown":"Have you read this article: http://blog.retep.org/2009/02/13/getting-class-values-from-annotations-in-an-annotationprocessor/  ?\r\n\r\n&gt;There the trick is to actually use getAnnotation() and catch the MirroredTypeException. Surprisingly the exception then provides the TypeMirror of the required class.\r\n\r\nI don&#39;t know if this is a good solution, but it is one. In my personal opinion I would try to get the type behind the MirroredType, but I don&#39;t know if this is possible.","title":"Java 6 annotation processing -- getting a class from an annotation","body":"<p>Have you read this article: <a href=\"http://blog.retep.org/2009/02/13/getting-class-values-from-annotations-in-an-annotationprocessor/\" rel=\"noreferrer\">http://blog.retep.org/2009/02/13/getting-class-values-from-annotations-in-an-annotationprocessor/</a>  ?</p>\n\n<blockquote>\n  <p>There the trick is to actually use getAnnotation() and catch the MirroredTypeException. Surprisingly the exception then provides the TypeMirror of the required class.</p>\n</blockquote>\n\n<p>I don't know if this is a good solution, but it is one. In my personal opinion I would try to get the type behind the MirroredType, but I don't know if this is possible.</p>\n"},{"comments":[{"owner":{"account_id":375655,"reputation":691,"user_id":726638,"accept_rate":88,"display_name":"gorodechnyj"},"score":0,"creation_date":1401358989,"post_id":10167558,"comment_id":36857173,"body_markdown":"I&#39;m stuck here as well. Could you publish a gist with your helper if you did any, please?","body":"I&#39;m stuck here as well. Could you publish a gist with your helper if you did any, please?"},{"owner":{"account_id":176808,"reputation":41960,"user_id":407731,"accept_rate":77,"display_name":"Dave Dopson"},"score":1,"creation_date":1401993185,"post_id":10167558,"comment_id":37112930,"body_markdown":"@gorodechnyj - here&#39;s the code I was writing at the time: https://github.com/ddopson/EpicFramework/blob/uiv2/EpicBuilder/src/com/epic/framework/build/EpicAnnotationProcessor.java  Feel free to dig through it and steal liberally.","body":"@gorodechnyj - here&#39;s the code I was writing at the time: <a href=\"https://github.com/ddopson/EpicFramework/blob/uiv2/EpicBuilder/src/com/epic/framework/build/EpicAnnotationProcessor.java\" rel=\"nofollow noreferrer\">github.com/ddopson/EpicFramework/blob/uiv2/EpicBuilder/src/c&zwnj;&#8203;om/&hellip;</a>  Feel free to dig through it and steal liberally."},{"owner":{"account_id":1850603,"reputation":912,"user_id":1677222,"display_name":"Mohamed El-Beltagy"},"score":2,"creation_date":1532918574,"post_id":10167558,"comment_id":90138065,"body_markdown":"I think that +1 is not enough for this answer. It should be +10.","body":"I think that +1 is not enough for this answer. It should be +10."},{"owner":{"account_id":176808,"reputation":41960,"user_id":407731,"accept_rate":77,"display_name":"Dave Dopson"},"score":1,"creation_date":1533055008,"post_id":10167558,"comment_id":90201941,"body_markdown":"@MohamedEl-Beltagy - Thanks so much for your kind words!","body":"@MohamedEl-Beltagy - Thanks so much for your kind words!"},{"owner":{"account_id":2190755,"reputation":2297,"user_id":1937872,"accept_rate":75,"display_name":"Lukasz"},"score":0,"creation_date":1548962576,"post_id":10167558,"comment_id":95743537,"body_markdown":"This is great stuff. I can only concur @MohamedEl-Beltagy. Here is another great article on the same topic for anyone interested. http://hauchee.blogspot.com/2015/12/compile-time-annotation-processing-getting-class-value.html","body":"This is great stuff. I can only concur @MohamedEl-Beltagy. Here is another great article on the same topic for anyone interested. <a href=\"http://hauchee.blogspot.com/2015/12/compile-time-annotation-processing-getting-class-value.html\" rel=\"nofollow noreferrer\">hauchee.blogspot.com/2015/12/&hellip;</a>"},{"owner":{"account_id":24287116,"reputation":408,"user_id":18232723,"display_name":"kylie.zoltan"},"score":0,"creation_date":1666012299,"post_id":10167558,"comment_id":130827359,"body_markdown":"@DaveDopson class `com.sun.tools.javac.code.Attribute$Class cannot be cast to class javax.lang.model.type.TypeMirror`","body":"@DaveDopson class <code>com.sun.tools.javac.code.Attribute$Class cannot be cast to class javax.lang.model.type.TypeMirror</code>"}],"tags":[],"owner":{"account_id":176808,"reputation":41960,"user_id":407731,"accept_rate":77,"display_name":"Dave Dopson"},"comment_count":6,"down_vote_count":0,"up_vote_count":65,"is_accepted":false,"score":65,"last_activity_date":1468763329,"creation_date":1334537787,"answer_id":10167558,"question_id":7687829,"body_markdown":"I came here to ask the EXACT same question. ... and found the same [blog link](http://blog.retep.org/2009/02/13/getting-class-values-from-annotations-in-an-annotationprocessor/) posted by Ralph.\r\n\r\nIt&#39;s a long article, but very rich.  Summary of the story -- there&#39;s two ways to do it, the easy way, and the &quot;more right&quot; way.\r\n\r\nThis is the easy way:\r\n\r\n    private static TypeMirror getMyValue1(MyAnnotation annotation) {\r\n        try\r\n        {\r\n            annotation.myValue(); // this should throw\r\n        }\r\n        catch( MirroredTypeException mte )\r\n        {\r\n            return mte.getTypeMirror();\r\n        }\r\n        return null; // can this ever happen ??\r\n    }\r\n\r\n\r\nThe other more tedious way (without exceptions):\r\n\r\n    private static AnnotationMirror getAnnotationMirror(TypeElement typeElement, Class&lt;?&gt; clazz) {\r\n\t\tString clazzName = clazz.getName();\r\n\t\tfor(AnnotationMirror m : typeElement.getAnnotationMirrors()) {\r\n\t\t\tif(m.getAnnotationType().toString().equals(clazzName)) {\r\n\t\t\t\treturn m;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n\tprivate static AnnotationValue getAnnotationValue(AnnotationMirror annotationMirror, String key) {\r\n\t\tfor(Entry&lt;? extends ExecutableElement, ? extends AnnotationValue&gt; entry : annotationMirror.getElementValues().entrySet() ) {\r\n\t\t\tif(entry.getKey().getSimpleName().toString().equals(key)) {\r\n\t\t\t\treturn entry.getValue();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\r\n    public TypeMirror getMyValue2(TypeElement foo) {\r\n        AnnotationMirror am = getAnnotationMirror(foo, MyAnnotation.class);\r\n        if(am == null) {\r\n            return null;\r\n        }\r\n        AnnotationValue av = getAnnotationValue(am, &quot;myValue&quot;);\r\n        if(av == null) {\r\n            return null;\r\n        } else {\r\n            return (TypeMirror)av.getValue();\r\n        }\r\n    }\r\n\r\n\r\nOf course, once you get a TypeMirror, you (at least in my experience) pretty much always want a TypeElement instead:\r\n\r\n    private TypeElement asTypeElement(TypeMirror typeMirror) {\r\n        Types TypeUtils = this.processingEnv.getTypeUtils();\r\n        return (TypeElement)TypeUtils.asElement(typeMirror);\r\n    }\r\n\r\n... that last little non-obvious bit took me an hour of hair pulling before I sorted it out the first time.  These annotation processors are actually not that hard to write at all, the API&#39;s are just super confusing at first and mindbendingly verbose.  I&#39;m tempted to put out a helper class that makes all the basic operations obvious ... but that&#39;s a story for another day (msg me if you want it).\r\n","title":"Java 6 annotation processing -- getting a class from an annotation","body":"<p>I came here to ask the EXACT same question. ... and found the same <a href=\"http://blog.retep.org/2009/02/13/getting-class-values-from-annotations-in-an-annotationprocessor/\" rel=\"noreferrer\">blog link</a> posted by Ralph.</p>\n\n<p>It's a long article, but very rich.  Summary of the story -- there's two ways to do it, the easy way, and the \"more right\" way.</p>\n\n<p>This is the easy way:</p>\n\n<pre><code>private static TypeMirror getMyValue1(MyAnnotation annotation) {\n    try\n    {\n        annotation.myValue(); // this should throw\n    }\n    catch( MirroredTypeException mte )\n    {\n        return mte.getTypeMirror();\n    }\n    return null; // can this ever happen ??\n}\n</code></pre>\n\n<p>The other more tedious way (without exceptions):</p>\n\n<pre><code>private static AnnotationMirror getAnnotationMirror(TypeElement typeElement, Class&lt;?&gt; clazz) {\n    String clazzName = clazz.getName();\n    for(AnnotationMirror m : typeElement.getAnnotationMirrors()) {\n        if(m.getAnnotationType().toString().equals(clazzName)) {\n            return m;\n        }\n    }\n    return null;\n}\n\nprivate static AnnotationValue getAnnotationValue(AnnotationMirror annotationMirror, String key) {\n    for(Entry&lt;? extends ExecutableElement, ? extends AnnotationValue&gt; entry : annotationMirror.getElementValues().entrySet() ) {\n        if(entry.getKey().getSimpleName().toString().equals(key)) {\n            return entry.getValue();\n        }\n    }\n    return null;\n}\n\n\npublic TypeMirror getMyValue2(TypeElement foo) {\n    AnnotationMirror am = getAnnotationMirror(foo, MyAnnotation.class);\n    if(am == null) {\n        return null;\n    }\n    AnnotationValue av = getAnnotationValue(am, \"myValue\");\n    if(av == null) {\n        return null;\n    } else {\n        return (TypeMirror)av.getValue();\n    }\n}\n</code></pre>\n\n<p>Of course, once you get a TypeMirror, you (at least in my experience) pretty much always want a TypeElement instead:</p>\n\n<pre><code>private TypeElement asTypeElement(TypeMirror typeMirror) {\n    Types TypeUtils = this.processingEnv.getTypeUtils();\n    return (TypeElement)TypeUtils.asElement(typeMirror);\n}\n</code></pre>\n\n<p>... that last little non-obvious bit took me an hour of hair pulling before I sorted it out the first time.  These annotation processors are actually not that hard to write at all, the API's are just super confusing at first and mindbendingly verbose.  I'm tempted to put out a helper class that makes all the basic operations obvious ... but that's a story for another day (msg me if you want it).</p>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536582704,"creation_date":1536582704,"answer_id":52257877,"question_id":7687829,"body_markdown":"My answer is basically the same as that from Dave Dopson, only the code was changed a bit:\r\n\r\n    public default Optional&lt;? extends AnnotationMirror&gt; getAnnotationMirror( final Element element, final Class&lt;? extends Annotation&gt; annotationClass )\r\n    {\r\n        final var annotationClassName = annotationClass.getName();\r\n        final Optional&lt;? extends AnnotationMirror&gt; retValue = element.getAnnotationMirrors().stream()\r\n            .filter( m -&gt; m.getAnnotationType().toString().equals( annotationClassName ) )\r\n            .findFirst();\r\n        \r\n        return retValue;\r\n    }\r\nHis code used `TypeElement` as the type for the first argument of `getAnnotationMirror()`, limiting the use of the method for classes only. Changing that to `Element` makes it useable for any annotated element.\r\nUsing an implementation based on streams instead of the original `for` loop is just a matter of taste.\r\n\r\n    public default Optional&lt;? extends AnnotationValue&gt; getAnnotationValue( final AnnotationMirror annotationMirror, final String name )\r\n    {\r\n        final Elements elementUtils = this.processingEnv.getElementUtils();\r\n        final Map&lt;? extends ExecutableElement, ? extends AnnotationValue&gt; elementValues = elementUtils.getElementValuesWithDefaults( annotationMirror );\r\n        final Optional&lt;? extends AnnotationValue&gt; retValue = elementValues.keySet().stream()\r\n            .filter( k -&gt; k.getSimpleName().toString().equals( name ) )\r\n            .map( k -&gt; elementValues.get( k ) )\r\n            .findAny();\r\n\r\n        return retValue;\r\n    }\r\nDave used `Element.getElementValues()` to get the annotation values, but this returns only those values that were explicitly applied to the concrete annotation. The defaults will be omitted.\r\nThe method `Elements.getElementValuesWithDefaults()` will return also the defaults (as you may have guessed already from the name of it).","title":"Java 6 annotation processing -- getting a class from an annotation","body":"<p>My answer is basically the same as that from Dave Dopson, only the code was changed a bit:</p>\n\n<pre><code>public default Optional&lt;? extends AnnotationMirror&gt; getAnnotationMirror( final Element element, final Class&lt;? extends Annotation&gt; annotationClass )\n{\n    final var annotationClassName = annotationClass.getName();\n    final Optional&lt;? extends AnnotationMirror&gt; retValue = element.getAnnotationMirrors().stream()\n        .filter( m -&gt; m.getAnnotationType().toString().equals( annotationClassName ) )\n        .findFirst();\n\n    return retValue;\n}\n</code></pre>\n\n<p>His code used <code>TypeElement</code> as the type for the first argument of <code>getAnnotationMirror()</code>, limiting the use of the method for classes only. Changing that to <code>Element</code> makes it useable for any annotated element.\nUsing an implementation based on streams instead of the original <code>for</code> loop is just a matter of taste.</p>\n\n<pre><code>public default Optional&lt;? extends AnnotationValue&gt; getAnnotationValue( final AnnotationMirror annotationMirror, final String name )\n{\n    final Elements elementUtils = this.processingEnv.getElementUtils();\n    final Map&lt;? extends ExecutableElement, ? extends AnnotationValue&gt; elementValues = elementUtils.getElementValuesWithDefaults( annotationMirror );\n    final Optional&lt;? extends AnnotationValue&gt; retValue = elementValues.keySet().stream()\n        .filter( k -&gt; k.getSimpleName().toString().equals( name ) )\n        .map( k -&gt; elementValues.get( k ) )\n        .findAny();\n\n    return retValue;\n}\n</code></pre>\n\n<p>Dave used <code>Element.getElementValues()</code> to get the annotation values, but this returns only those values that were explicitly applied to the concrete annotation. The defaults will be omitted.\nThe method <code>Elements.getElementValuesWithDefaults()</code> will return also the defaults (as you may have guessed already from the name of it).</p>\n"},{"comments":[{"owner":{"account_id":3568147,"reputation":1152,"user_id":2979171,"accept_rate":88,"display_name":"Alireza Sharifi"},"score":0,"creation_date":1563340394,"post_id":52793839,"comment_id":100661766,"body_markdown":"`Class&lt;?&gt;[] value() default {};`  exactly what i was looking for!","body":"<code>Class&lt;?&gt;[] value() default {};</code>  exactly what i was looking for!"}],"tags":[],"owner":{"account_id":1654043,"reputation":2659,"user_id":1524027,"display_name":"mnesarco"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539440111,"creation_date":1539440111,"answer_id":52793839,"question_id":7687829,"body_markdown":"This is my trick:\r\n\r\n    public class APUtils {\r\n      \r\n      @FunctionalInterface\r\n      public interface GetClassValue {\r\n        void execute() throws MirroredTypeException, MirroredTypesException;\r\n      }\r\n      \r\n      public static List&lt;? extends TypeMirror&gt; getTypeMirrorFromAnnotationValue(GetClassValue c) {\r\n        try {\r\n          c.execute();\r\n        }\r\n        catch(MirroredTypesException ex) {\r\n          return ex.getTypeMirrors();\r\n        }\r\n        return null;\r\n      }\r\n      \r\n    }\r\n\r\nThen I can use with any Annotation value:\r\n\r\n    public @interface MyAnnotationType {\r\n      public Class&lt;?&gt;[] value() default {};\r\n    }\r\n\r\nExample\r\n\r\n    @MyAnnotationType(String.class)\r\n    public class Test { ... }\r\n\r\nUsage in annotation processor\r\n\r\n    MyAnnotationType a = element.getAnnotation(MyAnnotationType.class);\r\n    List&lt;? extends TypeMirror&gt; types = APUtils.getTypeMirrorFromAnnotationValue(() -&gt; a.value());\r\n\r\n\r\nTested with JDK 1.8.0_192","title":"Java 6 annotation processing -- getting a class from an annotation","body":"<p>This is my trick:</p>\n\n<pre><code>public class APUtils {\n\n  @FunctionalInterface\n  public interface GetClassValue {\n    void execute() throws MirroredTypeException, MirroredTypesException;\n  }\n\n  public static List&lt;? extends TypeMirror&gt; getTypeMirrorFromAnnotationValue(GetClassValue c) {\n    try {\n      c.execute();\n    }\n    catch(MirroredTypesException ex) {\n      return ex.getTypeMirrors();\n    }\n    return null;\n  }\n\n}\n</code></pre>\n\n<p>Then I can use with any Annotation value:</p>\n\n<pre><code>public @interface MyAnnotationType {\n  public Class&lt;?&gt;[] value() default {};\n}\n</code></pre>\n\n<p>Example</p>\n\n<pre><code>@MyAnnotationType(String.class)\npublic class Test { ... }\n</code></pre>\n\n<p>Usage in annotation processor</p>\n\n<pre><code>MyAnnotationType a = element.getAnnotation(MyAnnotationType.class);\nList&lt;? extends TypeMirror&gt; types = APUtils.getTypeMirrorFromAnnotationValue(() -&gt; a.value());\n</code></pre>\n\n<p>Tested with JDK 1.8.0_192</p>\n"}],"owner":{"account_id":34148,"reputation":31824,"user_id":96233,"accept_rate":98,"display_name":"Ralph"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20062,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":7688029,"answer_count":4,"score":60,"last_activity_date":1682040453,"creation_date":1317993541,"question_id":7687829,"body_markdown":"I have an custom annotation called @Pojo which I use for automatic wiki documentation generation:\r\n\r\n    package com.example.annotations;\r\n    \r\n    import java.lang.annotation.ElementType;\r\n    import java.lang.annotation.Retention;\r\n    import java.lang.annotation.RetentionPolicy;\r\n    import java.lang.annotation.Target;\r\n    \r\n    @Retention(RetentionPolicy.SOURCE)\r\n    @Target(ElementType.METHOD)\r\n    public @interface Pojo {\r\n        Class&lt;?&gt; value();\r\n    }\r\n\r\nI use it like this:\r\n\r\n    @Pojo(com.example.restserver.model.appointment.Appointment.class)\r\n\r\nto annotation a resource method so that the annotation processor can automatically generate a wiki page describing the resource and type that it expects.\r\n\r\nI need to read the value of the `value` field in an annotation processor, but I am getting a runtime error.\r\n\r\nIn the source code for my processor I have the following lines:\r\n\r\n    final Pojo pojo = element.getAnnotation(Pojo.class);\r\n    // ...\r\n    final Class&lt;?&gt; pojoJavaClass = pojo.value();\r\n\r\nbut the actual class in not available to the processor. I think I need a `javax.lang.model.type.TypeMirror` instead as a surrogate for the real class. I&#39;m not sure how to get one.\r\n\r\nThe error I am getting is:\r\n\r\n    javax.lang.model.type.MirroredTypeException: Attempt to access Class object for TypeMirror com.example.restserver.model.appointment.Appointment\r\n\r\nThe `Appointment` is a class mentioned in one of my `@Pojo` annotation.\r\n\r\nUnfortunately, document and/or tutorials on Java annotation processing seems scarce. Tried googling.\r\n","title":"Java 6 annotation processing -- getting a class from an annotation","body":"<p>I have an custom annotation called @Pojo which I use for automatic wiki documentation generation:</p>\n\n<pre><code>package com.example.annotations;\n\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.SOURCE)\n@Target(ElementType.METHOD)\npublic @interface Pojo {\n    Class&lt;?&gt; value();\n}\n</code></pre>\n\n<p>I use it like this:</p>\n\n<pre><code>@Pojo(com.example.restserver.model.appointment.Appointment.class)\n</code></pre>\n\n<p>to annotation a resource method so that the annotation processor can automatically generate a wiki page describing the resource and type that it expects.</p>\n\n<p>I need to read the value of the <code>value</code> field in an annotation processor, but I am getting a runtime error.</p>\n\n<p>In the source code for my processor I have the following lines:</p>\n\n<pre><code>final Pojo pojo = element.getAnnotation(Pojo.class);\n// ...\nfinal Class&lt;?&gt; pojoJavaClass = pojo.value();\n</code></pre>\n\n<p>but the actual class in not available to the processor. I think I need a <code>javax.lang.model.type.TypeMirror</code> instead as a surrogate for the real class. I'm not sure how to get one.</p>\n\n<p>The error I am getting is:</p>\n\n<pre><code>javax.lang.model.type.MirroredTypeException: Attempt to access Class object for TypeMirror com.example.restserver.model.appointment.Appointment\n</code></pre>\n\n<p>The <code>Appointment</code> is a class mentioned in one of my <code>@Pojo</code> annotation.</p>\n\n<p>Unfortunately, document and/or tutorials on Java annotation processing seems scarce. Tried googling.</p>\n"},{"tags":["java","model-view-controller","observer-pattern"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1682040318,"post_id":76069266,"comment_id":134157050,"body_markdown":"Where is `send` being called from?  If `send` throw the Exception you could catch it and print the message from where it is caught.","body":"Where is <code>send</code> being called from?  If <code>send</code> throw the Exception you could catch it and print the message from where it is caught."},{"owner":{"account_id":20400329,"reputation":23,"user_id":14966197,"display_name":"flurp.potatis"},"score":0,"creation_date":1682338507,"post_id":76069266,"comment_id":134194305,"body_markdown":"Its called from another class called GUIController. And it worked, ty!","body":"Its called from another class called GUIController. And it worked, ty!"}],"owner":{"account_id":20400329,"reputation":23,"user_id":14966197,"display_name":"flurp.potatis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682039975,"creation_date":1682039975,"question_id":76069266,"body_markdown":"I should begin to say that I am quite new to Java. I am trying to write a simple chat program and thought it would be nice to have &quot;popup&quot; messages, for example if the intended message did not send or if the input was invalid etc. I handle most of the visual updates via observer-patterns, however I need to alter a Field in a class called GUIModel, from my ClientModel - the names are less relevant - which should not be coupled as far as I have understood it (since both are of type Model in a MVC system which i think should function independently).\r\n\r\nHere are some snippets of my code:\r\n\r\n\r\n```\r\npublic class Model implements ObservableMsg, ObservableSysMsg {\r\n\r\n    private final ArrayList&lt;Message&gt; localHistory;\r\n    private final String userID;\r\n    private final ObservableMsgSupport obsMsg = new ObservableMsgSupport();\r\n    private final ObservableSysMsgSupport obsSMsg = new ObservableSysMsgSupport();\r\n\r\n    ...\r\n\r\n    public void send(String msg) {\r\n        try {\r\n            Message newMsg = new Message(msg, this.userID, new Date());\r\n            appendMsg(newMsg); //This is temporary until backend is implemented\r\n\r\n            obsMsg.updateMsg();\r\n\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;ERROR! Could not send msg.&quot;);\r\n            //TODO Here is an example of where a popup message might be called to appear\r\n\r\n            obsSMsg.updateSysMsg();\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\n    @Override\r\n    public void addObserver(ObserverMsg o) { obsMsg.addObserver(o); }\r\n\r\n    @Override\r\n    public void removeObserver(ObserverMsg o) { obsMsg.removeObserver(o); }\r\n\r\n    @Override\r\n    public void addObserver(ObserverSysMsg o) { obsSMsg.addObserver(o); }\r\n\r\n    @Override\r\n    public void removeObserver(ObserverSysMsg o) { obsSMsg.removeObserver(o); }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npublic class GUIModel implements SystemMsgHandler, ObservableSysMsg {\r\n\r\n    private final Set&lt;String&gt; systemMsgs;\r\n    private final ObservableSysMsgSupport obs = new ObservableSysMsgSupport();\r\n\r\n    public GUIModel() {\r\n        systemMsgs = new HashSet&lt;String&gt;();\r\n    }\r\n\r\n    @Override\r\n    public void addSystemMsg(String msg) {\r\n        systemMsgs.add(msg);\r\n        obs.updateSysMsg();\r\n    }\r\n\r\n    @Override\r\n    public void removeSystemMsg(String msg) {\r\n        systemMsgs.remove(msg);\r\n        obs.updateSysMsg();\r\n    }\r\n\r\n    @Override\r\n    public Set&lt;String&gt; getSystemMsgs() { return systemMsgs; }\r\n\r\n    @Override\r\n    public void addObserver(ObserverSysMsg o) {\r\n        obs.addObserver(o);\r\n    }\r\n\r\n    @Override\r\n    public void removeObserver(ObserverSysMsg o) {\r\n        obs.addObserver(o);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\npublic class GUIView implements ObserverMsg, ObserverSysMsg {\r\n    \r\n    ...\r\n\r\n    @Override\r\n    public void updateSysMsg() {\r\n        popupPanel.removeAll();\r\n        viewModel.getSystemMsgs().forEach(errMsg -&gt;\r\n                popupPanel.add(new ErrorPopup(viewModel, errMsg).getContentPane()));\r\n\r\n        this.frame.revalidate();\r\n        this.frame.repaint();\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nI have tried to use an observer-pattern and it might very well be possible to solve the problem in such a way. However - as you can see - also judging by the size of the program, it seems to be quite redundant to use three different observer-patterns, two of them only to add and remove the popup messages. Therefore I was wondering if there is a different way of solving this problem.\r\n\r\nThanks in advance.","title":"Is there a smart way to send a String between two classes that are not supposed to interract with eachother?","body":"<p>I should begin to say that I am quite new to Java. I am trying to write a simple chat program and thought it would be nice to have &quot;popup&quot; messages, for example if the intended message did not send or if the input was invalid etc. I handle most of the visual updates via observer-patterns, however I need to alter a Field in a class called GUIModel, from my ClientModel - the names are less relevant - which should not be coupled as far as I have understood it (since both are of type Model in a MVC system which i think should function independently).</p>\n<p>Here are some snippets of my code:</p>\n<pre><code>public class Model implements ObservableMsg, ObservableSysMsg {\n\n    private final ArrayList&lt;Message&gt; localHistory;\n    private final String userID;\n    private final ObservableMsgSupport obsMsg = new ObservableMsgSupport();\n    private final ObservableSysMsgSupport obsSMsg = new ObservableSysMsgSupport();\n\n    ...\n\n    public void send(String msg) {\n        try {\n            Message newMsg = new Message(msg, this.userID, new Date());\n            appendMsg(newMsg); //This is temporary until backend is implemented\n\n            obsMsg.updateMsg();\n\n        } catch (Exception e) {\n            System.out.println(&quot;ERROR! Could not send msg.&quot;);\n            //TODO Here is an example of where a popup message might be called to appear\n\n            obsSMsg.updateSysMsg();\n        }\n    }\n\n    ...\n\n    @Override\n    public void addObserver(ObserverMsg o) { obsMsg.addObserver(o); }\n\n    @Override\n    public void removeObserver(ObserverMsg o) { obsMsg.removeObserver(o); }\n\n    @Override\n    public void addObserver(ObserverSysMsg o) { obsSMsg.addObserver(o); }\n\n    @Override\n    public void removeObserver(ObserverSysMsg o) { obsSMsg.removeObserver(o); }\n}\n\n</code></pre>\n<pre><code>public class GUIModel implements SystemMsgHandler, ObservableSysMsg {\n\n    private final Set&lt;String&gt; systemMsgs;\n    private final ObservableSysMsgSupport obs = new ObservableSysMsgSupport();\n\n    public GUIModel() {\n        systemMsgs = new HashSet&lt;String&gt;();\n    }\n\n    @Override\n    public void addSystemMsg(String msg) {\n        systemMsgs.add(msg);\n        obs.updateSysMsg();\n    }\n\n    @Override\n    public void removeSystemMsg(String msg) {\n        systemMsgs.remove(msg);\n        obs.updateSysMsg();\n    }\n\n    @Override\n    public Set&lt;String&gt; getSystemMsgs() { return systemMsgs; }\n\n    @Override\n    public void addObserver(ObserverSysMsg o) {\n        obs.addObserver(o);\n    }\n\n    @Override\n    public void removeObserver(ObserverSysMsg o) {\n        obs.addObserver(o);\n    }\n}\n</code></pre>\n<pre><code>public class GUIView implements ObserverMsg, ObserverSysMsg {\n    \n    ...\n\n    @Override\n    public void updateSysMsg() {\n        popupPanel.removeAll();\n        viewModel.getSystemMsgs().forEach(errMsg -&gt;\n                popupPanel.add(new ErrorPopup(viewModel, errMsg).getContentPane()));\n\n        this.frame.revalidate();\n        this.frame.repaint();\n    }\n}\n\n</code></pre>\n<p>I have tried to use an observer-pattern and it might very well be possible to solve the problem in such a way. However - as you can see - also judging by the size of the program, it seems to be quite redundant to use three different observer-patterns, two of them only to add and remove the popup messages. Therefore I was wondering if there is a different way of solving this problem.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":0,"creation_date":1678554592,"post_id":75705378,"comment_id":133556765,"body_markdown":"The only reason that comes to mind is possibly a version difference : common is at version 2, service A uses version 2 of common but B uses version 1. Otherwise, without the project, it&#39;s hard to tell.","body":"The only reason that comes to mind is possibly a version difference : common is at version 2, service A uses version 2 of common but B uses version 1. Otherwise, without the project, it&#39;s hard to tell."},{"owner":{"account_id":22633316,"reputation":31,"user_id":16810443,"display_name":"xiaotan"},"score":0,"creation_date":1678691070,"post_id":75705378,"comment_id":133575510,"body_markdown":"Common version is same, the project is new for this problem.\n\nBoth serviceA and serviceB, the build.gradle are the following\n\ndependencies {\n    compile project(&quot;:pj-common&quot;)\n}","body":"Common version is same, the project is new for this problem.  Both serviceA and serviceB, the build.gradle are the following  dependencies {     compile project(&quot;:pj-common&quot;) }"},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1678765329,"post_id":75705378,"comment_id":133592839,"body_markdown":"It&#39;s hard to say what the problem is without a project. Maybe you could use the IDE main menu `Help | Contact Support` to contact the IDEA support team with a sample project attached for checking. Normally, you should create a multi-module Gradle project with a parent module and include the common, serviceA, serviceB modules in it and let the serviceA and serviceB depend on the common module so the Find Usage would work.","body":"It&#39;s hard to say what the problem is without a project. Maybe you could use the IDE main menu <code>Help | Contact Support</code> to contact the IDEA support team with a sample project attached for checking. Normally, you should create a multi-module Gradle project with a parent module and include the common, serviceA, serviceB modules in it and let the serviceA and serviceB depend on the common module so the Find Usage would work."},{"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"score":0,"creation_date":1679364657,"post_id":75705378,"comment_id":133705104,"body_markdown":"Could you show, please, the whole structure of the project with the usage, e.g. [#1](https://stackoverflow.com/q/347551/8370915) or [#2](https://stackoverflow.com/a/61565622/8370915) (tree) with content inside each of class accordingly (instead of screen)? It&#39;d would be more informative to reproduce your issue.","body":"Could you show, please, the whole structure of the project with the usage, e.g. <a href=\"https://stackoverflow.com/q/347551/8370915\">#1</a> or <a href=\"https://stackoverflow.com/a/61565622/8370915\">#2</a> (tree) with content inside each of class accordingly (instead of screen)? It&#39;d would be more informative to reproduce your issue."},{"owner":{"account_id":22633316,"reputation":31,"user_id":16810443,"display_name":"xiaotan"},"score":1,"creation_date":1679554790,"post_id":75705378,"comment_id":133743164,"body_markdown":"I add more details. If it&#39;s not clear yet, I&#39;ll put the code on GitHub on the weekend and post the link.","body":"I add more details. If it&#39;s not clear yet, I&#39;ll put the code on GitHub on the weekend and post the link."}],"answers":[{"comments":[{"owner":{"account_id":22633316,"reputation":31,"user_id":16810443,"display_name":"xiaotan"},"score":1,"creation_date":1685442586,"post_id":76068926,"comment_id":134657115,"body_markdown":"Thank you for the answer. Double Shift is vaild, but it is just working in the static method. If the method is object(the variable name will be different in different code), and the  and other class also has the same name method. The double Shift find usages is not good in these conditions. I find the solution for this problem, make the three project as a project, it is the gradle problem. You can see it in new fix on my github. https://github.com/xiaotanwo/pj","body":"Thank you for the answer. Double Shift is vaild, but it is just working in the static method. If the method is object(the variable name will be different in different code), and the  and other class also has the same name method. The double Shift find usages is not good in these conditions. I find the solution for this problem, make the three project as a project, it is the gradle problem. You can see it in new fix on my github. <a href=\"https://github.com/xiaotanwo/pj\" rel=\"nofollow noreferrer\">github.com/xiaotanwo/pj</a>"}],"tags":[],"owner":{"account_id":11389854,"reputation":6022,"user_id":8370915,"display_name":"invzbl3"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682039015,"creation_date":1682034305,"answer_id":76068926,"question_id":75705378,"body_markdown":"I&#39;ve reproduced this specific [bug][1] using Java `8` &amp; Gradle `4.1`/`7.1` &amp; Windows `10`.\r\n\r\nUsed &amp; tested `Intellij IDEA` versions:\r\n\r\n`Intellij IDEA` version `2023.1` Gradle `7.1` / Gradle `4.1` : (displays only one of the presented methods)\r\n\r\n`Intellij IDEA` version `2022.3.3` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2022.2.5` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2022.1.4` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2021.3.3` Gradle `7.1` / Gradle `4.1` : (displays only one of the presented methods)\r\n\r\n`Intellij IDEA` version `2021.2.4` Gradle `7.1` / Gradle `4.1` : (displays only one of the presented methods)\r\n\r\n`Intellij IDEA` version `2021.1.3` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2020.3.4` Gradle `7.1` / Gradle `4.1` : (displays only one of the presented methods)\r\n\r\n`Intellij IDEA` version `2020.2.4` Gradle `7.1` / Gradle `4.1` : (displays only one of the presented methods)\r\n\r\n`Intellij IDEA` version `2020.1.4` Gradle `7.1` / Gradle `4.1` : (displays only one of the presented methods)\r\n\r\n`Intellij IDEA` version `2019.3.5` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2019.2.4` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2019.1.4` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2018.3.6` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2018.2.8` Gradle `7.1` / Gradle `4.1` : (displays only one of the presented methods)\r\n\r\n`Intellij IDEA` version `2018.1.8` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2017.3.7` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2017.2.7` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2017.1.6` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n    \r\n`Intellij IDEA` version `2016.3.8` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\n`Intellij IDEA` version `2016.2.5` Gradle `7.1` / Gradle `4.1` : (doesn&#39;t display matches at all)\r\n\r\n`Intellij IDEA` version `2016.1.4` Gradle `7.1` / Gradle `4.1` : (does not display matches at all)\r\n\r\nAs a possible workaround of it, you can use the combination `Ctrl` + `Shift` + `F`:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd the result will be displaying all usages, as you need per requirements. By typing, for instance, either `StringUtil.print` or simply `print`. It depends on your needs, of course.\r\n\r\n(For testing purposes I used `Intellij IDEA` version as `2022.3.3`)\r\n\r\n*`Additional`* &amp; *`helpful`* information:\r\n\r\n * `Invalidate Caches` -&gt; `Clear file system cache and Local History` didn&#39;t work for me.\r\n * `Double Shift` didn&#39;t work for me also.\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-317570/Cannot-find-all-usages-of-base-method-in-Project-Files\r\n  [2]: https://i.stack.imgur.com/Y4OHT.png","title":"IntelliJ IDEA find usage for multiple projects","body":"<p>I've reproduced this specific <a href=\"https://youtrack.jetbrains.com/issue/IDEA-317570/Cannot-find-all-usages-of-base-method-in-Project-Files\" rel=\"nofollow noreferrer\">bug</a> using Java <code>8</code> &amp; Gradle <code>4.1</code>/<code>7.1</code> &amp; Windows <code>10</code>.</p>\n<p>Used &amp; tested <code>Intellij IDEA</code> versions:</p>\n<p><code>Intellij IDEA</code> version <code>2023.1</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (displays only one of the presented methods)</p>\n<p><code>Intellij IDEA</code> version <code>2022.3.3</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2022.2.5</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2022.1.4</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2021.3.3</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (displays only one of the presented methods)</p>\n<p><code>Intellij IDEA</code> version <code>2021.2.4</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (displays only one of the presented methods)</p>\n<p><code>Intellij IDEA</code> version <code>2021.1.3</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2020.3.4</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (displays only one of the presented methods)</p>\n<p><code>Intellij IDEA</code> version <code>2020.2.4</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (displays only one of the presented methods)</p>\n<p><code>Intellij IDEA</code> version <code>2020.1.4</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (displays only one of the presented methods)</p>\n<p><code>Intellij IDEA</code> version <code>2019.3.5</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2019.2.4</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2019.1.4</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2018.3.6</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2018.2.8</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (displays only one of the presented methods)</p>\n<p><code>Intellij IDEA</code> version <code>2018.1.8</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2017.3.7</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2017.2.7</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2017.1.6</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2016.3.8</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2016.2.5</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (doesn't display matches at all)</p>\n<p><code>Intellij IDEA</code> version <code>2016.1.4</code> Gradle <code>7.1</code> / Gradle <code>4.1</code> : (does not display matches at all)</p>\n<p>As a possible workaround of it, you can use the combination <code>Ctrl</code> + <code>Shift</code> + <code>F</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/Y4OHT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y4OHT.png\" alt=\"enter image description here\" /></a></p>\n<p>And the result will be displaying all usages, as you need per requirements. By typing, for instance, either <code>StringUtil.print</code> or simply <code>print</code>. It depends on your needs, of course.</p>\n<p>(For testing purposes I used <code>Intellij IDEA</code> version as <code>2022.3.3</code>)</p>\n<p><em><code>Additional</code></em> &amp; <em><code>helpful</code></em> information:</p>\n<ul>\n<li><code>Invalidate Caches</code> -&gt; <code>Clear file system cache and Local History</code> didn't work for me.</li>\n<li><code>Double Shift</code> didn't work for me also.</li>\n</ul>\n"}],"owner":{"account_id":22633316,"reputation":31,"user_id":16810443,"display_name":"xiaotan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682039015,"creation_date":1678542484,"question_id":75705378,"body_markdown":"In multiple project, IDEA can&#39;t find the all usages of the common project method and just found one of them which uses it. How to find usage across projects?\r\n\r\nThe version:\r\n\r\nIntelliJ IDEA Community Edition `2022.2.3`\r\n\r\ngradle-`4.1`\r\n\r\nThe project:\r\n\r\n[![projct folder](https://i.stack.imgur.com/CV8PK.png)](https://i.stack.imgur.com/CV8PK.png)\r\n\r\nWe can see the usage shows just the `pj-serviceA` project, but `pj-serviceB` is also using the pj-common method.\r\n\r\ncode:\r\n\r\n*pj-common*:\r\n\r\n```\r\npackage com.pj.common;\r\n\r\npublic class StringUtil {\r\n    public static void print(String string) {\r\n        System.out.println(string);\r\n    }\r\n}\r\n```\r\n\r\n*pj-serviceA*:\r\n\r\n```\r\npackage com.pj.serviceA;\r\n\r\nimport com.pj.common.StringUtil;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        StringUtil.print(&quot;A&quot;);\r\n    }\r\n}\r\n```\r\n\r\n*pj-serviceB*:\r\n\r\n```\r\npackage com.pj.serviceB;\r\n\r\nimport com.pj.common.StringUtil;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        StringUtil.print(&quot;B&quot;);\r\n    }\r\n}\r\n```\r\n\r\nthe `pj-serviceA` and `pj-serviceB` all can run.\r\n\r\nThe problem:\r\n\r\n[![only found one project](https://i.stack.imgur.com/LLzKa.png)](https://i.stack.imgur.com/LLzKa.png)\r\n\r\nI want to find all the usages.\r\n\r\nI invalidate all the caches, but can&#39;t solve it.\r\n\r\nThe project structure:\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n[![enter image description here][5]][5]\r\n\r\nThe running result:\r\n\r\n[![enter image description here][6]][6]\r\n[![enter image description here][7]][7]\r\n\r\n\r\nIf it&#39;s not clear yet, I&#39;ll put the code on GitHub on the weekend and post the link. \r\n\r\n\r\nGithub:\r\n[https://github.com/xiaotanwo/pj][8]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9HW6K.png\r\n  [2]: https://i.stack.imgur.com/syK5G.png\r\n  [3]: https://i.stack.imgur.com/Le6fX.png\r\n  [4]: https://i.stack.imgur.com/Iln32.png\r\n  [5]: https://i.stack.imgur.com/Xne9h.png\r\n  [6]: https://i.stack.imgur.com/8n9gg.png\r\n  [7]: https://i.stack.imgur.com/4RUsp.png\r\n  [8]: https://github.com/xiaotanwo/pj","title":"IntelliJ IDEA find usage for multiple projects","body":"<p>In multiple project, IDEA can't find the all usages of the common project method and just found one of them which uses it. How to find usage across projects?</p>\n<p>The version:</p>\n<p>IntelliJ IDEA Community Edition <code>2022.2.3</code></p>\n<p>gradle-<code>4.1</code></p>\n<p>The project:</p>\n<p><a href=\"https://i.stack.imgur.com/CV8PK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CV8PK.png\" alt=\"projct folder\" /></a></p>\n<p>We can see the usage shows just the <code>pj-serviceA</code> project, but <code>pj-serviceB</code> is also using the pj-common method.</p>\n<p>code:</p>\n<p><em>pj-common</em>:</p>\n<pre><code>package com.pj.common;\n\npublic class StringUtil {\n    public static void print(String string) {\n        System.out.println(string);\n    }\n}\n</code></pre>\n<p><em>pj-serviceA</em>:</p>\n<pre><code>package com.pj.serviceA;\n\nimport com.pj.common.StringUtil;\n\npublic class Main {\n    public static void main(String[] args) {\n        StringUtil.print(&quot;A&quot;);\n    }\n}\n</code></pre>\n<p><em>pj-serviceB</em>:</p>\n<pre><code>package com.pj.serviceB;\n\nimport com.pj.common.StringUtil;\n\npublic class Main {\n    public static void main(String[] args) {\n        StringUtil.print(&quot;B&quot;);\n    }\n}\n</code></pre>\n<p>the <code>pj-serviceA</code> and <code>pj-serviceB</code> all can run.</p>\n<p>The problem:</p>\n<p><a href=\"https://i.stack.imgur.com/LLzKa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LLzKa.png\" alt=\"only found one project\" /></a></p>\n<p>I want to find all the usages.</p>\n<p>I invalidate all the caches, but can't solve it.</p>\n<p>The project structure:</p>\n<p><a href=\"https://i.stack.imgur.com/9HW6K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9HW6K.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/syK5G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/syK5G.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Le6fX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Le6fX.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Iln32.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Iln32.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/Xne9h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xne9h.png\" alt=\"enter image description here\" /></a></p>\n<p>The running result:</p>\n<p><a href=\"https://i.stack.imgur.com/8n9gg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8n9gg.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/4RUsp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4RUsp.png\" alt=\"enter image description here\" /></a></p>\n<p>If it's not clear yet, I'll put the code on GitHub on the weekend and post the link.</p>\n<p>Github:\n<a href=\"https://github.com/xiaotanwo/pj\" rel=\"nofollow noreferrer\">https://github.com/xiaotanwo/pj</a></p>\n"},{"tags":["java","bigdecimal","java-8","java-stream"],"comments":[{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":1,"creation_date":1656693209,"post_id":22635945,"comment_id":128642401,"body_markdown":"The // Classical Java approach is the best one.","body":"The // Classical Java approach is the best one."}],"answers":[{"comments":[{"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"score":16,"creation_date":1395773402,"post_id":22636014,"comment_id":34487055,"body_markdown":"+1 for `Invoice::total` vs `invoice -&gt; invoice.total()`.","body":"+1 for <code>Invoice::total</code> vs <code>invoice -&gt; invoice.total()</code>."},{"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"score":13,"creation_date":1395794256,"post_id":22636014,"comment_id":34497073,"body_markdown":"+1 for method references and for adding line breaks between stream operations, both of which IMHO improve readability considerably.","body":"+1 for method references and for adding line breaks between stream operations, both of which IMHO improve readability considerably."},{"owner":{"account_id":2111377,"reputation":696,"user_id":1876600,"display_name":"Richard Lau"},"score":0,"creation_date":1447392377,"post_id":22636014,"comment_id":55145224,"body_markdown":"how would it work if i wanted to add lets say Invoice::total and Invoice::tax into a new array","body":"how would it work if i wanted to add lets say Invoice::total and Invoice::tax into a new array"},{"owner":{"account_id":1983565,"reputation":4164,"user_id":1779504,"accept_rate":69,"display_name":"csharpfolk"},"score":0,"creation_date":1495473215,"post_id":22636014,"comment_id":75256330,"body_markdown":"Java standard library already have functions for summing integers/doubles like `Collectors.summingInt()`, but misses them for `BigDecimal`s. Instead of writing `reduce(blah blah blah)` that is hard to read it would be better to write missing collector for `BigDecimal` and have `.collect(summingBigDecimal())` at the end of your pipeline.","body":"Java standard library already have functions for summing integers/doubles like <code>Collectors.summingInt()</code>, but misses them for <code>BigDecimal</code>s. Instead of writing <code>reduce(blah blah blah)</code> that is hard to read it would be better to write missing collector for <code>BigDecimal</code> and have <code>.collect(summingBigDecimal())</code> at the end of your pipeline."},{"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"score":2,"creation_date":1505909857,"post_id":22636014,"comment_id":79604352,"body_markdown":"This approach can lead to NullponterException","body":"This approach can lead to NullponterException"},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1629117658,"post_id":22636014,"comment_id":121594304,"body_markdown":"Hi, for `BigDecimal::add` I get the error `Reference to &#39;add&#39; is ambiguous, both &#39;add(BigDecimal)&#39; and &#39;add(BigDecimal, MathContext)&#39; match`","body":"Hi, for <code>BigDecimal::add</code> I get the error <code>Reference to &#39;add&#39; is ambiguous, both &#39;add(BigDecimal)&#39; and &#39;add(BigDecimal, MathContext)&#39; match</code>"}],"tags":[],"owner":{"account_id":2347441,"reputation":67550,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"comment_count":6,"down_vote_count":0,"up_vote_count":443,"is_accepted":true,"score":443,"last_activity_date":1395771034,"creation_date":1395753915,"answer_id":22636014,"question_id":22635945,"body_markdown":"##Original answer\r\n\r\nYes, this is possible:\r\n\r\n    List&lt;BigDecimal&gt; bdList = new ArrayList&lt;&gt;();\r\n    //populate list\r\n    BigDecimal result = bdList.stream()\r\n            .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n\r\nWhat it does is:\r\n\r\n1. Obtain a `List&lt;BigDecimal&gt;`.\r\n2. Turn it into a `Stream&lt;BigDecimal&gt;`\r\n3. Call the reduce method.\r\n\r\n 3.1. We supply an identity value for addition, namely `BigDecimal.ZERO`.\r\n\r\n 3.2. We specify the `BinaryOperator&lt;BigDecimal&gt;`, which adds two `BigDecimal`&#39;s, via a method reference `BigDecimal::add`.\r\n\r\n##Updated answer, after edit\r\n\r\nI see that you have added new data, therefore the new answer will become:\r\n\r\n    List&lt;Invoice&gt; invoiceList = new ArrayList&lt;&gt;();\r\n    //populate\r\n    Function&lt;Invoice, BigDecimal&gt; totalMapper = invoice -&gt; invoice.getUnit_price().multiply(invoice.getQuantity());\r\n    BigDecimal result = invoiceList.stream()\r\n            .map(totalMapper)\r\n            .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n\r\nIt is mostly the same, except that I have added a `totalMapper` variable, that has a function from `Invoice` to `BigDecimal` and returns the total price of that invoice.\r\n\r\nThen I obtain a `Stream&lt;Invoice&gt;`, map it to a `Stream&lt;BigDecimal&gt;` and then reduce it to a `BigDecimal`.\r\n\r\nNow, from an OOP design point I would advice you to also actually use the `total()` method, which you have already defined, then it even becomes easier:\r\n\r\n    List&lt;Invoice&gt; invoiceList = new ArrayList&lt;&gt;();\r\n    //populate\r\n    BigDecimal result = invoiceList.stream()\r\n            .map(Invoice::total)\r\n            .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n\r\nHere we directly use the method reference in the `map` method.","title":"Adding up BigDecimals using Streams","body":"<h2>Original answer</h2>\n\n<p>Yes, this is possible:</p>\n\n<pre><code>List&lt;BigDecimal&gt; bdList = new ArrayList&lt;&gt;();\n//populate list\nBigDecimal result = bdList.stream()\n        .reduce(BigDecimal.ZERO, BigDecimal::add);\n</code></pre>\n\n<p>What it does is:</p>\n\n<ol>\n<li>Obtain a <code>List&lt;BigDecimal&gt;</code>.</li>\n<li>Turn it into a <code>Stream&lt;BigDecimal&gt;</code></li>\n<li><p>Call the reduce method.</p>\n\n<p>3.1. We supply an identity value for addition, namely <code>BigDecimal.ZERO</code>.</p>\n\n<p>3.2. We specify the <code>BinaryOperator&lt;BigDecimal&gt;</code>, which adds two <code>BigDecimal</code>'s, via a method reference <code>BigDecimal::add</code>.</p></li>\n</ol>\n\n<h2>Updated answer, after edit</h2>\n\n<p>I see that you have added new data, therefore the new answer will become:</p>\n\n<pre><code>List&lt;Invoice&gt; invoiceList = new ArrayList&lt;&gt;();\n//populate\nFunction&lt;Invoice, BigDecimal&gt; totalMapper = invoice -&gt; invoice.getUnit_price().multiply(invoice.getQuantity());\nBigDecimal result = invoiceList.stream()\n        .map(totalMapper)\n        .reduce(BigDecimal.ZERO, BigDecimal::add);\n</code></pre>\n\n<p>It is mostly the same, except that I have added a <code>totalMapper</code> variable, that has a function from <code>Invoice</code> to <code>BigDecimal</code> and returns the total price of that invoice.</p>\n\n<p>Then I obtain a <code>Stream&lt;Invoice&gt;</code>, map it to a <code>Stream&lt;BigDecimal&gt;</code> and then reduce it to a <code>BigDecimal</code>.</p>\n\n<p>Now, from an OOP design point I would advice you to also actually use the <code>total()</code> method, which you have already defined, then it even becomes easier:</p>\n\n<pre><code>List&lt;Invoice&gt; invoiceList = new ArrayList&lt;&gt;();\n//populate\nBigDecimal result = invoiceList.stream()\n        .map(Invoice::total)\n        .reduce(BigDecimal.ZERO, BigDecimal::add);\n</code></pre>\n\n<p>Here we directly use the method reference in the <code>map</code> method.</p>\n"},{"comments":[{"owner":{"account_id":1853886,"reputation":210617,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"score":0,"creation_date":1395755296,"post_id":22636538,"comment_id":34473930,"body_markdown":"Isn&#39;t `.map(n -&gt; n)` useless there? Also `get()` is not needed.","body":"Isn&#39;t <code>.map(n -&gt; n)</code> useless there? Also <code>get()</code> is not needed."},{"owner":{"account_id":3059307,"reputation":2983,"user_id":2592326,"display_name":"Aman Agnihotri"},"score":0,"creation_date":1395755775,"post_id":22636538,"comment_id":34474322,"body_markdown":"@RohitJain: Updated. Thanks. I used `get()` as it returns the value of the `Optional` which is returned by the `reduce` call. If one wants to work with the `Optional` or just print out the sum, then yeah, `get()` isn&#39;t needed. But printing the Optional directly prints `Optional[&lt;Value&gt;]` based syntax which I doubt the user would need. So `get()` is needed in a way to get the value from the `Optional`.","body":"@RohitJain: Updated. Thanks. I used <code>get()</code> as it returns the value of the <code>Optional</code> which is returned by the <code>reduce</code> call. If one wants to work with the <code>Optional</code> or just print out the sum, then yeah, <code>get()</code> isn&#39;t needed. But printing the Optional directly prints <code>Optional[&lt;Value&gt;]</code> based syntax which I doubt the user would need. So <code>get()</code> is needed in a way to get the value from the <code>Optional</code>."},{"owner":{"account_id":3059307,"reputation":2983,"user_id":2592326,"display_name":"Aman Agnihotri"},"score":0,"creation_date":1395770976,"post_id":22636538,"comment_id":34485668,"body_markdown":"@ryvantage: Yes, your approach is exactly how I would have done it. :)","body":"@ryvantage: Yes, your approach is exactly how I would have done it. :)"},{"owner":{"account_id":5152889,"reputation":3269,"user_id":4126968,"display_name":"eee"},"score":0,"creation_date":1459593064,"post_id":22636538,"comment_id":60362314,"body_markdown":"Don&#39;t use an unconditional `get` call! If `values` is an empty list the optional will contain no value and will throw a `NoSuchElementException` when `get` is called. You can use `values.stream().reduce(BigDecimal::add).orElse(BigDecimal.ZERO)` instead.","body":"Don&#39;t use an unconditional <code>get</code> call! If <code>values</code> is an empty list the optional will contain no value and will throw a <code>NoSuchElementException</code> when <code>get</code> is called. You can use <code>values.stream().reduce(BigDecimal::add).orElse(BigDecimal.ZE&zwnj;&#8203;RO)</code> instead."}],"tags":[],"owner":{"account_id":3059307,"reputation":2983,"user_id":2592326,"display_name":"Aman Agnihotri"},"comment_count":4,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1395771434,"creation_date":1395755252,"answer_id":22636538,"question_id":22635945,"body_markdown":"Use this approach to sum the list of BigDecimal:\r\n\r\n    List&lt;BigDecimal&gt; values = ... // List of BigDecimal objects\r\n    BigDecimal sum = values.stream().reduce((x, y) -&gt; x.add(y)).get();\r\n\r\nThis approach maps each BigDecimal as a BigDecimal only and reduces them by summing them, which is then returned using the `get()` method.\r\n\r\nHere&#39;s another simple way to do the same summing:\r\n\r\n    List&lt;BigDecimal&gt; values = ... // List of BigDecimal objects\r\n    BigDecimal sum = values.stream().reduce(BigDecimal::add).get();\r\n\r\n**Update**\r\n\r\nIf I were to write the class and lambda expression in the edited question, I would have written it as follows:\r\n\r\n    import java.math.BigDecimal;\r\n    import java.util.LinkedList;\r\n    \r\n    public class Demo\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        LinkedList&lt;Invoice&gt; invoices = new LinkedList&lt;&gt;();\r\n        invoices.add(new Invoice(&quot;C1&quot;, &quot;I-001&quot;, BigDecimal.valueOf(.1), BigDecimal.valueOf(10)));\r\n        invoices.add(new Invoice(&quot;C2&quot;, &quot;I-002&quot;, BigDecimal.valueOf(.7), BigDecimal.valueOf(13)));\r\n        invoices.add(new Invoice(&quot;C3&quot;, &quot;I-003&quot;, BigDecimal.valueOf(2.3), BigDecimal.valueOf(8)));\r\n        invoices.add(new Invoice(&quot;C4&quot;, &quot;I-004&quot;, BigDecimal.valueOf(1.2), BigDecimal.valueOf(7)));\r\n    \r\n        // Java 8 approach, using Method Reference for mapping purposes.\r\n        invoices.stream().map(Invoice::total).forEach(System.out::println);\r\n        System.out.println(&quot;Sum = &quot; + invoices.stream().map(Invoice::total).reduce((x, y) -&gt; x.add(y)).get());\r\n      }\r\n    \r\n      // This is just my style of writing classes. Yours can differ.\r\n      static class Invoice\r\n      {\r\n        private String company;\r\n        private String number;\r\n        private BigDecimal unitPrice;\r\n        private BigDecimal quantity;\r\n    \r\n        public Invoice()\r\n        {\r\n          unitPrice = quantity = BigDecimal.ZERO;\r\n        }\r\n    \r\n        public Invoice(String company, String number, BigDecimal unitPrice, BigDecimal quantity)\r\n        {\r\n          setCompany(company);\r\n          setNumber(number);\r\n          setUnitPrice(unitPrice);\r\n          setQuantity(quantity);\r\n        }\r\n    \r\n        public BigDecimal total()\r\n        {\r\n          return unitPrice.multiply(quantity);\r\n        }\r\n    \r\n        public String getCompany()\r\n        {\r\n          return company;\r\n        }\r\n    \r\n        public void setCompany(String company)\r\n        {\r\n          this.company = company;\r\n        }\r\n    \r\n        public String getNumber()\r\n        {\r\n          return number;\r\n        }\r\n    \r\n        public void setNumber(String number)\r\n        {\r\n          this.number = number;\r\n        }\r\n    \r\n        public BigDecimal getUnitPrice()\r\n        {\r\n          return unitPrice;\r\n        }\r\n    \r\n        public void setUnitPrice(BigDecimal unitPrice)\r\n        {\r\n          this.unitPrice = unitPrice;\r\n        }\r\n    \r\n        public BigDecimal getQuantity()\r\n        {\r\n          return quantity;\r\n        }\r\n    \r\n        public void setQuantity(BigDecimal quantity)\r\n        {\r\n          this.quantity = quantity;\r\n        }\r\n      }\r\n    }\r\n\r\n","title":"Adding up BigDecimals using Streams","body":"<p>Use this approach to sum the list of BigDecimal:</p>\n\n<pre><code>List&lt;BigDecimal&gt; values = ... // List of BigDecimal objects\nBigDecimal sum = values.stream().reduce((x, y) -&gt; x.add(y)).get();\n</code></pre>\n\n<p>This approach maps each BigDecimal as a BigDecimal only and reduces them by summing them, which is then returned using the <code>get()</code> method.</p>\n\n<p>Here's another simple way to do the same summing:</p>\n\n<pre><code>List&lt;BigDecimal&gt; values = ... // List of BigDecimal objects\nBigDecimal sum = values.stream().reduce(BigDecimal::add).get();\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>If I were to write the class and lambda expression in the edited question, I would have written it as follows:</p>\n\n<pre><code>import java.math.BigDecimal;\nimport java.util.LinkedList;\n\npublic class Demo\n{\n  public static void main(String[] args)\n  {\n    LinkedList&lt;Invoice&gt; invoices = new LinkedList&lt;&gt;();\n    invoices.add(new Invoice(\"C1\", \"I-001\", BigDecimal.valueOf(.1), BigDecimal.valueOf(10)));\n    invoices.add(new Invoice(\"C2\", \"I-002\", BigDecimal.valueOf(.7), BigDecimal.valueOf(13)));\n    invoices.add(new Invoice(\"C3\", \"I-003\", BigDecimal.valueOf(2.3), BigDecimal.valueOf(8)));\n    invoices.add(new Invoice(\"C4\", \"I-004\", BigDecimal.valueOf(1.2), BigDecimal.valueOf(7)));\n\n    // Java 8 approach, using Method Reference for mapping purposes.\n    invoices.stream().map(Invoice::total).forEach(System.out::println);\n    System.out.println(\"Sum = \" + invoices.stream().map(Invoice::total).reduce((x, y) -&gt; x.add(y)).get());\n  }\n\n  // This is just my style of writing classes. Yours can differ.\n  static class Invoice\n  {\n    private String company;\n    private String number;\n    private BigDecimal unitPrice;\n    private BigDecimal quantity;\n\n    public Invoice()\n    {\n      unitPrice = quantity = BigDecimal.ZERO;\n    }\n\n    public Invoice(String company, String number, BigDecimal unitPrice, BigDecimal quantity)\n    {\n      setCompany(company);\n      setNumber(number);\n      setUnitPrice(unitPrice);\n      setQuantity(quantity);\n    }\n\n    public BigDecimal total()\n    {\n      return unitPrice.multiply(quantity);\n    }\n\n    public String getCompany()\n    {\n      return company;\n    }\n\n    public void setCompany(String company)\n    {\n      this.company = company;\n    }\n\n    public String getNumber()\n    {\n      return number;\n    }\n\n    public void setNumber(String number)\n    {\n      this.number = number;\n    }\n\n    public BigDecimal getUnitPrice()\n    {\n      return unitPrice;\n    }\n\n    public void setUnitPrice(BigDecimal unitPrice)\n    {\n      this.unitPrice = unitPrice;\n    }\n\n    public BigDecimal getQuantity()\n    {\n      return quantity;\n    }\n\n    public void setQuantity(BigDecimal quantity)\n    {\n      this.quantity = quantity;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3021655,"reputation":2368,"user_id":2562544,"display_name":"Igor Akkerman"},"comment_count":0,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1682038604,"creation_date":1481438925,"answer_id":41083704,"question_id":22635945,"body_markdown":"# Define a reusable `Collector`\r\n\r\nYou can sum up the values of a `BigDecimal` stream using a **reusable** [`Collector`][1] named `summingUp`:\r\n\r\n    BigDecimal sum = bigDecimalStream.collect(summingUp());\r\n\r\nThe `Collector` can be implemented like this:\r\n\r\n    public static Collector&lt;BigDecimal, ?, BigDecimal&gt; summingUp() {\r\n        return Collectors.reducing(BigDecimal.ZERO, BigDecimal::add);\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html","title":"Adding up BigDecimals using Streams","body":"<h1>Define a reusable <code>Collector</code></h1>\n<p>You can sum up the values of a <code>BigDecimal</code> stream using a <strong>reusable</strong> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\"><code>Collector</code></a> named <code>summingUp</code>:</p>\n<pre><code>BigDecimal sum = bigDecimalStream.collect(summingUp());\n</code></pre>\n<p>The <code>Collector</code> can be implemented like this:</p>\n<pre><code>public static Collector&lt;BigDecimal, ?, BigDecimal&gt; summingUp() {\n    return Collectors.reducing(BigDecimal.ZERO, BigDecimal::add);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1712726,"reputation":6528,"user_id":1570415,"display_name":"Donald Raab"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1573351289,"creation_date":1524865826,"answer_id":50070727,"question_id":22635945,"body_markdown":"If you don&#39;t mind a third party dependency, there is a class named [Collectors2][1] in [Eclipse Collections][2] which contains methods returning Collectors for [summing][3] and [summarizing][4] BigDecimal and BigInteger. These methods take a [Function][5] as a parameter so you can extract a BigDecimal or BigInteger value from an object.\r\n\r\n    List&lt;BigDecimal&gt; list = mList(\r\n            BigDecimal.valueOf(0.1),\r\n            BigDecimal.valueOf(1.1),\r\n            BigDecimal.valueOf(2.1),\r\n            BigDecimal.valueOf(0.1));\r\n    \r\n    BigDecimal sum =\r\n            list.stream().collect(Collectors2.summingBigDecimal(e -&gt; e));\r\n    Assert.assertEquals(BigDecimal.valueOf(3.4), sum);\r\n    \r\n    BigDecimalSummaryStatistics statistics =\r\n            list.stream().collect(Collectors2.summarizingBigDecimal(e -&gt; e));\r\n    Assert.assertEquals(BigDecimal.valueOf(3.4), statistics.getSum());\r\n    Assert.assertEquals(BigDecimal.valueOf(0.1), statistics.getMin());\r\n    Assert.assertEquals(BigDecimal.valueOf(2.1), statistics.getMax());\r\n    Assert.assertEquals(BigDecimal.valueOf(0.85), statistics.getAverage());\r\n\r\nNote: I am a committer for Eclipse Collections.\r\n\r\n\r\n  [1]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/collector/Collectors2.html\r\n  [2]: https://github.com/eclipse/eclipse-collections\r\n  [3]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/collector/Collectors2.html#summingBigDecimal-org.eclipse.collections.api.block.function.Function-\r\n  [4]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/collector/Collectors2.html#summarizingBigDecimal-org.eclipse.collections.api.block.function.Function-\r\n  [5]: https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/api/block/function/Function.html","title":"Adding up BigDecimals using Streams","body":"<p>If you don't mind a third party dependency, there is a class named <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/collector/Collectors2.html\" rel=\"nofollow noreferrer\">Collectors2</a> in <a href=\"https://github.com/eclipse/eclipse-collections\" rel=\"nofollow noreferrer\">Eclipse Collections</a> which contains methods returning Collectors for <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/collector/Collectors2.html#summingBigDecimal-org.eclipse.collections.api.block.function.Function-\" rel=\"nofollow noreferrer\">summing</a> and <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/impl/collector/Collectors2.html#summarizingBigDecimal-org.eclipse.collections.api.block.function.Function-\" rel=\"nofollow noreferrer\">summarizing</a> BigDecimal and BigInteger. These methods take a <a href=\"https://www.eclipse.org/collections/javadoc/10.0.0/org/eclipse/collections/api/block/function/Function.html\" rel=\"nofollow noreferrer\">Function</a> as a parameter so you can extract a BigDecimal or BigInteger value from an object.</p>\n\n<pre><code>List&lt;BigDecimal&gt; list = mList(\n        BigDecimal.valueOf(0.1),\n        BigDecimal.valueOf(1.1),\n        BigDecimal.valueOf(2.1),\n        BigDecimal.valueOf(0.1));\n\nBigDecimal sum =\n        list.stream().collect(Collectors2.summingBigDecimal(e -&gt; e));\nAssert.assertEquals(BigDecimal.valueOf(3.4), sum);\n\nBigDecimalSummaryStatistics statistics =\n        list.stream().collect(Collectors2.summarizingBigDecimal(e -&gt; e));\nAssert.assertEquals(BigDecimal.valueOf(3.4), statistics.getSum());\nAssert.assertEquals(BigDecimal.valueOf(0.1), statistics.getMin());\nAssert.assertEquals(BigDecimal.valueOf(2.1), statistics.getMax());\nAssert.assertEquals(BigDecimal.valueOf(0.85), statistics.getAverage());\n</code></pre>\n\n<p>Note: I am a committer for Eclipse Collections.</p>\n"},{"comments":[{"owner":{"account_id":34247,"reputation":1973,"user_id":96617,"accept_rate":78,"display_name":"Lluis Martinez"},"score":2,"creation_date":1656693143,"post_id":50582089,"comment_id":128642380,"body_markdown":"The OP says &quot;I have a collection of BigDecimal&quot;, null is not a BigDecimal.","body":"The OP says &quot;I have a collection of BigDecimal&quot;, null is not a BigDecimal."}],"tags":[],"owner":{"account_id":2055716,"reputation":329,"user_id":1833530,"display_name":"Siraj"},"comment_count":1,"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1527589995,"creation_date":1527589673,"answer_id":50582089,"question_id":22635945,"body_markdown":"This post already has a checked answer, but the answer doesn&#39;t filter for null values. The correct answer should prevent null values by using the Object::nonNull function as a predicate. \r\n\r\n    BigDecimal result = invoiceList.stream()\r\n        .map(Invoice::total)\r\n        .filter(Objects::nonNull)\r\n        .filter(i -&gt; (i.getUnit_price() != null) &amp;&amp; (i.getQuantity != null))\r\n        .reduce(BigDecimal.ZERO, BigDecimal::add);\r\n\r\nThis prevents null values from attempting to be summed as we reduce.","title":"Adding up BigDecimals using Streams","body":"<p>This post already has a checked answer, but the answer doesn't filter for null values. The correct answer should prevent null values by using the Object::nonNull function as a predicate. </p>\n\n<pre><code>BigDecimal result = invoiceList.stream()\n    .map(Invoice::total)\n    .filter(Objects::nonNull)\n    .filter(i -&gt; (i.getUnit_price() != null) &amp;&amp; (i.getQuantity != null))\n    .reduce(BigDecimal.ZERO, BigDecimal::add);\n</code></pre>\n\n<p>This prevents null values from attempting to be summed as we reduce.</p>\n"}],"owner":{"account_id":933736,"reputation":13154,"user_id":963076,"accept_rate":59,"display_name":"ryvantage"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205663,"favorite_count":0,"down_vote_count":1,"up_vote_count":227,"accepted_answer_id":22636014,"answer_count":5,"score":226,"last_activity_date":1682038699,"creation_date":1395753756,"question_id":22635945,"body_markdown":"I have a collection of BigDecimals (in this example, a `LinkedList`) that I would like to add together. Is it possible to use streams to calculate their sum?\r\n\r\nI noticed the `Stream` class has several methods\r\n\r\n    Stream::mapToInt\r\n    Stream::mapToDouble\r\n    Stream::mapToLong\r\n\r\nEach of which has a convenient `sum()` method. But, as we know, `float` and `double` floating-point types make [trade-offs in accuracy][1] for speed. \r\n\r\nSo, is there a convenient way to sum up BigDecimals?\r\n\r\nThis is the code I have so far.\r\n\r\n    public static void main(String[] args) {\r\n        LinkedList&lt;BigDecimal&gt; values = new LinkedList&lt;&gt;();\r\n        values.add(BigDecimal.valueOf(.1));\r\n        values.add(BigDecimal.valueOf(1.1));\r\n        values.add(BigDecimal.valueOf(2.1));\r\n        values.add(BigDecimal.valueOf(.1));\r\n        \r\n        // Classical Java approach\r\n        BigDecimal sum = BigDecimal.ZERO;\r\n        for(BigDecimal value : values) {\r\n            System.out.println(value);\r\n            sum = sum.add(value);\r\n        }\r\n        System.out.println(&quot;Sum = &quot; + sum);\r\n        \r\n        // Java 8 approach\r\n        values.forEach((value) -&gt; System.out.println(value));\r\n        System.out.println(&quot;Sum = &quot; + values.stream().mapToDouble(BigDecimal::doubleValue).sum());\r\n        System.out.println(values.stream().mapToDouble(BigDecimal::doubleValue).summaryStatistics().toString());\r\n    }\r\n\r\nAs you can see, I am summing up the BigDecimals using `BigDecimal::doubleValue()`, but this is (as expected) not precise.\r\n\r\n\r\n**Post-answer edit for posterity:**\r\n\r\nBoth answers were extremely helpful. I wanted to add a little: my real-life scenario does not involve a collection of raw `BigDecimal`s, they are wrapped in an invoice. But, I was able to modify Aman Agnihotri&#39;s answer to account for this by using the `map()` function for stream:\r\n\r\n    public static void main(String[] args) {\r\n        \r\n        LinkedList&lt;Invoice&gt; invoices = new LinkedList&lt;&gt;();\r\n        invoices.add(new Invoice(&quot;C1&quot;, &quot;I-001&quot;, BigDecimal.valueOf(.1), BigDecimal.valueOf(10)));\r\n        invoices.add(new Invoice(&quot;C2&quot;, &quot;I-002&quot;, BigDecimal.valueOf(.7), BigDecimal.valueOf(13)));\r\n        invoices.add(new Invoice(&quot;C3&quot;, &quot;I-003&quot;, BigDecimal.valueOf(2.3), BigDecimal.valueOf(8)));\r\n        invoices.add(new Invoice(&quot;C4&quot;, &quot;I-004&quot;, BigDecimal.valueOf(1.2), BigDecimal.valueOf(7)));\r\n        \r\n        // Classical Java approach\r\n        BigDecimal sum = BigDecimal.ZERO;\r\n        for(Invoice invoice : invoices) {\r\n            BigDecimal total = invoice.unit_price.multiply(invoice.quantity);\r\n            System.out.println(total);\r\n            sum = sum.add(total);\r\n        }\r\n        System.out.println(&quot;Sum = &quot; + sum);\r\n        \r\n        // Java 8 approach\r\n        invoices.forEach((invoice) -&gt; System.out.println(invoice.total()));\r\n        System.out.println(&quot;Sum = &quot; + invoices.stream().map((x) -&gt; x.total()).reduce((x, y) -&gt; x.add(y)).get());\r\n    }\r\n    \r\n    static class Invoice {\r\n        String company;\r\n        String invoice_number;\r\n        BigDecimal unit_price;\r\n        BigDecimal quantity;\r\n\r\n        public Invoice() {\r\n            unit_price = BigDecimal.ZERO;\r\n            quantity = BigDecimal.ZERO;\r\n        }\r\n\r\n        public Invoice(String company, String invoice_number, BigDecimal unit_price, BigDecimal quantity) {\r\n            this.company = company;\r\n            this.invoice_number = invoice_number;\r\n            this.unit_price = unit_price;\r\n            this.quantity = quantity;\r\n        }\r\n        \r\n        public BigDecimal total() {\r\n            return unit_price.multiply(quantity);\r\n        }\r\n\r\n        public void setUnit_price(BigDecimal unit_price) {\r\n            this.unit_price = unit_price;\r\n        }\r\n\r\n        public void setQuantity(BigDecimal quantity) {\r\n            this.quantity = quantity;\r\n        }\r\n\r\n        public void setInvoice_number(String invoice_number) {\r\n            this.invoice_number = invoice_number;\r\n        }\r\n\r\n        public void setCompany(String company) {\r\n            this.company = company;\r\n        }\r\n\r\n        public BigDecimal getUnit_price() {\r\n            return unit_price;\r\n        }\r\n\r\n        public BigDecimal getQuantity() {\r\n            return quantity;\r\n        }\r\n\r\n        public String getInvoice_number() {\r\n            return invoice_number;\r\n        }\r\n\r\n        public String getCompany() {\r\n            return company;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems","title":"Adding up BigDecimals using Streams","body":"<p>I have a collection of BigDecimals (in this example, a <code>LinkedList</code>) that I would like to add together. Is it possible to use streams to calculate their sum?</p>\n<p>I noticed the <code>Stream</code> class has several methods</p>\n<pre><code>Stream::mapToInt\nStream::mapToDouble\nStream::mapToLong\n</code></pre>\n<p>Each of which has a convenient <code>sum()</code> method. But, as we know, <code>float</code> and <code>double</code> floating-point types make <a href=\"https://en.wikipedia.org/wiki/Floating-point_arithmetic#Accuracy_problems\" rel=\"noreferrer\">trade-offs in accuracy</a> for speed.</p>\n<p>So, is there a convenient way to sum up BigDecimals?</p>\n<p>This is the code I have so far.</p>\n<pre><code>public static void main(String[] args) {\n    LinkedList&lt;BigDecimal&gt; values = new LinkedList&lt;&gt;();\n    values.add(BigDecimal.valueOf(.1));\n    values.add(BigDecimal.valueOf(1.1));\n    values.add(BigDecimal.valueOf(2.1));\n    values.add(BigDecimal.valueOf(.1));\n    \n    // Classical Java approach\n    BigDecimal sum = BigDecimal.ZERO;\n    for(BigDecimal value : values) {\n        System.out.println(value);\n        sum = sum.add(value);\n    }\n    System.out.println(&quot;Sum = &quot; + sum);\n    \n    // Java 8 approach\n    values.forEach((value) -&gt; System.out.println(value));\n    System.out.println(&quot;Sum = &quot; + values.stream().mapToDouble(BigDecimal::doubleValue).sum());\n    System.out.println(values.stream().mapToDouble(BigDecimal::doubleValue).summaryStatistics().toString());\n}\n</code></pre>\n<p>As you can see, I am summing up the BigDecimals using <code>BigDecimal::doubleValue()</code>, but this is (as expected) not precise.</p>\n<p><strong>Post-answer edit for posterity:</strong></p>\n<p>Both answers were extremely helpful. I wanted to add a little: my real-life scenario does not involve a collection of raw <code>BigDecimal</code>s, they are wrapped in an invoice. But, I was able to modify Aman Agnihotri's answer to account for this by using the <code>map()</code> function for stream:</p>\n<pre><code>public static void main(String[] args) {\n    \n    LinkedList&lt;Invoice&gt; invoices = new LinkedList&lt;&gt;();\n    invoices.add(new Invoice(&quot;C1&quot;, &quot;I-001&quot;, BigDecimal.valueOf(.1), BigDecimal.valueOf(10)));\n    invoices.add(new Invoice(&quot;C2&quot;, &quot;I-002&quot;, BigDecimal.valueOf(.7), BigDecimal.valueOf(13)));\n    invoices.add(new Invoice(&quot;C3&quot;, &quot;I-003&quot;, BigDecimal.valueOf(2.3), BigDecimal.valueOf(8)));\n    invoices.add(new Invoice(&quot;C4&quot;, &quot;I-004&quot;, BigDecimal.valueOf(1.2), BigDecimal.valueOf(7)));\n    \n    // Classical Java approach\n    BigDecimal sum = BigDecimal.ZERO;\n    for(Invoice invoice : invoices) {\n        BigDecimal total = invoice.unit_price.multiply(invoice.quantity);\n        System.out.println(total);\n        sum = sum.add(total);\n    }\n    System.out.println(&quot;Sum = &quot; + sum);\n    \n    // Java 8 approach\n    invoices.forEach((invoice) -&gt; System.out.println(invoice.total()));\n    System.out.println(&quot;Sum = &quot; + invoices.stream().map((x) -&gt; x.total()).reduce((x, y) -&gt; x.add(y)).get());\n}\n\nstatic class Invoice {\n    String company;\n    String invoice_number;\n    BigDecimal unit_price;\n    BigDecimal quantity;\n\n    public Invoice() {\n        unit_price = BigDecimal.ZERO;\n        quantity = BigDecimal.ZERO;\n    }\n\n    public Invoice(String company, String invoice_number, BigDecimal unit_price, BigDecimal quantity) {\n        this.company = company;\n        this.invoice_number = invoice_number;\n        this.unit_price = unit_price;\n        this.quantity = quantity;\n    }\n    \n    public BigDecimal total() {\n        return unit_price.multiply(quantity);\n    }\n\n    public void setUnit_price(BigDecimal unit_price) {\n        this.unit_price = unit_price;\n    }\n\n    public void setQuantity(BigDecimal quantity) {\n        this.quantity = quantity;\n    }\n\n    public void setInvoice_number(String invoice_number) {\n        this.invoice_number = invoice_number;\n    }\n\n    public void setCompany(String company) {\n        this.company = company;\n    }\n\n    public BigDecimal getUnit_price() {\n        return unit_price;\n    }\n\n    public BigDecimal getQuantity() {\n        return quantity;\n    }\n\n    public String getInvoice_number() {\n        return invoice_number;\n    }\n\n    public String getCompany() {\n        return company;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-9.0-pie"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1563803975,"post_id":57147640,"comment_id":100810554,"body_markdown":"This code [will not work on Android Q (by default) and Android R+ (for all apps)](https://commonsware.com/blog/2019/06/07/death-external-storage-end-saga.html). So, you should strongly consider moving away from this anyway.","body":"This code <a href=\"https://commonsware.com/blog/2019/06/07/death-external-storage-end-saga.html\" rel=\"nofollow noreferrer\">will not work on Android Q (by default) and Android R+ (for all apps)</a>. So, you should strongly consider moving away from this anyway."},{"owner":{"display_name":"user5329216"},"score":0,"creation_date":1563804909,"post_id":57147640,"comment_id":100811231,"body_markdown":"@CommonsWare thanks for the response, I&#39;m agree. But I&#39;m confused why is it impossible to create directory? File Manager app on device with same permissions can create.","body":"@CommonsWare thanks for the response, I&#39;m agree. But I&#39;m confused why is it impossible to create directory? File Manager app on device with same permissions can create."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1563805533,"post_id":57147640,"comment_id":100811645,"body_markdown":"My guess is that there is a problem in your runtime permissions logic, but that is just a guess.","body":"My guess is that there is a problem in your runtime permissions logic, but that is just a guess."},{"owner":{"display_name":"user5329216"},"score":0,"creation_date":1563806886,"post_id":57147640,"comment_id":100812479,"body_markdown":"@CommonsWare OMG, there is my fall. I&#39;m checking for WRITE_EXTERNAL_STORAGE permissions, but requesting for READ_EXTERNAL_STORAGE, spent a day and a half and just now noticed. \nThanks a lot.","body":"@CommonsWare OMG, there is my fall. I&#39;m checking for WRITE_EXTERNAL_STORAGE permissions, but requesting for READ_EXTERNAL_STORAGE, spent a day and a half and just now noticed.  Thanks a lot."}],"answers":[{"comments":[{"owner":{"display_name":"user5329216"},"score":2,"creation_date":1563806994,"post_id":57147939,"comment_id":100812537,"body_markdown":"OMG, there is my fall. I&#39;m checking for WRITE_EXTERNAL_STORAGE permissions, but requesting for READ_EXTERNAL_STORAGE, spent a day and a half and just now noticed. Thanks a lot.","body":"OMG, there is my fall. I&#39;m checking for WRITE_EXTERNAL_STORAGE permissions, but requesting for READ_EXTERNAL_STORAGE, spent a day and a half and just now noticed. Thanks a lot."}],"tags":[],"owner":{"account_id":12191499,"reputation":490,"user_id":8898809,"display_name":"Yogesh Bangar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1563804731,"creation_date":1563804731,"answer_id":57147939,"question_id":57147640,"body_markdown":"First, check permission if yes then call your function else to call showPhoneStatePermission\r\n\r\nAdd permission in manifest\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n\r\n    private void showPhoneStatePermission() {\r\n        int permissionCheck = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n                showExplanation(&quot;Permission Needed&quot;, &quot;Rationale&quot;, Manifest.permission.WRITE_EXTERNAL_STORAGE, REQUEST_PERMISSION_WRITE_EXTERNAL_STORAGE);\r\n            } else {\r\n                requestPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE, REQUEST_PERMISSION_WRITE_EXTERNAL_STORAGE);\r\n            }\r\n        } else {\r\n            Toast.makeText(MainActivity.this, &quot;Permission (already) Granted!&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n","title":"Android 9 can&#39;t create directory inside Android external public path(&quot;storage/emulated/0/MyImages&quot;)","body":"<p>First, check permission if yes then call your function else to call showPhoneStatePermission</p>\n\n<p>Add permission in manifest</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n\nprivate void showPhoneStatePermission() {\n    int permissionCheck = ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_EXTERNAL_STORAGE);\n    if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n            showExplanation(\"Permission Needed\", \"Rationale\", Manifest.permission.WRITE_EXTERNAL_STORAGE, REQUEST_PERMISSION_WRITE_EXTERNAL_STORAGE);\n        } else {\n            requestPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE, REQUEST_PERMISSION_WRITE_EXTERNAL_STORAGE);\n        }\n    } else {\n        Toast.makeText(MainActivity.this, \"Permission (already) Granted!\", Toast.LENGTH_SHORT).show();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257847,"reputation":3393,"user_id":539612,"accept_rate":43,"display_name":"Ribo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682038590,"creation_date":1682035696,"answer_id":76069016,"question_id":57147640,"body_markdown":"You can&#39;t create directories with uppercase characters in the name in the external storage directory(/sdcard)!!??  (If you solved the other issues like permissions on whatever version of Android you are using...) It seems you can&#39;t have uppercase characters (at least in android-32).  \r\n\r\n&#39;dir.mkdir()&#39; in .../Android/Sdk/sources/android-32/java.io.File.java eventually calls &#39;fs.createDirecty(this)&#39;, where FileSystem fs = DefaultFileSystem.getFileSystem();  where fs is an instance of the class UnixFileSystem   fs.createDirectory calls &#39;createDirectory0 which is a native method.  Something in there seems not to like creating directories with uppercase characters.\r\n\r\nIt can create directories with uppercase letters within directories in /storage/emulated/0/, but in in /storage/emulated/0 itself.  I can&#39;t understand why they would do that -- unless it has some idea that things in /storage/emulated/0 are: 1) the start of java &#39;package&#39; names that must be lowercase or 2: to force a first level directories to be &#39;compatible&#39; between Windows (which ignores case) and Linux (which respects case).\r\n\r\nNote that the &#39;mkdir&#39; command run in the shell or from adb can create directories with upper case characters in /sdcard (/storage/emulated/0)","title":"Android 9 can&#39;t create directory inside Android external public path(&quot;storage/emulated/0/MyImages&quot;)","body":"<p>You can't create directories with uppercase characters in the name in the external storage directory(/sdcard)!!??  (If you solved the other issues like permissions on whatever version of Android you are using...) It seems you can't have uppercase characters (at least in android-32).</p>\n<p>'dir.mkdir()' in .../Android/Sdk/sources/android-32/java.io.File.java eventually calls 'fs.createDirecty(this)', where FileSystem fs = DefaultFileSystem.getFileSystem();  where fs is an instance of the class UnixFileSystem   fs.createDirectory calls 'createDirectory0 which is a native method.  Something in there seems not to like creating directories with uppercase characters.</p>\n<p>It can create directories with uppercase letters within directories in /storage/emulated/0/, but in in /storage/emulated/0 itself.  I can't understand why they would do that -- unless it has some idea that things in /storage/emulated/0 are: 1) the start of java 'package' names that must be lowercase or 2: to force a first level directories to be 'compatible' between Windows (which ignores case) and Linux (which respects case).</p>\n<p>Note that the 'mkdir' command run in the shell or from adb can create directories with upper case characters in /sdcard (/storage/emulated/0)</p>\n"}],"owner":{"display_name":"user5329216"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1068,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57147939,"answer_count":2,"score":4,"last_activity_date":1682038590,"creation_date":1563803846,"question_id":57147640,"body_markdown":"I want to create a directory inside Android external public path(`&quot;storage/emulated/0/MyImages&quot;`).\r\n\r\nThe code is running on Android 9. All run-time permissions to writing on external storage are granted.\r\n\r\nTried code like this.\r\n````\r\nFile dir = new File(Environment.getExternalStorageDirectory() + File.separator + &quot;MyImages&quot;);\r\nif (!dir.exists) {\r\n  dir.mkdirs();\r\n}\r\n````\r\nThe `dir` variable has path - `&quot;/storage/emulated/0/MyImages&quot;`. \r\n\r\n`dir.mkdirs()` always returns `false`. There is short log from LogCat:\r\n\r\n    W/System.err: java.io.IOException: No such file or directory\r\n    W/System.err: at java.io.UnixFileSystem.createFileExclusively0(Native Method)\r\n    W/System.err: at java.io.UnixFileSystem.createFileExclusively(UnixFileSystem.java:281)\r\n    W/System.err: at java.io.File.createNewFile(File.java:1008)","title":"Android 9 can&#39;t create directory inside Android external public path(&quot;storage/emulated/0/MyImages&quot;)","body":"<p>I want to create a directory inside Android external public path(<code>\"storage/emulated/0/MyImages\"</code>).</p>\n\n<p>The code is running on Android 9. All run-time permissions to writing on external storage are granted.</p>\n\n<p>Tried code like this.</p>\n\n<pre><code>File dir = new File(Environment.getExternalStorageDirectory() + File.separator + \"MyImages\");\nif (!dir.exists) {\n  dir.mkdirs();\n}\n</code></pre>\n\n<p>The <code>dir</code> variable has path - <code>\"/storage/emulated/0/MyImages\"</code>. </p>\n\n<p><code>dir.mkdirs()</code> always returns <code>false</code>. There is short log from LogCat:</p>\n\n<pre><code>W/System.err: java.io.IOException: No such file or directory\nW/System.err: at java.io.UnixFileSystem.createFileExclusively0(Native Method)\nW/System.err: at java.io.UnixFileSystem.createFileExclusively(UnixFileSystem.java:281)\nW/System.err: at java.io.File.createNewFile(File.java:1008)\n</code></pre>\n"},{"tags":["java","javafx","javafx-8"],"comments":[{"owner":{"account_id":5952929,"reputation":8862,"user_id":4680436,"accept_rate":50,"display_name":"aristotll"},"score":1,"creation_date":1502292300,"post_id":45594602,"comment_id":78149173,"body_markdown":"Possible duplicate of [How to set an image in textarea for JavaFX?](https://stackoverflow.com/questions/43307781/how-to-set-an-image-in-textarea-for-javafx)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/43307781/how-to-set-an-image-in-textarea-for-javafx\">How to set an image in textarea for JavaFX?</a>"},{"owner":{"account_id":11001683,"reputation":27,"user_id":8082112,"display_name":"OnSN"},"score":0,"creation_date":1502322284,"post_id":45594602,"comment_id":78163936,"body_markdown":"@aristotll\nMaybe it&#39;s the only way to solve my quesion. \nBut I want the images are editable just like texts.","body":"@aristotll Maybe it&#39;s the only way to solve my quesion.  But I want the images are editable just like texts."}],"answers":[{"tags":[],"owner":{"account_id":3467753,"reputation":185,"user_id":2902898,"display_name":"Mirko Fetter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502292290,"creation_date":1502292290,"answer_id":45594797,"question_id":45594602,"body_markdown":"The only possbility I see is by adding it as Background of the TextArea. For example via css with `fx-background-image:url` ","title":"JavaFX: Is there any way to show images in a TextArea","body":"<p>The only possbility I see is by adding it as Background of the TextArea. For example via css with <code>fx-background-image:url</code> </p>\n"},{"comments":[{"owner":{"account_id":11001683,"reputation":27,"user_id":8082112,"display_name":"OnSN"},"score":0,"creation_date":1502293469,"post_id":45594818,"comment_id":78150001,"body_markdown":"It almost solve my quesion!\nBut i still not found any way to remove the image just like HTML","body":"It almost solve my quesion! But i still not found any way to remove the image just like HTML"},{"owner":{"account_id":10256126,"reputation":953,"user_id":7568923,"accept_rate":75,"display_name":"Malek Zarkouna"},"score":0,"creation_date":1502293573,"post_id":45594818,"comment_id":78150076,"body_markdown":"i m glad i helped ! can u explain more?","body":"i m glad i helped ! can u explain more?"}],"tags":[],"owner":{"account_id":10256126,"reputation":953,"user_id":7568923,"accept_rate":75,"display_name":"Malek Zarkouna"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502292346,"creation_date":1502292346,"answer_id":45594818,"question_id":45594602,"body_markdown":"try to add the textarea and the image in a same group like :\r\n\r\n    Textarea text = new Textarea();\r\n    ImageView img= new ImageView ();\r\n    \r\n    Group group = new Group();\r\n    \r\n    group.getChildren().add(img);\r\n    group.getChildren().add(text);","title":"JavaFX: Is there any way to show images in a TextArea","body":"<p>try to add the textarea and the image in a same group like :</p>\n\n<pre><code>Textarea text = new Textarea();\nImageView img= new ImageView ();\n\nGroup group = new Group();\n\ngroup.getChildren().add(img);\ngroup.getChildren().add(text);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28356058,"reputation":1,"user_id":21686789,"display_name":"Aman Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681963974,"creation_date":1681963974,"answer_id":76060513,"question_id":45594602,"body_markdown":"One possible solution in JavaFX\r\nTry using Webview rather than Text Area. \r\nYou can display both text and images in an html page, which can be loaded in Webview ","title":"JavaFX: Is there any way to show images in a TextArea","body":"<p>One possible solution in JavaFX\nTry using Webview rather than Text Area.\nYou can display both text and images in an html page, which can be loaded in Webview</p>\n"},{"tags":[],"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682037730,"creation_date":1682037730,"answer_id":76069148,"question_id":45594602,"body_markdown":"I may not understand your question fully, but in my answer I created `TextFlow` and add both the `TextArea` and the `ImageView` to it. When you type into `TextArea`, `TextFlow` is updated to include new text as well as the image. After that `TextFlow` is displayed in `VBox` with `TextArea` and `Image`.\r\n\r\n**Source code:**\r\n \r\n\r\n    \r\n    public class Test extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception {\r\n            BorderPane root = new BorderPane();\r\n    \r\n            VBox vbox = new VBox();\r\n            vbox.setSpacing(10);\r\n            vbox.setPadding(new Insets(10, 10, 10, 10));\r\n    \r\n            TextArea textArea = new TextArea();\r\n            textArea.setPrefSize(400, 200);\r\n    \r\n            ImageView imageView = new ImageView(new Image(&quot;file:C:/Users/FAbdu/Downloads/java.png&quot;));\r\n            imageView.setFitWidth(200);\r\n            imageView.setPreserveRatio(true);\r\n    \r\n            TextFlow textFlow = new TextFlow();\r\n            textFlow.getChildren().addAll(new Text(textArea.getText()), imageView);\r\n    \r\n            textArea.textProperty().addListener((observable, oldValue, newValue) -&gt; {\r\n                textFlow.getChildren().clear();\r\n                textFlow.getChildren().addAll(new Text(newValue), imageView);\r\n            });\r\n    \r\n            vbox.getChildren().addAll(textArea, textFlow);\r\n            root.setCenter(vbox);\r\n    \r\n            Scene scene = new Scene(root, 640, 480);\r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n**Output:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G0YZ7.png","title":"JavaFX: Is there any way to show images in a TextArea","body":"<p>I may not understand your question fully, but in my answer I created <code>TextFlow</code> and add both the <code>TextArea</code> and the <code>ImageView</code> to it. When you type into <code>TextArea</code>, <code>TextFlow</code> is updated to include new text as well as the image. After that <code>TextFlow</code> is displayed in <code>VBox</code> with <code>TextArea</code> and <code>Image</code>.</p>\n<p><strong>Source code:</strong></p>\n<pre><code>public class Test extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception {\n        BorderPane root = new BorderPane();\n\n        VBox vbox = new VBox();\n        vbox.setSpacing(10);\n        vbox.setPadding(new Insets(10, 10, 10, 10));\n\n        TextArea textArea = new TextArea();\n        textArea.setPrefSize(400, 200);\n\n        ImageView imageView = new ImageView(new Image(&quot;file:C:/Users/FAbdu/Downloads/java.png&quot;));\n        imageView.setFitWidth(200);\n        imageView.setPreserveRatio(true);\n\n        TextFlow textFlow = new TextFlow();\n        textFlow.getChildren().addAll(new Text(textArea.getText()), imageView);\n\n        textArea.textProperty().addListener((observable, oldValue, newValue) -&gt; {\n            textFlow.getChildren().clear();\n            textFlow.getChildren().addAll(new Text(newValue), imageView);\n        });\n\n        vbox.getChildren().addAll(textArea, textFlow);\n        root.setCenter(vbox);\n\n        Scene scene = new Scene(root, 640, 480);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><strong>Output:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/G0YZ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G0YZ7.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11001683,"reputation":27,"user_id":8082112,"display_name":"OnSN"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":846,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1682037730,"creation_date":1502291771,"question_id":45594602,"body_markdown":"I want to show images in a `TextArea`, just like a `div` with `contentEditable` in HTML.  \r\nI do NOT wan&#39;t a background image.  \r\nFor example:\r\n![`div` with `contentEditable` in HTML][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vsryk.png","title":"JavaFX: Is there any way to show images in a TextArea","body":"<p>I want to show images in a <code>TextArea</code>, just like a <code>div</code> with <code>contentEditable</code> in HTML.<br>\nI do NOT wan't a background image.<br>\nFor example:\n<img src=\"https://i.stack.imgur.com/Vsryk.png\" alt=\"&lt;code&gt;div&lt;/code&gt; with &lt;code&gt;contentEditable&lt;/code&gt; in HTML\"></p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":317577,"reputation":471,"user_id":4816848,"display_name":"Sam Donato"},"score":0,"creation_date":1682202809,"post_id":76069128,"comment_id":134178867,"body_markdown":"thank you. I wouldn&#39;t have come up with that","body":"thank you. I wouldn&#39;t have come up with that"}],"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1682037432,"creation_date":1682037432,"answer_id":76069128,"question_id":76069045,"body_markdown":"You can reference a [capturing group][1] in the replacement instead of using the search term itself:\r\n\r\n    // Create a regular expression pattern to match the search term\r\n    String pattern = &quot;(?i)\\\\b(&quot; + Pattern.quote(term) + &quot;)\\\\b&quot;;\r\n    // Wrap the found term in HTML bold tags               \r\n    String replacement = &quot;&lt;b&gt;$1&lt;/b&gt;&quot;;\r\n\r\nOutput:\r\n\r\n    &lt;b&gt;apples&lt;/b&gt; and oranges\r\n\r\nNote that I also wrapped the search term in `Pattern.quote()` in case it contains special characters.\r\n\r\n\r\n  [1]: https://www.regular-expressions.info/brackets.html","title":"Highlight search terms while maintaining original case","body":"<p>You can reference a <a href=\"https://www.regular-expressions.info/brackets.html\" rel=\"nofollow noreferrer\">capturing group</a> in the replacement instead of using the search term itself:</p>\n<pre><code>// Create a regular expression pattern to match the search term\nString pattern = &quot;(?i)\\\\b(&quot; + Pattern.quote(term) + &quot;)\\\\b&quot;;\n// Wrap the found term in HTML bold tags               \nString replacement = &quot;&lt;b&gt;$1&lt;/b&gt;&quot;;\n</code></pre>\n<p>Output:</p>\n<pre><code>&lt;b&gt;apples&lt;/b&gt; and oranges\n</code></pre>\n<p>Note that I also wrapped the search term in <code>Pattern.quote()</code> in case it contains special characters.</p>\n"}],"owner":{"account_id":317577,"reputation":471,"user_id":4816848,"display_name":"Sam Donato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76069128,"answer_count":1,"score":1,"last_activity_date":1682037432,"creation_date":1682036233,"question_id":76069045,"body_markdown":"I have two strings, one a search result and the other a list of search terms. I want to highlight the search terms. My issue is the text which is replaced, is replaced by the search term and it&#39;s matching case. I&#39;d like to keep the search result in the original case.\r\n```    \r\nString textToBeHighlighted = &quot;apples and oranges&quot;;\t\r\nString searchString = &quot;APPles&quot;;\t\r\n\r\nString[] searchTerms = searchString.split(&quot; &quot;);\r\n    \t\t\r\nfor (String term : searchTerms) {\r\n    // Create a regular expression pattern to match the search term\r\n    String pattern = &quot;(?i)\\\\b&quot; + term + &quot;\\\\b&quot;;\r\n    // Wrap the search term in HTML bold tags    \t\t\t\r\n    String replacement = &quot;&lt;b&gt;&quot; + term + &quot;&lt;/b&gt;&quot;;\r\n    \r\n    // Replace each occurrence of the search term with bolded text\r\n    textToBeHighlighted = textToBeHighlighted.replaceAll(pattern, replacement);\r\n}\r\n    \t\t\r\nSystem.out.println(textToBeHighlighted);\t\r\n```\r\n\r\nDesired result: `&quot;&lt;b&gt;apples&lt;/b&gt; and oranges&quot;`\r\n\r\nActual result: `&quot;&lt;b&gt;APPles&lt;/b&gt; and oranges&quot;`\r\n","title":"Highlight search terms while maintaining original case","body":"<p>I have two strings, one a search result and the other a list of search terms. I want to highlight the search terms. My issue is the text which is replaced, is replaced by the search term and it's matching case. I'd like to keep the search result in the original case.</p>\n<pre><code>String textToBeHighlighted = &quot;apples and oranges&quot;;  \nString searchString = &quot;APPles&quot;; \n\nString[] searchTerms = searchString.split(&quot; &quot;);\n            \nfor (String term : searchTerms) {\n    // Create a regular expression pattern to match the search term\n    String pattern = &quot;(?i)\\\\b&quot; + term + &quot;\\\\b&quot;;\n    // Wrap the search term in HTML bold tags               \n    String replacement = &quot;&lt;b&gt;&quot; + term + &quot;&lt;/b&gt;&quot;;\n    \n    // Replace each occurrence of the search term with bolded text\n    textToBeHighlighted = textToBeHighlighted.replaceAll(pattern, replacement);\n}\n            \nSystem.out.println(textToBeHighlighted);    \n</code></pre>\n<p>Desired result: <code>&quot;&lt;b&gt;apples&lt;/b&gt; and oranges&quot;</code></p>\n<p>Actual result: <code>&quot;&lt;b&gt;APPles&lt;/b&gt; and oranges&quot;</code></p>\n"},{"tags":["java","regex","regex-negation"],"comments":[{"owner":{"account_id":9804449,"reputation":1172,"user_id":7264739,"display_name":"Destroy666"},"score":1,"creation_date":1681550163,"post_id":76021231,"comment_id":134076988,"body_markdown":"Please edit the question with more details instead of just answering in comments.","body":"Please edit the question with more details instead of just answering in comments."},{"owner":{"account_id":6426510,"reputation":17091,"user_id":5527985,"display_name":"bobble bubble"},"score":1,"creation_date":1681558702,"post_id":76021231,"comment_id":134077949,"body_markdown":"What&#39;s the goal? Another idea: [`^(.*\\p{L}) +\\b`](https://regex101.com/r/zMmICB/2) (*first group* holds beginning).","body":"What&#39;s the goal? Another idea: <a href=\"https://regex101.com/r/zMmICB/2\" rel=\"nofollow noreferrer\"><code>^(.*\\p{L}) +\\b</code></a> (<i>first group</i> holds beginning)."}],"answers":[{"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1681550995,"post_id":76021371,"comment_id":134077083,"body_markdown":"OP is not clear in his question, but from their comment it looks like digit is not required to be near space: just spaces surrounded  by two digits are not allowed.","body":"OP is not clear in his question, but from their comment it looks like digit is not required to be near space: just spaces surrounded  by two digits are not allowed."},{"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"score":1,"creation_date":1681994744,"post_id":76021371,"comment_id":134148129,"body_markdown":"I forgot to come back to you, @markalex, but I think you are right and I had updated the answer accordingly.","body":"I forgot to come back to you, @markalex, but I think you are right and I had updated the answer accordingly."}],"tags":[],"owner":{"account_id":7142980,"reputation":323263,"user_id":5459839,"display_name":"trincot"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1681555070,"creation_date":1681550582,"answer_id":76021371,"question_id":76021231,"body_markdown":"You could use a look-ahead assertion:\r\n\r\nAssert that the candidate space is followed by at least one non-white space character and any further white space (if any) is surrounded by digits or occurs at the end of the string.\r\n\r\nFor that &quot;surrounding&quot; condition you can again use look-around assertions. This regex will only match white space that is surrounded by digits or occurs at the end of the string with a preceding digit: `&quot;(?&lt;=\\\\d)\\\\s+(?!\\\\D)&quot;`. Only that type of white space and `\\\\s*$` will be allowed **after** the potentially matched space with this assertion:\r\n\r\n```\r\n&quot;(?=\\\\S+((?&lt;=\\\\d)\\\\s+(?!\\\\D)\\\\S*)*\\\\s*$)&quot;\r\n```\r\n\r\nNow we could add the requirement of the candidate space itself: that it should either have no digit before it, or no digit following it:\r\n\r\n```\r\n&quot;(?:\\\\s(?=\\\\D)|(?&lt;!\\\\d)\\\\s)(?=\\\\S+((?&lt;=\\\\d)\\\\s+(?!\\\\D)\\\\S*)*\\\\s*$)&quot;\r\n```\r\n\r\nCode:\r\n\r\n```\r\nPattern pattern = Pattern.compile(&quot;(?:\\\\s(?=\\\\D)|(?&lt;!\\\\d)\\\\s)(?=\\\\S+((?&lt;=\\\\d)\\\\s+(?!\\\\D)\\\\S*)*\\\\s*$)&quot;);\r\nMatcher matcher = pattern.matcher(input);\r\nint lastIndex=-1;\r\nif (matcher.find()) { // We only expect at most one match\r\n    lastIndex = matcher.start();\r\n    // Do something with lastIndex\r\n}\r\n```\r\n\r\n","title":"How to find the last occurence of whitespace in string that is not between digits or trailing whitespace","body":"<p>You could use a look-ahead assertion:</p>\n<p>Assert that the candidate space is followed by at least one non-white space character and any further white space (if any) is surrounded by digits or occurs at the end of the string.</p>\n<p>For that &quot;surrounding&quot; condition you can again use look-around assertions. This regex will only match white space that is surrounded by digits or occurs at the end of the string with a preceding digit: <code>&quot;(?&lt;=\\\\d)\\\\s+(?!\\\\D)&quot;</code>. Only that type of white space and <code>\\\\s*$</code> will be allowed <strong>after</strong> the potentially matched space with this assertion:</p>\n<pre><code>&quot;(?=\\\\S+((?&lt;=\\\\d)\\\\s+(?!\\\\D)\\\\S*)*\\\\s*$)&quot;\n</code></pre>\n<p>Now we could add the requirement of the candidate space itself: that it should either have no digit before it, or no digit following it:</p>\n<pre><code>&quot;(?:\\\\s(?=\\\\D)|(?&lt;!\\\\d)\\\\s)(?=\\\\S+((?&lt;=\\\\d)\\\\s+(?!\\\\D)\\\\S*)*\\\\s*$)&quot;\n</code></pre>\n<p>Code:</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;(?:\\\\s(?=\\\\D)|(?&lt;!\\\\d)\\\\s)(?=\\\\S+((?&lt;=\\\\d)\\\\s+(?!\\\\D)\\\\S*)*\\\\s*$)&quot;);\nMatcher matcher = pattern.matcher(input);\nint lastIndex=-1;\nif (matcher.find()) { // We only expect at most one match\n    lastIndex = matcher.start();\n    // Do something with lastIndex\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1681551170,"post_id":76021390,"comment_id":134077103,"body_markdown":"It is not really working https://regex101.com/r/OicZBo/2","body":"It is not really working <a href=\"https://regex101.com/r/OicZBo/2\" rel=\"nofollow noreferrer\">regex101.com/r/OicZBo/2</a>"},{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1681551256,"post_id":76021390,"comment_id":134077112,"body_markdown":"Also, what `[\\\\d\\\\s]+|\\\\w+` supposed to mean? Why not just `[\\\\w\\\\s]+`?","body":"Also, what <code>[\\\\d\\\\s]+|\\\\w+</code> supposed to mean? Why not just <code>[\\\\w\\\\s]+</code>?"},{"owner":{"account_id":9804449,"reputation":1172,"user_id":7264739,"display_name":"Destroy666"},"score":1,"creation_date":1681551910,"post_id":76021390,"comment_id":134077166,"body_markdown":"@markalex it should be working according to examples that are in a comment, although the examples + description are still not too precise.","body":"@markalex it should be working according to examples that are in a comment, although the examples + description are still not too precise."},{"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"score":0,"creation_date":1681552046,"post_id":76021390,"comment_id":134077178,"body_markdown":"Hi thank you for your answers. in this string :&quot;jumnsch@domain.com m 5555-6666-7777-8888 612 3/1/2010&quot; i want to return the white space character before 5180.","body":"Hi thank you for your answers. in this string :&quot;jumnsch@domain.com m 5555-6666-7777-8888 612 3/1/2010&quot; i want to return the white space character before 5180."},{"owner":{"account_id":9804449,"reputation":1172,"user_id":7264739,"display_name":"Destroy666"},"score":3,"creation_date":1681552285,"post_id":76021390,"comment_id":134077199,"body_markdown":"@lewon chow there isn&#39;t even `5180` and you still keep adding not too precise examples scattered around comments instead of **editing the question as you should**.","body":"@lewon chow there isn&#39;t even <code>5180</code> and you still keep adding not too precise examples scattered around comments instead of <b>editing the question as you should</b>."}],"tags":[],"owner":{"account_id":10051056,"reputation":3485,"user_id":7430869,"display_name":"Trung Duong"},"comment_count":5,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1681564066,"creation_date":1681550826,"answer_id":76021390,"question_id":76021231,"body_markdown":"You could try this regex pattern: `(\\s)(?:[-\\d\\s/]+|\\w+)$`\r\n\r\n      Pattern pattern = Pattern.compile(&quot;(\\\\s)(?:[-\\\\d\\\\s/]+|\\\\w+)$&quot;);\r\n      Matcher matcher = pattern.matcher(input);\r\n      int lastIndex = -1;\r\n      if (matcher.find()) {\r\n        lastIndex = matcher.start();\r\n      } \r\n\r\nSee demo here: [Regex][1] and [Java][2].\r\n\r\n\r\n  [1]: https://regex101.com/r/Dw1tVm/1\r\n  [2]: https://onecompiler.com/java/3z5r488yf","title":"How to find the last occurence of whitespace in string that is not between digits or trailing whitespace","body":"<p>You could try this regex pattern: <code>(\\s)(?:[-\\d\\s/]+|\\w+)$</code></p>\n<pre><code>  Pattern pattern = Pattern.compile(&quot;(\\\\s)(?:[-\\\\d\\\\s/]+|\\\\w+)$&quot;);\n  Matcher matcher = pattern.matcher(input);\n  int lastIndex = -1;\n  if (matcher.find()) {\n    lastIndex = matcher.start();\n  } \n</code></pre>\n<p>See demo here: <a href=\"https://regex101.com/r/Dw1tVm/1\" rel=\"nofollow noreferrer\">Regex</a> and <a href=\"https://onecompiler.com/java/3z5r488yf\" rel=\"nofollow noreferrer\">Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157141,"user_id":5424988,"display_name":"The fourth bird"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681555186,"creation_date":1681555186,"answer_id":76021725,"question_id":76021231,"body_markdown":"If you only want to have the last occurrence, you can use `.*` and have the dot match a newline finding the last occurrence over all lines. Note that `\\s` also matches a newline.\r\n\r\n    (?s)^.*(\\s(?&lt;!\\d.)(?=\\d)|\\s(?&lt;=\\d.)(?!\\d|\\s*$)|\\s(?&lt;=[^\\d\\s].)(?=[^\\d\\s]))\r\n\r\n[Regex demo](https://regex101.com/r/VwiosT/1) | [Java demo](https://ideone.com/FeW1A8)\r\n\r\nThen you can use `matcher.find()` and get the index from group 1 using `matcher.start(1)`\r\n\r\n    String regex = &quot;(?s)^.*(\\\\s(?&lt;!\\\\d.)(?=\\\\d)|\\\\s(?&lt;=\\\\d.)(?!\\\\d|\\\\s*$)|\\\\s(?&lt;=[^\\\\d\\\\s].)(?=[^\\\\d\\\\s]))&quot;;\r\n    String string = &quot;jumnsch@domain.com m 5180-3807-3679-8221 612 3/1/2010\\n\\n&quot;\r\n            + &quot;hello this card number 4444 5555 6666 7777\\n\\n&quot;\r\n            + &quot;hello this bob&quot;;\r\n\r\n    Pattern pattern = Pattern.compile(regex);\r\n    Matcher matcher = pattern.matcher(string);\r\n\r\n    if (matcher.find()) {\r\n        System.out.println(&quot;[&quot; + matcher.group(1) + &quot;]&quot;);\r\n        System.out.println(matcher.start(1));\r\n    }\r\n\r\nOutput\r\n\r\n    [ ]\r\n    109\r\n\r\nIf you have single lines, you can use `\\h` to match a horizontal whitespace character.\r\n\r\n    ^.*(\\h(?&lt;!\\d.)(?=\\d)|\\h(?&lt;=\\d.)(?!\\d|\\h*$)|\\h(?&lt;=[^\\d\\h].)(?=[^\\d\\h]))\r\n\r\n[Regex demo](https://regex101.com/r/3BRR1b/1)","title":"How to find the last occurence of whitespace in string that is not between digits or trailing whitespace","body":"<p>If you only want to have the last occurrence, you can use <code>.*</code> and have the dot match a newline finding the last occurrence over all lines. Note that <code>\\s</code> also matches a newline.</p>\n<pre><code>(?s)^.*(\\s(?&lt;!\\d.)(?=\\d)|\\s(?&lt;=\\d.)(?!\\d|\\s*$)|\\s(?&lt;=[^\\d\\s].)(?=[^\\d\\s]))\n</code></pre>\n<p><a href=\"https://regex101.com/r/VwiosT/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/FeW1A8\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<p>Then you can use <code>matcher.find()</code> and get the index from group 1 using <code>matcher.start(1)</code></p>\n<pre><code>String regex = &quot;(?s)^.*(\\\\s(?&lt;!\\\\d.)(?=\\\\d)|\\\\s(?&lt;=\\\\d.)(?!\\\\d|\\\\s*$)|\\\\s(?&lt;=[^\\\\d\\\\s].)(?=[^\\\\d\\\\s]))&quot;;\nString string = &quot;jumnsch@domain.com m 5180-3807-3679-8221 612 3/1/2010\\n\\n&quot;\n        + &quot;hello this card number 4444 5555 6666 7777\\n\\n&quot;\n        + &quot;hello this bob&quot;;\n\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(string);\n\nif (matcher.find()) {\n    System.out.println(&quot;[&quot; + matcher.group(1) + &quot;]&quot;);\n    System.out.println(matcher.start(1));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>[ ]\n109\n</code></pre>\n<p>If you have single lines, you can use <code>\\h</code> to match a horizontal whitespace character.</p>\n<pre><code>^.*(\\h(?&lt;!\\d.)(?=\\d)|\\h(?&lt;=\\d.)(?!\\d|\\h*$)|\\h(?&lt;=[^\\d\\h].)(?=[^\\d\\h]))\n</code></pre>\n<p><a href=\"https://regex101.com/r/3BRR1b/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"comments":[{"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"score":0,"creation_date":1681722663,"post_id":76024766,"comment_id":134096729,"body_markdown":"Thank you , can you add one more condition that space must not be trailing. Example : &quot;jumnsch@domain.com m 5180-3807-3679-8221 612 3/1/2010 &quot;. here it should return white space character after m.","body":"Thank you , can you add one more condition that space must not be trailing. Example : &quot;jumnsch@domain.com m 5180-3807-3679-8221 612 3/1/2010 &quot;. here it should return white space character after m."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1681758751,"post_id":76024766,"comment_id":134105726,"body_markdown":"@lemonchow added a negative look ahead `(?!$)` (which means &quot;not followed by end of input&quot;) to ignore spaces at the end. Live demo updated too.","body":"@lemonchow added a negative look ahead <code>(?!$)</code> (which means &quot;not followed by end of input&quot;) to ignore spaces at the end. Live demo updated too."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682037008,"creation_date":1681592871,"answer_id":76024766,"question_id":76021231,"body_markdown":"If double spaces are not present:\r\n\r\n    ((?&lt;=\\D) | (?=\\D))(?!$|.*((?&lt;=\\D) | (?=\\D)(?!$)))\r\n\r\nSee [live demo][1].\r\n\r\n\r\n  [1]: https://rubular.com/r/ukGgZpwG7B013u","title":"How to find the last occurence of whitespace in string that is not between digits or trailing whitespace","body":"<p>If double spaces are not present:</p>\n<pre><code>((?&lt;=\\D) | (?=\\D))(?!$|.*((?&lt;=\\D) | (?=\\D)(?!$)))\n</code></pre>\n<p>See <a href=\"https://rubular.com/r/ukGgZpwG7B013u\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":76021371,"answer_count":4,"score":4,"last_activity_date":1682037008,"creation_date":1681548522,"question_id":76021231,"body_markdown":"should not consider the white space at the end of the string or the white space in between two digits, but it can be either preceding or followed by a digit but not in between digits.\r\nI wrote a regex expression ,but it is not working for all conditions according to my requirement.\r\n```\r\nPattern pattern =Pattern.compile(&quot;\\\\s(?![\\\\d\\\\s]*\\\\d$)&quot;);\r\nMatcher matcher=pattern.matcher(input);\r\nint lastIndex=-1;\r\nwhile(matcher.find()){\r\nlastIndex=matcher.start());\r\n}\r\n```\r\n\r\nhow can i achieve my requirement using regex expression and any other way to get last occurrence without while loop? \r\nExample\r\n```\r\njumnsch@domain.com m 5180-3807-3679-8221 612 3/1/2010\r\n                    ^\r\nhello this card number 4444 5555 6666 7777\r\n                      ^\r\nhello this bob\r\n          ^\r\n```","title":"How to find the last occurence of whitespace in string that is not between digits or trailing whitespace","body":"<p>should not consider the white space at the end of the string or the white space in between two digits, but it can be either preceding or followed by a digit but not in between digits.\nI wrote a regex expression ,but it is not working for all conditions according to my requirement.</p>\n<pre><code>Pattern pattern =Pattern.compile(&quot;\\\\s(?![\\\\d\\\\s]*\\\\d$)&quot;);\nMatcher matcher=pattern.matcher(input);\nint lastIndex=-1;\nwhile(matcher.find()){\nlastIndex=matcher.start());\n}\n</code></pre>\n<p>how can i achieve my requirement using regex expression and any other way to get last occurrence without while loop?\nExample</p>\n<pre><code>jumnsch@domain.com m 5180-3807-3679-8221 612 3/1/2010\n                    ^\nhello this card number 4444 5555 6666 7777\n                      ^\nhello this bob\n          ^\n</code></pre>\n"},{"tags":["java","kotlin","delta-lake"],"answers":[{"tags":[],"owner":{"account_id":1463971,"reputation":936,"user_id":1377418,"display_name":"deo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682036703,"creation_date":1682022597,"answer_id":76068049,"question_id":74774773,"body_markdown":"You have to use CloseableParquetDataIterator to iterate over scanned file. It is the internal package. so you can&#39;t access outside.  Here is a hack to access it, tested.        \r\n\r\n    import io.delta.standalone.DeltaLog;\r\n    import io.delta.standalone.DeltaScan;\r\n    import io.delta.standalone.OptimisticTransaction;\r\n    import io.delta.standalone.actions.AddFile;\r\n    import io.delta.standalone.data.CloseableIterator;\r\n    import io.delta.standalone.expressions.And;\r\n    import io.delta.standalone.expressions.EqualTo;\r\n    import io.delta.standalone.expressions.Literal;\r\n    import io.delta.standalone.internal.util.{ConversionUtils, FileNames, JsonUtils}\r\n    import io.delta.standalone.internal.data.CloseableParquetDataIterator\r\n        val deltaLog = DeltaLog.forTable(configuration, DELTA_TABLE_LOCATION)\r\n        val snapshot = deltaLog.snapshot()\r\n    import scala.collection.JavaConverters;\r\n    \r\n   \r\n    var allFiles = snapshot.scan(new EqualTo(snapshot.getMetadata().getSchema.column(&quot;partitioned_col_1&quot;), Literal.of(partition_val_1))).getFiles\r\n    \r\n    import scala.collection.JavaConverters._;\r\n        \r\n    var rowIterator = Class.forName(&quot;io.delta.standalone.internal.data.CloseableParquetDataIterator&quot;).getConstructor(classOf[Seq[(String, Map[String, String])]], snapshot.getMetadata.getSchema.getClass, classOf[java.util.TimeZone], classOf[org.apache.hadoop.conf.Configuration]).newInstance(JavaConverters.asScalaIteratorConverter(allFiles).asScala.toSeq.map {add =&gt; (DELTA_TABLE_LOCATION + &quot;/&quot; + add.getPath , add.getPartitionValues.asScala.toMap)}, snapshot.getMetadata.getSchema, null, new org.apache.hadoop.conf.Configuration()).asInstanceOf[CloseableIterator[io.delta.standalone.data.RowRecord]]\r\n    // your result here    \r\n    rowIterator.next\r\n\r\n","title":"Delta Standalone - Scan for Specific Data","body":"<p>You have to use CloseableParquetDataIterator to iterate over scanned file. It is the internal package. so you can't access outside.  Here is a hack to access it, tested.</p>\n<pre><code>import io.delta.standalone.DeltaLog;\nimport io.delta.standalone.DeltaScan;\nimport io.delta.standalone.OptimisticTransaction;\nimport io.delta.standalone.actions.AddFile;\nimport io.delta.standalone.data.CloseableIterator;\nimport io.delta.standalone.expressions.And;\nimport io.delta.standalone.expressions.EqualTo;\nimport io.delta.standalone.expressions.Literal;\nimport io.delta.standalone.internal.util.{ConversionUtils, FileNames, JsonUtils}\nimport io.delta.standalone.internal.data.CloseableParquetDataIterator\n    val deltaLog = DeltaLog.forTable(configuration, DELTA_TABLE_LOCATION)\n    val snapshot = deltaLog.snapshot()\nimport scala.collection.JavaConverters;\n\n\nvar allFiles = snapshot.scan(new EqualTo(snapshot.getMetadata().getSchema.column(&quot;partitioned_col_1&quot;), Literal.of(partition_val_1))).getFiles\n\nimport scala.collection.JavaConverters._;\n    \nvar rowIterator = Class.forName(&quot;io.delta.standalone.internal.data.CloseableParquetDataIterator&quot;).getConstructor(classOf[Seq[(String, Map[String, String])]], snapshot.getMetadata.getSchema.getClass, classOf[java.util.TimeZone], classOf[org.apache.hadoop.conf.Configuration]).newInstance(JavaConverters.asScalaIteratorConverter(allFiles).asScala.toSeq.map {add =&gt; (DELTA_TABLE_LOCATION + &quot;/&quot; + add.getPath , add.getPartitionValues.asScala.toMap)}, snapshot.getMetadata.getSchema, null, new org.apache.hadoop.conf.Configuration()).asInstanceOf[CloseableIterator[io.delta.standalone.data.RowRecord]]\n// your result here    \nrowIterator.next\n</code></pre>\n"}],"owner":{"account_id":4750297,"reputation":592,"user_id":3840506,"accept_rate":100,"display_name":"Adrian David Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":342,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682036703,"creation_date":1670865052,"question_id":74774773,"body_markdown":"I&#39;m using the [Delta Standalone library][1] to read data from a Delta Table. My goal is to assert that specific data was processed and persisted by an upstream function/service. \r\n\r\nI am able to do this by naively retrieving all files as shown by the function below:\r\n```kotlin\r\nfun retrieveRecords(): List&lt;RowRecord&gt; {\r\n    val log = DeltaLog.forTable(configuration, DELTA_TABLE_LOCATION)\r\n    val snapshot = log.snapshot()\r\n    val iter = snapshot.open()\r\n    val rows = mutableListOf&lt;RowRecord&gt;()\r\n    while (iter.hasNext()) {\r\n        rows.add(iter.next())\r\n    }\r\n    return rows\r\n}\r\n```\r\n\r\nThis, however, does not scale. I&#39;ve seen in the [Delta Standalone documentation][2] that the `scan()` operation looks promising, stating that is can be used to do the following:\r\n\r\n&gt; Access the files that match the partition filter portion of the readPredicate with DeltaScan::getFiles. This returns a memory-optimized iterator over the metadata files in the table.\r\n\r\n&gt; To further filter the returned files on non-partition columns, get the portion of input predicate not applied with DeltaScan::getResidualPredicate.\r\n\r\nFrom my understanding, I would be able to use this `scan()` operation, pass the partitioned columns and access the files (essentially the `path`) attribute and do some conversions from there. \r\n\r\nI&#39;m struggling to:\r\n\r\n 1. Pass the partitions as the required `Expression` type in the `scan()` operation; and\r\n 2. Find a way to then convert the retrieved `filepath`&#39;s into `RowRecords` to do the assertions.\r\n\r\n```kotlin\r\nval iter = log.snapshot().scan(\r\n    EqualTo(\r\n        Column(&quot;partitioned_col_1&quot;, StringType()),\r\n        Literal.of(&quot;partition_val_1&quot;),\r\n    )\r\n    // Scan expects only a single Expression\r\n    // Multiple Expressions are not allowed\r\n    // ,\r\n    // EqualTo(\r\n    //    Column(&quot;partitioned_col_2&quot;, StringType()),\r\n    //    Literal.of(&quot;partition_val_2&quot;),\r\n    // ),\r\n    // EqualTo(\r\n    //    Column(&quot;partitioned_col_3&quot;, StringType()),\r\n    //    Literal.of(&quot;partition_val_3&quot;),\r\n    // )\r\n).files\r\n\r\nval paths = mutableListOf&lt;String&gt;()\r\nwhile (iter.hasNext()) {\r\n    paths.add(iter.next().path)\r\n}\r\n\r\n// for path in paths:\r\n//     read and convert into RowRecord\r\n```\r\n\r\nI seem to be missing a few key pieces of information here. Any advice would be greatly appreciated. \r\n\r\n  [1]: https://docs.delta.io/latest/delta-standalone.html\r\n  [2]: https://Access%20the%20files%20that%20match%20the%20partition%20filter%20portion%20of%20the%20readPredicate%20with%20DeltaScan::getFiles.%20This%20returns%20a%20memory-optimized%20iterator%20over%20the%20metadata%20files%20in%20the%20table.","title":"Delta Standalone - Scan for Specific Data","body":"<p>I'm using the <a href=\"https://docs.delta.io/latest/delta-standalone.html\" rel=\"nofollow noreferrer\">Delta Standalone library</a> to read data from a Delta Table. My goal is to assert that specific data was processed and persisted by an upstream function/service.</p>\n<p>I am able to do this by naively retrieving all files as shown by the function below:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun retrieveRecords(): List&lt;RowRecord&gt; {\n    val log = DeltaLog.forTable(configuration, DELTA_TABLE_LOCATION)\n    val snapshot = log.snapshot()\n    val iter = snapshot.open()\n    val rows = mutableListOf&lt;RowRecord&gt;()\n    while (iter.hasNext()) {\n        rows.add(iter.next())\n    }\n    return rows\n}\n</code></pre>\n<p>This, however, does not scale. I've seen in the <a href=\"https://Access%20the%20files%20that%20match%20the%20partition%20filter%20portion%20of%20the%20readPredicate%20with%20DeltaScan::getFiles.%20This%20returns%20a%20memory-optimized%20iterator%20over%20the%20metadata%20files%20in%20the%20table.\" rel=\"nofollow noreferrer\">Delta Standalone documentation</a> that the <code>scan()</code> operation looks promising, stating that is can be used to do the following:</p>\n<blockquote>\n<p>Access the files that match the partition filter portion of the readPredicate with DeltaScan::getFiles. This returns a memory-optimized iterator over the metadata files in the table.</p>\n</blockquote>\n<blockquote>\n<p>To further filter the returned files on non-partition columns, get the portion of input predicate not applied with DeltaScan::getResidualPredicate.</p>\n</blockquote>\n<p>From my understanding, I would be able to use this <code>scan()</code> operation, pass the partitioned columns and access the files (essentially the <code>path</code>) attribute and do some conversions from there.</p>\n<p>I'm struggling to:</p>\n<ol>\n<li>Pass the partitions as the required <code>Expression</code> type in the <code>scan()</code> operation; and</li>\n<li>Find a way to then convert the retrieved <code>filepath</code>'s into <code>RowRecords</code> to do the assertions.</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val iter = log.snapshot().scan(\n    EqualTo(\n        Column(&quot;partitioned_col_1&quot;, StringType()),\n        Literal.of(&quot;partition_val_1&quot;),\n    )\n    // Scan expects only a single Expression\n    // Multiple Expressions are not allowed\n    // ,\n    // EqualTo(\n    //    Column(&quot;partitioned_col_2&quot;, StringType()),\n    //    Literal.of(&quot;partition_val_2&quot;),\n    // ),\n    // EqualTo(\n    //    Column(&quot;partitioned_col_3&quot;, StringType()),\n    //    Literal.of(&quot;partition_val_3&quot;),\n    // )\n).files\n\nval paths = mutableListOf&lt;String&gt;()\nwhile (iter.hasNext()) {\n    paths.add(iter.next().path)\n}\n\n// for path in paths:\n//     read and convert into RowRecord\n</code></pre>\n<p>I seem to be missing a few key pieces of information here. Any advice would be greatly appreciated.</p>\n"},{"tags":["java","php","function","methods","void"],"comments":[{"owner":{"account_id":1253831,"reputation":56648,"user_id":1213708,"display_name":"Nigel Ren"},"score":2,"creation_date":1682015345,"post_id":76067143,"comment_id":134153377,"body_markdown":"Has this anything to do with PHP?","body":"Has this anything to do with PHP?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1682015862,"post_id":76067143,"comment_id":134153489,"body_markdown":"When you call a method, don&#39;t label the argument(s). Java does not have named arguments, only positional arguments.","body":"When you call a method, don&#39;t label the argument(s). Java does not have named arguments, only positional arguments."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1682022737,"post_id":76067143,"comment_id":134154803,"body_markdown":"You should probably start with a Java textbook or the official [tutorial](https://docs.oracle.com/javase/tutorial/)","body":"You should probably start with a Java textbook or the official <a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">tutorial</a>"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682014850,"creation_date":1682014850,"answer_id":76067165,"question_id":76067143,"body_markdown":"`fungsiVoid( input: &quot;apa pun&quot;);` is not valid java.\r\nValid is `fungsiVoid( &quot;apa pun&quot;);`","title":"Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable source code - Erroneous tree type: &lt;any&gt;","body":"<p><code>fungsiVoid( input: &quot;apa pun&quot;);</code> is not valid java.\nValid is <code>fungsiVoid( &quot;apa pun&quot;);</code></p>\n"}],"owner":{"account_id":23202571,"reputation":1,"user_id":17297186,"display_name":"Farhan Rizky Wahyudi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682034674,"creation_date":1682014698,"question_id":76067143,"body_markdown":"    package fungsi;\r\n    \r\n    \r\n    public class Main {\r\n        public static void main (String[] args) {\r\n            \r\n            //void artinya hampa\r\n            System.out.println(simpel());\r\n            \r\n            fungsiVoid( input: &quot;apa pun&quot;);\r\n        }\r\n        \r\n    \r\n        private static void fungsiVoid (String input) {\r\n            System.out.println(input);\r\n        }\r\n        \r\n        \r\n    \r\n        private static float simpel() {\r\n            return 10.0f;\r\n        }\r\n        \r\n        private static int farhan() {\r\n            return 0;\r\n        }\r\n    }\r\n\r\nI&#39;ve got errors on this:\r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable source code - Erroneous tree type: &lt;any&gt;\r\n\tat fungsi.Main.main(Main.java:10)\r\n```\r\n\r\nWhat&#39;s that mean?\r\n","title":"Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable source code - Erroneous tree type: &lt;any&gt;","body":"<pre><code>package fungsi;\n\n\npublic class Main {\n    public static void main (String[] args) {\n        \n        //void artinya hampa\n        System.out.println(simpel());\n        \n        fungsiVoid( input: &quot;apa pun&quot;);\n    }\n    \n\n    private static void fungsiVoid (String input) {\n        System.out.println(input);\n    }\n    \n    \n\n    private static float simpel() {\n        return 10.0f;\n    }\n    \n    private static int farhan() {\n        return 0;\n    }\n}\n</code></pre>\n<p>I've got errors on this:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: Uncompilable source code - Erroneous tree type: &lt;any&gt;\n    at fungsi.Main.main(Main.java:10)\n</code></pre>\n<p>What's that mean?</p>\n"},{"tags":["java","minecraft","spigot"],"answers":[{"tags":[],"owner":{"account_id":28334758,"reputation":70,"user_id":21668471,"display_name":"atlaska826"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682034572,"creation_date":1681926372,"answer_id":76057446,"question_id":75969419,"body_markdown":"I believe the reason the collision is still happening is that you are spawning the mob **before** you are setting their collidable status to false. I think doing mob.setCollidable(false); before you spawn it in might be an issue since you set mob to null, but you could try it. The other option would be to spawn the mob somewhere away from the player and then set then teleport it to the player after you set all the values. \r\n\r\nEDIT: So it looks like .setCollidable is no longer working in Spigot, so this solution will not work. As VoidPainter said, you will need to use the Scoreboard API for collision rules.","title":"The mob is still colliding with the player","body":"<p>I believe the reason the collision is still happening is that you are spawning the mob <strong>before</strong> you are setting their collidable status to false. I think doing mob.setCollidable(false); before you spawn it in might be an issue since you set mob to null, but you could try it. The other option would be to spawn the mob somewhere away from the player and then set then teleport it to the player after you set all the values.</p>\n<p>EDIT: So it looks like .setCollidable is no longer working in Spigot, so this solution will not work. As VoidPainter said, you will need to use the Scoreboard API for collision rules.</p>\n"},{"tags":[],"owner":{"account_id":14625236,"reputation":56,"user_id":10562793,"display_name":"VoidPointer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681943703,"creation_date":1681933754,"answer_id":76058306,"question_id":75969419,"body_markdown":"I&#39;ve been working on similar stuff recently, but also haven&#39;t found a viable solution to this problem. I guess it&#39;s a Spigot/Paper issue, still planning to report it, but I have to do more testing first. So in my experience neither [`setCollidable(boolean)`][1], nor [`#getCollidableExemptions()`][2] seem to work properly.\r\n\r\nI believe the only way to disable collisions is to add your entities to one [`Team`][4] and disabling team&#39;s collisions. You can create scoreboards with teams using commands or through Spigot API, see [`ScoreboardManager`][5] and [`Scoreboard`][6]. This approach will work 100%, but it will also disable collision between players of the same team.\r\n\r\nUPD: it is confirmed on Spigot Jira that [`#setCollidable(boolean)`][1] is no longer in use [SPIGOT-6399][3]\r\n\r\n\r\n  [1]: https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/LivingEntity.html#setCollidable(boolean)\r\n  [2]: https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/LivingEntity.html#getCollidableExemptions()\r\n  [3]: https://hub.spigotmc.org/jira/browse/SPIGOT-6399?focusedId=38962&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-38962\r\n  [4]: https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/scoreboard/Team.html\r\n  [5]: https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/Server.html#getScoreboardManager()\r\n  [6]: https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/scoreboard/Scoreboard.html","title":"The mob is still colliding with the player","body":"<p>I've been working on similar stuff recently, but also haven't found a viable solution to this problem. I guess it's a Spigot/Paper issue, still planning to report it, but I have to do more testing first. So in my experience neither <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/LivingEntity.html#setCollidable(boolean)\" rel=\"nofollow noreferrer\"><code>setCollidable(boolean)</code></a>, nor <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/LivingEntity.html#getCollidableExemptions()\" rel=\"nofollow noreferrer\"><code>#getCollidableExemptions()</code></a> seem to work properly.</p>\n<p>I believe the only way to disable collisions is to add your entities to one <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/scoreboard/Team.html\" rel=\"nofollow noreferrer\"><code>Team</code></a> and disabling team's collisions. You can create scoreboards with teams using commands or through Spigot API, see <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/Server.html#getScoreboardManager()\" rel=\"nofollow noreferrer\"><code>ScoreboardManager</code></a> and <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/scoreboard/Scoreboard.html\" rel=\"nofollow noreferrer\"><code>Scoreboard</code></a>. This approach will work 100%, but it will also disable collision between players of the same team.</p>\n<p>UPD: it is confirmed on Spigot Jira that <a href=\"https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/LivingEntity.html#setCollidable(boolean)\" rel=\"nofollow noreferrer\"><code>#setCollidable(boolean)</code></a> is no longer in use <a href=\"https://hub.spigotmc.org/jira/browse/SPIGOT-6399?focusedId=38962&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-38962\" rel=\"nofollow noreferrer\">SPIGOT-6399</a></p>\n"}],"owner":{"account_id":28255289,"reputation":11,"user_id":21600838,"display_name":"snoopti"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":331,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1682034572,"creation_date":1681027511,"question_id":75969419,"body_markdown":"I have developed my own Minecraft plugin in Spigot for version 1.19, which includes the command &quot;mob&quot;. This command allows players to teleport a mob to their location while remaining invisible. However, I am encountering a problem where the mob is still able to push me, preventing me from remaining in one spot. \r\n\r\n\r\n\r\n```java\r\npackage de.snoopti.commands.extra;\r\n\r\nimport de.snoopti.Main;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.entity.EntityType;\r\nimport org.bukkit.entity.LivingEntity;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.event.EventHandler;\r\nimport org.bukkit.event.Listener;\r\nimport org.bukkit.event.player.PlayerInteractEntityEvent;\r\nimport org.bukkit.event.player.PlayerQuitEvent;\r\nimport org.bukkit.plugin.Plugin;\r\n\r\npublic class Mob implements CommandExecutor, Listener {\r\n\r\n    private final Plugin plugin;\r\n    private LivingEntity mob;\r\n    private Player player;\r\n\r\n    public Mob(Main main) {\r\n        this.plugin = main;\r\n    }\r\n\r\n    @Override\r\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\r\n        if (!(sender instanceof Player)) {\r\n            sender.sendMessage(Main.PREFIX + &quot;Dieser Befehl kann nur von einem Spieler ausgef&#252;hrt werden.&quot;);\r\n            return true;\r\n        }\r\n\r\n        if (mob != null) {\r\n            mob.remove();\r\n            player.setInvisible(false);\r\n            mob = null;\r\n            player = null;\r\n        }\r\n\r\n        player = (Player) sender;\r\n\r\n        if (args.length != 1) {\r\n            player.sendMessage(Main.PREFIX + &quot;Verwendung: /mob &lt;Tier&gt;&quot;);\r\n            return true;\r\n        }\r\n\r\n        EntityType entityType = EntityType.fromName(args[0]);\r\n        if (entityType == null || !entityType.isAlive()) {\r\n            player.sendMessage(Main.PREFIX + &quot;&#167;cDies ist kein g&#252;ltiges Tier.&quot;);\r\n            player.playSound(player.getLocation(), Main.commandSOUNDerror, (float) Main.commandSOUNDvolume, 1f);\r\n            return true;\r\n        }\r\n\r\n        mob = (LivingEntity) player.getWorld().spawnEntity(player.getLocation(), entityType);\r\n        mob.setAI(false);\r\n        mob.setCanPickupItems(false);\r\n        mob.setInvulnerable(true);\r\n        mob.setCollidable(false);\r\n\r\n        player.sendMessage(Main.PREFIX + &quot;Du hast dich in ein &#167;5&quot; + args[0] + &quot; &#167;7verwandelt.&quot;);\r\n        player.playSound(player.getLocation(), Main.commandSOUND, (float) Main.commandSOUNDvolume, 1f);\r\n\r\n        player.setInvisible(true);\r\n        mob.setCollidable(false);\r\n        player.setCollidable(false);\r\n\r\n        Bukkit.getScheduler().scheduleSyncRepeatingTask(plugin, new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                if (!player.isOnline()) {\r\n                    mob.remove();\r\n                    player.setInvisible(false);\r\n                    mob = null;\r\n                    player = null;\r\n                    return;\r\n                }\r\n                if (!mob.isValid() || mob.isDead()) {\r\n                    player.setInvisible(false);\r\n                    mob = null;\r\n                    player = null;\r\n                    return;\r\n                }\r\n                mob.teleport(player.getLocation());\r\n            }\r\n        }, 10L, 1L);\r\n\r\n        return true;\r\n    }\r\n\r\n    @EventHandler\r\n    public void onPlayerInteractEntity(PlayerInteractEntityEvent event) {\r\n        if (mob != null &amp;&amp; event.getRightClicked().equals(mob)) {\r\n            event.setCancelled(true);\r\n        }\r\n    }\r\n\r\n    @EventHandler\r\n    public void onPlayerQuit(PlayerQuitEvent event) {\r\n        if (player != null &amp;&amp; event.getPlayer().equals(player)) {\r\n            if (mob != null) {\r\n                mob.remove();\r\n                mob = null;\r\n            }\r\n            player = null;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"The mob is still colliding with the player","body":"<p>I have developed my own Minecraft plugin in Spigot for version 1.19, which includes the command &quot;mob&quot;. This command allows players to teleport a mob to their location while remaining invisible. However, I am encountering a problem where the mob is still able to push me, preventing me from remaining in one spot.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.snoopti.commands.extra;\n\nimport de.snoopti.Main;\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.entity.EntityType;\nimport org.bukkit.entity.LivingEntity;\nimport org.bukkit.entity.Player;\nimport org.bukkit.event.EventHandler;\nimport org.bukkit.event.Listener;\nimport org.bukkit.event.player.PlayerInteractEntityEvent;\nimport org.bukkit.event.player.PlayerQuitEvent;\nimport org.bukkit.plugin.Plugin;\n\npublic class Mob implements CommandExecutor, Listener {\n\n    private final Plugin plugin;\n    private LivingEntity mob;\n    private Player player;\n\n    public Mob(Main main) {\n        this.plugin = main;\n    }\n\n    @Override\n    public boolean onCommand(CommandSender sender, Command command, String label, String[] args) {\n        if (!(sender instanceof Player)) {\n            sender.sendMessage(Main.PREFIX + &quot;Dieser Befehl kann nur von einem Spieler ausgeführt werden.&quot;);\n            return true;\n        }\n\n        if (mob != null) {\n            mob.remove();\n            player.setInvisible(false);\n            mob = null;\n            player = null;\n        }\n\n        player = (Player) sender;\n\n        if (args.length != 1) {\n            player.sendMessage(Main.PREFIX + &quot;Verwendung: /mob &lt;Tier&gt;&quot;);\n            return true;\n        }\n\n        EntityType entityType = EntityType.fromName(args[0]);\n        if (entityType == null || !entityType.isAlive()) {\n            player.sendMessage(Main.PREFIX + &quot;§cDies ist kein gültiges Tier.&quot;);\n            player.playSound(player.getLocation(), Main.commandSOUNDerror, (float) Main.commandSOUNDvolume, 1f);\n            return true;\n        }\n\n        mob = (LivingEntity) player.getWorld().spawnEntity(player.getLocation(), entityType);\n        mob.setAI(false);\n        mob.setCanPickupItems(false);\n        mob.setInvulnerable(true);\n        mob.setCollidable(false);\n\n        player.sendMessage(Main.PREFIX + &quot;Du hast dich in ein §5&quot; + args[0] + &quot; §7verwandelt.&quot;);\n        player.playSound(player.getLocation(), Main.commandSOUND, (float) Main.commandSOUNDvolume, 1f);\n\n        player.setInvisible(true);\n        mob.setCollidable(false);\n        player.setCollidable(false);\n\n        Bukkit.getScheduler().scheduleSyncRepeatingTask(plugin, new Runnable() {\n            @Override\n            public void run() {\n                if (!player.isOnline()) {\n                    mob.remove();\n                    player.setInvisible(false);\n                    mob = null;\n                    player = null;\n                    return;\n                }\n                if (!mob.isValid() || mob.isDead()) {\n                    player.setInvisible(false);\n                    mob = null;\n                    player = null;\n                    return;\n                }\n                mob.teleport(player.getLocation());\n            }\n        }, 10L, 1L);\n\n        return true;\n    }\n\n    @EventHandler\n    public void onPlayerInteractEntity(PlayerInteractEntityEvent event) {\n        if (mob != null &amp;&amp; event.getRightClicked().equals(mob)) {\n            event.setCancelled(true);\n        }\n    }\n\n    @EventHandler\n    public void onPlayerQuit(PlayerQuitEvent event) {\n        if (player != null &amp;&amp; event.getPlayer().equals(player)) {\n            if (mob != null) {\n                mob.remove();\n                mob = null;\n            }\n            player = null;\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","payara","jakarta-migration"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1681395862,"post_id":74935726,"comment_id":134052280,"body_markdown":"Do you have other dependency other than what mentioned in pom.xml?","body":"Do you have other dependency other than what mentioned in pom.xml?"},{"owner":{"account_id":5599047,"reputation":89,"user_id":4435813,"display_name":"barry"},"score":0,"creation_date":1685459629,"post_id":74935726,"comment_id":134661338,"body_markdown":"I have updated the payara version to Payara Server 6.2023.5 and the spring can be started with OpenJDK 17.0.2","body":"I have updated the payara version to Payara Server 6.2023.5 and the spring can be started with OpenJDK 17.0.2"}],"answers":[{"tags":[],"owner":{"account_id":2425257,"reputation":5090,"user_id":2117355,"accept_rate":71,"display_name":"Mark"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681385362,"creation_date":1681385362,"answer_id":76004897,"question_id":74935726,"body_markdown":"I had a similar situation while building my Spring Boot 3 project from the command line using Gradle.  The solution that worked for me is to upgrade the version of Gradle.  I upgraded from 7.2 to 7.6 and that solved the ASM9 issue.\r\n\r\nSee the line starting with `distributionUrl` in `gradle-wrapper.properties`, located in `gradle/wrapper`:\r\n\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionPath=wrapper/dists\r\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\r\nzipStoreBase=GRADLE_USER_HOME\r\nzipStorePath=wrapper/dists\r\n```","title":"Springframework : PermittedSubclasses requires ASM8/9","body":"<p>I had a similar situation while building my Spring Boot 3 project from the command line using Gradle.  The solution that worked for me is to upgrade the version of Gradle.  I upgraded from 7.2 to 7.6 and that solved the ASM9 issue.</p>\n<p>See the line starting with <code>distributionUrl</code> in <code>gradle-wrapper.properties</code>, located in <code>gradle/wrapper</code>:</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-bin.zip\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\n</code></pre>\n"},{"comments":[{"owner":{"account_id":217137,"reputation":37872,"user_id":472792,"accept_rate":50,"display_name":"Arjan Tijms"},"score":0,"creation_date":1681944468,"post_id":76015867,"comment_id":134140267,"body_markdown":"Which versions of ASM and CDI is GlassFish using, and which newer versions of both these two are available?","body":"Which versions of ASM and CDI is GlassFish using, and which newer versions of both these two are available?"},{"owner":{"account_id":5599047,"reputation":89,"user_id":4435813,"display_name":"barry"},"score":0,"creation_date":1685459535,"post_id":76015867,"comment_id":134661315,"body_markdown":"I upgrade to latest version of payara (the version released in May 2023) and it seem ok now. Thank you very much","body":"I upgrade to latest version of payara (the version released in May 2023) and it seem ok now. Thank you very much"}],"tags":[],"owner":{"account_id":6552457,"reputation":51,"user_id":5066373,"display_name":"Bernie 1411"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681480525,"creation_date":1681480525,"answer_id":76015867,"question_id":74935726,"body_markdown":"I thought I had answered this already. Glassfish and Payara are using older versions of ASM and CDI. Until they upgrade their distributions, we&#39;re stuck migrating to Java 17 and Jakarta.","title":"Springframework : PermittedSubclasses requires ASM8/9","body":"<p>I thought I had answered this already. Glassfish and Payara are using older versions of ASM and CDI. Until they upgrade their distributions, we're stuck migrating to Java 17 and Jakarta.</p>\n"},{"tags":[],"owner":{"account_id":6552457,"reputation":51,"user_id":5066373,"display_name":"Bernie 1411"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682033865,"creation_date":1682033865,"answer_id":76068894,"question_id":74935726,"body_markdown":"I saw a payara release notice that announced that the most recent version of Payara contained ASM 9. For me, thats 1/2 the battle cause SpringWebMvc still needs newer CDI installed as well. I&#39;ll pull down payara soon and try again....maybe they fixed CDI too but it wasn&#39;t in the release notice.","title":"Springframework : PermittedSubclasses requires ASM8/9","body":"<p>I saw a payara release notice that announced that the most recent version of Payara contained ASM 9. For me, thats 1/2 the battle cause SpringWebMvc still needs newer CDI installed as well. I'll pull down payara soon and try again....maybe they fixed CDI too but it wasn't in the release notice.</p>\n"}],"owner":{"account_id":5599047,"reputation":89,"user_id":4435813,"display_name":"barry"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1808,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1682033865,"creation_date":1672194584,"question_id":74935726,"body_markdown":"I have updated the lib and dependency of my project including : \r\n\r\n 1. From OpenJDK 11 to OpenJDK 17.0.2\r\n 2. From JavaEE to Jakarta 9\r\n 3. From Springboot 2.7.4 to 3.0.1\r\n\r\nThe application can be built successfully, and I try to deploy it to Payara Server 6.2022.2 that running OpenJDK 17. However, the following errors are kept throwing and Spring cannot be started. \r\n\r\nI have confirmed that the Springboot is the latest version and supports Java 17 environment. Is there any dependency missing?\r\n\r\nMy pom.xml :\r\n&gt;     &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n&gt;     &lt;parent&gt;\r\n&gt;         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;         &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n&gt;         &lt;version&gt;3.0.1&lt;/version&gt;\r\n&gt;         &lt;relativePath/&gt; \r\n&gt;     &lt;/parent&gt;\r\n&gt;     &lt;version&gt;1.0&lt;/version&gt;\r\n&gt;     &lt;packaging&gt;war&lt;/packaging&gt;\r\n&gt;     \r\n&gt;     &lt;properties&gt;\r\n&gt;         &lt;java.version&gt;17&lt;/java.version&gt;\r\n&gt;         &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n&gt;         &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n&gt;     &lt;/properties&gt;\r\n&gt;   \r\n&gt;     &lt;build&gt;\r\n&gt;         &lt;plugins&gt;\r\n&gt;             &lt;plugin&gt;\r\n&gt;                 &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;                 &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n&gt;             &lt;/plugin&gt;\r\n&gt;         &lt;/plugins&gt;\r\n&gt;     &lt;/build&gt;\r\n&gt; \r\n&gt;     &lt;dependencies&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n&gt;             &lt;exclusions&gt;\r\n&gt;                 &lt;exclusion&gt;\r\n&gt;                     &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\r\n&gt;                     &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n&gt;                 &lt;/exclusion&gt;\r\n&gt;                 &lt;exclusion&gt;\r\n&gt;                     &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n&gt;                     &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n&gt;                 &lt;/exclusion&gt;\r\n&gt;                 &lt;exclusion&gt;\r\n&gt;                     &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\r\n&gt;                     &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n&gt;                 &lt;/exclusion&gt;\r\n&gt;             &lt;/exclusions&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-boot-loader&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;     \r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;         &lt;dependency&gt;\r\n&gt;             &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n&gt;             &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n&gt;             &lt;version&gt;9.0.0&lt;/version&gt;\r\n&gt;             &lt;type&gt;jar&lt;/type&gt;\r\n&gt;         &lt;/dependency&gt;\r\n&gt;     &lt;/dependencies&gt;\r\n\r\nThe content of module-info\r\n&gt;     requires jakarta.jakartaee.api;\r\n&gt;     requires spring.beans;\r\n&gt;     requires spring.boot;\r\n&gt;     requires spring.boot.loader;\r\n&gt;     requires spring.boot.autoconfigure;\r\n&gt;     requires spring.context;\r\n&gt;     requires spring.core;\r\n&gt;     requires spring.security.config;\r\n&gt;     requires spring.security.core;\r\n&gt;     requires spring.security.web;\r\n&gt;     requires spring.web;\r\n\r\nThe Application Class :\r\n```\r\nimport com.xyz.web.application.resources.env;\r\nimport org.springframework.boot.SpringApplication; \r\nimport org.springframework.boot.autoconfigure.SpringBootApplication; \r\nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\r\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n\r\n@SpringBootApplication \r\n@EnableConfigurationProperties(env.class)\r\npublic class Application extends SpringBootServletInitializer {\r\n        \r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\nThe log of Payara Server :\r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/beans/factory/aot/BeanRegistrationsAotContribution$Registration.class\r\n&gt; of size 2202 java.lang.UnsupportedOperationException: Record requires\r\n&gt; ASM8 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitRecordComponent(ClassVisitor.java:305)\r\n&gt; \tat\r\n&gt; org.objectweb.asm.ClassReader.readRecordComponent(ClassReader.java:953)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:731) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n&gt; \r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/boot/cloud/CloudPlatform.class of size 3703\r\n&gt; java.lang.UnsupportedOperationException: PermittedSubclasses requires\r\n&gt; ASM9 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:706) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n&gt; \r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/boot/context/config/ConfigDataNotFoundAction.class\r\n&gt; of size 1750 java.lang.UnsupportedOperationException:\r\n&gt; PermittedSubclasses requires ASM9 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:706) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n&gt; \r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/boot/jdbc/DatabaseDriver.class of size 9179\r\n&gt; java.lang.UnsupportedOperationException: PermittedSubclasses requires\r\n&gt; ASM9 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:706) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n&gt; \r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/boot/convert/DurationStyle.class of size 3821\r\n&gt; java.lang.UnsupportedOperationException: PermittedSubclasses requires\r\n&gt; ASM9 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:706) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n&gt; \r\n&gt; SEVERE:   Exception while visiting\r\n&gt; org/springframework/boot/convert/PeriodStyle.class of size 3986\r\n&gt; java.lang.UnsupportedOperationException: PermittedSubclasses requires\r\n&gt; ASM9 \tat\r\n&gt; org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\r\n&gt; \tat org.objectweb.asm.ClassReader.accept(ClassReader.java:706) \tat\r\n&gt; org.objectweb.asm.ClassReader.accept(ClassReader.java:424) \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336) \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\r\n&gt; \tat\r\n&gt; com.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\r\n&gt; \tat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\r\n&gt; \tat\r\n&gt; org.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\r\n&gt; \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n&gt; \tat\r\n&gt; java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n&gt; \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n\r\n\r\n","title":"Springframework : PermittedSubclasses requires ASM8/9","body":"<p>I have updated the lib and dependency of my project including :</p>\n<ol>\n<li>From OpenJDK 11 to OpenJDK 17.0.2</li>\n<li>From JavaEE to Jakarta 9</li>\n<li>From Springboot 2.7.4 to 3.0.1</li>\n</ol>\n<p>The application can be built successfully, and I try to deploy it to Payara Server 6.2022.2 that running OpenJDK 17. However, the following errors are kept throwing and Spring cannot be started.</p>\n<p>I have confirmed that the Springboot is the latest version and supports Java 17 environment. Is there any dependency missing?</p>\n<p>My pom.xml :</p>\n<blockquote>\n<pre><code>&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n    &lt;relativePath/&gt; \n&lt;/parent&gt;\n&lt;version&gt;1.0&lt;/version&gt;\n&lt;packaging&gt;war&lt;/packaging&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;tomcat-embed-logging-juli&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;artifactId&gt;tomcat-embed-el&lt;/artifactId&gt;\n                &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-loader&lt;/artifactId&gt;\n    &lt;/dependency&gt;     \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n        &lt;version&gt;9.0.0&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n</blockquote>\n<p>The content of module-info</p>\n<blockquote>\n<pre><code>requires jakarta.jakartaee.api;\nrequires spring.beans;\nrequires spring.boot;\nrequires spring.boot.loader;\nrequires spring.boot.autoconfigure;\nrequires spring.context;\nrequires spring.core;\nrequires spring.security.config;\nrequires spring.security.core;\nrequires spring.security.web;\nrequires spring.web;\n</code></pre>\n</blockquote>\n<p>The Application Class :</p>\n<pre><code>import com.xyz.web.application.resources.env;\nimport org.springframework.boot.SpringApplication; \nimport org.springframework.boot.autoconfigure.SpringBootApplication; \nimport org.springframework.boot.context.properties.EnableConfigurationProperties;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\n\n@SpringBootApplication \n@EnableConfigurationProperties(env.class)\npublic class Application extends SpringBootServletInitializer {\n        \n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p>The log of Payara Server :</p>\n<blockquote>\n<p>SEVERE:   Exception while visiting\norg/springframework/beans/factory/aot/BeanRegistrationsAotContribution$Registration.class\nof size 2202 java.lang.UnsupportedOperationException: Record requires\nASM8  at\norg.objectweb.asm.ClassVisitor.visitRecordComponent(ClassVisitor.java:305)\nat\norg.objectweb.asm.ClassReader.readRecordComponent(ClassReader.java:953)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:731)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>SEVERE:   Exception while visiting\norg/springframework/boot/cloud/CloudPlatform.class of size 3703\njava.lang.UnsupportedOperationException: PermittedSubclasses requires\nASM9  at\norg.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:706)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>SEVERE:   Exception while visiting\norg/springframework/boot/context/config/ConfigDataNotFoundAction.class\nof size 1750 java.lang.UnsupportedOperationException:\nPermittedSubclasses requires ASM9     at\norg.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:706)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>SEVERE:   Exception while visiting\norg/springframework/boot/jdbc/DatabaseDriver.class of size 9179\njava.lang.UnsupportedOperationException: PermittedSubclasses requires\nASM9  at\norg.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:706)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>SEVERE:   Exception while visiting\norg/springframework/boot/convert/DurationStyle.class of size 3821\njava.lang.UnsupportedOperationException: PermittedSubclasses requires\nASM9  at\norg.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:706)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n<p>SEVERE:   Exception while visiting\norg/springframework/boot/convert/PeriodStyle.class of size 3986\njava.lang.UnsupportedOperationException: PermittedSubclasses requires\nASM9  at\norg.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\nat org.objectweb.asm.ClassReader.accept(ClassReader.java:706)   at\norg.objectweb.asm.ClassReader.accept(ClassReader.java:424)    at\norg.glassfish.hk2.classmodel.reflect.Parser$5.on(Parser.java:336)     at\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.handleEntry(ReadableArchiveScannerAdapter.java:164)\nat\ncom.sun.enterprise.v3.server.ReadableArchiveScannerAdapter.onSelectedEntries(ReadableArchiveScannerAdapter.java:130)\nat org.glassfish.hk2.classmodel.reflect.Parser.doJob(Parser.java:321)\nat\norg.glassfish.hk2.classmodel.reflect.Parser.access$300(Parser.java:44)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:280)\nat\norg.glassfish.hk2.classmodel.reflect.Parser$3.call(Parser.java:269)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat\njava.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)</p>\n</blockquote>\n"},{"tags":["java","batch-file","process","processbuilder"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682031465,"post_id":76068727,"comment_id":134156105,"body_markdown":"Might be an idea to post the *full* stack trace in the question (formatted as code). Is there anything in that error log? Why are you closing the process streams? You shouldn&#39;t be doing. Those streams are taken care of by the redirects","body":"Might be an idea to post the <i>full</i> stack trace in the question (formatted as code). Is there anything in that error log? Why are you closing the process streams? You shouldn&#39;t be doing. Those streams are taken care of by the redirects"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682031708,"post_id":76068727,"comment_id":134156133,"body_markdown":"I have added the stak trace @g00se","body":"I have added the stak trace @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682032033,"post_id":76068727,"comment_id":134156168,"body_markdown":"`System.out.println(Files.exists(Path.of(scriptPath)));` tells you what?","body":"<code>System.out.println(Files.exists(Path.of(scriptPath)));</code> tells you what?"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682032325,"post_id":76068727,"comment_id":134156204,"body_markdown":"true on both instances","body":"true on both instances"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682032505,"post_id":76068727,"comment_id":134156218,"body_markdown":"Are there any paths *inside* that batch file? Also, try `command = List.of(&quot;cmd.exe&quot;, &quot;/c&quot;, scriptPath);`","body":"Are there any paths <i>inside</i> that batch file? Also, try <code>command = List.of(&quot;cmd.exe&quot;, &quot;&#47;c&quot;, scriptPath);</code>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682032513,"post_id":76068727,"comment_id":134156219,"body_markdown":"I don&#39;t think you can run a batch file directly, instead, you need to run it via a `cmd` context","body":"I don&#39;t think you can run a batch file directly, instead, you need to run it via a <code>cmd</code> context"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682032652,"post_id":76068727,"comment_id":134156234,"body_markdown":"I tried including the List.of(&quot;cmd.exe&quot;, &quot;/c&quot;, scriptPath); still the same issue.\n@MadProgrammer I am able to run the first time, the issue comes when I execute it a second time or n number of times after the first time","body":"I tried including the List.of(&quot;cmd.exe&quot;, &quot;/c&quot;, scriptPath); still the same issue. @MadProgrammer I am able to run the first time, the issue comes when I execute it a second time or n number of times after the first time"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682032733,"post_id":76068727,"comment_id":134156242,"body_markdown":"@g00se no there are no paths inside the batch file","body":"@g00se no there are no paths inside the batch file"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1682032881,"post_id":76068727,"comment_id":134156256,"body_markdown":"I wouldn&#39;t be doing `p.getInputStream().close(); p.getOutputStream().close(); p.getErrorStream().close();` - you shouldn&#39;t be ignoring the streams as some processes will stop running if the streams are filled. I&#39;m not sure you need `p.destory()` after the process has exited - you might only need it if `waitFor` returns before the process exits, so you should be checking it&#39;s state first","body":"I wouldn&#39;t be doing <code>p.getInputStream().close(); p.getOutputStream().close(); p.getErrorStream().close();</code> - you shouldn&#39;t be ignoring the streams as some processes will stop running if the streams are filled. I&#39;m not sure you need <code>p.destory()</code> after the process has exited - you might only need it if <code>waitFor</code> returns before the process exits, so you should be checking it&#39;s state first"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1682033001,"post_id":76068727,"comment_id":134156264,"body_markdown":"Well, I already mentioned about the closing of the streams. I hope that&#39;s been acted upon ;)","body":"Well, I already mentioned about the closing of the streams. I hope that&#39;s been acted upon ;)"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682033076,"post_id":76068727,"comment_id":134156270,"body_markdown":"I actually added them to see if that was causing the error, meaning if the unclosed streams were causing this issue, but even when I removed it, it is still same case","body":"I actually added them to see if that was causing the error, meaning if the unclosed streams were causing this issue, but even when I removed it, it is still same case"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682033182,"post_id":76068727,"comment_id":134156284,"body_markdown":"*But when I run the api for the second time without bouncing the application* What do those last three words mean?","body":"<i>But when I run the api for the second time without bouncing the application</i> What do those last three words mean?"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682033202,"post_id":76068727,"comment_id":134156286,"body_markdown":"Modified the question with the changes you mentioned","body":"Modified the question with the changes you mentioned"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682033257,"post_id":76068727,"comment_id":134156292,"body_markdown":"Bouncing the application - restarting the application, stop and start the entire jar or java applicaiton, if you may","body":"Bouncing the application - restarting the application, stop and start the entire jar or java applicaiton, if you may"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682033374,"post_id":76068727,"comment_id":134156304,"body_markdown":"You will probably *need* to stop the app each time fully before each run - Java has a habit of locking files","body":"You will probably <i>need</i> to stop the app each time fully before each run - Java has a habit of locking files"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682033473,"post_id":76068727,"comment_id":134156315,"body_markdown":"thats strange, is there a way to release the lock without stopping the application?","body":"thats strange, is there a way to release the lock without stopping the application?"},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1682033739,"post_id":76068727,"comment_id":134156346,"body_markdown":"That stack trace seems to point to the standard output as the problem, not the batch file, no?","body":"That stack trace seems to point to the standard output as the problem, not the batch file, no?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682034575,"post_id":76068727,"comment_id":134156443,"body_markdown":"*thats strange, is there a way to release the lock without stopping the application?* Not saying that&#39;s definitely the case, but I definitely would terminate each time. There&#39;s also locking of redirect files to consider. Does it work then if you do? *That stack trace seems to point to the standard output as the problem, not the batch file, no?* Possibly. Check those log file (redirect) paths are OK","body":"<i>thats strange, is there a way to release the lock without stopping the application?</i> Not saying that&#39;s definitely the case, but I definitely would terminate each time. There&#39;s also locking of redirect files to consider. Does it work then if you do? <i>That stack trace seems to point to the standard output as the problem, not the batch file, no?</i> Possibly. Check those log file (redirect) paths are OK"},{"owner":{"account_id":2440205,"reputation":77906,"user_id":2128947,"display_name":"Magoo"},"score":0,"creation_date":1682040051,"post_id":76068727,"comment_id":134157024,"body_markdown":"[I know no java] Does anything actually *terminate* the batch?","body":"[I know no java] Does anything actually <i>terminate</i> the batch?"},{"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"score":0,"creation_date":1682087795,"post_id":76068727,"comment_id":134165329,"body_markdown":"The redirect paths are fine too @g00se","body":"The redirect paths are fine too @g00se"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682088928,"post_id":76068727,"comment_id":134165570,"body_markdown":"OK that&#39;s good, but those files might be locked, making it impossible to write to them from another process at the same time. You can test that hypothesis by generating unique redirect file names. If it then works as expected, then the stderr and/or the stdout files were the only ones locked (i.e. not the batch file)","body":"OK that&#39;s good, but those files might be locked, making it impossible to write to them from another process at the same time. You can test that hypothesis by generating unique redirect file names. If it then works as expected, then the stderr and/or the stdout files were the only ones locked (i.e. not the batch file)"}],"owner":{"account_id":27845330,"reputation":97,"user_id":21260927,"display_name":"Ananya"},"comment_count":21,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682033175,"creation_date":1682030892,"question_id":76068727,"body_markdown":"I am trying to run a batch file from my java application using Processbuilder and using an api to call this Processbuilder. When I run the api for the first time the Processbuilder is able to locate the batch file and then it is doing the intended actions. But when I run the api for the second time without bouncing the application, I am getting an IO Exception:\r\n\r\n    java.io.IOException: Cannot run program &quot;I:/test/test.bat&quot;: The system cannot find the path specified\r\n\r\nThis is how my code looks\r\nService layer:\r\n    \r\n    @Override\r\n    public String submitRequest() {\r\n        List&lt;String&gt; command = new ArrayList&lt;&gt;();\r\n        String scriptPath = &quot;I:\\\\test\\\\test.bat&quot;;\r\n        command.add(scriptPath);\r\n        int exitCode= runCommandWithLog(logFilePath,command);\r\n    }\r\n\r\n     public int runCommandWithLog(String logFile, List&lt;String&gt; command)  {\r\n        int exitCode = -1;\r\n        try{\r\n             logger.info(&quot;Running the batch file located at {}&quot;, command.get(0));\r\n            logger.info(String.valueOf(Files.exists(Path.of(scriptPath))));\r\n            ProcessBuilder pb =  new ProcessBuilder(command)\r\n                    .redirectOutput(ProcessBuilder.Redirect.appendTo(new File(logFile + &quot;.log&quot;)))\r\n                    .redirectError( ProcessBuilder.Redirect.appendTo(new File(logFile + &quot;.err&quot;)));\r\n\r\n            Process p = pb.start();\r\n            logger.info(&quot;Starting the batch file with the logger function&quot;);\r\n            p.waitFor(15, TimeUnit.MINUTES);\r\n            exitCode = p.exitValue();\r\n            logger.info(&quot;Process has been destroyed&quot;);\r\n            logger.info(&quot;Exit Code for the Execution {}&quot; ,exitCode);        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n        return exitCode;\r\n    }\r\n\r\n\r\n\r\nPS stack Trace: \r\n\r\n    java.io.IOException: Cannot run program &quot;I:/test/test.bat&quot;: The system cannot find the path specified\r\n    \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\r\n    \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\r\n    \tat com.jpmc.ct.tcio.securities.service.impl.ShellSeriveImpl.runCommandWithLog(ShellSeriveImpl.java:90)\r\n    \tat com.jpmc.ct.tcio.securities.service.impl.ShellSeriveImpl$ConsumerWorkerThread.run(ShellSeriveImpl.java:141)\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n    \tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: java.io.IOException: The system cannot find the path specified\r\n    \tat java.base/java.lang.ProcessImpl.openForAtomicAppend(Native Method)\r\n    \tat java.base/java.lang.ProcessImpl.newFileOutputStream(ProcessImpl.java:81)\r\n    \tat java.base/java.lang.ProcessImpl.start(ProcessImpl.java:135)\r\n    \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\r\n    \t... 9 more\r\n\r\n","title":"ProcessBuilder Throwing IO Exception when executing a batch file more than once","body":"<p>I am trying to run a batch file from my java application using Processbuilder and using an api to call this Processbuilder. When I run the api for the first time the Processbuilder is able to locate the batch file and then it is doing the intended actions. But when I run the api for the second time without bouncing the application, I am getting an IO Exception:</p>\n<pre><code>java.io.IOException: Cannot run program &quot;I:/test/test.bat&quot;: The system cannot find the path specified\n</code></pre>\n<p>This is how my code looks\nService layer:</p>\n<pre><code>@Override\npublic String submitRequest() {\n    List&lt;String&gt; command = new ArrayList&lt;&gt;();\n    String scriptPath = &quot;I:\\\\test\\\\test.bat&quot;;\n    command.add(scriptPath);\n    int exitCode= runCommandWithLog(logFilePath,command);\n}\n\n public int runCommandWithLog(String logFile, List&lt;String&gt; command)  {\n    int exitCode = -1;\n    try{\n         logger.info(&quot;Running the batch file located at {}&quot;, command.get(0));\n        logger.info(String.valueOf(Files.exists(Path.of(scriptPath))));\n        ProcessBuilder pb =  new ProcessBuilder(command)\n                .redirectOutput(ProcessBuilder.Redirect.appendTo(new File(logFile + &quot;.log&quot;)))\n                .redirectError( ProcessBuilder.Redirect.appendTo(new File(logFile + &quot;.err&quot;)));\n\n        Process p = pb.start();\n        logger.info(&quot;Starting the batch file with the logger function&quot;);\n        p.waitFor(15, TimeUnit.MINUTES);\n        exitCode = p.exitValue();\n        logger.info(&quot;Process has been destroyed&quot;);\n        logger.info(&quot;Exit Code for the Execution {}&quot; ,exitCode);        }catch (Exception e){\n        e.printStackTrace();\n    }\n    return exitCode;\n}\n</code></pre>\n<p>PS stack Trace:</p>\n<pre><code>java.io.IOException: Cannot run program &quot;I:/test/test.bat&quot;: The system cannot find the path specified\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\n    at com.jpmc.ct.tcio.securities.service.impl.ShellSeriveImpl.runCommandWithLog(ShellSeriveImpl.java:90)\n    at com.jpmc.ct.tcio.securities.service.impl.ShellSeriveImpl$ConsumerWorkerThread.run(ShellSeriveImpl.java:141)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:264)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.io.IOException: The system cannot find the path specified\n    at java.base/java.lang.ProcessImpl.openForAtomicAppend(Native Method)\n    at java.base/java.lang.ProcessImpl.newFileOutputStream(ProcessImpl.java:81)\n    at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:135)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1107)\n    ... 9 more\n</code></pre>\n"},{"tags":["java","jsoup","java-11"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681932380,"post_id":76057585,"comment_id":134138387,"body_markdown":"Your question is almost impossible to understand because you have written HTML in it, but you have not surrounded that HTML with backticks. I changed the first one for you, so you can see what I mean. It&#39;s the difference between the HTML being displayed in the question and not displayed at all: _I need to set `&lt;a&gt;` tag..._","body":"Your question is almost impossible to understand because you have written HTML in it, but you have not surrounded that HTML with backticks. I changed the first one for you, so you can see what I mean. It&#39;s the difference between the HTML being displayed in the question and not displayed at all: <i>I need to set <code>&lt;a&gt;</code> tag...</i>"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1681932496,"post_id":76057585,"comment_id":134138408,"body_markdown":"Also, what have you tried? Show us your Jsoup attempt.","body":"Also, what have you tried? Show us your Jsoup attempt."}],"answers":[{"comments":[{"owner":{"account_id":2479898,"reputation":1010,"user_id":2159573,"accept_rate":33,"display_name":"Saurabhcdt"},"score":0,"creation_date":1682594939,"post_id":76068741,"comment_id":134242285,"body_markdown":"thank you. this solves my issue. I added code to detect if H2 has any child.","body":"thank you. this solves my issue. I added code to detect if H2 has any child."}],"tags":[],"owner":{"account_id":10389625,"reputation":2881,"user_id":9889778,"display_name":"Krystian G"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682031149,"creation_date":1682031149,"answer_id":76068741,"question_id":76057585,"body_markdown":"```\r\nElements elements = doc.select(&quot;h2&quot;);\r\nfor (Element element : elements) {\r\n\tElement firstChild = element.child(0);\r\n\tif (firstChild.tagName().equals(&quot;a&quot;) &amp;&amp; firstChild.attr(&quot;id&quot;).isEmpty()) {\r\n\t\tfirstChild.attr(&quot;id&quot;, &quot;heading1&quot;);\r\n\t} else {\r\n\t\tfirstChild.wrap(&quot;&lt;a id=\\&quot;heading1\\&quot;&gt;&quot;);\r\n\t}\r\n}","title":"Using JSOUP How to Extract all elements from one tag &amp; add in another tag?","body":"<pre><code>Elements elements = doc.select(&quot;h2&quot;);\nfor (Element element : elements) {\n    Element firstChild = element.child(0);\n    if (firstChild.tagName().equals(&quot;a&quot;) &amp;&amp; firstChild.attr(&quot;id&quot;).isEmpty()) {\n        firstChild.attr(&quot;id&quot;, &quot;heading1&quot;);\n    } else {\n        firstChild.wrap(&quot;&lt;a id=\\&quot;heading1\\&quot;&gt;&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2479898,"reputation":1010,"user_id":2159573,"accept_rate":33,"display_name":"Saurabhcdt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76068741,"answer_count":1,"score":0,"last_activity_date":1682031149,"creation_date":1681927372,"question_id":76057585,"body_markdown":"I need to set `&lt;a&gt;` tag to all `&lt;h2&gt;` tags in the document. Document contains few `&lt;h2&gt;` tags with `&lt;a&gt;` tags &amp; few are without `&lt;a&gt;` tag.\r\n\r\nI need to:\r\n1. If `&lt;h2&gt;` has `&lt;a&gt;` tag then, check if it has `id`. if it&#39;s not there then set the `id`\r\n2. If `&lt;h2&gt;` tag donesn&#39;t have `&lt;a&gt;` tag then add `&lt;a&gt;` tag in `&lt;h2&gt;`\r\n\r\ne.g. if original HTML is like this:\r\nCase 1:\r\n```\r\n&lt;h2&gt;&lt;a href=&quot;#headingABC&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\r\n```\r\nThen, change it to (add id):\r\n```\r\n&lt;h2&gt;&lt;a id=&quot;heading1&quot; href=&quot;#headingXYZ&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\r\n```\r\n\r\ncase 2:\r\n```\r\n&lt;h2&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/h2&gt;\r\n```\r\nThen, change it to (add a tag by moving all elements in `h2` inside `a`):\r\n```\r\n&lt;h2&gt;&lt;a id=&quot;heading1&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\r\n```\r\n\r\nHow can I achieve this using JSOUP in Java (version 11).","title":"Using JSOUP How to Extract all elements from one tag &amp; add in another tag?","body":"<p>I need to set <code>&lt;a&gt;</code> tag to all <code>&lt;h2&gt;</code> tags in the document. Document contains few <code>&lt;h2&gt;</code> tags with <code>&lt;a&gt;</code> tags &amp; few are without <code>&lt;a&gt;</code> tag.</p>\n<p>I need to:</p>\n<ol>\n<li>If <code>&lt;h2&gt;</code> has <code>&lt;a&gt;</code> tag then, check if it has <code>id</code>. if it's not there then set the <code>id</code></li>\n<li>If <code>&lt;h2&gt;</code> tag donesn't have <code>&lt;a&gt;</code> tag then add <code>&lt;a&gt;</code> tag in <code>&lt;h2&gt;</code></li>\n</ol>\n<p>e.g. if original HTML is like this:\nCase 1:</p>\n<pre><code>&lt;h2&gt;&lt;a href=&quot;#headingABC&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n</code></pre>\n<p>Then, change it to (add id):</p>\n<pre><code>&lt;h2&gt;&lt;a id=&quot;heading1&quot; href=&quot;#headingXYZ&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n</code></pre>\n<p>case 2:</p>\n<pre><code>&lt;h2&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/h2&gt;\n</code></pre>\n<p>Then, change it to (add a tag by moving all elements in <code>h2</code> inside <code>a</code>):</p>\n<pre><code>&lt;h2&gt;&lt;a id=&quot;heading1&quot;&gt;&lt;span style=&quot;color:#009bd2;&quot;&gt;My Heading ABC&lt;/span&gt;&lt;/a&gt;&lt;/h2&gt;\n</code></pre>\n<p>How can I achieve this using JSOUP in Java (version 11).</p>\n"},{"tags":["java","spring","spring-annotations"],"answers":[{"comments":[{"owner":{"account_id":911208,"reputation":7563,"user_id":945034,"accept_rate":57,"display_name":"Kumar Sambhav"},"score":2,"creation_date":1408603995,"post_id":11993545,"comment_id":39654059,"body_markdown":"What&#39;s Java configuration equivalent of this?","body":"What&#39;s Java configuration equivalent of this?"},{"owner":{"account_id":185100,"reputation":3489,"user_id":421602,"accept_rate":40,"display_name":"vorburger"},"score":37,"creation_date":1412545398,"post_id":11993545,"comment_id":41098018,"body_markdown":"http://stackoverflow.com/questions/9347929/spring-set-a-property-only-if-the-value-is-not-null mentions using ${some.param:#{null}}, and that worked for me without having to set nullValue, seems that this is the default? (In a Spring Boot application.)","body":"<a href=\"http://stackoverflow.com/questions/9347929/spring-set-a-property-only-if-the-value-is-not-null\" title=\"spring set a property only if the value is not null\">stackoverflow.com/questions/9347929/&hellip;</a> mentions using ${some.param:#{null}}, and that worked for me without having to set nullValue, seems that this is the default? (In a Spring Boot application.)"},{"owner":{"account_id":2554339,"reputation":537,"user_id":2765978,"accept_rate":67,"display_name":"csf"},"score":7,"creation_date":1443631288,"post_id":11993545,"comment_id":53574645,"body_markdown":"Simple use power of SPEL ${stuff.value:#{null}}  as suggested by  vorburger and in\nhttp://stackoverflow.com/questions/16735141/specify-default-property-value-as-null-in-spring","body":"Simple use power of SPEL ${stuff.value:#{null}}  as suggested by  vorburger and in <a href=\"http://stackoverflow.com/questions/16735141/specify-default-property-value-as-null-in-spring\" title=\"specify default property value as null in spring\">stackoverflow.com/questions/16735141/&hellip;</a>"},{"owner":{"account_id":7089436,"reputation":709,"user_id":5425161,"accept_rate":86,"display_name":"Jeff"},"score":0,"creation_date":1588159493,"post_id":11993545,"comment_id":108791080,"body_markdown":"seems much less configuration is required for ben3000 and JRichardsz answers.","body":"seems much less configuration is required for ben3000 and JRichardsz answers."},{"owner":{"account_id":3428833,"reputation":160,"user_id":2873858,"accept_rate":50,"display_name":"D&#225;ve"},"score":0,"creation_date":1614261272,"post_id":11993545,"comment_id":117335985,"body_markdown":"there is a newer way to set `null` as default, see the most up&#39;ed answer here","body":"there is a newer way to set <code>null</code> as default, see the most up&#39;ed answer here"}],"tags":[],"owner":{"account_id":1428179,"reputation":1072,"user_id":1351202,"display_name":"nosebrain"},"comment_count":5,"down_vote_count":8,"up_vote_count":88,"is_accepted":true,"score":80,"last_activity_date":1345142851,"creation_date":1345142851,"answer_id":11993545,"question_id":11991194,"body_markdown":"You must set the nullValue of the [PropertyPlaceholderConfigurer][1]. For the example I&#39;m using the string `@null` but you can also use the empty string as nullValue.\r\n\r\n    &lt;bean id=&quot;propertyConfigurer&quot; class=&quot;org.springframework.beans.factory.config.PropertyPlaceholderConfigurer&quot;&gt;\r\n    \t&lt;!-- config the location(s) of the properties file(s) here --&gt;\r\n    \t&lt;property name=&quot;nullValue&quot; value=&quot;@null&quot; /&gt;\r\n\t&lt;/bean&gt;\r\n\r\nNow you can use the string `@null` to represent the `null` value\r\n\r\n    @Value(&quot;${stuff.value:@null}&quot;)\r\n    private String value;\r\n\r\nPlease note: The context name space doesn&#39;t support the null value at the moment. You can&#39;t use\r\n\r\n    &lt;context:property-placeholder null-value=&quot;@null&quot; ... /&gt;\r\n\r\nTested with Spring 3.1.1\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html#setNullValue%28java.lang.String%29","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>You must set the nullValue of the <a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/beans/factory/config/PropertyPlaceholderConfigurer.html#setNullValue%28java.lang.String%29\">PropertyPlaceholderConfigurer</a>. For the example I'm using the string <code>@null</code> but you can also use the empty string as nullValue.</p>\n\n<pre><code>&lt;bean id=\"propertyConfigurer\" class=\"org.springframework.beans.factory.config.PropertyPlaceholderConfigurer\"&gt;\n    &lt;!-- config the location(s) of the properties file(s) here --&gt;\n    &lt;property name=\"nullValue\" value=\"@null\" /&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Now you can use the string <code>@null</code> to represent the <code>null</code> value</p>\n\n<pre><code>@Value(\"${stuff.value:@null}\")\nprivate String value;\n</code></pre>\n\n<p>Please note: The context name space doesn't support the null value at the moment. You can't use</p>\n\n<pre><code>&lt;context:property-placeholder null-value=\"@null\" ... /&gt;\n</code></pre>\n\n<p>Tested with Spring 3.1.1</p>\n"},{"comments":[{"owner":{"account_id":1185645,"reputation":2151,"user_id":1159684,"accept_rate":86,"display_name":"Kevin Schmidt"},"score":0,"creation_date":1345202593,"post_id":11995288,"comment_id":16012403,"body_markdown":"The String value was an example, I really needed this for an Enum value, where an empty String just causes a conversion error. With the @null you can have a null as &quot;no Enum set&quot;, which is what I need.","body":"The String value was an example, I really needed this for an Enum value, where an empty String just causes a conversion error. With the @null you can have a null as &quot;no Enum set&quot;, which is what I need."},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1345205269,"post_id":11995288,"comment_id":16013424,"body_markdown":"All the more reason why I would not recommend null but instead some enum that represents not set.","body":"All the more reason why I would not recommend null but instead some enum that represents not set."},{"owner":{"account_id":1185645,"reputation":2151,"user_id":1159684,"accept_rate":86,"display_name":"Kevin Schmidt"},"score":3,"creation_date":1345460520,"post_id":11995288,"comment_id":16066679,"body_markdown":"That would require putting Enum.NOTSET into all properties files (&gt;30), which seems a lot of work with almost no benefits...","body":"That would require putting Enum.NOTSET into all properties files (&gt;30), which seems a lot of work with almost no benefits..."},{"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"score":0,"creation_date":1345470467,"post_id":11995288,"comment_id":16070781,"body_markdown":"I haven&#39;t tried this but in theory wouldn&#39;t `@Value(&quot;${stuff.value:NOTSET}&quot;)` work?","body":"I haven&#39;t tried this but in theory wouldn&#39;t <code>@Value(&quot;${stuff.value:NOTSET}&quot;)</code> work?"},{"owner":{"account_id":1185645,"reputation":2151,"user_id":1159684,"accept_rate":86,"display_name":"Kevin Schmidt"},"score":0,"creation_date":1345641453,"post_id":11995288,"comment_id":16128303,"body_markdown":"Yes, this is a good solution. Unfortunately I can&#39;t change the enum (dep), so I have to go with null. Otherwise you are right, the NOTSET would work.","body":"Yes, this is a good solution. Unfortunately I can&#39;t change the enum (dep), so I have to go with null. Otherwise you are right, the NOTSET would work."},{"owner":{"account_id":913756,"reputation":973,"user_id":1366617,"accept_rate":71,"display_name":"yousafsajjad"},"score":0,"creation_date":1405006692,"post_id":11995288,"comment_id":38267200,"body_markdown":"How about assigning an integer value?\n\n     @Value(&quot;${datasource.connections:5}&quot;)\n     private Integer connections;\n\nwould this work?","body":"How about assigning an integer value?       @Value(&quot;${datasource.connections:5}&quot;)      private Integer connections;  would this work?"}],"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"comment_count":6,"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1345470973,"creation_date":1345150524,"answer_id":11995288,"question_id":11991194,"body_markdown":"I give @nosebrain credit as I did not know about &quot;null-value&quot; but I prefer to avoid using null values altogether particularly since its difficult to represent `null` in a properties file.\r\n\r\nBut here is an alternative using null with out `null-value` so it will work with what ever property placeholder.\r\n\r\n    public class MyObject {\r\n    \r\n       private String value;\r\n    \r\n       @Value(&quot;${stuff.value:@null}&quot;)\r\n       public void setValue(String value) {\r\n          if (&quot;@null&quot;.equals(value)) this.value = null;\r\n          else this.value = value;\r\n       }\r\n    }\r\n\r\nPersonally I prefer my way because maybe later on you want `stuff.value` to be a Comma-separated-value or perhaps to Enum the switch is easier. Its also easier to unit test :)\r\n\r\n**EDIT: based on your comments on using enums and my opinion of not using null.**\r\n\r\n    @Component\r\n    public class MyObject {\r\n    \r\n    \t@Value(&quot;${crap:NOTSET}&quot;)\r\n    \tprivate Crap crap;\r\n    \t\r\n    \tpublic enum Crap {\r\n    \t\tNOTSET,\r\n    \t\tBLAH;\r\n    \t}\r\n    }\r\n\r\n\r\nThe above works fine for me. You avoid null. If your property files want to explicit set that they don&#39;t want to handle it then you do (*but you don&#39;t even have to specify this as it will default to NOTSET*).\r\n\r\n    crap=NOTSET\r\n\r\n`null` is very bad and is different than `NOTSET`. It means spring or unit test did not set it which is why there is IMHO a difference. I still would probably use the setter notation (previous example) as its easier to unit test (private variables are hard to set in a unit test).\r\n\r\n","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>I give @nosebrain credit as I did not know about \"null-value\" but I prefer to avoid using null values altogether particularly since its difficult to represent <code>null</code> in a properties file.</p>\n\n<p>But here is an alternative using null with out <code>null-value</code> so it will work with what ever property placeholder.</p>\n\n<pre><code>public class MyObject {\n\n   private String value;\n\n   @Value(\"${stuff.value:@null}\")\n   public void setValue(String value) {\n      if (\"@null\".equals(value)) this.value = null;\n      else this.value = value;\n   }\n}\n</code></pre>\n\n<p>Personally I prefer my way because maybe later on you want <code>stuff.value</code> to be a Comma-separated-value or perhaps to Enum the switch is easier. Its also easier to unit test :)</p>\n\n<p><strong>EDIT: based on your comments on using enums and my opinion of not using null.</strong></p>\n\n<pre><code>@Component\npublic class MyObject {\n\n    @Value(\"${crap:NOTSET}\")\n    private Crap crap;\n\n    public enum Crap {\n        NOTSET,\n        BLAH;\n    }\n}\n</code></pre>\n\n<p>The above works fine for me. You avoid null. If your property files want to explicit set that they don't want to handle it then you do (<em>but you don't even have to specify this as it will default to NOTSET</em>).</p>\n\n<pre><code>crap=NOTSET\n</code></pre>\n\n<p><code>null</code> is very bad and is different than <code>NOTSET</code>. It means spring or unit test did not set it which is why there is IMHO a difference. I still would probably use the setter notation (previous example) as its easier to unit test (private variables are hard to set in a unit test).</p>\n"},{"comments":[{"owner":{"account_id":3428833,"reputation":160,"user_id":2873858,"accept_rate":50,"display_name":"D&#225;ve"},"score":3,"creation_date":1614261292,"post_id":33687265,"comment_id":117335994,"body_markdown":"This should be chosen as the answer to the question.","body":"This should be chosen as the answer to the question."}],"tags":[],"owner":{"account_id":2911666,"reputation":4689,"user_id":2495717,"accept_rate":88,"display_name":"ben3000"},"comment_count":1,"down_vote_count":0,"up_vote_count":341,"is_accepted":false,"score":341,"last_activity_date":1682030985,"creation_date":1447397239,"answer_id":33687265,"question_id":11991194,"body_markdown":"This is really old, but you can use Spring EL now, e.g.\r\n\r\n```java\r\n@Value(&quot;${stuff.value:#{null}}&quot;)\r\nprivate String stuffValue;\r\n```\r\n\r\nSee [this question][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/16735141/specify-default-property-value-as-null-in-spring","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>This is really old, but you can use Spring EL now, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${stuff.value:#{null}}&quot;)\nprivate String stuffValue;\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/16735141/specify-default-property-value-as-null-in-spring\">this question</a>.</p>\n"},{"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":3,"creation_date":1567435884,"post_id":45409766,"comment_id":101954098,"body_markdown":"worked in spring-boot last 2019 version: 2.1.7.RELEASE ... https://start.spring.io/","body":"worked in spring-boot last 2019 version: 2.1.7.RELEASE ... <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>"},{"owner":{"account_id":4231656,"reputation":1566,"user_id":3463844,"display_name":"Esteban"},"score":0,"creation_date":1637654988,"post_id":45409766,"comment_id":123877554,"body_markdown":"Also works in Spring Boot 2.5.6","body":"Also works in Spring Boot 2.5.6"},{"owner":{"account_id":10974612,"reputation":88,"user_id":8063666,"display_name":"Day Break"},"score":0,"creation_date":1645456670,"post_id":45409766,"comment_id":125870180,"body_markdown":"Also works with Spring boot 2.6.2!","body":"Also works with Spring boot 2.6.2!"}],"tags":[],"owner":{"account_id":5396455,"reputation":5608,"user_id":4297539,"accept_rate":69,"display_name":"Siberia"},"comment_count":3,"down_vote_count":1,"up_vote_count":91,"is_accepted":false,"score":90,"last_activity_date":1501486383,"creation_date":1501486019,"answer_id":45409766,"question_id":11991194,"body_markdown":"Thanks to @vorburger:\r\n\r\n    @Value(&quot;${email.protocol:#{null}}&quot;)\r\n    String protocol;\r\n\r\nwill set the string value at **null** without any other configurations. ","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>Thanks to @vorburger:</p>\n\n<pre><code>@Value(\"${email.protocol:#{null}}\")\nString protocol;\n</code></pre>\n\n<p>will set the string value at <strong>null</strong> without any other configurations. </p>\n"},{"comments":[{"owner":{"account_id":8114104,"reputation":51,"user_id":6113170,"display_name":"Andrew T"},"score":1,"creation_date":1637621317,"post_id":62408593,"comment_id":123871067,"body_markdown":"the initial\n`@Value(&quot;${stuff.value:}&quot;)\nprivate String value;`\ndoes exactly the same and is preferred way of doing it.\nAnyway your reply does not answer the question.","body":"the initial <code>@Value(&quot;${stuff.value:}&quot;) private String value;</code> does exactly the same and is preferred way of doing it. Anyway your reply does not answer the question."}],"tags":[],"owner":{"account_id":3845428,"reputation":2373,"user_id":3187132,"display_name":"ylev"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592310758,"creation_date":1592310758,"answer_id":62408593,"question_id":11991194,"body_markdown":"In case you need to inject an empty (0 length) &quot;&quot; string as @Value default - use SPEL (spring expression language) as follows:\r\n\r\n    @Value(&quot;${index.suffix:#{&#39;&#39;}}&quot;) \r\n    private String indexSuffix;\r\n\r\n   #{&#39;&#39;} just gets you an empty string as injected @Value&#39;s default.\r\n\r\nby yl","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>In case you need to inject an empty (0 length) \"\" string as @Value default - use SPEL (spring expression language) as follows:</p>\n\n<pre><code>@Value(\"${index.suffix:#{''}}\") \nprivate String indexSuffix;\n</code></pre>\n\n<p>#{''} just gets you an empty string as injected @Value's default.</p>\n\n<p>by yl</p>\n"}],"owner":{"account_id":1185645,"reputation":2151,"user_id":1159684,"accept_rate":86,"display_name":"Kevin Schmidt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147641,"favorite_count":0,"down_vote_count":0,"up_vote_count":165,"accepted_answer_id":11993545,"answer_count":5,"score":165,"last_activity_date":1682030985,"creation_date":1345132840,"question_id":11991194,"body_markdown":"I&#39;m currently using the @Value Spring 3.1.x annotation like this:\r\n\r\n    @Value(&quot;${stuff.value:}&quot;)\r\n    private String value;\r\n\r\nThis puts an empty String into the variable if the attribute is not present. I would like to have null as the default instead of an empty String. Of course I also want to avoid an error when the property stuff.value is not set.","title":"Can I set null as the default value for a @Value in Spring?","body":"<p>I'm currently using the @Value Spring 3.1.x annotation like this:</p>\n\n<pre><code>@Value(\"${stuff.value:}\")\nprivate String value;\n</code></pre>\n\n<p>This puts an empty String into the variable if the attribute is not present. I would like to have null as the default instead of an empty String. Of course I also want to avoid an error when the property stuff.value is not set.</p>\n"},{"tags":["java","android","fragment","onclicklistener"],"comments":[{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681747996,"post_id":76035208,"comment_id":134103301,"body_markdown":"Please explain what &quot;The buttons should be responsive to clicking but its not.&quot; means. Have you attempted to debug your app to find the problem? https://developer.android.com/studio/debug","body":"Please explain what &quot;The buttons should be responsive to clicking but its not.&quot; means. Have you attempted to debug your app to find the problem? <a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug</a>"},{"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"score":0,"creation_date":1681757647,"post_id":76035208,"comment_id":134105487,"body_markdown":"In the fragment_blank.xml there is a button label One.  If clicking was initiated on the button it would triggered the OnClickListener in BlankFragment.java and display the toast message saying  &quot;Y0U clicked da Button, INSIDE THE FRAGMENT!&quot;.   Right now it is not even triggering the OnClickListener after the One button was clicked.  I put breakpoints on the OnClick(View V) function inside of the OnClickListener in BlankFragment.java noting seem to trigger !?   Why is that ?  Please Advise.","body":"In the fragment_blank.xml there is a button label One.  If clicking was initiated on the button it would triggered the OnClickListener in BlankFragment.java and display the toast message saying  &quot;Y0U clicked da Button, INSIDE THE FRAGMENT!&quot;.   Right now it is not even triggering the OnClickListener after the One button was clicked.  I put breakpoints on the OnClick(View V) function inside of the OnClickListener in BlankFragment.java noting seem to trigger !?   Why is that ?  Please Advise."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681759017,"post_id":76035208,"comment_id":134105794,"body_markdown":"Your code looks fine. Does the `onCreateView` itself get triggered? How is your fragment created?","body":"Your code looks fine. Does the <code>onCreateView</code> itself get triggered? How is your fragment created?"},{"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"score":0,"creation_date":1681766128,"post_id":76035208,"comment_id":134107076,"body_markdown":"The onCreateView in BlankFragment.java do not get triggered at all.  But the OnClick OnClickListener placed in the MainActivity.java will get triggered just fine.  My fragment was created by right clicked on the com.example.myclicky folder then New\\Fragment\\Fragment (Blank)","body":"The onCreateView in BlankFragment.java do not get triggered at all.  But the OnClick OnClickListener placed in the MainActivity.java will get triggered just fine.  My fragment was created by right clicked on the com.example.myclicky folder then New\\Fragment\\Fragment (Blank)"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681766579,"post_id":76035208,"comment_id":134107139,"body_markdown":"That&#39;s how you created the _file_. How do you create, instantiate, and add the Fragment to the Activity? https://developer.android.com/guide/fragments/create#add","body":"That&#39;s how you created the <i>file</i>. How do you create, instantiate, and add the Fragment to the Activity? <a href=\"https://developer.android.com/guide/fragments/create#add\" rel=\"nofollow noreferrer\">developer.android.com/guide/fragments/create#add</a>"},{"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"score":0,"creation_date":1681956657,"post_id":76035208,"comment_id":134141508,"body_markdown":"In my original code I had a function called loadFragment that replaces the default activity_main layout with the fragment_blank layout. \nloadFragment is no longer used in my code.\n@SuppressLint(&quot;ResourceType&quot;)\npublic void loadFragment(Fragment fragment, Boolean bool) {\n    FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n    transaction.replace(R.layout.activity_main, fragment);\n    if (bool)\n        transaction.addToBackStack(null);\n    transaction.commit();\n}","body":"In my original code I had a function called loadFragment that replaces the default activity_main layout with the fragment_blank layout.  loadFragment is no longer used in my code. @SuppressLint(&quot;ResourceType&quot;) public void loadFragment(Fragment fragment, Boolean bool) {     FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();     transaction.replace(R.layout.activity_main, fragment);     if (bool)         transaction.addToBackStack(null);     transaction.commit(); }"},{"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"score":0,"creation_date":1681956691,"post_id":76035208,"comment_id":134141511,"body_markdown":"In my mainActivity.java  OnCreate()\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);              \n        loadFragment(new BlankFragment(), false);\n    }","body":"In my mainActivity.java  OnCreate()     @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_main);                       loadFragment(new BlankFragment(), false);     }"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1681961001,"post_id":76035208,"comment_id":134141936,"body_markdown":"Please update your question instead of adding comments with code - it&#39;s extremely difficult to read.","body":"Please update your question instead of adding comments with code - it&#39;s extremely difficult to read."},{"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"score":0,"creation_date":1682030762,"post_id":76035208,"comment_id":134156034,"body_markdown":"Code added to the code viewer.","body":"Code added to the code viewer."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1682037358,"post_id":76035208,"comment_id":134156758,"body_markdown":"Review [the documentation for `replace()`](https://developer.android.com/reference/androidx/fragment/app/FragmentTransaction#replace(int,androidx.fragment.app.Fragment)) and compare that to what you&#39;re doing.","body":"Review <a href=\"https://developer.android.com/reference/androidx/fragment/app/FragmentTransaction#replace(int,androidx.fragment.app.Fragment)\" rel=\"nofollow noreferrer\">the documentation for <code>replace()</code></a> and compare that to what you&#39;re doing."}],"owner":{"account_id":28151967,"reputation":1,"user_id":21513335,"display_name":"Ewan W"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682030871,"creation_date":1681734886,"question_id":76035208,"body_markdown":"Am I missing something with the code ?\r\n\r\n&gt;         @Override\r\n&gt;         public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n&gt;                                  Bundle savedInstanceState) {\r\n&gt;             View view = inflater.inflate(R.layout.fragment_blank, container, false);\r\n&gt;             //btnButtonTwo = view.findViewById(R.id.btnOne2);\r\n&gt;             //btnButtonTwo.setOnClickListener(this);\r\n&gt;     \r\n&gt;     \r\n&gt;             btnButtonTwo = view.findViewById(R.id.btnOne2);\r\n&gt;             //btnButtonTwo.setEnabled(true);\r\n&gt;             btnButtonTwo.setOnClickListener(new View.OnClickListener() {\r\n&gt;                 @Override\r\n&gt;                 public void onClick(View v) {\r\n&gt;                     Toast.makeText(getActivity(), &quot;Y0U clicked da Button, INSIDE THE FRAGMENT!&quot;, Toast.LENGTH_LONG).show();\r\n&gt;                 }\r\n&gt;             });\r\n&gt;     return view;\r\n&gt;     }\r\n&gt;     \r\n&gt;     \r\n&gt;  [Fragment_blank.xml] \r\n&gt; \r\n&gt;     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.BlankFragment&quot;&gt;\r\n&gt;     &lt;!-- TODO: Update blank fragment layout --&gt;\r\n&gt;     &lt;TextView\r\n&gt;         android:layout_width=&quot;match_parent&quot;\r\n&gt;         android:layout_height=&quot;match_parent&quot;\r\n&gt;         android:text=&quot;@string/hello_blank_fragment&quot; &gt;\r\n&gt;     \r\n&gt;     &lt;LinearLayout\r\n&gt;         android:layout_width=&quot;match_parent&quot;\r\n&gt;         android:layout_height=&quot;match_parent&quot;\r\n&gt;         android:orientation=&quot;horizontal&quot;&gt;\r\n&gt;     \r\n&gt;         &lt;Button\r\n&gt;             android:id=&quot;@+id/btnOne2&quot;\r\n&gt;             android:layout_width=&quot;match_parent&quot;\r\n&gt;             android:layout_height=&quot;wrap_content&quot;\r\n&gt;             android:layout_weight=&quot;1&quot;\r\n&gt;             android:focusable=&quot;auto&quot;\r\n&gt;     \r\n&gt;             android:text=&quot;One&quot; /&gt;\r\n&gt;     &lt;/LinearLayout&gt;\r\n&gt;     &lt;/FrameLayout&gt;\r\n\r\nI extracted the OnClickListener code onto a separate app in an attempt to isolate the problems.   The buttons should be responsive to clicking but its not. I&#39;m not sure what is going on now!\r\nWorking project files is located here...\r\nhttps://github.com/potpori-code/clicky/MyOnClicky.zip\r\n\r\n    [MainActivity.java]\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            //setContentView(R.layout.activity_main);     \r\n            setContentView(R.layout.fragment_blank);     \r\n            loadFragment(new BlankFragment(), false);\r\n         }\r\n    \r\n    @SuppressLint(&quot;ResourceType&quot;)\r\n    public void loadFragment(Fragment fragment, Boolean bool) {\r\n        FragmentTransaction transaction = \r\n        getSupportFragmentManager().beginTransaction();\r\n        transaction.replace(R.layout.activity_main, fragment);\r\n        if (bool)\r\n            transaction.addToBackStack(null);\r\n        transaction.commit();\r\n        }\r\n\r\n","title":"Why is my OnClickListener not triggering in Android Fragment?","body":"<p>Am I missing something with the code ?</p>\n<blockquote>\n<pre><code>    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_blank, container, false);\n        //btnButtonTwo = view.findViewById(R.id.btnOne2);\n        //btnButtonTwo.setOnClickListener(this);\n\n\n        btnButtonTwo = view.findViewById(R.id.btnOne2);\n        //btnButtonTwo.setEnabled(true);\n        btnButtonTwo.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(getActivity(), &quot;Y0U clicked da Button, INSIDE THE FRAGMENT!&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\nreturn view;\n}\n</code></pre>\n<p>[Fragment_blank.xml]</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt; &lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; xmlns:tools=&quot;http://schemas.android.com/tools&quot; android:layout_width=&quot;match_parent&quot; android:layout_height=&quot;match_parent&quot; tools:context=&quot;.BlankFragment&quot;&gt;\n&lt;!-- TODO: Update blank fragment layout --&gt;\n&lt;TextView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:text=&quot;@string/hello_blank_fragment&quot; &gt;\n\n&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnOne2&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot;\n        android:focusable=&quot;auto&quot;\n\n        android:text=&quot;One&quot; /&gt;\n&lt;/LinearLayout&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n</blockquote>\n<p>I extracted the OnClickListener code onto a separate app in an attempt to isolate the problems.   The buttons should be responsive to clicking but its not. I'm not sure what is going on now!\nWorking project files is located here...\n<a href=\"https://github.com/potpori-code/clicky/MyOnClicky.zip\" rel=\"nofollow noreferrer\">https://github.com/potpori-code/clicky/MyOnClicky.zip</a></p>\n<pre><code>[MainActivity.java]\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        //setContentView(R.layout.activity_main);     \n        setContentView(R.layout.fragment_blank);     \n        loadFragment(new BlankFragment(), false);\n     }\n\n@SuppressLint(&quot;ResourceType&quot;)\npublic void loadFragment(Fragment fragment, Boolean bool) {\n    FragmentTransaction transaction = \n    getSupportFragmentManager().beginTransaction();\n    transaction.replace(R.layout.activity_main, fragment);\n    if (bool)\n        transaction.addToBackStack(null);\n    transaction.commit();\n    }\n</code></pre>\n"},{"tags":["java","android-studio","speech-to-text"],"answers":[{"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":2,"creation_date":1647855152,"post_id":71555383,"comment_id":126467009,"body_markdown":"How is that an answer to the question?","body":"How is that an answer to the question?"}],"tags":[],"owner":{"account_id":24627652,"reputation":124,"user_id":18527205,"display_name":"Defandi"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647855071,"creation_date":1647855071,"answer_id":71555383,"question_id":71555162,"body_markdown":"I think it&#39;s better to improve the structure of the text from the speech delivered by stammer","title":"Speech to text modification","body":"<p>I think it's better to improve the structure of the text from the speech delivered by stammer</p>\n"},{"tags":[],"owner":{"account_id":24512067,"reputation":172,"user_id":18426258,"display_name":"MaxVK"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647933719,"creation_date":1647933719,"answer_id":71568227,"question_id":71555162,"body_markdown":"My first guess would be that you would have to analyze the time that a user spends producing each specific sound. For example, one S could be the &#39;s&#39; sound for half a second whereas two &#39;s&#39;s could be represented by the user producing the sound for one second. I understand that this is not completely accurate but best guess I can think of.","title":"Speech to text modification","body":"<p>My first guess would be that you would have to analyze the time that a user spends producing each specific sound. For example, one S could be the 's' sound for half a second whereas two 's's could be represented by the user producing the sound for one second. I understand that this is not completely accurate but best guess I can think of.</p>\n"},{"tags":[],"owner":{"account_id":13265922,"reputation":1,"user_id":20631704,"display_name":"TheDninoo"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682029490,"creation_date":1682029490,"answer_id":76068644,"question_id":71555162,"body_markdown":"As someone who used a lot speech to text apis, What are you looking for is a little bit difficulte to acheive, however, there is a feature that can maybe help you. Depending on the provider you are using, try to look for `custom vocabulary`, it allow you to specify some words to keep in mind when transcribing the audio with a boosting value.\r\n\r\nhowever `Disfluencies`, I believe it&#39;s closely related to the provider you are using, some of them will completely remove filler workd like `assembly` except for some values, others like microsoft will give you many transcriptions, some of them with word disfluency&#39;s and others not. Please take a look at this link: [microsoft Disfluency removal][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/display-text-format?pivots=programming-language-csharp#disfluency-removal","title":"Speech to text modification","body":"<p>As someone who used a lot speech to text apis, What are you looking for is a little bit difficulte to acheive, however, there is a feature that can maybe help you. Depending on the provider you are using, try to look for <code>custom vocabulary</code>, it allow you to specify some words to keep in mind when transcribing the audio with a boosting value.</p>\n<p>however <code>Disfluencies</code>, I believe it's closely related to the provider you are using, some of them will completely remove filler workd like <code>assembly</code> except for some values, others like microsoft will give you many transcriptions, some of them with word disfluency's and others not. Please take a look at this link: <a href=\"https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/display-text-format?pivots=programming-language-csharp#disfluency-removal\" rel=\"nofollow noreferrer\">microsoft Disfluency removal</a></p>\n"}],"owner":{"account_id":21515829,"reputation":17,"user_id":15857730,"display_name":"StizzKizz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1682029490,"creation_date":1647853989,"question_id":71555162,"body_markdown":"I’m working on a modified speech to text feature that should take in a users speech and convert it to text but I want the output text to be exactly what the user is saying. This means I want to detect word disfluency’s such as stammers like “sstttop” and “pppplease”. Ive already written a Java program that does the speech to text but I need to know if it’s possible to modify it to detect speech disfluency. Any input and help would be much appreciated. ","title":"Speech to text modification","body":"<p>I’m working on a modified speech to text feature that should take in a users speech and convert it to text but I want the output text to be exactly what the user is saying. This means I want to detect word disfluency’s such as stammers like “sstttop” and “pppplease”. Ive already written a Java program that does the speech to text but I need to know if it’s possible to modify it to detect speech disfluency. Any input and help would be much appreciated.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681999410,"creation_date":1681999410,"answer_id":76064990,"question_id":76064418,"body_markdown":"When you do partition assignment, you don&#39;t deal with consumer groups. That&#39;s not related to to the problem, just to clarify things a bit.\r\n\r\nNow look into the logic of the `ConcurrentMessageListenerContainer`:\r\n\r\n\tTopicPartitionOffset[] topicPartitions = containerProperties.getTopicPartitions();\r\n\t\t\tif (topicPartitions != null &amp;&amp; this.concurrency &gt; topicPartitions.length) {\r\n\t\t\t\tthis.logger.warn(() -&gt; &quot;When specific partitions are provided, the concurrency must be less than or &quot;\r\n\t\t\t\t\t\t+ &quot;equal to the number of partitions; reduced from &quot; + this.concurrency + &quot; to &quot;\r\n\t\t\t\t\t\t+ topicPartitions.length);\r\n\t\t\t\tthis.concurrency = topicPartitions.length;\r\n\t\t\t}\r\n\t\t\tsetRunning(true);\r\n\r\n\t\t\tfor (int i = 0; i &lt; this.concurrency; i++) {\r\n\t\t\t\tKafkaMessageListenerContainer&lt;K, V&gt; container =\r\n\t\t\t\t\t\tconstructContainer(containerProperties, topicPartitions, i);\r\n\t\t\t\tconfigureChildContainer(i, container);\r\n\t\t\t\tif (isPaused()) {\r\n\t\t\t\t\tcontainer.pause();\r\n\t\t\t\t}\r\n\t\t\t\tcontainer.start();\r\n\t\t\t\tthis.containers.add(container);\r\n\t\t\t}\r\n\r\nSo, if `concurrency` is big enough (or better equal to the number of partitions), we create a target `KafkaMessageListenerContainer` for the specific partition.\r\nAnd since all of those `KafkaMessageListenerContainer` instances deal only with a single partition. So, your `listen()` method is going to receive a records batch only from one partition at a time. Therefore it is safe to call that `acknowledgement.acknowledge()` and it will be performed for this batch from a single partition. Your problem is only to configure `concurrency` as big enough to cover all the partition you assign.","title":"Committing offset for a particular partition of a topic using Acknowledgement in springboot","body":"<p>When you do partition assignment, you don't deal with consumer groups. That's not related to to the problem, just to clarify things a bit.</p>\n<p>Now look into the logic of the <code>ConcurrentMessageListenerContainer</code>:</p>\n<pre><code>TopicPartitionOffset[] topicPartitions = containerProperties.getTopicPartitions();\n        if (topicPartitions != null &amp;&amp; this.concurrency &gt; topicPartitions.length) {\n            this.logger.warn(() -&gt; &quot;When specific partitions are provided, the concurrency must be less than or &quot;\n                    + &quot;equal to the number of partitions; reduced from &quot; + this.concurrency + &quot; to &quot;\n                    + topicPartitions.length);\n            this.concurrency = topicPartitions.length;\n        }\n        setRunning(true);\n\n        for (int i = 0; i &lt; this.concurrency; i++) {\n            KafkaMessageListenerContainer&lt;K, V&gt; container =\n                    constructContainer(containerProperties, topicPartitions, i);\n            configureChildContainer(i, container);\n            if (isPaused()) {\n                container.pause();\n            }\n            container.start();\n            this.containers.add(container);\n        }\n</code></pre>\n<p>So, if <code>concurrency</code> is big enough (or better equal to the number of partitions), we create a target <code>KafkaMessageListenerContainer</code> for the specific partition.\nAnd since all of those <code>KafkaMessageListenerContainer</code> instances deal only with a single partition. So, your <code>listen()</code> method is going to receive a records batch only from one partition at a time. Therefore it is safe to call that <code>acknowledgement.acknowledge()</code> and it will be performed for this batch from a single partition. Your problem is only to configure <code>concurrency</code> as big enough to cover all the partition you assign.</p>\n"}],"owner":{"account_id":4418121,"reputation":21,"user_id":3599050,"display_name":"user3599050"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682029057,"creation_date":1681995971,"question_id":76064418,"body_markdown":"I am using Concurrentmessagelistenercontainer for consuming messages from kafka topic. since the consumer can be assigned multiple partitions from a topic within single consumer group. \r\n\r\n\r\n```\r\n@Configuration\r\n@EnableKafka\r\npublic class KafkaConfig {\r\n\r\n    @Bean\r\n    KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;Integer, String&gt;&gt;\r\n                        kafkaListenerContainerFactory() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Integer, String&gt; factory =\r\n                                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactory());\r\n        factory.setConcurrency(3);\r\n        factory.getContainerProperties().setPollTimeout(3000);\r\n        return factory;\r\n    }\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;Integer, String&gt; consumerFactory() {\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n    }\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; consumerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, embeddedKafka.getBrokersAsString());\r\n        ...\r\n        return props;\r\n    }\r\n}\r\n\r\n```\r\n\r\nI want to commit offset of only particular partition for which processing was successful\r\n\r\n```\r\n@KafkaListener(id = &quot;thing2&quot;, topicPartitions =\r\n        { @TopicPartition(topic = &quot;topic1&quot;, partitions = { &quot;0&quot;, &quot;1&quot; }),\r\n          @TopicPartition(topic = &quot;topic2&quot;, partitions = &quot;0&quot;,\r\n             partitionOffsets = @PartitionOffset(partition = &quot;1&quot;, initialOffset = &quot;100&quot;))\r\n        })\r\npublic void listen(List&lt;ConsumerRecord&lt;String, String&gt; records, Acknowledgement acknowledgement) {\r\n   Map&lt;TopicPartition, List&lt;ConsumerRecord&gt;&gt; records = ....\r\n     \r\n     acknowledgement.acknowledge();\r\n    ...\r\n}\r\n\r\n```\r\nAcknowledgement does not provides option to specify partition for which we needs to commit offset. It will by default  commit offset for all the partitions. Is there any way we can achieve it?\r\n\r\nI tried to look into spring kafka documentation \r\n[https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/Acknowledgment.html\r\n](https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/Acknowledgment.html)\r\n\r\nthere is no provision of providing partition number for committing the offset.","title":"Committing offset for a particular partition of a topic using Acknowledgement in springboot","body":"<p>I am using Concurrentmessagelistenercontainer for consuming messages from kafka topic. since the consumer can be assigned multiple partitions from a topic within single consumer group.</p>\n<pre><code>@Configuration\n@EnableKafka\npublic class KafkaConfig {\n\n    @Bean\n    KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;Integer, String&gt;&gt;\n                        kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;Integer, String&gt; factory =\n                                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        factory.setConcurrency(3);\n        factory.getContainerProperties().setPollTimeout(3000);\n        return factory;\n    }\n\n    @Bean\n    public ConsumerFactory&lt;Integer, String&gt; consumerFactory() {\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n    }\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, embeddedKafka.getBrokersAsString());\n        ...\n        return props;\n    }\n}\n\n</code></pre>\n<p>I want to commit offset of only particular partition for which processing was successful</p>\n<pre><code>@KafkaListener(id = &quot;thing2&quot;, topicPartitions =\n        { @TopicPartition(topic = &quot;topic1&quot;, partitions = { &quot;0&quot;, &quot;1&quot; }),\n          @TopicPartition(topic = &quot;topic2&quot;, partitions = &quot;0&quot;,\n             partitionOffsets = @PartitionOffset(partition = &quot;1&quot;, initialOffset = &quot;100&quot;))\n        })\npublic void listen(List&lt;ConsumerRecord&lt;String, String&gt; records, Acknowledgement acknowledgement) {\n   Map&lt;TopicPartition, List&lt;ConsumerRecord&gt;&gt; records = ....\n     \n     acknowledgement.acknowledge();\n    ...\n}\n\n</code></pre>\n<p>Acknowledgement does not provides option to specify partition for which we needs to commit offset. It will by default  commit offset for all the partitions. Is there any way we can achieve it?</p>\n<p>I tried to look into spring kafka documentation\n<a href=\"https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/Acknowledgment.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/api/org/springframework/kafka/support/Acknowledgment.html\n</a></p>\n<p>there is no provision of providing partition number for committing the offset.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1682028184,"post_id":76068362,"comment_id":134155692,"body_markdown":"https://www.geeksforgeeks.org/find-distinct-subsets-given-set/. https://www.youtube.com/watch?v=wpWGDHmpbgA. I found those links in a fraction of the the time it&#39;d have taken to formulate this question. HTH.","body":"<a href=\"https://www.geeksforgeeks.org/find-distinct-subsets-given-set/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/find-distinct-subsets-given-set</a>. <a href=\"https://www.youtube.com/watch?v=wpWGDHmpbgA\" rel=\"nofollow noreferrer\">youtube.com/watch?v=wpWGDHmpbgA</a>. I found those links in a fraction of the the time it&#39;d have taken to formulate this question. HTH."},{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":0,"creation_date":1682029377,"post_id":76068362,"comment_id":134155850,"body_markdown":"Per the link you cited, a &quot;mask&quot; is simply a string of boolean true/false values indicating whether or not that particular set is present.  It&#39;s a [bitmask](https://en.wikipedia.org/wiki/Mask_(computing)).  You can set, clear and check mask values using the Java [boolean operators](https://www.freejavaguide.com/boolean_operators.htm).","body":"Per the link you cited, a &quot;mask&quot; is simply a string of boolean true/false values indicating whether or not that particular set is present.  It&#39;s a <a href=\"https://en.wikipedia.org/wiki/Mask_(computing)\" rel=\"nofollow noreferrer\">bitmask</a>.  You can set, clear and check mask values using the Java <a href=\"https://www.freejavaguide.com/boolean_operators.htm\" rel=\"nofollow noreferrer\">boolean operators</a>."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1682029485,"post_id":76068362,"comment_id":134155866,"body_markdown":"@AbhijitSarkar The problem is author of the link doesn&#39;t understand what a mask is, so little surprise that you don&#39;t. What&#39;s described there is *not* a mask, but rather an *array* of boolean values that is used to keep track of which values are in a set: You first sort the elements in a list. Then each location in the sorted list corresponds to the same location in the boolean array, which indicates if the element has been used. When generating the subsets, you update the array when you add an element, but first you check if it&#39;s already true and if so abort that branch early.","body":"@AbhijitSarkar The problem is author of the link doesn&#39;t understand what a mask is, so little surprise that you don&#39;t. What&#39;s described there is <i>not</i> a mask, but rather an <i>array</i> of boolean values that is used to keep track of which values are in a set: You first sort the elements in a list. Then each location in the sorted list corresponds to the same location in the boolean array, which indicates if the element has been used. When generating the subsets, you update the array when you add an element, but first you check if it&#39;s already true and if so abort that branch early."},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1682035050,"post_id":76068362,"comment_id":134156491,"body_markdown":"What pointless microoptimization! Trying to squezze subsets into a single machine word to save a couple bytes of storage, but using a dreadfully inefficient algorithm, which, by generating all subsets, requires O(2^n) operations to emit (n choose r) &lt; O(n^r) subsets. If you wish to optimize, perhaps start by not iterating over subsets you could not possibly need? A decently efficient algorithm can be found on my answer to https://stackoverflow.com/questions/4504974/how-to-iteratively-generate-k-elements-subsets-from-a-set-of-size-n-in-java","body":"What pointless microoptimization! Trying to squezze subsets into a single machine word to save a couple bytes of storage, but using a dreadfully inefficient algorithm, which, by generating all subsets, requires O(2^n) operations to emit (n choose r) &lt; O(n^r) subsets. If you wish to optimize, perhaps start by not iterating over subsets you could not possibly need? A decently efficient algorithm can be found on my answer to <a href=\"https://stackoverflow.com/questions/4504974/how-to-iteratively-generate-k-elements-subsets-from-a-set-of-size-n-in-java\" title=\"how to iteratively generate k elements subsets from a set of size n in java\">stackoverflow.com/questions/4504974/&hellip;</a>"},{"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"score":0,"creation_date":1682035515,"post_id":76068362,"comment_id":134156533,"body_markdown":"Just as an example how bad your instructor&#39;s approach is: If |S| = 30 and r = 5, their code iterates 1073741824 subsets to emit 142506.","body":"Just as an example how bad your instructor&#39;s approach is: If |S| = 30 and r = 5, their code iterates 1073741824 subsets to emit 142506."}],"answers":[{"comments":[{"owner":{"account_id":17823878,"reputation":1064,"user_id":12945569,"display_name":"Fr&#233;d&#233;ric LOYER"},"score":0,"creation_date":1682028833,"post_id":76068474,"comment_id":134155777,"body_markdown":"Note: I couldn’t have tested it. Hope there are no bug, but you get the idea.","body":"Note: I couldn’t have tested it. Hope there are no bug, but you get the idea."}],"tags":[],"owner":{"account_id":17823878,"reputation":1064,"user_id":12945569,"display_name":"Fr&#233;d&#233;ric LOYER"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682028956,"creation_date":1682026976,"answer_id":76068474,"question_id":76068362,"body_markdown":"The idea about the mask is to associate each set a number whose each bit indicates if the corresponding order is in the set. \r\n\r\nThen the set {} is coded 0. The set {0} is coded 1, the set {1} is coded 2, set set {0,1} is coded 1+2=3. \r\n\r\nWith this scheme you add easily a number to a set:\r\n\r\n```\r\ns = s | 1&lt;&lt;number;\r\n```\r\n\r\nYou can also test the membership of a number in a set:\r\n\r\n```\r\nif (s &amp; 1&lt;&lt;number != 0)\r\n   System.out.println(&quot;number is in set&quot;);\r\n```\r\n\r\nThe `&lt;&lt;` notation indicates a number (here 1) whose the bits are shift in a given amount.\r\n\r\nUsing a mask for sets is very efficient: the `|`, `&amp;` and `&lt;&lt;` operators are built in the processor. But it is limited by the number of bits in the CPU registers. \r\n\r\nIn your example, you can type something like this:\r\n```\r\nfor(int set=0; set&lt; (1&lt;&lt;S); s++)\r\n{\r\n   // count the number of items\r\n   int n=0;\r\n   for(int i=0;i&lt;S;i++)\r\n      if(set &amp; 1&lt;&lt;i != 0)\r\n         n++;\r\n   // if the number of item match r\r\n   // print the set\r\n   if(n==r)\r\n   {\r\n      for(int i=0;i&lt;S;i++)\r\n         if(set &amp; 1&lt;&lt;i != 0)\r\n            System.out.print(arr[i]);\r\n      System.out.println();\r\n    }\r\n}\r\n```\r\n\r\nNote, here 1 &lt;&lt; n code the set `arr[n]` and not n. Then S must be inferior to the size of your cpu registers, but arr are not so much limited. ","title":"Write a Java program that uses a mask to generate all subsets of S using a mask","body":"<p>The idea about the mask is to associate each set a number whose each bit indicates if the corresponding order is in the set.</p>\n<p>Then the set {} is coded 0. The set {0} is coded 1, the set {1} is coded 2, set set {0,1} is coded 1+2=3.</p>\n<p>With this scheme you add easily a number to a set:</p>\n<pre><code>s = s | 1&lt;&lt;number;\n</code></pre>\n<p>You can also test the membership of a number in a set:</p>\n<pre><code>if (s &amp; 1&lt;&lt;number != 0)\n   System.out.println(&quot;number is in set&quot;);\n</code></pre>\n<p>The <code>&lt;&lt;</code> notation indicates a number (here 1) whose the bits are shift in a given amount.</p>\n<p>Using a mask for sets is very efficient: the <code>|</code>, <code>&amp;</code> and <code>&lt;&lt;</code> operators are built in the processor. But it is limited by the number of bits in the CPU registers.</p>\n<p>In your example, you can type something like this:</p>\n<pre><code>for(int set=0; set&lt; (1&lt;&lt;S); s++)\n{\n   // count the number of items\n   int n=0;\n   for(int i=0;i&lt;S;i++)\n      if(set &amp; 1&lt;&lt;i != 0)\n         n++;\n   // if the number of item match r\n   // print the set\n   if(n==r)\n   {\n      for(int i=0;i&lt;S;i++)\n         if(set &amp; 1&lt;&lt;i != 0)\n            System.out.print(arr[i]);\n      System.out.println();\n    }\n}\n</code></pre>\n<p>Note, here 1 &lt;&lt; n code the set <code>arr[n]</code> and not n. Then S must be inferior to the size of your cpu registers, but arr are not so much limited.</p>\n"}],"owner":{"account_id":24322807,"reputation":9,"user_id":18262883,"display_name":"Zaynab B."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682028956,"creation_date":1682025526,"question_id":76068362,"body_markdown":"The assignment is as follows:\r\n\r\n&gt;Write a program that would generate and print all r-subsets of a set S. The set S and the number r are\r\nprovided by the user. Your program should also print the number of r-subsets of S.\r\nSubsets of a set can be generated using a mask. A good description of the method is presented at\r\nhttp://compprog.wordpress.com/2007/10/10/generating-subsets/. The page also contains a link to the code in\r\nC (sub.c)\r\nPlease use a mask to generate all subsets of S and print the subsets that have r elements (r-subsets).\r\nYour program should do the following:\r\n&gt;1) Prompt the user to enter the size of set S, elements of S, and the number r. You may assume that the\r\nsize of S is no more than 10. Assume that all the elements entered by the user are different (no\r\nduplicates). (You do not need to check that there are no duplicates.)\r\n&gt;2) Generate all subsets of S using a mask.\r\n&gt;3) For each subset generated in 2), compute the number of elements in the subset. If the number of\r\nelements in the subset is equal to r then output the subset.\r\n&gt;4) Output total number of r-subsets of S.\r\nDialog with the user may look like the following (keep in mind that the order of elements in a set does not\r\nmatter):\r\n```Please enter the size of set S: 6\r\nPlease enter S: 1 2 3 4 5 6\r\nPlease enter r: 4\r\n4-subsets of S are the following:\r\n{ 1 2 3 4 }\r\n{ 1 2 3 5 }\r\n{ 1 2 4 5 }\r\n{ 1 3 4 5 }\r\n{ 2 3 4 5 }\r\n{ 1 2 3 6 }\r\n{ 1 2 4 6 }\r\n{ 1 3 4 6 }\r\n{ 2 3 4 6 }\r\n{ 1 2 5 6 }\r\n{ 1 3 5 6 }\r\n{ 2 3 5 6 }\r\n{ 1 4 5 6 }\r\n{ 2 4 5 6 }\r\n{ 3 4 5 6 }\r\nThere are 15 r-subsets\r\n\r\n```\r\nThe instructor never talked about &quot;masks&quot; in class, so naturally I was confused about this. I tried to Google to figure it out, but to no avail. So, I decided to just try solving the problem in general. This is my code so far:\r\n```import java.io.*;\r\nimport java.util.*;\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Main {\r\n\r\n  public static void func(int[] ARR, int s, int R) {\r\n           for (int j = i + 1; j &lt;= R; j++) {\r\n               System.out.println(ARR[i] + &quot; &quot; + ARR[j]);\r\n           }\r\n  }\r\n  \r\n  public static void main(String[] args) {\r\n    Scanner input = new Scanner(System.in);\r\n    System.out.print(&quot;Size of set S: &quot;);\r\n    int S = input.nextInt();\r\n    int[] arr = new int[S];    \r\n    System.out.print(&quot;Values of set S: &quot;);\r\n    for (int i = 0; i &lt; S; i++) {\r\n      arr[i] = input.nextInt();\r\n    }\r\n    System.out.print(&quot;Value of r: &quot;);\r\n    int r = input.nextInt();\r\n    func(arr, S, r);\r\n  }\r\n}\r\n```\r\nHow do I go about making this code work/creating this &quot;mask&quot; thing that the instructor is asking us to implement?","title":"Write a Java program that uses a mask to generate all subsets of S using a mask","body":"<p>The assignment is as follows:</p>\n<blockquote>\n<p>Write a program that would generate and print all r-subsets of a set S. The set S and the number r are\nprovided by the user. Your program should also print the number of r-subsets of S.\nSubsets of a set can be generated using a mask. A good description of the method is presented at\n<a href=\"http://compprog.wordpress.com/2007/10/10/generating-subsets/\" rel=\"nofollow noreferrer\">http://compprog.wordpress.com/2007/10/10/generating-subsets/</a>. The page also contains a link to the code in\nC (sub.c)\nPlease use a mask to generate all subsets of S and print the subsets that have r elements (r-subsets).\nYour program should do the following:</p>\n<ol>\n<li>Prompt the user to enter the size of set S, elements of S, and the number r. You may assume that the\nsize of S is no more than 10. Assume that all the elements entered by the user are different (no\nduplicates). (You do not need to check that there are no duplicates.)</li>\n<li>Generate all subsets of S using a mask.</li>\n<li>For each subset generated in 2), compute the number of elements in the subset. If the number of\nelements in the subset is equal to r then output the subset.</li>\n<li>Output total number of r-subsets of S.\nDialog with the user may look like the following (keep in mind that the order of elements in a set does not\nmatter):</li>\n</ol>\n</blockquote>\n<pre><code>Please enter S: 1 2 3 4 5 6\nPlease enter r: 4\n4-subsets of S are the following:\n{ 1 2 3 4 }\n{ 1 2 3 5 }\n{ 1 2 4 5 }\n{ 1 3 4 5 }\n{ 2 3 4 5 }\n{ 1 2 3 6 }\n{ 1 2 4 6 }\n{ 1 3 4 6 }\n{ 2 3 4 6 }\n{ 1 2 5 6 }\n{ 1 3 5 6 }\n{ 2 3 5 6 }\n{ 1 4 5 6 }\n{ 2 4 5 6 }\n{ 3 4 5 6 }\nThere are 15 r-subsets\n\n</code></pre>\n<p>The instructor never talked about &quot;masks&quot; in class, so naturally I was confused about this. I tried to Google to figure it out, but to no avail. So, I decided to just try solving the problem in general. This is my code so far:</p>\n<pre><code>import java.util.*;\nimport java.util.Scanner;\n\n\npublic class Main {\n\n  public static void func(int[] ARR, int s, int R) {\n           for (int j = i + 1; j &lt;= R; j++) {\n               System.out.println(ARR[i] + &quot; &quot; + ARR[j]);\n           }\n  }\n  \n  public static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    System.out.print(&quot;Size of set S: &quot;);\n    int S = input.nextInt();\n    int[] arr = new int[S];    \n    System.out.print(&quot;Values of set S: &quot;);\n    for (int i = 0; i &lt; S; i++) {\n      arr[i] = input.nextInt();\n    }\n    System.out.print(&quot;Value of r: &quot;);\n    int r = input.nextInt();\n    func(arr, S, r);\n  }\n}\n</code></pre>\n<p>How do I go about making this code work/creating this &quot;mask&quot; thing that the instructor is asking us to implement?</p>\n"},{"tags":["java","spring-boot","graphql","microservices","dto"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":0,"creation_date":1651077181,"post_id":72032205,"comment_id":127278269,"body_markdown":"Where would you keep the JSON schema? The JSON schema is an implicit dependency. If you change the JSON schema, then you must also change the microservices that use the DTOs generated from the JSON schema.","body":"Where would you keep the JSON schema? The JSON schema is an implicit dependency. If you change the JSON schema, then you must also change the microservices that use the DTOs generated from the JSON schema."}],"answers":[{"tags":[],"owner":{"account_id":28364481,"reputation":1,"user_id":21693989,"display_name":"Chino Aureus"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682028580,"creation_date":1682028580,"answer_id":76068578,"question_id":72032205,"body_markdown":"Consider having a loose coupling between the gateway and the microservices.  The gateway should not be aware of the domain model and behave like a true proxy.  It does not need to know about the DTOs.\r\n\r\nWith that principle in mind and assuming that your gateway implementation uses graphql-java, I suggest keeping the data fetchers in your graphql gateway very generic and returning an Object or DataFetcherResult or Map&lt;String,Object&gt; instead of DTO or POJO.  As an example, you can look at [GraphQuilt Gateway][1] that uses this pattern.\r\n\r\nThe generic [ServiceDataFetcher][2] returns an Object and it invokes a batch loader that returns the [DatafetcherResult][3]. The data returned by the microservices is represented by [Map&lt;String, Object&gt;][4]\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://github.com/graph-quilt/graphql-orchestrator-java\r\n  [2]: https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/datafetcher/ServiceDataFetcher.java#L25\r\n  [3]: https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/batch/GraphQLServiceBatchLoader.java#L83\r\n  [4]: https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/batch/GraphQLServiceBatchLoader.java#L299","title":"How to handle DTOs definition between different microservices using Java + Springboot + GraphQL","body":"<p>Consider having a loose coupling between the gateway and the microservices.  The gateway should not be aware of the domain model and behave like a true proxy.  It does not need to know about the DTOs.</p>\n<p>With that principle in mind and assuming that your gateway implementation uses graphql-java, I suggest keeping the data fetchers in your graphql gateway very generic and returning an Object or DataFetcherResult or Map&lt;String,Object&gt; instead of DTO or POJO.  As an example, you can look at <a href=\"https://github.com/graph-quilt/graphql-orchestrator-java\" rel=\"nofollow noreferrer\">GraphQuilt Gateway</a> that uses this pattern.</p>\n<p>The generic <a href=\"https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/datafetcher/ServiceDataFetcher.java#L25\" rel=\"nofollow noreferrer\">ServiceDataFetcher</a> returns an Object and it invokes a batch loader that returns the <a href=\"https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/batch/GraphQLServiceBatchLoader.java#L83\" rel=\"nofollow noreferrer\">DatafetcherResult</a>. The data returned by the microservices is represented by <a href=\"https://github.com/graph-quilt/graphql-orchestrator-java/blob/master/src/main/java/com/intuit/graphql/orchestrator/batch/GraphQLServiceBatchLoader.java#L299\" rel=\"nofollow noreferrer\">Map&lt;String, Object&gt;</a></p>\n<p>Hope this helps.</p>\n"}],"owner":{"account_id":1227934,"reputation":3849,"user_id":1193148,"accept_rate":74,"display_name":"Marcelo Tataje"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682028580,"creation_date":1651076424,"question_id":72032205,"body_markdown":"I know this question has already been asked, but I have a different scenario in which I have the following structure:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see the front-end (UI) will always call a GraphQL API Gateway microservice that will redirect the request to different microservices depending on the functionality or data required. I simplified the graphic by drawing 3 microservices, but we have more than 30.\r\n\r\nWhen I started working in this project, something that I noticed is that the GraphQL API Gateway microservice is repeating many DTOs that are already defined on the other microservices. As a consequence, this GraphQL API Gateway microservice is full of Java classes that serve as DTOs (with same fields, datatypes and no modifications), so basically, what developers have been doing was to copy and paste a DTO from user microservice and paste them in the GraphQL API Gateway microservice. The same pattern was followed for all the 30 microservices DTOs. Additionally, DTOs across microservices are being copy-pasted based on the needs. You may say that there should not be an issue, but whenever a microservice requires a DTO structure change, we need to change the DTO in all the other microservices.\r\n\r\nSome approaches that me and my team evaluated were to:\r\n\r\n 1. Either create a common library exclusively for DTOs that could be reused by many projects. The only concern is that this will add some &quot;dependency&quot; and break the &quot;microservices&quot; idea. Additionally, I think this will not fully solve the issue we have since we would need to keep this dependency up to date in each microservice.\r\n 2. Use some sort of utility such JSON schema that will generate required DTOs based on needs. \r\n\r\nThis is something that I have been discussing with the team, most of the team would like to go for the JSON Schema approach. However, I would like to know if there could be something more efficient from your point of view, I took a look to some approaches like exposing domain objects (https://www.baeldung.com/java-microservices-share-dto), but I do not think this apply for the particular case I am talking in this post.\r\n\r\nSo, any suggestion or feedback will be highly appreciated. Thanks in advance.\r\n\r\n  [1]: https://i.stack.imgur.com/8tDCO.png","title":"How to handle DTOs definition between different microservices using Java + Springboot + GraphQL","body":"<p>I know this question has already been asked, but I have a different scenario in which I have the following structure:</p>\n<p><a href=\"https://i.stack.imgur.com/8tDCO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8tDCO.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the front-end (UI) will always call a GraphQL API Gateway microservice that will redirect the request to different microservices depending on the functionality or data required. I simplified the graphic by drawing 3 microservices, but we have more than 30.</p>\n<p>When I started working in this project, something that I noticed is that the GraphQL API Gateway microservice is repeating many DTOs that are already defined on the other microservices. As a consequence, this GraphQL API Gateway microservice is full of Java classes that serve as DTOs (with same fields, datatypes and no modifications), so basically, what developers have been doing was to copy and paste a DTO from user microservice and paste them in the GraphQL API Gateway microservice. The same pattern was followed for all the 30 microservices DTOs. Additionally, DTOs across microservices are being copy-pasted based on the needs. You may say that there should not be an issue, but whenever a microservice requires a DTO structure change, we need to change the DTO in all the other microservices.</p>\n<p>Some approaches that me and my team evaluated were to:</p>\n<ol>\n<li>Either create a common library exclusively for DTOs that could be reused by many projects. The only concern is that this will add some &quot;dependency&quot; and break the &quot;microservices&quot; idea. Additionally, I think this will not fully solve the issue we have since we would need to keep this dependency up to date in each microservice.</li>\n<li>Use some sort of utility such JSON schema that will generate required DTOs based on needs.</li>\n</ol>\n<p>This is something that I have been discussing with the team, most of the team would like to go for the JSON Schema approach. However, I would like to know if there could be something more efficient from your point of view, I took a look to some approaches like exposing domain objects (<a href=\"https://www.baeldung.com/java-microservices-share-dto\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-microservices-share-dto</a>), but I do not think this apply for the particular case I am talking in this post.</p>\n<p>So, any suggestion or feedback will be highly appreciated. Thanks in advance.</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1682027545,"post_id":76068472,"comment_id":134155597,"body_markdown":"Short answer: Add `@Param(&quot;foo&quot;)` to the first method argument and reference its properties with `foo.` prefix i.e. `#{foo.bar}` instead of `#{bar}`. Long answer [here](https://stackoverflow.com/a/59811574/1261766).","body":"Short answer: Add <code>@Param(&quot;foo&quot;)</code> to the first method argument and reference its properties with <code>foo.</code> prefix i.e. <code>#{foo.bar}</code> instead of <code>#{bar}</code>. Long answer <a href=\"https://stackoverflow.com/a/59811574/1261766\">here</a>."}],"owner":{"account_id":2783308,"reputation":2051,"user_id":2395365,"accept_rate":27,"display_name":"user2395365"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682026954,"creation_date":1682026954,"question_id":76068472,"body_markdown":"\r\n\r\nI have a class Foo with fields bar, baz, and buz and an XML mapping file:\r\n\r\n&lt;resultMap id=&quot;Foo&quot; type=&quot;com.Foo&quot;&gt;\r\n        &lt;id column=&quot;id&quot; property=&quot;id&quot;/&gt;\r\n        &lt;result column=&quot;user_id&quot; property=&quot;userId&quot;/&gt;\r\n        &lt;result column=&quot;bar&quot; property=&quot;bar&quot;/&gt;\r\n        &lt;result column=&quot;baz&quot; property=&quot;baz&quot;/&gt;\r\n        &lt;result column=&quot;buz&quot; property=&quot;buz&quot;/&gt;\r\n&lt;/resultMap&gt;\r\n\r\nHow would I write a generic update mapper that will allow me to update records for a non-null value of one of of the fields for a given where clause?\r\n\r\ne.g. something like\r\n\r\n&lt;update id=&quot;bulkUpdate&quot; parameterType=&quot;com.Foo&quot; useGeneratedKeys=&#39;true&#39; keyProperty=&#39;id&#39; keyColumn=&quot;id&quot;&gt;\r\n        UPDATE public.foo set\r\n        &lt;if test=&quot;bar!= null&quot;&gt;\r\n           bar = #{bar},\r\n        &lt;/if&gt;\r\n        &lt;if test=&quot;baz!= null&quot;&gt;\r\n           baz = #{baz},\r\n        &lt;/if&gt;\r\n        &lt;if test=&quot;buz!= null&quot;&gt;\r\n           buz = #{buz},\r\n        &lt;/if&gt;\r\n    &lt;/update&gt;\r\n   &lt;where&gt;\r\n        &lt;foreach item=&quot;item&quot; index=&quot;index&quot; collection=&quot;userIds&quot; open=&quot;(&quot; separator=&quot;,&quot; close=&quot;)&quot;&gt;\r\n            #{item}\r\n        &lt;/foreach&gt;\r\n    &lt;/where&gt;\r\n    \r\nMy Mapper class looks like:\r\n\r\n    void bulkUpdate(Foo foo, @Param(&quot;userIds&quot;) Collection&lt;Long&gt; userIds);\r\n\r\nBut i get an error in the XMl because it doesn&#39;t look like I can pass the object and a @Param...\r\n\r\nAny ideas?\r\n\r\n     ","title":"how to dynamically update fields in MyBatis","body":"<p>I have a class Foo with fields bar, baz, and buz and an XML mapping file:</p>\n\n        \n        \n        \n        \n        \n\n<p>How would I write a generic update mapper that will allow me to update records for a non-null value of one of of the fields for a given where clause?</p>\n<p>e.g. something like</p>\n\n        UPDATE public.foo set\n        \n           bar = #{bar},\n        \n        \n           baz = #{baz},\n        \n        \n           buz = #{buz},\n        \n    \n   \n        \n            #{item}\n        \n    \n    \nMy Mapper class looks like:\n<pre><code>void bulkUpdate(Foo foo, @Param(&quot;userIds&quot;) Collection&lt;Long&gt; userIds);\n</code></pre>\n<p>But i get an error in the XMl because it doesn't look like I can pass the object and a @Param...</p>\n<p>Any ideas?</p>\n"},{"tags":["java","spring-boot","performance","logging","log4j2"],"comments":[{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":1,"creation_date":1681101831,"post_id":75972602,"comment_id":133998815,"body_markdown":"Are you able to override the `toString` method and add a break point to see why `toString` is called?","body":"Are you able to override the <code>toString</code> method and add a break point to see why <code>toString</code> is called?"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1681130126,"post_id":75972602,"comment_id":134002826,"body_markdown":"@samabcde: Yes, I overwrote it basically for every entity and when it&#39;s called, it&#39;s not from me code but from some framework code which I don&#39;t have any control over.","body":"@samabcde: Yes, I overwrote it basically for every entity and when it&#39;s called, it&#39;s not from me code but from some framework code which I don&#39;t have any control over."},{"owner":{"account_id":10777133,"reputation":7282,"user_id":7928721,"display_name":"samabcde"},"score":0,"creation_date":1681130779,"post_id":75972602,"comment_id":134002946,"body_markdown":"So can you see which method is calling `toString` when you stop at the breakpoint?","body":"So can you see which method is calling <code>toString</code> when you stop at the breakpoint?"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1681233366,"post_id":75972602,"comment_id":134022338,"body_markdown":"@samabcde: It&#39;s called by invoking certain repository interface methods, e.g. ones that I defined myself. Since the code is generated by Spring Data JPA, I don&#39;t see any explicit calls to `toString()` but they happen anyway.","body":"@samabcde: It&#39;s called by invoking certain repository interface methods, e.g. ones that I defined myself. Since the code is generated by Spring Data JPA, I don&#39;t see any explicit calls to <code>toString()</code> but they happen anyway."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1681333183,"post_id":75972602,"comment_id":134041532,"body_markdown":"Can you add some examples of logging statements? My guess is that you activated some very verbose logger in your config (Hibernate statements?).","body":"Can you add some examples of logging statements? My guess is that you activated some very verbose logger in your config (Hibernate statements?)."},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1681919332,"post_id":75972602,"comment_id":134135628,"body_markdown":"@PiotrP.Karwasz: My log statements do not log out any entities so I&#39;m not calling `toString()` implicitly either. Yes, I enabled Hibernate SQL logging via e.g. `logging.level.org.hibernate.SQL=DEBUG`, `logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE`, `spring.jpa.show-sql=true`","body":"@PiotrP.Karwasz: My log statements do not log out any entities so I&#39;m not calling <code>toString()</code> implicitly either. Yes, I enabled Hibernate SQL logging via e.g. <code>logging.level.org.hibernate.SQL=DEBUG</code>, <code>logging.level.org.hibernate.type.descriptor.sql.BasicBinder=&zwnj;&#8203;TRACE</code>, <code>spring.jpa.show-sql=true</code>"},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":0,"creation_date":1681919799,"post_id":75972602,"comment_id":134135738,"body_markdown":"I would guess that Hibernate calls `toString()` on your entities. Can you add a stacktrace to the question?","body":"I would guess that Hibernate calls <code>toString()</code> on your entities. Can you add a stacktrace to the question?"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1682026118,"post_id":75972602,"comment_id":134155383,"body_markdown":"@PiotrP.Karwasz: The stack trace is just a regular repository method which my code is calling such as `findFirstByGameModeOrderBySeasonIdDesc(gameMode)` but &quot;magically&quot; `toString()` is being called inside of it...","body":"@PiotrP.Karwasz: The stack trace is just a regular repository method which my code is calling such as <code>findFirstByGameModeOrderBySeasonIdDesc(gameMode)</code> but &quot;magically&quot; <code>toString()</code> is being called inside of it..."}],"answers":[{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682026335,"creation_date":1682026335,"answer_id":76068423,"question_id":75972602,"body_markdown":"Even though I wasn&#39;t able to figure out why `log4j2` is mysteriously calling my entity&#39;s `toString()` methods, severely degrading performance, I decided to use the default `Logback` logger and I ended up being quite happy with it, so I don&#39;t really need to use `log4j2` anymore. After all, `Logback` is also the default logger for `Spring Boot`. Sometimes it&#39;s better not to break a running setup.","title":"log4j2 in Spring Boot slows down my application significantly","body":"<p>Even though I wasn't able to figure out why <code>log4j2</code> is mysteriously calling my entity's <code>toString()</code> methods, severely degrading performance, I decided to use the default <code>Logback</code> logger and I ended up being quite happy with it, so I don't really need to use <code>log4j2</code> anymore. After all, <code>Logback</code> is also the default logger for <code>Spring Boot</code>. Sometimes it's better not to break a running setup.</p>\n"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76068423,"answer_count":1,"score":2,"last_activity_date":1682026335,"creation_date":1681070464,"question_id":75972602,"body_markdown":"I built a REST API with `Spring Boot` and I switched my logging framework to `log4j2` by adding an exclusion of the default logger in my `pom.xml`:\r\n\r\n    &lt;exclusion&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    &lt;/exclusion&gt;\r\n\r\nAs well as including `log4j2` instead:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;m experiencing insane slowdowns of my REST API. I realized that `log4j2` is calling the `toString()` methods of my `data JPA` entities seemingly &quot;out of nowhere&quot; (e.g. I didn&#39;t specifically write log statements to log them out). I suppose this causes massive overhead (by potentially also fetching more entities from the database).\r\n\r\nBy reverting back to the default logger `Logback` the performance is &quot;normal&quot; again. `Logback` also does not call the `toString()` methods &quot;out of nowhere&quot;. Why is `log4j2` so inefficient here and can this behavior of calling my `toString()` methods &quot;out of nowhere&quot; be turned off?","title":"log4j2 in Spring Boot slows down my application significantly","body":"<p>I built a REST API with <code>Spring Boot</code> and I switched my logging framework to <code>log4j2</code> by adding an exclusion of the default logger in my <code>pom.xml</code>:</p>\n<pre><code>&lt;exclusion&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n&lt;/exclusion&gt;\n</code></pre>\n<p>As well as including <code>log4j2</code> instead:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I'm experiencing insane slowdowns of my REST API. I realized that <code>log4j2</code> is calling the <code>toString()</code> methods of my <code>data JPA</code> entities seemingly &quot;out of nowhere&quot; (e.g. I didn't specifically write log statements to log them out). I suppose this causes massive overhead (by potentially also fetching more entities from the database).</p>\n<p>By reverting back to the default logger <code>Logback</code> the performance is &quot;normal&quot; again. <code>Logback</code> also does not call the <code>toString()</code> methods &quot;out of nowhere&quot;. Why is <code>log4j2</code> so inefficient here and can this behavior of calling my <code>toString()</code> methods &quot;out of nowhere&quot; be turned off?</p>\n"},{"tags":["java","mysql","spring-boot","google-app-engine","google-cloud-platform"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1682016084,"post_id":76066221,"comment_id":134153535,"body_markdown":"The error says it cannot find the driver. Do you have the mysql dependency in your pom.xml or gradle file? Please provide it (the pom og gradle file). Are you building native maybe?","body":"The error says it cannot find the driver. Do you have the mysql dependency in your pom.xml or gradle file? Please provide it (the pom og gradle file). Are you building native maybe?"},{"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"score":0,"creation_date":1682025699,"post_id":76066221,"comment_id":134155318,"body_markdown":"@grekier: Yes, my `pom.xml` contains the `mysql` dependency, it works locally. I&#39;m not building native, just regular Java with `maven`. I couldn&#39;t get `GraalVM` native compilation to work yet with `Spring Boot`, either (I&#39;m using `Windows`).","body":"@grekier: Yes, my <code>pom.xml</code> contains the <code>mysql</code> dependency, it works locally. I&#39;m not building native, just regular Java with <code>maven</code>. I couldn&#39;t get <code>GraalVM</code> native compilation to work yet with <code>Spring Boot</code>, either (I&#39;m using <code>Windows</code>)."},{"owner":{"account_id":22733057,"reputation":1727,"user_id":16895625,"display_name":"Robert G"},"score":0,"creation_date":1682429670,"post_id":76066221,"comment_id":134211509,"body_markdown":"Based on this [documentation](https://cloud.google.com/appengine/docs/flexible/java/configuring-your-app-with-app-yaml#intro), double quotes (`&quot; &quot;`) should not be included. It should be `operating_system: ubuntu22\n  runtime_version: 17`","body":"Based on this <a href=\"https://cloud.google.com/appengine/docs/flexible/java/configuring-your-app-with-app-yaml#intro\" rel=\"nofollow noreferrer\">documentation</a>, double quotes (<code>&quot; &quot;</code>) should not be included. It should be <code>operating_system: ubuntu22   runtime_version: 17</code>"}],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682025629,"creation_date":1682007103,"question_id":76066221,"body_markdown":"I&#39;m trying to deploy my `Spring Boot 3` app to `Google App Engine` but I&#39;m getting the error     `org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MySQL5InnoDBDialect] as strategy [org.hibernate.dialect.Dialect]`.\r\nI see the exceptions which occurred on the [dashboard][1]:\r\n[![][2]][2]\r\n\r\nIs the `Google App Engine` `Ubuntu 22` VM missing the `mysql` driver or so?\r\n\r\nLocally and in my IDE `IntelliJ IDEA`, the REST API works fine and does not run into this error.\r\n\r\nMy `Google App Engine` `app.yaml` config looks as follows:\r\n\r\n    runtime: java\r\n    env: flex\r\n    runtime_config:\r\n      operating_system: &quot;ubuntu22&quot;\r\n      runtime_version: &quot;17&quot; # When not specified, uses the latest version available\r\n    env_variables:\r\n      SPRING_PROFILES_ACTIVE: &quot;gcp,mysql&quot;\r\n    handlers:\r\n      - url: /.*\r\n        script: this field is required, but ignored\r\n    manual_scaling:\r\n      instances: 1\r\n\r\nAnother strange thing is that defining my database connection in an `application-mysql.properties` file did not pick up the connection properties (incorrect) but defining it in an `application.properties` file made `Google App Engine` pick up the properties despite the fact that `Spring Boot` said that the profiles `gcp` and `mysql` are active (correct).\r\n\r\nMy deployment command is: `mvn clean package appengine:deploy -P cloud-gcp -DskipTests`\r\n\r\nHow do I successfully connect to my `Google Cloud Engine` `mysql` instance? My database config is:\r\n\r\n    spring.datasource.url=jdbc:mysql://google/&lt;database_name&gt;?cloudSqlInstance=&lt;instance_connection_name&gt;&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;username&gt;&amp;password=&lt;password&gt;\r\n    spring.datasource.username=&lt;username&gt;\r\n    spring.datasource.password=&lt;password&gt;\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.liquibase.enabled=false\r\n\r\n(Of course with placeholders replaced by the correct values)\r\n\r\nUsing the `Cloud Shell` I was able to connect to the `mysql` database instance just fine and perform arbitrary operations.\r\n\r\nEDIT:  \r\nMy `pom.xml` contains the `mysql` dependency as follows:\r\n\r\n    &lt;!-- MySQL database support --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  [1]: https://console.cloud.google.com/appengine\r\n  [2]: https://i.stack.imgur.com/xHuC1.png","title":"Getting org.hibernate.boot.registry.selector.spi.StrategySelectionException when deploying Spring Boot app to Google App Engine","body":"<p>I'm trying to deploy my <code>Spring Boot 3</code> app to <code>Google App Engine</code> but I'm getting the error     <code>org.hibernate.boot.registry.selector.spi.StrategySelectionException: Unable to resolve name [org.hibernate.dialect.MySQL5InnoDBDialect] as strategy [org.hibernate.dialect.Dialect]</code>.\nI see the exceptions which occurred on the <a href=\"https://console.cloud.google.com/appengine\" rel=\"nofollow noreferrer\">dashboard</a>:\n<a href=\"https://i.stack.imgur.com/xHuC1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xHuC1.png\" alt=\"\" /></a></p>\n<p>Is the <code>Google App Engine</code> <code>Ubuntu 22</code> VM missing the <code>mysql</code> driver or so?</p>\n<p>Locally and in my IDE <code>IntelliJ IDEA</code>, the REST API works fine and does not run into this error.</p>\n<p>My <code>Google App Engine</code> <code>app.yaml</code> config looks as follows:</p>\n<pre><code>runtime: java\nenv: flex\nruntime_config:\n  operating_system: &quot;ubuntu22&quot;\n  runtime_version: &quot;17&quot; # When not specified, uses the latest version available\nenv_variables:\n  SPRING_PROFILES_ACTIVE: &quot;gcp,mysql&quot;\nhandlers:\n  - url: /.*\n    script: this field is required, but ignored\nmanual_scaling:\n  instances: 1\n</code></pre>\n<p>Another strange thing is that defining my database connection in an <code>application-mysql.properties</code> file did not pick up the connection properties (incorrect) but defining it in an <code>application.properties</code> file made <code>Google App Engine</code> pick up the properties despite the fact that <code>Spring Boot</code> said that the profiles <code>gcp</code> and <code>mysql</code> are active (correct).</p>\n<p>My deployment command is: <code>mvn clean package appengine:deploy -P cloud-gcp -DskipTests</code></p>\n<p>How do I successfully connect to my <code>Google Cloud Engine</code> <code>mysql</code> instance? My database config is:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://google/&lt;database_name&gt;?cloudSqlInstance=&lt;instance_connection_name&gt;&amp;socketFactory=com.google.cloud.sql.mysql.SocketFactory&amp;user=&lt;username&gt;&amp;password=&lt;password&gt;\nspring.datasource.username=&lt;username&gt;\nspring.datasource.password=&lt;password&gt;\nspring.jpa.hibernate.ddl-auto=create\nspring.liquibase.enabled=false\n</code></pre>\n<p>(Of course with placeholders replaced by the correct values)</p>\n<p>Using the <code>Cloud Shell</code> I was able to connect to the <code>mysql</code> database instance just fine and perform arbitrary operations.</p>\n<p>EDIT:<br />\nMy <code>pom.xml</code> contains the <code>mysql</code> dependency as follows:</p>\n<pre><code>&lt;!-- MySQL database support --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","compiler-errors"],"comments":[{"owner":{"account_id":8751238,"reputation":1125,"user_id":6544408,"accept_rate":63,"display_name":"yobro97"},"score":0,"creation_date":1538115663,"post_id":12749994,"comment_id":92037795,"body_markdown":"For everyone&#39;s information, this error pops out if you call import statements over package declaration too (I know its dumb), just sayin&#39;, I spent half an hour figuring it out.","body":"For everyone&#39;s information, this error pops out if you call import statements over package declaration too (I know its dumb), just sayin&#39;, I spent half an hour figuring it out."},{"owner":{"account_id":10702580,"reputation":3643,"user_id":7877391,"display_name":"c-an"},"score":0,"creation_date":1542452275,"post_id":12749994,"comment_id":93578850,"body_markdown":"It can be an encoding problem. check this: https://stackoverflow.com/questions/31665663/android-studio-error-class-interface-or-enum-expeted/53350503#53350503","body":"It can be an encoding problem. check this: <a href=\"https://stackoverflow.com/questions/31665663/android-studio-error-class-interface-or-enum-expeted/53350503#53350503\" title=\"android studio error class interface or enum expeted\">stackoverflow.com/questions/31665663/&hellip;</a>"},{"owner":{"account_id":14264957,"reputation":398,"user_id":10304471,"display_name":"Trishant Saxena"},"score":0,"creation_date":1690490358,"post_id":12749994,"comment_id":135365201,"body_markdown":"This error is hard to find sometimes a extra or less brace } is the reason for this error.","body":"This error is hard to find sometimes a extra or less brace } is the reason for this error."}],"answers":[{"tags":[],"owner":{"account_id":41228,"reputation":24523,"user_id":119772,"accept_rate":75,"display_name":"Suraj Chandran"},"comment_count":0,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1349453268,"creation_date":1349453268,"answer_id":12750061,"question_id":12749994,"body_markdown":"Every method should be within a class. Your method `derivativeQuiz` is outside a class.\r\n\r\n    public class ClassName {\r\n    \r\n     ///your methods\r\n    }","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>Every method should be within a class. Your method <code>derivativeQuiz</code> is outside a class.</p>\n\n<pre><code>public class ClassName {\n\n ///your methods\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1877079,"reputation":6407,"user_id":1698073,"display_name":"jalynn2"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1354731561,"creation_date":1349453272,"answer_id":12750063,"question_id":12749994,"body_markdown":"You forgot your class declaration:\r\n\r\n    public class MyClass {\r\n    ...","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>You forgot your class declaration:</p>\n\n<pre><code>public class MyClass {\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4881003,"reputation":143,"user_id":4095708,"display_name":"jrdevdba"},"score":0,"creation_date":1523547719,"post_id":12750070,"comment_id":86616159,"body_markdown":"FYI this error also happens if there is extraneous text in the java file such as pasting in extra stuff from a code sample page. I learned this the hard way lol.","body":"FYI this error also happens if there is extraneous text in the java file such as pasting in extra stuff from a code sample page. I learned this the hard way lol."}],"tags":[],"owner":{"account_id":1280158,"reputation":921,"user_id":1234441,"accept_rate":50,"display_name":"azendh"},"comment_count":1,"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1349453285,"creation_date":1349453285,"answer_id":12750070,"question_id":12749994,"body_markdown":"You miss the class declaration.\r\n\r\n    public class DerivativeQuiz{\r\n       public static void derivativeQuiz(String args[]){ ... }\r\n    }","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>You miss the class declaration.</p>\n\n<pre><code>public class DerivativeQuiz{\n   public static void derivativeQuiz(String args[]){ ... }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":305112,"reputation":378,"user_id":615052,"accept_rate":83,"display_name":"Erfankam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1393615375,"creation_date":1393614536,"answer_id":22103799,"question_id":12749994,"body_markdown":"Look at your function s definition. If you forget using &quot;()&quot; after function declaration somewhere, you ll get plenty of errors with the same format: &lt;br&gt;\r\n\r\n     ... ??: class, interface, or enum expected ...\r\nAnd also you have forgot closing bracket after your class or function definition ends.\r\nBut note that these missing bracket, is not the only reason for this type of error.\r\n","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>Look at your function s definition. If you forget using \"()\" after function declaration somewhere, you ll get plenty of errors with the same format: <br></p>\n\n<pre><code> ... ??: class, interface, or enum expected ...\n</code></pre>\n\n<p>And also you have forgot closing bracket after your class or function definition ends.\nBut note that these missing bracket, is not the only reason for this type of error.</p>\n"},{"tags":[],"owner":{"account_id":2092917,"reputation":999,"user_id":1862299,"display_name":"Prakhyat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427540807,"creation_date":1427540807,"answer_id":29316390,"question_id":12749994,"body_markdown":"class, interface, or enum expected\r\n\r\nThe above error is even possible when import statement is miss spelled.\r\nA proper statement is &quot;import com.company.HelloWorld;&quot;\r\n\r\nIf by mistake while code writing/editing it is miss written like \r\n&quot;t com.company.HelloWorld;&quot;\r\n\r\ncompiler will show &quot;class, interface, or enum expected&quot;","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>class, interface, or enum expected</p>\n\n<p>The above error is even possible when import statement is miss spelled.\nA proper statement is \"import com.company.HelloWorld;\"</p>\n\n<p>If by mistake while code writing/editing it is miss written like \n\"t com.company.HelloWorld;\"</p>\n\n<p>compiler will show \"class, interface, or enum expected\"</p>\n"},{"comments":[{"owner":{"account_id":3096665,"reputation":3441,"user_id":2621706,"accept_rate":94,"display_name":"Uwe Allner"},"score":0,"creation_date":1476790876,"post_id":40106872,"comment_id":67485774,"body_markdown":"As it is described in the question (at the bottom)","body":"As it is described in the question (at the bottom)"}],"tags":[],"owner":{"account_id":9146174,"reputation":1,"user_id":6802292,"display_name":"gol_roger"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1553066028,"creation_date":1476789681,"answer_id":40106872,"question_id":12749994,"body_markdown":"the main method should be declared in the your class like this :\r\n\r\n    public class derivativeQuiz_source{\r\n        // bunch of methods .....\r\n\r\n        public static void main(String args[])\r\n        {\r\n            // code \r\n        }\r\n    }","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>the main method should be declared in the your class like this :</p>\n\n<pre><code>public class derivativeQuiz_source{\n    // bunch of methods .....\n\n    public static void main(String args[])\n    {\n        // code \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682023686,"creation_date":1682023686,"answer_id":76068178,"question_id":12749994,"body_markdown":"My App.java first line was `package my.package.path;`. `package` is a system keyword in java and cannot be used in the package path.\r\n\r\n(I was using an example from stackoverflow with: `mvn archetype:generate .. -DgroupId=my.package.path`)","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>My App.java first line was <code>package my.package.path;</code>. <code>package</code> is a system keyword in java and cannot be used in the package path.</p>\n<p>(I was using an example from stackoverflow with: <code>mvn archetype:generate .. -DgroupId=my.package.path</code>)</p>\n"}],"owner":{"account_id":1502089,"reputation":1544,"user_id":1406409,"accept_rate":90,"display_name":"Azulflame"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":350889,"favorite_count":0,"down_vote_count":4,"up_vote_count":23,"accepted_answer_id":12750070,"answer_count":7,"score":19,"last_activity_date":1682023686,"creation_date":1349453025,"question_id":12749994,"body_markdown":"I have been troubleshooting this program for hours, trying several configurations, and have had no luck. It has been written in java, and has 33 errors (lowered from 50 before)\r\n\r\nSource Code:\r\n\r\n    /*This program is named derivativeQuiz.java, stored on a network drive I have permission to edit\r\n    The actual code starts below this line (with the first import statement) */\r\n    import java.util.Random;\r\n    import java.Math.*;\r\n    import javax.swing.JOptionPane;\r\n    public static void derivativeQuiz(String args[])\r\n    {\r\n    \t// a bunch of code\r\n    }\r\n\r\nThe error log (compiled in JCreator):\r\n\r\n    --------------------Configuration: &lt;Default&gt;--------------------\r\n    H:\\Derivative quiz\\derivativeQuiz.java:4: class, interface, or enum expected\r\n    public static void derivativeQuiz(String args[])\r\n                  ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:9: class, interface, or enum expected\r\n        int maxCoef = 15;\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:10: class, interface, or enum expected\r\n        int question = Integer.parseInt(JOptionPane.showInputDialog(null, &quot;Please enter the number of questions you wish to test on: &quot;));\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:11: class, interface, or enum expected\r\n        int numExp = Integer.parseInt(JOptionPane.showInputDialog(null, &quot;Please enter the maximum exponent allowed (up to 5 supported):&quot; ));\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:12: class, interface, or enum expected\r\n        Random random = new Random();\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:13: class, interface, or enum expected\r\n        int coeff;\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:14: class, interface, or enum expected\r\n        String equation = &quot;&quot;;\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:15: class, interface, or enum expected\r\n        String deriv = &quot;&quot;;\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\r\n        for(int z = 0; z &lt;= question; z++)\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\r\n        for(int z = 0; z &lt;= question; z++)\r\n                       ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\r\n        for(int z = 0; z &lt;= question; z++)\r\n                                      ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:19: class, interface, or enum expected\r\n            deriv = &quot;&quot;;\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:20: class, interface, or enum expected\r\n            if(numExp &gt;= 5)\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:23: class, interface, or enum expected\r\n                equation = coeff + &quot;X^5 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:24: class, interface, or enum expected\r\n                deriv = coeff*5 + &quot;X^4 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:25: class, interface, or enum expected\r\n            }\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:29: class, interface, or enum expected\r\n                equation = equation + coeff + &quot;X^4 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:30: class, interface, or enum expected\r\n                deriv = deriv + coeff*4 + &quot;X^3 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:31: class, interface, or enum expected\r\n            }\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:35: class, interface, or enum expected\r\n                equation = equation + coeff + &quot;X^3 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:36: class, interface, or enum expected\r\n                deriv = deriv + coeff*3 + &quot;X^2 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:37: class, interface, or enum expected\r\n            }\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:41: class, interface, or enum expected\r\n                equation = equation + coeff + &quot;X^2 + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:42: class, interface, or enum expected\r\n                deriv = deriv + coeff*2 + &quot;X + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:43: class, interface, or enum expected\r\n            }\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:47: class, interface, or enum expected\r\n                equation = equation + coeff + &quot;X + &quot;;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:48: class, interface, or enum expected\r\n                deriv = deriv + coeff;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:49: class, interface, or enum expected\r\n            }\r\n            ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:53: class, interface, or enum expected\r\n                equation = equation + coeff;\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:54: class, interface, or enum expected\r\n    \r\n                if(deriv == &quot;&quot;)\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:57: class, interface, or enum expected\r\n                }\r\n                ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:114: class, interface, or enum expected\r\n        JOptionPane.showMessageDialog(null, &quot;Question &quot; + z + &quot;\\\\&quot; + question + &quot;\\nDerivative: &quot; + deriv);\r\n        ^\r\n    H:\\Derivative quiz\\derivativeQuiz.java:115: class, interface, or enum expected\r\n        }\r\n        ^\r\n    33 errors\r\n    \r\n    Process completed.\r\n\r\nI feel like this is a basic error, and yet I can&#39;t seem to find it.\r\nIf it makes a difference, I am using JCreator to compile and everything is installed correctly.\r\n\r\nUPDATE:\r\nI have fixed the errors involved (Class declaration and incorrect import statements (someone went back and deleted a few semicolons))\r\n\r\nWorking code:\r\n\r\n    import java.util.Random;\r\n    import javax.swing.JOptionPane;\r\n    import java.lang.String;\r\n    public class derivativeQuiz_source{\r\n    public static void main(String args[])\r\n    {\r\n        //a bunch more code\r\n    }\r\n    }\r\n\r\nThanks for all the help","title":"Compiler error: &quot;class, interface, or enum expected&quot;","body":"<p>I have been troubleshooting this program for hours, trying several configurations, and have had no luck. It has been written in java, and has 33 errors (lowered from 50 before)</p>\n\n<p>Source Code:</p>\n\n<pre><code>/*This program is named derivativeQuiz.java, stored on a network drive I have permission to edit\nThe actual code starts below this line (with the first import statement) */\nimport java.util.Random;\nimport java.Math.*;\nimport javax.swing.JOptionPane;\npublic static void derivativeQuiz(String args[])\n{\n    // a bunch of code\n}\n</code></pre>\n\n<p>The error log (compiled in JCreator):</p>\n\n<pre><code>--------------------Configuration: &lt;Default&gt;--------------------\nH:\\Derivative quiz\\derivativeQuiz.java:4: class, interface, or enum expected\npublic static void derivativeQuiz(String args[])\n              ^\nH:\\Derivative quiz\\derivativeQuiz.java:9: class, interface, or enum expected\n    int maxCoef = 15;\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:10: class, interface, or enum expected\n    int question = Integer.parseInt(JOptionPane.showInputDialog(null, \"Please enter the number of questions you wish to test on: \"));\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:11: class, interface, or enum expected\n    int numExp = Integer.parseInt(JOptionPane.showInputDialog(null, \"Please enter the maximum exponent allowed (up to 5 supported):\" ));\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:12: class, interface, or enum expected\n    Random random = new Random();\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:13: class, interface, or enum expected\n    int coeff;\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:14: class, interface, or enum expected\n    String equation = \"\";\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:15: class, interface, or enum expected\n    String deriv = \"\";\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\n    for(int z = 0; z &lt;= question; z++)\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\n    for(int z = 0; z &lt;= question; z++)\n                   ^\nH:\\Derivative quiz\\derivativeQuiz.java:16: class, interface, or enum expected\n    for(int z = 0; z &lt;= question; z++)\n                                  ^\nH:\\Derivative quiz\\derivativeQuiz.java:19: class, interface, or enum expected\n        deriv = \"\";\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:20: class, interface, or enum expected\n        if(numExp &gt;= 5)\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:23: class, interface, or enum expected\n            equation = coeff + \"X^5 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:24: class, interface, or enum expected\n            deriv = coeff*5 + \"X^4 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:25: class, interface, or enum expected\n        }\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:29: class, interface, or enum expected\n            equation = equation + coeff + \"X^4 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:30: class, interface, or enum expected\n            deriv = deriv + coeff*4 + \"X^3 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:31: class, interface, or enum expected\n        }\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:35: class, interface, or enum expected\n            equation = equation + coeff + \"X^3 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:36: class, interface, or enum expected\n            deriv = deriv + coeff*3 + \"X^2 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:37: class, interface, or enum expected\n        }\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:41: class, interface, or enum expected\n            equation = equation + coeff + \"X^2 + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:42: class, interface, or enum expected\n            deriv = deriv + coeff*2 + \"X + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:43: class, interface, or enum expected\n        }\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:47: class, interface, or enum expected\n            equation = equation + coeff + \"X + \";\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:48: class, interface, or enum expected\n            deriv = deriv + coeff;\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:49: class, interface, or enum expected\n        }\n        ^\nH:\\Derivative quiz\\derivativeQuiz.java:53: class, interface, or enum expected\n            equation = equation + coeff;\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:54: class, interface, or enum expected\n\n            if(deriv == \"\")\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:57: class, interface, or enum expected\n            }\n            ^\nH:\\Derivative quiz\\derivativeQuiz.java:114: class, interface, or enum expected\n    JOptionPane.showMessageDialog(null, \"Question \" + z + \"\\\\\" + question + \"\\nDerivative: \" + deriv);\n    ^\nH:\\Derivative quiz\\derivativeQuiz.java:115: class, interface, or enum expected\n    }\n    ^\n33 errors\n\nProcess completed.\n</code></pre>\n\n<p>I feel like this is a basic error, and yet I can't seem to find it.\nIf it makes a difference, I am using JCreator to compile and everything is installed correctly.</p>\n\n<p>UPDATE:\nI have fixed the errors involved (Class declaration and incorrect import statements (someone went back and deleted a few semicolons))</p>\n\n<p>Working code:</p>\n\n<pre><code>import java.util.Random;\nimport javax.swing.JOptionPane;\nimport java.lang.String;\npublic class derivativeQuiz_source{\npublic static void main(String args[])\n{\n    //a bunch more code\n}\n}\n</code></pre>\n\n<p>Thanks for all the help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2566910,"reputation":368,"user_id":2226708,"display_name":"The Shmoo"},"score":0,"creation_date":1681996482,"post_id":76064462,"comment_id":134148636,"body_markdown":"have you tried using intList.add(&quot;Hello World&quot;.hashCode());","body":"have you tried using intList.add(&quot;Hello World&quot;.hashCode());"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1681996508,"post_id":76064462,"comment_id":134148648,"body_markdown":"I fail to see how your code has anything to do with hashCode generation.  Please provide more information.    And be specific. *`but I can only edit and add code between those two commands`*  What commands?","body":"I fail to see how your code has anything to do with hashCode generation.  Please provide more information.    And be specific. <i><code>but I can only edit and add code between those two commands</code></i>  What commands?"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":1,"creation_date":1681996521,"post_id":76064462,"comment_id":134148653,"body_markdown":"`a.equals(b)` will *always* return `false` if `a` is an instance of `Integer` and `b` is an instance of `String`. Moreover, how do you expect us to help you with your problem if you do not even state the problem in the question?","body":"<code>a.equals(b)</code> will <i>always</i> return <code>false</code> if <code>a</code> is an instance of <code>Integer</code> and <code>b</code> is an instance of <code>String</code>. Moreover, how do you expect us to help you with your problem if you do not even state the problem in the question?"},{"owner":{"account_id":240654,"reputation":7749,"user_id":511012,"accept_rate":67,"display_name":"Ian Newson"},"score":0,"creation_date":1681996597,"post_id":76064462,"comment_id":134148676,"body_markdown":"What&#39;s the name and topic of the module you&#39;re studying? If it&#39;s about generics and type erasure in Java, it might be because it&#39;s possible to add the wrong type to lists in Java, although it&#39;s never recommended (the method name insertEvil hints that you should be trying to do it in an evil way).","body":"What&#39;s the name and topic of the module you&#39;re studying? If it&#39;s about generics and type erasure in Java, it might be because it&#39;s possible to add the wrong type to lists in Java, although it&#39;s never recommended (the method name insertEvil hints that you should be trying to do it in an evil way)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681996677,"post_id":76064462,"comment_id":134148702,"body_markdown":"Just do `((List) intList).add(0, &quot;Hello World&quot;)` (NVM, that is not going to work given the return type of `get(0)`)","body":"Just do <code>((List) intList).add(0, &quot;Hello World&quot;)</code> (NVM, that is not going to work given the return type of <code>get(0)</code>)"},{"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"score":0,"creation_date":1681996758,"post_id":76064462,"comment_id":134148719,"body_markdown":"Sorry i try to be more accurate now. My module is called &quot;software&quot; and my task is it to get a true from the if statement without changing the if statement. I can only write things between //change starts here and //Change ends here.","body":"Sorry i try to be more accurate now. My module is called &quot;software&quot; and my task is it to get a true from the if statement without changing the if statement. I can only write things between //change starts here and //Change ends here."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681996921,"post_id":76064462,"comment_id":134148763,"body_markdown":"do you know exactly how equals works?","body":"do you know exactly how equals works?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1681997007,"post_id":76064462,"comment_id":134148791,"body_markdown":"Are you allowed to do anything there? Including ending the current method and defining another method?","body":"Are you allowed to do anything there? Including ending the current method and defining another method?"},{"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"score":0,"creation_date":1681997146,"post_id":76064462,"comment_id":134148831,"body_markdown":"@Stultuske yes and it triggered me a lot because my teacher gave us this task. Until now one has get this correct.","body":"@Stultuske yes and it triggered me a lot because my teacher gave us this task. Until now one has get this correct."},{"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"score":0,"creation_date":1681997181,"post_id":76064462,"comment_id":134148838,"body_markdown":"@MarkRotteveel no Im not allowed to do this.","body":"@MarkRotteveel no Im not allowed to do this."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1681997764,"post_id":76064462,"comment_id":134148977,"body_markdown":"@maloomeister Compiler won&#39;t allow it.","body":"@maloomeister Compiler won&#39;t allow it."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1681997791,"post_id":76064462,"comment_id":134148987,"body_markdown":"Are you certain you have posted the correct, original code, sans any of your modifications?","body":"Are you certain you have posted the correct, original code, sans any of your modifications?"},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1681997819,"post_id":76064462,"comment_id":134148994,"body_markdown":"Probably not what you want but: `System.out.println(&quot;Ok&quot;); System.exit(0);` in between the comments :)","body":"Probably not what you want but: <code>System.out.println(&quot;Ok&quot;); System.exit(0);</code> in between the comments :)"},{"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"score":0,"creation_date":1681997870,"post_id":76064462,"comment_id":134149000,"body_markdown":"@WJS unfortunately this is copy paste and we asked him if this is a joke:)","body":"@WJS unfortunately this is copy paste and we asked him if this is a joke:)"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1681997998,"post_id":76064462,"comment_id":134149033,"body_markdown":"@WJS yeah, got that too.","body":"@WJS yeah, got that too."},{"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"score":0,"creation_date":1681998238,"post_id":76064462,"comment_id":134149094,"body_markdown":"@001 wow thats smart, i think its better than nothing","body":"@001 wow thats smart, i think its better than nothing"},{"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"score":0,"creation_date":1682059238,"post_id":76064462,"comment_id":134158994,"body_markdown":"Nice [nerd snipper](https://xkcd.com/356/). I tried to fake `intList` as `class intList {static String get(int i) {return &quot;Hello World&quot;;}}` (possible in Java 17) but no success - class declaration compiles fine but does not shade variable. May be it will inspire someone else. I agree with others it&#39;s mainly the puzzle to educate generics rather than expect some unconventional hack. Anyway it&#39;s hard to see any solution 100% covering your requirements. Put solution here please if you find out or get told, could be as self-answer. I am sure many people are interested in it as well.","body":"Nice <a href=\"https://xkcd.com/356/\" rel=\"nofollow noreferrer\">nerd snipper</a>. I tried to fake <code>intList</code> as <code>class intList {static String get(int i) {return &quot;Hello World&quot;;}}</code> (possible in Java 17) but no success - class declaration compiles fine but does not shade variable. May be it will inspire someone else. I agree with others it&#39;s mainly the puzzle to educate generics rather than expect some unconventional hack. Anyway it&#39;s hard to see any solution 100% covering your requirements. Put solution here please if you find out or get told, could be as self-answer. I am sure many people are interested in it as well."},{"owner":{"account_id":240654,"reputation":7749,"user_id":511012,"accept_rate":67,"display_name":"Ian Newson"},"score":0,"creation_date":1683313718,"post_id":76064462,"comment_id":134353484,"body_markdown":"Hi, did you reach out to your teacher and ask for a solution? I&#39;ve spent some time thinking about it, and I don&#39;t think it&#39;s possible.","body":"Hi, did you reach out to your teacher and ask for a solution? I&#39;ve spent some time thinking about it, and I don&#39;t think it&#39;s possible."}],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1681999244,"post_id":76064862,"comment_id":134149398,"body_markdown":"The OP said you can&#39;t use a new method.","body":"The OP said you can&#39;t use a new method."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1682000245,"post_id":76064862,"comment_id":134149674,"body_markdown":"@WJS yeah, which is why I said that the intended solution might just be casting to a raw type and adding the element. I also suspect that OP meant “no declaring methods *outside of the two comments*” After all, the original post is apparently a direct copy-paste, and it doesn’t mention anything about declaring new methods. It could just be that OP is not aware of a way to declare a new method by only changing the code inside the two comments, and so said what they said.","body":"@WJS yeah, which is why I said that the intended solution might just be casting to a raw type and adding the element. I also suspect that OP meant “no declaring methods <i>outside of the two comments</i>” After all, the original post is apparently a direct copy-paste, and it doesn’t mention anything about declaring new methods. It could just be that OP is not aware of a way to declare a new method by only changing the code inside the two comments, and so said what they said."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1682000383,"post_id":76064862,"comment_id":134149714,"body_markdown":"The OP said they have been working on this for weeks. So I also just checked.  April 1st was on a Saturday.   :)","body":"The OP said they have been working on this for weeks. So I also just checked.  April 1st was on a Saturday.   :)"},{"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"score":0,"creation_date":1682000495,"post_id":76064862,"comment_id":134149751,"body_markdown":"Yes you are right, i meant no declaring methods outside outside of the two comments. I think until now this is the best solution. Thanks !","body":"Yes you are right, i meant no declaring methods outside outside of the two comments. I think until now this is the best solution. Thanks !"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":4,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1681999037,"creation_date":1681998613,"answer_id":76064862,"question_id":76064462,"body_markdown":"Since the method is named `insertEvil`, the point of this exercise is probably to teach you that it is possible to insert the &quot;wrong&quot; type of object to a `ArrayList&lt;T&gt;`, and that generics are not actually enforced at runtime. See: [type erasure][1].\r\n\r\nIn this case, you need to insert a `String` into a `ArrayList&lt;Integer&gt;`.\r\n\r\nOne way to do it is to cast it to a [raw type][2]:\r\n\r\n```\r\n((ArrayList)intList).add(&quot;Hello World&quot;);\r\n```\r\n\r\nHowever, this doesn&#39;t actually cause your code to print &quot;OK&quot;, because the call to `intList.get` would attempt to cast the string you inserted back to an `Integer`, because `intList` is declared to be an `ArrayList&lt;Integer&gt;`. The cast will fail at runtime.\r\n\r\nTo get this to work, you need `intList` to be a `ArrayList` or `ArrayList&lt;String&gt;`, so the call to `get` wouldn&#39;t try to cast the string to `Integer`.\r\n\r\nIf you are only allowed to change the code between the two comments, the only ways I can think of are dirty tricks like declaring a new method. You can still declare a new method by just changing the lines between the two comments. \r\n\r\nFor example, if the code between the two comments are replaced with:\r\n\r\n```\r\nhelper(intList);\r\n}\r\nstatic void helper(ArrayList intList) {\r\nintList.add(&quot;Hello World&quot;);\r\n```\r\n\r\nThen it becomes:\r\n\r\n\r\n    static void insertEvil() {\r\n        var intList = new ArrayList&lt;Integer&gt;();\r\n        // Change starts here\r\n        helper(intList);\r\n    }\r\n    static void helper(ArrayList intList) {\r\n        intList.add(&quot;Hello World&quot;);\r\n        // Change ends here\r\n        if (intList.get(0).equals(&quot;Hello World&quot;)) {\r\n            System.out.println(&quot;Ok&quot;);\r\n        } else {\r\n            System.out.println(&quot;Failure&quot;);\r\n        }\r\n    }\r\n\r\nThe idea is to pass `intList` to another method, to change what `intList` means in the `get` call. In the above code, `intList` in the `get` call now refers to the method parameter, instead of the variable declared in `insertEvil`.\r\n\r\nThat said, I think it is highly likely that the intended solution is just `((ArrayList)intList).add(&quot;Hello World&quot;);`. Whoever designed this might not have considered that `get` would cast the element back to an `Integer`. (I nearly missed it too!)\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\r\n  [2]: https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it","title":"Integer have to be equals() a String","body":"<p>Since the method is named <code>insertEvil</code>, the point of this exercise is probably to teach you that it is possible to insert the &quot;wrong&quot; type of object to a <code>ArrayList&lt;T&gt;</code>, and that generics are not actually enforced at runtime. See: <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">type erasure</a>.</p>\n<p>In this case, you need to insert a <code>String</code> into a <code>ArrayList&lt;Integer&gt;</code>.</p>\n<p>One way to do it is to cast it to a <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">raw type</a>:</p>\n<pre><code>((ArrayList)intList).add(&quot;Hello World&quot;);\n</code></pre>\n<p>However, this doesn't actually cause your code to print &quot;OK&quot;, because the call to <code>intList.get</code> would attempt to cast the string you inserted back to an <code>Integer</code>, because <code>intList</code> is declared to be an <code>ArrayList&lt;Integer&gt;</code>. The cast will fail at runtime.</p>\n<p>To get this to work, you need <code>intList</code> to be a <code>ArrayList</code> or <code>ArrayList&lt;String&gt;</code>, so the call to <code>get</code> wouldn't try to cast the string to <code>Integer</code>.</p>\n<p>If you are only allowed to change the code between the two comments, the only ways I can think of are dirty tricks like declaring a new method. You can still declare a new method by just changing the lines between the two comments.</p>\n<p>For example, if the code between the two comments are replaced with:</p>\n<pre><code>helper(intList);\n}\nstatic void helper(ArrayList intList) {\nintList.add(&quot;Hello World&quot;);\n</code></pre>\n<p>Then it becomes:</p>\n<pre><code>static void insertEvil() {\n    var intList = new ArrayList&lt;Integer&gt;();\n    // Change starts here\n    helper(intList);\n}\nstatic void helper(ArrayList intList) {\n    intList.add(&quot;Hello World&quot;);\n    // Change ends here\n    if (intList.get(0).equals(&quot;Hello World&quot;)) {\n        System.out.println(&quot;Ok&quot;);\n    } else {\n        System.out.println(&quot;Failure&quot;);\n    }\n}\n</code></pre>\n<p>The idea is to pass <code>intList</code> to another method, to change what <code>intList</code> means in the <code>get</code> call. In the above code, <code>intList</code> in the <code>get</code> call now refers to the method parameter, instead of the variable declared in <code>insertEvil</code>.</p>\n<p>That said, I think it is highly likely that the intended solution is just <code>((ArrayList)intList).add(&quot;Hello World&quot;);</code>. Whoever designed this might not have considered that <code>get</code> would cast the element back to an <code>Integer</code>. (I nearly missed it too!)</p>\n"},{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1681999959,"post_id":76065009,"comment_id":134149597,"body_markdown":"why even test whether it&#39;s a List?","body":"why even test whether it&#39;s a List?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1681999995,"post_id":76065009,"comment_id":134149610,"body_markdown":"@Stultuske Did you see my last statement at the end of the answer.","body":"@Stultuske Did you see my last statement at the end of the answer."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682023030,"creation_date":1681999506,"answer_id":76065009,"question_id":76064462,"body_markdown":"&gt; I have get a &quot;OK&quot;, but I can only edit and add code between those two comments.\r\n\r\nWell, this works but I&#39;m not certain if it was the desired solution. But there are no warnings or compiler errors.\r\n```\r\nstatic void insertEvil() {\r\n   var intList = new ArrayList&lt;Integer&gt;();\r\n   // Change starts here\r\n   if(intList instanceof List) {\r\n       System.out.println(&quot;Ok&quot;);\r\n       return;\r\n   }\r\n   // Change ends here\r\n   if (intList.get(0).equals(&quot;Hello World&quot;)) {\r\n       System.out.println(&quot;Ok&quot;);\r\n   } else {\r\n       System.out.println(&quot;Failure&quot;);\r\n   }\r\n}\r\n```\r\nBut for that matter you could do anything, print OK and exit. So there must be more to this.","title":"Integer have to be equals() a String","body":"<blockquote>\n<p>I have get a &quot;OK&quot;, but I can only edit and add code between those two comments.</p>\n</blockquote>\n<p>Well, this works but I'm not certain if it was the desired solution. But there are no warnings or compiler errors.</p>\n<pre><code>static void insertEvil() {\n   var intList = new ArrayList&lt;Integer&gt;();\n   // Change starts here\n   if(intList instanceof List) {\n       System.out.println(&quot;Ok&quot;);\n       return;\n   }\n   // Change ends here\n   if (intList.get(0).equals(&quot;Hello World&quot;)) {\n       System.out.println(&quot;Ok&quot;);\n   } else {\n       System.out.println(&quot;Failure&quot;);\n   }\n}\n</code></pre>\n<p>But for that matter you could do anything, print OK and exit. So there must be more to this.</p>\n"}],"owner":{"account_id":28358539,"reputation":41,"user_id":21688896,"display_name":"Student23452345"},"comment_count":18,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1682023030,"creation_date":1681996229,"question_id":76064462,"body_markdown":"I&#39;m in university and struggling with this task. I tried for weeks, but I just can&#39;t understand this task. I have get a &quot;OK&quot;, but I can only edit and add code between those two comments. \r\n\r\n```\r\nstatic void insertEvil() {\r\n    var intList = new ArrayList&lt;Integer&gt;();\r\n    // Change starts here\r\n    intList.add(42);\r\n    // Change ends here\r\n    if (intList.get(0).equals(&quot;Hello World&quot;)) {\r\n        System.out.println(&quot;Ok&quot;);\r\n    } else {\r\n        System.out.println(&quot;Failure&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI tried to &quot;transform&quot; an &quot;Hello World&quot; String into an Hashcode using hashcode(), but it is not working.","title":"Integer have to be equals() a String","body":"<p>I'm in university and struggling with this task. I tried for weeks, but I just can't understand this task. I have get a &quot;OK&quot;, but I can only edit and add code between those two comments.</p>\n<pre><code>static void insertEvil() {\n    var intList = new ArrayList&lt;Integer&gt;();\n    // Change starts here\n    intList.add(42);\n    // Change ends here\n    if (intList.get(0).equals(&quot;Hello World&quot;)) {\n        System.out.println(&quot;Ok&quot;);\n    } else {\n        System.out.println(&quot;Failure&quot;);\n    }\n}\n</code></pre>\n<p>I tried to &quot;transform&quot; an &quot;Hello World&quot; String into an Hashcode using hashcode(), but it is not working.</p>\n"},{"tags":["java","ssl","https","ssl-certificate","squid"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1682116673,"post_id":76066580,"comment_id":134170564,"body_markdown":"Have you checked all certificates in the chain regarding their expiration date? A problem like that would be logically if the problem appeared after a certain date.","body":"Have you checked all certificates in the chain regarding their expiration date? A problem like that would be logically if the problem appeared after a certain date."}],"owner":{"account_id":28297570,"reputation":61,"user_id":21636788,"display_name":"Juan Bustamante"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":717,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1682022963,"creation_date":1682009919,"question_id":76066580,"body_markdown":"We have a java application (Java 17 temurin) which calls a third party vendor to obtain data through https. As a part of the call, we use [Squid proxy version 5.7](http://www.squid-cache.org/) to inspect any outgoing calls. This was something that was always working, but as of March 3rd, we started to get the following exception intermittently.\r\n\r\n```\r\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1357)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1232)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1175)\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:580)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142)\r\n\tat com.github.scribejava.core.model.Response.&lt;init&gt;(Response.java:30)\r\n\tat com.github.scribejava.core.model.OAuthRequest.doSend(OAuthRequest.java:57)\r\n\tat com.github.scribejava.core.model.OAuthRequest.send(OAuthRequest.java:37)\r\n\t... 117 common frames omitted\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\r\n\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\r\n\tat java.base/sun.security.validator.Validator.validate(Validator.java:264)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1341)\r\n\t... 134 common frames omitted\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n\tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\r\n\t... 139 common frames omitted\r\n```\r\n\r\nWe&#39;ve checked the cert chain by using a forked version of [InstallCert](https://github.com/escline/InstallCert) when calling the outbound URL from the EC2 instance that our code resides in, and it says there are no errors. We were expecting to see some errors here, but we aren&#39;t even sure that squid proxy shows up when we debug the cert chain through InstallCert.\r\n\r\n```\r\nec2-user@&lt;IP&gt;:~$ java DebugCert &lt;external-url&gt; --n=0\r\nLoading KeyStore /usr/lib/jvm/temurin-17-jdk-amd64/lib/security/cacerts...\r\nOpening connection to &lt;external-url&gt; ...\r\nStarting SSL handshake...\r\n\r\nNo errors, certificate is already trusted\r\n\r\nServer sent 3 certificate(s):\r\n```\r\n\r\nDoes anyone know what this could be? Like I said before, the issue only happens intermittently.\r\n\r\n**UPDATE**\r\n\r\nWe&#39;ve been able to determine that squid is somehow mucking up the certificate chain as shown below. It does this seemingly at random. Does anyone have any idea as to why squid would do this?\r\n\r\n```\r\n 1 Subject CN=&lt;destination&gt;\r\n   Issuer  CN=squid\r\n   sha1    &lt;numeric&gt;\r\n   md5     &lt;numeric&gt;\r\n\r\n 2 Subject CN=squid\r\n   Issuer  CN=squid\r\n   sha1    &lt;numeric&gt;\r\n   md5     &lt;numeric&gt;\r\n\r\n 3 Subject CN=squid\r\n   Issuer  CN=squid\r\n   sha1    &lt;numeric&gt;\r\n   md5     &lt;numeric&gt;\r\n```","title":"Why do I get a &quot;SunCertPathBuilderException: unable to find valid certification path to requested target&quot; from my java application?","body":"<p>We have a java application (Java 17 temurin) which calls a third party vendor to obtain data through https. As a part of the call, we use <a href=\"http://www.squid-cache.org/\" rel=\"nofollow noreferrer\">Squid proxy version 5.7</a> to inspect any outgoing calls. This was something that was always working, but as of March 3rd, we started to get the following exception intermittently.</p>\n<pre><code>Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1357)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1232)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1175)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\n    at java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\n    at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\n    at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1505)\n    at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1420)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\n    at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\n    at java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:580)\n    at java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\n    at java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.connect(HttpsURLConnectionImpl.java:142)\n    at com.github.scribejava.core.model.Response.&lt;init&gt;(Response.java:30)\n    at com.github.scribejava.core.model.OAuthRequest.doSend(OAuthRequest.java:57)\n    at com.github.scribejava.core.model.OAuthRequest.send(OAuthRequest.java:37)\n    ... 117 common frames omitted\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:439)\n    at java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:306)\n    at java.base/sun.security.validator.Validator.validate(Validator.java:264)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\n    at java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1341)\n    ... 134 common frames omitted\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\n    at java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\n    at java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\n    at java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:434)\n    ... 139 common frames omitted\n</code></pre>\n<p>We've checked the cert chain by using a forked version of <a href=\"https://github.com/escline/InstallCert\" rel=\"nofollow noreferrer\">InstallCert</a> when calling the outbound URL from the EC2 instance that our code resides in, and it says there are no errors. We were expecting to see some errors here, but we aren't even sure that squid proxy shows up when we debug the cert chain through InstallCert.</p>\n<pre><code>ec2-user@&lt;IP&gt;:~$ java DebugCert &lt;external-url&gt; --n=0\nLoading KeyStore /usr/lib/jvm/temurin-17-jdk-amd64/lib/security/cacerts...\nOpening connection to &lt;external-url&gt; ...\nStarting SSL handshake...\n\nNo errors, certificate is already trusted\n\nServer sent 3 certificate(s):\n</code></pre>\n<p>Does anyone know what this could be? Like I said before, the issue only happens intermittently.</p>\n<p><strong>UPDATE</strong></p>\n<p>We've been able to determine that squid is somehow mucking up the certificate chain as shown below. It does this seemingly at random. Does anyone have any idea as to why squid would do this?</p>\n<pre><code> 1 Subject CN=&lt;destination&gt;\n   Issuer  CN=squid\n   sha1    &lt;numeric&gt;\n   md5     &lt;numeric&gt;\n\n 2 Subject CN=squid\n   Issuer  CN=squid\n   sha1    &lt;numeric&gt;\n   md5     &lt;numeric&gt;\n\n 3 Subject CN=squid\n   Issuer  CN=squid\n   sha1    &lt;numeric&gt;\n   md5     &lt;numeric&gt;\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682022789,"creation_date":1680026292,"answer_id":75869569,"question_id":66550826,"body_markdown":"Yes it is possible.\r\n\r\nYou need to have a MapperConfig that will carry all the common configurations.\r\n\r\n    @MapperConfig(\r\n        mappingInheritanceStrategy = MappingInheritanceStrategy.AUTO_INHERIT_FROM_CONFIG\r\n    )\r\n    public interface ParentConfig {\r\n    \r\n        // Not intended to be generated, but to carry inheritable mapping annotations:\r\n        @Mapping(target = &quot;targetId&quot;, source = &quot;id&quot;)\r\n        ParentDto entityToDto(Parent entity);\r\n\r\n    }\r\n\r\nand then, you need to have a mapper and specify that it will have to use the ParentConfig\r\n\r\n    @Mapper(config = ParentConfig.class)\r\n    public interface ChildAMapper {\r\n    \r\n        @Mapping(target = &quot;targetName&quot;, source = &quot;name&quot;)\r\n        // additionally inherited from ParentConfig, because ChildA extends Parent and ChildADto extends ParentDto:\r\n        // @Mapping(target = &quot;targetId&quot;, source = &quot;id&quot;)\r\n        ChildADto toChildADto(ChildA childA);\r\n\r\n    }\r\n\r\nOfficial documentation: [shared-configurations][1]\r\n\r\n\r\n  [1]: https://mapstruct.org/documentation/stable/reference/html/#shared-configurations","title":"Mapstruct inherit @Mappings","body":"<p>Yes it is possible.</p>\n<p>You need to have a MapperConfig that will carry all the common configurations.</p>\n<pre><code>@MapperConfig(\n    mappingInheritanceStrategy = MappingInheritanceStrategy.AUTO_INHERIT_FROM_CONFIG\n)\npublic interface ParentConfig {\n\n    // Not intended to be generated, but to carry inheritable mapping annotations:\n    @Mapping(target = &quot;targetId&quot;, source = &quot;id&quot;)\n    ParentDto entityToDto(Parent entity);\n\n}\n</code></pre>\n<p>and then, you need to have a mapper and specify that it will have to use the ParentConfig</p>\n<pre><code>@Mapper(config = ParentConfig.class)\npublic interface ChildAMapper {\n\n    @Mapping(target = &quot;targetName&quot;, source = &quot;name&quot;)\n    // additionally inherited from ParentConfig, because ChildA extends Parent and ChildADto extends ParentDto:\n    // @Mapping(target = &quot;targetId&quot;, source = &quot;id&quot;)\n    ChildADto toChildADto(ChildA childA);\n\n}\n</code></pre>\n<p>Official documentation: <a href=\"https://mapstruct.org/documentation/stable/reference/html/#shared-configurations\" rel=\"nofollow noreferrer\">shared-configurations</a></p>\n"}],"owner":{"account_id":10187144,"reputation":425,"user_id":7521669,"accept_rate":58,"display_name":"Prince of Sweden"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":904,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1682022789,"creation_date":1615307116,"question_id":66550826,"body_markdown":"Trying to make a MapStruct implementation where I have a &quot;parent&quot;-object like this:\r\n\r\n    public abstract class Parent {\r\n    private String id;\r\n    }\r\n\r\nThen I have children with a whole bunch of more attributes such as:\r\n\r\n    public class ChildA extends Parent{\r\n    private String name;\r\n    //And so on...\r\n    }\r\n\r\n    public class ChildB extends Parent{\r\n    private String address;\r\n    //And so on...\r\n    }\r\n\r\nHow do I represent this data-structure in MapStruct mappers? I only want to map the children and not the parent. I have successfully made a mapper to map a child with an abstract class, but I can&#39;t get the &quot;parent&quot; mapping to tag along without explicitly stating it inside the child-mappers.\r\n\r\nIs there a way I can do something like:\r\n\r\n    @Mapping(source = &quot;id&quot; target = &quot;targetId&quot;)\r\n\r\nIn a parent mapper, and then inherit that mapping statement to the children? I don&#39;t want the parent to have a mapper on its own, I just want it to hold that mapping statement to reduce redundancy. \r\n\r\nI would love to extend my abstract child-mapper class with a parent class and then simply inherit. Is this possible?","title":"Mapstruct inherit @Mappings","body":"<p>Trying to make a MapStruct implementation where I have a &quot;parent&quot;-object like this:</p>\n<pre><code>public abstract class Parent {\nprivate String id;\n}\n</code></pre>\n<p>Then I have children with a whole bunch of more attributes such as:</p>\n<pre><code>public class ChildA extends Parent{\nprivate String name;\n//And so on...\n}\n\npublic class ChildB extends Parent{\nprivate String address;\n//And so on...\n}\n</code></pre>\n<p>How do I represent this data-structure in MapStruct mappers? I only want to map the children and not the parent. I have successfully made a mapper to map a child with an abstract class, but I can't get the &quot;parent&quot; mapping to tag along without explicitly stating it inside the child-mappers.</p>\n<p>Is there a way I can do something like:</p>\n<pre><code>@Mapping(source = &quot;id&quot; target = &quot;targetId&quot;)\n</code></pre>\n<p>In a parent mapper, and then inherit that mapping statement to the children? I don't want the parent to have a mapper on its own, I just want it to hold that mapping statement to reduce redundancy.</p>\n<p>I would love to extend my abstract child-mapper class with a parent class and then simply inherit. Is this possible?</p>\n"},{"tags":["java","authentication","jsp","single-sign-on","j-security-check"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1682088476,"post_id":76068080,"comment_id":134165481,"body_markdown":"It&#39;s not clear how would you like to use an authentication. You dhould clirify the problem and post the relevant code. Don&#39;t ask many questions at once, narrow the question to a concrete problem and describe what did you try to resolve it. We are not supposed to write a reference to authentification to guide you. You can find it yourself.","body":"It&#39;s not clear how would you like to use an authentication. You dhould clirify the problem and post the relevant code. Don&#39;t ask many questions at once, narrow the question to a concrete problem and describe what did you try to resolve it. We are not supposed to write a reference to authentification to guide you. You can find it yourself."}],"owner":{"account_id":6805367,"reputation":389,"user_id":5237289,"accept_rate":67,"display_name":"Aria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1682022784,"creation_date":1682022784,"question_id":76068080,"body_markdown":"I just started learning about using j_security_check and it seems pretty straightforward but what I can’t seem to understand is how the action knows what api call to handle the login process. Say I have an api set up and I want j_security_check to hit that api and login if successful, how do I go about that? \r\nAlso is it editable? Can we change the action name, or how it authenticates? I can’t seem to find any documentation on this. I just see help setting up in the html form and the login-config in the web.xml. Any point in the right direction would be truly appreciated ","title":"How does j_security_check work? How do we customize the login API call?","body":"<p>I just started learning about using j_security_check and it seems pretty straightforward but what I can’t seem to understand is how the action knows what api call to handle the login process. Say I have an api set up and I want j_security_check to hit that api and login if successful, how do I go about that?\nAlso is it editable? Can we change the action name, or how it authenticates? I can’t seem to find any documentation on this. I just see help setting up in the html form and the login-config in the web.xml. Any point in the right direction would be truly appreciated</p>\n"},{"tags":["java","polymorphism","single-inheritance"],"comments":[{"owner":{"account_id":13045793,"reputation":142,"user_id":9809833,"display_name":"invertedPanda"},"score":0,"creation_date":1682022279,"post_id":76067934,"comment_id":134154693,"body_markdown":"It&#39;s because per Java rules, the superclass constructor Animal() gets called really early on, even before Dog.name gets initialised to &quot;Dog&quot;, so when Animal() calls getName(), which is overriden by Dog.getName(), it prints Dog.name which is not yet initialized (null).","body":"It&#39;s because per Java rules, the superclass constructor Animal() gets called really early on, even before Dog.name gets initialised to &quot;Dog&quot;, so when Animal() calls getName(), which is overriden by Dog.getName(), it prints Dog.name which is not yet initialized (null)."}],"answers":[{"comments":[{"owner":{"account_id":28363741,"reputation":1,"user_id":21693379,"display_name":"isofiso"},"score":0,"creation_date":1682022168,"post_id":76067968,"comment_id":134154672,"body_markdown":"So it always depends on which class the dog is an instance of. right?","body":"So it always depends on which class the dog is an instance of. right?"},{"owner":{"account_id":7856851,"reputation":593,"user_id":5938387,"display_name":"airsquared"},"score":0,"creation_date":1682022656,"post_id":76067968,"comment_id":134154783,"body_markdown":"@isofiso Yes, the `getName()` method that is called depends on which class it is an instance of. If you want it to be just an `Animal`, then you would have to create a `new Animal()`, not a `new Dog()`.","body":"@isofiso Yes, the <code>getName()</code> method that is called depends on which class it is an instance of. If you want it to be just an <code>Animal</code>, then you would have to create a <code>new Animal()</code>, not a <code>new Dog()</code>."}],"tags":[],"owner":{"account_id":7856851,"reputation":593,"user_id":5938387,"display_name":"airsquared"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682022531,"creation_date":1682021824,"answer_id":76067968,"question_id":76067934,"body_markdown":"The `getName()` method in `Dog` overrides the `getName()` method in its superclass `Animal`, so no matter what class the code is in, if the object is a `Dog`, it will call `getName()` in `Dog`.\r\n\r\nIt prints `Animal&#39;s name is: null` because the constructor in the superclass is called before the fields in the subclass are initialized and the constructor in the subclass is called.\r\n\r\nIf you want it to print the value of the `name` variable in `Dog` before the instance is fully initialized, you can make the variable static (but this makes it no longer a class field and would apply to all instances of `Dog`).","title":"Single Inheritance output question in java","body":"<p>The <code>getName()</code> method in <code>Dog</code> overrides the <code>getName()</code> method in its superclass <code>Animal</code>, so no matter what class the code is in, if the object is a <code>Dog</code>, it will call <code>getName()</code> in <code>Dog</code>.</p>\n<p>It prints <code>Animal's name is: null</code> because the constructor in the superclass is called before the fields in the subclass are initialized and the constructor in the subclass is called.</p>\n<p>If you want it to print the value of the <code>name</code> variable in <code>Dog</code> before the instance is fully initialized, you can make the variable static (but this makes it no longer a class field and would apply to all instances of <code>Dog</code>).</p>\n"}],"owner":{"account_id":28363741,"reputation":1,"user_id":21693379,"display_name":"isofiso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682022531,"creation_date":1682021510,"question_id":76067934,"body_markdown":"I have a output question in java. \r\n\r\n```\r\n\r\npackage javaapplication32;\r\nclass Animal {\r\n    String name = &quot;Animal&quot;;\r\n\r\n    Animal() {\r\n        System.out.println(&quot;Animal&#39;s name is: &quot; + getName());\r\n    }\r\n\r\n    String getName() {\r\n        return name;\r\n    }\r\n}\r\n\r\nclass Dog extends Animal {\r\n    String name = &quot;Dog&quot;;\r\n\r\n    Dog() {\r\n        System.out.println(&quot;Dog&#39;s name is: &quot; + getName());\r\n    }\r\n\r\n    String getName() {\r\n        return name;\r\n    }\r\n}\r\n\r\npublic class JavaApplication32 {\r\n    public static void main(String[] args) {\r\n        Dog dog = new Dog();\r\n        \r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n```\r\n\r\nThe output of the code is:\r\n\r\nAnimal&#39;s name is: null\r\n\r\nDog&#39;s name is: Dog\r\n\r\nAnd my question are that;\r\n\r\nwhy  does the &#39;getName();&#39; method  which is in the Animal constructor invoke the method of Class Dog and why didn&#39;t it return &quot;Dog&quot; ? \r\n\r\nI expected the output as;\r\n\r\nAnimal&#39;s name is: Animal\r\n\r\nDog&#39;s name is: Dog","title":"Single Inheritance output question in java","body":"<p>I have a output question in java.</p>\n<pre><code>\npackage javaapplication32;\nclass Animal {\n    String name = &quot;Animal&quot;;\n\n    Animal() {\n        System.out.println(&quot;Animal's name is: &quot; + getName());\n    }\n\n    String getName() {\n        return name;\n    }\n}\n\nclass Dog extends Animal {\n    String name = &quot;Dog&quot;;\n\n    Dog() {\n        System.out.println(&quot;Dog's name is: &quot; + getName());\n    }\n\n    String getName() {\n        return name;\n    }\n}\n\npublic class JavaApplication32 {\n    public static void main(String[] args) {\n        Dog dog = new Dog();\n        \n    }\n}\n\n\n\n\n</code></pre>\n<p>The output of the code is:</p>\n<p>Animal's name is: null</p>\n<p>Dog's name is: Dog</p>\n<p>And my question are that;</p>\n<p>why  does the 'getName();' method  which is in the Animal constructor invoke the method of Class Dog and why didn't it return &quot;Dog&quot; ?</p>\n<p>I expected the output as;</p>\n<p>Animal's name is: Animal</p>\n<p>Dog's name is: Dog</p>\n"},{"tags":["java","mongodb","spring-data-mongodb"],"comments":[{"owner":{"account_id":181514,"reputation":9905,"user_id":415559,"accept_rate":73,"display_name":"barrypicker"},"score":0,"creation_date":1643128664,"post_id":70851948,"comment_id":125255336,"body_markdown":"For any enterprise quality solutions, use MongoTemplate instead of MongoRepository.  MongoTemplate provides much more control.  This is especially important if the application grows large and needs to scale via sharding.","body":"For any enterprise quality solutions, use MongoTemplate instead of MongoRepository.  MongoTemplate provides much more control.  This is especially important if the application grows large and needs to scale via sharding."},{"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"score":0,"creation_date":1656487343,"post_id":70851948,"comment_id":128581578,"body_markdown":"@dineshalwis is your question resolved?","body":"@dineshalwis is your question resolved?"}],"answers":[{"tags":[],"owner":{"account_id":1622089,"reputation":17709,"user_id":1498427,"accept_rate":89,"display_name":"catch23"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643138754,"creation_date":1643128321,"answer_id":70852277,"question_id":70851948,"body_markdown":"Not sure about creating a query for MongoDB.\r\nFor SQL syntax you could get the current date and pass it to a query like:\r\n\r\n```\r\nSELECT * FROM Example WHERE code=myCode \r\n AND nowDate BETWEEN startDate AND endDate;\r\n```\r\n\r\nIf you use something like ***Spring Data*** you could create a specified method for `ExampleRepository`:\r\n\r\n    @Query(&quot;from Example where code = :code &quot; +\r\n            &quot;and :date between startDate and endDate&quot;)\r\n    Example getAllExampleByCode(@Param(&quot;code&quot;) String code, @Param(&quot;date&quot;) LocalDate date);\r\n\r\nHowever, you need to know that `code` param is unique and you will get only 1 result.  \r\nOtherwise, you will get an entity, not a unique exception. Or make method return `List&lt;Example&gt;`.\r\n\r\nAnd when you will call it from the service layer you could pass date param:\r\n\r\n```\r\nexampleRepo.getAllExampleByCode(&quot;myCode&quot;, LocalDate.now());\r\n```","title":"How to find record with date query in MongoRepository","body":"<p>Not sure about creating a query for MongoDB.\nFor SQL syntax you could get the current date and pass it to a query like:</p>\n<pre><code>SELECT * FROM Example WHERE code=myCode \n AND nowDate BETWEEN startDate AND endDate;\n</code></pre>\n<p>If you use something like <em><strong>Spring Data</strong></em> you could create a specified method for <code>ExampleRepository</code>:</p>\n<pre><code>@Query(&quot;from Example where code = :code &quot; +\n        &quot;and :date between startDate and endDate&quot;)\nExample getAllExampleByCode(@Param(&quot;code&quot;) String code, @Param(&quot;date&quot;) LocalDate date);\n</code></pre>\n<p>However, you need to know that <code>code</code> param is unique and you will get only 1 result.<br />\nOtherwise, you will get an entity, not a unique exception. Or make method return <code>List&lt;Example&gt;</code>.</p>\n<p>And when you will call it from the service layer you could pass date param:</p>\n<pre><code>exampleRepo.getAllExampleByCode(&quot;myCode&quot;, LocalDate.now());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4302729,"reputation":43,"user_id":3516051,"display_name":"fmasche"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682021369,"creation_date":1682020993,"answer_id":76067874,"question_id":70851948,"body_markdown":"I also had this issue having the LocalDate datatype.\r\nWhat worked for me was, based on your case:\r\n\r\n    List&lt;Example&gt; findByCodeAndEndDateIsGreaterThanEqualAndStartDateIsLessThanEqual(final String code, final Date d1, final Date d2)\r\n\r\nwhere d1 and d2 would have today&#39;s date:\r\n\r\n    LocalDate today = LocalDate.now();\r\n    Date date = Date.from(today.atStartOfDay(ZoneOffset.UTC).toInstant());\r\n\r\nIt&#39;s important to notice the time zone *ZoneOffset.UTC* should match your MongoDB configuration so you don&#39;t miss any results.","title":"How to find record with date query in MongoRepository","body":"<p>I also had this issue having the LocalDate datatype.\nWhat worked for me was, based on your case:</p>\n<pre><code>List&lt;Example&gt; findByCodeAndEndDateIsGreaterThanEqualAndStartDateIsLessThanEqual(final String code, final Date d1, final Date d2)\n</code></pre>\n<p>where d1 and d2 would have today's date:</p>\n<pre><code>LocalDate today = LocalDate.now();\nDate date = Date.from(today.atStartOfDay(ZoneOffset.UTC).toInstant());\n</code></pre>\n<p>It's important to notice the time zone <em>ZoneOffset.UTC</em> should match your MongoDB configuration so you don't miss any results.</p>\n"}],"owner":{"account_id":12110857,"reputation":257,"user_id":13320976,"display_name":"dinesh alwis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682021369,"creation_date":1643127064,"question_id":70851948,"body_markdown":"I have a collection called `Example`:\r\n\r\n    public class Example extends PersistObject {\r\n\r\n       private LocalDate startDate;\r\n       private LocalDate endDate;\r\n       private String code;\r\n\r\n    }\r\n\r\nI want to find a document with a particular `code` that has `startDate` and `endDate` where the current date falls in between. \r\n\r\n***How can I get this with MongoRepository supported keywords?*** ","title":"How to find record with date query in MongoRepository","body":"<p>I have a collection called <code>Example</code>:</p>\n<pre><code>public class Example extends PersistObject {\n\n   private LocalDate startDate;\n   private LocalDate endDate;\n   private String code;\n\n}\n</code></pre>\n<p>I want to find a document with a particular <code>code</code> that has <code>startDate</code> and <code>endDate</code> where the current date falls in between.</p>\n<p><em><strong>How can I get this with MongoRepository supported keywords?</strong></em></p>\n"},{"tags":["java","android","android-alertdialog"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1682023284,"post_id":76067917,"comment_id":134154898,"body_markdown":"Try the Neutral button.","body":"Try the Neutral button."},{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1682108347,"post_id":76067917,"comment_id":134169409,"body_markdown":"@blackapps sorry, I did something wrong. Now it works - `OK` button is on the left, but is there any way I can change its color?","body":"@blackapps sorry, I did something wrong. Now it works - <code>OK</code> button is on the left, but is there any way I can change its color?"},{"owner":{"account_id":8263558,"reputation":102,"user_id":6423246,"display_name":"Danny E.K. van der Kolk"},"score":0,"creation_date":1682710304,"post_id":76067917,"comment_id":134264008,"body_markdown":"I think you will have to write your own customdialog if you want more control.","body":"I think you will have to write your own customdialog if you want more control."}],"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682021293,"creation_date":1682021293,"question_id":76067917,"body_markdown":"I&#39;m new to Android development, and I&#39;m making my first java app - a simple tic-tac-toe game in Android Studio.\r\n\r\nWhen someone wins or there is a draw, the app displays a `AlertDialog` message, with title, description, and two buttons: `OK`, and `PLAY AGAIN`.\r\n\r\nI wanted it to look a bit different - The `OK` button on the left, with different color, for example red, and the second - purple - button, on the right.\r\n\r\nI was inspired by this message while before deleting the board in Trello app. It looks like this:\r\n\r\n[![Example from Trello app](https://i.stack.imgur.com/pSqQ5.png)](https://i.stack.imgur.com/pSqQ5.png)\r\n\r\n***\r\n\r\nAnd in my app it looks like this:\r\n\r\n[![My app](https://i.stack.imgur.com/HsIqU.png)](https://i.stack.imgur.com/HsIqU.png)\r\n\r\n***\r\n\r\nI use this function:\r\n\r\n```java\r\nAlertDialog.Builder builder = new AlertDialog.Builder(this);\r\n\r\nbuilder.setTitle(playerTwoName + &quot; Won!&quot;)\r\n        .setMessage(&quot;Congratulations! You won in &quot; + timer_minutes + &quot; minutes and &quot; + timer_seconds + &quot; seconds!&quot;)\r\n        .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n                        // ...\r\n                }\r\n        })\r\n        .setNegativeButton(&quot;PLAY AGAIN&quot;, new DialogInterface.OnClickListener() {\r\n                @Override\r\n                public void onClick(DialogInterface dialogInterface, int i) {\r\n                        // ...\r\n                }\r\n        })\r\n        .setCancelable(false);\r\n\r\nbuilder.create();\r\n```","title":"Customizing 2 buttons separately in AlertDialog (Android Studio, java)","body":"<p>I'm new to Android development, and I'm making my first java app - a simple tic-tac-toe game in Android Studio.</p>\n<p>When someone wins or there is a draw, the app displays a <code>AlertDialog</code> message, with title, description, and two buttons: <code>OK</code>, and <code>PLAY AGAIN</code>.</p>\n<p>I wanted it to look a bit different - The <code>OK</code> button on the left, with different color, for example red, and the second - purple - button, on the right.</p>\n<p>I was inspired by this message while before deleting the board in Trello app. It looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/pSqQ5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pSqQ5.png\" alt=\"Example from Trello app\" /></a></p>\n<hr />\n<p>And in my app it looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/HsIqU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HsIqU.png\" alt=\"My app\" /></a></p>\n<hr />\n<p>I use this function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>AlertDialog.Builder builder = new AlertDialog.Builder(this);\n\nbuilder.setTitle(playerTwoName + &quot; Won!&quot;)\n        .setMessage(&quot;Congratulations! You won in &quot; + timer_minutes + &quot; minutes and &quot; + timer_seconds + &quot; seconds!&quot;)\n        .setPositiveButton(&quot;OK&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                        // ...\n                }\n        })\n        .setNegativeButton(&quot;PLAY AGAIN&quot;, new DialogInterface.OnClickListener() {\n                @Override\n                public void onClick(DialogInterface dialogInterface, int i) {\n                        // ...\n                }\n        })\n        .setCancelable(false);\n\nbuilder.create();\n</code></pre>\n"},{"tags":["java","spring-boot","thymeleaf"],"owner":{"account_id":21188954,"reputation":41,"user_id":15581779,"display_name":"Myrat Orjyyev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682020954,"creation_date":1682020375,"question_id":76067785,"body_markdown":"I have a simple Spring Boot application about Contact Manager.Th:selected attribute not working on view edit page.Please help me.\r\n\r\nContorller\r\n```\r\n    @GetMapping(&quot;/{id}/edit&quot;)\r\n    public ModelAndView edit(@PathVariable(&quot;id&quot;)long id) {\r\n        Contact contact = contactService.get(id);\r\n        ModelAndView modelAndView = new ModelAndView(&quot;edit.html&quot;);\r\n        PhoneList phoneList = new PhoneList(contact.getPhones());\r\n\r\n\r\n        modelAndView.addObject(&quot;contact&quot;, contact);\r\n        modelAndView.addObject(&quot;form&quot;, phoneList);\r\n        return modelAndView;\r\n    }\r\n```\r\n\r\nedit.html\r\n```\r\n &lt;div th:object=&quot;${form}&quot;&gt;\r\n                &lt;div class=&quot;form-group&quot; th:each=&quot;phone, itemStat : ${form.phones}&quot;&gt;\r\n\r\n\r\n                    &lt;div class=&quot;form-group&quot;&gt;\r\n                        &lt;select name=&quot;type&quot; id=&quot;type&quot;&gt;\r\n                            &lt;option th:each=&quot;typeOpt : ${T(ru.murik.phone_book3.models.Type).values()}&quot;\r\n                                    th:value=&quot;${typeOpt}&quot;\r\n                                    th:text=&quot;${typeOpt}&quot;\r\n                                    th:selected=&quot;${phone.getPhoneType().getType()} == ${typeOpt}&quot;&gt;\r\n                            &lt;/option&gt;\r\n                        &lt;/select&gt;\r\n                        &lt;p th:text=&quot;${phone.getPhoneType().getType()}&quot;&gt;&lt;/p&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;br&gt;\r\n                    &lt;br&gt;\r\n\r\n\r\n                    &lt;!--                    &lt;label for=&quot;phoneNumber&quot; th:text=&quot;${phone.phoneType.type}&quot;&gt;&lt;/label&gt;--&gt;\r\n                    &lt;input type=&quot;text&quot; th:field=&quot;*{phones[__${itemStat.index}__].phoneNumber}&quot; class=&quot;form-control&quot; id=&quot;phoneNumber&quot; &gt;\r\n                    &lt;br&gt;\r\n                    &lt;br&gt;\r\n\r\n                &lt;/div&gt;\r\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Add&lt;/button&gt;\r\n &lt;/div&gt;\r\n```","title":"Why is springboot th:selected not working","body":"<p>I have a simple Spring Boot application about Contact Manager.Th:selected attribute not working on view edit page.Please help me.</p>\n<p>Contorller</p>\n<pre><code>    @GetMapping(&quot;/{id}/edit&quot;)\n    public ModelAndView edit(@PathVariable(&quot;id&quot;)long id) {\n        Contact contact = contactService.get(id);\n        ModelAndView modelAndView = new ModelAndView(&quot;edit.html&quot;);\n        PhoneList phoneList = new PhoneList(contact.getPhones());\n\n\n        modelAndView.addObject(&quot;contact&quot;, contact);\n        modelAndView.addObject(&quot;form&quot;, phoneList);\n        return modelAndView;\n    }\n</code></pre>\n<p>edit.html</p>\n<pre><code> &lt;div th:object=&quot;${form}&quot;&gt;\n                &lt;div class=&quot;form-group&quot; th:each=&quot;phone, itemStat : ${form.phones}&quot;&gt;\n\n\n                    &lt;div class=&quot;form-group&quot;&gt;\n                        &lt;select name=&quot;type&quot; id=&quot;type&quot;&gt;\n                            &lt;option th:each=&quot;typeOpt : ${T(ru.murik.phone_book3.models.Type).values()}&quot;\n                                    th:value=&quot;${typeOpt}&quot;\n                                    th:text=&quot;${typeOpt}&quot;\n                                    th:selected=&quot;${phone.getPhoneType().getType()} == ${typeOpt}&quot;&gt;\n                            &lt;/option&gt;\n                        &lt;/select&gt;\n                        &lt;p th:text=&quot;${phone.getPhoneType().getType()}&quot;&gt;&lt;/p&gt;\n                    &lt;/div&gt;\n                    &lt;br&gt;\n                    &lt;br&gt;\n\n\n                    &lt;!--                    &lt;label for=&quot;phoneNumber&quot; th:text=&quot;${phone.phoneType.type}&quot;&gt;&lt;/label&gt;--&gt;\n                    &lt;input type=&quot;text&quot; th:field=&quot;*{phones[__${itemStat.index}__].phoneNumber}&quot; class=&quot;form-control&quot; id=&quot;phoneNumber&quot; &gt;\n                    &lt;br&gt;\n                    &lt;br&gt;\n\n                &lt;/div&gt;\n                &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Add&lt;/button&gt;\n &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","spring-security","basic-authentication"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1681822671,"post_id":76044830,"comment_id":134115851,"body_markdown":"Why shouldn&#39;t it? You provide credentials, authentication is done before authorization, hence it will run first and as it is detected as a Basic Auth request it will be handled as such.","body":"Why shouldn&#39;t it? You provide credentials, authentication is done before authorization, hence it will run first and as it is detected as a Basic Auth request it will be handled as such."}],"owner":{"account_id":2990507,"reputation":4955,"user_id":2538180,"accept_rate":53,"display_name":"emoleumassi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682020945,"creation_date":1681822124,"question_id":76044830,"body_markdown":"```\r\n// @formatter:off\r\n      httpSecurity\r\n               .csrf().disable()\r\n               .authorizeRequests()\r\n                   .antMatchers(HttpMethod.GET).permitAll()\r\n                   .anyRequest().authenticated()\r\n                   .and()\r\n               .httpBasic()\r\n                   .and()\r\n               .exceptionHandling()\r\n                   .authenticationEntryPoint(authenticationEntryPoint());\r\n      // @formatter:on\r\n```\r\n\r\nWhy Spring Security authenticate the user for `GET` request when I set the Basic Auth (username and password) although all `GET` requests are permit without authentication? \r\n\r\nFor the username or password is wrong the `GET` request get an authentication error.","title":"Authenticate user by permitAll","body":"<pre><code>// @formatter:off\n      httpSecurity\n               .csrf().disable()\n               .authorizeRequests()\n                   .antMatchers(HttpMethod.GET).permitAll()\n                   .anyRequest().authenticated()\n                   .and()\n               .httpBasic()\n                   .and()\n               .exceptionHandling()\n                   .authenticationEntryPoint(authenticationEntryPoint());\n      // @formatter:on\n</code></pre>\n<p>Why Spring Security authenticate the user for <code>GET</code> request when I set the Basic Auth (username and password) although all <code>GET</code> requests are permit without authentication?</p>\n<p>For the username or password is wrong the <code>GET</code> request get an authentication error.</p>\n"},{"tags":["java","xml","security","certificate","digital-signature"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682023665,"post_id":76067749,"comment_id":134154944,"body_markdown":"What kind of signature do you need?","body":"What kind of signature do you need?"}],"owner":{"account_id":5265538,"reputation":1,"user_id":4205662,"display_name":"Edwin Quijada"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682020158,"creation_date":1682020158,"question_id":76067749,"body_markdown":"I need to sign a XML file using a certificate .p12 using Java. I have tried to see any examples with different methods but doesnt work.\r\nI saw Apache-Santuario but it is not any information about how to do it.\r\nThere is any lib or something to do this or address me in the right direction to do\r\n\r\nThks In Advance ","title":"Sign a XML file with .pfx certificate using Java","body":"<p>I need to sign a XML file using a certificate .p12 using Java. I have tried to see any examples with different methods but doesnt work.\nI saw Apache-Santuario but it is not any information about how to do it.\nThere is any lib or something to do this or address me in the right direction to do</p>\n<p>Thks In Advance</p>\n"},{"tags":["java","ignite"],"answers":[{"tags":[],"owner":{"account_id":13067933,"reputation":131,"user_id":10016872,"display_name":"Ilya Shishkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682019843,"creation_date":1681979233,"answer_id":76062020,"question_id":76010538,"body_markdown":"&gt; 1. When I start a new ignite node in my JVM, somehow keep track of all the threads it spawns and then use (the deprecated) method thread.stop to kill all its threads abruptly when I want to simulate it dying. I can&#39;t see a way of reliably distinguishing between threads launched by one Ignite in the JVM from threads spawned by another though, unless I assume Ignite starts all its threads at startup only.\r\n\r\nIf you are testing your application behavior during cluster nodes topology changes, there is no necessity to use private API or inner threads and classes of Ignite. Such tests have been already maintained in Ignite test framework. Moreover, there are extra integration tests based on Ducktape framework ([IEP-56][1]), which run Ignite nodes in a separate JVMs by means of Docker.\r\n\r\nI&#39;m not completely sure of your case, but it seems, that you need something like [Test Containers][2].\r\n\r\nFor example, such code downloads Docker image and runs Ignite node with fixed port for thin client (unfortunately, thin client can not connect to ephemeral port):\r\n\r\n    FixedHostPortGenericContainer&lt;?&gt; ignite = new FixedHostPortGenericContainer&lt;&gt;(&quot;apacheignite/ignite&quot;)\r\n        .withFixedExposedPort(10800, 10800)\r\n\r\nThen, call `ignite.stop()` to simulate unexpected node failure.\r\n\r\nMoreover, TestContainers includes some useful modules, such as [ToxyProxy][3], which provides possibility to add &quot;network instability&quot;: slowing down of requests, resetting the peer, etc.\r\n\r\n\r\n  [1]: https://cwiki.apache.org/confluence/display/IGNITE/IEP-56%3A+Distributed+environment+tests\r\n  [2]: https://www.testcontainers.org/\r\n  [3]: https://www.testcontainers.org/modules/toxiproxy","title":"Simulating apache ignite node failure for unit testing","body":"<blockquote>\n<ol>\n<li>When I start a new ignite node in my JVM, somehow keep track of all the threads it spawns and then use (the deprecated) method thread.stop to kill all its threads abruptly when I want to simulate it dying. I can't see a way of reliably distinguishing between threads launched by one Ignite in the JVM from threads spawned by another though, unless I assume Ignite starts all its threads at startup only.</li>\n</ol>\n</blockquote>\n<p>If you are testing your application behavior during cluster nodes topology changes, there is no necessity to use private API or inner threads and classes of Ignite. Such tests have been already maintained in Ignite test framework. Moreover, there are extra integration tests based on Ducktape framework (<a href=\"https://cwiki.apache.org/confluence/display/IGNITE/IEP-56%3A+Distributed+environment+tests\" rel=\"nofollow noreferrer\">IEP-56</a>), which run Ignite nodes in a separate JVMs by means of Docker.</p>\n<p>I'm not completely sure of your case, but it seems, that you need something like <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">Test Containers</a>.</p>\n<p>For example, such code downloads Docker image and runs Ignite node with fixed port for thin client (unfortunately, thin client can not connect to ephemeral port):</p>\n<pre><code>FixedHostPortGenericContainer&lt;?&gt; ignite = new FixedHostPortGenericContainer&lt;&gt;(&quot;apacheignite/ignite&quot;)\n    .withFixedExposedPort(10800, 10800)\n</code></pre>\n<p>Then, call <code>ignite.stop()</code> to simulate unexpected node failure.</p>\n<p>Moreover, TestContainers includes some useful modules, such as <a href=\"https://www.testcontainers.org/modules/toxiproxy\" rel=\"nofollow noreferrer\">ToxyProxy</a>, which provides possibility to add &quot;network instability&quot;: slowing down of requests, resetting the peer, etc.</p>\n"}],"owner":{"account_id":4628372,"reputation":178,"user_id":3751527,"display_name":"Open Door Logistics"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76062020,"answer_count":1,"score":0,"last_activity_date":1682019843,"creation_date":1681428322,"question_id":76010538,"body_markdown":"For unit testing, I&#39;m running multiple Ignite nodes in the same JVM (as discussed in the answer [here][1] ).\r\n\r\nIn my unit tests I want to simulate what happens when an Ignite node unexpectedly dies, e.g. to simulate a sudden hardware failure and the effects of it on the cluster as a whole. I can&#39;t just call Ignite.close() because this does an **orderly** shutdown, and I want a sudden **disorderly** shutdown, with all the problems it could bring.\r\n\r\nI can think of two potential ways to do this:\r\n\r\n1. When I start a new ignite node in my JVM, somehow keep track of all the threads it spawns and then use (the deprecated) method thread.stop to kill all its threads abruptly when I want to simulate it dying. I can&#39;t see a way of reliably distinguishing between threads launched by one Ignite in the JVM from threads spawned by another though, unless I assume Ignite starts all its threads at startup only.\r\n\r\n2. Launch a separate process using the Java process API (see first answer [here][2] ), start ignite in that process and then kill it by force using Process.destroy() or Process.destroyForcibly(). \r\n\r\nDoes anyone know a better approach?\r\n\r\nI&#39;m using Java 8.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/57353239/how-to-run-multiple-apache-ignite-nodes-on-same-jvm\r\n  [2]: https://stackoverflow.com/questions/636367/executing-a-java-application-in-a-separate-process","title":"Simulating apache ignite node failure for unit testing","body":"<p>For unit testing, I'm running multiple Ignite nodes in the same JVM (as discussed in the answer <a href=\"https://stackoverflow.com/questions/57353239/how-to-run-multiple-apache-ignite-nodes-on-same-jvm\">here</a> ).</p>\n<p>In my unit tests I want to simulate what happens when an Ignite node unexpectedly dies, e.g. to simulate a sudden hardware failure and the effects of it on the cluster as a whole. I can't just call Ignite.close() because this does an <strong>orderly</strong> shutdown, and I want a sudden <strong>disorderly</strong> shutdown, with all the problems it could bring.</p>\n<p>I can think of two potential ways to do this:</p>\n<ol>\n<li><p>When I start a new ignite node in my JVM, somehow keep track of all the threads it spawns and then use (the deprecated) method thread.stop to kill all its threads abruptly when I want to simulate it dying. I can't see a way of reliably distinguishing between threads launched by one Ignite in the JVM from threads spawned by another though, unless I assume Ignite starts all its threads at startup only.</p>\n</li>\n<li><p>Launch a separate process using the Java process API (see first answer <a href=\"https://stackoverflow.com/questions/636367/executing-a-java-application-in-a-separate-process\">here</a> ), start ignite in that process and then kill it by force using Process.destroy() or Process.destroyForcibly().</p>\n</li>\n</ol>\n<p>Does anyone know a better approach?</p>\n<p>I'm using Java 8.</p>\n"},{"tags":["java","gradle","gradle-plugin"],"answers":[{"comments":[{"owner":{"account_id":15100311,"reputation":81,"user_id":10897519,"display_name":"Narryel"},"score":0,"creation_date":1594382973,"post_id":62816726,"comment_id":111114142,"body_markdown":"well this doesnt answer the question","body":"well this doesnt answer the question"},{"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"score":0,"creation_date":1594384928,"post_id":62816726,"comment_id":111115196,"body_markdown":"OK, you are right. One thing you can try is to add `-` before SNAPSHOT.\n`url = project.version.endsWith(&#39;-SNAPSHOT&#39;) ? snapshotsRepoUrl : releasesRepoUrl`","body":"OK, you are right. One thing you can try is to add <code>-</code> before SNAPSHOT. <code>url = project.version.endsWith(&#39;-SNAPSHOT&#39;) ? snapshotsRepoUrl : releasesRepoUrl</code>"}],"tags":[],"owner":{"account_id":13104635,"reputation":186,"user_id":9467865,"display_name":"Dariusz Urbanek"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594303882,"creation_date":1594303579,"answer_id":62816726,"question_id":62815923,"body_markdown":"I am working on multimodule projects with gradle and we are not setting a version in submodules.All we do is setting it in base project in ```gradle.properties``` file.\r\n\r\n```grovy\r\ngroup = &quot;xxx&quot;\r\nversion = &quot;0.0.6-SNAPSHOT&quot;\r\n```\r\n\r\nthen you can use it:\r\n```\r\nurl = project.version.endsWith(&#39;SNAPSHOT&#39;) ? snapshotsRepoUrl : releasesRepoUrl\r\n```","title":"gradle suproject version is unspecified while publishing","body":"<p>I am working on multimodule projects with gradle and we are not setting a version in submodules.All we do is setting it in base project in <code>gradle.properties</code> file.</p>\n<pre><code>group = &quot;xxx&quot;\nversion = &quot;0.0.6-SNAPSHOT&quot;\n</code></pre>\n<p>then you can use it:</p>\n<pre><code>url = project.version.endsWith('SNAPSHOT') ? snapshotsRepoUrl : releasesRepoUrl\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15100311,"reputation":81,"user_id":10897519,"display_name":"Narryel"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1594623542,"creation_date":1594623542,"answer_id":62870712,"question_id":62815923,"body_markdown":"the only worked way for me was a workaround:\r\nplacing subproject version management in root build.gradle like this\r\n\r\n    project(&#39;:subproject1&#39;) {\r\n        version &#39;0.0.6-SNAPSHOT&#39;\r\n    }\r\n    \r\n    project(&#39;:subproject2&#39;) {\r\n        version &#39;0.0.12-SNAPSHOT&#39;\r\n    }\r\n    \r\n    project(&#39;:subproject14) {\r\n        version &#39;0.0.5-SNAPSHOT&#39;\r\n    }\r\n\r\n\r\nand then project.version property is being injecting correctyl","title":"gradle suproject version is unspecified while publishing","body":"<p>the only worked way for me was a workaround:\nplacing subproject version management in root build.gradle like this</p>\n<pre><code>project(':subproject1') {\n    version '0.0.6-SNAPSHOT'\n}\n\nproject(':subproject2') {\n    version '0.0.12-SNAPSHOT'\n}\n\nproject(':subproject14) {\n    version '0.0.5-SNAPSHOT'\n}\n</code></pre>\n<p>and then project.version property is being injecting correctyl</p>\n"},{"tags":[],"owner":{"account_id":6571959,"reputation":898,"user_id":5079581,"display_name":"denizg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682019414,"creation_date":1682019414,"answer_id":76067674,"question_id":62815923,"body_markdown":"Instead of using this\r\n\r\n    \r\n    publishing {\r\n        publications {\r\n            nexus(MavenPublication) {\r\n                from components.java\r\n            }\r\n        }\r\n        repositories {\r\n            maven {\r\n                def releasesRepoUrl = &#39;https://.../releases/&#39;\r\n                def snapshotsRepoUrl = &#39;https://.../snapshots/&#39;\r\n                url = project.version.endsWith(&#39;SNAPSHOT&#39;) ? snapshotsRepoUrl : releasesRepoUrl\r\n\r\n                credentials {\r\n                    ...\r\n                }\r\n            }\r\n        }\r\n    }\r\nuse ***afterEvaluate*** block outside of publications and repositories block.\r\n\r\n    publishing {\r\n        afterEvaluate {\r\n            publications {\r\n                nexus(MavenPublication) {\r\n                    from components.java\r\n                }\r\n            }\r\n            repositories {\r\n                maven {\r\n                    def releasesRepoUrl = &#39;https://.../releases/&#39;\r\n                    def snapshotsRepoUrl = &#39;https://.../snapshots/&#39;\r\n                    url = project.version.endsWith(&#39;SNAPSHOT&#39;) ? snapshotsRepoUrl : releasesRepoUrl\r\n\r\n                    credentials {\r\n                        ...\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"gradle suproject version is unspecified while publishing","body":"<p>Instead of using this</p>\n<pre><code>publishing {\n    publications {\n        nexus(MavenPublication) {\n            from components.java\n        }\n    }\n    repositories {\n        maven {\n            def releasesRepoUrl = 'https://.../releases/'\n            def snapshotsRepoUrl = 'https://.../snapshots/'\n            url = project.version.endsWith('SNAPSHOT') ? snapshotsRepoUrl : releasesRepoUrl\n\n            credentials {\n                ...\n            }\n        }\n    }\n}\n</code></pre>\n<p>use <em><strong>afterEvaluate</strong></em> block outside of publications and repositories block.</p>\n<pre><code>publishing {\n    afterEvaluate {\n        publications {\n            nexus(MavenPublication) {\n                from components.java\n            }\n        }\n        repositories {\n            maven {\n                def releasesRepoUrl = 'https://.../releases/'\n                def snapshotsRepoUrl = 'https://.../snapshots/'\n                url = project.version.endsWith('SNAPSHOT') ? snapshotsRepoUrl : releasesRepoUrl\n\n                credentials {\n                    ...\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15100311,"reputation":81,"user_id":10897519,"display_name":"Narryel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2219,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62870712,"answer_count":3,"score":4,"last_activity_date":1682019414,"creation_date":1594301060,"question_id":62815923,"body_markdown":"i have two nexus repositories: one for releases, other for snapshots. i have code in publish task to define which repo to pick according to doc:\r\n```    publishing {\r\n        repositories {\r\n            repositories {\r\n                maven {\r\n                    credentials {\r\n                        username &quot;$nexusUser&quot;\r\n                        password &quot;$nexusPassword&quot;\r\n                    }\r\n                    def releasesRepoUrl = &quot;https://xxx/repository/factoring-maven-release/&quot;\r\n                    def snapshotsRepoUrl = &quot;https://xxx/repository/factoring-maven-snapshots/&quot;\r\n                    url = version.endsWith(&#39;SNAPSHOT&#39;) ? snapshotsRepoUrl : releasesRepoUrl\r\n                }\r\n            }\r\n            publications {\r\n                create(&quot;default&quot;, MavenPublication.class) {\r\n                    from(components[&quot;java&quot;])\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nand subprojects included by this code :\r\n```\r\nrootProject.name = &#39;xxx-integration-lib&#39;\r\n\r\ninclude &#39;xxx-service1-dto&#39;\r\ninclude &#39;xxx-service2-dto&#39;\r\n```\r\n\r\nsubprojects build.gradle:\r\n```\r\ngroup = &quot;xxx&quot;\r\nversion = &quot;0.0.6-SNAPSHOT&quot;\r\n```\r\n\r\nbut this doesnt work since subproject version is always unspecified.\r\ntried:\r\n\r\n 1. making new allproject task to return version\r\n2. using project.property(&#39;propName&#39;) - but this seems like a workaround, not a solution\r\n\r\nany thoughts?\r\n","title":"gradle suproject version is unspecified while publishing","body":"<p>i have two nexus repositories: one for releases, other for snapshots. i have code in publish task to define which repo to pick according to doc:</p>\n<pre><code>        repositories {\n            repositories {\n                maven {\n                    credentials {\n                        username &quot;$nexusUser&quot;\n                        password &quot;$nexusPassword&quot;\n                    }\n                    def releasesRepoUrl = &quot;https://xxx/repository/factoring-maven-release/&quot;\n                    def snapshotsRepoUrl = &quot;https://xxx/repository/factoring-maven-snapshots/&quot;\n                    url = version.endsWith('SNAPSHOT') ? snapshotsRepoUrl : releasesRepoUrl\n                }\n            }\n            publications {\n                create(&quot;default&quot;, MavenPublication.class) {\n                    from(components[&quot;java&quot;])\n                }\n            }\n        }\n    }\n</code></pre>\n<p>and subprojects included by this code :</p>\n<pre><code>rootProject.name = 'xxx-integration-lib'\n\ninclude 'xxx-service1-dto'\ninclude 'xxx-service2-dto'\n</code></pre>\n<p>subprojects build.gradle:</p>\n<pre><code>group = &quot;xxx&quot;\nversion = &quot;0.0.6-SNAPSHOT&quot;\n</code></pre>\n<p>but this doesnt work since subproject version is always unspecified.\ntried:</p>\n<ol>\n<li>making new allproject task to return version</li>\n<li>using project.property('propName') - but this seems like a workaround, not a solution</li>\n</ol>\n<p>any thoughts?</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":12932234,"reputation":319,"user_id":9350886,"display_name":"Pierpaolo Di Dato"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520601143,"creation_date":1520601143,"answer_id":49194593,"question_id":49194317,"body_markdown":"Change the property to `hibernate.hbm2ddl.auto=create`","title":"Hibernate not automatically creating tables","body":"<p>Change the property to <code>hibernate.hbm2ddl.auto=create</code></p>\n"},{"comments":[{"owner":{"account_id":7275467,"reputation":31,"user_id":5547076,"display_name":"lulubelle"},"score":0,"creation_date":1520959621,"post_id":49194643,"comment_id":85526694,"body_markdown":"I have changed it to this but it is now giving me an error saying it could not extract result set and it is still not creating the tables... any suggestions ?","body":"I have changed it to this but it is now giving me an error saying it could not extract result set and it is still not creating the tables... any suggestions ?"},{"owner":{"account_id":2892943,"reputation":199,"user_id":2481290,"display_name":"Kai Adelmann"},"score":0,"creation_date":1521018523,"post_id":49194643,"comment_id":85549674,"body_markdown":"That would be a totally different problem, which you should post in a seperat question, as this one is apparently solved. Furthermore, we would need some more code to judge about that sort of problem (namely the model etc. you&#39;re trying to autocreate)","body":"That would be a totally different problem, which you should post in a seperat question, as this one is apparently solved. Furthermore, we would need some more code to judge about that sort of problem (namely the model etc. you&#39;re trying to autocreate)"}],"tags":[],"owner":{"account_id":2892943,"reputation":199,"user_id":2481290,"display_name":"Kai Adelmann"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520601351,"creation_date":1520601351,"answer_id":49194643,"question_id":49194317,"body_markdown":"Take a look at https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\r\nand set the property hibernate.dbm2ddl.auto=create.\r\n\r\nThat should solve the problem.","title":"Hibernate not automatically creating tables","body":"<p>Take a look at <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-database-initialization.html</a>\nand set the property hibernate.dbm2ddl.auto=create.</p>\n\n<p>That should solve the problem.</p>\n"}],"owner":{"account_id":7275467,"reputation":31,"user_id":5547076,"display_name":"lulubelle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1279,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1520610454,"answer_count":2,"score":0,"last_activity_date":1682019301,"creation_date":1520600196,"question_id":49194317,"body_markdown":"I have hibernate set up in my spring project, once the tables are created in my database it works no problem, however I want my hibernate to automatically create my tables for me. I am not using xml for the configuration I am using application.properties file and a hibernateConfig.java class. \r\n\r\napplication.properties\r\n\r\n    hibernate.format_sql = true\r\n    hibernate.dialect=org.hibernate.dialect.HSQLDialect\r\n    hibernate.show_sql=true\r\n    hibernate.hbm2ddl.auto=update\r\n\r\nHibernateConfig.java \r\n\r\n      private Properties hibernateProperties() {\r\n        Properties properties = new Properties();\r\n        properties.put(&quot;hibernate.dialect&quot;, environment.getRequiredProperty(&quot;hibernate.dialect&quot;));\r\n        properties.put(&quot;hibernate.show_sql&quot;, environment.getRequiredProperty(&quot;hibernate.show_sql&quot;));\r\n        properties.put(&quot;hibernate.format_sql&quot;, environment.getRequiredProperty(&quot;hibernate.format_sql&quot;));\r\n        properties.put(&quot;hibernate.hbm2ddl.auto&quot;, environment.getRequiredProperty(&quot;hibernate.hbm2ddl.auto&quot;));\r\n\r\n\r\n        return properties;        \r\n    }\r\n     \r\n\r\nAny suggestions would be greatly appreciated!\r\n","title":"Hibernate not automatically creating tables","body":"<p>I have hibernate set up in my spring project, once the tables are created in my database it works no problem, however I want my hibernate to automatically create my tables for me. I am not using xml for the configuration I am using application.properties file and a hibernateConfig.java class. </p>\n\n<p>application.properties</p>\n\n<pre><code>hibernate.format_sql = true\nhibernate.dialect=org.hibernate.dialect.HSQLDialect\nhibernate.show_sql=true\nhibernate.hbm2ddl.auto=update\n</code></pre>\n\n<p>HibernateConfig.java </p>\n\n<pre><code>  private Properties hibernateProperties() {\n    Properties properties = new Properties();\n    properties.put(\"hibernate.dialect\", environment.getRequiredProperty(\"hibernate.dialect\"));\n    properties.put(\"hibernate.show_sql\", environment.getRequiredProperty(\"hibernate.show_sql\"));\n    properties.put(\"hibernate.format_sql\", environment.getRequiredProperty(\"hibernate.format_sql\"));\n    properties.put(\"hibernate.hbm2ddl.auto\", environment.getRequiredProperty(\"hibernate.hbm2ddl.auto\"));\n\n\n    return properties;        \n}\n</code></pre>\n\n<p>Any suggestions would be greatly appreciated!</p>\n"},{"tags":["java","swing","jbutton","actionlistener","swingworker"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682015885,"post_id":76067250,"comment_id":134153495,"body_markdown":"`//also tried disabling here` -- and that&#39;s a good place to disable the button. Since you&#39;re asking about code that is not behaving as expected, it may be best for you to create a [mre] code post with your program. This would not be your entire program, far from it, but a small runnable test program that duplicates the problem for us. The long-running task can be mocked simply with a `Thread.sleep(...)`. Please read the link which will explain what this is and how it can help both you and us.","body":"<code>&#47;&#47;also tried disabling here</code> -- and that&#39;s a good place to disable the button. Since you&#39;re asking about code that is not behaving as expected, it may be best for you to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post with your program. This would not be your entire program, far from it, but a small runnable test program that duplicates the problem for us. The long-running task can be mocked simply with a <code>Thread.sleep(...)</code>. Please read the link which will explain what this is and how it can help both you and us."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682015999,"post_id":76067250,"comment_id":134153521,"body_markdown":"One issue is here: `guiController.submitUpload();` this makes Swing calls within the method call, the JOptionPane calls, and by doing this, you are breaking Swing threading rules and can be causing problems with your event thread. Don&#39;t do this. Instead use publish and process or use property change listeners to pass information from the background thread to the GUI. Be sure that no Swing GUI code is being called from within the background thread.","body":"One issue is here: <code>guiController.submitUpload();</code> this makes Swing calls within the method call, the JOptionPane calls, and by doing this, you are breaking Swing threading rules and can be causing problems with your event thread. Don&#39;t do this. Instead use publish and process or use property change listeners to pass information from the background thread to the GUI. Be sure that no Swing GUI code is being called from within the background thread."},{"owner":{"account_id":19853876,"reputation":29,"user_id":14543790,"display_name":"kroger9"},"score":0,"creation_date":1682016402,"post_id":76067250,"comment_id":134153590,"body_markdown":"@HovercraftFullOfEels calling Thread.sleep() seems to freeze the entire gui; right before guiController.submitUpload().","body":"@HovercraftFullOfEels calling Thread.sleep() seems to freeze the entire gui; right before guiController.submitUpload()."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1682016806,"post_id":76067250,"comment_id":134153667,"body_markdown":"I was suggesting calling `Thread.sleep(...)` in t he `doInBackground()` method of your [mre], nothing more and nothing less. If it puts your GUI to sleep, then you have unsolved Swing threading issues, possibly coming from code not shown. Again, let&#39;s see your [MRE](https://stackoverflow.com/help/minimal-reproducible-example)","body":"I was suggesting calling <code>Thread.sleep(...)</code> in t he <code>doInBackground()</code> method of your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, nothing more and nothing less. If it puts your GUI to sleep, then you have unsolved Swing threading issues, possibly coming from code not shown. Again, let&#39;s see your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>"},{"owner":{"account_id":19853876,"reputation":29,"user_id":14543790,"display_name":"kroger9"},"score":0,"creation_date":1682018938,"post_id":76067250,"comment_id":134154082,"body_markdown":"@HovercraftFullOfEels I&#39;ll work on that MRE, thank you. I am a bit hesitant on posting something that resembles company code, that&#39;s all. I did notice that the &quot;guiController.java&quot; file has a lot of Swing calls. In multiple places, JOptionPane calls are made throughout this &quot;guiController.java&quot; file.  I&#39;m thinking there&#39;s threading issues at play here...","body":"@HovercraftFullOfEels I&#39;ll work on that MRE, thank you. I am a bit hesitant on posting something that resembles company code, that&#39;s all. I did notice that the &quot;guiController.java&quot; file has a lot of Swing calls. In multiple places, JOptionPane calls are made throughout this &quot;guiController.java&quot; file.  I&#39;m thinking there&#39;s threading issues at play here..."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1682019067,"post_id":76067250,"comment_id":134154096,"body_markdown":"Create dummy code with bland method names that don&#39;t come close to resembling protected intellectual property that you are trying to protect.","body":"Create dummy code with bland method names that don&#39;t come close to resembling protected intellectual property that you are trying to protect."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1682019200,"post_id":76067250,"comment_id":134154112,"body_markdown":"Also note that for more complex interactions between the background thread and the GUI, consider use of a SwingPropertyChangeSupport object and property change listeners. This will allow complex notifications to be sent from the the background thread to the GUI, and the notifications will be sent on the Swing event thread, allowing for thread safety.","body":"Also note that for more complex interactions between the background thread and the GUI, consider use of a SwingPropertyChangeSupport object and property change listeners. This will allow complex notifications to be sent from the the background thread to the GUI, and the notifications will be sent on the Swing event thread, allowing for thread safety."}],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682019189,"creation_date":1682017768,"answer_id":76067489,"question_id":76067250,"body_markdown":"So yes, call `JButton#setEnabled(false)` where you are calling it, before you execute the SwingWorker, and then re-enable it when the worker is done. This *will* work. If it doesn&#39;t work for you, then you have Swing threading problems in code not shown.  \r\n\r\nHere is my example of a proof-of-concept [MRE](https://stackoverflow.com/help/minimal-reproducible-example):\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutionException;\r\nimport java.awt.BorderLayout;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.JTextArea;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.SwingWorker;\r\n\r\npublic class FooPanel01 extends JPanel {\r\n  private JButton longActionButton = new JButton(&quot;Start Long Action&quot;);\r\n  private JTextArea output = new JTextArea(15, 40);\r\n  \r\n  public FooPanel01() {\r\n    longActionButton.addActionListener(e -&gt; longActionPerformed());\r\n    JPanel buttoPanel = new JPanel();\r\n    buttoPanel.add(longActionButton);\r\n\r\n    JScrollPane scrollPane = new JScrollPane(output);\r\n    scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n\r\n    setLayout(new BorderLayout());\r\n    add(buttoPanel, BorderLayout.PAGE_START);\r\n    add(scrollPane, BorderLayout.CENTER);\r\n  }\r\n\r\n  private void longActionPerformed() {\r\n    longActionButton.setEnabled(false);\r\n    output.append(&quot;Long Action started...&quot; + System.lineSeparator());\r\n    new MyWorker().execute();\r\n  }\r\n\r\n  private class MyWorker extends SwingWorker&lt;Void, String&gt; {\r\n    @Override\r\n    protected Void doInBackground() throws Exception {\r\n      /****************************************\r\n       * \r\n       * Do not update the GUI or make Swing calls from here!\r\n       * This includes JOptionPanel static method calls\r\n       * \r\n       ****************************************/\r\n\r\n      // Do some long running task\r\n      // here emulated with Thread.sleep\r\n      for (int i = 0; i &lt; 6; i++) {\r\n        Thread.sleep((long) (Math.random() * 1000));\r\n        publish(&quot;Processing step &quot; + i);\r\n      }\r\n      return null;\r\n    }\r\n\r\n    @Override\r\n    protected void process(List&lt;String&gt; chunks) {\r\n      for (String chunk : chunks) {\r\n        output.append(chunk + System.lineSeparator());\r\n      }\r\n    }\r\n\r\n    @Override\r\n    protected void done() {\r\n      longActionButton.setEnabled(true);\r\n      output.append(&quot;Long Action finished...&quot; + System.lineSeparator());\r\n      try {\r\n        // always call get() in the done() method to trap exceptions\r\n        // that may have occurred inside the doInBackground() method\r\n        get();\r\n      } catch (InterruptedException | ExecutionException e) {\r\n        e.printStackTrace();\r\n      }\r\n    }\r\n  }\r\n  \r\n  public static void main(String[] args) throws IOException {\r\n    SwingUtilities.invokeLater(new Runnable() {\r\n      public void run() {\r\n        JFrame frame = new JFrame(&quot;GUI&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(new FooPanel01());\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n      }\r\n    });\r\n  }\r\n}\r\n```\r\n\r\nFor more complex interactions between the background thread and the GUI, consider use of a SwingPropertyChangeSupport object and property change listeners. This will allow complex notifications to be sent from the the background thread to the GUI, and the notifications will be sent on the Swing event thread, allowing for thread safety.","title":"Java Swing JButton disable not giving disired results","body":"<p>So yes, call <code>JButton#setEnabled(false)</code> where you are calling it, before you execute the SwingWorker, and then re-enable it when the worker is done. This <em>will</em> work. If it doesn't work for you, then you have Swing threading problems in code not shown.</p>\n<p>Here is my example of a proof-of-concept <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">MRE</a>:</p>\n<pre><code>import java.io.IOException;\nimport java.util.List;\nimport java.util.concurrent.ExecutionException;\nimport java.awt.BorderLayout;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.SwingUtilities;\nimport javax.swing.SwingWorker;\n\npublic class FooPanel01 extends JPanel {\n  private JButton longActionButton = new JButton(&quot;Start Long Action&quot;);\n  private JTextArea output = new JTextArea(15, 40);\n  \n  public FooPanel01() {\n    longActionButton.addActionListener(e -&gt; longActionPerformed());\n    JPanel buttoPanel = new JPanel();\n    buttoPanel.add(longActionButton);\n\n    JScrollPane scrollPane = new JScrollPane(output);\n    scrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n\n    setLayout(new BorderLayout());\n    add(buttoPanel, BorderLayout.PAGE_START);\n    add(scrollPane, BorderLayout.CENTER);\n  }\n\n  private void longActionPerformed() {\n    longActionButton.setEnabled(false);\n    output.append(&quot;Long Action started...&quot; + System.lineSeparator());\n    new MyWorker().execute();\n  }\n\n  private class MyWorker extends SwingWorker&lt;Void, String&gt; {\n    @Override\n    protected Void doInBackground() throws Exception {\n      /****************************************\n       * \n       * Do not update the GUI or make Swing calls from here!\n       * This includes JOptionPanel static method calls\n       * \n       ****************************************/\n\n      // Do some long running task\n      // here emulated with Thread.sleep\n      for (int i = 0; i &lt; 6; i++) {\n        Thread.sleep((long) (Math.random() * 1000));\n        publish(&quot;Processing step &quot; + i);\n      }\n      return null;\n    }\n\n    @Override\n    protected void process(List&lt;String&gt; chunks) {\n      for (String chunk : chunks) {\n        output.append(chunk + System.lineSeparator());\n      }\n    }\n\n    @Override\n    protected void done() {\n      longActionButton.setEnabled(true);\n      output.append(&quot;Long Action finished...&quot; + System.lineSeparator());\n      try {\n        // always call get() in the done() method to trap exceptions\n        // that may have occurred inside the doInBackground() method\n        get();\n      } catch (InterruptedException | ExecutionException e) {\n        e.printStackTrace();\n      }\n    }\n  }\n  \n  public static void main(String[] args) throws IOException {\n    SwingUtilities.invokeLater(new Runnable() {\n      public void run() {\n        JFrame frame = new JFrame(&quot;GUI&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(new FooPanel01());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n      }\n    });\n  }\n}\n</code></pre>\n<p>For more complex interactions between the background thread and the GUI, consider use of a SwingPropertyChangeSupport object and property change listeners. This will allow complex notifications to be sent from the the background thread to the GUI, and the notifications will be sent on the Swing event thread, allowing for thread safety.</p>\n"}],"owner":{"account_id":19853876,"reputation":29,"user_id":14543790,"display_name":"kroger9"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1682019189,"creation_date":1682015668,"question_id":76067250,"body_markdown":"This is my first time working with Java Swing, so apologies for missing a lot context. This is using Netbeans 7.0.x--business rational. Code is generated using the &quot;Design&quot; feature in Netbeans. Most of the gui code is generated, if not all.\r\n\r\n\\\r\n\\\r\nI&#39;ve tried a few areas of calling `setEnabled` to disable an `upload` button until the file transfer completes. For testing purposes, I added a doubly for-loop to do some floating point arithmetic; I have popup messages before the for loops, and after to mirror some &quot;file upload busy work&quot;. None of the places I have called the `setEnabled` function on the button of interest, give the desired result of &quot;greying out&quot; or &quot;disabling&quot; the button--until the `guiController.submitUpload()` call completes inside the body of `swingworker.doInBackground()`. For now I commented out the `done()` functiion. \r\n\r\n\\\r\n\\\r\nThe desired result: on clicking the `buttonX`, grey out the button or disable it--that is, I shouldn&#39;t be able to click on it again--see the first popup in `submitUpload()`, then see the second pop up. The `submitUpload()` function runs it&#39;s business logic, and completes. After completing, the `buttonX` should be re-enabled or disable it. Ideally, I&#39;d like to disable AND grey out this button, `buttonX`.\r\n\r\n\r\n\\\r\nI&#39;ve tried many of the results in SO, and already read up on documentation:  \r\n`https://docs.oracle.com/javase/tutorial/uiswing/components/button.html`\r\n`https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html`\r\n\r\n\\\r\n\\\r\nCan someone help me out with something I&#39;m missing?\r\n```\r\n=========================\r\npanelFile.java\r\n//private variable\r\nSwingWorker sw = ...;\r\n\r\nbuttonX.addActionListener(new java.awt.event.ActionListener(){\r\n    public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n\r\n        //tried disabling here\r\n        //buttonX.setEnabled(false);\r\n        buttonXActionPerformed(evt);\r\n        //renable\r\n    }\r\n}\r\n.\r\n.\r\n.\r\n\r\nprivate void bottonXActionPerformed(java.awt.event.ActionEvent evt) {\r\n\r\n    //also tried disabling here \r\n    \r\n    sw = new SwingWorker&lt;void, void&gt; () {\r\n         @Override\r\n         public void doInBackground\r\n             {\r\n            try\r\n                {\r\n                if (guiController != null)\r\n                    {\r\n                    guiController.submitUpload();\r\n                    }\r\n                }\r\n            catch (Exception e)\r\n                {\r\n                logger.log(Level.SEVERE, e.toString(), e);\r\n                }\r\n            sw = null;\r\n            return null;\r\n            }\r\n        /*\r\n        @Override\r\n        public void done()\r\n            {\r\n            buttonX.setEnabled(true);\r\n            }         \r\n         */\r\n        };\r\n    \r\n    sw.execute();\r\n}\r\n=========================\r\nguiController.java\r\n\r\n\r\npublic void submitUpload(){\r\n    //do stuff\r\n   \r\n    //for testing I have pop-ups\r\n    // I should only see this popup once, until the &quot;upload completes&quot;\r\n    JOptionPane.showMessageDialog(getFrame(),\r\n                                  &quot;BEFORE&quot;,\r\n                                  &quot;test disable&quot;,\r\n                                  JOptionPane.INFORMATION_MESSAGE);\r\n\r\n    //busy loop here\r\n\r\n    JOptionPane.showMessageDialog(getFrame(),\r\n                                  &quot;AFTER&quot;,\r\n                                  &quot;test disable&quot;,\r\n                                  JOptionPane.INFORMATION_MESSAGE);\r\n\r\n\r\n}\r\n```","title":"Java Swing JButton disable not giving disired results","body":"<p>This is my first time working with Java Swing, so apologies for missing a lot context. This is using Netbeans 7.0.x--business rational. Code is generated using the &quot;Design&quot; feature in Netbeans. Most of the gui code is generated, if not all.</p>\n<p><br />\n<br />\nI've tried a few areas of calling <code>setEnabled</code> to disable an <code>upload</code> button until the file transfer completes. For testing purposes, I added a doubly for-loop to do some floating point arithmetic; I have popup messages before the for loops, and after to mirror some &quot;file upload busy work&quot;. None of the places I have called the <code>setEnabled</code> function on the button of interest, give the desired result of &quot;greying out&quot; or &quot;disabling&quot; the button--until the <code>guiController.submitUpload()</code> call completes inside the body of <code>swingworker.doInBackground()</code>. For now I commented out the <code>done()</code> functiion.</p>\n<p><br />\n<br />\nThe desired result: on clicking the <code>buttonX</code>, grey out the button or disable it--that is, I shouldn't be able to click on it again--see the first popup in <code>submitUpload()</code>, then see the second pop up. The <code>submitUpload()</code> function runs it's business logic, and completes. After completing, the <code>buttonX</code> should be re-enabled or disable it. Ideally, I'd like to disable AND grey out this button, <code>buttonX</code>.</p>\n<p><br />\nI've tried many of the results in SO, and already read up on documentation:<br />\n<code>https://docs.oracle.com/javase/tutorial/uiswing/components/button.html</code>\n<code>https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html</code></p>\n<p><br />\n<br />\nCan someone help me out with something I'm missing?</p>\n<pre><code>=========================\npanelFile.java\n//private variable\nSwingWorker sw = ...;\n\nbuttonX.addActionListener(new java.awt.event.ActionListener(){\n    public void actionPerformed(java.awt.event.ActionEvent evt) {\n\n        //tried disabling here\n        //buttonX.setEnabled(false);\n        buttonXActionPerformed(evt);\n        //renable\n    }\n}\n.\n.\n.\n\nprivate void bottonXActionPerformed(java.awt.event.ActionEvent evt) {\n\n    //also tried disabling here \n    \n    sw = new SwingWorker&lt;void, void&gt; () {\n         @Override\n         public void doInBackground\n             {\n            try\n                {\n                if (guiController != null)\n                    {\n                    guiController.submitUpload();\n                    }\n                }\n            catch (Exception e)\n                {\n                logger.log(Level.SEVERE, e.toString(), e);\n                }\n            sw = null;\n            return null;\n            }\n        /*\n        @Override\n        public void done()\n            {\n            buttonX.setEnabled(true);\n            }         \n         */\n        };\n    \n    sw.execute();\n}\n=========================\nguiController.java\n\n\npublic void submitUpload(){\n    //do stuff\n   \n    //for testing I have pop-ups\n    // I should only see this popup once, until the &quot;upload completes&quot;\n    JOptionPane.showMessageDialog(getFrame(),\n                                  &quot;BEFORE&quot;,\n                                  &quot;test disable&quot;,\n                                  JOptionPane.INFORMATION_MESSAGE);\n\n    //busy loop here\n\n    JOptionPane.showMessageDialog(getFrame(),\n                                  &quot;AFTER&quot;,\n                                  &quot;test disable&quot;,\n                                  JOptionPane.INFORMATION_MESSAGE);\n\n\n}\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1448962665,"post_id":34016904,"comment_id":55789497,"body_markdown":"Are you correctly using the `http://repo.spring.io/milestone` repo?","body":"Are you correctly using the <code>http:&#47;&#47;repo.spring.io&#47;milestone</code> repo?"},{"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"score":0,"creation_date":1448964112,"post_id":34016904,"comment_id":55790361,"body_markdown":"Yes. The problem is that I cannot override the version of that specific jar","body":"Yes. The problem is that I cannot override the version of that specific jar"}],"answers":[{"comments":[{"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"score":0,"creation_date":1448974806,"post_id":34020564,"comment_id":55796881,"body_markdown":"Hi Torsten, thanx for your answer. My proyect already has a parent pom and can successfully override the variables defined there. What I didn&#39;t understand is why I can override the variables from the parent project&#39;s dependencyManagement, and not the ones from myproject&#39;s dependency-management-imported pom.","body":"Hi Torsten, thanx for your answer. My proyect already has a parent pom and can successfully override the variables defined there. What I didn&#39;t understand is why I can override the variables from the parent project&#39;s dependencyManagement, and not the ones from myproject&#39;s dependency-management-imported pom."},{"owner":{"account_id":389246,"reputation":6194,"user_id":748597,"display_name":"Torsten"},"score":2,"creation_date":1448978162,"post_id":34020564,"comment_id":55799069,"body_markdown":"You cannot configure the content of your dependencies, you can only switch between different versions of them. If you do not like the versions of dependencies the parent pom defines you have to provide alternate versions of your dependencies in your project to override those.","body":"You cannot configure the content of your dependencies, you can only switch between different versions of them. If you do not like the versions of dependencies the parent pom defines you have to provide alternate versions of your dependencies in your project to override those."},{"owner":{"account_id":1395326,"reputation":8690,"user_id":1325216,"accept_rate":58,"display_name":"Sander Verhagen"},"score":0,"creation_date":1561770434,"post_id":34020564,"comment_id":100182766,"body_markdown":"This by itself is an understandable situation, however, what&#39;s weird is that it&#39;s still possible to override the version on the command-line, like so: `-Dspring-cloud-netflix.version=...` That&#39;s very unintuitive once you&#39;ve accepted the former.","body":"This by itself is an understandable situation, however, what&#39;s weird is that it&#39;s still possible to override the version on the command-line, like so: <code>-Dspring-cloud-netflix.version=...</code> That&#39;s very unintuitive once you&#39;ve accepted the former."}],"tags":[],"owner":{"account_id":389246,"reputation":6194,"user_id":748597,"display_name":"Torsten"},"comment_count":3,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1682018859,"creation_date":1448973249,"answer_id":34020564,"question_id":34016904,"body_markdown":"The property `spring-cloud-netflix.version` has already been resolved when building the `org.springframework.cloud:spring-cloud-starter-eureka` artifact, so you can not just override this when declaring the dependency.\r\n\r\nTo properly specify a certain dependency version, you have to add the version of that dependency in the `dependencyManagement` section of your pom:\r\n\r\n    ...\r\n    &lt;properties&gt;\r\n            &lt;spring-cloud-netflix.version&gt;1.0.0&lt;/spring-cloud-netflix.version&gt;\r\n    &lt;/properties&gt;\r\n    ...\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;Brixton.M3&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-cloud-netflix.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nAs a best practice for a multi module build you would typically have a shared master pom containing the `dependencyManagement` settings incl. all version information for all your dependencies.\r\n","title":"Maven - why can&#39;t I override the version of a dependencyManagement imported pom?","body":"<p>The property <code>spring-cloud-netflix.version</code> has already been resolved when building the <code>org.springframework.cloud:spring-cloud-starter-eureka</code> artifact, so you can not just override this when declaring the dependency.</p>\n<p>To properly specify a certain dependency version, you have to add the version of that dependency in the <code>dependencyManagement</code> section of your pom:</p>\n<pre><code>...\n&lt;properties&gt;\n        &lt;spring-cloud-netflix.version&gt;1.0.0&lt;/spring-cloud-netflix.version&gt;\n&lt;/properties&gt;\n...\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;Brixton.M3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n            &lt;version&gt;${spring-cloud-netflix.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>As a best practice for a multi module build you would typically have a shared master pom containing the <code>dependencyManagement</code> settings incl. all version information for all your dependencies.</p>\n"}],"owner":{"account_id":1917510,"reputation":23561,"user_id":1729795,"accept_rate":83,"display_name":"codependent"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17941,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"accepted_answer_id":34020564,"answer_count":1,"score":15,"last_activity_date":1682018859,"creation_date":1448962157,"question_id":34016904,"body_markdown":"I&#39;m looking for an explanation about this case: I have a project that has a dependencyManagement / dependencies section with:\r\n\r\n**myproject/pom.xml:**\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;Brixton.M3&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\nThe **spring-cloud-starter-parent pom** defines:\r\n\r\n    &lt;properties&gt;\r\n    \t\t&lt;main.basedir&gt;${basedir}/../..&lt;/main.basedir&gt;\r\n    \t\t&lt;spring-cloud-netflix.version&gt;1.1.0.BUILD-SNAPSHOT&lt;/spring-cloud-netflix.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${spring-cloud-netflix.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nThis way, my project will get spring-cloud-starter-eureka version 1.1.0.BUILD-SNAPSHOT.\r\n\r\nI was expecting that if I add in myproject/pom.xml a properties section with another version I would override the default version, however it is ignored, why?\r\n\r\n**myproject/pom.xml** \r\n\r\n    ...\r\n    &lt;properties&gt;\r\n    \t\t&lt;spring-cloud-netflix.version&gt;1.0.0&lt;/spring-cloud-netflix.version&gt;\r\n    &lt;/properties&gt;\r\n    ...","title":"Maven - why can&#39;t I override the version of a dependencyManagement imported pom?","body":"<p>I'm looking for an explanation about this case: I have a project that has a dependencyManagement / dependencies section with:</p>\n\n<p><strong>myproject/pom.xml:</strong></p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;Brixton.M3&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>The <strong>spring-cloud-starter-parent pom</strong> defines:</p>\n\n<pre><code>&lt;properties&gt;\n        &lt;main.basedir&gt;${basedir}/../..&lt;/main.basedir&gt;\n        &lt;spring-cloud-netflix.version&gt;1.1.0.BUILD-SNAPSHOT&lt;/spring-cloud-netflix.version&gt;\n&lt;/properties&gt;\n&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-starter-eureka&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-netflix.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>This way, my project will get spring-cloud-starter-eureka version 1.1.0.BUILD-SNAPSHOT.</p>\n\n<p>I was expecting that if I add in myproject/pom.xml a properties section with another version I would override the default version, however it is ignored, why?</p>\n\n<p><strong>myproject/pom.xml</strong> </p>\n\n<pre><code>...\n&lt;properties&gt;\n        &lt;spring-cloud-netflix.version&gt;1.0.0&lt;/spring-cloud-netflix.version&gt;\n&lt;/properties&gt;\n...\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1681899721,"post_id":76039373,"comment_id":134130293,"body_markdown":"What is does the response body contain for the 200 with an existing email? Can you add some logging to the line above _throw new IllegalStateException(&quot;Email already taken.&quot;);_ to see that it gets there.","body":"What is does the response body contain for the 200 with an existing email? Can you add some logging to the line above <i>throw new IllegalStateException(&quot;Email already taken.&quot;);</i> to see that it gets there."},{"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"score":0,"creation_date":1681914878,"post_id":76039373,"comment_id":134134380,"body_markdown":"@JohnWilliams The response body for the 200 with an existing email is actually just the html of my default login page. I edited the post to add the console logs.","body":"@JohnWilliams The response body for the 200 with an existing email is actually just the html of my default login page. I edited the post to add the console logs."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1681924909,"post_id":76039373,"comment_id":134136797,"body_markdown":"Serving the login page if the the registration call fails is behaviour you have requested in the filterChain. After all the user is not yet authenticated. Using a 4xx error rather than a 5xx error as suggested in the accepted answer may also fix it. If not, try adding “/error” as an antMatchers/permitAll.","body":"Serving the login page if the the registration call fails is behaviour you have requested in the filterChain. After all the user is not yet authenticated. Using a 4xx error rather than a 5xx error as suggested in the accepted answer may also fix it. If not, try adding “/error” as an antMatchers/permitAll."},{"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"score":0,"creation_date":1681926049,"post_id":76039373,"comment_id":134137046,"body_markdown":"@JohnWilliams Thank you, I think 442 is the most appropriate response. Secondly, adding &quot;/error&quot; as a requestMatcher/permitAll (my version of Spring Boot in this case), fixes it just fine as well which makes sense.","body":"@JohnWilliams Thank you, I think 442 is the most appropriate response. Secondly, adding &quot;/error&quot; as a requestMatcher/permitAll (my version of Spring Boot in this case), fixes it just fine as well which makes sense."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1681926528,"post_id":76039373,"comment_id":134137160,"body_markdown":"I think taking the auth requirement off the error page is the correct solution here, not a bunch of 4xx exceptions. Depends if you are serving a browser (error page is better) or an api client (http-4xx is better)","body":"I think taking the auth requirement off the error page is the correct solution here, not a bunch of 4xx exceptions. Depends if you are serving a browser (error page is better) or an api client (http-4xx is better)"},{"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"score":0,"creation_date":1681927493,"post_id":76039373,"comment_id":134137388,"body_markdown":"Definitely the way to go, especially since big tech responds with `200 OK` most of the time and then responds accordingly. I am serving a browser so this is definitely the way to go.","body":"Definitely the way to go, especially since big tech responds with <code>200 OK</code> most of the time and then responds accordingly. I am serving a browser so this is definitely the way to go."}],"answers":[{"comments":[{"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"score":0,"creation_date":1681919281,"post_id":76056431,"comment_id":134135619,"body_markdown":"Great insight and help in finding solution! This actually makes complete sense! I do not know why I was under the assumption that Spring has handling for Java exceptions! I will go the second route which you mentioned as I think this would be the easiest to configure, and would be nice to have custom Exceptions! Thank you for the answer, I am new to Spring, so learning about these nuances are helpful.","body":"Great insight and help in finding solution! This actually makes complete sense! I do not know why I was under the assumption that Spring has handling for Java exceptions! I will go the second route which you mentioned as I think this would be the easiest to configure, and would be nice to have custom Exceptions! Thank you for the answer, I am new to Spring, so learning about these nuances are helpful."},{"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"score":0,"creation_date":1681921160,"post_id":76056431,"comment_id":134136040,"body_markdown":"Spring is a wonderful framework, and there are often several ways to accomplish a task.  [Baeldung](https://www.baeldung.com/exception-handling-for-rest-with-spring) often has good articles and tutorials.  BTW, I used HTTP error code 500 in my example code, since that&#39;s what you asked about, but I think HTTP 400 Bad Request would be more appropriate for the conditions you are checking (`HttpStatus.BAD_REQUEST`).  I think I&#39;ll edit my answer accordingly.","body":"Spring is a wonderful framework, and there are often several ways to accomplish a task.  <a href=\"https://www.baeldung.com/exception-handling-for-rest-with-spring\" rel=\"nofollow noreferrer\">Baeldung</a> often has good articles and tutorials.  BTW, I used HTTP error code 500 in my example code, since that&#39;s what you asked about, but I think HTTP 400 Bad Request would be more appropriate for the conditions you are checking (<code>HttpStatus.BAD_REQUEST</code>).  I think I&#39;ll edit my answer accordingly."},{"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"score":0,"creation_date":1681925661,"post_id":76056431,"comment_id":134136954,"body_markdown":"I agree, after viewing different Http codes, I think 442 is the most appropriate for the situation. I will also check out Baeldung as well, thank you.","body":"I agree, after viewing different Http codes, I think 442 is the most appropriate for the situation. I will also check out Baeldung as well, thank you."}],"tags":[],"owner":{"account_id":12797889,"reputation":1500,"user_id":9260161,"display_name":"Philip Wrage"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681921504,"creation_date":1681918883,"answer_id":76056431,"question_id":76039373,"body_markdown":"Not to be too pedantic about things, but if you are going to use built-in Java exceptions, you may want to consider using the [`IllegalArgumentException`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html) over the [`IllegalStateException`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html) to more closely match the condition your code encounters.  I will do this in my example code.\r\n\r\nI think the problem you&#39;ve encountered is that Spring does not have exception handling configured to catch the `IllegalStateException` and return an HTTP response with an HTTP status code indicating an error.  However, you can implement this yourself.  The easiest way to do this given your example is to catch the exception(s) your service code is throwing within your controller, and then throw a new [`ResponseStatusException`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html) that declares the HTTP status code you want returned:\r\n\r\n```java\r\n@PostMapping\r\npublic String register(@RequestBody RegistrationRequest request) {\r\n    try {\r\n        return registrationService.register(request);\r\n    } catch (IllegalArgumentException|IllegalStateException e) {\r\n        throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Registration request cannot be completed.&quot;, e)\r\n    }\r\n}\r\n```\r\n\r\nYou could also take advantage of the [`ResponseStatusExceptionResolver`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/annotation/ResponseStatusExceptionResolver.html) to handle resolving exception types into the appropriate HTTP response status. \r\n To do so, simply create custom exceptions within your code base and annotate them with [`ResponseStatus`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html) to declare that you want a particular HTTP status code returned when these exceptions are caught by the Spring framework.  For example,\r\n\r\n```java\r\n@ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\npublic class DuplicateEmailRegistrationException extends RuntimeException {\r\n    public DuplicateEmailRegistrationException() {\r\n        super();\r\n    }\r\n    public DuplicateEmailRegistrationException(String message, Throwable cause) {\r\n        super(message, cause);\r\n    }\r\n    public DuplicateEmailRegistrationException(String message) {\r\n        super(message);\r\n    }\r\n    public DuplicateEmailRegistrationException(Throwable cause) {\r\n        super(cause);\r\n    }\r\n}\r\n\r\n\r\n@ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\npublic class InvalidEmailRegistrationException extends RuntimeException {\r\n    public InvalidEmailRegistrationException() {\r\n        super();\r\n    }\r\n    public InvalidEmailRegistrationException(String message, Throwable cause) {\r\n        super(message, cause);\r\n    }\r\n    public InvalidEmailRegistrationException(String message) {\r\n        super(message);\r\n    }\r\n    public InvalidEmailRegistrationException(Throwable cause) {\r\n        super(cause);\r\n    }\r\n}\r\n```\r\n\r\nThen, instead of throwing `IllegalStateException` or `IllegalArgumentException` within your service classes, you would throw the custom exceptions you created that are specific to the problem encountered.\r\n\r\n```java\r\npublic String signUpUser(AppUser appUser) {\r\n    boolean userExists = appUserRepository.findByEmail(appUser.getEmail()).isPresent();\r\n\r\n    if (userExists) {\r\n        throw new DuplicateEmailRegistrationException(&quot;Email already taken.&quot;);\r\n    }\r\n    // ...\r\n}   \r\n```\r\n\r\nIf you go this second route, you no longer need to catch and re-throw the `ResponseStatusException` within your controller.\r\n\r\nI hope one of these options helps you resolve your issue!\r\n\r\nEdit: Updated `HttpStatus.INTERNAL_SERVER_ERROR` to `HttpStatus.BAD_REQUEST` to be more in line with error states being checked in OPs post.","title":"Spring Security returns 200 OK instead of desired 4xx Internal Server Error in browser client when throwing Exception","body":"<p>Not to be too pedantic about things, but if you are going to use built-in Java exceptions, you may want to consider using the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalArgumentException.html\" rel=\"nofollow noreferrer\"><code>IllegalArgumentException</code></a> over the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/IllegalStateException.html\" rel=\"nofollow noreferrer\"><code>IllegalStateException</code></a> to more closely match the condition your code encounters.  I will do this in my example code.</p>\n<p>I think the problem you've encountered is that Spring does not have exception handling configured to catch the <code>IllegalStateException</code> and return an HTTP response with an HTTP status code indicating an error.  However, you can implement this yourself.  The easiest way to do this given your example is to catch the exception(s) your service code is throwing within your controller, and then throw a new <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/ResponseStatusException.html\" rel=\"nofollow noreferrer\"><code>ResponseStatusException</code></a> that declares the HTTP status code you want returned:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping\npublic String register(@RequestBody RegistrationRequest request) {\n    try {\n        return registrationService.register(request);\n    } catch (IllegalArgumentException|IllegalStateException e) {\n        throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Registration request cannot be completed.&quot;, e)\n    }\n}\n</code></pre>\n<p>You could also take advantage of the <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/annotation/ResponseStatusExceptionResolver.html\" rel=\"nofollow noreferrer\"><code>ResponseStatusExceptionResolver</code></a> to handle resolving exception types into the appropriate HTTP response status.\nTo do so, simply create custom exceptions within your code base and annotate them with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/bind/annotation/ResponseStatus.html\" rel=\"nofollow noreferrer\"><code>ResponseStatus</code></a> to declare that you want a particular HTTP status code returned when these exceptions are caught by the Spring framework.  For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ResponseStatus(value = HttpStatus.BAD_REQUEST)\npublic class DuplicateEmailRegistrationException extends RuntimeException {\n    public DuplicateEmailRegistrationException() {\n        super();\n    }\n    public DuplicateEmailRegistrationException(String message, Throwable cause) {\n        super(message, cause);\n    }\n    public DuplicateEmailRegistrationException(String message) {\n        super(message);\n    }\n    public DuplicateEmailRegistrationException(Throwable cause) {\n        super(cause);\n    }\n}\n\n\n@ResponseStatus(value = HttpStatus.BAD_REQUEST)\npublic class InvalidEmailRegistrationException extends RuntimeException {\n    public InvalidEmailRegistrationException() {\n        super();\n    }\n    public InvalidEmailRegistrationException(String message, Throwable cause) {\n        super(message, cause);\n    }\n    public InvalidEmailRegistrationException(String message) {\n        super(message);\n    }\n    public InvalidEmailRegistrationException(Throwable cause) {\n        super(cause);\n    }\n}\n</code></pre>\n<p>Then, instead of throwing <code>IllegalStateException</code> or <code>IllegalArgumentException</code> within your service classes, you would throw the custom exceptions you created that are specific to the problem encountered.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public String signUpUser(AppUser appUser) {\n    boolean userExists = appUserRepository.findByEmail(appUser.getEmail()).isPresent();\n\n    if (userExists) {\n        throw new DuplicateEmailRegistrationException(&quot;Email already taken.&quot;);\n    }\n    // ...\n}   \n</code></pre>\n<p>If you go this second route, you no longer need to catch and re-throw the <code>ResponseStatusException</code> within your controller.</p>\n<p>I hope one of these options helps you resolve your issue!</p>\n<p>Edit: Updated <code>HttpStatus.INTERNAL_SERVER_ERROR</code> to <code>HttpStatus.BAD_REQUEST</code> to be more in line with error states being checked in OPs post.</p>\n"},{"comments":[{"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"score":0,"creation_date":1681950363,"post_id":76058148,"comment_id":134140906,"body_markdown":"This worked perfectly! I did not realize that &quot;/error&quot; was necessary! This fixed it perfectly!","body":"This worked perfectly! I did not realize that &quot;/error&quot; was necessary! This fixed it perfectly!"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682018821,"creation_date":1681932226,"answer_id":76058148,"question_id":76039373,"body_markdown":"Returning a login page when the user registration fails is actually being caused by your `SecurityFilterChain`:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    http\r\n        .csrf().disable()\r\n        .authorizeHttpRequests()\r\n            .requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n        .formLogin();\r\n\r\nThe sequence of events is that when the registration fails and exception thrown Spring attempts to take you to the `/error` page. However, `/error` is not `permitAll` so calling it needs an authenticated user so Spring redirects the client to the login page.\r\n\r\nTo fix this add `/error` as an `antMatchers/permitAll` to the security filter chain.\r\n\r\nAlso, this sort of error is not a server error (5xx) it’s a client error (an email address being submitted by the client is invalid because it has been used before), so use a 4xx error as suggested in @Phillip’s answer. To do this rather throw a \r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;User with address already exists&quot;)\r\n\r\n","title":"Spring Security returns 200 OK instead of desired 4xx Internal Server Error in browser client when throwing Exception","body":"<p>Returning a login page when the user registration fails is actually being caused by your <code>SecurityFilterChain</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>http\n    .csrf().disable()\n    .authorizeHttpRequests()\n        .requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\n        .anyRequest().authenticated()\n        .and()\n    .formLogin();\n</code></pre>\n<p>The sequence of events is that when the registration fails and exception thrown Spring attempts to take you to the <code>/error</code> page. However, <code>/error</code> is not <code>permitAll</code> so calling it needs an authenticated user so Spring redirects the client to the login page.</p>\n<p>To fix this add <code>/error</code> as an <code>antMatchers/permitAll</code> to the security filter chain.</p>\n<p>Also, this sort of error is not a server error (5xx) it’s a client error (an email address being submitted by the client is invalid because it has been used before), so use a 4xx error as suggested in @Phillip’s answer. To do this rather throw a</p>\n<pre class=\"lang-java prettyprint-override\"><code>ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;User with address already exists&quot;)\n</code></pre>\n"}],"owner":{"account_id":24550126,"reputation":82,"user_id":18459374,"display_name":"akaBryan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":559,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76058148,"answer_count":2,"score":0,"last_activity_date":1682018821,"creation_date":1681766518,"question_id":76039373,"body_markdown":"I am working on a backend login and user registration app that serves a web application. I am using ```spring-security-web-6.0.2```, and when I use postman, my POST requests go through correctly as I expect. However, when I throw an IllegalStateException for trying to register a user which already exists, I expect for Spring to respond with a 500 Internal Server Error, however I am still given a 200 OK.  The following is the associated class which I am referring to and security configuration class: I cannot understand why I am still receiving a 200.\r\n\r\nApplication Class:\r\n```\r\npackage com.akabryan.springproject.appuser;\r\n\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class AppUserService implements UserDetailsService {\r\n\r\n\tprivate final static String USER_NOT_FOUND_MSG = &quot;User with email %s not found&quot;;\r\n\r\n\tprivate final AppUserRepository appUserRepository;\r\n\tprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\r\n\r\n\t\treturn appUserRepository.findByEmail(email)\r\n\t\t\t\t.orElseThrow(() -&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND_MSG, email)));\r\n\t}\r\n\r\n\tpublic String signUpUser(AppUser appUser) {\r\n\t\tboolean userExists = appUserRepository.findByEmail(appUser.getEmail()).isPresent();\r\n\r\n\t\tif (userExists) {\r\n\t\t\tthrow new IllegalStateException(&quot;Email already taken.&quot;);\r\n\t\t}\r\n\r\n\t\tString encodedPassword = bCryptPasswordEncoder.encode(appUser.getPassword());\r\n\r\n\t\tappUser.setPassword(encodedPassword);\r\n\t\t\r\n\t\tappUserRepository.save(appUser);\r\n\t\t\r\n\t\t//TODO: Send confirmation token\r\n\t\t\r\n\t\t\r\n\t\treturn &quot;Successfully registered&quot;;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe following is the web security configuration:\r\n```\r\npackage com.akabryan.springproject.security.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\nimport com.akabryan.springproject.appuser.AppUserService;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n\tprivate final AppUserService appUserService;\r\n\tprivate final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n\t@Bean\r\n\tpublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.csrf().disable().authorizeHttpRequests().requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\r\n\t\t\t\t.anyRequest().authenticated().and().formLogin();\r\n\r\n\t\treturn http.build();\r\n\t}\r\n\r\n\tprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\tauth.authenticationProvider(daoAuthenticationProvider());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic DaoAuthenticationProvider daoAuthenticationProvider() {\r\n\t\tDaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n\r\n\t\tprovider.setPasswordEncoder(bCryptPasswordEncoder);\r\n\t\tprovider.setUserDetailsService(appUserService);\r\n\r\n\t\treturn provider;\r\n\t}\r\n\r\n}\r\n```\r\nEdit: Here is my @RestController Class.\r\n\r\n```\r\npackage com.akabryan.springproject.registration;\r\n\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;api/v1/registration&quot;)\r\n@AllArgsConstructor\r\npublic class RegistrationController {\r\n\r\n\tprivate RegistrationService registrationService;\r\n\r\n\t@PostMapping\r\n\tpublic String register(@RequestBody RegistrationRequest request) {\r\n\t\treturn registrationService.register(request);\r\n\t}\r\n}\r\n```\r\n\r\nHere is what my console logs. Note the first successful registration attempt, and the IllegalStateException that is thrown. Which should induce a 500 Error:\r\n```\r\nThis is starting the signup user process.\r\nHibernate: select nextval(&#39;student_sequence&#39;)\r\nHibernate: insert into app_user (app_user_role, email, enabled, first_name, last_name, locked, password, id) values (?, ?, ?, ?, ?, ?, ?, ?)\r\nUser was successfully added to the repo.\r\nHibernate: select a1_0.id,a1_0.app_user_role,a1_0.email,a1_0.enabled,a1_0.first_name,a1_0.last_name,a1_0.locked,a1_0.password from app_user a1_0 where a1_0.email=?\r\nThis is starting the signup user process.\r\nAn IllegalStateException should be thrown after this.\r\n2023-04-19T10:35:47.789-04:00 ERROR 23184 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Email already taken.] with root cause\r\n\r\njava.lang.IllegalStateException: Email already taken.\r\n\tat com.akabryan.springproject.appuser.AppUserService.signUpUser(AppUserService.java:34) ~[classes/:na]\r\n\tat com.akabryan.springproject.registration.RegistrationService.register(RegistrationService.java:26) ~[classes/:na]\r\n\tat com.akabryan.springproject.registration.RegistrationController.register(RegistrationController.java:19) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:563) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n```\r\n\r\nEdit 2: The following is the `RegistrationService` class. These seem fine to me but I can&#39;t really pinpoint and root cause of my issue from these classes.\r\n\r\n```\r\npackage com.akabryan.springproject.registration;\r\n\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.akabryan.springproject.appuser.AppUser;\r\nimport com.akabryan.springproject.appuser.AppUserRole;\r\nimport com.akabryan.springproject.appuser.AppUserService;\r\n\r\nimport lombok.AllArgsConstructor;\r\n\r\n@Service\r\n@AllArgsConstructor\r\npublic class RegistrationService {\r\n\r\n\tprivate final AppUserService appUserService;\r\n\tprivate EmailValidator emailValidator;\r\n\r\n\tpublic String register(RegistrationRequest request) {\r\n\r\n\t\tboolean isValidEmail = emailValidator.test(request.getEmail());\r\n\r\n\t\tif (!isValidEmail) {\r\n\t\t\tthrow new IllegalStateException(&quot;Email is not valid&quot;);\r\n\t\t}\r\n\r\n\t\treturn appUserService.signUpUser(new AppUser(request.getFirstName(), request.getLastName(), request.getEmail(),\r\n\t\t\t\trequest.getPassword(), AppUserRole.USER));\r\n\t}\r\n\r\n}\r\n```","title":"Spring Security returns 200 OK instead of desired 4xx Internal Server Error in browser client when throwing Exception","body":"<p>I am working on a backend login and user registration app that serves a web application. I am using <code>spring-security-web-6.0.2</code>, and when I use postman, my POST requests go through correctly as I expect. However, when I throw an IllegalStateException for trying to register a user which already exists, I expect for Spring to respond with a 500 Internal Server Error, however I am still given a 200 OK.  The following is the associated class which I am referring to and security configuration class: I cannot understand why I am still receiving a 200.</p>\n<p>Application Class:</p>\n<pre><code>package com.akabryan.springproject.appuser;\n\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport lombok.AllArgsConstructor;\n\n@Service\n@AllArgsConstructor\npublic class AppUserService implements UserDetailsService {\n\n    private final static String USER_NOT_FOUND_MSG = &quot;User with email %s not found&quot;;\n\n    private final AppUserRepository appUserRepository;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Override\n    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {\n\n        return appUserRepository.findByEmail(email)\n                .orElseThrow(() -&gt; new UsernameNotFoundException(String.format(USER_NOT_FOUND_MSG, email)));\n    }\n\n    public String signUpUser(AppUser appUser) {\n        boolean userExists = appUserRepository.findByEmail(appUser.getEmail()).isPresent();\n\n        if (userExists) {\n            throw new IllegalStateException(&quot;Email already taken.&quot;);\n        }\n\n        String encodedPassword = bCryptPasswordEncoder.encode(appUser.getPassword());\n\n        appUser.setPassword(encodedPassword);\n        \n        appUserRepository.save(appUser);\n        \n        //TODO: Send confirmation token\n        \n        \n        return &quot;Successfully registered&quot;;\n    }\n}\n\n</code></pre>\n<p>The following is the web security configuration:</p>\n<pre><code>package com.akabryan.springproject.security.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\nimport com.akabryan.springproject.appuser.AppUserService;\n\nimport lombok.AllArgsConstructor;\n\n@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private final AppUserService appUserService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf().disable().authorizeHttpRequests().requestMatchers(&quot;/api/v*/registration/**&quot;).permitAll()\n                .anyRequest().authenticated().and().formLogin();\n\n        return http.build();\n    }\n\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(daoAuthenticationProvider());\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(appUserService);\n\n        return provider;\n    }\n\n}\n</code></pre>\n<p>Edit: Here is my @RestController Class.</p>\n<pre><code>package com.akabryan.springproject.registration;\n\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport lombok.AllArgsConstructor;\n\n@RestController\n@RequestMapping(path = &quot;api/v1/registration&quot;)\n@AllArgsConstructor\npublic class RegistrationController {\n\n    private RegistrationService registrationService;\n\n    @PostMapping\n    public String register(@RequestBody RegistrationRequest request) {\n        return registrationService.register(request);\n    }\n}\n</code></pre>\n<p>Here is what my console logs. Note the first successful registration attempt, and the IllegalStateException that is thrown. Which should induce a 500 Error:</p>\n<pre><code>This is starting the signup user process.\nHibernate: select nextval('student_sequence')\nHibernate: insert into app_user (app_user_role, email, enabled, first_name, last_name, locked, password, id) values (?, ?, ?, ?, ?, ?, ?, ?)\nUser was successfully added to the repo.\nHibernate: select a1_0.id,a1_0.app_user_role,a1_0.email,a1_0.enabled,a1_0.first_name,a1_0.last_name,a1_0.locked,a1_0.password from app_user a1_0 where a1_0.email=?\nThis is starting the signup user process.\nAn IllegalStateException should be thrown after this.\n2023-04-19T10:35:47.789-04:00 ERROR 23184 --- [nio-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.IllegalStateException: Email already taken.] with root cause\n\njava.lang.IllegalStateException: Email already taken.\n    at com.akabryan.springproject.appuser.AppUserService.signUpUser(AppUserService.java:34) ~[classes/:na]\n    at com.akabryan.springproject.registration.RegistrationService.register(RegistrationService.java:26) ~[classes/:na]\n    at com.akabryan.springproject.registration.RegistrationController.register(RegistrationController.java:19) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:118) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1081) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:914) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:563) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.7.jar:6.0.7]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:631) ~[tomcat-embed-core-10.1.7.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter.doFilterInternal(DefaultLogoutPageGeneratingFilter.java:58) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:188) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:174) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.2.jar:6.0.2]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.7.jar:6.0.7]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:166) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:493) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.7.jar:10.1.7]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n</code></pre>\n<p>Edit 2: The following is the <code>RegistrationService</code> class. These seem fine to me but I can't really pinpoint and root cause of my issue from these classes.</p>\n<pre><code>package com.akabryan.springproject.registration;\n\nimport org.springframework.stereotype.Service;\n\nimport com.akabryan.springproject.appuser.AppUser;\nimport com.akabryan.springproject.appuser.AppUserRole;\nimport com.akabryan.springproject.appuser.AppUserService;\n\nimport lombok.AllArgsConstructor;\n\n@Service\n@AllArgsConstructor\npublic class RegistrationService {\n\n    private final AppUserService appUserService;\n    private EmailValidator emailValidator;\n\n    public String register(RegistrationRequest request) {\n\n        boolean isValidEmail = emailValidator.test(request.getEmail());\n\n        if (!isValidEmail) {\n            throw new IllegalStateException(&quot;Email is not valid&quot;);\n        }\n\n        return appUserService.signUpUser(new AppUser(request.getFirstName(), request.getLastName(), request.getEmail(),\n                request.getPassword(), AppUserRole.USER));\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","inline"],"comments":[{"owner":{"account_id":49385,"reputation":93769,"user_id":147024,"display_name":"yole"},"score":3,"creation_date":1541068095,"post_id":53098190,"comment_id":93094344,"body_markdown":"Inline classes always generate method names containing - characters; they&#39;re replaced with _ by the decompiler you&#39;re using. It looks like Google Cloud performs stricter validation of method names than the regular JDK, so it doesn&#39;t accept those method names. We (the Kotlin team) will investigate the issue.","body":"Inline classes always generate method names containing - characters; they&#39;re replaced with _ by the decompiler you&#39;re using. It looks like Google Cloud performs stricter validation of method names than the regular JDK, so it doesn&#39;t accept those method names. We (the Kotlin team) will investigate the issue."},{"owner":{"account_id":4310172,"reputation":332,"user_id":3521477,"display_name":"saturnism"},"score":0,"creation_date":1541079423,"post_id":53098190,"comment_id":93100325,"body_markdown":"Also, are you referring to deploying to App Engine? (Standard or Flex?)","body":"Also, are you referring to deploying to App Engine? (Standard or Flex?)"},{"owner":{"account_id":14626070,"reputation":81,"user_id":10566543,"display_name":"Geert Olaerts"},"score":0,"creation_date":1541158727,"post_id":53098190,"comment_id":93130033,"body_markdown":"Yes it is during the startup of the app in google app engine flexible.","body":"Yes it is during the startup of the app in google app engine flexible."},{"owner":{"account_id":4310172,"reputation":332,"user_id":3521477,"display_name":"saturnism"},"score":0,"creation_date":1541160822,"post_id":53098190,"comment_id":93131020,"body_markdown":"Can you share the full stacktrace? I&#39;d like to see how this was triggered, I may have some idea.","body":"Can you share the full stacktrace? I&#39;d like to see how this was triggered, I may have some idea."},{"owner":{"account_id":4310172,"reputation":332,"user_id":3521477,"display_name":"saturnism"},"score":0,"creation_date":1541437256,"post_id":53098190,"comment_id":93208313,"body_markdown":"thnx for the stacktrace! just to confirm, this error was not occurring during the deployment time, but at startup time.","body":"thnx for the stacktrace! just to confirm, this error was not occurring during the deployment time, but at startup time."},{"owner":{"account_id":4310172,"reputation":332,"user_id":3521477,"display_name":"saturnism"},"score":0,"creation_date":1541446770,"post_id":53098190,"comment_id":93212508,"body_markdown":"In fact, if you can share a snippet of the service code (i&#39;m assuming just an interface), would be awesome!","body":"In fact, if you can share a snippet of the service code (i&#39;m assuming just an interface), would be awesome!"}],"answers":[{"tags":[],"owner":{"account_id":1593100,"reputation":139,"user_id":1475992,"display_name":"ilia_b"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1682017914,"creation_date":1541076131,"answer_id":53101497,"question_id":53098190,"body_markdown":"This happens due to name mangling done by Kotlin compiler. Functions accepting inline classes are not callable from Java. ([Official documentation][1])\r\n\r\n  [1]: https://kotlinlang.org/docs/reference/inline-classes.html#mangling\r\n\r\n\r\n\r\n","title":"Inline classes generate strange names on OpenJDK","body":"<p>This happens due to name mangling done by Kotlin compiler. Functions accepting inline classes are not callable from Java. (<a href=\"https://kotlinlang.org/docs/reference/inline-classes.html#mangling\" rel=\"nofollow noreferrer\">Official documentation</a>)</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1682018480,"post_id":53170616,"comment_id":134153995,"body_markdown":"The link is (effectively) broken: *&quot;Access Denied&quot;*","body":"The link is (effectively) broken: <i>&quot;Access Denied&quot;</i>"}],"tags":[],"owner":{"account_id":2892,"reputation":4918,"user_id":4100,"display_name":"Paul de Vrieze"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1682018462,"creation_date":1541502327,"answer_id":53170616,"question_id":53098190,"body_markdown":"The key points are in the bottom of the stack trace:\r\n\r\n```lang-none\r\norg.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:  ... 43 common frames omitted\r\n[INFO] GCLOUD: Caused by: java.lang.ClassFormatError: Illegal method name &quot;createConfiguration-tQynZQ0&quot; in class com/hexigames/configurationservice/domain/game/GameConfigurationService$$EnhancerBySpringCGLIB$$76757398\r\n[INFO] GCLOUD:  at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:  at java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[na:1.8.0_181]\r\n```\r\n\r\nIn other words, Spring uses a custom class loader to generate a class on demand. This class uses the method name with a - in it. The `defineClass1` method in the class loader chokes on it. As classloaders are used for loading any class, my only assumption is that somehow Google Cloud uses an adjusted class loader. As classloaders are highly security sensitive, this makes sense, but obviously your Kotlin code is not security sensitive.\r\n\r\nAccording to the JVM specification the `-` character is not an illegal character in a method name at JVM level: https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.2. As such, this appears to be a bug in the Google Cloud platform. Btw., the character is illegal in Java, but the JVM is much more lenient.\r\n\r\n\r\n\r\n","title":"Inline classes generate strange names on OpenJDK","body":"<p>The key points are in the bottom of the stack trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:  ... 43 common frames omitted\n[INFO] GCLOUD: Caused by: java.lang.ClassFormatError: Illegal method name &quot;createConfiguration-tQynZQ0&quot; in class com/hexigames/configurationservice/domain/game/GameConfigurationService$$EnhancerBySpringCGLIB$$76757398\n[INFO] GCLOUD:  at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_181]\n[INFO] GCLOUD:  at java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[na:1.8.0_181]\n</code></pre>\n<p>In other words, Spring uses a custom class loader to generate a class on demand. This class uses the method name with a - in it. The <code>defineClass1</code> method in the class loader chokes on it. As classloaders are used for loading any class, my only assumption is that somehow Google Cloud uses an adjusted class loader. As classloaders are highly security sensitive, this makes sense, but obviously your Kotlin code is not security sensitive.</p>\n<p>According to the JVM specification the <code>-</code> character is not an illegal character in a method name at JVM level: <a href=\"https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.2\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/specs/jvms/se8/html/jvms-4.html#jvms-4.2.2</a>. As such, this appears to be a bug in the Google Cloud platform. Btw., the character is illegal in Java, but the JVM is much more lenient.</p>\n"}],"owner":{"account_id":14626070,"reputation":81,"user_id":10566543,"display_name":"Geert Olaerts"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1682018462,"creation_date":1541063579,"question_id":53098190,"body_markdown":"I am building a [Spring Boot][1] application with Kotlin and wanted to use inline classes. I made a Spring data repository that had a method as follows:\r\n\r\n```\r\nfun getBy(name: GameName)\r\n```\r\n\r\nwhere GameName is an inline class\r\n\r\n```\r\ninline class GameName(val value: String)\r\n```\r\n\r\nAnd everything works locally, where I am running JDK 1.8.0_181-b13. But when I deploy it to [Google Cloud][2], the Spring Boot app doesn&#39;t start up. Google Cloud seems to be running OpenJDK 1.8.0_181.\r\n\r\nWhen I decompile the code locally, it looks like this:\r\n\r\n```\r\npublic GameConfigurationEntity getBy_00UsoVY/* $FF was: getBy-00UsoVY*/(@NotNull String gameName, @NotNull UUID id) { ... }\r\n```\r\n\r\nBut on Google Cloud Platform, I get the following error:\r\n\r\n&gt; Caused by: java.lang.ClassFormatError: Illegal method name &quot;getByName-MZoZWhM&quot;\r\n\r\nSo it seems locally it uses `_`, while on Google Cloud it uses `-` and `-` is not a valid character in a method name.\r\n\r\nHow can I fix this?\r\n\r\nFull stack trace:\r\n\r\n```lang-none\r\n[INFO] GCLOUD: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;gameConfigurationService&#39; defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/hexigames/configurationservice/domain/game/GameConfigurationService.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class com.hexigames.configurationservice.domain.game.GameConfigurationService: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:548) ~[spring-context-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\r\n[INFO] GCLOUD:     at com.hexigames.configurationservice.ConfigurationServiceApplicationKt.main(ConfigurationServiceApplication.kt:12) [classes!/:0.0.1-SNAPSHOT]\r\n[INFO] GCLOUD:     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [app.jar:0.0.1-SNAPSHOT]\r\n[INFO] GCLOUD:     at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [app.jar:0.0.1-SNAPSHOT]\r\n[INFO] GCLOUD:     at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [app.jar:0.0.1-SNAPSHOT]\r\n[INFO] GCLOUD:     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [app.jar:0.0.1-SNAPSHOT]\r\n[INFO] GCLOUD: Caused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class com.hexigames.configurationservice.domain.game.GameConfigurationService: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:208) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:473) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:355) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:304) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:431) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     ... 23 common frames omitted\r\n[INFO] GCLOUD: Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:345) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:492) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:480) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:337) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:58) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:205) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     ... 30 common frames omitted\r\n[INFO] GCLOUD: Caused by: java.lang.reflect.InvocationTargetException: null\r\n[INFO] GCLOUD:     at sun.reflect.GeneratedMethodAccessor41.invoke(Unknown Source) ~[na:na]\r\n[INFO] GCLOUD:     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:459) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\r\n[INFO] GCLOUD:     ... 43 common frames omitted\r\n[INFO] GCLOUD: Caused by: java.lang.ClassFormatError: Illegal method name &quot;createConfiguration-tQynZQ0&quot; in class com/hexigames/configurationservice/domain/game/GameConfigurationService$$EnhancerBySpringCGLIB$$76757398\r\n[INFO] GCLOUD:     at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     at java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[na:1.8.0_181]\r\n[INFO] GCLOUD:     ... 48 common frames omitted\r\n[INFO] GCLOUD:\r\n[INFO] GCLOUD: I1101 09:02:28.364653    25 jvmti_agent.cc:225] Java VM termination\r\n[INFO] GCLOUD: I1101 09:02:28.377487    36 jvmti_agent_thread.cc:103] Agent thread exited: CloudDebugger_main_worker_thread\r\n[INFO] GCLOUD: I1101 09:02:28.398113    25 worker.cc:116] Debugger threads terminated\r\n[INFO] GCLOUD: I1101 09:02:28.405902    25 jvmti_agent.cc:239] JvmtiAgent::JvmtiOnVMDeath cleanup time: 44024 microseconds\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n  [2]: https://en.wikipedia.org/wiki/Google_Cloud_Platform\r\n\r\n\r\n\r\n\r\n","title":"Inline classes generate strange names on OpenJDK","body":"<p>I am building a <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a> application with Kotlin and wanted to use inline classes. I made a Spring data repository that had a method as follows:</p>\n<pre><code>fun getBy(name: GameName)\n</code></pre>\n<p>where GameName is an inline class</p>\n<pre><code>inline class GameName(val value: String)\n</code></pre>\n<p>And everything works locally, where I am running JDK 1.8.0_181-b13. But when I deploy it to <a href=\"https://en.wikipedia.org/wiki/Google_Cloud_Platform\" rel=\"nofollow noreferrer\">Google Cloud</a>, the Spring Boot app doesn't start up. Google Cloud seems to be running OpenJDK 1.8.0_181.</p>\n<p>When I decompile the code locally, it looks like this:</p>\n<pre><code>public GameConfigurationEntity getBy_00UsoVY/* $FF was: getBy-00UsoVY*/(@NotNull String gameName, @NotNull UUID id) { ... }\n</code></pre>\n<p>But on Google Cloud Platform, I get the following error:</p>\n<blockquote>\n<p>Caused by: java.lang.ClassFormatError: Illegal method name &quot;getByName-MZoZWhM&quot;</p>\n</blockquote>\n<p>So it seems locally it uses <code>_</code>, while on Google Cloud it uses <code>-</code> and <code>-</code> is not a valid character in a method name.</p>\n<p>How can I fix this?</p>\n<p>Full stack trace:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[INFO] GCLOUD: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'gameConfigurationService' defined in URL [jar:file:/app.jar!/BOOT-INF/classes!/com/hexigames/configurationservice/domain/game/GameConfigurationService.class]: Initialization of bean failed; nested exception is org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class com.hexigames.configurationservice.domain.game.GameConfigurationService: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:581) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:495) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:759) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867) ~[spring-context-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:548) ~[spring-context-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:140) ~[spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:386) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1242) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at org.springframework.boot.SpringApplication.run(SpringApplication.java:1230) [spring-boot-2.0.6.RELEASE.jar!/:2.0.6.RELEASE]\n[INFO] GCLOUD:     at com.hexigames.configurationservice.ConfigurationServiceApplicationKt.main(ConfigurationServiceApplication.kt:12) [classes!/:0.0.1-SNAPSHOT]\n[INFO] GCLOUD:     at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:48) [app.jar:0.0.1-SNAPSHOT]\n[INFO] GCLOUD:     at org.springframework.boot.loader.Launcher.launch(Launcher.java:87) [app.jar:0.0.1-SNAPSHOT]\n[INFO] GCLOUD:     at org.springframework.boot.loader.Launcher.launch(Launcher.java:50) [app.jar:0.0.1-SNAPSHOT]\n[INFO] GCLOUD:     at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:51) [app.jar:0.0.1-SNAPSHOT]\n[INFO] GCLOUD: Caused by: org.springframework.aop.framework.AopConfigException: Could not generate CGLIB subclass of class com.hexigames.configurationservice.domain.game.GameConfigurationService: Common causes of this problem include using a final class or a non-visible class; nested exception is org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\n[INFO] GCLOUD:     at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:208) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.ProxyFactory.getProxy(ProxyFactory.java:110) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.createProxy(AbstractAutoProxyCreator.java:473) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.wrapIfNecessary(AbstractAutoProxyCreator.java:355) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.autoproxy.AbstractAutoProxyCreator.postProcessAfterInitialization(AbstractAutoProxyCreator.java:304) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:431) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1698) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:573) ~[spring-beans-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     ... 23 common frames omitted\n[INFO] GCLOUD: Caused by: org.springframework.cglib.core.CodeGenerationException: java.lang.reflect.InvocationTargetException--&gt;null\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:345) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:492) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:93) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:91) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:116) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:291) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:480) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:337) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:58) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:205) ~[spring-aop-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     ... 30 common frames omitted\n[INFO] GCLOUD: Caused by: java.lang.reflect.InvocationTargetException: null\n[INFO] GCLOUD:     at sun.reflect.GeneratedMethodAccessor41.invoke(Unknown Source) ~[na:na]\n[INFO] GCLOUD:     at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:459) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:336) ~[spring-core-5.0.10.RELEASE.jar!/:5.0.10.RELEASE]\n[INFO] GCLOUD:     ... 43 common frames omitted\n[INFO] GCLOUD: Caused by: java.lang.ClassFormatError: Illegal method name &quot;createConfiguration-tQynZQ0&quot; in class com/hexigames/configurationservice/domain/game/GameConfigurationService$$EnhancerBySpringCGLIB$$76757398\n[INFO] GCLOUD:     at java.lang.ClassLoader.defineClass1(Native Method) ~[na:1.8.0_181]\n[INFO] GCLOUD:     at java.lang.ClassLoader.defineClass(ClassLoader.java:763) ~[na:1.8.0_181]\n[INFO] GCLOUD:     ... 48 common frames omitted\n[INFO] GCLOUD:\n[INFO] GCLOUD: I1101 09:02:28.364653    25 jvmti_agent.cc:225] Java VM termination\n[INFO] GCLOUD: I1101 09:02:28.377487    36 jvmti_agent_thread.cc:103] Agent thread exited: CloudDebugger_main_worker_thread\n[INFO] GCLOUD: I1101 09:02:28.398113    25 worker.cc:116] Debugger threads terminated\n[INFO] GCLOUD: I1101 09:02:28.405902    25 jvmti_agent.cc:239] JvmtiAgent::JvmtiOnVMDeath cleanup time: 44024 microseconds\n</code></pre>\n"},{"tags":["java","jmx","activemq-artemis"],"answers":[{"comments":[{"owner":{"account_id":28348739,"reputation":37,"user_id":21680529,"display_name":"Vanish"},"score":0,"creation_date":1682010608,"post_id":76058741,"comment_id":134152388,"body_markdown":"Thanks for the answer, but I can&#39;t find in this class and in the documentation how to get the DeliveryMode and ReplyTo headers","body":"Thanks for the answer, but I can&#39;t find in this class and in the documentation how to get the DeliveryMode and ReplyTo headers"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1682014483,"post_id":76058741,"comment_id":134153203,"body_markdown":"The &quot;DeliveryMode&quot; in JMS dictates how the broker will store the message (i.e. persist it to disk or not). This is represented by the &quot;durable&quot; message header (i.e. `CompositeDataConstants.DURABLE`). My answer demonstrates how to retrieve this information.","body":"The &quot;DeliveryMode&quot; in JMS dictates how the broker will store the message (i.e. persist it to disk or not). This is represented by the &quot;durable&quot; message header (i.e. <code>CompositeDataConstants.DURABLE</code>). My answer demonstrates how to retrieve this information."},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1682014631,"post_id":76058741,"comment_id":134153224,"body_markdown":"The JMS &quot;ReplyTo&quot; can be found in the text of &quot;PropertiesText&quot; of the `CompositeData` (i.e. `CompositeDataConstants.PROPERTIES`) as `JMSReplyTo`. I&#39;ll update my answer to include this as well as example output.","body":"The JMS &quot;ReplyTo&quot; can be found in the text of &quot;PropertiesText&quot; of the <code>CompositeData</code> (i.e. <code>CompositeDataConstants.PROPERTIES</code>) as <code>JMSReplyTo</code>. I&#39;ll update my answer to include this as well as example output."},{"owner":{"account_id":28348739,"reputation":37,"user_id":21680529,"display_name":"Vanish"},"score":0,"creation_date":1682017061,"post_id":76058741,"comment_id":134153716,"body_markdown":"Thanks for the answer. And how then to output a separate JMSReplyTo header and a separate HashMap with a pair of key values of all properties that we ourselves can set through the setStringProperty method?","body":"Thanks for the answer. And how then to output a separate JMSReplyTo header and a separate HashMap with a pair of key values of all properties that we ourselves can set through the setStringProperty method?"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1682017857,"post_id":76058741,"comment_id":134153873,"body_markdown":"I updated my answer to address your comment. Hope that helps!","body":"I updated my answer to address your comment. Hope that helps!"},{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1682018104,"post_id":76058741,"comment_id":134153914,"body_markdown":"FWIW, all I&#39;m doing is looking at the `CompositeData[]` returned by the `browse()` method in a debugger and then writing code to get the pieces you ask about. Ostensibly you could do the same thing.","body":"FWIW, all I&#39;m doing is looking at the <code>CompositeData[]</code> returned by the <code>browse()</code> method in a debugger and then writing code to get the pieces you ask about. Ostensibly you could do the same thing."},{"owner":{"account_id":28348739,"reputation":37,"user_id":21680529,"display_name":"Vanish"},"score":0,"creation_date":1682019363,"post_id":76058741,"comment_id":134154143,"body_markdown":"Thank you very much, I&#39;m very stupid today, I&#39;m sorry","body":"Thank you very much, I&#39;m very stupid today, I&#39;m sorry"}],"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":7,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1682017817,"creation_date":1681937693,"answer_id":76058741,"question_id":76058228,"body_markdown":"The key to getting the message details out of the `CompositeData` is the [`CompositeDataConstants`][1] class.\r\n\r\nIf I sent a message like this:\r\n```java\r\n      ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://localhost:61616&quot;);\r\n      Connection connection = connectionFactory.createConnection();\r\n      Session session = connection.createSession();\r\n      MessageProducer messageProducer = session.createProducer(session.createQueue(&quot;myQueue&quot;));\r\n      TextMessage message = session.createTextMessage();\r\n      message.setJMSReplyTo(session.createQueue(&quot;myReplyTo&quot;));\r\n      message.setText(&quot;myText&quot;);\r\n      message.setStringProperty(&quot;myKey1&quot;, &quot;myValue1&quot;);\r\n      message.setStringProperty(&quot;myKey2&quot;, &quot;myValue2&quot;);\r\n      messageProducer.send(message);\r\n      connection.close();\r\n```\r\nYou could browse the queue and deserialize the message data, e.g.:\r\n```java\r\n      QueueControl queueControl = ...\r\n      CompositeData[] messages = queueControl.browse();\r\n      for (CompositeData message : messages) {\r\n         System.out.println(&quot;JMSMessageID: &quot; + message.get(CompositeDataConstants.USER_ID));\r\n         System.out.println(&quot;Destination: &quot; + message.get(CompositeDataConstants.ADDRESS));\r\n         System.out.println(&quot;Text: &quot; + message.get(CompositeDataConstants.TEXT_BODY));\r\n         System.out.println(&quot;DeliveryMode: &quot; + ((Boolean) message.get(CompositeDataConstants.DURABLE) ? &quot;persistent&quot; : &quot;non-persistent&quot;));\r\n         TabularData stringProps = (TabularData) message.get(CompositeDataConstants.STRING_PROPERTIES);\r\n         for (CompositeData o : (Collection&lt;CompositeData&gt;) stringProps.values()) {\r\n            System.out.println(o.get(&quot;key&quot;) + &quot;: &quot; + o.get(&quot;value&quot;));\r\n         }\r\n      }\r\n```\r\nWhich would print something like this:\r\n```\r\nJMSMessageID: ID:41171b0e-dfae-11ed-9217-3ce1a1d12939\r\nDestination: myQueue\r\nText: myText\r\nDeliveryMode: persistent\r\nJMSReplyTo: queue://myReplyTo\r\nmyKey1: myValue1\r\nmyKey2: myValue2\r\n__AMQ_CID: 41123909-dfae-11ed-9217-3ce1a1d12939\r\n```\r\nIf you don&#39;t want to use the constants directly you can find their respective values [here][2].\r\n\r\nKeep in mind that the returned data may be truncated due to the `management-message-attribute-size-limit`. [The documentation][3] explains this setting:\r\n\r\n&gt; `management-message-attribute-size-limit` is the number of bytes collected from the message for browse. This is relevant for the `browse` and `list` management methods exposed on the queue control. Message attributes longer than this value appear truncated. Default is `256`. Use `-1` to switch this limit off. Note that memory needs to be allocated for all messages that are visible at a given moment. Setting this value too high may impact the browser stability due to the large amount of memory that may be required to browse through many messages.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/core/message/openmbean/CompositeDataConstants.html\r\n  [2]: https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/constant-values.html#org.apache.activemq.artemis.core.message.openmbean.CompositeDataConstants.ADDRESS\r\n  [3]: https://activemq.apache.org/components/artemis/documentation/latest/address-settings.html","title":"How to translate CompositeData[] class objects into Message class objects in Artemis JMX?","body":"<p>The key to getting the message details out of the <code>CompositeData</code> is the <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/org/apache/activemq/artemis/core/message/openmbean/CompositeDataConstants.html\" rel=\"nofollow noreferrer\"><code>CompositeDataConstants</code></a> class.</p>\n<p>If I sent a message like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      ConnectionFactory connectionFactory = new ActiveMQConnectionFactory(&quot;tcp://localhost:61616&quot;);\n      Connection connection = connectionFactory.createConnection();\n      Session session = connection.createSession();\n      MessageProducer messageProducer = session.createProducer(session.createQueue(&quot;myQueue&quot;));\n      TextMessage message = session.createTextMessage();\n      message.setJMSReplyTo(session.createQueue(&quot;myReplyTo&quot;));\n      message.setText(&quot;myText&quot;);\n      message.setStringProperty(&quot;myKey1&quot;, &quot;myValue1&quot;);\n      message.setStringProperty(&quot;myKey2&quot;, &quot;myValue2&quot;);\n      messageProducer.send(message);\n      connection.close();\n</code></pre>\n<p>You could browse the queue and deserialize the message data, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>      QueueControl queueControl = ...\n      CompositeData[] messages = queueControl.browse();\n      for (CompositeData message : messages) {\n         System.out.println(&quot;JMSMessageID: &quot; + message.get(CompositeDataConstants.USER_ID));\n         System.out.println(&quot;Destination: &quot; + message.get(CompositeDataConstants.ADDRESS));\n         System.out.println(&quot;Text: &quot; + message.get(CompositeDataConstants.TEXT_BODY));\n         System.out.println(&quot;DeliveryMode: &quot; + ((Boolean) message.get(CompositeDataConstants.DURABLE) ? &quot;persistent&quot; : &quot;non-persistent&quot;));\n         TabularData stringProps = (TabularData) message.get(CompositeDataConstants.STRING_PROPERTIES);\n         for (CompositeData o : (Collection&lt;CompositeData&gt;) stringProps.values()) {\n            System.out.println(o.get(&quot;key&quot;) + &quot;: &quot; + o.get(&quot;value&quot;));\n         }\n      }\n</code></pre>\n<p>Which would print something like this:</p>\n<pre><code>JMSMessageID: ID:41171b0e-dfae-11ed-9217-3ce1a1d12939\nDestination: myQueue\nText: myText\nDeliveryMode: persistent\nJMSReplyTo: queue://myReplyTo\nmyKey1: myValue1\nmyKey2: myValue2\n__AMQ_CID: 41123909-dfae-11ed-9217-3ce1a1d12939\n</code></pre>\n<p>If you don't want to use the constants directly you can find their respective values <a href=\"https://activemq.apache.org/components/artemis/documentation/javadocs/javadoc-latest/constant-values.html#org.apache.activemq.artemis.core.message.openmbean.CompositeDataConstants.ADDRESS\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Keep in mind that the returned data may be truncated due to the <code>management-message-attribute-size-limit</code>. <a href=\"https://activemq.apache.org/components/artemis/documentation/latest/address-settings.html\" rel=\"nofollow noreferrer\">The documentation</a> explains this setting:</p>\n<blockquote>\n<p><code>management-message-attribute-size-limit</code> is the number of bytes collected from the message for browse. This is relevant for the <code>browse</code> and <code>list</code> management methods exposed on the queue control. Message attributes longer than this value appear truncated. Default is <code>256</code>. Use <code>-1</code> to switch this limit off. Note that memory needs to be allocated for all messages that are visible at a given moment. Setting this value too high may impact the browser stability due to the large amount of memory that may be required to browse through many messages.</p>\n</blockquote>\n"}],"owner":{"account_id":28348739,"reputation":37,"user_id":21680529,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76058741,"answer_count":1,"score":1,"last_activity_date":1682017817,"creation_date":1681933021,"question_id":76058228,"body_markdown":"I&#39;m using JMX to connect to an Artemis queue via the QueueControl class and its browse method, which returns a CompositeData array, but I can&#39;t get the individual headers with the get methods as there aren&#39;t any. Please tell me how to get not the whole body of the headers, but certain fields via JMX on Artemis\r\n\r\nI also tried the listMessage method, but it gives an incomplete list of headers and does not display the body of the message","title":"How to translate CompositeData[] class objects into Message class objects in Artemis JMX?","body":"<p>I'm using JMX to connect to an Artemis queue via the QueueControl class and its browse method, which returns a CompositeData array, but I can't get the individual headers with the get methods as there aren't any. Please tell me how to get not the whole body of the headers, but certain fields via JMX on Artemis</p>\n<p>I also tried the listMessage method, but it gives an incomplete list of headers and does not display the body of the message</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":12695174,"reputation":45207,"user_id":9223839,"display_name":"Joakim Danielson"},"score":1,"creation_date":1606565984,"post_id":65049156,"comment_id":115001245,"body_markdown":"To me it looks like you need to make an extra check so that you never call inGerman recursive with the value 1 (at least when dividing by larger numbers) but handle it directly.","body":"To me it looks like you need to make an extra check so that you never call inGerman recursive with the value 1 (at least when dividing by larger numbers) but handle it directly."},{"owner":{"account_id":1440515,"reputation":7658,"user_id":1360803,"accept_rate":100,"display_name":"Polygnome"},"score":1,"creation_date":1606567498,"post_id":65049156,"comment_id":115001653,"body_markdown":"`z&#246;lf` should be `zw&#246;lf`, `dreissig` should be `drei&#223;ig`, `sechszehn` should be `sechzehn`. Also its `eintausend` and `zweitausend`, but for millions, its `eine million vierhunderttausend` (singualr) and then `zwei millionen f&#252;nfhunderttausend` (plural in millionen). Same applies for Milliarde/milliarden, Billion/billionen etc.","body":"<code>z&#246;lf</code> should be <code>zw&#246;lf</code>, <code>dreissig</code> should be <code>drei&#223;ig</code>, <code>sechszehn</code> should be <code>sechzehn</code>. Also its <code>eintausend</code> and <code>zweitausend</code>, but for millions, its <code>eine million vierhunderttausend</code> (singualr) and then <code>zwei millionen f&#252;nfhunderttausend</code> (plural in millionen). Same applies for Milliarde/milliarden, Billion/billionen etc."}],"answers":[{"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606565858,"creation_date":1606565858,"answer_id":65049484,"question_id":65049156,"body_markdown":"The code is not so bad except for the meaningless while statement and the unused `static int einer`.\r\n\r\nYou could include &quot;null&quot; und &quot;ein&quot; (not &quot;eins&quot;) in the unitsArray and remove the while statement. Then change &quot;inGerman&quot; to a private method &quot;internalInGerman&quot;, and handle the special cases 1 (and maybe 0? check it out for yourself) in a new public inGerman method, like so:\r\n\r\n    public String inGerman(int number) {\r\n        return number == 1 ? &quot;eins&quot; : internalInGerman(number);\r\n    }","title":"Converting numbers into German words","body":"<p>The code is not so bad except for the meaningless while statement and the unused <code>static int einer</code>.</p>\n<p>You could include &quot;null&quot; und &quot;ein&quot; (not &quot;eins&quot;) in the unitsArray and remove the while statement. Then change &quot;inGerman&quot; to a private method &quot;internalInGerman&quot;, and handle the special cases 1 (and maybe 0? check it out for yourself) in a new public inGerman method, like so:</p>\n<pre><code>public String inGerman(int number) {\n    return number == 1 ? &quot;eins&quot; : internalInGerman(number);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":19996912,"reputation":29,"user_id":14656762,"display_name":"Oliver"},"score":0,"creation_date":1606568833,"post_id":65049649,"comment_id":115002020,"body_markdown":"Is there a way to do it in my inGerman method and not calling it in my:\n public static void main(String[] args) {\n\t\tint number = Terminal.getInt(&quot;Enter a number between 1 - 999999:  ---&gt;  &quot;);\n\t\tTerminal.put(&quot;number in german: &quot; + inGerman(number).replaceAll( &quot;ein$&quot;, &quot;eins&quot;));","body":"Is there a way to do it in my inGerman method and not calling it in my:  public static void main(String[] args) { \t\tint number = Terminal.getInt(&quot;Enter a number between 1 - 999999:  ---&gt;  &quot;); \t\tTerminal.put(&quot;number in german: &quot; + inGerman(number).replaceAll( &quot;ein$&quot;, &quot;eins&quot;));"},{"owner":{"account_id":14665276,"reputation":1043,"user_id":10591290,"display_name":"TimonNetherlands"},"score":0,"creation_date":1606570003,"post_id":65049649,"comment_id":115002365,"body_markdown":"If you really want to, you can do it like this:\nreturn words.replaceAll(&quot;eins&quot;, &quot;ein&quot;).replaceAll( &quot;ein$&quot;, &quot;eins&quot; );","body":"If you really want to, you can do it like this: return words.replaceAll(&quot;eins&quot;, &quot;ein&quot;).replaceAll( &quot;ein$&quot;, &quot;eins&quot; );"},{"owner":{"account_id":19996912,"reputation":29,"user_id":14656762,"display_name":"Oliver"},"score":0,"creation_date":1606571063,"post_id":65049649,"comment_id":115002668,"body_markdown":"ahh of course makes sense to put it there, thank you so much for your help :)","body":"ahh of course makes sense to put it there, thank you so much for your help :)"}],"tags":[],"owner":{"account_id":14665276,"reputation":1043,"user_id":10591290,"display_name":"TimonNetherlands"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606567140,"creation_date":1606567140,"answer_id":65049649,"question_id":65049156,"body_markdown":"@Joakim Danielson is right. You can&#39;t call `inGerman` recursively with the value `1` as the method can&#39;t tell where in the word the &#39;ein&#39; or &#39;eins&#39; is going to end up.\r\n\r\nThese lines can all result in the value `1` which will always pull `eins` from the `unitsArray`:\r\n\r\n```\r\nnumber %= 1000000;\r\nnumber %= 1000;\r\nnumber %= 100;\r\n```\r\n\r\nIf you want to take the lazy approach, as I would, you can replace `eins` with `ein` in the `unitsArray` and then call this method on your String:\r\n\r\n```\r\ninGerman(number).replaceAll( &quot;ein$&quot;, &quot;eins&quot;);\r\n```\r\n","title":"Converting numbers into German words","body":"<p>@Joakim Danielson is right. You can't call <code>inGerman</code> recursively with the value <code>1</code> as the method can't tell where in the word the 'ein' or 'eins' is going to end up.</p>\n<p>These lines can all result in the value <code>1</code> which will always pull <code>eins</code> from the <code>unitsArray</code>:</p>\n<pre><code>number %= 1000000;\nnumber %= 1000;\nnumber %= 100;\n</code></pre>\n<p>If you want to take the lazy approach, as I would, you can replace <code>eins</code> with <code>ein</code> in the <code>unitsArray</code> and then call this method on your String:</p>\n<pre><code>inGerman(number).replaceAll( &quot;ein$&quot;, &quot;eins&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6740139,"reputation":322,"user_id":5193638,"display_name":"Raphi1"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682017488,"creation_date":1682017488,"answer_id":76067455,"question_id":65049156,"body_markdown":"I did an implementation in php, but maybe you can get an idea about the logic. \r\nIt&#39;s also based on recursion. As others already pointed out, there are two special cases, `0` and `1`, where you can not call the recursion.\r\nAs polygnome pointed out, the higher numbers have a slightly different logic with singular and plural.\r\n\r\nYou can check out the code here https://github.com/Raphi1/number-to-words\r\nThe last (public) function is the entry point, you would call from the outside to get your string result.","title":"Converting numbers into German words","body":"<p>I did an implementation in php, but maybe you can get an idea about the logic.\nIt's also based on recursion. As others already pointed out, there are two special cases, <code>0</code> and <code>1</code>, where you can not call the recursion.\nAs polygnome pointed out, the higher numbers have a slightly different logic with singular and plural.</p>\n<p>You can check out the code here <a href=\"https://github.com/Raphi1/number-to-words\" rel=\"nofollow noreferrer\">https://github.com/Raphi1/number-to-words</a>\nThe last (public) function is the entry point, you would call from the outside to get your string result.</p>\n"}],"owner":{"account_id":19996912,"reputation":29,"user_id":14656762,"display_name":"Oliver"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1682017488,"creation_date":1606563528,"question_id":65049156,"body_markdown":"So my task is to convert numbers into German, and I am having a problem with &quot;ein&quot; and &quot;eins&quot;.  \r\nWhenever I put in 101101 --&gt; I get &quot;einhunderteinstausendeinhunderteins&quot; which is incorrect it is only the last ein in the number that needs to end with s --&gt; &quot;eins&quot;, but somehow I also have the eins in einstausend?\r\nAny ideas on how to solve this?\r\n\r\n    public abstract class InGerman {\r\n    \r\n        public static void main(String[] args) {\r\n            int number = Terminal.getInt(&quot;Enter a number between 1 - 999999:  ---&gt;  &quot;);\r\n            Terminal.put(&quot;number in german: &quot; + inGerman(number));\r\n        }\r\n    \r\n        public static final String[] unitsArray = {&quot; &quot;, &quot;eins&quot;, &quot;zwei&quot;, &quot;drei&quot;, &quot;vier&quot;, &quot;f&#252;nf&quot;, &quot;sechs&quot;, &quot;sieben&quot;, &quot;acht&quot;,\r\n                &quot;neun&quot;, &quot;zehn&quot;, &quot;elf&quot;, &quot;z&#246;lf&quot;, &quot;dreizehn&quot;, &quot;vierzehn&quot;, &quot;f&#252;nfzehn&quot;, &quot;sechszehn&quot;, &quot;siebzehn&quot;, &quot;achtzehn&quot;,\r\n                &quot;neunzehn&quot;};\r\n        public static final String[] tensArray = {&quot; &quot;, &quot;zehn&quot;, &quot;zwanzig&quot;, &quot;dreissig&quot;, &quot;vierzig&quot;, &quot;f&#252;nfzig&quot;, &quot;sechszig&quot;,\r\n                &quot;siebzig&quot;, &quot;achtzig&quot;, &quot;neunzig&quot;};\r\n    \r\n        static int einer = 0;\r\n    \r\n        private static String inGerman(int number) {\r\n            // variable to hold string representation of number\r\n            String words = &quot;&quot;;\r\n    \r\n            while (number == 0 || number == 1) {\r\n                if (number == 0)\r\n                    return &quot;null&quot;;\r\n                if (number == 1) {\r\n                    return words + &quot;ein&quot;;\r\n                }\r\n            }\r\n            // check if number is divisible by 1 million\r\n            if ((number / 1000000) &gt; 0) {\r\n                words += inGerman(number / 1000000) + &quot;million&quot; + &quot;&quot;;\r\n                number %= 1000000;\r\n            }\r\n            // check if number is divisible by 1 thousand\r\n            if ((number / 1000) &gt; 0) {\r\n                words += inGerman(number / 1000) + &quot;tausend&quot;;\r\n                number %= 1000;\r\n    \r\n            }\r\n            // check if number is divisible by 1 hundred\r\n            if ((number / 100) &gt; 0) {\r\n                words += inGerman(number / 100) + &quot;hundert&quot;;\r\n                number %= 100;\r\n            }\r\n    \r\n            if (number &gt; 0) {\r\n                // check if number is within teens\r\n                if (number &lt; 20) {\r\n                    // fetch the appropriate value from unit array\r\n                    words += unitsArray[number];\r\n                } else {\r\n                    // fetch the appropriate value from tens array\r\n                    words += unitsArray[number % 10];\r\n                    if ((number % 10) &gt; 0) {\r\n                        words += &quot;und&quot; + tensArray[number / 10];\r\n                    }\r\n                }\r\n            }\r\n    \r\n            return words;\r\n        }\r\n    }","title":"Converting numbers into German words","body":"<p>So my task is to convert numbers into German, and I am having a problem with &quot;ein&quot; and &quot;eins&quot;.<br />\nWhenever I put in 101101 --&gt; I get &quot;einhunderteinstausendeinhunderteins&quot; which is incorrect it is only the last ein in the number that needs to end with s --&gt; &quot;eins&quot;, but somehow I also have the eins in einstausend?\nAny ideas on how to solve this?</p>\n<pre><code>public abstract class InGerman {\n\n    public static void main(String[] args) {\n        int number = Terminal.getInt(&quot;Enter a number between 1 - 999999:  ---&gt;  &quot;);\n        Terminal.put(&quot;number in german: &quot; + inGerman(number));\n    }\n\n    public static final String[] unitsArray = {&quot; &quot;, &quot;eins&quot;, &quot;zwei&quot;, &quot;drei&quot;, &quot;vier&quot;, &quot;fünf&quot;, &quot;sechs&quot;, &quot;sieben&quot;, &quot;acht&quot;,\n            &quot;neun&quot;, &quot;zehn&quot;, &quot;elf&quot;, &quot;zölf&quot;, &quot;dreizehn&quot;, &quot;vierzehn&quot;, &quot;fünfzehn&quot;, &quot;sechszehn&quot;, &quot;siebzehn&quot;, &quot;achtzehn&quot;,\n            &quot;neunzehn&quot;};\n    public static final String[] tensArray = {&quot; &quot;, &quot;zehn&quot;, &quot;zwanzig&quot;, &quot;dreissig&quot;, &quot;vierzig&quot;, &quot;fünfzig&quot;, &quot;sechszig&quot;,\n            &quot;siebzig&quot;, &quot;achtzig&quot;, &quot;neunzig&quot;};\n\n    static int einer = 0;\n\n    private static String inGerman(int number) {\n        // variable to hold string representation of number\n        String words = &quot;&quot;;\n\n        while (number == 0 || number == 1) {\n            if (number == 0)\n                return &quot;null&quot;;\n            if (number == 1) {\n                return words + &quot;ein&quot;;\n            }\n        }\n        // check if number is divisible by 1 million\n        if ((number / 1000000) &gt; 0) {\n            words += inGerman(number / 1000000) + &quot;million&quot; + &quot;&quot;;\n            number %= 1000000;\n        }\n        // check if number is divisible by 1 thousand\n        if ((number / 1000) &gt; 0) {\n            words += inGerman(number / 1000) + &quot;tausend&quot;;\n            number %= 1000;\n\n        }\n        // check if number is divisible by 1 hundred\n        if ((number / 100) &gt; 0) {\n            words += inGerman(number / 100) + &quot;hundert&quot;;\n            number %= 100;\n        }\n\n        if (number &gt; 0) {\n            // check if number is within teens\n            if (number &lt; 20) {\n                // fetch the appropriate value from unit array\n                words += unitsArray[number];\n            } else {\n                // fetch the appropriate value from tens array\n                words += unitsArray[number % 10];\n                if ((number % 10) &gt; 0) {\n                    words += &quot;und&quot; + tensArray[number / 10];\n                }\n            }\n        }\n\n        return words;\n    }\n}\n</code></pre>\n"},{"tags":["java","xml","spring","multithreading","liquibase"],"comments":[{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1471269077,"post_id":38956219,"comment_id":65266654,"body_markdown":"You seem to have modified a liquibase changeset  that has already been executed by Liquibase. Don&#39;t do that: revert to the previous version, and add a new changeset.","body":"You seem to have modified a liquibase changeset  that has already been executed by Liquibase. Don&#39;t do that: revert to the previous version, and add a new changeset."},{"owner":{"account_id":8971872,"reputation":189,"user_id":6690056,"accept_rate":0,"display_name":"fff"},"score":0,"creation_date":1471269438,"post_id":38956219,"comment_id":65266889,"body_markdown":"is it good for changeset? also when i do diff after this \n\n&lt;modifyDataType\n                        columnName=&quot;status&quot;\n                        newDataType=&quot;varchar(255)&quot;\n                        tableName=&quot;merchant&quot;/&gt;\n\nit still doesnot convert to varchar","body":"is it good for changeset? also when i do diff after this   &lt;modifyDataType                         columnName=&quot;status&quot;                         newDataType=&quot;varchar(255)&quot;                         tableName=&quot;merchant&quot;/&gt;  it still doesnot convert to varchar"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1471270404,"post_id":38956219,"comment_id":65267534,"body_markdown":"What do you mean? What do you expect to happen and what happens instead?","body":"What do you mean? What do you expect to happen and what happens instead?"},{"owner":{"account_id":8971872,"reputation":189,"user_id":6690056,"accept_rate":0,"display_name":"fff"},"score":0,"creation_date":1471270659,"post_id":38956219,"comment_id":65267681,"body_markdown":"I want to see string value in front end but despite it says  rror: Unknown name value [0] for enum class [net.infoowl.fraud.domain.util.MerchantStatus]; nested exception is java.lang.IllegalArgumentException: Unknown name value [0] for enum class [net.infoowl.fraud.domain.util.MerchantStatus]\n\nİ also added to the question.","body":"I want to see string value in front end but despite it says  rror: Unknown name value [0] for enum class [net.infoowl.fraud.domain.util.MerchantStatus]; nested exception is java.lang.IllegalArgumentException: Unknown name value [0] for enum class [net.infoowl.fraud.domain.util.MerchantStatus]  İ also added to the question."},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1471270766,"post_id":38956219,"comment_id":65267745,"body_markdown":"Changing the type of a column from int to varchar won&#39;t magically change all the values from 0 to &#39;ACTIVE&#39; and from 1 to &#39;PASSIVE&#39;. You need to add this to your changeset, too.","body":"Changing the type of a column from int to varchar won&#39;t magically change all the values from 0 to &#39;ACTIVE&#39; and from 1 to &#39;PASSIVE&#39;. You need to add this to your changeset, too."},{"owner":{"account_id":8971872,"reputation":189,"user_id":6690056,"accept_rate":0,"display_name":"fff"},"score":0,"creation_date":1471273076,"post_id":38956219,"comment_id":65269226,"body_markdown":"it doesnot change anything because in database tab of intelj, it seems always int datatype. I restarted a lot of times but did not change","body":"it doesnot change anything because in database tab of intelj, it seems always int datatype. I restarted a lot of times but did not change"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1471273455,"post_id":38956219,"comment_id":65269458,"body_markdown":"Have you fixed your xml files as I said you should? Do you still have an error message from Liquibase?","body":"Have you fixed your xml files as I said you should? Do you still have an error message from Liquibase?"},{"owner":{"account_id":8971872,"reputation":189,"user_id":6690056,"accept_rate":0,"display_name":"fff"},"score":0,"creation_date":1471274601,"post_id":38956219,"comment_id":65270134,"body_markdown":"Thanks it wrked :) i can accept if you answer sir.","body":"Thanks it wrked :) i can accept if you answer sir."}],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1471274724,"creation_date":1471274724,"answer_id":38958075,"question_id":38956219,"body_markdown":"You seem to have modified a liquibase changeset that has already been executed by Liquibase. Don&#39;t do that: revert to the previous version, and add a new changeset.\r\n\r\nThen add another changeSet (or task) transforming all the 0 in that column to &#39;ACTIVE&#39;, and all the 1 in that column to &#39;PASSIVE&#39;.","title":"Liquibase liquibase.exception.ValidationFailedException: Validation Failed:","body":"<p>You seem to have modified a liquibase changeset that has already been executed by Liquibase. Don't do that: revert to the previous version, and add a new changeset.</p>\n\n<p>Then add another changeSet (or task) transforming all the 0 in that column to 'ACTIVE', and all the 1 in that column to 'PASSIVE'.</p>\n"},{"tags":[],"owner":{"account_id":2273522,"reputation":379,"user_id":8718151,"display_name":"Vikrant Korde"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640797283,"creation_date":1640797283,"answer_id":70522596,"question_id":38956219,"body_markdown":"I faced the same issue. \r\n\r\n      config/liquibase/changelog/20211227120229_added_entity_Product.xml::20211227120229-1-data::jhipster was: 8:d9bea6afc2902ce60cdfa54e82d248c4 but is now: 8:e353c8335afd112dfef95e3e95562f56\r\n\r\nI am using jHipster to create the entities (db tables) and its related screens and other files. Which is handled by jhipster very well. \r\nI modified one of the existing table structure and added new column in it.  Since then i started getting this error. I didn&#39;t modified the liquibase xml files manually. it was done by jhipster script. The solution that worked for me is to modify the MD5SUM manually in the table DATABASECHANGELOG using below command. \r\n\r\n    update DATABASECHANGELOG set MD5SUM = &#39;8:e353c8335afd112dfef95e3e95562f56&#39;\r\n    where MD5SUM = &#39;8:d9bea6afc2902ce60cdfa54e82d248c4&#39;; \r\n\r\nAfter this update it solved my problem however the column which i was added the last was not present in the table. So i needed to add that manually.  ","title":"Liquibase liquibase.exception.ValidationFailedException: Validation Failed:","body":"<p>I faced the same issue.</p>\n<pre><code>  config/liquibase/changelog/20211227120229_added_entity_Product.xml::20211227120229-1-data::jhipster was: 8:d9bea6afc2902ce60cdfa54e82d248c4 but is now: 8:e353c8335afd112dfef95e3e95562f56\n</code></pre>\n<p>I am using jHipster to create the entities (db tables) and its related screens and other files. Which is handled by jhipster very well.\nI modified one of the existing table structure and added new column in it.  Since then i started getting this error. I didn't modified the liquibase xml files manually. it was done by jhipster script. The solution that worked for me is to modify the MD5SUM manually in the table DATABASECHANGELOG using below command.</p>\n<pre><code>update DATABASECHANGELOG set MD5SUM = '8:e353c8335afd112dfef95e3e95562f56'\nwhere MD5SUM = '8:d9bea6afc2902ce60cdfa54e82d248c4'; \n</code></pre>\n<p>After this update it solved my problem however the column which i was added the last was not present in the table. So i needed to add that manually.</p>\n"},{"tags":[],"owner":{"account_id":12402847,"reputation":1,"user_id":9158466,"display_name":"Igor Schreiber"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682017269,"creation_date":1682017269,"answer_id":76067438,"question_id":38956219,"body_markdown":"Do a select on DATABASECHANGELOG and you will figure it out.\r\n\r\n```sql\r\nSELECT * FROM DATABASECHANGELOG;\r\n```\r\n\r\nIf liquibase already processed one file you can&#39;t change this file anymore... unless you go on this DATABASECHANGELOG table and delete the last line that have your filename, them you can edit it and run again.\r\n\r\nDepending on what you are doing maybe you need to do it twice, one to rollback your changes and another to make the right changes.","title":"Liquibase liquibase.exception.ValidationFailedException: Validation Failed:","body":"<p>Do a select on DATABASECHANGELOG and you will figure it out.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * FROM DATABASECHANGELOG;\n</code></pre>\n<p>If liquibase already processed one file you can't change this file anymore... unless you go on this DATABASECHANGELOG table and delete the last line that have your filename, them you can edit it and run again.</p>\n<p>Depending on what you are doing maybe you need to do it twice, one to rollback your changes and another to make the right changes.</p>\n"}],"owner":{"account_id":8971872,"reputation":189,"user_id":6690056,"accept_rate":0,"display_name":"fff"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18818,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1682017269,"creation_date":1471268482,"question_id":38956219,"body_markdown":"I tried to modify int column to varchar but it gives a lot of errors starting with this.\r\n\r\n        @NotNull\r\n        @Column(nullable = false)\r\n        @Enumerated(value = EnumType.STRING)\r\n        private MerchantStatus status;\r\n    \r\n       public MerchantStatus getStatus() {\r\n            return status;\r\n        }\r\n    \r\n        public Merchant setStatus(MerchantStatus status) {\r\n            this.status = status;\r\n            return this;\r\n        }\r\n\r\nthis is the column in domain. it is enum.\r\n\r\nthis is enum\r\n\r\n    public enum MerchantStatus {\r\n        ACTIVE(&quot;merchant.status.active&quot;),\r\n        PASSIVE(&quot;merchant.status.passive&quot;);\r\n    \r\n        private String key;\r\n    \r\n        MerchantStatus(String key) {\r\n            this.key = key;\r\n        }\r\n    \r\n        public String getKey() {\r\n            return key;\r\n        }\r\n    }\r\n\r\n\r\nthis is liquibase confg\r\n\r\n\r\n    &lt;column name=&quot;status&quot; type=&quot;INT&quot;/&gt;\r\n\r\n\r\ni tried to change here. or i added this inside 20160616145216\r\n\r\n \r\n\r\n    &lt;modifyDataType\r\n                            columnName=&quot;status&quot;\r\n                            newDataType=&quot;varchar(255)&quot;\r\n                            tableName=&quot;merchant&quot;/&gt;\r\n\r\nbut it did not work.\r\n\r\n\r\n&gt; 2 change sets check sum    |          \r\n&gt; classpath:config/liquibase/changelog/20160616145216_create_merchant.xml::1466077959485-1::\r\n&gt; (generated) is now: 7:5fb40924426396399804bb2cb7f74852    \r\n&gt; |          \r\n&gt; classpath:config/liquibase/changelog/20160720101800_load_data.xml::0000000000001-2::\r\n&gt; (generated) is now: 7:aa0084f69ca5301ef48cfb97beb41582    \r\n&gt; |       |      |\r\n&gt; liquibase.exception.ValidationFailedException: Validation Failed:\r\n&gt; f    |      2 change sets check sum     |      \r\n&gt; classpath:config/liquibase/changelog/20160616145216_create_merchant.xml::1466077959485-1::\r\n&gt; (generated) is now: 7:5fb40924426396399804bb2cb7f74852     \r\n&gt; |          \r\n&gt; classpath:config/liquibase/changelog/20160720101800_load_data.xml::0000000000001-2::\r\n&gt; (generated) is now: 7:aa0084f69ca5301ef48cfb97beb41582    \r\n&gt; |   | \tat\r\n&gt; liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:215)\r\n&gt;   | \tat liquibase.Liquibase.update(Liquibase.java:208)\r\n&gt;    | \tat liquibase.Liquibase.update(Liquibase.java:192)\r\n&gt;     | \tat\r\n&gt; liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:434)\r\n&gt;    | \tat\r\n&gt; liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:391)\r\n&gt;     | \tat\r\n&gt; net.infoowl.fraud.config.liquibase.AsyncSpringLiquibase.initDb(AsyncSpringLiquibase.java:63)\r\n&gt; 1     | \tat\r\n&gt; net.infoowl.fraud.config.liquibase.AsyncSpringLiquibase.lambda$afterPropertiesSet$0(AsyncSpringLiquibase.java:49)\r\n&gt;      | \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n&gt;   | \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n&gt;   | \tat java.lang.Thread.run(Thread.java:745)\r\n\r\n\r\nalso\r\n\r\n&gt; rror: Unknown name value [0] for enum class\r\n&gt; [net.infoowl.fraud.domain.util.MerchantStatus]; nested exception is\r\n&gt; java.lang.IllegalArgumentException: Unknown name value [0] for enum\r\n&gt; class [net.infoowl.fraud.domain.util.MerchantStatus]\r\n\r\n\r\n\r\nfurthermore\r\n\r\nalso when i do diff after this \r\n\r\n&lt;\r\n\r\n    modifyDataType\r\n                            columnName=&quot;status&quot;\r\n                            newDataType=&quot;varchar(255)&quot;\r\n                            tableName=&quot;merchant&quot;/&gt;\r\n\r\nit still doesnot convert to varchar","title":"Liquibase liquibase.exception.ValidationFailedException: Validation Failed:","body":"<p>I tried to modify int column to varchar but it gives a lot of errors starting with this.</p>\n\n<pre><code>    @NotNull\n    @Column(nullable = false)\n    @Enumerated(value = EnumType.STRING)\n    private MerchantStatus status;\n\n   public MerchantStatus getStatus() {\n        return status;\n    }\n\n    public Merchant setStatus(MerchantStatus status) {\n        this.status = status;\n        return this;\n    }\n</code></pre>\n\n<p>this is the column in domain. it is enum.</p>\n\n<p>this is enum</p>\n\n<pre><code>public enum MerchantStatus {\n    ACTIVE(\"merchant.status.active\"),\n    PASSIVE(\"merchant.status.passive\");\n\n    private String key;\n\n    MerchantStatus(String key) {\n        this.key = key;\n    }\n\n    public String getKey() {\n        return key;\n    }\n}\n</code></pre>\n\n<p>this is liquibase confg</p>\n\n<pre><code>&lt;column name=\"status\" type=\"INT\"/&gt;\n</code></pre>\n\n<p>i tried to change here. or i added this inside 20160616145216</p>\n\n<pre><code>&lt;modifyDataType\n                        columnName=\"status\"\n                        newDataType=\"varchar(255)\"\n                        tableName=\"merchant\"/&gt;\n</code></pre>\n\n<p>but it did not work.</p>\n\n<blockquote>\n  <p>2 change sets check sum    |<br>\n  classpath:config/liquibase/changelog/20160616145216_create_merchant.xml::1466077959485-1::\n  (generated) is now: 7:5fb40924426396399804bb2cb7f74852<br>\n  |<br>\n  classpath:config/liquibase/changelog/20160720101800_load_data.xml::0000000000001-2::\n  (generated) is now: 7:aa0084f69ca5301ef48cfb97beb41582<br>\n  |       |      |\n  liquibase.exception.ValidationFailedException: Validation Failed:\n  f    |      2 change sets check sum     |<br>\n  classpath:config/liquibase/changelog/20160616145216_create_merchant.xml::1466077959485-1::\n  (generated) is now: 7:5fb40924426396399804bb2cb7f74852<br>\n  |<br>\n  classpath:config/liquibase/changelog/20160720101800_load_data.xml::0000000000001-2::\n  (generated) is now: 7:aa0084f69ca5301ef48cfb97beb41582<br>\n  |   |     at\n  liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:215)\n    |   at liquibase.Liquibase.update(Liquibase.java:208)\n     |  at liquibase.Liquibase.update(Liquibase.java:192)\n      |     at\n  liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:434)\n     |  at\n  liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:391)\n      |     at\n  net.infoowl.fraud.config.liquibase.AsyncSpringLiquibase.initDb(AsyncSpringLiquibase.java:63)\n  1     |   at\n  net.infoowl.fraud.config.liquibase.AsyncSpringLiquibase.lambda$afterPropertiesSet$0(AsyncSpringLiquibase.java:49)\n       |    at\n  java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    |   at\n  java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    |   at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n\n<p>also</p>\n\n<blockquote>\n  <p>rror: Unknown name value [0] for enum class\n  [net.infoowl.fraud.domain.util.MerchantStatus]; nested exception is\n  java.lang.IllegalArgumentException: Unknown name value [0] for enum\n  class [net.infoowl.fraud.domain.util.MerchantStatus]</p>\n</blockquote>\n\n<p>furthermore</p>\n\n<p>also when i do diff after this </p>\n\n<p>&lt;</p>\n\n<pre><code>modifyDataType\n                        columnName=\"status\"\n                        newDataType=\"varchar(255)\"\n                        tableName=\"merchant\"/&gt;\n</code></pre>\n\n<p>it still doesnot convert to varchar</p>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":2,"creation_date":1680454428,"post_id":75912679,"comment_id":133897600,"body_markdown":"Welcome on StackOverflow ! Can you give your actual code and tell your spigot version ?","body":"Welcome on StackOverflow ! Can you give your actual code and tell your spigot version ?"}],"answers":[{"tags":[],"owner":{"account_id":26168353,"reputation":567,"user_id":19853802,"display_name":"zmehall"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682016143,"creation_date":1681400162,"answer_id":76007311,"question_id":75912679,"body_markdown":"I think you&#39;ll have to use nms for this.\r\n\r\nHere&#39;s [a thread](https://www.spigotmc.org/threads/adding-canplaceon-nbttag-via-plugin.247846/) from the spigot forum that talks about it. If you aren&#39;t too familiar with how the Minecraft code works, or aren&#39;t very experienced in java, it might be difficult to set up and use.","title":"Is there a way to add the &quot;CanPlaceOn&quot; NBT tag to an item in spigot?","body":"<p>I think you'll have to use nms for this.</p>\n<p>Here's <a href=\"https://www.spigotmc.org/threads/adding-canplaceon-nbttag-via-plugin.247846/\" rel=\"nofollow noreferrer\">a thread</a> from the spigot forum that talks about it. If you aren't too familiar with how the Minecraft code works, or aren't very experienced in java, it might be difficult to set up and use.</p>\n"}],"owner":{"account_id":28195049,"reputation":1,"user_id":21549835,"display_name":"Lukas Schwienbacher"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682016143,"creation_date":1680446303,"question_id":75912679,"body_markdown":"I try to make an item that can be placed in adventure mode in spigot, I know its possible with commands by adding the {CanPlaceOn} NBT tag to the item, but couldn&#39;t find a way in spigot\r\n\r\nI sadly couldn&#39;t really try anything so far since i didnt find anything about it online.","title":"Is there a way to add the &quot;CanPlaceOn&quot; NBT tag to an item in spigot?","body":"<p>I try to make an item that can be placed in adventure mode in spigot, I know its possible with commands by adding the {CanPlaceOn} NBT tag to the item, but couldn't find a way in spigot</p>\n<p>I sadly couldn't really try anything so far since i didnt find anything about it online.</p>\n"},{"tags":["java","http","spring-mvc","jwt"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1682016236,"post_id":76067271,"comment_id":134153556,"body_markdown":"in postman/curl: just by adding header with name `Authorization` and value `Bearer &lt;your_token&gt;` (where `Bearer` is literal, and `&lt;your_token&gt;` refers to the token value like [here](https://stackoverflow.com/q/22229996/592355)); in browser: you can do it with a plugin like [mod header](https://chrome.google.com/webstore/detail/modheader-modify-http-hea/idgpnmonknjnojddfkpgkljpfnnfcklj?hl=de)","body":"in postman/curl: just by adding header with name <code>Authorization</code> and value <code>Bearer &lt;your_token&gt;</code> (where <code>Bearer</code> is literal, and <code>&lt;your_token&gt;</code> refers to the token value like <a href=\"https://stackoverflow.com/q/22229996/592355\">here</a>); in browser: you can do it with a plugin like <a href=\"https://chrome.google.com/webstore/detail/modheader-modify-http-hea/idgpnmonknjnojddfkpgkljpfnnfcklj?hl=de\" rel=\"nofollow noreferrer\">mod header</a>"},{"owner":{"account_id":27772929,"reputation":35,"user_id":21202884,"display_name":"Kreuterkeule"},"score":0,"creation_date":1682017202,"post_id":76067271,"comment_id":134153741,"body_markdown":"Thanks, I knew that already, but can I automate that, so that when I get the response and I&#39;m logged in the header is set automatically?","body":"Thanks, I knew that already, but can I automate that, so that when I get the response and I&#39;m logged in the header is set automatically?"}],"owner":{"account_id":27772929,"reputation":35,"user_id":21202884,"display_name":"Kreuterkeule"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682015933,"creation_date":1682015933,"question_id":76067271,"body_markdown":"I&#39;m trying the following:\r\n\r\nI have a Spring Boot Application with spring security and jwt setup, on response from login I now want to set the Bearer jwt token directly into the clients headers, how can I do this?","title":"How do I send authorization header directly to client in Spring Boot Controller?","body":"<p>I'm trying the following:</p>\n<p>I have a Spring Boot Application with spring security and jwt setup, on response from login I now want to set the Bearer jwt token directly into the clients headers, how can I do this?</p>\n"},{"tags":["java","multithreading","thread-safety","locking","synchronized"],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1436543144,"creation_date":1276623579,"answer_id":3047573,"question_id":3047564,"body_markdown":"The lock accessed is on the object, not on the method. Which variables are accessed within the method is irrelevant.\r\n\r\nAdding &quot;synchronized&quot; to the method means the thread running the code must acquire the lock on the object before proceeding. Adding &quot;static synchronized&quot; means the thread running the code must acquire the lock on the class object before proceeding. Alternatively you can wrap code in a block like this:\r\n\r\n    public void addA() {\r\n        synchronized(this) {\r\n            a++;\r\n        }\r\n    }\r\n\r\nso that you can specify the object whose lock must be acquired.\r\n\r\nIf you want to avoid locking on the containing object you can choose between:\r\n\r\n* [using synchronized blocks that specify different locks][1]\r\n* making a and b atomic (using java.util.concurrent.atomic)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/15438792/217324","title":"Java synchronized method lock on object, or method?","body":"<p>The lock accessed is on the object, not on the method. Which variables are accessed within the method is irrelevant.</p>\n\n<p>Adding \"synchronized\" to the method means the thread running the code must acquire the lock on the object before proceeding. Adding \"static synchronized\" means the thread running the code must acquire the lock on the class object before proceeding. Alternatively you can wrap code in a block like this:</p>\n\n<pre><code>public void addA() {\n    synchronized(this) {\n        a++;\n    }\n}\n</code></pre>\n\n<p>so that you can specify the object whose lock must be acquired.</p>\n\n<p>If you want to avoid locking on the containing object you can choose between:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/15438792/217324\">using synchronized blocks that specify different locks</a></li>\n<li>making a and b atomic (using java.util.concurrent.atomic)</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":12404,"reputation":62016,"user_id":24396,"accept_rate":74,"display_name":"Steve Kuo"},"score":5,"creation_date":1276625250,"post_id":3047615,"comment_id":3119185,"body_markdown":"Not true. synchronized method generates different bytecode than synchronized(object). While functionality equivalent, it is more than just syntactic sugar.","body":"Not true. synchronized method generates different bytecode than synchronized(object). While functionality equivalent, it is more than just syntactic sugar."},{"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"score":14,"creation_date":1276646735,"post_id":3047615,"comment_id":3121706,"body_markdown":"I don&#39;t think that &quot;syntactical sugar&quot; is strictly defined as byte-code equivalent. The point is it is functionally equivalent.","body":"I don&#39;t think that &quot;syntactical sugar&quot; is strictly defined as byte-code equivalent. The point is it is functionally equivalent."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1376274329,"post_id":3047615,"comment_id":26635361,"body_markdown":"If the Java designers had known what was *already* known about monitors they would have/should have done it differently, instead of basically emulating the innards of Unix. [Per Brinch Hansen said &#39;clearly I have laboured in vain&#39; when he saw the Java concurrency primitives](https://forums.oracle.com/thread/1142765?start=0&amp;tstart=342).","body":"If the Java designers had known what was <i>already</i> known about monitors they would have/should have done it differently, instead of basically emulating the innards of Unix. <a href=\"https://forums.oracle.com/thread/1142765?start=0&amp;tstart=342\" rel=\"nofollow noreferrer\">Per Brinch Hansen said &#39;clearly I have laboured in vain&#39; when he saw the Java concurrency primitives</a>."},{"owner":{"account_id":1369771,"reputation":1668,"user_id":1305332,"accept_rate":26,"display_name":"Peter Quiring"},"score":0,"creation_date":1521215430,"post_id":3047615,"comment_id":85650894,"body_markdown":"This is true.  The example given by OP would appear to lock each method but in fact they all lock on the same object.  Very deceptive syntax.  After using Java for 10+ years I didn&#39;t know this.  So I would avoid synchronized methods for this reason.  I always thought that an invisible object was created for each method that was defined with synchronized.","body":"This is true.  The example given by OP would appear to lock each method but in fact they all lock on the same object.  Very deceptive syntax.  After using Java for 10+ years I didn&#39;t know this.  So I would avoid synchronized methods for this reason.  I always thought that an invisible object was created for each method that was defined with synchronized."}],"tags":[],"owner":{"account_id":28947,"reputation":90769,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"comment_count":4,"down_vote_count":3,"up_vote_count":85,"is_accepted":false,"score":82,"last_activity_date":1474971483,"creation_date":1276623920,"answer_id":3047615,"question_id":3047564,"body_markdown":"Synchronized on the method declaration is syntactical sugar for this:\r\n\r\n     public void addA() {\r\n         synchronized (this) {\r\n              a++;\r\n         }\r\n      }\r\n\r\nOn a static method it is syntactical sugar for this:\r\n\r\n     ClassA {\r\n         public static void addA() {\r\n              synchronized(ClassA.class) {\r\n                  a++;\r\n              }\r\n     }\r\n\r\nI think if the Java designers knew then what is understood now about synchronization, they would not have added the syntactical sugar, as it more often than not leads to bad implementations of concurrency.","title":"Java synchronized method lock on object, or method?","body":"<p>Synchronized on the method declaration is syntactical sugar for this:</p>\n\n<pre><code> public void addA() {\n     synchronized (this) {\n          a++;\n     }\n  }\n</code></pre>\n\n<p>On a static method it is syntactical sugar for this:</p>\n\n<pre><code> ClassA {\n     public static void addA() {\n          synchronized(ClassA.class) {\n              a++;\n          }\n }\n</code></pre>\n\n<p>I think if the Java designers knew then what is understood now about synchronization, they would not have added the syntactical sugar, as it more often than not leads to bad implementations of concurrency.</p>\n"},{"comments":[{"owner":{"account_id":80775,"reputation":80366,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":231,"creation_date":1276625768,"post_id":3047638,"comment_id":3119258,"body_markdown":"*If you synchonize on the method you lock the whole object, so two thread accessing a different variable from this same object would block each other anyway.*  That&#39;s a bit misleading.  Synchronizing on the method is functionally equivalent to having a `synchronized (this)` block around the body of the method.  The object &quot;this&quot; doesn&#39;t become locked, rather the object &quot;this&quot; is used as the mutex and the body is prevented from executing concurrently with other code sections also synchronized on &quot;this.&quot;  It has no effect on other fields/methods of &quot;this&quot; that aren&#39;t synchronized.","body":"<i>If you synchonize on the method you lock the whole object, so two thread accessing a different variable from this same object would block each other anyway.</i>  That&#39;s a bit misleading.  Synchronizing on the method is functionally equivalent to having a <code>synchronized (this)</code> block around the body of the method.  The object &quot;this&quot; doesn&#39;t become locked, rather the object &quot;this&quot; is used as the mutex and the body is prevented from executing concurrently with other code sections also synchronized on &quot;this.&quot;  It has no effect on other fields/methods of &quot;this&quot; that aren&#39;t synchronized."},{"owner":{"account_id":431701,"reputation":637,"user_id":815944,"accept_rate":67,"display_name":"mac"},"score":15,"creation_date":1378033857,"post_id":3047638,"comment_id":27301119,"body_markdown":"Yes, it is truly misleading. For real example - Look at this - http://stackoverflow.com/questions/14447095/does-java-monitor-include-instance-variables - Summary : Locking is only at synchronized method level and object&#39;s instance variables can be accessed by other thread","body":"Yes, it is truly misleading. For real example - Look at this - <a href=\"http://stackoverflow.com/questions/14447095/does-java-monitor-include-instance-variables\" title=\"does java monitor include instance variables\">stackoverflow.com/questions/14447095/&hellip;</a> - Summary : Locking is only at synchronized method level and object&#39;s instance variables can be accessed by other thread"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1481030143,"post_id":3047638,"comment_id":69201109,"body_markdown":"The first example is fundamentally broken. If `a` and `b` were objects, e.g. `Integer`s, you were synchronizing on instances you are *replacing with different objects* when applying the `++` operator.","body":"The first example is fundamentally broken. If <code>a</code> and <code>b</code> were objects, e.g. <code>Integer</code>s, you were synchronizing on instances you are <i>replacing with different objects</i> when applying the <code>++</code> operator."},{"owner":{"account_id":2233181,"reputation":3815,"user_id":1970299,"accept_rate":72,"display_name":"Mehdi"},"score":1,"creation_date":1563551807,"post_id":3047638,"comment_id":100750527,"body_markdown":"fix your answer and initialize the AtomicInteger:  AtomicInteger a = new AtomicInteger(0);","body":"fix your answer and initialize the AtomicInteger:  AtomicInteger a = new AtomicInteger(0);"},{"owner":{"account_id":1108575,"reputation":796,"user_id":1099452,"accept_rate":100,"display_name":"lucasvc"},"score":0,"creation_date":1569569216,"post_id":3047638,"comment_id":102646692,"body_markdown":"Maybe this anwser should be updated with the explained in this other one about synchronizing on the object itself: https://stackoverflow.com/a/10324280/1099452","body":"Maybe this anwser should be updated with the explained in this other one about synchronizing on the object itself: <a href=\"https://stackoverflow.com/a/10324280/1099452\">stackoverflow.com/a/10324280/1099452</a>"},{"owner":{"account_id":431395,"reputation":8238,"user_id":815408,"accept_rate":74,"display_name":"LookIntoEast"},"score":0,"creation_date":1626668971,"post_id":3047638,"comment_id":120945542,"body_markdown":"why &quot;synchronized on the method then you synchronize the whole object&quot;?","body":"why &quot;synchronized on the method then you synchronize the whole object&quot;?"}],"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":6,"down_vote_count":10,"up_vote_count":241,"is_accepted":true,"score":231,"last_activity_date":1562583436,"creation_date":1276624113,"answer_id":3047638,"question_id":3047564,"body_markdown":"If you declare the method as *synchronized* (as you&#39;re doing by typing `public synchronized void addA()`) you synchronize on the **whole** object, so two thread accessing a different variable from this same object would block each other anyway. \r\n\r\nIf you want to synchronize only on one variable at a time, so two threads won&#39;t block each other while accessing different variables, you have synchronize on them separately in ` synchronized ()` blocks. If `a` and `b` were object references you would use:\r\n\r\n\r\n    public void addA() {\r\n        synchronized( a ) {\r\n            a++;\r\n        }\r\n    }\r\n\r\n    public void addB() {\r\n        synchronized( b ) {\r\n            b++;\r\n        }\r\n    }\r\n\r\nBut since they&#39;re primitives you can&#39;t do this.\r\n\r\nI would suggest you to use *AtomicInteger* instead:\r\n\r\n    import java.util.concurrent.atomic.AtomicInteger;\r\n\r\n    class X {\r\n\r\n        AtomicInteger a;\r\n        AtomicInteger b;\r\n\r\n        public void addA(){\r\n            a.incrementAndGet();\r\n        }\r\n\r\n        public void addB(){ \r\n            b.incrementAndGet();\r\n        }\r\n    }\r\n","title":"Java synchronized method lock on object, or method?","body":"<p>If you declare the method as <em>synchronized</em> (as you're doing by typing <code>public synchronized void addA()</code>) you synchronize on the <strong>whole</strong> object, so two thread accessing a different variable from this same object would block each other anyway. </p>\n\n<p>If you want to synchronize only on one variable at a time, so two threads won't block each other while accessing different variables, you have synchronize on them separately in <code>synchronized ()</code> blocks. If <code>a</code> and <code>b</code> were object references you would use:</p>\n\n<pre><code>public void addA() {\n    synchronized( a ) {\n        a++;\n    }\n}\n\npublic void addB() {\n    synchronized( b ) {\n        b++;\n    }\n}\n</code></pre>\n\n<p>But since they're primitives you can't do this.</p>\n\n<p>I would suggest you to use <em>AtomicInteger</em> instead:</p>\n\n<pre><code>import java.util.concurrent.atomic.AtomicInteger;\n\nclass X {\n\n    AtomicInteger a;\n    AtomicInteger b;\n\n    public void addA(){\n        a.incrementAndGet();\n    }\n\n    public void addB(){ \n        b.incrementAndGet();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":143625,"reputation":1978,"user_id":352088,"display_name":"dsmith"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1276625110,"creation_date":1276625110,"answer_id":3047774,"question_id":3047564,"body_markdown":"You can do something like the following.  In this case you are using the lock on a and b to synchronized instead of the lock on &quot;this&quot;.  We cannot use int because primitive values don&#39;t have locks, so we use Integer.\r\n\r\n\r\n    class x{\r\n       private Integer a;\r\n       private Integer b;\r\n       public void addA(){\r\n          synchronized(a) {\r\n             a++;\r\n          }\r\n       }\r\n       public synchronized void addB(){\r\n          synchronized(b) {\r\n             b++;\r\n          }\r\n       }\r\n    }\r\n","title":"Java synchronized method lock on object, or method?","body":"<p>You can do something like the following.  In this case you are using the lock on a and b to synchronized instead of the lock on \"this\".  We cannot use int because primitive values don't have locks, so we use Integer.</p>\n\n<pre><code>class x{\n   private Integer a;\n   private Integer b;\n   public void addA(){\n      synchronized(a) {\n         a++;\n      }\n   }\n   public synchronized void addB(){\n      synchronized(b) {\n         b++;\n      }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4482535,"reputation":464,"user_id":5161634,"accept_rate":0,"display_name":"Sriharsha g.r.v"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438206595,"creation_date":1438205772,"answer_id":31711597,"question_id":3047564,"body_markdown":"This might not work as the boxing and autoboxing from Integer to int and viceversa is dependant on JVM and there is high possibility that two different numbers might get hashed to same address if they are between -128 and 127. ","title":"Java synchronized method lock on object, or method?","body":"<p>This might not work as the boxing and autoboxing from Integer to int and viceversa is dependant on JVM and there is high possibility that two different numbers might get hashed to same address if they are between -128 and 127. </p>\n"},{"tags":[],"owner":{"account_id":6699622,"reputation":1259,"user_id":5166587,"display_name":"Goyal Vicky"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1438945776,"creation_date":1438945055,"answer_id":31876054,"question_id":3047564,"body_markdown":"If you have some methods which are not synchronized and are accessing and changing the instance variables. In your example:\r\n\r\n     private int a;\r\n     private int b;\r\n\r\nany number of threads can access these non synchronized methods at the same time when other thread is in the synchronized method of the same object and can make changes to instance variables.\r\nFor e.g :-\r\n\r\n     public void changeState() {\r\n          a++;\r\n          b++;\r\n        }\r\n\r\nYou need to avoid the scenario that non synchronized methods are accessing the instance variables and changing it otherwise there is no point of using synchronized methods.\r\n\r\nIn the below scenario:-\r\n\r\n \r\n\r\n      \r\n    \r\n    class X {\r\n        \r\n            private int a;\r\n            private int b;\r\n        \r\n            public synchronized void addA(){\r\n                a++;\r\n            }\r\n        \r\n            public synchronized void addB(){\r\n                b++;\r\n            }\r\n         public void changeState() {\r\n              a++;\r\n              b++;\r\n            }\r\n        }\r\n\r\nOnly one of the threads can be either in addA or addB method but at the same time any number of threads can enter changeState method. No two threads can enter addA and addB at same time(because of Object level locking) but at same time any number of threads can enter changeState.\r\n\r\n","title":"Java synchronized method lock on object, or method?","body":"<p>If you have some methods which are not synchronized and are accessing and changing the instance variables. In your example:</p>\n\n<pre><code> private int a;\n private int b;\n</code></pre>\n\n<p>any number of threads can access these non synchronized methods at the same time when other thread is in the synchronized method of the same object and can make changes to instance variables.\nFor e.g :-</p>\n\n<pre><code> public void changeState() {\n      a++;\n      b++;\n    }\n</code></pre>\n\n<p>You need to avoid the scenario that non synchronized methods are accessing the instance variables and changing it otherwise there is no point of using synchronized methods.</p>\n\n<p>In the below scenario:-</p>\n\n<pre><code>class X {\n\n        private int a;\n        private int b;\n\n        public synchronized void addA(){\n            a++;\n        }\n\n        public synchronized void addB(){\n            b++;\n        }\n     public void changeState() {\n          a++;\n          b++;\n        }\n    }\n</code></pre>\n\n<p>Only one of the threads can be either in addA or addB method but at the same time any number of threads can enter changeState method. No two threads can enter addA and addB at same time(because of Object level locking) but at same time any number of threads can enter changeState.</p>\n"},{"tags":[],"owner":{"account_id":7848783,"reputation":652,"user_id":5932894,"display_name":"Aditya W"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1456049535,"creation_date":1456049535,"answer_id":35534814,"question_id":3047564,"body_markdown":"From oracle documentation [link][1]\n\nMaking methods synchronized has two effects:\n\n&gt; First, it is not possible for two invocations of synchronized methods on the same object to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.\n&gt;\n&gt;Second, when a synchronized method exits, it automatically establishes a happens-before relationship with any subsequent invocation of a synchronized method for the same object. This guarantees that changes to the state of the object are visible to all threads\n\nHave a look at this documentation [page][2] to understand intrinsic locks and lock behavior.\n\n***This will answer your question: On same object x , you can&#39;t call x.addA() and x.addB() at same time when one of the synchronized methods execution is in progress.***\n\n  [1]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\n  [2]: https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html","title":"Java synchronized method lock on object, or method?","body":"<p>From oracle documentation <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"noreferrer\">link</a></p>\n<p>Making methods synchronized has two effects:</p>\n<blockquote>\n<p>First, it is not possible for two invocations of synchronized methods on the same object to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.</p>\n<p>Second, when a synchronized method exits, it automatically establishes a happens-before relationship with any subsequent invocation of a synchronized method for the same object. This guarantees that changes to the state of the object are visible to all threads</p>\n</blockquote>\n<p>Have a look at this documentation <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"noreferrer\">page</a> to understand intrinsic locks and lock behavior.</p>\n<p><em><strong>This will answer your question: On same object x , you can't call x.addA() and x.addB() at same time when one of the synchronized methods execution is in progress.</strong></em></p>\n"},{"tags":[],"owner":{"account_id":1185299,"reputation":7276,"user_id":1159404,"accept_rate":75,"display_name":"Nenad Bulatović"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1481302337,"creation_date":1481302337,"answer_id":41065225,"question_id":3047564,"body_markdown":"This example (although not pretty one) can provide more insight into locking mechanism. If *incrementA* is **synchronized**, and *incrementB* is **not synchronized**, then *incrementB* will be executed ASAP, but if *incrementB* is also **synchronized** then it has to &#39;wait&#39; for *incrementA* to finish, before *incrementB* can do its job. \r\n\r\nBoth methods are called onto single instance - object, in this example it is: *job*, and &#39;competing&#39; threads are *aThread* and *main*. \r\n\r\nTry with &#39;**synchronized**&#39; in *incrementB* and without it and you will see different results.If *incrementB* is &#39;**synchronized**&#39; as well then it has to wait for *incrementA*() to finish. Run several times each variant.\r\n\r\n    class LockTest implements Runnable {\r\n    \tint a = 0;\r\n    \tint b = 0;\r\n    \r\n    \tpublic synchronized void incrementA() {\r\n    \t\tfor (int i = 0; i &lt; 100; i++) {\r\n    \t\t\tthis.a++;\r\n    \t\t\tSystem.out.println(&quot;Thread: &quot; + Thread.currentThread().getName() + &quot;; a: &quot; + this.a);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t// Try with &#39;synchronized&#39; and without it and you will see different results\r\n    \t// if incrementB is &#39;synchronized&#39; as well then it has to wait for incrementA() to finish\r\n    \r\n    \t// public void incrementB() {\r\n    \tpublic synchronized void incrementB() {\r\n    \t\tthis.b++;\r\n    \t\tSystem.out.println(&quot;*************** incrementB ********************&quot;);\r\n    \t\tSystem.out.println(&quot;Thread: &quot; + Thread.currentThread().getName() + &quot;; b: &quot; + this.b);\r\n    \t\tSystem.out.println(&quot;*************** incrementB ********************&quot;);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tincrementA();\r\n    \t\tSystem.out.println(&quot;************ incrementA completed *************&quot;);\r\n    \t}\r\n    }\r\n    \r\n    class LockTestMain {\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tLockTest job = new LockTest();\r\n    \t\tThread aThread = new Thread(job);\r\n    \t\taThread.setName(&quot;aThread&quot;);\r\n    \t\taThread.start();\r\n    \t\tThread.sleep(1);\r\n    \t\tSystem.out.println(&quot;*************** &#39;main&#39; calling metod: incrementB **********************&quot;);\r\n    \t\tjob.incrementB();\r\n    \t}\r\n    }\r\n\r\n","title":"Java synchronized method lock on object, or method?","body":"<p>This example (although not pretty one) can provide more insight into locking mechanism. If <em>incrementA</em> is <strong>synchronized</strong>, and <em>incrementB</em> is <strong>not synchronized</strong>, then <em>incrementB</em> will be executed ASAP, but if <em>incrementB</em> is also <strong>synchronized</strong> then it has to 'wait' for <em>incrementA</em> to finish, before <em>incrementB</em> can do its job. </p>\n\n<p>Both methods are called onto single instance - object, in this example it is: <em>job</em>, and 'competing' threads are <em>aThread</em> and <em>main</em>. </p>\n\n<p>Try with '<strong>synchronized</strong>' in <em>incrementB</em> and without it and you will see different results.If <em>incrementB</em> is '<strong>synchronized</strong>' as well then it has to wait for <em>incrementA</em>() to finish. Run several times each variant.</p>\n\n<pre><code>class LockTest implements Runnable {\n    int a = 0;\n    int b = 0;\n\n    public synchronized void incrementA() {\n        for (int i = 0; i &lt; 100; i++) {\n            this.a++;\n            System.out.println(\"Thread: \" + Thread.currentThread().getName() + \"; a: \" + this.a);\n        }\n    }\n\n    // Try with 'synchronized' and without it and you will see different results\n    // if incrementB is 'synchronized' as well then it has to wait for incrementA() to finish\n\n    // public void incrementB() {\n    public synchronized void incrementB() {\n        this.b++;\n        System.out.println(\"*************** incrementB ********************\");\n        System.out.println(\"Thread: \" + Thread.currentThread().getName() + \"; b: \" + this.b);\n        System.out.println(\"*************** incrementB ********************\");\n    }\n\n    @Override\n    public void run() {\n        incrementA();\n        System.out.println(\"************ incrementA completed *************\");\n    }\n}\n\nclass LockTestMain {\n    public static void main(String[] args) throws InterruptedException {\n        LockTest job = new LockTest();\n        Thread aThread = new Thread(job);\n        aThread.setName(\"aThread\");\n        aThread.start();\n        Thread.sleep(1);\n        System.out.println(\"*************** 'main' calling metod: incrementB **********************\");\n        job.incrementB();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":184227,"reputation":1077,"user_id":420131,"display_name":"theRiley"},"score":0,"creation_date":1600042866,"post_id":41545057,"comment_id":112954839,"body_markdown":"This works because threads have their own stack, but share instance members, including any declared locking object(s).","body":"This works because threads have their own stack, but share instance members, including any declared locking object(s)."},{"owner":{"account_id":6403579,"reputation":755,"user_id":4965515,"accept_rate":60,"display_name":"stackoverflowed"},"score":0,"creation_date":1648389426,"post_id":41545057,"comment_id":126606374,"body_markdown":"This should be the accepted answer.","body":"This should be the accepted answer."}],"tags":[],"owner":{"account_id":8121822,"reputation":431,"user_id":6118297,"display_name":"MehdiMAH"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1562583867,"creation_date":1483955213,"answer_id":41545057,"question_id":3047564,"body_markdown":"From &quot;The Java™ Tutorials&quot; on [*synchronized* methods][oracle-javase-essentials-syncmeth]:\r\n\r\n&gt; First, it is not possible for two invocations of synchronized methods _on the same object_ to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.\r\n\r\nFrom &quot;The Java™ Tutorials&quot; on [synchronized blocks][oracle-javase-essentials-locksync]:\r\n\r\n&gt; Synchronized statements are also useful for improving concurrency with fine-grained synchronization. Suppose, for example, class MsLunch has two instance fields, c1 and c2, that are never used together. All updates of these fields must be synchronized, _but there&#39;s no reason to prevent an update of c1 from being interleaved with an update of c2_ — and doing so reduces concurrency by creating unnecessary blocking. _Instead of using synchronized methods or otherwise using the lock associated with this, we create two objects solely to provide locks._\r\n\r\n(Emphasis mine)\r\n\r\nSuppose you have 2 *non-interleaving* variables. So you want to access to each one from a different threads at the same time. You need to define the *lock* not on the object class itself, but on the class *Object* like below (example from the second Oracle link):\r\n\r\n    public class MsLunch {\r\n\r\n        private long c1 = 0;\r\n        private long c2 = 0;\r\n\r\n        private Object lock1 = new Object();\r\n        private Object lock2 = new Object();\r\n\r\n        public void inc1() {\r\n            synchronized(lock1) {\r\n                c1++;\r\n            }\r\n        }\r\n\r\n        public void inc2() {\r\n            synchronized(lock2) {\r\n                c2++;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n[oracle-javase-essentials-syncmeth]: https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\r\n[oracle-javase-essentials-locksync]: https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html","title":"Java synchronized method lock on object, or method?","body":"<p>From \"The Java™ Tutorials\" on <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/syncmeth.html\" rel=\"noreferrer\"><em>synchronized</em> methods</a>:</p>\n\n<blockquote>\n  <p>First, it is not possible for two invocations of synchronized methods <em>on the same object</em> to interleave. When one thread is executing a synchronized method for an object, all other threads that invoke synchronized methods for the same object block (suspend execution) until the first thread is done with the object.</p>\n</blockquote>\n\n<p>From \"The Java™ Tutorials\" on <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/locksync.html\" rel=\"noreferrer\">synchronized blocks</a>:</p>\n\n<blockquote>\n  <p>Synchronized statements are also useful for improving concurrency with fine-grained synchronization. Suppose, for example, class MsLunch has two instance fields, c1 and c2, that are never used together. All updates of these fields must be synchronized, <em>but there's no reason to prevent an update of c1 from being interleaved with an update of c2</em> — and doing so reduces concurrency by creating unnecessary blocking. <em>Instead of using synchronized methods or otherwise using the lock associated with this, we create two objects solely to provide locks.</em></p>\n</blockquote>\n\n<p>(Emphasis mine)</p>\n\n<p>Suppose you have 2 <em>non-interleaving</em> variables. So you want to access to each one from a different threads at the same time. You need to define the <em>lock</em> not on the object class itself, but on the class <em>Object</em> like below (example from the second Oracle link):</p>\n\n<pre><code>public class MsLunch {\n\n    private long c1 = 0;\n    private long c2 = 0;\n\n    private Object lock1 = new Object();\n    private Object lock2 = new Object();\n\n    public void inc1() {\n        synchronized(lock1) {\n            c1++;\n        }\n    }\n\n    public void inc2() {\n        synchronized(lock2) {\n            c2++;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9506182,"reputation":94,"user_id":8072535,"display_name":"Jose Velandia"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495837763,"creation_date":1495837763,"answer_id":44210955,"question_id":3047564,"body_markdown":"Yes, it will block the other method because synchronized method applies to the **WHOLE** class object as pointed .... but anyway it will block the other thread execution **ONLY** while performing the sum in whatever method addA or addB it enters, because when it finish ... the one thread will **FREE** the object and the other thread will access the other method and so on perfectly working.\r\n\r\nI mean the &quot;synchronized&quot; is made precisely for blocking the other thread from accessing another while in a specific code execution. SO FINALLY THIS CODE WILL WORK FINE.\r\n\r\nAs a final note, if there is an &#39;a&#39; and &#39;b&#39; variables, not just an unique variable &#39;a&#39; or whatever other name, there is no need to synchronize this methods cause it is perfectly safe accesing other var (Other memory location).\r\n\r\n\r\n\r\n    class X {\r\n\r\n    private int a;\r\n    private int b;\r\n\r\n    public void addA(){\r\n        a++;\r\n    }\r\n\r\n    public void addB(){\r\n        b++;\r\n    }}\r\n\r\nWill work as well","title":"Java synchronized method lock on object, or method?","body":"<p>Yes, it will block the other method because synchronized method applies to the <strong>WHOLE</strong> class object as pointed .... but anyway it will block the other thread execution <strong>ONLY</strong> while performing the sum in whatever method addA or addB it enters, because when it finish ... the one thread will <strong>FREE</strong> the object and the other thread will access the other method and so on perfectly working.</p>\n\n<p>I mean the \"synchronized\" is made precisely for blocking the other thread from accessing another while in a specific code execution. SO FINALLY THIS CODE WILL WORK FINE.</p>\n\n<p>As a final note, if there is an 'a' and 'b' variables, not just an unique variable 'a' or whatever other name, there is no need to synchronize this methods cause it is perfectly safe accesing other var (Other memory location).</p>\n\n<pre><code>class X {\n\nprivate int a;\nprivate int b;\n\npublic void addA(){\n    a++;\n}\n\npublic void addB(){\n    b++;\n}}\n</code></pre>\n\n<p>Will work as well</p>\n"},{"tags":[],"owner":{"account_id":15962756,"reputation":31,"user_id":11519316,"display_name":"Sreedhar Reddy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1682015843,"creation_date":1558321370,"answer_id":56213831,"question_id":3047564,"body_markdown":"In Java synchronization,if a thread want to enter into `synchronized` method/block, it will acquire the lock on: \r\n - all synchronized **non-static** methods of **this object**  \r\n   not just on one synchronized method  that thread is using\r\n - all synchronized **static** methods of **this class** as well \r\n\r\n\r\nSo the thread which will call the synchronized method `addA()` for example, will acquire a lock on `addA()` and `addB()` as both are synchronized.  \r\nSo the other threads with same object cannot execute `addB()`.","title":"Java synchronized method lock on object, or method?","body":"<p>In Java synchronization,if a thread want to enter into <code>synchronized</code> method/block, it will acquire the lock on:</p>\n<ul>\n<li>all synchronized <strong>non-static</strong> methods of <strong>this object</strong><br />\nnot just on one synchronized method  that thread is using</li>\n<li>all synchronized <strong>static</strong> methods of <strong>this class</strong> as well</li>\n</ul>\n<p>So the thread which will call the synchronized method <code>addA()</code> for example, will acquire a lock on <code>addA()</code> and <code>addB()</code> as both are synchronized.<br />\nSo the other threads with same object cannot execute <code>addB()</code>.</p>\n"}],"owner":{"account_id":109922,"reputation":12250,"user_id":291059,"accept_rate":39,"display_name":"wuntee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227800,"favorite_count":0,"down_vote_count":1,"up_vote_count":231,"accepted_answer_id":3047638,"answer_count":11,"score":230,"last_activity_date":1682015843,"creation_date":1276623488,"question_id":3047564,"body_markdown":"If I have 2 synchronized methods in the same class, but each accessing different variables, can 2 threads access those 2 methods at the same time? Does the lock occur on the object, or does it get as specific as the variables inside the synchronized method? \r\n\r\nExample:\r\n\r\n    class X {\r\n\r\n        private int a;\r\n        private int b;\r\n\r\n        public synchronized void addA(){\r\n            a++;\r\n        }\r\n\r\n        public synchronized void addB(){\r\n            b++;\r\n        }\r\n\r\n    }\r\n\r\nCan 2 threads access the same instance of class X performing `x.addA(`) and `x.addB()` at the same time?","title":"Java synchronized method lock on object, or method?","body":"<p>If I have 2 synchronized methods in the same class, but each accessing different variables, can 2 threads access those 2 methods at the same time? Does the lock occur on the object, or does it get as specific as the variables inside the synchronized method? </p>\n\n<p>Example:</p>\n\n<pre><code>class X {\n\n    private int a;\n    private int b;\n\n    public synchronized void addA(){\n        a++;\n    }\n\n    public synchronized void addB(){\n        b++;\n    }\n\n}\n</code></pre>\n\n<p>Can 2 threads access the same instance of class X performing <code>x.addA(</code>) and <code>x.addB()</code> at the same time?</p>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"comments":[{"owner":{"account_id":20611366,"reputation":1,"user_id":15130489,"display_name":"Helvio Siqueira"},"score":0,"creation_date":1682016505,"post_id":76067203,"comment_id":134153607,"body_markdown":"Great, that solved the problem! I really appreciate your assistance, it saved me a significant amount of time. Thank you!","body":"Great, that solved the problem! I really appreciate your assistance, it saved me a significant amount of time. Thank you!"},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":1,"creation_date":1682017008,"post_id":76067203,"comment_id":134153703,"body_markdown":"You&#39;re welcome. If your question is answered, you can mark the answer as accepted.","body":"You&#39;re welcome. If your question is answered, you can mark the answer as accepted."}],"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682015208,"creation_date":1682015208,"answer_id":76067203,"question_id":76066905,"body_markdown":"You&#39;ve set up one `RecyclerView` and returned a different one:\r\n\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n            // ## Creating binding object on which set up is done ##\r\n            HomeFragmentBinding binding = HomeFragmentBinding.inflate(inflater);\r\n    \r\n            tabLayout = binding.tabLayout;\r\n            rvProducts = binding.rvProducts;\r\n    \r\n            setupRecyclerView();\r\n    \r\n            viewModel.getAllProducts();\r\n    \r\n            viewModel.products.observe(getViewLifecycleOwner(), products -&gt; {\r\n                Log.d(&quot;HSV&quot;, products.toString());\r\n                productsAdapter.submitList(products);\r\n            });\r\n    \r\n            // ## Creating new binding object View on which no set up is done #\r\n            return HomeFragmentBinding.inflate(inflater).getRoot();\r\n        }\r\n\r\nReplace\r\n\r\n    return HomeFragmentBinding.inflate(inflater).getRoot();\r\n\r\nWith\r\n\r\n    return binding.getRoot();","title":"My RecyclerView is not populated by submitList","body":"<p>You've set up one <code>RecyclerView</code> and returned a different one:</p>\n<pre><code>public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        // ## Creating binding object on which set up is done ##\n        HomeFragmentBinding binding = HomeFragmentBinding.inflate(inflater);\n\n        tabLayout = binding.tabLayout;\n        rvProducts = binding.rvProducts;\n\n        setupRecyclerView();\n\n        viewModel.getAllProducts();\n\n        viewModel.products.observe(getViewLifecycleOwner(), products -&gt; {\n            Log.d(&quot;HSV&quot;, products.toString());\n            productsAdapter.submitList(products);\n        });\n\n        // ## Creating new binding object View on which no set up is done #\n        return HomeFragmentBinding.inflate(inflater).getRoot();\n    }\n</code></pre>\n<p>Replace</p>\n<pre><code>return HomeFragmentBinding.inflate(inflater).getRoot();\n</code></pre>\n<p>With</p>\n<pre><code>return binding.getRoot();\n</code></pre>\n"}],"owner":{"account_id":20611366,"reputation":1,"user_id":15130489,"display_name":"Helvio Siqueira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682015208,"creation_date":1682012667,"question_id":76066905,"body_markdown":"I&#39;m currently working on a fragment that contains a recyclerView, and I&#39;m attempting to populate it with data obtained from an API. However, I&#39;ve run into some issues as the recyclerView doesn&#39;t seem to display any data even though I&#39;ve verified that the results aren&#39;t null.\r\n\r\nThe Fragment:\r\n\r\n\r\n```\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        HomeFragmentBinding binding = HomeFragmentBinding.inflate(inflater);\r\n\r\n        tabLayout = binding.tabLayout;\r\n        rvProducts = binding.rvProducts;\r\n\r\n        setupRecyclerView();\r\n\r\n        viewModel.getAllProducts();\r\n\r\n        viewModel.products.observe(getViewLifecycleOwner(), products -&gt; {\r\n            Log.d(&quot;HSV&quot;, products.toString());\r\n            productsAdapter.submitList(products);\r\n        });\r\n\r\n        return HomeFragmentBinding.inflate(inflater).getRoot();\r\n    }\r\n\r\n    private void setupRecyclerView() {\r\n        productsAdapter = new ProductsAdapter();\r\n        rvProducts.setAdapter(productsAdapter);\r\n        rvProducts.setLayoutManager(new GridLayoutManager(requireContext(), 2));\r\n    }\r\n```\r\n\r\nThe ListAdapter:\r\n\r\n\r\n```\r\npublic class ProductsAdapter extends ListAdapter&lt;Product, ProductsAdapter.ProductsViewHolder&gt; {\r\n\r\n    public ProductsAdapter() {\r\n        super(DIFF_CALLBACK);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ProductsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_product, parent, false);\r\n\r\n        return new ProductsViewHolder(itemView);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ProductsViewHolder holder, int position) {\r\n        Product item = getItem(position);\r\n        holder.bind(item);\r\n    }\r\n\r\n    static class ProductsViewHolder extends RecyclerView.ViewHolder {\r\n        private final ItemProductBinding binding;\r\n\r\n        public ProductsViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            binding = ItemProductBinding.bind(itemView);\r\n        }\r\n\r\n        void bind(Product itemProduct) {\r\n\r\n            binding.txtNameProduct.setText(itemProduct.getTitle());\r\n            binding.txtTypeProduct.setText(itemProduct.getCategory());\r\n            binding.txtPriceProduct.setText(itemProduct.getPrice());\r\n        }\r\n    }\r\n\r\n    public static final DiffUtil.ItemCallback&lt;Product&gt; DIFF_CALLBACK  = new DiffUtil.ItemCallback&lt;Product&gt;() {\r\n        @Override\r\n        public boolean areItemsTheSame(@NonNull Product oldItem, @NonNull Product newItem) {\r\n            return oldItem.getId() == newItem.getId();\r\n        }\r\n\r\n        @Override\r\n        public boolean areContentsTheSame(@NonNull Product oldItem, @NonNull Product newItem) {\r\n            return oldItem.equals(newItem);\r\n        }\r\n    };\r\n}\r\n```\r\n\r\n\r\n\r\nI have previous experience in developing Android apps using Kotlin, and I&#39;m currently learning Java as well. My assumption was that populating a RecyclerView would be accomplished in a similar manner.","title":"My RecyclerView is not populated by submitList","body":"<p>I'm currently working on a fragment that contains a recyclerView, and I'm attempting to populate it with data obtained from an API. However, I've run into some issues as the recyclerView doesn't seem to display any data even though I've verified that the results aren't null.</p>\n<p>The Fragment:</p>\n<pre><code>    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        HomeFragmentBinding binding = HomeFragmentBinding.inflate(inflater);\n\n        tabLayout = binding.tabLayout;\n        rvProducts = binding.rvProducts;\n\n        setupRecyclerView();\n\n        viewModel.getAllProducts();\n\n        viewModel.products.observe(getViewLifecycleOwner(), products -&gt; {\n            Log.d(&quot;HSV&quot;, products.toString());\n            productsAdapter.submitList(products);\n        });\n\n        return HomeFragmentBinding.inflate(inflater).getRoot();\n    }\n\n    private void setupRecyclerView() {\n        productsAdapter = new ProductsAdapter();\n        rvProducts.setAdapter(productsAdapter);\n        rvProducts.setLayoutManager(new GridLayoutManager(requireContext(), 2));\n    }\n</code></pre>\n<p>The ListAdapter:</p>\n<pre><code>public class ProductsAdapter extends ListAdapter&lt;Product, ProductsAdapter.ProductsViewHolder&gt; {\n\n    public ProductsAdapter() {\n        super(DIFF_CALLBACK);\n    }\n\n    @NonNull\n    @Override\n    public ProductsViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View itemView = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_product, parent, false);\n\n        return new ProductsViewHolder(itemView);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ProductsViewHolder holder, int position) {\n        Product item = getItem(position);\n        holder.bind(item);\n    }\n\n    static class ProductsViewHolder extends RecyclerView.ViewHolder {\n        private final ItemProductBinding binding;\n\n        public ProductsViewHolder(View itemView) {\n            super(itemView);\n\n            binding = ItemProductBinding.bind(itemView);\n        }\n\n        void bind(Product itemProduct) {\n\n            binding.txtNameProduct.setText(itemProduct.getTitle());\n            binding.txtTypeProduct.setText(itemProduct.getCategory());\n            binding.txtPriceProduct.setText(itemProduct.getPrice());\n        }\n    }\n\n    public static final DiffUtil.ItemCallback&lt;Product&gt; DIFF_CALLBACK  = new DiffUtil.ItemCallback&lt;Product&gt;() {\n        @Override\n        public boolean areItemsTheSame(@NonNull Product oldItem, @NonNull Product newItem) {\n            return oldItem.getId() == newItem.getId();\n        }\n\n        @Override\n        public boolean areContentsTheSame(@NonNull Product oldItem, @NonNull Product newItem) {\n            return oldItem.equals(newItem);\n        }\n    };\n}\n</code></pre>\n<p>I have previous experience in developing Android apps using Kotlin, and I'm currently learning Java as well. My assumption was that populating a RecyclerView would be accomplished in a similar manner.</p>\n"},{"tags":["java","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1682010655,"post_id":76066635,"comment_id":134152398,"body_markdown":"Edit question to add exact error and the stacktrace.","body":"Edit question to add exact error and the stacktrace."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1682010831,"post_id":76066635,"comment_id":134152434,"body_markdown":"If you have context path set to demo then remove demo from the controller request mapping path.","body":"If you have context path set to demo then remove demo from the controller request mapping path."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":1,"creation_date":1682010871,"post_id":76066635,"comment_id":134152441,"body_markdown":"Remove `/demo` from `@RequestMapping(&quot;/demo/api/v1&quot;)`","body":"Remove <code>&#47;demo</code> from <code>@RequestMapping(&quot;&#47;demo&#47;api&#47;v1&quot;)</code>"},{"owner":{"account_id":22674611,"reputation":13,"user_id":16845879,"display_name":"Jake Z"},"score":0,"creation_date":1682013508,"post_id":76066635,"comment_id":134153024,"body_markdown":"I have removed `/demo&#39; still no luck.","body":"I have removed `/demo&#39; still no luck."},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682013984,"post_id":76066635,"comment_id":134153105,"body_markdown":"can you provide error message or stacktrace please?","body":"can you provide error message or stacktrace please?"},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682014063,"post_id":76066635,"comment_id":134153116,"body_markdown":"also how/where did you set context path as &#39;/demo&#39;. More information please.","body":"also how/where did you set context path as &#39;/demo&#39;. More information please."},{"owner":{"account_id":22674611,"reputation":13,"user_id":16845879,"display_name":"Jake Z"},"score":0,"creation_date":1682014700,"post_id":76066635,"comment_id":134153233,"body_markdown":"Thank you for your replies!\nI use Smart Tomcat plugin, in run configuration set context path.","body":"Thank you for your replies! I use Smart Tomcat plugin, in run configuration set context path."},{"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"score":0,"creation_date":1682015219,"post_id":76066635,"comment_id":134153350,"body_markdown":"be sure to set context path : &quot;server.servlet.context-path=/demo&quot; in the application.properties file","body":"be sure to set context path : &quot;server.servlet.context-path=/demo&quot; in the application.properties file"},{"owner":{"account_id":20716510,"reputation":219,"user_id":15211804,"display_name":"Trevor Kropp"},"score":0,"creation_date":1682017394,"post_id":76066635,"comment_id":134153778,"body_markdown":"Did you remember to build the project before running it?","body":"Did you remember to build the project before running it?"},{"owner":{"account_id":22674611,"reputation":13,"user_id":16845879,"display_name":"Jake Z"},"score":0,"creation_date":1682027556,"post_id":76066635,"comment_id":134155600,"body_markdown":"Never mind I switched to other IDE works fine. Something weird going on I dont know.","body":"Never mind I switched to other IDE works fine. Something weird going on I dont know."}],"answers":[{"comments":[{"owner":{"account_id":22674611,"reputation":13,"user_id":16845879,"display_name":"Jake Z"},"score":0,"creation_date":1682013248,"post_id":76066692,"comment_id":134152965,"body_markdown":"I have changed path multiple times and wont work. I tried your url is still whitelable page","body":"I have changed path multiple times and wont work. I tried your url is still whitelable page"}],"tags":[],"owner":{"account_id":20716510,"reputation":219,"user_id":15211804,"display_name":"Trevor Kropp"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682010869,"creation_date":1682010869,"answer_id":76066692,"question_id":76066635,"body_markdown":"If the context path is &quot;/demo&quot; and the path to the controller method is &quot;/demo/api/v1/employees&quot;, then the URL you need to use is the following:\r\n```\r\nlocalhost:8080/demo/demo/api/v1/employees\r\n```\r\n","title":"Spring- whitelable error page: This application has no explicit mapping for /error, so you are seeing this as a fallback","body":"<p>If the context path is &quot;/demo&quot; and the path to the controller method is &quot;/demo/api/v1/employees&quot;, then the URL you need to use is the following:</p>\n<pre><code>localhost:8080/demo/demo/api/v1/employees\n</code></pre>\n"}],"owner":{"account_id":22674611,"reputation":13,"user_id":16845879,"display_name":"Jake Z"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682014753,"creation_date":1682010329,"question_id":76066635,"body_markdown":"I&#39;m learning a Spring Boot project online, but even though I followed everything in the video, my code doesn&#39;t work as expected. I keep getting a whitelabel page.\r\nHere is my code below:\r\n\r\nController I have removed demo sorry for the confusion.\r\n\r\n```\r\n @RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class EmployeeController {\r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n@GetMapping(&quot;/employees&quot;)\r\n    public List&lt;Employee&gt; getAllEmployees() {\r\n    //System.out.println(employeeRepository.findAll());\r\n        return employeeRepository.findAll();\r\n    }\r\n}\r\n```\r\n\r\napplication\r\n\r\n```\r\nimport com.example.springboot.model.Employee;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\r\n\r\n}\r\n\r\n```\r\n\r\napplication properties\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3306/employee_management_system\r\nspring.datasource.username=root\r\nspring.datasource.password=\r\n\r\n\r\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.defer-datasource-initialization=true\r\n\r\n```\r\n\r\npom\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;springboot-backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;springboot-backend&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nHere is message in the console:\r\n```\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::                (v3.0.5)\r\n\r\n2023-04-20T14:04:02.315-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : Starting ServletInitializer using Java 17.0.2 with PID 15092 (F:\\Javaproject-playground\\springboot-backend\\target\\classes started by billz in C:\\Users\\billz\\.SmartTomcat\\springboot-backend\\springboot-backend)\r\n2023-04-20T14:04:02.319-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-04-20T14:04:02.439-04:00  INFO 15092 --- [           main] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the &#39;logging.level.web&#39; property to &#39;DEBUG&#39;\r\n2023-04-20T14:04:03.450-04:00  INFO 15092 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2023-04-20T14:04:03.494-04:00  INFO 15092 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 JPA repository interfaces.\r\n2023-04-20T14:04:03.959-04:00  INFO 15092 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1516 ms\r\n2023-04-20T14:04:04.372-04:00  INFO 15092 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n2023-04-20T14:04:04.519-04:00  INFO 15092 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\r\n2023-04-20T14:04:05.245-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n2023-04-20T14:04:05.806-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@563a32a2\r\n2023-04-20T14:04:05.809-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n2023-04-20T14:04:05.898-04:00  INFO 15092 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n2023-04-20T14:04:07.519-04:00  INFO 15092 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n2023-04-20T14:04:07.540-04:00  INFO 15092 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-04-20T14:04:07.658-04:00  WARN 15092 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n2023-04-20T14:04:08.289-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : Started ServletInitializer in 6.725 seconds (process running for 11.033)\r\n20-Apr-2023 14:04:08.342  [main] org.apache.catalina.startup.HostConfig.deployDescriptor[C:\\Users\\billz\\.SmartTomcat\\springboot-backend\\springboot-backend\\conf\\Catalina\\localhost\\demo.xml][10,348]ms\r\n20-Apr-2023 14:04:08.344  [main] org.apache.coyote.AbstractProtocol.start [&quot;http-nio-8080&quot;]\r\n20-Apr-2023 14:04:08.362  [main] org.apache.catalina.startup.Catalina.start [10426]\r\nhttp://localhost:8080/demo\r\n2023-04-20T14:04:30.050-04:00  INFO 15092 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-04-20T14:04:30.051-04:00  INFO 15092 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n```\r\n\r\nIt was supposed to load all the employees on the website at localhost:8080/demo/api/v1/employees, but instead I got a whitelabel page.\r\nI don&#39;t know what I did wrong. Is it possible that I&#39;m using Tomcat through Intellij Community Edition, causing this problem? I set the context path as &#39;/demo&#39;.\r\nThank you so much for any help!\r\n","title":"Spring- whitelable error page: This application has no explicit mapping for /error, so you are seeing this as a fallback","body":"<p>I'm learning a Spring Boot project online, but even though I followed everything in the video, my code doesn't work as expected. I keep getting a whitelabel page.\nHere is my code below:</p>\n<p>Controller I have removed demo sorry for the confusion.</p>\n<pre><code> @RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class EmployeeController {\n    @Autowired\n    private EmployeeRepository employeeRepository;\n@GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees() {\n    //System.out.println(employeeRepository.findAll());\n        return employeeRepository.findAll();\n    }\n}\n</code></pre>\n<p>application</p>\n<pre><code>import com.example.springboot.model.Employee;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, Long&gt; {\n\n}\n\n</code></pre>\n<p>application properties</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/employee_management_system\nspring.datasource.username=root\nspring.datasource.password=\n\n\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.defer-datasource-initialization=true\n\n</code></pre>\n<p>pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;springboot-backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;springboot-backend&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n            &lt;version&gt;6.0.7&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Here is message in the console:</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.5)\n\n2023-04-20T14:04:02.315-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : Starting ServletInitializer using Java 17.0.2 with PID 15092 (F:\\Javaproject-playground\\springboot-backend\\target\\classes started by billz in C:\\Users\\billz\\.SmartTomcat\\springboot-backend\\springboot-backend)\n2023-04-20T14:04:02.319-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-04-20T14:04:02.439-04:00  INFO 15092 --- [           main] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'\n2023-04-20T14:04:03.450-04:00  INFO 15092 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2023-04-20T14:04:03.494-04:00  INFO 15092 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 22 ms. Found 0 JPA repository interfaces.\n2023-04-20T14:04:03.959-04:00  INFO 15092 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1516 ms\n2023-04-20T14:04:04.372-04:00  INFO 15092 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2023-04-20T14:04:04.519-04:00  INFO 15092 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.1.7.Final\n2023-04-20T14:04:05.245-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2023-04-20T14:04:05.806-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@563a32a2\n2023-04-20T14:04:05.809-04:00  INFO 15092 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2023-04-20T14:04:05.898-04:00  INFO 15092 --- [           main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n2023-04-20T14:04:07.519-04:00  INFO 15092 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2023-04-20T14:04:07.540-04:00  INFO 15092 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2023-04-20T14:04:07.658-04:00  WARN 15092 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2023-04-20T14:04:08.289-04:00  INFO 15092 --- [           main] c.e.s.ServletInitializer                 : Started ServletInitializer in 6.725 seconds (process running for 11.033)\n20-Apr-2023 14:04:08.342  [main] org.apache.catalina.startup.HostConfig.deployDescriptor[C:\\Users\\billz\\.SmartTomcat\\springboot-backend\\springboot-backend\\conf\\Catalina\\localhost\\demo.xml][10,348]ms\n20-Apr-2023 14:04:08.344  [main] org.apache.coyote.AbstractProtocol.start [&quot;http-nio-8080&quot;]\n20-Apr-2023 14:04:08.362  [main] org.apache.catalina.startup.Catalina.start [10426]\nhttp://localhost:8080/demo\n2023-04-20T14:04:30.050-04:00  INFO 15092 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-04-20T14:04:30.051-04:00  INFO 15092 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n</code></pre>\n<p>It was supposed to load all the employees on the website at localhost:8080/demo/api/v1/employees, but instead I got a whitelabel page.\nI don't know what I did wrong. Is it possible that I'm using Tomcat through Intellij Community Edition, causing this problem? I set the context path as '/demo'.\nThank you so much for any help!</p>\n"},{"tags":["java","postgresql","hibernate","jpa","h2"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1681968866,"post_id":76060733,"comment_id":134142719,"body_markdown":"retrieve the value as datetime and convert in Java?  Or create a common function in H2","body":"retrieve the value as datetime and convert in Java?  Or create a common function in H2"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":4,"creation_date":1681976737,"post_id":76060733,"comment_id":134144008,"body_markdown":"I don&#39;t see a `date()` function in documentation of PostgreSQL, but it seems to work exactly like standard cast specification `CAST(timestampValue AS DATE)`, so it is reasonable to use the standard syntax instead of this vendor-specific function.","body":"I don&#39;t see a <code>date()</code> function in documentation of PostgreSQL, but it seems to work exactly like standard cast specification <code>CAST(timestampValue AS DATE)</code>, so it is reasonable to use the standard syntax instead of this vendor-specific function."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1681979930,"post_id":76060733,"comment_id":134144715,"body_markdown":"Can you use HQL as shown here? [How to convert datetime to date in JPQL?](https://stackoverflow.com/questions/59124239/how-to-convert-datetime-to-date-in-jpql)","body":"Can you use HQL as shown here? <a href=\"https://stackoverflow.com/questions/59124239/how-to-convert-datetime-to-date-in-jpql\">How to convert datetime to date in JPQL?</a>"},{"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1682003607,"post_id":76060733,"comment_id":134150605,"body_markdown":"H2 [date_trunc](http://h2database.com/html/functions.html#date_trunc), Postgres [date_trunc](https://www.postgresql.org/docs/current/functions-datetime.html#FUNCTIONS-DATETIME-TRUNC).","body":"H2 <a href=\"http://h2database.com/html/functions.html#date_trunc\" rel=\"nofollow noreferrer\">date_trunc</a>, Postgres <a href=\"https://www.postgresql.org/docs/current/functions-datetime.html#FUNCTIONS-DATETIME-TRUNC\" rel=\"nofollow noreferrer\">date_trunc</a>."}],"answers":[{"tags":[],"owner":{"account_id":9513375,"reputation":16527,"user_id":7070613,"display_name":"Adrian Klaver"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682014734,"creation_date":1682006838,"answer_id":76066178,"question_id":76060733,"body_markdown":"H2 and Postgres share the `date_trunc` function. \r\n\r\nAlso per the H2 docs [Trunc](http://h2database.com/html/functions.html#trunc):\r\n\r\n&gt;This function with datetime or string argument is deprecated, use DATE_TRUNC instead. When used with a timestamp, truncates the timestamp to a date (day) value and returns a timestamp with or without time zone depending on type of the argument. When used with a date, returns a timestamp at start of this date. When used with a timestamp as string, truncates the timestamp to a date (day) value and returns a timestamp without time zone.\r\n\r\nExample usage.\r\n\r\nH2\r\n```\r\nselect DATE_TRUNC(&#39;DAY&#39;, TIMESTAMP &#39;2023-04-20 09:04:00&#39;)\r\n2023-04-20 00:00:00\r\n```\r\n\r\nPostgres\r\n\r\n```\r\nselect DATE_TRUNC(&#39;DAY&#39;, TIMESTAMP &#39;2023-04-20 09:04:00&#39;);\r\n2023-04-20 00:00:00\r\n```\r\n\r\nOr if you really just want a date:\r\n\r\nH2\r\n\r\n```\r\nSELECT CAST(TIMESTAMP &#39;2023-04-20 09:04:00&#39; AS DATE)\r\n2023-04-20\r\n```\r\nPostgres\r\n```\r\nSELECT CAST(TIMESTAMP &#39;2023-04-20 09:04:00&#39; AS DATE);\r\n2023-04-20\r\n\r\n\r\n```\r\n\r\n","title":"How to truncate Time from a Timestamp in H2 and Postgresql with the same command?","body":"<p>H2 and Postgres share the <code>date_trunc</code> function.</p>\n<p>Also per the H2 docs <a href=\"http://h2database.com/html/functions.html#trunc\" rel=\"nofollow noreferrer\">Trunc</a>:</p>\n<blockquote>\n<p>This function with datetime or string argument is deprecated, use DATE_TRUNC instead. When used with a timestamp, truncates the timestamp to a date (day) value and returns a timestamp with or without time zone depending on type of the argument. When used with a date, returns a timestamp at start of this date. When used with a timestamp as string, truncates the timestamp to a date (day) value and returns a timestamp without time zone.</p>\n</blockquote>\n<p>Example usage.</p>\n<p>H2</p>\n<pre><code>select DATE_TRUNC('DAY', TIMESTAMP '2023-04-20 09:04:00')\n2023-04-20 00:00:00\n</code></pre>\n<p>Postgres</p>\n<pre><code>select DATE_TRUNC('DAY', TIMESTAMP '2023-04-20 09:04:00');\n2023-04-20 00:00:00\n</code></pre>\n<p>Or if you really just want a date:</p>\n<p>H2</p>\n<pre><code>SELECT CAST(TIMESTAMP '2023-04-20 09:04:00' AS DATE)\n2023-04-20\n</code></pre>\n<p>Postgres</p>\n<pre><code>SELECT CAST(TIMESTAMP '2023-04-20 09:04:00' AS DATE);\n2023-04-20\n\n\n</code></pre>\n"}],"owner":{"account_id":149726,"reputation":410,"user_id":362443,"accept_rate":60,"display_name":"JPS"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":439,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76066178,"answer_count":1,"score":1,"last_activity_date":1682014734,"creation_date":1681967236,"question_id":76060733,"body_markdown":"We are using hibernate through jpa in java.\r\nApplications uses postgresql in prod and h2 in memory database for tests.\r\n\r\nIn some functionality we are basically using &quot;select date(timestampfield) from sometable&quot; to cut off the time part of the timestamp and only have the date.\r\n\r\nThe problem comes when this goes into testing, because h2 does not know &quot;date&quot; as a function. h2 does this with &quot;trunc&quot;. Bust postgres does not know &quot;trunc&quot;.\r\n\r\nEven switching h2 to postgres compatibility mode does not help.\r\n\r\nSo currently we have to change the code, so it checks whether we are testing and use this to switch between using &quot;date&quot; and &quot;trunc&quot;.\r\n\r\nI am hoping for a smarter way that does not require code changes to get this to work.\r\n\r\n(Can&#39;t move the cutting of the time from select into code, because the actual use of the function is in a where clause where the time has to be ignored in a comparison.)","title":"How to truncate Time from a Timestamp in H2 and Postgresql with the same command?","body":"<p>We are using hibernate through jpa in java.\nApplications uses postgresql in prod and h2 in memory database for tests.</p>\n<p>In some functionality we are basically using &quot;select date(timestampfield) from sometable&quot; to cut off the time part of the timestamp and only have the date.</p>\n<p>The problem comes when this goes into testing, because h2 does not know &quot;date&quot; as a function. h2 does this with &quot;trunc&quot;. Bust postgres does not know &quot;trunc&quot;.</p>\n<p>Even switching h2 to postgres compatibility mode does not help.</p>\n<p>So currently we have to change the code, so it checks whether we are testing and use this to switch between using &quot;date&quot; and &quot;trunc&quot;.</p>\n<p>I am hoping for a smarter way that does not require code changes to get this to work.</p>\n<p>(Can't move the cutting of the time from select into code, because the actual use of the function is in a where clause where the time has to be ignored in a comparison.)</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":28238466,"reputation":33,"user_id":21586591,"display_name":"Raja Mali"},"score":0,"creation_date":1682053310,"post_id":76067118,"comment_id":134158218,"body_markdown":"I am not satisfied to your answer actually when I have numbers of user is login on my app and very one can insert data then last id how can define  so, how to manage it.","body":"I am not satisfied to your answer actually when I have numbers of user is login on my app and very one can insert data then last id how can define  so, how to manage it."}],"tags":[],"owner":{"account_id":14226667,"reputation":523,"user_id":10277150,"display_name":"gurkan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682014567,"creation_date":1682014567,"answer_id":76067118,"question_id":76066022,"body_markdown":"I don&#39;t know how can we solve it easily but there is a workaround. You can create a custom id generator class. Don&#39;t forget, before set ID you have to check last value of id in database.\r\n\r\nHere is example:\r\n\r\n\r\n\r\n    @Service\r\n    public class CustomIdGenerator {\r\n    \r\n        private static final String PREFIX = &quot;R&quot;;\r\n        private static AtomicInteger counter;\r\n    \r\n        private final YourRepository yourRepository;\r\n    \r\n        public CustomIdGenerator(YourRepository yourRepository) {\r\n            this.yourRepository = yourRepository;\r\n        }\r\n    \r\n        @PostConstruct\r\n        private void init() {\r\n            int lastId = getLastIdFromDatabase();\r\n            counter = new AtomicInteger(lastId);\r\n        }\r\n    \r\n        public String generateId() {\r\n            return PREFIX + counter.incrementAndGet();\r\n        }\r\n    \r\n        private int getLastIdFromDatabase() {\r\n            String lastId = yourRepository.findLastId();\r\n            if (lastId == null) {\r\n                return 2023000;\r\n            }\r\n            return Integer.parseInt(lastId.substring(PREFIX.length()));\r\n        }\r\n    }\r\n\r\n        @Repository\r\n        public interface YourRepository extends JpaRepository&lt;YourEntity,  String&gt; {\r\n            @Query(value = &quot;SELECT id FROM your_table ORDER BY id\r\n             DESC LIMIT 1&quot;, nativeQuery = true)\r\n            String findLastId();\r\n        }\r\n\r\n\r\nusage:\r\n\r\n     public void saveYourEntity(YourEntity entity) {\r\n            entity.setId(customIdGenerator.generateId());\r\n            yourRepository.save(entity);\r\n        }\r\n\r\n","title":"I want to generate custom ID in table like R2023001 in Spring Boot Java","body":"<p>I don't know how can we solve it easily but there is a workaround. You can create a custom id generator class. Don't forget, before set ID you have to check last value of id in database.</p>\n<p>Here is example:</p>\n<pre><code>@Service\npublic class CustomIdGenerator {\n\n    private static final String PREFIX = &quot;R&quot;;\n    private static AtomicInteger counter;\n\n    private final YourRepository yourRepository;\n\n    public CustomIdGenerator(YourRepository yourRepository) {\n        this.yourRepository = yourRepository;\n    }\n\n    @PostConstruct\n    private void init() {\n        int lastId = getLastIdFromDatabase();\n        counter = new AtomicInteger(lastId);\n    }\n\n    public String generateId() {\n        return PREFIX + counter.incrementAndGet();\n    }\n\n    private int getLastIdFromDatabase() {\n        String lastId = yourRepository.findLastId();\n        if (lastId == null) {\n            return 2023000;\n        }\n        return Integer.parseInt(lastId.substring(PREFIX.length()));\n    }\n}\n\n    @Repository\n    public interface YourRepository extends JpaRepository&lt;YourEntity,  String&gt; {\n        @Query(value = &quot;SELECT id FROM your_table ORDER BY id\n         DESC LIMIT 1&quot;, nativeQuery = true)\n        String findLastId();\n    }\n</code></pre>\n<p>usage:</p>\n<pre><code> public void saveYourEntity(YourEntity entity) {\n        entity.setId(customIdGenerator.generateId());\n        yourRepository.save(entity);\n    }\n</code></pre>\n"}],"owner":{"account_id":28238466,"reputation":33,"user_id":21586591,"display_name":"Raja Mali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1682014567,"creation_date":1682005846,"question_id":76066022,"body_markdown":"But my Question is that the id is generated to api or in database directly.\r\n\r\nwhat is the better option, please share your answers and suggestions \r\n\r\nMy database is MySQL or MS SQL Server \r\n\r\nThanks in advance.\r\n\r\nGenerate custom Id and not interrupt at runtime when there is traffic on my app.","title":"I want to generate custom ID in table like R2023001 in Spring Boot Java","body":"<p>But my Question is that the id is generated to api or in database directly.</p>\n<p>what is the better option, please share your answers and suggestions</p>\n<p>My database is MySQL or MS SQL Server</p>\n<p>Thanks in advance.</p>\n<p>Generate custom Id and not interrupt at runtime when there is traffic on my app.</p>\n"},{"tags":["java","spring","oracle","spring-data-jpa"],"comments":[{"owner":{"account_id":27974006,"reputation":10316,"user_id":21363224,"display_name":"markalex"},"score":1,"creation_date":1681941717,"post_id":76059026,"comment_id":134139945,"body_markdown":"Does this answer your question? [Oracle: If Table Exists](https://stackoverflow.com/questions/1799128/oracle-if-table-exists)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1799128/oracle-if-table-exists\">Oracle: If Table Exists</a>"},{"owner":{"account_id":15563381,"reputation":1306,"user_id":11227919,"display_name":"Himanshu Kandpal"},"score":0,"creation_date":1681948672,"post_id":76059026,"comment_id":134140727,"body_markdown":"If you are using Oracle 23c: then you can use If Table Exists clause &quot;drop   table IF  EXIST PHONEBOOK; &quot; , or else you can check if the table is present in ALL_TABLES and then Drop it.","body":"If you are using Oracle 23c: then you can use If Table Exists clause &quot;drop   table IF  EXIST PHONEBOOK; &quot; , or else you can check if the table is present in ALL_TABLES and then Drop it."},{"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"score":0,"creation_date":1681999647,"post_id":76059026,"comment_id":134149502,"body_markdown":"I tried the  `WHENEVER SQLERROR CONTINUE NONE DROP TABLE PHONEBOOK PURGE;` statement but it gives `ORA-00900: invalid SQL statement`","body":"I tried the  <code>WHENEVER SQLERROR CONTINUE NONE DROP TABLE PHONEBOOK PURGE;</code> statement but it gives <code>ORA-00900: invalid SQL statement</code>"},{"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"score":0,"creation_date":1682014404,"post_id":76059026,"comment_id":134153181,"body_markdown":"Found the solution, I needed to add `sql.init.continue-on-error: true`","body":"Found the solution, I needed to add <code>sql.init.continue-on-error: true</code>"}],"answers":[{"tags":[],"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682014472,"creation_date":1682014472,"answer_id":76067103,"question_id":76059026,"body_markdown":"  sql:\r\n    init:\r\n      mode: always\r\n      continue-on-error: true","title":"ORA-00942: table or view does not exist - Spring JPA","body":"<p>sql:\ninit:\nmode: always\ncontinue-on-error: true</p>\n"}],"owner":{"account_id":25207018,"reputation":63,"user_id":19045208,"display_name":"Tallen67"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682014472,"creation_date":1681940647,"question_id":76059026,"body_markdown":"I&#39;ve got a spring project with the following application.yaml:\r\n\r\n```\r\nspring:\r\n  application:\r\n    name: phonebook\r\n  sql:\r\n    init:\r\n      mode: always\r\n\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: none\r\n    properties:\r\n      hibernate:\r\n        dialect: org.hibernate.dialect.Oracle12cDialect\r\n        format_sql: true\r\n      show-sql: true\r\n\r\n  # Datasource Configuration\r\n  datasource:\r\n    url: jdbc:oracle:thin:@//localhost:1521/freepdb1\r\n    username: username\r\n    password: topsecret\r\n    driver-class-name: oracle.jdbc.OracleDriver\r\n    type: oracle.ucp.jdbc.PoolDataSource\r\n    oracleucp:\r\n      connection-factory-class-name: oracle.jdbc.pool.OracleDataSource\r\n      sql-for-validate-connection: select * from dual\r\n      connection-pool-name: phoneBookConnectionPool\r\n      initial-pool-size: 15\r\n      min-pool-size: 10\r\n      max-pool-size: 30\r\n      fast-connection-failover-enabled: false\r\n```\r\nTo initialize the database I&#39;ve created a `schema.sql` file with the following content:\r\n```\r\nDROP TABLE PHONEBOOK PURGE;\r\n\r\nCREATE TABLE PHONEBOOK (\r\n    &quot;PHONEBOOK_ID&quot; NUMBER GENERATED ALWAYS AS IDENTITY ( START WITH 1 CACHE 20 ) NOT NULL ENABLE,\r\n    &quot;FIRST_NAME&quot;   VARCHAR2(40) NOT NULL,\r\n    &quot;LAST_NAME&quot;    VARCHAR2(40) NOT NULL,\r\n    &quot;PHONE_NUMBER&quot; VARCHAR2(12) NOT NULL,\r\n    &quot;CREATE_DATE&quot;  TIMESTAMP DEFAULT SYSDATE,\r\n    PRIMARY KEY (&quot;PHONEBOOK_ID&quot;)\r\n);\r\n```\r\nAnd a `data.sql` file with this content:\r\n```\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;James&#39;, &#39;Butt&#39;, &#39;504-621-8927&#39;);\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;Josephine&#39;, &#39;Darakjy&#39;, &#39;810-292-9388&#39;);\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;Art&#39;, &#39;Venere&#39;, &#39;856-636-8749&#39;);\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;Lenna&#39;, &#39;Paprocki&#39;, &#39;907-385-4412&#39;);\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;Donette&#39;, &#39;Foller&#39;, &#39;513-570-1893&#39;);\r\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES (&#39;Simona&#39;, &#39;Morasca&#39;, &#39;419-503-2484&#39;);\r\n```\r\n`schema.sql` and `data.sql` lives under the `resources` directory in my project. However when I run the application it stops with the following error:\r\n```\r\nCaused by: oracle.jdbc.OracleDatabaseException: ORA-00942: table or view does not exist\r\n``` \r\nWhich makes total sense as the table doesn&#39;t exist. Is there a way of configuring Spring so the application doesn&#39;t quit and just ignores the error and creates the table and moves on?\r\n\r\nI&#39;m using Oracle 19c and Spring 2.7.10","title":"ORA-00942: table or view does not exist - Spring JPA","body":"<p>I've got a spring project with the following application.yaml:</p>\n<pre><code>spring:\n  application:\n    name: phonebook\n  sql:\n    init:\n      mode: always\n\n  jpa:\n    hibernate:\n      ddl-auto: none\n    properties:\n      hibernate:\n        dialect: org.hibernate.dialect.Oracle12cDialect\n        format_sql: true\n      show-sql: true\n\n  # Datasource Configuration\n  datasource:\n    url: jdbc:oracle:thin:@//localhost:1521/freepdb1\n    username: username\n    password: topsecret\n    driver-class-name: oracle.jdbc.OracleDriver\n    type: oracle.ucp.jdbc.PoolDataSource\n    oracleucp:\n      connection-factory-class-name: oracle.jdbc.pool.OracleDataSource\n      sql-for-validate-connection: select * from dual\n      connection-pool-name: phoneBookConnectionPool\n      initial-pool-size: 15\n      min-pool-size: 10\n      max-pool-size: 30\n      fast-connection-failover-enabled: false\n</code></pre>\n<p>To initialize the database I've created a <code>schema.sql</code> file with the following content:</p>\n<pre><code>DROP TABLE PHONEBOOK PURGE;\n\nCREATE TABLE PHONEBOOK (\n    &quot;PHONEBOOK_ID&quot; NUMBER GENERATED ALWAYS AS IDENTITY ( START WITH 1 CACHE 20 ) NOT NULL ENABLE,\n    &quot;FIRST_NAME&quot;   VARCHAR2(40) NOT NULL,\n    &quot;LAST_NAME&quot;    VARCHAR2(40) NOT NULL,\n    &quot;PHONE_NUMBER&quot; VARCHAR2(12) NOT NULL,\n    &quot;CREATE_DATE&quot;  TIMESTAMP DEFAULT SYSDATE,\n    PRIMARY KEY (&quot;PHONEBOOK_ID&quot;)\n);\n</code></pre>\n<p>And a <code>data.sql</code> file with this content:</p>\n<pre><code>INSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('James', 'Butt', '504-621-8927');\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('Josephine', 'Darakjy', '810-292-9388');\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('Art', 'Venere', '856-636-8749');\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('Lenna', 'Paprocki', '907-385-4412');\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('Donette', 'Foller', '513-570-1893');\nINSERT INTO PHONEBOOK (FIRST_NAME, LAST_NAME, PHONE_NUMBER) VALUES ('Simona', 'Morasca', '419-503-2484');\n</code></pre>\n<p><code>schema.sql</code> and <code>data.sql</code> lives under the <code>resources</code> directory in my project. However when I run the application it stops with the following error:</p>\n<pre><code>Caused by: oracle.jdbc.OracleDatabaseException: ORA-00942: table or view does not exist\n</code></pre>\n<p>Which makes total sense as the table doesn't exist. Is there a way of configuring Spring so the application doesn't quit and just ignores the error and creates the table and moves on?</p>\n<p>I'm using Oracle 19c and Spring 2.7.10</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":16608628,"reputation":19,"user_id":12002326,"display_name":"Joshy Paily"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682013860,"creation_date":1670600133,"answer_id":74745208,"question_id":74745036,"body_markdown":" - From postman select body -&gt; select raw -&gt; select json\r\n\r\n screenshot \r\n&lt;img src=&quot;https://i.stack.imgur.com/lGtLb.png&quot;&gt;","title":"Spring Boot returns 415: Unsupported Media Type on create","body":"<ul>\n<li>From postman select body -&gt; select raw -&gt; select json</li>\n</ul>\n<p>screenshot\n<img src=\"https://i.stack.imgur.com/lGtLb.png\"></p>\n"},{"tags":[],"owner":{"account_id":6930529,"reputation":496,"user_id":5320122,"display_name":"Amit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1670600226,"creation_date":1670600226,"answer_id":74745231,"question_id":74745036,"body_markdown":"For the REST API you are trying to implement, the request you are submitting using Postman is not form-data. The header `Content-Type` should be `application/json`. And  the `body` should be like:\r\n```\r\n{\r\n    &quot;title&quot; : &quot;The Godfather&quot;,\r\n    &quot;body&quot; : &quot;I am going to make him an offer he can&#39;t refuse.&quot;\r\n}\r\n```\r\nScreen shot\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bdyZN.png","title":"Spring Boot returns 415: Unsupported Media Type on create","body":"<p>For the REST API you are trying to implement, the request you are submitting using Postman is not form-data. The header <code>Content-Type</code> should be <code>application/json</code>. And  the <code>body</code> should be like:</p>\n<pre><code>{\n    &quot;title&quot; : &quot;The Godfather&quot;,\n    &quot;body&quot; : &quot;I am going to make him an offer he can't refuse.&quot;\n}\n</code></pre>\n<p>Screen shot\n<a href=\"https://i.stack.imgur.com/bdyZN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bdyZN.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"display_name":"user19163958"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74745231,"answer_count":2,"score":0,"last_activity_date":1682013860,"creation_date":1670599211,"question_id":74745036,"body_markdown":"I&#39;m new to Spring Boot. I&#39;m trying to create a `create` endpoint which only expects an object with only a `title` and `body`. The `Uuid` and `created_at` should be generated. I try to send a `POST` request with Postman adding the values under `Body` and `form-data`. But it returns the following:\r\n\r\n    {\r\n        &quot;timestamp&quot;: &quot;2022-12-09T15:11:02.659+00:00&quot;,\r\n        &quot;status&quot;: 415,\r\n        &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n        &quot;path&quot;: &quot;/tasks&quot;\r\n    }\r\n\r\nController method:\r\n\r\n    @PostMapping\r\n        public ResponseEntity&lt;?&gt; create(@RequestBody TaskDTO requestTask) {\r\n            System.out.println(requestTask);\r\n            Task newTask = new Task(requestTask.uuid.toString(), requestTask.title, requestTask.body, requestTask.created_at);\r\n            Task task = taskRepository.save(newTask);\r\n    \r\n    \r\n            return ResponseEntity\r\n                    .ok()\r\n                    .body(task);\r\n        }\r\n\r\nTask.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;tasks&quot;)\r\n    public class Task {\r\n    \r\n        @Id\r\n        @Getter\r\n        @GeneratedValue\r\n        private UUID uuid;\r\n\r\n        @Getter\r\n        @Setter\r\n        private String title;\r\n\r\n        @Getter\r\n        @Setter\r\n        private String body;\r\n\r\n        @Getter\r\n        @Setter\r\n        @GeneratedValue\r\n        private LocalDateTime created_at;\r\n    \r\n        public Task(UUID uuid, String title, String body, LocalDateTime created_at) {\r\n            this.uuid = uuid;\r\n            this.title = title;\r\n            this.body = body;\r\n            this.created_at = created_at;\r\n        }\r\n    \r\n        public Task() {\r\n    \r\n        }\r\n    }\r\n\r\n\r\nTaskDTO.java\r\n\r\n    @Getter\r\n    @Setter\r\n    public class TaskDTO {\r\n        public UUID uuid = UUID.randomUUID();\r\n        public String title;\r\n        public String body;\r\n        public LocalDateTime created_at = LocalDateTime.now();\r\n    }","title":"Spring Boot returns 415: Unsupported Media Type on create","body":"<p>I'm new to Spring Boot. I'm trying to create a <code>create</code> endpoint which only expects an object with only a <code>title</code> and <code>body</code>. The <code>Uuid</code> and <code>created_at</code> should be generated. I try to send a <code>POST</code> request with Postman adding the values under <code>Body</code> and <code>form-data</code>. But it returns the following:</p>\n<pre><code>{\n    &quot;timestamp&quot;: &quot;2022-12-09T15:11:02.659+00:00&quot;,\n    &quot;status&quot;: 415,\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;path&quot;: &quot;/tasks&quot;\n}\n</code></pre>\n<p>Controller method:</p>\n<pre><code>@PostMapping\n    public ResponseEntity&lt;?&gt; create(@RequestBody TaskDTO requestTask) {\n        System.out.println(requestTask);\n        Task newTask = new Task(requestTask.uuid.toString(), requestTask.title, requestTask.body, requestTask.created_at);\n        Task task = taskRepository.save(newTask);\n\n\n        return ResponseEntity\n                .ok()\n                .body(task);\n    }\n</code></pre>\n<p>Task.java</p>\n<pre><code>@Entity\n@Table(name = &quot;tasks&quot;)\npublic class Task {\n\n    @Id\n    @Getter\n    @GeneratedValue\n    private UUID uuid;\n\n    @Getter\n    @Setter\n    private String title;\n\n    @Getter\n    @Setter\n    private String body;\n\n    @Getter\n    @Setter\n    @GeneratedValue\n    private LocalDateTime created_at;\n\n    public Task(UUID uuid, String title, String body, LocalDateTime created_at) {\n        this.uuid = uuid;\n        this.title = title;\n        this.body = body;\n        this.created_at = created_at;\n    }\n\n    public Task() {\n\n    }\n}\n</code></pre>\n<p>TaskDTO.java</p>\n<pre><code>@Getter\n@Setter\npublic class TaskDTO {\n    public UUID uuid = UUID.randomUUID();\n    public String title;\n    public String body;\n    public LocalDateTime created_at = LocalDateTime.now();\n}\n</code></pre>\n"},{"tags":["java","architecture","entity-relationship","encapsulation","package-private"],"comments":[{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1682017409,"post_id":76067019,"comment_id":134153782,"body_markdown":"There is nothing wrong with domain models being public as well as common components like Repositories, Services, etc. You tend to keep private only those classes that carry internal value but have no meaning from the outside: could be util classes, helper classes or perhaps pieces of implementation details. Yet again there is no strict rule about that, just a common sense","body":"There is nothing wrong with domain models being public as well as common components like Repositories, Services, etc. You tend to keep private only those classes that carry internal value but have no meaning from the outside: could be util classes, helper classes or perhaps pieces of implementation details. Yet again there is no strict rule about that, just a common sense"},{"owner":{"account_id":27928732,"reputation":1,"user_id":21327281,"display_name":"viep"},"score":0,"creation_date":1682020920,"post_id":76067019,"comment_id":134154426,"body_markdown":"@Turkhan Ok so you say that my Architecture is correctly built? What about future microservice that I want to add, users can be one and diagnose second ms. If they will be separated neither will work, because they depend on each other. How can I avoid this issue? It will also affect that these classes will turn to package-private. I am really curious how to make it but I have no idea, can you please provide some guidance?","body":"@Turkhan Ok so you say that my Architecture is correctly built? What about future microservice that I want to add, users can be one and diagnose second ms. If they will be separated neither will work, because they depend on each other. How can I avoid this issue? It will also affect that these classes will turn to package-private. I am really curious how to make it but I have no idea, can you please provide some guidance?"},{"owner":{"account_id":8921462,"reputation":865,"user_id":6657837,"accept_rate":83,"display_name":"Turkhan Badalov"},"score":0,"creation_date":1682026905,"post_id":76067019,"comment_id":134155486,"body_markdown":"If by microservice you mean 2 different endpoints for users and diagnoses, you can import your public classes (e.g. Repositories) to each controller and query from them. Now, I am not talking about best practices to keep logic in controllers minimal","body":"If by microservice you mean 2 different endpoints for users and diagnoses, you can import your public classes (e.g. Repositories) to each controller and query from them. Now, I am not talking about best practices to keep logic in controllers minimal"}],"owner":{"account_id":27928732,"reputation":1,"user_id":21327281,"display_name":"viep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682013766,"creation_date":1682013766,"question_id":76067019,"body_markdown":"I have problems with architecture of my project application. I wanted to avoid all classes being public (it is problem of layer packaging), so I created vertical packages as shown below on the screen-shot:\r\n\r\n[packages screen-shot](https://i.stack.imgur.com/puyQ0.jpg)\r\n\r\nBut I have got a problem: \r\nMy User class has to be public as well as DiagnosticResult -&gt; there is OneToMany connection between them, also\r\nUserRepository has to be public due to it&#39;s usage in DiagnosticResult service. Here is the code:\r\n\r\n```\r\npublic class User extends BaseEntityAudit {\r\n    //some simple fields\r\n    @OneToMany(targetEntity = DiagnosticResult.class, mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\r\n    private List&lt;DiagnosticResult&gt; resultsList = new ArrayList&lt;&gt;();\r\n\r\npublic class DiagnosticResult extends BaseEntityAudit {\r\n    //some simple fields\r\n    @ManyToOne(fetch = FetchType.EAGER)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n\r\nclass DiagnosticResultService {\r\n    private final DiagnosticResultRepository resultRepository;\r\n    private final UserRepository userRepository;\r\n    DiagnosticResult saveDiagnosticResult(DiagnosticResult result, String login) {\r\n        var retrievedUser = userRepository.findUserByLogin(login).orElseThrow(() -&gt; new EntityNotFoundException(&quot;User with login: &quot; + login + &quot; does not exist in database.&quot;));\r\n        result.setUser(retrievedUser);\r\n        retrievedUser.getResultsList().add(result);\r\n        userRepository.save(retrievedUser);\r\n        return resultRepository.save(result);\r\n    }\r\n\r\n```\r\n\r\nWhat is my problem? I heard that good practice is to make as many as possible classes package-private. \r\nI know how to make it - by putting diagnose classes with user classes together - but I don&#39;t want to do that. It will decrease readability plus in the future I want to learn microservices so it must be in different packages.\r\n\r\nWhat can I do to make classes: User, UserRepository, DiagnosticResult package-private, but not moving them to the same package? Or maybe my packaging is wrong and it should be together? Can you give me any advice?\r\n\r\nps:For now I havent got facade classes but I will make them, I also heard that if enything from package must be public it is only facade and dto -&gt; so maybe this is the clue to my architecture, but still how to make User and DiagnosticResult package-private?","title":"How to make relation between entities from different packages and keep encapsulation?","body":"<p>I have problems with architecture of my project application. I wanted to avoid all classes being public (it is problem of layer packaging), so I created vertical packages as shown below on the screen-shot:</p>\n<p><a href=\"https://i.stack.imgur.com/puyQ0.jpg\" rel=\"nofollow noreferrer\">packages screen-shot</a></p>\n<p>But I have got a problem:\nMy User class has to be public as well as DiagnosticResult -&gt; there is OneToMany connection between them, also\nUserRepository has to be public due to it's usage in DiagnosticResult service. Here is the code:</p>\n<pre><code>public class User extends BaseEntityAudit {\n    //some simple fields\n    @OneToMany(targetEntity = DiagnosticResult.class, mappedBy = &quot;user&quot;, fetch = FetchType.LAZY)\n    private List&lt;DiagnosticResult&gt; resultsList = new ArrayList&lt;&gt;();\n\npublic class DiagnosticResult extends BaseEntityAudit {\n    //some simple fields\n    @ManyToOne(fetch = FetchType.EAGER)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n\nclass DiagnosticResultService {\n    private final DiagnosticResultRepository resultRepository;\n    private final UserRepository userRepository;\n    DiagnosticResult saveDiagnosticResult(DiagnosticResult result, String login) {\n        var retrievedUser = userRepository.findUserByLogin(login).orElseThrow(() -&gt; new EntityNotFoundException(&quot;User with login: &quot; + login + &quot; does not exist in database.&quot;));\n        result.setUser(retrievedUser);\n        retrievedUser.getResultsList().add(result);\n        userRepository.save(retrievedUser);\n        return resultRepository.save(result);\n    }\n\n</code></pre>\n<p>What is my problem? I heard that good practice is to make as many as possible classes package-private.\nI know how to make it - by putting diagnose classes with user classes together - but I don't want to do that. It will decrease readability plus in the future I want to learn microservices so it must be in different packages.</p>\n<p>What can I do to make classes: User, UserRepository, DiagnosticResult package-private, but not moving them to the same package? Or maybe my packaging is wrong and it should be together? Can you give me any advice?</p>\n<p>ps:For now I havent got facade classes but I will make them, I also heard that if enything from package must be public it is only facade and dto -&gt; so maybe this is the clue to my architecture, but still how to make User and DiagnosticResult package-private?</p>\n"},{"tags":["java","datetime","time","format","simpledateformat"],"comments":[{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1682003097,"post_id":76065568,"comment_id":134150482,"body_markdown":"MM is for the month. Use mm for minutes.","body":"MM is for the month. Use mm for minutes."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1682003107,"post_id":76065568,"comment_id":134150489,"body_markdown":"check [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html) about meaning of  `MM`, also having `HH` with `a` is wrong - BTW better stop using outdated classes like `Date`, `Calendar`, `SimpleDateFormat`. The *new* (Java 8, 2014!) classes from the `java.time` package are recommended instead","body":"check <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">documentation</a> about meaning of  <code>MM</code>, also having <code>HH</code> with <code>a</code> is wrong - BTW better stop using outdated classes like <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code>. The <i>new</i> (Java 8, 2014!) classes from the <code>java.time</code> package are recommended instead"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682008370,"post_id":76065568,"comment_id":134151877,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `LocalTime` and `DateTimeFormatter`, both from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>LocalTime</code> and <code>DateTimeFormatter</code>, both from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1682008639,"post_id":76065568,"comment_id":134151945,"body_markdown":"While this question doesn’t seem to be an exact duplicate, there are many related questions, for example [here](https://stackoverflow.com/questions/18734452/display-current-time-in-12-hour-format-with-am-pm) and [here](https://stackoverflow.com/questions/50449169/converting-string-to-time-using-simpledateformat-issues). Under those questions please see the answers that are using java.time and not the old `SimpleDateFormat`.","body":"While this question doesn’t seem to be an exact duplicate, there are many related questions, for example <a href=\"https://stackoverflow.com/questions/18734452/display-current-time-in-12-hour-format-with-am-pm\">here</a> and <a href=\"https://stackoverflow.com/questions/50449169/converting-string-to-time-using-simpledateformat-issues\">here</a>. Under those questions please see the answers that are using java.time and not the old <code>SimpleDateFormat</code>."},{"owner":{"account_id":20392797,"reputation":13,"user_id":14960340,"display_name":"PT15"},"score":0,"creation_date":1682676752,"post_id":76065568,"comment_id":134256731,"body_markdown":"Thanks @user16320675, will keep in mind","body":"Thanks @user16320675, will keep in mind"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682013674,"creation_date":1682006106,"answer_id":76066059,"question_id":76065568,"body_markdown":"`Date` and its methods are obsolete and buggy.  Unless you must use Date I would use classes from the [java.time](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html) package.  Here is how the change would look by modifying your code. Note the change from 24 hour clock `(HH)` to 12 hour clock `(hh)` as pointed out by @OleV.V.\r\n```\r\ngetHourAndTime(LocalDateTime.now(), LocalDateTime.now().plusSeconds(600));\r\n            \r\n\r\npublic static void getHourAndTime(LocalDateTime startDate, LocalDateTime endDate) {\r\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;);\r\n    System.out.println(&quot;startTime: &quot; + startDate.format(dtf));\r\n    System.out.println(&quot;endTime: &quot; + endDate.format(dtf));\r\n}\r\n```\r\nprints\r\n```\r\nstartTime: 11:53 AM\r\nendTime: 12:03 PM\r\n```\r\n","title":"SimpleDateFormat is giving wrong hours and seconds data","body":"<p><code>Date</code> and its methods are obsolete and buggy.  Unless you must use Date I would use classes from the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> package.  Here is how the change would look by modifying your code. Note the change from 24 hour clock <code>(HH)</code> to 12 hour clock <code>(hh)</code> as pointed out by @OleV.V.</p>\n<pre><code>getHourAndTime(LocalDateTime.now(), LocalDateTime.now().plusSeconds(600));\n            \n\npublic static void getHourAndTime(LocalDateTime startDate, LocalDateTime endDate) {\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;);\n    System.out.println(&quot;startTime: &quot; + startDate.format(dtf));\n    System.out.println(&quot;endTime: &quot; + endDate.format(dtf));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>startTime: 11:53 AM\nendTime: 12:03 PM\n</code></pre>\n"}],"owner":{"account_id":20392797,"reputation":13,"user_id":14960340,"display_name":"PT15"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76066059,"answer_count":1,"score":1,"last_activity_date":1682013674,"creation_date":1682002907,"question_id":76065568,"body_markdown":"I&#39;m using SimpleDateFormat to get the hours and seconds in this format &quot;HH:MM a&quot; for 2 dates in same function. The output printing is same for both of them and it is mostly of the first date. The code for it is as follows:\r\n\r\n    //to get the time\r\n    public static void getHourAndTime(Date startDate, Date endDate){\r\n    \t\r\n    \tSimpleDateFormat formatter = new SimpleDateFormat(&quot;HH:MM a&quot;);\r\n\t\tString formattedstartTime = formatter.format(startDate);\r\n        System.out.println(&quot;startTime&quot;+formattedstartTime);\r\n\r\n        String formattedEndTime = formatter.format(endDate);\r\n        System.out.println(&quot;endTime&quot;+formattedEndTime);\r\n    }\r\n\r\nAny solution/ reason for this would be helpful.\r\n\r\n\r\nEdit: this was a piece of an old code in the application, that I was trying to change.\r\n\r\n\r\nThanks","title":"SimpleDateFormat is giving wrong hours and seconds data","body":"<p>I'm using SimpleDateFormat to get the hours and seconds in this format &quot;HH:MM a&quot; for 2 dates in same function. The output printing is same for both of them and it is mostly of the first date. The code for it is as follows:</p>\n<pre><code>//to get the time\npublic static void getHourAndTime(Date startDate, Date endDate){\n    \n    SimpleDateFormat formatter = new SimpleDateFormat(&quot;HH:MM a&quot;);\n    String formattedstartTime = formatter.format(startDate);\n    System.out.println(&quot;startTime&quot;+formattedstartTime);\n\n    String formattedEndTime = formatter.format(endDate);\n    System.out.println(&quot;endTime&quot;+formattedEndTime);\n}\n</code></pre>\n<p>Any solution/ reason for this would be helpful.</p>\n<p>Edit: this was a piece of an old code in the application, that I was trying to change.</p>\n<p>Thanks</p>\n"},{"tags":["java","selenium-webdriver","shadow-dom"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1681931175,"post_id":76056962,"comment_id":134138185,"body_markdown":"Does this answer your question? [java.lang.NullPointerException error when trying to locate a shadow element with Selenium](https://stackoverflow.com/questions/75931152/java-lang-nullpointerexception-error-when-trying-to-locate-a-shadow-element-with)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75931152/java-lang-nullpointerexception-error-when-trying-to-locate-a-shadow-element-with\">java.lang.NullPointerException error when trying to locate a shadow element with Selenium</a>"},{"owner":{"account_id":2369991,"reputation":520,"user_id":2074804,"accept_rate":46,"display_name":"SKN"},"score":0,"creation_date":1682007495,"post_id":76056962,"comment_id":134151670,"body_markdown":"Nope, it didn&#39;t work","body":"Nope, it didn&#39;t work"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1682010623,"post_id":76056962,"comment_id":134152390,"body_markdown":"Are you using the newest Selenium? What version are you using? That link shows the current method to access shadow roots. If it&#39;s not working, you need to provide more details. At a minimum, edit your question and add the full error message as text, properly formatted.","body":"Are you using the newest Selenium? What version are you using? That link shows the current method to access shadow roots. If it&#39;s not working, you need to provide more details. At a minimum, edit your question and add the full error message as text, properly formatted."},{"owner":{"account_id":2369991,"reputation":520,"user_id":2074804,"accept_rate":46,"display_name":"SKN"},"score":0,"creation_date":1682012364,"post_id":76056962,"comment_id":134152771,"body_markdown":"I&#39;m using Selenium 3.141.59. I don&#39;t have option to use latest Selenium. The reason being I use Serenity BDD framework 2.2.7","body":"I&#39;m using Selenium 3.141.59. I don&#39;t have option to use latest Selenium. The reason being I use Serenity BDD framework 2.2.7"},{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1682013226,"post_id":76056962,"comment_id":134152958,"body_markdown":"Updated your Serenity... the current version is 3.6.7 and it contains Selenium 4+","body":"Updated your Serenity... the current version is 3.6.7 and it contains Selenium 4+"},{"owner":{"account_id":2369991,"reputation":520,"user_id":2074804,"accept_rate":46,"display_name":"SKN"},"score":0,"creation_date":1682014642,"post_id":76056962,"comment_id":134153227,"body_markdown":"Updating serenity is not an option for me, as I work for a highly regulated domain  and my org hasn&#39;t approved recent version of Serenity","body":"Updating serenity is not an option for me, as I work for a highly regulated domain  and my org hasn&#39;t approved recent version of Serenity"}],"owner":{"account_id":2369991,"reputation":520,"user_id":2074804,"accept_rate":46,"display_name":"SKN"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682013175,"creation_date":1681922548,"question_id":76056962,"body_markdown":"I have a shadow root radio button:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/un5DD.png\r\n\r\n    &lt;li class=&quot;radios__item selectable__item&quot; role=&quot;radio&quot; id=&quot;ds-radio-button-group-4-item-0&quot; aria-checked=&quot;false&quot; aria-disabled=&quot;false&quot;&gt;::before &quot;Yes&quot;&lt;/li&gt;\r\n\r\n&lt;li class=&quot;radios__item selectable__item&quot; role=&quot;radio&quot; id=&quot;ds-radio-button-group-4-item-1&quot; aria-checked=&quot;false&quot; aria-disabled=&quot;false&quot;&gt;::before &quot;No&quot;&lt;/li&gt;\r\n\r\nI tried below code:\r\n\r\n    public void SelectRadioButton(WebElement radioButton) {\r\n        JavascriptExecutor js = (JavascriptExecutor) driver;\r\n        WebElement radio = (WebElement) js.executeScript(&quot;return document.querySelector(&#39;#ds-radio-button-group-4-item-1&#39;).shadowRoot&quot;);\r\n        radio.click();\r\n    }\r\n\r\nI get below error:\r\n    \r\n    org.openqa.selenium.NoSuchElementException: An element could not be located on the page using the given search parameters. (WARNING: The server did not provide any stacktrace information)\r\n    Command duration or timeout: 0 milliseconds\r\n    For documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;L211702&#39;, ip: &#39;192.168.29.53&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_361&#39;\r\n    Driver info: io.appium.java_client.windows.WindowsDriver\r\n    Capabilities {appTopLevelWindow: 110d90, javascriptEnabled: true, platform: WINDOWS, platformName: Windows}\r\n    Session ID: 5A73DA21-DBEA-45C9-A457-DE40C7F2E303\r\n    *** Element info: {Using=id, value=ds-radio-button-group-4-item-1}\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214)\r\n    \tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166)\r\n    \tat org.openqa.selenium.remote.http.JsonHttpResponseCodec.reconstructValue(JsonHttpResponseCodec.java:40)\r\n    \tat org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:80)\r\n    \tat org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:44)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\r\n    \tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:239)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n    \tat io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:41)\r\n    \tat io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\r\n    \tat io.appium.java_client.windows.WindowsDriver.execute(WindowsDriver.java:1)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\r\n    \tat io.appium.java_client.DefaultGenericMobileDriver.findElement(DefaultGenericMobileDriver.java:61)\r\n    \tat io.appium.java_client.AppiumDriver.findElement(AppiumDriver.java:1)\r\n    \tat io.appium.java_client.windows.WindowsDriver.findElement(WindowsDriver.java:1)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElementById(RemoteWebDriver.java:372)\r\n    \tat io.appium.java_client.DefaultGenericMobileDriver.findElementById(DefaultGenericMobileDriver.java:69)\r\n    \tat io.appium.java_client.AppiumDriver.findElementById(AppiumDriver.java:1)\r\n    \tat io.appium.java_client.windows.WindowsDriver.findElementById(WindowsDriver.java:1)\r\n    \tat org.openqa.selenium.By$ById.findElement(By.java:188)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\r\n    \tat io.appium.java_client.DefaultGenericMobileDriver.findElement(DefaultGenericMobileDriver.java:57)\r\n    \tat io.appium.java_client.AppiumDriver.findElement(AppiumDriver.java:1)\r\n    \tat io.appium.java_client.windows.WindowsDriver.findElement(WindowsDriver.java:1)\r\n    \tat testautomation.windowsframework.BaseInteractions.SelectRadioButton(BaseInteractions.java:43)\r\n\r\nBut it doesn&#39;t work. What am I doing wrong?\r\n\r\n","title":"How to locate shadow dom radio button in Selenium?","body":"<p>I have a shadow root radio button:</p>\n<p><a href=\"https://i.stack.imgur.com/un5DD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/un5DD.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>&lt;li class=&quot;radios__item selectable__item&quot; role=&quot;radio&quot; id=&quot;ds-radio-button-group-4-item-0&quot; aria-checked=&quot;false&quot; aria-disabled=&quot;false&quot;&gt;::before &quot;Yes&quot;&lt;/li&gt;\n</code></pre>\n::before \"No\"</li>\n<p>I tried below code:</p>\n<pre><code>public void SelectRadioButton(WebElement radioButton) {\n    JavascriptExecutor js = (JavascriptExecutor) driver;\n    WebElement radio = (WebElement) js.executeScript(&quot;return document.querySelector('#ds-radio-button-group-4-item-1').shadowRoot&quot;);\n    radio.click();\n}\n</code></pre>\n<p>I get below error:</p>\n<pre><code>org.openqa.selenium.NoSuchElementException: An element could not be located on the page using the given search parameters. (WARNING: The server did not provide any stacktrace information)\nCommand duration or timeout: 0 milliseconds\nFor documentation on this error, please visit: https://www.seleniumhq.org/exceptions/no_such_element.html\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'L211702', ip: '192.168.29.53', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_361'\nDriver info: io.appium.java_client.windows.WindowsDriver\nCapabilities {appTopLevelWindow: 110d90, javascriptEnabled: true, platform: WINDOWS, platformName: Windows}\nSession ID: 5A73DA21-DBEA-45C9-A457-DE40C7F2E303\n*** Element info: {Using=id, value=ds-radio-button-group-4-item-1}\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166)\n    at org.openqa.selenium.remote.http.JsonHttpResponseCodec.reconstructValue(JsonHttpResponseCodec.java:40)\n    at org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:80)\n    at org.openqa.selenium.remote.http.AbstractHttpResponseCodec.decode(AbstractHttpResponseCodec.java:44)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:158)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:239)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:41)\n    at io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\n    at io.appium.java_client.windows.WindowsDriver.execute(WindowsDriver.java:1)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:323)\n    at io.appium.java_client.DefaultGenericMobileDriver.findElement(DefaultGenericMobileDriver.java:61)\n    at io.appium.java_client.AppiumDriver.findElement(AppiumDriver.java:1)\n    at io.appium.java_client.windows.WindowsDriver.findElement(WindowsDriver.java:1)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElementById(RemoteWebDriver.java:372)\n    at io.appium.java_client.DefaultGenericMobileDriver.findElementById(DefaultGenericMobileDriver.java:69)\n    at io.appium.java_client.AppiumDriver.findElementById(AppiumDriver.java:1)\n    at io.appium.java_client.windows.WindowsDriver.findElementById(WindowsDriver.java:1)\n    at org.openqa.selenium.By$ById.findElement(By.java:188)\n    at org.openqa.selenium.remote.RemoteWebDriver.findElement(RemoteWebDriver.java:315)\n    at io.appium.java_client.DefaultGenericMobileDriver.findElement(DefaultGenericMobileDriver.java:57)\n    at io.appium.java_client.AppiumDriver.findElement(AppiumDriver.java:1)\n    at io.appium.java_client.windows.WindowsDriver.findElement(WindowsDriver.java:1)\n    at testautomation.windowsframework.BaseInteractions.SelectRadioButton(BaseInteractions.java:43)\n</code></pre>\n<p>But it doesn't work. What am I doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1682002047,"post_id":76065294,"comment_id":134150179,"body_markdown":"Read the documentation for Files.write, you&#39;ll see that there is an additional parameter to specify open options, one of which is `StandardOpenOption.APPEND`","body":"Read the documentation for Files.write, you&#39;ll see that there is an additional parameter to specify open options, one of which is <code>StandardOpenOption.APPEND</code>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682002771,"post_id":76065294,"comment_id":134150401,"body_markdown":"Note it may make more sense to simply copy the raw bytes of the input files into the output file. That&#39;s essentially what you&#39;re doing already, but with an unnecessary conversion to and from strings.","body":"Note it may make more sense to simply copy the raw bytes of the input files into the output file. That&#39;s essentially what you&#39;re doing already, but with an unnecessary conversion to and from strings."}],"answers":[{"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1682002822,"post_id":76065417,"comment_id":134150414,"body_markdown":"If no options are specified, the default is `CREATE`, `TRUNCATE_EXISTING`, and `WRITE`. It&#39;s the `TRUNCATE_EXISTING` option that&#39;s causing the OP&#39;s problem. The `CREATE` option only says to create the file _if it doesn&#39;t already exist_. If the file _does_ already exist, then `CREATE` essentially does nothing.","body":"If no options are specified, the default is <code>CREATE</code>, <code>TRUNCATE_EXISTING</code>, and <code>WRITE</code>. It&#39;s the <code>TRUNCATE_EXISTING</code> option that&#39;s causing the OP&#39;s problem. The <code>CREATE</code> option only says to create the file <i>if it doesn&#39;t already exist</i>. If the file <i>does</i> already exist, then <code>CREATE</code> essentially does nothing."},{"owner":{"account_id":1619595,"reputation":793,"user_id":1496472,"accept_rate":40,"display_name":"Greycon"},"score":0,"creation_date":1682005351,"post_id":76065417,"comment_id":134151084,"body_markdown":"@Slaw You&#39;re of course quite correct, a more accurate answer. Why don&#39;t you write it up as an answer, and I will delete mine?","body":"@Slaw You&#39;re of course quite correct, a more accurate answer. Why don&#39;t you write it up as an answer, and I will delete mine?"}],"tags":[],"owner":{"account_id":1619595,"reputation":793,"user_id":1496472,"accept_rate":40,"display_name":"Greycon"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682012954,"creation_date":1682002080,"answer_id":76065417,"question_id":76065294,"body_markdown":"The Files.write() takes an optional parameter, which specifies the mode for opening the file. The default is CREATE, TRUNCATE_EXISTING (Thanks @Slaw) so you are overwriting the file each time. In your case you need:\r\n\r\n    List&lt;String&gt; lines=Files.readAllLines(oldFile1);\r\n\tFiles.write(newFile,lines, StandardOpenOption.CREATE);\r\n\t          \r\n\tList&lt;String&gt; lines1=Files.readAllLines(oldFile2);\r\n\tFiles.write(newFile,lines1,  StandardOpenOption.APPEND);\r\n","title":"How to write a content into a file from two different files by using java.nio.files","body":"<p>The Files.write() takes an optional parameter, which specifies the mode for opening the file. The default is CREATE, TRUNCATE_EXISTING (Thanks @Slaw) so you are overwriting the file each time. In your case you need:</p>\n<pre><code>List&lt;String&gt; lines=Files.readAllLines(oldFile1);\nFiles.write(newFile,lines, StandardOpenOption.CREATE);\n          \nList&lt;String&gt; lines1=Files.readAllLines(oldFile2);\nFiles.write(newFile,lines1,  StandardOpenOption.APPEND);\n</code></pre>\n"}],"owner":{"account_id":24863817,"reputation":21,"user_id":18739201,"display_name":"chandana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1682012954,"creation_date":1682001232,"question_id":76065294,"body_markdown":"I am trying to write content from two different files into a new file\r\nBut I am not getting the required result\r\n\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.util.List;\r\npublic class Example2 {\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tPath oldFile1=Paths.get(&quot;D:\\\\sample\\\\txt1.txt&quot;);\r\n\t\tPath oldFile2=Paths.get(&quot;D:\\\\sample\\\\txt2.txt&quot;);\r\n\t\tPath File=Paths.get(&quot;D:\\\\sample\\\\newFile.txt&quot;);\r\n\t\tPath newFile=Files.createFile(File);\r\n\t\t\r\n\t\t\tList&lt;String&gt; lines=Files.readAllLines(oldFile1);\r\n\t\t\tFiles.write(newFile,lines);\r\n\t\t  \r\n\t\t\tList&lt;String&gt; lines1=Files.readAllLines(oldFile2);\r\n\t\t\tFiles.write(newFile,lines1);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI tried this but newfile contains only the content of oldfile2","title":"How to write a content into a file from two different files by using java.nio.files","body":"<p>I am trying to write content from two different files into a new file\nBut I am not getting the required result</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.List;\npublic class Example2 {\n\n    public static void main(String[] args) throws IOException {\n        \n        Path oldFile1=Paths.get(&quot;D:\\\\sample\\\\txt1.txt&quot;);\n        Path oldFile2=Paths.get(&quot;D:\\\\sample\\\\txt2.txt&quot;);\n        Path File=Paths.get(&quot;D:\\\\sample\\\\newFile.txt&quot;);\n        Path newFile=Files.createFile(File);\n        \n            List&lt;String&gt; lines=Files.readAllLines(oldFile1);\n            Files.write(newFile,lines);\n          \n            List&lt;String&gt; lines1=Files.readAllLines(oldFile2);\n            Files.write(newFile,lines1);\n        \n    }\n\n}\n</code></pre>\n<p>I tried this but newfile contains only the content of oldfile2</p>\n"},{"tags":["java","procedural","simplex-noise"],"answers":[{"tags":[],"owner":{"account_id":372049,"reputation":3614,"user_id":720893,"accept_rate":83,"display_name":"Michal"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1682012867,"creation_date":1496278167,"answer_id":44296800,"question_id":39674372,"body_markdown":"If you need only one dimension noise simply ignore second argument. Like this:\r\n\r\n    getNoise(variable, 0);\r\n\r\nThe `getNoise` method in `SimplexNoise` takes two integer parameters x and y, which are the 2D coordinates of the point for which you want to generate noise. The values of x and y determine the position of the point in the noise space. The output of the `getNoise` method is a floating-point value between -1 and 1, which represents the noise value at that point.\r\n\r\nWhen people use a nested for loop with i and j values to call `getNoise(i + x, j + z)`, they are generating a 2D array of noise values, where i and j are the indices of the array. By adding x and z to the indices, they are shifting the noise space so that it aligns with the position of the terrain in the game.\r\n\r\nThe values of `largestFeature` and `persistence` in SimplexNoise are used to control the characteristics of the generated noise. `largestFeature` determines the scale of the features in the noise, while `persistence` determines the roughness or smoothness of the noise. You can adjust these values to create different types of noise patterns, but keep in mind that changing them will affect the entire noise map.\r\n\r\nIf you want to generate different types of terrain with different noise patterns, you can create multiple instances of SimplexNoise with different parameters. For example, you could create one instance with a larger `largestFeature` value to generate big mountains, and another instance with a smaller `largestFeature` value to generate small hills. By combining the noise maps generated by these instances, you can create a more varied terrain.","title":"How to use SimplexNoise for 1D","body":"<p>If you need only one dimension noise simply ignore second argument. Like this:</p>\n<pre><code>getNoise(variable, 0);\n</code></pre>\n<p>The <code>getNoise</code> method in <code>SimplexNoise</code> takes two integer parameters x and y, which are the 2D coordinates of the point for which you want to generate noise. The values of x and y determine the position of the point in the noise space. The output of the <code>getNoise</code> method is a floating-point value between -1 and 1, which represents the noise value at that point.</p>\n<p>When people use a nested for loop with i and j values to call <code>getNoise(i + x, j + z)</code>, they are generating a 2D array of noise values, where i and j are the indices of the array. By adding x and z to the indices, they are shifting the noise space so that it aligns with the position of the terrain in the game.</p>\n<p>The values of <code>largestFeature</code> and <code>persistence</code> in SimplexNoise are used to control the characteristics of the generated noise. <code>largestFeature</code> determines the scale of the features in the noise, while <code>persistence</code> determines the roughness or smoothness of the noise. You can adjust these values to create different types of noise patterns, but keep in mind that changing them will affect the entire noise map.</p>\n<p>If you want to generate different types of terrain with different noise patterns, you can create multiple instances of SimplexNoise with different parameters. For example, you could create one instance with a larger <code>largestFeature</code> value to generate big mountains, and another instance with a smaller <code>largestFeature</code> value to generate small hills. By combining the noise maps generated by these instances, you can create a more varied terrain.</p>\n"}],"owner":{"display_name":"user4959397"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682012867,"creation_date":1474706603,"question_id":39674372,"body_markdown":"I&#39;ve been playing around with Simplex Noise. But I still dont know how I should use it right. My Goal is to get a terrain for an Sidescroller game. It shoud have a polygonal style look.\r\n\r\nI got the source for SimplexNoise from [here][1]\r\n\r\nQuestions:\r\n\r\n- The method `getNoise(int x, int y)` what values are they for. what do they change?\r\nI have seen people using a nested for loop and do `getNoise(i + x, j + z)`.\r\n\r\n- Why are the values largestFeature, persistance not changeable? Shoud I have more than 1 SimplexNoise class to get diffrent biomes?\r\n\r\n\r\n  [1]: https://github.com/Longarmx/3DWorld/tree/master/src/com/longarmx/smplx/noise &quot;here&quot;","title":"How to use SimplexNoise for 1D","body":"<p>I've been playing around with Simplex Noise. But I still dont know how I should use it right. My Goal is to get a terrain for an Sidescroller game. It shoud have a polygonal style look.</p>\n\n<p>I got the source for SimplexNoise from <a href=\"https://github.com/Longarmx/3DWorld/tree/master/src/com/longarmx/smplx/noise\" rel=\"nofollow\" title=\"here\">here</a></p>\n\n<p>Questions:</p>\n\n<ul>\n<li><p>The method <code>getNoise(int x, int y)</code> what values are they for. what do they change?\nI have seen people using a nested for loop and do <code>getNoise(i + x, j + z)</code>.</p></li>\n<li><p>Why are the values largestFeature, persistance not changeable? Shoud I have more than 1 SimplexNoise class to get diffrent biomes?</p></li>\n</ul>\n"},{"tags":["java","spring-boot","asynchronous","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1682046193,"post_id":76066913,"comment_id":134157560,"body_markdown":"The CreateVisualSignature example has a &quot;lateExternalSigning&quot; feature, maybe that is what you mean.","body":"The CreateVisualSignature example has a &quot;lateExternalSigning&quot; feature, maybe that is what you mean."}],"owner":{"account_id":28033614,"reputation":13,"user_id":21412395,"display_name":"Kim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682012747,"creation_date":1682012747,"question_id":76066913,"body_markdown":"This is in continuation to a previous thread of mine. The goal is to stamp a pdf document with digital signature. For stamping I use pdfbox, for digital signature generation, there is another standalone application used.\r\n\r\nThere are 2 different servers involved.\r\n\r\nServer A : upload pdf document -\\&gt; generate a document hash -\\&gt; invoke the pdfBox to stamp this document -\\&gt; from sign() method of pdfbox invoke server B -\\&gt; use the signature generated by server B to stamp on the document.\r\n\r\nServer B : take the hash of the document and generate the digital signature -\\&gt; return this signature to server A\r\n\r\nThe above method works completely fine, as a synchronous call flow right from document upload on server A to digital signature generation on server B and back to stamping the doc on serverA with the signature.\r\n\r\nNow, the problem is, response from server B is asynchronous. I don&#39;t want to wait in sign() method till server B returns with the signature for me to continue and stamp the document. And if I invoke the entire flow of pdfbox again, the content in the sign() method differs everytime its called.\r\n\r\nSo is it possible to store the current state of execution, which is up until the overriden sign() method of pdfbox is invoked ? so that I can take the content in this method and call server B to generate digital signature, and when server B returns with the signature asynchronously, I can resume the working of sign() method by setting this digital signature and proceeding to stamp it on the doc?\r\n\r\n&lt;https://github.com/johnskim9414/signPdf/blob/6d8cebe57e9b5fed2e3cc62649ecf4cd3a9e8049/src/main/java/com/sign/pdf/CustomSignature.java&gt;\r\n\r\n\r\nor is there any method available in pdfbox where I can overwrite the content that gets generated and passed to the sign() method, by the previously generated content?","title":"is it possible to save the current state of sign() method of pdfbox? so that this content can then be used to generate digital signature and resume?","body":"<p>This is in continuation to a previous thread of mine. The goal is to stamp a pdf document with digital signature. For stamping I use pdfbox, for digital signature generation, there is another standalone application used.</p>\n<p>There are 2 different servers involved.</p>\n<p>Server A : upload pdf document -&gt; generate a document hash -&gt; invoke the pdfBox to stamp this document -&gt; from sign() method of pdfbox invoke server B -&gt; use the signature generated by server B to stamp on the document.</p>\n<p>Server B : take the hash of the document and generate the digital signature -&gt; return this signature to server A</p>\n<p>The above method works completely fine, as a synchronous call flow right from document upload on server A to digital signature generation on server B and back to stamping the doc on serverA with the signature.</p>\n<p>Now, the problem is, response from server B is asynchronous. I don't want to wait in sign() method till server B returns with the signature for me to continue and stamp the document. And if I invoke the entire flow of pdfbox again, the content in the sign() method differs everytime its called.</p>\n<p>So is it possible to store the current state of execution, which is up until the overriden sign() method of pdfbox is invoked ? so that I can take the content in this method and call server B to generate digital signature, and when server B returns with the signature asynchronously, I can resume the working of sign() method by setting this digital signature and proceeding to stamp it on the doc?</p>\n<p><a href=\"https://github.com/johnskim9414/signPdf/blob/6d8cebe57e9b5fed2e3cc62649ecf4cd3a9e8049/src/main/java/com/sign/pdf/CustomSignature.java\" rel=\"nofollow noreferrer\">https://github.com/johnskim9414/signPdf/blob/6d8cebe57e9b5fed2e3cc62649ecf4cd3a9e8049/src/main/java/com/sign/pdf/CustomSignature.java</a></p>\n<p>or is there any method available in pdfbox where I can overwrite the content that gets generated and passed to the sign() method, by the previously generated content?</p>\n"},{"tags":["java","spring","spring-webflux"],"answers":[{"comments":[{"owner":{"account_id":7618549,"reputation":1394,"user_id":5777189,"display_name":"BabyishTank"},"score":2,"creation_date":1682812393,"post_id":76066719,"comment_id":134274320,"body_markdown":"you could just throw the original error without a cast`.onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; retrySignal.failure()))`","body":"you could just throw the original error without a cast<code>.onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; retrySignal.failure()))</code>"}],"tags":[],"owner":{"account_id":28362251,"reputation":36,"user_id":21692077,"display_name":"Durfen"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1682012711,"creation_date":1682011163,"answer_id":76066719,"question_id":76066475,"body_markdown":"The retrySignal allows you to get the exception that caused the retry. \r\n\r\n\r\n  \r\n\r\n    private RetryBackoffSpec retryServerError() {\r\n        return Retry.backoff(3, Duration.of(100, ChronoUnit.MILLIS))\r\n            .filter(this::isServerError)\r\n            .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\r\n              HttpServerErrorException ex = (HttpServerErrorException) retrySignal.failure();\r\n                HttpStatus statusCode = webException.getStatusCode();\r\n                String responseBodyAsString = webException.getResponseBodyAsString();\r\n                //whatever you want to do with it\r\n              \r\n            });\r\n      }","title":"How to use onRetryExhaustedThrow in order to return original HttpStatusCode and message?","body":"<p>The retrySignal allows you to get the exception that caused the retry.</p>\n<pre><code>private RetryBackoffSpec retryServerError() {\n    return Retry.backoff(3, Duration.of(100, ChronoUnit.MILLIS))\n        .filter(this::isServerError)\n        .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; {\n          HttpServerErrorException ex = (HttpServerErrorException) retrySignal.failure();\n            HttpStatus statusCode = webException.getStatusCode();\n            String responseBodyAsString = webException.getResponseBodyAsString();\n            //whatever you want to do with it\n          \n        });\n  }\n</code></pre>\n"}],"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76066719,"answer_count":1,"score":2,"last_activity_date":1682012711,"creation_date":1682009024,"question_id":76066475,"body_markdown":"I&#39;m trying to create a custom retry method but i don&#39;t understand how it works.\r\n\r\nIn fact, I just want to try again several times and then, if all the attempts failed, return an exception with the last http status code, the http status message and the response body.\r\n\r\nIs it possible to do that with webflux ?\r\n\r\nThis is my code below :\r\n\r\n```java\r\n    private RetryBackoffSpec retryServerError() {\r\n        return Retry.backoff(3, Duration.of(100, ChronoUnit.MILLIS))\r\n                    .filter(this::isServerError)\r\n                    .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; new HttpServerErrorException(HttpStatus.SERVICE_UNAVAILABLE, &quot;an error message&quot;));\r\n    }\r\n\r\n    private boolean isServerError(Throwable throwable) {\r\n        return throwable instanceof HttpServerErrorException;\r\n    }\r\n\r\n    public void ResponseEntity&lt;U&gt; post(Class&lt;Void&gt; responseClass, Function&lt;UriBuilder, URI&gt; uri, MyBodyObject body) throws WebClientException, RestClientResponseException {\r\n        return this.getWebClientBuilder()\r\n                   .build()\r\n                   .post()\r\n                   .uri(uri)\r\n                   .body(BodyInserters.fromValue(body))\r\n                   .retrieve()\r\n                   .toEntity(responseClass)\r\n                   .retryWhen(retryServerError())\r\n                   .block();\r\n    }\r\n\r\n\r\n```\r\n\r\nThanks for your help !","title":"How to use onRetryExhaustedThrow in order to return original HttpStatusCode and message?","body":"<p>I'm trying to create a custom retry method but i don't understand how it works.</p>\n<p>In fact, I just want to try again several times and then, if all the attempts failed, return an exception with the last http status code, the http status message and the response body.</p>\n<p>Is it possible to do that with webflux ?</p>\n<p>This is my code below :</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private RetryBackoffSpec retryServerError() {\n        return Retry.backoff(3, Duration.of(100, ChronoUnit.MILLIS))\n                    .filter(this::isServerError)\n                    .onRetryExhaustedThrow((retryBackoffSpec, retrySignal) -&gt; new HttpServerErrorException(HttpStatus.SERVICE_UNAVAILABLE, &quot;an error message&quot;));\n    }\n\n    private boolean isServerError(Throwable throwable) {\n        return throwable instanceof HttpServerErrorException;\n    }\n\n    public void ResponseEntity&lt;U&gt; post(Class&lt;Void&gt; responseClass, Function&lt;UriBuilder, URI&gt; uri, MyBodyObject body) throws WebClientException, RestClientResponseException {\n        return this.getWebClientBuilder()\n                   .build()\n                   .post()\n                   .uri(uri)\n                   .body(BodyInserters.fromValue(body))\n                   .retrieve()\n                   .toEntity(responseClass)\n                   .retryWhen(retryServerError())\n                   .block();\n    }\n\n\n</code></pre>\n<p>Thanks for your help !</p>\n"},{"tags":["java","mysql","multithreading","jdbc","producer-consumer"],"comments":[{"owner":{"display_name":"user2575725"},"score":0,"creation_date":1531048531,"post_id":51231400,"comment_id":89441967,"body_markdown":"you are facing query timeout issue, consider increasing the same","body":"you are facing query timeout issue, consider increasing the same"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":3,"creation_date":1531048533,"post_id":51231400,"comment_id":89441968,"body_markdown":"**Don&#39;t save all the users in memory**","body":"<b>Don&#39;t save all the users in memory</b>"},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531048797,"post_id":51231400,"comment_id":89442020,"body_markdown":"@user7294900, I know, it&#39;s not right. But I don&#39;t know how to do otherwise","body":"@user7294900, I know, it&#39;s not right. But I don&#39;t know how to do otherwise"},{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1531049122,"post_id":51231400,"comment_id":89442112,"body_markdown":"@All_Safe what are you trying to achieve? why holding 200 million records in memory?","body":"@All_Safe what are you trying to achieve? why holding 200 million records in memory?"},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531049430,"post_id":51231400,"comment_id":89442196,"body_markdown":"@user7294900,For each user received from this table, you need to perform a certain processing and verification","body":"@user7294900,For each user received from this table, you need to perform a certain processing and verification"},{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":0,"creation_date":1531051309,"post_id":51231400,"comment_id":89442651,"body_markdown":"i still wondering what you are trying to do here.. in a answer comment you are telling you want to compare data between multiple tables.. in MySQL you can JOIN the tables and compare between tables on the MySQL server..","body":"i still wondering what you are trying to do here.. in a answer comment you are telling you want to compare data between multiple tables.. in MySQL you can JOIN the tables and compare between tables on the MySQL server.."},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531051860,"post_id":51231400,"comment_id":89442797,"body_markdown":"@RaymondNijland, Now the logic is. All data from the TEST table is unloaded.users. The pairs are then split into 2,000 elements and sent to a separate thread for processing. The following happens in the stream: for each pair &lt;login, password&gt; two queries are made to the tables. Further, two options are possible. The result of the first table is empty, a certain logic is Made, an entry in the log, notification of the administrator. The result of the selection from the first table is not equal to the second. Another entry is made in the log. Otherwise miss.","body":"@RaymondNijland, Now the logic is. All data from the TEST table is unloaded.users. The pairs are then split into 2,000 elements and sent to a separate thread for processing. The following happens in the stream: for each pair &lt;login, password&gt; two queries are made to the tables. Further, two options are possible. The result of the first table is empty, a certain logic is Made, an entry in the log, notification of the administrator. The result of the selection from the first table is not equal to the second. Another entry is made in the log. Otherwise miss."},{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":0,"creation_date":1531052224,"post_id":51231400,"comment_id":89442891,"body_markdown":"&quot;The following happens in the stream: for each pair &lt;login, password&gt; two queries are made to the tables.&quot; wierd approach so the application would fire 400 million queries for the 200 million users assuming the application could hold 200 million users in memory. Time to show the database structure some example data on sqlfiddle or db-fiddle (note don&#39;t post real user password hashes there), And explain the results you need and make a formatted text output..","body":"&quot;The following happens in the stream: for each pair &lt;login, password&gt; two queries are made to the tables.&quot; wierd approach so the application would fire 400 million queries for the 200 million users assuming the application could hold 200 million users in memory. Time to show the database structure some example data on sqlfiddle or db-fiddle (note don&#39;t post real user password hashes there), And explain the results you need and make a formatted text output.."},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531069992,"post_id":51231400,"comment_id":89447657,"body_markdown":"@RaymondNijland, I updated my question.See please","body":"@RaymondNijland, I updated my question.See please"}],"answers":[{"comments":[{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531049103,"post_id":51231472,"comment_id":89442108,"body_markdown":"I suppose in this case, there will be a lot of queries to the database","body":"I suppose in this case, there will be a lot of queries to the database"},{"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"score":0,"creation_date":1531049399,"post_id":51231472,"comment_id":89442188,"body_markdown":"Yes, you are talking about  200 million records. No of queries is not the main concern here.","body":"Yes, you are talking about  200 million records. No of queries is not the main concern here."},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531049872,"post_id":51231472,"comment_id":89442302,"body_markdown":"I did not understand a phrase: &quot;No of queries is not the main concern here&quot;","body":"I did not understand a phrase: &quot;No of queries is not the main concern here&quot;"},{"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"score":0,"creation_date":1531050434,"post_id":51231472,"comment_id":89442421,"body_markdown":"1. You are trying to get 200 millions records in one query and storing all in memory, I don&#39;t think it&#39;s a good idea. 2. What you will do in your loop processing of each records? Will you update database? 3. If this is a batch job, maybe you can consider sqldump and then a java application to process on the dump data, instead of hitting database. Again, avoid loading all to memory.","body":"1. You are trying to get 200 millions records in one query and storing all in memory, I don&#39;t think it&#39;s a good idea. 2. What you will do in your loop processing of each records? Will you update database? 3. If this is a batch job, maybe you can consider sqldump and then a java application to process on the dump data, instead of hitting database. Again, avoid loading all to memory."},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531050884,"post_id":51231472,"comment_id":89442532,"body_markdown":"I won&#39;t update the database. For each user, I need to pull the data from the other two tables and compare them.","body":"I won&#39;t update the database. For each user, I need to pull the data from the other two tables and compare them."},{"owner":{"account_id":2782706,"reputation":11516,"user_id":2548147,"display_name":"Raymond Nijland"},"score":0,"creation_date":1531050909,"post_id":51231472,"comment_id":89442538,"body_markdown":"Couple off problems with this approach.. First limit with large offset values will slow down the query execution huge.. `limit 1000000, 2000` MySQL needs to fetch 1002000 records and probably needs to use a temporary table to handle the results the higher the number the more it slows down.. Second SQL tables are unorderd data. SQL will not guarantee running the query `select login, password from TEST.users limit 0, 2000;` multiple times will result in the same results you also need to use a `ORDER BY` then SQL guarantees the same results always.","body":"Couple off problems with this approach.. First limit with large offset values will slow down the query execution huge.. <code>limit 1000000, 2000</code> MySQL needs to fetch 1002000 records and probably needs to use a temporary table to handle the results the higher the number the more it slows down.. Second SQL tables are unorderd data. SQL will not guarantee running the query <code>select login, password from TEST.users limit 0, 2000;</code> multiple times will result in the same results you also need to use a <code>ORDER BY</code> then SQL guarantees the same results always."},{"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"score":0,"creation_date":1531051507,"post_id":51231472,"comment_id":89442700,"body_markdown":"This should be able to be resolved if the Users table have an autoincrement id,so the query can where user_id &gt; last_value order by the id asc.","body":"This should be able to be resolved if the Users table have an autoincrement id,so the query can where user_id &gt; last_value order by the id asc."},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531136434,"post_id":51231472,"comment_id":89467870,"body_markdown":"@Jacob, unfortunately the table does not have an autoincrement column","body":"@Jacob, unfortunately the table does not have an autoincrement column"},{"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"score":0,"creation_date":1531199694,"post_id":51231472,"comment_id":89493973,"body_markdown":"The problem with limit large offset is caused by mysql early rows lookup and another workaround is that you can have a subquery to fetch the primary key first with order by and join back to the main table.","body":"The problem with limit large offset is caused by mysql early rows lookup and another workaround is that you can have a subquery to fetch the primary key first with order by and join back to the main table."},{"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"score":0,"creation_date":1531200731,"post_id":51231472,"comment_id":89494237,"body_markdown":"Updated the answer, after checking your schema.  your original query only fetch primary key columns, I don&#39;t think large offset issue will applied to your first query","body":"Updated the answer, after checking your schema.  your original query only fetch primary key columns, I don&#39;t think large offset issue will applied to your first query"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1531383841,"post_id":51231472,"comment_id":89578145,"body_markdown":"Please don&#39;t use offset pagination on very large tables! https://use-the-index-luke.com/no-offset","body":"Please don&#39;t use offset pagination on very large tables! <a href=\"https://use-the-index-luke.com/no-offset\" rel=\"nofollow noreferrer\">use-the-index-luke.com/no-offset</a>"},{"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"score":0,"creation_date":1531438576,"post_id":51231472,"comment_id":89608068,"body_markdown":"@LukasEder UserPropertyKindId, login are composite keys, so that it won&#39;t suffer from the early rows loopkup which caused the slow limit. My original answer seems problematic , but after OP has changed its query, limit shouldn&#39;t be a problem.","body":"@LukasEder UserPropertyKindId, login are composite keys, so that it won&#39;t suffer from the early rows loopkup which caused the slow limit. My original answer seems problematic , but after OP has changed its query, limit shouldn&#39;t be a problem."},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1531468313,"post_id":51231472,"comment_id":89615997,"body_markdown":"@Jacob: I&#39;m not referring to `LIMIT`, which is hardly ever a problem. I&#39;m referring to `OFFSET`","body":"@Jacob: I&#39;m not referring to <code>LIMIT</code>, which is hardly ever a problem. I&#39;m referring to <code>OFFSET</code>"},{"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"score":0,"creation_date":1531478301,"post_id":51231472,"comment_id":89621517,"body_markdown":"@LukasEder Yes, large offset is problematic, but since then OP has changed the query to return indexed column only, is large offset still a problem?","body":"@LukasEder Yes, large offset is problematic, but since then OP has changed the query to return indexed column only, is large offset still a problem?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1531479606,"post_id":51231472,"comment_id":89622236,"body_markdown":"@Jacob: Yes of course it is still a problem. The index has to be scanned sequentially to count the exact number of rows to skip. I mean, this makes it a bit less of a problem but still a big one. And the query is run many times. Click on the link I provided, it explains it very well :-)","body":"@Jacob: Yes of course it is still a problem. The index has to be scanned sequentially to count the exact number of rows to skip. I mean, this makes it a bit less of a problem but still a big one. And the query is run many times. Click on the link I provided, it explains it very well :-)"}],"tags":[],"owner":{"account_id":3005107,"reputation":1796,"user_id":2549778,"display_name":"Jacob"},"comment_count":15,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1531438257,"creation_date":1531048910,"answer_id":51231472,"question_id":51231400,"body_markdown":"Instead of Lists.partition(users, 2000) in Java side, you should limit your mysql resultset to 2000 per request.\r\n\r\n    select UserPropertyKindId, login from TEST.users limit &lt;offset&gt;, 2000;\r\n\r\nUpdate: as mentioned by Raymond Nijland in the comment below, if the offset is too large, the query could be significantly slowed down.\r\n\r\nOne workaround could be instead of using offset, introduce a where statement such as where id &gt; last_user_id. \r\n\r\nSince @All_safe commented below, an autoincrement id doesn&#39;t exist, another workaround for the large limit offset is that: fetch the primary key only in subquery and then join back to main table. This will force mysql to not do early rows lookup, which is the main problem of large offset limit.\r\n\r\nBut your original query only fetch primary key columns, I don&#39;t think early rows lookups applies.","title":"Getting data from a very large table","body":"<p>Instead of Lists.partition(users, 2000) in Java side, you should limit your mysql resultset to 2000 per request.</p>\n\n<pre><code>select UserPropertyKindId, login from TEST.users limit &lt;offset&gt;, 2000;\n</code></pre>\n\n<p>Update: as mentioned by Raymond Nijland in the comment below, if the offset is too large, the query could be significantly slowed down.</p>\n\n<p>One workaround could be instead of using offset, introduce a where statement such as where id > last_user_id. </p>\n\n<p>Since @All_safe commented below, an autoincrement id doesn't exist, another workaround for the large limit offset is that: fetch the primary key only in subquery and then join back to main table. This will force mysql to not do early rows lookup, which is the main problem of large offset limit.</p>\n\n<p>But your original query only fetch primary key columns, I don't think early rows lookups applies.</p>\n"},{"tags":[],"owner":{"account_id":1079010,"reputation":139,"user_id":1076527,"display_name":"microsaurus_dex"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1531051824,"creation_date":1531051824,"answer_id":51231865,"question_id":51231400,"body_markdown":"You can bake your priority into the query \r\ne.g., `WHERE my_priority = 1 ORDER BY my_sub_priority DESC`\r\n\r\nAND LIKE Jacob said, use limits `LIMIT 0, 2000`\r\n\r\nYou can probably break up the logic in inconsistent_users to look for specific defects and then optimize those queries with insights gained in EXPLAIN. Maybe a find_user_defect(defect) kind of approach will help you process users setwise. \r\n","title":"Getting data from a very large table","body":"<p>You can bake your priority into the query \ne.g., <code>WHERE my_priority = 1 ORDER BY my_sub_priority DESC</code></p>\n\n<p>AND LIKE Jacob said, use limits <code>LIMIT 0, 2000</code></p>\n\n<p>You can probably break up the logic in inconsistent_users to look for specific defects and then optimize those queries with insights gained in EXPLAIN. Maybe a find_user_defect(defect) kind of approach will help you process users setwise. </p>\n"},{"tags":[],"owner":{"account_id":9524880,"reputation":458,"user_id":7078384,"accept_rate":75,"display_name":"Fredy Fischer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531115989,"creation_date":1531115989,"answer_id":51239022,"question_id":51231400,"body_markdown":"I&#39;ve run into a similar situation. I&#39;m reading data from a a MySQL DB and copy it into an MS SQL Server DB. Not 200Million, only 4 Millions a day. But I had the same error message with the communication link failure. I could solve it by setting the fetchsize of the PreparedStatement.setFetchSize(Integer.MIN_VALUE); \r\nSo the communication link failure disappeared. I know, this does not solve your list problem. ","title":"Getting data from a very large table","body":"<p>I've run into a similar situation. I'm reading data from a a MySQL DB and copy it into an MS SQL Server DB. Not 200Million, only 4 Millions a day. But I had the same error message with the communication link failure. I could solve it by setting the fetchsize of the PreparedStatement.setFetchSize(Integer.MIN_VALUE); \nSo the communication link failure disappeared. I know, this does not solve your list problem. </p>\n"},{"comments":[{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531387282,"post_id":51300771,"comment_id":89580410,"body_markdown":"When I write: `setFetchSize(Integer.MIN_VALUE)`, I will come from the database 1 line? As far as I understand, it is not possible to specify the size of the part  in `MySQL`, it ignores it","body":"When I write: <code>setFetchSize(Integer.MIN_VALUE)</code>, I will come from the database 1 line? As far as I understand, it is not possible to specify the size of the part  in <code>MySQL</code>, it ignores it"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1531387793,"post_id":51300771,"comment_id":89580764,"body_markdown":"@All_Safe: Yes, MySQL doesn&#39;t support fetching N rows at a time, only all rows or row by row","body":"@All_Safe: Yes, MySQL doesn&#39;t support fetching N rows at a time, only all rows or row by row"},{"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"score":0,"creation_date":1531486785,"post_id":51300771,"comment_id":89626341,"body_markdown":"Say please, If I will be used `useCursorFetch=true`, I need set this params: `stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,\n              java.sql.ResultSet.CONCUR_READ_ONLY);` ? Or enough this: `stmt.setFetchSize(2000);` ?","body":"Say please, If I will be used <code>useCursorFetch=true</code>, I need set this params: <code>stmt = conn.createStatement(java.sql.ResultSet.TYPE_FORWARD_ONLY,               java.sql.ResultSet.CONCUR_READ_ONLY);</code> ? Or enough this: <code>stmt.setFetchSize(2000);</code> ?"},{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1531487142,"post_id":51300771,"comment_id":89626586,"body_markdown":"`setFetchSize(Integer.MIN_VALUE)`. Observe: `MIN_VALUE`. I&#39;ve linked to older Stack Overflow questions explaining why `MIN_VALUE` needs to be used in MySQL","body":"<code>setFetchSize(Integer.MIN_VALUE)</code>. Observe: <code>MIN_VALUE</code>. I&#39;ve linked to older Stack Overflow questions explaining why <code>MIN_VALUE</code> needs to be used in MySQL"}],"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":4,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1531388335,"creation_date":1531384219,"answer_id":51300771,"question_id":51231400,"body_markdown":"You should handle this on several levels:\r\n\r\n### JDBC driver fetch size\r\n\r\nJDBC has a [`Statement.setFetchSize()`][1] method, which indicates how many rows are going to be pre-fetched by the JDBC driver prior to you getting them from JDBC. Note that MySQL JDBC drivers don&#39;t really implement this correctly, but you can set `setFetchSize(Integer.MIN_VALUE)` to prevent it from fetching all rows in one go. [See also this answer here][2].\r\n\r\nNote, you may also activate the feature on your connection using [`useCursorFetch`][3]\r\n\r\n### Your own logic\r\n\r\nYou should not put the entire list of users in memory. What you&#39;re doing right now is collecting all the rows from JDBC and then partitioning your list later on using `Lists.partition(users, 2000)`. This is going in the right direction, but you&#39;re not doing it right yet. Instead, do:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    try (ResultSet rs = cs.executeQuery()) {\r\n        while (rs.next()) {\r\n            res.add(new ImmutablePair&lt;&gt;(rs.getLong(1), rs.getString(2)));\r\n        }\r\n\r\n        // Process a batch of rows:\r\n        if (res.size() &gt;= 2000) {\r\n            process(res);\r\n            res.clear();\r\n        }\r\n    }\r\n\r\n    // Process the remaining rows\r\n    process(res);\r\n\r\nThe important message here is to not load all rows in memory *and then* process them in batches, but to process them directly while streaming rows from JDBC.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/sql/Statement.html#setFetchSize(int)\r\n  [2]: https://stackoverflow.com/a/26053667/521799\r\n  [3]: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html","title":"Getting data from a very large table","body":"<p>You should handle this on several levels:</p>\n\n<h3>JDBC driver fetch size</h3>\n\n<p>JDBC has a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/sql/Statement.html#setFetchSize(int)\" rel=\"noreferrer\"><code>Statement.setFetchSize()</code></a> method, which indicates how many rows are going to be pre-fetched by the JDBC driver prior to you getting them from JDBC. Note that MySQL JDBC drivers don't really implement this correctly, but you can set <code>setFetchSize(Integer.MIN_VALUE)</code> to prevent it from fetching all rows in one go. <a href=\"https://stackoverflow.com/a/26053667/521799\">See also this answer here</a>.</p>\n\n<p>Note, you may also activate the feature on your connection using <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html\" rel=\"noreferrer\"><code>useCursorFetch</code></a></p>\n\n<h3>Your own logic</h3>\n\n<p>You should not put the entire list of users in memory. What you're doing right now is collecting all the rows from JDBC and then partitioning your list later on using <code>Lists.partition(users, 2000)</code>. This is going in the right direction, but you're not doing it right yet. Instead, do:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>try (ResultSet rs = cs.executeQuery()) {\n    while (rs.next()) {\n        res.add(new ImmutablePair&lt;&gt;(rs.getLong(1), rs.getString(2)));\n    }\n\n    // Process a batch of rows:\n    if (res.size() &gt;= 2000) {\n        process(res);\n        res.clear();\n    }\n}\n\n// Process the remaining rows\nprocess(res);\n</code></pre>\n\n<p>The important message here is to not load all rows in memory <em>and then</em> process them in batches, but to process them directly while streaming rows from JDBC.</p>\n"},{"tags":[],"owner":{"account_id":11602657,"reputation":99,"user_id":8499316,"display_name":"Pritam Patil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682012462,"creation_date":1682012462,"answer_id":76066885,"question_id":51231400,"body_markdown":"Once you create jdbcTemplate, set it&#39;s fetchSize property which is important for processing large result sets.\r\n\r\n    jdbcTemplate.setFetchSize(50000);","title":"Getting data from a very large table","body":"<p>Once you create jdbcTemplate, set it's fetchSize property which is important for processing large result sets.</p>\n<pre><code>jdbcTemplate.setFetchSize(50000);\n</code></pre>\n"}],"owner":{"account_id":12298036,"reputation":1369,"user_id":8973019,"accept_rate":54,"display_name":"All_Safe"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7509,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":51300771,"answer_count":5,"score":4,"last_activity_date":1682012462,"creation_date":1531048384,"question_id":51231400,"body_markdown":"I have a very large table in a MySQL database, 200 million records in table `Users`.\r\n\r\nI make query, using JDBC:\r\n\r\n    public List&lt;Pair&lt;Long, String&gt;&gt; getUsersAll() throws SQLException {\r\n            Connection cnn = null;\r\n            CallableStatement cs = null;\r\n            ResultSet rs = null;\r\n            final List&lt;Pair&lt;Long, String&gt;&gt; res = new ArrayList&lt;&gt;();\r\n            try {\r\n                cnn = dataSource.getConnection();\r\n                cs = cnn.prepareCall(&quot;select UserPropertyKindId, login from TEST.users;&quot;);\r\n                rs = cs.executeQuery();\r\n                while (rs.next()) {\r\n                    res.add(new ImmutablePair&lt;&gt;(rs.getLong(1), rs.getString(2)));\r\n                }\r\n                return res;\r\n            } catch (SQLException ex) {\r\n                throw ex;\r\n            } finally {\r\n                DbUtils.closeQuietly(cnn, cs, rs);\r\n            }\r\n        }\r\n\r\nNext, I process the result:\r\n\r\n    List&lt;Pair&lt;Long, String&gt;&gt; users= dao.getUsersAll();\r\n                if (CollectionUtils.isNotEmpty(users)) {\r\n                    for (List&lt;Pair&lt;Long, String&gt;&gt; partition : Lists.partition(users, 2000)) {\r\n                        InconsistsUsers.InconsistsUsersCallable callable = new InconsistsUsers.InconsistsUsersCallable (new ArrayList&lt;&gt;(partition));\r\n                        processExecutor.submit(callable);\r\n                    }\r\n                }\r\n\r\nBut since the table is very large and it is all unloaded into memory, my application crashes with an error:\r\n\r\n&gt; com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n&gt;\r\n&gt; The last packet successfully received from the server was 105,619 milliseconds ago.\r\n\r\nHow can I receive data in parts and process them in order of priority, so as not to upload all the result into memory at once? It may be possible to create a cursor and upload data to a non-blocking queue and process it as the data arrives. How can this be done?\r\n\r\n**UPDATE:**\r\n\r\nMy DB structure: https://www.db-fiddle.com/f/v377ZHkG1YZcdQsETtPm9L/3\r\n\r\nCurrent algorithm:\r\n\r\n1. Get all data users from `Users` table: `select UserPropertyKindId, login from Users;`\r\n\r\n2. This result is split for 2000 pairs and submit to `ThreadPoolTaskExecutor`:\r\n\r\n        List&lt;Pair&lt;Long, String&gt;&gt; users= dao.getUsersAll();\r\n\r\n        if (CollectionUtils.isNotEmpty(users)) {\r\n            for (List&lt;Pair&lt;Long, String&gt;&gt; partition : Lists.partition(users, 2000)) {\r\n                InconsistsUsers.InconsistsUsersCallable callable = new InconsistsUsers.InconsistsUsersCallable(new ArrayList&lt;&gt;(partition));\r\n                processExecutor.submit(callable));\r\n            }\r\n        }\r\n\r\n3. In callable for each pair make two queries:\r\n\r\n  First query: \r\n\r\n        select distinct entityId \r\n        from UserPropertyValue \r\n        where userPropertyKindId= ? and value = ? -- value its login from Users table\r\n\r\n  Second query:\r\n\r\n        select UserIds \r\n        from UserPropertyIndex \r\n        where UserPropertyKindId = ? and Value = ?\r\n\r\nTwo cases are possible:\r\n\r\n1. Result of first query is empty: logging, send notification, continue to next pair\r\n2. Result of second query is not equal to the result of the first query (varbinary data decoded. There are stored encoded entityId&#39;s). Then logging, send notification, go to next pair.\r\n\r\nI can&#39;t change the structure of the base. All the manipulations I have to do on the Java code side.\r\n\r\n","title":"Getting data from a very large table","body":"<p>I have a very large table in a MySQL database, 200 million records in table <code>Users</code>.</p>\n\n<p>I make query, using JDBC:</p>\n\n<pre><code>public List&lt;Pair&lt;Long, String&gt;&gt; getUsersAll() throws SQLException {\n        Connection cnn = null;\n        CallableStatement cs = null;\n        ResultSet rs = null;\n        final List&lt;Pair&lt;Long, String&gt;&gt; res = new ArrayList&lt;&gt;();\n        try {\n            cnn = dataSource.getConnection();\n            cs = cnn.prepareCall(\"select UserPropertyKindId, login from TEST.users;\");\n            rs = cs.executeQuery();\n            while (rs.next()) {\n                res.add(new ImmutablePair&lt;&gt;(rs.getLong(1), rs.getString(2)));\n            }\n            return res;\n        } catch (SQLException ex) {\n            throw ex;\n        } finally {\n            DbUtils.closeQuietly(cnn, cs, rs);\n        }\n    }\n</code></pre>\n\n<p>Next, I process the result:</p>\n\n<pre><code>List&lt;Pair&lt;Long, String&gt;&gt; users= dao.getUsersAll();\n            if (CollectionUtils.isNotEmpty(users)) {\n                for (List&lt;Pair&lt;Long, String&gt;&gt; partition : Lists.partition(users, 2000)) {\n                    InconsistsUsers.InconsistsUsersCallable callable = new InconsistsUsers.InconsistsUsersCallable (new ArrayList&lt;&gt;(partition));\n                    processExecutor.submit(callable);\n                }\n            }\n</code></pre>\n\n<p>But since the table is very large and it is all unloaded into memory, my application crashes with an error:</p>\n\n<blockquote>\n  <p>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</p>\n  \n  <p>The last packet successfully received from the server was 105,619 milliseconds ago.</p>\n</blockquote>\n\n<p>How can I receive data in parts and process them in order of priority, so as not to upload all the result into memory at once? It may be possible to create a cursor and upload data to a non-blocking queue and process it as the data arrives. How can this be done?</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>My DB structure: <a href=\"https://www.db-fiddle.com/f/v377ZHkG1YZcdQsETtPm9L/3\" rel=\"nofollow noreferrer\">https://www.db-fiddle.com/f/v377ZHkG1YZcdQsETtPm9L/3</a></p>\n\n<p>Current algorithm:</p>\n\n<ol>\n<li><p>Get all data users from <code>Users</code> table: <code>select UserPropertyKindId, login from Users;</code></p></li>\n<li><p>This result is split for 2000 pairs and submit to <code>ThreadPoolTaskExecutor</code>:</p>\n\n<pre><code>List&lt;Pair&lt;Long, String&gt;&gt; users= dao.getUsersAll();\n\nif (CollectionUtils.isNotEmpty(users)) {\n    for (List&lt;Pair&lt;Long, String&gt;&gt; partition : Lists.partition(users, 2000)) {\n        InconsistsUsers.InconsistsUsersCallable callable = new InconsistsUsers.InconsistsUsersCallable(new ArrayList&lt;&gt;(partition));\n        processExecutor.submit(callable));\n    }\n}\n</code></pre></li>\n<li><p>In callable for each pair make two queries:</p>\n\n<p>First query: </p>\n\n<pre><code>select distinct entityId \nfrom UserPropertyValue \nwhere userPropertyKindId= ? and value = ? -- value its login from Users table\n</code></pre>\n\n<p>Second query:</p>\n\n<pre><code>select UserIds \nfrom UserPropertyIndex \nwhere UserPropertyKindId = ? and Value = ?\n</code></pre></li>\n</ol>\n\n<p>Two cases are possible:</p>\n\n<ol>\n<li>Result of first query is empty: logging, send notification, continue to next pair</li>\n<li>Result of second query is not equal to the result of the first query (varbinary data decoded. There are stored encoded entityId's). Then logging, send notification, go to next pair.</li>\n</ol>\n\n<p>I can't change the structure of the base. All the manipulations I have to do on the Java code side.</p>\n"},{"tags":["java","junit","annotations"],"comments":[{"owner":{"account_id":4118,"reputation":5853,"user_id":6094,"accept_rate":100,"display_name":"Peter"},"score":0,"creation_date":1239258498,"post_id":733037,"comment_id":544572,"body_markdown":"Can you confirm what version of junit you have in your classpath?","body":"Can you confirm what version of junit you have in your classpath?"},{"owner":{"account_id":29234,"reputation":1062,"user_id":78823,"accept_rate":79,"display_name":"Lynden Shields"},"score":1,"creation_date":1239258668,"post_id":733037,"comment_id":544578,"body_markdown":"I have JUnit 4.5 in classpath","body":"I have JUnit 4.5 in classpath"}],"answers":[{"comments":[{"owner":{"account_id":29234,"reputation":1062,"user_id":78823,"accept_rate":79,"display_name":"Lynden Shields"},"score":0,"creation_date":1239258545,"post_id":733042,"comment_id":544574,"body_markdown":"You are correct, thanks, but did not start working once i changed to static.","body":"You are correct, thanks, but did not start working once i changed to static."},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1239258712,"post_id":733042,"comment_id":544581,"body_markdown":"Show us the class definition. It might be the case that your class is a subclass of someother, and that parent class may have some method annotated as @BeforeClass, and that method of the parent class is ending up with some errors and causing the halt.","body":"Show us the class definition. It might be the case that your class is a subclass of someother, and that parent class may have some method annotated as @BeforeClass, and that method of the parent class is ending up with some errors and causing the halt."},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1239258909,"post_id":733042,"comment_id":544585,"body_markdown":"Otherwise, try to add a normal test method.","body":"Otherwise, try to add a normal test method."},{"owner":{"account_id":29234,"reputation":1062,"user_id":78823,"accept_rate":79,"display_name":"Lynden Shields"},"score":0,"creation_date":1239259024,"post_id":733042,"comment_id":544587,"body_markdown":"The method is failing in an immediate call to setUp() which is annotated as @before.\nClass def is :\npublic class myTests extends TestCase {","body":"The method is failing in an immediate call to setUp() which is annotated as @before. Class def is : public class myTests extends TestCase {"},{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1239259414,"post_id":733042,"comment_id":544596,"body_markdown":"Are you having any @Test methods?","body":"Are you having any @Test methods?"},{"owner":{"account_id":365724,"reputation":23438,"user_id":710818,"accept_rate":82,"display_name":"user710818"},"score":0,"creation_date":1641530473,"post_id":733042,"comment_id":124833202,"body_markdown":"It doesn&#39;t work","body":"It doesn&#39;t work"}],"tags":[],"owner":{"account_id":5866,"reputation":6843,"user_id":9641,"accept_rate":25,"display_name":"Vladimir"},"comment_count":6,"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1239258881,"creation_date":1239258250,"answer_id":733042,"question_id":733037,"body_markdown":"the method [must be static][1] and not directly call fail (otherwise the other methods won&#39;t be executed).\r\n\r\nThe following class shows all the standard JUnit 4 method types:\r\n\r\n    public class Sample {\r\n    \r\n        @BeforeClass\r\n        public static void beforeClass() {\r\n            System.out.println(&quot;@BeforeClass&quot;);\r\n        }\r\n    \r\n        @Before\r\n        public void before() {\r\n            System.out.println(&quot;@Before&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n            System.out.println(&quot;@Test&quot;);\r\n        }\r\n    \r\n        @After\r\n        public void after() {\r\n            System.out.println(&quot;@After&quot;);\r\n        }\r\n    \r\n        @AfterClass\r\n        public static void afterClass() {\r\n            System.out.println(&quot;@AfterClass&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nand the ouput is (not surprisingly):\r\n\r\n    @BeforeClass\r\n    @Before\r\n    @Test\r\n    @After\r\n    @AfterClass\r\n\r\n  [1]: http://junit.org/junit/javadoc/4.5/org/junit/BeforeClass.html","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>the method <a href=\"http://junit.org/junit/javadoc/4.5/org/junit/BeforeClass.html\" rel=\"noreferrer\">must be static</a> and not directly call fail (otherwise the other methods won't be executed).</p>\n\n<p>The following class shows all the standard JUnit 4 method types:</p>\n\n<pre><code>public class Sample {\n\n    @BeforeClass\n    public static void beforeClass() {\n        System.out.println(\"@BeforeClass\");\n    }\n\n    @Before\n    public void before() {\n        System.out.println(\"@Before\");\n    }\n\n    @Test\n    public void test() {\n        System.out.println(\"@Test\");\n    }\n\n    @After\n    public void after() {\n        System.out.println(\"@After\");\n    }\n\n    @AfterClass\n    public static void afterClass() {\n        System.out.println(\"@AfterClass\");\n    }\n\n}\n</code></pre>\n\n<p>and the ouput is (not surprisingly):</p>\n\n<pre><code>@BeforeClass\n@Before\n@Test\n@After\n@AfterClass\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1239267801,"post_id":733358,"comment_id":544865,"body_markdown":"Yes this is a better option. Didn&#39;t know about these @Suite and @RunWith annotations. +1 and thanks for your inputs.","body":"Yes this is a better option. Didn&#39;t know about these @Suite and @RunWith annotations. +1 and thanks for your inputs."},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1239270262,"post_id":733358,"comment_id":544964,"body_markdown":"thanks. I had a hard time to find it last week.. kind of just in time","body":"thanks. I had a hard time to find it last week.. kind of just in time"},{"owner":{"account_id":29234,"reputation":1062,"user_id":78823,"accept_rate":79,"display_name":"Lynden Shields"},"score":0,"creation_date":1239665454,"post_id":733358,"comment_id":557279,"body_markdown":"Thank you Carlos, works fine now. Also thanks for all your help Vinegar.","body":"Thank you Carlos, works fine now. Also thanks for all your help Vinegar."},{"owner":{"account_id":1982621,"reputation":2896,"user_id":1778834,"accept_rate":100,"display_name":"yashhy"},"score":0,"creation_date":1388993141,"post_id":733358,"comment_id":31456130,"body_markdown":"@CarlosHeuberger i&#39;m extending a class which has methods like `logins`  and `sessions` and I need to run @BeforeClass annotated method also. Is that possible?","body":"@CarlosHeuberger i&#39;m extending a class which has methods like <code>logins</code>  and <code>sessions</code> and I need to run @BeforeClass annotated method also. Is that possible?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1389097129,"post_id":733358,"comment_id":31505453,"body_markdown":"@yashhy - sorry, this should be asked as a question, not as a comment.","body":"@yashhy - sorry, this should be asked as a question, not as a comment."},{"owner":{"account_id":5769080,"reputation":676,"user_id":4553034,"accept_rate":88,"display_name":"MAC"},"score":1,"creation_date":1529545545,"post_id":733358,"comment_id":88915678,"body_markdown":"@yashhy 4 years late but for the other readers, yes that&#39;s possible.","body":"@yashhy 4 years late but for the other readers, yes that&#39;s possible."}],"tags":[],"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"comment_count":6,"down_vote_count":0,"up_vote_count":72,"is_accepted":true,"score":72,"last_activity_date":1239266785,"creation_date":1239266785,"answer_id":733358,"question_id":733037,"body_markdown":"do NOT extend TestCase AND use annotations at the same time!  \r\nIf you need to create a test suite with annotations, use the RunWith annotation like:\r\n\r\n    @RunWith(Suite.class)\r\n    @Suite.SuiteClasses({ MyTests.class, OtherTest.class })\r\n    public class AllTests {\r\n        // empty\r\n    }\r\n\r\n\r\n    public class MyTests {  // no extends here\r\n        @BeforeClass\r\n        public static void setUpOnce() throws InterruptedException {\r\n            ...\r\n        @Test\r\n        ...\r\n\r\n*(by convention: class names with uppercase letter)*","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>do NOT extend TestCase AND use annotations at the same time!<br>\nIf you need to create a test suite with annotations, use the RunWith annotation like:</p>\n\n<pre><code>@RunWith(Suite.class)\n@Suite.SuiteClasses({ MyTests.class, OtherTest.class })\npublic class AllTests {\n    // empty\n}\n\n\npublic class MyTests {  // no extends here\n    @BeforeClass\n    public static void setUpOnce() throws InterruptedException {\n        ...\n    @Test\n    ...\n</code></pre>\n\n<p><em>(by convention: class names with uppercase letter)</em></p>\n"},{"tags":[],"owner":{"account_id":2326776,"reputation":2336,"user_id":2041082,"display_name":"shacharsol"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427725666,"creation_date":1427725666,"answer_id":29348868,"question_id":733037,"body_markdown":"In order that the before annotated function will run , I had to do the following:\r\nIf you use Maven , add a dependency to Junit 4.11+:\r\n\r\n          &lt;properties&gt;\r\n                  &lt;version.java&gt;1.7&lt;/version.java&gt;\r\n                  &lt;version.log4j&gt;1.2.13&lt;/version.log4j&gt;\r\n                  &lt;version.mockito&gt;1.9.0&lt;/version.mockito&gt;\r\n                  &lt;version.power-mockito&gt;1.4.12&lt;/version.power-mockito&gt;\r\n                   &lt;version.junit&gt;4.11&lt;/version.junit&gt;   \r\n                  &lt;version.power-mockito&gt;1.4.12&lt;/version.power-mockito&gt;\r\n          &lt;/properties&gt;           \r\n\r\nand the dependency:\r\n         \r\n          &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n             &lt;groupId&gt;junit&lt;/groupId&gt;\r\n             &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n             &lt;version&gt;${version.junit}&lt;/version&gt;\r\n             &lt;scope&gt;test&lt;/scope&gt;\r\n           &lt;/dependency&gt;    \r\n            .\r\n            .\r\n            .\r\n          &lt;/dependencies&gt;\r\n\r\n       \r\nMake sure your Junit Test class is not extending The TestCase class, since this will cause overlapping with Older version:\r\n\r\n\r\n    public class TuxedoExceptionMapperTest{\r\n       protected TuxedoExceptionMapper subject;\r\n\r\n       @Before\r\n       public void before() throws Exception {\r\n         subject = TuxedoExceptionMapper.getInstance();\r\n          System.out.println(&quot;Start&quot;);\r\n          MockitoAnnotations.initMocks(this);\r\n       }\r\n    }","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>In order that the before annotated function will run , I had to do the following:\nIf you use Maven , add a dependency to Junit 4.11+:</p>\n\n<pre><code>      &lt;properties&gt;\n              &lt;version.java&gt;1.7&lt;/version.java&gt;\n              &lt;version.log4j&gt;1.2.13&lt;/version.log4j&gt;\n              &lt;version.mockito&gt;1.9.0&lt;/version.mockito&gt;\n              &lt;version.power-mockito&gt;1.4.12&lt;/version.power-mockito&gt;\n               &lt;version.junit&gt;4.11&lt;/version.junit&gt;   \n              &lt;version.power-mockito&gt;1.4.12&lt;/version.power-mockito&gt;\n      &lt;/properties&gt;           \n</code></pre>\n\n<p>and the dependency:</p>\n\n<pre><code>      &lt;dependencies&gt;\n        &lt;dependency&gt;\n         &lt;groupId&gt;junit&lt;/groupId&gt;\n         &lt;artifactId&gt;junit&lt;/artifactId&gt;\n         &lt;version&gt;${version.junit}&lt;/version&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n       &lt;/dependency&gt;    \n        .\n        .\n        .\n      &lt;/dependencies&gt;\n</code></pre>\n\n<p>Make sure your Junit Test class is not extending The TestCase class, since this will cause overlapping with Older version:</p>\n\n<pre><code>public class TuxedoExceptionMapperTest{\n   protected TuxedoExceptionMapper subject;\n\n   @Before\n   public void before() throws Exception {\n     subject = TuxedoExceptionMapper.getInstance();\n      System.out.println(\"Start\");\n      MockitoAnnotations.initMocks(this);\n   }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":125755,"reputation":1627,"user_id":321747,"accept_rate":50,"display_name":"fishjd"},"score":0,"creation_date":1461343234,"post_id":36352214,"comment_id":61172438,"body_markdown":"Running jUnit 4.11 allows more than one @BeforeClass , one in your class and one in a super class,  and calls both.","body":"Running jUnit 4.11 allows more than one @BeforeClass , one in your class and one in a super class,  and calls both."}],"tags":[],"owner":{"account_id":2035621,"reputation":29377,"user_id":1818045,"accept_rate":89,"display_name":"ben75"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459501590,"creation_date":1459501590,"answer_id":36352214,"question_id":733037,"body_markdown":"Make sure that :\r\n\r\n- Your test class doesn&#39;t inherits from TestCase\r\n- The @BeforeClass method is static\r\n- You don&#39;t have more than one @BeforeClass method in test class hierarchy (only the most specialized @BeforeClass method will be executed)","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>Make sure that :</p>\n\n<ul>\n<li>Your test class doesn't inherits from TestCase</li>\n<li>The @BeforeClass method is static</li>\n<li>You don't have more than one @BeforeClass method in test class hierarchy (only the most specialized @BeforeClass method will be executed)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2192769,"reputation":211,"user_id":1939320,"display_name":"Kishore"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1589384329,"creation_date":1589384329,"answer_id":61778839,"question_id":733037,"body_markdown":"Make sure you imported @Test from the correct package.\r\n\r\n - Correct package: org.junit.Test\r\n - Incorrect pacakge: org.junit.jupiter.api.Test\r\n\r\nPlease note that this is a solution for: If your @Before, @Atter, etc did not get called at all.","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>Make sure you imported @Test from the correct package.</p>\n\n<ul>\n<li>Correct package: org.junit.Test</li>\n<li>Incorrect pacakge: org.junit.jupiter.api.Test</li>\n</ul>\n\n<p>Please note that this is a solution for: If your @Before, @Atter, etc did not get called at all.</p>\n"},{"tags":[],"owner":{"account_id":14499292,"reputation":153,"user_id":10472965,"display_name":"A. Berk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1609977039,"creation_date":1609977039,"answer_id":65604840,"question_id":733037,"body_markdown":"Check your imports. \r\n\r\n - @Before \r\n - @After  \r\n - @BeforeClass (this should be static)\r\n - @AfterClass  (this should be static)\r\n\r\nand @Test annotations should import from same path.","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>Check your imports.</p>\n<ul>\n<li>@Before</li>\n<li>@After</li>\n<li>@BeforeClass (this should be static)</li>\n<li>@AfterClass  (this should be static)</li>\n</ul>\n<p>and @Test annotations should import from same path.</p>\n"},{"tags":[],"owner":{"account_id":4512567,"reputation":11,"user_id":3668272,"display_name":"Amrit"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682011927,"creation_date":1682011927,"answer_id":76066808,"question_id":733037,"body_markdown":"Things to check: \r\n\r\n - Junit package is: org.junit.Test\r\n - You don&#39;t have a static block. (I learned it the hard way)","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>Things to check:</p>\n<ul>\n<li>Junit package is: org.junit.Test</li>\n<li>You don't have a static block. (I learned it the hard way)</li>\n</ul>\n"}],"owner":{"account_id":29234,"reputation":1062,"user_id":78823,"accept_rate":79,"display_name":"Lynden Shields"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47999,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":733358,"answer_count":7,"score":51,"last_activity_date":1682011927,"creation_date":1239258152,"question_id":733037,"body_markdown":"I have the following code:\r\n\r\n  \r\n\r\n        @BeforeClass\r\n        public static void setUpOnce() throws InterruptedException {\r\n            fail(&quot;LOL&quot;);\r\n        }\r\n\r\nAnd various other methods that are either @Before, @After, @Test or @AfterClass methods.\r\n\r\nThe test doesn&#39;t fail on start up as it seems it should. Can someone help me please?\r\n\r\nI have JUnit 4.5\r\n\r\nThe method is failing in an immediate call to setUp() which is annotated as @before.\r\nClass def is :\r\n\r\n    public class myTests extends TestCase {","title":"Why isn&#39;t my @BeforeClass method running?","body":"<p>I have the following code:</p>\n\n<pre><code>    @BeforeClass\n    public static void setUpOnce() throws InterruptedException {\n        fail(\"LOL\");\n    }\n</code></pre>\n\n<p>And various other methods that are either @Before, @After, @Test or @AfterClass methods.</p>\n\n<p>The test doesn't fail on start up as it seems it should. Can someone help me please?</p>\n\n<p>I have JUnit 4.5</p>\n\n<p>The method is failing in an immediate call to setUp() which is annotated as @before.\nClass def is :</p>\n\n<pre><code>public class myTests extends TestCase {\n</code></pre>\n"},{"tags":["java","selenium-webdriver","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5744,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681992054,"creation_date":1681992054,"answer_id":76063819,"question_id":76063413,"body_markdown":"Below code seems to work only when the `driver` is NOT initiated with `incognito=new`.\r\n````\r\ndriver.switchTo().newWindow(WindowType.TAB);\r\n````\r\n\r\nIf you want your `driver` to be in INCOGNITO mode and want to open a new TAB, you can achieve it using Robot class as below:\r\n````\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;incognito=new&quot;);\r\nChromeDriver driver = new ChromeDriver(options);\r\ndriver.get(&quot;https://www.url.com&quot;);\r\n\t\t\r\nRobot rb = new Robot();\r\n// Press control keyboard key\r\nrb.keyPress(KeyEvent.VK_CONTROL);\r\n// Press T keyboard key\r\nrb.keyPress(KeyEvent.VK_T);\r\n// Release control keyboard key\r\nrb.keyRelease(KeyEvent.VK_CONTROL);\r\n// Release T keyboard key\r\nrb.keyRelease(KeyEvent.VK_T);\r\n````\r\n**Warning:** This solution using Robot class may not work in `headless` mode.","title":"How to launch a new tab in incognito mode using selenium java?","body":"<p>Below code seems to work only when the <code>driver</code> is NOT initiated with <code>incognito=new</code>.</p>\n<pre><code>driver.switchTo().newWindow(WindowType.TAB);\n</code></pre>\n<p>If you want your <code>driver</code> to be in INCOGNITO mode and want to open a new TAB, you can achieve it using Robot class as below:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;incognito=new&quot;);\nChromeDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://www.url.com&quot;);\n        \nRobot rb = new Robot();\n// Press control keyboard key\nrb.keyPress(KeyEvent.VK_CONTROL);\n// Press T keyboard key\nrb.keyPress(KeyEvent.VK_T);\n// Release control keyboard key\nrb.keyRelease(KeyEvent.VK_CONTROL);\n// Release T keyboard key\nrb.keyRelease(KeyEvent.VK_T);\n</code></pre>\n<p><strong>Warning:</strong> This solution using Robot class may not work in <code>headless</code> mode.</p>\n"}],"owner":{"account_id":28359211,"reputation":11,"user_id":21689472,"display_name":"serein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1682011112,"creation_date":1681988919,"question_id":76063413,"body_markdown":"How to launch a new tab in incognito mode using selenium java? \r\nGetting following error:\r\n\r\n```none\r\n&quot;code&quot;:-32000,&quot;message&quot;:&quot;Failed to open new tab - no browser is open&quot;\r\n```\r\n\r\nI&#39;m using this code:\r\n\r\n```java\r\ndriver.switchTo().newWindow(WindowType.TAB);\r\n```","title":"How to launch a new tab in incognito mode using selenium java?","body":"<p>How to launch a new tab in incognito mode using selenium java?\nGetting following error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;code&quot;:-32000,&quot;message&quot;:&quot;Failed to open new tab - no browser is open&quot;\n</code></pre>\n<p>I'm using this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>driver.switchTo().newWindow(WindowType.TAB);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":2,"creation_date":1432241410,"post_id":30384042,"comment_id":48857298,"body_markdown":"Is the list sorted? Is this for consistent hashing?","body":"Is the list sorted? Is this for consistent hashing?"},{"owner":{"account_id":1030254,"reputation":3456,"user_id":1038709,"accept_rate":100,"display_name":"Se&#231;kin Savaş&#231;ı"},"score":0,"creation_date":1432241424,"post_id":30384042,"comment_id":48857305,"body_markdown":"Have you heard about quicksort?","body":"Have you heard about quicksort?"},{"owner":{"account_id":405282,"reputation":22200,"user_id":774078,"accept_rate":94,"display_name":"Sterling Archer"},"score":0,"creation_date":1432241430,"post_id":30384042,"comment_id":48857308,"body_markdown":"From what I remember, via the big-O notation, a single loop is very efficient. Just return the absolute value of the subtraction, and bam, nearest number index.","body":"From what I remember, via the big-O notation, a single loop is very efficient. Just return the absolute value of the subtraction, and bam, nearest number index."},{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1432241435,"post_id":30384042,"comment_id":48857312,"body_markdown":"`Collections.binarySearch` is the way to go.  If the list isn&#39;t sorted, use `Collections.sort` first.","body":"<code>Collections.binarySearch</code> is the way to go.  If the list isn&#39;t sorted, use <code>Collections.sort</code> first."},{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":0,"creation_date":1432241486,"post_id":30384042,"comment_id":48857341,"body_markdown":"@SterlingArcher: but if the array is sorted, you can do this in logarithmic time. Which outperforms linear time nearly always and with huge difference.","body":"@SterlingArcher: but if the array is sorted, you can do this in logarithmic time. Which outperforms linear time nearly always and with huge difference."},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":3,"creation_date":1432241498,"post_id":30384042,"comment_id":48857350,"body_markdown":"@Se&#231;kinSavaş&#231;ı: That&#39;s not the fastest if you only need the number once.","body":"@Se&#231;kinSavaş&#231;ı: That&#39;s not the fastest if you only need the number once."},{"owner":{"account_id":1030254,"reputation":3456,"user_id":1038709,"accept_rate":100,"display_name":"Se&#231;kin Savaş&#231;ı"},"score":0,"creation_date":1432241539,"post_id":30384042,"comment_id":48857368,"body_markdown":"@DavidEhrmann I was not suggesting to sort the list. I was planning to mention about quickselect.","body":"@DavidEhrmann I was not suggesting to sort the list. I was planning to mention about quickselect."},{"owner":{"account_id":3490045,"reputation":3759,"user_id":2919971,"accept_rate":100,"display_name":"MadConan"},"score":0,"creation_date":1432241555,"post_id":30384042,"comment_id":48857377,"body_markdown":"If the list is under a certain limit, it&#39;s actually faster to just do a linear search.","body":"If the list is under a certain limit, it&#39;s actually faster to just do a linear search."},{"owner":{"account_id":405282,"reputation":22200,"user_id":774078,"accept_rate":94,"display_name":"Sterling Archer"},"score":0,"creation_date":1432241566,"post_id":30384042,"comment_id":48857387,"body_markdown":"@CommuSoft I&#39;m not sure I follow. How is sorting it going to yield a better efficiency?","body":"@CommuSoft I&#39;m not sure I follow. How is sorting it going to yield a better efficiency?"},{"owner":{"account_id":5131784,"reputation":15928,"user_id":4111710,"accept_rate":49,"display_name":"Hobbyist"},"score":0,"creation_date":1432241690,"post_id":30384042,"comment_id":48857458,"body_markdown":"The better question is, how would I sort an immutable list? Either way it&#39;s always going to be sorted in ASC order.","body":"The better question is, how would I sort an immutable list? Either way it&#39;s always going to be sorted in ASC order."},{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":0,"creation_date":1432241712,"post_id":30384042,"comment_id":48857475,"body_markdown":"@SterlingArcher: the example seems to imply the list is already sorted. Furthermore in case you are going to do a lot of queries, sorting the list first, will pay off in the end.","body":"@SterlingArcher: the example seems to imply the list is already sorted. Furthermore in case you are going to do a lot of queries, sorting the list first, will pay off in the end."},{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":0,"creation_date":1432241980,"post_id":30384042,"comment_id":48857610,"body_markdown":"@Christian.tucker: what should be returned if such number does not exists. For instance if you query `0`?","body":"@Christian.tucker: what should be returned if such number does not exists. For instance if you query <code>0</code>?"},{"owner":{"account_id":5131784,"reputation":15928,"user_id":4111710,"accept_rate":49,"display_name":"Hobbyist"},"score":0,"creation_date":1432242247,"post_id":30384042,"comment_id":48857743,"body_markdown":"@CommuSoft - An exception should be thrown.","body":"@CommuSoft - An exception should be thrown."}],"answers":[{"tags":[],"owner":{"account_id":4904091,"reputation":1206,"user_id":3951318,"display_name":"Bitcoin M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1432241412,"creation_date":1432241412,"answer_id":30384070,"question_id":30384042,"body_markdown":"You can sort the list and then use a binary-search like method to find the nearest number.","title":"Most efficient way to find the nearest number in a list","body":"<p>You can sort the list and then use a binary-search like method to find the nearest number.</p>\n"},{"tags":[],"owner":{"account_id":3109445,"reputation":31,"user_id":2631544,"display_name":"rrohit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1432241603,"creation_date":1432241603,"answer_id":30384121,"question_id":30384042,"body_markdown":"If the list is sorted , then you can do the Binary Search on the list and You can get your no in Log(n).","title":"Most efficient way to find the nearest number in a list","body":"<p>If the list is sorted , then you can do the Binary Search on the list and You can get your no in Log(n).</p>\n"},{"tags":[],"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1432243381,"creation_date":1432241777,"answer_id":30384159,"question_id":30384042,"body_markdown":"# Generic list\r\n\r\nIf nothing is known about the list, iterating over the list and memorizing the currently best solution is indeed the most efficient one.\r\n\r\nIf you however plan to do such query thousands of times, you might first sort the list.\r\n\r\n# Sorted list\r\n\r\nIf the list is sorted you can use the [`binarySearch(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key)`](http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29) method. This method returns the *insertion point of a new element*. In case the element exists, a positive index of that element is returned. Otherwise the *bitwise negation* of the insertion index is returned.\r\n\r\nYou can then call it with:\r\n\r\n    //only to be used if list is sorted (a priori)\r\n    public int closestValue (List&lt;Integer&gt; list, int value) {\r\n        int index = Collections.binarySearch(list,value);\r\n        if(index &lt; 0) {\r\n            index = ~index-1;\r\n        }\r\n        return list.get(index);\r\n    }\r\n\r\n[**jdoodle demo**](http://jdoodle.com/a/nY).\r\n\r\nThe method will throw an [`IndexOutOfBoundsException`](http://docs.oracle.com/javase/7/docs/api/java/lang/IndexOutOfBoundsException.html) in case there is no such element.\r\n\r\n*Binary search* can be done in *O(log n)*, but only - as said before - if the list is sorted.","title":"Most efficient way to find the nearest number in a list","body":"<h1>Generic list</h1>\n\n<p>If nothing is known about the list, iterating over the list and memorizing the currently best solution is indeed the most efficient one.</p>\n\n<p>If you however plan to do such query thousands of times, you might first sort the list.</p>\n\n<h1>Sorted list</h1>\n\n<p>If the list is sorted you can use the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#binarySearch%28java.util.List,%20T%29\" rel=\"nofollow\"><code>binarySearch(List&lt;? extends Comparable&lt;? super T&gt;&gt; list, T key)</code></a> method. This method returns the <em>insertion point of a new element</em>. In case the element exists, a positive index of that element is returned. Otherwise the <em>bitwise negation</em> of the insertion index is returned.</p>\n\n<p>You can then call it with:</p>\n\n<pre><code>//only to be used if list is sorted (a priori)\npublic int closestValue (List&lt;Integer&gt; list, int value) {\n    int index = Collections.binarySearch(list,value);\n    if(index &lt; 0) {\n        index = ~index-1;\n    }\n    return list.get(index);\n}\n</code></pre>\n\n<p><a href=\"http://jdoodle.com/a/nY\" rel=\"nofollow\"><strong>jdoodle demo</strong></a>.</p>\n\n<p>The method will throw an <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/IndexOutOfBoundsException.html\" rel=\"nofollow\"><code>IndexOutOfBoundsException</code></a> in case there is no such element.</p>\n\n<p><em>Binary search</em> can be done in <em>O(log n)</em>, but only - as said before - if the list is sorted.</p>\n"},{"comments":[{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":0,"creation_date":1432242072,"post_id":30384234,"comment_id":48857664,"body_markdown":"That&#39;s not going to work, since the query can be anything: you could query for `2&#39;000&#39;000&#39;000+`: you&#39;re going to construct a hashmap with more than 4GiB of elements? Will take all memory. Furthermore worst case a hashmap has a time complexity of *O(n)*. Furthermore the *setup* setup phase will take a lot of time.","body":"That&#39;s not going to work, since the query can be anything: you could query for <code>2&#39;000&#39;000&#39;000+</code>: you&#39;re going to construct a hashmap with more than 4GiB of elements? Will take all memory. Furthermore worst case a hashmap has a time complexity of <i>O(n)</i>. Furthermore the <i>setup</i> setup phase will take a lot of time."}],"tags":[],"owner":{"account_id":1342065,"reputation":49,"user_id":1283559,"display_name":"user1283559"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1432242003,"creation_date":1432242003,"answer_id":30384234,"question_id":30384042,"body_markdown":"Create a HashMap the size of your maximum value, then fill the map with key pair of the expected result. i.e map.put(6,5);map.put(7,5) and so on.\r\n\r\nAfter that getting the correct value will be in O(1).\r\n\r\nOf course the creation of the Map will take more time and recourse but over a infinite amount of time this will yield the fastest result. ","title":"Most efficient way to find the nearest number in a list","body":"<p>Create a HashMap the size of your maximum value, then fill the map with key pair of the expected result. i.e map.put(6,5);map.put(7,5) and so on.</p>\n\n<p>After that getting the correct value will be in O(1).</p>\n\n<p>Of course the creation of the Map will take more time and recourse but over a infinite amount of time this will yield the fastest result. </p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1682398922,"post_id":76066650,"comment_id":134204675,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76066650/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28266484,"reputation":1,"user_id":21610368,"display_name":"Robert Otto"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682010953,"creation_date":1682010499,"answer_id":76066650,"question_id":30384042,"body_markdown":"use ConcurrentSkipListSet, and floor(value) to get the value less than or equal to the value specified.\r\nfloor returns null if value argument is less than first value.","title":"Most efficient way to find the nearest number in a list","body":"<p>use ConcurrentSkipListSet, and floor(value) to get the value less than or equal to the value specified.\nfloor returns null if value argument is less than first value.</p>\n"}],"owner":{"account_id":5131784,"reputation":15928,"user_id":4111710,"accept_rate":49,"display_name":"Hobbyist"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":30384159,"answer_count":5,"score":1,"last_activity_date":1682010953,"creation_date":1432241280,"question_id":30384042,"body_markdown":"I know what they say *pre-optimization is the root of all evil* however I&#39;m more curious here as to what is the most efficient way to do this. Just a little more to the knowledge pool, you know?\r\n\r\nBasically I have a collection of integers, like so:\r\n\r\n    final List&lt;Integer&gt; list = ImmutableList.of(1, 5, 10, 27, 57, 193);\r\n\r\nNow I want to find the nearest number, rounded down. So for example I have the number 192. So the returned value from this list will be &quot;57&quot;. Same applies if the number was 58. It just finds the next lowest number.\r\n\r\nCurrently I&#39;m looping through the list starting from the end, using a `for` then returning the index of the list, which would be the number that I want. I&#39;m just curious as to if there&#39;s a more efficient way to do this.","title":"Most efficient way to find the nearest number in a list","body":"<p>I know what they say <em>pre-optimization is the root of all evil</em> however I'm more curious here as to what is the most efficient way to do this. Just a little more to the knowledge pool, you know?</p>\n\n<p>Basically I have a collection of integers, like so:</p>\n\n<pre><code>final List&lt;Integer&gt; list = ImmutableList.of(1, 5, 10, 27, 57, 193);\n</code></pre>\n\n<p>Now I want to find the nearest number, rounded down. So for example I have the number 192. So the returned value from this list will be \"57\". Same applies if the number was 58. It just finds the next lowest number.</p>\n\n<p>Currently I'm looping through the list starting from the end, using a <code>for</code> then returning the index of the list, which would be the number that I want. I'm just curious as to if there's a more efficient way to do this.</p>\n"},{"tags":["java","shell"],"comments":[{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1682010885,"post_id":76066678,"comment_id":134152444,"body_markdown":"What you _return_ goes in `$?`. What `$(...)` captures is stdout, not $?. And when you use `typeset -i` you&#39;re making non-numeric data be ignored/misinterpreted.","body":"What you <i>return</i> goes in <code>$?</code>. What <code>$(...)</code> captures is stdout, not $?. And when you use <code>typeset -i</code> you&#39;re making non-numeric data be ignored/misinterpreted."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1682010946,"post_id":76066678,"comment_id":134152461,"body_markdown":"That is all to say, you want `java -jar tfs.jar -cp tfs/build/classes/java/main com.example.tfs.TfsApplication; result=$?`","body":"That is all to say, you want <code>java -jar tfs.jar -cp tfs&#47;build&#47;classes&#47;java&#47;main com.example.tfs.TfsApplication; result=$?</code>"},{"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"score":0,"creation_date":1682011010,"post_id":76066678,"comment_id":134152479,"body_markdown":"I expected java -jar tfs.jar ..... return  1. So I expected result=1","body":"I expected java -jar tfs.jar ..... return  1. So I expected result=1"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1682011036,"post_id":76066678,"comment_id":134152487,"body_markdown":"Again, the exit status of the last thing run goes in `$?`. Therefore, if you never run `result=$?`, the 1 never gets into `result`. `$()` doesn&#39;t use/check/modify/otherwise have anything to do with exit status at all.","body":"Again, the exit status of the last thing run goes in <code>$?</code>. Therefore, if you never run <code>result=$?</code>, the 1 never gets into <code>result</code>. <code>$()</code> doesn&#39;t use/check/modify/otherwise have anything to do with exit status at all."},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1682011258,"post_id":76066678,"comment_id":134152539,"body_markdown":"(And Java properties are a one-way street; they go into the JVM, but they don&#39;t come out of it; their values are destroyed when the JVM exits).","body":"(And Java properties are a one-way street; they go into the JVM, but they don&#39;t come out of it; their values are destroyed when the JVM exits)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1682012528,"post_id":76066678,"comment_id":134152810,"body_markdown":"*I expected java -jar tfs.jar ..... return 1.* Why so - did you write `System.exit(1)` at the end of `main`? If you had done, then you can capture `$?` and it should be 1","body":"<i>I expected java -jar tfs.jar ..... return 1.</i> Why so - did you write <code>System.exit(1)</code> at the end of <code>main</code>? If you had done, then you can capture <code>$?</code> and it should be 1"},{"owner":{"account_id":8002,"reputation":283812,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1682015960,"post_id":76066678,"comment_id":134153512,"body_markdown":"@g00se, yes, the OP says they did indeed write `System.exit(1)`, but they were trying to capture the resulting exit status with a command substitution instead of referring to `$?`.","body":"@g00se, yes, the OP says they did indeed write <code>System.exit(1)</code>, but they were trying to capture the resulting exit status with a command substitution instead of referring to <code>$?</code>."}],"owner":{"account_id":12545326,"reputation":1014,"user_id":9128863,"display_name":"Jelly"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1682011024,"answer_count":0,"score":0,"last_activity_date":1682010787,"creation_date":1682010787,"question_id":76066678,"body_markdown":"In cluster direcory home/ I locate \r\napp.jar \r\nand run_app.sh\r\n\r\nJava application, packed in app.jar, return value as following:\r\n\r\n     System.exit(1); \r\n\r\nScript in run_app.sh:\r\n\r\n       typeset -i result\r\n       result=$(java -jar tfs.jar -cp app/build/classes/java/main com.example.tfs.Application)\r\n       echo ${result}\r\n\r\nApplication starts successfully by this script. But echo always return 0.\r\n\r\nI tried to pass the return value as property:\r\n\r\n    System.setProperty(&quot;java.return.value&quot;, String.valueOf(1));\r\n\r\nThen in shell: \r\n\r\n     typeset -i result\r\n     java -jar tfs.jar -cp tfs/build/classes/java/main com.example.tfs.TfsApplication\r\n     export java.return.value=${result}\r\n     echo ${result}\r\n\r\nIn this case echo show nothing, but also I receive the error \r\n\r\n    &#39;export java.return.value=&#39;: not a valid identificator\r\n\r\n\r\n\r\n    ","title":"Java: Return value to shell script from jar","body":"<p>In cluster direcory home/ I locate\napp.jar\nand run_app.sh</p>\n<p>Java application, packed in app.jar, return value as following:</p>\n<pre><code> System.exit(1); \n</code></pre>\n<p>Script in run_app.sh:</p>\n<pre><code>   typeset -i result\n   result=$(java -jar tfs.jar -cp app/build/classes/java/main com.example.tfs.Application)\n   echo ${result}\n</code></pre>\n<p>Application starts successfully by this script. But echo always return 0.</p>\n<p>I tried to pass the return value as property:</p>\n<pre><code>System.setProperty(&quot;java.return.value&quot;, String.valueOf(1));\n</code></pre>\n<p>Then in shell:</p>\n<pre><code> typeset -i result\n java -jar tfs.jar -cp tfs/build/classes/java/main com.example.tfs.TfsApplication\n export java.return.value=${result}\n echo ${result}\n</code></pre>\n<p>In this case echo show nothing, but also I receive the error</p>\n<pre><code>'export java.return.value=': not a valid identificator\n</code></pre>\n"},{"tags":["java","testing","struts"],"comments":[{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1593175843,"post_id":62594853,"comment_id":110695277,"body_markdown":"`Struts 2` comes up with a JUnit plugin library that makes it easier to develop unit tests for testing your Struts 2 action classes.","body":"<code>Struts 2</code> comes up with a JUnit plugin library that makes it easier to develop unit tests for testing your Struts 2 action classes."}],"answers":[{"comments":[{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1593428700,"post_id":62595224,"comment_id":110768464,"body_markdown":"Any specific annotation/inheritance for the test class?","body":"Any specific annotation/inheritance for the test class?"},{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1593429142,"post_id":62595224,"comment_id":110768674,"body_markdown":"Nope. Not needed!","body":"Nope. Not needed!"},{"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"score":0,"creation_date":1595334291,"post_id":62595224,"comment_id":111433121,"body_markdown":"hi man, thank you for the help, just one more thing, how do I actually do the action testing after setting up my configuration?","body":"hi man, thank you for the help, just one more thing, how do I actually do the action testing after setting up my configuration?"}],"tags":[],"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593176181,"creation_date":1593176181,"answer_id":62595224,"question_id":62594853,"body_markdown":" 1. Add a new StrutsXmlConfigurationProvider for each config file you want to add. \r\n 2. Override the StrutsTestCase setUp method.\r\n 3. If you have multiple actions in your project, create a base test class that extends StrutsTestCase and just have all your action tests extend that.\r\n\r\n \r\n**Refer to this sample implementation:**\r\n\r\n    @Override\r\n    public void setUp() throws Exception {\r\n        super.setUp();\r\n        List&lt;ContainerProvider&gt; providers = super.configurationManager.getContainerProviders();\r\n        //make one of these for each config file you want to add\r\n        StrutsXmlConfigurationProvider newConfig = new StrutsXmlConfigurationProvider(&quot;src/main/webapp/WEB-INF/classes/struts.xml&quot;, true, super.servletContext);\r\n        providers.add(newConfig);\r\n        super.configurationManager.reload();\r\n    }","title":"Testing struts 2 actions","body":"<ol>\n<li>Add a new StrutsXmlConfigurationProvider for each config file you want to add.</li>\n<li>Override the StrutsTestCase setUp method.</li>\n<li>If you have multiple actions in your project, create a base test class that extends StrutsTestCase and just have all your action tests extend that.</li>\n</ol>\n<p><strong>Refer to this sample implementation:</strong></p>\n<pre><code>@Override\npublic void setUp() throws Exception {\n    super.setUp();\n    List&lt;ContainerProvider&gt; providers = super.configurationManager.getContainerProviders();\n    //make one of these for each config file you want to add\n    StrutsXmlConfigurationProvider newConfig = new StrutsXmlConfigurationProvider(&quot;src/main/webapp/WEB-INF/classes/struts.xml&quot;, true, super.servletContext);\n    providers.add(newConfig);\n    super.configurationManager.reload();\n}\n</code></pre>\n"}],"owner":{"account_id":12804526,"reputation":1368,"user_id":9264713,"display_name":"Bahij.Mik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1682010677,"creation_date":1593174802,"question_id":62594853,"body_markdown":"Guys what is the best way to test struts actions? Is there any framework someone can recommend?\r\nI just recently started working with struts, I used to use mockito for spring mvc testing, but I can&#39;t find any good source online, most of them are way too outdated.","title":"Testing struts 2 actions","body":"<p>Guys what is the best way to test struts actions? Is there any framework someone can recommend?\nI just recently started working with struts, I used to use mockito for spring mvc testing, but I can't find any good source online, most of them are way too outdated.</p>\n"},{"tags":["java","loops","methods","while-loop","switch-statement"],"comments":[{"owner":{"account_id":19185825,"reputation":609,"user_id":14016638,"display_name":"Kavindu Nilshan"},"score":0,"creation_date":1682010002,"post_id":76066239,"comment_id":134152263,"body_markdown":"There is no method called `nextChar()`. Hope you know that.","body":"There is no method called <code>nextChar()</code>. Hope you know that."}],"answers":[{"comments":[{"owner":{"account_id":26751596,"reputation":61,"user_id":20350866,"display_name":"vishalpd"},"score":0,"creation_date":1682009173,"post_id":76066350,"comment_id":134152055,"body_markdown":"thanks heaps, this works like a charm. Would I have to keep adding more conditionals in the while loop if there are more cases in the associationMenu ?","body":"thanks heaps, this works like a charm. Would I have to keep adding more conditionals in the while loop if there are more cases in the associationMenu ?"},{"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"score":0,"creation_date":1682009582,"post_id":76066350,"comment_id":134152152,"body_markdown":"Yep. You will need to add more conditionals to your cases. But if you do not want to have a lot of conditionals then you can create an array with your characters and then in for loop just compare them to &#39;choice&#39;. Hopefully, it`s all clear to you. Feel free to ask other questions and don&#39;t forget to close this one.","body":"Yep. You will need to add more conditionals to your cases. But if you do not want to have a lot of conditionals then you can create an array with your characters and then in for loop just compare them to &#39;choice&#39;. Hopefully, it`s all clear to you. Feel free to ask other questions and don&#39;t forget to close this one."}],"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682008018,"creation_date":1682008018,"answer_id":76066350,"question_id":76066239,"body_markdown":"If I understood assignment properly then you can modify readChoice() method like:\r\n\r\n    public char readChoice() {\r\n        associationMenuHelp();\r\n        System.out.print(&quot;Enter a choice: &quot;);\r\n        char choice = In.nextChar();\r\n        while (choice != &#39;1&#39; &amp;&amp; choice != &#39;2&#39; &amp;&amp; choice != &#39;X&#39;) {\r\n            System.out.println(&quot;Please enter a number 1 or 2, or press X to exit.&quot;);\r\n            System.out.print(&quot;Enter a choice: &quot;);\r\n            choice = In.nextChar();\r\n        }\r\n        return choice;\r\n    }\r\n\r\nIn this modified method when the user does not put a &#39;1&#39; &#39;2&#39; or &#39;X&#39; then the loop will print what you want. Also, you can remove the default statement in assoationMenu() after this modification","title":"How to modify while loop to print extra print statement in next loops? [java]","body":"<p>If I understood assignment properly then you can modify readChoice() method like:</p>\n<pre><code>public char readChoice() {\n    associationMenuHelp();\n    System.out.print(&quot;Enter a choice: &quot;);\n    char choice = In.nextChar();\n    while (choice != '1' &amp;&amp; choice != '2' &amp;&amp; choice != 'X') {\n        System.out.println(&quot;Please enter a number 1 or 2, or press X to exit.&quot;);\n        System.out.print(&quot;Enter a choice: &quot;);\n        choice = In.nextChar();\n    }\n    return choice;\n}\n</code></pre>\n<p>In this modified method when the user does not put a '1' '2' or 'X' then the loop will print what you want. Also, you can remove the default statement in assoationMenu() after this modification</p>\n"},{"tags":[],"owner":{"account_id":19185825,"reputation":609,"user_id":14016638,"display_name":"Kavindu Nilshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1682009934,"creation_date":1682009934,"answer_id":76066581,"question_id":76066239,"body_markdown":"    public void associationMenu(){\r\n        char choice = readChoice();\r\n        while (choice  != &#39;X&#39; ){\r\n            switch (choice) {\r\n                case &#39;1&#39;: exploreTeams(); break;\r\n                case &#39;2&#39;: newSeason(); break;\r\n                // changed here\r\n                default: System.out.println(&quot;Please enter a number 1 or 2, or press X to exit.&quot;); break;\r\n            }\r\n\r\n            choice = readChoice();  // changed here\r\n        }\r\n        System.out.println(&quot;Done&quot;);\r\n    }\r\n\r\nI have changed the code in 2 places and commented on them. \r\n\r\nNote that you need to take the choice inside the `while loop` otherwise If you give input as `1` or `2` it will run on an infinite `loop`.\r\n\r\nI added a print statement to the `default` part for display `&quot;Please enter a number 1 or 2, or press X to exit.&quot;` only if the input is not equal to `1`, `2`, or `X`.\r\n","title":"How to modify while loop to print extra print statement in next loops? [java]","body":"<pre><code>public void associationMenu(){\n    char choice = readChoice();\n    while (choice  != 'X' ){\n        switch (choice) {\n            case '1': exploreTeams(); break;\n            case '2': newSeason(); break;\n            // changed here\n            default: System.out.println(&quot;Please enter a number 1 or 2, or press X to exit.&quot;); break;\n        }\n\n        choice = readChoice();  // changed here\n    }\n    System.out.println(&quot;Done&quot;);\n}\n</code></pre>\n<p>I have changed the code in 2 places and commented on them.</p>\n<p>Note that you need to take the choice inside the <code>while loop</code> otherwise If you give input as <code>1</code> or <code>2</code> it will run on an infinite <code>loop</code>.</p>\n<p>I added a print statement to the <code>default</code> part for display <code>&quot;Please enter a number 1 or 2, or press X to exit.&quot;</code> only if the input is not equal to <code>1</code>, <code>2</code>, or <code>X</code>.</p>\n"}],"owner":{"account_id":26751596,"reputation":61,"user_id":20350866,"display_name":"vishalpd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76066581,"answer_count":2,"score":1,"last_activity_date":1682009934,"creation_date":1682007236,"question_id":76066239,"body_markdown":"These current `associationMenu` uses switch statements to implement methods corresponding to the `char` input by the user. The while statement loops over untill `X` is read.\r\n\r\nI want to make some modifications such that when `X` is not the input.\r\nIt will print `&quot;Please enter a number 1 or 2, or press X to exit.&quot;`\r\nand run the method again.\r\n\r\n```java\r\npublic void associationMenu(){\r\n    char choice = readChoice();\r\n    while (choice  != &#39;X&#39; ){\r\n        switch (choice) {\r\n            case &#39;1&#39;: exploreTeams(); break;\r\n            case &#39;2&#39;: newSeason(); break;\r\n            default: associationMenu(); break;\r\n        }\r\n    }\r\n    System.out.println(&quot;Done&quot;);\r\n}\r\n```\r\n\r\n\r\n```java\r\npublic char readChoice() {\r\n    associationMenuHelp(); //prints first 4 lines of Sample I/O shown below\r\n    System.out.print(&quot;Enter a choice: &quot;);\r\n    return In.nextChar();\r\n}\r\n```\r\n\r\nSample I/O\r\n\r\n    Welcome to the Association! Please make a selection from the menu:\r\n    1. Explore the teams.\r\n    2. Arrange a new season.\r\n    X. Exit the system.\r\n    Enter a choice: x\r\n    Please enter a number 1 or 2, or press X to exit.\r\n    Welcome to the Association! Please make a selection from the menu:\r\n    1. Explore the teams.\r\n    2. Arrange a new season.\r\n    X. Exit the system.\r\n    Enter a choice: X\r\n    Done","title":"How to modify while loop to print extra print statement in next loops? [java]","body":"<p>These current <code>associationMenu</code> uses switch statements to implement methods corresponding to the <code>char</code> input by the user. The while statement loops over untill <code>X</code> is read.</p>\n<p>I want to make some modifications such that when <code>X</code> is not the input.\nIt will print <code>&quot;Please enter a number 1 or 2, or press X to exit.&quot;</code>\nand run the method again.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void associationMenu(){\n    char choice = readChoice();\n    while (choice  != 'X' ){\n        switch (choice) {\n            case '1': exploreTeams(); break;\n            case '2': newSeason(); break;\n            default: associationMenu(); break;\n        }\n    }\n    System.out.println(&quot;Done&quot;);\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public char readChoice() {\n    associationMenuHelp(); //prints first 4 lines of Sample I/O shown below\n    System.out.print(&quot;Enter a choice: &quot;);\n    return In.nextChar();\n}\n</code></pre>\n<p>Sample I/O</p>\n<pre><code>Welcome to the Association! Please make a selection from the menu:\n1. Explore the teams.\n2. Arrange a new season.\nX. Exit the system.\nEnter a choice: x\nPlease enter a number 1 or 2, or press X to exit.\nWelcome to the Association! Please make a selection from the menu:\n1. Explore the teams.\n2. Arrange a new season.\nX. Exit the system.\nEnter a choice: X\nDone\n</code></pre>\n"},{"tags":["java","multithreading","completable-future"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1682008879,"post_id":76066356,"comment_id":134151993,"body_markdown":"Speculating, but possibly related to `main` ending (so the whole program ends) before the `CompleteFuture` has a chance to run.  It might also depends on if the thread pool creates the workers as a daemon or non-daemon thread.","body":"Speculating, but possibly related to <code>main</code> ending (so the whole program ends) before the <code>CompleteFuture</code> has a chance to run.  It might also depends on if the thread pool creates the workers as a daemon or non-daemon thread."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1682009141,"post_id":76066356,"comment_id":134152047,"body_markdown":"The duplicate addresses the _code_ in your question. I&#39;m not sure if it will address the problem in your real project. Let me know one way or the other, please.","body":"The duplicate addresses the <i>code</i> in your question. I&#39;m not sure if it will address the problem in your real project. Let me know one way or the other, please."}],"answers":[{"comments":[{"owner":{"account_id":2103126,"reputation":81,"user_id":1870194,"display_name":"Hasham Rasheed"},"score":0,"creation_date":1682009041,"post_id":76066441,"comment_id":134152025,"body_markdown":"Thank you, it works. But the problem is that it&#39;s a blocking mechanism because of join(). I need something like an async background task","body":"Thank you, it works. But the problem is that it&#39;s a blocking mechanism because of join(). I need something like an async background task"},{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1682009170,"post_id":76066441,"comment_id":134152054,"body_markdown":"@HashamRasheed If the goal is to have an async background task, then you can modify the code to use a callback function to handle the results when the CompletableFuture completes. Let me change my answer to demonstrate you.","body":"@HashamRasheed If the goal is to have an async background task, then you can modify the code to use a callback function to handle the results when the CompletableFuture completes. Let me change my answer to demonstrate you."},{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1682009695,"post_id":76066441,"comment_id":134152182,"body_markdown":"@HashamRasheed try updated code, please :-)","body":"@HashamRasheed try updated code, please :-)"},{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1682009976,"post_id":76066441,"comment_id":134152255,"body_markdown":"@HashamRasheed all good? Let me know if I can help you. :-)","body":"@HashamRasheed all good? Let me know if I can help you. :-)"},{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1682010989,"post_id":76066441,"comment_id":134152471,"body_markdown":"@HashamRasheed You are welcome! Happy to help you! :)\nLet me know if you meet any other issues, please.","body":"@HashamRasheed You are welcome! Happy to help you! :) Let me know if you meet any other issues, please."}],"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1682009666,"creation_date":1682008673,"answer_id":76066441,"question_id":76066356,"body_markdown":"Try this code\r\n```\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.function.Consumer;\r\n\r\npublic class Main {\r\n\r\n\tprivate static final ExecutorService executor = Executors.newCachedThreadPool();\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tConsumer&lt;Integer&gt; consumer = result -&gt; System.out.println(&quot;Result: &quot; + result);\r\n\t\t\tdoSomething(i)\r\n\t\t\t\t\t.thenAcceptAsync(consumer, executor);\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Main thread is not blocked&quot;);\r\n\t}\r\n\r\n\tprivate static CompletableFuture&lt;Integer&gt; doSomething(final int i) {\r\n\t\treturn CompletableFuture.supplyAsync(() -&gt; {\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(2500);\r\n\t\t\t} catch (InterruptedException interruptedException) {\r\n\t\t\t\tinterruptedException.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn i * 3;\r\n\t\t}, executor);\r\n\t}\r\n}\r\n```\r\n","title":"CompletableFuture doesn&#39;t get executed","body":"<p>Try this code</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.function.Consumer;\n\npublic class Main {\n\n    private static final ExecutorService executor = Executors.newCachedThreadPool();\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 10; i++) {\n            Consumer&lt;Integer&gt; consumer = result -&gt; System.out.println(&quot;Result: &quot; + result);\n            doSomething(i)\n                    .thenAcceptAsync(consumer, executor);\n        }\n        System.out.println(&quot;Main thread is not blocked&quot;);\n    }\n\n    private static CompletableFuture&lt;Integer&gt; doSomething(final int i) {\n        return CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                Thread.sleep(2500);\n            } catch (InterruptedException interruptedException) {\n                interruptedException.printStackTrace();\n            }\n            return i * 3;\n        }, executor);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2103126,"reputation":81,"user_id":1870194,"display_name":"Hasham Rasheed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1682009087,"accepted_answer_id":76066441,"answer_count":1,"score":2,"last_activity_date":1682009666,"creation_date":1682008054,"question_id":76066356,"body_markdown":"I&#39;m having a very weird problem with CompletableFuture\r\n\r\n```\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\n\r\npublic class Main {\r\n\r\n\tfinal static ExecutorService executor = Executors.newCachedThreadPool();\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tfor (int i = 0; i &lt; 10; i++) {\r\n\t\t\tfinal CompletableFuture withoutExecutor = doSomethingOne(i);\r\n//      final CompletableFuture withExecutor = doSomethingTwo(i);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static CompletableFuture doSomethingOne(final int i) {\r\n\t\treturn CompletableFuture.runAsync(() -&gt; {\r\n\t\t\tSystem.out.println(&quot;Without Executor &quot; + i);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate static CompletableFuture doSomethingTwo(final int i) {\r\n\t\treturn CompletableFuture.runAsync(() -&gt; {\r\n\t\t\tSystem.out.println(&quot;With Executor &quot; + i);\r\n\t\t}, executor);\r\n\t}\r\n}\r\n```\r\n\r\nWhen `main` is executed, it doesn&#39;t print anything (the `withoutExecutor` CompletableFuture doesn&#39;t even get executed). But when I uncomment the `withExecutor`, both CompletableFutures work as expected. What am I missing?\r\n\r\nI have similar problem in my personal project, but the overall idea is the same. I am currently using an executor with my CompletableFutures in the project, and they only run for a certain amount of time, then they stop running completely (Even debugger doesn&#39;t hit a breakpoint within CompletableFuture). I need an async background task, waiting is not an option since CompletableFuture is triggered via a REST API in my project, and I have to return result of storing the Story as soon as possible.","title":"CompletableFuture doesn&#39;t get executed","body":"<p>I'm having a very weird problem with CompletableFuture</p>\n<pre><code>import java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\n\npublic class Main {\n\n    final static ExecutorService executor = Executors.newCachedThreadPool();\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 10; i++) {\n            final CompletableFuture withoutExecutor = doSomethingOne(i);\n//      final CompletableFuture withExecutor = doSomethingTwo(i);\n        }\n    }\n\n    private static CompletableFuture doSomethingOne(final int i) {\n        return CompletableFuture.runAsync(() -&gt; {\n            System.out.println(&quot;Without Executor &quot; + i);\n        });\n    }\n\n    private static CompletableFuture doSomethingTwo(final int i) {\n        return CompletableFuture.runAsync(() -&gt; {\n            System.out.println(&quot;With Executor &quot; + i);\n        }, executor);\n    }\n}\n</code></pre>\n<p>When <code>main</code> is executed, it doesn't print anything (the <code>withoutExecutor</code> CompletableFuture doesn't even get executed). But when I uncomment the <code>withExecutor</code>, both CompletableFutures work as expected. What am I missing?</p>\n<p>I have similar problem in my personal project, but the overall idea is the same. I am currently using an executor with my CompletableFutures in the project, and they only run for a certain amount of time, then they stop running completely (Even debugger doesn't hit a breakpoint within CompletableFuture). I need an async background task, waiting is not an option since CompletableFuture is triggered via a REST API in my project, and I have to return result of storing the Story as soon as possible.</p>\n"},{"tags":["java","eclipse","jar"],"comments":[{"owner":{"account_id":1629580,"reputation":1085,"user_id":1504421,"display_name":"delephin"},"score":0,"creation_date":1513206791,"post_id":47795695,"comment_id":82568451,"body_markdown":"Is the file included in the jar? If not, you&#39;ll have to customize your packaging process.","body":"Is the file included in the jar? If not, you&#39;ll have to customize your packaging process."},{"owner":{"account_id":10541289,"reputation":151,"user_id":7767248,"accept_rate":14,"display_name":"No Braves Studio"},"score":0,"creation_date":1513265484,"post_id":47795695,"comment_id":82595423,"body_markdown":"Hum... I don&#39;t know, It is maybe the clue, how do we change these packaging processes ?","body":"Hum... I don&#39;t know, It is maybe the clue, how do we change these packaging processes ?"},{"owner":{"account_id":1629580,"reputation":1085,"user_id":1504421,"display_name":"delephin"},"score":0,"creation_date":1513277503,"post_id":47795695,"comment_id":82602712,"body_markdown":"How do you build your executable? Speech.jar I mean.","body":"How do you build your executable? Speech.jar I mean."},{"owner":{"account_id":10541289,"reputation":151,"user_id":7767248,"accept_rate":14,"display_name":"No Braves Studio"},"score":0,"creation_date":1513348638,"post_id":47795695,"comment_id":82632070,"body_markdown":"I only build it as an executable jar with Eclipse with no special things","body":"I only build it as an executable jar with Eclipse with no special things"},{"owner":{"account_id":1629580,"reputation":1085,"user_id":1504421,"display_name":"delephin"},"score":0,"creation_date":1513354769,"post_id":47795695,"comment_id":82635914,"body_markdown":"If you decompile/unzip the jar, do you see si_vox.conf in the right path?","body":"If you decompile/unzip the jar, do you see si_vox.conf in the right path?"}],"owner":{"account_id":10541289,"reputation":151,"user_id":7767248,"accept_rate":14,"display_name":"No Braves Studio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1682009649,"creation_date":1513176108,"question_id":47795695,"body_markdown":"For a personal project I needed a French Text To Speech engine that I&#39;ll use from another application. So I created a simple Java code which says in French the argument 0 of the command (for example the command:)\r\n\r\n&gt; java -jar Speech.jar &quot;Hello guys this is a test&quot;\r\n\r\nwill say the sentence &quot;Hello guys this is a test&quot;. To accomplish this I use a module named SI_VOX which uses a folder to get all the language data. In the Eclipse IDE engine, everything works but as soon as i compile my code to a runnable jar file, it says that the code isn&#39;t able to access the language data file.\r\nThe error is in French: \r\n\r\n&gt; SI_VOX WARNING [GenerateurPreposition] : Erreur lors du chargement du fichier de regles\r\njava.io.FileNotFoundException: nullnull (The system cannot find the file specified)\r\n\r\nHere is my code\r\n\r\n    import java.io.*;\r\n    import t2s.son.LecteurTexte;\r\n    \r\n    public class Main {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tif(args.length == 0) return;\r\n            final LecteurTexte lecteur = new LecteurTexte();\r\n            for(String arg : args) { System.out.println(arg); }\r\n            lecteur.setTexte(args[0]);\r\n            lecteur.playAll();\r\n    \t}\r\n    }\r\n\r\nHere is an image of the data folder in my project (The code isn&#39;t able to access it when it is compiled but it is able to access it from the IDE).\r\n(It is the &quot;donees&quot; folder)\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tWG9T.png","title":"Eclipse Jar folder access","body":"<p>For a personal project I needed a French Text To Speech engine that I'll use from another application. So I created a simple Java code which says in French the argument 0 of the command (for example the command:)</p>\n<blockquote>\n<p>java -jar Speech.jar &quot;Hello guys this is a test&quot;</p>\n</blockquote>\n<p>will say the sentence &quot;Hello guys this is a test&quot;. To accomplish this I use a module named SI_VOX which uses a folder to get all the language data. In the Eclipse IDE engine, everything works but as soon as i compile my code to a runnable jar file, it says that the code isn't able to access the language data file.\nThe error is in French:</p>\n<blockquote>\n<p>SI_VOX WARNING [GenerateurPreposition] : Erreur lors du chargement du fichier de regles\njava.io.FileNotFoundException: nullnull (The system cannot find the file specified)</p>\n</blockquote>\n<p>Here is my code</p>\n<pre><code>import java.io.*;\nimport t2s.son.LecteurTexte;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        if(args.length == 0) return;\n        final LecteurTexte lecteur = new LecteurTexte();\n        for(String arg : args) { System.out.println(arg); }\n        lecteur.setTexte(args[0]);\n        lecteur.playAll();\n    }\n}\n</code></pre>\n<p>Here is an image of the data folder in my project (The code isn't able to access it when it is compiled but it is able to access it from the IDE).\n(It is the &quot;donees&quot; folder)\n<a href=\"https://i.stack.imgur.com/tWG9T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tWG9T.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","iterator"],"answers":[{"comments":[{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":0,"creation_date":1366105962,"post_id":16033728,"comment_id":22873800,"body_markdown":"I would keep changing the index variable only in the for statement&#39;s 3rd part. Increasing it in multiple places inside the loop results in less clear (meaning harder to understand and maintain, easier to have bugs) code. This&#39;s pretty common idiom / rule of thumb with for loop, and while loop might be better choice, if you do write it your way.","body":"I would keep changing the index variable only in the for statement&#39;s 3rd part. Increasing it in multiple places inside the loop results in less clear (meaning harder to understand and maintain, easier to have bugs) code. This&#39;s pretty common idiom / rule of thumb with for loop, and while loop might be better choice, if you do write it your way."},{"owner":{"account_id":931267,"reputation":220130,"user_id":961113,"display_name":"Habib"},"score":2,"creation_date":1366106034,"post_id":16033728,"comment_id":22873848,"body_markdown":"@hyde, I thought about it, but then decided to change minimum, for the OP&#39;s understanding, I agree that for loop counter should be modified in only a single place, since it provides better understanding/readability","body":"@hyde, I thought about it, but then decided to change minimum, for the OP&#39;s understanding, I agree that for loop counter should be modified in only a single place, since it provides better understanding/readability"},{"owner":{"account_id":552790,"reputation":1926,"user_id":918030,"accept_rate":40,"display_name":"stikkos"},"score":0,"creation_date":1366106406,"post_id":16033728,"comment_id":22874067,"body_markdown":"Thanks guys, both answers were really helpful!","body":"Thanks guys, both answers were really helpful!"}],"tags":[],"owner":{"account_id":931267,"reputation":220130,"user_id":961113,"display_name":"Habib"},"comment_count":3,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1366105519,"creation_date":1366105519,"answer_id":16033728,"question_id":16033711,"body_markdown":"You need to modify and increment `i` for the second value, modify the statement:\r\n\r\n    second = strings.get(i + 1);\r\n\r\nto\r\n\r\n    second = strings.get(++i);\r\n\r\nThis will increment the `i` as well, since this seems to be the desired behaviour. \r\n\r\nSo your code would be:\r\n\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    for(int i = 0; i &lt; strings.size(); i++){\r\n        String first = strings.get(i);\r\n        String second = null;\r\n        if(strings.size() &gt; i + 1){\r\n            second = strings.get(++i); //Change here\r\n        }\r\n        System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n    }\r\n\r\n","title":"Java - Iterating over every two elements in a list","body":"<p>You need to modify and increment <code>i</code> for the second value, modify the statement:</p>\n\n<pre><code>second = strings.get(i + 1);\n</code></pre>\n\n<p>to</p>\n\n<pre><code>second = strings.get(++i);\n</code></pre>\n\n<p>This will increment the <code>i</code> as well, since this seems to be the desired behaviour. </p>\n\n<p>So your code would be:</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nfor(int i = 0; i &lt; strings.size(); i++){\n    String first = strings.get(i);\n    String second = null;\n    if(strings.size() &gt; i + 1){\n        second = strings.get(++i); //Change here\n    }\n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1601411,"reputation":145,"user_id":1482367,"accept_rate":83,"display_name":"Nidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366105630,"creation_date":1366105630,"answer_id":16033776,"question_id":16033711,"body_markdown":"What if you increase i by 2 in each iteration? Should do...\r\nOtherwise consider increase i inside the actual loop","title":"Java - Iterating over every two elements in a list","body":"<p>What if you increase i by 2 in each iteration? Should do...\nOtherwise consider increase i inside the actual loop</p>\n"},{"comments":[{"owner":{"account_id":376162,"reputation":43022,"user_id":727429,"accept_rate":90,"display_name":"CQM"},"score":3,"creation_date":1397768073,"post_id":16033786,"comment_id":35387045,"body_markdown":"can&#39;t this go out of bounds?","body":"can&#39;t this go out of bounds?"},{"owner":{"account_id":21127889,"reputation":129,"user_id":15532852,"display_name":"DoubleS"},"score":0,"creation_date":1675591146,"post_id":16033786,"comment_id":132958796,"body_markdown":"What if the list&#39;s size is exactly 2? the loop won&#39;t iterate over those two elements!","body":"What if the list&#39;s size is exactly 2? the loop won&#39;t iterate over those two elements!"},{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":1,"creation_date":1675939693,"post_id":16033786,"comment_id":133037340,"body_markdown":"@IdoSarShalom Hah, classic off by one. Thanks for noticing. Now hopefully fixed.","body":"@IdoSarShalom Hah, classic off by one. Thanks for noticing. Now hopefully fixed."}],"tags":[],"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"comment_count":3,"down_vote_count":0,"up_vote_count":20,"is_accepted":true,"score":20,"last_activity_date":1682009041,"creation_date":1366105650,"answer_id":16033786,"question_id":16033711,"body_markdown":"Just increase `i` by 2 on each iteration, instead of `++` (which increments by 1):\r\n\r\n```java\r\nfor (int i = 0; i + 1 &lt; strings.size(); i += 2) {\r\n  String first = strings.get(i);\r\n  String second = strings.get(i + 1);\r\n}\r\n```","title":"Java - Iterating over every two elements in a list","body":"<p>Just increase <code>i</code> by 2 on each iteration, instead of <code>++</code> (which increments by 1):</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i + 1 &lt; strings.size(); i += 2) {\n  String first = strings.get(i);\n  String second = strings.get(i + 1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1228795,"reputation":8221,"user_id":1193808,"display_name":"Subir Kumar Sao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366105688,"creation_date":1366105688,"answer_id":16033803,"question_id":16033711,"body_markdown":"    for(int i = 0; i &lt; strings.size(); i++){\r\n        String first = strings.get(i++);\r\n        String second = null;\r\n        if(strings.size() &gt; i){\r\n            second = strings.get(i);\r\n        }\r\n        System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n    }","title":"Java - Iterating over every two elements in a list","body":"<pre><code>for(int i = 0; i &lt; strings.size(); i++){\n    String first = strings.get(i++);\n    String second = null;\n    if(strings.size() &gt; i){\n        second = strings.get(i);\n    }\n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"score":0,"creation_date":1366106254,"post_id":16033816,"comment_id":22873974,"body_markdown":"is there a reason why you put the `int i = 0` outside the loop?","body":"is there a reason why you put the <code>int i = 0</code> outside the loop?"},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1366106286,"post_id":16033816,"comment_id":22873999,"body_markdown":"@MarcoForberg:Yes.To do the check for odd sized list outside the `for` loop","body":"@MarcoForberg:Yes.To do the check for odd sized list outside the <code>for</code> loop"},{"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"score":0,"creation_date":1366106410,"post_id":16033816,"comment_id":22874071,"body_markdown":"hmmm okay, but why not check for odd size &quot;as usual&quot;: `strings.size() % 2`? uhmm... correct me if i&#39;m wrong but after execution of the loop i think i will be one greater than the size of the list.","body":"hmmm okay, but why not check for odd size &quot;as usual&quot;: <code>strings.size() % 2</code>? uhmm... correct me if i&#39;m wrong but after execution of the loop i think i will be one greater than the size of the list."},{"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"score":0,"creation_date":1366106474,"post_id":16033816,"comment_id":22874122,"body_markdown":"@MarcoForberg:You could do that as well","body":"@MarcoForberg:You could do that as well"},{"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"score":0,"creation_date":1366108280,"post_id":16033816,"comment_id":22875192,"body_markdown":"you forgot to set first to a new value in your if block","body":"you forgot to set first to a new value in your if block"}],"tags":[],"owner":{"account_id":162919,"reputation":53273,"user_id":384706,"accept_rate":64,"display_name":"Cratylus"},"comment_count":5,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1366108336,"creation_date":1366105731,"answer_id":16033816,"question_id":16033711,"body_markdown":"    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);    \r\n    int i = 0;  \r\n    for(; i &lt; strings.size() - 1; i+=2){  \r\n        String first = strings.get(i);  \r\n        String second =  strings.get(i + 1);  \r\n        System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);  \r\n    }  \r\n    //For odd sized lists\r\n    if(i &lt; strings.size()){         \r\n        System.out.println(&quot;First [&quot; + strings.get(i) + &quot;]&quot;);  \r\n    }\r\n\r\n","title":"Java - Iterating over every two elements in a list","body":"<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");    \nint i = 0;  \nfor(; i &lt; strings.size() - 1; i+=2){  \n    String first = strings.get(i);  \n    String second =  strings.get(i + 1);  \n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");  \n}  \n//For odd sized lists\nif(i &lt; strings.size()){         \n    System.out.println(\"First [\" + strings.get(i) + \"]\");  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2637619,"reputation":21,"user_id":2281914,"display_name":"Superboleta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1366106220,"creation_date":1366105829,"answer_id":16033851,"question_id":16033711,"body_markdown":"    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    for(int i = 0; i &lt; strings.size(); i++){\r\n        if(i&#189;2 = 0){\r\n            String first = strings.get(i);\r\n            System.out.print(&quot;First [&quot; + first + &quot;] &quot;);\r\n        }else{\r\n             String second = strings.get(i + 1);\r\n             System.out.println(&quot;- Second [&quot; + second + &quot;]&quot;);\r\n        }\r\n    }","title":"Java - Iterating over every two elements in a list","body":"<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nfor(int i = 0; i &lt; strings.size(); i++){\n    if(i½2 = 0){\n        String first = strings.get(i);\n        System.out.print(\"First [\" + first + \"] \");\n    }else{\n         String second = strings.get(i + 1);\n         System.out.println(\"- Second [\" + second + \"]\");\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1901532,"reputation":61142,"user_id":1717300,"accept_rate":89,"display_name":"hyde"},"score":3,"creation_date":1366108255,"post_id":16034003,"comment_id":22875174,"body_markdown":"Opinion: Call to `strings.size()` gets inlined, so performance difference is negligible. Also often (maybe not in this case) optimizations like this have potential to become bugs, when code is changed later, but updating the pre-calculated value is forgotten. It&#39;s useful to *consider* this kind of optimization, but it should be done only *if* it is a real improvement in performance (calculating size is expensive, for example) or in readability (size is calculated in several places, for example). Otherwise, like here, it is premature micro-optimization and IMNSHO should be avoided.","body":"Opinion: Call to <code>strings.size()</code> gets inlined, so performance difference is negligible. Also often (maybe not in this case) optimizations like this have potential to become bugs, when code is changed later, but updating the pre-calculated value is forgotten. It&#39;s useful to <i>consider</i> this kind of optimization, but it should be done only <i>if</i> it is a real improvement in performance (calculating size is expensive, for example) or in readability (size is calculated in several places, for example). Otherwise, like here, it is premature micro-optimization and IMNSHO should be avoided."},{"owner":{"account_id":72657,"reputation":729,"user_id":209691,"accept_rate":52,"display_name":"Lahniep"},"score":0,"creation_date":1366108669,"post_id":16034003,"comment_id":22875421,"body_markdown":"I agree with you that for a first prototype of the solution you don&#39;t think about optimization. but in real world situations you deal with large sets of data. So I think it should be considered as a good practice","body":"I agree with you that for a first prototype of the solution you don&#39;t think about optimization. but in real world situations you deal with large sets of data. So I think it should be considered as a good practice"},{"owner":{"account_id":552790,"reputation":1926,"user_id":918030,"accept_rate":40,"display_name":"stikkos"},"score":1,"creation_date":1366112889,"post_id":16034003,"comment_id":22877741,"body_markdown":"&quot;in real world situations you deal with large sets of data&quot; is a bit of a generalisation in my opinion. Large sets of data that require performance optimisations are exceptional, even in real world situations!","body":"&quot;in real world situations you deal with large sets of data&quot; is a bit of a generalisation in my opinion. Large sets of data that require performance optimisations are exceptional, even in real world situations!"},{"owner":{"account_id":1652375,"reputation":1645,"user_id":1522691,"accept_rate":25,"display_name":"CaTalyst.X"},"score":2,"creation_date":1410381077,"post_id":16034003,"comment_id":40308884,"body_markdown":"strings.size() will only be evaluated once even without assigning it to a variable... \n\nYou are not &quot;Creating a new string at each loop&quot;, you are creating a new local variable reference. Creating of local variable references inside of a loop is not going to hurt performance at all.","body":"strings.size() will only be evaluated once even without assigning it to a variable...   You are not &quot;Creating a new string at each loop&quot;, you are creating a new local variable reference. Creating of local variable references inside of a loop is not going to hurt performance at all."}],"tags":[],"owner":{"account_id":72657,"reputation":729,"user_id":209691,"accept_rate":52,"display_name":"Lahniep"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1366106223,"creation_date":1366106223,"answer_id":16034003,"question_id":16033711,"body_markdown":"For performance, I will recommend you to compute the size of the list only one and not create a new string at each new loop.\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    int length = strings.size();\r\n    String first, second = null;\r\n    for(int i = 0; i &lt; length; i += 2){\r\n        ...\r\n    }","title":"Java - Iterating over every two elements in a list","body":"<p>For performance, I will recommend you to compute the size of the list only one and not create a new string at each new loop.</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nint length = strings.size();\nString first, second = null;\nfor(int i = 0; i &lt; length; i += 2){\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":116746,"reputation":12477,"user_id":306030,"accept_rate":70,"display_name":"forty-two"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1366107533,"creation_date":1366107533,"answer_id":16034485,"question_id":16033711,"body_markdown":"We should of course provide a solution for the general case ;-)\r\n\r\n    public static void main(String[] args) {\r\n        List&lt;Integer&gt; list = Arrays.asList(new Integer[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 });\r\n        for (Pair&lt;Integer&gt; p : Pair.over(list)) {\r\n            System.out.printf(&quot;%d, %d\\n&quot;, p.first, p.second);\r\n        }\r\n    }\r\n\r\n    static class Pair&lt;T&gt; {\r\n        T first;\r\n\r\n        T second;\r\n\r\n        public Pair(T first, T second) {\r\n            this.first = first;\r\n            this.second = second;\r\n        }\r\n\r\n        public static &lt;T&gt; Iterable&lt;Pair&lt;T&gt;&gt; over(Collection&lt;T&gt; collection) {\r\n            return new PairWise&lt;T&gt;(collection);\r\n        }\r\n\r\n        private static class PairWise&lt;T&gt; implements Iterable&lt;Pair&lt;T&gt;&gt;, Iterator&lt;Pair&lt;T&gt;&gt; {\r\n\r\n            final Iterator&lt;T&gt; iterator;\r\n\r\n            PairWise(Collection&lt;T&gt; collection) {\r\n                super();\r\n                this.iterator = collection.iterator();\r\n            }\r\n\r\n            @Override\r\n            public Iterator&lt;Pair&lt;T&gt;&gt; iterator() {\r\n                return this;\r\n            }\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return iterator.hasNext();\r\n            }\r\n\r\n            @Override\r\n            public Pair&lt;T&gt; next() {\r\n                T first = null;\r\n                T second = null;\r\n                if (iterator.hasNext())\r\n                    first = iterator.next();\r\n                else\r\n                    throw new NoSuchElementException();\r\n                if (iterator.hasNext())\r\n                    second = iterator.next();\r\n                return new Pair&lt;T&gt;(first, second);\r\n            }\r\n\r\n            @Override\r\n            public void remove() {\r\n                throw new UnsupportedOperationException();\r\n            }\r\n\r\n        }\r\n    }\r\n","title":"Java - Iterating over every two elements in a list","body":"<p>We should of course provide a solution for the general case ;-)</p>\n\n<pre><code>public static void main(String[] args) {\n    List&lt;Integer&gt; list = Arrays.asList(new Integer[] { 1, 2, 3, 4, 5, 6, 7, 8, 9 });\n    for (Pair&lt;Integer&gt; p : Pair.over(list)) {\n        System.out.printf(\"%d, %d\\n\", p.first, p.second);\n    }\n}\n\nstatic class Pair&lt;T&gt; {\n    T first;\n\n    T second;\n\n    public Pair(T first, T second) {\n        this.first = first;\n        this.second = second;\n    }\n\n    public static &lt;T&gt; Iterable&lt;Pair&lt;T&gt;&gt; over(Collection&lt;T&gt; collection) {\n        return new PairWise&lt;T&gt;(collection);\n    }\n\n    private static class PairWise&lt;T&gt; implements Iterable&lt;Pair&lt;T&gt;&gt;, Iterator&lt;Pair&lt;T&gt;&gt; {\n\n        final Iterator&lt;T&gt; iterator;\n\n        PairWise(Collection&lt;T&gt; collection) {\n            super();\n            this.iterator = collection.iterator();\n        }\n\n        @Override\n        public Iterator&lt;Pair&lt;T&gt;&gt; iterator() {\n            return this;\n        }\n\n        @Override\n        public boolean hasNext() {\n            return iterator.hasNext();\n        }\n\n        @Override\n        public Pair&lt;T&gt; next() {\n            T first = null;\n            T second = null;\n            if (iterator.hasNext())\n                first = iterator.next();\n            else\n                throw new NoSuchElementException();\n            if (iterator.hasNext())\n                second = iterator.next();\n            return new Pair&lt;T&gt;(first, second);\n        }\n\n        @Override\n        public void remove() {\n            throw new UnsupportedOperationException();\n        }\n\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2306167,"reputation":3279,"user_id":2025416,"display_name":"Nils von Barth"},"score":0,"creation_date":1433395370,"post_id":30611504,"comment_id":49336060,"body_markdown":"It’s a basic question, but a clean answer (without indexing) is a bit subtle. This problem arises in real life (and arose for me, which is how I came here), when you have a list of flattened pairs, like `[a0, b0, a1, b1, ...]`.","body":"It’s a basic question, but a clean answer (without indexing) is a bit subtle. This problem arises in real life (and arose for me, which is how I came here), when you have a list of flattened pairs, like <code>[a0, b0, a1, b1, ...]</code>."}],"tags":[],"owner":{"account_id":2306167,"reputation":3279,"user_id":2025416,"display_name":"Nils von Barth"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433309312,"creation_date":1433309312,"answer_id":30611504,"question_id":16033711,"body_markdown":"You can avoid indexing with an [Iterator](http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html); this works for any [Iterable](http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html), not just a list. Just get an iterator and increment it twice per loop iteration:\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    Iterator&lt;String&gt; stringsIterator = strings.iterator();\r\n    while (stringsIterator.hasNext()) {\r\n      String first = stringsIterator.next();\r\n      String second = stringsIterator.next();\r\n      System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n    }\r\n\r\nThis assumes a list of even length, and throws `NoSuchElementException` on the last pass if it&#39;s odd length. You can handle this in various ways:\r\n\r\n  * use a `try`-`catch`;\r\n  * have a guard clause that checks that the length is even beforehand;\r\n  * check before getting the second element.\r\n\r\nChecking the second element:\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;);\r\n    Iterator&lt;String&gt; stringsIterator = strings.iterator();\r\n    while (stringsIterator.hasNext()) {\r\n      String first = stringsIterator.next();\r\n      String second = stringIterator.hasNext() ? stringIterator.next() : null;\r\n      System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n    }\r\n\r\nIterators confuse some people, so you can also use a for-each loop with a branch and an auxiliary flip-flop variable for parity. This is much worse, since it makes the loop&#39;s logic much more complicated to simplify the iteration: rather than the action being done once per pass through the loop, in sequence and without branching, you instead have to go through it twice and branch mentally. Note that this skips the last element if it&#39;s of odd length; could add a check of `isFirst` afterwards if want to handle these cases too.\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    boolean isFirst = true;\r\n    String first = null;\r\n    String second = null;\r\n    for (String string : strings) {\r\n      if (isFirst) {\r\n        first = string;\r\n        isFirst = false;\r\n      } else {\r\n        second = string;\r\n        isFirst = true;\r\n        System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n      }\r\n    }\r\n\r\nLastly, note that all these iterators and auxiliary variables have excess scope (they are only of use for the loop itself, so they pollute the local environment): they could be wrapped in blocks to limit the scope, though usually the resulting nesting is considered worse than the excess scope:\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    {\r\n      Iterator&lt;String&gt; stringsIterator = strings.iterator();\r\n      while (stringsIterator.hasNext()) {\r\n        String first = stringsIterator.next();\r\n        String second = stringsIterator.next();\r\n        System.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n      }\r\n    }\r\n","title":"Java - Iterating over every two elements in a list","body":"<p>You can avoid indexing with an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html\" rel=\"nofollow\">Iterator</a>; this works for any <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"nofollow\">Iterable</a>, not just a list. Just get an iterator and increment it twice per loop iteration:</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nIterator&lt;String&gt; stringsIterator = strings.iterator();\nwhile (stringsIterator.hasNext()) {\n  String first = stringsIterator.next();\n  String second = stringsIterator.next();\n  System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n}\n</code></pre>\n\n<p>This assumes a list of even length, and throws <code>NoSuchElementException</code> on the last pass if it's odd length. You can handle this in various ways:</p>\n\n<ul>\n<li>use a <code>try</code>-<code>catch</code>;</li>\n<li>have a guard clause that checks that the length is even beforehand;</li>\n<li>check before getting the second element.</li>\n</ul>\n\n<p>Checking the second element:</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\");\nIterator&lt;String&gt; stringsIterator = strings.iterator();\nwhile (stringsIterator.hasNext()) {\n  String first = stringsIterator.next();\n  String second = stringIterator.hasNext() ? stringIterator.next() : null;\n  System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n}\n</code></pre>\n\n<p>Iterators confuse some people, so you can also use a for-each loop with a branch and an auxiliary flip-flop variable for parity. This is much worse, since it makes the loop's logic much more complicated to simplify the iteration: rather than the action being done once per pass through the loop, in sequence and without branching, you instead have to go through it twice and branch mentally. Note that this skips the last element if it's of odd length; could add a check of <code>isFirst</code> afterwards if want to handle these cases too.</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nboolean isFirst = true;\nString first = null;\nString second = null;\nfor (String string : strings) {\n  if (isFirst) {\n    first = string;\n    isFirst = false;\n  } else {\n    second = string;\n    isFirst = true;\n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n  }\n}\n</code></pre>\n\n<p>Lastly, note that all these iterators and auxiliary variables have excess scope (they are only of use for the loop itself, so they pollute the local environment): they could be wrapped in blocks to limit the scope, though usually the resulting nesting is considered worse than the excess scope:</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\n{\n  Iterator&lt;String&gt; stringsIterator = strings.iterator();\n  while (stringsIterator.hasNext()) {\n    String first = stringsIterator.next();\n    String second = stringsIterator.next();\n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4053641,"reputation":201,"user_id":3332355,"display_name":"Stoneboy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438590910,"creation_date":1438590910,"answer_id":31782804,"question_id":16033711,"body_markdown":"Now in Java 8, by using https://github.com/wapatesh/fig\r\n\r\nYou can write:\r\n\r\n    seq.forEachSlice(2, (values)-&gt;{\r\n        // [1,2]  [3, 4]\r\n    });","title":"Java - Iterating over every two elements in a list","body":"<p>Now in Java 8, by using <a href=\"https://github.com/wapatesh/fig\" rel=\"nofollow\">https://github.com/wapatesh/fig</a></p>\n\n<p>You can write:</p>\n\n<pre><code>seq.forEachSlice(2, (values)-&gt;{\n    // [1,2]  [3, 4]\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1390639,"reputation":23879,"user_id":1321564,"accept_rate":71,"display_name":"Benjamin M"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1440098679,"creation_date":1440098679,"answer_id":32126686,"question_id":16033711,"body_markdown":"I created the following method using a Java8 BiConsumer:\r\n\r\n    public static &lt;T&gt; void tupleIterator(Iterable&lt;T&gt; iterable, BiConsumer&lt;T, T&gt; consumer) {\r\n\t\tIterator&lt;T&gt; it = iterable.iterator();\r\n\t\tif(!it.hasNext()) return;\r\n\t\tT first = it.next();\r\n\r\n\t\twhile(it.hasNext()) {\r\n\t\t\tT next = it.next();\r\n\t\t\tconsumer.accept(first, next);\r\n\t\t\tfirst = next;\r\n\t\t}\r\n\t}\r\n\r\nuse it like this:\r\n\r\n    List&lt;String&gt; myIterable = Arrays.asList(&quot;1&quot;, &quot;2&quot;, &quot;3&quot;);\r\n    tupleIterator(myIterable, (obj1, obj2) -&gt; {\r\n        System.out.println(obj1 + &quot; &quot; + obj2);\r\n    });\r\n\r\nThis will output:\r\n\r\n    1 2\r\n    2 3","title":"Java - Iterating over every two elements in a list","body":"<p>I created the following method using a Java8 BiConsumer:</p>\n\n<pre><code>public static &lt;T&gt; void tupleIterator(Iterable&lt;T&gt; iterable, BiConsumer&lt;T, T&gt; consumer) {\n    Iterator&lt;T&gt; it = iterable.iterator();\n    if(!it.hasNext()) return;\n    T first = it.next();\n\n    while(it.hasNext()) {\n        T next = it.next();\n        consumer.accept(first, next);\n        first = next;\n    }\n}\n</code></pre>\n\n<p>use it like this:</p>\n\n<pre><code>List&lt;String&gt; myIterable = Arrays.asList(\"1\", \"2\", \"3\");\ntupleIterator(myIterable, (obj1, obj2) -&gt; {\n    System.out.println(obj1 + \" \" + obj2);\n});\n</code></pre>\n\n<p>This will output:</p>\n\n<pre><code>1 2\n2 3\n</code></pre>\n"}],"owner":{"account_id":552790,"reputation":1926,"user_id":918030,"accept_rate":40,"display_name":"stikkos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42836,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":16033786,"answer_count":11,"score":9,"last_activity_date":1682009041,"creation_date":1366105453,"question_id":16033711,"body_markdown":"What&#39;s the best way to iterate over a list while processing 2 elements at the same time?\r\n\r\nExample:\r\n\r\n    List&lt;String&gt; strings = Arrays.asList(&quot;item 1&quot;, &quot;item 2&quot;, &quot;item 3&quot;, &quot;item 4&quot;);\r\n    for(int i = 0; i &lt; strings.size(); i++){\r\n    \tString first = strings.get(i);\r\n    \tString second = null;\r\n    \tif(strings.size() &gt; i + 1){\r\n    \t\tsecond = strings.get(i + 1);\r\n    \t}\r\n    \tSystem.out.println(&quot;First [&quot; + first + &quot;] - Second [&quot; + second + &quot;]&quot;);\r\n    }\r\n\r\nResults in:\r\n\r\n    First [item 1] - Second [item 2]\r\n    First [item 2] - Second [item 3]\r\n    First [item 3] - Second [item 4]\r\n    First [item 4] - Second [null]\r\n\r\nI would like to achieve:\r\n\r\n    First [item 1] - Second [item 2]\r\n    First [item 3] - Second [item 4]\r\n\r\n","title":"Java - Iterating over every two elements in a list","body":"<p>What's the best way to iterate over a list while processing 2 elements at the same time?</p>\n\n<p>Example:</p>\n\n<pre><code>List&lt;String&gt; strings = Arrays.asList(\"item 1\", \"item 2\", \"item 3\", \"item 4\");\nfor(int i = 0; i &lt; strings.size(); i++){\n    String first = strings.get(i);\n    String second = null;\n    if(strings.size() &gt; i + 1){\n        second = strings.get(i + 1);\n    }\n    System.out.println(\"First [\" + first + \"] - Second [\" + second + \"]\");\n}\n</code></pre>\n\n<p>Results in:</p>\n\n<pre><code>First [item 1] - Second [item 2]\nFirst [item 2] - Second [item 3]\nFirst [item 3] - Second [item 4]\nFirst [item 4] - Second [null]\n</code></pre>\n\n<p>I would like to achieve:</p>\n\n<pre><code>First [item 1] - Second [item 2]\nFirst [item 3] - Second [item 4]\n</code></pre>\n"},{"tags":["java","spring","caching","redis","spring-data-redis"],"answers":[{"tags":[],"owner":{"account_id":10962013,"reputation":1813,"user_id":8055025,"accept_rate":67,"display_name":"Ankit Sahay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1681720959,"creation_date":1681720959,"answer_id":76033235,"question_id":76032927,"body_markdown":"By default, no expiry is set on the keys. That is, if you do not specify an expiry yourself, your key will be stored indefinetely without any expiry.\r\n\r\n    set myname Ankit\r\n    OK\r\n\r\n    ttl myname\r\n    (integer) -1\r\n\r\nA return of `-1` tell us that there is no expiry set on the key `myname`","title":"Redis: storing key/value pair without expiration time","body":"<p>By default, no expiry is set on the keys. That is, if you do not specify an expiry yourself, your key will be stored indefinetely without any expiry.</p>\n<pre><code>set myname Ankit\nOK\n\nttl myname\n(integer) -1\n</code></pre>\n<p>A return of <code>-1</code> tell us that there is no expiry set on the key <code>myname</code></p>\n"},{"tags":[],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1682009013,"creation_date":1681725566,"answer_id":76033896,"question_id":76032927,"body_markdown":"Finally I found two answers to this question - at first I can use expire method with -1 value as a timeout:\r\n\r\n```\r\nredisTemplate.expire(&quot;mykey&quot;, -1);\r\n```\r\n\r\nand the second way is to use persist method on key:\r\n\r\n```\r\nredisTemplate.persist(&quot;mykey&quot;);\r\n```\r\n\r\nThis will remove the expiry time for the &quot;mykey&quot; key, effectively setting it to never expire.","title":"Redis: storing key/value pair without expiration time","body":"<p>Finally I found two answers to this question - at first I can use expire method with -1 value as a timeout:</p>\n<pre><code>redisTemplate.expire(&quot;mykey&quot;, -1);\n</code></pre>\n<p>and the second way is to use persist method on key:</p>\n<pre><code>redisTemplate.persist(&quot;mykey&quot;);\n</code></pre>\n<p>This will remove the expiry time for the &quot;mykey&quot; key, effectively setting it to never expire.</p>\n"}],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":593,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1682009013,"creation_date":1681718695,"question_id":76032927,"body_markdown":"Can someone explain me how to store key/value pair in redis with unlimited exipire time?\r\n\r\nI was trying to find some information at stackoverflow and google and I found nothing.\r\n\r\nI&#39;m using redisTemplate and I see there is only `expire` method there with timeout to specify. I can eventually set the timeout to value like 999999999 days, but I think thats not the best solution.","title":"Redis: storing key/value pair without expiration time","body":"<p>Can someone explain me how to store key/value pair in redis with unlimited exipire time?</p>\n<p>I was trying to find some information at stackoverflow and google and I found nothing.</p>\n<p>I'm using redisTemplate and I see there is only <code>expire</code> method there with timeout to specify. I can eventually set the timeout to value like 999999999 days, but I think thats not the best solution.</p>\n"},{"tags":["java","android","android-recyclerview","cardview"],"answers":[{"tags":[],"owner":{"account_id":13108858,"reputation":1362,"user_id":9470643,"display_name":"Mohammad Derakhshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1629306350,"creation_date":1629306350,"answer_id":68836601,"question_id":68836486,"body_markdown":"All you need is to set `else` part for you if condition in bind method of Adapter class.\r\nSo change your bind method to something like this:\r\n```\r\n@Override\r\npublic void onBindViewHolder(@NonNull DaysViewHolder holder, int position) {\r\n    DaysModel currentItem = daysModels.get(position);\r\n    holder.hDayName.setText(currentItem.getDayName());\r\n    holder.hDayNumber.setText(String.valueOf(currentItem.getDayNumber()));\r\n    \r\n    if(currentItem.isDayHighlighted() == 1){\r\n        holder.currentDayHighlight.setBackgroundResource(R.drawable.tiny_background);\r\n        holder.hDayNumber.setTextColor(Color.BLACK);\r\n    }else{\r\n\r\n        holder.currentDayHighlight.setBackgroundResource(/*what ever you want for default situation*/);\r\n        holder.hDayNumber.setTextColor(/* for example Color.White*/);\r\n     }\r\n\r\n}\r\n\r\n```","title":"RecyclerView cardview Onclick duplicate effects when scrolling","body":"<p>All you need is to set <code>else</code> part for you if condition in bind method of Adapter class.\nSo change your bind method to something like this:</p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull DaysViewHolder holder, int position) {\n    DaysModel currentItem = daysModels.get(position);\n    holder.hDayName.setText(currentItem.getDayName());\n    holder.hDayNumber.setText(String.valueOf(currentItem.getDayNumber()));\n    \n    if(currentItem.isDayHighlighted() == 1){\n        holder.currentDayHighlight.setBackgroundResource(R.drawable.tiny_background);\n        holder.hDayNumber.setTextColor(Color.BLACK);\n    }else{\n\n        holder.currentDayHighlight.setBackgroundResource(/*what ever you want for default situation*/);\n        holder.hDayNumber.setTextColor(/* for example Color.White*/);\n     }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":22502539,"reputation":3,"user_id":16698637,"display_name":"Lv1 Slime"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68836601,"answer_count":1,"score":0,"last_activity_date":1682008113,"creation_date":1629305825,"question_id":68836486,"body_markdown":"I&#39;m making my first app (calendar),\r\nclicking the cardview item applies the same effect (changing Textview text color and Imageview background) to other items when scrolling the RecyclerView\r\n\r\n\r\nin the main activity\r\n```\r\n    RecyclerView daysRecyclerView;\r\n    DaysAdapter daysAdapter;\r\n    private RecyclerView.LayoutManager horizontalLayout;\r\n\r\n    ArrayList&lt;DaysModel&gt; daysModels;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_calendar);\r\n\r\n       \r\n\r\n        daysModels = getDaysList();\r\n        initDaysRecycleview();\r\n\r\n    }\r\n\r\n    private void initDaysRecycleview(){\r\n        daysRecyclerView = findViewById(R.id.daysRecyclerView);\r\n        daysRecyclerView.setHasFixedSize(true);\r\n\r\n        horizontalLayout = new LinearLayoutManager(this,RecyclerView.HORIZONTAL,false);\r\n        daysAdapter = new DaysAdapter(daysModels);\r\n\r\n\r\n        daysRecyclerView.setLayoutManager(horizontalLayout);\r\n        daysRecyclerView.setAdapter(daysAdapter);\r\n\r\n        daysAdapter.setOnItemClickListener(new DaysAdapter.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(int position) {\r\n                dayClickHandler(position, 1);\r\n            }\r\n        });\r\n\r\n    }\r\n    public void dayClickHandler(int position, int change){\r\n        daysModels.get(position).changeDayHighlight(change);\r\n        daysAdapter.notifyItemChanged(position);\r\n    }\r\n\r\n    private ArrayList&lt;DaysModel&gt; getDaysList(){\r\n        //Not accurate used for testing\r\n        ArrayList&lt;DaysModel&gt; models = new ArrayList&lt;DaysModel&gt;();\r\n        String[] dayName ={&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;};\r\n\r\n        int i,j;\r\n        for (i = 0;i &lt;dayName.length;i++){\r\n            j =i+1;\r\n            models.add(new DaysModel(dayName[i], j, 0, false));\r\n        }\r\n        return models;\r\n    }\r\n```\r\nI&#39;m using an interface for the onClickListener. \r\n\r\nViewHolder\r\n```\r\npublic class DaysViewHolder extends RecyclerView.ViewHolder {\r\n    TextView hDayName,hDayNumber;\r\n    ImageView currentDayHighlight;\r\n    CardView dayCard;\r\n\r\n    public DaysViewHolder(View itemView, DaysAdapter.OnItemClickListener listener) {\r\n        super(itemView);\r\n        this.hDayName = itemView.findViewById(R.id.dayName);\r\n        this.hDayNumber = itemView.findViewById(R.id.dayNumber);\r\n        this.currentDayHighlight = itemView.findViewById(R.id.dayHihlight);\r\n        this.dayCard = itemView.findViewById(R.id.dayCard);\r\n\r\n        dayCard.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (listener != null) {\r\n                    int position = getAdapterPosition();\r\n                    if(position != RecyclerView.NO_POSITION){\r\n                        listener.onItemClick(position);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n}\r\n\r\nAdapter\r\n\r\n    public class DaysAdapter extends RecyclerView.Adapter&lt;DaysViewHolder&gt; {\r\n    Context context;\r\n    ArrayList&lt;DaysModel&gt; daysModels;\r\n\r\n    OnItemClickListener mListener;\r\n\r\n    public interface OnItemClickListener{\r\n        void onItemClick(int position);\r\n    }\r\n    public void setOnItemClickListener(OnItemClickListener listener){\r\n        mListener = listener;\r\n    }\r\n\r\n    public DaysAdapter(ArrayList&lt;DaysModel&gt; daysModels) {\r\n        this.daysModels = daysModels;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public DaysViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.day_card,parent,false);\r\n        DaysViewHolder daysViewHolder = new DaysViewHolder(view, mListener);\r\n        return daysViewHolder;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull DaysViewHolder holder, int position) {\r\n        DaysModel currentItem = daysModels.get(position);\r\n        holder.hDayName.setText(currentItem.getDayName());\r\n        holder.hDayNumber.setText(String.valueOf(currentItem.getDayNumber()));\r\n        \r\n        if(currentItem.isDayHighlighted() == 1){\r\n            holder.currentDayHighlight.setBackgroundResource(R.drawable.tiny_background);\r\n            holder.hDayNumber.setTextColor(Color.BLACK);\r\n        }\r\n\r\n\r\n    }\r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n        return daysModels.size();\r\n    }\r\n}\r\n```","title":"RecyclerView cardview Onclick duplicate effects when scrolling","body":"<p>I'm making my first app (calendar),\nclicking the cardview item applies the same effect (changing Textview text color and Imageview background) to other items when scrolling the RecyclerView</p>\n<p>in the main activity</p>\n<pre><code>    RecyclerView daysRecyclerView;\n    DaysAdapter daysAdapter;\n    private RecyclerView.LayoutManager horizontalLayout;\n\n    ArrayList&lt;DaysModel&gt; daysModels;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_calendar);\n\n       \n\n        daysModels = getDaysList();\n        initDaysRecycleview();\n\n    }\n\n    private void initDaysRecycleview(){\n        daysRecyclerView = findViewById(R.id.daysRecyclerView);\n        daysRecyclerView.setHasFixedSize(true);\n\n        horizontalLayout = new LinearLayoutManager(this,RecyclerView.HORIZONTAL,false);\n        daysAdapter = new DaysAdapter(daysModels);\n\n\n        daysRecyclerView.setLayoutManager(horizontalLayout);\n        daysRecyclerView.setAdapter(daysAdapter);\n\n        daysAdapter.setOnItemClickListener(new DaysAdapter.OnItemClickListener() {\n            @Override\n            public void onItemClick(int position) {\n                dayClickHandler(position, 1);\n            }\n        });\n\n    }\n    public void dayClickHandler(int position, int change){\n        daysModels.get(position).changeDayHighlight(change);\n        daysAdapter.notifyItemChanged(position);\n    }\n\n    private ArrayList&lt;DaysModel&gt; getDaysList(){\n        //Not accurate used for testing\n        ArrayList&lt;DaysModel&gt; models = new ArrayList&lt;DaysModel&gt;();\n        String[] dayName ={&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;,&quot;TUE&quot;,&quot;WED&quot;,&quot;THU&quot;,&quot;FRI&quot;,&quot;SAT&quot;,&quot;SUN&quot;,&quot;MON&quot;};\n\n        int i,j;\n        for (i = 0;i &lt;dayName.length;i++){\n            j =i+1;\n            models.add(new DaysModel(dayName[i], j, 0, false));\n        }\n        return models;\n    }\n</code></pre>\n<p>I'm using an interface for the onClickListener.</p>\n<p>ViewHolder</p>\n<pre><code>public class DaysViewHolder extends RecyclerView.ViewHolder {\n    TextView hDayName,hDayNumber;\n    ImageView currentDayHighlight;\n    CardView dayCard;\n\n    public DaysViewHolder(View itemView, DaysAdapter.OnItemClickListener listener) {\n        super(itemView);\n        this.hDayName = itemView.findViewById(R.id.dayName);\n        this.hDayNumber = itemView.findViewById(R.id.dayNumber);\n        this.currentDayHighlight = itemView.findViewById(R.id.dayHihlight);\n        this.dayCard = itemView.findViewById(R.id.dayCard);\n\n        dayCard.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                if (listener != null) {\n                    int position = getAdapterPosition();\n                    if(position != RecyclerView.NO_POSITION){\n                        listener.onItemClick(position);\n                    }\n                }\n            }\n        });\n\n    }\n\n}\n\nAdapter\n\n    public class DaysAdapter extends RecyclerView.Adapter&lt;DaysViewHolder&gt; {\n    Context context;\n    ArrayList&lt;DaysModel&gt; daysModels;\n\n    OnItemClickListener mListener;\n\n    public interface OnItemClickListener{\n        void onItemClick(int position);\n    }\n    public void setOnItemClickListener(OnItemClickListener listener){\n        mListener = listener;\n    }\n\n    public DaysAdapter(ArrayList&lt;DaysModel&gt; daysModels) {\n        this.daysModels = daysModels;\n    }\n\n    @NonNull\n    @Override\n    public DaysViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.day_card,parent,false);\n        DaysViewHolder daysViewHolder = new DaysViewHolder(view, mListener);\n        return daysViewHolder;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull DaysViewHolder holder, int position) {\n        DaysModel currentItem = daysModels.get(position);\n        holder.hDayName.setText(currentItem.getDayName());\n        holder.hDayNumber.setText(String.valueOf(currentItem.getDayNumber()));\n        \n        if(currentItem.isDayHighlighted() == 1){\n            holder.currentDayHighlight.setBackgroundResource(R.drawable.tiny_background);\n            holder.hDayNumber.setTextColor(Color.BLACK);\n        }\n\n\n    }\n    \n    @Override\n    public int getItemCount() {\n        return daysModels.size();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-layout","listview","android-recyclerview"],"comments":[{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1657690284,"post_id":72950986,"comment_id":128867479,"body_markdown":"Can you share your required output image example or something, so that we can see how to do the same","body":"Can you share your required output image example or something, so that we can see how to do the same"},{"owner":{"account_id":7881594,"reputation":737,"user_id":5955362,"display_name":"Jaydeep Devda"},"score":1,"creation_date":1657705460,"post_id":72950986,"comment_id":128871966,"body_markdown":"Please check https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types","body":"Please check <a href=\"https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-types\" title=\"how to create recyclerview with multiple view types\">stackoverflow.com/questions/26245139/&hellip;</a>"},{"owner":{"account_id":25743926,"reputation":288,"user_id":19497465,"display_name":"Aniket Jain"},"score":0,"creation_date":1657707087,"post_id":72950986,"comment_id":128872550,"body_markdown":"Please clarify the details.","body":"Please clarify the details."}],"owner":{"account_id":22671855,"reputation":37,"user_id":16843492,"display_name":"Anusha C"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1682007618,"answer_count":0,"score":0,"last_activity_date":1682007647,"creation_date":1657622424,"question_id":72950986,"body_markdown":"[![RecyclerView][1]][1]I have to make a list view or a recycle view with different badges on particular items in a list and some items can also be expanded when clicked.\r\n\r\nBased on the badge in the recycle item the expandable view is shown.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n8ZGZ.png","title":"How can i add a ListView or RecyclerView with different content on particular items?","body":"<p><a href=\"https://i.stack.imgur.com/n8ZGZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n8ZGZ.png\" alt=\"RecyclerView\" /></a>I have to make a list view or a recycle view with different badges on particular items in a list and some items can also be expanded when clicked.</p>\n<p>Based on the badge in the recycle item the expandable view is shown.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9738,"page":487,"page_size":100}
