{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1674553833,"post_id":75219573,"comment_id":132733342,"body_markdown":"The exception message is clear: in your `AppUtils` class the field `driver` is null but you try to call `driver.close()`. Why is it null? Probably because you never initialize that field.","body":"The exception message is clear: in your <code>AppUtils</code> class the field <code>driver</code> is null but you try to call <code>driver.close()</code>. Why is it null? Probably because you never initialize that field."}],"owner":{"account_id":27607838,"reputation":1,"user_id":21071570,"display_name":"Ash Yeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674553957,"answer_count":0,"score":0,"last_activity_date":1674552762,"creation_date":1674552691,"question_id":75219573,"body_markdown":"Hi Please help me to fix this error\r\nI have created 2 packages one name as util another one is test to execute test scripts\r\nWhile executing util package class files in test package class Iam getting this error\r\n\r\n&gt;an 24, 2023 2:44:50 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\nINFO: Detected dialect: W3C\r\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.close()&quot; because &quot;util.Apputils.driver&quot; is null\r\nat util.Apputils.appClose(Apputils.java:17)\r\nat Testcase.userlogin.main(userlogin.java:10)\r\n\r\nIam expecting to give soultion to fix my problem","title":"While Writing automation java test scripiting Iam getting below error in eclipse console","body":"<p>Hi Please help me to fix this error\nI have created 2 packages one name as util another one is test to execute test scripts\nWhile executing util package class files in test package class Iam getting this error</p>\n<blockquote>\n<p>an 24, 2023 2:44:50 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\nException in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.openqa.selenium.WebDriver.close()&quot; because &quot;util.Apputils.driver&quot; is null\nat util.Apputils.appClose(Apputils.java:17)\nat Testcase.userlogin.main(userlogin.java:10)</p>\n</blockquote>\n<p>Iam expecting to give soultion to fix my problem</p>\n"},{"tags":["java","system-properties"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1674227920,"post_id":75185815,"comment_id":132676049,"body_markdown":"This piece of code that you&#39;ve shown seems to be just listing the current system properties on the web page. It&#39;s not what is causing the error. Are you sure the required system property is not missing?","body":"This piece of code that you&#39;ve shown seems to be just listing the current system properties on the web page. It&#39;s not what is causing the error. Are you sure the required system property is not missing?"},{"owner":{"account_id":27581092,"reputation":3,"user_id":21050285,"display_name":"martuo"},"score":0,"creation_date":1674230376,"post_id":75185815,"comment_id":132676960,"body_markdown":"i have in quartz.properties the org.quartz.scheduler.instanceId =, with one parameter","body":"i have in quartz.properties the org.quartz.scheduler.instanceId =, with one parameter"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1674414659,"post_id":75185815,"comment_id":132704735,"body_markdown":"You say &quot;with one parameter&quot;. Is this parameter &quot;SYS_PROP&quot; by any chance?","body":"You say &quot;with one parameter&quot;. Is this parameter &quot;SYS_PROP&quot; by any chance?"},{"owner":{"account_id":27581092,"reputation":3,"user_id":21050285,"display_name":"martuo"},"score":0,"creation_date":1674506751,"post_id":75185815,"comment_id":132724804,"body_markdown":"yes, it is that parameter","body":"yes, it is that parameter"}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674552595,"creation_date":1674552595,"answer_id":75219560,"question_id":75185815,"body_markdown":"As the [documentation][1] says:\r\n\r\n&gt; org.quartz.scheduler.instanceId\r\n&gt; \r\n&gt; Can be any string, but must be unique for all schedulers working as if\r\n&gt; they are the same ‘logical’ Scheduler within a cluster. You may use\r\n&gt; the value “AUTO” as the instanceId if you wish the Id to be generated\r\n&gt; for you. Or the value “SYS_PROP” if you want the value to come from\r\n&gt; the system property “org.quartz.scheduler.instanceId”.\r\n\r\nThe problem is that in quartz.properties `org.quartz.scheduler.instanceId` is set to `SYS_PROP`, but you haven&#39;t defined this setting as a _system property_. This is obvious from the error message you show in your post:\r\n\r\n&gt; No value for &#39;org.quartz.scheduler.instanceId&#39; system property found,\r\n&gt; please configure your environment accordingly!\r\n\r\n  [1]: http://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigMain.html","title":"No value for &#39;org.quartz.scheduler.instanceId&#39;","body":"<p>As the <a href=\"http://www.quartz-scheduler.org/documentation/quartz-2.3.0/configuration/ConfigMain.html\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n<blockquote>\n<p>org.quartz.scheduler.instanceId</p>\n<p>Can be any string, but must be unique for all schedulers working as if\nthey are the same ‘logical’ Scheduler within a cluster. You may use\nthe value “AUTO” as the instanceId if you wish the Id to be generated\nfor you. Or the value “SYS_PROP” if you want the value to come from\nthe system property “org.quartz.scheduler.instanceId”.</p>\n</blockquote>\n<p>The problem is that in quartz.properties <code>org.quartz.scheduler.instanceId</code> is set to <code>SYS_PROP</code>, but you haven't defined this setting as a <em>system property</em>. This is obvious from the error message you show in your post:</p>\n<blockquote>\n<p>No value for 'org.quartz.scheduler.instanceId' system property found,\nplease configure your environment accordingly!</p>\n</blockquote>\n"}],"owner":{"account_id":27581092,"reputation":3,"user_id":21050285,"display_name":"martuo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75219560,"answer_count":1,"score":0,"last_activity_date":1674552595,"creation_date":1674227095,"question_id":75185815,"body_markdown":"I have a problem with an application war, the application was not made by me, the application works, but when import to eclipse and export with attaching tomcat and java libraries 1.8.0_321, it does not work, I do not change anything in the application, such as import, export, the error is the following:\r\n\r\n\r\n\r\n&gt; INFO main org.quartz.impl.StdSchedulerFactory - Using default\r\n&gt; implementation for ThreadExecutor ERROR main\r\n&gt; org.quartz.impl.StdSchedulerFactory - Couldn&#39;t generate instance Id!\r\n&gt; org.quartz.SchedulerException: No value for\r\n&gt; &#39;org.quartz.scheduler.instanceId&#39; system property found, please\r\n&gt; configure your environment accordingly!\r\n\r\n\r\n\r\nattached systemprops.jsp:\r\n\r\n&lt;body&gt;\r\n\r\n\t&lt;div id=&quot;page&quot; style=&quot;float:left;position:relative;left:60px; top:10px;font-size:1.0em;font-weight: 300; font-family:Helvetica, Arial, sans-serif;&quot;&gt;\r\n\t\t&lt;div id=&quot;javasys&quot;&gt;\r\n\r\n\t\t\t&lt;%\r\n\t\t\t\tout.println(&quot;&lt;table width=600 border=0&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;tr&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;td width=150&gt;&lt;b&gt;PROPERTY&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;td width=450&gt;&lt;b&gt;VALUE&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;/tr&gt;&quot;);\r\n\t\t\t\tout.println(&quot;&lt;tr&gt;&quot;);\r\n\t\t\t\tProperties props = System.getProperties();\r\n\t\t\t\tEnumeration as = props.propertyNames();\r\n\t\t\t\twhile (as.hasMoreElements()) {\r\n\t\t\t\t\tObject o = as.nextElement();\r\n\t\t\t\t\tString key = (String) o;\r\n\t\t\t\t\tout.println(&quot;&lt;td width=150&gt;&lt;b&gt;&quot; + key + &quot;&lt;/b&gt;&lt;/td&gt;&quot;);\r\n\t\t\t\t\tString val = props.getProperty(key);\r\n\t\t\t\t\tStringTokenizer st = new StringTokenizer(val, &quot;:&quot;);\r\n\t\t\t\t\tout.println(&quot;&lt;td width=450&gt;&quot;);\r\n\t\t\t\t\twhile (st.hasMoreTokens()) {\r\n\t\t\t\t\t\tString valind = st.nextToken();\r\n\t\t\t\t\t\tout.println(valind + &quot;&lt;BR&gt;&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tout.println(&quot;&lt;/td&gt;&quot;);\r\n\t\t\t\t\tout.println(&quot;&lt;/tr&gt;&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tout.println(&quot;&lt;/table&gt;&quot;);\r\n\t\t\t%&gt;\r\n\r\n\t\t&lt;/div&gt;\r\n\r\n\r\nI&#39;m not a programmer, but I think it can come from here: Enumeration as = props.propertyNames();\r\n\r\n\r\n\r\nin eclipse it has a warning in Enumeration as = props.propertyNames(); with Enumeration is a raw type, References to generic type Enumeration&lt;E&gt; should be parameterized, It is not the only part of the code that I have this error","title":"No value for &#39;org.quartz.scheduler.instanceId&#39;","body":"<p>I have a problem with an application war, the application was not made by me, the application works, but when import to eclipse and export with attaching tomcat and java libraries 1.8.0_321, it does not work, I do not change anything in the application, such as import, export, the error is the following:</p>\n<blockquote>\n<p>INFO main org.quartz.impl.StdSchedulerFactory - Using default\nimplementation for ThreadExecutor ERROR main\norg.quartz.impl.StdSchedulerFactory - Couldn't generate instance Id!\norg.quartz.SchedulerException: No value for\n'org.quartz.scheduler.instanceId' system property found, please\nconfigure your environment accordingly!</p>\n</blockquote>\n<p>attached systemprops.jsp:</p>\n\n<pre><code>&lt;div id=&quot;page&quot; style=&quot;float:left;position:relative;left:60px; top:10px;font-size:1.0em;font-weight: 300; font-family:Helvetica, Arial, sans-serif;&quot;&gt;\n    &lt;div id=&quot;javasys&quot;&gt;\n\n        &lt;%\n            out.println(&quot;&lt;table width=600 border=0&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&quot;);\n            out.println(&quot;&lt;td width=150&gt;&lt;b&gt;PROPERTY&lt;/b&gt;&lt;/td&gt;&quot;);\n            out.println(&quot;&lt;td width=450&gt;&lt;b&gt;VALUE&lt;/b&gt;&lt;/td&gt;&quot;);\n            out.println(&quot;&lt;/tr&gt;&quot;);\n            out.println(&quot;&lt;tr&gt;&quot;);\n            Properties props = System.getProperties();\n            Enumeration as = props.propertyNames();\n            while (as.hasMoreElements()) {\n                Object o = as.nextElement();\n                String key = (String) o;\n                out.println(&quot;&lt;td width=150&gt;&lt;b&gt;&quot; + key + &quot;&lt;/b&gt;&lt;/td&gt;&quot;);\n                String val = props.getProperty(key);\n                StringTokenizer st = new StringTokenizer(val, &quot;:&quot;);\n                out.println(&quot;&lt;td width=450&gt;&quot;);\n                while (st.hasMoreTokens()) {\n                    String valind = st.nextToken();\n                    out.println(valind + &quot;&lt;BR&gt;&quot;);\n                }\n                out.println(&quot;&lt;/td&gt;&quot;);\n                out.println(&quot;&lt;/tr&gt;&quot;);\n            }\n            out.println(&quot;&lt;/table&gt;&quot;);\n        %&gt;\n\n    &lt;/div&gt;\n</code></pre>\n<p>I'm not a programmer, but I think it can come from here: Enumeration as = props.propertyNames();</p>\n<p>in eclipse it has a warning in Enumeration as = props.propertyNames(); with Enumeration is a raw type, References to generic type Enumeration should be parameterized, It is not the only part of the code that I have this error</p>\n"},{"tags":["java","generics","inheritance","lombok","builder-pattern"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1674120980,"post_id":75160472,"comment_id":132648498,"body_markdown":"Why don&#39;t you use `@SuperBuilder`? It is _exactly_ for your use case and does all that nasty generics stuff for you.","body":"Why don&#39;t you use <code>@SuperBuilder</code>? It is <i>exactly</i> for your use case and does all that nasty generics stuff for you."},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1674124735,"post_id":75160472,"comment_id":132649663,"body_markdown":"@JanRieke I&#39;m worried about &quot;experimental&quot;","body":"@JanRieke I&#39;m worried about &quot;experimental&quot;"},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1674129671,"post_id":75160472,"comment_id":132651256,"body_markdown":"No need to worry. In this case it just means &quot;If you find a bug, it may take a bit longer until we fix it compared to non-experimental features&quot;. Furthermore, it will probably be [promoted soon](https://github.com/projectlombok/lombok/issues/2209#issuecomment-1029507315).","body":"No need to worry. In this case it just means &quot;If you find a bug, it may take a bit longer until we fix it compared to non-experimental features&quot;. Furthermore, it will probably be <a href=\"https://github.com/projectlombok/lombok/issues/2209#issuecomment-1029507315\" rel=\"nofollow noreferrer\">promoted soon</a>."}],"answers":[{"comments":[{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":0,"creation_date":1674057200,"post_id":75161060,"comment_id":132634570,"body_markdown":"but super-class does not have any constructor with parameters? So this won&#39;t work: `super(canBeNull, canBeEmpty);`","body":"but super-class does not have any constructor with parameters? So this won&#39;t work: <code>super(canBeNull, canBeEmpty);</code>"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1674062209,"post_id":75161060,"comment_id":132636413,"body_markdown":"tostao, the superclass has the lombok AllArgsConstructor","body":"tostao, the superclass has the lombok AllArgsConstructor"}],"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674552201,"creation_date":1674053388,"answer_id":75161060,"question_id":75160472,"body_markdown":"I&#39;m not sure if this is the best way, but I solved in this way:\r\n\r\nSuperclass: &lt;br&gt;\r\nI added an AllArgsConstructor with AccessLevel PROTECTED.\r\n\r\n    @Getter\r\n    @AllArgsConstructor(access = AccessLevel.PROTECTED)\r\n    public abstract class CommonValidatorConfig&lt;VC extends CommonValidatorConfig&lt;VC&gt;&gt; {\r\n    \r\n    \tprivate boolean canBeNull;\r\n    \tprivate boolean canBeEmpty;\r\n    \t\r\n    \tpublic static abstract class CommonValidatorConfigBuilder&lt;VC, VCB extends CommonValidatorConfigBuilder&lt;VC, VCB&gt;&gt; {\r\n    \t\t\r\n    \t\tprotected boolean canBeNull;\r\n    \t\tprotected boolean canBeEmpty;\r\n    \t    \r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB canBeNull(boolean canBeNull) {\r\n    \t\t\tthis.canBeNull = canBeNull;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB canBeEmpty(boolean canBeEmpty) {\r\n    \t\t\tthis.canBeEmpty = canBeEmpty;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB setDefault() {\r\n    \t\t\tthis.canBeNull = false;\r\n    \t\t\tthis.canBeEmpty = false;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic abstract VC build();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nSubclass: &lt;br&gt;\r\n1 - Removed lombok AllArgsConstructor. &lt;br&gt;\r\n2 - Declared the AllArgsConstructor and passed the variables to superclass constructor. &lt;br&gt;\r\n3 - Access to superclass variables using super keyword.\r\n\r\n    @Builder\r\n    public class StringValidatorConfig extends CommonValidatorConfig&lt;StringValidatorConfig&gt; {\r\n    \t\r\n    \tprivate StringValidatorConfig(boolean canBeNull, boolean canBeEmpty) {\r\n    \t\tsuper(canBeNull, canBeEmpty);\r\n    \t}\r\n    \t\r\n    \tpublic static class StringValidatorConfigBuilder extends CommonValidatorConfigBuilder&lt;StringValidatorConfig, StringValidatorConfigBuilder&gt; {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic StringValidatorConfig build() {\r\n    \t\t\treturn new StringValidatorConfig(super.canBeNull, super.canBeEmpty);\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }","title":"Inherit variables from abstract superclass","body":"<p>I'm not sure if this is the best way, but I solved in this way:</p>\n<p>Superclass: <br>\nI added an AllArgsConstructor with AccessLevel PROTECTED.</p>\n<pre><code>@Getter\n@AllArgsConstructor(access = AccessLevel.PROTECTED)\npublic abstract class CommonValidatorConfig&lt;VC extends CommonValidatorConfig&lt;VC&gt;&gt; {\n\n    private boolean canBeNull;\n    private boolean canBeEmpty;\n    \n    public static abstract class CommonValidatorConfigBuilder&lt;VC, VCB extends CommonValidatorConfigBuilder&lt;VC, VCB&gt;&gt; {\n        \n        protected boolean canBeNull;\n        protected boolean canBeEmpty;\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB canBeNull(boolean canBeNull) {\n            this.canBeNull = canBeNull;\n            return (VCB) this;\n        }\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB canBeEmpty(boolean canBeEmpty) {\n            this.canBeEmpty = canBeEmpty;\n            return (VCB) this;\n        }\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB setDefault() {\n            this.canBeNull = false;\n            this.canBeEmpty = false;\n            return (VCB) this;\n        }\n        \n        public abstract VC build();\n        \n    }\n    \n}\n</code></pre>\n<p>Subclass: <br>\n1 - Removed lombok AllArgsConstructor. <br>\n2 - Declared the AllArgsConstructor and passed the variables to superclass constructor. <br>\n3 - Access to superclass variables using super keyword.</p>\n<pre><code>@Builder\npublic class StringValidatorConfig extends CommonValidatorConfig&lt;StringValidatorConfig&gt; {\n    \n    private StringValidatorConfig(boolean canBeNull, boolean canBeEmpty) {\n        super(canBeNull, canBeEmpty);\n    }\n    \n    public static class StringValidatorConfigBuilder extends CommonValidatorConfigBuilder&lt;StringValidatorConfig, StringValidatorConfigBuilder&gt; {\n\n        @Override\n        public StringValidatorConfig build() {\n            return new StringValidatorConfig(super.canBeNull, super.canBeEmpty);\n        }\n        \n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674219762,"creation_date":1674130273,"answer_id":75172038,"question_id":75160472,"body_markdown":"`@SuperBuilder` will do all the work for you:\r\n\r\n```\r\n@Getter\r\n@SuperBuilder\r\npublic abstract class CommonValidatorConfig {\r\n    private boolean canBeNull;\r\n    private boolean canBeEmpty;\r\n}\r\n\r\n@SuperBuilder\r\npublic class StringValidatorConfig extends CommonValidatorConfig {\r\n}\r\n```\r\n\r\nThat&#39;s it.\r\n\r\nIf you need to add a custom method inside your builder, you can do so by adding the class header of the (abstract) builder class and add your method. Lombok will add all the rest of its methods. I suggest you copy the class header from the delombok output (run `java -jar path/to/lombok.jar delombok -p path/to/ClassWithSuperBuilder.java`).\r\n\r\n```\r\n@Getter\r\n@SuperBuilder\r\npublic abstract class CommonValidatorConfig {\r\n    private boolean canBeNull;\r\n    private boolean canBeEmpty;\r\n\r\n    public static abstract class CommonValidatorConfigBuilder&lt;C extends CommonValidatorConfig, B extends CommonValidatorConfig.CommonValidatorConfigBuilder&lt;C, B&gt;&gt; {\r\n        public B setDefault() {\r\n    \t    this.canBeNull = false;\r\n    \t    this.canBeEmpty = false;\r\n    \t    return self();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nThe &quot;experimental&quot; status of `@SuperBuilder` just means it may not receive bugfixes as quickly as stable features. Furthermore, there are plans to [promote `@SuperBuilder` to stable][1].\r\n\r\nThe code Lombok generates is completely type-safe, there are no unchecked type conversions. So even if you later decide that you don&#39;t want `@SuperBuilder` anymore, you can simply de-lombok it. The resulting code will be better than your manual solution.\r\n\r\n\r\n  [1]: https://github.com/projectlombok/lombok/issues/2209#issuecomment-1029507315","title":"Inherit variables from abstract superclass","body":"<p><code>@SuperBuilder</code> will do all the work for you:</p>\n<pre><code>@Getter\n@SuperBuilder\npublic abstract class CommonValidatorConfig {\n    private boolean canBeNull;\n    private boolean canBeEmpty;\n}\n\n@SuperBuilder\npublic class StringValidatorConfig extends CommonValidatorConfig {\n}\n</code></pre>\n<p>That's it.</p>\n<p>If you need to add a custom method inside your builder, you can do so by adding the class header of the (abstract) builder class and add your method. Lombok will add all the rest of its methods. I suggest you copy the class header from the delombok output (run <code>java -jar path/to/lombok.jar delombok -p path/to/ClassWithSuperBuilder.java</code>).</p>\n<pre><code>@Getter\n@SuperBuilder\npublic abstract class CommonValidatorConfig {\n    private boolean canBeNull;\n    private boolean canBeEmpty;\n\n    public static abstract class CommonValidatorConfigBuilder&lt;C extends CommonValidatorConfig, B extends CommonValidatorConfig.CommonValidatorConfigBuilder&lt;C, B&gt;&gt; {\n        public B setDefault() {\n            this.canBeNull = false;\n            this.canBeEmpty = false;\n            return self();\n        }\n    }\n}\n</code></pre>\n<p>The &quot;experimental&quot; status of <code>@SuperBuilder</code> just means it may not receive bugfixes as quickly as stable features. Furthermore, there are plans to <a href=\"https://github.com/projectlombok/lombok/issues/2209#issuecomment-1029507315\" rel=\"nofollow noreferrer\">promote <code>@SuperBuilder</code> to stable</a>.</p>\n<p>The code Lombok generates is completely type-safe, there are no unchecked type conversions. So even if you later decide that you don't want <code>@SuperBuilder</code> anymore, you can simply de-lombok it. The resulting code will be better than your manual solution.</p>\n"}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75172038,"answer_count":2,"score":0,"last_activity_date":1674552201,"creation_date":1674050769,"question_id":75160472,"body_markdown":"I&#39;m trying to implement a BuilderPattern, where a subclass must extend a superclass.\r\n\r\nSuperclass:\r\n\r\n    @Getter\r\n    public abstract class CommonValidatorConfig&lt;VC extends CommonValidatorConfig&lt;VC&gt;&gt; {\r\n    \r\n    \tprivate boolean canBeNull;\r\n    \tprivate boolean canBeEmpty;\r\n    \t\r\n    \tpublic static abstract class CommonValidatorConfigBuilder&lt;VC, VCB extends CommonValidatorConfigBuilder&lt;VC, VCB&gt;&gt; {\r\n    \t\t\r\n    \t\tprotected boolean canBeNull;\r\n    \t\tprotected boolean canBeEmpty;\r\n    \t    \r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB canBeNull(boolean canBeNull) {\r\n    \t\t\tthis.canBeNull = canBeNull;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB canBeEmpty(boolean canBeEmpty) {\r\n    \t\t\tthis.canBeEmpty = canBeEmpty;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t\tpublic VCB setDefault() {\r\n    \t\t\tthis.canBeNull = false;\r\n    \t\t\tthis.canBeEmpty = false;\r\n    \t\t\treturn (VCB) this;\r\n    \t\t}\r\n    \t\t\r\n    \t\tpublic abstract VC build();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nSubclass:\r\n\r\n    @Builder\r\n    @AllArgsConstructor(access = AccessLevel.PRIVATE)\r\n    public class StringValidatorConfig extends CommonValidatorConfig&lt;StringValidatorConfig&gt; {\r\n    \t\r\n    \tpublic static class StringValidatorConfigBuilder extends CommonValidatorConfigBuilder&lt;StringValidatorConfig, StringValidatorConfigBuilder&gt; {\r\n    \r\n    \t\t@Override\r\n    \t\tpublic StringValidatorConfig build() {\r\n    \t\t\treturn new StringValidatorConfig(false, false); // ERROR\r\n    \t\t}\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nThe AllArgsConstructor AccessLevel is set to PRIVATE because I want to create a new instance using only Builders.\r\n\r\nI was expecting an AllArgsConstructor for StringValidatorConfig with two variables (canBeNull and canBeEmpty), but the AllArgsConstructor takes no arguments for the constructor.\r\n\r\nthis means that the variables of the CommonValidatorConfig are not inherited.\r\n\r\nAny help, also tutorials/docs/references or improvements of code are welcomed.","title":"Inherit variables from abstract superclass","body":"<p>I'm trying to implement a BuilderPattern, where a subclass must extend a superclass.</p>\n<p>Superclass:</p>\n<pre><code>@Getter\npublic abstract class CommonValidatorConfig&lt;VC extends CommonValidatorConfig&lt;VC&gt;&gt; {\n\n    private boolean canBeNull;\n    private boolean canBeEmpty;\n    \n    public static abstract class CommonValidatorConfigBuilder&lt;VC, VCB extends CommonValidatorConfigBuilder&lt;VC, VCB&gt;&gt; {\n        \n        protected boolean canBeNull;\n        protected boolean canBeEmpty;\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB canBeNull(boolean canBeNull) {\n            this.canBeNull = canBeNull;\n            return (VCB) this;\n        }\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB canBeEmpty(boolean canBeEmpty) {\n            this.canBeEmpty = canBeEmpty;\n            return (VCB) this;\n        }\n        \n        @SuppressWarnings(&quot;unchecked&quot;)\n        public VCB setDefault() {\n            this.canBeNull = false;\n            this.canBeEmpty = false;\n            return (VCB) this;\n        }\n        \n        public abstract VC build();\n        \n    }\n    \n}\n</code></pre>\n<p>Subclass:</p>\n<pre><code>@Builder\n@AllArgsConstructor(access = AccessLevel.PRIVATE)\npublic class StringValidatorConfig extends CommonValidatorConfig&lt;StringValidatorConfig&gt; {\n    \n    public static class StringValidatorConfigBuilder extends CommonValidatorConfigBuilder&lt;StringValidatorConfig, StringValidatorConfigBuilder&gt; {\n\n        @Override\n        public StringValidatorConfig build() {\n            return new StringValidatorConfig(false, false); // ERROR\n        }\n        \n    }\n    \n}\n</code></pre>\n<p>The AllArgsConstructor AccessLevel is set to PRIVATE because I want to create a new instance using only Builders.</p>\n<p>I was expecting an AllArgsConstructor for StringValidatorConfig with two variables (canBeNull and canBeEmpty), but the AllArgsConstructor takes no arguments for the constructor.</p>\n<p>this means that the variables of the CommonValidatorConfig are not inherited.</p>\n<p>Any help, also tutorials/docs/references or improvements of code are welcomed.</p>\n"},{"tags":["java","class","parameters"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1674538278,"post_id":75217422,"comment_id":132729728,"body_markdown":"first of all, you should not expose the class properties directly but use encapsulation. x,y,width,length should be private and accessed via getters and setters. you also need a constructor, then in the constructor and setters you can add guards to whatever restrictions you like","body":"first of all, you should not expose the class properties directly but use encapsulation. x,y,width,length should be private and accessed via getters and setters. you also need a constructor, then in the constructor and setters you can add guards to whatever restrictions you like"},{"owner":{"account_id":27245422,"reputation":5,"user_id":20770803,"display_name":"msalaz03"},"score":0,"creation_date":1674590094,"post_id":75217422,"comment_id":132745480,"body_markdown":"@Pavel yeah I removed the all the &#39;public&#39; keywords after submitting the question and thank you for your advice.","body":"@Pavel yeah I removed the all the &#39;public&#39; keywords after submitting the question and thank you for your advice."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1674595096,"post_id":75217422,"comment_id":132747020,"body_markdown":"just removing public makes it still accessible by other classes in the same package","body":"just removing public makes it still accessible by other classes in the same package"}],"answers":[{"tags":[],"owner":{"account_id":27607701,"reputation":16,"user_id":21071461,"display_name":"ZackCCoding"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674552128,"creation_date":1674552128,"answer_id":75219502,"question_id":75217422,"body_markdown":"To get the absolute values of negatives, you can replace `this.width = width;` with `this.width = Math.abs(width);` and the same for length and any other variables that cannot be negative.","title":"Adding Controls to classes in Java","body":"<p>To get the absolute values of negatives, you can replace <code>this.width = width;</code> with <code>this.width = Math.abs(width);</code> and the same for length and any other variables that cannot be negative.</p>\n"}],"owner":{"account_id":27245422,"reputation":5,"user_id":20770803,"display_name":"msalaz03"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75219502,"answer_count":1,"score":0,"last_activity_date":1674552128,"creation_date":1674534793,"question_id":75217422,"body_markdown":"So I created a class of Rect which just has the properties of rectangle. How would I add an implementation so that the width and length must be integers greater than zero or if a given number is negative it will instead take absolute value. I have not used java in years and my experience with it is limited so any advice would help.\r\n\r\n```\r\npublic class Rect {\r\n\r\n    int x;\r\n    int y;\r\n    int width;\r\n    int length;\r\n\r\n    public int getPerimeter() {\r\n        return (2 * width) + (2 * length);\r\n    }\r\n\r\n    public int getArea() {\r\n        return width * length;\r\n    }\r\n\r\n    public void move(int x, int y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n\r\n    public void changeSize(int n) {\r\n        this.width = n;\r\n        this.length = n;\r\n    }\r\n\r\n    public void print(int area, int perimeter) {\r\n        System.out.printf(&quot;X: %d\\n&quot;, this.x);\r\n        System.out.printf(&quot;Y: %d\\n&quot;, this.y);\r\n        System.out.printf(&quot;Length: %d\\n&quot;, this.width);\r\n        System.out.printf(&quot;Width: %d\\n&quot;, this.length);\r\n        System.out.printf(&quot;Area: %d\\n&quot;, area);\r\n        System.out.printf(&quot;Perimeter: %d&quot;, perimeter);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Rect r1 = new Rect();\r\n        r1.length = 1;\r\n        r1.width = 2;\r\n        r1.x = 3;\r\n        r1.y = 4;\r\n\r\n        //test here\r\n        int area = r1.getArea();\r\n        int perimeter = r1.getPerimeter();\r\n\r\n        r1.print(area, perimeter);\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI haven&#39;t really tried much as I am confused to where I should write the appropriate code.","title":"Adding Controls to classes in Java","body":"<p>So I created a class of Rect which just has the properties of rectangle. How would I add an implementation so that the width and length must be integers greater than zero or if a given number is negative it will instead take absolute value. I have not used java in years and my experience with it is limited so any advice would help.</p>\n<pre><code>public class Rect {\n\n    int x;\n    int y;\n    int width;\n    int length;\n\n    public int getPerimeter() {\n        return (2 * width) + (2 * length);\n    }\n\n    public int getArea() {\n        return width * length;\n    }\n\n    public void move(int x, int y) {\n        this.x = x;\n        this.y = y;\n    }\n\n    public void changeSize(int n) {\n        this.width = n;\n        this.length = n;\n    }\n\n    public void print(int area, int perimeter) {\n        System.out.printf(&quot;X: %d\\n&quot;, this.x);\n        System.out.printf(&quot;Y: %d\\n&quot;, this.y);\n        System.out.printf(&quot;Length: %d\\n&quot;, this.width);\n        System.out.printf(&quot;Width: %d\\n&quot;, this.length);\n        System.out.printf(&quot;Area: %d\\n&quot;, area);\n        System.out.printf(&quot;Perimeter: %d&quot;, perimeter);\n    }\n\n    public static void main(String[] args) {\n        Rect r1 = new Rect();\n        r1.length = 1;\n        r1.width = 2;\n        r1.x = 3;\n        r1.y = 4;\n\n        //test here\n        int area = r1.getArea();\n        int perimeter = r1.getPerimeter();\n\n        r1.print(area, perimeter);\n\n    }\n}\n</code></pre>\n<p>I haven't really tried much as I am confused to where I should write the appropriate code.</p>\n"},{"tags":["java","foreign-keys","jooq"],"comments":[{"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"score":0,"creation_date":1674512604,"post_id":75215310,"comment_id":132726284,"body_markdown":"What RDBMS are you using?","body":"What RDBMS are you using?"},{"owner":{"account_id":1813580,"reputation":431,"user_id":1649163,"display_name":"mgramin"},"score":0,"creation_date":1674551978,"post_id":75215310,"comment_id":132732783,"body_markdown":"@LukasEder I&#39;m using Postgres and MySQL","body":"@LukasEder I&#39;m using Postgres and MySQL"}],"owner":{"account_id":1813580,"reputation":431,"user_id":1649163,"display_name":"mgramin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674551952,"creation_date":1674509938,"question_id":75215310,"body_markdown":"There are `Parent` table (with PK constraint) and `Child` table (maybe without PK, but with FK constraint for `Parent` table).\r\n\r\nI want to batch insert in `Child` table and ignore/skip all rows with FK constraints errors (such as `onConflictOnConstraint()` for `insertInto` for single row) and save other rows.\r\n\r\nI tried `dslContext.loadInto()` with `onErrorIgnore()` option, but if any errors occur, other rows will not be inserted either:\r\n\r\n    List&lt;Record2&lt;Object, Object&gt;&gt; records = List.of(\r\n            dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(1, &quot;1&quot;),\r\n            dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(2, &quot;2&quot;),\r\n            dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(3, &quot;3&quot;),\r\n            dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(3, &quot;3&quot;));\r\n    dslContext.loadInto(table(&quot;child&quot;))\r\n            .batchAll()\r\n            .onErrorIgnore()\r\n            .loadRecords(records)\r\n            .fields(field(&quot;id&quot;), field(&quot;value&quot;))\r\n            .execute();","title":"Is there way to batch insert and ignore any FK constraints errors?","body":"<p>There are <code>Parent</code> table (with PK constraint) and <code>Child</code> table (maybe without PK, but with FK constraint for <code>Parent</code> table).</p>\n<p>I want to batch insert in <code>Child</code> table and ignore/skip all rows with FK constraints errors (such as <code>onConflictOnConstraint()</code> for <code>insertInto</code> for single row) and save other rows.</p>\n<p>I tried <code>dslContext.loadInto()</code> with <code>onErrorIgnore()</code> option, but if any errors occur, other rows will not be inserted either:</p>\n<pre><code>List&lt;Record2&lt;Object, Object&gt;&gt; records = List.of(\n        dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(1, &quot;1&quot;),\n        dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(2, &quot;2&quot;),\n        dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(3, &quot;3&quot;),\n        dslContext.newRecord(field(&quot;id&quot;), field(&quot;value&quot;)).values(3, &quot;3&quot;));\ndslContext.loadInto(table(&quot;child&quot;))\n        .batchAll()\n        .onErrorIgnore()\n        .loadRecords(records)\n        .fields(field(&quot;id&quot;), field(&quot;value&quot;))\n        .execute();\n</code></pre>\n"},{"tags":["java","spring-boot","rest","jmeter","stress-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674551440,"creation_date":1674551440,"answer_id":75219406,"question_id":75219292,"body_markdown":"Most probably you&#39;ve run out of outbound ports. \r\n\r\nCheck your operating system documentation regarding how to either increase them and/or or reduce recycle time. \r\n\r\nExample suggestions can be found i.e. in [Solved “java.net.BindException: Address already in use: connect” issue on Windows][1] or [Handling &quot;exhausting available ports&quot; in Jmeter][2]\r\n\r\nAlternatively you can allocate another machine and consider switching to [JMeter Distributed Testing][3] \r\n\r\n\r\n  [1]: https://www.baselogic.com/2011/11/23/solved-java-net-bindexception-address-use-connect-issue-windows/\r\n  [2]: https://www.linkedin.com/pulse/handling-exhausting-available-ports-jmeter-shrikant-m/\r\n  [3]: https://www.blazemeter.com/blog/distributed-testing-in-jmeter","title":"Springboot app settings to perform StressTest","body":"<p>Most probably you've run out of outbound ports.</p>\n<p>Check your operating system documentation regarding how to either increase them and/or or reduce recycle time.</p>\n<p>Example suggestions can be found i.e. in <a href=\"https://www.baselogic.com/2011/11/23/solved-java-net-bindexception-address-use-connect-issue-windows/\" rel=\"nofollow noreferrer\">Solved “java.net.BindException: Address already in use: connect” issue on Windows</a> or <a href=\"https://www.linkedin.com/pulse/handling-exhausting-available-ports-jmeter-shrikant-m/\" rel=\"nofollow noreferrer\">Handling &quot;exhausting available ports&quot; in Jmeter</a></p>\n<p>Alternatively you can allocate another machine and consider switching to <a href=\"https://www.blazemeter.com/blog/distributed-testing-in-jmeter\" rel=\"nofollow noreferrer\">JMeter Distributed Testing</a></p>\n"}],"owner":{"account_id":21435285,"reputation":53,"user_id":15790858,"display_name":"mc ser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674551440,"creation_date":1674550755,"question_id":75219292,"body_markdown":"i want to ask about what&#39;s the proper settings on springboot application properties to perform a stress test? because i&#39;m constantly getting this error from my Jmeter when it reach 16k samples on my springboot rest server, also i am doing 100thread/s on the jmeter thread group for 5 minutes. Thank you\r\n\r\n```\r\njava.net.BindException: Address already in use: connect\r\n\tat java.base/sun.nio.ch.Net.connect0(Native Method)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:579)\r\n\tat java.base/sun.nio.ch.Net.connect(Net.java:568)\r\n\tat java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\r\n\tat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\r\n\tat java.base/java.net.Socket.connect(Socket.java:633)\r\n\tat org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\r\n\tat org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\r\n\tat org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl$JMeterDefaultHttpClientConnectionOperator.connect(HTTPHC4Impl.java:404)\r\n```","title":"Springboot app settings to perform StressTest","body":"<p>i want to ask about what's the proper settings on springboot application properties to perform a stress test? because i'm constantly getting this error from my Jmeter when it reach 16k samples on my springboot rest server, also i am doing 100thread/s on the jmeter thread group for 5 minutes. Thank you</p>\n<pre><code>java.net.BindException: Address already in use: connect\n    at java.base/sun.nio.ch.Net.connect0(Native Method)\n    at java.base/sun.nio.ch.Net.connect(Net.java:579)\n    at java.base/sun.nio.ch.Net.connect(Net.java:568)\n    at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:588)\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)\n    at java.base/java.net.Socket.connect(Socket.java:633)\n    at org.apache.http.conn.socket.PlainConnectionSocketFactory.connectSocket(PlainConnectionSocketFactory.java:75)\n    at org.apache.http.impl.conn.DefaultHttpClientConnectionOperator.connect(DefaultHttpClientConnectionOperator.java:142)\n    at org.apache.jmeter.protocol.http.sampler.HTTPHC4Impl$JMeterDefaultHttpClientConnectionOperator.connect(HTTPHC4Impl.java:404)\n</code></pre>\n"},{"tags":["java","android","list","arraylist","ocr"],"answers":[{"comments":[{"owner":{"account_id":26882938,"reputation":1,"user_id":20678263,"display_name":"Conor"},"score":0,"creation_date":1674512835,"post_id":75197687,"comment_id":132726329,"body_markdown":"Thanks, I converted it to a publicly declared string, and used that.","body":"Thanks, I converted it to a publicly declared string, and used that."}],"tags":[],"owner":{"account_id":24670975,"reputation":21,"user_id":18565995,"display_name":"Eric"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674353937,"creation_date":1674350599,"answer_id":75197687,"question_id":75196457,"body_markdown":"Your `stringBuilder` is a local variable, you can&#39;t refer it outside the method.","title":"How to check if any strings in a list appears in a string, and then display anything that matches in a text box?","body":"<p>Your <code>stringBuilder</code> is a local variable, you can't refer it outside the method.</p>\n"},{"tags":[],"owner":{"account_id":26882938,"reputation":1,"user_id":20678263,"display_name":"Conor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674551160,"creation_date":1674512794,"answer_id":75215687,"question_id":75196457,"body_markdown":"I figured it out\r\n```\r\nStringBuilder stringBuilder = new StringBuilder();\r\nfor (int i = 0; i &lt; items.size(); i++) {\r\n    TextBlock item = items.valueAt(i);\r\n    stringBuilder.append(item.getValue());\r\n    stringBuilder.append(&quot;\\n&quot;);\r\n}\r\n\r\nfor (String item : list) {\r\n    if (stringBuilder.toString().contains(item)) {\r\n        matches = item;\r\n    }\r\n}\r\n\r\ntextView.setText(matches);","title":"How to check if any strings in a list appears in a string, and then display anything that matches in a text box?","body":"<p>I figured it out</p>\n<pre><code>StringBuilder stringBuilder = new StringBuilder();\nfor (int i = 0; i &lt; items.size(); i++) {\n    TextBlock item = items.valueAt(i);\n    stringBuilder.append(item.getValue());\n    stringBuilder.append(&quot;\\n&quot;);\n}\n\nfor (String item : list) {\n    if (stringBuilder.toString().contains(item)) {\n        matches = item;\n    }\n}\n\ntextView.setText(matches);\n</code></pre>\n"}],"owner":{"account_id":26882938,"reputation":1,"user_id":20678263,"display_name":"Conor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674551160,"creation_date":1674334080,"question_id":75196457,"body_markdown":"I&#39;m creating an OCR app that detects any text in live footage, and displays that text in a textbox. However, I want to filter this text to only display certain words, stored in a list.\r\n\r\nThis is the code I have currently that displays any text found\r\n\r\n```\r\n@Override\r\npublic void receiveDetections(Detector.Detections&lt;TextBlock&gt; detections) {\r\n    final SparseArray&lt;TextBlock&gt; items = detections.getDetectedItems();\r\n    if (items.size() != 0) {\r\n        textView.post(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                StringBuilder stringBuilder = new StringBuilder();\r\n                for (int i = 0; i &lt; items.size(); i++) {\r\n                    TextBlock item = items.valueAt(i);\r\n                    stringBuilder.append(item.getValue());\r\n                    stringBuilder.append(&quot;\\n&quot;);\r\n                }\r\n                textView.setText(stringBuilder.toString());\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nThis is what I&#39;ve tried using, but I&#39;m getting no output\r\n\r\n```\r\nwhile (textView.getText().toString().trim().length() == 0) {\r\n    if (list.contains(stringBuilder)) {\r\n        for (int j = 0; j &lt;= list.size(); j++) {\r\n            if (stringBuilder.toString().contains(list.get(j))) {\r\n                textView.setText(list.get(j));\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nDoes anyone know how I can make the text view show only text that&#39;s in my list? Here is my list\r\n\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\nwords.add(&quot;abc&quot;);\r\n```\r\n\r\nI tried using the code below, because this on its own displays the live OCR feed, but it still didn&#39;t work above, so I believe the problem is in the checking process\r\n\r\n```\r\ntextView.setText(stringBuilder.toString());\r\n```\r\n\r\n```\r\nwhile (textView.getText().toString().trim().length() == 0) {\r\n    if (list.contains(stringBuilder)) {\r\n        for (int j = 0; j &lt;= list.size(); j++) {\r\n            if (stringBuilder.toString().contains(list.get(j))) {\r\n                textView.setText(stringBuilder.toString());\r\n            }\r\n        }\r\n    }\r\n}\r\n```","title":"How to check if any strings in a list appears in a string, and then display anything that matches in a text box?","body":"<p>I'm creating an OCR app that detects any text in live footage, and displays that text in a textbox. However, I want to filter this text to only display certain words, stored in a list.</p>\n<p>This is the code I have currently that displays any text found</p>\n<pre><code>@Override\npublic void receiveDetections(Detector.Detections&lt;TextBlock&gt; detections) {\n    final SparseArray&lt;TextBlock&gt; items = detections.getDetectedItems();\n    if (items.size() != 0) {\n        textView.post(new Runnable() {\n            @Override\n            public void run() {\n                StringBuilder stringBuilder = new StringBuilder();\n                for (int i = 0; i &lt; items.size(); i++) {\n                    TextBlock item = items.valueAt(i);\n                    stringBuilder.append(item.getValue());\n                    stringBuilder.append(&quot;\\n&quot;);\n                }\n                textView.setText(stringBuilder.toString());\n            }\n        });\n    }\n}\n</code></pre>\n<p>This is what I've tried using, but I'm getting no output</p>\n<pre><code>while (textView.getText().toString().trim().length() == 0) {\n    if (list.contains(stringBuilder)) {\n        for (int j = 0; j &lt;= list.size(); j++) {\n            if (stringBuilder.toString().contains(list.get(j))) {\n                textView.setText(list.get(j));\n            }\n        }\n    }\n}\n</code></pre>\n<p>Does anyone know how I can make the text view show only text that's in my list? Here is my list</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\nwords.add(&quot;abc&quot;);\n</code></pre>\n<p>I tried using the code below, because this on its own displays the live OCR feed, but it still didn't work above, so I believe the problem is in the checking process</p>\n<pre><code>textView.setText(stringBuilder.toString());\n</code></pre>\n<pre><code>while (textView.getText().toString().trim().length() == 0) {\n    if (list.contains(stringBuilder)) {\n        for (int j = 0; j &lt;= list.size(); j++) {\n            if (stringBuilder.toString().contains(list.get(j))) {\n                textView.setText(stringBuilder.toString());\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2264130,"reputation":38917,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1380611814,"post_id":19108397,"comment_id":28256264,"body_markdown":"What does the directory structure look like? Can you see for example a `.idea` folder, or some `pom.xml` or `.iml` files?","body":"What does the directory structure look like? Can you see for example a <code>.idea</code> folder, or some <code>pom.xml</code> or <code>.iml</code> files?"},{"owner":{"account_id":7069929,"reputation":7209,"user_id":5411888,"accept_rate":100,"display_name":"Amit Upadhyay"},"score":0,"creation_date":1677168591,"post_id":19108397,"comment_id":133288685,"body_markdown":"for me, restarting my system worked, same as the good old times! xD","body":"for me, restarting my system worked, same as the good old times! xD"}],"answers":[{"comments":[{"owner":{"account_id":2426787,"reputation":313,"user_id":2118544,"accept_rate":30,"display_name":"Sajjad Rostami"},"score":0,"creation_date":1380606495,"post_id":19108631,"comment_id":28254215,"body_markdown":"By this way i just open the project on IntelliJ IDEA.But the run icon is deactivate. and i cant run this project.","body":"By this way i just open the project on IntelliJ IDEA.But the run icon is deactivate. and i cant run this project."},{"owner":{"account_id":338193,"reputation":661,"user_id":666918,"accept_rate":73,"display_name":"machinarium"},"score":0,"creation_date":1481076335,"post_id":19108631,"comment_id":69224695,"body_markdown":"In my case, open Maven Projects window, right click on the project and choose Reimport on the context menu, everything is back to normal now.","body":"In my case, open Maven Projects window, right click on the project and choose Reimport on the context menu, everything is back to normal now."},{"owner":{"account_id":3283735,"reputation":4243,"user_id":2763683,"accept_rate":94,"display_name":"Andrea Bergonzo"},"score":0,"creation_date":1525092303,"post_id":19108631,"comment_id":87218138,"body_markdown":"I preferred the delete .project file solution as I open my repo in IntelliJ from the command line and it is easier for me to delete a folder and open the project instead of opening the IDE and looking at the project from there.","body":"I preferred the delete .project file solution as I open my repo in IntelliJ from the command line and it is easier for me to delete a folder and open the project instead of opening the IDE and looking at the project from there."}],"tags":[],"owner":{"account_id":3318408,"reputation":1719,"user_id":2790141,"display_name":"Ernestas Kardzys"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1380605374,"creation_date":1380605374,"answer_id":19108631,"question_id":19108397,"body_markdown":"Try importing project by selecting File -&gt; Import Project... (as for IntelliJ IDEA 12.1.4).\r\n\r\nDoes it help?","title":"Can not open project with IntelliJ IDEA","body":"<p>Try importing project by selecting File -> Import Project... (as for IntelliJ IDEA 12.1.4).</p>\n\n<p>Does it help?</p>\n"},{"comments":[{"owner":{"account_id":2996926,"reputation":2436,"user_id":2724879,"accept_rate":59,"display_name":"Yamen Nassif"},"score":2,"creation_date":1575293556,"post_id":47273918,"comment_id":104506731,"body_markdown":"had it with intellj idea ultimate and deleting .idea/ folder fixed it.","body":"had it with intellj idea ultimate and deleting .idea/ folder fixed it."},{"owner":{"account_id":2076034,"reputation":9231,"user_id":1849358,"accept_rate":60,"display_name":"andy mccullough"},"score":0,"creation_date":1583768434,"post_id":47273918,"comment_id":107218443,"body_markdown":"deleting the `.project` file worked me me - thanks!","body":"deleting the <code>.project</code> file worked me me - thanks!"},{"owner":{"account_id":50594,"reputation":12311,"user_id":151004,"accept_rate":83,"display_name":"thoredge"},"score":0,"creation_date":1611305878,"post_id":47273918,"comment_id":116413464,"body_markdown":"Had a .project file with git conflicts, fixing the conflicts in local editor made it possible to open the project again.","body":"Had a .project file with git conflicts, fixing the conflicts in local editor made it possible to open the project again."}],"tags":[],"owner":{"account_id":11308557,"reputation":231,"user_id":8292337,"display_name":"Vipin ChandraMohan"},"comment_count":3,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1510608797,"creation_date":1510608797,"answer_id":47273918,"question_id":19108397,"body_markdown":"I faced the same issue. Deleting &lt;i&gt;.project&lt;/i&gt; file in from the home directory and reopening &lt;b&gt;solved&lt;/b&gt; the problem.","title":"Can not open project with IntelliJ IDEA","body":"<p>I faced the same issue. Deleting <i>.project</i> file in from the home directory and reopening <b>solved</b> the problem.</p>\n"},{"tags":[],"owner":{"account_id":12560763,"reputation":1083,"user_id":9138621,"display_name":"JPilson"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582715008,"creation_date":1582715008,"answer_id":60412461,"question_id":19108397,"body_markdown":"I was facing this recently and by Jetbeans adding \r\n&quot; -Dide.mac.file.chooser.native=false &quot; to vmoptions would solve the problem.\r\n\r\nBut in my case, it did not work, I noticed the error log and it was not able to open due to no permission to read a file under.IDEA folder inside my project so went to system preferences and gave WebStrom permission to files and it started working. \r\n \r\nhttps://youtrack.jetbrains.com/issue/JBR-1721?_ga=2.190528747.1517998312.1582653181-1398648508.1578306760","title":"Can not open project with IntelliJ IDEA","body":"<p>I was facing this recently and by Jetbeans adding \n\" -Dide.mac.file.chooser.native=false \" to vmoptions would solve the problem.</p>\n\n<p>But in my case, it did not work, I noticed the error log and it was not able to open due to no permission to read a file under.IDEA folder inside my project so went to system preferences and gave WebStrom permission to files and it started working. </p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/JBR-1721?_ga=2.190528747.1517998312.1582653181-1398648508.1578306760\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/JBR-1721?_ga=2.190528747.1517998312.1582653181-1398648508.1578306760</a></p>\n"},{"comments":[{"owner":{"account_id":950589,"reputation":1907,"user_id":976827,"display_name":"Șerban Ghiță"},"score":0,"creation_date":1663226419,"post_id":70288233,"comment_id":130190208,"body_markdown":"Worked for me in IntelliJ Ultimate. I opened another working project, then &quot;Invalidate  Caches...&quot;, checked &quot;Clear file system cache and Local History&quot;, &quot;Clear VCS log caches and indexes&quot;. After IDE restart I was able to open the faulty project again.","body":"Worked for me in IntelliJ Ultimate. I opened another working project, then &quot;Invalidate  Caches...&quot;, checked &quot;Clear file system cache and Local History&quot;, &quot;Clear VCS log caches and indexes&quot;. After IDE restart I was able to open the faulty project again."}],"tags":[],"owner":{"account_id":8814894,"reputation":867,"user_id":6586691,"display_name":"Sergii Shcherbak"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1639045547,"creation_date":1639045547,"answer_id":70288233,"question_id":19108397,"body_markdown":"In my case (**PyCharm**), there was one particular project that refused to open, while other projects worked perfectly. Deleting the `.idea` folder did not fix the issue. The fix that worked for me: `File &gt; Invalidate Caches &gt; (Select all) &gt; Invalidate and Restart`. This will remove caches and indices for all projects, and new caches will be built on re-open.","title":"Can not open project with IntelliJ IDEA","body":"<p>In my case (<strong>PyCharm</strong>), there was one particular project that refused to open, while other projects worked perfectly. Deleting the <code>.idea</code> folder did not fix the issue. The fix that worked for me: <code>File &gt; Invalidate Caches &gt; (Select all) &gt; Invalidate and Restart</code>. This will remove caches and indices for all projects, and new caches will be built on re-open.</p>\n"},{"tags":[],"owner":{"account_id":13971473,"reputation":367,"user_id":10089961,"display_name":"Shay Ribera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648042963,"creation_date":1648042963,"answer_id":71588251,"question_id":19108397,"body_markdown":"In my case I had generated a apache camel project by running `mvn archetype:generate -DarchetypeGroupId=&quot;org.apache.camel.archetypes&quot; -DarchetypeArtifactId=&quot;camel-archetype-spring-boot&quot; -DarchetypeVersion=&quot;3.4.0&quot;` on my terminal but it did not generate a .idea folder and so InteliJ would not open it. So I copied the .idea folder of a similar project and edited the `modules.xml, workspace.xml, project template.xml and misc.xml` to match my project name and class path, then InteliJ opened the project with no issue.","title":"Can not open project with IntelliJ IDEA","body":"<p>In my case I had generated a apache camel project by running <code>mvn archetype:generate -DarchetypeGroupId=&quot;org.apache.camel.archetypes&quot; -DarchetypeArtifactId=&quot;camel-archetype-spring-boot&quot; -DarchetypeVersion=&quot;3.4.0&quot;</code> on my terminal but it did not generate a .idea folder and so InteliJ would not open it. So I copied the .idea folder of a similar project and edited the <code>modules.xml, workspace.xml, project template.xml and misc.xml</code> to match my project name and class path, then InteliJ opened the project with no issue.</p>\n"},{"tags":[],"owner":{"account_id":18599984,"reputation":1,"user_id":13555041,"display_name":"Kevin Lillard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650877078,"creation_date":1650877078,"answer_id":71996881,"question_id":19108397,"body_markdown":"In my case, .idea folder (which configures the IDE settings) was missing. I have copied this folder from my existing and properly working projects and it solved the problem","title":"Can not open project with IntelliJ IDEA","body":"<p>In my case, .idea folder (which configures the IDE settings) was missing. I have copied this folder from my existing and properly working projects and it solved the problem</p>\n"},{"tags":[],"owner":{"account_id":25466906,"reputation":1,"user_id":19265800,"display_name":"Nancy M"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654275638,"creation_date":1654275638,"answer_id":72492920,"question_id":19108397,"body_markdown":"In my case invalidating caches helped solve my problem. ","title":"Can not open project with IntelliJ IDEA","body":"<p>In my case invalidating caches helped solve my problem.</p>\n"},{"comments":[{"owner":{"account_id":4755336,"reputation":159,"user_id":3844247,"display_name":"Isham Sally"},"score":1,"creation_date":1682009443,"post_id":74020738,"comment_id":134152116,"body_markdown":"This totally worked thanks.","body":"This totally worked thanks."}],"tags":[],"owner":{"account_id":5639553,"reputation":428,"user_id":4463876,"display_name":"Human programmer"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665436512,"creation_date":1665436512,"answer_id":74020738,"question_id":19108397,"body_markdown":"I was having a similar issue, but I was not getting any error message. When I tried opening the git repository, nothing was happening in IntelliJ. For me using the following IntelliJ options helped:\r\n\r\nGo to FILE menu -&gt; New Project -&gt; Project From Existing Sources.\r\n\r\nNow select your project folder. Then I chose &quot;Create project from existing sources&quot; and went through the generator, basically just clicking Next.","title":"Can not open project with IntelliJ IDEA","body":"<p>I was having a similar issue, but I was not getting any error message. When I tried opening the git repository, nothing was happening in IntelliJ. For me using the following IntelliJ options helped:</p>\n<p>Go to FILE menu -&gt; New Project -&gt; Project From Existing Sources.</p>\n<p>Now select your project folder. Then I chose &quot;Create project from existing sources&quot; and went through the generator, basically just clicking Next.</p>\n"},{"tags":[],"owner":{"account_id":6121205,"reputation":442,"user_id":4774683,"display_name":"Youness HARDI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674550889,"creation_date":1674550889,"answer_id":75219316,"question_id":19108397,"body_markdown":"I was facing the same problem. I didn&#39;t invalidates caches. I just reload all gradle projects by clicking in in the &quot;Reload all Gradle projects&quot; in gradle view, after each project build/sync, they will be imported as expected.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x1lOQ.png","title":"Can not open project with IntelliJ IDEA","body":"<p>I was facing the same problem. I didn't invalidates caches. I just reload all gradle projects by clicking in in the &quot;Reload all Gradle projects&quot; in gradle view, after each project build/sync, they will be imported as expected.</p>\n<p><a href=\"https://i.stack.imgur.com/x1lOQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x1lOQ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2426787,"reputation":313,"user_id":2118544,"accept_rate":30,"display_name":"Sajjad Rostami"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38688,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":9,"score":15,"last_activity_date":1674550889,"creation_date":1380603999,"question_id":19108397,"body_markdown":"I have a project that was already working with IntelliJ IDEA but now,when I want to open it with IntelliJ IDEA, I am facing this error message:&quot;Contains no IntelliJ IDE project&quot;.","title":"Can not open project with IntelliJ IDEA","body":"<p>I have a project that was already working with IntelliJ IDEA but now,when I want to open it with IntelliJ IDEA, I am facing this error message:\"Contains no IntelliJ IDE project\".</p>\n"},{"tags":["java","android","reactjs","react-native","gradle"],"answers":[{"tags":[],"owner":{"account_id":26740834,"reputation":13,"user_id":20341648,"display_name":"aysekaplan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674550806,"creation_date":1674482615,"answer_id":75210595,"question_id":75210353,"body_markdown":"BTW I fixed this problem by doing that\r\n\r\nReplace this in android/build.gradle file\r\n\r\n```\r\nallprojects {\r\n    repositories {\r\n        exclusiveContent {\r\n           filter {\r\n               includeGroup &quot;com.facebook.react&quot;\r\n           }\r\n           forRepository {\r\n               maven {\r\n                   url &quot;$rootDir/../node_modules/react-native/android&quot;\r\n               }\r\n           }\r\n       }\r\n\r\n       // ... your repository definitions\r\n\r\n    }\r\n}\r\n```\r\n\r\nI refered that link https://github.com/facebook/react-native/issues/35210","title":"react native Execution failed for task &#39;:react-native-community_checkbox:generateDebugRFile&#39;","body":"<p>BTW I fixed this problem by doing that</p>\n<p>Replace this in android/build.gradle file</p>\n<pre><code>allprojects {\n    repositories {\n        exclusiveContent {\n           filter {\n               includeGroup &quot;com.facebook.react&quot;\n           }\n           forRepository {\n               maven {\n                   url &quot;$rootDir/../node_modules/react-native/android&quot;\n               }\n           }\n       }\n\n       // ... your repository definitions\n\n    }\n}\n</code></pre>\n<p>I refered that link <a href=\"https://github.com/facebook/react-native/issues/35210\" rel=\"nofollow noreferrer\">https://github.com/facebook/react-native/issues/35210</a></p>\n"}],"owner":{"account_id":26740834,"reputation":13,"user_id":20341648,"display_name":"aysekaplan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1474,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674550806,"creation_date":1674481295,"question_id":75210353,"body_markdown":"hi everyone today I tried run the android \r\nhello, today I got an error when I tried to run the android of the project I&#39;ve been developing for 3 months.\r\n\r\n    error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081\r\n\r\nFAILURE: Build completed with 2 failures.\r\n\r\n1: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\nExecution failed for task &#39;:react-native-community_checkbox:generateDebugRFile&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:react-native-community_checkbox:debugCompileClasspath&#39;.\r\n   &gt; Failed to transform react-native-0.71.0-rc.0-debug.aar (com.facebook.react:react-native:0.71.0-rc.0) to match attributes {artifactType=android-symbol-with-package-name, com.android.build.api.attributes.BuildTypeAttr=debug, org.gradle.category=library, org.gradle.dependency.bundling=external, org.gradle.libraryelements=aar, org.gradle.status=release, org.gradle.usage=java-api}.\r\n      &gt; Could not find react-native-0.71.0-rc.0-debug.aar (com.facebook.react:react-native:0.71.0-rc.0).\r\n        Searched in the following locations:\r\n            https://repo.maven.apache.org/maven2/com/facebook/react/react-native/0.71.0-rc.0/react-native-0.71.0-rc.0-debug.aar\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n2: Task failed with an exception.\r\n-----------\r\n* What went wrong:\r\njava.lang.StackOverflowError (no error message)\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n==============================================================================\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 4s\r\n\r\n    at makeError (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/execa/index.js:174:9)\r\n    at /Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/execa/index.js:278:16\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async runOnAllDevices (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:109:5)\r\n    at async Command.handleAction (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/@react-native-community/cli/build/index.js:142:9)\r\ninfo Run CLI with --verbose flag for more details.\r\nerror Command failed with exit code 1.\r\n\r\n\r\n\r\nhow can i fix that?","title":"react native Execution failed for task &#39;:react-native-community_checkbox:generateDebugRFile&#39;","body":"<p>hi everyone today I tried run the android\nhello, today I got an error when I tried to run the android of the project I've been developing for 3 months.</p>\n<pre><code>error Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\n</code></pre>\n<p>Error: Command failed: ./gradlew app:installDebug -PreactNativeDevServerPort=8081</p>\n<p>FAILURE: Build completed with 2 failures.</p>\n<h2>1: Task failed with an exception.</h2>\n<ul>\n<li>What went wrong:\nExecution failed for task ':react-native-community_checkbox:generateDebugRFile'.</li>\n</ul>\n<blockquote>\n<p>Could not resolve all files for configuration ':react-native-community_checkbox:debugCompileClasspath'.\nFailed to transform react-native-0.71.0-rc.0-debug.aar (com.facebook.react:react-native:0.71.0-rc.0) to match attributes {artifactType=android-symbol-with-package-name, com.android.build.api.attributes.BuildTypeAttr=debug, org.gradle.category=library, org.gradle.dependency.bundling=external, org.gradle.libraryelements=aar, org.gradle.status=release, org.gradle.usage=java-api}.\n&gt; Could not find react-native-0.71.0-rc.0-debug.aar (com.facebook.react:react-native:0.71.0-rc.0).\nSearched in the following locations:\n<a href=\"https://repo.maven.apache.org/maven2/com/facebook/react/react-native/0.71.0-rc.0/react-native-0.71.0-rc.0-debug.aar\" rel=\"nofollow noreferrer\">https://repo.maven.apache.org/maven2/com/facebook/react/react-native/0.71.0-rc.0/react-native-0.71.0-rc.0-debug.aar</a></p>\n</blockquote>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<h2>2: Task failed with an exception.</h2>\n<ul>\n<li><p>What went wrong:\njava.lang.StackOverflowError (no error message)</p>\n</li>\n<li><p>Try:</p>\n</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.\nRun with --info or --debug option to get more log output.\nRun with --scan to get full insights.\n==============================================================================</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>BUILD FAILED in 4s</p>\n<pre><code>at makeError (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/execa/index.js:174:9)\nat /Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/execa/index.js:278:16\nat process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nat async runOnAllDevices (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:109:5)\nat async Command.handleAction (/Users/arslantek/Desktop/TTDeneme23Ocak/TTMedMobil/node_modules/@react-native-community/cli/build/index.js:142:9)\n</code></pre>\n<p>info Run CLI with --verbose flag for more details.\nerror Command failed with exit code 1.</p>\n<p>how can i fix that?</p>\n"},{"tags":["java","spring","postgresql","hibernate","criteria-api"],"owner":{"account_id":15654628,"reputation":11,"user_id":11295311,"display_name":"Nipun Vig"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674550468,"creation_date":1674550125,"question_id":75219202,"body_markdown":"Table name: Employee \r\nI have an array column name: `[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]`\r\n\r\nand a value name -&gt; &quot;a&quot; which i want to check if it is present in array.\r\n\r\nThrough sql query i am able to do using ANY clause: \r\n\r\n    SELECT * \r\n    FROM EMPLOYEE WHERE &#39;a&#39; = ANY(name)\r\n\r\n\r\nBut when i try to do same through criteria query I run into issues as ANY()  uses subquery as param.\r\n\r\nCan someone help how to achieve same using criteria api without using subquery?\r\n\r\nI have tried isMember,Any() In() using criteria query but none of that works.","title":"Having a text[] column named name in database table named Employee , i want to check if certain value is present in array using criteria query","body":"<p>Table name: Employee\nI have an array column name: <code>[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]</code></p>\n<p>and a value name -&gt; &quot;a&quot; which i want to check if it is present in array.</p>\n<p>Through sql query i am able to do using ANY clause:</p>\n<pre><code>SELECT * \nFROM EMPLOYEE WHERE 'a' = ANY(name)\n</code></pre>\n<p>But when i try to do same through criteria query I run into issues as ANY()  uses subquery as param.</p>\n<p>Can someone help how to achieve same using criteria api without using subquery?</p>\n<p>I have tried isMember,Any() In() using criteria query but none of that works.</p>\n"},{"tags":["java","mongodb","spring-data"],"answers":[{"tags":[],"owner":{"account_id":2638471,"reputation":25855,"user_id":2282634,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1631873015,"creation_date":1631873015,"answer_id":69221506,"question_id":69197880,"body_markdown":"BSON binary subtype 3 is the legacy UUID format.  The legacy byte ordering was not defined, and so each client language was free to order the bytes in whatever way made sense to that language&#39;s implementation.\r\n\r\nThe base64 data `30Z6lgeYEcooOhbk5fBZtg==` in hex is:\r\n```\r\ndf46 7a96 0798 11ca 283a 16e4 e5f0 59b6\r\n```\r\n\r\nIf you compare that with the original UUID `ca119807-967a-46df-b659-f0e5e4163a28` you may notice that the first half of the hexadecimal:\r\n\r\n```\r\ndf46 7a96 0798 11ca\r\n```\r\nis the reverse order of the first half of the UUID:\r\n\r\n```\r\nca119807-967a-46df\r\n```\r\n\r\nLikewise for the second half:\r\n```\r\n283a 16e4 e5f0 59b6\r\nb659-f0e5e4163a28\r\n```\r\n\r\nMongoDB Java driver&#39;s [org.bson.UuidRepresentation](https://mongodb.github.io/mongo-java-driver/3.5/javadoc/org/bson/UuidRepresentation.html) enum gives an inkling to the problem, it has possible values:\r\n```\r\nC_SHARP_LEGACY\r\nJAVA_LEGACY\r\nPYTHON_LEGACY\r\nSTANDARD\r\n```\r\n\r\nThe peculiar encoding above is the JAVA_LEGACY format.\r\n\r\nFor how to specify which to use, see https://stackoverflow.com/questions/64958563/spring-boot-2-3-6-how-to-set-uuid-representation-for-mongo","title":"Using MongoClient to read UUID written to with Spring Data","body":"<p>BSON binary subtype 3 is the legacy UUID format.  The legacy byte ordering was not defined, and so each client language was free to order the bytes in whatever way made sense to that language's implementation.</p>\n<p>The base64 data <code>30Z6lgeYEcooOhbk5fBZtg==</code> in hex is:</p>\n<pre><code>df46 7a96 0798 11ca 283a 16e4 e5f0 59b6\n</code></pre>\n<p>If you compare that with the original UUID <code>ca119807-967a-46df-b659-f0e5e4163a28</code> you may notice that the first half of the hexadecimal:</p>\n<pre><code>df46 7a96 0798 11ca\n</code></pre>\n<p>is the reverse order of the first half of the UUID:</p>\n<pre><code>ca119807-967a-46df\n</code></pre>\n<p>Likewise for the second half:</p>\n<pre><code>283a 16e4 e5f0 59b6\nb659-f0e5e4163a28\n</code></pre>\n<p>MongoDB Java driver's <a href=\"https://mongodb.github.io/mongo-java-driver/3.5/javadoc/org/bson/UuidRepresentation.html\" rel=\"nofollow noreferrer\">org.bson.UuidRepresentation</a> enum gives an inkling to the problem, it has possible values:</p>\n<pre><code>C_SHARP_LEGACY\nJAVA_LEGACY\nPYTHON_LEGACY\nSTANDARD\n</code></pre>\n<p>The peculiar encoding above is the JAVA_LEGACY format.</p>\n<p>For how to specify which to use, see <a href=\"https://stackoverflow.com/questions/64958563/spring-boot-2-3-6-how-to-set-uuid-representation-for-mongo\">spring-boot 2.3.6, how to set UUID representation for mongo?</a></p>\n"},{"tags":[],"owner":{"account_id":15752966,"reputation":337,"user_id":11366906,"display_name":"jjrz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632124503,"creation_date":1632124503,"answer_id":69250862,"question_id":69197880,"body_markdown":"Thanks to @Joe&#39;s answer I was able to use utilities from `org.mongodb:bson:423` to decode JAVA_LEGACY bytes:\r\n\r\n    import org.bson.Document;\r\n    import org.bson.UuidRepresentation;\r\n    import org.bson.conversions.Bson;\r\n    import org.bson.internal.UuidHelper;\r\n    import org.bson.types.Binary;\r\n    \r\n    (...)\r\n\r\n    result.map(document -&gt; {\r\n    Binary id = document.get(&quot;_id&quot;, Binary.class);\r\n    byte[] data = id.getData();\r\n    byte type = id.getType();\r\n    return UuidHelper.decodeBinaryToUuid(data, type, \r\n            UuidRepresentation.JAVA_LEGACY);\r\n    }) (...)\r\n\r\nThe result is then the same UUID value as the one persisted with Spring Data MongoDB.","title":"Using MongoClient to read UUID written to with Spring Data","body":"<p>Thanks to @Joe's answer I was able to use utilities from <code>org.mongodb:bson:423</code> to decode JAVA_LEGACY bytes:</p>\n<pre><code>import org.bson.Document;\nimport org.bson.UuidRepresentation;\nimport org.bson.conversions.Bson;\nimport org.bson.internal.UuidHelper;\nimport org.bson.types.Binary;\n\n(...)\n\nresult.map(document -&gt; {\nBinary id = document.get(&quot;_id&quot;, Binary.class);\nbyte[] data = id.getData();\nbyte type = id.getType();\nreturn UuidHelper.decodeBinaryToUuid(data, type, \n        UuidRepresentation.JAVA_LEGACY);\n}) (...)\n</code></pre>\n<p>The result is then the same UUID value as the one persisted with Spring Data MongoDB.</p>\n"},{"tags":[],"owner":{"account_id":12898501,"reputation":590,"user_id":9328115,"display_name":"Yuri Molodyko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674549960,"creation_date":1674549960,"answer_id":75219170,"question_id":69197880,"body_markdown":"The problem is that java uuid converted into another uuid in mongo driver. So i write this code, for find the java uuid into mongodb:\r\n\r\n    import org.bson.UuidRepresentation;\r\n    import org.bson.codecs.Codec;\r\n    import org.bson.codecs.EncoderContext;\r\n    import org.bson.codecs.UuidCodec;\r\n    import org.bson.json.JsonWriter;\r\n    \r\n    import java.io.StringWriter;\r\n    import java.util.UUID;\r\n    \r\n    public class ConverterUuid {\r\n        public static void main(String[] args) {\r\n            //Example\r\n            createFindByUuidInCollection(&quot;efbc75d6-0402-4a98-98db-82669b65dba7&quot;, &quot;customers&quot;);\r\n            //result\r\n            //db.customers.findOne({_id: new BinData(3, &#39;mEoCBNZ1vO+n22WbZoLbmA==&#39;)})\r\n        }\r\n    \r\n        public static void createFindByUuidInCollection(String uuid, String collection) {\r\n            String binaryId = getBinaryId(uuid);\r\n            System.out.printf(&quot;db.%s.findOne({_id: new BinData(3, &#39;%s&#39;)})&quot;, collection, binaryId);\r\n        }\r\n    \r\n        public static String getBinaryId(String uuid) {\r\n            UUID convertedUuid = UUID.fromString(uuid);\r\n            EncoderContext encoderContext = EncoderContext.builder().build();\r\n            Codec codec = new UuidCodec(UuidRepresentation.JAVA_LEGACY);\r\n            JsonWriter jsonWriter = new JsonWriter(new StringWriter());\r\n            encoderContext.encodeWithChildContext(codec, jsonWriter, convertedUuid);\r\n            return jsonWriter.getWriter().toString().replaceAll(&quot;\\\\{\\&quot;\\\\$binary\\&quot;: \\\\{\\&quot;base64\\&quot;: \\&quot;&quot;, &quot;&quot;)\r\n                    .replaceAll(&quot;\\&quot;, \\&quot;subType\\&quot;: \\&quot;03\\&quot;}}&quot;, &quot;&quot;);\r\n        }\r\n    }","title":"Using MongoClient to read UUID written to with Spring Data","body":"<p>The problem is that java uuid converted into another uuid in mongo driver. So i write this code, for find the java uuid into mongodb:</p>\n<pre><code>import org.bson.UuidRepresentation;\nimport org.bson.codecs.Codec;\nimport org.bson.codecs.EncoderContext;\nimport org.bson.codecs.UuidCodec;\nimport org.bson.json.JsonWriter;\n\nimport java.io.StringWriter;\nimport java.util.UUID;\n\npublic class ConverterUuid {\n    public static void main(String[] args) {\n        //Example\n        createFindByUuidInCollection(&quot;efbc75d6-0402-4a98-98db-82669b65dba7&quot;, &quot;customers&quot;);\n        //result\n        //db.customers.findOne({_id: new BinData(3, 'mEoCBNZ1vO+n22WbZoLbmA==')})\n    }\n\n    public static void createFindByUuidInCollection(String uuid, String collection) {\n        String binaryId = getBinaryId(uuid);\n        System.out.printf(&quot;db.%s.findOne({_id: new BinData(3, '%s')})&quot;, collection, binaryId);\n    }\n\n    public static String getBinaryId(String uuid) {\n        UUID convertedUuid = UUID.fromString(uuid);\n        EncoderContext encoderContext = EncoderContext.builder().build();\n        Codec codec = new UuidCodec(UuidRepresentation.JAVA_LEGACY);\n        JsonWriter jsonWriter = new JsonWriter(new StringWriter());\n        encoderContext.encodeWithChildContext(codec, jsonWriter, convertedUuid);\n        return jsonWriter.getWriter().toString().replaceAll(&quot;\\\\{\\&quot;\\\\$binary\\&quot;: \\\\{\\&quot;base64\\&quot;: \\&quot;&quot;, &quot;&quot;)\n                .replaceAll(&quot;\\&quot;, \\&quot;subType\\&quot;: \\&quot;03\\&quot;}}&quot;, &quot;&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15752966,"reputation":337,"user_id":11366906,"display_name":"jjrz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69221506,"answer_count":3,"score":0,"last_activity_date":1674549960,"creation_date":1631728795,"question_id":69197880,"body_markdown":"I am having trouble reading UUID values written to a MongoDB collection with Spring Data MongoDB. For UUID `ca119807-967a-46df-b659-f0e5e4163a28` the value in the database is `_id\r\n: Binary(&#39;30Z6lgeYEcooOhbk5fBZtg==&#39;, 3)`. \r\n\r\nThis is how I am using Spring Data MongoDB to write UUIDs to the database:\r\n\r\n    @Document(&quot;foos&quot;)\r\n    class Foo {\r\n\r\n    @Id\r\n    private UUID uuid;\r\n    ...\r\n\r\nAfter fetching the same document with `com.mongodb.client.MongoClient`, I am able to access a field of type `org.bson.types.Binary`. It then looks like this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is how I am instantiating the variables listed above:\r\n\r\n    Binary id = doc.get(&quot;_id&quot;, Binary.class);\r\n    String base64String = Base64.encodeBase64String(id.getData());\r\n\r\nI am not able to convert this value back to the original UUID. Passing the `byte[]` to `java.util.UUID#nameUUIDFromBytes` produces results that are nothing like the original UUID.\r\n\r\n**How can I convert the `byte[]` in `org.bson.types.Binary` to UUID?**\r\n\r\nI managed to use [Studio 3T][2] to read UUID values. For this, I had to change Legacy UUID Encoding to &quot;Legacy Java Encoding&quot;. Before I did that, I was seeing the same UUID values as the ones I am getting from `java.util.UUID#nameUUIDFromBytes`.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/663E7.png\r\n  [2]: https://studio3t.com/download/","title":"Using MongoClient to read UUID written to with Spring Data","body":"<p>I am having trouble reading UUID values written to a MongoDB collection with Spring Data MongoDB. For UUID <code>ca119807-967a-46df-b659-f0e5e4163a28</code> the value in the database is <code>_id : Binary('30Z6lgeYEcooOhbk5fBZtg==', 3)</code>.</p>\n<p>This is how I am using Spring Data MongoDB to write UUIDs to the database:</p>\n<pre><code>@Document(&quot;foos&quot;)\nclass Foo {\n\n@Id\nprivate UUID uuid;\n...\n</code></pre>\n<p>After fetching the same document with <code>com.mongodb.client.MongoClient</code>, I am able to access a field of type <code>org.bson.types.Binary</code>. It then looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/663E7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/663E7.png\" alt=\"enter image description here\" /></a></p>\n<p>This is how I am instantiating the variables listed above:</p>\n<pre><code>Binary id = doc.get(&quot;_id&quot;, Binary.class);\nString base64String = Base64.encodeBase64String(id.getData());\n</code></pre>\n<p>I am not able to convert this value back to the original UUID. Passing the <code>byte[]</code> to <code>java.util.UUID#nameUUIDFromBytes</code> produces results that are nothing like the original UUID.</p>\n<p><strong>How can I convert the <code>byte[]</code> in <code>org.bson.types.Binary</code> to UUID?</strong></p>\n<p>I managed to use <a href=\"https://studio3t.com/download/\" rel=\"nofollow noreferrer\">Studio 3T</a> to read UUID values. For this, I had to change Legacy UUID Encoding to &quot;Legacy Java Encoding&quot;. Before I did that, I was seeing the same UUID values as the ones I am getting from <code>java.util.UUID#nameUUIDFromBytes</code>.</p>\n"},{"tags":["java","jaxb"],"answers":[{"comments":[{"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"score":0,"creation_date":1448016925,"post_id":33824472,"comment_id":55415097,"body_markdown":"in alternative try to make `private` all attributes , otherwise with or without `XmlRootElement`, JAXB doesn&#39;t works","body":"in alternative try to make <code>private</code> all attributes , otherwise with or without <code>XmlRootElement</code>, JAXB doesn&#39;t works"},{"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"score":1,"creation_date":1448017592,"post_id":33824472,"comment_id":55415561,"body_markdown":"In the way described above you will not need any other annotations, except `@XmlAttribute` and `@XmlElement` but they describe the output","body":"In the way described above you will not need any other annotations, except <code>@XmlAttribute</code> and <code>@XmlElement</code> but they describe the output"},{"owner":{"account_id":3650680,"reputation":817,"user_id":3042945,"accept_rate":83,"display_name":"Charles Follet"},"score":0,"creation_date":1483956371,"post_id":33824472,"comment_id":70295409,"body_markdown":"Is it necessary to marshall before unmarshalling?","body":"Is it necessary to marshall before unmarshalling?"},{"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"score":0,"creation_date":1483966285,"post_id":33824472,"comment_id":70301659,"body_markdown":"No it isn&#39;t. It was only an example to have a xml well formed. @CharlesFollet","body":"No it isn&#39;t. It was only an example to have a xml well formed. @CharlesFollet"},{"owner":{"account_id":186200,"reputation":3959,"user_id":423411,"accept_rate":25,"display_name":"mmo"},"score":0,"creation_date":1507569294,"post_id":33824472,"comment_id":80252351,"body_markdown":"Brilliant! Allows us to marshal/unmarshal our generated classes without having to mangle them manually after generation.","body":"Brilliant! Allows us to marshal/unmarshal our generated classes without having to mangle them manually after generation."}],"tags":[],"owner":{"account_id":4097931,"reputation":8214,"user_id":3364187,"display_name":"Xstian"},"comment_count":5,"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1448016985,"creation_date":1448015760,"answer_id":33824472,"question_id":33823139,"body_markdown":"Following code is used to marshall and unmarshall withot `@XmlRootElement`\r\n\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \t\ttry {\r\n    \r\n    \t\t\tStringWriter stringWriter = new StringWriter();\r\n    \t\t\t\r\n    \t\t\tCustomer c = new Customer();\r\n    \t\t\tc.setAge(1);\r\n    \t\t\tc.setName(&quot;name&quot;);\r\n    \t\t\t\r\n    \t\t\tJAXBContext jaxbContext = JAXBContext.newInstance(Customer.class);\r\n    \r\n    \t\t\tMarshaller marshaller = jaxbContext.createMarshaller();\r\n    \t\t\tmarshaller.marshal(new JAXBElement&lt;Customer&gt;( new QName(&quot;&quot;, &quot;Customer&quot;), Customer.class, null, c), stringWriter);\r\n    \t\t\t\r\n    \t\t\tUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n    \t\t\tInputStream is = new ByteArrayInputStream(stringWriter.toString().getBytes());\r\n    \t\t\tJAXBElement&lt;Customer&gt; customer = (JAXBElement&lt;Customer&gt;) jaxbUnmarshaller.unmarshal(new StreamSource(is),Customer.class);\r\n\r\n    \t\t\tc = customer.getValue();\r\n    \r\n    \t\t  } catch (JAXBException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t  }\r\n    \t\t\r\n    }\r\n\r\n\r\nAbove code works only if you adding `@XmlAccessorType(XmlAccessType.PROPERTY)` on Customer class, or make private all attributes.","title":"JAXB unmarshalling without XmlRootElement annotation?","body":"<p>Following code is used to marshall and unmarshall withot <code>@XmlRootElement</code></p>\n\n<pre><code>public static void main(String[] args) {\n\n        try {\n\n            StringWriter stringWriter = new StringWriter();\n\n            Customer c = new Customer();\n            c.setAge(1);\n            c.setName(\"name\");\n\n            JAXBContext jaxbContext = JAXBContext.newInstance(Customer.class);\n\n            Marshaller marshaller = jaxbContext.createMarshaller();\n            marshaller.marshal(new JAXBElement&lt;Customer&gt;( new QName(\"\", \"Customer\"), Customer.class, null, c), stringWriter);\n\n            Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n            InputStream is = new ByteArrayInputStream(stringWriter.toString().getBytes());\n            JAXBElement&lt;Customer&gt; customer = (JAXBElement&lt;Customer&gt;) jaxbUnmarshaller.unmarshal(new StreamSource(is),Customer.class);\n\n            c = customer.getValue();\n\n          } catch (JAXBException e) {\n            e.printStackTrace();\n          }\n\n}\n</code></pre>\n\n<p>Above code works only if you adding <code>@XmlAccessorType(XmlAccessType.PROPERTY)</code> on Customer class, or make private all attributes.</p>\n"},{"comments":[{"owner":{"account_id":328375,"reputation":1972,"user_id":651288,"accept_rate":20,"display_name":"Pierluigi Vernetto"},"score":0,"creation_date":1572081952,"post_id":43154133,"comment_id":103456436,"body_markdown":"Abhishek your solution worked for me, but I had to annotate the Customer field with     \n@XmlElement(\n            name = &quot;Customer&quot;,\n            required = true\n    )","body":"Abhishek your solution worked for me, but I had to annotate the Customer field with      @XmlElement(             name = &quot;Customer&quot;,             required = true     )"}],"tags":[],"owner":{"account_id":4715694,"reputation":643,"user_id":3814888,"accept_rate":14,"display_name":"Abhishek K"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491032164,"creation_date":1491032164,"answer_id":43154133,"question_id":33823139,"body_markdown":"If you cannot add XmlRootElement to existing bean you can also create a holder class and mark it with annotation as XmlRootElement. Example below:- \r\n\r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlRootElement;\r\n\r\n    @XmlRootElement\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class CustomerHolder \r\n    {\r\n\t    private Customer cusotmer;\r\n\r\n\t    public Customer getCusotmer() {\r\n\t\t    return cusotmer;\r\n\t}\r\n\r\n\t    public void setCusotmer(Customer cusotmer) {\r\n\t\t    this.cusotmer = cusotmer;\r\n\t    }\r\n    }\r\n","title":"JAXB unmarshalling without XmlRootElement annotation?","body":"<p>If you cannot add XmlRootElement to existing bean you can also create a holder class and mark it with annotation as XmlRootElement. Example below:- </p>\n\n<pre><code>import javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlRootElement;\n\n@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class CustomerHolder \n{\n    private Customer cusotmer;\n\n    public Customer getCusotmer() {\n        return cusotmer;\n}\n\n    public void setCusotmer(Customer cusotmer) {\n        this.cusotmer = cusotmer;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674549014,"creation_date":1674549014,"answer_id":75219026,"question_id":33823139,"body_markdown":"It is indisputable that the question is very old for an answer, however still hoping someone like me is looking for a simple generic code snippet for the above requirement, hence sharing the working solution for the marshal and unmarshal need.\r\n\r\n - **Marshalling XML object to String**\r\n\r\n```\r\npublic static &lt;T&gt; Optional&lt;String&gt; objectToXMLString(T value,Class&lt;T&gt; clazz,String rootElement) {\r\n\t\tStringWriter sw = new StringWriter();\r\n\t\ttry {\r\n\t\t\tJAXBContext jaxbContext = JAXBContext.newInstance(clazz);\r\n\t\t\tMarshaller jaxbMarshaller = jaxbContext.createMarshaller();\r\n\t\t\tJAXBElement&lt;T&gt; jaxbElement = new JAXBElement&lt;&gt;(new QName(rootElement), clazz,value);\r\n\t\t\tjaxbMarshaller.marshal(jaxbElement, sw);\r\n\t\t\treturn Optional.of(sw.toString());\r\n\t\t} catch (JAXBException e) {\r\n\t\t\tLOGGER.error(&quot;XML to String Conversion exception:{}&quot;, e.getMessage(), e);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\n```\r\n\r\n - **UnMarshalling String to XML object**\r\n\r\n```\r\n\tpublic static &lt;T&gt; Optional&lt;T&gt; xmlStringToObject(String value, Class&lt;T&gt; clazz) {\r\n\t\ttry {\r\n\t\t\tJAXBContext jaxbContext = JAXBContext.newInstance(clazz);\r\n\t\t\tUnmarshaller unmarshaller = jaxbContext.createUnmarshaller();\r\n\t\t\tInputStream is = new ByteArrayInputStream(value.getBytes());\r\n\t\t\tJAXBElement&lt;T&gt; object = unmarshaller.unmarshal(new StreamSource(is),clazz);\r\n\t\t\treturn Optional.of(object.getValue());\r\n\t\t} catch (JAXBException e) {\r\n\t\t\tLOGGER.error(&quot;String to XML Conversion exception : {}&quot;, e.getMessage(), e);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\n```","title":"JAXB unmarshalling without XmlRootElement annotation?","body":"<p>It is indisputable that the question is very old for an answer, however still hoping someone like me is looking for a simple generic code snippet for the above requirement, hence sharing the working solution for the marshal and unmarshal need.</p>\n<ul>\n<li><strong>Marshalling XML object to String</strong></li>\n</ul>\n<pre><code>public static &lt;T&gt; Optional&lt;String&gt; objectToXMLString(T value,Class&lt;T&gt; clazz,String rootElement) {\n        StringWriter sw = new StringWriter();\n        try {\n            JAXBContext jaxbContext = JAXBContext.newInstance(clazz);\n            Marshaller jaxbMarshaller = jaxbContext.createMarshaller();\n            JAXBElement&lt;T&gt; jaxbElement = new JAXBElement&lt;&gt;(new QName(rootElement), clazz,value);\n            jaxbMarshaller.marshal(jaxbElement, sw);\n            return Optional.of(sw.toString());\n        } catch (JAXBException e) {\n            LOGGER.error(&quot;XML to String Conversion exception:{}&quot;, e.getMessage(), e);\n        }\n        return Optional.empty();\n    }\n\n</code></pre>\n<ul>\n<li><strong>UnMarshalling String to XML object</strong></li>\n</ul>\n<pre><code>    public static &lt;T&gt; Optional&lt;T&gt; xmlStringToObject(String value, Class&lt;T&gt; clazz) {\n        try {\n            JAXBContext jaxbContext = JAXBContext.newInstance(clazz);\n            Unmarshaller unmarshaller = jaxbContext.createUnmarshaller();\n            InputStream is = new ByteArrayInputStream(value.getBytes());\n            JAXBElement&lt;T&gt; object = unmarshaller.unmarshal(new StreamSource(is),clazz);\n            return Optional.of(object.getValue());\n        } catch (JAXBException e) {\n            LOGGER.error(&quot;String to XML Conversion exception : {}&quot;, e.getMessage(), e);\n        }\n        return Optional.empty();\n    }\n\n</code></pre>\n"}],"owner":{"account_id":4323663,"reputation":616,"user_id":3531042,"accept_rate":82,"display_name":"Kaleb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29497,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":33824472,"answer_count":3,"score":20,"last_activity_date":1674549014,"creation_date":1448011660,"question_id":33823139,"body_markdown":"Is there any way we can un-marshall for a class without @XmlRootElement annotation? Or are we obligated to enter the annotation?\r\n\r\nfor example:    \r\n\r\n    public class Customer {\r\n\r\n    \tprivate String name;\r\n    \tprivate int age;\r\n    \tprivate int id;\r\n\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n\r\n    \t@XmlElement\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n\r\n    \tpublic int getAge() {\r\n    \t\treturn age;\r\n    \t}\r\n\r\n    \t@XmlElement\r\n    \tpublic void setAge(int age) {\r\n    \t\tthis.age = age;\r\n    \t}\r\n\r\n    \tpublic int getId() {\r\n    \t\treturn id;\r\n    \t}\r\n\r\n    \t@XmlAttribute\r\n    \tpublic void setId(int id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n\r\n    }\r\n\r\nand let the unmarshalling code for properly annotated class  be like: \r\n\r\n    try {\r\n\r\n    \t\tFile file = new File(&quot;C:\\\\file.xml&quot;);\r\n    \t\tJAXBContext jaxbContext = JAXBContext.newInstance(Customer.class);\r\n\r\n    \t\tUnmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\r\n    \t\tCustomer customer = (Customer) jaxbUnmarshaller.unmarshal(file);\r\n    \t\tSystem.out.println(customer);\r\n\r\n    \t  } catch (JAXBException e) {\r\n    \t\te.printStackTrace();\r\n    \t  }\r\n\r\n\r\n\r\nleaving out the details.    \r\n","title":"JAXB unmarshalling without XmlRootElement annotation?","body":"<p>Is there any way we can un-marshall for a class without @XmlRootElement annotation? Or are we obligated to enter the annotation?</p>\n\n<p>for example:    </p>\n\n<pre><code>public class Customer {\n\n    private String name;\n    private int age;\n    private int id;\n\n    public String getName() {\n        return name;\n    }\n\n    @XmlElement\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    @XmlElement\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    @XmlAttribute\n    public void setId(int id) {\n        this.id = id;\n    }\n\n}\n</code></pre>\n\n<p>and let the unmarshalling code for properly annotated class  be like: </p>\n\n<pre><code>try {\n\n        File file = new File(\"C:\\\\file.xml\");\n        JAXBContext jaxbContext = JAXBContext.newInstance(Customer.class);\n\n        Unmarshaller jaxbUnmarshaller = jaxbContext.createUnmarshaller();\n        Customer customer = (Customer) jaxbUnmarshaller.unmarshal(file);\n        System.out.println(customer);\n\n      } catch (JAXBException e) {\n        e.printStackTrace();\n      }\n</code></pre>\n\n<p>leaving out the details.    </p>\n"},{"tags":["java","spring-webflux","spring-webclient"],"owner":{"account_id":18451741,"reputation":11,"user_id":13441660,"display_name":"Gus_2106"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674548433,"creation_date":1673625855,"question_id":75111657,"body_markdown":"I am trying to update the token when I get a response with 401 status code.\r\n\r\nIn order to do that, I used web client. I know that this mainly used to do reactive development but since resttemplate will soon be deprecated I went for this option.\r\n\r\nThe issue I am facing is that when it does call the api endpoint to get the new token, it throws a &#39;java.lang.IllegalStateException: block()/blockFirst()/blockLast() &#39;. And make sense as it stated in the exception message It is not supported in thread reactor-http-nio-3. \r\n\r\nI saw that there is a map and flatmap option, but I couldn&#39;t figure out how to use it inside the doBeforeRetry() to make it process in a different stream. \r\n\r\nI need to have that new token before retrying.\r\n\r\nSo the question is : How can I get the token via another call and then still do the retry ?\r\n\r\n\r\nI was able to make it work by using a try catch but I would like to find the solution how to use it inside that retry method.\r\n\r\nI also try to block the token request by replacing the token response by a Mono&lt;String&gt; and block it by using myMono.toFuture().get() as stated here [https://stackoverflow.com/questions/51449889/block-blockfirst-blocklast-are-blocking-error-when-calling-bodytomono-afte](https://stackoverflow.com/questions/51449889/block-blockfirst-blocklast-are-blocking-error-when-calling-bodytomono-afte)\r\n\r\nHere is the code :\r\n\r\nMethod responsible for the call :\r\n\r\n```\r\npublic String getValueFromApi(HashMap&lt;String, Object&gt; filter) {\r\n        String response = &quot;&quot;;\r\n\r\n        response = webclient\r\n                .post()\r\n                .uri(endpoint)\r\n                .header(&quot;token&quot;, token.getToken())\r\n                .bodyValue(filter)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .retryWhen(Retry.max(3).doBeforeRetry(\r\n                        retrySignal -&gt; tokenService.getTokenFromApi(env)\r\n                ).filter(InvalidTokenException.class::isInstance))\r\n                .block();\r\n\r\n        return response;\r\n    }\r\n```\r\n\r\nMethod that retrieve the token :\r\n\r\n```\r\npublic void getTokenFromApi(Environment env) {\r\n        HashMap&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\r\n        requestBody.put(&quot;name&quot;, &quot;name&quot;);\r\n        requestBody.put(&quot;password&quot;, &quot;password&quot;);\r\n\r\n        String response = WebClient\r\n                .builder()\r\n                .baseUrl(BASE_PATH)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\r\n                .build()\r\n                .post()\r\n                .uri(tokenUri)\r\n                .body(BodyInserters.fromValue(requestBody))\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .block();\r\n\r\n\r\n        getTokenFromResponse(response);\r\n    }\r\n\r\n    private void getTokenFromResponse(String reponse) {\r\n        JsonObject tokenObject = new Gson().fromJson(reponse, JsonObject.class);\r\n        setToken(tokenObject.get(&quot;token&quot;).getAsString());\r\n    }\r\n```\r\n\r\nWebClient Builder :\r\n\r\n```\r\n @Bean\r\n    public WebClient webClientForApi(WebClient.Builder webClientBuilder) {\r\n        return webClientBuilder\r\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n                .filter(errorHandler())\r\n                .filter(logRequest())\r\n                .clone()\r\n                .baseUrl(BASE_PATH)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .defaultHeader(HttpHeaders.ACCEPT, &quot;application/json&quot;)\r\n                .build();\r\n    }\r\n\r\n    public ExchangeFilterFunction errorHandler() {\r\n        return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\r\n            if (clientResponse.statusCode().equals(HttpStatus.UNAUTHORIZED)) {\r\n                return Mono.error(InvalidTokenException::new);\r\n            } else if (clientResponse.statusCode() == HttpStatus.INTERNAL_SERVER_ERROR) {\r\n                return Mono.error(ApiInternalServerException::new);\r\n            } else {\r\n                return Mono.just(clientResponse);\r\n            }\r\n        });\r\n    }\r\n\r\n    private ExchangeFilterFunction logRequest() {\r\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\r\n            logger.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\r\n            clientRequest.headers().forEach((name, values) -&gt; values.forEach(value -&gt; logger.info(&quot;{}={}&quot;, name, value)));\r\n            return Mono.just(clientRequest);\r\n        });\r\n    }\r\n```","title":"Throws java.lang.IllegalStateException: block()/blockFirst()/blockLast() when retrying invalid token","body":"<p>I am trying to update the token when I get a response with 401 status code.</p>\n<p>In order to do that, I used web client. I know that this mainly used to do reactive development but since resttemplate will soon be deprecated I went for this option.</p>\n<p>The issue I am facing is that when it does call the api endpoint to get the new token, it throws a 'java.lang.IllegalStateException: block()/blockFirst()/blockLast() '. And make sense as it stated in the exception message It is not supported in thread reactor-http-nio-3.</p>\n<p>I saw that there is a map and flatmap option, but I couldn't figure out how to use it inside the doBeforeRetry() to make it process in a different stream.</p>\n<p>I need to have that new token before retrying.</p>\n<p>So the question is : How can I get the token via another call and then still do the retry ?</p>\n<p>I was able to make it work by using a try catch but I would like to find the solution how to use it inside that retry method.</p>\n<p>I also try to block the token request by replacing the token response by a Mono and block it by using myMono.toFuture().get() as stated here <a href=\"https://stackoverflow.com/questions/51449889/block-blockfirst-blocklast-are-blocking-error-when-calling-bodytomono-afte\">block()/blockFirst()/blockLast() are blocking error when calling bodyToMono AFTER exchange()</a></p>\n<p>Here is the code :</p>\n<p>Method responsible for the call :</p>\n<pre><code>public String getValueFromApi(HashMap&lt;String, Object&gt; filter) {\n        String response = &quot;&quot;;\n\n        response = webclient\n                .post()\n                .uri(endpoint)\n                .header(&quot;token&quot;, token.getToken())\n                .bodyValue(filter)\n                .retrieve()\n                .bodyToMono(String.class)\n                .retryWhen(Retry.max(3).doBeforeRetry(\n                        retrySignal -&gt; tokenService.getTokenFromApi(env)\n                ).filter(InvalidTokenException.class::isInstance))\n                .block();\n\n        return response;\n    }\n</code></pre>\n<p>Method that retrieve the token :</p>\n<pre><code>public void getTokenFromApi(Environment env) {\n        HashMap&lt;String, String&gt; requestBody = new HashMap&lt;&gt;();\n        requestBody.put(&quot;name&quot;, &quot;name&quot;);\n        requestBody.put(&quot;password&quot;, &quot;password&quot;);\n\n        String response = WebClient\n                .builder()\n                .baseUrl(BASE_PATH)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\n                .build()\n                .post()\n                .uri(tokenUri)\n                .body(BodyInserters.fromValue(requestBody))\n                .retrieve()\n                .bodyToMono(String.class)\n                .block();\n\n\n        getTokenFromResponse(response);\n    }\n\n    private void getTokenFromResponse(String reponse) {\n        JsonObject tokenObject = new Gson().fromJson(reponse, JsonObject.class);\n        setToken(tokenObject.get(&quot;token&quot;).getAsString());\n    }\n</code></pre>\n<p>WebClient Builder :</p>\n<pre><code> @Bean\n    public WebClient webClientForApi(WebClient.Builder webClientBuilder) {\n        return webClientBuilder\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\n                .filter(errorHandler())\n                .filter(logRequest())\n                .clone()\n                .baseUrl(BASE_PATH)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .defaultHeader(HttpHeaders.ACCEPT, &quot;application/json&quot;)\n                .build();\n    }\n\n    public ExchangeFilterFunction errorHandler() {\n        return ExchangeFilterFunction.ofResponseProcessor(clientResponse -&gt; {\n            if (clientResponse.statusCode().equals(HttpStatus.UNAUTHORIZED)) {\n                return Mono.error(InvalidTokenException::new);\n            } else if (clientResponse.statusCode() == HttpStatus.INTERNAL_SERVER_ERROR) {\n                return Mono.error(ApiInternalServerException::new);\n            } else {\n                return Mono.just(clientResponse);\n            }\n        });\n    }\n\n    private ExchangeFilterFunction logRequest() {\n        return ExchangeFilterFunction.ofRequestProcessor(clientRequest -&gt; {\n            logger.info(&quot;Request: {} {}&quot;, clientRequest.method(), clientRequest.url());\n            clientRequest.headers().forEach((name, values) -&gt; values.forEach(value -&gt; logger.info(&quot;{}={}&quot;, name, value)));\n            return Mono.just(clientRequest);\n        });\n    }\n</code></pre>\n"},{"tags":["java","classpath"],"comments":[{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1345211704,"post_id":12007012,"comment_id":16016538,"body_markdown":"I&#39;m trying to simplify the problem for the sake of explaining it. There is a library called `langdetect` hosted on google [here](http://code.google.com/p/language-detection/). The library ships with a `profiles` directory that it uses to load every single language properties file into the runtime classpath. At runtime you need to call a `DetectFactory.loadProfile(String)` method to initialize the `profiles/` directory. So this directory needs to be on the classpath. I can get this working when I pass it an abs file path, but ultimately need to package this inside the same JAR.","body":"I&#39;m trying to simplify the problem for the sake of explaining it. There is a library called <code>langdetect</code> hosted on google <a href=\"http://code.google.com/p/language-detection/\" rel=\"nofollow noreferrer\">here</a>. The library ships with a <code>profiles</code> directory that it uses to load every single language properties file into the runtime classpath. At runtime you need to call a <code>DetectFactory.loadProfile(String)</code> method to initialize the <code>profiles&#47;</code> directory. So this directory needs to be on the classpath. I can get this working when I pass it an abs file path, but ultimately need to package this inside the same JAR."},{"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"score":0,"creation_date":1345211813,"post_id":12007012,"comment_id":16016604,"body_markdown":"So, ultimately, I just need to pass `DetectFactory.loadProfiles` a String that points it to the `profiles` directory inside the same JAR. So whereas my example shows `myconfig` directory, its really `profiles`. Where it shows `ConfigLoader`, its really `DetectFactory`.","body":"So, ultimately, I just need to pass <code>DetectFactory.loadProfiles</code> a String that points it to the <code>profiles</code> directory inside the same JAR. So whereas my example shows <code>myconfig</code> directory, its really <code>profiles</code>. Where it shows <code>ConfigLoader</code>, its really <code>DetectFactory</code>."}],"answers":[{"tags":[],"owner":{"account_id":1427644,"reputation":47321,"user_id":1350762,"display_name":"maba"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1345215387,"creation_date":1345212096,"answer_id":12007322,"question_id":12007012,"body_markdown":"You can use the `PathMatchingResourcePatternResolver` provided by Spring.\r\n\r\n    public class SpringResourceLoader {\r\n\r\n        public static void main(String[] args) throws IOException {\r\n            PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\r\n\r\n            // Ant-style path matching\r\n            Resource[] resources = resolver.getResources(&quot;/myconfig/**&quot;);\r\n\r\n            for (Resource resource : resources) {\r\n                InputStream is = resource.getInputStream();\r\n                ...\r\n            }\r\n        }\r\n    }\r\n\r\nI didn&#39;t do anything fancy with the returned `Resource` but you get the picture.\r\n\r\nAdd this to your maven dependency (if using maven):\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"How to read a directory from the runtime classpath?","body":"<p>You can use the <code>PathMatchingResourcePatternResolver</code> provided by Spring.</p>\n\n<pre><code>public class SpringResourceLoader {\n\n    public static void main(String[] args) throws IOException {\n        PathMatchingResourcePatternResolver resolver = new PathMatchingResourcePatternResolver();\n\n        // Ant-style path matching\n        Resource[] resources = resolver.getResources(\"/myconfig/**\");\n\n        for (Resource resource : resources) {\n            InputStream is = resource.getInputStream();\n            ...\n        }\n    }\n}\n</code></pre>\n\n<p>I didn't do anything fancy with the returned <code>Resource</code> but you get the picture.</p>\n\n<p>Add this to your maven dependency (if using maven):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1464741512,"post_id":12007477,"comment_id":62603919,"body_markdown":"The `getResource()` method does in fact return directories.","body":"The <code>getResource()</code> method does in fact return directories."}],"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1345212802,"creation_date":1345212802,"answer_id":12007477,"question_id":12007012,"body_markdown":"You could call `ClassLoader.getResource()` to find a particular file in the directory (or the directory itself, if `getResource()` will return directories). `getResource()` returns a URL pointing to the result. You could then convert this URL into whatever form the other library requires.","title":"How to read a directory from the runtime classpath?","body":"<p>You could call <code>ClassLoader.getResource()</code> to find a particular file in the directory (or the directory itself, if <code>getResource()</code> will return directories). <code>getResource()</code> returns a URL pointing to the result. You could then convert this URL into whatever form the other library requires.</p>\n"},{"tags":[],"owner":{"account_id":4984630,"reputation":111,"user_id":4008624,"display_name":"Thorsten"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559734850,"creation_date":1559734850,"answer_id":56459784,"question_id":12007012,"body_markdown":"The trick seems to be that the class loader can find directories in the classpath, while the class can not.\r\n\r\nSo this works\r\n\r\n    this.getClass().getClassLoader().getResource(&quot;com/example/foo/myconfig&quot;);\r\n\r\nwhile this does not\r\n\r\n    this.getClass().getResource(&quot;myconfig&quot;);\r\n","title":"How to read a directory from the runtime classpath?","body":"<p>The trick seems to be that the class loader can find directories in the classpath, while the class can not.</p>\n\n<p>So this works</p>\n\n<pre><code>this.getClass().getClassLoader().getResource(\"com/example/foo/myconfig\");\n</code></pre>\n\n<p>while this does not</p>\n\n<pre><code>this.getClass().getResource(\"myconfig\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4381587,"reputation":567,"user_id":3573092,"accept_rate":50,"display_name":"Huseyin"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1674548217,"creation_date":1674548104,"answer_id":75218897,"question_id":12007012,"body_markdown":"    String path = getClass().getClassLoader().getResource(&quot;myproperties.properties&quot;).getPath();","title":"How to read a directory from the runtime classpath?","body":"<pre><code>String path = getClass().getClassLoader().getResource(&quot;myproperties.properties&quot;).getPath();\n</code></pre>\n"}],"owner":{"account_id":490670,"reputation":55804,"user_id":892029,"accept_rate":84,"display_name":"IAmYourFaja"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13144,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":12007322,"answer_count":4,"score":12,"last_activity_date":1674548217,"creation_date":1345211054,"question_id":12007012,"body_markdown":"My Java application needs to be able to find a `myconfig/` directory which will be bundled inside the same JAR:\r\n\r\n    myjar.jar/\r\n        com/\r\n            me/\r\n                myproject/\r\n                    ConfigLoader.java --&gt; looks for myconfig/ directory and its contents\r\n        myconfig/\r\n            conf-1.xml\r\n            conf.properties\r\n            ... etc.\r\n\r\nHow do I actually go about reading this `myconfig/` directory off the runtime classpath? I&#39;ve done some research and it seems that the normal method of reading a **file** from the classpath doesn&#39;t work for **directories**:\r\n\r\n    InputStream stream = ConfigLoader.class.getResourceAsStream(&quot;myconfig&quot;);\r\n\r\nSo does anyone know how to read an entire directory from the runtime classpath (as opposed to a single file)? Thanks in advance!\r\n\r\nPlease note: It is not possible to load the files individually, `myconfig` is a directory with thousands of properties files inside it.","title":"How to read a directory from the runtime classpath?","body":"<p>My Java application needs to be able to find a <code>myconfig/</code> directory which will be bundled inside the same JAR:</p>\n\n<pre><code>myjar.jar/\n    com/\n        me/\n            myproject/\n                ConfigLoader.java --&gt; looks for myconfig/ directory and its contents\n    myconfig/\n        conf-1.xml\n        conf.properties\n        ... etc.\n</code></pre>\n\n<p>How do I actually go about reading this <code>myconfig/</code> directory off the runtime classpath? I've done some research and it seems that the normal method of reading a <strong>file</strong> from the classpath doesn't work for <strong>directories</strong>:</p>\n\n<pre><code>InputStream stream = ConfigLoader.class.getResourceAsStream(\"myconfig\");\n</code></pre>\n\n<p>So does anyone know how to read an entire directory from the runtime classpath (as opposed to a single file)? Thanks in advance!</p>\n\n<p>Please note: It is not possible to load the files individually, <code>myconfig</code> is a directory with thousands of properties files inside it.</p>\n"},{"tags":["java","unit-testing","groovy","jacoco"],"owner":{"account_id":132529,"reputation":3031,"user_id":333276,"accept_rate":75,"display_name":"David Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674548188,"creation_date":1674486203,"question_id":75211312,"body_markdown":"I&#39;m having some trouble understanding the behaviour of Jacoco coverage testing.  In particular this current case where the report not only shows 50% missing branches but also red colouration of the closing brace of an if else block.\r\n\r\nThe function we&#39;re testing returns the dates of the previous financial quarter and returns the following report:\r\n\r\n[![screenshot of test jacoco report][1]][1]\r\n\r\nOur test cases test for the dates of each quarter so we should be covering each eventuality.\r\n\r\nAny thoughts and insight would be appreciated.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7pHtw.png","title":"How to determine cause of missing test coverage branches in Jacoco unit test?","body":"<p>I'm having some trouble understanding the behaviour of Jacoco coverage testing.  In particular this current case where the report not only shows 50% missing branches but also red colouration of the closing brace of an if else block.</p>\n<p>The function we're testing returns the dates of the previous financial quarter and returns the following report:</p>\n<p><a href=\"https://i.stack.imgur.com/7pHtw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7pHtw.png\" alt=\"screenshot of test jacoco report\" /></a></p>\n<p>Our test cases test for the dates of each quarter so we should be covering each eventuality.</p>\n<p>Any thoughts and insight would be appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","spring","spring-boot","google-cloud-firestore","spring-cloud"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1674484573,"post_id":75210954,"comment_id":132717784,"body_markdown":"What are your dependencies, configuration? The `@Repository` on the interface doesn&#39;t do anything (only takes up space), the `@Autowired` on the `final` field in your controller also only takes up spaces as the dependency is injected through the constructor. Please find the full stacktrace and post that and not the analyzed failure message. The fact that it isn&#39;t there probably means you are missing a dependency and/or configuration.","body":"What are your dependencies, configuration? The <code>@Repository</code> on the interface doesn&#39;t do anything (only takes up space), the <code>@Autowired</code> on the <code>final</code> field in your controller also only takes up spaces as the dependency is injected through the constructor. Please find the full stacktrace and post that and not the analyzed failure message. The fact that it isn&#39;t there probably means you are missing a dependency and/or configuration."},{"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"score":0,"creation_date":1674484788,"post_id":75210954,"comment_id":132717870,"body_markdown":"I&#39;ve added the information required. Thanks for the answer","body":"I&#39;ve added the information required. Thanks for the answer"},{"owner":{"account_id":9983336,"reputation":4132,"user_id":7769052,"accept_rate":75,"display_name":"banan3&#39;14"},"score":1,"creation_date":1674485087,"post_id":75210954,"comment_id":132717998,"body_markdown":"have you tried putting `ItemRepository.java` to a new package inside your package, like `spring_backend/repository/ItemRepository.java`? I guess spring boot scans packages inside `spring_backend`, but there are none. I agree with @M.Deinum that Autowired only takes up space, but Repository should be enough to create a bean.","body":"have you tried putting <code>ItemRepository.java</code> to a new package inside your package, like <code>spring_backend&#47;repository&#47;ItemRepository.java</code>? I guess spring boot scans packages inside <code>spring_backend</code>, but there are none. I agree with @M.Deinum that Autowired only takes up space, but Repository should be enough to create a bean."},{"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"score":0,"creation_date":1674485199,"post_id":75210954,"comment_id":132718038,"body_markdown":"Tried now but nothing, same error","body":"Tried now but nothing, same error"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1674485405,"post_id":75210954,"comment_id":132718114,"body_markdown":"No `@Repository` doesn&#39;t create a bean because it is an interface, Spring Data detects repositories in a different way. It will scan the current and all child packages, moving it to a sub-package won&#39;t solve a thing. If that was the case it wouldn&#39;t detect the controller as well (which it does).","body":"No <code>@Repository</code> doesn&#39;t create a bean because it is an interface, Spring Data detects repositories in a different way. It will scan the current and all child packages, moving it to a sub-package won&#39;t solve a thing. If that was the case it wouldn&#39;t detect the controller as well (which it does)."},{"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"score":0,"creation_date":1674485573,"post_id":75210954,"comment_id":132718186,"body_markdown":"@M.Deinum I&#39;ve update the code and the post, according yuor first comment but the problem is the same.","body":"@M.Deinum I&#39;ve update the code and the post, according yuor first comment but the problem is the same."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1674485654,"post_id":75210954,"comment_id":132718209,"body_markdown":"I nowhere stated that that would solve your problem, but those are things to improve your code as they don&#39;t add anything but clutter. I wanted your configuration/dependencies (and the latter are your problem as you can see in my answer).","body":"I nowhere stated that that would solve your problem, but those are things to improve your code as they don&#39;t add anything but clutter. I wanted your configuration/dependencies (and the latter are your problem as you can see in my answer)."}],"answers":[{"comments":[{"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"score":0,"creation_date":1674485952,"post_id":75211177,"comment_id":132718326,"body_markdown":"I get this error on the **dependecyManager** block in **pom.xml**: `Project build error: Non-resolvable import POM: Could not find artifact com.google.cloud:spring-cloud-gcp-dependencies:pom:4.0.0-SNAPSHOTJava(0)`","body":"I get this error on the <b>dependecyManager</b> block in <b>pom.xml</b>: <code>Project build error: Non-resolvable import POM: Could not find artifact com.google.cloud:spring-cloud-gcp-dependencies:pom:4.0.0-SNA&zwnj;&#8203;PSHOTJava(0)</code>"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674486651,"post_id":75211177,"comment_id":132718555,"body_markdown":"It is a SNAPSHOT and that probably isn&#39;t available from Maven central, you need to figure out which repository holds it and add it to your pom. See https://github.com/GoogleCloudPlatform/spring-cloud-gcp#snapshots-repository","body":"It is a SNAPSHOT and that probably isn&#39;t available from Maven central, you need to figure out which repository holds it and add it to your pom. See <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp#snapshots-repository\" rel=\"nofollow noreferrer\">github.com/GoogleCloudPlatform/&hellip;</a>"},{"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"score":0,"creation_date":1674486792,"post_id":75211177,"comment_id":132718619,"body_markdown":"ah ok, I&#39;ll try to find how to do it then, because I&#39;m not very familiar with Maven.","body":"ah ok, I&#39;ll try to find how to do it then, because I&#39;m not very familiar with Maven."},{"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"score":0,"creation_date":1674487919,"post_id":75211177,"comment_id":132719030,"body_markdown":"Nothing to do: `Project build error: Non-resolvable import POM: com.google.cloud:spring-cloud-gcp-dependencies:pom:4.0.0-SNAPSHOT was not found in https://google.oss.sonatype.org/content/repositories/snapshots during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of snapshots-repo has elapsed or updates are forcedJava(0)`","body":"Nothing to do: <code>Project build error: Non-resolvable import POM: com.google.cloud:spring-cloud-gcp-dependencies:pom:4.0.0-SNA&zwnj;&#8203;PSHOT was not found in https:&#47;&#47;google.oss.sonatype.org&#47;content&#47;repositories&#47;snapsho&zwnj;&#8203;ts during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of snapshots-repo has elapsed or updates are forcedJava(0)</code>"},{"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"score":0,"creation_date":1674488042,"post_id":75211177,"comment_id":132719083,"body_markdown":"I&#39;ve upload the update pom.xml","body":"I&#39;ve upload the update pom.xml"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1674488189,"post_id":75211177,"comment_id":132719141,"body_markdown":"Well the error tells you that they haven&#39;t uploaded a version 4.0.0 snapshot. If you browse the URL you will also see it isn&#39;t available. Regardless one of the options in the answer is your solution but as there is no snapshot released yet your only option (for now) is to downgrade Spring Boot.","body":"Well the error tells you that they haven&#39;t uploaded a version 4.0.0 snapshot. If you browse the URL you will also see it isn&#39;t available. Regardless one of the options in the answer is your solution but as there is no snapshot released yet your only option (for now) is to downgrade Spring Boot."},{"owner":{"account_id":1566901,"reputation":696,"user_id":1455477,"accept_rate":73,"display_name":"Mohammed Ali"},"score":0,"creation_date":1692464707,"post_id":75211177,"comment_id":135628201,"body_markdown":"that solve the problem, adding latest version of spring-cloud-gcp .","body":"that solve the problem, adding latest version of spring-cloud-gcp ."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674486775,"creation_date":1674485499,"answer_id":75211177,"question_id":75210954,"body_markdown":"You are using Spring Boot but your `spring-cloud-gcp-dependencies` is compatible with Spring Boot 2.6/2.7 and not Spring Boot 3. Hence it doesn&#39;t work. \r\n\r\nYou need to either:\r\n\r\n1. Downgrade to Spring Boot 2.7.x\r\n2. Use the `4.0.0-SNAPSHOT` versions of the `spring-cloud-gcp-dependencies` dependencies which are compatible with Spring Boot 3.x. \r\n\r\nSee also [the version compatibility matrix][1]. \r\n\r\nFor option 2 you will need to add the repository, as mentioned [here][2] to your Maven file. \r\n\r\n[1]: https://github.com/GoogleCloudPlatform/spring-cloud-gcp#compatibility-with-spring-project-versions\r\n[2]: https://github.com/GoogleCloudPlatform/spring-cloud-gcp#snapshots-repository","title":"Parameter 0 of constructor in &#39;ItemController&#39; required a bean of type &#39;.ItemRepository&#39; that could not be found. (Spring Data Cloud Firestore)","body":"<p>You are using Spring Boot but your <code>spring-cloud-gcp-dependencies</code> is compatible with Spring Boot 2.6/2.7 and not Spring Boot 3. Hence it doesn't work.</p>\n<p>You need to either:</p>\n<ol>\n<li>Downgrade to Spring Boot 2.7.x</li>\n<li>Use the <code>4.0.0-SNAPSHOT</code> versions of the <code>spring-cloud-gcp-dependencies</code> dependencies which are compatible with Spring Boot 3.x.</li>\n</ol>\n<p>See also <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp#compatibility-with-spring-project-versions\" rel=\"nofollow noreferrer\">the version compatibility matrix</a>.</p>\n<p>For option 2 you will need to add the repository, as mentioned <a href=\"https://github.com/GoogleCloudPlatform/spring-cloud-gcp#snapshots-repository\" rel=\"nofollow noreferrer\">here</a> to your Maven file.</p>\n"},{"tags":[],"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674490806,"creation_date":1674490806,"answer_id":75212256,"question_id":75210954,"body_markdown":"Thanks to **M. Deinum&#39;s** answer I understood that it was a dependency problem, so I created a new project with [Spring Initializer][1] adding in **Spring GCP** dependencies.\r\n\r\nThe resulting pom.xml is:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt;\r\n\t\t&lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;name&gt;spring_backend&lt;/name&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring_backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;spring-cloud-gcp.version&gt;3.4.2&lt;/spring-cloud-gcp.version&gt;\r\n\t\t&lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-gcp-data-firestore&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n  [1]: https://start.spring.io/","title":"Parameter 0 of constructor in &#39;ItemController&#39; required a bean of type &#39;.ItemRepository&#39; that could not be found. (Spring Data Cloud Firestore)","body":"<p>Thanks to <strong>M. Deinum's</strong> answer I understood that it was a dependency problem, so I created a new project with <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">Spring Initializer</a> adding in <strong>Spring GCP</strong> dependencies.</p>\n<p>The resulting pom.xml is:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath/&gt;\n        &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;spring_backend&lt;/name&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring_backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;spring-cloud-gcp.version&gt;3.4.2&lt;/spring-cloud-gcp.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.5&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud-gcp.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-data-firestore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":17600075,"reputation":118,"user_id":12770240,"display_name":"BeppeTemp"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75211177,"answer_count":2,"score":1,"last_activity_date":1674547860,"creation_date":1674484357,"question_id":75210954,"body_markdown":"I&#39;m new to Spring and after creating a first simple project using the &quot;standard&quot; APIs, I&#39;m trying to integrate everything with Google Firestore using the Spring Cloud GCPs, in particular those related to Firestore (Spring Data Cloud Firestore). But I keep running into this error and I can&#39;t figure it out:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in &#39;com.example.spring_backend.ItemController&#39; required a bean of type &#39;com.example.spring_backend.ItemRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.spring_backend.ItemRepository&#39; in your configuration.\r\n```\r\n\r\nMy project structure is this:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s5ATa.png\r\n\r\nI&#39;ve put in **application.properties** the **project name** and the path to the **key** of my GC service.\r\n\r\nHere is the code of various files:\r\n\r\n**Item.Java:**\r\n```java\r\n@Document(collectionName = &quot;items&quot;)\r\npublic class Item {\r\n\r\n\t@DocumentId\r\n\tprivate String name;\r\n\t\r\n\tprivate ArrayList&lt;String&gt; labels;\r\n\tprivate Boolean classified;\r\n\tprivate String base64;\r\n\r\n\t// Constructors\r\n\tpublic Item() {\r\n\t}\r\n\r\n\tpublic Item(String name, String base64) {\r\n\t\tthis.name = name;\r\n\t\tthis.labels = null;\r\n\t\tthis.classified = false;\r\n\t\tthis.base64 = base64;\r\n\t}\r\n\r\n\tpublic Item(String name, ArrayList&lt;String&gt; labels, String base64) {\r\n\t\tthis.name = name;\r\n\t\tthis.labels = labels;\r\n\t\tthis.classified = false;\r\n\t\tthis.base64 = base64;\r\n\t}\r\n\r\n\tpublic Item(String name, Boolean classified, ArrayList&lt;String&gt; labels, String base64) {\r\n\t\tthis.name = name;\r\n\t\tthis.labels = labels;\r\n\t\tthis.classified = classified;\r\n\t\tthis.base64 = base64;\r\n\t}\r\n\r\n\tpublic Item(String name, boolean classified, ArrayList&lt;String&gt; labels) {\r\n\t\tthis.name = name;\r\n\t\tthis.labels = labels;\r\n\t\tthis.classified = classified;\r\n\t\tthis.base64 = null;\r\n\t}\r\n\r\n\t// Getters and Setters\r\n}\r\n```\r\n\r\n**ItemController.java:**\r\n```java\r\n@CrossOrigin\r\n@RestController\r\npublic class ItemController {\r\n\r\n\tprivate final ItemRepository itemRepository;\r\n\r\n\tItemController(ItemRepository repository) {\r\n\t\tthis.itemRepository = repository;\r\n\t}\r\n\r\n\t@GetMapping(&quot;/items&quot;)\r\n\tpublic Flux&lt;Item&gt; all() {\r\n\t\tSystem.out.print(&quot;ciao&quot;);\r\n\r\n\t\treturn itemRepository.findAll();\r\n\t}\r\n\r\n\t@PostMapping(&quot;/save&quot;)\r\n\tpublic Mono&lt;Item&gt; newEmployee(@RequestBody Item item) {\r\n\r\n\t\tSystem.out.print(&quot;ciao&quot;);\r\n\r\n\t\titem.setClassified(false);\r\n\t\titem.setLabels(new ArrayList&lt;String&gt;());\r\n\r\n\t\t// ! Da togliere\r\n\t\titem.setBase64(null);\r\n\r\n\t\treturn itemRepository.save(item);\r\n\t}\r\n}\r\n```\r\n\r\n**ItemRepository.java:**\r\n```java\r\npublic interface ItemRepository extends FirestoreReactiveRepository&lt;Item&gt;{\r\n}\r\n```\r\n\r\n**SpringBackendApplication.java:**\r\n```java\r\n@SpringBootApplication\r\npublic class SpringBackendApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringBackendApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n**pom.xml**:\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;name&gt;spring_backend&lt;/name&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring_backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencyManagement&gt;\r\n\t\t&lt;dependencies&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.4.0&lt;/version&gt;\r\n\t\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\t\t&lt;/dependencies&gt;\r\n\t&lt;/dependencyManagement&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-gcp-data-firestore&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n**Full stack trace**:\r\n```bash\r\n2023-01-23T15:20:20.257+01:00  INFO 10996 --- [           main] c.e.s.SpringBackendApplication           : Starting SpringBackendApplication using Java 17.0.5 with PID 10996 (/home/beppetemp/Tirocinio_NTTData/components/backend/target/classes started by beppetemp in /home/beppetemp/Tirocinio_NTTData)\r\n2023-01-23T15:20:20.263+01:00  INFO 10996 --- [           main] c.e.s.SpringBackendApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n2023-01-23T15:20:21.510+01:00  INFO 10996 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n2023-01-23T15:20:21.522+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2023-01-23T15:20:21.522+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n2023-01-23T15:20:21.699+01:00  INFO 10996 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2023-01-23T15:20:21.703+01:00  INFO 10996 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1322 ms\r\n2023-01-23T15:20:21.842+01:00  WARN 10996 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;itemController&#39; defined in file [/home/beppetemp/Tirocinio_NTTData/components/backend/target/classes/com/example/spring_backend/ItemController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type &#39;com.example.spring_backend.ItemRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\r\n2023-01-23T15:20:21.848+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-01-23T15:20:21.884+01:00  INFO 10996 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-01-23T15:20:21.969+01:00 ERROR 10996 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 0 of constructor in com.example.spring_backend.ItemController required a bean of type &#39;com.example.spring_backend.ItemRepository&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.spring_backend.ItemRepository&#39; in your configuration.\r\n```\r\n\r\nSomeone can help me ?","title":"Parameter 0 of constructor in &#39;ItemController&#39; required a bean of type &#39;.ItemRepository&#39; that could not be found. (Spring Data Cloud Firestore)","body":"<p>I'm new to Spring and after creating a first simple project using the &quot;standard&quot; APIs, I'm trying to integrate everything with Google Firestore using the Spring Cloud GCPs, in particular those related to Firestore (Spring Data Cloud Firestore). But I keep running into this error and I can't figure it out:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in 'com.example.spring_backend.ItemController' required a bean of type 'com.example.spring_backend.ItemRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.spring_backend.ItemRepository' in your configuration.\n</code></pre>\n<p>My project structure is this:</p>\n<p><a href=\"https://i.stack.imgur.com/s5ATa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s5ATa.png\" alt=\"enter image description here\" /></a></p>\n<p>I've put in <strong>application.properties</strong> the <strong>project name</strong> and the path to the <strong>key</strong> of my GC service.</p>\n<p>Here is the code of various files:</p>\n<p><strong>Item.Java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Document(collectionName = &quot;items&quot;)\npublic class Item {\n\n    @DocumentId\n    private String name;\n    \n    private ArrayList&lt;String&gt; labels;\n    private Boolean classified;\n    private String base64;\n\n    // Constructors\n    public Item() {\n    }\n\n    public Item(String name, String base64) {\n        this.name = name;\n        this.labels = null;\n        this.classified = false;\n        this.base64 = base64;\n    }\n\n    public Item(String name, ArrayList&lt;String&gt; labels, String base64) {\n        this.name = name;\n        this.labels = labels;\n        this.classified = false;\n        this.base64 = base64;\n    }\n\n    public Item(String name, Boolean classified, ArrayList&lt;String&gt; labels, String base64) {\n        this.name = name;\n        this.labels = labels;\n        this.classified = classified;\n        this.base64 = base64;\n    }\n\n    public Item(String name, boolean classified, ArrayList&lt;String&gt; labels) {\n        this.name = name;\n        this.labels = labels;\n        this.classified = classified;\n        this.base64 = null;\n    }\n\n    // Getters and Setters\n}\n</code></pre>\n<p><strong>ItemController.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@CrossOrigin\n@RestController\npublic class ItemController {\n\n    private final ItemRepository itemRepository;\n\n    ItemController(ItemRepository repository) {\n        this.itemRepository = repository;\n    }\n\n    @GetMapping(&quot;/items&quot;)\n    public Flux&lt;Item&gt; all() {\n        System.out.print(&quot;ciao&quot;);\n\n        return itemRepository.findAll();\n    }\n\n    @PostMapping(&quot;/save&quot;)\n    public Mono&lt;Item&gt; newEmployee(@RequestBody Item item) {\n\n        System.out.print(&quot;ciao&quot;);\n\n        item.setClassified(false);\n        item.setLabels(new ArrayList&lt;String&gt;());\n\n        // ! Da togliere\n        item.setBase64(null);\n\n        return itemRepository.save(item);\n    }\n}\n</code></pre>\n<p><strong>ItemRepository.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ItemRepository extends FirestoreReactiveRepository&lt;Item&gt;{\n}\n</code></pre>\n<p><strong>SpringBackendApplication.java:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\npublic class SpringBackendApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBackendApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p><strong>pom.xml</strong>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;name&gt;spring_backend&lt;/name&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;spring_backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-gcp-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;3.4.0&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-gcp-data-firestore&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Full stack trace</strong>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2023-01-23T15:20:20.257+01:00  INFO 10996 --- [           main] c.e.s.SpringBackendApplication           : Starting SpringBackendApplication using Java 17.0.5 with PID 10996 (/home/beppetemp/Tirocinio_NTTData/components/backend/target/classes started by beppetemp in /home/beppetemp/Tirocinio_NTTData)\n2023-01-23T15:20:20.263+01:00  INFO 10996 --- [           main] c.e.s.SpringBackendApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2023-01-23T15:20:21.510+01:00  INFO 10996 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2023-01-23T15:20:21.522+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2023-01-23T15:20:21.522+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.5]\n2023-01-23T15:20:21.699+01:00  INFO 10996 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2023-01-23T15:20:21.703+01:00  INFO 10996 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1322 ms\n2023-01-23T15:20:21.842+01:00  WARN 10996 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'itemController' defined in file [/home/beppetemp/Tirocinio_NTTData/components/backend/target/classes/com/example/spring_backend/ItemController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.example.spring_backend.ItemRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}\n2023-01-23T15:20:21.848+01:00  INFO 10996 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-01-23T15:20:21.884+01:00  INFO 10996 --- [           main] .s.b.a.l.ConditionEvaluationReportLogger : \n\nError starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-01-23T15:20:21.969+01:00 ERROR 10996 --- [           main] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 0 of constructor in com.example.spring_backend.ItemController required a bean of type 'com.example.spring_backend.ItemRepository' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'com.example.spring_backend.ItemRepository' in your configuration.\n</code></pre>\n<p>Someone can help me ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1673594021,"post_id":75105883,"comment_id":132538355,"body_markdown":"You create the Service with `new` keyword. That&#39;s why autowiering is not working: `MBAApplicationService mbaApplicationService = new MBAApplicationService(mbaRepository);`. Autowire the Service in the controller and it should work","body":"You create the Service with <code>new</code> keyword. That&#39;s why autowiering is not working: <code>MBAApplicationService mbaApplicationService = new MBAApplicationService(mbaRepository);</code>. Autowire the Service in the controller and it should work"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1673594465,"post_id":75105883,"comment_id":132538462,"body_markdown":"Where/how do you create the `Controller` instance?","body":"Where/how do you create the <code>Controller</code> instance?"},{"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"score":0,"creation_date":1674032779,"post_id":75105883,"comment_id":132626088,"body_markdown":"@Jens I did autowire the Service in the Controller. Now there is a service, which has a mbaRepository as Null Object :(","body":"@Jens I did autowire the Service in the Controller. Now there is a service, which has a mbaRepository as Null Object :("},{"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"score":0,"creation_date":1674033824,"post_id":75105883,"comment_id":132626398,"body_markdown":"Shouldl I put @Controller above Controller Class?","body":"Shouldl I put @Controller above Controller Class?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674034889,"post_id":75105883,"comment_id":132626748,"body_markdown":"Yes of course. But it is more or less the same as `@Service`. But if the autowiering is not working, it looks like you have a problem in your configuration. Can you share the configuration?","body":"Yes of course. But it is more or less the same as <code>@Service</code>. But if the autowiering is not working, it looks like you have a problem in your configuration. Can you share the configuration?"},{"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"score":0,"creation_date":1674547652,"post_id":75105883,"comment_id":132731487,"body_markdown":"@Jens Posted it after the question","body":"@Jens Posted it after the question"}],"owner":{"account_id":12096783,"reputation":11,"user_id":8839954,"display_name":"Maik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674547614,"creation_date":1673593763,"question_id":75105883,"body_markdown":"I&#39;m trying to develop an application in java where you can log in your credentials in frontend with JavaFX and it will log you in automatically with chrome web driver. For storage of password and email I use H2-Database with Spring Framework. \r\n\r\nUnfortunately if I start the application the repository is always null. The Nullpointer Exception comes, when I try to access the repository. In other questions the reason has always been the dependeny injection. I tried all three Dependeny Injections (constructor level, setter level, field level). Here is my code:\r\n\r\n\r\nMBA (website, where I want to login):\r\n\r\n```\r\n@Entity\r\n@Getter\r\npublic class MBA {\r\n\r\n    @Id\r\n    private UUID id;\r\n    private String email;\r\n    private String password;\r\n    \r\n    public static WebDriver driver;\r\n    private static int amountOfSales;\r\n    \r\n    public MBA() {\r\n        this.id = UUID.randomUUID();\r\n        this.email = null;\r\n        this.password = null;\r\n    }\r\n    \r\n    public MBA(String email, String password) {\r\n        this.id = UUID.randomUUID();\r\n        this.email = email;\r\n        this.password = password;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**MBAApplicationService:**\r\n\r\n```\r\n@Service\r\npublic class MBAApplicationService {\r\n\r\n    public static WebDriver driver;\r\n    private static int amountOfSales;\r\n    \r\n    private MBARepository mbaRepository;\r\n    \r\n    @Autowired\r\n    public MBAApplicationService(MBARepository mbaRepository) {\r\n        this.mbaRepository = mbaRepository;\r\n    }\r\n    \r\n    public void saveLogin(String email, String password) {\r\n        MBA mba = new MBA(email, password);\r\n        mbaRepository.save(mba);\r\n    }\r\n    \r\n    public void chromeDriverSetUp() {\r\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\chromedriver.exe&quot;);\r\n        driver = new ChromeDriver();\r\n        driver.manage().window().maximize();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**MBARepository:**\r\n\r\n```\r\n@Repository\r\npublic interface MBARepository extends CrudRepository\\&lt;MBA, UUID\\&gt; {\r\n\r\n}\r\n```\r\n\r\n**Controller (Controller of JavaFXApplication):**\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Service\r\npublic class Controller {\r\n\r\n    //Integrationtest\r\n    \r\n    @FXML private Label mainSceneLabel;\r\n    @FXML private Label loginsSceneLabel;\r\n    @FXML private Label sellerSceneLabel;\r\n    @FXML private TextField emailMBA;\r\n    @FXML private PasswordField passwordMBA;\r\n    @FXML private Label mbaAmountOfSales;\r\n    private Stage stage;\r\n    private Scene scene;\r\n    private Parent root;\r\n    \r\n    @Autowired\r\n    private MBARepository mbaRepository;\r\n    \r\n    @FXML\r\n    public void openLoginScene() throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;LoginsScene.fxml&quot;));\r\n        stage = (Stage)(mainSceneLabel.getScene().getWindow());\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    \r\n    @FXML\r\n    public void openMainScene() throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;1_MainScene.fxml&quot;));\r\n        stage = (Stage)(loginsSceneLabel.getScene().getWindow());\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    \r\n    @FXML\r\n    public void switchToSellerViewScene() throws IOException {\r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;SellerViewScene.fxml&quot;));\r\n        stage = (Stage)(mainSceneLabel.getScene().getWindow());\r\n        scene = new Scene(root);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n    \r\n    public void saveLogins() {\r\n        //Amazon\r\n        String emailAmazon = emailMBA.getText();\r\n        String passwordAmazon = passwordMBA.getText();\r\n        MBAApplicationService mbaApplicationService = new MBAApplicationService(mbaRepository);\r\n        mbaApplicationService.saveLogin(emailAmazon, passwordAmazon);\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Here is the error notification I get, when I want to save something in the repository:**\r\n\r\n```\r\nCaused by: java.lang.NullPointerException: Cannot invoke &quot;mba.MBARepository.save(Object)&quot; because &quot;this.mbaRepository&quot; is null at com.example.moduleinfo/mba.MBAApplicationService.saveLogin(MBAA&gt;pplicationService.java:58)\r\n\tat com.example.moduleinfo/com.example.moduleinfo.Controller.saveLogins(Controller.java:85)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\t... 53 more\r\n\r\n```\r\n\r\n\r\nHere are my configurations:\r\n[Configurations][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bemvN.png","title":"Repository always null after starting the application","body":"<p>I'm trying to develop an application in java where you can log in your credentials in frontend with JavaFX and it will log you in automatically with chrome web driver. For storage of password and email I use H2-Database with Spring Framework.</p>\n<p>Unfortunately if I start the application the repository is always null. The Nullpointer Exception comes, when I try to access the repository. In other questions the reason has always been the dependeny injection. I tried all three Dependeny Injections (constructor level, setter level, field level). Here is my code:</p>\n<p>MBA (website, where I want to login):</p>\n<pre><code>@Entity\n@Getter\npublic class MBA {\n\n    @Id\n    private UUID id;\n    private String email;\n    private String password;\n    \n    public static WebDriver driver;\n    private static int amountOfSales;\n    \n    public MBA() {\n        this.id = UUID.randomUUID();\n        this.email = null;\n        this.password = null;\n    }\n    \n    public MBA(String email, String password) {\n        this.id = UUID.randomUUID();\n        this.email = email;\n        this.password = password;\n    }\n\n}\n</code></pre>\n<p><strong>MBAApplicationService:</strong></p>\n<pre><code>@Service\npublic class MBAApplicationService {\n\n    public static WebDriver driver;\n    private static int amountOfSales;\n    \n    private MBARepository mbaRepository;\n    \n    @Autowired\n    public MBAApplicationService(MBARepository mbaRepository) {\n        this.mbaRepository = mbaRepository;\n    }\n    \n    public void saveLogin(String email, String password) {\n        MBA mba = new MBA(email, password);\n        mbaRepository.save(mba);\n    }\n    \n    public void chromeDriverSetUp() {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Program Files (x86)\\\\chromedriver.exe&quot;);\n        driver = new ChromeDriver();\n        driver.manage().window().maximize();\n    }\n\n}\n</code></pre>\n<p><strong>MBARepository:</strong></p>\n<pre><code>@Repository\npublic interface MBARepository extends CrudRepository\\&lt;MBA, UUID\\&gt; {\n\n}\n</code></pre>\n<p><strong>Controller (Controller of JavaFXApplication):</strong></p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Service\npublic class Controller {\n\n    //Integrationtest\n    \n    @FXML private Label mainSceneLabel;\n    @FXML private Label loginsSceneLabel;\n    @FXML private Label sellerSceneLabel;\n    @FXML private TextField emailMBA;\n    @FXML private PasswordField passwordMBA;\n    @FXML private Label mbaAmountOfSales;\n    private Stage stage;\n    private Scene scene;\n    private Parent root;\n    \n    @Autowired\n    private MBARepository mbaRepository;\n    \n    @FXML\n    public void openLoginScene() throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;LoginsScene.fxml&quot;));\n        stage = (Stage)(mainSceneLabel.getScene().getWindow());\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    @FXML\n    public void openMainScene() throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;1_MainScene.fxml&quot;));\n        stage = (Stage)(loginsSceneLabel.getScene().getWindow());\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    @FXML\n    public void switchToSellerViewScene() throws IOException {\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;SellerViewScene.fxml&quot;));\n        stage = (Stage)(mainSceneLabel.getScene().getWindow());\n        scene = new Scene(root);\n        stage.setScene(scene);\n        stage.show();\n    }\n    \n    public void saveLogins() {\n        //Amazon\n        String emailAmazon = emailMBA.getText();\n        String passwordAmazon = passwordMBA.getText();\n        MBAApplicationService mbaApplicationService = new MBAApplicationService(mbaRepository);\n        mbaApplicationService.saveLogin(emailAmazon, passwordAmazon);\n    }\n\n}\n</code></pre>\n<p><strong>Here is the error notification I get, when I want to save something in the repository:</strong></p>\n<pre><code>Caused by: java.lang.NullPointerException: Cannot invoke &quot;mba.MBARepository.save(Object)&quot; because &quot;this.mbaRepository&quot; is null at com.example.moduleinfo/mba.MBAApplicationService.saveLogin(MBAA&gt;pplicationService.java:58)\n    at com.example.moduleinfo/com.example.moduleinfo.Controller.saveLogins(Controller.java:85)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    ... 53 more\n\n</code></pre>\n<p>Here are my configurations:\n<a href=\"https://i.stack.imgur.com/bemvN.png\" rel=\"nofollow noreferrer\">Configurations</a></p>\n"},{"tags":["java","excel","spring","csv","pdf"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674544471,"post_id":75218404,"comment_id":132730759,"body_markdown":"if you know up front you&#39;ll need an additonal column there, hardcode it","body":"if you know up front you&#39;ll need an additonal column there, hardcode it"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1674544737,"post_id":75218404,"comment_id":132730804,"body_markdown":"@Stultuske can you tell me how to do it. code if possible)","body":"@Stultuske can you tell me how to do it. code if possible)"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1674544835,"post_id":75218404,"comment_id":132730825,"body_markdown":"Another problem is that the number of columns is dynamic. That is, their number may vary","body":"Another problem is that the number of columns is dynamic. That is, their number may vary"},{"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"score":0,"creation_date":1674544857,"post_id":75218404,"comment_id":132730829,"body_markdown":"Could you share the libraries you&#39;re using?","body":"Could you share the libraries you&#39;re using?"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1674544990,"post_id":75218404,"comment_id":132730858,"body_markdown":"import com.itextpdf.kernel.pdf.PdfDocument;","body":"import com.itextpdf.kernel.pdf.PdfDocument;"},{"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"score":0,"creation_date":1674545043,"post_id":75218404,"comment_id":132730872,"body_markdown":"@Mio  iText library","body":"@Mio  iText library"}],"answers":[{"tags":[],"owner":{"account_id":10428850,"reputation":175,"user_id":7689280,"display_name":"Mio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674547575,"creation_date":1674547575,"answer_id":75218832,"question_id":75218404,"body_markdown":"I&#39;d suggest to use PDFBox, like here: https://stackoverflow.com/questions/3203790/parsing-pdf-files-especially-with-tables-with-pdfbox\r\nor another library that will allow you to check the data in the Table point by point, and will allow you to create a table by column width (something like `Table table = page.getTable(dividers));` ).\r\n\r\nIf the width of the columns changes, you&#39;ll have to implement it based on the headers/first data column ([e.g. position.x of the last character of the first word] minus [position.x of the first character of the new word] - you&#39;ll have to figure it out yourself), it&#39;s hard so you could make it hardcoded in the beginning. Using Foxit Reader PDF App you can easily measure column width. Then, if you don&#39;t find any data in a particular column, you will be able to add an empty column in the CSV file. I know from my own experience that it is not easy, so I wish you good luck.","title":"Convert PDF to CSV or EXCEL","body":"<p>I'd suggest to use PDFBox, like here: <a href=\"https://stackoverflow.com/questions/3203790/parsing-pdf-files-especially-with-tables-with-pdfbox\">Parsing PDF files (especially with tables) with PDFBox</a>\nor another library that will allow you to check the data in the Table point by point, and will allow you to create a table by column width (something like <code>Table table = page.getTable(dividers));</code> ).</p>\n<p>If the width of the columns changes, you'll have to implement it based on the headers/first data column ([e.g. position.x of the last character of the first word] minus [position.x of the first character of the new word] - you'll have to figure it out yourself), it's hard so you could make it hardcoded in the beginning. Using Foxit Reader PDF App you can easily measure column width. Then, if you don't find any data in a particular column, you will be able to add an empty column in the CSV file. I know from my own experience that it is not easy, so I wish you good luck.</p>\n"}],"owner":{"account_id":20661616,"reputation":147,"user_id":15169462,"display_name":"Alexander"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75218832,"answer_count":1,"score":1,"last_activity_date":1674547575,"creation_date":1674544350,"question_id":75218404,"body_markdown":"I am trying to convert PDF file to CSV or EXCEL format.\r\n\r\nHere is the code I use to convert to CSV format:\r\n\r\n    public void convert() throws Exception {\r\n                PdfReader pdfReader = new PdfReader(&quot;example.pdf&quot;);\r\n                PdfDocument pdf = new PdfDocument(pdfReader);;\r\n    \r\n                int pages = pdf.getNumberOfPages();\r\n    \r\n                FileWriter csvWriter = new FileWriter(&quot;student.csv&quot;);\r\n    \r\n                for (int i = 1; i &lt;= pages; i++) {\r\n                    PdfPage page = pdf.getPage(i);\r\n                    String content = PdfTextExtractor.getTextFromPage(page);\r\n    \r\n                    String[] splitContents = content.split(&quot;\\n&quot;);\r\n    \r\n                    boolean isTitle = true;\r\n    \r\n                    for (int j = 0; j &lt; splitContents.length; j++) {\r\n                        if (isTitle) {\r\n                            isTitle = false;\r\n                            continue;\r\n                        }\r\n    \r\n                        csvWriter.append(splitContents[j].replaceAll(&quot; &quot;, &quot; &quot;));\r\n                        csvWriter.append(&quot;\\n&quot;);\r\n                    }\r\n                }\r\n    \r\n                csvWriter.flush();\r\n                csvWriter.close();\r\n            }\r\n\r\nThis code works correctly, but the fact is that the CSV format groups rows without taking into account existing columns (some of them are empty), so I would like to convert this file (PDF) to EXCEL format.\r\nThe PDF file itself is formed as a table.\r\nWhat do I mean about spaces. For example, in a PDF file, in a table\r\n\r\n    |   name   |    some data   |            |             |    some data 1    |              |\r\n    +----------+----------------+------------+-------------+-------------------+--------------+\r\n\r\nAfter converting to a CSV file, the line looks like this:\r\n\r\n    name some data some data 1\r\n\r\nHow can I get the same result as a PDF table?\r\n\r\n\r\n","title":"Convert PDF to CSV or EXCEL","body":"<p>I am trying to convert PDF file to CSV or EXCEL format.</p>\n<p>Here is the code I use to convert to CSV format:</p>\n<pre><code>public void convert() throws Exception {\n            PdfReader pdfReader = new PdfReader(&quot;example.pdf&quot;);\n            PdfDocument pdf = new PdfDocument(pdfReader);;\n\n            int pages = pdf.getNumberOfPages();\n\n            FileWriter csvWriter = new FileWriter(&quot;student.csv&quot;);\n\n            for (int i = 1; i &lt;= pages; i++) {\n                PdfPage page = pdf.getPage(i);\n                String content = PdfTextExtractor.getTextFromPage(page);\n\n                String[] splitContents = content.split(&quot;\\n&quot;);\n\n                boolean isTitle = true;\n\n                for (int j = 0; j &lt; splitContents.length; j++) {\n                    if (isTitle) {\n                        isTitle = false;\n                        continue;\n                    }\n\n                    csvWriter.append(splitContents[j].replaceAll(&quot; &quot;, &quot; &quot;));\n                    csvWriter.append(&quot;\\n&quot;);\n                }\n            }\n\n            csvWriter.flush();\n            csvWriter.close();\n        }\n</code></pre>\n<p>This code works correctly, but the fact is that the CSV format groups rows without taking into account existing columns (some of them are empty), so I would like to convert this file (PDF) to EXCEL format.\nThe PDF file itself is formed as a table.\nWhat do I mean about spaces. For example, in a PDF file, in a table</p>\n<pre><code>|   name   |    some data   |            |             |    some data 1    |              |\n+----------+----------------+------------+-------------+-------------------+--------------+\n</code></pre>\n<p>After converting to a CSV file, the line looks like this:</p>\n<pre><code>name some data some data 1\n</code></pre>\n<p>How can I get the same result as a PDF table?</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":5319838,"reputation":311,"user_id":4243605,"display_name":"Chandan Hegde"},"score":0,"creation_date":1675082291,"post_id":74954955,"comment_id":132845116,"body_markdown":"I too have a similar problem. Side question: What is the strategy that you&#39;ve used to switch read-only query executions to the replica databases? Are you using explicit @TransactionManager annotation on the read-only service methods?","body":"I too have a similar problem. Side question: What is the strategy that you&#39;ve used to switch read-only query executions to the replica databases? Are you using explicit @TransactionManager annotation on the read-only service methods?"},{"owner":{"account_id":5319838,"reputation":311,"user_id":4243605,"display_name":"Chandan Hegde"},"score":0,"creation_date":1675082357,"post_id":74954955,"comment_id":132845136,"body_markdown":"BTW, have you checked this post: https://stackoverflow.com/questions/62032148/spring-boot-and-aws-rds-read-replica?","body":"BTW, have you checked this post: <a href=\"https://stackoverflow.com/questions/62032148/spring-boot-and-aws-rds-read-replica\" title=\"spring boot and aws rds read replica\">stackoverflow.com/questions/62032148/&hellip;</a>?"},{"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"score":0,"creation_date":1675360482,"post_id":74954955,"comment_id":132917549,"body_markdown":"We are using JdbcTemplate to write queries to read replica. So things are easier for us.","body":"We are using JdbcTemplate to write queries to read replica. So things are easier for us."}],"answers":[{"tags":[],"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674547512,"creation_date":1674547512,"answer_id":75218826,"question_id":74954955,"body_markdown":"To answer my question, I moved `TenantRepository`, used in `DynamicDataSourceBasedMultiTenantConnectionProvider` and `CurrentTenantIdentifierResolverImpl`, into service and lazy loaded that service into these classes, and the application started.\r\n\r\nSomething like this:\r\n\r\n    @Service\r\n    public class TenantService{\r\n        @Autowired\r\n        private TenantRepository tenantRepository;\r\n    }\r\n\r\n    public class DynamicDataSourceBasedMultiTenantConnectionProvider {\r\n        @Autowired\r\n        @Lazy\r\n        private TenantService tenantService ;\r\n    }\r\n    \r\n    public class CurrentTenantIdentifierResolverImpl {\r\n        @Autowired\r\n        @Lazy\r\n        private TenantService tenantService ;\r\n    }\r\n\r\n","title":"Spring + Hibernate : Multitenancy with MySQL Read Replica support","body":"<p>To answer my question, I moved <code>TenantRepository</code>, used in <code>DynamicDataSourceBasedMultiTenantConnectionProvider</code> and <code>CurrentTenantIdentifierResolverImpl</code>, into service and lazy loaded that service into these classes, and the application started.</p>\n<p>Something like this:</p>\n<pre><code>@Service\npublic class TenantService{\n    @Autowired\n    private TenantRepository tenantRepository;\n}\n\npublic class DynamicDataSourceBasedMultiTenantConnectionProvider {\n    @Autowired\n    @Lazy\n    private TenantService tenantService ;\n}\n\npublic class CurrentTenantIdentifierResolverImpl {\n    @Autowired\n    @Lazy\n    private TenantService tenantService ;\n}\n</code></pre>\n"}],"owner":{"account_id":5720431,"reputation":750,"user_id":4519018,"accept_rate":85,"display_name":"vvs14"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75218826,"answer_count":1,"score":3,"last_activity_date":1674547512,"creation_date":1672339492,"question_id":74954955,"body_markdown":"I am moving an existing Spring boot application from Multitenancy to Database per tenant model. Some common Entities are in the Master database, whereas others will be in their respective database. These classes have been implemented and worked fine. Source to get ma started is this: https://callistaenterprise.se/blogg/teknik/2020/10/03/multi-tenancy-with-spring-boot-part3/\r\n\r\nClasses\r\n1. MasterPersistenceConfig.java (MasterDatabaseRepository below are the JPA repositories that are gonna be in the master database)\r\n2. TenantPersistenceConfig.java\r\n3. DynamicDataSourceBasedMultiTenantConnectionProvider.java\r\n4. CurrentTenantIdentifierResolverImpl.java\r\n5. application.yml\r\n\r\n**MasterPersistenceConfig.java (MasterDatabaseRepository below are the JPA repositories that are gonna be in the master database)**\r\n```\r\n@Log4j2\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = { &quot;${multitenancy.base-package}&quot; },\r\n        entityManagerFactoryRef = &quot;masterEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;masterTransactionManager&quot;,\r\n        includeFilters = {\r\n                @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = MasterDatabaseRepository.class)\r\n        }\r\n)\r\n@EnableConfigurationProperties({DataSourceProperties.class, JpaProperties.class})\r\npublic class MasterPersistenceConfig {\r\n    private final ConfigurableListableBeanFactory beanFactory;\r\n    private final JpaProperties jpaProperties;\r\n    private final String entityPackages;\r\n\r\n    @Autowired\r\n    public MasterPersistenceConfig(ConfigurableListableBeanFactory beanFactory,\r\n                                   JpaProperties jpaProperties,\r\n                                   @Value(&quot;${multitenancy.master.entityManager.packages}&quot;)\r\n                                   String entityPackages) {\r\n        this.beanFactory = beanFactory;\r\n        this.jpaProperties = jpaProperties;\r\n        this.entityPackages = entityPackages;\r\n    }\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean masterEntityManagerFactory(\r\n            @Qualifier(&quot;masterDataSource&quot;) DataSource dataSource) {\r\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n        em.setPersistenceUnitName(&quot;master-persistence-unit&quot;);\r\n        em.setPackagesToScan(entityPackages);\r\n        em.setDataSource(dataSource);\r\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        em.setJpaVendorAdapter(vendorAdapter);\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\r\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\r\n        em.setJpaPropertyMap(properties);\r\n        return em;\r\n    }\r\n\r\n    @Bean\r\n    public JpaTransactionManager masterTransactionManager(\r\n            @Qualifier(&quot;masterEntityManagerFactory&quot;) EntityManagerFactory emf) {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(emf);\r\n        return transactionManager;\r\n    }\r\n}\r\n\r\n\r\n```\r\n**TenantPersistenceConfig.java (Using bean of DynamicDataSourceBasedMultiTenantConnectionProvider and  CurrentTenantIdentifierResolverImpl to create entityManagerFactory)**\r\n\r\n```\r\n@Log4j2\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = {&quot;${multitenancy.base-package}&quot;},\r\n        entityManagerFactoryRef = &quot;tenantEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;tenantTransactionManager&quot;,\r\n        includeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, value = JpaRepository.class),\r\n        excludeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, classes = MasterDatabaseRepository.class)\r\n)\r\n@EnableConfigurationProperties(JpaProperties.class)\r\npublic class TenantPersistenceConfig {\r\n\r\n    private final ConfigurableListableBeanFactory beanFactory;\r\n    private final JpaProperties jpaProperties;\r\n    private final String entityPackages;\r\n\r\n    @Autowired\r\n    public TenantPersistenceConfig(\r\n            ConfigurableListableBeanFactory beanFactory,\r\n            JpaProperties jpaProperties,\r\n            @Value(&quot;${multitenancy.tenant.entityManager.packages}&quot;)\r\n            String entityPackages) {\r\n        this.beanFactory = beanFactory;\r\n        this.jpaProperties = jpaProperties;\r\n        this.entityPackages = entityPackages;\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean tenantEntityManagerFactory(\r\n            @Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\r\n            @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\r\n        LocalContainerEntityManagerFactoryBean emfBean = new LocalContainerEntityManagerFactoryBean();\r\n        emfBean.setPersistenceUnitName(&quot;tenant-persistence-unit&quot;);\r\n        emfBean.setPackagesToScan(entityPackages);\r\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        emfBean.setJpaVendorAdapter(vendorAdapter);\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\r\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\r\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.DATABASE);\r\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\r\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\r\n        emfBean.setJpaPropertyMap(properties);\r\n        return emfBean;\r\n    }\r\n\r\n    @Primary\r\n    @Bean\r\n    public JpaTransactionManager tenantTransactionManager(\r\n            @Qualifier(&quot;tenantEntityManagerFactory&quot;) EntityManagerFactory emf) {\r\n        JpaTransactionManager tenantTransactionManager = new JpaTransactionManager();\r\n        tenantTransactionManager.setEntityManagerFactory(emf);\r\n        return tenantTransactionManager;\r\n    }\r\n\r\n    @Bean\r\n    public TenantDataSource tenantDataSource(@Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\r\n                                             @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\r\n        return new TenantDataSource(connectionProvider, tenantResolver);\r\n    }\r\n\r\n    @Bean\r\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplateRead(@Qualifier(&quot;tenantDataSource&quot;) TenantDataSource tenantDataSource) {\r\n        return new NamedParameterJdbcTemplate(tenantDataSource);\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public JdbcTemplate tenantJdbcTemplate(@Qualifier(&quot;tenantDataSource&quot;) TenantDataSource tenantDataSource) {\r\n        return new JdbcTemplate(tenantDataSource);\r\n    }\r\n}\r\n```\r\n**DynamicDataSourceBasedMultiTenantConnectionProvider (Uses TenantRepository, which MasterEntityManager manages)**\r\n\r\n```\r\n\r\n\r\n@Log4j2\r\n@Component\r\npublic class DynamicDataSourceBasedMultiTenantConnectionProvider\r\n        extends AbstractDataSourceBasedMultiTenantConnectionProviderImpl {\r\n\r\n    private static final String TENANT_POOL_NAME_SUFFIX = &quot;DataSource&quot;;\r\n\r\n    @Autowired\r\n    @Qualifier(&quot;masterDataSource&quot;)\r\n    private DataSource masterDataSource;\r\n\r\n    @Qualifier(&quot;masterDataSourceProperties&quot;)\r\n    @Autowired\r\n    private DataSourceProperties dataSourceProperties;\r\n    @Autowired\r\n    private TenantRepository masterTenantRepository;\r\n\r\n    private Map&lt;String, HikariDataSource&gt; tenantDataSources = new HashMap&lt;&gt;();\r\n\r\n    @Autowired\r\n    private DbProperties properties;\r\n\r\n    public DynamicDataSourceBasedMultiTenantConnectionProvider() {\r\n    }\r\n\r\n    public HikariDataSource getDataSource(String code) {\r\n        // masterTenantRepository usages\r\n    }\r\n\r\n    @PostConstruct\r\n    public Map&lt;String, DataSource&gt; getAll() {\r\n        // masterTenantRepository usages\r\n    }\r\n\r\n    @Override\r\n    protected HikariDataSource selectAnyDataSource() {\r\n        return (HikariDataSource) masterDataSource;\r\n    }\r\n\r\n    @Override\r\n    protected HikariDataSource selectDataSource(String tenantIdentifier) {\r\n        return getDataSource(tenantIdentifier);\r\n    }\r\n\r\n    private HikariDataSource createAndConfigureDataSource(Tenant tenant) {\r\n       // Datasource build and return\r\n    }\r\n\r\n    @Override\r\n    public Connection getAnyConnection() throws SQLException {\r\n        // get connection using datasource\r\n    }\r\n\r\n    @Override\r\n    public Connection getConnection(String tenantIdentifier) throws SQLException {\r\n        // get connection using datasource\r\n    }\r\n}\r\n\r\n\r\n```\r\n**CurrentTenantIdentifierResolverImpl (Uses TenantRepository, which MasterEntityManager manages)**\r\n\r\n```\r\n@Log4j2\r\n@Component(&quot;currentTenantIdentifierResolver&quot;)\r\npublic class CurrentTenantIdentifierResolverImpl implements CurrentTenantIdentifierResolver {\r\n\r\n    @Autowired\r\n    private TenantRepository tenantRepository;\r\n\r\n    @Override\r\n    public String resolveCurrentTenantIdentifier() {\r\n        // tenantRepository usages\r\n    }\r\n\r\n    @Override\r\n    public boolean validateExistingCurrentSessions() {\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n**application.yml**\r\n```\r\nmultitenancy:\r\n  base-package: packageX\r\n  datasource-cache:\r\n    maximumSize: 100\r\n    expireAfterAccess: 1\r\n  master:\r\n    entityManager:\r\n      packages: packageX\r\n    datasource:\r\n      url: jdbc:mysql://${db-ip}:3306/master\r\n      username: root\r\n      password: password\r\n  tenant:\r\n    entityManager:\r\n      packages: packageX\r\n    datasource:\r\n      url-prefix: jdbc:mysql://${db-ip}:3306/\r\n      username: root\r\n      password: password\r\n      hikari:\r\n        maximumPoolSize: 2\r\n        minimumIdle: 0\r\n        idleTimeout: 30000\r\n  readreplica:\r\n    base-package: packageX.reports\r\n    entityManager:\r\n      packages: packageX.reports\r\n    datasource:\r\n      url-prefix: jdbc:mysql://${slave-db-ip}:3306/\r\n      username: root\r\n      password: password\r\n      hikari:\r\n        maximumPoolSize: 2\r\n        minimumIdle: 0\r\n        idleTimeout: 30000\r\n```\r\n\r\nEverything works fine until this point. Now we want to add another datasource that points to a another IP, i.e. Read replica. **When I add another PersistenceConfig file such as above, the application fails to start**. Below are a new class added. Stack trace is added below as well.\r\n\r\n**ReadReplicaPersistenceConfig.java**\r\n\r\n```\r\n@Log4j2\r\n@Configuration\r\n@EnableJpaRepositories(\r\n        basePackages = {&quot;${multitenancy.readreplica.base-package}&quot;},\r\n        entityManagerFactoryRef = &quot;readReplicaEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;readReplicaTransactionManager&quot;,\r\n        includeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, value = ReportsRepository.class)\r\n)\r\n@EnableConfigurationProperties(JpaProperties.class)\r\npublic class ReadReplicaPersistenceConfig {\r\n\r\n    private final ConfigurableListableBeanFactory beanFactory;\r\n    private final JpaProperties jpaProperties;\r\n    private final String entityPackages;\r\n\r\n    @Autowired\r\n    public ReadReplicaPersistenceConfig(\r\n            ConfigurableListableBeanFactory beanFactory,\r\n            JpaProperties jpaProperties,\r\n            @Value(&quot;${multitenancy.readreplica.entityManager.packages}&quot;)\r\n            String entityPackages) {\r\n        this.beanFactory = beanFactory;\r\n        this.jpaProperties = jpaProperties;\r\n        this.entityPackages = entityPackages;\r\n    }\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean readReplicaEntityManagerFactory(\r\n            @Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\r\n            @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\r\n        LocalContainerEntityManagerFactoryBean emfBean = new LocalContainerEntityManagerFactoryBean();\r\n        emfBean.setPersistenceUnitName(&quot;read-db-persistence-unit&quot;);\r\n        emfBean.setPackagesToScan(entityPackages);\r\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        emfBean.setJpaVendorAdapter(vendorAdapter);\r\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\r\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\r\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\r\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.DATABASE);\r\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\r\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\r\n        emfBean.setJpaPropertyMap(properties);\r\n        return emfBean;\r\n    }\r\n\r\n    @Bean\r\n    public JpaTransactionManager readReplicaTransactionManager(\r\n            @Qualifier(&quot;readReplicaEntityManagerFactory&quot;) EntityManagerFactory emf) {\r\n        JpaTransactionManager readReplicaTransactionManager = new JpaTransactionManager();\r\n        readReplicaTransactionManager.setEntityManagerFactory(emf);\r\n        return readReplicaTransactionManager;\r\n    }\r\n\r\n    @Bean\r\n    public ReadReplicaDataSource readReplicaDataSource(@Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;)\r\n                                                       MultiTenantConnectionProvider connectionProvider,\r\n                                                       @Qualifier(&quot;currentTenantIdentifierResolver&quot;)\r\n                                                       CurrentTenantIdentifierResolver tenantResolver) {\r\n        return new ReadReplicaDataSource(connectionProvider, tenantResolver);\r\n    }\r\n\r\n    @Bean\r\n    @Primary\r\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplateRead(@Qualifier(&quot;readReplicaDataSource&quot;)\r\n                                                                     ReadReplicaDataSource readReplicaDataSource) {\r\n        return new NamedParameterJdbcTemplate(readReplicaDataSource);\r\n    }\r\n\r\n    @Bean\r\n    public JdbcTemplate readReplicaJdbcTemplate(@Qualifier(&quot;readReplicaDataSource&quot;) ReadReplicaDataSource\r\n                                                        readReplicaDataSource) {\r\n        return new JdbcTemplate(readReplicaDataSource);\r\n    }\r\n}\r\n```\r\n\r\nSummary of the spring.log stacktrace is . Full stacktrace can be found here: https://justpaste.it/6jwhs\r\n```\r\n[13:20:23.143] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;springAsyncConfig&#39; of type [packageX.config.async.SpringAsyncConfig$$EnhancerBySpringCGLIB$$38910a1d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.185] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;org.springframework.retry.annotation.RetryConfiguration&#39; of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.245] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@70516d8&#39; of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.272] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#6c13eb04&#39; of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.273] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#6c13eb04&#39; of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.276] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#18e33fe&#39; of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.277] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#23ba6f2c&#39; of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.278] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#23ba6f2c&#39; of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.296] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties&#39; of type [org.springframework.boot.autoconfigure.orm.jpa.JpaProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.297] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;tenantPersistenceConfig&#39; of type [packageX.dbframework.hibernateconfig.TenantPersistenceConfig$$EnhancerBySpringCGLIB$$f1fe8a65] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.302] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterDataSourceConfiguration&#39; of type [packageX.dbframework.datasource.MasterDataSourceConfiguration$$EnhancerBySpringCGLIB$$8117359e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.317] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterDataSourceProperties&#39; of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.335] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterDataSource&#39; of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.341] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker&#39; of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#72ffcc16&#39; of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#72ffcc16&#39; of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#72313bde&#39; of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.350] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#5f53b6b2&#39; of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.350] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#5f53b6b2&#39; of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.353] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterPersistenceConfig&#39; of type [packageX.dbframework.hibernateconfig.MasterPersistenceConfig$$EnhancerBySpringCGLIB$$540470ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:23.494] [restartedMain] [] [] [] [o.h.j.i.u.LogHelper:31] [INFO] - HHH000204: Processing PersistenceUnitInfo [name: master-persistence-unit]\r\n[13:20:23.530] [restartedMain] [] [] [] [o.h.Version:44] [INFO] - HHH000412: Hibernate ORM core version 5.4.27.Final\r\n[13:20:23.638] [restartedMain] [] [] [] [o.h.a.c.Version:56] [INFO] - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n[13:20:23.735] [restartedMain] [] [] [] [c.z.h.HikariDataSource:110] [INFO] - masterDataSource - Starting...\r\n[13:20:24.041] [restartedMain] [] [] [] [c.z.h.HikariDataSource:123] [INFO] - masterDataSource - Start completed.\r\n[13:20:24.056] [restartedMain] [] [] [] [o.h.d.Dialect:175] [INFO] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect\r\n[13:20:24.809] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;packageX.entityListeners.SyncJobCandidateListener&#39; of type [packageX.entityListeners.SyncJobCandidateListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:24.833] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;packageX.entityListeners.SyncJobListener&#39; of type [packageX.entityListeners.SyncJobListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:27.154] [restartedMain] [] [] [] [o.h.e.t.j.p.i.JtaPlatformInitiator:52] [INFO] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n[13:20:27.162] [restartedMain] [] [] [] [o.s.o.j.LocalContainerEntityManagerFactoryBean:437] [INFO] - Initialized JPA EntityManagerFactory for persistence unit &#39;master-persistence-unit&#39;\r\n[13:20:27.165] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterEntityManagerFactory&#39; of type [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:27.168] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;masterEntityManagerFactory&#39; of type [com.sun.proxy.$Proxy164] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:27.191] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;(inner bean)#6ada8fd3&#39; of type [com.sun.proxy.$Proxy166] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:27.201] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean &#39;readReplicaPersistenceConfig&#39; of type [packageX.dbframework.hibernateconfig.ReadReplicaPersistenceConfig$$EnhancerBySpringCGLIB$$759c9f91] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\r\n[13:20:27.206] [restartedMain] [] [] [] [o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:596] [WARN] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;healthEndpointGroupsBeanPostProcessor&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration&#39;: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;metaDataSourceAdvisor&#39;: Cannot resolve reference to bean &#39;methodSecurityMetadataSource&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;securityConfig&#39;: Unsatisfied dependency expressed through field &#39;customRelyingPartyRegistrationRepository&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;customRelyingPartyRegistrationRepository&#39;: Unsatisfied dependency expressed through field &#39;samlRegistrationRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;samlRegistrationRepository&#39; defined in packageX.auth.repository.SamlRegistrationRepository defined in @EnableJpaRepositories declared on TenantPersistenceConfig: Cannot create inner bean &#39;(inner bean)#7a8d7a43&#39; of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property &#39;entityManager&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;(inner bean)#7a8d7a43&#39;: Cannot resolve reference to bean &#39;tenantEntityManagerFactory&#39; while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;tenantEntityManagerFactory&#39; defined in class path resource [packageXdbframework/hibernateconfig/TenantPersistenceConfig.class]: Unsatisfied dependency expressed through method &#39;tenantEntityManagerFactory&#39; parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dynamicDataSourceBasedMultiTenantConnectionProvider&#39;: Unsatisfied dependency expressed through field &#39;masterTenantRepository&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;tenantRepository&#39; defined in packageX.dbframework.datasource.TenantRepository defined in @EnableJpaRepositories declared on MasterPersistenceConfig: Cannot resolve reference to bean &#39;jpaMappingContext&#39; while setting bean property &#39;mappingContext&#39;; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;jpaMappingContext&#39;: Invocation of init method failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;readReplicaEntityManagerFactory&#39; defined in class path resource [packageXdbframework/hibernateconfig/ReadReplicaPersistenceConfig.class]: Unsatisfied dependency expressed through method &#39;readReplicaEntityManagerFactory&#39; parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;currentTenantIdentifierResolver&#39;: Unsatisfied dependency expressed through field &#39;tenantRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;packageX.dbframework.datasource.TenantRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n```\r\n\r\nBut when I change `readReplicaEntityManagerFactory` and `readReplicaTransactionManager` in **ReadReplicaPersistenceConfig** to `tenantEntityManagerFactory` and `tenantTransactionManager` respectively, application starts. Although I have not verified the which database my application is making change to.\r\n\r\nI&#39;d appreciate any and all help. Thank you.\r\n\r\n\r\nI tried using @Lazy, @DependsOn to resolve dependencies to avoid BeanCreationException, but not avail.","title":"Spring + Hibernate : Multitenancy with MySQL Read Replica support","body":"<p>I am moving an existing Spring boot application from Multitenancy to Database per tenant model. Some common Entities are in the Master database, whereas others will be in their respective database. These classes have been implemented and worked fine. Source to get ma started is this: <a href=\"https://callistaenterprise.se/blogg/teknik/2020/10/03/multi-tenancy-with-spring-boot-part3/\" rel=\"nofollow noreferrer\">https://callistaenterprise.se/blogg/teknik/2020/10/03/multi-tenancy-with-spring-boot-part3/</a></p>\n<p>Classes</p>\n<ol>\n<li>MasterPersistenceConfig.java (MasterDatabaseRepository below are the JPA repositories that are gonna be in the master database)</li>\n<li>TenantPersistenceConfig.java</li>\n<li>DynamicDataSourceBasedMultiTenantConnectionProvider.java</li>\n<li>CurrentTenantIdentifierResolverImpl.java</li>\n<li>application.yml</li>\n</ol>\n<p><strong>MasterPersistenceConfig.java (MasterDatabaseRepository below are the JPA repositories that are gonna be in the master database)</strong></p>\n<pre><code>@Log4j2\n@Configuration\n@EnableJpaRepositories(\n        basePackages = { &quot;${multitenancy.base-package}&quot; },\n        entityManagerFactoryRef = &quot;masterEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;masterTransactionManager&quot;,\n        includeFilters = {\n                @ComponentScan.Filter(type = FilterType.ASSIGNABLE_TYPE, classes = MasterDatabaseRepository.class)\n        }\n)\n@EnableConfigurationProperties({DataSourceProperties.class, JpaProperties.class})\npublic class MasterPersistenceConfig {\n    private final ConfigurableListableBeanFactory beanFactory;\n    private final JpaProperties jpaProperties;\n    private final String entityPackages;\n\n    @Autowired\n    public MasterPersistenceConfig(ConfigurableListableBeanFactory beanFactory,\n                                   JpaProperties jpaProperties,\n                                   @Value(&quot;${multitenancy.master.entityManager.packages}&quot;)\n                                   String entityPackages) {\n        this.beanFactory = beanFactory;\n        this.jpaProperties = jpaProperties;\n        this.entityPackages = entityPackages;\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean masterEntityManagerFactory(\n            @Qualifier(&quot;masterDataSource&quot;) DataSource dataSource) {\n        LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n        em.setPersistenceUnitName(&quot;master-persistence-unit&quot;);\n        em.setPackagesToScan(entityPackages);\n        em.setDataSource(dataSource);\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        em.setJpaVendorAdapter(vendorAdapter);\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\n        em.setJpaPropertyMap(properties);\n        return em;\n    }\n\n    @Bean\n    public JpaTransactionManager masterTransactionManager(\n            @Qualifier(&quot;masterEntityManagerFactory&quot;) EntityManagerFactory emf) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(emf);\n        return transactionManager;\n    }\n}\n\n\n</code></pre>\n<p><strong>TenantPersistenceConfig.java (Using bean of DynamicDataSourceBasedMultiTenantConnectionProvider and  CurrentTenantIdentifierResolverImpl to create entityManagerFactory)</strong></p>\n<pre><code>@Log4j2\n@Configuration\n@EnableJpaRepositories(\n        basePackages = {&quot;${multitenancy.base-package}&quot;},\n        entityManagerFactoryRef = &quot;tenantEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;tenantTransactionManager&quot;,\n        includeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, value = JpaRepository.class),\n        excludeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, classes = MasterDatabaseRepository.class)\n)\n@EnableConfigurationProperties(JpaProperties.class)\npublic class TenantPersistenceConfig {\n\n    private final ConfigurableListableBeanFactory beanFactory;\n    private final JpaProperties jpaProperties;\n    private final String entityPackages;\n\n    @Autowired\n    public TenantPersistenceConfig(\n            ConfigurableListableBeanFactory beanFactory,\n            JpaProperties jpaProperties,\n            @Value(&quot;${multitenancy.tenant.entityManager.packages}&quot;)\n            String entityPackages) {\n        this.beanFactory = beanFactory;\n        this.jpaProperties = jpaProperties;\n        this.entityPackages = entityPackages;\n    }\n\n    @Primary\n    @Bean\n    public LocalContainerEntityManagerFactoryBean tenantEntityManagerFactory(\n            @Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\n            @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\n        LocalContainerEntityManagerFactoryBean emfBean = new LocalContainerEntityManagerFactoryBean();\n        emfBean.setPersistenceUnitName(&quot;tenant-persistence-unit&quot;);\n        emfBean.setPackagesToScan(entityPackages);\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        emfBean.setJpaVendorAdapter(vendorAdapter);\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.DATABASE);\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\n        emfBean.setJpaPropertyMap(properties);\n        return emfBean;\n    }\n\n    @Primary\n    @Bean\n    public JpaTransactionManager tenantTransactionManager(\n            @Qualifier(&quot;tenantEntityManagerFactory&quot;) EntityManagerFactory emf) {\n        JpaTransactionManager tenantTransactionManager = new JpaTransactionManager();\n        tenantTransactionManager.setEntityManagerFactory(emf);\n        return tenantTransactionManager;\n    }\n\n    @Bean\n    public TenantDataSource tenantDataSource(@Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\n                                             @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\n        return new TenantDataSource(connectionProvider, tenantResolver);\n    }\n\n    @Bean\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplateRead(@Qualifier(&quot;tenantDataSource&quot;) TenantDataSource tenantDataSource) {\n        return new NamedParameterJdbcTemplate(tenantDataSource);\n    }\n\n    @Bean\n    @Primary\n    public JdbcTemplate tenantJdbcTemplate(@Qualifier(&quot;tenantDataSource&quot;) TenantDataSource tenantDataSource) {\n        return new JdbcTemplate(tenantDataSource);\n    }\n}\n</code></pre>\n<p><strong>DynamicDataSourceBasedMultiTenantConnectionProvider (Uses TenantRepository, which MasterEntityManager manages)</strong></p>\n<pre><code>\n\n@Log4j2\n@Component\npublic class DynamicDataSourceBasedMultiTenantConnectionProvider\n        extends AbstractDataSourceBasedMultiTenantConnectionProviderImpl {\n\n    private static final String TENANT_POOL_NAME_SUFFIX = &quot;DataSource&quot;;\n\n    @Autowired\n    @Qualifier(&quot;masterDataSource&quot;)\n    private DataSource masterDataSource;\n\n    @Qualifier(&quot;masterDataSourceProperties&quot;)\n    @Autowired\n    private DataSourceProperties dataSourceProperties;\n    @Autowired\n    private TenantRepository masterTenantRepository;\n\n    private Map&lt;String, HikariDataSource&gt; tenantDataSources = new HashMap&lt;&gt;();\n\n    @Autowired\n    private DbProperties properties;\n\n    public DynamicDataSourceBasedMultiTenantConnectionProvider() {\n    }\n\n    public HikariDataSource getDataSource(String code) {\n        // masterTenantRepository usages\n    }\n\n    @PostConstruct\n    public Map&lt;String, DataSource&gt; getAll() {\n        // masterTenantRepository usages\n    }\n\n    @Override\n    protected HikariDataSource selectAnyDataSource() {\n        return (HikariDataSource) masterDataSource;\n    }\n\n    @Override\n    protected HikariDataSource selectDataSource(String tenantIdentifier) {\n        return getDataSource(tenantIdentifier);\n    }\n\n    private HikariDataSource createAndConfigureDataSource(Tenant tenant) {\n       // Datasource build and return\n    }\n\n    @Override\n    public Connection getAnyConnection() throws SQLException {\n        // get connection using datasource\n    }\n\n    @Override\n    public Connection getConnection(String tenantIdentifier) throws SQLException {\n        // get connection using datasource\n    }\n}\n\n\n</code></pre>\n<p><strong>CurrentTenantIdentifierResolverImpl (Uses TenantRepository, which MasterEntityManager manages)</strong></p>\n<pre><code>@Log4j2\n@Component(&quot;currentTenantIdentifierResolver&quot;)\npublic class CurrentTenantIdentifierResolverImpl implements CurrentTenantIdentifierResolver {\n\n    @Autowired\n    private TenantRepository tenantRepository;\n\n    @Override\n    public String resolveCurrentTenantIdentifier() {\n        // tenantRepository usages\n    }\n\n    @Override\n    public boolean validateExistingCurrentSessions() {\n        return true;\n    }\n}\n</code></pre>\n<p><strong>application.yml</strong></p>\n<pre><code>multitenancy:\n  base-package: packageX\n  datasource-cache:\n    maximumSize: 100\n    expireAfterAccess: 1\n  master:\n    entityManager:\n      packages: packageX\n    datasource:\n      url: jdbc:mysql://${db-ip}:3306/master\n      username: root\n      password: password\n  tenant:\n    entityManager:\n      packages: packageX\n    datasource:\n      url-prefix: jdbc:mysql://${db-ip}:3306/\n      username: root\n      password: password\n      hikari:\n        maximumPoolSize: 2\n        minimumIdle: 0\n        idleTimeout: 30000\n  readreplica:\n    base-package: packageX.reports\n    entityManager:\n      packages: packageX.reports\n    datasource:\n      url-prefix: jdbc:mysql://${slave-db-ip}:3306/\n      username: root\n      password: password\n      hikari:\n        maximumPoolSize: 2\n        minimumIdle: 0\n        idleTimeout: 30000\n</code></pre>\n<p>Everything works fine until this point. Now we want to add another datasource that points to a another IP, i.e. Read replica. <strong>When I add another PersistenceConfig file such as above, the application fails to start</strong>. Below are a new class added. Stack trace is added below as well.</p>\n<p><strong>ReadReplicaPersistenceConfig.java</strong></p>\n<pre><code>@Log4j2\n@Configuration\n@EnableJpaRepositories(\n        basePackages = {&quot;${multitenancy.readreplica.base-package}&quot;},\n        entityManagerFactoryRef = &quot;readReplicaEntityManagerFactory&quot;,\n        transactionManagerRef = &quot;readReplicaTransactionManager&quot;,\n        includeFilters = @Filter(type = FilterType.ASSIGNABLE_TYPE, value = ReportsRepository.class)\n)\n@EnableConfigurationProperties(JpaProperties.class)\npublic class ReadReplicaPersistenceConfig {\n\n    private final ConfigurableListableBeanFactory beanFactory;\n    private final JpaProperties jpaProperties;\n    private final String entityPackages;\n\n    @Autowired\n    public ReadReplicaPersistenceConfig(\n            ConfigurableListableBeanFactory beanFactory,\n            JpaProperties jpaProperties,\n            @Value(&quot;${multitenancy.readreplica.entityManager.packages}&quot;)\n            String entityPackages) {\n        this.beanFactory = beanFactory;\n        this.jpaProperties = jpaProperties;\n        this.entityPackages = entityPackages;\n    }\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean readReplicaEntityManagerFactory(\n            @Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;) MultiTenantConnectionProvider connectionProvider,\n            @Qualifier(&quot;currentTenantIdentifierResolver&quot;) CurrentTenantIdentifierResolver tenantResolver) {\n        LocalContainerEntityManagerFactoryBean emfBean = new LocalContainerEntityManagerFactoryBean();\n        emfBean.setPersistenceUnitName(&quot;read-db-persistence-unit&quot;);\n        emfBean.setPackagesToScan(entityPackages);\n        JpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        emfBean.setJpaVendorAdapter(vendorAdapter);\n        Map&lt;String, Object&gt; properties = new HashMap&lt;&gt;(this.jpaProperties.getProperties());\n        properties.put(AvailableSettings.PHYSICAL_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy&quot;);\n        properties.put(AvailableSettings.IMPLICIT_NAMING_STRATEGY, &quot;org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy&quot;);\n        properties.put(AvailableSettings.BEAN_CONTAINER, new SpringBeanContainer(this.beanFactory));\n        properties.put(AvailableSettings.MULTI_TENANT, MultiTenancyStrategy.DATABASE);\n        properties.put(AvailableSettings.MULTI_TENANT_CONNECTION_PROVIDER, connectionProvider);\n        properties.put(AvailableSettings.MULTI_TENANT_IDENTIFIER_RESOLVER, tenantResolver);\n        emfBean.setJpaPropertyMap(properties);\n        return emfBean;\n    }\n\n    @Bean\n    public JpaTransactionManager readReplicaTransactionManager(\n            @Qualifier(&quot;readReplicaEntityManagerFactory&quot;) EntityManagerFactory emf) {\n        JpaTransactionManager readReplicaTransactionManager = new JpaTransactionManager();\n        readReplicaTransactionManager.setEntityManagerFactory(emf);\n        return readReplicaTransactionManager;\n    }\n\n    @Bean\n    public ReadReplicaDataSource readReplicaDataSource(@Qualifier(&quot;dynamicDataSourceBasedMultiTenantConnectionProvider&quot;)\n                                                       MultiTenantConnectionProvider connectionProvider,\n                                                       @Qualifier(&quot;currentTenantIdentifierResolver&quot;)\n                                                       CurrentTenantIdentifierResolver tenantResolver) {\n        return new ReadReplicaDataSource(connectionProvider, tenantResolver);\n    }\n\n    @Bean\n    @Primary\n    public NamedParameterJdbcTemplate namedParameterJdbcTemplateRead(@Qualifier(&quot;readReplicaDataSource&quot;)\n                                                                     ReadReplicaDataSource readReplicaDataSource) {\n        return new NamedParameterJdbcTemplate(readReplicaDataSource);\n    }\n\n    @Bean\n    public JdbcTemplate readReplicaJdbcTemplate(@Qualifier(&quot;readReplicaDataSource&quot;) ReadReplicaDataSource\n                                                        readReplicaDataSource) {\n        return new JdbcTemplate(readReplicaDataSource);\n    }\n}\n</code></pre>\n<p>Summary of the spring.log stacktrace is . Full stacktrace can be found here: <a href=\"https://justpaste.it/6jwhs\" rel=\"nofollow noreferrer\">https://justpaste.it/6jwhs</a></p>\n<pre><code>[13:20:23.143] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'springAsyncConfig' of type [packageX.config.async.SpringAsyncConfig$$EnhancerBySpringCGLIB$$38910a1d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.185] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'org.springframework.retry.annotation.RetryConfiguration' of type [org.springframework.retry.annotation.RetryConfiguration] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.245] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@70516d8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.272] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#6c13eb04' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.273] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#6c13eb04' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.276] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#18e33fe' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.277] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#23ba6f2c' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.278] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#23ba6f2c' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.296] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'spring.jpa-org.springframework.boot.autoconfigure.orm.jpa.JpaProperties' of type [org.springframework.boot.autoconfigure.orm.jpa.JpaProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.297] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'tenantPersistenceConfig' of type [packageX.dbframework.hibernateconfig.TenantPersistenceConfig$$EnhancerBySpringCGLIB$$f1fe8a65] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.302] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterDataSourceConfiguration' of type [packageX.dbframework.datasource.MasterDataSourceConfiguration$$EnhancerBySpringCGLIB$$8117359e] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.317] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterDataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.335] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterDataSource' of type [com.zaxxer.hikari.HikariDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.341] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceInitializerInvoker] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#72ffcc16' of type [org.springframework.beans.factory.config.PropertiesFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#72ffcc16' of type [java.util.Properties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.349] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#72313bde' of type [org.springframework.data.repository.core.support.PropertiesBasedNamedQueries] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.350] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#5f53b6b2' of type [org.springframework.data.repository.core.support.RepositoryFragmentsFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.350] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#5f53b6b2' of type [org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.353] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterPersistenceConfig' of type [packageX.dbframework.hibernateconfig.MasterPersistenceConfig$$EnhancerBySpringCGLIB$$540470ad] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:23.494] [restartedMain] [] [] [] [o.h.j.i.u.LogHelper:31] [INFO] - HHH000204: Processing PersistenceUnitInfo [name: master-persistence-unit]\n[13:20:23.530] [restartedMain] [] [] [] [o.h.Version:44] [INFO] - HHH000412: Hibernate ORM core version 5.4.27.Final\n[13:20:23.638] [restartedMain] [] [] [] [o.h.a.c.Version:56] [INFO] - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n[13:20:23.735] [restartedMain] [] [] [] [c.z.h.HikariDataSource:110] [INFO] - masterDataSource - Starting...\n[13:20:24.041] [restartedMain] [] [] [] [c.z.h.HikariDataSource:123] [INFO] - masterDataSource - Start completed.\n[13:20:24.056] [restartedMain] [] [] [] [o.h.d.Dialect:175] [INFO] - HHH000400: Using dialect: org.hibernate.dialect.MySQL57Dialect\n[13:20:24.809] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'packageX.entityListeners.SyncJobCandidateListener' of type [packageX.entityListeners.SyncJobCandidateListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:24.833] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'packageX.entityListeners.SyncJobListener' of type [packageX.entityListeners.SyncJobListener] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:27.154] [restartedMain] [] [] [] [o.h.e.t.j.p.i.JtaPlatformInitiator:52] [INFO] - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n[13:20:27.162] [restartedMain] [] [] [] [o.s.o.j.LocalContainerEntityManagerFactoryBean:437] [INFO] - Initialized JPA EntityManagerFactory for persistence unit 'master-persistence-unit'\n[13:20:27.165] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterEntityManagerFactory' of type [org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:27.168] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'masterEntityManagerFactory' of type [com.sun.proxy.$Proxy164] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:27.191] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean '(inner bean)#6ada8fd3' of type [com.sun.proxy.$Proxy166] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:27.201] [restartedMain] [] [] [] [o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker:350] [INFO] - Bean 'readReplicaPersistenceConfig' of type [packageX.dbframework.hibernateconfig.ReadReplicaPersistenceConfig$$EnhancerBySpringCGLIB$$759c9f91] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)\n[13:20:27.206] [restartedMain] [] [] [] [o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext:596] [WARN] - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthEndpointGroupsBeanPostProcessor' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration': BeanPostProcessor before instantiation of bean failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'metaDataSourceAdvisor': Cannot resolve reference to bean 'methodSecurityMetadataSource' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'securityConfig': Unsatisfied dependency expressed through field 'customRelyingPartyRegistrationRepository'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'customRelyingPartyRegistrationRepository': Unsatisfied dependency expressed through field 'samlRegistrationRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'samlRegistrationRepository' defined in packageX.auth.repository.SamlRegistrationRepository defined in @EnableJpaRepositories declared on TenantPersistenceConfig: Cannot create inner bean '(inner bean)#7a8d7a43' of type [org.springframework.orm.jpa.SharedEntityManagerCreator] while setting bean property 'entityManager'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name '(inner bean)#7a8d7a43': Cannot resolve reference to bean 'tenantEntityManagerFactory' while setting constructor argument; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'tenantEntityManagerFactory' defined in class path resource [packageXdbframework/hibernateconfig/TenantPersistenceConfig.class]: Unsatisfied dependency expressed through method 'tenantEntityManagerFactory' parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dynamicDataSourceBasedMultiTenantConnectionProvider': Unsatisfied dependency expressed through field 'masterTenantRepository'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'tenantRepository' defined in packageX.dbframework.datasource.TenantRepository defined in @EnableJpaRepositories declared on MasterPersistenceConfig: Cannot resolve reference to bean 'jpaMappingContext' while setting bean property 'mappingContext'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'jpaMappingContext': Invocation of init method failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'readReplicaEntityManagerFactory' defined in class path resource [packageXdbframework/hibernateconfig/ReadReplicaPersistenceConfig.class]: Unsatisfied dependency expressed through method 'readReplicaEntityManagerFactory' parameter 1; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'currentTenantIdentifierResolver': Unsatisfied dependency expressed through field 'tenantRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'packageX.dbframework.datasource.TenantRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n</code></pre>\n<p>But when I change <code>readReplicaEntityManagerFactory</code> and <code>readReplicaTransactionManager</code> in <strong>ReadReplicaPersistenceConfig</strong> to <code>tenantEntityManagerFactory</code> and <code>tenantTransactionManager</code> respectively, application starts. Although I have not verified the which database my application is making change to.</p>\n<p>I'd appreciate any and all help. Thank you.</p>\n<p>I tried using @Lazy, @DependsOn to resolve dependencies to avoid BeanCreationException, but not avail.</p>\n"},{"tags":["java","httprequest","httpresponse"],"comments":[{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1674495184,"post_id":75213037,"comment_id":132721411,"body_markdown":"https://docs.oracle.com/en/java/javase/14/docs/api/java.net.http/java/net/http/HttpResponse.html `httpResponse.body()` ?","body":"<a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/java.net.http/java/net/http/HttpResponse.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/14/docs/api/java.net.http/jav&zwnj;&#8203;a/&hellip;</a> <code>httpResponse.body()</code> ?"},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674551697,"post_id":75213037,"comment_id":132732712,"body_markdown":"I don&#39;t think there&#39;s a simple way. You could maybe cheat something in for HTTPS by providing your own SSL socket factory that wraps a real one and &quot;syphons&quot; off the request/response. I suspect using some third-party HTTP client could make this simpler.","body":"I don&#39;t think there&#39;s a simple way. You could maybe cheat something in for HTTPS by providing your own SSL socket factory that wraps a real one and &quot;syphons&quot; off the request/response. I suspect using some third-party HTTP client could make this simpler."},{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674551836,"post_id":75213037,"comment_id":132732745,"body_markdown":"Out of curiosity: **why** do you need this? For almost every use case the pre-parsed headers are more useful. If you told us the underlying problem you&#39;re trying to solve, we can maybe find an alternative approach (see https://xyproblem.info).","body":"Out of curiosity: <b>why</b> do you need this? For almost every use case the pre-parsed headers are more useful. If you told us the underlying problem you&#39;re trying to solve, we can maybe find an alternative approach (see <a href=\"https://xyproblem.info\" rel=\"nofollow noreferrer\">xyproblem.info</a>)."},{"owner":{"account_id":27602511,"reputation":11,"user_id":21067446,"display_name":"Hadas"},"score":0,"creation_date":1675469445,"post_id":75213037,"comment_id":132942988,"body_markdown":"i need the raw http request to save each api http request that i am sending and the responds. this way the user could see the exact message that sent and recived.","body":"i need the raw http request to save each api http request that i am sending and the responds. this way the user could see the exact message that sent and recived."}],"owner":{"account_id":27602511,"reputation":11,"user_id":21067446,"display_name":"Hadas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674547327,"creation_date":1674495103,"question_id":75213037,"body_markdown":"I want the raw http request and response when sending an http request using java.\r\nis there any way to do it without writing it manually? maybe adding tee with InputStream in the middle to capture it? or other solution?\r\n\r\n\r\n\r\ni am currently using java.net.http library:\r\n\r\n```\r\nHttpRequest httpsRequest = getHttpsRequest(url, parameters, method, headers);\r\nHttpClient client = HttpClient.newHttpClient();\r\nHttpResponse&lt;String&gt; httpResponse = client.send(httpsRequest,HttpResponse.BodyHandlers.ofString(UTF_8));\r\n\r\nString rawHttpMessage = ?\r\n            \r\n```\r\n\r\nraw http message for example:\r\n\r\n    HTTP/1.1 200 OK\r\n    Date: Sun, 10 Oct 2010 23:26:07 GMT\r\n    Server: Apache/2.2.8 (Ubuntu) mod_ssl/2.2.8 OpenSSL/0.9.8g\r\n    Last-Modified: Sun, 26 Sep 2010 22:04:35 GMT\r\n    ETag: &quot;45b6-834-49130cc1182c0&quot;\r\n    Accept-Ranges: bytes\r\n    Content-Length: 12\r\n    Connection: close\r\n    Content-Type: text/html\r\n    \r\n    Hello world!\r\n\r\n[request and response http message][1]\r\n\r\n  [1]: https://i.stack.imgur.com/vf65f.png\r\n","title":"Get the raw http request/response message in java","body":"<p>I want the raw http request and response when sending an http request using java.\nis there any way to do it without writing it manually? maybe adding tee with InputStream in the middle to capture it? or other solution?</p>\n<p>i am currently using java.net.http library:</p>\n<pre><code>HttpRequest httpsRequest = getHttpsRequest(url, parameters, method, headers);\nHttpClient client = HttpClient.newHttpClient();\nHttpResponse&lt;String&gt; httpResponse = client.send(httpsRequest,HttpResponse.BodyHandlers.ofString(UTF_8));\n\nString rawHttpMessage = ?\n            \n</code></pre>\n<p>raw http message for example:</p>\n<pre><code>HTTP/1.1 200 OK\nDate: Sun, 10 Oct 2010 23:26:07 GMT\nServer: Apache/2.2.8 (Ubuntu) mod_ssl/2.2.8 OpenSSL/0.9.8g\nLast-Modified: Sun, 26 Sep 2010 22:04:35 GMT\nETag: &quot;45b6-834-49130cc1182c0&quot;\nAccept-Ranges: bytes\nContent-Length: 12\nConnection: close\nContent-Type: text/html\n\nHello world!\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/vf65f.png\" rel=\"nofollow noreferrer\">request and response http message</a></p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":4418336,"reputation":19,"user_id":3599194,"accept_rate":50,"display_name":"user3599194"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674546833,"creation_date":1674408433,"answer_id":75202473,"question_id":75199443,"body_markdown":"i needed to replace this code. \r\n```\r\n// pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);\r\npendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_IMMUTABLE);\r\n```","title":"NFC Reader APP, Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>i needed to replace this code.</p>\n<pre><code>// pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), 0);\npendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_IMMUTABLE);\n</code></pre>\n"}],"owner":{"account_id":4418336,"reputation":19,"user_id":3599194,"accept_rate":50,"display_name":"user3599194"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":344,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674546833,"creation_date":1674380703,"question_id":75199443,"body_markdown":"We have an Android NFC Reader APP was working perfect now it has errors and the APP gets crashed. \r\n\r\n\r\n    2023-01-22 15:09:14.813 3602-3615/? E/PRM_CONFIG_Parser: get_custom_config not found\r\n    2023-01-22 15:09:14.830 4162-4351/? E/PostureManager: fail to get service\r\n    2023-01-22 15:09:14.832 4162-4351/? E/PostureManager: fail to get service\r\n    2023-01-22 15:09:14.834 4162-4351/? E/PostureManager: fail to get service\r\n    2023-01-22 15:09:14.884 12662-12662/? E/AndroidRuntime: FATAL EXCEPTION: main\r\n        Process: com.myapp.ngf132, PID: 12662\r\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.ngf132/com.myapp.ngf132.Nfc_reader}: java.lang.IllegalArgumentException: com.myapp.ngf132: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n        Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n\r\ni have checked multiple questions i could not figure out the issue, \r\n\r\nThese are the imports i have\r\n\r\n    \r\n    \r\n    import android.app.PendingIntent;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.content.IntentFilter;\r\n    import android.nfc.FormatException;\r\n    import android.nfc.NdefMessage;\r\n    import android.nfc.NdefRecord;\r\n    import android.nfc.NfcAdapter;\r\n    import android.nfc.Tag;\r\n    import android.nfc.tech.Ndef;\r\n    import android.os.Bundle;\r\n    import android.os.Parcelable;\r\n    import android.os.StrictMode;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.net.URL;\r\n    import java.net.URLConnection;\r\n    import java.nio.charset.StandardCharsets;\r\n\r\nAny suggestions is greatly appreciated. ","title":"NFC Reader APP, Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>We have an Android NFC Reader APP was working perfect now it has errors and the APP gets crashed.</p>\n<pre><code>2023-01-22 15:09:14.813 3602-3615/? E/PRM_CONFIG_Parser: get_custom_config not found\n2023-01-22 15:09:14.830 4162-4351/? E/PostureManager: fail to get service\n2023-01-22 15:09:14.832 4162-4351/? E/PostureManager: fail to get service\n2023-01-22 15:09:14.834 4162-4351/? E/PostureManager: fail to get service\n2023-01-22 15:09:14.884 12662-12662/? E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.myapp.ngf132, PID: 12662\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.myapp.ngf132/com.myapp.ngf132.Nfc_reader}: java.lang.IllegalArgumentException: com.myapp.ngf132: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n</code></pre>\n<p>i have checked multiple questions i could not figure out the issue,</p>\n<p>These are the imports i have</p>\n<pre><code>import android.app.PendingIntent;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.content.IntentFilter;\nimport android.nfc.FormatException;\nimport android.nfc.NdefMessage;\nimport android.nfc.NdefRecord;\nimport android.nfc.NfcAdapter;\nimport android.nfc.Tag;\nimport android.nfc.tech.Ndef;\nimport android.os.Bundle;\nimport android.os.Parcelable;\nimport android.os.StrictMode;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.UnsupportedEncodingException;\nimport java.net.URL;\nimport java.net.URLConnection;\nimport java.nio.charset.StandardCharsets;\n</code></pre>\n<p>Any suggestions is greatly appreciated.</p>\n"},{"tags":["java","spring-boot","jpa","hibernate-criteria"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674548605,"post_id":75218446,"comment_id":132731750,"body_markdown":"As you want to use the `array_to_string` function, you need an postgres `ARRAY` as first parameter. Your query currently shows `array_to_string(m1_0.keyword,&#39;,&#39;)` where `m1_0.keyword` is not a postgres array. Since you didn&#39;t supply the `StringListConverter` implementation, I&#39;ll assume that you concatenate the `keyword` values with a comma. If you then want to check if you have a value in that list, you can do a simple like without the `array_to_string` function. You should definitely only ever be searching for a single keyword like that, because otherwise you need to ensure the correct order","body":"As you want to use the <code>array_to_string</code> function, you need an postgres <code>ARRAY</code> as first parameter. Your query currently shows <code>array_to_string(m1_0.keyword,&#39;,&#39;)</code> where <code>m1_0.keyword</code> is not a postgres array. Since you didn&#39;t supply the <code>StringListConverter</code> implementation, I&#39;ll assume that you concatenate the <code>keyword</code> values with a comma. If you then want to check if you have a value in that list, you can do a simple like without the <code>array_to_string</code> function. You should definitely only ever be searching for a single keyword like that, because otherwise you need to ensure the correct order"}],"owner":{"account_id":25356183,"reputation":1,"user_id":19172266,"display_name":"Gravite Waves"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674546811,"creation_date":1674544673,"question_id":75218446,"body_markdown":"I want to retrieve the stored DB value converted to a string list in spring boot.\r\n\r\nAs an entity in Spring Boot, I wanted to process it like this, so I processed it as an array that was converted to a string.\r\n\r\n    @Column(name = &quot;keyword&quot;)\r\n    @Convert(converter = StringListConverter.class)\r\n    private List&lt;String&gt; keyword;\r\n\r\nThe problem is that when I do a search, I get an error. For reference, I am calling with restapi and using postgresql and jpa.\r\nAnd the search used sql criteria. (If you let us know by query dsl, we will implement it in that way.)\r\n(Values and keys belonging to the keywords below are entered normally.)\r\n\r\n\r\n    Expression&lt;String&gt; delimiter = criteriaBuilder.&lt;String&gt;literal(&quot;,&quot;);\r\n\r\n    Expression&lt;String&gt; sqlFunction = criteriaBuilder.function(&quot;array_to_string&quot;,String.class,root.get(entry.getKey()), delimiter);\r\n    \r\n    predicates.add(criteriaBuilder.like(sqlFunction,\r\n\t\t\t\t\t\t\t\t\t&#39;%&#39; + entry.getValue().toString().toLowerCase() + &#39;%&#39;));\r\n\r\n     return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\r\n\r\nI googled and created a search logic in this format, but I get an error. Retrieval of any type other than an array is error-free.\r\nArray search feels very difficult.\r\n\r\n\r\n    Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select m1_0.id,m1_0.created,m1_0.description,m1_0.disable,m1_0.group_id,m1_0.keyword,m1_0.name,m1_0.updated,m1_0.work from member m1_0 where array_to_string(m1_0.keyword,&#39;,&#39;) like ? escape &#39;&#39; order by m1_0.id desc offset ? rows fetch first ? rows only]; SQL [n/a]] with root cause\r\n\r\n    org.postgresql.util.PSQLException: ERROR: function array_to_string(character varying, unknown) does not exist\r\n  \r\n    Hint: No function matches the given name and argument types. You might need to add explicit type casts. Position: 174\r\n\r\n\r\nI would appreciate it if you could tell me how to do it, a simple example or something to refer to.\r\n\r\nWhat I&#39;m trying to do is, once I get a string value, I want to start by searching to see if that string is in the array.\r\n\r\nI&#39;ve been struggling for a long time and haven&#39;t been able to find an answer, so I&#39;m asking this question. I also don&#39;t quite understand what the error means.\r\n\r\n","title":"I want to retrieve the stored DB value converted to a string list in spring boot","body":"<p>I want to retrieve the stored DB value converted to a string list in spring boot.</p>\n<p>As an entity in Spring Boot, I wanted to process it like this, so I processed it as an array that was converted to a string.</p>\n<pre><code>@Column(name = &quot;keyword&quot;)\n@Convert(converter = StringListConverter.class)\nprivate List&lt;String&gt; keyword;\n</code></pre>\n<p>The problem is that when I do a search, I get an error. For reference, I am calling with restapi and using postgresql and jpa.\nAnd the search used sql criteria. (If you let us know by query dsl, we will implement it in that way.)\n(Values and keys belonging to the keywords below are entered normally.)</p>\n<pre><code>Expression&lt;String&gt; delimiter = criteriaBuilder.&lt;String&gt;literal(&quot;,&quot;);\n\nExpression&lt;String&gt; sqlFunction = criteriaBuilder.function(&quot;array_to_string&quot;,String.class,root.get(entry.getKey()), delimiter);\n\npredicates.add(criteriaBuilder.like(sqlFunction,\n                                '%' + entry.getValue().toString().toLowerCase() + '%'));\n\n return criteriaBuilder.and(predicates.toArray(new Predicate[0]));\n</code></pre>\n<p>I googled and created a search logic in this format, but I get an error. Retrieval of any type other than an array is error-free.\nArray search feels very difficult.</p>\n<pre><code>Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select m1_0.id,m1_0.created,m1_0.description,m1_0.disable,m1_0.group_id,m1_0.keyword,m1_0.name,m1_0.updated,m1_0.work from member m1_0 where array_to_string(m1_0.keyword,',') like ? escape '' order by m1_0.id desc offset ? rows fetch first ? rows only]; SQL [n/a]] with root cause\n\norg.postgresql.util.PSQLException: ERROR: function array_to_string(character varying, unknown) does not exist\n\nHint: No function matches the given name and argument types. You might need to add explicit type casts. Position: 174\n</code></pre>\n<p>I would appreciate it if you could tell me how to do it, a simple example or something to refer to.</p>\n<p>What I'm trying to do is, once I get a string value, I want to start by searching to see if that string is in the array.</p>\n<p>I've been struggling for a long time and haven't been able to find an answer, so I'm asking this question. I also don't quite understand what the error means.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-boot-actuator"],"owner":{"account_id":27451779,"reputation":11,"user_id":20943898,"display_name":"Ragnar_viking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674546535,"creation_date":1674541375,"question_id":75218054,"body_markdown":"While upgrading my spring-boot project to `2.7.5` i got some incompaitability issues with springfox and actuator, for that i made changes by following this link...\r\n\r\nhttps://stackoverflow.com/questions/70036953/spring-boot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboo#\r\n\r\nIm using Actuator in my project, with the above changes actuator endpoints like `/health` not working fine, so i decided to migrate to springdoc.. i made the changes but im unable to open my swagger.. getting the below error\r\n\r\n&gt; java.lang.IllegalStateException: Failed to load ApplicationContext\r\n&gt; Caused by: org.springframework.beans.factory.BeanCreationException:\r\n&gt; Error creating bean with name &#39;requestMappingHandlerMapping&#39; defined\r\n&gt; in class path resource\r\n&gt; [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\r\n\r\n\r\nI have added `spring.mvc.pathmatch.matching-strategy=ant_path_matcher`, im not getting the error but swagger was not opening and the actuator endpoints also not working as expected getting status as `DOWN` while checking the health..","title":"Upgrading spring-boot version to 2.7.5, migrating to springdoc","body":"<p>While upgrading my spring-boot project to <code>2.7.5</code> i got some incompaitability issues with springfox and actuator, for that i made changes by following this link...</p>\n<p><a href=\"https://stackoverflow.com/questions/70036953/spring-boot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboo#\">Spring Boot 2.6.0 / Spring fox 3 - Failed to start bean &#39;documentationPluginsBootstrapper&#39;</a></p>\n<p>Im using Actuator in my project, with the above changes actuator endpoints like <code>/health</code> not working fine, so i decided to migrate to springdoc.. i made the changes but im unable to open my swagger.. getting the below error</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.BeanCreationException:\nError creating bean with name 'requestMappingHandlerMapping' defined\nin class path resource\n[org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]</p>\n</blockquote>\n<p>I have added <code>spring.mvc.pathmatch.matching-strategy=ant_path_matcher</code>, im not getting the error but swagger was not opening and the actuator endpoints also not working as expected getting status as <code>DOWN</code> while checking the health..</p>\n"},{"tags":["java","oop","generics","tuples"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1674546143,"post_id":75218524,"comment_id":132731133,"body_markdown":"Related, if not a duplicate: [In Java, can I specify any amount of generic type parameters?](https://stackoverflow.com/q/33569103/6395627).","body":"Related, if not a duplicate: <a href=\"https://stackoverflow.com/q/33569103/6395627\">In Java, can I specify any amount of generic type parameters?</a>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1674547734,"post_id":75218524,"comment_id":132731509,"body_markdown":"Note that the use of Tuples is generally discouraged in Java (also in C++). Prefer a `record` instead.","body":"Note that the use of Tuples is generally discouraged in Java (also in C++). Prefer a <code>record</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":27597963,"reputation":1024,"user_id":21063779,"display_name":"Lae"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1674545617,"creation_date":1674545617,"answer_id":75218580,"question_id":75218524,"body_markdown":"You can&#39;t, that&#39;s not supported in Java.","title":"Variable Amount of Generics in Java","body":"<p>You can't, that's not supported in Java.</p>\n"}],"owner":{"account_id":23991621,"reputation":205,"user_id":17977692,"display_name":"Francis Godinho"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75218580,"answer_count":1,"score":1,"last_activity_date":1674546136,"creation_date":1674545255,"question_id":75218524,"body_markdown":"In C++ you can create a tuple with a variable number of parameters. How would I implement something like this in Java without explicitly hard coding the amount of generics. I want to be able to do something like:\r\n\r\nTuple&lt;Integer, Integer, String&gt; t\r\n\r\nbut without forcing myself to use three items in a tuple.","title":"Variable Amount of Generics in Java","body":"<p>In C++ you can create a tuple with a variable number of parameters. How would I implement something like this in Java without explicitly hard coding the amount of generics. I want to be able to do something like:</p>\n<p>Tuple&lt;Integer, Integer, String&gt; t</p>\n<p>but without forcing myself to use three items in a tuple.</p>\n"},{"tags":["java","eclipse","jface"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1674545368,"post_id":75217580,"comment_id":132730945,"body_markdown":"Are you asking about one of the two `FilteredTree` classes in Eclipse, or a normal `TreeViewer` with a filter? I think you need to show us a [mre]. If you have a lot of data in the tree you may need to use a virtual tree with `ILazyTreeContentProvider`","body":"Are you asking about one of the two <code>FilteredTree</code> classes in Eclipse, or a normal <code>TreeViewer</code> with a filter? I think you need to show us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. If you have a lot of data in the tree you may need to use a virtual tree with <code>ILazyTreeContentProvider</code>"},{"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"score":0,"creation_date":1674545731,"post_id":75217580,"comment_id":132731020,"body_markdown":"I am using org.eclipse.ui.dialogs.FilteredTree","body":"I am using org.eclipse.ui.dialogs.FilteredTree"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1674547539,"post_id":75217580,"comment_id":132731464,"body_markdown":"You are specifying SWT.VIRTUAL - does the content provider implement ILazyTreeContentProvider? (SWT.VIRTUAL doesn&#39;t really do much without it). But if I remember correctly a lazy tree doesn&#39;t work properly with filters and the content provider has to do the filtering.","body":"You are specifying SWT.VIRTUAL - does the content provider implement ILazyTreeContentProvider? (SWT.VIRTUAL doesn&#39;t really do much without it). But if I remember correctly a lazy tree doesn&#39;t work properly with filters and the content provider has to do the filtering."},{"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"score":0,"creation_date":1674551249,"post_id":75217580,"comment_id":132732566,"body_markdown":"No, the content provider is implementing ITreeContentProvider as I was not understand how to filter items with content provider.\nMy filter needs to work same like FilteredTree and org.eclipse.ui.dialogs.PatternFilter , so I used those.","body":"No, the content provider is implementing ITreeContentProvider as I was not understand how to filter items with content provider. My filter needs to work same like FilteredTree and org.eclipse.ui.dialogs.PatternFilter , so I used those."}],"owner":{"account_id":7595573,"reputation":101,"user_id":5761837,"accept_rate":17,"display_name":"A.Goel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674545951,"creation_date":1674536526,"question_id":75217580,"body_markdown":"I have used a filtered tree in order to filter the contents.\r\nIf filter text is having some text, in this case tree is expanding properly.\r\nBut If the filter text is empty, then tree is not expanding at all.\r\n\r\nCan some one guide me how to expand the filter tree if I the filter text becomes empty?\r\n\r\nAlso, In the beginning when Tree is having lot of data and I am  expanding it by `treeViewer.expandAll()` then it takes lot of time to open the dialog.\r\nSo, how to handle that performance?\r\n\r\nCode Sample\r\n\r\n    FilteredTree filterTree = new FilteredTree(parent, SWT.VIRTUAL | SWT.BORDER, new PatternFilter());\r\n    filterTree.setQuickSelectionMode(true);\r\n    treeViewer = filterTree.getViewer();\r\n    treeViewer.setContentProvider(contentProvider);\r\n    treeViewer.setInput(input);\r\n    treeViewer.setLabelProvider(new LabelProvider());\r\n    treeViewer.expandAll();\r\n\r\n","title":"How to expand a FilteredTree after the filteration?","body":"<p>I have used a filtered tree in order to filter the contents.\nIf filter text is having some text, in this case tree is expanding properly.\nBut If the filter text is empty, then tree is not expanding at all.</p>\n<p>Can some one guide me how to expand the filter tree if I the filter text becomes empty?</p>\n<p>Also, In the beginning when Tree is having lot of data and I am  expanding it by <code>treeViewer.expandAll()</code> then it takes lot of time to open the dialog.\nSo, how to handle that performance?</p>\n<p>Code Sample</p>\n<pre><code>FilteredTree filterTree = new FilteredTree(parent, SWT.VIRTUAL | SWT.BORDER, new PatternFilter());\nfilterTree.setQuickSelectionMode(true);\ntreeViewer = filterTree.getViewer();\ntreeViewer.setContentProvider(contentProvider);\ntreeViewer.setInput(input);\ntreeViewer.setLabelProvider(new LabelProvider());\ntreeViewer.expandAll();\n</code></pre>\n"},{"tags":["java","spring-boot","cors"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674545276,"post_id":75218419,"comment_id":132730921,"body_markdown":"Not sure what happens here but your code also sets allowed methods to all of them but response headers says only GET. I noticed that the response seems to come from nginx so there might be some proxy configuration that needs changing...","body":"Not sure what happens here but your code also sets allowed methods to all of them but response headers says only GET. I noticed that the response seems to come from nginx so there might be some proxy configuration that needs changing..."},{"owner":{"account_id":6840936,"reputation":619,"user_id":5261352,"display_name":"Ashish Bhosle"},"score":0,"creation_date":1674545938,"post_id":75218419,"comment_id":132731073,"body_markdown":"Hey @grekier, when I do a preflight from CURL it seems to be working. I have updated that info to the question","body":"Hey @grekier, when I do a preflight from CURL it seems to be working. I have updated that info to the question"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674549121,"post_id":75218419,"comment_id":132731909,"body_markdown":"To me, it seems that curl get to Spring Boot but the browser did not. Do you have a proxy in between? If so, can you share its config?","body":"To me, it seems that curl get to Spring Boot but the browser did not. Do you have a proxy in between? If so, can you share its config?"}],"owner":{"account_id":6840936,"reputation":619,"user_id":5261352,"display_name":"Ashish Bhosle"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674545867,"creation_date":1674544513,"question_id":75218419,"body_markdown":"I am getting **Credential is not supported if the CORS header &#39;Access-Control-Allow-Origin&#39; is &#39;*&#39;** error. Below is the response of preflight request\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you can see the value of **access-control-allow-origin** is set to **\\***. It should be value of origin header in the request. Because of this **\\*** I am getting above error.\r\n\r\nIf I invoke preflight from CURL, I get the correct response,\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBelow is my CORS filter,\r\n\r\n\r\n```\r\n@Bean\r\n    public CorsFilter corsFilter() {\r\n        List&lt;String&gt; allowedMethods = Arrays.asList(&quot;GET&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;, &quot;POST&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;);\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowedOriginPatterns(corsUrls);\r\n        config.setAllowedMethods(allowedMethods);\r\n        config.setAllowCredentials(true);\r\n        config.addAllowedHeader(ALL);\r\n\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n\r\n        return new CorsFilter(source);\r\n    }\r\n```\r\n\r\nBut for actual request it sets value of **access-control-allow-origin** to value of origin header in the request.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Hwknn.png\r\n  [2]: https://i.stack.imgur.com/03hPo.png","title":"Spring boot CORS withCredentials","body":"<p>I am getting <strong>Credential is not supported if the CORS header 'Access-Control-Allow-Origin' is '*'</strong> error. Below is the response of preflight request</p>\n<p><a href=\"https://i.stack.imgur.com/Hwknn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Hwknn.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see the value of <strong>access-control-allow-origin</strong> is set to <strong>*</strong>. It should be value of origin header in the request. Because of this <strong>*</strong> I am getting above error.</p>\n<p>If I invoke preflight from CURL, I get the correct response,</p>\n<p><a href=\"https://i.stack.imgur.com/03hPo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/03hPo.png\" alt=\"enter image description here\" /></a></p>\n<p>Below is my CORS filter,</p>\n<pre><code>@Bean\n    public CorsFilter corsFilter() {\n        List&lt;String&gt; allowedMethods = Arrays.asList(&quot;GET&quot;, &quot;PUT&quot;, &quot;DELETE&quot;, &quot;PATCH&quot;, &quot;POST&quot;, &quot;HEAD&quot;, &quot;OPTIONS&quot;);\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOriginPatterns(corsUrls);\n        config.setAllowedMethods(allowedMethods);\n        config.setAllowCredentials(true);\n        config.addAllowedHeader(ALL);\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n\n        return new CorsFilter(source);\n    }\n</code></pre>\n<p>But for actual request it sets value of <strong>access-control-allow-origin</strong> to value of origin header in the request.</p>\n"},{"tags":["java","scala","apache-spark","nosuchmethoderror","spark-streaming-kafka"],"comments":[{"owner":{"account_id":9096979,"reputation":4448,"user_id":6770614,"display_name":"Boris Azanov"},"score":1,"creation_date":1674502319,"post_id":75214160,"comment_id":132723550,"body_markdown":"maybe answer is here https://stackoverflow.com/a/67779298/6770614","body":"maybe answer is here <a href=\"https://stackoverflow.com/a/67779298/6770614\">stackoverflow.com/a/67779298/6770614</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1674545892,"post_id":75214160,"comment_id":132731060,"body_markdown":"`NoSuchMethodError` https://stackoverflow.com/questions/35186/how-do-i-fix-a-nosuchmethoderror https://stackoverflow.com/questions/8168052/java-lang-nosuchmethoderror-when-the-method-definitely-exists https://stackoverflow.com/questions/59706633/nosuchmethoderror-java","body":"<code>NoSuchMethodError</code> <a href=\"https://stackoverflow.com/questions/35186/how-do-i-fix-a-nosuchmethoderror\" title=\"how do i fix a nosuchmethoderror\">stackoverflow.com/questions/35186/&hellip;</a> <a href=\"https://stackoverflow.com/questions/8168052/java-lang-nosuchmethoderror-when-the-method-definitely-exists\" title=\"java lang nosuchmethoderror when the method definitely exists\">stackoverflow.com/questions/8168052/&hellip;</a> <a href=\"https://stackoverflow.com/questions/59706633/nosuchmethoderror-java\" title=\"nosuchmethoderror java\">stackoverflow.com/questions/59706633/nosuchmethoderror-java</a>"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1674546318,"post_id":75214160,"comment_id":132731166,"body_markdown":"*&quot;I have compiled an Uber JAR, so all dependencies are included.&quot;* How do you manage duplicates? (For example in sbt with sbt-assembly plugin there can be issues if a wrong merge strategy is chosen: https://stackoverflow.com/questions/74800073/ https://stackoverflow.com/questions/74809158/ https://stackoverflow.com/questions/74879217 https://stackoverflow.com/questions/25144484 https://stackoverflow.com/questions/74881933/)","body":"<i>&quot;I have compiled an Uber JAR, so all dependencies are included.&quot;</i> How do you manage duplicates? (For example in sbt with sbt-assembly plugin there can be issues if a wrong merge strategy is chosen: <a href=\"https://stackoverflow.com/questions/74800073/\">stackoverflow.com/questions/74800073</a> <a href=\"https://stackoverflow.com/questions/74809158/\">stackoverflow.com/questions/74809158</a> <a href=\"https://stackoverflow.com/questions/74879217\">stackoverflow.com/questions/74879217</a> <a href=\"https://stackoverflow.com/questions/25144484\">stackoverflow.com/questions/25144484</a> <a href=\"https://stackoverflow.com/questions/74881933/\">stackoverflow.com/questions/74881933</a>)"},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":0,"creation_date":1674546352,"post_id":75214160,"comment_id":132731173,"body_markdown":"Could you show your build file? (`pom.xml`?)","body":"Could you show your build file? (<code>pom.xml</code>?)"}],"owner":{"account_id":244890,"reputation":14524,"user_id":518012,"accept_rate":66,"display_name":"Eugene Goldberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":374,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674545810,"creation_date":1674502057,"question_id":75214160,"body_markdown":"I have a simple Spark streaming java program:\r\n\r\n    import org.apache.kafka.clients.consumer.ConsumerRecord;\r\n    import org.apache.spark.SparkConf;\r\n    import org.apache.spark.streaming.Durations;\r\n    import org.apache.spark.streaming.api.java.*;\r\n    import org.apache.spark.streaming.kafka010.*;\r\n    import org.apache.kafka.common.serialization.StringDeserializer;\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class KafkaStreamingExample {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            SparkConf conf = new SparkConf().setAppName(&quot;KafkaStreamingExample&quot;).setMaster(&quot;local[2]&quot;);\r\n            JavaStreamingContext jssc = new JavaStreamingContext(conf, Durations.seconds(5));\r\n    \r\n            Map&lt;String, Object&gt; kafkaParams = new HashMap&lt;&gt;();\r\n            kafkaParams.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n            kafkaParams.put(&quot;key.deserializer&quot;, StringDeserializer.class);\r\n            kafkaParams.put(&quot;value.deserializer&quot;, StringDeserializer.class);\r\n            kafkaParams.put(&quot;group.id&quot;, &quot;group1&quot;);\r\n            kafkaParams.put(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\r\n            kafkaParams.put(&quot;enable.auto.commit&quot;, false);\r\n    \r\n            Collection&lt;String&gt; topics = Arrays.asList(&quot;dbserver1.inventory.customers&quot;);\r\n    \r\n            JavaInputDStream&lt;ConsumerRecord&lt;String, String&gt;&gt; stream =\r\n                    KafkaUtils.createDirectStream(\r\n                            jssc,\r\n                            LocationStrategies.PreferConsistent(),\r\n                            ConsumerStrategies.&lt;String, String&gt;Subscribe(topics, kafkaParams)\r\n                    );\r\n    \r\n            stream.foreachRDD(rdd -&gt; {\r\n                rdd.foreach(record -&gt; {\r\n                    System.out.println(record.value());\r\n                });\r\n            });\r\n    \r\n            jssc.start();\r\n            jssc.awaitTermination();\r\n        }\r\n    }\r\n\r\n\r\nThis program is compiled against Java 1.8 SDK and is supposed to stream some data coming from a Kafka topic.\r\n\r\nI have compiled an Uber JAR, so all dependencies are included.\r\n\r\nI am submitting this to my Spark 3.3.1 cluster using this command:\r\n\r\n    ./bin/spark-submit --class KafkaStreamingExample --master yarn --deploy-mode client --executor-memory 2g --num-executors 1 kafka-streaming-example-jar-with-dependencies.jar\r\n\r\n\r\nI get this error when the job is submitted:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: scala.collection.immutable.Map$.apply(Lscala/collection/immutable/Seq;)Ljava/lang/Object;\r\n    \tat org.apache.spark.streaming.kafka010.DirectKafkaInputDStream.&lt;init&gt;(DirectKafkaInputDStream.scala:68)\r\n    \tat org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:136)\r\n    \tat org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:115)\r\n    \tat org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:156)\r\n    \tat org.apache.spark.streaming.kafka010.KafkaUtils.createDirectStream(KafkaUtils.scala)\r\n    \tat KafkaStreamingExample.main(KafkaStreamingExample.java:28)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\r\n    \tat org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:958)\r\n    \tat org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\r\n    \tat org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\r\n    \tat org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\r\n    \tat org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1046)\r\n    \tat org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1055)\r\n    \tat org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\r\n\r\n\r\nWhat should I change to overcome this error?","title":"Spark Streaming - NoSuchMethodError: scala.collection.immutable.Map$.apply","body":"<p>I have a simple Spark streaming java program:</p>\n<pre><code>import org.apache.kafka.clients.consumer.ConsumerRecord;\nimport org.apache.spark.SparkConf;\nimport org.apache.spark.streaming.Durations;\nimport org.apache.spark.streaming.api.java.*;\nimport org.apache.spark.streaming.kafka010.*;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class KafkaStreamingExample {\n    public static void main(String[] args) throws InterruptedException {\n        SparkConf conf = new SparkConf().setAppName(&quot;KafkaStreamingExample&quot;).setMaster(&quot;local[2]&quot;);\n        JavaStreamingContext jssc = new JavaStreamingContext(conf, Durations.seconds(5));\n\n        Map&lt;String, Object&gt; kafkaParams = new HashMap&lt;&gt;();\n        kafkaParams.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        kafkaParams.put(&quot;key.deserializer&quot;, StringDeserializer.class);\n        kafkaParams.put(&quot;value.deserializer&quot;, StringDeserializer.class);\n        kafkaParams.put(&quot;group.id&quot;, &quot;group1&quot;);\n        kafkaParams.put(&quot;auto.offset.reset&quot;, &quot;latest&quot;);\n        kafkaParams.put(&quot;enable.auto.commit&quot;, false);\n\n        Collection&lt;String&gt; topics = Arrays.asList(&quot;dbserver1.inventory.customers&quot;);\n\n        JavaInputDStream&lt;ConsumerRecord&lt;String, String&gt;&gt; stream =\n                KafkaUtils.createDirectStream(\n                        jssc,\n                        LocationStrategies.PreferConsistent(),\n                        ConsumerStrategies.&lt;String, String&gt;Subscribe(topics, kafkaParams)\n                );\n\n        stream.foreachRDD(rdd -&gt; {\n            rdd.foreach(record -&gt; {\n                System.out.println(record.value());\n            });\n        });\n\n        jssc.start();\n        jssc.awaitTermination();\n    }\n}\n</code></pre>\n<p>This program is compiled against Java 1.8 SDK and is supposed to stream some data coming from a Kafka topic.</p>\n<p>I have compiled an Uber JAR, so all dependencies are included.</p>\n<p>I am submitting this to my Spark 3.3.1 cluster using this command:</p>\n<pre><code>./bin/spark-submit --class KafkaStreamingExample --master yarn --deploy-mode client --executor-memory 2g --num-executors 1 kafka-streaming-example-jar-with-dependencies.jar\n</code></pre>\n<p>I get this error when the job is submitted:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: scala.collection.immutable.Map$.apply(Lscala/collection/immutable/Seq;)Ljava/lang/Object;\n    at org.apache.spark.streaming.kafka010.DirectKafkaInputDStream.&lt;init&gt;(DirectKafkaInputDStream.scala:68)\n    at org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:136)\n    at org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:115)\n    at org.apache.spark.streaming.kafka010.KafkaUtils$.createDirectStream(KafkaUtils.scala:156)\n    at org.apache.spark.streaming.kafka010.KafkaUtils.createDirectStream(KafkaUtils.scala)\n    at KafkaStreamingExample.main(KafkaStreamingExample.java:28)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.spark.deploy.JavaMainApplication.start(SparkApplication.scala:52)\n    at org.apache.spark.deploy.SparkSubmit.org$apache$spark$deploy$SparkSubmit$$runMain(SparkSubmit.scala:958)\n    at org.apache.spark.deploy.SparkSubmit.doRunMain$1(SparkSubmit.scala:180)\n    at org.apache.spark.deploy.SparkSubmit.submit(SparkSubmit.scala:203)\n    at org.apache.spark.deploy.SparkSubmit.doSubmit(SparkSubmit.scala:90)\n    at org.apache.spark.deploy.SparkSubmit$$anon$2.doSubmit(SparkSubmit.scala:1046)\n    at org.apache.spark.deploy.SparkSubmit$.main(SparkSubmit.scala:1055)\n    at org.apache.spark.deploy.SparkSubmit.main(SparkSubmit.scala)\n</code></pre>\n<p>What should I change to overcome this error?</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":2501651,"reputation":816,"user_id":2176572,"accept_rate":100,"display_name":"bashnesnos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1476175336,"creation_date":1476175336,"answer_id":39973464,"question_id":39966465,"body_markdown":"You&#39;ve pretty much answered your question yourself:\r\n\r\n&gt; it looks like this may be more limited to **compiling** with a separate version of java, **not executing**\r\n\r\nRun Gradle under the Java 8 (that would mean specifying your JAVA_HOME as JDK 8), and fork the compiler for your app with Java 6 (as per your research).","title":"How to execute gradle plugin with different version of java","body":"<p>You've pretty much answered your question yourself:</p>\n\n<blockquote>\n  <p>it looks like this may be more limited to <strong>compiling</strong> with a separate version of java, <strong>not executing</strong></p>\n</blockquote>\n\n<p>Run Gradle under the Java 8 (that would mean specifying your JAVA_HOME as JDK 8), and fork the compiler for your app with Java 6 (as per your research).</p>\n"}],"owner":{"account_id":6199432,"reputation":912,"user_id":4829765,"accept_rate":82,"display_name":"Andrew"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":39973464,"answer_count":1,"score":0,"last_activity_date":1674545463,"creation_date":1476132295,"question_id":39966465,"body_markdown":"I am running into an issue with my gradle build script, `build.gradle`, for my *java* project. In this script I need to compile the application with *Java* 6 in order to comply with the application specifications. However, I am also using a gradle plugin that performs code analysis that needs to be run under a *Java* 8 JVM. What do I need to do in `build.gradle` or other gradle settings in order to get this plugin to use a separate *Java* JVM? \r\n\r\nI need to do something like this as gradle tasks fail because the plugin is reporting a `Unsupported major.minor version 52.0` Error.  \r\n\r\n**Research**  \r\n\r\nI have done some invesitigation and I did see the following mentioned: \r\n```\r\noptions.fork = true\r\noptions.forkOptions.executable = System.getenv(&#39;OTHER_JAVA&#39;)\r\n```  \r\n\r\nWhere `OTHER_JAVA` is an environment variable to the other version of *Java*. However, I have not been able to get this to work for the plug-in and after some more research, it looks like this may be more limited to **compiling** with a separate version of java, not **executing**.  \r\nSee: https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version\r\n\r\n\r\n","title":"How to execute gradle plugin with different version of java","body":"<p>I am running into an issue with my gradle build script, <code>build.gradle</code>, for my <em>java</em> project. In this script I need to compile the application with <em>Java</em> 6 in order to comply with the application specifications. However, I am also using a gradle plugin that performs code analysis that needs to be run under a <em>Java</em> 8 JVM. What do I need to do in <code>build.gradle</code> or other gradle settings in order to get this plugin to use a separate <em>Java</em> JVM? </p>\n\n<p>I need to do something like this as gradle tasks fail because the plugin is reporting a <code>Unsupported major.minor version 52.0</code> Error.  </p>\n\n<p><strong>Research</strong>  </p>\n\n<p>I have done some invesitigation and I did see the following mentioned: \n<code>\noptions.fork = true\noptions.forkOptions.executable = System.getenv('OTHER_JAVA')\n</code>  </p>\n\n<p>Where <code>OTHER_JAVA</code> is an environment variable to the other version of <em>Java</em>. However, I have not been able to get this to work for the plug-in and after some more research, it looks like this may be more limited to <strong>compiling</strong> with a separate version of java, not <strong>executing</strong>.<br>\nSee: <a href=\"https://stackoverflow.com/questions/18487406/how-do-i-tell-gradle-to-use-specific-jdk-version\">How do I tell Gradle to use specific JDK version?</a></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":1,"creation_date":1674545585,"post_id":75218546,"comment_id":132730987,"body_markdown":"Please take a look on this question: https://stackoverflow.com/questions/2661536/how-to-programmatically-take-a-screenshot-on-android","body":"Please take a look on this question: <a href=\"https://stackoverflow.com/questions/2661536/how-to-programmatically-take-a-screenshot-on-android\" title=\"how to programmatically take a screenshot on android\">stackoverflow.com/questions/2661536/&hellip;</a>"},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1674564707,"post_id":75218546,"comment_id":132736645,"body_markdown":"&quot;but every screenshot,it will pop up a window&quot; -- it will only display a window once per process invocation.","body":"&quot;but every screenshot,it will pop up a window&quot; -- it will only display a window once per process invocation."}],"owner":{"account_id":27606951,"reputation":1,"user_id":21070860,"display_name":"androidfans"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674548075,"answer_count":0,"score":0,"last_activity_date":1674545405,"creation_date":1674545405,"question_id":75218546,"body_markdown":"   I want my app  to take a screenshot of another screen every 5 minutes from a background service.I know ,MediaProjection API can achieve this,but every screenshot,it will pop up a window ,u need  to click &#39;start immediately&#39;,that is not acceptable,i need take  screenshot automatically,can someone give me some advice,thanks!\r\n  i heard that    AccessibilityService has the ability of takeScreenshot,someone can give me a demo demonstrating it,thanks!\r\nthat is ths API\r\n\r\ntakeScreenshot\r\nAdded in API level 30\r\n\r\npublic void takeScreenshot (int displayId, \r\n                Executor executor, \r\n                AccessibilityService.TakeScreenshotCallback callback)\r\nTakes a screenshot of the specified display and returns it via an AccessibilityService.ScreenshotResult. You can use Bitmap#wrapHardwareBuffer to construct the bitmap from the ScreenshotResult&#39;s payload.\r\n\r\nNote: In order to take screenshot your service has to declare the capability to take screenshot by setting the R.styleable.AccessibilityService_canTakeScreenshot property in its meta-data. For details refer to SERVICE_META_DATA.\r\n\r\nParameters\r\ndisplayId\tint: The logic display id, must be Display#DEFAULT_DISPLAY for default display.\r\nexecutor\tExecutor: Executor on which to run the callback. This value cannot be null. Callback and listener events are dispatched through this Executor, providing an easy way to control which thread is used. To dispatch events through the main thread of your application, you can use Context.getMainExecutor(). Otherwise, provide an Executor that dispatches to an appropriate thread.\r\ncallback\tAccessibilityService.TakeScreenshotCallback: The callback invoked when taking screenshot has succeeded or failed. See TakeScreenshotCallback for details. This value cannot be null.\r\n\r\n   I want my app  to take a screenshot of another screen every 5 minutes from a background service.I know ,MediaProjection API can achieve this,but every screenshot,it will pop up a window ,u need  to click &#39;start immediately&#39;,that is not acceptable,i need take  screenshot automatically,can someone give me some advice,thanks!\r\n  i heard that    AccessibilityService has the ability of takeScreenshot,someone can give me a demo demonstrating it,thanks!\r\nthat is ths API\r\n\r\ntakeScreenshot\r\nAdded in API level 30\r\n\r\npublic void takeScreenshot (int displayId, \r\n                Executor executor, \r\n                AccessibilityService.TakeScreenshotCallback callback)\r\nTakes a screenshot of the specified display and returns it via an AccessibilityService.ScreenshotResult. You can use Bitmap#wrapHardwareBuffer to construct the bitmap from the ScreenshotResult&#39;s payload.\r\n\r\nNote: In order to take screenshot your service has to declare the capability to take screenshot by setting the R.styleable.AccessibilityService_canTakeScreenshot property in its meta-data. For details refer to SERVICE_META_DATA.\r\n\r\nParameters\r\ndisplayId\tint: The logic display id, must be Display#DEFAULT_DISPLAY for default display.\r\nexecutor\tExecutor: Executor on which to run the callback. This value cannot be null. Callback and listener events are dispatched through this Executor, providing an easy way to control which thread is used. To dispatch events through the main thread of your application, you can use Context.getMainExecutor(). Otherwise, provide an Executor that dispatches to an appropriate thread.\r\ncallback\tAccessibilityService.TakeScreenshotCallback: The callback invoked when taking screenshot has succeeded or failed. See TakeScreenshotCallback for details. This value cannot be null.","title":"how to programmatically take a screenshot of android device?","body":"<p>I want my app  to take a screenshot of another screen every 5 minutes from a background service.I know ,MediaProjection API can achieve this,but every screenshot,it will pop up a window ,u need  to click 'start immediately',that is not acceptable,i need take  screenshot automatically,can someone give me some advice,thanks!\ni heard that    AccessibilityService has the ability of takeScreenshot,someone can give me a demo demonstrating it,thanks!\nthat is ths API</p>\n<p>takeScreenshot\nAdded in API level 30</p>\n<p>public void takeScreenshot (int displayId,\nExecutor executor,\nAccessibilityService.TakeScreenshotCallback callback)\nTakes a screenshot of the specified display and returns it via an AccessibilityService.ScreenshotResult. You can use Bitmap#wrapHardwareBuffer to construct the bitmap from the ScreenshotResult's payload.</p>\n<p>Note: In order to take screenshot your service has to declare the capability to take screenshot by setting the R.styleable.AccessibilityService_canTakeScreenshot property in its meta-data. For details refer to SERVICE_META_DATA.</p>\n<p>Parameters\ndisplayId   int: The logic display id, must be Display#DEFAULT_DISPLAY for default display.\nexecutor    Executor: Executor on which to run the callback. This value cannot be null. Callback and listener events are dispatched through this Executor, providing an easy way to control which thread is used. To dispatch events through the main thread of your application, you can use Context.getMainExecutor(). Otherwise, provide an Executor that dispatches to an appropriate thread.\ncallback    AccessibilityService.TakeScreenshotCallback: The callback invoked when taking screenshot has succeeded or failed. See TakeScreenshotCallback for details. This value cannot be null.</p>\n<p>I want my app  to take a screenshot of another screen every 5 minutes from a background service.I know ,MediaProjection API can achieve this,but every screenshot,it will pop up a window ,u need  to click 'start immediately',that is not acceptable,i need take  screenshot automatically,can someone give me some advice,thanks!\ni heard that    AccessibilityService has the ability of takeScreenshot,someone can give me a demo demonstrating it,thanks!\nthat is ths API</p>\n<p>takeScreenshot\nAdded in API level 30</p>\n<p>public void takeScreenshot (int displayId,\nExecutor executor,\nAccessibilityService.TakeScreenshotCallback callback)\nTakes a screenshot of the specified display and returns it via an AccessibilityService.ScreenshotResult. You can use Bitmap#wrapHardwareBuffer to construct the bitmap from the ScreenshotResult's payload.</p>\n<p>Note: In order to take screenshot your service has to declare the capability to take screenshot by setting the R.styleable.AccessibilityService_canTakeScreenshot property in its meta-data. For details refer to SERVICE_META_DATA.</p>\n<p>Parameters\ndisplayId   int: The logic display id, must be Display#DEFAULT_DISPLAY for default display.\nexecutor    Executor: Executor on which to run the callback. This value cannot be null. Callback and listener events are dispatched through this Executor, providing an easy way to control which thread is used. To dispatch events through the main thread of your application, you can use Context.getMainExecutor(). Otherwise, provide an Executor that dispatches to an appropriate thread.\ncallback    AccessibilityService.TakeScreenshotCallback: The callback invoked when taking screenshot has succeeded or failed. See TakeScreenshotCallback for details. This value cannot be null.</p>\n"},{"tags":["java","kubernetes","tomcat","dockerfile"],"comments":[{"owner":{"account_id":25444108,"reputation":1042,"user_id":19246531,"display_name":"Nataraj Medayhal"},"score":0,"creation_date":1674536089,"post_id":75215396,"comment_id":132729421,"body_markdown":"it will certainly work. one another option is loading site specific values using config map as env variables, which can be used directly in server.xml file","body":"it will certainly work. one another option is loading site specific values using config map as env variables, which can be used directly in server.xml file"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301938,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674545121,"creation_date":1674545121,"answer_id":75218510,"question_id":75215396,"body_markdown":"To illustrate [Nataraj Medayhal][1], you can find an example based on configMap on [`devlinx9/k8s_tomcat_custer`][2]\r\n\r\n&gt; The configMap is used to control the configuration of tomcat, in this we added the cluster configuration, save the following text in a file `configmap-tomcat.yaml`\r\n&gt;\r\n&gt; ``` yaml\r\n&gt; apiVersion: v1\r\n&gt;kind: ConfigMap\r\n&gt;metadata:\r\n&gt;  name: testconfig\r\n&gt;data:\r\n&gt;  server.xml: |\r\n&gt;    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&gt;\r\n&gt;    &lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\r\n&gt;      &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\r\n&gt;\r\n&gt;      &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\r\n&gt; ...\r\n&gt;    &lt;/Server&gt;\r\n&gt; ```\r\n&gt; Create the configMap:\r\n&gt;\r\n&gt;     kubectl apply -f configmap-tomcat.yaml -n {namespace}\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/19246531/nataraj-medayhal\r\n  [2]: https://github.com/devlinx9/k8s_tomcat_custer","title":"Kubernetes deployment of tomcat docker image needs custom server,xml","body":"<p>To illustrate <a href=\"https://stackoverflow.com/users/19246531/nataraj-medayhal\">Nataraj Medayhal</a>, you can find an example based on configMap on <a href=\"https://github.com/devlinx9/k8s_tomcat_custer\" rel=\"nofollow noreferrer\"><code>devlinx9/k8s_tomcat_custer</code></a></p>\n<blockquote>\n<p>The configMap is used to control the configuration of tomcat, in this we added the cluster configuration, save the following text in a file <code>configmap-tomcat.yaml</code></p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n name: testconfig\ndata:\n server.xml: |\n   &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n   &lt;Server port=&quot;8005&quot; shutdown=&quot;SHUTDOWN&quot;&gt;\n     &lt;Listener className=&quot;org.apache.catalina.startup.VersionLoggerListener&quot; /&gt;\n\n     &lt;Listener className=&quot;org.apache.catalina.core.AprLifecycleListener&quot; SSLEngine=&quot;on&quot; /&gt;\n...\n   &lt;/Server&gt;\n</code></pre>\n<p>Create the configMap:</p>\n<pre><code>kubectl apply -f configmap-tomcat.yaml -n {namespace}\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":1188304,"reputation":29,"user_id":1161783,"display_name":"Mark Jaffe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674545121,"creation_date":1674510571,"question_id":75215396,"body_markdown":"When deploying the app, certain environment-specific settings need to be applied to the server.xml, which cannot be applied when the container is built. Has anyone tried using a volume_mounted config file, and where would I tell tomcat the location of this custom config?","title":"Kubernetes deployment of tomcat docker image needs custom server,xml","body":"<p>When deploying the app, certain environment-specific settings need to be applied to the server.xml, which cannot be applied when the container is built. Has anyone tried using a volume_mounted config file, and where would I tell tomcat the location of this custom config?</p>\n"},{"tags":["java","amazon-web-services","docker","amazon-ecs"],"comments":[{"owner":{"account_id":8704066,"reputation":812,"user_id":6512807,"display_name":"Vikram S"},"score":2,"creation_date":1674551303,"post_id":75218231,"comment_id":132732575,"body_markdown":"Can you share how the port mapping looks in your taskdef, it is generally better idea to use dynamic ports in taskdef","body":"Can you share how the port mapping looks in your taskdef, it is generally better idea to use dynamic ports in taskdef"}],"owner":{"account_id":27606831,"reputation":1,"user_id":21070769,"display_name":"Prem Kagrani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674544722,"creation_date":1674542843,"question_id":75218231,"body_markdown":"Facing the following issue where the instance is getting deregistered and registered again in target group upon deployment.\r\nAs per ECS Agent logs, the port is already allocated but there should be nothing running there as it is a new instance provisioned. The service starts on that instance after multiple deregistering and registering.\r\n\r\n\r\n```\r\nerror transitioning container [service-name (Runtime ID: 1b85055bb8bc3a35480c99186d4e4bbae1adrar55aca3ba64464087a0fb65bbc7ac)] to [RUNNING]: Error response from daemon: driver failed programming external connectivity on endpoint ecs-service-name-16-service-name-82e4b9a5b68etaebeee9901 (06c5f822887754656976e52cbedce0074rar0243e56d7a2aeaf194469e2189048a7): Bind for 0.0.0.0:8080 failed: port is already allocated&quot; module=docker_task_engine.go\r\n```","title":"Instance Deregestering and registering again in target group in Amazon ECS Spot Instance","body":"<p>Facing the following issue where the instance is getting deregistered and registered again in target group upon deployment.\nAs per ECS Agent logs, the port is already allocated but there should be nothing running there as it is a new instance provisioned. The service starts on that instance after multiple deregistering and registering.</p>\n<pre><code>error transitioning container [service-name (Runtime ID: 1b85055bb8bc3a35480c99186d4e4bbae1adrar55aca3ba64464087a0fb65bbc7ac)] to [RUNNING]: Error response from daemon: driver failed programming external connectivity on endpoint ecs-service-name-16-service-name-82e4b9a5b68etaebeee9901 (06c5f822887754656976e52cbedce0074rar0243e56d7a2aeaf194469e2189048a7): Bind for 0.0.0.0:8080 failed: port is already allocated&quot; module=docker_task_engine.go\n</code></pre>\n"},{"tags":["java","android","database"],"owner":{"account_id":27595911,"reputation":11,"user_id":21062157,"display_name":"Salma Abakil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674543852,"creation_date":1674422213,"question_id":75203976,"body_markdown":"I want to add a new button in my project that can delete some of the number and names that I saved.&lt;br&gt; \r\nI am totally new to Android Studio, so I don&#180;t know how to write my code that it will work the way I want it.\r\n\r\n    MainActivity(Register) :\r\n    \r\n    \r\n    public class MainActivity extends Activity {\r\n    \r\n        EditText name,number;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    \r\n        public void display(View v) {\r\n            Intent i_view=new Intent(MainActivity.this,Display.class);\r\n            startActivity(i_view);\r\n    \r\n        }\r\n    \r\n    \r\n        public void storeInDB(View v) {\r\n            Toast.makeText(getApplicationContext(), &quot;Start Save&quot;,Toast.LENGTH_LONG).show();\r\n            name = (EditText) this.findViewById(R.id.textView1);\r\n            number = (EditText) this.findViewById(R.id.textView2);\r\n            String str_name=name.getText().toString();\r\n            String str_number=number.getText().toString();\r\n            SQLiteDatabase db;\r\n            db=openOrCreateDatabase(&quot;NumDB&quot;, Context.MODE_PRIVATE, null);\r\n    \r\n            db.execSQL(&quot;CREATE TABLE IF NOT EXISTS details(name VARCHAR,number VARCHAR);&quot;);\r\n    \r\n            Cursor c=db.rawQuery(&quot;SELECT * FROM details&quot;, null);\r\n            if(c.getCount()&lt;20)\r\n            {\r\n                db.execSQL(&quot;INSERT INTO details VALUES(&#39;&quot;+str_name+&quot;&#39;,&#39;&quot;+str_number+&quot;&#39;);&quot;);\r\n                Toast.makeText(getApplicationContext(), &quot;Save successfuly&quot;,Toast.LENGTH_SHORT).show();\r\n            }\r\n    \r\n    \r\n            db.close();\r\n    \r\n        }\r\n    }\r\n\r\nAnd Display :\r\n\r\n    public class Display extends Activity {\r\n    \r\n        Cursor c;\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_display);\r\n    \r\n    \r\n            SQLiteDatabase db;\r\n            db=openOrCreateDatabase(&quot;NumDB&quot;, Context.MODE_PRIVATE, null);\r\n    \r\n            c=db.rawQuery(&quot;SELECT * FROM details&quot;, null);\r\n            if(c.getCount()==0)\r\n            {\r\n                showMessage(&quot;Error&quot;, &quot;No records found.&quot;);\r\n                return;\r\n            }\r\n            StringBuffer buffer=new StringBuffer();\r\n            while(c.moveToNext())\r\n            {\r\n                buffer.append(&quot; &quot;+c.getString(0)+&quot;\\n&quot;);\r\n                buffer.append(&quot; &quot;+c.getString(1)+&quot;\\n&quot;);\r\n            }\r\n            showMessage(&quot;Contact&quot;, buffer.toString());\r\n    \r\n    \r\n        }\r\n    \r\n        public void showMessage(String title,String message)\r\n        {\r\n            Builder builder=new Builder(this);\r\n            builder.setCancelable(true);\r\n            builder.setTitle(title);\r\n            builder.setMessage(message);\r\n            builder.show();\r\n        }\r\n\r\n\r\n}\r\n\r\n\r\n\r\nThe code is working fine but I want to add a button that allows me to delete all the numbers and names that I saved,&#39;your text&#39;\r\n\r\n\r\n","title":"Delete data save with button click","body":"<p>I want to add a new button in my project that can delete some of the number and names that I saved.<br>\nI am totally new to Android Studio, so I don´t know how to write my code that it will work the way I want it.</p>\n<pre><code>MainActivity(Register) :\n\n\npublic class MainActivity extends Activity {\n\n    EditText name,number;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n    public void display(View v) {\n        Intent i_view=new Intent(MainActivity.this,Display.class);\n        startActivity(i_view);\n\n    }\n\n\n    public void storeInDB(View v) {\n        Toast.makeText(getApplicationContext(), &quot;Start Save&quot;,Toast.LENGTH_LONG).show();\n        name = (EditText) this.findViewById(R.id.textView1);\n        number = (EditText) this.findViewById(R.id.textView2);\n        String str_name=name.getText().toString();\n        String str_number=number.getText().toString();\n        SQLiteDatabase db;\n        db=openOrCreateDatabase(&quot;NumDB&quot;, Context.MODE_PRIVATE, null);\n\n        db.execSQL(&quot;CREATE TABLE IF NOT EXISTS details(name VARCHAR,number VARCHAR);&quot;);\n\n        Cursor c=db.rawQuery(&quot;SELECT * FROM details&quot;, null);\n        if(c.getCount()&lt;20)\n        {\n            db.execSQL(&quot;INSERT INTO details VALUES('&quot;+str_name+&quot;','&quot;+str_number+&quot;');&quot;);\n            Toast.makeText(getApplicationContext(), &quot;Save successfuly&quot;,Toast.LENGTH_SHORT).show();\n        }\n\n\n        db.close();\n\n    }\n}\n</code></pre>\n<p>And Display :</p>\n<pre><code>public class Display extends Activity {\n\n    Cursor c;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_display);\n\n\n        SQLiteDatabase db;\n        db=openOrCreateDatabase(&quot;NumDB&quot;, Context.MODE_PRIVATE, null);\n\n        c=db.rawQuery(&quot;SELECT * FROM details&quot;, null);\n        if(c.getCount()==0)\n        {\n            showMessage(&quot;Error&quot;, &quot;No records found.&quot;);\n            return;\n        }\n        StringBuffer buffer=new StringBuffer();\n        while(c.moveToNext())\n        {\n            buffer.append(&quot; &quot;+c.getString(0)+&quot;\\n&quot;);\n            buffer.append(&quot; &quot;+c.getString(1)+&quot;\\n&quot;);\n        }\n        showMessage(&quot;Contact&quot;, buffer.toString());\n\n\n    }\n\n    public void showMessage(String title,String message)\n    {\n        Builder builder=new Builder(this);\n        builder.setCancelable(true);\n        builder.setTitle(title);\n        builder.setMessage(message);\n        builder.show();\n    }\n</code></pre>\n<p>}</p>\n<p>The code is working fine but I want to add a button that allows me to delete all the numbers and names that I saved,'your text'</p>\n"},{"tags":["java","spring","multithreading","hazelcast"],"comments":[{"owner":{"account_id":1511851,"reputation":999,"user_id":1413756,"accept_rate":37,"display_name":"Dan"},"score":0,"creation_date":1674580373,"post_id":75218263,"comment_id":132742537,"body_markdown":"Have you looked at possibly providing a LOCK timeout on the TX?   Something described here https://www.baeldung.com/java-jpa-transaction-locks","body":"Have you looked at possibly providing a LOCK timeout on the TX?   Something described here <a href=\"https://www.baeldung.com/java-jpa-transaction-locks\" rel=\"nofollow noreferrer\">baeldung.com/java-jpa-transaction-locks</a>"},{"owner":{"account_id":8480454,"reputation":11,"user_id":6360306,"display_name":"wmel"},"score":0,"creation_date":1674634241,"post_id":75218263,"comment_id":132753831,"body_markdown":"@Dan it doesn&#39;t look like the issue is with the Hibernate locking, the Hazelcast thread itself is blocked on the object, that is currently locked by main thread","body":"@Dan it doesn&#39;t look like the issue is with the Hibernate locking, the Hazelcast thread itself is blocked on the object, that is currently locked by main thread"}],"owner":{"account_id":8480454,"reputation":11,"user_id":6360306,"display_name":"wmel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674543090,"creation_date":1674543090,"question_id":75218263,"body_markdown":"I have a weird problem with my Spring application with Hazelcast caching on applicatin startup\r\n\r\nWhen some beans are creating the main thread has to get some items from HZ map, then HZ thread tries to lock the already locked by main thread object and becomes blocked.\r\n\r\nSo the Spring config would be\r\n\r\n```\r\n&lt;bean id=&quot;holder&quot; class=&quot;org.example.api.Holder&quot;&gt;\r\n    &lt;constructor-arg&gt;\r\n        &lt;bean factory-bean=&quot;cachedRepository&quot; factory-method=&quot;getAllValueIds&quot;&gt;\r\n            &lt;constructor-arg&gt;\r\n                &lt;util:constant static-field=&quot;org.example.api.domain.MyStaticField.SOME_FIELD&quot;/&gt;\r\n            &lt;/constructor-arg&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/constructor-arg&gt;\r\n&lt;/bean&gt;\r\n\r\n&lt;bean id=&quot;cachedRepository&quot; class=&quot;org.example.api.repository.CachedRepository&quot;&gt;\r\n    &lt;property name=&quot;byIdCache&quot;&gt;\r\n        &lt;bean factory-bean=&quot;hazelcastInstance&quot; factory-method=&quot;getMap&quot;&gt;\r\n            &lt;constructor-arg value=&quot;byId&quot;/&gt;\r\n        &lt;/bean&gt;\r\n    &lt;/property&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\non CachedRepository I&#39;d have\r\n\r\n```\r\npublic List&lt;Integer&gt; getAllValueIds(SomeField someField) {\r\n    return byIdCache.get(someField);\r\n}\r\n```\r\n\r\nhere I have a Holder bean that should be initialized with a list of Integers from cachedRepository, which will get it from the byIdCache from HZ using map loader\r\n\r\nmain thread dump:\r\n\r\n```\r\n&quot;org.example.Launcher.main()&quot; #25 prio=5 os_prio=0 tid=0x000001b6ef442800 nid=0x578 waiting on condition [0x0000000b5f0f9000]\r\n   java.lang.Thread.State: WAITING (parking)\r\n\tat sun.misc.Unsafe.park(Native Method)\r\n\tat java.util.concurrent.locks.LockSupport.park(LockSupport.java:304)\r\n\tat com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:160)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:434)\r\n\tat com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:351)\r\n\tat com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:115)\r\n\tat com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:120)\r\n\tat org.example.api.repository.CachedRepository.getById(CachedRepository.java:21)\r\n\tat org.example.api.repository.CachedRepository.getAllValueIds(CachedRepository.java:43)\r\n\tat org.example.api.Holder.init(Holder.java:51)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1763)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1700)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\t- locked &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)\r\n```\r\n\r\nHZ thread dump:\r\n\r\n```\r\n&quot;hz.application.partition-operation.thread-4&quot; #89 prio=5 os_prio=0 tid=0x000001b6ed53e000 nid=0x32a4 waiting for monitor entry [0x0000000b637fe000]\r\n   java.lang.Thread.State: BLOCKED (on object monitor)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:188)\r\n\t- waiting to lock &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:492)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:432)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:403)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:389)\r\n\tat org.springframework.beans.factory.BeanFactoryUtils.beanNamesForTypeIncludingAncestors(BeanFactoryUtils.java:170)\r\n\tat org.springframework.beans.factory.annotation.BeanFactoryAnnotationUtils.qualifiedBeanOfType(BeanFactoryAnnotationUtils.java:89)\r\n\tat org.springframework.beans.factory.annotation.BeanFactoryAnnotationUtils.qualifiedBeanOfType(BeanFactoryAnnotationUtils.java:66)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.determineQualifiedTransactionManager(TransactionAspectSupport.java:396)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.determineTransactionManager(TransactionAspectSupport.java:377)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:272)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:671)\r\n\tat org.example.api.cache.MapLoader$$EnhancerBySpringCGLIB$$d59bbb21.load(&lt;generated&gt;)\r\n\tat com.hazelcast.map.impl.MapStoreWrapper.load(MapStoreWrapper.java:165)\r\n\tat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:72)\r\n\tat com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:28)\r\n\tat com.hazelcast.map.impl.recordstore.DefaultRecordStore.loadRecordOrNull(DefaultRecordStore.java:325)\r\n\tat com.hazelcast.map.impl.recordstore.DefaultRecordStore.get(DefaultRecordStore.java:513)\r\n\tat com.hazelcast.map.impl.operation.GetOperation.run(GetOperation.java:41)\r\n\tat com.hazelcast.spi.Operation.call(Operation.java:170)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:208)\r\n\tat com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:197)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:147)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:125)\r\n\tat com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)\r\n```\r\n\r\nyou can see that main thread locked the object\r\n\r\n`- locked &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)`\r\n\r\nand then HZ one blocked waiting to lock it too\r\n\r\n`&quot;hz.application.partition-operation.thread-4&quot; #89 prio=5 os_prio=0 tid=0x000001b6ed53e000 nid=0x32a4 waiting for monitor entry [0x0000000b637fe000]`\r\n`java.lang.Thread.State: BLOCKED (on object monitor)`\r\n`at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:188)`\r\n`- waiting to lock &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)`\r\n\r\nThis same setup works perfectly well on Spring v4.1.3.RELEASE, but is broken on Spring v4.1.4 and forth (cannot check Spring 5 or 6) Hazelcast version is 3.11 in both cases, so I assume the breaking change would be in Spring 4.1.4 somewhere. I can go up to 4.3.30.RELEASE with Spring version, but no further.\r\n\r\nAny ideas how to fix this on Spring 4.1.4-4.3.30 are highly appreciated.","title":"Main thread locks object and blocks HZ thread on Spring startup","body":"<p>I have a weird problem with my Spring application with Hazelcast caching on applicatin startup</p>\n<p>When some beans are creating the main thread has to get some items from HZ map, then HZ thread tries to lock the already locked by main thread object and becomes blocked.</p>\n<p>So the Spring config would be</p>\n<pre><code>&lt;bean id=&quot;holder&quot; class=&quot;org.example.api.Holder&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;bean factory-bean=&quot;cachedRepository&quot; factory-method=&quot;getAllValueIds&quot;&gt;\n            &lt;constructor-arg&gt;\n                &lt;util:constant static-field=&quot;org.example.api.domain.MyStaticField.SOME_FIELD&quot;/&gt;\n            &lt;/constructor-arg&gt;\n        &lt;/bean&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n\n&lt;bean id=&quot;cachedRepository&quot; class=&quot;org.example.api.repository.CachedRepository&quot;&gt;\n    &lt;property name=&quot;byIdCache&quot;&gt;\n        &lt;bean factory-bean=&quot;hazelcastInstance&quot; factory-method=&quot;getMap&quot;&gt;\n            &lt;constructor-arg value=&quot;byId&quot;/&gt;\n        &lt;/bean&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>on CachedRepository I'd have</p>\n<pre><code>public List&lt;Integer&gt; getAllValueIds(SomeField someField) {\n    return byIdCache.get(someField);\n}\n</code></pre>\n<p>here I have a Holder bean that should be initialized with a list of Integers from cachedRepository, which will get it from the byIdCache from HZ using map loader</p>\n<p>main thread dump:</p>\n<pre><code>&quot;org.example.Launcher.main()&quot; #25 prio=5 os_prio=0 tid=0x000001b6ef442800 nid=0x578 waiting on condition [0x0000000b5f0f9000]\n   java.lang.Thread.State: WAITING (parking)\n    at sun.misc.Unsafe.park(Native Method)\n    at java.util.concurrent.locks.LockSupport.park(LockSupport.java:304)\n    at com.hazelcast.spi.impl.AbstractInvocationFuture.get(AbstractInvocationFuture.java:160)\n    at com.hazelcast.map.impl.proxy.MapProxySupport.invokeOperation(MapProxySupport.java:434)\n    at com.hazelcast.map.impl.proxy.MapProxySupport.getInternal(MapProxySupport.java:351)\n    at com.hazelcast.map.impl.proxy.NearCachedMapProxyImpl.getInternal(NearCachedMapProxyImpl.java:115)\n    at com.hazelcast.map.impl.proxy.MapProxyImpl.get(MapProxyImpl.java:120)\n    at org.example.api.repository.CachedRepository.getById(CachedRepository.java:21)\n    at org.example.api.repository.CachedRepository.getAllValueIds(CachedRepository.java:43)\n    at org.example.api.Holder.init(Holder.java:51)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeCustomInitMethod(AbstractAutowireCapableBeanFactory.java:1763)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1700)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1630)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:555)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\n    - locked &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)\n</code></pre>\n<p>HZ thread dump:</p>\n<pre><code>&quot;hz.application.partition-operation.thread-4&quot; #89 prio=5 os_prio=0 tid=0x000001b6ed53e000 nid=0x32a4 waiting for monitor entry [0x0000000b637fe000]\n   java.lang.Thread.State: BLOCKED (on object monitor)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:188)\n    - waiting to lock &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isTypeMatch(AbstractBeanFactory.java:492)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:432)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:403)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:389)\n    at org.springframework.beans.factory.BeanFactoryUtils.beanNamesForTypeIncludingAncestors(BeanFactoryUtils.java:170)\n    at org.springframework.beans.factory.annotation.BeanFactoryAnnotationUtils.qualifiedBeanOfType(BeanFactoryAnnotationUtils.java:89)\n    at org.springframework.beans.factory.annotation.BeanFactoryAnnotationUtils.qualifiedBeanOfType(BeanFactoryAnnotationUtils.java:66)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.determineQualifiedTransactionManager(TransactionAspectSupport.java:396)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.determineTransactionManager(TransactionAspectSupport.java:377)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:272)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:671)\n    at org.example.api.cache.MapLoader$$EnhancerBySpringCGLIB$$d59bbb21.load(&lt;generated&gt;)\n    at com.hazelcast.map.impl.MapStoreWrapper.load(MapStoreWrapper.java:165)\n    at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:72)\n    at com.hazelcast.map.impl.mapstore.writethrough.WriteThroughStore.load(WriteThroughStore.java:28)\n    at com.hazelcast.map.impl.recordstore.DefaultRecordStore.loadRecordOrNull(DefaultRecordStore.java:325)\n    at com.hazelcast.map.impl.recordstore.DefaultRecordStore.get(DefaultRecordStore.java:513)\n    at com.hazelcast.map.impl.operation.GetOperation.run(GetOperation.java:41)\n    at com.hazelcast.spi.Operation.call(Operation.java:170)\n    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.call(OperationRunnerImpl.java:208)\n    at com.hazelcast.spi.impl.operationservice.impl.OperationRunnerImpl.run(OperationRunnerImpl.java:197)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:147)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.process(OperationThread.java:125)\n    at com.hazelcast.spi.impl.operationexecutor.impl.OperationThread.run(OperationThread.java:110)\n</code></pre>\n<p>you can see that main thread locked the object</p>\n<p><code>- locked &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)</code></p>\n<p>and then HZ one blocked waiting to lock it too</p>\n<p><code>&quot;hz.application.partition-operation.thread-4&quot; #89 prio=5 os_prio=0 tid=0x000001b6ed53e000 nid=0x32a4 waiting for monitor entry [0x0000000b637fe000]</code>\n<code>java.lang.Thread.State: BLOCKED (on object monitor)</code>\n<code>at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:188)</code>\n<code>- waiting to lock &lt;0x00000006ca38d540&gt; (a java.util.concurrent.ConcurrentHashMap)</code></p>\n<p>This same setup works perfectly well on Spring v4.1.3.RELEASE, but is broken on Spring v4.1.4 and forth (cannot check Spring 5 or 6) Hazelcast version is 3.11 in both cases, so I assume the breaking change would be in Spring 4.1.4 somewhere. I can go up to 4.3.30.RELEASE with Spring version, but no further.</p>\n<p>Any ideas how to fix this on Spring 4.1.4-4.3.30 are highly appreciated.</p>\n"},{"tags":["java","garbage-collection","java-11"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1674544378,"post_id":75218209,"comment_id":132730742,"body_markdown":"That sounds just like normal behavior to me.  What makes you think it is not normal and/or problematic?","body":"That sounds just like normal behavior to me.  What makes you think it is not normal and/or problematic?"},{"owner":{"account_id":199544,"reputation":53,"user_id":1240100,"accept_rate":60,"display_name":"Archana"},"score":0,"creation_date":1674548366,"post_id":75218209,"comment_id":132731688,"body_markdown":"The memory consumption with the new GC looks weird! it always uses the entire heap and also doesn&#39;t release it till its needed","body":"The memory consumption with the new GC looks weird! it always uses the entire heap and also doesn&#39;t release it till its needed"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674550908,"post_id":75218209,"comment_id":132732466,"body_markdown":"Ask the person who told you to specify the options `-XX:InitiatingHeapOccupancyPercent=30` and `-XX:G1ReservePercent=20` Apparently, this person is already an expert on G1GC and can tell you everything.","body":"Ask the person who told you to specify the options <code>-XX:InitiatingHeapOccupancyPercent=30</code> and <code>-XX:G1ReservePercent=20</code> Apparently, this person is already an expert on G1GC and can tell you everything."},{"owner":{"account_id":199544,"reputation":53,"user_id":1240100,"accept_rate":60,"display_name":"Archana"},"score":0,"creation_date":1674552222,"post_id":75218209,"comment_id":132732839,"body_markdown":"I set this up after several iterations of performance testing that is the reason i am a bit skeptical as there is no hard and fast rule for these flags to be set up.","body":"I set this up after several iterations of performance testing that is the reason i am a bit skeptical as there is no hard and fast rule for these flags to be set up."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1674635843,"post_id":75218209,"comment_id":132754283,"body_markdown":"So you tried out with the minimum set of behaviour flags and ended up where you are now?","body":"So you tried out with the minimum set of behaviour flags and ended up where you are now?"},{"owner":{"account_id":199544,"reputation":53,"user_id":1240100,"accept_rate":60,"display_name":"Archana"},"score":0,"creation_date":1674641342,"post_id":75218209,"comment_id":132756032,"body_markdown":"Yes, That&#39;s right!","body":"Yes, That&#39;s right!"}],"owner":{"account_id":199544,"reputation":53,"user_id":1240100,"accept_rate":60,"display_name":"Archana"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674542662,"creation_date":1674542662,"question_id":75218209,"body_markdown":"I need some guidance related to Java 11 GC algorithm for JVM. We are migrating our application from jdk 8 to Java11. We are seeing spikes in memory management with the new GC algorithm that is defaulted with Java11 ie., GC1. Earlier we used CMS. Earlier our JVM startup params for the GC as below:\r\nApplication Infrastructure : 8 core CPU, 16GB RAM Linux EC2 (c5.2xlarge)\r\n\r\n    JDK 8 : -d64 -server -Xms4g -Xmx12g -XX:NewRatio=1 -XX:SurvivorRatio=4 -verbose:gc -Xloggc:gc.log -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseConcMarkSweepGC -XX:ThreadStackSize=1024 -XX:+OptimizeStringConcat -XX:CMSInitiatingOccupancyFraction=70\r\n\r\nHere we see the average memory usage at 4gb to 6gb when there is full load on the system.\r\n\r\n    Java11 : -server -Xms12g -Xmx12g -verbose:gc -Xlog:gc:gc.log -XX:+PrintGCDetails -XX:+UseG1GC -XX:InitiatingHeapOccupancyPercent=30 -XX:G1ReservePercent=20 -XX:+UseStringDeduplication -Xlog:safePoint -XX:ThreadStackSize=1024 -XX:+OptimizeStringConcat\r\n\r\nHere we see the average memory usage gradually increase and go up till 90% on full load and that&#39;s when the GC runs and frees up the space. Also, we do not see the memory usage coming down when there is no load or 0 load on the system. I read that this is the expected behavior of Gc1\r\nKindly Advice!\r\nApplication behavior is similar is both cases","title":"Java 11 GC1 GC memory management issue","body":"<p>I need some guidance related to Java 11 GC algorithm for JVM. We are migrating our application from jdk 8 to Java11. We are seeing spikes in memory management with the new GC algorithm that is defaulted with Java11 ie., GC1. Earlier we used CMS. Earlier our JVM startup params for the GC as below:\nApplication Infrastructure : 8 core CPU, 16GB RAM Linux EC2 (c5.2xlarge)</p>\n<pre><code>JDK 8 : -d64 -server -Xms4g -Xmx12g -XX:NewRatio=1 -XX:SurvivorRatio=4 -verbose:gc -Xloggc:gc.log -XX:+PrintGCDetails -XX:+PrintGCTimeStamps -XX:+UseConcMarkSweepGC -XX:ThreadStackSize=1024 -XX:+OptimizeStringConcat -XX:CMSInitiatingOccupancyFraction=70\n</code></pre>\n<p>Here we see the average memory usage at 4gb to 6gb when there is full load on the system.</p>\n<pre><code>Java11 : -server -Xms12g -Xmx12g -verbose:gc -Xlog:gc:gc.log -XX:+PrintGCDetails -XX:+UseG1GC -XX:InitiatingHeapOccupancyPercent=30 -XX:G1ReservePercent=20 -XX:+UseStringDeduplication -Xlog:safePoint -XX:ThreadStackSize=1024 -XX:+OptimizeStringConcat\n</code></pre>\n<p>Here we see the average memory usage gradually increase and go up till 90% on full load and that's when the GC runs and frees up the space. Also, we do not see the memory usage coming down when there is no load or 0 load on the system. I read that this is the expected behavior of Gc1\nKindly Advice!\nApplication behavior is similar is both cases</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":1995082,"reputation":143,"user_id":1788205,"display_name":"MARSH"},"score":1,"creation_date":1674541820,"post_id":75218085,"comment_id":132730217,"body_markdown":"Thanks for helping me but my string is Your OTP for Darshann is : 9999%n 12341234123 not Your OTP for Darshann is 1234  will this work for any string  ?","body":"Thanks for helping me but my string is Your OTP for Darshann is : 9999%n 12341234123 not Your OTP for Darshann is 1234  will this work for any string  ?"}],"tags":[],"owner":{"account_id":22195690,"reputation":51,"user_id":16437129,"display_name":"Azaan Wani"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674541597,"creation_date":1674541597,"answer_id":75218085,"question_id":75218022,"body_markdown":"    String message = &quot;Your OTP for Darshann is 1234&quot;;\r\n    \r\n    // split the message by &quot;is&quot;\r\n    String[] parts = message.split(&quot;is &quot;);\r\n    \r\n    \r\n    String OTP = parts[1];\r\n    \r\n    // rgx\r\n    Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\n    Matcher matcher = pattern.matcher(OTP);\r\n    \r\n    if (matcher.find()) {\r\n        String OTPnumber = matcher.group();\r\n        System.out.print(&quot;OTP is: &quot; + OTPnumber);\r\n    } else {\r\n        System.out.println(&quot;not found&quot;);\r\n    }","title":"How to read number from given text in java","body":"<pre><code>String message = &quot;Your OTP for Darshann is 1234&quot;;\n\n// split the message by &quot;is&quot;\nString[] parts = message.split(&quot;is &quot;);\n\n\nString OTP = parts[1];\n\n// rgx\nPattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\nMatcher matcher = pattern.matcher(OTP);\n\nif (matcher.find()) {\n    String OTPnumber = matcher.group();\n    System.out.print(&quot;OTP is: &quot; + OTPnumber);\n} else {\n    System.out.println(&quot;not found&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5144211,"reputation":21,"user_id":4120636,"display_name":"Atanas Popov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674542511,"creation_date":1674542511,"answer_id":75218188,"question_id":75218022,"body_markdown":"By replacing with empty string `&quot;&quot;` you are concatenating the numbers. This is why have incorrect results. \r\nTry this instead:\r\n\r\n```\r\nString str=&quot;Your OTP for Darshann is : 9999%n 12341234123&quot;;\r\n    \r\nString numberOnly= str.replaceAll(&quot;[^0-9]&quot;, &quot; &quot;);\r\nList&lt;String&gt; numbers = Arrays.asList(numberOnly.trim().split(&quot; &quot;)).stream()\r\n        .filter(s-&gt;!s.isBlank())\r\n        .collect(Collectors.toList());\r\nSystem.out.println(numbers);\r\n```\r\n\r\nThis would give a list of all numbers found in the text:\r\n```\r\n[9999, 12341234123]\r\n```\r\n\r\nOf course if there is more than one number in the string this function will produce more than one result.","title":"How to read number from given text in java","body":"<p>By replacing with empty string <code>&quot;&quot;</code> you are concatenating the numbers. This is why have incorrect results.\nTry this instead:</p>\n<pre><code>String str=&quot;Your OTP for Darshann is : 9999%n 12341234123&quot;;\n    \nString numberOnly= str.replaceAll(&quot;[^0-9]&quot;, &quot; &quot;);\nList&lt;String&gt; numbers = Arrays.asList(numberOnly.trim().split(&quot; &quot;)).stream()\n        .filter(s-&gt;!s.isBlank())\n        .collect(Collectors.toList());\nSystem.out.println(numbers);\n</code></pre>\n<p>This would give a list of all numbers found in the text:</p>\n<pre><code>[9999, 12341234123]\n</code></pre>\n<p>Of course if there is more than one number in the string this function will produce more than one result.</p>\n"}],"owner":{"account_id":1995082,"reputation":143,"user_id":1788205,"display_name":"MARSH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75218085,"answer_count":2,"score":-1,"last_activity_date":1674542511,"creation_date":1674541085,"question_id":75218022,"body_markdown":"I am trying to read otp number from given String  i have applied this below string but i am getting two number can any one please help me how to get otp number\r\n\r\n    String str=&quot;Your OTP for Darshann is : 9999%n 12341234123&quot;;\r\n    String numberOnly= str.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\r\n\r\nI want to read  number just after Your OTP for Darshann is : this text which is 9999 i ","title":"How to read number from given text in java","body":"<p>I am trying to read otp number from given String  i have applied this below string but i am getting two number can any one please help me how to get otp number</p>\n<pre><code>String str=&quot;Your OTP for Darshann is : 9999%n 12341234123&quot;;\nString numberOnly= str.replaceAll(&quot;[^0-9]&quot;, &quot;&quot;);\n</code></pre>\n<p>I want to read  number just after Your OTP for Darshann is : this text which is 9999 i</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":5639561,"reputation":888,"user_id":4463882,"accept_rate":50,"display_name":"Ganpat Kaliya"},"score":1,"creation_date":1443173576,"post_id":15602391,"comment_id":53396552,"body_markdown":"you can use tx.getText().toString().equals(&quot;bla&quot;) in place of == and its work.","body":"you can use tx.getText().toString().equals(&quot;bla&quot;) in place of == and its work."}],"answers":[{"comments":[{"owner":{"account_id":1816007,"reputation":16534,"user_id":1651073,"display_name":"Frank"},"score":1,"creation_date":1364150254,"post_id":15602408,"comment_id":22126047,"body_markdown":"and put the &quot;bla&quot; literal first, avoid nullpointers..","body":"and put the &quot;bla&quot; literal first, avoid nullpointers.."},{"owner":{"display_name":"user2157119"},"score":0,"creation_date":1364150559,"post_id":15602408,"comment_id":22126146,"body_markdown":"thank you very much. im sorry for this stupid question i will try to search more next time, i tought this is something more complex.","body":"thank you very much. im sorry for this stupid question i will try to search more next time, i tought this is something more complex."}],"tags":[],"owner":{"account_id":1914082,"reputation":20095,"user_id":1727092,"accept_rate":100,"display_name":"Pragnani"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1364150612,"creation_date":1364150180,"answer_id":15602408,"question_id":15602391,"body_markdown":"You should use equals\r\n\r\n    if(tx.getText().toString().equals(&quot;bla&quot;))\r\n\r\nequals compares the string, but == compares the objects.\r\n\r\nAs `@Frank` suggested in order to avoid NPE compare like this\r\n\r\n    if(&quot;bla&quot;.equals(tx.getText().toString()))","title":"editText.toString==&quot;something&quot; always false","body":"<p>You should use equals</p>\n\n<pre><code>if(tx.getText().toString().equals(\"bla\"))\n</code></pre>\n\n<p>equals compares the string, but == compares the objects.</p>\n\n<p>As <code>@Frank</code> suggested in order to avoid NPE compare like this</p>\n\n<pre><code>if(\"bla\".equals(tx.getText().toString()))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1036855,"reputation":13868,"user_id":1043882,"accept_rate":79,"display_name":"hasanghaforian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364150270,"creation_date":1364150270,"answer_id":15602423,"question_id":15602391,"body_markdown":"You have not use &quot;==&quot; for testing equality of two strings.Use `equals` method of String class.","title":"editText.toString==&quot;something&quot; always false","body":"<p>You have not use \"==\" for testing equality of two strings.Use <code>equals</code> method of String class.</p>\n"},{"tags":[],"owner":{"account_id":904333,"reputation":394,"user_id":939574,"display_name":"NullData"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364150338,"creation_date":1364150338,"answer_id":15602433,"question_id":15602391,"body_markdown":"When you compare two `String` objects, you don&#39;t compare their literal value. You check if they are the same object, which is usually not the case. That&#39;s why you want to use `mystring.equals(&quot;my string litereal&quot;)` instead.","title":"editText.toString==&quot;something&quot; always false","body":"<p>When you compare two <code>String</code> objects, you don't compare their literal value. You check if they are the same object, which is usually not the case. That's why you want to use <code>mystring.equals(\"my string litereal\")</code> instead.</p>\n"}],"owner":{"display_name":"user2157119"},"comment_count":1,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":490,"favorite_count":0,"down_vote_count":26,"up_vote_count":3,"closed_date":1364150570,"answer_count":3,"score":-23,"last_activity_date":1674542219,"creation_date":1364150108,"question_id":15602391,"body_markdown":"I am trying to check if text in editText is equal to some string.\r\nThis is my if statement (it comes every time I press a button):\r\n\r\n`if(tx.getText().toString()==&quot;bla&quot;)`\r\n\r\nThis is tx:\r\n`tx=(EditText)findViewById(R.id.editText1);`\r\n\r\nI don&#39;t know why but the if is never true. I tried to check it by toast this way:\r\n\r\n    Toast.makeText(getApplicationContext(),tx.getText().toString(), Toast.LENGTH_LONG).show();\r\n\r\nAnd it is &quot;bla&quot; but still its false. Why?\r\n","title":"editText.toString==&quot;something&quot; always false","body":"<p>I am trying to check if text in editText is equal to some string.\nThis is my if statement (it comes every time I press a button):</p>\n<p><code>if(tx.getText().toString()==&quot;bla&quot;)</code></p>\n<p>This is tx:\n<code>tx=(EditText)findViewById(R.id.editText1);</code></p>\n<p>I don't know why but the if is never true. I tried to check it by toast this way:</p>\n<pre><code>Toast.makeText(getApplicationContext(),tx.getText().toString(), Toast.LENGTH_LONG).show();\n</code></pre>\n<p>And it is &quot;bla&quot; but still its false. Why?</p>\n"},{"tags":["java","spring-boot","parallel-processing","java-stream","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1674552037,"post_id":75218097,"comment_id":132732795,"body_markdown":"For a starter, you fix those tons of errors in your code sample.","body":"For a starter, you fix those tons of errors in your code sample."}],"answers":[{"comments":[{"owner":{"account_id":19008999,"reputation":261,"user_id":13875223,"display_name":"suku"},"score":0,"creation_date":1674542365,"post_id":75218147,"comment_id":132730331,"body_markdown":"Make sense! Point missed - All these timelines are based out of my local machine.","body":"Make sense! Point missed - All these timelines are based out of my local machine."},{"owner":{"account_id":10346755,"reputation":21971,"user_id":7631480,"display_name":"CryptoFool"},"score":1,"creation_date":1674542444,"post_id":75218147,"comment_id":132730350,"body_markdown":"The answer to your question is dependent on what `methodToCallBothApis` is doing for all the time that it is taking.  If it keeps the CPU busy for all of the time, then running the ops in parallel won&#39;t save you much time as your code is CPU bound.  If, on the other hand, the op spends most of its time in a wait state waiting for the result of some I/O operation (like a network request), then you should see a  lot of speed up.  If you aren&#39;t getting the speed increase that you expect, I would look closely at how the code is waiting for I/O operations to complete.","body":"The answer to your question is dependent on what <code>methodToCallBothApis</code> is doing for all the time that it is taking.  If it keeps the CPU busy for all of the time, then running the ops in parallel won&#39;t save you much time as your code is CPU bound.  If, on the other hand, the op spends most of its time in a wait state waiting for the result of some I/O operation (like a network request), then you should see a  lot of speed up.  If you aren&#39;t getting the speed increase that you expect, I would look closely at how the code is waiting for I/O operations to complete."}],"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674542129,"creation_date":1674542129,"answer_id":75218147,"question_id":75218097,"body_markdown":"All the calls are not happening in parallel. The completable future makes the code asynchronous i.e. the main thread doesn&#39;t wait for the result to be available. However, parallelism depends on how many CPU cores you have, what is the network bandwidth etc. \r\n\r\nIn your case, you are making 100 network calls, these calls will be made asynchronous manner but not necessarily in a parallel manner. Thus you may not see the speed you might hope for. ","title":"CompleteableFuture takes longer time when the dataset or load increases","body":"<p>All the calls are not happening in parallel. The completable future makes the code asynchronous i.e. the main thread doesn't wait for the result to be available. However, parallelism depends on how many CPU cores you have, what is the network bandwidth etc.</p>\n<p>In your case, you are making 100 network calls, these calls will be made asynchronous manner but not necessarily in a parallel manner. Thus you may not see the speed you might hope for.</p>\n"}],"owner":{"account_id":19008999,"reputation":261,"user_id":13875223,"display_name":"suku"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674542129,"creation_date":1674541713,"question_id":75218097,"body_markdown":"I have a requirement where in I need to call 2 apis for 100 users. First API is an oauth api to generate token which takes 2 seconds and the Second call is to actual API using the token generated and that takes around 8-9 seconds. So overall it takes ~10seconds to process  both apis for one user.\r\n\r\nI have written following piece of code using CompleteableFuture logic to achieve the parallel execution aiming that total runtime for 100 users will be approximately equal 10-15 seconds. But that’s not happening though!!\r\n\r\nIf there are just 10 users the overall time to call is 11seonds (time taken for one user is 10seconds).\r\n\r\nFor 20 users, the overall time is 25 seconds((time taken for one user is 10seconds).\r\n\r\nWhereas if there are 100 users (full load) the overall time to call for all 100 users is ~100seconds (time taken for one user is still just 10 seconds)\r\n\r\nMy question is why there is an increase in overall time despite the fact the calls are happening in parallel mode?\r\n\r\nIs there any way to improve this time? I would like to achieve less than 30seconds for 100 users.\r\n\r\n```\r\nExecutor executor = Executors.newFixedThreadPool(100);\r\n\r\nList&lt;CompleteableFutures&lt;listA&gt;&gt; futures = userlist.stream.map(req-&gt;CompleteableFuture.supplyAsync(()-&gt; methodToCallBothApis(reg.getUserId(),executor))).collect(Collectors.toList());\r\n\r\nList&lt;listC&gt; outputList = futures.stream.map(CompleteableFuture::join).collect(Collectors.toList());\r\n```","title":"CompleteableFuture takes longer time when the dataset or load increases","body":"<p>I have a requirement where in I need to call 2 apis for 100 users. First API is an oauth api to generate token which takes 2 seconds and the Second call is to actual API using the token generated and that takes around 8-9 seconds. So overall it takes ~10seconds to process  both apis for one user.</p>\n<p>I have written following piece of code using CompleteableFuture logic to achieve the parallel execution aiming that total runtime for 100 users will be approximately equal 10-15 seconds. But that’s not happening though!!</p>\n<p>If there are just 10 users the overall time to call is 11seonds (time taken for one user is 10seconds).</p>\n<p>For 20 users, the overall time is 25 seconds((time taken for one user is 10seconds).</p>\n<p>Whereas if there are 100 users (full load) the overall time to call for all 100 users is ~100seconds (time taken for one user is still just 10 seconds)</p>\n<p>My question is why there is an increase in overall time despite the fact the calls are happening in parallel mode?</p>\n<p>Is there any way to improve this time? I would like to achieve less than 30seconds for 100 users.</p>\n<pre><code>Executor executor = Executors.newFixedThreadPool(100);\n\nList&lt;CompleteableFutures&lt;listA&gt;&gt; futures = userlist.stream.map(req-&gt;CompleteableFuture.supplyAsync(()-&gt; methodToCallBothApis(reg.getUserId(),executor))).collect(Collectors.toList());\n\nList&lt;listC&gt; outputList = futures.stream.map(CompleteableFuture::join).collect(Collectors.toList());\n</code></pre>\n"},{"tags":["java","arrays","loops"],"answers":[{"tags":[],"owner":{"account_id":349165,"reputation":559,"user_id":684296,"accept_rate":80,"display_name":"Newerth"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674541098,"creation_date":1674541098,"answer_id":75218023,"question_id":75217911,"body_markdown":"Just swap the `compareTo` condition from\r\n```java\r\ntemp.compareTo(arr[possibleIndex - 1]) &lt; 0\r\n```\r\nto\r\n```java\r\ntemp.compareTo(arr[possibleIndex - 1]) &gt; 0\r\n```\r\nThen the output meets the expectations.","title":"insertion sort and printing values","body":"<p>Just swap the <code>compareTo</code> condition from</p>\n<pre class=\"lang-java prettyprint-override\"><code>temp.compareTo(arr[possibleIndex - 1]) &lt; 0\n</code></pre>\n<p>to</p>\n<pre class=\"lang-java prettyprint-override\"><code>temp.compareTo(arr[possibleIndex - 1]) &gt; 0\n</code></pre>\n<p>Then the output meets the expectations.</p>\n"},{"tags":[],"owner":{"account_id":18173939,"reputation":659,"user_id":13223056,"display_name":"KL_KISNE_DEKHA_HAI"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674541590,"creation_date":1674541590,"answer_id":75218084,"question_id":75217911,"body_markdown":"You need to take care for 2 things:\r\n1. If **size of array is 1** then it should **print the single element** as is.\r\n2. **`temp.compareTo(arr[possibleIndex - 1]) &gt; 0`** should be done since the question asks to be **reverse sorted** (descending order).\r\n```\r\n    public static void sortAndPrintReverse(String [] arr) {\r\n        // size is 1\r\n        if(arr.length==1){\r\n            for (String str : arr) {\r\n                System.out.print(str + &quot; &quot;);\r\n            }\r\n            return;\r\n        }\r\n        \r\n        for (int j = 1; j &lt; arr.length; j++) {\r\n          String temp = arr[j];\r\n          int possibleIndex = j;\r\n          while (possibleIndex &gt; 0 &amp;&amp; temp.compareTo(arr[possibleIndex - 1]) &gt; 0) {\r\n            arr[possibleIndex] = arr[possibleIndex - 1];\r\n            possibleIndex--; \r\n          }\r\n          arr[possibleIndex] = temp;\r\n          for (String str : arr) {\r\n            System.out.print(str + &quot; &quot;);\r\n          }\r\n          System.out.println();\r\n        }\r\n    }\r\n```","title":"insertion sort and printing values","body":"<p>You need to take care for 2 things:</p>\n<ol>\n<li>If <strong>size of array is 1</strong> then it should <strong>print the single element</strong> as is.</li>\n<li><strong><code>temp.compareTo(arr[possibleIndex - 1]) &gt; 0</code></strong> should be done since the question asks to be <strong>reverse sorted</strong> (descending order).</li>\n</ol>\n<pre><code>    public static void sortAndPrintReverse(String [] arr) {\n        // size is 1\n        if(arr.length==1){\n            for (String str : arr) {\n                System.out.print(str + &quot; &quot;);\n            }\n            return;\n        }\n        \n        for (int j = 1; j &lt; arr.length; j++) {\n          String temp = arr[j];\n          int possibleIndex = j;\n          while (possibleIndex &gt; 0 &amp;&amp; temp.compareTo(arr[possibleIndex - 1]) &gt; 0) {\n            arr[possibleIndex] = arr[possibleIndex - 1];\n            possibleIndex--; \n          }\n          arr[possibleIndex] = temp;\n          for (String str : arr) {\n            System.out.print(str + &quot; &quot;);\n          }\n          System.out.println();\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":20456333,"reputation":17,"user_id":15009901,"display_name":"hithit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674541590,"creation_date":1674540078,"question_id":75217911,"body_markdown":"the prompt says\r\n[![enter image description here][1]][1]\r\n\r\n\r\nso far i&#39;ve done\r\n```\r\npublic class U7_L6_Activity_One {\r\n  public static void sortAndPrintReverse(String [] arr) {\r\n    for (int j = 1; j &lt; arr.length; j++) {\r\n      String temp = arr[j];\r\n      int possibleIndex = j;\r\n      while (possibleIndex &gt; 0 &amp;&amp; temp.compareTo(arr[possibleIndex - 1]) &lt; 0) {\r\n        arr[possibleIndex] = arr[possibleIndex - 1];\r\n        possibleIndex--; \r\n      }\r\n      arr[possibleIndex] = temp;\r\n      for (String str : arr) {\r\n        System.out.print(str + &quot; &quot;);\r\n      }\r\n      System.out.println();\r\n    }\r\n  }\r\n}\r\n```\r\nbut i&#39;m unable to pass three of the test cases and am not sure how to fix the code\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k5BmG.png\r\n  [2]: https://i.stack.imgur.com/R8G5c.png\r\n  [3]: https://i.stack.imgur.com/ZPkZO.png\r\n  [4]: https://i.stack.imgur.com/SlwIu.png","title":"insertion sort and printing values","body":"<p>the prompt says\n<a href=\"https://i.stack.imgur.com/k5BmG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k5BmG.png\" alt=\"enter image description here\" /></a></p>\n<p>so far i've done</p>\n<pre><code>public class U7_L6_Activity_One {\n  public static void sortAndPrintReverse(String [] arr) {\n    for (int j = 1; j &lt; arr.length; j++) {\n      String temp = arr[j];\n      int possibleIndex = j;\n      while (possibleIndex &gt; 0 &amp;&amp; temp.compareTo(arr[possibleIndex - 1]) &lt; 0) {\n        arr[possibleIndex] = arr[possibleIndex - 1];\n        possibleIndex--; \n      }\n      arr[possibleIndex] = temp;\n      for (String str : arr) {\n        System.out.print(str + &quot; &quot;);\n      }\n      System.out.println();\n    }\n  }\n}\n</code></pre>\n<p>but i'm unable to pass three of the test cases and am not sure how to fix the code\n<a href=\"https://i.stack.imgur.com/R8G5c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R8G5c.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/ZPkZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZPkZO.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/SlwIu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SlwIu.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"owner":{"account_id":2825732,"reputation":507,"user_id":2428420,"accept_rate":80,"display_name":"Marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674541546,"creation_date":1674059281,"question_id":75162333,"body_markdown":"I&#39;ve an application UI with \r\n - some TextView inside a ViewHolder \r\n - some buttons\r\n\r\nIf the user change the text inside one of the TextView I need to check the value to be sure that is between some ranges. The check must be done immediately after the user change focus (as example because click on one button, this is needed because I had to do some actions in response to some specific values).\r\n\r\nI implemented the check setOnFocusChangeListener() but seems that the event is not fired on button click but only if I click on another TextView\r\n\r\nHow can I be sure that the value is checked on any kind of event like back button, other UI button click and so on? \r\n\r\nFor performance reason I prefer that the check is performed only on focus change.\r\n\r\nBelow my current code for one of the TextView that are inside the ViewHolder:\r\n\r\n```\r\n holder.articleQuantity.setOnFocusChangeListener((v, hasFocus) -&gt; {\r\n            if (!hasFocus) {\r\n                EditText articleQuantity = (EditText) v;\r\n                String currentQuantity = articleQuantity.getText().toString();\r\n                if(ArticleModelArrayList.size()&gt;0) {\r\n                    int adapterPos = holder.getAdapterPosition();\r\n                    if(adapterPos &gt; 0) {\r\n                        ArticleModel article = ArticleModelArrayList.get(adapterPos);\r\n                        if (!currentQuantity.equals(&quot;&quot;) &amp;&amp; (Integer.parseInt(currentQuantity) &gt; 0)) {\r\n                            article.setQuantity(Integer.parseInt(currentQuantity));\r\n                        }\r\n                        articleQuantity.setText(article.getQuantity().toString());\r\n                        ArticleModelArrayList.set(adapterPos, article);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n```\r\n","title":"TextView setOnFocusChangeListener not called on button click","body":"<p>I've an application UI with</p>\n<ul>\n<li>some TextView inside a ViewHolder</li>\n<li>some buttons</li>\n</ul>\n<p>If the user change the text inside one of the TextView I need to check the value to be sure that is between some ranges. The check must be done immediately after the user change focus (as example because click on one button, this is needed because I had to do some actions in response to some specific values).</p>\n<p>I implemented the check setOnFocusChangeListener() but seems that the event is not fired on button click but only if I click on another TextView</p>\n<p>How can I be sure that the value is checked on any kind of event like back button, other UI button click and so on?</p>\n<p>For performance reason I prefer that the check is performed only on focus change.</p>\n<p>Below my current code for one of the TextView that are inside the ViewHolder:</p>\n<pre><code> holder.articleQuantity.setOnFocusChangeListener((v, hasFocus) -&gt; {\n            if (!hasFocus) {\n                EditText articleQuantity = (EditText) v;\n                String currentQuantity = articleQuantity.getText().toString();\n                if(ArticleModelArrayList.size()&gt;0) {\n                    int adapterPos = holder.getAdapterPosition();\n                    if(adapterPos &gt; 0) {\n                        ArticleModel article = ArticleModelArrayList.get(adapterPos);\n                        if (!currentQuantity.equals(&quot;&quot;) &amp;&amp; (Integer.parseInt(currentQuantity) &gt; 0)) {\n                            article.setQuantity(Integer.parseInt(currentQuantity));\n                        }\n                        articleQuantity.setText(article.getQuantity().toString());\n                        ArticleModelArrayList.set(adapterPos, article);\n                    }\n                }\n            }\n        });\n</code></pre>\n"},{"tags":["java","android-studio","methods","android-activity","fragment"],"comments":[{"owner":{"account_id":5350814,"reputation":606,"user_id":4264994,"display_name":"Емил Цоков"},"score":0,"creation_date":1674814598,"post_id":75217566,"comment_id":132797809,"body_markdown":"Usually highlighted text in IDE gives some extra info about the problem when you hover on them, isn&#39;t that the case with Android Studio(or Problems panel somewhere in the UI)","body":"Usually highlighted text in IDE gives some extra info about the problem when you hover on them, isn&#39;t that the case with Android Studio(or Problems panel somewhere in the UI)"}],"answers":[{"comments":[{"owner":{"account_id":26671839,"reputation":23,"user_id":21070324,"display_name":"Revaken"},"score":0,"creation_date":1674542170,"post_id":75218066,"comment_id":132730281,"body_markdown":"The program highlights LayoutInflater and ViewGroup in red and gives an error, maybe I did something wrong? (added a picture with the code)","body":"The program highlights LayoutInflater and ViewGroup in red and gives an error, maybe I did something wrong? (added a picture with the code)"},{"owner":{"account_id":22264521,"reputation":329,"user_id":20837030,"display_name":"jcredking"},"score":0,"creation_date":1674543242,"post_id":75218066,"comment_id":132730507,"body_markdown":"add `@NonNull` like this `@NonNull LayoutInflater inflater`","body":"add <code>@NonNull</code> like this <code>@NonNull LayoutInflater inflater</code>"},{"owner":{"account_id":26671839,"reputation":23,"user_id":21070324,"display_name":"Revaken"},"score":1,"creation_date":1674543427,"post_id":75218066,"comment_id":132730539,"body_markdown":"Thank you, I figured out what I was wrong about","body":"Thank you, I figured out what I was wrong about"}],"tags":[],"owner":{"account_id":22264521,"reputation":329,"user_id":20837030,"display_name":"jcredking"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674541462,"creation_date":1674541462,"answer_id":75218066,"question_id":75217566,"body_markdown":"**You can try like this**\r\n\r\n     @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n    \r\n            View view1 = inflater.inflate(R.layout.fragment_calendar, container, false);\r\n            calendarView = view1.findViewById(R.id.calendarView);\r\n            calendarView.setOnDateChangeListener((view, year, month, dayOfMonth) -&gt; {\r\n                int mYear = year;\r\n                int mMonth = month;\r\n                int mDay = dayOfMonth;\r\n                String selectedDate = new StringBuilder().append(mMonth + 1)\r\n                        .append(&quot;-&quot;).append(mDay).append(&quot;-&quot;).append(mYear)\r\n                        .append(&quot; &quot;).toString();\r\n                Toast.makeText(getContext(), selectedDate, Toast.LENGTH_LONG).show();\r\n            });\r\n    \r\n    \r\n            return view1;\r\n    \r\n        }\r\n\r\nHere you need to get `CalendarView` in `onCreateView` and return `view1` otherwise you get ` java.lang.NullPointerException:` Error Like ` View view1 = inflater.inflate(R.layout.fragment_calendar, container, false);`\r\n\r\n","title":"I can&#39;t create a CalendarView inside a Fragment","body":"<p><strong>You can try like this</strong></p>\n<pre><code> @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n        View view1 = inflater.inflate(R.layout.fragment_calendar, container, false);\n        calendarView = view1.findViewById(R.id.calendarView);\n        calendarView.setOnDateChangeListener((view, year, month, dayOfMonth) -&gt; {\n            int mYear = year;\n            int mMonth = month;\n            int mDay = dayOfMonth;\n            String selectedDate = new StringBuilder().append(mMonth + 1)\n                    .append(&quot;-&quot;).append(mDay).append(&quot;-&quot;).append(mYear)\n                    .append(&quot; &quot;).toString();\n            Toast.makeText(getContext(), selectedDate, Toast.LENGTH_LONG).show();\n        });\n\n\n        return view1;\n\n    }\n</code></pre>\n<p>Here you need to get <code>CalendarView</code> in <code>onCreateView</code> and return <code>view1</code> otherwise you get <code> java.lang.NullPointerException:</code> Error Like <code> View view1 = inflater.inflate(R.layout.fragment_calendar, container, false);</code></p>\n"}],"owner":{"account_id":26671839,"reputation":23,"user_id":21070324,"display_name":"Revaken"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75218066,"answer_count":1,"score":1,"last_activity_date":1674541462,"creation_date":1674536388,"question_id":75217566,"body_markdown":"Good afternoon, I&#39;m new to Android Studio development. I&#39;m developing an application where I need to create a Calendar in one of the Fragments.\r\n\r\n\r\n\r\nI&#39;m trying to create a CalendarView in my fragment, but the setContentView methods and others are highlighted in red, what am I doing wrong? Below is the code.\r\n```\r\npublic class CalendarFragment extends Fragment  {\r\n    private CalendarView calendarView;\r\n\r\n    public CalendarFragment() {\r\n        // Required empty public constructor\r\n    }\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.fragment_calendar);\r\n        CalendarView calendarView = findViewById(R.id.calendarView);\r\n        calendarView.setOnDateChangeListener(new OnDateChangeListener() {\r\n\r\n            @Override\r\n            public void onSelectedDayChange(CalendarView view, int year,\r\n                                            int month, int dayOfMonth) {\r\n                int mYear = year;\r\n                int mMonth = month;\r\n                int mDay = dayOfMonth;\r\n                String selectedDate = new StringBuilder().append(mMonth + 1)\r\n                        .append(&quot;-&quot;).append(mDay).append(&quot;-&quot;).append(mYear)\r\n                        .append(&quot; &quot;).toString();\r\n                Toast.makeText(getApplicationContext(), selectedDate, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"I can&#39;t create a CalendarView inside a Fragment","body":"<p>Good afternoon, I'm new to Android Studio development. I'm developing an application where I need to create a Calendar in one of the Fragments.</p>\n<p>I'm trying to create a CalendarView in my fragment, but the setContentView methods and others are highlighted in red, what am I doing wrong? Below is the code.</p>\n<pre><code>public class CalendarFragment extends Fragment  {\n    private CalendarView calendarView;\n\n    public CalendarFragment() {\n        // Required empty public constructor\n    }\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.fragment_calendar);\n        CalendarView calendarView = findViewById(R.id.calendarView);\n        calendarView.setOnDateChangeListener(new OnDateChangeListener() {\n\n            @Override\n            public void onSelectedDayChange(CalendarView view, int year,\n                                            int month, int dayOfMonth) {\n                int mYear = year;\n                int mMonth = month;\n                int mDay = dayOfMonth;\n                String selectedDate = new StringBuilder().append(mMonth + 1)\n                        .append(&quot;-&quot;).append(mDay).append(&quot;-&quot;).append(mYear)\n                        .append(&quot; &quot;).toString();\n                Toast.makeText(getApplicationContext(), selectedDate, Toast.LENGTH_LONG).show();\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1674499443,"post_id":75213253,"comment_id":132722626,"body_markdown":"It&#39;s possible to disable all annotations, see https://www.baeldung.com/jackson-annotations. You can do that for specific `ObjectMapper` instances. If needed you can clone an existing one to disable the feature. Another option is to switch it around - don&#39;t ignore by default, and add ignores when you need them. You can do the latter using mix-ins. Those are somewhat explained on the same site.","body":"It&#39;s possible to disable all annotations, see <a href=\"https://www.baeldung.com/jackson-annotations\" rel=\"nofollow noreferrer\">baeldung.com/jackson-annotations</a>. You can do that for specific <code>ObjectMapper</code> instances. If needed you can clone an existing one to disable the feature. Another option is to switch it around - don&#39;t ignore by default, and add ignores when you need them. You can do the latter using mix-ins. Those are somewhat explained on the same site."}],"answers":[{"tags":[],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674540843,"creation_date":1674540843,"answer_id":75218001,"question_id":75213253,"body_markdown":"Yes, you can do this by using this: \r\n```\r\n    objectMapper.disable(MapperFeature.USE_ANNOTATIONS);\r\n    String result = objectMapper.writeValueAsString(bean);\r\n```","title":"Jackson ObjectWriter write including ignored fields","body":"<p>Yes, you can do this by using this:</p>\n<pre><code>    objectMapper.disable(MapperFeature.USE_ANNOTATIONS);\n    String result = objectMapper.writeValueAsString(bean);\n</code></pre>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75218001,"answer_count":1,"score":0,"last_activity_date":1674540843,"creation_date":1674496402,"question_id":75213253,"body_markdown":"Let&#39;s say I have some field of the class annotated with `@JsonIgnore`:\r\n```\r\npublic TestClass{\r\n  @JsonIgnore TestField fild;\r\n}\r\n```\r\nBut now I want to write the object of this class to json including these fields. How can I do this? Is there some property to use with `ObjectMapper`, something like `objectMapper.properties(INCLUDE_IGNORED_FIELDS).write(object)` or something like this?\r\n","title":"Jackson ObjectWriter write including ignored fields","body":"<p>Let's say I have some field of the class annotated with <code>@JsonIgnore</code>:</p>\n<pre><code>public TestClass{\n  @JsonIgnore TestField fild;\n}\n</code></pre>\n<p>But now I want to write the object of this class to json including these fields. How can I do this? Is there some property to use with <code>ObjectMapper</code>, something like <code>objectMapper.properties(INCLUDE_IGNORED_FIELDS).write(object)</code> or something like this?</p>\n"},{"tags":["java","spring","http","post","httpurlconnection"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1673279386,"post_id":75058526,"comment_id":132457584,"body_markdown":"What makes you think that `student.toString` will be the proper way to send the data as a request body? It isn&#39;t. I would also strongly suggest to use something else (like `RestTemplate` or `WebClient` to send a request as you are already using Spring).","body":"What makes you think that <code>student.toString</code> will be the proper way to send the data as a request body? It isn&#39;t. I would also strongly suggest to use something else (like <code>RestTemplate</code> or <code>WebClient</code> to send a request as you are already using Spring)."},{"owner":{"account_id":18173939,"reputation":659,"user_id":13223056,"display_name":"KL_KISNE_DEKHA_HAI"},"score":0,"creation_date":1673279864,"post_id":75058526,"comment_id":132457812,"body_markdown":"Can you please post an answer.... i am open to stuff, it is just that i have done mostly using string that is why thinking it was possible this way. Please help","body":"Can you please post an answer.... i am open to stuff, it is just that i have done mostly using string that is why thinking it was possible this way. Please help"},{"owner":{"account_id":18173939,"reputation":659,"user_id":13223056,"display_name":"KL_KISNE_DEKHA_HAI"},"score":0,"creation_date":1673365695,"post_id":75058526,"comment_id":132479737,"body_markdown":"Can anyone help on this? I am trying and in need for a solution","body":"Can anyone help on this? I am trying and in need for a solution"}],"answers":[{"tags":[],"owner":{"account_id":18173939,"reputation":659,"user_id":13223056,"display_name":"KL_KISNE_DEKHA_HAI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674540114,"creation_date":1674460518,"answer_id":75206836,"question_id":75058526,"body_markdown":"Tried to do via HttpURLConnection but nothing worked for me. Therefore posting answer using another process\r\n```\r\npublic String postAPI(String name, String class, String section, String rollno, MultipartFile marksheet){\r\n    String responseStr = null;\r\n    try{\r\n        HttpPost req = new HttpPost(&quot;https://somedomain.com/example/storeMarksheet&quot;);\r\n        MultipartEntityBuilder builder = MultipartEntityBuilder.create();\r\n        builder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\r\n        builder.addTextBody(&quot;name&quot;,name);\r\n        builder.addTextBody(&quot;class&quot;,class);\r\n        builder.addTextBody(&quot;section&quot;,section);\r\n        builder.addTextBody(&quot;rollno&quot;,rollno);\r\n        builder.addbinaryBody(&quot;file&quot;, marksheet.getBytes(), ContentType.DEFAULT_BINARY, marksheet.getOriginalFilename() );\r\n    \r\n        HttpEntity entity = builder.build();\r\n        req.setEntity(entity);\r\n        CloseableHttpClient client = HttpClientBuilder.create().build();\r\n        CloseableHttpResponse res = client.execute(req);\r\n        responseStr = EntityUtils.toString(res.getEnity().toString());\r\n        System.out.println(responseStr); \r\n        return responseStr;\r\n    }catch(Exception e){\r\n        //do something.. have put common exception for now\r\n        return null;\r\n    }finally{\r\n        try{\r\n            res.close();\r\n            client.close();\r\n        }catch(Exception e){\r\n            //do something.. have put common exception for now\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n","title":"POST request with Multipart File and parameters in Java","body":"<p>Tried to do via HttpURLConnection but nothing worked for me. Therefore posting answer using another process</p>\n<pre><code>public String postAPI(String name, String class, String section, String rollno, MultipartFile marksheet){\n    String responseStr = null;\n    try{\n        HttpPost req = new HttpPost(&quot;https://somedomain.com/example/storeMarksheet&quot;);\n        MultipartEntityBuilder builder = MultipartEntityBuilder.create();\n        builder.setMode(HttpMultipartMode.BROWSER_COMPATIBLE);\n        builder.addTextBody(&quot;name&quot;,name);\n        builder.addTextBody(&quot;class&quot;,class);\n        builder.addTextBody(&quot;section&quot;,section);\n        builder.addTextBody(&quot;rollno&quot;,rollno);\n        builder.addbinaryBody(&quot;file&quot;, marksheet.getBytes(), ContentType.DEFAULT_BINARY, marksheet.getOriginalFilename() );\n    \n        HttpEntity entity = builder.build();\n        req.setEntity(entity);\n        CloseableHttpClient client = HttpClientBuilder.create().build();\n        CloseableHttpResponse res = client.execute(req);\n        responseStr = EntityUtils.toString(res.getEnity().toString());\n        System.out.println(responseStr); \n        return responseStr;\n    }catch(Exception e){\n        //do something.. have put common exception for now\n        return null;\n    }finally{\n        try{\n            res.close();\n            client.close();\n        }catch(Exception e){\n            //do something.. have put common exception for now\n        }\n        \n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18173939,"reputation":659,"user_id":13223056,"display_name":"KL_KISNE_DEKHA_HAI"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674540114,"creation_date":1673273564,"question_id":75058526,"body_markdown":"I have `POST API endpoint` in **Java** , which is like below which is to be called for `storing student marksheet` in the portal.\r\n\r\n**`POST API endpoint`**\r\n```\r\n/**\r\n@param name\r\n        Name of student\r\n@param class\r\n        Class of student\r\n@param section\r\n        Section of student\r\n@param rollno\r\n        Roll Number of student\r\n@param file\r\n        Marksheet of student in .xlsx format\r\n**/\r\n@PostMapping(value=&quot;/storeMarksheet&quot;, produces = &quot;application/json&quot;)\r\npublic String performTaskAndSendResponse(\r\n    @RequestParam String name,\r\n    @RequestParam String class,\r\n    @RequestParam String section,\r\n    @RequestParam String rollno,\r\n    @RequestPart(name=file) @ApiParam(&quot;.xlsx file&quot;) MultipartFile file\r\n){\r\n    System.out.println(&quot;Inside store marksheet endpoint&quot;) // not getting printed\r\n    // Store marksheet and return response accordingly\r\n}\r\n```\r\n\r\nAnd have written a function like below to call it\r\n\r\n**`POST API function call`**\r\n```\r\npublic String postAPI(String name, String class, String section, String rollno, MultipartFile marksheet){\r\n    Map&lt;String, Object&gt; student = new HashMap&lt;String, Object&gt;;\r\n    student.put(&quot;name&quot;, name);\r\n    student.put(&quot;class&quot;, class);\r\n    student.put(&quot;section&quot;, section);\r\n    student.put(&quot;rollno&quot;, rollno);\r\n    student.put(&quot;file&quot;, marksheet);\r\n\r\n    String dataAsString = student.toString();\r\n    String API = &quot;https://somedomain.com/example/storeMarksheet&quot;;\r\n    StringBuilder resp = new StringBuilder();\r\n    String lineResponse = null;\r\n\r\n    try{\r\n        URL url = new URL(API);\r\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection(); // Using HttpURL connection\r\n        conn.setRequestMethod(&quot;POST&quot;);\r\n        conn.setDoOutput(true);\r\n\r\n        DataOutputStream dos = new DataOutputStream(conn.getOutputStream());\r\n        dos.write(dataAsString.getBytes(&quot;utf-8&quot;));\r\n        \r\n        BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream(),&quot;utf-8&quot;));\r\n        while((lineResponse = br.readLine()) != null) resp.append(lineResponse.trim());\r\n\r\n        System.out.println(resp.toString());\r\n        return resp;\r\n    }catch(Exception e){\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever seems like the call is **`not going`** at all.\r\nUsing *HttpURLConnection* for making http calls.\r\n\r\n**`NOTE`**\r\n\r\n 1. First priority is sending via `HttpURLConnection` only, if impossible\r\n    then open to other solutions\r\n 2. The above POST API endpoint is working perfectly in swagger.","title":"POST request with Multipart File and parameters in Java","body":"<p>I have <code>POST API endpoint</code> in <strong>Java</strong> , which is like below which is to be called for <code>storing student marksheet</code> in the portal.</p>\n<p><strong><code>POST API endpoint</code></strong></p>\n<pre><code>/**\n@param name\n        Name of student\n@param class\n        Class of student\n@param section\n        Section of student\n@param rollno\n        Roll Number of student\n@param file\n        Marksheet of student in .xlsx format\n**/\n@PostMapping(value=&quot;/storeMarksheet&quot;, produces = &quot;application/json&quot;)\npublic String performTaskAndSendResponse(\n    @RequestParam String name,\n    @RequestParam String class,\n    @RequestParam String section,\n    @RequestParam String rollno,\n    @RequestPart(name=file) @ApiParam(&quot;.xlsx file&quot;) MultipartFile file\n){\n    System.out.println(&quot;Inside store marksheet endpoint&quot;) // not getting printed\n    // Store marksheet and return response accordingly\n}\n</code></pre>\n<p>And have written a function like below to call it</p>\n<p><strong><code>POST API function call</code></strong></p>\n<pre><code>public String postAPI(String name, String class, String section, String rollno, MultipartFile marksheet){\n    Map&lt;String, Object&gt; student = new HashMap&lt;String, Object&gt;;\n    student.put(&quot;name&quot;, name);\n    student.put(&quot;class&quot;, class);\n    student.put(&quot;section&quot;, section);\n    student.put(&quot;rollno&quot;, rollno);\n    student.put(&quot;file&quot;, marksheet);\n\n    String dataAsString = student.toString();\n    String API = &quot;https://somedomain.com/example/storeMarksheet&quot;;\n    StringBuilder resp = new StringBuilder();\n    String lineResponse = null;\n\n    try{\n        URL url = new URL(API);\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection(); // Using HttpURL connection\n        conn.setRequestMethod(&quot;POST&quot;);\n        conn.setDoOutput(true);\n\n        DataOutputStream dos = new DataOutputStream(conn.getOutputStream());\n        dos.write(dataAsString.getBytes(&quot;utf-8&quot;));\n        \n        BufferedReader br = new BufferedReader(new InputStreamReader(conn.getInputStream(),&quot;utf-8&quot;));\n        while((lineResponse = br.readLine()) != null) resp.append(lineResponse.trim());\n\n        System.out.println(resp.toString());\n        return resp;\n    }catch(Exception e){\n        return null;\n    }\n\n}\n</code></pre>\n<p>However seems like the call is <strong><code>not going</code></strong> at all.\nUsing <em>HttpURLConnection</em> for making http calls.</p>\n<p><strong><code>NOTE</code></strong></p>\n<ol>\n<li>First priority is sending via <code>HttpURLConnection</code> only, if impossible\nthen open to other solutions</li>\n<li>The above POST API endpoint is working perfectly in swagger.</li>\n</ol>\n"},{"tags":["java","android","typescript","react-native","react-native-turbomodule"],"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1673989669,"post_id":75117982,"comment_id":132618586,"body_markdown":"I am sorry because I am not fluent with react native and my skills in Android programming are now rusty, so take my words with caution: the error could be related with some kind of misconfiguration. It has been reported in different related contexts in several places like in [this article](https://medium.com/react-native-zone/english-bundling-failed-error-while-resolving-module-react-native-vector-icons-fontawesome-3958d7fa15ad).  Please, consider review the [linked Github issue](https://github.com/oblador/react-native-vector-icons/issues/626#issuecomment-357405396) as well. I hope it helps.","body":"I am sorry because I am not fluent with react native and my skills in Android programming are now rusty, so take my words with caution: the error could be related with some kind of misconfiguration. It has been reported in different related contexts in several places like in <a href=\"https://medium.com/react-native-zone/english-bundling-failed-error-while-resolving-module-react-native-vector-icons-fontawesome-3958d7fa15ad\" rel=\"nofollow noreferrer\">this article</a>.  Please, consider review the <a href=\"https://github.com/oblador/react-native-vector-icons/issues/626#issuecomment-357405396\" rel=\"nofollow noreferrer\">linked Github issue</a> as well. I hope it helps."},{"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"score":0,"creation_date":1674012157,"post_id":75117982,"comment_id":132622315,"body_markdown":"@jccampanero I did check few of these kind of issues but they are for the old architecture of react native","body":"@jccampanero I did check few of these kind of issues but they are for the old architecture of react native"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1674157560,"post_id":75117982,"comment_id":132660952,"body_markdown":"I am sorry to hear that @Pritish. Please, forgive me, as I told, I am not used to using react native and the current Android libraries nowadays. I hope somebody shed some light into the issue.","body":"I am sorry to hear that @Pritish. Please, forgive me, as I told, I am not used to using react native and the current Android libraries nowadays. I hope somebody shed some light into the issue."}],"answers":[{"comments":[{"owner":{"account_id":11091107,"reputation":145,"user_id":8142955,"display_name":"Rwzr Q"},"score":1,"creation_date":1686955834,"post_id":75217868,"comment_id":134874833,"body_markdown":"the link is broken","body":"the link is broken"}],"tags":[],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":true,"score":-3,"last_activity_date":1674539629,"creation_date":1674539629,"answer_id":75217868,"question_id":75117982,"body_markdown":"This is a react native issue introduced in 0.70 and was resolved in 0.71. Check [here][1] for more details\r\n\r\n\r\n  [1]: https://github.com/facebook/react-native/issues/35832","title":"Error: While resolving module, the Haste package was found. the module could not be found within the package","body":"<p>This is a react native issue introduced in 0.70 and was resolved in 0.71. Check <a href=\"https://github.com/facebook/react-native/issues/35832\" rel=\"nofollow noreferrer\">here</a> for more details</p>\n"}],"owner":{"account_id":13227889,"reputation":137,"user_id":9552485,"display_name":"BraveEvidence"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":718,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75217868,"answer_count":1,"score":6,"last_activity_date":1674539629,"creation_date":1673699936,"question_id":75117982,"body_markdown":"I am trying the new arch of react native. I have enabled it in my `gradle.properties` file. This error is for android only and I have not tried iOS yet.\r\n\r\nI am following the exact sample of Calculator mentioned over [here][1]. \r\n\r\n\r\nI get an error saying\r\n\r\n    error: Error: While resolving module `rtn-calculator/js/NativeCalculator.js`, the Haste package `rtn-calculator` was found. However the module `js/NativeCalculator.js` could not be found within the package. Indeed, none of these files exist:\r\n    \r\n      * `/Users/transformhub/Desktop/rnapp/RTNCalculator/js/NativeCalculator.js(.native|.android.js|.native.js|.js|.android.jsx|.native.jsx|.jsx|.android.json|.native.json|.json|.android.ts|.native.ts|.ts|.android.tsx|.native.tsx|.tsx)`\r\n      * `/Users/transformhub/Desktop/rnapp/RTNCalculator/js/NativeCalculator.js/index(.native|.android.js|.native.js|.js|.android.jsx|.native.jsx|.jsx|.android.json|.native.json|.json|.android.ts|.native.ts|.ts|.android.tsx|.native.tsx|.tsx)`\r\n        at resolveHasteName (/Users/transformhub/Desktop/rnapp/node_modules/metro-resolver/src/resolve.js:173:9)\r\n        at Object.resolve (/Users/transformhub/Desktop/rnapp/node_modules/metro-resolver/src/resolve.js:63:20)\r\n        at ModuleResolver.resolveDependency (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/node-haste/DependencyGraph/ModuleResolution.js:111:31)\r\n        at DependencyGraph.resolveDependency (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/node-haste/DependencyGraph.js:260:43)\r\n        at Object.resolve (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/lib/transformHelpers.js:177:21)\r\n        at Graph._resolveDependencies (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/DeltaBundler/Graph.js:432:35)\r\n        at Graph._processModule (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/DeltaBundler/Graph.js:218:38)\r\n        at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n        at async Graph._addDependency (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/DeltaBundler/Graph.js:314:20)\r\n        at async Promise.all (index 2)\r\n\r\nThe complete repo is [here][2]\r\n\r\n\r\n  [1]: https://reactnative.dev/docs/next/the-new-architecture/pillars-turbomodules\r\n  [2]: https://github.com/PritishSawant/RnMyAppNewArch\r\n\r\nBelow is sample code\r\n\r\n    NativeCalculator.ts\r\n    \r\n    import type {TurboModule} from &#39;react-native/Libraries/TurboModule/RCTExport&#39;;\r\n    import {TurboModuleRegistry} from &#39;react-native&#39;;\r\n    \r\n    export interface Spec extends TurboModule {\r\n      add(a: number, b: number): Promise&lt;number&gt;;\r\n    }\r\n    \r\n    export default TurboModuleRegistry.get&lt;Spec&gt;(&#39;RTNCalculator&#39;) as Spec | null;\r\n    \r\n    \r\n    package com.rtncalculator;\r\n    \r\n    import androidx.annotation.Nullable;\r\n    import com.facebook.react.bridge.NativeModule;\r\n    import com.facebook.react.bridge.ReactApplicationContext;\r\n    import com.facebook.react.module.model.ReactModuleInfo;\r\n    import com.facebook.react.module.model.ReactModuleInfoProvider;\r\n    import com.facebook.react.TurboReactPackage;\r\n    \r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class CalculatorPackage extends TurboReactPackage {\r\n    \r\n      @Nullable\r\n      @Override\r\n      public NativeModule getModule(String name, ReactApplicationContext reactContext) {\r\n          if (name.equals(CalculatorModule.NAME)) {\r\n              return new CalculatorModule(reactContext);\r\n          } else {\r\n              return null;\r\n          }\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public ReactModuleInfoProvider getReactModuleInfoProvider() {\r\n          return () -&gt; {\r\n              final Map&lt;String, ReactModuleInfo&gt; moduleInfos = new HashMap&lt;&gt;();\r\n              moduleInfos.put(\r\n                      CalculatorModule.NAME,\r\n                      new ReactModuleInfo(\r\n                              CalculatorModule.NAME,\r\n                              CalculatorModule.NAME,\r\n                              false, // canOverrideExistingModule\r\n                              false, // needsEagerInit\r\n                              true, // hasConstants\r\n                              false, // isCxxModule\r\n                              true // isTurboModule\r\n              ));\r\n              return moduleInfos;\r\n          };\r\n      }\r\n    }\r\n    \r\n    package com.rtncalculator;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import com.facebook.react.bridge.NativeModule;\r\n    import com.facebook.react.bridge.Promise;\r\n    import com.facebook.react.bridge.ReactApplicationContext;\r\n    import com.facebook.react.bridge.ReactContext;\r\n    import com.facebook.react.bridge.ReactContextBaseJavaModule;\r\n    import com.facebook.react.bridge.ReactMethod;\r\n    import java.util.Map;\r\n    import java.util.HashMap;\r\n    import com.rtncalculator.NativeCalculatorSpec;\r\n    \r\n    public class CalculatorModule extends NativeCalculatorSpec {\r\n    \r\n        public static String NAME = &quot;RTNCalculator&quot;;\r\n    \r\n        CalculatorModule(ReactApplicationContext context) {\r\n            super(context);\r\n        }\r\n    \r\n        @Override\r\n        @NonNull\r\n        public String getName() {\r\n            return NAME;\r\n        }\r\n    \r\n        @Override\r\n        public void add(double a, double b, Promise promise) {\r\n            promise.resolve(a + b);\r\n        }\r\n    }","title":"Error: While resolving module, the Haste package was found. the module could not be found within the package","body":"<p>I am trying the new arch of react native. I have enabled it in my <code>gradle.properties</code> file. This error is for android only and I have not tried iOS yet.</p>\n<p>I am following the exact sample of Calculator mentioned over <a href=\"https://reactnative.dev/docs/next/the-new-architecture/pillars-turbomodules\" rel=\"noreferrer\">here</a>.</p>\n<p>I get an error saying</p>\n<pre><code>error: Error: While resolving module `rtn-calculator/js/NativeCalculator.js`, the Haste package `rtn-calculator` was found. However the module `js/NativeCalculator.js` could not be found within the package. Indeed, none of these files exist:\n\n  * `/Users/transformhub/Desktop/rnapp/RTNCalculator/js/NativeCalculator.js(.native|.android.js|.native.js|.js|.android.jsx|.native.jsx|.jsx|.android.json|.native.json|.json|.android.ts|.native.ts|.ts|.android.tsx|.native.tsx|.tsx)`\n  * `/Users/transformhub/Desktop/rnapp/RTNCalculator/js/NativeCalculator.js/index(.native|.android.js|.native.js|.js|.android.jsx|.native.jsx|.jsx|.android.json|.native.json|.json|.android.ts|.native.ts|.ts|.android.tsx|.native.tsx|.tsx)`\n    at resolveHasteName (/Users/transformhub/Desktop/rnapp/node_modules/metro-resolver/src/resolve.js:173:9)\n    at Object.resolve (/Users/transformhub/Desktop/rnapp/node_modules/metro-resolver/src/resolve.js:63:20)\n    at ModuleResolver.resolveDependency (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/node-haste/DependencyGraph/ModuleResolution.js:111:31)\n    at DependencyGraph.resolveDependency (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/node-haste/DependencyGraph.js:260:43)\n    at Object.resolve (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/lib/transformHelpers.js:177:21)\n    at Graph._resolveDependencies (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/DeltaBundler/Graph.js:432:35)\n    at Graph._processModule (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/DeltaBundler/Graph.js:218:38)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async Graph._addDependency (/Users/transformhub/Desktop/rnapp/node_modules/metro/src/DeltaBundler/Graph.js:314:20)\n    at async Promise.all (index 2)\n</code></pre>\n<p>The complete repo is <a href=\"https://github.com/PritishSawant/RnMyAppNewArch\" rel=\"noreferrer\">here</a></p>\n<p>Below is sample code</p>\n<pre><code>NativeCalculator.ts\n\nimport type {TurboModule} from 'react-native/Libraries/TurboModule/RCTExport';\nimport {TurboModuleRegistry} from 'react-native';\n\nexport interface Spec extends TurboModule {\n  add(a: number, b: number): Promise&lt;number&gt;;\n}\n\nexport default TurboModuleRegistry.get&lt;Spec&gt;('RTNCalculator') as Spec | null;\n\n\npackage com.rtncalculator;\n\nimport androidx.annotation.Nullable;\nimport com.facebook.react.bridge.NativeModule;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.module.model.ReactModuleInfo;\nimport com.facebook.react.module.model.ReactModuleInfoProvider;\nimport com.facebook.react.TurboReactPackage;\n\nimport java.util.Collections;\nimport java.util.List;\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class CalculatorPackage extends TurboReactPackage {\n\n  @Nullable\n  @Override\n  public NativeModule getModule(String name, ReactApplicationContext reactContext) {\n      if (name.equals(CalculatorModule.NAME)) {\n          return new CalculatorModule(reactContext);\n      } else {\n          return null;\n      }\n  }\n\n\n  @Override\n  public ReactModuleInfoProvider getReactModuleInfoProvider() {\n      return () -&gt; {\n          final Map&lt;String, ReactModuleInfo&gt; moduleInfos = new HashMap&lt;&gt;();\n          moduleInfos.put(\n                  CalculatorModule.NAME,\n                  new ReactModuleInfo(\n                          CalculatorModule.NAME,\n                          CalculatorModule.NAME,\n                          false, // canOverrideExistingModule\n                          false, // needsEagerInit\n                          true, // hasConstants\n                          false, // isCxxModule\n                          true // isTurboModule\n          ));\n          return moduleInfos;\n      };\n  }\n}\n\npackage com.rtncalculator;\n\nimport androidx.annotation.NonNull;\nimport com.facebook.react.bridge.NativeModule;\nimport com.facebook.react.bridge.Promise;\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\nimport java.util.Map;\nimport java.util.HashMap;\nimport com.rtncalculator.NativeCalculatorSpec;\n\npublic class CalculatorModule extends NativeCalculatorSpec {\n\n    public static String NAME = &quot;RTNCalculator&quot;;\n\n    CalculatorModule(ReactApplicationContext context) {\n        super(context);\n    }\n\n    @Override\n    @NonNull\n    public String getName() {\n        return NAME;\n    }\n\n    @Override\n    public void add(double a, double b, Promise promise) {\n        promise.resolve(a + b);\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3798216,"reputation":11151,"user_id":3152529,"accept_rate":20,"display_name":"Jay Rathod"},"score":0,"creation_date":1472822290,"post_id":39293294,"comment_id":65920450,"body_markdown":"Please mention in which class and in which line you are getting this error so that we can suggest.","body":"Please mention in which class and in which line you are getting this error so that we can suggest."},{"owner":{"account_id":2273086,"reputation":6978,"user_id":2000012,"accept_rate":80,"display_name":"Mike Baxter"},"score":0,"creation_date":1484653435,"post_id":39293294,"comment_id":70588300,"body_markdown":"Your fragment should only be responsible for UI related actions - it&#39;s bad practice to put database access here. Instead, try calling back to the activity to perform that work for you. Read more here: http://simpledeveloper.com/how-to-communicate-between-fragments-and-activities/","body":"Your fragment should only be responsible for UI related actions - it&#39;s bad practice to put database access here. Instead, try calling back to the activity to perform that work for you. Read more here: <a href=\"http://simpledeveloper.com/how-to-communicate-between-fragments-and-activities/\" rel=\"nofollow noreferrer\">simpledeveloper.com/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4407431,"reputation":1451,"user_id":3591398,"accept_rate":80,"display_name":"j.elmer"},"score":1,"creation_date":1479114577,"post_id":39293446,"comment_id":68405403,"body_markdown":"which one works? using `getActivity()` or `getContext()`?","body":"which one works? using <code>getActivity()</code> or <code>getContext()</code>?"},{"owner":{"account_id":1341189,"reputation":1648,"user_id":1282812,"accept_rate":38,"display_name":"Kalpesh Patel"},"score":0,"creation_date":1519109430,"post_id":39293446,"comment_id":84762712,"body_markdown":"@GowthamanM When are you calling any of the above method? Are you calling it after `onDetach()` or before `onAttach()`?","body":"@GowthamanM When are you calling any of the above method? Are you calling it after <code>onDetach()</code> or before <code>onAttach()</code>?"},{"owner":{"account_id":8646935,"reputation":8115,"user_id":6473867,"accept_rate":44,"display_name":"Gowthaman M"},"score":0,"creation_date":1519110642,"post_id":39293446,"comment_id":84763229,"body_markdown":"@KalpeshPatel i calling inside **catch (OutOfMemoryError e){\n                Log.e(&quot;outofmerrorexeceptions&quot;,&quot;                   &quot;+e.toString());\n               Toast.makeText(getContext(),&quot;Photo &quot;+e.toString(),Toast.LENGTH_SHORT).show();**\n            }","body":"@KalpeshPatel i calling inside <b>catch (OutOfMemoryError e){                 Log.e(&quot;outofmerrorexeceptions&quot;,&quot;                   &quot;+e.toString());                Toast.makeText(getContext(),&quot;Photo &quot;+e.toString(),Toast.LENGTH_SHORT).show();</b>             }"},{"owner":{"account_id":8646935,"reputation":8115,"user_id":6473867,"accept_rate":44,"display_name":"Gowthaman M"},"score":0,"creation_date":1519110674,"post_id":39293446,"comment_id":84763243,"body_markdown":"@KalpeshPatel Inside fragment outside of Oncreateview()","body":"@KalpeshPatel Inside fragment outside of Oncreateview()"},{"owner":{"account_id":1341189,"reputation":1648,"user_id":1282812,"accept_rate":38,"display_name":"Kalpesh Patel"},"score":0,"creation_date":1519110915,"post_id":39293446,"comment_id":84763344,"body_markdown":"outside `onCreateView()` means? do you call it after `onCreateView()`?\nCould you check fragment state by calling `isAdded()` inside your catch call of OutOfMemory Exception?\nIf `isAdded()` returns false then you can not do much. at this point your fragment is not attached to `Activity` and you will get `null` in `getActivity()` and `getContext()` call.","body":"outside <code>onCreateView()</code> means? do you call it after <code>onCreateView()</code>? Could you check fragment state by calling <code>isAdded()</code> inside your catch call of OutOfMemory Exception? If <code>isAdded()</code> returns false then you can not do much. at this point your fragment is not attached to <code>Activity</code> and you will get <code>null</code> in <code>getActivity()</code> and <code>getContext()</code> call."}],"tags":[],"owner":{"account_id":1341189,"reputation":1648,"user_id":1282812,"accept_rate":38,"display_name":"Kalpesh Patel"},"comment_count":5,"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1491559985,"creation_date":1472822298,"answer_id":39293446,"question_id":39293294,"body_markdown":"You can&#39;t do `MainActivity parent=(MainActivity) getActivity();` before `onAttach()` and after `onDetach()`.\r\n\r\nSince, you are doing at the time of fragment instantiation. The method `getActivity` will always return null. Also as far as possible don&#39;t try to keep your `Activity` reference in your `Fragment`. This could cause memory leak if the reference is not nullified properly.\r\n\r\nUse `getActivity()` or `getContext()` wherever possible.\r\n\r\nChange your `Toast` as below:\r\n\r\n    Toast.makeText(getContext(), &quot;Please check the number you entered&quot;, \r\n    Toast.LENGTH_LONG).show(); \r\nor \r\n       \r\n    Toast.makeText(getActivity(), &quot;Please check the number you entered&quot;, \r\n    Toast.LENGTH_LONG).show();","title":"Attempt to invoke virtual method &#39;android.content.Context.getResources()&#39; on a null object reference","body":"<p>You can't do <code>MainActivity parent=(MainActivity) getActivity();</code> before <code>onAttach()</code> and after <code>onDetach()</code>.</p>\n\n<p>Since, you are doing at the time of fragment instantiation. The method <code>getActivity</code> will always return null. Also as far as possible don't try to keep your <code>Activity</code> reference in your <code>Fragment</code>. This could cause memory leak if the reference is not nullified properly.</p>\n\n<p>Use <code>getActivity()</code> or <code>getContext()</code> wherever possible.</p>\n\n<p>Change your <code>Toast</code> as below:</p>\n\n<pre><code>Toast.makeText(getContext(), \"Please check the number you entered\", \nToast.LENGTH_LONG).show(); \n</code></pre>\n\n<p>or </p>\n\n<pre><code>Toast.makeText(getActivity(), \"Please check the number you entered\", \nToast.LENGTH_LONG).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13035163,"reputation":1085,"user_id":9420335,"display_name":"Akshay Chopra"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1524335827,"creation_date":1524335827,"answer_id":49959044,"question_id":39293294,"body_markdown":"Same error I went through! It run well in MainActivity but not in my Fragment class.\r\n\r\nI solved this problem by doing the following 2 things:\r\n\r\n1) In Fragment class, don&#39;t declare anything globally like we do in Activity class.\r\n\r\nFor example:\r\n\r\n    public class HomeFragment extends Fragment {\r\n    \r\n    // DON&#39;T WRITE THIS HERE LIKE YOU DO IN ACTIVITY\r\n    String myArray[] = getResources().getStringArray();\r\n    \r\n        @Nullable\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n     ...\r\n    }\r\n\r\nInstead, write anything inside \r\n\r\n&gt; onCreateView()\r\n\r\n method.\r\n\r\n2) Use \r\n\r\n&gt; getActivity()\r\n\r\nmethod first and then \r\n\r\n&gt; getResource() method\r\n \r\n \r\n\r\n      public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n    \r\n    //WRITE LIKE THIS\r\n     String myArray[] = getActivity().getResources().getStringArray(R.array.itemsList);\r\n    \r\n    ...\r\n    }","title":"Attempt to invoke virtual method &#39;android.content.Context.getResources()&#39; on a null object reference","body":"<p>Same error I went through! It run well in MainActivity but not in my Fragment class.</p>\n\n<p>I solved this problem by doing the following 2 things:</p>\n\n<p>1) In Fragment class, don't declare anything globally like we do in Activity class.</p>\n\n<p>For example:</p>\n\n<pre><code>public class HomeFragment extends Fragment {\n\n// DON'T WRITE THIS HERE LIKE YOU DO IN ACTIVITY\nString myArray[] = getResources().getStringArray();\n\n    @Nullable\n    @Override\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n ...\n}\n</code></pre>\n\n<p>Instead, write anything inside </p>\n\n<blockquote>\n  <p>onCreateView()</p>\n</blockquote>\n\n<p>method.</p>\n\n<p>2) Use </p>\n\n<blockquote>\n  <p>getActivity()</p>\n</blockquote>\n\n<p>method first and then </p>\n\n<blockquote>\n  <p>getResource() method</p>\n</blockquote>\n\n<pre><code>  public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n\n//WRITE LIKE THIS\n String myArray[] = getActivity().getResources().getStringArray(R.array.itemsList);\n\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13590910,"reputation":31,"user_id":9804239,"display_name":"Surbhi Kartpay"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1526539847,"creation_date":1526537932,"answer_id":50384568,"question_id":39293294,"body_markdown":"I had this issue in my android activity.The mistake was my Toast was not getting the context or I would prefer to call it reference of the activity.\r\n\r\nPrevious code:- \r\n\r\n    Toast.makeText(context, &quot;Session Expire..!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\nCorrected Code:- \r\n\r\n    Toast.makeText(activityname.this, &quot;Session Expire..!&quot;, Toast.LENGTH_SHORT).show();","title":"Attempt to invoke virtual method &#39;android.content.Context.getResources()&#39; on a null object reference","body":"<p>I had this issue in my android activity.The mistake was my Toast was not getting the context or I would prefer to call it reference of the activity.</p>\n\n<p>Previous code:- </p>\n\n<pre><code>Toast.makeText(context, \"Session Expire..!\", Toast.LENGTH_SHORT).show();\n</code></pre>\n\n<p>Corrected Code:- </p>\n\n<pre><code>Toast.makeText(activityname.this, \"Session Expire..!\", Toast.LENGTH_SHORT).show();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14519969,"reputation":43,"user_id":10487897,"display_name":"Patrick Dalington"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630418491,"creation_date":1630418491,"answer_id":69000137,"question_id":39293294,"body_markdown":"All you have to do in this case is;\r\n\r\nCreate context;\r\nAssign it to the fragment context, then check for nonnull before using the created context.\r\n\r\nLike this...\r\n\r\n        public class MyHome extends Fragment {\r\n        \r\n        **Context context;**\r\n        \r\n        public MyHome() {\r\n            \r\n    \r\n        }\r\n    \r\n    \r\n        public static MyHome newInstance() {\r\n            return new MyHome();\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            **this.context = getContext();**\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View view = inflater.inflate(R.layout.fragment_my_home, container, false);\r\n    \r\n    if(context !=null){\r\n       Toast.makeText(context,&quot;Hello homepage&quot;,Toast.LENGHT_LONG).show();\r\n    }\r\n    \r\n    }\r\n    }","title":"Attempt to invoke virtual method &#39;android.content.Context.getResources()&#39; on a null object reference","body":"<p>All you have to do in this case is;</p>\n<p>Create context;\nAssign it to the fragment context, then check for nonnull before using the created context.</p>\n<p>Like this...</p>\n<pre><code>    public class MyHome extends Fragment {\n    \n    **Context context;**\n    \n    public MyHome() {\n        \n\n    }\n\n\n    public static MyHome newInstance() {\n        return new MyHome();\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        **this.context = getContext();**\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View view = inflater.inflate(R.layout.fragment_my_home, container, false);\n\nif(context !=null){\n   Toast.makeText(context,&quot;Hello homepage&quot;,Toast.LENGHT_LONG).show();\n}\n\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16592814,"reputation":21,"user_id":11990535,"display_name":"Kadir"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648133827,"creation_date":1648133827,"answer_id":71604766,"question_id":39293294,"body_markdown":"I too had this problem, took whole day to debug.\r\n mediaPlayer = MediaPlayer.create(this, R.raw.sound);\r\nsimply replace &quot;this&quot; keyword with the activity reference (unityActivity) from unity.. (if its a unity plugin) that how I solved it.","title":"Attempt to invoke virtual method &#39;android.content.Context.getResources()&#39; on a null object reference","body":"<p>I too had this problem, took whole day to debug.\nmediaPlayer = MediaPlayer.create(this, R.raw.sound);\nsimply replace &quot;this&quot; keyword with the activity reference (unityActivity) from unity.. (if its a unity plugin) that how I solved it.</p>\n"},{"tags":[],"owner":{"account_id":25069906,"reputation":81,"user_id":18923833,"display_name":"Gentrit Ibishi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663338673,"creation_date":1663338673,"answer_id":73746393,"question_id":39293294,"body_markdown":"Declare a method like this:\r\n\r\n    private boolean checkContext(Context context) {\r\n        if(context != null)\r\n            return true;\r\n        else\r\n            return false;\r\n    }\r\n\r\nNow if is activity execute this method onCreate() or onStart() like this:\r\n\r\n    if(checkContext(getApplicationContext() or NameActivity.this))\r\n    {\r\n       /// do stuff that hang from context\r\n    }\r\nIf is in fragment execute in onCreateView() or onStart like this:\r\n\r\n    if(checkContext(getContext()))\r\n    {\r\n       //dostuf that hang from context   \r\n    }","title":"Attempt to invoke virtual method &#39;android.content.Context.getResources()&#39; on a null object reference","body":"<p>Declare a method like this:</p>\n<pre><code>private boolean checkContext(Context context) {\n    if(context != null)\n        return true;\n    else\n        return false;\n}\n</code></pre>\n<p>Now if is activity execute this method onCreate() or onStart() like this:</p>\n<pre><code>if(checkContext(getApplicationContext() or NameActivity.this))\n{\n   /// do stuff that hang from context\n}\n</code></pre>\n<p>If is in fragment execute in onCreateView() or onStart like this:</p>\n<pre><code>if(checkContext(getContext()))\n{\n   //dostuf that hang from context   \n}\n</code></pre>\n"}],"owner":{"account_id":9122790,"reputation":373,"user_id":6787674,"display_name":"Perry_W"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124939,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":39293446,"answer_count":6,"score":27,"last_activity_date":1674539275,"creation_date":1472821858,"question_id":39293294,"body_markdown":"I try to use a fragment to open a database, however, when I click the button to begin searching, the program unexpectedly terminates and it show the error like this:                                                                                 \r\n\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.content.res.Resources android.content.Context.getResources()&#39; on a null object reference\r\n         at android.widget.Toast.&lt;init&gt;(Toast.java:102)\r\n         at android.widget.Toast.makeText(Toast.java:259)\r\n         at com.example.nkwpy.myapplication.MainFragment.query(MainFragment.java:176)\r\n         at com.example.nkwpy.myapplication.MainFragment.access$000(MainFragment.java:46)\r\n         at com.example.nkwpy.myapplication.MainFragment$queryListener.onClick(MainFragment.java:161)\r\n         at android.view.View.performClick(View.java:5207)\r\n         at android.view.View$PerformClick.run(View.java:21177)\r\n         at android.os.Handler.handleCallback(Handler.java:739)\r\n         at android.os.Handler.dispatchMessage(Handler.java:95)\r\n         at android.os.Looper.loop(Looper.java:148)\r\n         at android.app.ActivityThread.main(ActivityThread.java:5458)\r\n         at java.lang.reflect.Method.invoke(Native Method)\r\n         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:738)\r\n         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:628)\r\n\r\nMainFragment:\r\n\r\n    package com.example.nkwpy.myapplication;\r\n    import android.content.Context;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.app.Fragment;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import android.database.Cursor;\r\n    import android.database.sqlite.SQLiteDatabase;\r\n    import android.view.View.OnClickListener;\r\n    import android.widget.Toast;\r\n    \r\n    \r\n    \r\n    /**\r\n     * A simple {@link Fragment} subclass.\r\n     * Activities that contain this fragment must implement the\r\n     * {@link MainFragment.OnFragmentInteractionListener} interface\r\n     * to handle interaction events.\r\n     * Use the {@link MainFragment#newInstance} factory method to\r\n     * create an instance of this fragment.\r\n     */\r\n    public class MainFragment extends Fragment {\r\n        // TODO: Rename parameter arguments, choose names that match\r\n        // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n        private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n        private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n    \r\n        MainActivity parent=(MainActivity) getActivity();\r\n        SQLiteDatabase test;\r\n        DBManager dbHelper;\r\n    \r\n    \r\n        // TODO: Rename and change types of parameters\r\n        private String mParam1;\r\n        private String mParam2;\r\n    \r\n        private EditText N;\r\n        private EditText Z;\r\n        private EditText R_A;\r\n        private Button queryBtn;\r\n    \r\n        private OnFragmentInteractionListener mListener;\r\n    \r\n        public MainFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        /**\r\n         * Use this factory method to create a new instance of\r\n         * this fragment using the provided parameters.\r\n         *\r\n         * @param param1 Parameter 1.\r\n         * @param param2 Parameter 2.\r\n         * @return A new instance of fragment MainFragment.\r\n         */\r\n        // TODO: Rename and change types and number of parameters\r\n        public static MainFragment newInstance(String param1, String param2) {\r\n            MainFragment fragment = new MainFragment();\r\n            Bundle args = new Bundle();\r\n            args.putString(ARG_PARAM1, param1);\r\n            args.putString(ARG_PARAM2, param2);\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            if (getArguments() != null) {\r\n                mParam1 = getArguments().getString(ARG_PARAM1);\r\n                mParam2 = getArguments().getString(ARG_PARAM2);\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            // Inflate the layout for this fragment\r\n            View view =inflater.inflate(R.layout.fragment_main, container, false);\r\n            N=(EditText)view.findViewById(R.id.neuton);\r\n            Z=(EditText)view.findViewById(R.id.proton);\r\n            queryBtn = (Button)view.findViewById(R.id.query);\r\n            queryBtn.setOnClickListener(new queryListener());\r\n            R_A=(EditText)view.findViewById(R.id.result);\r\n    \r\n    \r\n            dbHelper = new DBManager(getActivity());\r\n            dbHelper.openDatabase();\r\n            dbHelper.closeDatabase();\r\n            return view;\r\n        }\r\n    \r\n        // TODO: Rename method, update argument and hook method into UI event\r\n        public void onButtonPressed(Uri uri) {\r\n            if (mListener != null) {\r\n                mListener.onFragmentInteraction(uri);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onAttach(Context context) {\r\n            super.onAttach(context);\r\n            if (context instanceof OnFragmentInteractionListener) {\r\n                mListener = (OnFragmentInteractionListener) context;\r\n            } else {\r\n                throw new RuntimeException(context.toString()\r\n                        + &quot; must implement OnFragmentInteractionListener&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onDetach() {\r\n            super.onDetach();\r\n            mListener = null;\r\n        }\r\n    \r\n        /**\r\n         * This interface must be implemented by activities that contain this\r\n         * fragment to allow an interaction in this fragment to be communicated\r\n         * to the activity and potentially other fragments contained in that\r\n         * activity.\r\n         * &lt;p/&gt;\r\n         * See the Android Training lesson &lt;a href=\r\n         * &quot;http://developer.android.com/training/basics/fragments/communicating.html&quot;\r\n         * &gt;Communicating with Other Fragments&lt;/a&gt; for more information.\r\n         */\r\n        public interface OnFragmentInteractionListener {\r\n            // TODO: Update argument type and name\r\n            void onFragmentInteraction(Uri uri);\r\n        }\r\n    \r\n        class queryListener implements OnClickListener{\r\n    \r\n            @Override\r\n            public void onClick(View v) {\r\n                //\r\n                query();\r\n                test.close();\r\n            }\r\n        }\r\n        private void query() {\r\n    \r\n            try {\r\n                String string1 = N.getText().toString();\r\n                String string2 = Z.getText().toString();\r\n                String sql = &quot;select * from sly4 where N=&quot; + string1 + &quot; and Z=&quot; + string2;\r\n                Cursor cursor =test.rawQuery(sql, null);\r\n                cursor.moveToFirst();\r\n                String r = cursor.getString(cursor.getColumnIndex(&quot;value&quot;));\r\n                R_A.setText(r);\r\n            } catch (Exception e) {\r\n                Toast.makeText(parent, &quot;Please check the number you entered&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        }\r\n    }\r\n\r\nclass DBManager:\r\n\r\n \r\n\r\n    import java.io.File;\r\n     import java.io.FileNotFoundException;\r\n     import java.io.FileOutputStream;\r\n     import java.io.IOException;\r\n     import java.io.InputStream;\r\n     import android.content.Context;\r\n     import android.database.sqlite.SQLiteDatabase;\r\n     import android.os.Environment;\r\n     import android.util.Log;\r\n    \r\n    public class DBManager {\r\n        private final int BUFFER_SIZE = 400000;\r\n        public static final String DB_NAME = &quot;main.db&quot;; \r\n        public static final String PACKAGE_NAME = &quot;com.example.nkwpy.myapplication&quot;;\r\n        public static final String DB_PATH = &quot;/data&quot;\r\n                + Environment.getDataDirectory().getAbsolutePath() + &quot;/&quot;\r\n                + PACKAGE_NAME;\r\n    \r\n        private SQLiteDatabase database;\r\n        private Context context;\r\n    \r\n        DBManager(Context context) {\r\n            this.context = context;\r\n        }\r\n    \r\n        public void openDatabase() {\r\n            this.database = this.openDatabase(DB_PATH + &quot;/&quot; + DB_NAME);\r\n        }\r\n    \r\n        private SQLiteDatabase openDatabase(String dbfile) {\r\n            try {\r\n                if (!(new File(dbfile).exists())) {\r\n                    InputStream is = this.context.getResources().openRawResource(R.raw.main);\r\n                    FileOutputStream fos = new FileOutputStream(dbfile);\r\n                    byte[] buffer = new byte[BUFFER_SIZE];\r\n                    int count = 0;\r\n                    while ((count = is.read(buffer)) &gt; 0) {\r\n                        fos.write(buffer, 0, count);\r\n                    }\r\n                    fos.close();\r\n                    is.close();\r\n                }\r\n                SQLiteDatabase db = SQLiteDatabase.openOrCreateDatabase(dbfile,\r\n                        null);\r\n                return db;\r\n            } catch (FileNotFoundException e) {\r\n                Log.e(&quot;Database&quot;, &quot;File not found&quot;);\r\n                e.printStackTrace();\r\n            } catch (IOException e) {\r\n                Log.e(&quot;Database&quot;, &quot;IO exception&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            return null;\r\n        }\r\n        public void closeDatabase() {\r\n            this.database.close();\r\n        }\r\n    }\r\n\r\nBy the way,I have used code about DBManager in MainAcitivity,and it succeeded.After I copy the code to the fragment like the one above,it failed.How should I do?","title":"Attempt to invoke virtual method &#39;android.content.Context.getResources()&#39; on a null object reference","body":"<p>I try to use a fragment to open a database, however, when I click the button to begin searching, the program unexpectedly terminates and it show the error like this:                                                                                 </p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'android.content.res.Resources android.content.Context.getResources()' on a null object reference\n     at android.widget.Toast.&lt;init&gt;(Toast.java:102)\n     at android.widget.Toast.makeText(Toast.java:259)\n     at com.example.nkwpy.myapplication.MainFragment.query(MainFragment.java:176)\n     at com.example.nkwpy.myapplication.MainFragment.access$000(MainFragment.java:46)\n     at com.example.nkwpy.myapplication.MainFragment$queryListener.onClick(MainFragment.java:161)\n     at android.view.View.performClick(View.java:5207)\n     at android.view.View$PerformClick.run(View.java:21177)\n     at android.os.Handler.handleCallback(Handler.java:739)\n     at android.os.Handler.dispatchMessage(Handler.java:95)\n     at android.os.Looper.loop(Looper.java:148)\n     at android.app.ActivityThread.main(ActivityThread.java:5458)\n     at java.lang.reflect.Method.invoke(Native Method)\n     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:738)\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:628)\n</code></pre>\n\n<p>MainFragment:</p>\n\n<pre><code>package com.example.nkwpy.myapplication;\nimport android.content.Context;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.app.Fragment;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.view.View.OnClickListener;\nimport android.widget.Toast;\n\n\n\n/**\n * A simple {@link Fragment} subclass.\n * Activities that contain this fragment must implement the\n * {@link MainFragment.OnFragmentInteractionListener} interface\n * to handle interaction events.\n * Use the {@link MainFragment#newInstance} factory method to\n * create an instance of this fragment.\n */\npublic class MainFragment extends Fragment {\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = \"param1\";\n    private static final String ARG_PARAM2 = \"param2\";\n\n    MainActivity parent=(MainActivity) getActivity();\n    SQLiteDatabase test;\n    DBManager dbHelper;\n\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    private EditText N;\n    private EditText Z;\n    private EditText R_A;\n    private Button queryBtn;\n\n    private OnFragmentInteractionListener mListener;\n\n    public MainFragment() {\n        // Required empty public constructor\n    }\n\n    /**\n     * Use this factory method to create a new instance of\n     * this fragment using the provided parameters.\n     *\n     * @param param1 Parameter 1.\n     * @param param2 Parameter 2.\n     * @return A new instance of fragment MainFragment.\n     */\n    // TODO: Rename and change types and number of parameters\n    public static MainFragment newInstance(String param1, String param2) {\n        MainFragment fragment = new MainFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n\n\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view =inflater.inflate(R.layout.fragment_main, container, false);\n        N=(EditText)view.findViewById(R.id.neuton);\n        Z=(EditText)view.findViewById(R.id.proton);\n        queryBtn = (Button)view.findViewById(R.id.query);\n        queryBtn.setOnClickListener(new queryListener());\n        R_A=(EditText)view.findViewById(R.id.result);\n\n\n        dbHelper = new DBManager(getActivity());\n        dbHelper.openDatabase();\n        dbHelper.closeDatabase();\n        return view;\n    }\n\n    // TODO: Rename method, update argument and hook method into UI event\n    public void onButtonPressed(Uri uri) {\n        if (mListener != null) {\n            mListener.onFragmentInteraction(uri);\n        }\n    }\n\n    @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        if (context instanceof OnFragmentInteractionListener) {\n            mListener = (OnFragmentInteractionListener) context;\n        } else {\n            throw new RuntimeException(context.toString()\n                    + \" must implement OnFragmentInteractionListener\");\n        }\n    }\n\n    @Override\n    public void onDetach() {\n        super.onDetach();\n        mListener = null;\n    }\n\n    /**\n     * This interface must be implemented by activities that contain this\n     * fragment to allow an interaction in this fragment to be communicated\n     * to the activity and potentially other fragments contained in that\n     * activity.\n     * &lt;p/&gt;\n     * See the Android Training lesson &lt;a href=\n     * \"http://developer.android.com/training/basics/fragments/communicating.html\"\n     * &gt;Communicating with Other Fragments&lt;/a&gt; for more information.\n     */\n    public interface OnFragmentInteractionListener {\n        // TODO: Update argument type and name\n        void onFragmentInteraction(Uri uri);\n    }\n\n    class queryListener implements OnClickListener{\n\n        @Override\n        public void onClick(View v) {\n            //\n            query();\n            test.close();\n        }\n    }\n    private void query() {\n\n        try {\n            String string1 = N.getText().toString();\n            String string2 = Z.getText().toString();\n            String sql = \"select * from sly4 where N=\" + string1 + \" and Z=\" + string2;\n            Cursor cursor =test.rawQuery(sql, null);\n            cursor.moveToFirst();\n            String r = cursor.getString(cursor.getColumnIndex(\"value\"));\n            R_A.setText(r);\n        } catch (Exception e) {\n            Toast.makeText(parent, \"Please check the number you entered\", Toast.LENGTH_LONG).show();\n        }\n    }\n}\n</code></pre>\n\n<p>class DBManager:</p>\n\n<pre><code>import java.io.File;\n import java.io.FileNotFoundException;\n import java.io.FileOutputStream;\n import java.io.IOException;\n import java.io.InputStream;\n import android.content.Context;\n import android.database.sqlite.SQLiteDatabase;\n import android.os.Environment;\n import android.util.Log;\n\npublic class DBManager {\n    private final int BUFFER_SIZE = 400000;\n    public static final String DB_NAME = \"main.db\"; \n    public static final String PACKAGE_NAME = \"com.example.nkwpy.myapplication\";\n    public static final String DB_PATH = \"/data\"\n            + Environment.getDataDirectory().getAbsolutePath() + \"/\"\n            + PACKAGE_NAME;\n\n    private SQLiteDatabase database;\n    private Context context;\n\n    DBManager(Context context) {\n        this.context = context;\n    }\n\n    public void openDatabase() {\n        this.database = this.openDatabase(DB_PATH + \"/\" + DB_NAME);\n    }\n\n    private SQLiteDatabase openDatabase(String dbfile) {\n        try {\n            if (!(new File(dbfile).exists())) {\n                InputStream is = this.context.getResources().openRawResource(R.raw.main);\n                FileOutputStream fos = new FileOutputStream(dbfile);\n                byte[] buffer = new byte[BUFFER_SIZE];\n                int count = 0;\n                while ((count = is.read(buffer)) &gt; 0) {\n                    fos.write(buffer, 0, count);\n                }\n                fos.close();\n                is.close();\n            }\n            SQLiteDatabase db = SQLiteDatabase.openOrCreateDatabase(dbfile,\n                    null);\n            return db;\n        } catch (FileNotFoundException e) {\n            Log.e(\"Database\", \"File not found\");\n            e.printStackTrace();\n        } catch (IOException e) {\n            Log.e(\"Database\", \"IO exception\");\n            e.printStackTrace();\n        }\n        return null;\n    }\n    public void closeDatabase() {\n        this.database.close();\n    }\n}\n</code></pre>\n\n<p>By the way,I have used code about DBManager in MainAcitivity,and it succeeded.After I copy the code to the fragment like the one above,it failed.How should I do?</p>\n"},{"tags":["java","spring","encoding","deep-linking","decoding"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1657268038,"post_id":72908365,"comment_id":128774982,"body_markdown":"Does this answer your question? [How do I create a URL shortener?](https://stackoverflow.com/questions/742013/how-do-i-create-a-url-shortener)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/742013/how-do-i-create-a-url-shortener\">How do I create a URL shortener?</a>"},{"owner":{"account_id":16018762,"reputation":108,"user_id":11560736,"display_name":"AnilF"},"score":0,"creation_date":1657275934,"post_id":72908365,"comment_id":128777665,"body_markdown":"nope, i have tried that in a compiler. Let me add the code as answer below. Can you check?","body":"nope, i have tried that in a compiler. Let me add the code as answer below. Can you check?"}],"answers":[{"tags":[],"owner":{"account_id":16018762,"reputation":108,"user_id":11560736,"display_name":"AnilF"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674538509,"creation_date":1657275967,"answer_id":72910045,"question_id":72908365,"body_markdown":"    public class Main {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;Hello, World!&quot;);\r\n            UrlShortener url = new UrlShortener();\r\n            System.out.println(url.decode(&quot;https://www.google.com&quot;));\r\n        }\r\n    }\r\n\r\n    public class UrlShortener {\r\n        private static final String ALPHABET = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;;\r\n        private static final int    BASE     = ALPHABET.length();\r\n    \r\n        public static String encode(int num) {\r\n            StringBuilder sb = new StringBuilder();\r\n            while ( num &gt; 0 ) {\r\n                sb.append( ALPHABET.charAt( num % BASE ) );\r\n                num /= BASE;\r\n            }\r\n            return sb.reverse().toString();   \r\n        }\r\n    \r\n        public static int decode(String str) {\r\n            int num = 0;\r\n            for ( int i = 0; i &lt; str.length(); i++ )\r\n                num = num * BASE + ALPHABET.indexOf(str.charAt(i));\r\n            return num;\r\n        }   \r\n    }","title":"How to create deeplink for web url java spring","body":"<pre><code>public class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello, World!&quot;);\n        UrlShortener url = new UrlShortener();\n        System.out.println(url.decode(&quot;https://www.google.com&quot;));\n    }\n}\n\npublic class UrlShortener {\n    private static final String ALPHABET = &quot;abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789&quot;;\n    private static final int    BASE     = ALPHABET.length();\n\n    public static String encode(int num) {\n        StringBuilder sb = new StringBuilder();\n        while ( num &gt; 0 ) {\n            sb.append( ALPHABET.charAt( num % BASE ) );\n            num /= BASE;\n        }\n        return sb.reverse().toString();   \n    }\n\n    public static int decode(String str) {\n        int num = 0;\n        for ( int i = 0; i &lt; str.length(); i++ )\n            num = num * BASE + ALPHABET.indexOf(str.charAt(i));\n        return num;\n    }   \n}\n</code></pre>\n"}],"owner":{"account_id":16018762,"reputation":108,"user_id":11560736,"display_name":"AnilF"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1674538509,"creation_date":1657267100,"question_id":72908365,"body_markdown":"In my Java spring-based project, there is a web url that I want to send to users via message.\r\n\r\nBut I&#39;m looking for a solution to not give a security issue and send it both secured and short instead of forwarding a long link to customers.\r\n\r\nWaiting for your solutions. Thanks.","title":"How to create deeplink for web url java spring","body":"<p>In my Java spring-based project, there is a web url that I want to send to users via message.</p>\n<p>But I'm looking for a solution to not give a security issue and send it both secured and short instead of forwarding a long link to customers.</p>\n<p>Waiting for your solutions. Thanks.</p>\n"},{"tags":["java","eclipse","spring-mvc","maven","persistence"],"answers":[{"tags":[],"owner":{"account_id":454315,"reputation":27651,"user_id":851811,"accept_rate":100,"display_name":"Xavi L&#243;pez"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1359386104,"creation_date":1322055617,"answer_id":8243149,"question_id":8243077,"body_markdown":"And add this dependency in your `pom.xml`: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n        &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nThat &quot;Coping with Sun JARs&quot; page might be a little outdated, this JAR is available in the [Maven Central Repository](http://repo1.maven.org/maven2/javax/persistence/persistence-api/)","title":"Writing Maven Dependency for javax.persistence","body":"<p>And add this dependency in your <code>pom.xml</code>: </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n    &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>That \"Coping with Sun JARs\" page might be a little outdated, this JAR is available in the <a href=\"http://repo1.maven.org/maven2/javax/persistence/persistence-api/\" rel=\"noreferrer\">Maven Central Repository</a></p>\n"},{"comments":[{"owner":{"account_id":449847,"reputation":16473,"user_id":844872,"accept_rate":61,"display_name":"Illep"},"score":0,"creation_date":1322057740,"post_id":8243160,"comment_id":10141168,"body_markdown":"So you recommend that i use the 2nd option","body":"So you recommend that i use the 2nd option"},{"owner":{"account_id":194990,"reputation":1286,"user_id":437624,"accept_rate":70,"display_name":"LeChe"},"score":0,"creation_date":1322061353,"post_id":8243160,"comment_id":10142591,"body_markdown":"Yes, if you would like to use other features of the JEE stack - like EJB or Servlets for example. If you are only interested in persistence, use the first one. :)","body":"Yes, if you would like to use other features of the JEE stack - like EJB or Servlets for example. If you are only interested in persistence, use the first one. :)"},{"owner":{"account_id":71704,"reputation":4230,"user_id":207352,"accept_rate":51,"display_name":"Pavel Vlasov"},"score":0,"creation_date":1423413715,"post_id":8243160,"comment_id":45128943,"body_markdown":"Thanks! But I am interesting how one could find the answer by himself? Without copypasting from Google/SO...","body":"Thanks! But I am interesting how one could find the answer by himself? Without copypasting from Google/SO..."}],"tags":[],"owner":{"account_id":194990,"reputation":1286,"user_id":437624,"accept_rate":70,"display_name":"LeChe"},"comment_count":3,"down_vote_count":1,"up_vote_count":45,"is_accepted":true,"score":44,"last_activity_date":1368655677,"creation_date":1322055680,"answer_id":8243160,"question_id":8243077,"body_markdown":"This is the one for `javax.persistence`:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n       &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\r\n       &lt;version&gt;1.0.2&lt;/version&gt;\r\n       &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand this is for the whole Java EE 6 stack:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;javax&lt;/groupId&gt;\r\n       &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n       &lt;version&gt;6.0&lt;/version&gt;\r\n       &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n**Edit**&lt;br/&gt;\r\nNote that I specified a `provided` scope here, which means that your dependency is available at compile- and test-time, but will not be packaged into your artifacts. This is usually needed if you want to deploy your artifacts in an application server, since they provide their own implementation of the api.","title":"Writing Maven Dependency for javax.persistence","body":"<p>This is the one for <code>javax.persistence</code>:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n   &lt;artifactId&gt;persistence-api&lt;/artifactId&gt;\n   &lt;version&gt;1.0.2&lt;/version&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>and this is for the whole Java EE 6 stack:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;javax&lt;/groupId&gt;\n   &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n   &lt;version&gt;6.0&lt;/version&gt;\n   &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><strong>Edit</strong><br/>\nNote that I specified a <code>provided</code> scope here, which means that your dependency is available at compile- and test-time, but will not be packaged into your artifacts. This is usually needed if you want to deploy your artifacts in an application server, since they provide their own implementation of the api.</p>\n"},{"comments":[{"owner":{"account_id":6472378,"reputation":1097,"user_id":5012102,"accept_rate":100,"display_name":"dgupta3091"},"score":0,"creation_date":1679383696,"post_id":74636970,"comment_id":133707296,"body_markdown":"This does not works for me.","body":"This does not works for me."},{"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"score":0,"creation_date":1680105952,"post_id":74636970,"comment_id":133842201,"body_markdown":"@dgupta3091 what&#39;s the error you are facing now?","body":"@dgupta3091 what&#39;s the error you are facing now?"}],"tags":[],"owner":{"account_id":3658649,"reputation":1521,"user_id":3049036,"accept_rate":57,"display_name":"Suresh"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669869306,"creation_date":1669869306,"answer_id":74636970,"question_id":8243077,"body_markdown":"Updated link:\r\n[https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api/2.2][1] is here.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api/2.2\r\n\r\nand the maven dependency is as below:\r\n\r\n            &lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n    \t\t    &lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;","title":"Writing Maven Dependency for javax.persistence","body":"<p>Updated link:\n<a href=\"https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api/2.2\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/javax.persistence/javax.persistence-api/2.2</a> is here.</p>\n<p>and the maven dependency is as below:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22772953,"reputation":16,"user_id":16930061,"display_name":"Vaishnavi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674537075,"creation_date":1674537075,"answer_id":75217639,"question_id":8243077,"body_markdown":"For the latest versions ```javax.persistance``` is not working instead of that we can use ```jakarta.persistence``` to create an entity or resolve the error *Cannot resolve symbol &#39;Entity&#39;*. For that need to add the dependency\r\n```&lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.6.Final&lt;/version&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Writing Maven Dependency for javax.persistence","body":"<p>For the latest versions <code>javax.persistance</code> is not working instead of that we can use <code>jakarta.persistence</code> to create an entity or resolve the error <em>Cannot resolve symbol 'Entity'</em>. For that need to add the dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;6.1.6.Final&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":449847,"reputation":16473,"user_id":844872,"accept_rate":61,"display_name":"Illep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100321,"favorite_count":0,"down_vote_count":1,"up_vote_count":30,"accepted_answer_id":8243160,"answer_count":4,"score":29,"last_activity_date":1674537075,"creation_date":1322055316,"question_id":8243077,"body_markdown":"Can someone help me write the dependency for `javax.persistence`. I have googled it but nothing worked.\r\n\r\nI [bumped into this page][1] that gives some details on how to write the dependency, but yet i am unable to write it. Can someone help me out?\r\n\r\n\r\n  [1]: http://maven.apache.org/guides/mini/guide-coping-with-sun-jars.html","title":"Writing Maven Dependency for javax.persistence","body":"<p>Can someone help me write the dependency for <code>javax.persistence</code>. I have googled it but nothing worked.</p>\n\n<p>I <a href=\"http://maven.apache.org/guides/mini/guide-coping-with-sun-jars.html\">bumped into this page</a> that gives some details on how to write the dependency, but yet i am unable to write it. Can someone help me out?</p>\n"},{"tags":["java","nodes","compare-and-swap"],"comments":[{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1674453720,"post_id":75205296,"comment_id":132709440,"body_markdown":"There&#39;s no need to swap.  When adding, simply find the position where the value should be and insert it into that position.","body":"There&#39;s no need to swap.  When adding, simply find the position where the value should be and insert it into that position."}],"answers":[{"comments":[{"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"score":0,"creation_date":1674499208,"post_id":75208268,"comment_id":132722552,"body_markdown":"Thanks for the feedback. Unfortunately it&#39;s not sorting a list though.","body":"Thanks for the feedback. Unfortunately it&#39;s not sorting a list though."},{"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"score":0,"creation_date":1674499310,"post_id":75208268,"comment_id":132722590,"body_markdown":"I had originally tried to insert while adding but was not able to get that right either.","body":"I had originally tried to insert while adding but was not able to get that right either."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1674502144,"post_id":75208268,"comment_id":132723489,"body_markdown":"do you have an example where it&#39;s not sorting?","body":"do you have an example where it&#39;s not sorting?"},{"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"score":0,"creation_date":1674503415,"post_id":75208268,"comment_id":132723874,"body_markdown":"For the list:\n        list.add(23);\n        list.add(24);\t\n        list.add(16);\n        list.add(3);\t\n        list.add(7);\n        list.add(17);\t\n        list.add(9);\t\n        list.add(13);\t\n        list.add(14);\t\n        list.add(1);          It returns 1 3 16 14 13 9 7 23 17 24","body":"For the list:         list.add(23);         list.add(24);\t         list.add(16);         list.add(3);\t         list.add(7);         list.add(17);\t         list.add(9);\t         list.add(13);\t         list.add(14);\t         list.add(1);          It returns 1 3 16 14 13 9 7 23 17 24"},{"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"score":0,"creation_date":1674504730,"post_id":75208268,"comment_id":132724251,"body_markdown":"Do you think my attempt at swapping is far off? Also, what is the benefit in the recommendation to sort while adding versus sorting after a list is created?","body":"Do you think my attempt at swapping is far off? Also, what is the benefit in the recommendation to sort while adding versus sorting after a list is created?"},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1674537164,"post_id":75208268,"comment_id":132729557,"body_markdown":"I mixed up the insertion part, it&#39;s corrected now.","body":"I mixed up the insertion part, it&#39;s corrected now."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1674537336,"post_id":75208268,"comment_id":132729589,"body_markdown":"swapping does a lot of unnecessary operation. regarding sort while adding vs sorting after list is created, in your code snipped you are trying to sort after each addition, don&#39;t you? or what was the intention?","body":"swapping does a lot of unnecessary operation. regarding sort while adding vs sorting after list is created, in your code snipped you are trying to sort after each addition, don&#39;t you? or what was the intention?"},{"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"score":0,"creation_date":1674540258,"post_id":75208268,"comment_id":132729989,"body_markdown":"Yes I was trying to swap while adding nodes. Wasn&#39;t sure if it is better to do that, or fill the list up and then swap. I guess it would be better to do while adding nodes because this list does not have a fixed size so there is no way to know when a client will stop adding to the list.","body":"Yes I was trying to swap while adding nodes. Wasn&#39;t sure if it is better to do that, or fill the list up and then swap. I guess it would be better to do while adding nodes because this list does not have a fixed size so there is no way to know when a client will stop adding to the list."},{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":0,"creation_date":1674545920,"post_id":75208268,"comment_id":132731070,"body_markdown":"it depends on what you want to achieve. if you want the list always sorted, then doing that while adding elements will ensure that. if you also allow unsorted list and sort only when needed then ad hoc sorting would be better","body":"it depends on what you want to achieve. if you want the list always sorted, then doing that while adding elements will ensure that. if you also allow unsorted list and sort only when needed then ad hoc sorting would be better"}],"tags":[],"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674537036,"creation_date":1674470174,"answer_id":75208268,"question_id":75205296,"body_markdown":"Something like this might work. As mentioned in the comments, you do not need to swap, just find the insertion point and relink from both sides:\r\n```\r\n @Override\r\n    public void add(T element) {\r\n        DoubleLinearNode&lt;T&gt; newNode = new DoubleLinearNode&lt;&gt;(element);\r\n\r\n        if (element == null)\r\n            throw new UnsupportedOperationException(&quot;Cannot add a null element&quot;);\r\n\r\n        //Add first node\r\n        if (isEmpty()) {                                                  \r\n            head = newNode;\r\n            tail = newNode;\r\n        } else {        \r\n            //I would suggest to extract the following logic to \r\n            // a dedicated methods to find the insertion point and another to do the insertion\r\n            //The head needs to be replaced\r\n            if (head.getData().compareTo(newNode.getData()) &gt; 0) {\r\n                newNode.setNext(head);\r\n                head.setPrevious(newNode);\r\n                head = newNode;\r\n            } else {\r\n                DoubleLinearNode&lt;T&gt; node = head.getNext();                              \r\n                while (node != null) {\r\n                    if (node.getData().compareTo(newNode.getData()) &gt; 0) {\r\n                        DoubleLinearNode&lt;T&gt; previous = node.getPrevious();\r\n                        newNode.setNext(node);\r\n                        node.setPrevious(newNode);\r\n                        previous.setNext(newNode);\r\n                        newNode.setPrevious(previous);\r\n                        break;\r\n                    }\r\n                    node = node.getNext();\r\n                }\r\n                //If no insertion point found add it to the tail\r\n                if (node == null) {\r\n                    tail.setNext(newNode);\r\n                    newNode.setPrevious(tail);\r\n                    tail = newNode;\r\n                }\r\n            }\r\n        }\r\n        count++;\r\n        modChange++;\r\n    }\r\n```\r\nFew more notes, `throws NullPointerException` it&#39;s not needed at all. It is a runtime exception. It&#39;s also incorrectly used, you should throw `UnsupportedOperationException` or `IllegalArgumentException` in such cases. But is it really needed to throw an exception? It&#39;s a bad practice to control the program flow by exceptions. If I was implementing this, I would maybe just do nothing in case of `null` element or change the method `add` to return a `boolean` indicating whether the addition was successful or not and return `false` in case of `null` element. \r\nYou used `for` loops where `while` loop is a better fit, it works with for loop as well, but it&#39;s less readable.","title":"Swapping Nodes into Ascending Order","body":"<p>Something like this might work. As mentioned in the comments, you do not need to swap, just find the insertion point and relink from both sides:</p>\n<pre><code> @Override\n    public void add(T element) {\n        DoubleLinearNode&lt;T&gt; newNode = new DoubleLinearNode&lt;&gt;(element);\n\n        if (element == null)\n            throw new UnsupportedOperationException(&quot;Cannot add a null element&quot;);\n\n        //Add first node\n        if (isEmpty()) {                                                  \n            head = newNode;\n            tail = newNode;\n        } else {        \n            //I would suggest to extract the following logic to \n            // a dedicated methods to find the insertion point and another to do the insertion\n            //The head needs to be replaced\n            if (head.getData().compareTo(newNode.getData()) &gt; 0) {\n                newNode.setNext(head);\n                head.setPrevious(newNode);\n                head = newNode;\n            } else {\n                DoubleLinearNode&lt;T&gt; node = head.getNext();                              \n                while (node != null) {\n                    if (node.getData().compareTo(newNode.getData()) &gt; 0) {\n                        DoubleLinearNode&lt;T&gt; previous = node.getPrevious();\n                        newNode.setNext(node);\n                        node.setPrevious(newNode);\n                        previous.setNext(newNode);\n                        newNode.setPrevious(previous);\n                        break;\n                    }\n                    node = node.getNext();\n                }\n                //If no insertion point found add it to the tail\n                if (node == null) {\n                    tail.setNext(newNode);\n                    newNode.setPrevious(tail);\n                    tail = newNode;\n                }\n            }\n        }\n        count++;\n        modChange++;\n    }\n</code></pre>\n<p>Few more notes, <code>throws NullPointerException</code> it's not needed at all. It is a runtime exception. It's also incorrectly used, you should throw <code>UnsupportedOperationException</code> or <code>IllegalArgumentException</code> in such cases. But is it really needed to throw an exception? It's a bad practice to control the program flow by exceptions. If I was implementing this, I would maybe just do nothing in case of <code>null</code> element or change the method <code>add</code> to return a <code>boolean</code> indicating whether the addition was successful or not and return <code>false</code> in case of <code>null</code> element.\nYou used <code>for</code> loops where <code>while</code> loop is a better fit, it works with for loop as well, but it's less readable.</p>\n"}],"owner":{"account_id":5627810,"reputation":1,"user_id":11393860,"display_name":"Jax"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674537036,"creation_date":1674441380,"question_id":75205296,"body_markdown":"I have a method that adds elements into a doubly linked list, and swaps elements into ascending order if the first element is greater than the second element. If I input 23, 24, 16, it skips swapping 23 and 24 because those are good, and then it swaps 23 and 16 fine. Then when it goes back into the `for` loop I get an error saying that `first.getNext()` is null. I can see that next is getting lost in the swapping, and I tried wrestling with some fixes but have not been able to get it right.\r\n```java\r\n@Override\r\npublic void add(T element) throws NullPointerException{\r\n    DoubleLinearNode&lt;T&gt; newNode = new DoubleLinearNode&lt;T&gt;(element);  // Calls constructor to create a new node with data set to parameter.\r\n\r\n    if(element == null)                                                     \r\n        throw new NullPointerException(&quot;Cannot add a null element&quot;); // Throws exception when parameter is null.\r\n\r\n    if(isEmpty()) {                                                  // Add a single node.\r\n        head = newNode;\r\n        tail = newNode; \r\n        count++;\r\n        modChange++;\r\n    }   \r\n    else {                                                           // Add node to the back.\r\n        tail.setNext(newNode);\r\n        newNode.setPrevious(tail);\r\n        tail = newNode; \r\n        count++;\r\n        modChange++;\r\n    }\r\n    //} \r\n    DoubleLinearNode&lt;T&gt; hold = null;\r\n    DoubleLinearNode&lt;T&gt; first = null;                               // First element in list.\r\n    DoubleLinearNode&lt;T&gt; second = null;                              // Second element in list.\r\n\r\n    if(size() &gt; 1) {                                                // If there are 2 elements to compare then swap. \r\n        for(first = head; first.getNext() != null; first = first.getNext()) {  \r\n            for(second = first.getNext(); second != null; second = second.getNext()) {\r\n                if(first.getData().compareTo(second.getData()) &gt; 0) {\r\n                    hold = first;  \r\n                    first = second;  \r\n                    second = hold;\r\n                    System.out.println(first.getData());\r\n                    System.out.println(second.getData());\r\n                }\r\n            }  \r\n        }  \r\n    }\r\n}\r\n```\r\nI tried using this code to swap nodes but then I get an error saying that `hold` is null.\r\n```java\r\nhold.setData(first.getData());\r\nfirst.setData(second.getData());  \r\nsecond.setData(hold.getData());\r\n```\r\n","title":"Swapping Nodes into Ascending Order","body":"<p>I have a method that adds elements into a doubly linked list, and swaps elements into ascending order if the first element is greater than the second element. If I input 23, 24, 16, it skips swapping 23 and 24 because those are good, and then it swaps 23 and 16 fine. Then when it goes back into the <code>for</code> loop I get an error saying that <code>first.getNext()</code> is null. I can see that next is getting lost in the swapping, and I tried wrestling with some fixes but have not been able to get it right.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void add(T element) throws NullPointerException{\n    DoubleLinearNode&lt;T&gt; newNode = new DoubleLinearNode&lt;T&gt;(element);  // Calls constructor to create a new node with data set to parameter.\n\n    if(element == null)                                                     \n        throw new NullPointerException(&quot;Cannot add a null element&quot;); // Throws exception when parameter is null.\n\n    if(isEmpty()) {                                                  // Add a single node.\n        head = newNode;\n        tail = newNode; \n        count++;\n        modChange++;\n    }   \n    else {                                                           // Add node to the back.\n        tail.setNext(newNode);\n        newNode.setPrevious(tail);\n        tail = newNode; \n        count++;\n        modChange++;\n    }\n    //} \n    DoubleLinearNode&lt;T&gt; hold = null;\n    DoubleLinearNode&lt;T&gt; first = null;                               // First element in list.\n    DoubleLinearNode&lt;T&gt; second = null;                              // Second element in list.\n\n    if(size() &gt; 1) {                                                // If there are 2 elements to compare then swap. \n        for(first = head; first.getNext() != null; first = first.getNext()) {  \n            for(second = first.getNext(); second != null; second = second.getNext()) {\n                if(first.getData().compareTo(second.getData()) &gt; 0) {\n                    hold = first;  \n                    first = second;  \n                    second = hold;\n                    System.out.println(first.getData());\n                    System.out.println(second.getData());\n                }\n            }  \n        }  \n    }\n}\n</code></pre>\n<p>I tried using this code to swap nodes but then I get an error saying that <code>hold</code> is null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>hold.setData(first.getData());\nfirst.setData(second.getData());  \nsecond.setData(hold.getData());\n</code></pre>\n"},{"tags":["java","google-app-engine","google-cloud-platform"],"owner":{"account_id":3147269,"reputation":10469,"user_id":3075340,"accept_rate":70,"display_name":"Micro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1674542865,"answer_count":0,"score":-2,"last_activity_date":1674535994,"creation_date":1674535994,"question_id":75217529,"body_markdown":"It looks like there are several services on the Google Cloud Platform in Java 8 that are not going to be updated to Java 11 (various Google App Engine APIs for example). Instead, different Java 11 services are being recommended now if starting a new project.\r\n\r\nDoes this mean that Java 8 will eventually be deprecated on the Google Cloud? If so, when will Java 8 be deprecated in favor for Java 11? I would like to be able to plan for this deprecation, since it would be a big one.\r\n","title":"When will Java 8 be deprecated on the Google Cloud Platform for Java 11?","body":"<p>It looks like there are several services on the Google Cloud Platform in Java 8 that are not going to be updated to Java 11 (various Google App Engine APIs for example). Instead, different Java 11 services are being recommended now if starting a new project.</p>\n<p>Does this mean that Java 8 will eventually be deprecated on the Google Cloud? If so, when will Java 8 be deprecated in favor for Java 11? I would like to be able to plan for this deprecation, since it would be a big one.</p>\n"},{"tags":["java","cassandra","datastax-java-driver"],"answers":[{"tags":[],"owner":{"account_id":14411493,"reputation":946,"user_id":10410162,"display_name":"Madhavan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674494755,"creation_date":1674494755,"answer_id":75212983,"question_id":75210560,"body_markdown":"Yes, mappers also prepare the statements. If you observe the logs generated out of the mappers, you could see it prepare the statements for us. For e.g. when you [configure logging](https://docs.datastax.com/en/developer/java-driver/latest/manual/core/logging/) you&#39;ll notice things like below when the mapper code is constructed,\r\n\r\n```\r\nDEBUG ProductDaoImpl__MapperGenerated - [s0] Initializing new instance for keyspace = ks_0 and table = null\r\nDEBUG ProductHelper__MapperGenerated - [s0] Entity Product will be mapped to ks_0.product\r\nDEBUG ProductDaoImpl__MapperGenerated - [s0] Preparing query\r\n      `SELECT id,description,dimensions FROM ks_0.product WHERE id=:id`\r\n      for method findById(java.util.UUID)\r\n```\r\n\r\n---\r\n**Optional / Bonus**:\r\nAs recommended in the **DataStax Java Driver** documentation [here](https://docs.datastax.com/en/developer/java-driver/latest/manual/query_builder/#immutability), you could &amp; should definitely leverage `PreparedStatement`s while working with `QueryBuilder` favoring bound statements for queries that are used often. You can still use the query builder and prepare the result:\r\n```\r\n  // During application initialization:\r\n  Select selectUser = selectFrom(&quot;user&quot;).all().whereColumn(&quot;id&quot;).isEqualTo(bindMarker());\r\n  // SELECT * FROM user WHERE id=?\r\n  PreparedStatement preparedSelectUser = session.prepare(selectUser.build());\r\n\r\n  // At runtime:\r\n  session.execute(preparedSelectUser.bind(userId));\r\n```","title":"Does the Cassandra Java driver @Select annotation use Prepared Statements?","body":"<p>Yes, mappers also prepare the statements. If you observe the logs generated out of the mappers, you could see it prepare the statements for us. For e.g. when you <a href=\"https://docs.datastax.com/en/developer/java-driver/latest/manual/core/logging/\" rel=\"nofollow noreferrer\">configure logging</a> you'll notice things like below when the mapper code is constructed,</p>\n<pre><code>DEBUG ProductDaoImpl__MapperGenerated - [s0] Initializing new instance for keyspace = ks_0 and table = null\nDEBUG ProductHelper__MapperGenerated - [s0] Entity Product will be mapped to ks_0.product\nDEBUG ProductDaoImpl__MapperGenerated - [s0] Preparing query\n      `SELECT id,description,dimensions FROM ks_0.product WHERE id=:id`\n      for method findById(java.util.UUID)\n</code></pre>\n<hr />\n<p><strong>Optional / Bonus</strong>:\nAs recommended in the <strong>DataStax Java Driver</strong> documentation <a href=\"https://docs.datastax.com/en/developer/java-driver/latest/manual/query_builder/#immutability\" rel=\"nofollow noreferrer\">here</a>, you could &amp; should definitely leverage <code>PreparedStatement</code>s while working with <code>QueryBuilder</code> favoring bound statements for queries that are used often. You can still use the query builder and prepare the result:</p>\n<pre><code>  // During application initialization:\n  Select selectUser = selectFrom(&quot;user&quot;).all().whereColumn(&quot;id&quot;).isEqualTo(bindMarker());\n  // SELECT * FROM user WHERE id=?\n  PreparedStatement preparedSelectUser = session.prepare(selectUser.build());\n\n  // At runtime:\n  session.execute(preparedSelectUser.bind(userId));\n</code></pre>\n"}],"owner":{"account_id":21169945,"reputation":55,"user_id":15566482,"display_name":"Ikbal Rasimov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75212983,"answer_count":1,"score":0,"last_activity_date":1674535577,"creation_date":1674482397,"question_id":75210560,"body_markdown":"Does Cassandra DataStax&#39;s @Select annotation use PreparedStatements in the generated queries? Is it effective like if I use a PreparedStatement and execute it manually?","title":"Does the Cassandra Java driver @Select annotation use Prepared Statements?","body":"<p>Does Cassandra DataStax's @Select annotation use PreparedStatements in the generated queries? Is it effective like if I use a PreparedStatement and execute it manually?</p>\n"},{"tags":["java","swing","jtextpane","styleddocument"],"answers":[{"tags":[],"owner":{"account_id":119938,"reputation":7435,"user_id":312025,"accept_rate":66,"display_name":"Istao"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1288452406,"creation_date":1288452406,"answer_id":4059339,"question_id":4059198,"body_markdown":"setText is to set all text in a textpane. Use the [StyledDocument][1] interface to append, remove, ans so on text.\r\n\r\n    txtPane.getStyledDocument().insertString(\r\n      offsetWhereYouWant, &quot;text you want&quot;, attributesYouHope);\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javax/swing/text/StyledDocument.html","title":"JTextPane appending a new string","body":"<p>setText is to set all text in a textpane. Use the <a href=\"http://download.oracle.com/javase/6/docs/api/javax/swing/text/StyledDocument.html\" rel=\"nofollow\">StyledDocument</a> interface to append, remove, ans so on text.</p>\n\n<pre><code>txtPane.getStyledDocument().insertString(\n  offsetWhereYouWant, \"text you want\", attributesYouHope);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1288884109,"post_id":4059365,"comment_id":4409945,"body_markdown":"That would recreate the Document and lose all the custom attributes you added previously.","body":"That would recreate the Document and lose all the custom attributes you added previously."},{"owner":{"account_id":375461,"reputation":2234,"user_id":726315,"accept_rate":89,"display_name":"arkon"},"score":2,"creation_date":1337296712,"post_id":4059365,"comment_id":13801406,"body_markdown":"@Dmitry Combining setText + getText to append is probably considered sloppy programming. (I personally use it for simple testing.) For instance, if I was going to maintain a log file with that method, a new String would have to be built every time a log entry is appended (which is a very bad idea given that Strings are immutable.) This will likely eventually lead to a noticeable memory footprint.","body":"@Dmitry Combining setText + getText to append is probably considered sloppy programming. (I personally use it for simple testing.) For instance, if I was going to maintain a log file with that method, a new String would have to be built every time a log entry is appended (which is a very bad idea given that Strings are immutable.) This will likely eventually lead to a noticeable memory footprint."},{"owner":{"account_id":1161721,"reputation":9621,"user_id":1141093,"accept_rate":87,"display_name":"brianmearns"},"score":2,"creation_date":1360119034,"post_id":4059365,"comment_id":20593242,"body_markdown":"Good example, but doesn&#39;t answer the question of appending text to a JEditorPane.","body":"Good example, but doesn&#39;t answer the question of appending text to a JEditorPane."},{"owner":{"account_id":4667026,"reputation":10199,"user_id":3779853,"accept_rate":85,"display_name":"phil294"},"score":0,"creation_date":1419099531,"post_id":4059365,"comment_id":43590464,"body_markdown":"one might wana use [`HTMLDocument`](http://stackoverflow.com/questions/27512610/jtextpane-append-html-string) instead of `StyledDocument` in order to keep HTML-formatting, if used.","body":"one might wana use <a href=\"http://stackoverflow.com/questions/27512610/jtextpane-append-html-string\"><code>HTMLDocument</code></a> instead of <code>StyledDocument</code> in order to keep HTML-formatting, if used."}],"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"comment_count":4,"down_vote_count":1,"up_vote_count":70,"is_accepted":true,"score":69,"last_activity_date":1336690893,"creation_date":1288452763,"answer_id":4059365,"question_id":4059198,"body_markdown":"I doubt that is the recommended approach for appending text. This means every time you change some text you need to reparse the entire document. The reason people may do this is because the don&#39;t understand how to use a JEditorPane. That includes me.\r\n\r\nI much prefer using a JTextPane and then using attributes. A simple example might be something like:\r\n\r\n    JTextPane textPane = new JTextPane();\r\n    textPane.setText( &quot;original text&quot; );\r\n    StyledDocument doc = textPane.getStyledDocument();\r\n    \r\n    //  Define a keyword attribute\r\n    \r\n    SimpleAttributeSet keyWord = new SimpleAttributeSet();\r\n    StyleConstants.setForeground(keyWord, Color.RED);\r\n    StyleConstants.setBackground(keyWord, Color.YELLOW);\r\n    StyleConstants.setBold(keyWord, true);\r\n    \r\n    //  Add some text\r\n    \r\n    try\r\n    {\r\n    \tdoc.insertString(0, &quot;Start of text\\n&quot;, null );\r\n    \tdoc.insertString(doc.getLength(), &quot;\\nEnd of text&quot;, keyWord );\r\n    }\r\n    catch(Exception e) { System.out.println(e); }\r\n\r\n","title":"JTextPane appending a new string","body":"<p>I doubt that is the recommended approach for appending text. This means every time you change some text you need to reparse the entire document. The reason people may do this is because the don't understand how to use a JEditorPane. That includes me.</p>\n\n<p>I much prefer using a JTextPane and then using attributes. A simple example might be something like:</p>\n\n<pre><code>JTextPane textPane = new JTextPane();\ntextPane.setText( \"original text\" );\nStyledDocument doc = textPane.getStyledDocument();\n\n//  Define a keyword attribute\n\nSimpleAttributeSet keyWord = new SimpleAttributeSet();\nStyleConstants.setForeground(keyWord, Color.RED);\nStyleConstants.setBackground(keyWord, Color.YELLOW);\nStyleConstants.setBold(keyWord, true);\n\n//  Add some text\n\ntry\n{\n    doc.insertString(0, \"Start of text\\n\", null );\n    doc.insertString(doc.getLength(), \"\\nEnd of text\", keyWord );\n}\ncatch(Exception e) { System.out.println(e); }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":199804,"reputation":7176,"user_id":445322,"accept_rate":88,"display_name":"Brandon Buck"},"score":0,"creation_date":1288901577,"post_id":4081764,"comment_id":4413505,"body_markdown":"I can&#39;t answer for sure, I haven&#39;t played around with JEditorPane at all, just JTextPane mostly. I&#39;d have to play around and research it before I could answer that.","body":"I can&#39;t answer for sure, I haven&#39;t played around with JEditorPane at all, just JTextPane mostly. I&#39;d have to play around and research it before I could answer that."},{"owner":{"account_id":1161721,"reputation":9621,"user_id":1141093,"accept_rate":87,"display_name":"brianmearns"},"score":0,"creation_date":1360119254,"post_id":4081764,"comment_id":20593294,"body_markdown":"I think the issue is just that `setText` doesn&#39;t actually cause the component to update itself, for whatever reason it only works before the component is displayed.","body":"I think the issue is just that <code>setText</code> doesn&#39;t actually cause the component to update itself, for whatever reason it only works before the component is displayed."},{"owner":{"account_id":199804,"reputation":7176,"user_id":445322,"accept_rate":88,"display_name":"Brandon Buck"},"score":0,"creation_date":1360188077,"post_id":4081764,"comment_id":20624987,"body_markdown":"@sh1ftst0rm I&#39;ve never had issues with it before, but then again when I wrote a console emulator I didn&#39;t depend on setText I went with document manipulation for control.","body":"@sh1ftst0rm I&#39;ve never had issues with it before, but then again when I wrote a console emulator I didn&#39;t depend on setText I went with document manipulation for control."},{"owner":{"account_id":5745825,"reputation":11553,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1499779613,"post_id":4081764,"comment_id":77045680,"body_markdown":"@Dmitry Actually `setText(getText() + newText)` works, but its use is limited to no styled text. For styled text it will lose the previous style, and normally you don&#39;t want it. Besides, I found and submitted [a bug of JTextPane `getText()` till Java 9](http://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8180276), so I will not rely on it.","body":"@Dmitry Actually <code>setText(getText() + newText)</code> works, but its use is limited to no styled text. For styled text it will lose the previous style, and normally you don&#39;t want it. Besides, I found and submitted <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=JDK-8180276\" rel=\"nofollow noreferrer\">a bug of JTextPane <code>getText()</code> till Java 9</a>, so I will not rely on it."}],"tags":[],"owner":{"account_id":199804,"reputation":7176,"user_id":445322,"accept_rate":88,"display_name":"Brandon Buck"},"comment_count":4,"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1288729841,"creation_date":1288729336,"answer_id":4081764,"question_id":4059198,"body_markdown":"A `JEditorPane`, just a like a `JTextPane` has a `Document` that you can use for inserting strings.\r\n\r\nWhat you&#39;ll want to do to append text into a JEditorPane is this snippet:\r\n\r\n    JEditorPane pane = new JEditorPane();\r\n    /* ... Other stuff ... */\r\n    public void append(String s) {\r\n       try {\r\n          Document doc = pane.getDocument();\r\n          doc.insertString(doc.getLength(), s, null);\r\n       } catch(BadLocationException exc) {\r\n          exc.printStackTrace();\r\n       }\r\n    }\r\n\r\nI tested this and it worked fine for me. The `doc.getLength()` is where you want to insert the string, obviously with this line you would be adding it to the end of the text.","title":"JTextPane appending a new string","body":"<p>A <code>JEditorPane</code>, just a like a <code>JTextPane</code> has a <code>Document</code> that you can use for inserting strings.</p>\n\n<p>What you'll want to do to append text into a JEditorPane is this snippet:</p>\n\n<pre><code>JEditorPane pane = new JEditorPane();\n/* ... Other stuff ... */\npublic void append(String s) {\n   try {\n      Document doc = pane.getDocument();\n      doc.insertString(doc.getLength(), s, null);\n   } catch(BadLocationException exc) {\n      exc.printStackTrace();\n   }\n}\n</code></pre>\n\n<p>I tested this and it worked fine for me. The <code>doc.getLength()</code> is where you want to insert the string, obviously with this line you would be adding it to the end of the text.</p>\n"}],"owner":{"account_id":209058,"reputation":3028,"user_id":459886,"accept_rate":86,"display_name":"Dmitry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101261,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":4059365,"answer_count":3,"score":37,"last_activity_date":1674535166,"creation_date":1288450142,"question_id":4059198,"body_markdown":"In an every article the answer to a question &quot;How to append a string to a JEditorPane?&quot; is something like\r\n\r\n    jep.setText(jep.getText + &quot;new string&quot;);\r\n\r\nI have tried this:\r\n\r\n    jep.setText(&quot;&lt;b&gt;Termination time : &lt;/b&gt;&quot; + \r\n\t\t\t\t\t\t\tCriterionFunction.estimateIndividual_top(individual) + &quot; &lt;/br&gt;&quot;);\r\n\tjep.setText(jep.getText() + &quot;Processes&#39; distribution: &lt;/br&gt;&quot;);\r\n\r\nAnd as a result I got &quot;Termination time : 1000&quot; without &quot;Processes&#39; distribution:&quot; \r\n\r\nWhy did this happen???","title":"JTextPane appending a new string","body":"<p>In an every article the answer to a question \"How to append a string to a JEditorPane?\" is something like</p>\n\n<pre><code>jep.setText(jep.getText + \"new string\");\n</code></pre>\n\n<p>I have tried this:</p>\n\n<pre><code>jep.setText(\"&lt;b&gt;Termination time : &lt;/b&gt;\" + \n                        CriterionFunction.estimateIndividual_top(individual) + \" &lt;/br&gt;\");\njep.setText(jep.getText() + \"Processes' distribution: &lt;/br&gt;\");\n</code></pre>\n\n<p>And as a result I got \"Termination time : 1000\" without \"Processes' distribution:\" </p>\n\n<p>Why did this happen???</p>\n"},{"tags":["java","multithreading","concurrency","completion-service"],"answers":[{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1296981282,"creation_date":1296981282,"answer_id":4912369,"question_id":4912228,"body_markdown":"I think the javadoc best answers the question of when the `CompletionService` is useful in a way an `ExecutorService` isn&#39;t.\r\n\r\n&gt; A service that decouples the production of new asynchronous tasks from the consumption of the results of completed tasks.\r\n\r\nBasically, this interface allows a program to have producers which create and submit tasks (and even examine the results of those submissions) without knowing about any other consumers of the results of those tasks. Meanwhile, consumers which are aware of the `CompletionService` could `poll` for or `take` results without being aware of the producers submitting the tasks.\r\n\r\nFor the record, and I could be wrong because it is rather late, but I am fairly certain that the sample code in that blog post causes a memory leak. Without an active consumer taking results out of the `ExecutorCompletionService`&#39;s internal queue, I&#39;m not sure how the blogger expected that queue to drain.","title":"When should I use a CompletionService over an ExecutorService?","body":"<p>I think the javadoc best answers the question of when the <code>CompletionService</code> is useful in a way an <code>ExecutorService</code> isn't.</p>\n\n<blockquote>\n  <p>A service that decouples the production of new asynchronous tasks from the consumption of the results of completed tasks.</p>\n</blockquote>\n\n<p>Basically, this interface allows a program to have producers which create and submit tasks (and even examine the results of those submissions) without knowing about any other consumers of the results of those tasks. Meanwhile, consumers which are aware of the <code>CompletionService</code> could <code>poll</code> for or <code>take</code> results without being aware of the producers submitting the tasks.</p>\n\n<p>For the record, and I could be wrong because it is rather late, but I am fairly certain that the sample code in that blog post causes a memory leak. Without an active consumer taking results out of the <code>ExecutorCompletionService</code>'s internal queue, I'm not sure how the blogger expected that queue to drain.</p>\n"},{"tags":[],"owner":{"account_id":72889,"reputation":4696,"user_id":210216,"display_name":"Jed Wesley-Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1324682953,"creation_date":1297030798,"answer_id":4916586,"question_id":4912228,"body_markdown":"Basically you use a `CompletionService` if you want to execute multiple tasks in parallel and then work with them in their completion order. So, if I execute 5 jobs, the `CompletionService` will give me the first one that that finishes. The example where there is only a single task confers no extra value over an `Executor` apart from the ability to submit a `Callable`.","title":"When should I use a CompletionService over an ExecutorService?","body":"<p>Basically you use a <code>CompletionService</code> if you want to execute multiple tasks in parallel and then work with them in their completion order. So, if I execute 5 jobs, the <code>CompletionService</code> will give me the first one that that finishes. The example where there is only a single task confers no extra value over an <code>Executor</code> apart from the ability to submit a <code>Callable</code>.</p>\n"},{"tags":[],"owner":{"account_id":4938,"reputation":69433,"user_id":7671,"accept_rate":70,"display_name":"Alex Miller"},"comment_count":0,"down_vote_count":0,"up_vote_count":177,"is_accepted":false,"score":177,"last_activity_date":1395792797,"creation_date":1297139939,"answer_id":4929602,"question_id":4912228,"body_markdown":"Omitting many details:\r\n\r\n - ExecutorService = incoming queue + worker threads\r\n - CompletionService = incoming queue + worker threads + output queue \r\n","title":"When should I use a CompletionService over an ExecutorService?","body":"<p>Omitting many details:</p>\n\n<ul>\n<li>ExecutorService = incoming queue + worker threads</li>\n<li>CompletionService = incoming queue + worker threads + output queue </li>\n</ul>\n"},{"comments":[{"owner":{"account_id":141766,"reputation":16744,"user_id":349043,"accept_rate":95,"display_name":"Pete"},"score":8,"creation_date":1335674297,"post_id":5580058,"comment_id":13364701,"body_markdown":"for another example see Java Concurrency in Practice pg. 130.  There a CompletionService is used to render images as they become available.","body":"for another example see Java Concurrency in Practice pg. 130.  There a CompletionService is used to render images as they become available."},{"owner":{"account_id":416171,"reputation":31427,"user_id":791406,"accept_rate":69,"display_name":"raffian"},"score":0,"creation_date":1379909555,"post_id":5580058,"comment_id":27987712,"body_markdown":"Safe to assume `take` and `poll` on CompletionService are thread safe? In your example, tasks are still executing when you first invoke `take()`, and I don&#39;t see any explicit synchronization.","body":"Safe to assume <code>take</code> and <code>poll</code> on CompletionService are thread safe? In your example, tasks are still executing when you first invoke <code>take()</code>, and I don&#39;t see any explicit synchronization."},{"owner":{"account_id":2295147,"reputation":408,"user_id":2016771,"display_name":"Kevin Sheehan"},"score":1,"creation_date":1401217423,"post_id":5580058,"comment_id":36793653,"body_markdown":"`take()` is indeed thread safe. You can read in the JavaDocs but basically `take()` will wait for the next completed result and then return that. The `CompletionService` works with a `BlockingQueue` for the output.","body":"<code>take()</code> is indeed thread safe. You can read in the JavaDocs but basically <code>take()</code> will wait for the next completed result and then return that. The <code>CompletionService</code> works with a <code>BlockingQueue</code> for the output."},{"owner":{"account_id":256670,"reputation":16061,"user_id":537554,"display_name":"ryenus"},"score":3,"creation_date":1419600363,"post_id":5580058,"comment_id":43731283,"body_markdown":"is there any better way to know when ExecutorCompletionService has finished all tasks, rather than tracking the number of submitted tasks?","body":"is there any better way to know when ExecutorCompletionService has finished all tasks, rather than tracking the number of submitted tasks?"},{"owner":{"account_id":6537068,"reputation":383,"user_id":5056184,"accept_rate":60,"display_name":"DebD"},"score":0,"creation_date":1600886947,"post_id":5580058,"comment_id":113233718,"body_markdown":"I know this is already a very old thread but, here&#39;s where i&#39;m stuck: what happens if there&#39;re no more jobs to be finished and i call take()? Does it wait indefinitely, or does it raise an exception?","body":"I know this is already a very old thread but, here&#39;s where i&#39;m stuck: what happens if there&#39;re no more jobs to be finished and i call take()? Does it wait indefinitely, or does it raise an exception?"},{"owner":{"account_id":119633,"reputation":7453,"user_id":311455,"accept_rate":63,"display_name":"Bhaskar"},"score":1,"creation_date":1600953041,"post_id":5580058,"comment_id":113256358,"body_markdown":"@DebD, calling `take()` when there are no more results will result in that thread waiting indefinitely. No Exceptions. You will have to design your logic to catch this situation and exit the waiting. This should not be difficult - you would normally have a way to know that all your tasks are done without the CompletionService telling you that fact.","body":"@DebD, calling <code>take()</code> when there are no more results will result in that thread waiting indefinitely. No Exceptions. You will have to design your logic to catch this situation and exit the waiting. This should not be difficult - you would normally have a way to know that all your tasks are done without the CompletionService telling you that fact."}],"tags":[],"owner":{"account_id":119633,"reputation":7453,"user_id":311455,"accept_rate":63,"display_name":"Bhaskar"},"comment_count":6,"down_vote_count":0,"up_vote_count":112,"is_accepted":true,"score":112,"last_activity_date":1523621071,"creation_date":1302174312,"answer_id":5580058,"question_id":4912228,"body_markdown":"With `ExecutorService`, once you have submitted the tasks to run, you need to manually code for efficiently getting the results of the tasks completed. \r\n\r\nWith `CompletionService`, this is pretty much automated. The difference is not very evident in the code you have presented because you are submitting just one task. However, imagine you have a list of tasks to be submitted. In the example below, multiple tasks are submitted to the CompletionService. Then, instead of trying to find out which task has completed (to get the results), it just asks the CompletionService instance to return the results as they become available.\r\n\r\n   \r\n\r\n  \r\n\r\n    public class CompletionServiceTest {\r\n        \t\r\n        \tclass CalcResult {\r\n        \t\t long result ;\r\n        \r\n        \t\t CalcResult(long l) {\r\n        \t\t\t result = l;\r\n        \t\t }\r\n        \t}\r\n        \t\r\n        \tclass CallableTask implements Callable&lt;CalcResult&gt; {\r\n        \t\tString taskName ;\r\n        \t\tlong  input1 ;\r\n        \t\tint input2 ;\r\n        \t\t\r\n        \t\tCallableTask(String name , long v1 , int v2 ) {\r\n        \t\t\ttaskName = name;\r\n        \t\t\tinput1 = v1;\r\n        \t\t\tinput2 = v2 ;\r\n        \t\t}\r\n        \t\t\r\n        \t\tpublic CalcResult call() throws Exception {\r\n        \t\t\tSystem.out.println(&quot; Task &quot; + taskName + &quot; Started -----&quot;);\r\n        \t\t\tfor(int i=0;i&lt;input2 ;i++) {\r\n        \t\t\t\ttry {\r\n        \t\t\t\t\tThread.sleep(200);\r\n        \t\t\t\t} catch (InterruptedException e) {\r\n        \t\t\t\t\tSystem.out.println(&quot; Task &quot; + taskName + &quot; Interrupted !! &quot;);\r\n        \t\t\t\t\te.printStackTrace();\r\n        \t\t\t\t}\r\n        \t\t\t\tinput1 += i;\r\n        \t\t\t}\r\n        \t\t\tSystem.out.println(&quot; Task &quot; + taskName + &quot; Completed @@@@@@&quot;);\r\n        \t\t\treturn new CalcResult(input1) ;\r\n        \t\t}\r\n        \t\t\r\n        \t}\r\n        \t\r\n        \tpublic void test(){\r\n        \t\tExecutorService taskExecutor = Executors.newFixedThreadPool(3);\r\n                CompletionService&lt;CalcResult&gt; taskCompletionService = new ExecutorCompletionService&lt;CalcResult&gt;(taskExecutor);\r\n        \t\t\r\n        \t    int submittedTasks = 5;\r\n        \t    for (int i=0;i&lt; submittedTasks;i++) {\r\n        \t    \ttaskCompletionService.submit(new CallableTask (\r\n        \t\t\t\t\tString.valueOf(i), \r\n            \t\t\t\t\t(i * 10), \r\n            \t\t\t\t\t((i * 10) + 10  )\r\n        \t\t\t\t\t));\r\n        \t       System.out.println(&quot;Task &quot; + String.valueOf(i) + &quot;subitted&quot;);\r\n        \t    }\r\n        \t    for (int tasksHandled=0;tasksHandled&lt;submittedTasks;tasksHandled++) {\r\n        \t    \ttry {\r\n        \t    \t\tSystem.out.println(&quot;trying to take from Completion service&quot;);\r\n        \t\t\t\tFuture&lt;CalcResult&gt; result = taskCompletionService.take();\r\n        \t\t\t\tSystem.out.println(&quot;result for a task availble in queue.Trying to get()&quot;);\r\n        \t\t\t\t// above call blocks till atleast one task is completed and results availble for it\r\n        \t\t\t\t// but we dont have to worry which one\r\n        \t\t\t\t\r\n        \t\t\t\t// process the result here by doing result.get()\r\n        \t\t\t\tCalcResult l = result.get();\r\n        \t\t\t\tSystem.out.println(&quot;Task &quot; + String.valueOf(tasksHandled) + &quot;Completed - results obtained : &quot; + String.valueOf(l.result));\r\n        \t\t\t\t\r\n        \t\t\t} catch (InterruptedException e) {\r\n        \t\t\t\t// Something went wrong with a task submitted\r\n        \t\t\t\tSystem.out.println(&quot;Error Interrupted exception&quot;);\r\n        \t\t\t\te.printStackTrace();\r\n        \t\t\t} catch (ExecutionException e) {\r\n        \t\t\t\t// Something went wrong with the result\r\n        \t\t\t\te.printStackTrace();\r\n        \t\t\t\tSystem.out.println(&quot;Error get() threw exception&quot;);\r\n        \t\t\t}\r\n        \t    }\r\n        \t}\r\n        }\r\n\r\n","title":"When should I use a CompletionService over an ExecutorService?","body":"<p>With <code>ExecutorService</code>, once you have submitted the tasks to run, you need to manually code for efficiently getting the results of the tasks completed. </p>\n\n<p>With <code>CompletionService</code>, this is pretty much automated. The difference is not very evident in the code you have presented because you are submitting just one task. However, imagine you have a list of tasks to be submitted. In the example below, multiple tasks are submitted to the CompletionService. Then, instead of trying to find out which task has completed (to get the results), it just asks the CompletionService instance to return the results as they become available.</p>\n\n<pre><code>public class CompletionServiceTest {\n\n        class CalcResult {\n             long result ;\n\n             CalcResult(long l) {\n                 result = l;\n             }\n        }\n\n        class CallableTask implements Callable&lt;CalcResult&gt; {\n            String taskName ;\n            long  input1 ;\n            int input2 ;\n\n            CallableTask(String name , long v1 , int v2 ) {\n                taskName = name;\n                input1 = v1;\n                input2 = v2 ;\n            }\n\n            public CalcResult call() throws Exception {\n                System.out.println(\" Task \" + taskName + \" Started -----\");\n                for(int i=0;i&lt;input2 ;i++) {\n                    try {\n                        Thread.sleep(200);\n                    } catch (InterruptedException e) {\n                        System.out.println(\" Task \" + taskName + \" Interrupted !! \");\n                        e.printStackTrace();\n                    }\n                    input1 += i;\n                }\n                System.out.println(\" Task \" + taskName + \" Completed @@@@@@\");\n                return new CalcResult(input1) ;\n            }\n\n        }\n\n        public void test(){\n            ExecutorService taskExecutor = Executors.newFixedThreadPool(3);\n            CompletionService&lt;CalcResult&gt; taskCompletionService = new ExecutorCompletionService&lt;CalcResult&gt;(taskExecutor);\n\n            int submittedTasks = 5;\n            for (int i=0;i&lt; submittedTasks;i++) {\n                taskCompletionService.submit(new CallableTask (\n                        String.valueOf(i), \n                            (i * 10), \n                            ((i * 10) + 10  )\n                        ));\n               System.out.println(\"Task \" + String.valueOf(i) + \"subitted\");\n            }\n            for (int tasksHandled=0;tasksHandled&lt;submittedTasks;tasksHandled++) {\n                try {\n                    System.out.println(\"trying to take from Completion service\");\n                    Future&lt;CalcResult&gt; result = taskCompletionService.take();\n                    System.out.println(\"result for a task availble in queue.Trying to get()\");\n                    // above call blocks till atleast one task is completed and results availble for it\n                    // but we dont have to worry which one\n\n                    // process the result here by doing result.get()\n                    CalcResult l = result.get();\n                    System.out.println(\"Task \" + String.valueOf(tasksHandled) + \"Completed - results obtained : \" + String.valueOf(l.result));\n\n                } catch (InterruptedException e) {\n                    // Something went wrong with a task submitted\n                    System.out.println(\"Error Interrupted exception\");\n                    e.printStackTrace();\n                } catch (ExecutionException e) {\n                    // Something went wrong with the result\n                    e.printStackTrace();\n                    System.out.println(\"Error get() threw exception\");\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":306993,"reputation":2295,"user_id":618045,"accept_rate":40,"display_name":"Sklavit"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1328291485,"creation_date":1328291182,"answer_id":9133066,"question_id":4912228,"body_markdown":"First of all, if we do not want to waste processor time, we will not use\r\n\r\n    while (!future.isDone()) {\r\n            // Do some work...\r\n    }\r\n\r\nWe must use\r\n\r\n\tservice.shutdown();\r\n\tservice.awaitTermination(14, TimeUnit.DAYS);\r\n\r\nThe bad thing about this code is that it will shut down `ExecutorService`. If we want to continue work with it (i.e. we have some recursicve task creation), we have two alternatives: invokeAll or `ExecutorService`.\r\n\r\n`invokeAll` will wait untill all tasks will be complete. `ExecutorService` grants us ability to take or poll results one by one.\r\n\r\nAnd, finily, recursive example:\r\n\r\n    ExecutorService executorService = Executors.newFixedThreadPool(THREAD_NUMBER);\r\n    ExecutorCompletionService&lt;String&gt; completionService = new ExecutorCompletionService&lt;String&gt;(executorService);\r\n\r\n    while (Tasks.size() &gt; 0) {\r\n    \tfor (final Task task : Tasks) {\r\n    \t\tcompletionService.submit(new Callable&lt;String&gt;() {\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic String call() throws Exception {\r\n    \t\t\t\treturn DoTask(task);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t} \r\n     \r\n    \ttry {\t\t\t\t\t\r\n    \t\tint taskNum = Tasks.size();\r\n    \t\tTasks.clear();\r\n    \t\tfor (int i = 0; i &lt; taskNum; ++i) {\r\n    \t\t\tResult result = completionService.take().get();\r\n    \t\t\tif (result != null)\r\n    \t\t\t\tTasks.add(result.toTask());\r\n    \t\t}\t\t\t\r\n    \t} catch (InterruptedException e) {\r\n    \t//\terror :(\r\n    \t} catch (ExecutionException e) {\r\n    \t//\terror :(\r\n    \t}\r\n    }\r\n","title":"When should I use a CompletionService over an ExecutorService?","body":"<p>First of all, if we do not want to waste processor time, we will not use</p>\n\n<pre><code>while (!future.isDone()) {\n        // Do some work...\n}\n</code></pre>\n\n<p>We must use</p>\n\n<pre><code>service.shutdown();\nservice.awaitTermination(14, TimeUnit.DAYS);\n</code></pre>\n\n<p>The bad thing about this code is that it will shut down <code>ExecutorService</code>. If we want to continue work with it (i.e. we have some recursicve task creation), we have two alternatives: invokeAll or <code>ExecutorService</code>.</p>\n\n<p><code>invokeAll</code> will wait untill all tasks will be complete. <code>ExecutorService</code> grants us ability to take or poll results one by one.</p>\n\n<p>And, finily, recursive example:</p>\n\n<pre><code>ExecutorService executorService = Executors.newFixedThreadPool(THREAD_NUMBER);\nExecutorCompletionService&lt;String&gt; completionService = new ExecutorCompletionService&lt;String&gt;(executorService);\n\nwhile (Tasks.size() &gt; 0) {\n    for (final Task task : Tasks) {\n        completionService.submit(new Callable&lt;String&gt;() {   \n            @Override\n            public String call() throws Exception {\n                return DoTask(task);\n            }\n        });\n    } \n\n    try {                   \n        int taskNum = Tasks.size();\n        Tasks.clear();\n        for (int i = 0; i &lt; taskNum; ++i) {\n            Result result = completionService.take().get();\n            if (result != null)\n                Tasks.add(result.toTask());\n        }           \n    } catch (InterruptedException e) {\n    //  error :(\n    } catch (ExecutionException e) {\n    //  error :(\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1870327,"reputation":401,"user_id":1692719,"display_name":"marcocast"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1358244243,"creation_date":1358244243,"answer_id":14335236,"question_id":4912228,"body_markdown":"See it by yourself at run time,try to implement both solutions (Executorservice and Completionservice) and you&#39;ll see how different they behave and it will be more clear on when to use one or the other.\r\nThere is an example here if you want http://rdafbn.blogspot.co.uk/2013/01/executorservice-vs-completionservice-vs.html","title":"When should I use a CompletionService over an ExecutorService?","body":"<p>See it by yourself at run time,try to implement both solutions (Executorservice and Completionservice) and you'll see how different they behave and it will be more clear on when to use one or the other.\nThere is an example here if you want <a href=\"http://rdafbn.blogspot.co.uk/2013/01/executorservice-vs-completionservice-vs.html\" rel=\"nofollow\">http://rdafbn.blogspot.co.uk/2013/01/executorservice-vs-completionservice-vs.html</a></p>\n"},{"tags":[],"owner":{"account_id":4837085,"reputation":1935,"user_id":3903366,"accept_rate":55,"display_name":"Bikas Katwal"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438342952,"creation_date":1438342952,"answer_id":31745336,"question_id":4912228,"body_markdown":"Let&#39;s say you have 5 long running task(callable task) and you have submitted those task to executer service. Now imagine you don&#39;t want to wait for all 5 task to compete instead you want to do some sort of processing on these task if any one completes. Now this can be done either by writing polling logic on  future objects or use this API. ","title":"When should I use a CompletionService over an ExecutorService?","body":"<p>Let's say you have 5 long running task(callable task) and you have submitted those task to executer service. Now imagine you don't want to wait for all 5 task to compete instead you want to do some sort of processing on these task if any one completes. Now this can be done either by writing polling logic on  future objects or use this API. </p>\n"},{"tags":[],"owner":{"account_id":9893515,"reputation":6772,"user_id":7325804,"display_name":"Arnav Rao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528729267,"creation_date":1528729267,"answer_id":50800743,"question_id":4912228,"body_markdown":"If the task producer is not interested in the results and it is another component&#39;s responsibility to process results of asynchronous task executed by executor service, then you should use CompletionService. It helps you in separating task result processor from task producer. See example http://www.zoftino.com/java-concurrency-executors-framework-tutorial\r\n\r\n","title":"When should I use a CompletionService over an ExecutorService?","body":"<p>If the task producer is not interested in the results and it is another component's responsibility to process results of asynchronous task executed by executor service, then you should use CompletionService. It helps you in separating task result processor from task producer. See example <a href=\"http://www.zoftino.com/java-concurrency-executors-framework-tutorial\" rel=\"nofollow noreferrer\">http://www.zoftino.com/java-concurrency-executors-framework-tutorial</a></p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1580491259,"post_id":52980559,"comment_id":106127486,"body_markdown":"You only posted a fragment of the actual code, but even there, the comment “**brief spin-wait**” indicates that this method does not spin wait all the time. Further, without knowing how the particular queue used by the completion service implemented its `poll` method, there is no ground to claim that it had “lower performance overhead”.","body":"You only posted a fragment of the actual code, but even there, the comment “<b>brief spin-wait</b>” indicates that this method does not spin wait all the time. Further, without knowing how the particular queue used by the completion service implemented its <code>poll</code> method, there is no ground to claim that it had “lower performance overhead”."}],"tags":[],"owner":{"account_id":9177295,"reputation":11910,"user_id":6856342,"display_name":"宏杰李"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1540435291,"creation_date":1540435291,"answer_id":52980559,"question_id":4912228,"body_markdown":"there is another advantage of using completionservice: **Performance**\r\n\r\nwhen you call `future.get()`, you are spin waiting:\r\n\r\nfrom `java.util.concurrent.CompletableFuture`\r\n \r\n\r\n      private Object waitingGet(boolean interruptible) {\r\n            Signaller q = null;\r\n            boolean queued = false;\r\n            int spins = -1;\r\n            Object r;\r\n            while ((r = result) == null) {\r\n                if (spins &lt; 0)\r\n                    spins = (Runtime.getRuntime().availableProcessors() &gt; 1) ?\r\n                        1 &lt;&lt; 8 : 0; // Use brief spin-wait on multiprocessors\r\n                else if (spins &gt; 0) {\r\n                    if (ThreadLocalRandom.nextSecondarySeed() &gt;= 0)\r\n                        --spins;\r\n                }\r\n\r\n\r\n\r\nwhen you have a long-running task, this will be a disaster for performance.\r\n\r\n\r\n\r\nwith completionservice, once the task is done, it&#39;s result will be enqueued and you can poll the queue with lower performance overhand.\r\n\r\ncompletionservice achieve this by using wrap task with a `done` hook. \r\n\r\n\r\n\r\n\r\n`java.util.concurrent.ExecutorCompletionService`\r\n\r\n        private class QueueingFuture extends FutureTask&lt;Void&gt; {\r\n        QueueingFuture(RunnableFuture&lt;V&gt; task) {\r\n            super(task, null);\r\n            this.task = task;\r\n        }\r\n        protected void done() { completionQueue.add(task); }\r\n        private final Future&lt;V&gt; task;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"When should I use a CompletionService over an ExecutorService?","body":"<p>there is another advantage of using completionservice: <strong>Performance</strong></p>\n\n<p>when you call <code>future.get()</code>, you are spin waiting:</p>\n\n<p>from <code>java.util.concurrent.CompletableFuture</code></p>\n\n<pre><code>  private Object waitingGet(boolean interruptible) {\n        Signaller q = null;\n        boolean queued = false;\n        int spins = -1;\n        Object r;\n        while ((r = result) == null) {\n            if (spins &lt; 0)\n                spins = (Runtime.getRuntime().availableProcessors() &gt; 1) ?\n                    1 &lt;&lt; 8 : 0; // Use brief spin-wait on multiprocessors\n            else if (spins &gt; 0) {\n                if (ThreadLocalRandom.nextSecondarySeed() &gt;= 0)\n                    --spins;\n            }\n</code></pre>\n\n<p>when you have a long-running task, this will be a disaster for performance.</p>\n\n<p>with completionservice, once the task is done, it's result will be enqueued and you can poll the queue with lower performance overhand.</p>\n\n<p>completionservice achieve this by using wrap task with a <code>done</code> hook. </p>\n\n<p><code>java.util.concurrent.ExecutorCompletionService</code></p>\n\n<pre><code>    private class QueueingFuture extends FutureTask&lt;Void&gt; {\n    QueueingFuture(RunnableFuture&lt;V&gt; task) {\n        super(task, null);\n        this.task = task;\n    }\n    protected void done() { completionQueue.add(task); }\n    private final Future&lt;V&gt; task;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8262780,"reputation":19,"user_id":6213523,"display_name":"Prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556217520,"creation_date":1556208565,"answer_id":55853512,"question_id":4912228,"body_markdown":"    package com.barcap.test.test00;\r\n    \r\n    import java.util.concurrent.*;\r\n    \r\n    /**\r\n     * Created by Sony on 25-04-2019.\r\n     */\r\n    public class ExecutorCompletest00 {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            ExecutorService exc= Executors.newFixedThreadPool( 10 );\r\n            ExecutorCompletionService executorCompletionService= new ExecutorCompletionService( exc );\r\n    \r\n            for (int i=1;i&lt;10;i++){\r\n                Task00 task00= new Task00( i );\r\n                executorCompletionService.submit( task00 );\r\n            }\r\n            for (int i=1;i&lt;20;i++){\r\n                try {\r\n                    Future&lt;Integer&gt; future= (Future &lt;Integer&gt;) executorCompletionService.take();\r\n                    Integer inttest=future.get();\r\n                    System.out.println(&quot; the result of completion service is &quot;+inttest);\r\n    \r\n                   break;\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n=======================================================\r\n\r\n    package com.barcap.test.test00;\r\n    \r\n    import java.util.*;\r\n    import java.util.concurrent.*;\r\n    \r\n    /**\r\n     * Created by Sony on 25-04-2019.\r\n     */\r\n    public class ExecutorServ00 {\r\n    \r\n        public static void main(String[] args) {\r\n            ExecutorService executorService=Executors.newFixedThreadPool( 9 );\r\n            List&lt;Future&gt; futList= new ArrayList &lt;&gt;(  );\r\n            for (int i=1;i&lt;10;i++) {\r\n               Future result= executorService.submit( new Task00( i ) );\r\n               futList.add( result );\r\n            }\r\n    \r\n             for (Future&lt;Integer&gt; futureEach :futList ){\r\n                 try {\r\n                  Integer inm=   futureEach.get();\r\n    \r\n                     System.out.println(&quot;the result of future executorservice is &quot;+inm);\r\n                     break;\r\n                 } catch (InterruptedException e) {\r\n                     e.printStackTrace();\r\n                 } catch (ExecutionException e) {\r\n                     e.printStackTrace();\r\n                 }\r\n             }\r\n        }\r\n    }\r\n\r\n===========================================================\r\n\r\n    package com.barcap.test.test00;\r\n    \r\n    import java.util.concurrent.*;\r\n    \r\n    /**\r\n     * Created by Sony on 25-04-2019.\r\n     */\r\n    public class Task00 implements Callable&lt;Integer&gt; {\r\n    \r\n        int i;\r\n    \r\n        public Task00(int i) {\r\n            this.i = i;\r\n        }\r\n    \r\n        @Override\r\n        public Integer call() throws Exception {\r\n            System.out.println(&quot; the current thread is &quot;+Thread.currentThread().getName()  +&quot; the result should be &quot;+i);\r\n            int sleepforsec=100000/i;\r\n             Thread.sleep( sleepforsec );\r\n            System.out.println(&quot; the task complted for &quot;+Thread.currentThread().getName()  +&quot; the result should be &quot;+i);\r\n    \r\n    \r\n    \r\n            return i;\r\n        }\r\n    }\r\n\r\n======================================================================\r\n\r\ndifference of logs for executor completion service:\r\nthe current thread is pool-1-thread-1 the result should be 1\r\n the current thread is pool-1-thread-2 the result should be 2\r\n the current thread is pool-1-thread-3 the result should be 3\r\n the current thread is pool-1-thread-4 the result should be 4\r\n the current thread is pool-1-thread-6 the result should be 6\r\n the current thread is pool-1-thread-5 the result should be 5\r\n the current thread is pool-1-thread-7 the result should be 7\r\n the current thread is pool-1-thread-9 the result should be 9\r\n the current thread is pool-1-thread-8 the result should be 8\r\n the task complted for pool-1-thread-9 the result should be 9\r\n teh result is 9\r\n the task complted for pool-1-thread-8 the result should be 8\r\n the task complted for pool-1-thread-7 the result should be 7\r\n the task complted for pool-1-thread-6 the result should be 6\r\n the task complted for pool-1-thread-5 the result should be 5\r\n the task complted for pool-1-thread-4 the result should be 4\r\n the task complted for pool-1-thread-3 the result should be 3\r\n the task complted for pool-1-thread-2 the result should be 2\r\n====================================================================\r\n\r\n the current thread is pool-1-thread-1 the result should be 1\r\n the current thread is pool-1-thread-3 the result should be 3\r\n the current thread is pool-1-thread-2 the result should be 2\r\n the current thread is pool-1-thread-5 the result should be 5\r\n the current thread is pool-1-thread-4 the result should be 4\r\n the current thread is pool-1-thread-6 the result should be 6\r\n the current thread is pool-1-thread-7 the result should be 7\r\n the current thread is pool-1-thread-8 the result should be 8\r\n the current thread is pool-1-thread-9 the result should be 9\r\n the task complted for pool-1-thread-9 the result should be 9\r\n the task complted for pool-1-thread-8 the result should be 8\r\n the task complted for pool-1-thread-7 the result should be 7\r\n the task complted for pool-1-thread-6 the result should be 6\r\n the task complted for pool-1-thread-5 the result should be 5\r\n the task complted for pool-1-thread-4 the result should be 4\r\n the task complted for pool-1-thread-3 the result should be 3\r\n the task complted for pool-1-thread-2 the result should be 2\r\n the task complted for pool-1-thread-1 the result should be 1\r\nthe result of future is 1\r\n\r\n=======================================================\r\n\r\nfor executorservice the result will only be avialable after all tasks complted.\r\n\r\nexecutor completionservice  any result avilable make that return.","title":"When should I use a CompletionService over an ExecutorService?","body":"<pre><code>package com.barcap.test.test00;\n\nimport java.util.concurrent.*;\n\n/**\n * Created by Sony on 25-04-2019.\n */\npublic class ExecutorCompletest00 {\n\n    public static void main(String[] args) {\n\n        ExecutorService exc= Executors.newFixedThreadPool( 10 );\n        ExecutorCompletionService executorCompletionService= new ExecutorCompletionService( exc );\n\n        for (int i=1;i&lt;10;i++){\n            Task00 task00= new Task00( i );\n            executorCompletionService.submit( task00 );\n        }\n        for (int i=1;i&lt;20;i++){\n            try {\n                Future&lt;Integer&gt; future= (Future &lt;Integer&gt;) executorCompletionService.take();\n                Integer inttest=future.get();\n                System.out.println(\" the result of completion service is \"+inttest);\n\n               break;\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>=======================================================</p>\n\n<pre><code>package com.barcap.test.test00;\n\nimport java.util.*;\nimport java.util.concurrent.*;\n\n/**\n * Created by Sony on 25-04-2019.\n */\npublic class ExecutorServ00 {\n\n    public static void main(String[] args) {\n        ExecutorService executorService=Executors.newFixedThreadPool( 9 );\n        List&lt;Future&gt; futList= new ArrayList &lt;&gt;(  );\n        for (int i=1;i&lt;10;i++) {\n           Future result= executorService.submit( new Task00( i ) );\n           futList.add( result );\n        }\n\n         for (Future&lt;Integer&gt; futureEach :futList ){\n             try {\n              Integer inm=   futureEach.get();\n\n                 System.out.println(\"the result of future executorservice is \"+inm);\n                 break;\n             } catch (InterruptedException e) {\n                 e.printStackTrace();\n             } catch (ExecutionException e) {\n                 e.printStackTrace();\n             }\n         }\n    }\n}\n</code></pre>\n\n<p>===========================================================</p>\n\n<pre><code>package com.barcap.test.test00;\n\nimport java.util.concurrent.*;\n\n/**\n * Created by Sony on 25-04-2019.\n */\npublic class Task00 implements Callable&lt;Integer&gt; {\n\n    int i;\n\n    public Task00(int i) {\n        this.i = i;\n    }\n\n    @Override\n    public Integer call() throws Exception {\n        System.out.println(\" the current thread is \"+Thread.currentThread().getName()  +\" the result should be \"+i);\n        int sleepforsec=100000/i;\n         Thread.sleep( sleepforsec );\n        System.out.println(\" the task complted for \"+Thread.currentThread().getName()  +\" the result should be \"+i);\n\n\n\n        return i;\n    }\n}\n</code></pre>\n\n<p>======================================================================</p>\n\n<p>difference of logs for executor completion service:\nthe current thread is pool-1-thread-1 the result should be 1\n the current thread is pool-1-thread-2 the result should be 2\n the current thread is pool-1-thread-3 the result should be 3\n the current thread is pool-1-thread-4 the result should be 4\n the current thread is pool-1-thread-6 the result should be 6\n the current thread is pool-1-thread-5 the result should be 5\n the current thread is pool-1-thread-7 the result should be 7\n the current thread is pool-1-thread-9 the result should be 9\n the current thread is pool-1-thread-8 the result should be 8\n the task complted for pool-1-thread-9 the result should be 9\n teh result is 9\n the task complted for pool-1-thread-8 the result should be 8\n the task complted for pool-1-thread-7 the result should be 7\n the task complted for pool-1-thread-6 the result should be 6\n the task complted for pool-1-thread-5 the result should be 5\n the task complted for pool-1-thread-4 the result should be 4\n the task complted for pool-1-thread-3 the result should be 3</p>\n\n<h1> the task complted for pool-1-thread-2 the result should be 2</h1>\n\n<p>the current thread is pool-1-thread-1 the result should be 1\n the current thread is pool-1-thread-3 the result should be 3\n the current thread is pool-1-thread-2 the result should be 2\n the current thread is pool-1-thread-5 the result should be 5\n the current thread is pool-1-thread-4 the result should be 4\n the current thread is pool-1-thread-6 the result should be 6\n the current thread is pool-1-thread-7 the result should be 7\n the current thread is pool-1-thread-8 the result should be 8\n the current thread is pool-1-thread-9 the result should be 9\n the task complted for pool-1-thread-9 the result should be 9\n the task complted for pool-1-thread-8 the result should be 8\n the task complted for pool-1-thread-7 the result should be 7\n the task complted for pool-1-thread-6 the result should be 6\n the task complted for pool-1-thread-5 the result should be 5\n the task complted for pool-1-thread-4 the result should be 4\n the task complted for pool-1-thread-3 the result should be 3\n the task complted for pool-1-thread-2 the result should be 2\n the task complted for pool-1-thread-1 the result should be 1\nthe result of future is 1</p>\n\n<p>=======================================================</p>\n\n<p>for executorservice the result will only be avialable after all tasks complted.</p>\n\n<p>executor completionservice  any result avilable make that return.</p>\n"},{"tags":[],"owner":{"account_id":4497699,"reputation":207,"user_id":3657103,"display_name":"user3657103"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642712607,"creation_date":1642712218,"answer_id":70793290,"question_id":4912228,"body_markdown":"assuming you execute a tasks in parallel and you save the Future results in a list:\r\n\r\nThe practical main difference between ExecutorService and CompletionService is:\r\n\r\nExecutorService get() will try to retrieve the results in the **submitted order** waiting for completion.\r\n\r\nCompletionService take() + get() will try to retrieve the results in the **completion order** disregarding the submission order.","title":"When should I use a CompletionService over an ExecutorService?","body":"<p>assuming you execute a tasks in parallel and you save the Future results in a list:</p>\n<p>The practical main difference between ExecutorService and CompletionService is:</p>\n<p>ExecutorService get() will try to retrieve the results in the <strong>submitted order</strong> waiting for completion.</p>\n<p>CompletionService take() + get() will try to retrieve the results in the <strong>completion order</strong> disregarding the submission order.</p>\n"},{"tags":[],"owner":{"account_id":3368179,"reputation":3257,"user_id":2828176,"accept_rate":83,"display_name":"Ferdous Wahid"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674534472,"creation_date":1674534472,"answer_id":75217399,"question_id":4912228,"body_markdown":"`ExecutorCompletionService` class implements `CompletionService`. \r\n`ExecutorCompletionService` returns futures objects based on completion order, so whichever task executes first, will be returned first. You just need to call `executorCompletionService.take()` to get completed Future object.\r\n\r\nI found a blog that clear my thought.\r\n\r\n[java2blog link with example][1]\r\n\r\n\r\n  [1]: https://java2blog.com/java-executorcompletionservice-example/","title":"When should I use a CompletionService over an ExecutorService?","body":"<p><code>ExecutorCompletionService</code> class implements <code>CompletionService</code>.\n<code>ExecutorCompletionService</code> returns futures objects based on completion order, so whichever task executes first, will be returned first. You just need to call <code>executorCompletionService.take()</code> to get completed Future object.</p>\n<p>I found a blog that clear my thought.</p>\n<p><a href=\"https://java2blog.com/java-executorcompletionservice-example/\" rel=\"nofollow noreferrer\">java2blog link with example</a></p>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72270,"favorite_count":0,"down_vote_count":0,"up_vote_count":87,"accepted_answer_id":5580058,"answer_count":12,"score":87,"last_activity_date":1674534472,"creation_date":1296978584,"question_id":4912228,"body_markdown":"I just found CompletionService in [this blog post][1]. However, this does&#39;t really showcases the advantages of CompletionService over a standard ExecutorService. The same code can be written with either. So, when is a CompletionService useful?\r\n\r\nCan you give a short code sample to make it crystal clear? For example, this code sample just shows where a CompletionService is not needed (=equivalent to ExecutorService)\r\n\r\n\r\n        ExecutorService taskExecutor = Executors.newCachedThreadPool();\r\n        //        CompletionService&lt;Long&gt; taskCompletionService =\r\n        //                new ExecutorCompletionService&lt;Long&gt;(taskExecutor);\r\n        Callable&lt;Long&gt; callable = new Callable&lt;Long&gt;() {\r\n            @Override\r\n            public Long call() throws Exception {\r\n                return 1L;\r\n            }\r\n        };\r\n\r\n        Future&lt;Long&gt; future = // taskCompletionService.submit(callable);\r\n            taskExecutor.submit(callable);\r\n\r\n        while (!future.isDone()) {\r\n            // Do some work...\r\n            System.out.println(&quot;Working on something...&quot;);\r\n        }\r\n        try {\r\n            System.out.println(future.get());\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n  [1]: http://www.chrisellsworth.com/blogs/devblog/archive/2006/10/31/Java-Concurrency-API-Example.aspx","title":"When should I use a CompletionService over an ExecutorService?","body":"<p>I just found CompletionService in <a href=\"http://www.chrisellsworth.com/blogs/devblog/archive/2006/10/31/Java-Concurrency-API-Example.aspx\">this blog post</a>. However, this does't really showcases the advantages of CompletionService over a standard ExecutorService. The same code can be written with either. So, when is a CompletionService useful?</p>\n\n<p>Can you give a short code sample to make it crystal clear? For example, this code sample just shows where a CompletionService is not needed (=equivalent to ExecutorService)</p>\n\n<pre><code>    ExecutorService taskExecutor = Executors.newCachedThreadPool();\n    //        CompletionService&lt;Long&gt; taskCompletionService =\n    //                new ExecutorCompletionService&lt;Long&gt;(taskExecutor);\n    Callable&lt;Long&gt; callable = new Callable&lt;Long&gt;() {\n        @Override\n        public Long call() throws Exception {\n            return 1L;\n        }\n    };\n\n    Future&lt;Long&gt; future = // taskCompletionService.submit(callable);\n        taskExecutor.submit(callable);\n\n    while (!future.isDone()) {\n        // Do some work...\n        System.out.println(\"Working on something...\");\n    }\n    try {\n        System.out.println(future.get());\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n    } catch (ExecutionException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"},{"tags":["java","amazon-s3","amazon-ec2"],"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":0,"creation_date":1345817606,"post_id":12111065,"comment_id":16189717,"body_markdown":"related: http://stackoverflow.com/q/2390733/697449","body":"related: <a href=\"http://stackoverflow.com/q/2390733/697449\">stackoverflow.com/q/2390733/697449</a>"}],"answers":[{"comments":[{"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"score":1,"creation_date":1345819184,"post_id":12111139,"comment_id":16190518,"body_markdown":"Thanks! you made me realise i was writing the files the same as if they were text files. Problem solved!","body":"Thanks! you made me realise i was writing the files the same as if they were text files. Problem solved!"}],"tags":[],"owner":{"account_id":55539,"reputation":160139,"user_id":166339,"display_name":"Asaph"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1345817790,"creation_date":1345817790,"answer_id":12111139,"question_id":12111065,"body_markdown":"Java is telling you it&#39;s not a valid class file because it doesn&#39;t begin with [the expected byte sequence (`0xCAFEBABE`)][1]. Something went wrong when you downloaded it. Try inspecting your class file in an editor and see if maybe you actually have some other content in there.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_class_file#Magic_Number","title":"Java Incompatible magic value 4022320623","body":"<p>Java is telling you it's not a valid class file because it doesn't begin with <a href=\"http://en.wikipedia.org/wiki/Java_class_file#Magic_Number\" rel=\"nofollow\">the expected byte sequence (<code>0xCAFEBABE</code>)</a>. Something went wrong when you downloaded it. Try inspecting your class file in an editor and see if maybe you actually have some other content in there.</p>\n"},{"tags":[],"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1345819129,"creation_date":1345819129,"answer_id":12111542,"question_id":12111065,"body_markdown":"Okay i figured it out with thanks to @Asaph mentioning the downloading going wrong..\r\n\r\nBasically the downloading was fine, it was the way i was writing the file. \r\n\r\nWhen im downloading projects, im downloading the source and binaries, but i was writing both files as if they were the same.\r\n\r\nSo changed the code to check the file type and then use the appropriate writer when necessary. If by some miracle someone has the same issue or is doing something similar here is the code:\r\n\r\n***(Note this was just written 5 second ago to fix the problem and is very poorly written, im about to refactor it myself, but i cant do everything for you)***\r\n\r\n\tpublic void download(String project, String version, String location)\r\n\t{\r\n\t\tfor(S3ObjectSummary s: getObjectList())\r\n\t\t{\r\n\t\t\tString[] data = s.getKey().split(&quot;/&quot;);\r\n\t\t\tif(data[0].equals(project) &amp;&amp; data[1].equals(version))\r\n\t\t\t{\r\n\t\t\t\tS3Object object = s3.getObject(s3BucketName,s.getKey());\r\n\t\t\t\tInputStream input = object.getObjectContent();\r\n\t\t\t\t\r\n\t\t\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(input));\r\n\t\t\t\t\r\n\t\t\t\tFile file = new File(location +&quot;/&quot;+ data[0] + &quot;/&quot; + data[2] + &quot;/&quot; + data[3] + &quot;/&quot; + data[4]);\r\n\t\t\t\tif(!file.exists())\r\n\t\t\t\t{\r\n\t\t\t\t\t  try {\r\n\t\t\t\t\t\t  file.getParentFile().mkdirs();\r\n\t\t\t\t\t\t    file.createNewFile();\r\n\t\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\ttry \r\n\t\t\t\t{\r\n\t\t\t\t\tif(data[4].endsWith(&quot;.java&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\tWriter writer = new OutputStreamWriter(new FileOutputStream(file));\r\n\t\t\t\t\twhile (true) {          \r\n\t\t\t\t\t     String line = reader.readLine();           \r\n\t\t\t\t\t     if (line == null)\r\n\t\t\t\t\t          break;            \r\n\r\n\t\t\t\t\t     writer.write(line + &quot;\\n&quot;);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\twriter.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(data[4].endsWith(&quot;.class&quot;))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tSystem.out.println(&quot;Writing Classes&quot;);\r\n\t\t\t\t\t\tbyte[] buffer = new byte[8 * 1024];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t  OutputStream output = new FileOutputStream(file.getAbsolutePath());\r\n\t\t\t\t\t\t\t  try {\r\n\t\t\t\t\t\t\t    int bytesRead;\r\n\t\t\t\t\t\t\t    while ((bytesRead = input.read(buffer)) != -1) {\r\n\t\t\t\t\t\t\t      output.write(buffer, 0, bytesRead);\r\n\t\t\t\t\t\t\t    }\r\n\t\t\t\t\t\t\t  } finally {\r\n\t\t\t\t\t\t\t    output.close();\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t  input.close();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t} catch (FileNotFoundException e) {\r\n\t\t\t\t\t\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t}","title":"Java Incompatible magic value 4022320623","body":"<p>Okay i figured it out with thanks to @Asaph mentioning the downloading going wrong..</p>\n\n<p>Basically the downloading was fine, it was the way i was writing the file. </p>\n\n<p>When im downloading projects, im downloading the source and binaries, but i was writing both files as if they were the same.</p>\n\n<p>So changed the code to check the file type and then use the appropriate writer when necessary. If by some miracle someone has the same issue or is doing something similar here is the code:</p>\n\n<p><em><strong>(Note this was just written 5 second ago to fix the problem and is very poorly written, im about to refactor it myself, but i cant do everything for you)</em></strong></p>\n\n<pre><code>public void download(String project, String version, String location)\n{\n    for(S3ObjectSummary s: getObjectList())\n    {\n        String[] data = s.getKey().split(\"/\");\n        if(data[0].equals(project) &amp;&amp; data[1].equals(version))\n        {\n            S3Object object = s3.getObject(s3BucketName,s.getKey());\n            InputStream input = object.getObjectContent();\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(input));\n\n            File file = new File(location +\"/\"+ data[0] + \"/\" + data[2] + \"/\" + data[3] + \"/\" + data[4]);\n            if(!file.exists())\n            {\n                  try {\n                      file.getParentFile().mkdirs();\n                        file.createNewFile();\n                } catch (IOException e) {\n\n                    e.printStackTrace();\n                }\n            }\n            try \n            {\n                if(data[4].endsWith(\".java\"))\n                {\n                Writer writer = new OutputStreamWriter(new FileOutputStream(file));\n                while (true) {          \n                     String line = reader.readLine();           \n                     if (line == null)\n                          break;            \n\n                     writer.write(line + \"\\n\");\n                }\n\n                writer.close();\n                }\n                else if(data[4].endsWith(\".class\"))\n                {\n                    System.out.println(\"Writing Classes\");\n                    byte[] buffer = new byte[8 * 1024];\n\n                    try {\n                          OutputStream output = new FileOutputStream(file.getAbsolutePath());\n                          try {\n                            int bytesRead;\n                            while ((bytesRead = input.read(buffer)) != -1) {\n                              output.write(buffer, 0, bytesRead);\n                            }\n                          } finally {\n                            output.close();\n                          }\n                        } finally {\n                          input.close();\n                        }\n                }\n\n            } catch (FileNotFoundException e) {\n\n                e.printStackTrace();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n\n\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2877793,"reputation":482,"user_id":2469339,"accept_rate":100,"display_name":"Mike T"},"score":0,"creation_date":1572899866,"post_id":39396955,"comment_id":103697401,"body_markdown":"this was my issue, the example they provided had filtering=true.   Thanks!","body":"this was my issue, the example they provided had filtering=true.   Thanks!"}],"tags":[],"owner":{"account_id":2785708,"reputation":390,"user_id":2397177,"accept_rate":40,"display_name":"Walid Ammou"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1473355656,"creation_date":1473355656,"answer_id":39396955,"question_id":12111065,"body_markdown":"If you use Maven te build your project. try to disable resource filtering in **maven-war-plugin** like that `&lt;filtering&gt;false&lt;/filtering&gt;` in POM file:\r\n\r\n    &lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n        &lt;webResources&gt;\r\n\t\t\t&lt;resource&gt;\r\n\t\t\t\t&lt;filtering&gt;false&lt;/filtering&gt;\r\n\t\t\t\t&lt;targetPath&gt;WEB-INF/classes&lt;/targetPath&gt;\r\n\t\t\t\t&lt;directory&gt;${project.basedir}/target/classes&lt;/directory&gt;\r\n\t\t\t&lt;/resource&gt;\r\n\t\t&lt;/webResources&gt;\r\n\t\t&lt;filtering&gt;false&lt;/filtering&gt;\r\n\t  &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\n\r\n","title":"Java Incompatible magic value 4022320623","body":"<p>If you use Maven te build your project. try to disable resource filtering in <strong>maven-war-plugin</strong> like that <code>&lt;filtering&gt;false&lt;/filtering&gt;</code> in POM file:</p>\n\n<pre><code>&lt;plugin&gt;\n&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n&lt;version&gt;2.3&lt;/version&gt;\n&lt;configuration&gt;\n    &lt;webResources&gt;\n        &lt;resource&gt;\n            &lt;filtering&gt;false&lt;/filtering&gt;\n            &lt;targetPath&gt;WEB-INF/classes&lt;/targetPath&gt;\n            &lt;directory&gt;${project.basedir}/target/classes&lt;/directory&gt;\n        &lt;/resource&gt;\n    &lt;/webResources&gt;\n    &lt;filtering&gt;false&lt;/filtering&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2184058,"reputation":1185,"user_id":1932890,"accept_rate":67,"display_name":"raner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674533730,"creation_date":1674527794,"answer_id":75216939,"question_id":12111065,"body_markdown":"Similar to @WalidAmmou&#39;s answer, the solution in my case (non-web service/AWS context) was to add the following to the POM, to counteract resource filtering that was enabled in a parent POM:\r\n\r\n     &lt;build&gt;\r\n      &lt;testResources&gt;\r\n       &lt;testResource&gt;\r\n        &lt;directory&gt;src/test/resources&lt;/directory&gt;\r\n        &lt;filtering&gt;false&lt;/filtering&gt;\r\n       &lt;/testResource&gt;\r\n      &lt;/testResources&gt;\r\n     &lt;/build&gt;\r\n\r\nUse `&lt;resources&gt;`/`&lt;resource&gt;` if this is a problem during the main build (in my case it was an issue when building the tests)","title":"Java Incompatible magic value 4022320623","body":"<p>Similar to @WalidAmmou's answer, the solution in my case (non-web service/AWS context) was to add the following to the POM, to counteract resource filtering that was enabled in a parent POM:</p>\n<pre><code> &lt;build&gt;\n  &lt;testResources&gt;\n   &lt;testResource&gt;\n    &lt;directory&gt;src/test/resources&lt;/directory&gt;\n    &lt;filtering&gt;false&lt;/filtering&gt;\n   &lt;/testResource&gt;\n  &lt;/testResources&gt;\n &lt;/build&gt;\n</code></pre>\n<p>Use <code>&lt;resources&gt;</code>/<code>&lt;resource&gt;</code> if this is a problem during the main build (in my case it was an issue when building the tests)</p>\n"}],"owner":{"account_id":1347508,"reputation":1444,"user_id":1287962,"accept_rate":70,"display_name":"Ben Flowers"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9056,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":12111542,"answer_count":4,"score":4,"last_activity_date":1674533730,"creation_date":1345817416,"question_id":12111065,"body_markdown":"Im getting a strange error when im compiling my code on a server and downloading it and trying to run it on my computer.\r\n\r\nIm basically compiling some java files on an EC2 instance, then loading them into a storage for later use.\r\n\r\nWhen i download the files onto my computer and try to run them i am getting the following errors:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.ClassFormatError: Incompatible magic value  \r\n         4022320623 in class file HelloWorldPackage/HelloWorldClass\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(ClassLoader.java:787)\r\n    \tat java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n    \tat java.net.URLClassLoader.defineClass(URLClassLoader.java:447)\r\n \tat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\r\n\tat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:423)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:356)\r\n\tat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:476)\r\n\r\nI am compiling the files using the following method:\r\n\r\n    public void compileProject()\r\n\t{\r\n\t    \r\n\t\t\r\n\t\tString command = &quot;javac &quot;;\r\n\t\tfor(String s: this.getPackages())\r\n\t\t{\r\n\t\t\tFile[] files = new File(&quot;/home/benuni/CompileFiles/&quot; + project + &quot;/src/&quot; + s).listFiles(new FilenameFilter() {\r\n\t\t        public boolean accept(File dir, String name) {\r\n\t\t            return name.endsWith(&quot;.java&quot;);\r\n\t\t        }\r\n\t\t    });\r\n\t\t\t\r\n\t\t\tfor(File f: files)\r\n\t\t\t{\r\n\t\t\t\tcommand = command + f.getAbsolutePath() + &quot; &quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\ttry {\r\n\t\t\tSystem.out.println(&quot;command: &#39;&quot;+ command +&quot;&#39;&quot;);\r\n\t\t\tProcess pro = Runtime.getRuntime().exec(command);\r\n\t\t\t printLines(&quot; stderr:&quot;, pro.getErrorStream());\r\n\t\t\r\n\t\t    pro.waitFor();\r\n\t\t    \r\n\t\t    this.moveClassFiles();\r\n\t\t} catch (IOException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (InterruptedException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (Exception e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t}\r\n\r\n\r\nand am uploading the files with this method:\r\n\r\n    public void uploadBin()\r\n\t{\r\n\t\tfor(String s: this.getPackages())\r\n\t\t{\r\n\t\t\tFile[] filesInPackage = new File(&quot;/home/benuni/CompileFiles/&quot;+this.project+&quot;/bin/&quot;+s).listFiles();\r\n\t\t\t\r\n\t\t\tfor(File f: filesInPackage)\r\n\t\t\t{\r\n\t\t\t\tString key = this.project+&quot;/&quot;+this.version+&quot;/bin/&quot;+s+&quot;/&quot;+f.getName();\r\n\t\t\t\ts3.putObject(&quot;devcloud&quot;,key,f);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\ndoes anyone know what i am doing wrong?\r\nThe class files are runnable when i compile them on the computer, but when i upload them to the cloud and download them im getting the error?\r\n\r\nThanks,\r\n\r\nBen\r\n","title":"Java Incompatible magic value 4022320623","body":"<p>Im getting a strange error when im compiling my code on a server and downloading it and trying to run it on my computer.</p>\n\n<p>Im basically compiling some java files on an EC2 instance, then loading them into a storage for later use.</p>\n\n<p>When i download the files onto my computer and try to run them i am getting the following errors:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassFormatError: Incompatible magic value  \n     4022320623 in class file HelloWorldPackage/HelloWorldClass\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:787)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:447)\nat java.net.URLClassLoader.access$100(URLClassLoader.java:71)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:361)\nat java.net.URLClassLoader$1.run(URLClassLoader.java:355)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.net.URLClassLoader.findClass(URLClassLoader.java:354)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:423)\nat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)\nat java.lang.ClassLoader.loadClass(ClassLoader.java:356)\nat sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:476)\n</code></pre>\n\n<p>I am compiling the files using the following method:</p>\n\n<pre><code>public void compileProject()\n{\n\n\n    String command = \"javac \";\n    for(String s: this.getPackages())\n    {\n        File[] files = new File(\"/home/benuni/CompileFiles/\" + project + \"/src/\" + s).listFiles(new FilenameFilter() {\n            public boolean accept(File dir, String name) {\n                return name.endsWith(\".java\");\n            }\n        });\n\n        for(File f: files)\n        {\n            command = command + f.getAbsolutePath() + \" \";\n        }\n    }\n\n    try {\n        System.out.println(\"command: '\"+ command +\"'\");\n        Process pro = Runtime.getRuntime().exec(command);\n         printLines(\" stderr:\", pro.getErrorStream());\n\n        pro.waitFor();\n\n        this.moveClassFiles();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (InterruptedException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (Exception e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n\n\n}\n</code></pre>\n\n<p>and am uploading the files with this method:</p>\n\n<pre><code>public void uploadBin()\n{\n    for(String s: this.getPackages())\n    {\n        File[] filesInPackage = new File(\"/home/benuni/CompileFiles/\"+this.project+\"/bin/\"+s).listFiles();\n\n        for(File f: filesInPackage)\n        {\n            String key = this.project+\"/\"+this.version+\"/bin/\"+s+\"/\"+f.getName();\n            s3.putObject(\"devcloud\",key,f);\n\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>does anyone know what i am doing wrong?\nThe class files are runnable when i compile them on the computer, but when i upload them to the cloud and download them im getting the error?</p>\n\n<p>Thanks,</p>\n\n<p>Ben</p>\n"},{"tags":["java","scala","playframework","guice","java-11"],"comments":[{"owner":{"display_name":"user3237183"},"score":1,"creation_date":1576050239,"post_id":59280016,"comment_id":104768082,"body_markdown":"This issue does not seems to be the error mentioned in the documentation as Play supports JDK, it might be a library compatibility issue, make sure you have the right play version you can check their CI https://travis-ci.com/playframework/playframework","body":"This issue does not seems to be the error mentioned in the documentation as Play supports JDK, it might be a library compatibility issue, make sure you have the right play version you can check their CI <a href=\"https://travis-ci.com/playframework/playframework\" rel=\"nofollow noreferrer\">travis-ci.com/playframework/playframework</a>"},{"owner":{"account_id":5594739,"reputation":4568,"user_id":4432837,"display_name":"cbley"},"score":1,"creation_date":1576223138,"post_id":59280016,"comment_id":104836923,"body_markdown":"The `AjcClosure` class probably means that you&#39;re using AspectJ. If so, that seems to be a problem with that.","body":"The <code>AjcClosure</code> class probably means that you&#39;re using AspectJ. If so, that seems to be a problem with that."}],"answers":[{"tags":[],"owner":{"account_id":5375898,"reputation":9,"user_id":4282830,"display_name":"Rajesh J"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674533561,"creation_date":1674526509,"answer_id":75216861,"question_id":59280016,"body_markdown":"Try with options shown on the image.\r\n\r\n[![Link][1]][1]\r\n\r\n1. Go to &quot;File | Settings | Build, Execution, Deployment | Compiler | Scala Compiler | Scala Compile Server&quot;\r\n2. Check &quot;Use compiler server&quot;\r\n3. Select JDK installed from the drop-menu field. \r\n\r\n  [1]: https://i.stack.imgur.com/QRV8x.png\r\n\r\n","title":"jdk11 scala 2.12.8 compatibility","body":"<p>Try with options shown on the image.</p>\n<p><a href=\"https://i.stack.imgur.com/QRV8x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QRV8x.png\" alt=\"Link\" /></a></p>\n<ol>\n<li>Go to &quot;File | Settings | Build, Execution, Deployment | Compiler | Scala Compiler | Scala Compile Server&quot;</li>\n<li>Check &quot;Use compiler server&quot;</li>\n<li>Select JDK installed from the drop-menu field.</li>\n</ol>\n"}],"owner":{"account_id":5137481,"reputation":4507,"user_id":4115756,"display_name":"zfy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4076,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1674533561,"creation_date":1576045975,"question_id":59280016,"body_markdown":"My scala 2.12.8 project was working fine with jdk8, after solving a few compiling issues I managed to build the scala 2.12.8 project with jdk11. However I got an run time class loading exception as following\r\n```\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: play/api/http/JavaHttpFiltersDelegate$AjcClosure1\r\n\tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n\tat java.base/java.lang.Class.privateGetDeclaredConstructors(Unknown Source)\r\n\tat java.base/java.lang.Class.getDeclaredConstructors(Unknown Source)\r\n\tat com.google.inject.spi.InjectionPoint.forConstructorOf(InjectionPoint.java:245)\r\n\tat com.google.inject.internal.ConstructorBindingImpl.create(ConstructorBindingImpl.java:115)\r\n\tat com.google.inject.internal.InjectorImpl.createUninitializedBinding(InjectorImpl.java:706)\r\n\tat com.google.inject.internal.UntargettedBindingProcessor$1.visit(UntargettedBindingProcessor.java:54)\r\n\tat com.google.inject.internal.UntargettedBindingProcessor$1.visit(UntargettedBindingProcessor.java:36)\r\n\tat com.google.inject.internal.UntargettedBindingImpl.acceptTargetVisitor(UntargettedBindingImpl.java:49)\r\n\tat com.google.inject.internal.UntargettedBindingProcessor.visit(UntargettedBindingProcessor.java:35)\r\n\tat com.google.inject.internal.UntargettedBindingProcessor.visit(UntargettedBindingProcessor.java:27)\r\n\tat com.google.inject.internal.BindingImpl.acceptVisitor(BindingImpl.java:99)\r\n\tat com.google.inject.internal.AbstractProcessor.process(AbstractProcessor.java:54)\r\n\tat com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:186)\r\n\tat com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:103)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:87)\r\n\tat com.google.inject.Guice.createInjector(Guice.java:78)\r\n\tat play.api.inject.guice.GuiceBuilder.injector(GuiceInjectorBuilder.scala:185)\r\n\tat play.api.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.scala:137)\r\n\tat play.api.inject.guice.GuiceApplicationLoader.load(GuiceApplicationLoader.scala:21)\r\n\tat play.core.server.ProdServerStart$.start(ProdServerStart.scala:51)\r\n\tat play.core.server.ProdServerStart$.main(ProdServerStart.scala:25)\r\n\tat play.core.server.ProdServerStart.main(ProdServerStart.scala)\r\nCaused by: java.lang.ClassNotFoundException: play.api.http.JavaHttpFiltersDelegate$AjcClosure1\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\r\n\tat java.base/java.lang.ClassLoader.loadClass(Unknown Source)\r\n\t... 23 more\r\n```\r\n\r\nAccording to scala website https://docs.scala-lang.org/overviews/jdk-compatibility/overview.html\r\n&gt;As of Scala 2.13.0, 2.12.8 and 2.11.12, JDK 11 support is incomplete. Notably, scalac will not enforce the restrictions of the Java Platform Module System, which means that code that typechecks may incur linkage errors at runtime.\r\n\r\nI&#39;m not sure if the error I got is related to the the issue mentioned by the scala website. If not any idea what might be the cause?  ","title":"jdk11 scala 2.12.8 compatibility","body":"<p>My scala 2.12.8 project was working fine with jdk8, after solving a few compiling issues I managed to build the scala 2.12.8 project with jdk11. However I got an run time class loading exception as following</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: play/api/http/JavaHttpFiltersDelegate$AjcClosure1\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Unknown Source)\n    at java.base/java.lang.Class.getDeclaredConstructors(Unknown Source)\n    at com.google.inject.spi.InjectionPoint.forConstructorOf(InjectionPoint.java:245)\n    at com.google.inject.internal.ConstructorBindingImpl.create(ConstructorBindingImpl.java:115)\n    at com.google.inject.internal.InjectorImpl.createUninitializedBinding(InjectorImpl.java:706)\n    at com.google.inject.internal.UntargettedBindingProcessor$1.visit(UntargettedBindingProcessor.java:54)\n    at com.google.inject.internal.UntargettedBindingProcessor$1.visit(UntargettedBindingProcessor.java:36)\n    at com.google.inject.internal.UntargettedBindingImpl.acceptTargetVisitor(UntargettedBindingImpl.java:49)\n    at com.google.inject.internal.UntargettedBindingProcessor.visit(UntargettedBindingProcessor.java:35)\n    at com.google.inject.internal.UntargettedBindingProcessor.visit(UntargettedBindingProcessor.java:27)\n    at com.google.inject.internal.BindingImpl.acceptVisitor(BindingImpl.java:99)\n    at com.google.inject.internal.AbstractProcessor.process(AbstractProcessor.java:54)\n    at com.google.inject.internal.InjectorShell$Builder.build(InjectorShell.java:186)\n    at com.google.inject.internal.InternalInjectorCreator.build(InternalInjectorCreator.java:103)\n    at com.google.inject.Guice.createInjector(Guice.java:87)\n    at com.google.inject.Guice.createInjector(Guice.java:78)\n    at play.api.inject.guice.GuiceBuilder.injector(GuiceInjectorBuilder.scala:185)\n    at play.api.inject.guice.GuiceApplicationBuilder.build(GuiceApplicationBuilder.scala:137)\n    at play.api.inject.guice.GuiceApplicationLoader.load(GuiceApplicationLoader.scala:21)\n    at play.core.server.ProdServerStart$.start(ProdServerStart.scala:51)\n    at play.core.server.ProdServerStart$.main(ProdServerStart.scala:25)\n    at play.core.server.ProdServerStart.main(ProdServerStart.scala)\nCaused by: java.lang.ClassNotFoundException: play.api.http.JavaHttpFiltersDelegate$AjcClosure1\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(Unknown Source)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(Unknown Source)\n    at java.base/java.lang.ClassLoader.loadClass(Unknown Source)\n    ... 23 more\n</code></pre>\n\n<p>According to scala website <a href=\"https://docs.scala-lang.org/overviews/jdk-compatibility/overview.html\" rel=\"nofollow noreferrer\">https://docs.scala-lang.org/overviews/jdk-compatibility/overview.html</a></p>\n\n<blockquote>\n  <p>As of Scala 2.13.0, 2.12.8 and 2.11.12, JDK 11 support is incomplete. Notably, scalac will not enforce the restrictions of the Java Platform Module System, which means that code that typechecks may incur linkage errors at runtime.</p>\n</blockquote>\n\n<p>I'm not sure if the error I got is related to the the issue mentioned by the scala website. If not any idea what might be the cause?  </p>\n"},{"tags":["java","android","android-activity","sharedpreferences","navigation-drawer"],"comments":[{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1674531175,"post_id":75216961,"comment_id":132728870,"body_markdown":"`setDefaultNightMode` is going to restart your activity to apply the new mode. Does your `SplashActivity.isDarkMode` actually read the newly updated value from SharedPreferences when you call it?","body":"<code>setDefaultNightMode</code> is going to restart your activity to apply the new mode. Does your <code>SplashActivity.isDarkMode</code> actually read the newly updated value from SharedPreferences when you call it?"},{"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"score":0,"creation_date":1674613515,"post_id":75216961,"comment_id":132750506,"body_markdown":"Yes, it reads the SplashActivity.isDarkMode from SharedPreferences. It works behind the scenes, it just wont update the visual element (Enable/Disable Dark mode). It DOES update the theme correctly, every time.","body":"Yes, it reads the SplashActivity.isDarkMode from SharedPreferences. It works behind the scenes, it just wont update the visual element (Enable/Disable Dark mode). It DOES update the theme correctly, every time."}],"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674532846,"creation_date":1674528151,"question_id":75216961,"body_markdown":"I have an option within my DrawerLayout Nav Menu that swaps the text for the NavMenuItemView to the corresponding &quot;Enable Dark Mode&quot; or &quot;Disable Dark Mode&quot;. This goes to a shared preference (which is what the editor variable is) and WORKS for the first time. This means that it will say either of the two responses depending on the current theme mode. Then, when I go to swap them, it will swap the actual colors, but will NOT update the &quot;Enable Dark Mode&quot; text, now being blank. (the XML text)\r\n\r\nHeres the Code:\r\n\r\n```\r\n private Toolbar toolbar;\r\n    private DrawerLayout drawerLayout;\r\n    private NavigationView navigationView;\r\n    private NavigationMenuItemView night;\r\n    Menu menu;\r\n    String imagesDir;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\nsuper.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\ntoolbar = (Toolbar) findViewById(R.id.main_toolbar);\r\n        setSupportActionBar(toolbar);\r\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawerlayout);\r\n        navigationView = (NavigationView) findViewById(R.id.nav_view);\r\n        night = drawerLayout.findViewById(R.id.NightMode);\r\n        navigationView.bringToFront();\r\n        navigationView.setNavigationItemSelectedListener(this);\r\nActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.open,R.string.close);\r\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\r\n        actionBarDrawerToggle.syncState();\r\n}\r\n@SuppressLint(&quot;RestrictedApi&quot;)\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        this.menu = menu;\r\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawerlayout);\r\n        night = drawerLayout.findViewById(R.id.NightMode);\r\n        if (night != null) {\r\n            if (SplashActivity.isDarkModeOn) {\r\n                night.setTitle(&quot;Disable Dark Mode&quot;);\r\n            } else {\r\n                night.setTitle(&quot;Enable Dark Mode&quot;);\r\n            }\r\n        }else {\r\n            Toast.makeText(this, &quot;null&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        return true;\r\n    }\r\n@Override\r\n    @SuppressLint(&quot;RestrictedApi&quot;)\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        int id = item.getItemId();\r\n        switch (id){\r\n        case R.id.NightMode:\r\n                night = drawerLayout.findViewById(R.id.NightMode);\r\n                if (night != null){\r\n                    if (SplashActivity.isDarkModeOn) {\r\n                        night.setTitle(&quot;Disable Dark Mode&quot;);\r\n                        SplashActivity.editor.putBoolean(\r\n                                &quot;isDarkModeOn&quot;, false);\r\n                        SplashActivity.editor.apply();\r\n                        AppCompatDelegate\r\n                                .setDefaultNightMode(\r\n                                        AppCompatDelegate\r\n                                                .MODE_NIGHT_NO);\r\n                    }\r\n                    else {\r\n                        night.setTitle(&quot;Enable Dark Mode&quot;);\r\n                        SplashActivity.editor.putBoolean(\r\n                                &quot;isDarkModeOn&quot;, true);\r\n                        SplashActivity.editor.apply();\r\n                        AppCompatDelegate\r\n                                .setDefaultNightMode(\r\n                                        AppCompatDelegate\r\n                                                .MODE_NIGHT_YES);\r\n                    }\r\n                }\r\n                break;\r\n        }\r\ndrawerLayout.closeDrawer(GravityCompat.START);\r\n        return true;\r\n}\r\n```\r\n\r\nI have tried Invalidating the options menu every time the onCreate is called, and also moving the actual update from onCreateOptionsMenu to onCreate. Neither change the behavior, of it doing the correct task once (changing the text and updating the view), but then saying &quot;null&quot; every time after that.","title":"Drawer Layout MenuItems Only Updating Once, then returning Null?","body":"<p>I have an option within my DrawerLayout Nav Menu that swaps the text for the NavMenuItemView to the corresponding &quot;Enable Dark Mode&quot; or &quot;Disable Dark Mode&quot;. This goes to a shared preference (which is what the editor variable is) and WORKS for the first time. This means that it will say either of the two responses depending on the current theme mode. Then, when I go to swap them, it will swap the actual colors, but will NOT update the &quot;Enable Dark Mode&quot; text, now being blank. (the XML text)</p>\n<p>Heres the Code:</p>\n<pre><code> private Toolbar toolbar;\n    private DrawerLayout drawerLayout;\n    private NavigationView navigationView;\n    private NavigationMenuItemView night;\n    Menu menu;\n    String imagesDir;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\ntoolbar = (Toolbar) findViewById(R.id.main_toolbar);\n        setSupportActionBar(toolbar);\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawerlayout);\n        navigationView = (NavigationView) findViewById(R.id.nav_view);\n        night = drawerLayout.findViewById(R.id.NightMode);\n        navigationView.bringToFront();\n        navigationView.setNavigationItemSelectedListener(this);\nActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.open,R.string.close);\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\n        actionBarDrawerToggle.syncState();\n}\n@SuppressLint(&quot;RestrictedApi&quot;)\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        this.menu = menu;\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawerlayout);\n        night = drawerLayout.findViewById(R.id.NightMode);\n        if (night != null) {\n            if (SplashActivity.isDarkModeOn) {\n                night.setTitle(&quot;Disable Dark Mode&quot;);\n            } else {\n                night.setTitle(&quot;Enable Dark Mode&quot;);\n            }\n        }else {\n            Toast.makeText(this, &quot;null&quot;, Toast.LENGTH_SHORT).show();\n        }\n        return true;\n    }\n@Override\n    @SuppressLint(&quot;RestrictedApi&quot;)\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        int id = item.getItemId();\n        switch (id){\n        case R.id.NightMode:\n                night = drawerLayout.findViewById(R.id.NightMode);\n                if (night != null){\n                    if (SplashActivity.isDarkModeOn) {\n                        night.setTitle(&quot;Disable Dark Mode&quot;);\n                        SplashActivity.editor.putBoolean(\n                                &quot;isDarkModeOn&quot;, false);\n                        SplashActivity.editor.apply();\n                        AppCompatDelegate\n                                .setDefaultNightMode(\n                                        AppCompatDelegate\n                                                .MODE_NIGHT_NO);\n                    }\n                    else {\n                        night.setTitle(&quot;Enable Dark Mode&quot;);\n                        SplashActivity.editor.putBoolean(\n                                &quot;isDarkModeOn&quot;, true);\n                        SplashActivity.editor.apply();\n                        AppCompatDelegate\n                                .setDefaultNightMode(\n                                        AppCompatDelegate\n                                                .MODE_NIGHT_YES);\n                    }\n                }\n                break;\n        }\ndrawerLayout.closeDrawer(GravityCompat.START);\n        return true;\n}\n</code></pre>\n<p>I have tried Invalidating the options menu every time the onCreate is called, and also moving the actual update from onCreateOptionsMenu to onCreate. Neither change the behavior, of it doing the correct task once (changing the text and updating the view), but then saying &quot;null&quot; every time after that.</p>\n"},{"tags":["java","xml","spring","jackson","jackson-dataformat-xml"],"answers":[{"tags":[],"owner":{"account_id":19876183,"reputation":9,"user_id":14561104,"display_name":"hmfurtado"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674532539,"creation_date":1674532539,"answer_id":75217251,"question_id":75213555,"body_markdown":"Try put the correct Content Type inside your @GetMapping &quot;consume&quot;. Example:\r\n\r\n        @GetMapping(value = &quot;getPerson&quot;, consumes = MediaType.APPLICATION_XML_VALUE)\r\n      public ResponseEntity&lt;String&gt; getPerson(@RequestBody Person person) {\r\n        return ResponseEntity.ok(person.name);\r\n      }\r\n    }\r\n\r\nthe class MediaType is from the package: org.springframework.http.MediaType ","title":"Spring XML to object mapping returns &quot;Content type &#39;application/xml&#39; not supported for bodyType=...&quot;","body":"<p>Try put the correct Content Type inside your @GetMapping &quot;consume&quot;. Example:</p>\n<pre><code>    @GetMapping(value = &quot;getPerson&quot;, consumes = MediaType.APPLICATION_XML_VALUE)\n  public ResponseEntity&lt;String&gt; getPerson(@RequestBody Person person) {\n    return ResponseEntity.ok(person.name);\n  }\n}\n</code></pre>\n<p>the class MediaType is from the package: org.springframework.http.MediaType</p>\n"}],"owner":{"account_id":20390379,"reputation":38,"user_id":14958431,"display_name":"Paniac"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674532539,"creation_date":1674498439,"question_id":75213555,"body_markdown":"I have an endpoint (`GET localhost:8080/api/getPerson`), which should map the request body into an object. It works well when I send a body as JSON but when sending a XML I get a Unsupported Media Type (415) back.\r\n\r\n```java\r\npackage com.example.xml2object;\r\n\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\n\r\n@RestController\r\n@RequestMapping(&quot;api&quot;)\r\npublic class Example {\r\n\r\n  @JacksonXmlRootElement(localName = &quot;person&quot;)\r\n  public static class Person {\r\n    public String name;\r\n  }\r\n\r\n  @GetMapping(value = &quot;getPerson&quot;)\r\n  public ResponseEntity&lt;String&gt; getPerson(@RequestBody Person person) {\r\n    return ResponseEntity.ok(person.name);\r\n  }\r\n}\r\n```\r\n\r\nWhen calling the `/api/getPerson` with e.g. Postman using `Content-Type: application/json` the response is as expected `alice`:\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;alice&quot;\r\n}\r\n```\r\n\r\nHowever, when sending a request as `Content-Type: application/xml` a 415 is returned.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot;?&gt;\r\n&lt;person&gt;\r\n    &lt;name&gt;alice&lt;/name&gt;\r\n&lt;/person&gt;\r\n```\r\n\r\nResponds with:\r\n```json\r\n{\r\n    &quot;timestamp&quot;: &quot;2023-01-23T17:43:40.290+00:00&quot;,\r\n    &quot;path&quot;: &quot;/api/getPerson&quot;,\r\n    &quot;status&quot;: 415,\r\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n    &quot;message&quot;: &quot;Content type &#39;application/xml&#39; not supported for bodyType=com.example.xml2object.Example$Person&quot;,\r\n    ...\r\n}\r\n```\r\n\r\nWhat am I missing here?","title":"Spring XML to object mapping returns &quot;Content type &#39;application/xml&#39; not supported for bodyType=...&quot;","body":"<p>I have an endpoint (<code>GET localhost:8080/api/getPerson</code>), which should map the request body into an object. It works well when I send a body as JSON but when sending a XML I get a Unsupported Media Type (415) back.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.xml2object;\n\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\n\n@RestController\n@RequestMapping(&quot;api&quot;)\npublic class Example {\n\n  @JacksonXmlRootElement(localName = &quot;person&quot;)\n  public static class Person {\n    public String name;\n  }\n\n  @GetMapping(value = &quot;getPerson&quot;)\n  public ResponseEntity&lt;String&gt; getPerson(@RequestBody Person person) {\n    return ResponseEntity.ok(person.name);\n  }\n}\n</code></pre>\n<p>When calling the <code>/api/getPerson</code> with e.g. Postman using <code>Content-Type: application/json</code> the response is as expected <code>alice</code>:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;alice&quot;\n}\n</code></pre>\n<p>However, when sending a request as <code>Content-Type: application/xml</code> a 415 is returned.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot;?&gt;\n&lt;person&gt;\n    &lt;name&gt;alice&lt;/name&gt;\n&lt;/person&gt;\n</code></pre>\n<p>Responds with:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;timestamp&quot;: &quot;2023-01-23T17:43:40.290+00:00&quot;,\n    &quot;path&quot;: &quot;/api/getPerson&quot;,\n    &quot;status&quot;: 415,\n    &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n    &quot;message&quot;: &quot;Content type 'application/xml' not supported for bodyType=com.example.xml2object.Example$Person&quot;,\n    ...\n}\n</code></pre>\n<p>What am I missing here?</p>\n"},{"tags":["java","class","intellij-idea","intellij-plugin","automated-refactoring"],"answers":[{"tags":[],"owner":{"account_id":2912581,"reputation":166,"user_id":2496485,"display_name":"Morteza Zakeri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674125188,"creation_date":1674125188,"answer_id":75171085,"question_id":75154524,"body_markdown":"As for [CodART][1], the following code is used to rename a specified class:\r\n\r\n```lang-Python3\r\n    from codart.refactorings.rename_class2 import main\r\n    project_path_ = r&quot;/JSON/&quot;  # Project source files root\r\n    package_name_ = r&quot;org.json&quot;  # Class package name\r\n    class_identifier_ = r&quot;CDL&quot;  # Old class name\r\n    new_class_name_ = r&quot;CDL_Renamed&quot;  # New class name\r\n    output_dir_ = r&quot;JSON_Refactored&quot;  # Refactored project source files root\r\n    main(project_path_, package_name_, class_identifier_, new_class_name_, output_dir_)\r\n```\r\n\r\n  [1]: https://m-zakeri.github.io/CodART/","title":"Bulk rename of Java classes","body":"<p>As for <a href=\"https://m-zakeri.github.io/CodART/\" rel=\"nofollow noreferrer\">CodART</a>, the following code is used to rename a specified class:</p>\n<pre class=\"lang-Python3 prettyprint-override\"><code>    from codart.refactorings.rename_class2 import main\n    project_path_ = r&quot;/JSON/&quot;  # Project source files root\n    package_name_ = r&quot;org.json&quot;  # Class package name\n    class_identifier_ = r&quot;CDL&quot;  # Old class name\n    new_class_name_ = r&quot;CDL_Renamed&quot;  # New class name\n    output_dir_ = r&quot;JSON_Refactored&quot;  # Refactored project source files root\n    main(project_path_, package_name_, class_identifier_, new_class_name_, output_dir_)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674532333,"creation_date":1674522436,"answer_id":75216573,"question_id":75154524,"body_markdown":"A few solutions courtesy of HackerNews.\r\n\r\n---\r\n\r\nA [shell script](https://news.ycombinator.com/item?id=34496280):\r\n\r\n``` bash\r\n#!/usr/bin/env bash\r\n\r\njavas=$(find . -regex &#39;.*\\.java$&#39;)\r\nsed -i -E &quot;$(printf &#39;s/\\\\&lt;(%s)\\\\&gt;/Kt\\\\1/g;&#39; $(grep -hrPo &#39;\\b(class|interface|record|enum) (?!Kt)(?!List\\b)(?!Entry\\b)\\K[A-Z]\\w+&#39;))&quot; $(echo $javas); \r\nperl-rename &#39;s;\\b(?!Kt)(\\w+[.]java)$;Kt$1;&#39; $(echo $javas)\r\n```\r\n\r\nThis is a little overzealous, but rolling back some of the changes was quick and painless. Also, Arch Linux doesn&#39;t have perl-rename installed by default, so that&#39;s needed.\r\n\r\n---\r\n\r\nAnother solution is to create a [Kotlin IDEA plug-in](https://news.ycombinator.com/item?id=34494072):\r\n\r\n1. Install, run, then import the project into [IDEA][1].\r\n1. Install the Kotlin plug-in for IDEA.\r\n1. Press &lt;kbd&gt;Ctrl+Shift+A&lt;/kbd&gt; to open the **Script Engine** menu.\r\n1. Select **Kotlin**.\r\n1. Paste the script (given below).\r\n1. Press &lt;kbd&gt;Ctrl+A&lt;/kbd&gt; to select the script.\r\n1. Press &lt;kbd&gt;Ctrl+Enter&lt;/kbd&gt; to integrate the script into the IDE.\r\n1. Open the **Project** window.\r\n1. Select a single package directory (i.e., a root-level package).\r\n1. Click **Navigate &gt;&gt; Search Everywhere**.\r\n1. Click the **Actions** tab.\r\n1. Search for: `Bulk`\r\n1. Select **Bulk refactor**.\r\n\r\nThe classes are renamed. Note: There may be prompts for shadowing class names and other trivial issues to resolve.\r\n\r\n**Script**\r\n\r\n``` kotlin\r\n@file:Suppress(&quot;NAME_SHADOWING&quot;)\r\n\r\n  import com.intellij.notification.Notification\r\n  import com.intellij.notification.NotificationType\r\n  import com.intellij.notification.Notifications\r\n  import com.intellij.openapi.actionSystem.*\r\n  import com.intellij.openapi.keymap.KeymapManager\r\n  import com.intellij.openapi.command.WriteCommandAction\r\n  import com.intellij.psi.*\r\n  import com.intellij.psi.search.*\r\n  import com.intellij.refactoring.rename.RenameProcessor\r\n  import com.intellij.util.ThrowableConsumer\r\n  import java.io.PrintWriter\r\n  import java.io.StringWriter\r\n  import javax.swing.KeyStroke\r\n\r\n  // Usage: In IDEA: Tools -&gt; IDE Scripting Console -&gt; Kotlin\r\n  // Ctrl+A, Ctrl+Enter to run the script\r\n  // Select folder containing target classes, Ctrl+Shift+A to open action menu, search for Bulk refactor\r\n\r\n  //&lt;editor-fold desc=&quot;Boilerplate&quot;&gt;\r\n  val b = bindings as Map&lt;*, *&gt;\r\n  val IDE = b[&quot;IDE&quot;] as com.intellij.ide.script.IDE\r\n\r\n  fun registerAction(\r\n    name: String,\r\n    keyBind: String? = null,\r\n    consumer: ThrowableConsumer&lt;AnActionEvent, Throwable&gt;\r\n  ) {\r\n    registerAction(name, keyBind, object : AnAction() {\r\n      override fun actionPerformed(event: AnActionEvent) {\r\n        try {\r\n          consumer.consume(event);\r\n        } catch (t: Throwable) {\r\n          val sw = StringWriter()\r\n          t.printStackTrace(PrintWriter(sw))\r\n          log(&quot;Exception in action $name: $t\\n\\n\\n$sw&quot;, NotificationType.ERROR)\r\n          throw t\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  fun registerAction(name: String, keyBind: String? = null, action: AnAction) {\r\n    action.templatePresentation.text = name;\r\n    action.templatePresentation.description = name;\r\n\r\n    KeymapManager.getInstance().activeKeymap.removeAllActionShortcuts(name);\r\n    ActionManager.getInstance().unregisterAction(name);\r\n    ActionManager.getInstance().registerAction(name, action);\r\n\r\n    if (keyBind != null) {\r\n      KeymapManager.getInstance().activeKeymap.addShortcut(\r\n        name,\r\n        KeyboardShortcut(KeyStroke.getKeyStroke(keyBind), null)\r\n      );\r\n    }\r\n  }\r\n\r\n  fun log(msg: String, notificationType: NotificationType = NotificationType.INFORMATION) {\r\n    log(&quot;Scripted Action&quot;, msg, notificationType)\r\n  }\r\n\r\n  fun log(\r\n    title: String,\r\n    msg: String,\r\n    notificationType: NotificationType = NotificationType.INFORMATION\r\n  ) {\r\n    Notifications.Bus.notify(\r\n      Notification(\r\n        &quot;scriptedAction&quot;,\r\n        title,\r\n        msg,\r\n        notificationType\r\n      )\r\n    )\r\n  }\r\n  //&lt;/editor-fold&gt;\r\n\r\n  registerAction(&quot;Bulk refactor&quot;) lambda@{ event -&gt;\r\n    val project = event.project ?: return@lambda;\r\n    val psiElement = event.getData(LangDataKeys.PSI_ELEMENT) ?: return@lambda\r\n\r\n    log(&quot;Bulk refactor for: $psiElement&quot;)\r\n\r\n    WriteCommandAction.writeCommandAction(event.project).withGlobalUndo().run&lt;Throwable&gt; {\r\n      psiElement.accept(object : PsiRecursiveElementWalkingVisitor() {\r\n        override fun visitElement(element: PsiElement) {\r\n          super.visitElement(element);\r\n          if (element !is PsiClass) {\r\n            return\r\n          }\r\n\r\n          if(element.name?.startsWith(&quot;Renamed&quot;) == false) {\r\n            log(&quot;Renaming $element&quot;)\r\n\r\n            // arg4 = isSearchInComments\r\n            // arg5 = isSearchTextOccurrences\r\n            val processor = object : RenameProcessor(project, element, &quot;Renamed&quot; + element.name, false, false) {\r\n              override fun isPreviewUsages(usages: Array&lt;out UsageInfo&gt;): Boolean {\r\n                return false\r\n              }\r\n            }\r\n  \r\n            processor.run()\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n```\r\n\r\n\r\n  [1]: https://www.jetbrains.com/idea/download/","title":"Bulk rename of Java classes","body":"<p>A few solutions courtesy of HackerNews.</p>\n<hr />\n<p>A <a href=\"https://news.ycombinator.com/item?id=34496280\" rel=\"nofollow noreferrer\">shell script</a>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!/usr/bin/env bash\n\njavas=$(find . -regex '.*\\.java$')\nsed -i -E &quot;$(printf 's/\\\\&lt;(%s)\\\\&gt;/Kt\\\\1/g;' $(grep -hrPo '\\b(class|interface|record|enum) (?!Kt)(?!List\\b)(?!Entry\\b)\\K[A-Z]\\w+'))&quot; $(echo $javas); \nperl-rename 's;\\b(?!Kt)(\\w+[.]java)$;Kt$1;' $(echo $javas)\n</code></pre>\n<p>This is a little overzealous, but rolling back some of the changes was quick and painless. Also, Arch Linux doesn't have perl-rename installed by default, so that's needed.</p>\n<hr />\n<p>Another solution is to create a <a href=\"https://news.ycombinator.com/item?id=34494072\" rel=\"nofollow noreferrer\">Kotlin IDEA plug-in</a>:</p>\n<ol>\n<li>Install, run, then import the project into <a href=\"https://www.jetbrains.com/idea/download/\" rel=\"nofollow noreferrer\">IDEA</a>.</li>\n<li>Install the Kotlin plug-in for IDEA.</li>\n<li>Press <kbd>Ctrl+Shift+A</kbd> to open the <strong>Script Engine</strong> menu.</li>\n<li>Select <strong>Kotlin</strong>.</li>\n<li>Paste the script (given below).</li>\n<li>Press <kbd>Ctrl+A</kbd> to select the script.</li>\n<li>Press <kbd>Ctrl+Enter</kbd> to integrate the script into the IDE.</li>\n<li>Open the <strong>Project</strong> window.</li>\n<li>Select a single package directory (i.e., a root-level package).</li>\n<li>Click <strong>Navigate &gt;&gt; Search Everywhere</strong>.</li>\n<li>Click the <strong>Actions</strong> tab.</li>\n<li>Search for: <code>Bulk</code></li>\n<li>Select <strong>Bulk refactor</strong>.</li>\n</ol>\n<p>The classes are renamed. Note: There may be prompts for shadowing class names and other trivial issues to resolve.</p>\n<p><strong>Script</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@file:Suppress(&quot;NAME_SHADOWING&quot;)\n\n  import com.intellij.notification.Notification\n  import com.intellij.notification.NotificationType\n  import com.intellij.notification.Notifications\n  import com.intellij.openapi.actionSystem.*\n  import com.intellij.openapi.keymap.KeymapManager\n  import com.intellij.openapi.command.WriteCommandAction\n  import com.intellij.psi.*\n  import com.intellij.psi.search.*\n  import com.intellij.refactoring.rename.RenameProcessor\n  import com.intellij.util.ThrowableConsumer\n  import java.io.PrintWriter\n  import java.io.StringWriter\n  import javax.swing.KeyStroke\n\n  // Usage: In IDEA: Tools -&gt; IDE Scripting Console -&gt; Kotlin\n  // Ctrl+A, Ctrl+Enter to run the script\n  // Select folder containing target classes, Ctrl+Shift+A to open action menu, search for Bulk refactor\n\n  //&lt;editor-fold desc=&quot;Boilerplate&quot;&gt;\n  val b = bindings as Map&lt;*, *&gt;\n  val IDE = b[&quot;IDE&quot;] as com.intellij.ide.script.IDE\n\n  fun registerAction(\n    name: String,\n    keyBind: String? = null,\n    consumer: ThrowableConsumer&lt;AnActionEvent, Throwable&gt;\n  ) {\n    registerAction(name, keyBind, object : AnAction() {\n      override fun actionPerformed(event: AnActionEvent) {\n        try {\n          consumer.consume(event);\n        } catch (t: Throwable) {\n          val sw = StringWriter()\n          t.printStackTrace(PrintWriter(sw))\n          log(&quot;Exception in action $name: $t\\n\\n\\n$sw&quot;, NotificationType.ERROR)\n          throw t\n        }\n      }\n    });\n  }\n\n  fun registerAction(name: String, keyBind: String? = null, action: AnAction) {\n    action.templatePresentation.text = name;\n    action.templatePresentation.description = name;\n\n    KeymapManager.getInstance().activeKeymap.removeAllActionShortcuts(name);\n    ActionManager.getInstance().unregisterAction(name);\n    ActionManager.getInstance().registerAction(name, action);\n\n    if (keyBind != null) {\n      KeymapManager.getInstance().activeKeymap.addShortcut(\n        name,\n        KeyboardShortcut(KeyStroke.getKeyStroke(keyBind), null)\n      );\n    }\n  }\n\n  fun log(msg: String, notificationType: NotificationType = NotificationType.INFORMATION) {\n    log(&quot;Scripted Action&quot;, msg, notificationType)\n  }\n\n  fun log(\n    title: String,\n    msg: String,\n    notificationType: NotificationType = NotificationType.INFORMATION\n  ) {\n    Notifications.Bus.notify(\n      Notification(\n        &quot;scriptedAction&quot;,\n        title,\n        msg,\n        notificationType\n      )\n    )\n  }\n  //&lt;/editor-fold&gt;\n\n  registerAction(&quot;Bulk refactor&quot;) lambda@{ event -&gt;\n    val project = event.project ?: return@lambda;\n    val psiElement = event.getData(LangDataKeys.PSI_ELEMENT) ?: return@lambda\n\n    log(&quot;Bulk refactor for: $psiElement&quot;)\n\n    WriteCommandAction.writeCommandAction(event.project).withGlobalUndo().run&lt;Throwable&gt; {\n      psiElement.accept(object : PsiRecursiveElementWalkingVisitor() {\n        override fun visitElement(element: PsiElement) {\n          super.visitElement(element);\n          if (element !is PsiClass) {\n            return\n          }\n\n          if(element.name?.startsWith(&quot;Renamed&quot;) == false) {\n            log(&quot;Renaming $element&quot;)\n\n            // arg4 = isSearchInComments\n            // arg5 = isSearchTextOccurrences\n            val processor = object : RenameProcessor(project, element, &quot;Renamed&quot; + element.name, false, false) {\n              override fun isPreviewUsages(usages: Array&lt;out UsageInfo&gt;): Boolean {\n                return false\n              }\n            }\n  \n            processor.run()\n          }\n        }\n      })\n    }\n  }\n</code></pre>\n"}],"owner":{"account_id":23551,"reputation":30672,"user_id":59087,"accept_rate":99,"display_name":"Dave Jarvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":75216573,"answer_count":2,"score":4,"last_activity_date":1674532333,"creation_date":1674013828,"question_id":75154524,"body_markdown":"# Background\r\n\r\nHundreds of class files need to be renamed with a prefix. For example, rename these:\r\n\r\n* com.domain.project.Mary\r\n* com.domain.project.Jones\r\n* com.domain.project.package.Locket\r\n* com.domain.project.package.Washington\r\n\r\nto these:\r\n\r\n* com.domain.project.PrefixMary\r\n* com.domain.project.PrefixJones\r\n* com.domain.project.package.PrefixLocket\r\n* com.domain.project.package.PrefixWashington\r\n\r\nSuch a rename could use a regular expression on the corresponding `.java` filename, such as:\r\n\r\n``` regex\r\n(.+)\\.(.+) -&gt; Prefix$1\\.$2\r\n```\r\n\r\n# Problem\r\n\r\nMost solutions describe renaming files. Renaming files won&#39;t work because it leaves the class references unchanged, resulting in a broken build.\r\n\r\n# Question\r\n\r\nHow would you rename Java source files en mass (in bulk) so that all references are also updated, without performing hundreds of actions manually (i.e., one per file)?\r\n\r\n# Ideas\r\n\r\n* [refactobot][1] is inscrutable, but looks promising.\r\n* [Spoon][2]&#39;s Refactoring API is too buggy and introduced broken code.\r\n* [JavaParser][3] doesn&#39;t appear to have a concept of related references. Renaming the class resulted in only the class name being changed, but not its constructor, much less other references. This would require a visitor pattern, but even so the output from JavaParser loses formatting and may introduce other issues.\r\n* [CodART][4] could help refactor the class names.\r\n* Rename the files using a regular expression and the `find` command, then use an IDE to fix all the problems. I couldn&#39;t see a way for IntelliJ IDEA to correct errors in bulk, which means fixing hundreds of issues one at a time.\r\n* Use IntelliJ IDEA&#39;s &quot;replace structurally&quot; functionality. This doesn&#39;t perform refactoring, resulting in a broken build. Also, there&#39;s no easy way to distinguish between files that have already been renamed and files that haven&#39;t: you have to rename by selecting classes in batches.\r\n* Use IntelliJ&#39;s [RenameProcessor][5] API to perform renaming. There doesn&#39;t appear to be a fine-grained separation of packages that can be pulled from a central repository.\r\n* Use an IDEA plug-in, such as [RenameFilesRefactorBatch][6]. The plug-in has been updated to support regular expressions, making it the most promising candidate.\r\n\r\n## IDEA\r\n\r\nThe main stumbling block with using IDEA is that although it can detect the problems as &quot;Project Errors&quot; when renaming the files, it offers no way to resolve the all the errors at once:\r\n\r\n[![IDEA-01][7]][7]\r\n\r\nThe screenshot shows `Glue` and `Num` having been renamed to `KtGlue` and `KtNum`, respectively. There&#39;s no way to select multiple items, and the context menu does not have an option to automatically fix the problems.\r\n\r\n\r\n  [1]: https://github.com/qaware/refactobot\r\n  [2]: https://spoon.gforge.inria.fr/mvnsites/spoon-core/apidocs/spoon/refactoring/CtRefactoring.html\r\n  [3]: https://javaparser.org/\r\n  [4]: https://github.com/m-zakeri/CodART\r\n  [5]: https://github.com/JetBrains/intellij-community/blob/master/platform/lang-impl/src/com/intellij/refactoring/rename/RenameProcessor.java\r\n  [6]: https://github.com/Miura-KR/RenameFilesRefactorBatch-intellij\r\n  [7]: https://i.stack.imgur.com/C5XVi.png","title":"Bulk rename of Java classes","body":"<h1>Background</h1>\n<p>Hundreds of class files need to be renamed with a prefix. For example, rename these:</p>\n<ul>\n<li>com.domain.project.Mary</li>\n<li>com.domain.project.Jones</li>\n<li>com.domain.project.package.Locket</li>\n<li>com.domain.project.package.Washington</li>\n</ul>\n<p>to these:</p>\n<ul>\n<li>com.domain.project.PrefixMary</li>\n<li>com.domain.project.PrefixJones</li>\n<li>com.domain.project.package.PrefixLocket</li>\n<li>com.domain.project.package.PrefixWashington</li>\n</ul>\n<p>Such a rename could use a regular expression on the corresponding <code>.java</code> filename, such as:</p>\n<pre><code>(.+)\\.(.+) -&gt; Prefix$1\\.$2\n</code></pre>\n<h1>Problem</h1>\n<p>Most solutions describe renaming files. Renaming files won't work because it leaves the class references unchanged, resulting in a broken build.</p>\n<h1>Question</h1>\n<p>How would you rename Java source files en mass (in bulk) so that all references are also updated, without performing hundreds of actions manually (i.e., one per file)?</p>\n<h1>Ideas</h1>\n<ul>\n<li><a href=\"https://github.com/qaware/refactobot\" rel=\"nofollow noreferrer\">refactobot</a> is inscrutable, but looks promising.</li>\n<li><a href=\"https://spoon.gforge.inria.fr/mvnsites/spoon-core/apidocs/spoon/refactoring/CtRefactoring.html\" rel=\"nofollow noreferrer\">Spoon</a>'s Refactoring API is too buggy and introduced broken code.</li>\n<li><a href=\"https://javaparser.org/\" rel=\"nofollow noreferrer\">JavaParser</a> doesn't appear to have a concept of related references. Renaming the class resulted in only the class name being changed, but not its constructor, much less other references. This would require a visitor pattern, but even so the output from JavaParser loses formatting and may introduce other issues.</li>\n<li><a href=\"https://github.com/m-zakeri/CodART\" rel=\"nofollow noreferrer\">CodART</a> could help refactor the class names.</li>\n<li>Rename the files using a regular expression and the <code>find</code> command, then use an IDE to fix all the problems. I couldn't see a way for IntelliJ IDEA to correct errors in bulk, which means fixing hundreds of issues one at a time.</li>\n<li>Use IntelliJ IDEA's &quot;replace structurally&quot; functionality. This doesn't perform refactoring, resulting in a broken build. Also, there's no easy way to distinguish between files that have already been renamed and files that haven't: you have to rename by selecting classes in batches.</li>\n<li>Use IntelliJ's <a href=\"https://github.com/JetBrains/intellij-community/blob/master/platform/lang-impl/src/com/intellij/refactoring/rename/RenameProcessor.java\" rel=\"nofollow noreferrer\">RenameProcessor</a> API to perform renaming. There doesn't appear to be a fine-grained separation of packages that can be pulled from a central repository.</li>\n<li>Use an IDEA plug-in, such as <a href=\"https://github.com/Miura-KR/RenameFilesRefactorBatch-intellij\" rel=\"nofollow noreferrer\">RenameFilesRefactorBatch</a>. The plug-in has been updated to support regular expressions, making it the most promising candidate.</li>\n</ul>\n<h2>IDEA</h2>\n<p>The main stumbling block with using IDEA is that although it can detect the problems as &quot;Project Errors&quot; when renaming the files, it offers no way to resolve the all the errors at once:</p>\n<p><a href=\"https://i.stack.imgur.com/C5XVi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C5XVi.png\" alt=\"IDEA-01\" /></a></p>\n<p>The screenshot shows <code>Glue</code> and <code>Num</code> having been renamed to <code>KtGlue</code> and <code>KtNum</code>, respectively. There's no way to select multiple items, and the context menu does not have an option to automatically fix the problems.</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":17933563,"reputation":25,"user_id":13030369,"display_name":"Dương Th&#225;i"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674532326,"creation_date":1674532326,"answer_id":75217239,"question_id":75217215,"body_markdown":"u can try this way &lt;br&gt;\r\nreplace id_user -&gt; id\r\n```\r\n@Query(&quot;SELECT p FROM Project p WHERE p.id = :id&quot;) \r\nList&lt;Project&gt; findProjectByUser(Long id);\r\n```\r\nor replace id -&gt; id_user if u want\r\n```\r\n@Query(&quot;SELECT p FROM Project p WHERE p.id = :id_user&quot;) \r\nList&lt;Project&gt; findProjectByUser(Long id_user);\r\n```\r\n\r\nI hope it works\r\n\r\n","title":"Personalized Query JPA","body":"<p>u can try this way <br>\nreplace id_user -&gt; id</p>\n<pre><code>@Query(&quot;SELECT p FROM Project p WHERE p.id = :id&quot;) \nList&lt;Project&gt; findProjectByUser(Long id);\n</code></pre>\n<p>or replace id -&gt; id_user if u want</p>\n<pre><code>@Query(&quot;SELECT p FROM Project p WHERE p.id = :id_user&quot;) \nList&lt;Project&gt; findProjectByUser(Long id_user);\n</code></pre>\n<p>I hope it works</p>\n"}],"owner":{"account_id":18312681,"reputation":11,"user_id":19496254,"display_name":"Murillo N.S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674532326,"creation_date":1674532001,"question_id":75217215,"body_markdown":"I&#39;m creating a project manager, where the user can have multiple projects, but a project can only belong to one user (@OnetoMany). I managed to make the relationship and everything, the problem is that I wanted to make a custom query displaying all the projects of only one user. Could you give me an idea of ​​how to do this custom query, please?\r\n\r\n**Relationship in User Class**\r\n\r\n```\r\n@OneToMany(cascade = CascadeType.ALL) @JoinColumn(name = &quot;id_user&quot;) private List&lt;Project&gt; projects = new ArrayList&lt;&gt;();\r\n```\r\n\r\n**ProjectController Class**\r\n\r\n```\r\n@GetMapping(&quot;/listar/{userId}&quot;) public ResponseEntity&lt;List&lt;Project&gt;&gt; listProjectsByUser(@PathVariable Long userId) { return ResponseEntity.ok(projectService.listProjectsByUser(userId));}\r\n```\r\n\r\n**ProjectService Class**\r\n\r\n```\r\npublic List&lt;Project&gt; listProjectsByUser(Long userId) { return projectRepository.findProjectByUser(userId);}\r\n```\r\n\r\nFinally the @Query created in **ProjectRepository Class**\r\n\r\n```\r\n@Query(&quot;SELECT p FROM Project p WHERE p.id = :id_user&quot;) List&lt;Project&gt; findProjectByUser(Long id);\r\n```\r\n\r\nThis is the Projects table that is being generated by JPA, notice that I am trying to do a &quot;SELECT&quot; using the column &quot;id_user&quot;\r\n\r\n[![Projects&#39; Table](https://i.stack.imgur.com/AXz3R.png)](https://i.stack.imgur.com/AXz3R.png)\r\n\r\nI tried make this Query, but it gives this error\r\n\r\nNamed parameter not bound : id_user; nested exception is org.hibernate.QueryException: Named parameter not bound : id_user","title":"Personalized Query JPA","body":"<p>I'm creating a project manager, where the user can have multiple projects, but a project can only belong to one user (@OnetoMany). I managed to make the relationship and everything, the problem is that I wanted to make a custom query displaying all the projects of only one user. Could you give me an idea of ​​how to do this custom query, please?</p>\n<p><strong>Relationship in User Class</strong></p>\n<pre><code>@OneToMany(cascade = CascadeType.ALL) @JoinColumn(name = &quot;id_user&quot;) private List&lt;Project&gt; projects = new ArrayList&lt;&gt;();\n</code></pre>\n<p><strong>ProjectController Class</strong></p>\n<pre><code>@GetMapping(&quot;/listar/{userId}&quot;) public ResponseEntity&lt;List&lt;Project&gt;&gt; listProjectsByUser(@PathVariable Long userId) { return ResponseEntity.ok(projectService.listProjectsByUser(userId));}\n</code></pre>\n<p><strong>ProjectService Class</strong></p>\n<pre><code>public List&lt;Project&gt; listProjectsByUser(Long userId) { return projectRepository.findProjectByUser(userId);}\n</code></pre>\n<p>Finally the @Query created in <strong>ProjectRepository Class</strong></p>\n<pre><code>@Query(&quot;SELECT p FROM Project p WHERE p.id = :id_user&quot;) List&lt;Project&gt; findProjectByUser(Long id);\n</code></pre>\n<p>This is the Projects table that is being generated by JPA, notice that I am trying to do a &quot;SELECT&quot; using the column &quot;id_user&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/AXz3R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AXz3R.png\" alt=\"Projects' Table\" /></a></p>\n<p>I tried make this Query, but it gives this error</p>\n<p>Named parameter not bound : id_user; nested exception is org.hibernate.QueryException: Named parameter not bound : id_user</p>\n"},{"tags":["java","spring","spring-boot","azure","azure-active-directory"],"answers":[{"tags":[],"owner":{"account_id":1657072,"reputation":1220,"user_id":1526322,"accept_rate":100,"display_name":"Knox"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1653250036,"creation_date":1653250036,"answer_id":72340954,"question_id":72340523,"body_markdown":"The `APPROLE_` prefix is coming from a default property configuration from Spring Cloud Azure.\r\n\r\n```\r\nspring.cloud.azure.active-directory.resource-server.claim-to-authority-prefix-map\r\n```\r\n\r\n&gt; Configure which claim will be used to build GrantedAuthority, and prefix of the GrantedAuthority’s string value. Default value is: &quot;scp&quot; → &quot;SCOPE_&quot;, &quot;roles&quot; → &quot;APPROLE_&quot;.\r\n\r\n\r\n[Documentation link][1]\r\n\r\nYou can update the property with a desired prefix:\r\n```yaml\r\nspring:\r\n  cloud:\r\n    azure:\r\n      active-directory:\r\n        resource-server:\r\n          claim-to-authority-prefix-map:\r\n            roles: &quot;&quot; # no prefix\r\n            scp: &quot;MY_SCP_PREFIX_&quot;\r\n```\r\n\r\n\r\n\r\n  [1]: https://microsoft.github.io/spring-cloud-azure/docs/4.0.0-beta.1/reference/html/index.html#configuration-6","title":"why it is called &#39;APPROLE_Admin&#39; instead of &#39;Admin&#39; in Spring boot App secured by Azure AD","body":"<p>The <code>APPROLE_</code> prefix is coming from a default property configuration from Spring Cloud Azure.</p>\n<pre><code>spring.cloud.azure.active-directory.resource-server.claim-to-authority-prefix-map\n</code></pre>\n<blockquote>\n<p>Configure which claim will be used to build GrantedAuthority, and prefix of the GrantedAuthority’s string value. Default value is: &quot;scp&quot; → &quot;SCOPE_&quot;, &quot;roles&quot; → &quot;APPROLE_&quot;.</p>\n</blockquote>\n<p><a href=\"https://microsoft.github.io/spring-cloud-azure/docs/4.0.0-beta.1/reference/html/index.html#configuration-6\" rel=\"nofollow noreferrer\">Documentation link</a></p>\n<p>You can update the property with a desired prefix:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  cloud:\n    azure:\n      active-directory:\n        resource-server:\n          claim-to-authority-prefix-map:\n            roles: &quot;&quot; # no prefix\n            scp: &quot;MY_SCP_PREFIX_&quot;\n</code></pre>\n"}],"owner":{"account_id":96255,"reputation":191,"user_id":261708,"accept_rate":44,"display_name":"One Developer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72340954,"answer_count":1,"score":3,"last_activity_date":1674531554,"creation_date":1653246170,"question_id":72340523,"body_markdown":"I followed the article, https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory and created an App role\r\n\r\n[![enter image description here][1]][1]\r\n\r\nand assigned the user\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nin the spring boot application, I have to use &#39;APPROLE_Admin&#39; instead of &#39;Admin&#39; ? why? it is supposed to be only &#39;Admin&#39;, correct?\r\n\r\n    @CrossOrigin(origins = &quot;http://localhost:8080&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class TutorialController {\r\n    \r\n    \t@Autowired\r\n    \tTutorialRepository tutorialRepository;\r\n    \r\n    \t@PreAuthorize(&quot;hasAuthority(&#39;APPROLE_Admin&#39;)&quot;)\r\n    \t@GetMapping(&quot;/tutorials&quot;)\r\n\r\n  [1]: https://i.stack.imgur.com/DI8QO.png\r\n  [2]: https://i.stack.imgur.com/vbFN5.png","title":"why it is called &#39;APPROLE_Admin&#39; instead of &#39;Admin&#39; in Spring boot App secured by Azure AD","body":"<p>I followed the article, <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory</a> and created an App role</p>\n<p><a href=\"https://i.stack.imgur.com/DI8QO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DI8QO.png\" alt=\"enter image description here\" /></a></p>\n<p>and assigned the user</p>\n<p><a href=\"https://i.stack.imgur.com/vbFN5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vbFN5.png\" alt=\"enter image description here\" /></a></p>\n<p>in the spring boot application, I have to use 'APPROLE_Admin' instead of 'Admin' ? why? it is supposed to be only 'Admin', correct?</p>\n<pre><code>@CrossOrigin(origins = &quot;http://localhost:8080&quot;)\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class TutorialController {\n\n    @Autowired\n    TutorialRepository tutorialRepository;\n\n    @PreAuthorize(&quot;hasAuthority('APPROLE_Admin')&quot;)\n    @GetMapping(&quot;/tutorials&quot;)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","rest","jpa"],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674529046,"creation_date":1644373417,"answer_id":71043273,"question_id":71042498,"body_markdown":"The `http protocol` rules are not strictly applied when it comes to implements `REST Api` with `Data Access Layer`. Lets say, in the case of `Spring Boot` or any another framework, the URI you execute just trigger a `Service` that access to your database. \r\n\r\nThe reality is that, you can even use a `GET` or a `POST` in place of the `PUT`, it will work.\r\nHere, your resources is a database or your records (in your database), and your `http` calls don&#39;t directly interact with your database, but it is your `Service Layer` throught your `Spring Data Api`.\r\n\r\n&gt; In short, if the resource exists, it is modified; if it does not exist\r\n&gt; it is created according to the provided id\r\n\r\nIn this case this is your `save` method that will create or update your record.\r\n\r\nI would suggest you this refactoring :\r\n\r\n\r\n    @PutMapping(&quot;/items&quot;)\r\n    public ResponseEntity&lt;Item&gt; update(\r\n           @PathVariable(&quot;id&quot;) Long id,\r\n           @RequestBody Item itemToUpdate) {\r\n    \r\n       Optional&lt;Item&gt; updatedItem = service.update(id, itemToUpdate);\r\n    \r\n       return updatedItem\r\n               .map(value -&gt; ResponseEntity.ok().body(value))\r\n               .orElseGet(() -&gt; {\r\n                   Item createdItem = service.create(itemToUpdate);\r\n                   URI location = ServletUriComponentsBuilder.fromCurrentRequest()\r\n                           .path(&quot;/{id}&quot;)\r\n                           .buildAndExpand(createdItem.getId())\r\n                            .toUri();\r\n                    return ResponseEntity.created(location).body(createdItem);\r\n            });\r\n    }\r\n","title":"How to implement a PUT correctly in Spring boot?","body":"<p>The <code>http protocol</code> rules are not strictly applied when it comes to implements <code>REST Api</code> with <code>Data Access Layer</code>. Lets say, in the case of <code>Spring Boot</code> or any another framework, the URI you execute just trigger a <code>Service</code> that access to your database.</p>\n<p>The reality is that, you can even use a <code>GET</code> or a <code>POST</code> in place of the <code>PUT</code>, it will work.\nHere, your resources is a database or your records (in your database), and your <code>http</code> calls don't directly interact with your database, but it is your <code>Service Layer</code> throught your <code>Spring Data Api</code>.</p>\n<blockquote>\n<p>In short, if the resource exists, it is modified; if it does not exist\nit is created according to the provided id</p>\n</blockquote>\n<p>In this case this is your <code>save</code> method that will create or update your record.</p>\n<p>I would suggest you this refactoring :</p>\n<pre><code>@PutMapping(&quot;/items&quot;)\npublic ResponseEntity&lt;Item&gt; update(\n       @PathVariable(&quot;id&quot;) Long id,\n       @RequestBody Item itemToUpdate) {\n\n   Optional&lt;Item&gt; updatedItem = service.update(id, itemToUpdate);\n\n   return updatedItem\n           .map(value -&gt; ResponseEntity.ok().body(value))\n           .orElseGet(() -&gt; {\n               Item createdItem = service.create(itemToUpdate);\n               URI location = ServletUriComponentsBuilder.fromCurrentRequest()\n                       .path(&quot;/{id}&quot;)\n                       .buildAndExpand(createdItem.getId())\n                        .toUri();\n                return ResponseEntity.created(location).body(createdItem);\n        });\n}\n</code></pre>\n"}],"owner":{"account_id":22707560,"reputation":17,"user_id":16873990,"display_name":"Winter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1848,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71043273,"answer_count":1,"score":0,"last_activity_date":1674529046,"creation_date":1644365553,"question_id":71042498,"body_markdown":"Attempt to correctly implement a `Put`, according to `RFC 2616`.\r\n\r\n&gt; &quot;The PUT method requests that the enclosed entity be stored under the\r\n&gt; supplied Request-URI. If the Request-URI refers to an already existing\r\n&gt; resource, the enclosed entity SHOULD be considered as a modified\r\n&gt; version of the one residing on the origin server. If the Request-URI\r\n&gt; does not point to an existing resource, and that URI is capable of\r\n&gt; being defined as a new resource by the requesting user agent, the\r\n&gt; origin server can create the resource with that URI.&quot;\r\n\r\nIn short, if the resource exists, it is modified; if it does not exist it is created according to the provided `id`.\r\nNow I have such an implementation, `RFC 2616` states that when an element is created it must also return the location URI.\r\nAnd I am left like this. \r\n\r\n```\r\n@PutMapping(&quot;/{id}&quot;)\r\npublic ResponseEntity&lt;Item&gt; update(\r\n       @PathVariable(&quot;id&quot;) Long id,\r\n       @RequestBody Item updatedItem) {\r\n\r\n   Optional&lt;Item&gt; updated = service.update(id, updatedItem);\r\n\r\n   return updated\r\n           .map(value -&gt; ResponseEntity.ok().body(value))\r\n           .orElseGet(() -&gt; {\r\n               Item created = service.create(updatedItem);\r\n               URI location = ServletUriComponentsBuilder.fromCurrentRequest()\r\n                       .path(&quot;/{id}&quot;)\r\n                       .buildAndExpand(created.getId())\r\n                        .toUri();\r\n                   return ResponseEntity.created(location).body(created);\r\n            });\r\n}\r\n```\r\n\r\nThe problem is that the `Optional`, so for good practices it should be consumed and checked in the services.  \r\nThe other problem is the mapping of the entity, which should go in the service, but I don&#39;t know how to separate it if the URI location goes in between...\r\n\r\nAny solution on how to refactor it? \r\nConsidering that the optionals are consumed in the service and the same with the mapping, but the URI goes in the controller.\r\n\r\n\r\n","title":"How to implement a PUT correctly in Spring boot?","body":"<p>Attempt to correctly implement a <code>Put</code>, according to <code>RFC 2616</code>.</p>\n<blockquote>\n<p>&quot;The PUT method requests that the enclosed entity be stored under the\nsupplied Request-URI. If the Request-URI refers to an already existing\nresource, the enclosed entity SHOULD be considered as a modified\nversion of the one residing on the origin server. If the Request-URI\ndoes not point to an existing resource, and that URI is capable of\nbeing defined as a new resource by the requesting user agent, the\norigin server can create the resource with that URI.&quot;</p>\n</blockquote>\n<p>In short, if the resource exists, it is modified; if it does not exist it is created according to the provided <code>id</code>.\nNow I have such an implementation, <code>RFC 2616</code> states that when an element is created it must also return the location URI.\nAnd I am left like this.</p>\n<pre><code>@PutMapping(&quot;/{id}&quot;)\npublic ResponseEntity&lt;Item&gt; update(\n       @PathVariable(&quot;id&quot;) Long id,\n       @RequestBody Item updatedItem) {\n\n   Optional&lt;Item&gt; updated = service.update(id, updatedItem);\n\n   return updated\n           .map(value -&gt; ResponseEntity.ok().body(value))\n           .orElseGet(() -&gt; {\n               Item created = service.create(updatedItem);\n               URI location = ServletUriComponentsBuilder.fromCurrentRequest()\n                       .path(&quot;/{id}&quot;)\n                       .buildAndExpand(created.getId())\n                        .toUri();\n                   return ResponseEntity.created(location).body(created);\n            });\n}\n</code></pre>\n<p>The problem is that the <code>Optional</code>, so for good practices it should be consumed and checked in the services.<br />\nThe other problem is the mapping of the entity, which should go in the service, but I don't know how to separate it if the URI location goes in between...</p>\n<p>Any solution on how to refactor it?\nConsidering that the optionals are consumed in the service and the same with the mapping, but the URI goes in the controller.</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":9698238,"reputation":548,"user_id":7194004,"display_name":"brianNotBob"},"score":0,"creation_date":1640960804,"post_id":64315523,"comment_id":124699469,"body_markdown":"I assumed you were using spring boot.  My project inherits [spring-boot-starter-parent](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.parent-pom)\n.  There is also a spring-boot [Bill of Materials](https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.import).  Both approaches ensure that the correct version of  `spring-framework-bom`  is imported, as well as a bunch of other boms.  It&#39;s nice to let spring boot manage the versions.","body":"I assumed you were using spring boot.  My project inherits <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.parent-pom\" rel=\"nofollow noreferrer\">spring-boot-starter-parent</a> .  There is also a spring-boot <a href=\"https://docs.spring.io/spring-boot/docs/current/maven-plugin/reference/htmlsingle/#using.import\" rel=\"nofollow noreferrer\">Bill of Materials</a>.  Both approaches ensure that the correct version of  <code>spring-framework-bom</code>  is imported, as well as a bunch of other boms.  It&#39;s nice to let spring boot manage the versions."}],"tags":[],"owner":{"account_id":2324327,"reputation":271,"user_id":2039186,"accept_rate":56,"display_name":"faenschi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602496432,"creation_date":1602496432,"answer_id":64315523,"question_id":64314256,"body_markdown":"i had to add the springframework-bom dependency in order that all spring dependencies got updated correctly!\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${spring-framework.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\nwithout it, spring-beans, spring-aop and a lot more were not updated","title":"Factory method &#39;mvcResourceUrlProvider&#39; threw exception; nested exception is java.lang.NoSuchFieldError: defaultInstance","body":"<p>i had to add the springframework-bom dependency in order that all spring dependencies got updated correctly!</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-framework-bom&lt;/artifactId&gt;\n            &lt;version&gt;${spring-framework.version}&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>without it, spring-beans, spring-aop and a lot more were not updated</p>\n"},{"tags":[],"owner":{"account_id":9698238,"reputation":548,"user_id":7194004,"display_name":"brianNotBob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640902181,"creation_date":1640902181,"answer_id":70537170,"question_id":64314256,"body_markdown":"Ran into the same issue.  The issue is that the `org.springframework.web.util.UrlPathHelper` class of spring-web.jar is missing the `defaultInstance` field.\r\n\r\nIn my case, the problem surfaced when upgrading to spring-boot, `2.3.12.RELEASE`.  The cause was because one of my transitive dependencies had a `spring.version` property set to an old version of spring-web.  The version should be inherited from the `spring-boot-starter-parent`.  I removed the property to fix the issue.\r\n\r\nCheck to see if you are doing something similar. You can view a tree of all your project&#39;s dependencies and versions using the maven [dependency](https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html) plugin:\r\n\r\n `mvn dependency:tree`\r\n","title":"Factory method &#39;mvcResourceUrlProvider&#39; threw exception; nested exception is java.lang.NoSuchFieldError: defaultInstance","body":"<p>Ran into the same issue.  The issue is that the <code>org.springframework.web.util.UrlPathHelper</code> class of spring-web.jar is missing the <code>defaultInstance</code> field.</p>\n<p>In my case, the problem surfaced when upgrading to spring-boot, <code>2.3.12.RELEASE</code>.  The cause was because one of my transitive dependencies had a <code>spring.version</code> property set to an old version of spring-web.  The version should be inherited from the <code>spring-boot-starter-parent</code>.  I removed the property to fix the issue.</p>\n<p>Check to see if you are doing something similar. You can view a tree of all your project's dependencies and versions using the maven <a href=\"https://maven.apache.org/plugins/maven-dependency-plugin/tree-mojo.html\" rel=\"nofollow noreferrer\">dependency</a> plugin:</p>\n<p><code>mvn dependency:tree</code></p>\n"}],"owner":{"account_id":2324327,"reputation":271,"user_id":2039186,"accept_rate":56,"display_name":"faenschi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3547,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674528856,"creation_date":1602491440,"question_id":64314256,"body_markdown":"I just upgraded to spring boot 2.3.4.RELEASE and now i have to following error when i try to start the application:\r\n\r\n        2020-10-12 10:16:23.870 ERROR 651 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;webMvcRequestHandlerProvider&#39; defined in URL [jar:file: repository/io/springfox/springfox-spring-webmvc/3.0.0/springfox-spring-webmvc-3.0.0.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;requestMappingHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method &#39;requestMappingHandlerMapping&#39; parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcResourceUrlProvider&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.resource.ResourceUrlProvider]: Factory method &#39;mvcResourceUrlProvider&#39; threw exception; nested exception is java.lang.NoSuchFieldError: defaultInstance\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1203) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\r\n\r\n    \t\r\ndid somebody have the same errors? \r\nregards","title":"Factory method &#39;mvcResourceUrlProvider&#39; threw exception; nested exception is java.lang.NoSuchFieldError: defaultInstance","body":"<p>I just upgraded to spring boot 2.3.4.RELEASE and now i have to following error when i try to start the application:</p>\n<pre><code>    2020-10-12 10:16:23.870 ERROR 651 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webMvcRequestHandlerProvider' defined in URL [jar:file: repository/io/springfox/springfox-spring-webmvc/3.0.0/springfox-spring-webmvc-3.0.0.jar!/springfox/documentation/spring/web/plugins/WebMvcRequestHandlerProvider.class]: Unsatisfied dependency expressed through constructor parameter 2; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'requestMappingHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'requestMappingHandlerMapping' parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcResourceUrlProvider' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.resource.ResourceUrlProvider]: Factory method 'mvcResourceUrlProvider' threw exception; nested exception is java.lang.NoSuchFieldError: defaultInstance\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:227) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1356) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1203) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556) ~[spring-beans-5.2.8.RELEASE.jar:5.2.8.RELEASE]\n\n    \n</code></pre>\n<p>did somebody have the same errors?\nregards</p>\n"},{"tags":["java","string","file","file-io","io"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":8,"creation_date":1227897184,"post_id":326390,"comment_id":165541,"body_markdown":"Can anyone explain me in a very simple way what&#39;s with the NIO? Each time I read about itI get lost in the nth mention of channel :(","body":"Can anyone explain me in a very simple way what&#39;s with the NIO? Each time I read about itI get lost in the nth mention of channel :("},{"owner":{"account_id":1662,"reputation":67129,"user_id":2238,"accept_rate":76,"display_name":"Henrik Paul"},"score":8,"creation_date":1227897344,"post_id":326390,"comment_id":165548,"body_markdown":"do remember that it&#39;s not guaranteed that the line separator in the file isn&#39;t necessary the same as the system&#39;s line separator.","body":"do remember that it&#39;s not guaranteed that the line separator in the file isn&#39;t necessary the same as the system&#39;s line separator."},{"owner":{"account_id":78172,"reputation":5832,"user_id":222651,"accept_rate":50,"display_name":"Deep"},"score":7,"creation_date":1313144962,"post_id":326390,"comment_id":8411080,"body_markdown":"Code above has a bug of adding extra new line char at the last line.\n\nIt should be something like following\n\nif(line = reader.readLine() ) != null){\n\tstringBuilder.append( line );\n}\nwhile (line = reader.readLine() ) != null) {\n        stringBuilder.append( ls );\n\tstringBuilder.append( line );\n}","body":"Code above has a bug of adding extra new line char at the last line.  It should be something like following  if(line = reader.readLine() ) != null){ \tstringBuilder.append( line ); } while (line = reader.readLine() ) != null) {         stringBuilder.append( ls ); \tstringBuilder.append( line ); }"},{"owner":{"account_id":1088545,"reputation":1,"user_id":1083704,"accept_rate":71,"display_name":"Val"},"score":31,"creation_date":1326813644,"post_id":326390,"comment_id":11126242,"body_markdown":"Java 7 introduces `byte[] Files.readAllBytes(file);` To those, who suggest the &#39;one-line&#39; Scanner solution: Don&#39;t yo need to close it?","body":"Java 7 introduces <code>byte[] Files.readAllBytes(file);</code> To those, who suggest the &#39;one-line&#39; Scanner solution: Don&#39;t yo need to close it?"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1426610414,"post_id":326390,"comment_id":46439544,"body_markdown":"@OscarRyz The biggest change for me is that NIO allows you to listen to many ports without allocating a thread for each.  Not a problem unless you want to send a packet to every machine in a class B network address space (65k addresses) to see what exists, Windows runs out of threads at around 20k (Found this out solving exactly this problem--discovery of a class A/B network, before NIO it was tough).","body":"@OscarRyz The biggest change for me is that NIO allows you to listen to many ports without allocating a thread for each.  Not a problem unless you want to send a packet to every machine in a class B network address space (65k addresses) to see what exists, Windows runs out of threads at around 20k (Found this out solving exactly this problem--discovery of a class A/B network, before NIO it was tough)."},{"owner":{"account_id":4333893,"reputation":3295,"user_id":3538581,"display_name":"Rajesh Goel"},"score":0,"creation_date":1496706102,"post_id":326390,"comment_id":75759389,"body_markdown":"If you see the Files.readAllBytes() implementation, you will notice it is using a channel which is closeable. So no need to close it explicitly.","body":"If you see the Files.readAllBytes() implementation, you will notice it is using a channel which is closeable. So no need to close it explicitly."},{"owner":{"account_id":9379,"reputation":4132,"user_id":17304,"accept_rate":0,"display_name":"Piko"},"score":0,"creation_date":1501701145,"post_id":326390,"comment_id":77899235,"body_markdown":"With the advent of Groovy, you can read the file thus: return new File( file).text()","body":"With the advent of Groovy, you can read the file thus: return new File( file).text()"},{"owner":{"account_id":4280210,"reputation":167,"user_id":3499844,"accept_rate":43,"display_name":"Love Bisaria"},"score":0,"creation_date":1510622769,"post_id":326390,"comment_id":81503612,"body_markdown":"Linking another StackOverflow link, which find is well explained: https://stackoverflow.com/questions/14169661/read-complete-file-without-using-loop-in-java","body":"Linking another StackOverflow link, which find is well explained: <a href=\"https://stackoverflow.com/questions/14169661/read-complete-file-without-using-loop-in-java\" title=\"read complete file without using loop in java\">stackoverflow.com/questions/14169661/&hellip;</a>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1549582629,"post_id":326390,"comment_id":95964919,"body_markdown":"@Deep The last line in a text file is usually line-terminated, so what you describe as a bug isn&#39;t one, and your code has the bug of removing *all* the line terminators.","body":"@Deep The last line in a text file is usually line-terminated, so what you describe as a bug isn&#39;t one, and your code has the bug of removing <i>all</i> the line terminators."},{"owner":{"account_id":5860917,"reputation":726,"user_id":4616651,"display_name":"Alan"},"score":0,"creation_date":1626689429,"post_id":326390,"comment_id":120951768,"body_markdown":"Please accept an answer to your question and help put this to rest.","body":"Please accept an answer to your question and help put this to rest."},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1640194414,"post_id":326390,"comment_id":124539844,"body_markdown":"To all those poor souls who recommend using byte-based methods when obviously text should be handled: Our world will be hell as long as you persist in your ignorance. (I mean I&#39;m lenient with 90s legacy code in this respect, but Goddammit we&#39;re in 2021, and globalization and non-ASCII characters is something.)","body":"To all those poor souls who recommend using byte-based methods when obviously text should be handled: Our world will be hell as long as you persist in your ignorance. (I mean I&#39;m lenient with 90s legacy code in this respect, but Goddammit we&#39;re in 2021, and globalization and non-ASCII characters is something.)"},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1640357889,"post_id":326390,"comment_id":124577050,"body_markdown":"@FranzD. What do you think is used to store that text in a file?","body":"@FranzD. What do you think is used to store that text in a file?"},{"owner":{"account_id":5851562,"reputation":1061,"user_id":4610114,"accept_rate":100,"display_name":"Franz D."},"score":0,"creation_date":1640388320,"post_id":326390,"comment_id":124582448,"body_markdown":"@OscarRyz: Well, bytes, my dear Oscar. But byte-based methods tend not to handle to intricacies of byte &lt;-&gt; character conversions appropriately. And while that might work if you test your code with some ASCII or maybe even Latin-1, it will fail horribly and cause hours of work and frustration as soon as someone tries to read/write Chinese or some other &quot;minor&quot; (in THEIR world) language. Most of my former colleagues who proudly called themselves &quot;software engineers&quot; did neither know nor care about UTF-16 surrogates, and yes, I do call that ignorant, because that&#39;s what it is.","body":"@OscarRyz: Well, bytes, my dear Oscar. But byte-based methods tend not to handle to intricacies of byte &lt;-&gt; character conversions appropriately. And while that might work if you test your code with some ASCII or maybe even Latin-1, it will fail horribly and cause hours of work and frustration as soon as someone tries to read/write Chinese or some other &quot;minor&quot; (in THEIR world) language. Most of my former colleagues who proudly called themselves &quot;software engineers&quot; did neither know nor care about UTF-16 surrogates, and yes, I do call that ignorant, because that&#39;s what it is."},{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1640470036,"post_id":326390,"comment_id":124592660,"body_markdown":"@Franz D. Good, then you read bytes and decode using the appropriate character encoding. You&#39;re wrongly assuming the file would be encoding using UTF-16 but it could be literally anything else. It&#39;s strongly recommended to use UTF-8 for anything nowadays. Read the accepted answer, has very useful information.","body":"@Franz D. Good, then you read bytes and decode using the appropriate character encoding. You&#39;re wrongly assuming the file would be encoding using UTF-16 but it could be literally anything else. It&#39;s strongly recommended to use UTF-8 for anything nowadays. Read the accepted answer, has very useful information."}],"answers":[{"tags":[],"owner":{"account_id":15869,"reputation":4818,"user_id":33974,"display_name":"DaWilli"},"comment_count":0,"down_vote_count":7,"up_vote_count":405,"is_accepted":false,"score":398,"last_activity_date":1556344600,"creation_date":1227897876,"answer_id":326413,"question_id":326390,"body_markdown":"If you&#39;re willing to use an external library, check out [Apache Commons IO](https://commons.apache.org/proper/commons-io/) (200KB JAR). It contains an [`org.apache.commons.io.FileUtils.readFileToString()`](https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#readFileToString-java.io.File-java.nio.charset.Charset-) method that allows you to read an entire `File` into a `String` with one line of code.\r\n\r\nExample:\r\n\r\n```java\r\nimport java.io.*;\r\nimport java.nio.charset.*;\r\nimport org.apache.commons.io.*;\r\n\r\npublic String readFile() throws IOException {\r\n    File file = new File(&quot;data.txt&quot;);\r\n    return FileUtils.readFileToString(file, StandardCharsets.UTF_8);\r\n}\r\n```","title":"How do I create a Java string from the contents of a file?","body":"<p>If you're willing to use an external library, check out <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">Apache Commons IO</a> (200KB JAR). It contains an <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html#readFileToString-java.io.File-java.nio.charset.Charset-\" rel=\"noreferrer\"><code>org.apache.commons.io.FileUtils.readFileToString()</code></a> method that allows you to read an entire <code>File</code> into a <code>String</code> with one line of code.</p>\n\n<p>Example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.*;\nimport java.nio.charset.*;\nimport org.apache.commons.io.*;\n\npublic String readFile() throws IOException {\n    File file = new File(\"data.txt\");\n    return FileUtils.readFileToString(file, StandardCharsets.UTF_8);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":4,"creation_date":1227901011,"post_id":326430,"comment_id":165611,"body_markdown":"Yeap. It makes the &quot;high&quot; level language take a different meaning. Java is high level compared with C but low compared with Python or Ruby","body":"Yeap. It makes the &quot;high&quot; level language take a different meaning. Java is high level compared with C but low compared with Python or Ruby"},{"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"score":3,"creation_date":1305132293,"post_id":326430,"comment_id":6884629,"body_markdown":"Agree that Java is long on high-level abstractions but short on convenience methods","body":"Agree that Java is long on high-level abstractions but short on convenience methods"},{"owner":{"account_id":1152874,"reputation":4025,"user_id":1134211,"accept_rate":80,"display_name":"Thorn"},"score":3,"creation_date":1366145116,"post_id":326430,"comment_id":22897113,"body_markdown":"True, Java has an insane number of ways of dealing with Files and many of them seem complicated. But this is fairly close to what we have in higher level languages: `byte[] bytes = Files.readAllBytes(someFile.toPath());`","body":"True, Java has an insane number of ways of dealing with Files and many of them seem complicated. But this is fairly close to what we have in higher level languages: <code>byte[] bytes = Files.readAllBytes(someFile.toPath());</code>"}],"tags":[],"owner":{"account_id":8372,"reputation":225292,"user_id":15055,"accept_rate":80,"display_name":"Claudiu"},"comment_count":3,"down_vote_count":1,"up_vote_count":16,"is_accepted":false,"score":15,"last_activity_date":1227898357,"creation_date":1227898357,"answer_id":326430,"question_id":326390,"body_markdown":"Java attempts to be extremely general and flexible in all it does. As a result, something which is relatively simple in a scripting language (your code would be replaced with &quot;`open(file).read()`&quot; in python) is a lot more complicated. There doesn&#39;t seem to be any shorter way of doing it, except using an external library (like [Willi aus Rohr](https://stackoverflow.com/questions/326390/is-there-an-alternative-to-this-way-of-read-file-to-a-string-in-java#326413) mentioned). Your options:\r\n\r\n* Use an external library.\r\n* Copy this code into all your projects.\r\n* Create your own mini-library which contains functions you use often.\r\n\r\nYour best bet is probably the 2nd one, as it has the least dependencies.","title":"How do I create a Java string from the contents of a file?","body":"<p>Java attempts to be extremely general and flexible in all it does. As a result, something which is relatively simple in a scripting language (your code would be replaced with \"<code>open(file).read()</code>\" in python) is a lot more complicated. There doesn't seem to be any shorter way of doing it, except using an external library (like <a href=\"https://stackoverflow.com/questions/326390/is-there-an-alternative-to-this-way-of-read-file-to-a-string-in-java#326413\">Willi aus Rohr</a> mentioned). Your options:</p>\n\n<ul>\n<li>Use an external library.</li>\n<li>Copy this code into all your projects.</li>\n<li>Create your own mini-library which contains functions you use often.</li>\n</ul>\n\n<p>Your best bet is probably the 2nd one, as it has the least dependencies.</p>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1663341000,"post_id":326440,"comment_id":130224005,"body_markdown":"The memory utilization depends on the use case. If you can process a file line by line, without the need to keep processed lines, streaming over the lines requires the least memory. However, when you need all of them in memory, a list of string objects, one for each line, is everything but cheap. The overhead might be even larger than having a byte array and a (single) string in memory. If certain preconditions are met, the first solution, `Files.readString(…)`, is the only one that can work *without* requiring additional memory.","body":"The memory utilization depends on the use case. If you can process a file line by line, without the need to keep processed lines, streaming over the lines requires the least memory. However, when you need all of them in memory, a list of string objects, one for each line, is everything but cheap. The overhead might be even larger than having a byte array and a (single) string in memory. If certain preconditions are met, the first solution, <code>Files.readString(…)</code>, is the only one that can work <i>without</i> requiring additional memory."},{"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"score":0,"creation_date":1663344251,"post_id":326440,"comment_id":130225152,"body_markdown":"@Holger Ah, &quot;the first&quot; is no longer the first due to edits. I need to patch that up.","body":"@Holger Ah, &quot;the first&quot; is no longer the first due to edits. I need to patch that up."}],"tags":[],"owner":{"account_id":2496,"reputation":266244,"user_id":3474,"accept_rate":83,"display_name":"erickson"},"comment_count":2,"down_vote_count":3,"up_vote_count":1829,"is_accepted":true,"score":1826,"last_activity_date":1663344832,"creation_date":1227898573,"answer_id":326440,"question_id":326390,"body_markdown":"Read all text from a file\r\n-------------------------\r\nJava 11 added the [readString()][1] method to read small files as a `String`, preserving line terminators:\r\n\r\n    String content = Files.readString(path, encoding);\r\n\r\nFor versions between Java 7 and 11, here&#39;s a compact, robust idiom, wrapped up in a utility method:\r\n\r\n    static String readFile(String path, Charset encoding)\r\n      throws IOException\r\n    {\r\n      byte[] encoded = Files.readAllBytes(Paths.get(path));\r\n      return new String(encoded, encoding);\r\n    }\r\n\r\nRead lines of text from a file\r\n------------------------------\r\n\r\nJava 7 added a [convenience method to read a file as lines of text,][2] represented as a `List&lt;String&gt;`. This approach is &quot;lossy&quot; because the line separators are stripped from the end of each line.\r\n\r\n    List&lt;String&gt; lines = Files.readAllLines(Paths.get(path), encoding);\r\n\r\nJava 8 added the [`Files.lines()`][3] method to produce a `Stream&lt;String&gt;`. Again, this method is lossy because line separators are stripped. If an `IOException` is encountered while reading the file, it is wrapped in an [`UncheckedIOException`][4], since `Stream` doesn&#39;t accept lambdas that throw checked exceptions.\r\n\r\n    try (Stream&lt;String&gt; lines = Files.lines(path, encoding)) {\r\n      lines.forEach(System.out::println);\r\n    }\r\n\r\nThis `Stream` does need a [`close()`][5] call; this is poorly documented on the API, and I suspect many people don&#39;t even notice `Stream` has a `close()` method. Be sure to use an ARM-block as shown.\r\n\r\nIf you are working with a source other than a file, you can use the [`lines()`][6] method in `BufferedReader` instead.\r\n\r\nMemory utilization\r\n------------------\r\n\r\nIf your file is small enough relative to your available memory, reading the entire file at once might work fine. However, if your file is too large, reading one line at a time, processing it, and then discarding it before moving on to the next could be a better approach. Stream processing in this way can eliminate the total file size as a factor in your memory requirement.\r\n\r\nCharacter encoding\r\n------------------\r\n\r\nOne thing that is missing from the sample in the original post is the character encoding. This encoding generally can&#39;t be determined from the file itself, and requires meta-data such as an HTTP header to convey this important information.\r\n\r\nThe [`StandardCharsets`][7] class defines some constants for the encodings required of all Java runtimes:\r\n\r\n    String content = readFile(&quot;test.txt&quot;, StandardCharsets.UTF_8);\r\n\r\nThe platform default is available from [the `Charset` class][8] itself:\r\n\r\n    String content = readFile(&quot;test.txt&quot;, Charset.defaultCharset());\r\n\r\nThere are some special cases where the platform default is what you want, but they are rare. You should be able justify your choice, because the platform default is not portable. One example where it might be correct is when reading standard input or writing standard output.\r\n\r\n---\r\nNote: This answer largely replaces my Java 6 version. The utility of Java 7 safely simplifies the code, and the old answer, which used a mapped byte buffer, prevented the file that was read from being deleted until the mapped buffer was garbage collected. You can view the old version via the &quot;edited&quot; link on this answer.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path,java.nio.charset.Charset)\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines%28java.nio.file.Path,%20java.nio.charset.Charset%29\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-java.nio.charset.Charset-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/io/UncheckedIOException.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#close--\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--\r\n  [7]: https://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html\r\n  [8]: https://docs.oracle.com/javase/7/docs/api/java/nio/charset/Charset.html#defaultCharset%28%29\r\n","title":"How do I create a Java string from the contents of a file?","body":"<h2>Read all text from a file</h2>\n<p>Java 11 added the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/file/Files.html#readString(java.nio.file.Path,java.nio.charset.Charset)\" rel=\"noreferrer\">readString()</a> method to read small files as a <code>String</code>, preserving line terminators:</p>\n<pre><code>String content = Files.readString(path, encoding);\n</code></pre>\n<p>For versions between Java 7 and 11, here's a compact, robust idiom, wrapped up in a utility method:</p>\n<pre><code>static String readFile(String path, Charset encoding)\n  throws IOException\n{\n  byte[] encoded = Files.readAllBytes(Paths.get(path));\n  return new String(encoded, encoding);\n}\n</code></pre>\n<h2>Read lines of text from a file</h2>\n<p>Java 7 added a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllLines%28java.nio.file.Path,%20java.nio.charset.Charset%29\" rel=\"noreferrer\">convenience method to read a file as lines of text,</a> represented as a <code>List&lt;String&gt;</code>. This approach is &quot;lossy&quot; because the line separators are stripped from the end of each line.</p>\n<pre><code>List&lt;String&gt; lines = Files.readAllLines(Paths.get(path), encoding);\n</code></pre>\n<p>Java 8 added the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#lines-java.nio.file.Path-java.nio.charset.Charset-\" rel=\"noreferrer\"><code>Files.lines()</code></a> method to produce a <code>Stream&lt;String&gt;</code>. Again, this method is lossy because line separators are stripped. If an <code>IOException</code> is encountered while reading the file, it is wrapped in an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/UncheckedIOException.html\" rel=\"noreferrer\"><code>UncheckedIOException</code></a>, since <code>Stream</code> doesn't accept lambdas that throw checked exceptions.</p>\n<pre><code>try (Stream&lt;String&gt; lines = Files.lines(path, encoding)) {\n  lines.forEach(System.out::println);\n}\n</code></pre>\n<p>This <code>Stream</code> does need a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/BaseStream.html#close--\" rel=\"noreferrer\"><code>close()</code></a> call; this is poorly documented on the API, and I suspect many people don't even notice <code>Stream</code> has a <code>close()</code> method. Be sure to use an ARM-block as shown.</p>\n<p>If you are working with a source other than a file, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html#lines--\" rel=\"noreferrer\"><code>lines()</code></a> method in <code>BufferedReader</code> instead.</p>\n<h2>Memory utilization</h2>\n<p>If your file is small enough relative to your available memory, reading the entire file at once might work fine. However, if your file is too large, reading one line at a time, processing it, and then discarding it before moving on to the next could be a better approach. Stream processing in this way can eliminate the total file size as a factor in your memory requirement.</p>\n<h2>Character encoding</h2>\n<p>One thing that is missing from the sample in the original post is the character encoding. This encoding generally can't be determined from the file itself, and requires meta-data such as an HTTP header to convey this important information.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/charset/StandardCharsets.html\" rel=\"noreferrer\"><code>StandardCharsets</code></a> class defines some constants for the encodings required of all Java runtimes:</p>\n<pre><code>String content = readFile(&quot;test.txt&quot;, StandardCharsets.UTF_8);\n</code></pre>\n<p>The platform default is available from <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/charset/Charset.html#defaultCharset%28%29\" rel=\"noreferrer\">the <code>Charset</code> class</a> itself:</p>\n<pre><code>String content = readFile(&quot;test.txt&quot;, Charset.defaultCharset());\n</code></pre>\n<p>There are some special cases where the platform default is what you want, but they are rare. You should be able justify your choice, because the platform default is not portable. One example where it might be correct is when reading standard input or writing standard output.</p>\n<hr />\n<p>Note: This answer largely replaces my Java 6 version. The utility of Java 7 safely simplifies the code, and the old answer, which used a mapped byte buffer, prevented the file that was read from being deleted until the mapped buffer was garbage collected. You can view the old version via the &quot;edited&quot; link on this answer.</p>\n"},{"tags":[],"owner":{"account_id":1921,"reputation":185682,"user_id":2648,"accept_rate":52,"display_name":"D&#243;nal"},"comment_count":0,"down_vote_count":3,"up_vote_count":84,"is_accepted":false,"score":81,"last_activity_date":1540476485,"creation_date":1227898835,"answer_id":326448,"question_id":326390,"body_markdown":"If you&#39;re looking for an alternative that doesn&#39;t involve a third-party library (e.g. [Commons I/O][1]), you can use the [Scanner][2] class:\r\n\r\n    private String readFile(String pathname) throws IOException {\r\n\r\n        File file = new File(pathname);\r\n        StringBuilder fileContents = new StringBuilder((int)file.length());        \r\n\r\n        try (Scanner scanner = new Scanner(file)) {\r\n            while(scanner.hasNextLine()) {\r\n                fileContents.append(scanner.nextLine() + System.lineSeparator());\r\n            }\r\n            return fileContents.toString();\r\n        }\r\n    }\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/util/Scanner.html\r\n","title":"How do I create a Java string from the contents of a file?","body":"<p>If you're looking for an alternative that doesn't involve a third-party library (e.g. <a href=\"https://commons.apache.org/proper/commons-io/\" rel=\"noreferrer\">Commons I/O</a>), you can use the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Scanner.html\" rel=\"noreferrer\">Scanner</a> class:</p>\n\n<pre><code>private String readFile(String pathname) throws IOException {\n\n    File file = new File(pathname);\n    StringBuilder fileContents = new StringBuilder((int)file.length());        \n\n    try (Scanner scanner = new Scanner(file)) {\n        while(scanner.hasNextLine()) {\n            fileContents.append(scanner.nextLine() + System.lineSeparator());\n        }\n        return fileContents.toString();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1237530,"reputation":495,"user_id":1200818,"accept_rate":75,"display_name":"Bryan Larson"},"score":1,"creation_date":1370459872,"post_id":326531,"comment_id":24472175,"body_markdown":"Forgive me for reviving a comment this old, but did you mean to pass in a String object called &quot;file&quot;, or should that be a File object instead?","body":"Forgive me for reviving a comment this old, but did you mean to pass in a String object called &quot;file&quot;, or should that be a File object instead?"},{"owner":{"account_id":11502933,"reputation":5909,"user_id":8430155,"display_name":"Harshal Parekh"},"score":1,"creation_date":1605040330,"post_id":326531,"comment_id":114530084,"body_markdown":"Great answer. +1. But this answer is 12 years old. Java now has try-with-resources.","body":"Great answer. +1. But this answer is 12 years old. Java now has try-with-resources."}],"tags":[],"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"comment_count":2,"down_vote_count":1,"up_vote_count":52,"is_accepted":false,"score":51,"last_activity_date":1506398868,"creation_date":1227902195,"answer_id":326531,"question_id":326390,"body_markdown":"That code will normalize line breaks, which may or may not be what you really want to do.\r\n\r\nHere&#39;s an alternative which doesn&#39;t do that, and which is (IMO) simpler to understand than the NIO code (although it still uses `java.nio.charset.Charset`):\r\n\r\n    public static String readFile(String file, String csName)\r\n                throws IOException {\r\n        Charset cs = Charset.forName(csName);\r\n        return readFile(file, cs);\r\n    }\r\n    \r\n    public static String readFile(String file, Charset cs)\r\n                throws IOException {\r\n        // No real need to close the BufferedReader/InputStreamReader\r\n        // as they&#39;re only wrapping the stream\r\n        FileInputStream stream = new FileInputStream(file);\r\n        try {\r\n            Reader reader = new BufferedReader(new InputStreamReader(stream, cs));\r\n            StringBuilder builder = new StringBuilder();\r\n            char[] buffer = new char[8192];\r\n            int read;\r\n            while ((read = reader.read(buffer, 0, buffer.length)) &gt; 0) {\r\n                builder.append(buffer, 0, read);\r\n            }\r\n            return builder.toString();\r\n        } finally {\r\n            // Potential issue here: if this throws an IOException,\r\n            // it will mask any others. Normally I&#39;d use a utility\r\n            // method which would log exceptions and swallow them\r\n            stream.close();\r\n        }        \r\n    }\r\n","title":"How do I create a Java string from the contents of a file?","body":"<p>That code will normalize line breaks, which may or may not be what you really want to do.</p>\n\n<p>Here's an alternative which doesn't do that, and which is (IMO) simpler to understand than the NIO code (although it still uses <code>java.nio.charset.Charset</code>):</p>\n\n<pre><code>public static String readFile(String file, String csName)\n            throws IOException {\n    Charset cs = Charset.forName(csName);\n    return readFile(file, cs);\n}\n\npublic static String readFile(String file, Charset cs)\n            throws IOException {\n    // No real need to close the BufferedReader/InputStreamReader\n    // as they're only wrapping the stream\n    FileInputStream stream = new FileInputStream(file);\n    try {\n        Reader reader = new BufferedReader(new InputStreamReader(stream, cs));\n        StringBuilder builder = new StringBuilder();\n        char[] buffer = new char[8192];\n        int read;\n        while ((read = reader.read(buffer, 0, buffer.length)) &gt; 0) {\n            builder.append(buffer, 0, read);\n        }\n        return builder.toString();\n    } finally {\n        // Potential issue here: if this throws an IOException,\n        // it will mask any others. Normally I'd use a utility\n        // method which would log exceptions and swallow them\n        stream.close();\n    }        \n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1271575399,"post_id":326612,"comment_id":2678750,"body_markdown":"This will change the newlines to the default newline choise. This may be desirable, or unintended.","body":"This will change the newlines to the default newline choise. This may be desirable, or unintended."},{"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"score":0,"creation_date":1375388170,"post_id":326612,"comment_id":26327050,"body_markdown":"Rolled back the edit to this answer because the point was to narrow the scope of the `line` variable.  The edit declared it twice, which would be a compile error.","body":"Rolled back the edit to this answer because the point was to narrow the scope of the <code>line</code> variable.  The edit declared it twice, which would be a compile error."}],"tags":[],"owner":{"account_id":3579,"reputation":53945,"user_id":5171,"accept_rate":100,"display_name":"Dan Dyer"},"comment_count":2,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1375388059,"creation_date":1227904393,"answer_id":326612,"question_id":326390,"body_markdown":"There is a variation on the same theme that uses a for loop, instead of a while loop, to limit the scope of the line variable.  Whether it&#39;s &quot;better&quot; is a matter of personal taste.\r\n\r\n    for(String line = reader.readLine(); line != null; line = reader.readLine()) {\r\n        stringBuilder.append(line);\r\n        stringBuilder.append(ls);\r\n    }\r\n","title":"How do I create a Java string from the contents of a file?","body":"<p>There is a variation on the same theme that uses a for loop, instead of a while loop, to limit the scope of the line variable.  Whether it's \"better\" is a matter of personal taste.</p>\n\n<pre><code>for(String line = reader.readLine(); line != null; line = reader.readLine()) {\n    stringBuilder.append(line);\n    stringBuilder.append(ls);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1265730835,"post_id":2224417,"comment_id":2185399,"body_markdown":"I think this has the inconvenience os using the platform default encoding. +1 anyway :)","body":"I think this has the inconvenience os using the platform default encoding. +1 anyway :)"},{"owner":{"account_id":173557,"reputation":22258,"user_id":402322,"accept_rate":67,"display_name":"ceving"},"score":7,"creation_date":1340640712,"post_id":2224417,"comment_id":14690637,"body_markdown":"I seems to me that the finally block does not know variables defined in the try block. javac 1.6.0_21 throws the error `cannot find symbol`.","body":"I seems to me that the finally block does not know variables defined in the try block. javac 1.6.0_21 throws the error <code>cannot find symbol</code>."},{"owner":{"account_id":4827540,"reputation":1404,"user_id":3896616,"accept_rate":55,"display_name":"mauron85"},"score":0,"creation_date":1540979320,"post_id":2224417,"comment_id":93058158,"body_markdown":"Have you even tried your own code? You&#39;ve defined reader in try/catch block, so it won&#39;t be accessible in finally block.","body":"Have you even tried your own code? You&#39;ve defined reader in try/catch block, so it won&#39;t be accessible in finally block."}],"tags":[],"owner":{"account_id":68002,"reputation":1137,"user_id":198676,"display_name":"Scott S. McCoy"},"comment_count":3,"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1542134661,"creation_date":1265658672,"answer_id":2224417,"question_id":326390,"body_markdown":"    public static String slurp (final File file)\r\n    throws IOException {\r\n        StringBuilder result = new StringBuilder();\r\n\r\n        BufferedReader reader = new BufferedReader(new FileReader(file));\r\n\r\n        try {\r\n            char[] buf = new char[1024];\r\n\r\n            int r = 0;\r\n\r\n            while ((r = reader.read(buf)) != -1) {\r\n                result.append(buf, 0, r);\r\n            }\r\n        }\r\n        finally {\r\n            reader.close();\r\n        }\r\n\r\n        return result.toString();\r\n    }\r\n","title":"How do I create a Java string from the contents of a file?","body":"<pre><code>public static String slurp (final File file)\nthrows IOException {\n    StringBuilder result = new StringBuilder();\n\n    BufferedReader reader = new BufferedReader(new FileReader(file));\n\n    try {\n        char[] buf = new char[1024];\n\n        int r = 0;\n\n        while ((r = reader.read(buf)) != -1) {\n            result.append(buf, 0, r);\n        }\n    }\n    finally {\n        reader.close();\n    }\n\n    return result.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1006247,"reputation":15843,"user_id":1019952,"accept_rate":60,"display_name":"Mohamed Taher Alrefaie"},"score":0,"creation_date":1366645338,"post_id":2224519,"comment_id":23077151,"body_markdown":"This code has casting from long to int which could pop up some crazy behaviour with big files. Has extra spaces and where do you close the inputstream?","body":"This code has casting from long to int which could pop up some crazy behaviour with big files. Has extra spaces and where do you close the inputstream?"},{"owner":{"account_id":22705,"reputation":80417,"user_id":56285,"accept_rate":81,"display_name":"Jonik"},"score":0,"creation_date":1388323197,"post_id":2224519,"comment_id":31230297,"body_markdown":"@M-T-A: The stream *is* closed, note the use of `Closer` in [CharSource](http://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/io/CharSource.java). The code in the answer isn&#39;t the actual, current Guava source.","body":"@M-T-A: The stream <i>is</i> closed, note the use of <code>Closer</code> in <a href=\"http://code.google.com/p/guava-libraries/source/browse/guava/src/com/google/common/io/CharSource.java\" rel=\"nofollow noreferrer\">CharSource</a>. The code in the answer isn&#39;t the actual, current Guava source."}],"tags":[],"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"comment_count":2,"down_vote_count":3,"up_vote_count":76,"is_accepted":false,"score":73,"last_activity_date":1573985241,"creation_date":1265659717,"answer_id":2224519,"question_id":326390,"body_markdown":"[Guava](https://github.com/google/guava/) has a method similar to the one from Commons IOUtils that Willi aus Rohr mentioned:\r\n\r\n    import com.google.common.base.Charsets;\r\n    import com.google.common.io.Files;\r\n\r\n    // ...\r\n\r\n    String text = Files.toString(new File(path), Charsets.UTF_8);\r\n\r\n\r\n**EDIT by PiggyPiglet**&lt;br/&gt;\r\n`Files#toString` is deprecated, and due for removal Octobor 2019. Instead use\r\n`Files.asCharSource(new File(path), StandardCharsets.UTF_8).read();`\r\n\r\n**EDIT by Oscar Reyes**\r\n\r\n\r\nThis is the (simplified) underlying code on the cited library:\r\n    \r\n    InputStream in = new FileInputStream(file);\r\n    byte[] b  = new byte[file.length()];\r\n    int len = b.length;\r\n    int total = 0;\r\n    \r\n    while (total &lt; len) {\r\n      int result = in.read(b, total, len - total);\r\n      if (result == -1) {\r\n        break;\r\n      }\r\n      total += result;\r\n    }\r\n\r\n    return new String( b , Charsets.UTF_8 );\r\n\r\n**Edit** (by Jonik): The above doesn&#39;t match the source code of recent Guava versions. For the current source, see the classes [Files][1], [CharStreams][2], [ByteSource][3] and [CharSource][4] in [com.google.common.io][5] package.\r\n\r\n\r\n  [1]: https://github.com/google/guava/blob/master/guava/src/com/google/common/io/Files.java\r\n  [2]: https://github.com/google/guava/blob/master/guava/src/com/google/common/io/CharStreams.java\r\n  [3]: https://github.com/google/guava/blob/master/guava/src/com/google/common/io/ByteSource.java\r\n  [4]: https://github.com/google/guava/blob/master/guava/src/com/google/common/io/CharSource.java\r\n  [5]: https://github.com/google/guava/blob/master/guava/src/com/google/common/io","title":"How do I create a Java string from the contents of a file?","body":"<p><a href=\"https://github.com/google/guava/\" rel=\"noreferrer\">Guava</a> has a method similar to the one from Commons IOUtils that Willi aus Rohr mentioned:</p>\n\n<pre><code>import com.google.common.base.Charsets;\nimport com.google.common.io.Files;\n\n// ...\n\nString text = Files.toString(new File(path), Charsets.UTF_8);\n</code></pre>\n\n<p><strong>EDIT by PiggyPiglet</strong><br/>\n<code>Files#toString</code> is deprecated, and due for removal Octobor 2019. Instead use\n<code>Files.asCharSource(new File(path), StandardCharsets.UTF_8).read();</code></p>\n\n<p><strong>EDIT by Oscar Reyes</strong></p>\n\n<p>This is the (simplified) underlying code on the cited library:</p>\n\n<pre><code>InputStream in = new FileInputStream(file);\nbyte[] b  = new byte[file.length()];\nint len = b.length;\nint total = 0;\n\nwhile (total &lt; len) {\n  int result = in.read(b, total, len - total);\n  if (result == -1) {\n    break;\n  }\n  total += result;\n}\n\nreturn new String( b , Charsets.UTF_8 );\n</code></pre>\n\n<p><strong>Edit</strong> (by Jonik): The above doesn't match the source code of recent Guava versions. For the current source, see the classes <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/io/Files.java\" rel=\"noreferrer\">Files</a>, <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/io/CharStreams.java\" rel=\"noreferrer\">CharStreams</a>, <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/io/ByteSource.java\" rel=\"noreferrer\">ByteSource</a> and <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/io/CharSource.java\" rel=\"noreferrer\">CharSource</a> in <a href=\"https://github.com/google/guava/blob/master/guava/src/com/google/common/io\" rel=\"noreferrer\">com.google.common.io</a> package.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1271576069,"creation_date":1271576069,"answer_id":2661480,"question_id":326390,"body_markdown":"To read a File as binary and convert at the end\r\n\r\n    public static String readFileAsString(String filePath) throws IOException {\r\n        DataInputStream dis = new DataInputStream(new FileInputStream(filePath));\r\n        try {\r\n            long len = new File(filePath).length();\r\n            if (len &gt; Integer.MAX_VALUE) throw new IOException(&quot;File &quot;+filePath+&quot; too large, was &quot;+len+&quot; bytes.&quot;);\r\n            byte[] bytes = new byte[(int) len];\r\n            dis.readFully(bytes);\r\n            return new String(bytes, &quot;UTF-8&quot;);\r\n        } finally {\r\n            dis.close();\r\n        }\r\n    }","title":"How do I create a Java string from the contents of a file?","body":"<p>To read a File as binary and convert at the end</p>\n\n<pre><code>public static String readFileAsString(String filePath) throws IOException {\n    DataInputStream dis = new DataInputStream(new FileInputStream(filePath));\n    try {\n        long len = new File(filePath).length();\n        if (len &gt; Integer.MAX_VALUE) throw new IOException(\"File \"+filePath+\" too large, was \"+len+\" bytes.\");\n        byte[] bytes = new byte[(int) len];\n        dis.readFully(bytes);\n        return new String(bytes, \"UTF-8\");\n    } finally {\n        dis.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":92865,"reputation":5039,"user_id":254307,"accept_rate":88,"display_name":"Pablo Grisafi"},"score":4,"creation_date":1316204211,"post_id":7449797,"comment_id":9010717,"body_markdown":"\\\\A works because there is no &quot;other beginning of file&quot;, so you are in fact read the last token...which is also the first. Never tried with \\\\Z. Also note you can read anything that is Readable , like Files, InputStreams, channels...I sometimes use this code to read from the display window of eclipse, when I&#39;m not sure if I&#39;m reading one file or another...yes, classpath confuses me.","body":"\\\\A works because there is no &quot;other beginning of file&quot;, so you are in fact read the last token...which is also the first. Never tried with \\\\Z. Also note you can read anything that is Readable , like Files, InputStreams, channels...I sometimes use this code to read from the display window of eclipse, when I&#39;m not sure if I&#39;m reading one file or another...yes, classpath confuses me."},{"owner":{"account_id":278464,"reputation":6672,"user_id":573057,"accept_rate":89,"display_name":"earcam"},"score":21,"creation_date":1353663805,"post_id":7449797,"comment_id":18518932,"body_markdown":"Scanner implements Closeable (it invokes close on the source) - so while elegant it shouldn&#39;t really be a one-liner. The default size of the buffer is 1024, but Scanner will increase the size as necessary (see Scanner#makeSpace())","body":"Scanner implements Closeable (it invokes close on the source) - so while elegant it shouldn&#39;t really be a one-liner. The default size of the buffer is 1024, but Scanner will increase the size as necessary (see Scanner#makeSpace())"}],"tags":[],"owner":{"account_id":92865,"reputation":5039,"user_id":254307,"accept_rate":88,"display_name":"Pablo Grisafi"},"comment_count":2,"down_vote_count":2,"up_vote_count":192,"is_accepted":false,"score":190,"last_activity_date":1556345960,"creation_date":1316203337,"answer_id":7449797,"question_id":326390,"body_markdown":"A very lean solution based on [`Scanner`][1]:\r\n\r\n    Scanner scanner = new Scanner( new File(&quot;poem.txt&quot;) );\r\n    String text = scanner.useDelimiter(&quot;\\\\A&quot;).next();\r\n    scanner.close(); // Put this call in a finally block\r\n\r\nOr, if you want to set the charset:\r\n\r\n    Scanner scanner = new Scanner( new File(&quot;poem.txt&quot;), &quot;UTF-8&quot; );\r\n    String text = scanner.useDelimiter(&quot;\\\\A&quot;).next();\r\n    scanner.close(); // Put this call in a finally block\r\n\r\nOr, with a [try-with-resources][2] block, which will call `scanner.close()` for you:\r\n\r\n    try (Scanner scanner = new Scanner( new File(&quot;poem.txt&quot;), &quot;UTF-8&quot; )) {\r\n        String text = scanner.useDelimiter(&quot;\\\\A&quot;).next();\r\n    }\r\n\r\nRemember that the `Scanner` constructor can throw an `IOException`. And don&#39;t forget to import `java.io` and `java.util`.\r\n\r\nSource: [Pat Niemeyer&#39;s blog][3]\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Scanner.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\r\n  [3]: https://web.archive.org/web/20110516145331im_/http://weblogs.java.net/blog/pat/archive/2004/10/stupid_scanner.html","title":"How do I create a Java string from the contents of a file?","body":"<p>A very lean solution based on <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/Scanner.html\" rel=\"noreferrer\"><code>Scanner</code></a>:</p>\n\n<pre><code>Scanner scanner = new Scanner( new File(\"poem.txt\") );\nString text = scanner.useDelimiter(\"\\\\A\").next();\nscanner.close(); // Put this call in a finally block\n</code></pre>\n\n<p>Or, if you want to set the charset:</p>\n\n<pre><code>Scanner scanner = new Scanner( new File(\"poem.txt\"), \"UTF-8\" );\nString text = scanner.useDelimiter(\"\\\\A\").next();\nscanner.close(); // Put this call in a finally block\n</code></pre>\n\n<p>Or, with a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"noreferrer\">try-with-resources</a> block, which will call <code>scanner.close()</code> for you:</p>\n\n<pre><code>try (Scanner scanner = new Scanner( new File(\"poem.txt\"), \"UTF-8\" )) {\n    String text = scanner.useDelimiter(\"\\\\A\").next();\n}\n</code></pre>\n\n<p>Remember that the <code>Scanner</code> constructor can throw an <code>IOException</code>. And don't forget to import <code>java.io</code> and <code>java.util</code>.</p>\n\n<p>Source: <a href=\"https://web.archive.org/web/20110516145331im_/http://weblogs.java.net/blog/pat/archive/2004/10/stupid_scanner.html\" rel=\"noreferrer\">Pat Niemeyer's blog</a></p>\n"},{"tags":[],"owner":{"account_id":979311,"reputation":271,"user_id":999478,"display_name":"Home in Time"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1506398986,"creation_date":1318865643,"answer_id":7796072,"question_id":326390,"body_markdown":"If it&#39;s a text file why not use [apache commons-io][1]?  \r\n\r\nIt has the following method\r\n\r\n    public static String readFileToString(File file) throws IOException\r\n\r\nIf you want the lines as a list use\r\n\r\n    public static List&lt;String&gt; readLines(File file) throws IOException\r\n\r\n\r\n[1]:http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html\r\n","title":"How do I create a Java string from the contents of a file?","body":"<p>If it's a text file why not use <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/FileUtils.html\" rel=\"noreferrer\">apache commons-io</a>?  </p>\n\n<p>It has the following method</p>\n\n<pre><code>public static String readFileToString(File file) throws IOException\n</code></pre>\n\n<p>If you want the lines as a list use</p>\n\n<pre><code>public static List&lt;String&gt; readLines(File file) throws IOException\n</code></pre>\n"},{"tags":[],"owner":{"account_id":38925,"reputation":10972,"user_id":112053,"accept_rate":67,"display_name":"barjak"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391775116,"creation_date":1319355809,"answer_id":7864972,"question_id":326390,"body_markdown":"This one uses the method `RandomAccessFile.readFully`, it seems to be available from JDK 1.0 !\r\n\r\n    public static String readFileContent(String filename, Charset charset) throws IOException {\r\n        RandomAccessFile raf = null;\r\n        try {\r\n            raf = new RandomAccessFile(filename, &quot;r&quot;);\r\n            byte[] buffer = new byte[(int)raf.length()];\r\n            raf.readFully(buffer);\r\n            return new String(buffer, charset);\r\n        } finally {\r\n            closeStream(raf);\r\n        }\r\n    } \r\n\r\n\r\n    private static void closeStream(Closeable c) {\r\n        if (c != null) {\r\n            try {\r\n                c.close();\r\n            } catch (IOException ex) {\r\n                // do nothing\r\n            }\r\n        }\r\n    }\r\n","title":"How do I create a Java string from the contents of a file?","body":"<p>This one uses the method <code>RandomAccessFile.readFully</code>, it seems to be available from JDK 1.0 !</p>\n\n<pre><code>public static String readFileContent(String filename, Charset charset) throws IOException {\n    RandomAccessFile raf = null;\n    try {\n        raf = new RandomAccessFile(filename, \"r\");\n        byte[] buffer = new byte[(int)raf.length()];\n        raf.readFully(buffer);\n        return new String(buffer, charset);\n    } finally {\n        closeStream(raf);\n    }\n} \n\n\nprivate static void closeStream(Closeable c) {\n    if (c != null) {\n        try {\n            c.close();\n        } catch (IOException ex) {\n            // do nothing\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1060072,"reputation":830,"user_id":1061891,"accept_rate":33,"display_name":"wau"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480606925,"creation_date":1329302855,"answer_id":9291920,"question_id":326390,"body_markdown":"A flexible solution using [IOUtils](http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html) from Apache [commons-io](http://commons.apache.org/io/) in combination with [StringWriter](http://docs.oracle.com/javase/6/docs/api/java/io/StringWriter.html):\r\n\r\n    Reader input = new FileReader();\r\n    StringWriter output = new StringWriter();\r\n    try {\r\n      IOUtils.copy(input, output);\r\n    } finally {\r\n      input.close();\r\n    }\r\n    String fileContents = output.toString();\r\n\r\nIt works with any reader or input stream (not just with files), for example when reading from a URL.","title":"How do I create a Java string from the contents of a file?","body":"<p>A flexible solution using <a href=\"http://commons.apache.org/proper/commons-io/javadocs/api-release/org/apache/commons/io/IOUtils.html\" rel=\"nofollow noreferrer\">IOUtils</a> from Apache <a href=\"http://commons.apache.org/io/\" rel=\"nofollow noreferrer\">commons-io</a> in combination with <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/StringWriter.html\" rel=\"nofollow noreferrer\">StringWriter</a>:</p>\n\n<pre><code>Reader input = new FileReader();\nStringWriter output = new StringWriter();\ntry {\n  IOUtils.copy(input, output);\n} finally {\n  input.close();\n}\nString fileContents = output.toString();\n</code></pre>\n\n<p>It works with any reader or input stream (not just with files), for example when reading from a URL.</p>\n"},{"comments":[{"owner":{"account_id":1688831,"reputation":1057,"user_id":1551596,"accept_rate":75,"display_name":"assafmo"},"score":14,"creation_date":1365250177,"post_id":10176143,"comment_id":22557018,"body_markdown":"or `new String(Files.readAllBytes(Paths.get(filename)));` :-)","body":"or <code>new String(Files.readAllBytes(Paths.get(filename)));</code> :-)"}],"tags":[],"owner":{"account_id":289456,"reputation":4272,"user_id":590444,"accept_rate":78,"display_name":"user590444"},"comment_count":1,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1334586839,"creation_date":1334586839,"answer_id":10176143,"question_id":326390,"body_markdown":"    import java.nio.file.Files;\r\n\r\n.......   \r\n\r\n     String readFile(String filename) {\r\n                File f = new File(filename);\r\n                try {\r\n                    byte[] bytes = Files.readAllBytes(f.toPath());\r\n                    return new String(bytes,&quot;UTF-8&quot;);\r\n                } catch (FileNotFoundException e) {\r\n                    e.printStackTrace();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                return &quot;&quot;;\r\n        }\r\n\r\n","title":"How do I create a Java string from the contents of a file?","body":"<pre><code>import java.nio.file.Files;\n</code></pre>\n\n<p>.......   </p>\n\n<pre><code> String readFile(String filename) {\n            File f = new File(filename);\n            try {\n                byte[] bytes = Files.readAllBytes(f.toPath());\n                return new String(bytes,\"UTF-8\");\n            } catch (FileNotFoundException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            return \"\";\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1060072,"reputation":830,"user_id":1061891,"accept_rate":33,"display_name":"wau"},"score":1,"creation_date":1363354340,"post_id":15428420,"comment_id":21829720,"body_markdown":"This code may give unpredictable results. According to the [documentation](http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#available%28%29) of the `available()` method, there is no guarantee that the end of file is reached in the event that the method returns 0. In that case you might end up with an incomplete file. What&#39;s worse, the number of bytes actually read can be smaller than the value returned by `available()`, in which case you get corrupted output.","body":"This code may give unpredictable results. According to the <a href=\"http://docs.oracle.com/javase/7/docs/api/java/io/InputStream.html#available%28%29\" rel=\"nofollow noreferrer\">documentation</a> of the <code>available()</code> method, there is no guarantee that the end of file is reached in the event that the method returns 0. In that case you might end up with an incomplete file. What&#39;s worse, the number of bytes actually read can be smaller than the value returned by <code>available()</code>, in which case you get corrupted output."}],"tags":[],"owner":{"account_id":461664,"reputation":39,"user_id":863519,"display_name":"Henry"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1363338596,"creation_date":1363338596,"answer_id":15428420,"question_id":326390,"body_markdown":"Be aware when using `fileInputStream.available()` the returned integer does not have to represent the actual file size, but rather the guessed amount of bytes the system should be able to read from the stream without blocking IO. A safe and simple way could look like this\r\n\r\n    public String readStringFromInputStream(FileInputStream fileInputStream) {\r\n        StringBuffer stringBuffer = new StringBuffer();\r\n        try {\r\n            byte[] buffer;\r\n            while (fileInputStream.available() &gt; 0) {\r\n                buffer = new byte[fileInputStream.available()];\r\n                fileInputStream.read(buffer);\r\n                stringBuffer.append(new String(buffer, &quot;ISO-8859-1&quot;));\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n        } catch (IOException e) { }\r\n        return stringBuffer.toString();\r\n    }\r\n\r\nIt should be considered that this approach is **not** suitable for multi-byte character encodings like UTF-8.","title":"How do I create a Java string from the contents of a file?","body":"<p>Be aware when using <code>fileInputStream.available()</code> the returned integer does not have to represent the actual file size, but rather the guessed amount of bytes the system should be able to read from the stream without blocking IO. A safe and simple way could look like this</p>\n\n<pre><code>public String readStringFromInputStream(FileInputStream fileInputStream) {\n    StringBuffer stringBuffer = new StringBuffer();\n    try {\n        byte[] buffer;\n        while (fileInputStream.available() &gt; 0) {\n            buffer = new byte[fileInputStream.available()];\n            fileInputStream.read(buffer);\n            stringBuffer.append(new String(buffer, \"ISO-8859-1\"));\n        }\n    } catch (FileNotFoundException e) {\n    } catch (IOException e) { }\n    return stringBuffer.toString();\n}\n</code></pre>\n\n<p>It should be considered that this approach is <strong>not</strong> suitable for multi-byte character encodings like UTF-8.</p>\n"},{"comments":[{"owner":{"account_id":7537037,"reputation":4882,"user_id":7098259,"display_name":"Patrick Parker"},"score":0,"creation_date":1522244780,"post_id":20563130,"comment_id":86078994,"body_markdown":"In the first case you might be adding an extra newline at the end. in the second case you might be omitting one. So both are equally wrong. See [this article](https://www.linkedin.com/pulse/overcoming-javas-readline-limitation-patrick-parker/)","body":"In the first case you might be adding an extra newline at the end. in the second case you might be omitting one. So both are equally wrong. See <a href=\"https://www.linkedin.com/pulse/overcoming-javas-readline-limitation-patrick-parker/\" rel=\"nofollow noreferrer\">this article</a>"}],"tags":[],"owner":{"account_id":1650455,"reputation":520,"user_id":1521167,"accept_rate":20,"display_name":"Ajk"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1386927212,"creation_date":1386927212,"answer_id":20563130,"question_id":326390,"body_markdown":"I cannot comment other entries yet, so I&#39;ll just leave it here.\r\n\r\nOne of best answers here (https://stackoverflow.com/a/326448/1521167):\r\n\r\n    private String readFile(String pathname) throws IOException {\r\n\r\n    File file = new File(pathname);\r\n    StringBuilder fileContents = new StringBuilder((int)file.length());\r\n    Scanner scanner = new Scanner(file);\r\n    String lineSeparator = System.getProperty(&quot;line.separator&quot;);\r\n\r\n    try {\r\n        while(scanner.hasNextLine()) {        \r\n            fileContents.append(scanner.nextLine() + lineSeparator);\r\n        }\r\n        return fileContents.toString();\r\n    } finally {\r\n        scanner.close();\r\n    }\r\n    }\r\n\r\nstill has one flaw. It always puts new line char in the end of string, which may cause some weirds bugs. My suggestion is to change it to:\r\n\r\n    \tprivate String readFile(String pathname) throws IOException {\r\n\t\tFile file = new File(pathname);\r\n\t\tStringBuilder fileContents = new StringBuilder((int) file.length());\r\n\t\tScanner scanner = new Scanner(new BufferedReader(new FileReader(file)));\r\n\t\tString lineSeparator = System.getProperty(&quot;line.separator&quot;);\r\n\r\n\t\ttry {\r\n\t\t\tif (scanner.hasNextLine()) {\r\n\t\t\t\tfileContents.append(scanner.nextLine());\r\n\t\t\t}\r\n\t\t\twhile (scanner.hasNextLine()) {\r\n\t\t\t\tfileContents.append(lineSeparator + scanner.nextLine());\r\n\t\t\t}\r\n\t\t\treturn fileContents.toString();\r\n\t\t} finally {\r\n\t\t\tscanner.close();\r\n\t\t}\r\n\t}\r\n","title":"How do I create a Java string from the contents of a file?","body":"<p>I cannot comment other entries yet, so I'll just leave it here.</p>\n\n<p>One of best answers here (<a href=\"https://stackoverflow.com/a/326448/1521167\">https://stackoverflow.com/a/326448/1521167</a>):</p>\n\n<pre><code>private String readFile(String pathname) throws IOException {\n\nFile file = new File(pathname);\nStringBuilder fileContents = new StringBuilder((int)file.length());\nScanner scanner = new Scanner(file);\nString lineSeparator = System.getProperty(\"line.separator\");\n\ntry {\n    while(scanner.hasNextLine()) {        \n        fileContents.append(scanner.nextLine() + lineSeparator);\n    }\n    return fileContents.toString();\n} finally {\n    scanner.close();\n}\n}\n</code></pre>\n\n<p>still has one flaw. It always puts new line char in the end of string, which may cause some weirds bugs. My suggestion is to change it to:</p>\n\n<pre><code>    private String readFile(String pathname) throws IOException {\n    File file = new File(pathname);\n    StringBuilder fileContents = new StringBuilder((int) file.length());\n    Scanner scanner = new Scanner(new BufferedReader(new FileReader(file)));\n    String lineSeparator = System.getProperty(\"line.separator\");\n\n    try {\n        if (scanner.hasNextLine()) {\n            fileContents.append(scanner.nextLine());\n        }\n        while (scanner.hasNextLine()) {\n            fileContents.append(lineSeparator + scanner.nextLine());\n        }\n        return fileContents.toString();\n    } finally {\n        scanner.close();\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":262595,"reputation":977,"user_id":547569,"display_name":"tmoschou"},"score":1,"creation_date":1637796507,"post_id":26626047,"comment_id":123924863,"body_markdown":"The stream returned by `Files.lines(Paths.get(&quot;file.txt&quot;))` is not closed and is a resource leak. You should wrap in a try-with-resources block.","body":"The stream returned by <code>Files.lines(Paths.get(&quot;file.txt&quot;))</code> is not closed and is a resource leak. You should wrap in a try-with-resources block."}],"tags":[],"owner":{"account_id":104034,"reputation":4736,"user_id":278345,"accept_rate":83,"display_name":"Andrei N"},"comment_count":1,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1472815881,"creation_date":1414572718,"answer_id":26626047,"question_id":326390,"body_markdown":"If you need a string processing (parallel processing) Java 8 has the great Stream API.\r\n\r\n    String result = Files.lines(Paths.get(&quot;file.txt&quot;))\r\n                        .parallel() // for parallel processing \r\n                        .map(String::trim) // to change line   \r\n                        .filter(line -&gt; line.length() &gt; 2) // to filter some lines by a predicate                        \r\n                        .collect(Collectors.joining()); // to join lines\r\nMore examples are available in JDK samples `sample/lambda/BulkDataOperations` that can be downloaded from [Oracle Java SE 8 download page][1] \r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\r\n\r\nAnother one liner example\r\n\r\n    String out = String.join(&quot;\\n&quot;, Files.readAllLines(Paths.get(&quot;file.txt&quot;)));\r\n","title":"How do I create a Java string from the contents of a file?","body":"<p>If you need a string processing (parallel processing) Java 8 has the great Stream API.</p>\n\n<pre><code>String result = Files.lines(Paths.get(\"file.txt\"))\n                    .parallel() // for parallel processing \n                    .map(String::trim) // to change line   \n                    .filter(line -&gt; line.length() &gt; 2) // to filter some lines by a predicate                        \n                    .collect(Collectors.joining()); // to join lines\n</code></pre>\n\n<p>More examples are available in JDK samples <code>sample/lambda/BulkDataOperations</code> that can be downloaded from <a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html\">Oracle Java SE 8 download page</a> </p>\n\n<p>Another one liner example</p>\n\n<pre><code>String out = String.join(\"\\n\", Files.readAllLines(Paths.get(\"file.txt\")));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":96769,"reputation":8248,"user_id":262852,"accept_rate":65,"display_name":"Thufir"},"score":0,"creation_date":1546159702,"post_id":27805207,"comment_id":94790184,"body_markdown":"example charset to invoke?","body":"example charset to invoke?"}],"tags":[],"owner":{"account_id":1146772,"reputation":31458,"user_id":1129332,"accept_rate":61,"display_name":"Ilya Gazman"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1542113402,"creation_date":1420570379,"answer_id":27805207,"question_id":326390,"body_markdown":"If you do not have access to the `Files` class, you can use a native solution.\r\n\r\n    static String readFile(File file, String charset)\r\n            throws IOException\r\n    {\r\n        FileInputStream fileInputStream = new FileInputStream(file);\r\n        byte[] buffer = new byte[fileInputStream.available()];\r\n        int length = fileInputStream.read(buffer);\r\n        fileInputStream.close();\r\n        return new String(buffer, 0, length, charset);\r\n    }","title":"How do I create a Java string from the contents of a file?","body":"<p>If you do not have access to the <code>Files</code> class, you can use a native solution.</p>\n\n<pre><code>static String readFile(File file, String charset)\n        throws IOException\n{\n    FileInputStream fileInputStream = new FileInputStream(file);\n    byte[] buffer = new byte[fileInputStream.available()];\n    int length = fileInputStream.read(buffer);\n    fileInputStream.close();\n    return new String(buffer, 0, length, charset);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1518433,"reputation":1029,"user_id":1418838,"display_name":"Haakon L&#248;tveit"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448806192,"creation_date":1448806192,"answer_id":33983716,"question_id":326390,"body_markdown":"After Ctrl+F&#39;ing after Scanner, I think that the Scanner solution should be listed too. In the easiest to read fashion it goes like this:\r\n\r\n    public String fileToString(File file, Charset charset) {\r\n      Scanner fileReader = new Scanner(file, charset);\r\n      fileReader.useDelimiter(&quot;\\\\Z&quot;); // \\Z means EOF.\r\n      String out = fileReader.next();\r\n      fileReader.close();\r\n      return out;\r\n    }\r\n\r\nIf you use Java 7 or newer (and you really should) consider using try-with-resources to make the code easier to read. No more dot-close stuff littering everything. But that&#39;s mostly a stylistic choice methinks.\r\n\r\nI&#39;m posting this mostly for completionism, since if you need to do this a lot, there should be things in [java.nio.file.Files](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html) that should do the job better.\r\n\r\nMy suggestion would be to use [Files#readAllBytes(Path)](http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllBytes%28java.nio.file.Path%29) to grab all the bytes, and feed it to new [String(byte[] Charset)](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html) to get a String out of it that you can trust. Charsets will be mean to you during your lifetime, so beware of this stuff now.\r\n\r\nOthers have given code and stuff, and I don&#39;t want to steal their glory. ;)","title":"How do I create a Java string from the contents of a file?","body":"<p>After Ctrl+F'ing after Scanner, I think that the Scanner solution should be listed too. In the easiest to read fashion it goes like this:</p>\n\n<pre><code>public String fileToString(File file, Charset charset) {\n  Scanner fileReader = new Scanner(file, charset);\n  fileReader.useDelimiter(\"\\\\Z\"); // \\Z means EOF.\n  String out = fileReader.next();\n  fileReader.close();\n  return out;\n}\n</code></pre>\n\n<p>If you use Java 7 or newer (and you really should) consider using try-with-resources to make the code easier to read. No more dot-close stuff littering everything. But that's mostly a stylistic choice methinks.</p>\n\n<p>I'm posting this mostly for completionism, since if you need to do this a lot, there should be things in <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html\" rel=\"nofollow\">java.nio.file.Files</a> that should do the job better.</p>\n\n<p>My suggestion would be to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#readAllBytes%28java.nio.file.Path%29\" rel=\"nofollow\">Files#readAllBytes(Path)</a> to grab all the bytes, and feed it to new <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow\">String(byte[] Charset)</a> to get a String out of it that you can trust. Charsets will be mean to you during your lifetime, so beware of this stuff now.</p>\n\n<p>Others have given code and stuff, and I don't want to steal their glory. ;)</p>\n"},{"tags":[],"owner":{"account_id":1334061,"reputation":12962,"user_id":1277252,"accept_rate":89,"display_name":"Moritz Petersen"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1656959727,"creation_date":1461083946,"answer_id":36724425,"question_id":326390,"body_markdown":"With Java 7, this is my preferred option to read a UTF-8 file:\r\n\r\n    String content = new String(Files.readAllBytes(Paths.get(filename)), &quot;UTF-8&quot;);\r\n\r\nSince Java 7, the JDK has the new `java.nio.file` API, which provides many shortcuts, so 3rd party libraries are not always required for simple file operations.\r\n\r\n----\r\n\r\nSince people are still upvoting this answer, here is a better solution that got introduced in Java 11:\r\n\r\n```Java\r\nString content = Files.readString(path);\r\n```","title":"How do I create a Java string from the contents of a file?","body":"<p>With Java 7, this is my preferred option to read a UTF-8 file:</p>\n<pre><code>String content = new String(Files.readAllBytes(Paths.get(filename)), &quot;UTF-8&quot;);\n</code></pre>\n<p>Since Java 7, the JDK has the new <code>java.nio.file</code> API, which provides many shortcuts, so 3rd party libraries are not always required for simple file operations.</p>\n<hr />\n<p>Since people are still upvoting this answer, here is a better solution that got introduced in Java 11:</p>\n<pre><code>String content = Files.readString(path);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3454996,"reputation":5649,"user_id":2893693,"accept_rate":83,"display_name":"J-J"},"comment_count":0,"down_vote_count":0,"up_vote_count":162,"is_accepted":false,"score":162,"last_activity_date":1644736704,"creation_date":1477638257,"answer_id":40299794,"question_id":326390,"body_markdown":"    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n\r\n**Java 7**\r\n\r\n    String content = new String(Files.readAllBytes(Paths.get(&quot;readMe.txt&quot;)), StandardCharsets.UTF_8);\r\n\r\n**Java 11**\r\n\r\n    String content = Files.readString(Paths.get(&quot;readMe.txt&quot;));","title":"How do I create a Java string from the contents of a file?","body":"<pre><code>import java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n</code></pre>\n<p><strong>Java 7</strong></p>\n<pre><code>String content = new String(Files.readAllBytes(Paths.get(&quot;readMe.txt&quot;)), StandardCharsets.UTF_8);\n</code></pre>\n<p><strong>Java 11</strong></p>\n<pre><code>String content = Files.readString(Paths.get(&quot;readMe.txt&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2058603"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1481026575,"creation_date":1481025640,"answer_id":40994903,"question_id":326390,"body_markdown":"in java 8 , there are a new Class \r\n\r\n&gt; java.util.stream.Stream\r\n\r\nA stream represents a sequence of elements and supports different kind of operations to perform computations upon those elements\r\n\r\nto Read more about it :\r\n\r\n[Oracle Documentation][1]\r\n\r\n\r\nHere an Example :\r\n\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.stream.Stream;\r\n    \r\n    public Class ReadFile{\r\n      public  static String readFile(String filePath) {\r\n     StringBuilder  stringBuilder = new StringBuilder();\r\n        String ls = System.getProperty(&quot;line.separator&quot;);\r\n            try {\r\n    \r\n                try (Stream&lt;String&gt; lines = Files.lines(Paths.get(filePath), StandardCharsets.UTF_8)) {\r\n                    for (String line : (Iterable&lt;String&gt;) lines::iterator) {\r\n                       \r\n   \r\n                          stringBuilder.append(line);\r\n                          stringBuilder.append(ls);\r\n \r\n \r\n                    }\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            \r\n          return stringBuilder.toString(); \r\n        \r\n   \r\n    }\r\n    \r\n    }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\r\n","title":"How do I create a Java string from the contents of a file?","body":"<p>in java 8 , there are a new Class </p>\n\n<blockquote>\n  <p>java.util.stream.Stream</p>\n</blockquote>\n\n<p>A stream represents a sequence of elements and supports different kind of operations to perform computations upon those elements</p>\n\n<p>to Read more about it :</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\">Oracle Documentation</a></p>\n\n<p>Here an Example :</p>\n\n<pre><code>import java.nio.charset.StandardCharsets;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.stream.Stream;\n\npublic Class ReadFile{\n  public  static String readFile(String filePath) {\n StringBuilder  stringBuilder = new StringBuilder();\n    String ls = System.getProperty(\"line.separator\");\n        try {\n\n            try (Stream&lt;String&gt; lines = Files.lines(Paths.get(filePath), StandardCharsets.UTF_8)) {\n                for (String line : (Iterable&lt;String&gt;) lines::iterator) {\n\n\n                      stringBuilder.append(line);\n                      stringBuilder.append(ls);\n\n\n                }\n            }\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n      return stringBuilder.toString(); \n\n\n}\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2574425,"reputation":4741,"user_id":2232458,"accept_rate":60,"display_name":"Ari"},"score":1,"creation_date":1501553605,"post_id":41077389,"comment_id":77817055,"body_markdown":"if the lines inside the library are not counted.","body":"if the lines inside the library are not counted."}],"tags":[],"owner":{"account_id":73141,"reputation":10927,"user_id":210791,"accept_rate":57,"display_name":"satnam"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481385340,"creation_date":1481385340,"answer_id":41077389,"question_id":326390,"body_markdown":"Using [this library][1], it is one line:\r\n\r\n    String data = IO.from(new File(&quot;data.txt&quot;)).toString();\r\n\r\n\r\n  [1]: https://github.com/mirraj2/Ox","title":"How do I create a Java string from the contents of a file?","body":"<p>Using <a href=\"https://github.com/mirraj2/Ox\" rel=\"nofollow noreferrer\">this library</a>, it is one line:</p>\n\n<pre><code>String data = IO.from(new File(\"data.txt\")).toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2541151,"reputation":771,"user_id":2206934,"display_name":"Devram Kandhare"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1484549619,"creation_date":1484549619,"answer_id":41670919,"question_id":326390,"body_markdown":"Use code:\r\n\r\n    File file = new File(&quot;input.txt&quot;);\r\n    BufferedInputStream bin = new BufferedInputStream(new FileInputStream(\r\n    \t\t\t\tfile));\r\n    byte[] buffer = new byte[(int) file.length()];\r\n    bin.read(buffer);\r\n    String fileStr = new String(buffer);\r\n\r\nfileStr contains output in String.","title":"How do I create a Java string from the contents of a file?","body":"<p>Use code:</p>\n\n<pre><code>File file = new File(\"input.txt\");\nBufferedInputStream bin = new BufferedInputStream(new FileInputStream(\n                file));\nbyte[] buffer = new byte[(int) file.length()];\nbin.read(buffer);\nString fileStr = new String(buffer);\n</code></pre>\n\n<p>fileStr contains output in String.</p>\n"},{"tags":[],"owner":{"account_id":398330,"reputation":554,"user_id":762956,"accept_rate":20,"display_name":"jamesjara"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486447825,"creation_date":1486447825,"answer_id":42082895,"question_id":326390,"body_markdown":"You can try Scanner and File class, a few lines solution\r\n\r\n\r\n\r\n     try\r\n    {\r\n      String content = new Scanner(new File(&quot;file.txt&quot;)).useDelimiter(&quot;\\\\Z&quot;).next();\r\n      System.out.println(content);\r\n    }\r\n    catch(FileNotFoundException e)\r\n    {\r\n      System.out.println(&quot;not found!&quot;);\r\n    }","title":"How do I create a Java string from the contents of a file?","body":"<p>You can try Scanner and File class, a few lines solution</p>\n\n<pre><code> try\n{\n  String content = new Scanner(new File(\"file.txt\")).useDelimiter(\"\\\\Z\").next();\n  System.out.println(content);\n}\ncatch(FileNotFoundException e)\n{\n  System.out.println(\"not found!\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487193344,"creation_date":1487193344,"answer_id":42260208,"question_id":326390,"body_markdown":"Also if your file happens to be inside a jar, you can also use this:\r\n\r\n    public String fromFileInJar(String path) {\r\n\t\ttry ( Scanner scanner \r\n                = new Scanner(getClass().getResourceAsStream(path))) {\r\n\t\t\treturn scanner.useDelimiter(&quot;\\\\A&quot;).next();\r\n\t\t}\r\n    }\r\n\r\nThe path should start with `/`  for instance if your jar is\r\n\r\n    my.jar/com/some/thing/a.txt\r\n\r\nThen you want to invoke it like this:\r\n\r\n    String myTxt = fromFileInJar(&quot;/com/com/thing/a.txt&quot;);\r\n","title":"How do I create a Java string from the contents of a file?","body":"<p>Also if your file happens to be inside a jar, you can also use this:</p>\n\n<pre><code>public String fromFileInJar(String path) {\n    try ( Scanner scanner \n            = new Scanner(getClass().getResourceAsStream(path))) {\n        return scanner.useDelimiter(\"\\\\A\").next();\n    }\n}\n</code></pre>\n\n<p>The path should start with <code>/</code>  for instance if your jar is</p>\n\n<pre><code>my.jar/com/some/thing/a.txt\n</code></pre>\n\n<p>Then you want to invoke it like this:</p>\n\n<pre><code>String myTxt = fromFileInJar(\"/com/com/thing/a.txt\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1478876,"reputation":1042,"user_id":1388639,"display_name":"Malcolm Boekhoff"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1489545545,"creation_date":1489545545,"answer_id":42800158,"question_id":326390,"body_markdown":"In one line (Java 8), assuming you have a Reader:\r\n\r\n    String sMessage = String.join(&quot;\\n&quot;, reader.lines().collect(Collectors.toList()));\r\n\r\n","title":"How do I create a Java string from the contents of a file?","body":"<p>In one line (Java 8), assuming you have a Reader:</p>\n\n<pre><code>String sMessage = String.join(\"\\n\", reader.lines().collect(Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9429443,"reputation":449,"user_id":7013460,"display_name":"Muskovets"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1525948763,"creation_date":1522589694,"answer_id":49598618,"question_id":326390,"body_markdown":"Based on @erickson`s answer, you can use:\r\n  \r\n    public String readAll(String fileName) throws IOException {\r\n        List&lt;String&gt; lines = Files.readAllLines(new File(fileName).toPath());\r\n        return String.join(&quot;\\n&quot;, lines.toArray(new String[lines.size()]));\r\n    }","title":"How do I create a Java string from the contents of a file?","body":"<p>Based on @erickson`s answer, you can use:</p>\n\n<pre><code>public String readAll(String fileName) throws IOException {\n    List&lt;String&gt; lines = Files.readAllLines(new File(fileName).toPath());\n    return String.join(\"\\n\", lines.toArray(new String[lines.size()]));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1534487018,"creation_date":1527588542,"answer_id":50581691,"question_id":326390,"body_markdown":"Gathered all the possible ways to read the File as String from Disk or Network.\r\n\r\n * [Guava: Google](https://github.com/google/guava) using classes [`Resources`](https://google.github.io/guava/releases/21.0/api/docs/com/google/common/io/Resources), [`Files`](https://google.github.io/guava/releases/21.0/api/docs/com/google/common/io/Files)\r\n\r\n\t&lt;!-- language: lang-java --&gt;\r\n\r\n\t\tstatic Charset charset = com.google.common.base.Charsets.UTF_8;\r\n\t\tpublic static String guava_ServerFile( URL url ) throws IOException {\r\n\t\t\treturn Resources.toString( url, charset );\r\n\t\t}\r\n\t\tpublic static String guava_DiskFile( File file ) throws IOException {\r\n\t\t\treturn Files.toString( file, charset );\r\n\t\t}\r\n\r\n\t&lt;!-- language: lang-java --&gt;\r\n\r\n---\r\n\r\n * [APACHE - COMMONS IO](http://commons.apache.org/proper/commons-io/description.html) using classes IOUtils, FileUtils\r\n\r\n\t&lt;!-- language: lang-java --&gt;\r\n\t\r\n\t\tstatic Charset encoding = org.apache.commons.io.Charsets.UTF_8;\r\n\t\tpublic static String commons_IOUtils( URL url ) throws IOException {\r\n\t\t\tjava.io.InputStream in = url.openStream();\r\n\t\t\ttry {\r\n\t\t\t\treturn IOUtils.toString( in, encoding );\r\n\t\t\t} finally {\r\n\t\t\t\tIOUtils.closeQuietly(in);\r\n\t\t\t}\r\n\t\t}\r\n\t\tpublic static String commons_FileUtils( File file ) throws IOException {\r\n\t\t\treturn FileUtils.readFileToString( file, encoding );\r\n\t\t\t/*List&lt;String&gt; lines = FileUtils.readLines( fileName, encoding );\r\n\t\t\treturn lines.stream().collect( Collectors.joining(&quot;\\n&quot;) );*/\r\n\t\t}\r\n\t\r\n\t&lt;!-- language: lang-java --&gt;\r\n\r\n---\r\n\r\n * Java 8 [BufferReader](https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html) using [Stream API](http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html)\r\n\r\n\t&lt;!-- language: lang-java --&gt;\r\n\t\r\n\t\tpublic static String streamURL_Buffer( URL url ) throws IOException {\r\n\t\t\tjava.io.InputStream source = url.openStream();\r\n\t\t\tBufferedReader reader = new BufferedReader( new InputStreamReader( source ) );\r\n\t\t\t//List&lt;String&gt; lines = reader.lines().collect( Collectors.toList() );\r\n\t\t\treturn reader.lines().collect( Collectors.joining( System.lineSeparator() ) );\r\n\t\t}\r\n\t\tpublic static String streamFile_Buffer( File file ) throws IOException {\r\n\t\t\tBufferedReader reader = new BufferedReader( new FileReader( file ) );\r\n\t\t\treturn reader.lines().collect(Collectors.joining(System.lineSeparator()));\r\n\t\t}\r\n\t\r\n\t&lt;!-- language: lang-java --&gt;\r\n\r\n---\r\n\r\n * Scanner Class with regex `\\A`. which matches the beginning of input.\r\n\r\n\t&lt;!-- language: lang-java --&gt;\r\n\t\r\n\t\tstatic String charsetName = java.nio.charset.StandardCharsets.UTF_8.toString();\r\n\t\tpublic static String streamURL_Scanner( URL url ) throws IOException {\r\n\t\t\tjava.io.InputStream source = url.openStream();\r\n\t\t\tScanner scanner = new Scanner(source, charsetName).useDelimiter(&quot;\\\\A&quot;);\r\n\t\t\treturn scanner.hasNext() ? scanner.next() : &quot;&quot;;\r\n\t\t}\r\n\t\tpublic static String streamFile_Scanner( File file ) throws IOException {\r\n\t\t\tScanner scanner = new Scanner(file, charsetName).useDelimiter(&quot;\\\\A&quot;);\r\n\t\t\treturn scanner.hasNext() ? scanner.next() : &quot;&quot;;\r\n\t\t}\r\n\t\r\n\t&lt;!-- language: lang-java --&gt;\r\n\r\n---\r\n\r\n * Java 7 (`java.nio.file.Files.readAllBytes`)\r\n\r\n\t&lt;!-- language: lang-java --&gt;\r\n\t\r\n\t\tpublic static String getDiskFile_Java7( File file ) throws IOException {\r\n\t\t\tbyte[] readAllBytes = java.nio.file.Files.readAllBytes(Paths.get( file.getAbsolutePath() ));\r\n\t\t\treturn new String( readAllBytes );\r\n\t\t}\r\n\t\r\n\t&lt;!-- language: lang-java --&gt;\r\n\r\n---\r\n\r\n * `BufferedReader` using `InputStreamReader`.\r\n\r\n\t&lt;!-- language: lang-java --&gt;\r\n\t\r\n\t\tpublic static String getDiskFile_Lines( File file ) throws IOException {\r\n\t\t\tStringBuffer text = new StringBuffer();\r\n\t\t\tFileInputStream fileStream = new FileInputStream( file );\r\n\t\t\tBufferedReader br = new BufferedReader( new InputStreamReader( fileStream ) );\r\n\t\t\tfor ( String line; (line = br.readLine()) != null; )\r\n\t\t\t\ttext.append( line + System.lineSeparator() );\r\n\t\t\treturn text.toString();\r\n\t\t}\r\n\t\r\n\t&lt;!-- language: lang-java --&gt;\r\n\r\n---\r\n\r\nExample with main method to access the above methods.\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\t\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\tString fileName = &quot;E:/parametarisation.csv&quot;;\r\n\t\tFile file = new File( fileName );\r\n\t\t\r\n\t\tString fileStream = commons_FileUtils( file );\r\n\t\t\t\t// guava_DiskFile( file );\r\n\t\t\t\t// streamFile_Buffer( file );\r\n\t\t\t\t// getDiskFile_Java7( file );\r\n\t\t\t\t// getDiskFile_Lines( file );\r\n\t\tSystem.out.println( &quot; File Over Disk : \\n&quot;+ fileStream );\r\n\t\t\r\n\t\t\r\n\t\ttry {\r\n\t\t\tString src = &quot;https://code.jquery.com/jquery-3.2.1.js&quot;;\r\n\t\t\tURL url = new URL( src );\r\n\t\t\t\r\n\t\t\tString urlStream = commons_IOUtils( url );\r\n\t\t\t\t\t// guava_ServerFile( url );\r\n\t\t\t\t\t// streamURL_Scanner( url );\r\n\t\t\t\t\t// streamURL_Buffer( url );\r\n\t\t\tSystem.out.println( &quot; File Over Network : \\n&quot;+ urlStream );\r\n\t\t} catch (MalformedURLException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n----\r\n\r\n@see\r\n\r\n * [Ways to convert an InputStream to a String](https://stackoverflow.com/a/35446009/5081877)","title":"How do I create a Java string from the contents of a file?","body":"<p>Gathered all the possible ways to read the File as String from Disk or Network.</p>\n\n<ul>\n<li><p><a href=\"https://github.com/google/guava\" rel=\"noreferrer\">Guava: Google</a> using classes <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/io/Resources\" rel=\"noreferrer\"><code>Resources</code></a>, <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/io/Files\" rel=\"noreferrer\"><code>Files</code></a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static Charset charset = com.google.common.base.Charsets.UTF_8;\npublic static String guava_ServerFile( URL url ) throws IOException {\n    return Resources.toString( url, charset );\n}\npublic static String guava_DiskFile( File file ) throws IOException {\n    return Files.toString( file, charset );\n}\n</code></pre>\n\n</li>\n</ul>\n\n<hr>\n\n<ul>\n<li><p><a href=\"http://commons.apache.org/proper/commons-io/description.html\" rel=\"noreferrer\">APACHE - COMMONS IO</a> using classes IOUtils, FileUtils</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static Charset encoding = org.apache.commons.io.Charsets.UTF_8;\npublic static String commons_IOUtils( URL url ) throws IOException {\n    java.io.InputStream in = url.openStream();\n    try {\n        return IOUtils.toString( in, encoding );\n    } finally {\n        IOUtils.closeQuietly(in);\n    }\n}\npublic static String commons_FileUtils( File file ) throws IOException {\n    return FileUtils.readFileToString( file, encoding );\n    /*List&lt;String&gt; lines = FileUtils.readLines( fileName, encoding );\n    return lines.stream().collect( Collectors.joining(\"\\n\") );*/\n}\n</code></pre>\n\n</li>\n</ul>\n\n<hr>\n\n<ul>\n<li><p>Java 8 <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/BufferedReader.html\" rel=\"noreferrer\">BufferReader</a> using <a href=\"http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html\" rel=\"noreferrer\">Stream API</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String streamURL_Buffer( URL url ) throws IOException {\n    java.io.InputStream source = url.openStream();\n    BufferedReader reader = new BufferedReader( new InputStreamReader( source ) );\n    //List&lt;String&gt; lines = reader.lines().collect( Collectors.toList() );\n    return reader.lines().collect( Collectors.joining( System.lineSeparator() ) );\n}\npublic static String streamFile_Buffer( File file ) throws IOException {\n    BufferedReader reader = new BufferedReader( new FileReader( file ) );\n    return reader.lines().collect(Collectors.joining(System.lineSeparator()));\n}\n</code></pre>\n\n</li>\n</ul>\n\n<hr>\n\n<ul>\n<li><p>Scanner Class with regex <code>\\A</code>. which matches the beginning of input.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static String charsetName = java.nio.charset.StandardCharsets.UTF_8.toString();\npublic static String streamURL_Scanner( URL url ) throws IOException {\n    java.io.InputStream source = url.openStream();\n    Scanner scanner = new Scanner(source, charsetName).useDelimiter(\"\\\\A\");\n    return scanner.hasNext() ? scanner.next() : \"\";\n}\npublic static String streamFile_Scanner( File file ) throws IOException {\n    Scanner scanner = new Scanner(file, charsetName).useDelimiter(\"\\\\A\");\n    return scanner.hasNext() ? scanner.next() : \"\";\n}\n</code></pre>\n\n</li>\n</ul>\n\n<hr>\n\n<ul>\n<li><p>Java 7 (<code>java.nio.file.Files.readAllBytes</code>)</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String getDiskFile_Java7( File file ) throws IOException {\n    byte[] readAllBytes = java.nio.file.Files.readAllBytes(Paths.get( file.getAbsolutePath() ));\n    return new String( readAllBytes );\n}\n</code></pre>\n\n</li>\n</ul>\n\n<hr>\n\n<ul>\n<li><p><code>BufferedReader</code> using <code>InputStreamReader</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String getDiskFile_Lines( File file ) throws IOException {\n    StringBuffer text = new StringBuffer();\n    FileInputStream fileStream = new FileInputStream( file );\n    BufferedReader br = new BufferedReader( new InputStreamReader( fileStream ) );\n    for ( String line; (line = br.readLine()) != null; )\n        text.append( line + System.lineSeparator() );\n    return text.toString();\n}\n</code></pre>\n\n</li>\n</ul>\n\n<hr>\n\n<p>Example with main method to access the above methods.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) throws IOException {\n    String fileName = \"E:/parametarisation.csv\";\n    File file = new File( fileName );\n\n    String fileStream = commons_FileUtils( file );\n            // guava_DiskFile( file );\n            // streamFile_Buffer( file );\n            // getDiskFile_Java7( file );\n            // getDiskFile_Lines( file );\n    System.out.println( \" File Over Disk : \\n\"+ fileStream );\n\n\n    try {\n        String src = \"https://code.jquery.com/jquery-3.2.1.js\";\n        URL url = new URL( src );\n\n        String urlStream = commons_IOUtils( url );\n                // guava_ServerFile( url );\n                // streamURL_Scanner( url );\n                // streamURL_Buffer( url );\n        System.out.println( \" File Over Network : \\n\"+ urlStream );\n    } catch (MalformedURLException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>@see</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/a/35446009/5081877\">Ways to convert an InputStream to a String</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":2030250,"reputation":438,"user_id":1814159,"accept_rate":67,"display_name":"Jean-Christophe Blanchard"},"score":0,"creation_date":1543487439,"post_id":50961164,"comment_id":93941292,"body_markdown":"Duplicate of Moritz Petersen answer who wrote:String content = new String(Files.readAllBytes(Paths.get(filename)), &quot;UTF-8&quot;);","body":"Duplicate of Moritz Petersen answer who wrote:String content = new String(Files.readAllBytes(Paths.get(filename)), &quot;UTF-8&quot;);"}],"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":1,"down_vote_count":3,"up_vote_count":14,"is_accepted":false,"score":11,"last_activity_date":1531933391,"creation_date":1529560000,"answer_id":50961164,"question_id":326390,"body_markdown":"Using JDK 8 or above:\r\n=====================\r\n\r\n***no external libraries used***\r\n\r\nYou can create a new String object from the file content (Using classes from `java.nio.file` package):\r\n\r\n    public String readStringFromFile(String filePath) throws IOException {\r\n \t\tString fileContent = new String(Files.readAllBytes(Paths.get(filePath)));\r\n    \treturn fileContent;\r\n    }","title":"How do I create a Java string from the contents of a file?","body":"<h1>Using JDK 8 or above:</h1>\n\n<p><strong><em>no external libraries used</em></strong></p>\n\n<p>You can create a new String object from the file content (Using classes from <code>java.nio.file</code> package):</p>\n\n<pre><code>public String readStringFromFile(String filePath) throws IOException {\n    String fileContent = new String(Files.readAllBytes(Paths.get(filePath)));\n    return fileContent;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1250241,"reputation":328,"user_id":1638549,"display_name":"mryan"},"score":0,"creation_date":1537775344,"post_id":51045324,"comment_id":91891004,"body_markdown":"Why, oh why, introduce new methods that rely on the default charset in 2018 ?","body":"Why, oh why, introduce new methods that rely on the default charset in 2018 ?"},{"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"score":3,"creation_date":1537789185,"post_id":51045324,"comment_id":91898033,"body_markdown":"@mryan this method doesn&#39;t rely on the default system charset. It defaults to UTF-8, that is fine.","body":"@mryan this method doesn&#39;t rely on the default system charset. It defaults to UTF-8, that is fine."},{"owner":{"account_id":1250241,"reputation":328,"user_id":1638549,"display_name":"mryan"},"score":1,"creation_date":1537882481,"post_id":51045324,"comment_id":91939590,"body_markdown":"@leventov you&#39;re right ! so does Files.readAllLines ! that makes the files API not very consistent with older methods but it&#39;s for the better :)","body":"@leventov you&#39;re right ! so does Files.readAllLines ! that makes the files API not very consistent with older methods but it&#39;s for the better :)"}],"tags":[],"owner":{"account_id":326925,"reputation":14868,"user_id":648955,"accept_rate":62,"display_name":"leventov"},"comment_count":3,"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1530023204,"creation_date":1530023204,"answer_id":51045324,"question_id":326390,"body_markdown":"Since JDK 11:\r\n\r\n    String file = ...\r\n    Path path = Paths.get(file);\r\n    String content = Files.readString(path);\r\n    // Or readString(path, someCharset), if you need a Charset different from UTF-8","title":"How do I create a Java string from the contents of a file?","body":"<p>Since JDK 11:</p>\n\n<pre><code>String file = ...\nPath path = Paths.get(file);\nString content = Files.readString(path);\n// Or readString(path, someCharset), if you need a Charset different from UTF-8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1540535913,"creation_date":1540535913,"answer_id":53002842,"question_id":326390,"body_markdown":"User `java.nio.Files` to read all lines of file.\r\n\r\n    public String readFile() throws IOException {\r\n    \t\tFile fileToRead = new File(&quot;file path&quot;);\r\n    \t\tList&lt;String&gt; fileLines = Files.readAllLines(fileToRead.toPath());\r\n    \t\treturn StringUtils.join(fileLines, StringUtils.EMPTY);\r\n    }","title":"How do I create a Java string from the contents of a file?","body":"<p>User <code>java.nio.Files</code> to read all lines of file.</p>\n\n<pre><code>public String readFile() throws IOException {\n        File fileToRead = new File(\"file path\");\n        List&lt;String&gt; fileLines = Files.readAllLines(fileToRead.toPath());\n        return StringUtils.join(fileLines, StringUtils.EMPTY);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23649881,"reputation":141,"user_id":17678908,"display_name":"TheWaterWave222"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643999950,"creation_date":1643999950,"answer_id":70991313,"question_id":326390,"body_markdown":"```Java\r\nScanner sc = new Scanner(new File(&quot;yourFile.txt&quot;));\r\nsc.useDelimiter(&quot;\\\\Z&quot;);\r\n\r\nString s = sc.next();","title":"How do I create a Java string from the contents of a file?","body":"<pre><code>Scanner sc = new Scanner(new File(&quot;yourFile.txt&quot;));\nsc.useDelimiter(&quot;\\\\Z&quot;);\n\nString s = sc.next();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13518167,"reputation":773,"user_id":9752209,"display_name":"Omkar T"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1668711314,"creation_date":1668711314,"answer_id":74480704,"question_id":326390,"body_markdown":"### Pure kotlin code with no dependencies\r\nWorks on all android versions\r\n\r\n    val fileAsString = file.bufferedReader().use { it.readText() }\r\n\r\n","title":"How do I create a Java string from the contents of a file?","body":"<h3>Pure kotlin code with no dependencies</h3>\n<p>Works on all android versions</p>\n<pre><code>val fileAsString = file.bufferedReader().use { it.readText() }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16634826,"reputation":23,"user_id":12021793,"display_name":"Johan Esteban Ca&#241;as Ossa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674527939,"creation_date":1674527939,"answer_id":75216949,"question_id":326390,"body_markdown":"Using BufferedReader as mentioned in comments before but this way is more readable:\r\n\r\n```\r\nString FILE_PATH = &quot;filepath.txt&quot;;\r\n\r\ntry (FileReader fileReader = new FileReader(FILE_PATH)) {\r\n    BufferedReader fileBufferReader = new BufferedReader(fileReader);\r\n    String text = fileBufferReader.lines()\r\n        .collect(Collectors.joining(System.lineSeparator()));\r\n    System.out.println(text);\r\n} catch (IOException e) {\r\n    // exception handling\r\n}\r\n\r\n```","title":"How do I create a Java string from the contents of a file?","body":"<p>Using BufferedReader as mentioned in comments before but this way is more readable:</p>\n<pre><code>String FILE_PATH = &quot;filepath.txt&quot;;\n\ntry (FileReader fileReader = new FileReader(FILE_PATH)) {\n    BufferedReader fileBufferReader = new BufferedReader(fileReader);\n    String text = fileBufferReader.lines()\n        .collect(Collectors.joining(System.lineSeparator()));\n    System.out.println(text);\n} catch (IOException e) {\n    // exception handling\n}\n\n</code></pre>\n"}],"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1683709,"favorite_count":0,"down_vote_count":3,"up_vote_count":1763,"accepted_answer_id":326440,"answer_count":35,"score":1760,"last_activity_date":1674527939,"creation_date":1227897127,"question_id":326390,"body_markdown":"I&#39;ve been using the idiom below for some time now. And it seems to be the most wide-spread, at least on the sites I&#39;ve visited.\r\n\r\nIs there a better/different way to read a file into a string in Java?\r\n\r\n    private String readFile(String file) throws IOException {\r\n        BufferedReader reader = new BufferedReader(new FileReader (file));\r\n        String         line = null;\r\n        StringBuilder  stringBuilder = new StringBuilder();\r\n        String         ls = System.getProperty(&quot;line.separator&quot;);\r\n\r\n        try {\r\n            while((line = reader.readLine()) != null) {\r\n                stringBuilder.append(line);\r\n                stringBuilder.append(ls);\r\n            }\r\n\r\n            return stringBuilder.toString();\r\n        } finally {\r\n            reader.close();\r\n        }\r\n    }\r\n","title":"How do I create a Java string from the contents of a file?","body":"<p>I've been using the idiom below for some time now. And it seems to be the most wide-spread, at least on the sites I've visited.</p>\n\n<p>Is there a better/different way to read a file into a string in Java?</p>\n\n<pre><code>private String readFile(String file) throws IOException {\n    BufferedReader reader = new BufferedReader(new FileReader (file));\n    String         line = null;\n    StringBuilder  stringBuilder = new StringBuilder();\n    String         ls = System.getProperty(\"line.separator\");\n\n    try {\n        while((line = reader.readLine()) != null) {\n            stringBuilder.append(line);\n            stringBuilder.append(ls);\n        }\n\n        return stringBuilder.toString();\n    } finally {\n        reader.close();\n    }\n}\n</code></pre>\n"},{"tags":["java","api","post","certificate","webclient"],"comments":[{"owner":{"account_id":6390592,"reputation":16008,"user_id":4956907,"display_name":"Michał Krzywański"},"score":1,"creation_date":1605027942,"post_id":64773252,"comment_id":114525116,"body_markdown":"Have a look [here](https://stackoverflow.com/questions/45418523/spring-5-webclient-using-ssl) how to configure ssl with with `WebClient`. Might help.","body":"Have a look <a href=\"https://stackoverflow.com/questions/45418523/spring-5-webclient-using-ssl\">here</a> how to configure ssl with with <code>WebClient</code>. Might help."}],"answers":[{"comments":[{"owner":{"account_id":19942605,"reputation":33,"user_id":14614029,"display_name":"AmateurPCB "},"score":0,"creation_date":1605563772,"post_id":64855835,"comment_id":114684056,"body_markdown":"I ended up finding a solution before you answered. My solution for adding the sslContext to my webclient builder was identical to yours. However, instead of: using code to create the keystore, create certificates from my certificate and key combo, then add them to that keystore, I instead: used keytool and openssl commands to first create a keystore, then create a .pem certificate using the key and certificate(s) I was provided. I then converted that to .p12, and added it to my created Java Keystore. I then used java code like yours to create the sslcontext with my created keystore.","body":"I ended up finding a solution before you answered. My solution for adding the sslContext to my webclient builder was identical to yours. However, instead of: using code to create the keystore, create certificates from my certificate and key combo, then add them to that keystore, I instead: used keytool and openssl commands to first create a keystore, then create a .pem certificate using the key and certificate(s) I was provided. I then converted that to .p12, and added it to my created Java Keystore. I then used java code like yours to create the sslcontext with my created keystore."},{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1605599431,"post_id":64855835,"comment_id":114692437,"body_markdown":"Ah yes, creating a keystore file and importing the p12 files is also a good alternative, well done!","body":"Ah yes, creating a keystore file and importing the p12 files is also a good alternative, well done!"}],"tags":[],"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1605521795,"creation_date":1605520483,"answer_id":64855835,"question_id":64773252,"body_markdown":"Although michalk provided a link for an example ssl configuration for the webclient, the question still remain unanswered of how to load the CA Certificates, Key and passphrase.\r\n\r\nIf you only want to load the pem formated (ca and own trusted certificates)certificates you can use the classes which are available within the jdk. But you also want to load the key material as pem file and that is not possible with the default classes within the jdk. I would recommend Bouncy castle for this use case:\r\n\r\nmaven dependency:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n    &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```java\r\nimport io.netty.handler.ssl.SslContext;\r\nimport io.netty.handler.ssl.SslContextBuilder;\r\nimport org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\r\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\r\nimport org.bouncycastle.openssl.PEMDecryptorProvider;\r\nimport org.bouncycastle.openssl.PEMEncryptedKeyPair;\r\nimport org.bouncycastle.openssl.PEMKeyPair;\r\nimport org.bouncycastle.openssl.PEMParser;\r\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\r\nimport org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder;\r\nimport org.bouncycastle.openssl.jcajce.JcePEMDecryptorProviderBuilder;\r\nimport org.bouncycastle.operator.InputDecryptorProvider;\r\nimport org.bouncycastle.operator.OperatorCreationException;\r\nimport org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo;\r\nimport org.bouncycastle.pkcs.PKCSException;\r\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\nimport reactor.netty.http.client.HttpClient;\r\n\r\nimport javax.net.ssl.KeyManagerFactory;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport java.io.ByteArrayInputStream;\r\nimport java.io.IOException;\r\nimport java.io.StringReader;\r\nimport java.security.KeyStore;\r\nimport java.security.KeyStoreException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.PrivateKey;\r\nimport java.security.UnrecoverableKeyException;\r\nimport java.security.cert.Certificate;\r\nimport java.security.cert.CertificateException;\r\nimport java.security.cert.CertificateFactory;\r\nimport java.util.ArrayList;\r\nimport java.util.Base64;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.UUID;\r\nimport java.util.regex.Matcher;\r\nimport java.util.regex.Pattern;\r\n\r\nclass App {\r\n\r\n    private static final BouncyCastleProvider BOUNCY_CASTLE_PROVIDER = new BouncyCastleProvider();\r\n    private static final JcaPEMKeyConverter KEY_CONVERTER = new JcaPEMKeyConverter().setProvider(BOUNCY_CASTLE_PROVIDER);\r\n    private static final String CERTIFICATE_TYPE = &quot;X.509&quot;;\r\n    private static final Pattern CERTIFICATE_PATTERN = Pattern.compile(&quot;-----BEGIN CERTIFICATE-----(.*?)-----END CERTIFICATE-----&quot;, Pattern.DOTALL);\r\n    private static final String NEW_LINE = &quot;\\n&quot;;\r\n    private static final String EMPTY = &quot;&quot;;\r\n\r\n    public static PrivateKey parsePrivateKey(String privateKeyContent, char[] keyPassword) throws IOException, PKCSException, OperatorCreationException {\r\n        PEMParser pemParser = new PEMParser(new StringReader(privateKeyContent));\r\n        PrivateKeyInfo privateKeyInfo = null;\r\n\r\n        Object object = pemParser.readObject();\r\n\r\n        while (object != null &amp;&amp; privateKeyInfo == null) {\r\n            if (object instanceof PrivateKeyInfo) {\r\n                privateKeyInfo = (PrivateKeyInfo) object;\r\n            } else if (object instanceof PEMKeyPair) {\r\n                privateKeyInfo = ((PEMKeyPair) object).getPrivateKeyInfo();\r\n            } else if (object instanceof PKCS8EncryptedPrivateKeyInfo) {\r\n                InputDecryptorProvider inputDecryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder()\r\n                        .setProvider(BOUNCY_CASTLE_PROVIDER)\r\n                        .build(Objects.requireNonNull(keyPassword));\r\n\r\n                privateKeyInfo = ((PKCS8EncryptedPrivateKeyInfo) object).decryptPrivateKeyInfo(inputDecryptorProvider);\r\n            } else if (object instanceof PEMEncryptedKeyPair) {\r\n                PEMDecryptorProvider pemDecryptorProvider = new JcePEMDecryptorProviderBuilder()\r\n                        .setProvider(BOUNCY_CASTLE_PROVIDER)\r\n                        .build(keyPassword);\r\n\r\n                PEMKeyPair pemKeyPair = ((PEMEncryptedKeyPair) object).decryptKeyPair(pemDecryptorProvider);\r\n                privateKeyInfo = pemKeyPair.getPrivateKeyInfo();\r\n            }\r\n\r\n            if (privateKeyInfo == null) {\r\n                object = pemParser.readObject();\r\n            }\r\n        }\r\n\r\n        if (Objects.isNull(privateKeyInfo)) {\r\n            throw new IllegalArgumentException(&quot;Received an unsupported private key type&quot;);\r\n        }\r\n\r\n        return KEY_CONVERTER.getPrivateKey(privateKeyInfo);\r\n    }\r\n\r\n    public static List&lt;Certificate&gt; parseCertificate(String certificateContent) throws IOException, CertificateException {\r\n        List&lt;Certificate&gt; certificates = new ArrayList&lt;&gt;();\r\n        Matcher certificateMatcher = CERTIFICATE_PATTERN.matcher(certificateContent);\r\n\r\n        while (certificateMatcher.find()) {\r\n            String sanitizedCertificate = certificateMatcher.group(1).replace(NEW_LINE, EMPTY).trim();\r\n            byte[] decodedCertificate = Base64.getDecoder().decode(sanitizedCertificate);\r\n            try(ByteArrayInputStream certificateAsInputStream = new ByteArrayInputStream(decodedCertificate)) {\r\n                CertificateFactory certificateFactory = CertificateFactory.getInstance(CERTIFICATE_TYPE);\r\n                Certificate certificate = certificateFactory.generateCertificate(certificateAsInputStream);\r\n                certificates.add(certificate);\r\n            }\r\n        }\r\n\r\n        return certificates;\r\n    }\r\n\r\n    public static &lt;T extends Certificate&gt; KeyStore createTrustStore(List&lt;T&gt; certificates) throws CertificateException, NoSuchAlgorithmException, KeyStoreException, IOException {\r\n        KeyStore trustStore = createEmptyKeyStore();\r\n        for (T certificate : certificates) {\r\n            trustStore.setCertificateEntry(UUID.randomUUID().toString(), certificate);\r\n        }\r\n        return trustStore;\r\n    }\r\n\r\n    public static &lt;T extends Certificate&gt; KeyStore createKeyStore(PrivateKey privateKey, char[] privateKeyPassword, List&lt;T&gt; certificateChain) throws CertificateException, NoSuchAlgorithmException, KeyStoreException, IOException {\r\n        KeyStore keyStore = createEmptyKeyStore();\r\n        keyStore.setKeyEntry(UUID.randomUUID().toString(), privateKey, privateKeyPassword, certificateChain.toArray(new Certificate[0]));\r\n        return keyStore;\r\n    }\r\n\r\n    public static KeyStore createEmptyKeyStore() throws KeyStoreException, CertificateException, NoSuchAlgorithmException, IOException {\r\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n        keyStore.load(null, null);\r\n        return keyStore;\r\n    }\r\n\r\n    public static void main(String[] args) throws PKCSException, OperatorCreationException, IOException, CertificateException, KeyStoreException, NoSuchAlgorithmException, UnrecoverableKeyException {\r\n        String certificateChainContent = &quot;&quot;;\r\n        String privateKeyContent = &quot;&quot;;\r\n        char[] privateKeyPassword = &quot;secret&quot;.toCharArray();\r\n\r\n        String caCertificateContent = &quot;&quot;;\r\n\r\n        PrivateKey privateKey = parsePrivateKey(privateKeyContent, privateKeyPassword);\r\n        List&lt;Certificate&gt; certificates = parseCertificate(certificateChainContent);\r\n\r\n        List&lt;Certificate&gt; caCertificates = parseCertificate(caCertificateContent);\r\n\r\n        KeyStore keyStore = createKeyStore(privateKey, privateKeyPassword, certificates);\r\n        KeyStore trustStore = createTrustStore(caCertificates);\r\n\r\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n        keyManagerFactory.init(keyStore, null);\r\n\r\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        trustManagerFactory.init(trustStore);\r\n\r\n        SslContext sslContext = SslContextBuilder.forClient()\r\n                .keyManager(keyManagerFactory)\r\n                .trustManager(trustManagerFactory)\r\n                .build();\r\n\r\n        HttpClient httpClient = HttpClient.create()\r\n                .secure(sslSpec -&gt; sslSpec.sslContext(sslContext));\r\n\r\n        WebClient webClient = WebClient.builder()\r\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n                .build();\r\n    }\r\n\r\n}\r\n```\r\n\r\nCan you try this and share the results?\r\n\r\nI know that the above code snippet is a bit verbose, so If you don&#39;t want to include all of it I can also provide you an alternative which can achieve the same:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\r\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\r\n    &lt;version&gt;5.3.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```java\r\nimport io.netty.handler.ssl.SslContext;\r\nimport io.netty.handler.ssl.SslContextBuilder;\r\nimport nl.altindag.sslcontext.util.PemUtils;\r\nimport org.bouncycastle.operator.OperatorCreationException;\r\nimport org.bouncycastle.pkcs.PKCSException;\r\nimport reactor.netty.http.client.HttpClient;\r\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\n\r\nimport javax.net.ssl.X509ExtendedKeyManager;\r\nimport javax.net.ssl.X509ExtendedTrustManager;\r\nimport java.io.IOException;\r\nimport java.security.KeyStoreException;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.cert.CertificateException;\r\n\r\nclass App {\r\n    \r\n    \r\n    public static void main(String[] args) throws CertificateException, NoSuchAlgorithmException, IOException, KeyStoreException, OperatorCreationException, PKCSException {\r\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(&quot;certificateChain.pem&quot;, &quot;private-key.pem&quot;, &quot;secret&quot;.toCharArray());\r\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(&quot;ca-certificates.pem&quot;);\r\n\r\n        SslContext sslContext = SslContextBuilder.forClient()\r\n                .keyManager(keyManager)\r\n                .trustManager(trustManager)\r\n                .build();\r\n\r\n        HttpClient httpClient = HttpClient.create()\r\n                .secure(sslSpec -&gt; sslSpec.sslContext(sslContext));\r\n\r\n        WebClient webClient = WebClient.builder()\r\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nIt uses the same code snippets under the covers which I shared within the first code snippet.","title":"How to add both a CA certificate and a Client Certificate using Webclient in Java","body":"<p>Although michalk provided a link for an example ssl configuration for the webclient, the question still remain unanswered of how to load the CA Certificates, Key and passphrase.</p>\n<p>If you only want to load the pem formated (ca and own trusted certificates)certificates you can use the classes which are available within the jdk. But you also want to load the key material as pem file and that is not possible with the default classes within the jdk. I would recommend Bouncy castle for this use case:</p>\n<p>maven dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcpkix-jdk15on&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import io.netty.handler.ssl.SslContext;\nimport io.netty.handler.ssl.SslContextBuilder;\nimport org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openssl.PEMDecryptorProvider;\nimport org.bouncycastle.openssl.PEMEncryptedKeyPair;\nimport org.bouncycastle.openssl.PEMKeyPair;\nimport org.bouncycastle.openssl.PEMParser;\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\nimport org.bouncycastle.openssl.jcajce.JceOpenSSLPKCS8DecryptorProviderBuilder;\nimport org.bouncycastle.openssl.jcajce.JcePEMDecryptorProviderBuilder;\nimport org.bouncycastle.operator.InputDecryptorProvider;\nimport org.bouncycastle.operator.OperatorCreationException;\nimport org.bouncycastle.pkcs.PKCS8EncryptedPrivateKeyInfo;\nimport org.bouncycastle.pkcs.PKCSException;\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\nimport org.springframework.web.reactive.function.client.WebClient;\nimport reactor.netty.http.client.HttpClient;\n\nimport javax.net.ssl.KeyManagerFactory;\nimport javax.net.ssl.TrustManagerFactory;\nimport java.io.ByteArrayInputStream;\nimport java.io.IOException;\nimport java.io.StringReader;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.PrivateKey;\nimport java.security.UnrecoverableKeyException;\nimport java.security.cert.Certificate;\nimport java.security.cert.CertificateException;\nimport java.security.cert.CertificateFactory;\nimport java.util.ArrayList;\nimport java.util.Base64;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.UUID;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\nclass App {\n\n    private static final BouncyCastleProvider BOUNCY_CASTLE_PROVIDER = new BouncyCastleProvider();\n    private static final JcaPEMKeyConverter KEY_CONVERTER = new JcaPEMKeyConverter().setProvider(BOUNCY_CASTLE_PROVIDER);\n    private static final String CERTIFICATE_TYPE = &quot;X.509&quot;;\n    private static final Pattern CERTIFICATE_PATTERN = Pattern.compile(&quot;-----BEGIN CERTIFICATE-----(.*?)-----END CERTIFICATE-----&quot;, Pattern.DOTALL);\n    private static final String NEW_LINE = &quot;\\n&quot;;\n    private static final String EMPTY = &quot;&quot;;\n\n    public static PrivateKey parsePrivateKey(String privateKeyContent, char[] keyPassword) throws IOException, PKCSException, OperatorCreationException {\n        PEMParser pemParser = new PEMParser(new StringReader(privateKeyContent));\n        PrivateKeyInfo privateKeyInfo = null;\n\n        Object object = pemParser.readObject();\n\n        while (object != null &amp;&amp; privateKeyInfo == null) {\n            if (object instanceof PrivateKeyInfo) {\n                privateKeyInfo = (PrivateKeyInfo) object;\n            } else if (object instanceof PEMKeyPair) {\n                privateKeyInfo = ((PEMKeyPair) object).getPrivateKeyInfo();\n            } else if (object instanceof PKCS8EncryptedPrivateKeyInfo) {\n                InputDecryptorProvider inputDecryptorProvider = new JceOpenSSLPKCS8DecryptorProviderBuilder()\n                        .setProvider(BOUNCY_CASTLE_PROVIDER)\n                        .build(Objects.requireNonNull(keyPassword));\n\n                privateKeyInfo = ((PKCS8EncryptedPrivateKeyInfo) object).decryptPrivateKeyInfo(inputDecryptorProvider);\n            } else if (object instanceof PEMEncryptedKeyPair) {\n                PEMDecryptorProvider pemDecryptorProvider = new JcePEMDecryptorProviderBuilder()\n                        .setProvider(BOUNCY_CASTLE_PROVIDER)\n                        .build(keyPassword);\n\n                PEMKeyPair pemKeyPair = ((PEMEncryptedKeyPair) object).decryptKeyPair(pemDecryptorProvider);\n                privateKeyInfo = pemKeyPair.getPrivateKeyInfo();\n            }\n\n            if (privateKeyInfo == null) {\n                object = pemParser.readObject();\n            }\n        }\n\n        if (Objects.isNull(privateKeyInfo)) {\n            throw new IllegalArgumentException(&quot;Received an unsupported private key type&quot;);\n        }\n\n        return KEY_CONVERTER.getPrivateKey(privateKeyInfo);\n    }\n\n    public static List&lt;Certificate&gt; parseCertificate(String certificateContent) throws IOException, CertificateException {\n        List&lt;Certificate&gt; certificates = new ArrayList&lt;&gt;();\n        Matcher certificateMatcher = CERTIFICATE_PATTERN.matcher(certificateContent);\n\n        while (certificateMatcher.find()) {\n            String sanitizedCertificate = certificateMatcher.group(1).replace(NEW_LINE, EMPTY).trim();\n            byte[] decodedCertificate = Base64.getDecoder().decode(sanitizedCertificate);\n            try(ByteArrayInputStream certificateAsInputStream = new ByteArrayInputStream(decodedCertificate)) {\n                CertificateFactory certificateFactory = CertificateFactory.getInstance(CERTIFICATE_TYPE);\n                Certificate certificate = certificateFactory.generateCertificate(certificateAsInputStream);\n                certificates.add(certificate);\n            }\n        }\n\n        return certificates;\n    }\n\n    public static &lt;T extends Certificate&gt; KeyStore createTrustStore(List&lt;T&gt; certificates) throws CertificateException, NoSuchAlgorithmException, KeyStoreException, IOException {\n        KeyStore trustStore = createEmptyKeyStore();\n        for (T certificate : certificates) {\n            trustStore.setCertificateEntry(UUID.randomUUID().toString(), certificate);\n        }\n        return trustStore;\n    }\n\n    public static &lt;T extends Certificate&gt; KeyStore createKeyStore(PrivateKey privateKey, char[] privateKeyPassword, List&lt;T&gt; certificateChain) throws CertificateException, NoSuchAlgorithmException, KeyStoreException, IOException {\n        KeyStore keyStore = createEmptyKeyStore();\n        keyStore.setKeyEntry(UUID.randomUUID().toString(), privateKey, privateKeyPassword, certificateChain.toArray(new Certificate[0]));\n        return keyStore;\n    }\n\n    public static KeyStore createEmptyKeyStore() throws KeyStoreException, CertificateException, NoSuchAlgorithmException, IOException {\n        KeyStore keyStore = KeyStore.getInstance(KeyStore.getDefaultType());\n        keyStore.load(null, null);\n        return keyStore;\n    }\n\n    public static void main(String[] args) throws PKCSException, OperatorCreationException, IOException, CertificateException, KeyStoreException, NoSuchAlgorithmException, UnrecoverableKeyException {\n        String certificateChainContent = &quot;&quot;;\n        String privateKeyContent = &quot;&quot;;\n        char[] privateKeyPassword = &quot;secret&quot;.toCharArray();\n\n        String caCertificateContent = &quot;&quot;;\n\n        PrivateKey privateKey = parsePrivateKey(privateKeyContent, privateKeyPassword);\n        List&lt;Certificate&gt; certificates = parseCertificate(certificateChainContent);\n\n        List&lt;Certificate&gt; caCertificates = parseCertificate(caCertificateContent);\n\n        KeyStore keyStore = createKeyStore(privateKey, privateKeyPassword, certificates);\n        KeyStore trustStore = createTrustStore(caCertificates);\n\n        KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\n        keyManagerFactory.init(keyStore, null);\n\n        TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n        trustManagerFactory.init(trustStore);\n\n        SslContext sslContext = SslContextBuilder.forClient()\n                .keyManager(keyManagerFactory)\n                .trustManager(trustManagerFactory)\n                .build();\n\n        HttpClient httpClient = HttpClient.create()\n                .secure(sslSpec -&gt; sslSpec.sslContext(sslContext));\n\n        WebClient webClient = WebClient.builder()\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\n                .build();\n    }\n\n}\n</code></pre>\n<p>Can you try this and share the results?</p>\n<p>I know that the above code snippet is a bit verbose, so If you don't want to include all of it I can also provide you an alternative which can achieve the same:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.github.hakky54&lt;/groupId&gt;\n    &lt;artifactId&gt;sslcontext-kickstart-for-pem&lt;/artifactId&gt;\n    &lt;version&gt;5.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import io.netty.handler.ssl.SslContext;\nimport io.netty.handler.ssl.SslContextBuilder;\nimport nl.altindag.sslcontext.util.PemUtils;\nimport org.bouncycastle.operator.OperatorCreationException;\nimport org.bouncycastle.pkcs.PKCSException;\nimport reactor.netty.http.client.HttpClient;\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\nimport org.springframework.web.reactive.function.client.WebClient;\n\nimport javax.net.ssl.X509ExtendedKeyManager;\nimport javax.net.ssl.X509ExtendedTrustManager;\nimport java.io.IOException;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.CertificateException;\n\nclass App {\n    \n    \n    public static void main(String[] args) throws CertificateException, NoSuchAlgorithmException, IOException, KeyStoreException, OperatorCreationException, PKCSException {\n        X509ExtendedKeyManager keyManager = PemUtils.loadIdentityMaterial(&quot;certificateChain.pem&quot;, &quot;private-key.pem&quot;, &quot;secret&quot;.toCharArray());\n        X509ExtendedTrustManager trustManager = PemUtils.loadTrustMaterial(&quot;ca-certificates.pem&quot;);\n\n        SslContext sslContext = SslContextBuilder.forClient()\n                .keyManager(keyManager)\n                .trustManager(trustManager)\n                .build();\n\n        HttpClient httpClient = HttpClient.create()\n                .secure(sslSpec -&gt; sslSpec.sslContext(sslContext));\n\n        WebClient webClient = WebClient.builder()\n                .clientConnector(new ReactorClientHttpConnector(httpClient))\n                .build();\n    }\n}\n</code></pre>\n<p>It uses the same code snippets under the covers which I shared within the first code snippet.</p>\n"}],"owner":{"account_id":19942605,"reputation":33,"user_id":14614029,"display_name":"AmateurPCB "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2348,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64855835,"answer_count":1,"score":1,"last_activity_date":1674527086,"creation_date":1605027310,"question_id":64773252,"body_markdown":"I am trying to write API calls using Webclient in Java. Currently I&#39;m having trouble finding documentation on how to add certificates to Webclient. I want to provide both a CA certificate file in PEM format, As well as a Client Certificate wherein I would provide a host, a CRT file, a key file, and a passphrase. I&#39;ve got this setup working in postman, but I&#39;d like to transfer it to a Java application. Below is the code I have. \r\n\r\n ```\r\n\t\tGson gson = new Gson();\r\n\t\tLinkedHashMap&lt;String, Object&gt; reqBody\r\n\t\t\t\t= new LinkedHashMap&lt;String, Object&gt;();\r\n\t\tLinkedHashMap&lt;String, String&gt; variables\r\n\t\t\t\t= new LinkedHashMap&lt;String, String&gt;();\r\n        reqBody.put(&quot;variables&quot;, variables);\r\n\r\n\r\n\r\n\t\tWebClient webClient = WebClient.builder()\r\n\t\t\t\t.baseUrl(&quot;sampleurl.com&quot;)\r\n\t\t\t\t.defaultHeader(HttpHeaders.USER_AGENT, &quot;Spring 5 WebClient&quot;)\r\n\t\t\t\t.defaultHeader(HttpHeaders.ACCEPT, &quot;application/json&quot;)\r\n\t\t\t\t.defaultHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\r\n\t\t\t\t.build();\r\n\r\n\r\n\t\treturn webClient.post()\r\n\t\t\t\t.uri(&quot;/api&quot;)\r\n\t\t\t\t.headers(headers -&gt; headers.setBasicAuth(&quot;userName&quot;, &quot;password&quot;))\r\n\t\t\t\t.body(Mono.just(reqBody), LinkedHashMap.class)//if directly putting the map doesn&#39;t work\r\n\t\t\t\t//can also convert to json string then to monoflux\r\n\t\t\t\t.retrieve()\r\n\t\t\t\t.bodyToMono(String.class);\r\n ```","title":"How to add both a CA certificate and a Client Certificate using Webclient in Java","body":"<p>I am trying to write API calls using Webclient in Java. Currently I'm having trouble finding documentation on how to add certificates to Webclient. I want to provide both a CA certificate file in PEM format, As well as a Client Certificate wherein I would provide a host, a CRT file, a key file, and a passphrase. I've got this setup working in postman, but I'd like to transfer it to a Java application. Below is the code I have.</p>\n<pre><code>       Gson gson = new Gson();\n       LinkedHashMap&lt;String, Object&gt; reqBody\n               = new LinkedHashMap&lt;String, Object&gt;();\n       LinkedHashMap&lt;String, String&gt; variables\n               = new LinkedHashMap&lt;String, String&gt;();\n       reqBody.put(&quot;variables&quot;, variables);\n\n\n\n       WebClient webClient = WebClient.builder()\n               .baseUrl(&quot;sampleurl.com&quot;)\n               .defaultHeader(HttpHeaders.USER_AGENT, &quot;Spring 5 WebClient&quot;)\n               .defaultHeader(HttpHeaders.ACCEPT, &quot;application/json&quot;)\n               .defaultHeader(HttpHeaders.CONTENT_TYPE, &quot;application/json&quot;)\n               .build();\n\n\n       return webClient.post()\n               .uri(&quot;/api&quot;)\n               .headers(headers -&gt; headers.setBasicAuth(&quot;userName&quot;, &quot;password&quot;))\n               .body(Mono.just(reqBody), LinkedHashMap.class)//if directly putting the map doesn't work\n               //can also convert to json string then to monoflux\n               .retrieve()\n               .bodyToMono(String.class);\n</code></pre>\n"},{"tags":["java","android","event-listener","gesture","touch-event"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1674491822,"post_id":75211644,"comment_id":132720394,"body_markdown":"If you disable the touch sensitivity of a screen, how do you expect to detect the gesture to re-enable it?","body":"If you disable the touch sensitivity of a screen, how do you expect to detect the gesture to re-enable it?"}],"owner":{"account_id":26187164,"reputation":1,"user_id":19869556,"display_name":"Apoorva A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674526768,"creation_date":1674487893,"question_id":75211644,"body_markdown":"I am beginner in Android, and I am trying to create a touch blocker app so,\r\nCan we disable the touch sensitivity of the screen by using certain gesture  in android using java ,and the sensitivity of the screen should be back to normal with certain gestures in android application using java.\r\n\r\nIf possible can anyone give bird view of code snippet?\r\n\r\n\r\n    View decorView = getWindow().getDecorView();\r\n    int uiOptions = View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_STABLE |\r\n            View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN |\r\n            View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;\r\n    decorView.setSystemUiVisibility(uiOptions);\r\n    ConstraintLayout parentLayout = (ConstraintLayout) findViewById(R.id.main_layout);\r\n    parentLayout.setClipChildren(true);\r\n\r\n    myLayout.setEnabled(false);\r\n\r\n","title":"Disabling the touch sensitivity of the screen in android using java","body":"<p>I am beginner in Android, and I am trying to create a touch blocker app so,\nCan we disable the touch sensitivity of the screen by using certain gesture  in android using java ,and the sensitivity of the screen should be back to normal with certain gestures in android application using java.</p>\n<p>If possible can anyone give bird view of code snippet?</p>\n<pre><code>View decorView = getWindow().getDecorView();\nint uiOptions = View.SYSTEM_UI_FLAG_FULLSCREEN | View.SYSTEM_UI_FLAG_LAYOUT_STABLE |\n        View.SYSTEM_UI_FLAG_LAYOUT_HIDE_NAVIGATION | View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN |\n        View.SYSTEM_UI_FLAG_HIDE_NAVIGATION;\ndecorView.setSystemUiVisibility(uiOptions);\nConstraintLayout parentLayout = (ConstraintLayout) findViewById(R.id.main_layout);\nparentLayout.setClipChildren(true);\n\nmyLayout.setEnabled(false);\n</code></pre>\n"},{"tags":["java","hibernate","jersey"],"comments":[{"owner":{"account_id":4335413,"reputation":2785,"user_id":3540002,"accept_rate":100,"display_name":"OO7"},"score":0,"creation_date":1415696785,"post_id":26860762,"comment_id":42282636,"body_markdown":"Can u update question with `web.xml` ?","body":"Can u update question with <code>web.xml</code> ?"},{"owner":{"account_id":4829555,"reputation":103,"user_id":3898057,"display_name":"Priyan"},"score":0,"creation_date":1415697126,"post_id":26860762,"comment_id":42282819,"body_markdown":"Dear OO7\nI Added web.xml","body":"Dear OO7 I Added web.xml"}],"answers":[{"comments":[{"owner":{"account_id":4335413,"reputation":2785,"user_id":3540002,"accept_rate":100,"display_name":"OO7"},"score":0,"creation_date":1415696143,"post_id":26860940,"comment_id":42282334,"body_markdown":"This can be a comment, instead of answer.","body":"This can be a comment, instead of answer."},{"owner":{"account_id":968743,"reputation":3452,"user_id":991710,"accept_rate":82,"display_name":"filpa"},"score":1,"creation_date":1415696323,"post_id":26860940,"comment_id":42282424,"body_markdown":"Disagree. It is the correct solution to the problem that the poster is facing, perhaps caused by the class missing from the jar.","body":"Disagree. It is the correct solution to the problem that the poster is facing, perhaps caused by the class missing from the jar."},{"owner":{"account_id":4829555,"reputation":103,"user_id":3898057,"display_name":"Priyan"},"score":0,"creation_date":1415696556,"post_id":26860940,"comment_id":42282538,"body_markdown":"@Ai Suzuki:  I added HibernateUtil Code to above","body":"@Ai Suzuki:  I added HibernateUtil Code to above"},{"owner":{"account_id":4310428,"reputation":1,"user_id":4234579,"display_name":"Ai Suzuki"},"score":0,"creation_date":1415697185,"post_id":26860940,"comment_id":42282848,"body_markdown":"Is hibernate-core-4.3.7.Final.jar in your web application lib directory? also check the dependencies:\n\nhttp://hibernate.org/orm/downloads/","body":"Is hibernate-core-4.3.7.Final.jar in your web application lib directory? also check the dependencies:  <a href=\"http://hibernate.org/orm/downloads/\" rel=\"nofollow noreferrer\">hibernate.org/orm/downloads</a>"}],"tags":[],"owner":{"account_id":4310428,"reputation":1,"user_id":4234579,"display_name":"Ai Suzuki"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415697233,"creation_date":1415696062,"answer_id":26860940,"question_id":26860762,"body_markdown":"Some classes are missing when com.dialog.mife.ussd.util.HibernateUtil class is initialized(e.g, static field or static initializing block).\r\n&lt;br /&gt;\r\nMake sure whether all libraries are located in lib directory when you run the servlet.","title":"java.lang.NoClassDefFoundError: Could not initialize class xxx.xxx.xxx.HibernateUtil","body":"<p>Some classes are missing when com.dialog.mife.ussd.util.HibernateUtil class is initialized(e.g, static field or static initializing block).\n<br />\nMake sure whether all libraries are located in lib directory when you run the servlet.</p>\n"},{"tags":[],"owner":{"account_id":104469,"reputation":98,"user_id":279297,"display_name":"Svoice"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1415696477,"creation_date":1415696477,"answer_id":26861044,"question_id":26860762,"body_markdown":"I usualy get those java.lang.NoClassDefFoundError when the class appears MORE THAN ONCE in the classloader.  Check the jars because, if the same class is present in more than one (maybe included both in the webservice client jar AND elsewhere) the java classloader will not know which one to load, even if it&#39;s exactly the same class.","title":"java.lang.NoClassDefFoundError: Could not initialize class xxx.xxx.xxx.HibernateUtil","body":"<p>I usualy get those java.lang.NoClassDefFoundError when the class appears MORE THAN ONCE in the classloader.  Check the jars because, if the same class is present in more than one (maybe included both in the webservice client jar AND elsewhere) the java classloader will not know which one to load, even if it's exactly the same class.</p>\n"},{"comments":[{"owner":{"account_id":4829555,"reputation":103,"user_id":3898057,"display_name":"Priyan"},"score":1,"creation_date":1415697331,"post_id":26861199,"comment_id":42282925,"body_markdown":"Thanks prageeth..its worked for me.you saved my day.!\nseems issue is Hibernate version conflict.Thanks again","body":"Thanks prageeth..its worked for me.you saved my day.! seems issue is Hibernate version conflict.Thanks again"}],"tags":[],"owner":{"account_id":1010812,"reputation":7229,"user_id":1023421,"accept_rate":62,"display_name":"prageeth"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1674525900,"creation_date":1415697004,"answer_id":26861199,"question_id":26860762,"body_markdown":"This Kind of error can happen when initializing `SessionFactory` fails. You have mentioned that you are using `hibernate-core-4.3.7`. The way you are initializing the `SessionFactory` is not the correct for this version. Use *Hibernate* version 3.x  or change the way you are initializing the `SessionFactory`. Below is the correct way to build the session factory in `Hibernate 4.x +`.\r\n\r\n    Configuration configuration = new Configuration().configure();\r\n    StandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().\r\n    applySettings(configuration.getProperties());\r\n    SessionFactory factory = configuration.buildSessionFactory(builder.build());","title":"java.lang.NoClassDefFoundError: Could not initialize class xxx.xxx.xxx.HibernateUtil","body":"<p>This Kind of error can happen when initializing <code>SessionFactory</code> fails. You have mentioned that you are using <code>hibernate-core-4.3.7</code>. The way you are initializing the <code>SessionFactory</code> is not the correct for this version. Use <em>Hibernate</em> version 3.x  or change the way you are initializing the <code>SessionFactory</code>. Below is the correct way to build the session factory in <code>Hibernate 4.x +</code>.</p>\n<pre><code>Configuration configuration = new Configuration().configure();\nStandardServiceRegistryBuilder builder = new StandardServiceRegistryBuilder().\napplySettings(configuration.getProperties());\nSessionFactory factory = configuration.buildSessionFactory(builder.build());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2534969,"reputation":565,"user_id":3632455,"accept_rate":30,"display_name":"hariprasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1438953827,"creation_date":1438947354,"answer_id":31876777,"question_id":26860762,"body_markdown":"According [codejava.net][1] the HibernateUtil for `hibernate-core-4.x` looks like this:\r\n\r\n    ...\r\n    import org.hibernate.SessionFactory;\r\n    import org.hibernate.boot.registry.StandardServiceRegistryBuilder;\r\n    import org.hibernate.cfg.Configuration;\r\n    import org.hibernate.service.ServiceRegistry;\r\n     \r\n    public class HibernateUtil {\r\n        private static SessionFactory sessionFactory;\r\n         \r\n        public static SessionFactory getSessionFactory() {\r\n            if (sessionFactory == null) {\r\n                // loads configuration and mappings\r\n                Configuration configuration = new Configuration().configure();\r\n                ServiceRegistry serviceRegistry\r\n                    = new StandardServiceRegistryBuilder()\r\n                        .applySettings(configuration.getProperties()).build();\r\n                 \r\n                // builds a session factory from the service registry\r\n                sessionFactory = configuration.buildSessionFactory(serviceRegistry);           \r\n            }\r\n             \r\n            return sessionFactory;\r\n        }\r\n    }\r\n    ....\r\n \r\nIt is slightly optically different than example above, but the effect is the same. It is needed, to ensure, that old dictionary `hibernate-3.x` is really not present.\r\n\r\n  [1]: http://www.codejava.net/frameworks/hibernate/building-hibernate-sessionfactory-from-service-registry","title":"java.lang.NoClassDefFoundError: Could not initialize class xxx.xxx.xxx.HibernateUtil","body":"<p>According <a href=\"http://www.codejava.net/frameworks/hibernate/building-hibernate-sessionfactory-from-service-registry\" rel=\"nofollow\">codejava.net</a> the HibernateUtil for <code>hibernate-core-4.x</code> looks like this:</p>\n\n<pre><code>...\nimport org.hibernate.SessionFactory;\nimport org.hibernate.boot.registry.StandardServiceRegistryBuilder;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.service.ServiceRegistry;\n\npublic class HibernateUtil {\n    private static SessionFactory sessionFactory;\n\n    public static SessionFactory getSessionFactory() {\n        if (sessionFactory == null) {\n            // loads configuration and mappings\n            Configuration configuration = new Configuration().configure();\n            ServiceRegistry serviceRegistry\n                = new StandardServiceRegistryBuilder()\n                    .applySettings(configuration.getProperties()).build();\n\n            // builds a session factory from the service registry\n            sessionFactory = configuration.buildSessionFactory(serviceRegistry);           \n        }\n\n        return sessionFactory;\n    }\n}\n....\n</code></pre>\n\n<p>It is slightly optically different than example above, but the effect is the same. It is needed, to ensure, that old dictionary <code>hibernate-3.x</code> is really not present.</p>\n"},{"tags":[],"owner":{"account_id":8415167,"reputation":393,"user_id":6315851,"display_name":"Yogesh Shinde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490876651,"creation_date":1490876651,"answer_id":43117783,"question_id":26860762,"body_markdown":"In the HibernateUtils, there is reference for the &quot;/hibernate.cfg.xml&quot; file. In which we have to add the hbm.xml mapping. also confirm that mapping file present in the resource file.","title":"java.lang.NoClassDefFoundError: Could not initialize class xxx.xxx.xxx.HibernateUtil","body":"<p>In the HibernateUtils, there is reference for the \"/hibernate.cfg.xml\" file. In which we have to add the hbm.xml mapping. also confirm that mapping file present in the resource file.</p>\n"}],"owner":{"account_id":4829555,"reputation":103,"user_id":3898057,"display_name":"Priyan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60889,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":26861199,"answer_count":5,"score":5,"last_activity_date":1674525900,"creation_date":1415695344,"question_id":26860762,"body_markdown":"Herewith I added my source code of web.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app id=&quot;WebApp_ID&quot; version=&quot;3.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd&quot;&gt;\r\n        &lt;display-name&gt;ussd&lt;/display-name&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;init&lt;/servlet-name&gt;\r\n            &lt;jsp-file&gt;/init.jsp&lt;/jsp-file&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;javax.ws.rs.core.Application&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.dialog.mife.ussd.api.USSDApplication&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;resteasy.providers&lt;/param-name&gt;\r\n            &lt;param-value&gt;com.dialog.mife.ussd.exception.NotFoundException&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n        &lt;context-param&gt;\r\n            &lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\r\n            &lt;param-value&gt;/&lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n        &lt;listener&gt;\r\n            &lt;listener-class&gt;org.jboss.resteasy.plugins.server.servlet.ResteasyBootstrap&lt;/listener-class&gt;\r\n        &lt;/listener&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;ServletAdaptor&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\r\n            &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n        &lt;/servlet&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;ServletAdaptor&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/webresources/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n    &lt;/web-app&gt;\r\n\r\nHibernate.cfg.xml.\r\nMy Web service project goes with Jersey+Hibernate..\r\n\r\n        &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\t\r\n    \t\t&lt;property name=&quot;hibernate.bytecode.use_reflection_optimizer&quot;&gt;false&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;xxx&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:mysql://localhost:3306/USSD&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\t\r\n    \t\t&lt;property name=&quot;hbm2ddl.auto&quot;&gt;update&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.transaction.factory_class&quot;&gt;org.hibernate.transaction.JDBCTransactionFactory&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.autocommit&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;mapping class=&quot;com.xxx.xxx.xxx.xxx.Application&quot; /&gt;\r\n    \r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nHere is HibernateUtil Class\r\n\r\n    public class HibernateUtil {\r\n        private static final SessionFactory sessionFactory;\r\n        static {\r\n            try {\r\n                sessionFactory = new Configuration().configure().buildSessionFactory();\r\n            } catch (Exception ex) {\r\n            \tex.printStackTrace();\r\n                throw new ExceptionInInitializerError(ex);\r\n            }\r\n        }\r\n\r\nHere is my error\r\nI added Hibernate latest jar files.\r\n[**hibernate-core-4.3.7.Final.jar**]\r\n\r\n    SEVERE: StandardWrapper.Throwable\r\n    java.lang.NoClassDefFoundError: Could not initialize class com.dialog.mife.ussd.util.HibernateUtil\r\n    \tat org.apache.jsp.init_jsp.jspInit(init_jsp.java:23)\r\n    \tat org.apache.jasper.runtime.HttpJspBase.init(HttpJspBase.java:48)\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:180)\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369)\r\n    \tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)\r\n    \tat org.apache.jasper.servlet.JspServlet.init(JspServlet.java:138)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5123)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5407)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n    \r\n    Nov 11, 2014 2:06:11 PM org.apache.catalina.core.StandardContext loadOnStartup\r\n    SEVERE: Servlet /ussd threw load() exception\r\n    java.lang.NoClassDefFoundError: Could not initialize class com.dialog.mife.ussd.util.HibernateUtil\r\n    \tat org.apache.jsp.init_jsp.jspInit(init_jsp.java:23)\r\n    \tat org.apache.jasper.runtime.HttpJspBase.init(HttpJspBase.java:48)\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:180)\r\n    \tat org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369)\r\n    \tat org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)\r\n    \tat org.apache.jasper.servlet.JspServlet.init(JspServlet.java:138)\r\n    \tat org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\r\n    \tat org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\r\n    \tat org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\r\n    \tat org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5123)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5407)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:262)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n\r\n\r\nPlease help me to sort out this issue\r\nthanks\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class xxx.xxx.xxx.HibernateUtil","body":"<p>Herewith I added my source code of web.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app id=\"WebApp_ID\" version=\"3.0\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd\"&gt;\n    &lt;display-name&gt;ussd&lt;/display-name&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;init&lt;/servlet-name&gt;\n        &lt;jsp-file&gt;/init.jsp&lt;/jsp-file&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;javax.ws.rs.core.Application&lt;/param-name&gt;\n        &lt;param-value&gt;com.dialog.mife.ussd.api.USSDApplication&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;resteasy.providers&lt;/param-name&gt;\n        &lt;param-value&gt;com.dialog.mife.ussd.exception.NotFoundException&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;context-param&gt;\n        &lt;param-name&gt;resteasy.servlet.mapping.prefix&lt;/param-name&gt;\n        &lt;param-value&gt;/&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;listener&gt;\n        &lt;listener-class&gt;org.jboss.resteasy.plugins.server.servlet.ResteasyBootstrap&lt;/listener-class&gt;\n    &lt;/listener&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;ServletAdaptor&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Resteasy&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;ServletAdaptor&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/webresources/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>Hibernate.cfg.xml.\nMy Web service project goes with Jersey+Hibernate..</p>\n\n<pre><code>    &lt;!DOCTYPE hibernate-configuration PUBLIC\n    \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n    \"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;   \n        &lt;property name=\"hibernate.bytecode.use_reflection_optimizer\"&gt;false&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;xxx&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:mysql://localhost:3306/USSD&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;   \n        &lt;property name=\"hbm2ddl.auto\"&gt;update&lt;/property&gt;\n        &lt;property name=\"hibernate.transaction.factory_class\"&gt;org.hibernate.transaction.JDBCTransactionFactory&lt;/property&gt;\n        &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.autocommit\"&gt;true&lt;/property&gt;\n        &lt;mapping class=\"com.xxx.xxx.xxx.xxx.Application\" /&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>Here is HibernateUtil Class</p>\n\n<pre><code>public class HibernateUtil {\n    private static final SessionFactory sessionFactory;\n    static {\n        try {\n            sessionFactory = new Configuration().configure().buildSessionFactory();\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            throw new ExceptionInInitializerError(ex);\n        }\n    }\n</code></pre>\n\n<p>Here is my error\nI added Hibernate latest jar files.\n[<strong>hibernate-core-4.3.7.Final.jar</strong>]</p>\n\n<pre><code>SEVERE: StandardWrapper.Throwable\njava.lang.NoClassDefFoundError: Could not initialize class com.dialog.mife.ussd.util.HibernateUtil\n    at org.apache.jsp.init_jsp.jspInit(init_jsp.java:23)\n    at org.apache.jasper.runtime.HttpJspBase.init(HttpJspBase.java:48)\n    at org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:180)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)\n    at org.apache.jasper.servlet.JspServlet.init(JspServlet.java:138)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5407)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n\nNov 11, 2014 2:06:11 PM org.apache.catalina.core.StandardContext loadOnStartup\nSEVERE: Servlet /ussd threw load() exception\njava.lang.NoClassDefFoundError: Could not initialize class com.dialog.mife.ussd.util.HibernateUtil\n    at org.apache.jsp.init_jsp.jspInit(init_jsp.java:23)\n    at org.apache.jasper.runtime.HttpJspBase.init(HttpJspBase.java:48)\n    at org.apache.jasper.servlet.JspServletWrapper.getServlet(JspServletWrapper.java:180)\n    at org.apache.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:369)\n    at org.apache.jasper.servlet.JspServlet.serviceJspFile(JspServlet.java:390)\n    at org.apache.jasper.servlet.JspServlet.init(JspServlet.java:138)\n    at org.apache.catalina.core.StandardWrapper.initServlet(StandardWrapper.java:1280)\n    at org.apache.catalina.core.StandardWrapper.loadServlet(StandardWrapper.java:1193)\n    at org.apache.catalina.core.StandardWrapper.load(StandardWrapper.java:1088)\n    at org.apache.catalina.core.StandardContext.loadOnStartup(StandardContext.java:5123)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5407)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:262)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\n</code></pre>\n\n<p>Please help me to sort out this issue\nthanks</p>\n"},{"tags":["java","scala","generics","variance"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1674517473,"post_id":75216147,"comment_id":132727189,"body_markdown":"Scala was implemented after Java; why would you expect extra flexibility in the earlier language? In fact, Java generics were implemented as compile time type safety and are erased at runtime (to be fair, a bridge method is also generated and inserted).","body":"Scala was implemented after Java; why would you expect extra flexibility in the earlier language? In fact, Java generics were implemented as compile time type safety and are erased at runtime (to be fair, a bridge method is also generated and inserted)."},{"owner":{"account_id":953149,"reputation":177313,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"score":1,"creation_date":1674518030,"post_id":75216147,"comment_id":132727265,"body_markdown":"@ElliottFrisch: Bridge methods are only generated in fairly special circumstances (see https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html), though there are also plenty of other situations where generics aren&#39;t fully erased (see https://softwareengineering.stackexchange.com/questions/280169/if-scala-runs-on-the-jvm-how-can-scala-do-things-that-java-seemingly-cannot/280189#280189).","body":"@ElliottFrisch: Bridge methods are only generated in fairly special circumstances (see <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bridgeMethods.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/&hellip;</a>), though there are also plenty of other situations where generics aren&#39;t fully erased (see <a href=\"https://softwareengineering.stackexchange.com/questions/280169/if-scala-runs-on-the-jvm-how-can-scala-do-things-that-java-seemingly-cannot/280189#280189\" title=\"if scala runs on the jvm how can scala do things that java seemingly cannot\">softwareengineering.stackexchange.com/questions/280169/&hellip;</a>)."},{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":1,"creation_date":1674520197,"post_id":75216147,"comment_id":132727578,"body_markdown":"@IgorUrisman In Scala you could also have invariant `trait Function[T, R]` and declare variance at a call site `type VarFunction[-T, +R] = Function[_ &gt;: T, _ &lt;: R]` like in Java https://stackoverflow.com/questions/75035824/in-scala3-if-generic-type-arguments-is-mapped-to-dependent-type-how-are-cova So there is no extra flexibility in Java.","body":"@IgorUrisman In Scala you could also have invariant <code>trait Function[T, R]</code> and declare variance at a call site <code>type VarFunction[-T, +R] = Function[_ &gt;: T, _ &lt;: R]</code> like in Java <a href=\"https://stackoverflow.com/questions/75035824/in-scala3-if-generic-type-arguments-is-mapped-to-dependent-type-how-are-cova\" title=\"in scala3 if generic type arguments is mapped to dependent type how are cova\">stackoverflow.com/questions/75035824/&hellip;</a> So there is no extra flexibility in Java."}],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177313,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674517860,"creation_date":1674517860,"answer_id":75216220,"question_id":75216147,"body_markdown":"&gt; In other words, does Java&#39;s way offer useful extra flexibility not found in Scala, or is it just a lot of repetitive unwieldy boilerplate?\r\n\r\nSuppose that class `Foo` extends class `Parent` and is in turn extended by class `Child`.\r\n\r\nThen, as you know, we can pass an instance of `ArrayList&lt;Foo&gt;` to a method that takes a `List&lt;? extends Parent&gt;`, or to a method that takes a `List&lt;? super Child&gt;`.\r\n\r\nA reason that a method might take `List&lt;? extends Parent&gt;` is if it only reads from the list (it never writes to it), and can happily support any element that&#39;s an instance of `Parent` (because it doesn&#39;t need anything specific to `Foo` or another subtype).\r\n\r\nA reason that a method might take `List&lt;? super Child&gt;` is if it only writes to the list (it never reads from it), and the elements that it writes are always instances of `Child` (so it doesn&#39;t care whether the list can accept arbitrary instance of `Foo` or another supertype).\r\n\r\nThat said, yes, it *is* a lot of repetitive unwieldy boilerplate! As a result, it&#39;s not uncommon to come across a method that *could* take a `List&lt;? extends Parent&gt;` or a `List&lt;? super Child&gt;` but instead just takes a `List&lt;Parent&gt;` or a `List&lt;Child&gt;` (respectively).","title":"Java Type Variance Too Permissive?","body":"<blockquote>\n<p>In other words, does Java's way offer useful extra flexibility not found in Scala, or is it just a lot of repetitive unwieldy boilerplate?</p>\n</blockquote>\n<p>Suppose that class <code>Foo</code> extends class <code>Parent</code> and is in turn extended by class <code>Child</code>.</p>\n<p>Then, as you know, we can pass an instance of <code>ArrayList&lt;Foo&gt;</code> to a method that takes a <code>List&lt;? extends Parent&gt;</code>, or to a method that takes a <code>List&lt;? super Child&gt;</code>.</p>\n<p>A reason that a method might take <code>List&lt;? extends Parent&gt;</code> is if it only reads from the list (it never writes to it), and can happily support any element that's an instance of <code>Parent</code> (because it doesn't need anything specific to <code>Foo</code> or another subtype).</p>\n<p>A reason that a method might take <code>List&lt;? super Child&gt;</code> is if it only writes to the list (it never reads from it), and the elements that it writes are always instances of <code>Child</code> (so it doesn't care whether the list can accept arbitrary instance of <code>Foo</code> or another supertype).</p>\n<p>That said, yes, it <em>is</em> a lot of repetitive unwieldy boilerplate! As a result, it's not uncommon to come across a method that <em>could</em> take a <code>List&lt;? extends Parent&gt;</code> or a <code>List&lt;? super Child&gt;</code> but instead just takes a <code>List&lt;Parent&gt;</code> or a <code>List&lt;Child&gt;</code> (respectively).</p>\n"},{"tags":[],"owner":{"account_id":27604979,"reputation":54,"user_id":21069312,"display_name":"Reza"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674518028,"creation_date":1674518028,"answer_id":75216233,"question_id":75216147,"body_markdown":"I am not an expert on this but it can be argued that the use of wildcard capture syntax in Java&#39;s Function interface allows for more flexibility in expressing variance relationships compared to Scala&#39;s Function1 trait, where variance is inherent in the type. The wildcard capture syntax allows for variance to be declared specifically in the context of a method&#39;s parameter or return type, rather than being inherent to the type itself. However, it can also be seen as repetitive and unwieldy boilerplate. It depends on the perspective of the developer and their use case.","title":"Java Type Variance Too Permissive?","body":"<p>I am not an expert on this but it can be argued that the use of wildcard capture syntax in Java's Function interface allows for more flexibility in expressing variance relationships compared to Scala's Function1 trait, where variance is inherent in the type. The wildcard capture syntax allows for variance to be declared specifically in the context of a method's parameter or return type, rather than being inherent to the type itself. However, it can also be seen as repetitive and unwieldy boilerplate. It depends on the perspective of the developer and their use case.</p>\n"},{"tags":[],"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674519128,"creation_date":1674519128,"answer_id":75216313,"question_id":75216147,"body_markdown":"For `Function` specifically, no. [`Function`](https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html) defines exactly one abstract method, `apply`, which uses `T` contravariantly and `R` covariantly. But `Function` isn&#39;t what they had in mind when they designed that feature.\r\n\r\nWhen the Java devs designed call-site variance, they were imagining classes that had *both* covariant and contravariant uses. For instance, in principle, the `E` in `List&lt;E&gt;` must be invariant. It appears in covariant position in [`get`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#get-int-) and in contravariant position in [`add`](https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-).\r\n\r\nSo the rationale was this. Suppose we have a type hierarchy `X &lt;= Y &lt;= Z`. That is, `X` is a class that subclasses `Y`, and `Y` in turn subclasses `Z`. A `List&lt;Y&gt;` can do anything with type `Y`. It can have `Y`s added to the end, and a user can retrieve elements of type `Y` from it. But it can never be a `List&lt;Z&gt;` or a `List&lt;X&gt;`, since adding to a `List&lt;X&gt;` would be unsound, and so would retrieving as a `List&lt;Z&gt;`.\r\n\r\nBut we can express our intention. `List&lt;? extends Y&gt;` is a type we can only ever read from. It actually *can* take a `List&lt;Z&gt;` under the hood, since a list of `Z` elements is genuinely still (at least for covariant methods) a list of `Y` elements. We can get elements from this list, but we can&#39;t add to the end of it, since we said we&#39;re using the type argument in covariant position but `add` uses the type argument contravariantly. Essentially, `List&lt;? extends Y&gt;` is a smaller interface that includes some of the methods from the *actual* interface `List`.\r\n\r\nThe same is true of `List&lt;? super Y&gt;`. We can&#39;t read from it, since we don&#39;t know that every element is of type `Y`. But we can add to it, since we know that the list at least *supports* elements of type `Y`. We can use all of the contravariant methods, like `add`, but none of the covariant ones.\r\n\r\nFor a type like `List` that uses its type arguments in different ways, the call-site variance makes some amount of sense. For a special-purpose interface like `Function` that does one thing, it makes little sense.\r\n\r\nThat was the Java developers&#39; rationale some twenty years ago when generics were added to Java. A lot has happened since then. If someone wrote an interface like `List` in today&#39;s world, an interface with upwards of 20 abstract methods, half of which have &quot;this method may not be supported and might just throw `UnsupportedOperationException`&quot; *built-in* to the contract, they&#39;d rightly be laughed off the stage.\r\n\r\nToday&#39;s world is one of small, tight interfaces. We follow the SOLID principles. An interface does one thing and does it well. If an interface defines more than two or three (non-defaulted, non-inherited) methods, we give pause and ask if we can make it more modular. And we try to design systems that are more immutable by design, to support scaling and concurrency. We have `record`s, or `data class`es or whatever your favorite language calls them, that are immutable by default.\r\n\r\nSo twenty years ago, the idea of a massive super-interface that does twenty things and that can be narrowed down dynamically via type projections seemed pretty cool. Today, it makes far more sense to specify the variance at the declaration site, since most interfaces are small and have a clear use case in mind.\r\n\r\nThe [`scala.collection.Seq`](https://www.scala-lang.org/api/current/scala/collection/Seq.html) trait defines three abstract, non-inherited methods (`apply`, `iterator`, and `length`), and all of those use the type argument covariantly, so `Seq` is defined with a covariant type. The [corresponding mutable trait](https://www.scala-lang.org/api/current/scala/collection/mutable/Seq.html) adds one more method (`update`), which uses its type argument contravariantly, so it has an invariant argument.\r\n\r\nIn Scala, if you want to modify a sequence, you take a `scala.collection.mutable.Seq`. If you want to read, you take a `scala.collection.Seq`. And those interfaces are small enough and narrow enough in purpose that the fact that there are several of those doesn&#39;t affect the code quality (and the fact that traits and classes in Scala are cheap to write, compared to the boilerplate necessary in Java to make even a simple class).","title":"Java Type Variance Too Permissive?","body":"<p>For <code>Function</code> specifically, no. <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html\" rel=\"nofollow noreferrer\"><code>Function</code></a> defines exactly one abstract method, <code>apply</code>, which uses <code>T</code> contravariantly and <code>R</code> covariantly. But <code>Function</code> isn't what they had in mind when they designed that feature.</p>\n<p>When the Java devs designed call-site variance, they were imagining classes that had <em>both</em> covariant and contravariant uses. For instance, in principle, the <code>E</code> in <code>List&lt;E&gt;</code> must be invariant. It appears in covariant position in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#get-int-\" rel=\"nofollow noreferrer\"><code>get</code></a> and in contravariant position in <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/List.html#add-E-\" rel=\"nofollow noreferrer\"><code>add</code></a>.</p>\n<p>So the rationale was this. Suppose we have a type hierarchy <code>X &lt;= Y &lt;= Z</code>. That is, <code>X</code> is a class that subclasses <code>Y</code>, and <code>Y</code> in turn subclasses <code>Z</code>. A <code>List&lt;Y&gt;</code> can do anything with type <code>Y</code>. It can have <code>Y</code>s added to the end, and a user can retrieve elements of type <code>Y</code> from it. But it can never be a <code>List&lt;Z&gt;</code> or a <code>List&lt;X&gt;</code>, since adding to a <code>List&lt;X&gt;</code> would be unsound, and so would retrieving as a <code>List&lt;Z&gt;</code>.</p>\n<p>But we can express our intention. <code>List&lt;? extends Y&gt;</code> is a type we can only ever read from. It actually <em>can</em> take a <code>List&lt;Z&gt;</code> under the hood, since a list of <code>Z</code> elements is genuinely still (at least for covariant methods) a list of <code>Y</code> elements. We can get elements from this list, but we can't add to the end of it, since we said we're using the type argument in covariant position but <code>add</code> uses the type argument contravariantly. Essentially, <code>List&lt;? extends Y&gt;</code> is a smaller interface that includes some of the methods from the <em>actual</em> interface <code>List</code>.</p>\n<p>The same is true of <code>List&lt;? super Y&gt;</code>. We can't read from it, since we don't know that every element is of type <code>Y</code>. But we can add to it, since we know that the list at least <em>supports</em> elements of type <code>Y</code>. We can use all of the contravariant methods, like <code>add</code>, but none of the covariant ones.</p>\n<p>For a type like <code>List</code> that uses its type arguments in different ways, the call-site variance makes some amount of sense. For a special-purpose interface like <code>Function</code> that does one thing, it makes little sense.</p>\n<p>That was the Java developers' rationale some twenty years ago when generics were added to Java. A lot has happened since then. If someone wrote an interface like <code>List</code> in today's world, an interface with upwards of 20 abstract methods, half of which have &quot;this method may not be supported and might just throw <code>UnsupportedOperationException</code>&quot; <em>built-in</em> to the contract, they'd rightly be laughed off the stage.</p>\n<p>Today's world is one of small, tight interfaces. We follow the SOLID principles. An interface does one thing and does it well. If an interface defines more than two or three (non-defaulted, non-inherited) methods, we give pause and ask if we can make it more modular. And we try to design systems that are more immutable by design, to support scaling and concurrency. We have <code>record</code>s, or <code>data class</code>es or whatever your favorite language calls them, that are immutable by default.</p>\n<p>So twenty years ago, the idea of a massive super-interface that does twenty things and that can be narrowed down dynamically via type projections seemed pretty cool. Today, it makes far more sense to specify the variance at the declaration site, since most interfaces are small and have a clear use case in mind.</p>\n<p>The <a href=\"https://www.scala-lang.org/api/current/scala/collection/Seq.html\" rel=\"nofollow noreferrer\"><code>scala.collection.Seq</code></a> trait defines three abstract, non-inherited methods (<code>apply</code>, <code>iterator</code>, and <code>length</code>), and all of those use the type argument covariantly, so <code>Seq</code> is defined with a covariant type. The <a href=\"https://www.scala-lang.org/api/current/scala/collection/mutable/Seq.html\" rel=\"nofollow noreferrer\">corresponding mutable trait</a> adds one more method (<code>update</code>), which uses its type argument contravariantly, so it has an invariant argument.</p>\n<p>In Scala, if you want to modify a sequence, you take a <code>scala.collection.mutable.Seq</code>. If you want to read, you take a <code>scala.collection.Seq</code>. And those interfaces are small enough and narrow enough in purpose that the fact that there are several of those doesn't affect the code quality (and the fact that traits and classes in Scala are cheap to write, compared to the boilerplate necessary in Java to make even a simple class).</p>\n"},{"tags":[],"owner":{"account_id":61566,"reputation":68934,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674524560,"creation_date":1674523653,"answer_id":75216658,"question_id":75216147,"body_markdown":"Actually, Scala supports both declaration and use site variance. Specifically, you can [specify bounded wildcards just like in Java](https://docs.scala-lang.org/scala3/reference/changed-features/wildcards.html).\r\n\r\nThis already hints that declaration site variance can not replace use site variance in all cases. The reason is that a declaration can only be variant if it is variant in all possible uses. If some uses are variant, but other uses are not, we can&#39;t use declaration site variance, but we can use use site variance.\r\n\r\nFor instance, class `Array[A]` can not be declared variant, but the method [appendedAll from ArrayOps](https://www.scala-lang.org/api/2.13.3/scala/collection/ArrayOps.html) can employ use site variance\r\n\r\n```\r\ndef appendedAll[B &gt;: A](suffix: Array[_ &lt;: B])(implicit arg0: ClassTag[B]): Array[B]\r\n```\r\n\r\nsince it uses covariant methods of `suffix`.","title":"Java Type Variance Too Permissive?","body":"<p>Actually, Scala supports both declaration and use site variance. Specifically, you can <a href=\"https://docs.scala-lang.org/scala3/reference/changed-features/wildcards.html\" rel=\"nofollow noreferrer\">specify bounded wildcards just like in Java</a>.</p>\n<p>This already hints that declaration site variance can not replace use site variance in all cases. The reason is that a declaration can only be variant if it is variant in all possible uses. If some uses are variant, but other uses are not, we can't use declaration site variance, but we can use use site variance.</p>\n<p>For instance, class <code>Array[A]</code> can not be declared variant, but the method <a href=\"https://www.scala-lang.org/api/2.13.3/scala/collection/ArrayOps.html\" rel=\"nofollow noreferrer\">appendedAll from ArrayOps</a> can employ use site variance</p>\n<pre><code>def appendedAll[B &gt;: A](suffix: Array[_ &lt;: B])(implicit arg0: ClassTag[B]): Array[B]\n</code></pre>\n<p>since it uses covariant methods of <code>suffix</code>.</p>\n"}],"owner":{"account_id":8476974,"reputation":777,"user_id":6357920,"display_name":"Igor Urisman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75216658,"answer_count":4,"score":2,"last_activity_date":1674524560,"creation_date":1674517032,"question_id":75216147,"body_markdown":"In a modern functional language like Scala, type variance is inherent in the type. Here&#39;s e.g. Scala&#39;s `Function1`:\r\n```\r\ntrait Function1[-T1, +R] { ... }\r\n```\r\ncontravariant in parameter type and covariant in return type. And here&#39;s java&#39;s counterpart:\r\n```\r\ninterface Function&lt;T,R&gt; { ... }\r\n```\r\nNow, to express variance relationship, the &quot;wildcard capture&quot; special syntax is used. For example, the stream&#39;s `map` function is declared as\r\n```\r\n&lt;R&gt; Stream&lt;T&gt; map(Function&lt;? super T, ? extends R&gt; mapper);\r\n```\r\nHere, Java shifts the declaration of variance relationship from the type itself to its use as a param in some method signature.\r\n\r\nHere&#39;s my question. Would I be amiss to say that there cannot be any legitimate usages of `Function&lt;T,R&gt;` that are not contravariant in T and covariant in R? In other words, does Java&#39;s way offer useful extra flexibility not found in Scala, or is it just a lot of repetitive unwieldy boilerplate?","title":"Java Type Variance Too Permissive?","body":"<p>In a modern functional language like Scala, type variance is inherent in the type. Here's e.g. Scala's <code>Function1</code>:</p>\n<pre><code>trait Function1[-T1, +R] { ... }\n</code></pre>\n<p>contravariant in parameter type and covariant in return type. And here's java's counterpart:</p>\n<pre><code>interface Function&lt;T,R&gt; { ... }\n</code></pre>\n<p>Now, to express variance relationship, the &quot;wildcard capture&quot; special syntax is used. For example, the stream's <code>map</code> function is declared as</p>\n<pre><code>&lt;R&gt; Stream&lt;T&gt; map(Function&lt;? super T, ? extends R&gt; mapper);\n</code></pre>\n<p>Here, Java shifts the declaration of variance relationship from the type itself to its use as a param in some method signature.</p>\n<p>Here's my question. Would I be amiss to say that there cannot be any legitimate usages of <code>Function&lt;T,R&gt;</code> that are not contravariant in T and covariant in R? In other words, does Java's way offer useful extra flexibility not found in Scala, or is it just a lot of repetitive unwieldy boilerplate?</p>\n"},{"tags":["java","sql","hibernate","duplicates"],"comments":[{"owner":{"account_id":8826274,"reputation":2403,"user_id":6709604,"display_name":"SS_DBA"},"score":0,"creation_date":1494602914,"post_id":43941363,"comment_id":74915129,"body_markdown":"Possible duplicate... http://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates?rq=1","body":"Possible duplicate... <a href=\"http://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates?rq=1\" title=\"hibernate onetomany criteria returns duplicates\">stackoverflow.com/questions/6277287/&hellip;</a>"},{"owner":{"account_id":4514344,"reputation":31626,"user_id":3669624,"accept_rate":100,"display_name":"cнŝdk"},"score":0,"creation_date":1494603269,"post_id":43941363,"comment_id":74915370,"body_markdown":"Possible duplicate of [hibernate OneToMany criteria returns duplicates](http://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates\">hibernate OneToMany criteria returns duplicates</a>"},{"owner":{"account_id":7190742,"reputation":23,"user_id":5491174,"display_name":"ssoomm07"},"score":0,"creation_date":1494604732,"post_id":43941363,"comment_id":74916307,"body_markdown":"I need to pass a JUnit test that gets the games with Programmer.getGames(), how can I do it without Criteria?","body":"I need to pass a JUnit test that gets the games with Programmer.getGames(), how can I do it without Criteria?"},{"owner":{"account_id":1617870,"reputation":1130,"user_id":1495050,"display_name":"Daniel Bickler"},"score":0,"creation_date":1494608161,"post_id":43941363,"comment_id":74918195,"body_markdown":"@WEI_DBA don&#39;t think it&#39;s duplicate - based on his question, OP is looking for answer without using criteria.","body":"@WEI_DBA don&#39;t think it&#39;s duplicate - based on his question, OP is looking for answer without using criteria."},{"owner":{"account_id":1617870,"reputation":1130,"user_id":1495050,"display_name":"Daniel Bickler"},"score":0,"creation_date":1494608267,"post_id":43941363,"comment_id":74918263,"body_markdown":"I am not real familiar with Hibernate/JPA when it comes to matters like this, but why can&#39;t you use a Set? That would be my naive solution not knowing the &quot;ideal&quot; way to do it within Hibernate.","body":"I am not real familiar with Hibernate/JPA when it comes to matters like this, but why can&#39;t you use a Set? That would be my naive solution not knowing the &quot;ideal&quot; way to do it within Hibernate."},{"owner":{"account_id":1617870,"reputation":1130,"user_id":1495050,"display_name":"Daniel Bickler"},"score":0,"creation_date":1494608694,"post_id":43941363,"comment_id":74918500,"body_markdown":"Possible duplicate of [One-To-Many relationship gets duplicate objects whithout using &quot;distinct&quot;.Why?](http://stackoverflow.com/questions/18753245/one-to-many-relationship-gets-duplicate-objects-whithout-using-distinct-why)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/18753245/one-to-many-relationship-gets-duplicate-objects-whithout-using-distinct-why\">One-To-Many relationship gets duplicate objects whithout using &quot;distinct&quot;.Why?</a>"},{"owner":{"account_id":1617870,"reputation":1130,"user_id":1495050,"display_name":"Daniel Bickler"},"score":0,"creation_date":1494608788,"post_id":43941363,"comment_id":74918548,"body_markdown":"That duplicate is better for this question. While the question seems different, the answer in that question will supply the answer for this question, that a Set (or LinkedHashSet as given by the Hibernate FAQ to preserve order) is the correct solution without using Criteria","body":"That duplicate is better for this question. While the question seems different, the answer in that question will supply the answer for this question, that a Set (or LinkedHashSet as given by the Hibernate FAQ to preserve order) is the correct solution without using Criteria"}],"answers":[{"comments":[{"owner":{"account_id":3453445,"reputation":240,"user_id":2892515,"accept_rate":93,"display_name":"Enerccio"},"score":1,"creation_date":1598178112,"post_id":43948615,"comment_id":112367551,"body_markdown":"lazy select then require opening transaction all the time","body":"lazy select then require opening transaction all the time"}],"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1494642176,"creation_date":1494642176,"answer_id":43948615,"question_id":43941363,"body_markdown":"While the use of `Set&lt;&gt;` fundamentally resolves your issue, I&#39;d argue that is simply a bandaid to get the expected results you&#39;re after but it doesn&#39;t technically address the underlying problem.\r\n\r\nYou should ultimately be using the default lazy fetch strategy because I&#39;m of the opinion that eagerly loading any associations, particularly collection-based ones, are specific to a query and therefore should be toggled when you construct specific queries and not influenced as a part of your entity mapping model as you&#39;re doing.\r\n\r\nConsider the future where you add a new query but you&#39;re only interestesd in attributes from the aggregate root entity.  Your mapping model will still impose eagerly fetching those associations, you&#39;ll consume additional resources to by having a larger persistence context which means more memory consumption and impose unnecessary database joins for something which you aren&#39;t going to use.\r\n\r\nIf there are multiple collections that you need to hydrate, I would instead recommend you consider using `FetchMode.SUBSELECT` instead.  \r\n\r\nIf we assume your query has 10 entities being returned, the default lazy strategy with 2 collections would issue 21 queries (1 for the base result set and 2 for each loaded entity). \r\n\r\nThe benefit of `SUBSELECT` is that Hibernate will actually only issue 3 queries (1 for the base result set and 1 for each collection to load all collection elements for all entities).  And obviously, depending on certain queries, breaking one query with left-joins into 3 queries could actually perform better at the database level too.","title":"Duplicated results in Hibernate OneToMany List","body":"<p>While the use of <code>Set&lt;&gt;</code> fundamentally resolves your issue, I'd argue that is simply a bandaid to get the expected results you're after but it doesn't technically address the underlying problem.</p>\n\n<p>You should ultimately be using the default lazy fetch strategy because I'm of the opinion that eagerly loading any associations, particularly collection-based ones, are specific to a query and therefore should be toggled when you construct specific queries and not influenced as a part of your entity mapping model as you're doing.</p>\n\n<p>Consider the future where you add a new query but you're only interestesd in attributes from the aggregate root entity.  Your mapping model will still impose eagerly fetching those associations, you'll consume additional resources to by having a larger persistence context which means more memory consumption and impose unnecessary database joins for something which you aren't going to use.</p>\n\n<p>If there are multiple collections that you need to hydrate, I would instead recommend you consider using <code>FetchMode.SUBSELECT</code> instead.  </p>\n\n<p>If we assume your query has 10 entities being returned, the default lazy strategy with 2 collections would issue 21 queries (1 for the base result set and 2 for each loaded entity). </p>\n\n<p>The benefit of <code>SUBSELECT</code> is that Hibernate will actually only issue 3 queries (1 for the base result set and 1 for each collection to load all collection elements for all entities).  And obviously, depending on certain queries, breaking one query with left-joins into 3 queries could actually perform better at the database level too.</p>\n"},{"tags":[],"owner":{"account_id":10821531,"reputation":65,"user_id":7958846,"display_name":"Dmitriy Goy"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557813698,"creation_date":1557813698,"answer_id":56123902,"question_id":43941363,"body_markdown":"Ive resolved this problem with `    @Fetch(FetchMode.SUBSELECT)\r\n`","title":"Duplicated results in Hibernate OneToMany List","body":"<p>Ive resolved this problem with <code>@Fetch(FetchMode.SUBSELECT)\n</code></p>\n"},{"comments":[{"owner":{"account_id":6629842,"reputation":2457,"user_id":5118861,"display_name":"MD Zand"},"score":0,"creation_date":1673287623,"post_id":75033166,"comment_id":132460614,"body_markdown":"Please add codes as text in the questions/answers please read [this](https://stackoverflow.com/help/formatting)","body":"Please add codes as text in the questions/answers please read <a href=\"https://stackoverflow.com/help/formatting\">this</a>"}],"tags":[],"owner":{"account_id":2439686,"reputation":81,"user_id":2128570,"display_name":"Saeed Farahi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674522456,"creation_date":1673020367,"answer_id":75033166,"question_id":43941363,"body_markdown":"    @OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n    @Fetch(FetchMode.SUBSELECT)\r\n    private List&lt;CompanyUserEntity&gt; companyUserRelations;\r\n\r\nI had the same problem. `companyUserRelations` had duplicate objects (I mean the same pointers to the same object, not duplicated data)\r\n\r\nSo after reading @dimitry response, I added `@Fetch(FetchMode.SUBSELECT)` and it worked","title":"Duplicated results in Hibernate OneToMany List","body":"<pre><code>@OneToMany(mappedBy = &quot;user&quot;, fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n@Fetch(FetchMode.SUBSELECT)\nprivate List&lt;CompanyUserEntity&gt; companyUserRelations;\n</code></pre>\n<p>I had the same problem. <code>companyUserRelations</code> had duplicate objects (I mean the same pointers to the same object, not duplicated data)</p>\n<p>So after reading @dimitry response, I added <code>@Fetch(FetchMode.SUBSELECT)</code> and it worked</p>\n"}],"owner":{"account_id":7190742,"reputation":23,"user_id":5491174,"display_name":"ssoomm07"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5390,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":43948615,"answer_count":3,"score":2,"last_activity_date":1674522456,"creation_date":1494602744,"question_id":43941363,"body_markdown":"I have mapped an 1:N relation with a @OneToMany List, but when I access the list, the results are duplicated due to an OUTER JOIN.\r\nThis is how the mapping looks like:\r\n\r\n    @Entity\r\n    public class Programmer\r\n\r\n        @ElementCollection(fetch=FetchType.EAGER)\r\n\t    @CollectionTable(name=&quot;emails&quot;, joinColumns=@JoinColumn(name=&quot;id&quot;, nullable=false))\r\n\t    @Column(name=&quot;email&quot;, nullable=false)\r\n\t    protected Set&lt;String&gt; emails = new HashSet&lt;String&gt;();\r\n\r\n        @OneToMany(mappedBy=&quot;programmer&quot;, fetch=FetchType.EAGER)\r\n\t    private List &lt;Game&gt; games = new ArrayList&lt;Game&gt;();\r\n\r\nWhen I get the attribute with prog.getGames(), the results comes duplicated  because the Hibernate SQL makes an OUTER JOIN:\r\n\r\n    from programmer \r\n    left outer join emails on programmer.id=emails.id \r\n    left outer join game on programmer.id=game.id\r\n    where programmer.id=?\r\n\r\nIs there any solution without transforming the List into a Set? I need to get the games with prog.getGames(), can not use a custom HQL or Criteria.","title":"Duplicated results in Hibernate OneToMany List","body":"<p>I have mapped an 1:N relation with a @OneToMany List, but when I access the list, the results are duplicated due to an OUTER JOIN.\nThis is how the mapping looks like:</p>\n\n<pre><code>@Entity\npublic class Programmer\n\n    @ElementCollection(fetch=FetchType.EAGER)\n    @CollectionTable(name=\"emails\", joinColumns=@JoinColumn(name=\"id\", nullable=false))\n    @Column(name=\"email\", nullable=false)\n    protected Set&lt;String&gt; emails = new HashSet&lt;String&gt;();\n\n    @OneToMany(mappedBy=\"programmer\", fetch=FetchType.EAGER)\n    private List &lt;Game&gt; games = new ArrayList&lt;Game&gt;();\n</code></pre>\n\n<p>When I get the attribute with prog.getGames(), the results comes duplicated  because the Hibernate SQL makes an OUTER JOIN:</p>\n\n<pre><code>from programmer \nleft outer join emails on programmer.id=emails.id \nleft outer join game on programmer.id=game.id\nwhere programmer.id=?\n</code></pre>\n\n<p>Is there any solution without transforming the List into a Set? I need to get the games with prog.getGames(), can not use a custom HQL or Criteria.</p>\n"},{"tags":["java","bouncycastle","classcastexception","openjdk-11","sslexception"],"comments":[{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":1,"creation_date":1614689188,"post_id":66424749,"comment_id":117456520,"body_markdown":"Please give the exact BouncyCastle jar name and version that you are using.","body":"Please give the exact BouncyCastle jar name and version that you are using."},{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":2,"creation_date":1614689529,"post_id":66424749,"comment_id":117456685,"body_markdown":"See also https://github.com/bcgit/bc-java/issues/589 and https://github.com/bcgit/bc-java/issues/881, particularly comments relating to use of a &quot;fat jar&quot;.","body":"See also <a href=\"https://github.com/bcgit/bc-java/issues/589\" rel=\"nofollow noreferrer\">github.com/bcgit/bc-java/issues/589</a> and <a href=\"https://github.com/bcgit/bc-java/issues/881\" rel=\"nofollow noreferrer\">github.com/bcgit/bc-java/issues/881</a>, particularly comments relating to use of a &quot;fat jar&quot;."}],"answers":[{"comments":[{"owner":{"account_id":16269349,"reputation":13462,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":4,"creation_date":1614964813,"post_id":66487696,"comment_id":117555260,"body_markdown":"This doesn&#39;t explain, why it did work on Java 11.0.2.","body":"This doesn&#39;t explain, why it did work on Java 11.0.2."}],"tags":[],"owner":{"account_id":16506849,"reputation":153,"user_id":11926676,"display_name":"DILIP DHANKECHA"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1614924863,"creation_date":1614924863,"answer_id":66487696,"question_id":66424749,"body_markdown":"For this type of bouncycastle class not found exception.\r\nneed to add bouncy castle dependency to your `pom.xml` or `build.gradle` file.\r\n\r\nadd below dependency for maven and gradle.\r\n\r\nFor Gradle ::\r\n`implementation group: &#39;org.bouncycastle&#39;, name: &#39;bcprov-jdk15on&#39;, version: &#39;1.68&#39;`\r\n\r\nFor Maven ::\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n        &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n        &lt;version&gt;1.68&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Class cast exception occur while updating OpenJDK version from 11.0.2 to 11.0.10","body":"<p>For this type of bouncycastle class not found exception.\nneed to add bouncy castle dependency to your <code>pom.xml</code> or <code>build.gradle</code> file.</p>\n<p>add below dependency for maven and gradle.</p>\n<p>For Gradle ::\n<code>implementation group: 'org.bouncycastle', name: 'bcprov-jdk15on', version: '1.68'</code></p>\n<p>For Maven ::</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n    &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n    &lt;version&gt;1.68&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":92548,"reputation":2305,"user_id":253594,"accept_rate":50,"display_name":"Vetsin"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674522136,"creation_date":1674522136,"answer_id":75216557,"question_id":66424749,"body_markdown":"The answer, for google completeness, is that the underlying API changed when the JDK added support for the X25519 and X448 ECDH protocols. Bouncycastle [had to use multi-release classes][1] to fix the issue. So you update your dependency.\r\n\r\nIf it&#39;s not your software the work around, as in [this issue][2], normally is to remove support of these protocols, like such:\r\n\r\n    java -Djdk.tls.namedGroups=&quot;secp256r1, secp384r1, ffdhe2048, ffdhe3072&quot; ...\r\n\r\nor\r\n\r\n    export JAVA_TOOL_OPTIONS=&quot;-Djdk.tls.namedGroups=\\&quot;secp256r1, secp384r1, ffdhe2048, ffdhe3072\\&quot;&quot;\r\n\r\n\r\n  [1]: https://github.com/ok3141/bc-java/commit/18c3bb7cb6f17b14402501623239433f3f06ae56\r\n  [2]: https://github.com/bcgit/bc-java/issues/589","title":"Class cast exception occur while updating OpenJDK version from 11.0.2 to 11.0.10","body":"<p>The answer, for google completeness, is that the underlying API changed when the JDK added support for the X25519 and X448 ECDH protocols. Bouncycastle <a href=\"https://github.com/ok3141/bc-java/commit/18c3bb7cb6f17b14402501623239433f3f06ae56\" rel=\"nofollow noreferrer\">had to use multi-release classes</a> to fix the issue. So you update your dependency.</p>\n<p>If it's not your software the work around, as in <a href=\"https://github.com/bcgit/bc-java/issues/589\" rel=\"nofollow noreferrer\">this issue</a>, normally is to remove support of these protocols, like such:</p>\n<pre><code>java -Djdk.tls.namedGroups=&quot;secp256r1, secp384r1, ffdhe2048, ffdhe3072&quot; ...\n</code></pre>\n<p>or</p>\n<pre><code>export JAVA_TOOL_OPTIONS=&quot;-Djdk.tls.namedGroups=\\&quot;secp256r1, secp384r1, ffdhe2048, ffdhe3072\\&quot;&quot;\n</code></pre>\n"}],"owner":{"account_id":16506849,"reputation":153,"user_id":11926676,"display_name":"DILIP DHANKECHA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3221,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":66487696,"answer_count":2,"score":0,"last_activity_date":1674522136,"creation_date":1614611893,"question_id":66424749,"body_markdown":"After updating the minor version of OpenJDK , I am getting an error in any API call with HTTPS protocol\r\n\r\nThe same code was working fine with the older version.\r\n\r\nOlder version(Working fine):\r\n\r\n    \r\n    java version &quot;11.0.2&quot; 2019-01-15 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.2+9-LTS)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.2+9-LTS, mixed mode)\r\n\r\nNew Version(Not working):\r\n\r\n\r\n    openjdk version &quot;11.0.10&quot; 2021-01-19\r\n    OpenJDK Runtime Environment (build 11.0.10+9-Ubuntu-0ubuntu1.18.04)\r\n    OpenJDK 64-Bit Server VM (build 11.0.10+9-Ubuntu-0ubuntu1.18.04, mixed mode, sharing)\r\n\r\nError:\r\n\r\n\r\n    javax.net.ssl.SSLException: class org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey cannot be cast to class java.security.interfaces.XECPublicKey (org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @2e0fa5d3; java.security.interfaces.XECPublicKey is in module java.base of loader &#39;bootstrap&#39;)\r\n\r\n    Caused by: java.lang.ClassCastException: class org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey cannot be cast to class java.security.interfaces.XECPublicKey (org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @2e0fa5d3; java.security.interfaces.XECPublicKey is in module java.base of loader &#39;bootstrap&#39;)\r\n\tat java.base/sun.security.ssl.XDHKeyExchange$XDHEPossession.&lt;init&gt;(XDHKeyExchange.java:108)\r\n\tat java.base/sun.security.ssl.NamedGroup$XDHFunctions.createPossession(NamedGroup.java:754)\r\n\tat java.base/sun.security.ssl.NamedGroup.createPossession(NamedGroup.java:394)\r\n\tat java.base/sun.security.ssl.SSLKeyExchange$T13KeyAgreement.createPossession(SSLKeyExchange.java:568)\r\n\tat java.base/sun.security.ssl.SSLKeyExchange.createPossessions(SSLKeyExchange.java:84)\r\n\tat java.base/sun.security.ssl.KeyShareExtension$CHKeyShareProducer.produce(KeyShareExtension.java:257)\r\n\tat java.base/sun.security.ssl.SSLExtension.produce(SSLExtension.java:563)\r\n\tat java.base/sun.security.ssl.SSLExtensions.produce(SSLExtensions.java:253)\r\n\tat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:650)\r\n\tat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\r\n\tat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:107)\r\n\tat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:232)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\r\n\t... 11 common frames omitted\r\n\r\n\r\nI am using `URLConnection` to establish the new connection with any URL but at the time of connection `URL connection.connect()`.\r\n\r\nAny solutions or workaround for this?\r\nHow can I downgrade the minor version?\r\n\r\n","title":"Class cast exception occur while updating OpenJDK version from 11.0.2 to 11.0.10","body":"<p>After updating the minor version of OpenJDK , I am getting an error in any API call with HTTPS protocol</p>\n<p>The same code was working fine with the older version.</p>\n<p>Older version(Working fine):</p>\n<pre><code>java version &quot;11.0.2&quot; 2019-01-15 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.2+9-LTS)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.2+9-LTS, mixed mode)\n</code></pre>\n<p>New Version(Not working):</p>\n<pre><code>openjdk version &quot;11.0.10&quot; 2021-01-19\nOpenJDK Runtime Environment (build 11.0.10+9-Ubuntu-0ubuntu1.18.04)\nOpenJDK 64-Bit Server VM (build 11.0.10+9-Ubuntu-0ubuntu1.18.04, mixed mode, sharing)\n</code></pre>\n<p>Error:</p>\n<pre><code>javax.net.ssl.SSLException: class org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey cannot be cast to class java.security.interfaces.XECPublicKey (org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @2e0fa5d3; java.security.interfaces.XECPublicKey is in module java.base of loader 'bootstrap')\n\nCaused by: java.lang.ClassCastException: class org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey cannot be cast to class java.security.interfaces.XECPublicKey (org.bouncycastle.jcajce.provider.asymmetric.edec.BCXDHPublicKey is in unnamed module of loader org.springframework.boot.loader.LaunchedURLClassLoader @2e0fa5d3; java.security.interfaces.XECPublicKey is in module java.base of loader 'bootstrap')\nat java.base/sun.security.ssl.XDHKeyExchange$XDHEPossession.&lt;init&gt;(XDHKeyExchange.java:108)\nat java.base/sun.security.ssl.NamedGroup$XDHFunctions.createPossession(NamedGroup.java:754)\nat java.base/sun.security.ssl.NamedGroup.createPossession(NamedGroup.java:394)\nat java.base/sun.security.ssl.SSLKeyExchange$T13KeyAgreement.createPossession(SSLKeyExchange.java:568)\nat java.base/sun.security.ssl.SSLKeyExchange.createPossessions(SSLKeyExchange.java:84)\nat java.base/sun.security.ssl.KeyShareExtension$CHKeyShareProducer.produce(KeyShareExtension.java:257)\nat java.base/sun.security.ssl.SSLExtension.produce(SSLExtension.java:563)\nat java.base/sun.security.ssl.SSLExtensions.produce(SSLExtensions.java:253)\nat java.base/sun.security.ssl.ClientHello$ClientHelloKickstartProducer.produce(ClientHello.java:650)\nat java.base/sun.security.ssl.SSLHandshake.kickstart(SSLHandshake.java:525)\nat java.base/sun.security.ssl.ClientHandshakeContext.kickstart(ClientHandshakeContext.java:107)\nat java.base/sun.security.ssl.TransportContext.kickstart(TransportContext.java:232)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:433)\n... 11 common frames omitted\n</code></pre>\n<p>I am using <code>URLConnection</code> to establish the new connection with any URL but at the time of connection <code>URL connection.connect()</code>.</p>\n<p>Any solutions or workaround for this?\nHow can I downgrade the minor version?</p>\n"},{"tags":["java","graph","concurrency"],"comments":[{"owner":{"account_id":5674322,"reputation":4295,"user_id":4488077,"display_name":"f-CJ"},"score":1,"creation_date":1539396887,"post_id":52788799,"comment_id":92499127,"body_markdown":"Do people need to own the book edition you are talking about to answer your question?","body":"Do people need to own the book edition you are talking about to answer your question?"},{"owner":{"account_id":8789206,"reputation":35,"user_id":6569806,"display_name":"isaialvarado"},"score":0,"creation_date":1676580777,"post_id":52788799,"comment_id":133171201,"body_markdown":"I couldn&#39;t find the edition in the book, but I added the year to the title. I think it was the latest edition at the time when I asked this question.","body":"I couldn&#39;t find the edition in the book, but I added the year to the title. I think it was the latest edition at the time when I asked this question."}],"answers":[{"tags":[],"owner":{"account_id":919674,"reputation":14586,"user_id":951609,"accept_rate":60,"display_name":"František Hartman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1539970865,"creation_date":1539970865,"answer_id":52897478,"question_id":52788799,"body_markdown":"The label *Number of threads* on Figure 12.1 is misleading.\r\n\r\nIt is in fact number of thread pairs:\r\n\r\n    ...\r\n    for (int pairs = 1; pairs &lt;= 128; pairs *= 2) {\r\n    ...\r\n\r\n\r\nEach TimedPutTakeTest uses 2 threads (single Producer and single Consumer) even for value 1.\r\n\r\n    for (int i = 0; i &lt; nPairs; i++) {\r\n        pool.execute(new PutTakeTest.Producer());\r\n        pool.execute(new PutTakeTest.Consumer());\r\n    }\r\n\r\n**Note:** The code in question is [available online][1].\r\n\r\n  [1]: http://jcip.net/listings/TimedPutTakeTest.java","title":"Java Concurrency In Practice (2006) Figure 12.1 TimedPutTakeTest","body":"<p>The label <em>Number of threads</em> on Figure 12.1 is misleading.</p>\n\n<p>It is in fact number of thread pairs:</p>\n\n<pre><code>...\nfor (int pairs = 1; pairs &lt;= 128; pairs *= 2) {\n...\n</code></pre>\n\n<p>Each TimedPutTakeTest uses 2 threads (single Producer and single Consumer) even for value 1.</p>\n\n<pre><code>for (int i = 0; i &lt; nPairs; i++) {\n    pool.execute(new PutTakeTest.Producer());\n    pool.execute(new PutTakeTest.Consumer());\n}\n</code></pre>\n\n<p><strong>Note:</strong> The code in question is <a href=\"http://jcip.net/listings/TimedPutTakeTest.java\" rel=\"nofollow noreferrer\">available online</a>.</p>\n"}],"owner":{"account_id":8789206,"reputation":35,"user_id":6569806,"display_name":"isaialvarado"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":52897478,"answer_count":1,"score":0,"last_activity_date":1674521802,"creation_date":1539395170,"question_id":52788799,"body_markdown":"In Figure 12.1 on page 263, I noticed the graph starts with 1.\r\n\r\nThen I read the following on page 268:\r\n\r\n&quot;Therefore, tests of multithreaded performance should normally be mixed with tests of single-threaded performance, even if you want to measure only single-threaded performance. **(This issue does not arise in TimedPutTakeTest because even the smallest test case uses two threads.)**&quot;\r\n\r\nIf the smallest test case uses 2 threads, where does the data for 1 thread in Figure 12.1 come from?\r\n\r\nThanks for your help.","title":"Java Concurrency In Practice (2006) Figure 12.1 TimedPutTakeTest","body":"<p>In Figure 12.1 on page 263, I noticed the graph starts with 1.</p>\n\n<p>Then I read the following on page 268:</p>\n\n<p>\"Therefore, tests of multithreaded performance should normally be mixed with tests of single-threaded performance, even if you want to measure only single-threaded performance. <strong>(This issue does not arise in TimedPutTakeTest because even the smallest test case uses two threads.)</strong>\"</p>\n\n<p>If the smallest test case uses 2 threads, where does the data for 1 thread in Figure 12.1 come from?</p>\n\n<p>Thanks for your help.</p>\n"},{"tags":["java","json","api","response","inputstream"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1674535664,"post_id":75216468,"comment_id":132729375,"body_markdown":"Have you checked that the input stream is returning the contents you expect? Why not read it into a string first, log that, and then pass the string to parseTree?","body":"Have you checked that the input stream is returning the contents you expect? Why not read it into a string first, log that, and then pass the string to parseTree?"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1674574078,"post_id":75216468,"comment_id":132740260,"body_markdown":"Further to @tgdavies. Drop inputstream and use String responseString = EntityUtils.toString(response.getEntity(), &quot;UTF-8&quot;);","body":"Further to @tgdavies. Drop inputstream and use String responseString = EntityUtils.toString(response.getEntity(), &quot;UTF-8&quot;);"}],"owner":{"account_id":27605138,"reputation":1,"user_id":21069429,"display_name":"ThePianistish"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674521095,"creation_date":1674521010,"question_id":75216468,"body_markdown":"I am trying to read a response from an API endpoint. It works in Postman and appears to work when debugging my java code. \r\n\r\nHowever it will not read any objects that are in the nested array.\r\n\r\nI&#39;ve followed [this](https://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects)  solution (in the comments someone lays out their solution to accessing objects in a nested array) yet that does not seem to have solved anything as the mapper consistently shows nothing inside the json list. \r\n\r\nHere&#39;s my code:\r\n\r\n\r\n```\r\ntry  {\r\n    response = httpClient.execute(httpPost);\r\n    InputStream inputStream = response.getEntity().getContent();\r\n    final ObjectMapper mapper = new ObjectMapper();\r\n    final JsonNode node = mapper.readTree(inputStream);\r\n    final JsonNode value = node.get(&quot;value&quot;);\r\n    final JsonNode index = value.get(1);\r\n    final String status = index.get(&quot;status&quot;).asText();\r\n    return status;`\r\n}\r\n```\r\n\r\n\r\nHere&#39;s the response that I&#39;m trying to unpack. I&#39;m trying to get the value of &quot;status&quot;\r\n\r\n  \r\n```\r\n{\r\n    &quot;value&quot;: [\r\n        {\r\n            &quot;activityRunEnd&quot;: &quot;2023-01-23T23:22:01.4234985Z&quot;,\r\n        },\r\n        {\r\n            &quot;status&quot;: &quot;Succeeded&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\n\r\nThis is the response that I&#39;m currently getting when I readTree(inputStream)\r\n\r\n\r\n\r\n```\r\n{&quot;value&quot;:[]}\r\n```\r\n\r\n\r\nInputStream does not seem to read any values inside the list","title":"InputStream does not seem to read response objects in list","body":"<p>I am trying to read a response from an API endpoint. It works in Postman and appears to work when debugging my java code.</p>\n<p>However it will not read any objects that are in the nested array.</p>\n<p>I've followed <a href=\"https://stackoverflow.com/questions/6349421/how-to-use-jackson-to-deserialise-an-array-of-objects\">this</a>  solution (in the comments someone lays out their solution to accessing objects in a nested array) yet that does not seem to have solved anything as the mapper consistently shows nothing inside the json list.</p>\n<p>Here's my code:</p>\n<pre><code>try  {\n    response = httpClient.execute(httpPost);\n    InputStream inputStream = response.getEntity().getContent();\n    final ObjectMapper mapper = new ObjectMapper();\n    final JsonNode node = mapper.readTree(inputStream);\n    final JsonNode value = node.get(&quot;value&quot;);\n    final JsonNode index = value.get(1);\n    final String status = index.get(&quot;status&quot;).asText();\n    return status;`\n}\n</code></pre>\n<p>Here's the response that I'm trying to unpack. I'm trying to get the value of &quot;status&quot;</p>\n<pre><code>{\n    &quot;value&quot;: [\n        {\n            &quot;activityRunEnd&quot;: &quot;2023-01-23T23:22:01.4234985Z&quot;,\n        },\n        {\n            &quot;status&quot;: &quot;Succeeded&quot;\n        }\n    ]\n}\n</code></pre>\n<p>This is the response that I'm currently getting when I readTree(inputStream)</p>\n<pre><code>{&quot;value&quot;:[]}\n</code></pre>\n<p>InputStream does not seem to read any values inside the list</p>\n"},{"tags":["java","netbeans","ant","glassfish"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1674801020,"post_id":75216465,"comment_id":132794454,"body_markdown":"I just used the Ant wizard to create a simple web application using NetBeans 16, JDK 18, Glassfish 6.2.5 and Jakarta 9.1. It worked fine, so consider focusing on individual changes to your environment to see if the problem just goes away. Upgrading  to Glassfish 6.2.5 is an obvious and easy thing to try first, and it should run fine with JDK 11. If that doesn&#39;t work then update your question to show the full stack trace, and also review the Glassfish log for any errors apart from the `MissingResourceException`.","body":"I just used the Ant wizard to create a simple web application using NetBeans 16, JDK 18, Glassfish 6.2.5 and Jakarta 9.1. It worked fine, so consider focusing on individual changes to your environment to see if the problem just goes away. Upgrading  to Glassfish 6.2.5 is an obvious and easy thing to try first, and it should run fine with JDK 11. If that doesn&#39;t work then update your question to show the full stack trace, and also review the Glassfish log for any errors apart from the <code>MissingResourceException</code>."}],"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674520970,"creation_date":1674520970,"question_id":75216465,"body_markdown":"I&#39;m trying to deploy my web NetBeans 15 + Ant application using GlassFish 6 and get this error:\r\n```\r\norg.apache.catalina.LifecycleException: java.util.MissingResourceException: Can&#39;t find javax.faces.LogStrings\r\n```\r\nI&#39;ve tried adding different libraries and jar files to my project&#39;s Libraries but it&#39;s still not deployed.\r\n\r\nI&#39;m using: NetBeans 15, JDK 11, JSF 3.0, derby 10.14, GlassFish 6, Java EE: Jakarta 9.1 Web","title":"GlassFish org.apache.catalina.LifecycleException java.util.MissingResourceException Can&#39;t find javax.faces.LogStrings","body":"<p>I'm trying to deploy my web NetBeans 15 + Ant application using GlassFish 6 and get this error:</p>\n<pre><code>org.apache.catalina.LifecycleException: java.util.MissingResourceException: Can't find javax.faces.LogStrings\n</code></pre>\n<p>I've tried adding different libraries and jar files to my project's Libraries but it's still not deployed.</p>\n<p>I'm using: NetBeans 15, JDK 11, JSF 3.0, derby 10.14, GlassFish 6, Java EE: Jakarta 9.1 Web</p>\n"},{"tags":["java","netbeans","ant","glassfish","persistence"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1674507930,"post_id":75214689,"comment_id":132725131,"body_markdown":"Add those JARs to your project.  Just like solving any other CLASSPATH issue.  Just curious: Why EJB?  It&#39;s a failed 90s era technology.  Most people have moved on to POJOs using Spring Boot.  https://trends.google.com/trends/explore?date=today%205-y&amp;geo=US&amp;q=ejb,spring%20boot","body":"Add those JARs to your project.  Just like solving any other CLASSPATH issue.  Just curious: Why EJB?  It&#39;s a failed 90s era technology.  Most people have moved on to POJOs using Spring Boot.  <a href=\"https://trends.google.com/trends/explore?date=today%205-y&amp;geo=US&amp;q=ejb,spring%20boot\" rel=\"nofollow noreferrer\">trends.google.com/trends/&hellip;</a>"},{"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"score":0,"creation_date":1674508079,"post_id":75214689,"comment_id":132725167,"body_markdown":"Thanks. I tried adding the jar but it did not work. It&#39;s not my choice. I have no idea why it&#39;s an error. I have to use NetBeans + Ant to create a web project.","body":"Thanks. I tried adding the jar but it did not work. It&#39;s not my choice. I have no idea why it&#39;s an error. I have to use NetBeans + Ant to create a web project."},{"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"score":1,"creation_date":1674508100,"post_id":75214689,"comment_id":132725174,"body_markdown":"I only know how to use Maven but it&#39;s not an option in this case.","body":"I only know how to use Maven but it&#39;s not an option in this case."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1674508108,"post_id":75214689,"comment_id":132725176,"body_markdown":"Both NetBeans and Ant are old and out of date.  Who gave you this project?","body":"Both NetBeans and Ant are old and out of date.  Who gave you this project?"},{"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"score":0,"creation_date":1674508180,"post_id":75214689,"comment_id":132725197,"body_markdown":"my professor &#129401; please don&#39;t ask, it&#39;ll just inflict more pain...","body":"my professor 🥹 please don&#39;t ask, it&#39;ll just inflict more pain..."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1674508269,"post_id":75214689,"comment_id":132725220,"body_markdown":"Professors are always teaching what they learned; generals are always fighting the last war.  https://netbeans.apache.org/kb/docs/javaee/entappclient.html","body":"Professors are always teaching what they learned; generals are always fighting the last war.  <a href=\"https://netbeans.apache.org/kb/docs/javaee/entappclient.html\" rel=\"nofollow noreferrer\">netbeans.apache.org/kb/docs/javaee/entappclient.html</a>"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1674508430,"post_id":75214689,"comment_id":132725258,"body_markdown":"I&#39;m guessing that you didn&#39;t give NetBeans the heads up that this is a Glassfish EJB project.","body":"I&#39;m guessing that you didn&#39;t give NetBeans the heads up that this is a Glassfish EJB project."},{"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"score":0,"creation_date":1674508872,"post_id":75214689,"comment_id":132725377,"body_markdown":"It&#39;s not EJB project. It&#39;s just the error. When I used NetBeans 14, I followed the same steps and got to the failed deploy without EJB.","body":"It&#39;s not EJB project. It&#39;s just the error. When I used NetBeans 14, I followed the same steps and got to the failed deploy without EJB."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1674512286,"post_id":75214689,"comment_id":132726210,"body_markdown":"&quot;Cannot be generated because EJB Lite classes are not available on project classpath&quot; - believe NetBeans.  It can&#39;t find EJB classes.  Do you know how to add JARs to the CLASSPATH in NetBeans?","body":"&quot;Cannot be generated because EJB Lite classes are not available on project classpath&quot; - believe NetBeans.  It can&#39;t find EJB classes.  Do you know how to add JARs to the CLASSPATH in NetBeans?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1674512690,"post_id":75214689,"comment_id":132726304,"body_markdown":"Ask your professor.  Show him/her the error and ask for help.","body":"Ask your professor.  Show him/her the error and ask for help."},{"owner":{"account_id":1413157,"reputation":97,"user_id":1339367,"display_name":"Luis Daniel Mesa Velasquez"},"score":0,"creation_date":1694882612,"post_id":75214689,"comment_id":135951155,"body_markdown":"@duffymo people who know more than you and I about Java would disagree about EJB and Netbeans being outdated... Adam Bien has no issue using both.","body":"@duffymo people who know more than you and I about Java would disagree about EJB and Netbeans being outdated... Adam Bien has no issue using both."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1694885227,"post_id":75214689,"comment_id":135951421,"body_markdown":"I think the marketplace has spoken.  JEE and EJB are done.","body":"I think the marketplace has spoken.  JEE and EJB are done."}],"answers":[{"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1674531408,"post_id":75215751,"comment_id":132728895,"body_markdown":"[1] FYI, see [EJB Lite classes are not available on project classpath](https://stackoverflow.com/q/28382544/2985643) from 2015 for a similar issue when using Vaadin and NetBeans. The solution for that question was the same as yours. However, since that question was for a Maven project and you have an Ant project your question is not a duplicate of that one. [2] Also, could you please accept your answer here since it obviously solved your problem? Accepted answers are more helpful for the SO community.","body":"[1] FYI, see <a href=\"https://stackoverflow.com/q/28382544/2985643\">EJB Lite classes are not available on project classpath</a> from 2015 for a similar issue when using Vaadin and NetBeans. The solution for that question was the same as yours. However, since that question was for a Maven project and you have an Ant project your question is not a duplicate of that one. [2] Also, could you please accept your answer here since it obviously solved your problem? Accepted answers are more helpful for the SO community."}],"tags":[],"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674520757,"creation_date":1674513324,"answer_id":75215751,"question_id":75214689,"body_markdown":"I don&#39;t really know why, but adding these to the project&#39;s `Libraries` solved it for me: **Jakarta EE 9 API Library** and **Java EE 7 API Library**.\r\n\r\nThis help me move past the error but my application is not working due to other errors.","title":"NetBeans 15 Cannot&#160;be&#160;generated&#160;because&#160;EJB&#160;Lite&#160;classes&#160;are&#160;not&#160;available&#160;on&#160;project&#160;classpath","body":"<p>I don't really know why, but adding these to the project's <code>Libraries</code> solved it for me: <strong>Jakarta EE 9 API Library</strong> and <strong>Java EE 7 API Library</strong>.</p>\n<p>This help me move past the error but my application is not working due to other errors.</p>\n"}],"owner":{"account_id":11326347,"reputation":6623,"user_id":8305127,"accept_rate":67,"display_name":"Viet"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":641,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674520757,"creation_date":1674505496,"question_id":75214689,"body_markdown":"I&#39;m trying to create Persistence `New JSF Pages from Entity Classes` using NetBeans 15, Java Web Project with Ant.\r\n\r\nI get this error: \r\n```\r\nCannot&#160;be&#160;generated&#160;because&#160;EJB&#160;Lite&#160;classes&#160;are&#160;not&#160;available&#160;on&#160;project&#160;classpath\r\n```\r\n[![enter image description here][1]][1]\r\n\r\nI was able to create Persistence `Entity Classes from Database`. My glassfish database is running and I can view data in my tables.\r\n\r\nMy project properties:\r\n- Server: GlassFish Server\r\n- Java EE Version: Jakarta EE 9.1 Web - I cannot select another version when I create a new project.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7lwHB.png","title":"NetBeans 15 Cannot&#160;be&#160;generated&#160;because&#160;EJB&#160;Lite&#160;classes&#160;are&#160;not&#160;available&#160;on&#160;project&#160;classpath","body":"<p>I'm trying to create Persistence <code>New JSF Pages from Entity Classes</code> using NetBeans 15, Java Web Project with Ant.</p>\n<p>I get this error:</p>\n<pre><code>Cannot be generated because EJB Lite classes are not available on project classpath\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7lwHB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7lwHB.png\" alt=\"enter image description here\" /></a></p>\n<p>I was able to create Persistence <code>Entity Classes from Database</code>. My glassfish database is running and I can view data in my tables.</p>\n<p>My project properties:</p>\n<ul>\n<li>Server: GlassFish Server</li>\n<li>Java EE Version: Jakarta EE 9.1 Web - I cannot select another version when I create a new project.</li>\n</ul>\n"},{"tags":["java","android","kotlin","android-mediaplayer"],"owner":{"account_id":17373761,"reputation":19,"user_id":12587266,"display_name":"Anas mugally"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674519712,"creation_date":1674516254,"question_id":75216077,"body_markdown":"I am currently developing an application to play music\r\nI have now added the feature of adjusting the speed and pitch for music in the my app\r\n\r\n    fun MediaPlayer.setPlaybackSpeedPitch(speed: Float, pitch: Float) {\r\n       try {\r\n          if (hasMarshmallow()) {\r\n              val wasPlaying = isPlaying;\r\n              playbackParams = PlaybackParams().setSpeed(speed).setPitch(pitch)\r\n              if (!wasPlaying) pause()\r\n          }\r\n       } catch (e: Exception) {\r\n       } \r\n    }\r\n\r\nBut currently I want to extract music from MediaPlayer\r\nHow do I save music from MediaPlayer to the external storage of the phone\r\nplease any help\r\nI tried to search a lot but didn&#39;t find any solution\r\n\r\nany help will be deeply appreciated?\r\n\r\nP.S. My main motive is to let user change speed or pitch to the original song and then save it.","title":"How to extract or save current song from MediaPlayer after changing speed or pitch in android","body":"<p>I am currently developing an application to play music\nI have now added the feature of adjusting the speed and pitch for music in the my app</p>\n<pre><code>fun MediaPlayer.setPlaybackSpeedPitch(speed: Float, pitch: Float) {\n   try {\n      if (hasMarshmallow()) {\n          val wasPlaying = isPlaying;\n          playbackParams = PlaybackParams().setSpeed(speed).setPitch(pitch)\n          if (!wasPlaying) pause()\n      }\n   } catch (e: Exception) {\n   } \n}\n</code></pre>\n<p>But currently I want to extract music from MediaPlayer\nHow do I save music from MediaPlayer to the external storage of the phone\nplease any help\nI tried to search a lot but didn't find any solution</p>\n<p>any help will be deeply appreciated?</p>\n<p>P.S. My main motive is to let user change speed or pitch to the original song and then save it.</p>\n"},{"tags":["java","image","swing","path","jpanel"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674504378,"post_id":75214358,"comment_id":132724162,"body_markdown":"*I save the image in the folder /cache,* That means a directory off the root of your filesystem. I doubt that&#39;s where it is. I would try `./cache` but you might need to try a different mechanism","body":"<i>I save the image in the folder /cache,</i> That means a directory off the root of your filesystem. I doubt that&#39;s where it is. I would try <code>.&#47;cache</code> but you might need to try a different mechanism"},{"owner":{"account_id":25766673,"reputation":91,"user_id":19516471,"display_name":"Giovanni Grana"},"score":0,"creation_date":1674508853,"post_id":75214358,"comment_id":132725371,"body_markdown":"The/cache folder is in the project","body":"The/cache folder is in the project"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674519419,"post_id":75214358,"comment_id":132727481,"body_markdown":"I&#39;m aware it&#39;s in the project. Running software doesn&#39;t care about your project. In fact you shouldn&#39;t either, because the project is an IDE thing and nothing to do with proper running software, which must be cut loose and be able to fend for itself outside your IDE. If you use that html markup, it necessarily is using the filesystem rather than the classloading mechanism, which is a great weakness. If you want a simple, but ultimately weak, way to get that working, in place of &#39;cache&#39; you must place the full and absolute path to that directory after the protocol `file:`","body":"I&#39;m aware it&#39;s in the project. Running software doesn&#39;t care about your project. In fact you shouldn&#39;t either, because the project is an IDE thing and nothing to do with proper running software, which must be cut loose and be able to fend for itself outside your IDE. If you use that html markup, it necessarily is using the filesystem rather than the classloading mechanism, which is a great weakness. If you want a simple, but ultimately weak, way to get that working, in place of &#39;cache&#39; you must place the full and absolute path to that directory after the protocol <code>file:</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674519921,"post_id":75214358,"comment_id":132727553,"body_markdown":"The [classloader approach](https://stackoverflow.com/questions/15311188/inserting-images-in-jeditorpane-using-pane-getdocument-insert)","body":"The <a href=\"https://stackoverflow.com/questions/15311188/inserting-images-in-jeditorpane-using-pane-getdocument-insert\">classloader approach</a>"}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1674519596,"post_id":75216342,"comment_id":132727505,"body_markdown":"That will work if, and only if, the current directory is the one above the directory &#39;cache&#39;","body":"That will work if, and only if, the current directory is the one above the directory &#39;cache&#39;"},{"owner":{"account_id":25766673,"reputation":91,"user_id":19516471,"display_name":"Giovanni Grana"},"score":0,"creation_date":1674554759,"post_id":75216342,"comment_id":132733652,"body_markdown":"Shouldn&#39;t something like `file:../cache/test.jpg` work then? I&#39;m gonna try and see if it works both ways","body":"Shouldn&#39;t something like <code>file:..&#47;cache&#47;test.jpg</code> work then? I&#39;m gonna try and see if it works both ways"},{"owner":{"account_id":25766673,"reputation":91,"user_id":19516471,"display_name":"Giovanni Grana"},"score":0,"creation_date":1674562521,"post_id":75216342,"comment_id":132735994,"body_markdown":"It works! The problem were the `///` after `file:` and I access the cache folder using `./cache/`","body":"It works! The problem were the <code>&#47;&#47;&#47;</code> after <code>file:</code> and I access the cache folder using <code>.&#47;cache&#47;</code>"}],"tags":[],"owner":{"account_id":9970255,"reputation":197,"user_id":7376577,"display_name":"Peter F"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674519599,"creation_date":1674519502,"answer_id":75216342,"question_id":75214358,"body_markdown":"Remove the three forward slashes between &quot;file:&quot; and the path. Change\r\n```html\r\n&lt;img src=&quot;file:///cache/test.jpg&quot;&gt;\r\n```\r\nto\r\n``` html\r\n&lt;img src=&quot;file:cache/test.jpg&quot;&gt;\r\n```\r\n\r\nFound it from this answer: https://stackoverflow.com/a/10084395/7376577\r\n\r\nThe file structure:\r\n```\r\nroot\r\n├───cache\r\n│       test.jpg\r\n│\r\n└──src\r\n        MyJFrame.java\r\n```","title":"Loading an image in a JEditorPane using html markup","body":"<p>Remove the three forward slashes between &quot;file:&quot; and the path. Change</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img src=&quot;file:///cache/test.jpg&quot;&gt;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img src=&quot;file:cache/test.jpg&quot;&gt;\n</code></pre>\n<p>Found it from this answer: <a href=\"https://stackoverflow.com/a/10084395/7376577\">https://stackoverflow.com/a/10084395/7376577</a></p>\n<p>The file structure:</p>\n<pre><code>root\n├───cache\n│       test.jpg\n│\n└──src\n        MyJFrame.java\n</code></pre>\n"}],"owner":{"account_id":25766673,"reputation":91,"user_id":19516471,"display_name":"Giovanni Grana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75216342,"answer_count":1,"score":0,"last_activity_date":1674519599,"creation_date":1674503413,"question_id":75214358,"body_markdown":"I&#39;m having some problems with loading an image in a JEditorPane by using the &lt;img&gt; tag.\r\nI get the body of the mail from Gmail, which looks like this:\r\n\r\n    &lt;div dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;img src=&quot;cid:ii_lagwgzau0&quot; alt=&quot;test.jpg&quot; width=&quot;451&quot; height=&quot;338&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\r\n\r\nI edit the line via code to look like this:\r\n\r\n    &lt;div dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;img src=&quot;file:///cache/test.jpg&quot; width=&quot;451&quot; height=&quot;338&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\r\n\r\nI save the image in the folder /cache, at the same level of /src, but the image just won&#39;t load no matter what I try. I also can&#39;t figure out if its a path problem or my approach just doesn&#39;t work, and I can&#39;t find anything that helps online. Anyone knows what I&#39;m doing wrong here?\r\n\r\nThis is what it looks like graphically:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oyl97.png","title":"Loading an image in a JEditorPane using html markup","body":"<p>I'm having some problems with loading an image in a JEditorPane by using the  tag.\nI get the body of the mail from Gmail, which looks like this:</p>\n<pre><code>&lt;div dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;img src=&quot;cid:ii_lagwgzau0&quot; alt=&quot;test.jpg&quot; width=&quot;451&quot; height=&quot;338&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n</code></pre>\n<p>I edit the line via code to look like this:</p>\n<pre><code>&lt;div dir=&quot;ltr&quot;&gt;&lt;div&gt;&lt;img src=&quot;file:///cache/test.jpg&quot; width=&quot;451&quot; height=&quot;338&quot;&gt;&lt;br&gt;&lt;/div&gt;&lt;br&gt;&lt;/div&gt;\n</code></pre>\n<p>I save the image in the folder /cache, at the same level of /src, but the image just won't load no matter what I try. I also can't figure out if its a path problem or my approach just doesn't work, and I can't find anything that helps online. Anyone knows what I'm doing wrong here?</p>\n<p>This is what it looks like graphically:</p>\n<p><a href=\"https://i.stack.imgur.com/oyl97.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oyl97.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674517439,"post_id":75215942,"comment_id":132727181,"body_markdown":"Do you mean to fill the entire image with a single, translucent, color?  Does the original image support a alpha based color model?","body":"Do you mean to fill the entire image with a single, translucent, color?  Does the original image support a alpha based color model?"}],"answers":[{"tags":[],"owner":{"account_id":14889478,"reputation":124,"user_id":10751633,"display_name":"bosowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674517879,"creation_date":1674517502,"answer_id":75216191,"question_id":75215942,"body_markdown":"Check the type of the original image that you are loading. The image you&#39;ve linked is of type 5 (TYPE_3BYTE_BGR).\r\n\r\nThe definition of TYPE_3BYTE_BGR from Javadocs is as follows: \r\n\r\n&gt; Represents an image with 8-bit RGB color components, corresponding to\r\n&gt; a Windows-style BGR color model) with the colors Blue, Green, and Red\r\n&gt; stored in 3 bytes. **There is no alpha**. The image has a\r\n&gt; ComponentColorModel. When data with non-opaque alpha is stored in an\r\n&gt; image of this type, the color data must be adjusted to a\r\n&gt; non-premultiplied form and the alpha discarded, as described in the\r\n&gt; java.awt.AlphaComposite documentation.\r\n\r\nMake sure that you are either loading in an image that has a type that supports the alpha channel, or [convert your image to one of such a type][2].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xrYVM.png\r\n  [2]: https://stackoverflow.com/questions/8194080/converting-a-bufferedimage-to-another-type\r\n\r\nOtherwise, what you are doing is correct.","title":"Changing alpha value of an image","body":"<p>Check the type of the original image that you are loading. The image you've linked is of type 5 (TYPE_3BYTE_BGR).</p>\n<p>The definition of TYPE_3BYTE_BGR from Javadocs is as follows:</p>\n<blockquote>\n<p>Represents an image with 8-bit RGB color components, corresponding to\na Windows-style BGR color model) with the colors Blue, Green, and Red\nstored in 3 bytes. <strong>There is no alpha</strong>. The image has a\nComponentColorModel. When data with non-opaque alpha is stored in an\nimage of this type, the color data must be adjusted to a\nnon-premultiplied form and the alpha discarded, as described in the\njava.awt.AlphaComposite documentation.</p>\n</blockquote>\n<p>Make sure that you are either loading in an image that has a type that supports the alpha channel, or <a href=\"https://stackoverflow.com/questions/8194080/converting-a-bufferedimage-to-another-type\">convert your image to one of such a type</a>.</p>\n<p>Otherwise, what you are doing is correct.</p>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674518838,"creation_date":1674518266,"answer_id":75216245,"question_id":75215942,"body_markdown":"    public void changeImage (File currentImage) throws IOException {\r\n        BufferedImage img = ImageIO.read(currentImage);\r\n        for (int y = 0; y &lt; img.getHeight(); y++) {\r\n            for (int x = 0; x &lt; img.getWidth(); x++) {\r\n                int pixel = img.getRGB(x,y);\r\n                Color color = new Color(pixel);\r\n                int red = 10;\r\n                int green = 20;\r\n                int blue = 30;\r\n                int alpha = 40;\r\n                color = new Color(red, green, blue, alpha);\r\n                img.setRGB(x, y, color.getRGB());\r\n            }\r\n        }\r\n        File outputImage = new File(currentImage.getAbsolutePath().substring(0, currentImage.getAbsolutePath().length() - 4) + &quot;_encrypted.png&quot;);\r\n        ImageIO.write(img, &quot;png&quot;, outputImage);\r\n    }\r\n\r\nSo, my immediate thoughts are: \r\n\r\n* Why?!\r\n* Did you really want to fill the entire image with a single color?\r\n* Does the original image support a alpha based color model?\r\n\r\nSo, if you really just wanted to fill the image with a single translucent color, you could have simply just done...\r\n\r\n    BufferedImage translucent = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n    Graphics2D g2d = translucent.createGraphics();\r\n    g2d.setColor(new Color(10, 20, 30, 40));\r\n    g2d.fillRect(0, 0, master.getWidth(), master.getHeight());\r\n    g2d.dispose();\r\n\r\nwhich would be faster.\r\n\r\nIf, instead, you &quot;really&quot; wanted to make the image appear transparent, then you should probably have started with something like...\r\n\r\n    public static BufferedImage changeImage(BufferedImage master) {\r\n        BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n        for (int y = 0; y &lt; img.getHeight(); y++) {\r\n            for (int x = 0; x &lt; img.getWidth(); x++) {\r\n                int pixel = master.getRGB(x, y);\r\n                Color color = new Color(pixel);\r\n                int red = color.getRed();\r\n                int green = color.getGreen();\r\n                int blue = color.getBlue();\r\n                int alpha = 40;\r\n                color = new Color(red, green, blue, alpha);\r\n                img.setRGB(x, y, color.getRGB());\r\n            }\r\n        }\r\n        return img;\r\n    }\r\n\r\nThis creates a new `BufferedImage` with a color model which supports transparency.  It then converts each pixel of the master image to have a alpha color and updates the new image with it.\r\n\r\nBut again, you could just do something like...\r\n\r\n    BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n    Graphics2D g2d = alphaed.createGraphics();\r\n    g2d.setComposite(AlphaComposite.SrcOver.derive(0.156862745098039f));\r\n    g2d.drawImage(master, 0, 0, this);\r\n    g2d.dispose();\r\n\r\nwhich would be faster.\r\n\r\n# Runnable example\r\n\r\nSo, left, original image, middle, your &quot;modified&quot; code, right, `AlphaComposite` based result\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public static BufferedImage changeImage(BufferedImage master) {\r\n            BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n            for (int y = 0; y &lt; img.getHeight(); y++) {\r\n                for (int x = 0; x &lt; img.getWidth(); x++) {\r\n                    int pixel = master.getRGB(x, y);\r\n                    Color color = new Color(pixel);\r\n                    int red = color.getRed();\r\n                    int green = color.getGreen();\r\n                    int blue = color.getBlue();\r\n                    int alpha = 40;\r\n                    color = new Color(red, green, blue, alpha);\r\n                    img.setRGB(x, y, color.getRGB());\r\n                }\r\n            }\r\n            return img;\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private BufferedImage master;\r\n            private BufferedImage modified;\r\n            private BufferedImage alphaed;\r\n\r\n            public TestPane() throws IOException {\r\n                master = ImageIO.read(getClass().getResource(&quot;/images/MegaTokyo.png&quot;));\r\n                modified = changeImage(master);\r\n\r\n                alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                Graphics2D g2d = alphaed.createGraphics();\r\n                g2d.setComposite(AlphaComposite.SrcOver.derive(0.156862745098039f));\r\n                g2d.drawImage(master, 0, 0, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(master.getWidth() * 3, master.getHeight());\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.drawImage(master, 0, 0, this);\r\n                g2d.drawImage(modified, master.getWidth(), 0, this);\r\n                g2d.drawImage(alphaed, master.getWidth() * 2, 0, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n----------\r\n\r\nNow, it occurs to me that you might be trying to put a color &quot;overlay&quot; on top of the image\r\n\r\nIn which case you try doing something like...\r\n\r\n\tBufferedImage colorOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n\tGraphics2D g2d = colorOverlay.createGraphics();\r\n\tg2d.setColor(new Color(10, 20, 30, 192));\r\n\tg2d.fillRect(0, 0, colorOverlay.getWidth(), colorOverlay.getHeight());\r\n\tg2d.dispose();\r\n\r\n\r\n\talphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n\tg2d = alphaed.createGraphics();\r\n\tg2d.drawImage(master, 0, 0, this);\r\n\tg2d.drawImage(colorOverlay, 0, 0, this);\r\n\tg2d.dispose();\r\n\r\nwhich could be simplifed to something like...\r\n\r\n    alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n    g2d = alphaed.createGraphics();\r\n    g2d.drawImage(master, 0, 0, this);\r\n    g2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\r\n    g2d.setColor(new Color(10, 20, 30, 192));\r\n    g2d.fillRect(0, 0, alphaed.getWidth(), alphaed.getHeight());\r\n    g2d.dispose();\r\n\r\n*(nb: I tried using `40` as the alpha component, but it made such little difference, I changed it to `192` for demonstration purposes)*\r\n\r\n# Runnable example\r\n\r\n[![enter image description here][2]][2]\r\n\r\n    import java.awt.AlphaComposite;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public static BufferedImage changeImage(BufferedImage master) {\r\n            BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n            for (int y = 0; y &lt; img.getHeight(); y++) {\r\n                for (int x = 0; x &lt; img.getWidth(); x++) {\r\n                    int pixel = master.getRGB(x, y);\r\n                    Color color = new Color(pixel);\r\n                    int red = color.getRed();\r\n                    int green = color.getGreen();\r\n                    int blue = color.getBlue();\r\n                    int alpha = 40;\r\n                    color = new Color(red, green, blue, alpha);\r\n                    img.setRGB(x, y, color.getRGB());\r\n                }\r\n            }\r\n            return img;\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private BufferedImage master;\r\n            private BufferedImage alphaed;\r\n\r\n            public TestPane() throws IOException {\r\n                master = ImageIO.read(getClass().getResource(&quot;/images/MegaTokyo.png&quot;));\r\n\r\n                //--- This -----\r\n                BufferedImage colorOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                Graphics2D g2d = colorOverlay.createGraphics();\r\n                g2d.setColor(new Color(10, 20, 30, 192));\r\n                g2d.fillRect(0, 0, colorOverlay.getWidth(), colorOverlay.getHeight());\r\n                g2d.dispose();\r\n\r\n                alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n                g2d = alphaed.createGraphics();\r\n                g2d.drawImage(master, 0, 0, this);\r\n                g2d.drawImage(colorOverlay, 0, 0, this);\r\n                g2d.dispose();\r\n                //--------------\r\n\r\n                //--- Or This -----\r\n    //            alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n    //            g2d = alphaed.createGraphics();\r\n    //            g2d.drawImage(master, 0, 0, this);\r\n    //            g2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\r\n    //            g2d.setColor(new Color(10, 20, 30, 192));\r\n    //            g2d.fillRect(0, 0, alphaed.getWidth(), alphaed.getHeight());\r\n    //            g2d.dispose();\r\n                //-----------------\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                return new Dimension(master.getWidth() * 2, master.getHeight());\r\n            }\r\n\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g);\r\n                Graphics2D g2d = (Graphics2D) g.create();\r\n                g2d.drawImage(master, 0, 0, this);\r\n                g2d.drawImage(alphaed, master.getWidth(), 0, this);\r\n                g2d.dispose();\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QYAFx.png\r\n  [2]: https://i.stack.imgur.com/BDLkE.png","title":"Changing alpha value of an image","body":"<pre><code>public void changeImage (File currentImage) throws IOException {\n    BufferedImage img = ImageIO.read(currentImage);\n    for (int y = 0; y &lt; img.getHeight(); y++) {\n        for (int x = 0; x &lt; img.getWidth(); x++) {\n            int pixel = img.getRGB(x,y);\n            Color color = new Color(pixel);\n            int red = 10;\n            int green = 20;\n            int blue = 30;\n            int alpha = 40;\n            color = new Color(red, green, blue, alpha);\n            img.setRGB(x, y, color.getRGB());\n        }\n    }\n    File outputImage = new File(currentImage.getAbsolutePath().substring(0, currentImage.getAbsolutePath().length() - 4) + &quot;_encrypted.png&quot;);\n    ImageIO.write(img, &quot;png&quot;, outputImage);\n}\n</code></pre>\n<p>So, my immediate thoughts are:</p>\n<ul>\n<li>Why?!</li>\n<li>Did you really want to fill the entire image with a single color?</li>\n<li>Does the original image support a alpha based color model?</li>\n</ul>\n<p>So, if you really just wanted to fill the image with a single translucent color, you could have simply just done...</p>\n<pre><code>BufferedImage translucent = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2d = translucent.createGraphics();\ng2d.setColor(new Color(10, 20, 30, 40));\ng2d.fillRect(0, 0, master.getWidth(), master.getHeight());\ng2d.dispose();\n</code></pre>\n<p>which would be faster.</p>\n<p>If, instead, you &quot;really&quot; wanted to make the image appear transparent, then you should probably have started with something like...</p>\n<pre><code>public static BufferedImage changeImage(BufferedImage master) {\n    BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n    for (int y = 0; y &lt; img.getHeight(); y++) {\n        for (int x = 0; x &lt; img.getWidth(); x++) {\n            int pixel = master.getRGB(x, y);\n            Color color = new Color(pixel);\n            int red = color.getRed();\n            int green = color.getGreen();\n            int blue = color.getBlue();\n            int alpha = 40;\n            color = new Color(red, green, blue, alpha);\n            img.setRGB(x, y, color.getRGB());\n        }\n    }\n    return img;\n}\n</code></pre>\n<p>This creates a new <code>BufferedImage</code> with a color model which supports transparency.  It then converts each pixel of the master image to have a alpha color and updates the new image with it.</p>\n<p>But again, you could just do something like...</p>\n<pre><code>BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2d = alphaed.createGraphics();\ng2d.setComposite(AlphaComposite.SrcOver.derive(0.156862745098039f));\ng2d.drawImage(master, 0, 0, this);\ng2d.dispose();\n</code></pre>\n<p>which would be faster.</p>\n<h1>Runnable example</h1>\n<p>So, left, original image, middle, your &quot;modified&quot; code, right, <code>AlphaComposite</code> based result</p>\n<p><a href=\"https://i.stack.imgur.com/QYAFx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QYAFx.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public static BufferedImage changeImage(BufferedImage master) {\n        BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n        for (int y = 0; y &lt; img.getHeight(); y++) {\n            for (int x = 0; x &lt; img.getWidth(); x++) {\n                int pixel = master.getRGB(x, y);\n                Color color = new Color(pixel);\n                int red = color.getRed();\n                int green = color.getGreen();\n                int blue = color.getBlue();\n                int alpha = 40;\n                color = new Color(red, green, blue, alpha);\n                img.setRGB(x, y, color.getRGB());\n            }\n        }\n        return img;\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage master;\n        private BufferedImage modified;\n        private BufferedImage alphaed;\n\n        public TestPane() throws IOException {\n            master = ImageIO.read(getClass().getResource(&quot;/images/MegaTokyo.png&quot;));\n            modified = changeImage(master);\n\n            alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n            Graphics2D g2d = alphaed.createGraphics();\n            g2d.setComposite(AlphaComposite.SrcOver.derive(0.156862745098039f));\n            g2d.drawImage(master, 0, 0, this);\n            g2d.dispose();\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(master.getWidth() * 3, master.getHeight());\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.drawImage(master, 0, 0, this);\n            g2d.drawImage(modified, master.getWidth(), 0, this);\n            g2d.drawImage(alphaed, master.getWidth() * 2, 0, this);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n<hr />\n<p>Now, it occurs to me that you might be trying to put a color &quot;overlay&quot; on top of the image</p>\n<p>In which case you try doing something like...</p>\n<pre><code>BufferedImage colorOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\nGraphics2D g2d = colorOverlay.createGraphics();\ng2d.setColor(new Color(10, 20, 30, 192));\ng2d.fillRect(0, 0, colorOverlay.getWidth(), colorOverlay.getHeight());\ng2d.dispose();\n\n\nalphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\ng2d = alphaed.createGraphics();\ng2d.drawImage(master, 0, 0, this);\ng2d.drawImage(colorOverlay, 0, 0, this);\ng2d.dispose();\n</code></pre>\n<p>which could be simplifed to something like...</p>\n<pre><code>alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\ng2d = alphaed.createGraphics();\ng2d.drawImage(master, 0, 0, this);\ng2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\ng2d.setColor(new Color(10, 20, 30, 192));\ng2d.fillRect(0, 0, alphaed.getWidth(), alphaed.getHeight());\ng2d.dispose();\n</code></pre>\n<p><em>(nb: I tried using <code>40</code> as the alpha component, but it made such little difference, I changed it to <code>192</code> for demonstration purposes)</em></p>\n<h1>Runnable example</h1>\n<p><a href=\"https://i.stack.imgur.com/BDLkE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BDLkE.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.AlphaComposite;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.image.BufferedImage;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public static BufferedImage changeImage(BufferedImage master) {\n        BufferedImage img = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n        for (int y = 0; y &lt; img.getHeight(); y++) {\n            for (int x = 0; x &lt; img.getWidth(); x++) {\n                int pixel = master.getRGB(x, y);\n                Color color = new Color(pixel);\n                int red = color.getRed();\n                int green = color.getGreen();\n                int blue = color.getBlue();\n                int alpha = 40;\n                color = new Color(red, green, blue, alpha);\n                img.setRGB(x, y, color.getRGB());\n            }\n        }\n        return img;\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage master;\n        private BufferedImage alphaed;\n\n        public TestPane() throws IOException {\n            master = ImageIO.read(getClass().getResource(&quot;/images/MegaTokyo.png&quot;));\n\n            //--- This -----\n            BufferedImage colorOverlay = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n            Graphics2D g2d = colorOverlay.createGraphics();\n            g2d.setColor(new Color(10, 20, 30, 192));\n            g2d.fillRect(0, 0, colorOverlay.getWidth(), colorOverlay.getHeight());\n            g2d.dispose();\n\n            alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n            g2d = alphaed.createGraphics();\n            g2d.drawImage(master, 0, 0, this);\n            g2d.drawImage(colorOverlay, 0, 0, this);\n            g2d.dispose();\n            //--------------\n\n            //--- Or This -----\n//            alphaed = new BufferedImage(master.getWidth(), master.getHeight(), BufferedImage.TYPE_INT_ARGB);\n//            g2d = alphaed.createGraphics();\n//            g2d.drawImage(master, 0, 0, this);\n//            g2d.setComposite(AlphaComposite.SrcOver.derive(0.75f));\n//            g2d.setColor(new Color(10, 20, 30, 192));\n//            g2d.fillRect(0, 0, alphaed.getWidth(), alphaed.getHeight());\n//            g2d.dispose();\n            //-----------------\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            return new Dimension(master.getWidth() * 2, master.getHeight());\n        }\n\n        @Override\n        protected void paintComponent(Graphics g) {\n            super.paintComponent(g);\n            Graphics2D g2d = (Graphics2D) g.create();\n            g2d.drawImage(master, 0, 0, this);\n            g2d.drawImage(alphaed, master.getWidth(), 0, this);\n            g2d.dispose();\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27604731,"reputation":1,"user_id":21069125,"display_name":"BubbyWubby"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674518838,"creation_date":1674514957,"question_id":75215942,"body_markdown":"I am trying to change the alpha value of an image, I have the code\r\n\r\n```\r\n    public void changeImage (File currentImage) throws IOException {\r\n        BufferedImage img = ImageIO.read(currentImage);\r\n        for (int y = 0; y &lt; img.getHeight(); y++) {\r\n            for (int x = 0; x &lt; img.getWidth(); x++) {\r\n                int pixel = img.getRGB(x,y);\r\n                Color color = new Color(pixel);\r\n                int red = 10;\r\n                int green = 20;\r\n                int blue = 30;\r\n                int alpha = 40;\r\n                color = new Color(red, green, blue, alpha);\r\n                img.setRGB(x, y, color.getRGB());\r\n            }\r\n        }\r\n        File outputImage = new File(currentImage.getAbsolutePath().substring(0, currentImage.getAbsolutePath().length() - 4) + &quot;_encrypted.png&quot;);\r\n        ImageIO.write(img, &quot;png&quot;, outputImage);\r\n    }\r\n```\r\n\r\nThe colors change just fine and when I get Java to print the new photo&#39;s alpha value, it says it&#39;s 40 but it doesn&#39;t look less transparent at all. Like the colors obviously change but the transparency does not. [Example](https://i.stack.imgur.com/zi1eL.png) Like see, it&#39;s not less transparent at all, this is my first time with colors.\r\n\r\nI have tried to do `Color color = new Color(pixel, true);` instead but it didn&#39;t really change anything.","title":"Changing alpha value of an image","body":"<p>I am trying to change the alpha value of an image, I have the code</p>\n<pre><code>    public void changeImage (File currentImage) throws IOException {\n        BufferedImage img = ImageIO.read(currentImage);\n        for (int y = 0; y &lt; img.getHeight(); y++) {\n            for (int x = 0; x &lt; img.getWidth(); x++) {\n                int pixel = img.getRGB(x,y);\n                Color color = new Color(pixel);\n                int red = 10;\n                int green = 20;\n                int blue = 30;\n                int alpha = 40;\n                color = new Color(red, green, blue, alpha);\n                img.setRGB(x, y, color.getRGB());\n            }\n        }\n        File outputImage = new File(currentImage.getAbsolutePath().substring(0, currentImage.getAbsolutePath().length() - 4) + &quot;_encrypted.png&quot;);\n        ImageIO.write(img, &quot;png&quot;, outputImage);\n    }\n</code></pre>\n<p>The colors change just fine and when I get Java to print the new photo's alpha value, it says it's 40 but it doesn't look less transparent at all. Like the colors obviously change but the transparency does not. <a href=\"https://i.stack.imgur.com/zi1eL.png\" rel=\"nofollow noreferrer\">Example</a> Like see, it's not less transparent at all, this is my first time with colors.</p>\n<p>I have tried to do <code>Color color = new Color(pixel, true);</code> instead but it didn't really change anything.</p>\n"},{"tags":["java","selenium","cucumber"],"answers":[{"comments":[{"owner":{"account_id":27600127,"reputation":1,"user_id":21065530,"display_name":"Taza"},"score":0,"creation_date":1674546112,"post_id":75216288,"comment_id":132731123,"body_markdown":"&#39;or&#39; is running all the tags, whereas &#39;and&#39; is not working at all. Nonetheless it did solve my problem. Thank you very much!","body":"&#39;or&#39; is running all the tags, whereas &#39;and&#39; is not working at all. Nonetheless it did solve my problem. Thank you very much!"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1674550484,"post_id":75216288,"comment_id":132732347,"body_markdown":"I think you misunderstand the meaning of `and` in this context. Try tagging a scenario with both tags and use `and`.","body":"I think you misunderstand the meaning of <code>and</code> in this context. Try tagging a scenario with both tags and use <code>and</code>."},{"owner":{"account_id":27600127,"reputation":1,"user_id":21065530,"display_name":"Taza"},"score":0,"creation_date":1674804316,"post_id":75216288,"comment_id":132795069,"body_markdown":"if I use &#39;and&#39; with tags then I have &quot;Process finished with exit code 0&quot; error in the console.","body":"if I use &#39;and&#39; with tags then I have &quot;Process finished with exit code 0&quot; error in the console."}],"tags":[],"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674518784,"creation_date":1674518784,"answer_id":75216288,"question_id":75209443,"body_markdown":"The [Tag Expression](https://github.com/cucumber/tag-expressions) `@test1 and @test2` selects all scenarios that are tagged with both `@test1` and `@test2`. If you want all scenarios with atleast one of those two tags you should use `@test1 or @test2`.","title":"Process finished with exit code 0 error while using multiple tags in Cucumber version 7.2.3","body":"<p>The <a href=\"https://github.com/cucumber/tag-expressions\" rel=\"nofollow noreferrer\">Tag Expression</a> <code>@test1 and @test2</code> selects all scenarios that are tagged with both <code>@test1</code> and <code>@test2</code>. If you want all scenarios with atleast one of those two tags you should use <code>@test1 or @test2</code>.</p>\n"}],"owner":{"account_id":27600127,"reputation":1,"user_id":21065530,"display_name":"Taza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674518784,"creation_date":1674476534,"question_id":75209443,"body_markdown":"Below is my Runner file:\r\n```\r\n@CucumberOptions(\r\n\r\n    plugin = {&quot;json:target/cucumber.json&quot;},\r\n\r\n    features = &quot;src/test/resources/features&quot;,\r\n\r\n    glue = &quot;com/company/definitions&quot;,\r\n\r\n    dryRun = false,\r\n\r\n    tags = &quot;@test1 and @test2&quot; \r\n)\r\n```\r\nIf there is only 1 tag, then it is running correctly; but if I add another tag (i.e.@test1 and @test2), then it is giving &quot;Process finished with exit code 0&quot; error in the console.\r\n\r\n\r\n\r\nI have tried all the possible options even the old versions without any success. Is there an update in Cucumber related to tags? Anyone faced the same issue?","title":"Process finished with exit code 0 error while using multiple tags in Cucumber version 7.2.3","body":"<p>Below is my Runner file:</p>\n<pre><code>@CucumberOptions(\n\n    plugin = {&quot;json:target/cucumber.json&quot;},\n\n    features = &quot;src/test/resources/features&quot;,\n\n    glue = &quot;com/company/definitions&quot;,\n\n    dryRun = false,\n\n    tags = &quot;@test1 and @test2&quot; \n)\n</code></pre>\n<p>If there is only 1 tag, then it is running correctly; but if I add another tag (i.e.@test1 and @test2), then it is giving &quot;Process finished with exit code 0&quot; error in the console.</p>\n<p>I have tried all the possible options even the old versions without any success. Is there an update in Cucumber related to tags? Anyone faced the same issue?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":123802,"reputation":37785,"user_id":318493,"accept_rate":67,"display_name":"RoToRa"},"score":0,"creation_date":1674482434,"post_id":75209893,"comment_id":132716979,"body_markdown":"3.0.2 is the newest version that just came out. It&#39;s very unlikely for the newest version to have any known vulnerabilities or there would be a newer version.","body":"3.0.2 is the newest version that just came out. It&#39;s very unlikely for the newest version to have any known vulnerabilities or there would be a newer version."},{"owner":{"account_id":1822566,"reputation":199,"user_id":1656253,"display_name":"Rahul J"},"score":0,"creation_date":1674518786,"post_id":75209893,"comment_id":132727384,"body_markdown":"While spring might have fixed direct vulnerabilities, there can be few vulnerabilities which are coming from transitive dependency. \nIs there a way to find all vulnerabilities coming from direct and transitive dependencies ?","body":"While spring might have fixed direct vulnerabilities, there can be few vulnerabilities which are coming from transitive dependency.  Is there a way to find all vulnerabilities coming from direct and transitive dependencies ?"}],"answers":[{"tags":[],"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674482383,"creation_date":1674482383,"answer_id":75210555,"question_id":75209893,"body_markdown":"The answer is not easy, because we don&#39;t know all your used (sub-)dependencies. And an answer can be outdate in a couple of hours/days/weeeks ...\r\n\r\nBut you can lookup the dependencies manually with the new MavenCentral-website.  \r\nAn example: When you search for &quot;Spring JPA&quot;, then you will find this site: https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-data-jpa/3.0.2/jar\r\n\r\nAnd there is button to view the OSS-index which is pointing to this site:  \r\n[![Image of OSS-index at MavenCentral][1]][1]\r\nhttps://ossindex.sonatype.org/component/pkg:maven/org.springframework.boot/spring-boot-starter-data-jpa@3.0.2\r\n\r\nOr, just make the upgrade and let your IDE resolve all the vulnerabilities automatically.  \r\nIntelliJ does it very well:  \r\n[![Image of pom.xml in IntelliJ with warning][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/blqsT.png\r\n  [2]: https://i.stack.imgur.com/WJCsx.png","title":"Vulnerabilities list in Spring boot 3.0.2","body":"<p>The answer is not easy, because we don't know all your used (sub-)dependencies. And an answer can be outdate in a couple of hours/days/weeeks ...</p>\n<p>But you can lookup the dependencies manually with the new MavenCentral-website.<br />\nAn example: When you search for &quot;Spring JPA&quot;, then you will find this site: <a href=\"https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-data-jpa/3.0.2/jar\" rel=\"nofollow noreferrer\">https://search.maven.org/artifact/org.springframework.boot/spring-boot-starter-data-jpa/3.0.2/jar</a></p>\n<p>And there is button to view the OSS-index which is pointing to this site:<br />\n<a href=\"https://i.stack.imgur.com/blqsT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/blqsT.png\" alt=\"Image of OSS-index at MavenCentral\" /></a>\n<a href=\"https://ossindex.sonatype.org/component/pkg:maven/org.springframework.boot/spring-boot-starter-data-jpa@3.0.2\" rel=\"nofollow noreferrer\">https://ossindex.sonatype.org/component/pkg:maven/org.springframework.boot/spring-boot-starter-data-jpa@3.0.2</a></p>\n<p>Or, just make the upgrade and let your IDE resolve all the vulnerabilities automatically.<br />\nIntelliJ does it very well:<br />\n<a href=\"https://i.stack.imgur.com/WJCsx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WJCsx.png\" alt=\"Image of pom.xml in IntelliJ with warning\" /></a></p>\n"}],"owner":{"account_id":1822566,"reputation":199,"user_id":1656253,"display_name":"Rahul J"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":950,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":75210555,"answer_count":1,"score":-3,"last_activity_date":1674518777,"creation_date":1674478786,"question_id":75209893,"body_markdown":"I am planning to upgrade services from spring boot 2.2.6 to 3.0.2. I want to know if latest spring boot version has any new vulnerabilities and if all old vulnerabilities have been fixed in the spring boot latest version? Where can I get this information?  \r\nNote : I can see list of 57 vulnerabilities from maven repository in 2.2.6 version, but it did not list any vulnerabilities for 3.0.2 version.  While spring might have fixed direct vulnerabilities, there can be few vulnerabilities which are coming from transitive dependency. \r\nIs there a way to find all vulnerabilities coming from direct and transitive dependencies ?   ","title":"Vulnerabilities list in Spring boot 3.0.2","body":"<p>I am planning to upgrade services from spring boot 2.2.6 to 3.0.2. I want to know if latest spring boot version has any new vulnerabilities and if all old vulnerabilities have been fixed in the spring boot latest version? Where can I get this information?<br />\nNote : I can see list of 57 vulnerabilities from maven repository in 2.2.6 version, but it did not list any vulnerabilities for 3.0.2 version.  While spring might have fixed direct vulnerabilities, there can be few vulnerabilities which are coming from transitive dependency.\nIs there a way to find all vulnerabilities coming from direct and transitive dependencies ?</p>\n"},{"tags":["java","android","android-activity","android-actionbar","navigation-drawer"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1674516488,"post_id":75216076,"comment_id":132727029,"body_markdown":"It might be in your layout, actually. The drawer in a `&lt;DrawerLayout&gt;` should be listed last. That is, the `&lt;NavigationView&gt;` should be that last thing inside the `&lt;DrawerLayout&gt;` tags. Have a look here: https://stackoverflow.com/q/31397792.","body":"It might be in your layout, actually. The drawer in a <code>&lt;DrawerLayout&gt;</code> should be listed last. That is, the <code>&lt;NavigationView&gt;</code> should be that last thing inside the <code>&lt;DrawerLayout&gt;</code> tags. Have a look here: <a href=\"https://stackoverflow.com/q/31397792\">stackoverflow.com/q/31397792</a>."},{"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"score":1,"creation_date":1674518602,"post_id":75216076,"comment_id":132727344,"body_markdown":"Ah, yup. That fixed it. I had no idea. Thank you so much!!!","body":"Ah, yup. That fixed it. I had no idea. Thank you so much!!!"}],"owner":{"account_id":26567360,"reputation":20,"user_id":20194160,"display_name":"EagleGrant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674518719,"creation_date":1674516237,"question_id":75216076,"body_markdown":"I need a side drawer layout, with a navigation view that contains a few buttons, doing different things. The issue I am having is that when I go to add ANYTHING within my &quot;onNavigationItemSelected&quot; listener, it never does anything. Basically, I assign the drawer+nav view, then do the ActionBarDrawerToggle with the proper items, and add the DrawerListener, then sync, then add the NavItemSelectedListener. This doesn&#39;t work. (Won&#39;t respond to clicks)  \r\nHere&#39;s the code:\r\n\r\n```\r\n    private Toolbar toolbar;\r\n    private DrawerLayout drawerLayout;\r\n    private NavigationView navigationView;\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\ntoolbar = findViewById(R.id.main_toolbar);\r\n        setSupportActionBar(toolbar);\r\n        drawerLayout = findViewById(R.id.drawerlayout);\r\n        navigationView = findViewById(R.id.nav_view);\r\n        ActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.open,R.string.close);\r\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\r\n        actionBarDrawerToggle.syncState();\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n}\r\n    private void replaceFragment(Fragment fragment,String title) {\r\n    FragmentManager fragmentManager = getSupportFragmentManager();\r\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction()\r\n            .setCustomAnimations(R.anim.slide_in,\r\n                            R.anim.fade_out,\r\n                            R.anim.fade_in,\r\n                            R.anim.slide_out)\r\n            .setReorderingAllowed(true)\r\n            .replace(R.id.frameLayout, fragment,title)\r\n            .addToBackStack(null);\r\n    fragmentTransaction.commit();\r\n    }\r\n  @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        replaceFragment(new Auto(),&quot;auto&quot;);\r\n        return false;\r\n    }\r\n```\r\n\r\nIf this doesn&#39;t give a clear answer, here is ALL of the code for this task.\r\n\r\n```\r\npackage com.gtappdevelopers.firebasestorageimage;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.navigation.NavController;\r\nimport androidx.navigation.Navigation;\r\nimport androidx.navigation.ui.AppBarConfiguration;\r\nimport androidx.navigation.ui.NavigationUI;\r\n\r\nimport android.Manifest;\r\nimport android.content.ClipData;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.graphics.Point;\r\nimport android.os.Bundle;\r\nimport android.view.Display;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.view.WindowManager;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\r\nimport com.google.android.material.navigation.NavigationView;\r\nimport com.gtappdevelopers.firebasestorageimage.databinding.ActivityMainBinding;\r\n\r\nimport java.util.ArrayList;\r\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener, NavigationView.OnNavigationItemSelectedListener {\r\n    ActivityMainBinding binding;\r\n    FloatingActionButton fab;\r\n    static String balance = &quot;NA&quot;;\r\n    static int match = -1;\r\n    static int team = -1;\r\n    static String autoC = &quot;NA&quot;;\r\n    static String teleC = &quot;NA&quot;;\r\n    public static int dimen;\r\n    static ArrayList&lt;Integer&gt; grid;\r\n    static ArrayList&lt;Integer&gt; teleGrid;\r\n    private Toolbar toolbar;\r\n    private DrawerLayout drawerLayout;\r\n    private NavigationView navigationView;\r\n    private AppBarConfiguration mAppBarConfiguration;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n        setContentView(binding.getRoot());\r\n        replaceFragment(new BeforeMatchFragment(),&quot;before&quot;);\r\n        fab = findViewById(R.id.fab);\r\n\r\n\r\n        toolbar = (Toolbar) findViewById(R.id.main_toolbar);\r\n        setSupportActionBar(toolbar);\r\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawerlayout);\r\n        navigationView = (NavigationView) findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n        ActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.open,R.string.close);\r\n        drawerLayout.setDrawerListener(actionBarDrawerToggle);\r\n        actionBarDrawerToggle.syncState();\r\n         WindowManager manager = (WindowManager) this.getSystemService(WINDOW_SERVICE);\r\n        //initializing a variable for default display.\r\n        Display display = manager.getDefaultDisplay();\r\n        //creating a variable for point which is to be displayed in QR Code.\r\n        Point point = new Point();\r\n        display.getSize(point);\r\n        //getting width and height of a point\r\n        int width = point.x;\r\n        int height = point.y;\r\n        //generating dimension from width and height.\r\n        dimen = Math.min(width, height);\r\n        dimen = dimen * 3 / 4;\r\n\r\n        fab.setOnClickListener(this);\r\n        while (!checkPermission()) {\r\n            requestPermission();\r\n        }\r\n        binding.bottomNavigationView.setOnItemSelectedListener(item -&gt; {\r\n            switch (item.getItemId()) {\r\n                case R.id.before:\r\n                    replaceFragment(new BeforeMatchFragment(),&quot;before&quot;);\r\n                    break;\r\n                case R.id.auto:\r\n                    replaceFragment(new Auto(),&quot;auto&quot;);\r\n                    break;\r\n                case R.id.tele:\r\n                    replaceFragment(new TeleOp(),&quot;tele&quot;);\r\n                    break;\r\n                case R.id.end:\r\n                    replaceFragment(new EndGame(),&quot;end&quot;);\r\n                    break;\r\n                case R.id.dock:\r\n                    replaceFragment(new Docking(),&quot;docking&quot;);\r\n                    break;\r\n            }\r\n            return true;\r\n        });\r\n    }\r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n        int id = item.getItemId();\r\n        switch (id){\r\n            case R.id.newTeam:\r\n                Intent intent = new Intent(MainActivity.this,MainActivity.class);\r\n                startActivity(intent);\r\n                break;\r\n            case R.id.FileViewer:\r\n                Intent intent1= new Intent(MainActivity.this,FileListActivity.class);\r\n                startActivity(intent1);\r\n                break;\r\n            case R.id.NightMode:\r\n                SplashActivity.setNight();\r\n        }\r\n        drawerLayout.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n    @Override\r\n    public void onBackPressed(){\r\n        super.onBackPressed();\r\n    }\r\n    @Override\r\n    public void onClick(View view) {\r\n\r\n        switch (view.getId()) {\r\n            case R.id.fab:\r\n\r\n                BeforeMatchFragment beforeFrag = (BeforeMatchFragment)getSupportFragmentManager().findFragmentByTag(&quot;before&quot;);\r\n                EndGame endFrag = (EndGame)getSupportFragmentManager().findFragmentByTag(&quot;end&quot;);\r\n                Auto autoFrag = (Auto)getSupportFragmentManager().findFragmentByTag(&quot;auto&quot;);\r\n                TeleOp teleFrag = (TeleOp)getSupportFragmentManager().findFragmentByTag(&quot;tele&quot;);\r\n                Docking dockFrag = (Docking)getSupportFragmentManager().findFragmentByTag(&quot;docking&quot;);\r\n\r\n                if (beforeFrag != null &amp;&amp; beforeFrag.isVisible()) {\r\n                    Intent intent = new Intent(MainActivity.this,SplashActivity.class);\r\n                    startActivity(intent);\r\n                }else if (autoFrag != null &amp;&amp; autoFrag.isVisible()) {\r\n                    binding.bottomNavigationView.setSelectedItemId(R.id.before);\r\n                    replaceFragment(new BeforeMatchFragment(), &quot;before&quot;);\r\n                }else if (teleFrag != null &amp;&amp; teleFrag.isVisible()) {\r\n                    binding.bottomNavigationView.setSelectedItemId(R.id.auto);\r\n\r\n                    replaceFragment(new Auto(), &quot;auto&quot;);\r\n                }else if (endFrag != null &amp;&amp; endFrag.isVisible()) {\r\n                    binding.bottomNavigationView.setSelectedItemId(R.id.dock);\r\n                    replaceFragment(new Docking(), &quot;docking&quot;);\r\n                }else if (dockFrag != null &amp;&amp; dockFrag.isVisible()) {\r\n                    binding.bottomNavigationView.setSelectedItemId(R.id.tele);\r\n                    replaceFragment(new TeleOp(), &quot;tele&quot;);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void replaceFragment(Fragment fragment,String title) {\r\n    FragmentManager fragmentManager = getSupportFragmentManager();\r\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction()\r\n            .setCustomAnimations(R.anim.slide_in,\r\n                            R.anim.fade_out,\r\n                            R.anim.fade_in,\r\n                            R.anim.slide_out)\r\n            .setReorderingAllowed(true)\r\n            .replace(R.id.frameLayout, fragment,title)\r\n            .addToBackStack(null);\r\n    fragmentTransaction.commit();\r\n    }\r\n    public boolean checkPermission(){\r\n        int result = ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE);\r\n        if(result == PackageManager.PERMISSION_GRANTED) {\r\n            return true;\r\n        }else{\r\n            return false;\r\n\r\n        }\r\n    }\r\n    private void requestPermission(){\r\n        if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\r\n            Toast.makeText(MainActivity.this,&quot;Storage permission is required, please allow it from settings.&quot;,Toast.LENGTH_SHORT).show();\r\n        }else{\r\n            ActivityCompat.requestPermissions(MainActivity.this,new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE},111);\r\n        }\r\n    }\r\n    public static void setBalance(String balance) {\r\n        MainActivity.balance = balance;\r\n    }\r\n    public static void setMatch(int match) {\r\n        MainActivity.match = match;\r\n    }\r\n    public static void setTeam(int team) {\r\n        MainActivity.team = team;\r\n    }\r\n    public static void setAutoC(String autoC) {\r\n        MainActivity.autoC = autoC;\r\n    }\r\n    public static void setTeleC(String teleC) {\r\n        MainActivity.teleC = teleC;\r\n    }\r\n    public static void setGrid( ArrayList&lt;Integer&gt; grid) {\r\n        MainActivity.grid = grid;\r\n    }\r\n    public static void setTeleGrid( ArrayList&lt;Integer&gt; teleGrid) {\r\n        MainActivity.teleGrid = teleGrid;\r\n    }\r\n    public static int getDimen() {\r\n        return dimen;\r\n    }\r\n    public static int getMatch() {\r\n        return match;\r\n    }\r\n    public static int getTeam() {\r\n        return team;\r\n    }\r\n    public static String getAutoC() {\r\n        return autoC;\r\n    }\r\n    public static String getTeleC() {\r\n        return teleC;\r\n    }\r\n\r\n    public static String getBalance() {\r\n        return balance;\r\n    }\r\n    public static ArrayList&lt;Integer&gt; getGrid() {\r\n        return grid;\r\n    }\r\n    public static ArrayList&lt;Integer&gt; getTeleGrid() {\r\n        return teleGrid;\r\n    }\r\n    public static String getAllData(){\r\n        return String.valueOf(match) + &quot;\\n&quot; + String.valueOf(team) + &quot;\\n&quot; + autoC + &quot;\\n&quot; + grid.toString() + &quot;\\n&quot; + teleC + &quot;\\n&quot; + teleGrid.toString() + &quot;\\n&quot; + balance;\r\n    }\r\n    public static void clearData(){\r\n        match = -1;\r\n        team = -1;\r\n        autoC = &quot;NA&quot;;\r\n        grid = new ArrayList&lt;Integer&gt;();\r\n        for (int i = 0; i &lt; 27; i++) {\r\n            grid.add(i,0);\r\n        }\r\n        teleC = &quot;NA&quot;;\r\n        teleGrid = new ArrayList&lt;Integer&gt;();\r\n        for (int i = 0; i &lt; 27; i++) {\r\n            teleGrid.add(i,0);\r\n        }\r\n        balance = &quot;NA&quot;;\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nI have tried using a switch statement to detect which ID clicked the Item, but none worked. Then I tried making it so that ANY item that clicked the navigationView made the entire screen swap fragments. This did not work. Then, I tried getting a Toast.makeText() to show up when I clicked ANY Item, this did not work. I&#39;m expecting the bug to be somewhere within my NavView set up/on create code.\r\nEDIT: The answer was that within my  XML, my NavigationView was before my actual content within the screen. You must put the nav View AFTER the layout, be it relative, constraint, etc. It should be the last thing in the drawer layout, basically. This answer was given to me by Mike M. Thanks Mike!","title":"My Navigation View Item Listener Does Not Respond?","body":"<p>I need a side drawer layout, with a navigation view that contains a few buttons, doing different things. The issue I am having is that when I go to add ANYTHING within my &quot;onNavigationItemSelected&quot; listener, it never does anything. Basically, I assign the drawer+nav view, then do the ActionBarDrawerToggle with the proper items, and add the DrawerListener, then sync, then add the NavItemSelectedListener. This doesn't work. (Won't respond to clicks)<br />\nHere's the code:</p>\n<pre><code>    private Toolbar toolbar;\n    private DrawerLayout drawerLayout;\n    private NavigationView navigationView;\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\ntoolbar = findViewById(R.id.main_toolbar);\n        setSupportActionBar(toolbar);\n        drawerLayout = findViewById(R.id.drawerlayout);\n        navigationView = findViewById(R.id.nav_view);\n        ActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.open,R.string.close);\n        drawerLayout.addDrawerListener(actionBarDrawerToggle);\n        actionBarDrawerToggle.syncState();\n        navigationView.setNavigationItemSelectedListener(this);\n}\n    private void replaceFragment(Fragment fragment,String title) {\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction()\n            .setCustomAnimations(R.anim.slide_in,\n                            R.anim.fade_out,\n                            R.anim.fade_in,\n                            R.anim.slide_out)\n            .setReorderingAllowed(true)\n            .replace(R.id.frameLayout, fragment,title)\n            .addToBackStack(null);\n    fragmentTransaction.commit();\n    }\n  @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        replaceFragment(new Auto(),&quot;auto&quot;);\n        return false;\n    }\n</code></pre>\n<p>If this doesn't give a clear answer, here is ALL of the code for this task.</p>\n<pre><code>package com.gtappdevelopers.firebasestorageimage;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\n\nimport android.Manifest;\nimport android.content.ClipData;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.graphics.Point;\nimport android.os.Bundle;\nimport android.view.Display;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.view.WindowManager;\nimport android.widget.Toast;\n\nimport com.google.android.material.floatingactionbutton.FloatingActionButton;\nimport com.google.android.material.navigation.NavigationView;\nimport com.gtappdevelopers.firebasestorageimage.databinding.ActivityMainBinding;\n\nimport java.util.ArrayList;\npublic class MainActivity extends AppCompatActivity implements View.OnClickListener, NavigationView.OnNavigationItemSelectedListener {\n    ActivityMainBinding binding;\n    FloatingActionButton fab;\n    static String balance = &quot;NA&quot;;\n    static int match = -1;\n    static int team = -1;\n    static String autoC = &quot;NA&quot;;\n    static String teleC = &quot;NA&quot;;\n    public static int dimen;\n    static ArrayList&lt;Integer&gt; grid;\n    static ArrayList&lt;Integer&gt; teleGrid;\n    private Toolbar toolbar;\n    private DrawerLayout drawerLayout;\n    private NavigationView navigationView;\n    private AppBarConfiguration mAppBarConfiguration;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        setContentView(binding.getRoot());\n        replaceFragment(new BeforeMatchFragment(),&quot;before&quot;);\n        fab = findViewById(R.id.fab);\n\n\n        toolbar = (Toolbar) findViewById(R.id.main_toolbar);\n        setSupportActionBar(toolbar);\n        drawerLayout = (DrawerLayout) findViewById(R.id.drawerlayout);\n        navigationView = (NavigationView) findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n        ActionBarDrawerToggle actionBarDrawerToggle = new ActionBarDrawerToggle(this,drawerLayout,toolbar,R.string.open,R.string.close);\n        drawerLayout.setDrawerListener(actionBarDrawerToggle);\n        actionBarDrawerToggle.syncState();\n         WindowManager manager = (WindowManager) this.getSystemService(WINDOW_SERVICE);\n        //initializing a variable for default display.\n        Display display = manager.getDefaultDisplay();\n        //creating a variable for point which is to be displayed in QR Code.\n        Point point = new Point();\n        display.getSize(point);\n        //getting width and height of a point\n        int width = point.x;\n        int height = point.y;\n        //generating dimension from width and height.\n        dimen = Math.min(width, height);\n        dimen = dimen * 3 / 4;\n\n        fab.setOnClickListener(this);\n        while (!checkPermission()) {\n            requestPermission();\n        }\n        binding.bottomNavigationView.setOnItemSelectedListener(item -&gt; {\n            switch (item.getItemId()) {\n                case R.id.before:\n                    replaceFragment(new BeforeMatchFragment(),&quot;before&quot;);\n                    break;\n                case R.id.auto:\n                    replaceFragment(new Auto(),&quot;auto&quot;);\n                    break;\n                case R.id.tele:\n                    replaceFragment(new TeleOp(),&quot;tele&quot;);\n                    break;\n                case R.id.end:\n                    replaceFragment(new EndGame(),&quot;end&quot;);\n                    break;\n                case R.id.dock:\n                    replaceFragment(new Docking(),&quot;docking&quot;);\n                    break;\n            }\n            return true;\n        });\n    }\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        int id = item.getItemId();\n        switch (id){\n            case R.id.newTeam:\n                Intent intent = new Intent(MainActivity.this,MainActivity.class);\n                startActivity(intent);\n                break;\n            case R.id.FileViewer:\n                Intent intent1= new Intent(MainActivity.this,FileListActivity.class);\n                startActivity(intent1);\n                break;\n            case R.id.NightMode:\n                SplashActivity.setNight();\n        }\n        drawerLayout.closeDrawer(GravityCompat.START);\n        return true;\n    }\n    @Override\n    public void onBackPressed(){\n        super.onBackPressed();\n    }\n    @Override\n    public void onClick(View view) {\n\n        switch (view.getId()) {\n            case R.id.fab:\n\n                BeforeMatchFragment beforeFrag = (BeforeMatchFragment)getSupportFragmentManager().findFragmentByTag(&quot;before&quot;);\n                EndGame endFrag = (EndGame)getSupportFragmentManager().findFragmentByTag(&quot;end&quot;);\n                Auto autoFrag = (Auto)getSupportFragmentManager().findFragmentByTag(&quot;auto&quot;);\n                TeleOp teleFrag = (TeleOp)getSupportFragmentManager().findFragmentByTag(&quot;tele&quot;);\n                Docking dockFrag = (Docking)getSupportFragmentManager().findFragmentByTag(&quot;docking&quot;);\n\n                if (beforeFrag != null &amp;&amp; beforeFrag.isVisible()) {\n                    Intent intent = new Intent(MainActivity.this,SplashActivity.class);\n                    startActivity(intent);\n                }else if (autoFrag != null &amp;&amp; autoFrag.isVisible()) {\n                    binding.bottomNavigationView.setSelectedItemId(R.id.before);\n                    replaceFragment(new BeforeMatchFragment(), &quot;before&quot;);\n                }else if (teleFrag != null &amp;&amp; teleFrag.isVisible()) {\n                    binding.bottomNavigationView.setSelectedItemId(R.id.auto);\n\n                    replaceFragment(new Auto(), &quot;auto&quot;);\n                }else if (endFrag != null &amp;&amp; endFrag.isVisible()) {\n                    binding.bottomNavigationView.setSelectedItemId(R.id.dock);\n                    replaceFragment(new Docking(), &quot;docking&quot;);\n                }else if (dockFrag != null &amp;&amp; dockFrag.isVisible()) {\n                    binding.bottomNavigationView.setSelectedItemId(R.id.tele);\n                    replaceFragment(new TeleOp(), &quot;tele&quot;);\n                }\n                break;\n        }\n    }\n\n    private void replaceFragment(Fragment fragment,String title) {\n    FragmentManager fragmentManager = getSupportFragmentManager();\n    FragmentTransaction fragmentTransaction = fragmentManager.beginTransaction()\n            .setCustomAnimations(R.anim.slide_in,\n                            R.anim.fade_out,\n                            R.anim.fade_in,\n                            R.anim.slide_out)\n            .setReorderingAllowed(true)\n            .replace(R.id.frameLayout, fragment,title)\n            .addToBackStack(null);\n    fragmentTransaction.commit();\n    }\n    public boolean checkPermission(){\n        int result = ContextCompat.checkSelfPermission(MainActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE);\n        if(result == PackageManager.PERMISSION_GRANTED) {\n            return true;\n        }else{\n            return false;\n\n        }\n    }\n    private void requestPermission(){\n        if (ActivityCompat.shouldShowRequestPermissionRationale(MainActivity.this, android.Manifest.permission.WRITE_EXTERNAL_STORAGE)) {\n            Toast.makeText(MainActivity.this,&quot;Storage permission is required, please allow it from settings.&quot;,Toast.LENGTH_SHORT).show();\n        }else{\n            ActivityCompat.requestPermissions(MainActivity.this,new String[] {Manifest.permission.WRITE_EXTERNAL_STORAGE},111);\n        }\n    }\n    public static void setBalance(String balance) {\n        MainActivity.balance = balance;\n    }\n    public static void setMatch(int match) {\n        MainActivity.match = match;\n    }\n    public static void setTeam(int team) {\n        MainActivity.team = team;\n    }\n    public static void setAutoC(String autoC) {\n        MainActivity.autoC = autoC;\n    }\n    public static void setTeleC(String teleC) {\n        MainActivity.teleC = teleC;\n    }\n    public static void setGrid( ArrayList&lt;Integer&gt; grid) {\n        MainActivity.grid = grid;\n    }\n    public static void setTeleGrid( ArrayList&lt;Integer&gt; teleGrid) {\n        MainActivity.teleGrid = teleGrid;\n    }\n    public static int getDimen() {\n        return dimen;\n    }\n    public static int getMatch() {\n        return match;\n    }\n    public static int getTeam() {\n        return team;\n    }\n    public static String getAutoC() {\n        return autoC;\n    }\n    public static String getTeleC() {\n        return teleC;\n    }\n\n    public static String getBalance() {\n        return balance;\n    }\n    public static ArrayList&lt;Integer&gt; getGrid() {\n        return grid;\n    }\n    public static ArrayList&lt;Integer&gt; getTeleGrid() {\n        return teleGrid;\n    }\n    public static String getAllData(){\n        return String.valueOf(match) + &quot;\\n&quot; + String.valueOf(team) + &quot;\\n&quot; + autoC + &quot;\\n&quot; + grid.toString() + &quot;\\n&quot; + teleC + &quot;\\n&quot; + teleGrid.toString() + &quot;\\n&quot; + balance;\n    }\n    public static void clearData(){\n        match = -1;\n        team = -1;\n        autoC = &quot;NA&quot;;\n        grid = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; 27; i++) {\n            grid.add(i,0);\n        }\n        teleC = &quot;NA&quot;;\n        teleGrid = new ArrayList&lt;Integer&gt;();\n        for (int i = 0; i &lt; 27; i++) {\n            teleGrid.add(i,0);\n        }\n        balance = &quot;NA&quot;;\n    }\n\n\n\n}\n</code></pre>\n<p>I have tried using a switch statement to detect which ID clicked the Item, but none worked. Then I tried making it so that ANY item that clicked the navigationView made the entire screen swap fragments. This did not work. Then, I tried getting a Toast.makeText() to show up when I clicked ANY Item, this did not work. I'm expecting the bug to be somewhere within my NavView set up/on create code.\nEDIT: The answer was that within my  XML, my NavigationView was before my actual content within the screen. You must put the nav View AFTER the layout, be it relative, constraint, etc. It should be the last thing in the drawer layout, basically. This answer was given to me by Mike M. Thanks Mike!</p>\n"},{"tags":["java","private","encapsulation"],"owner":{"account_id":27605026,"reputation":1,"user_id":21069343,"display_name":"Charlemagne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674518927,"answer_count":0,"score":0,"last_activity_date":1674518672,"creation_date":1674518577,"question_id":75216274,"body_markdown":"I&#39;m trying to use encapsulation to assign values to variables via user entry, but my set methods aren&#39;t recognizing my variables. My code is as follows:\r\n\t\r\n\tstatic class Sneakers{\r\n\t\t//Declare variables\r\n\t\tprivate String brand;\t//can be changed by the user\r\n\t\tprivate double size;\t//can be changed by the user\r\n\t\t\r\n\t\t//Constructor\r\n\t\tpublic Sneakers() {\r\n\t\t\t//set values\r\n\t\t\tbrand = null;\r\n\t\t\tsize = 0;\r\n\t\t}//end sneaker constructor\r\n\t\t\r\n\t\t//get methods\r\n\t\tpublic String getBrand() {\r\n\t\t\treturn brand;\r\n\t\t}\r\n\t\t\r\n\t\tpublic double getSize() {\r\n\t\t\treturn size;\r\n\t\t}\r\n\t\t\r\n\t\t//set methods\r\n\t\tpublic void setBrand(String brand) {\r\n\t\t\tthis.brand = brand;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setSize(double size) {\r\n\t\t\tthis.size = size;\r\n\t\t}\r\n\t\t\r\n\t\t//user input method\r\n\t\tpublic void Input() {\r\n\t\t\tSystem.out.println(&quot;Please enter the brand of your shoes. Ex: Nike &quot;);\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tbrand = sc.nextLine();\r\n\t\t\tSystem.out.println(&quot;Please enter the size of your shoes. Ex: 10.5 &quot;);\r\n\t\t\tsize = Double.valueOf(sc.nextLine());\r\n\t\t\tsc.close();\r\n\t\t}\r\n\t}\r\n\t\r\n\t//main method\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Thank you for donating your shoes to charity! Can you provide us with some extra information?&quot;);\r\n\t\t\r\n\t\t//declare an instance of the sneaker class\r\n\t\tSneakers bBall = new Sneakers();\r\n\t\tbBall.Input();\r\n\t\tbBall.setBrand(brand);\r\n\t\tbBall.setSize(size);\r\n\t\tSystem.out.println(&quot;You are about to donate size &quot; + bBall.getSize() + &quot; &quot; + bBall.getBrand() + &quot; shoes.&quot;);\r\n\t\tSystem.out.println(&quot;We appreciate your donation! Come again soon!&quot;);\r\n\t}\r\n\r\nWhen I try to run this code it gives me an error at these two lines in my main method\r\n\r\nbBall.setBrand(brand);\r\n\r\nbBall.setSize(size);\r\n\r\nI&#39;m completely lost here. How can I fix this?","title":"Trouble with encapsulation - &quot;Cannot be resolved to a variable&quot; error","body":"<p>I'm trying to use encapsulation to assign values to variables via user entry, but my set methods aren't recognizing my variables. My code is as follows:</p>\n<pre><code>static class Sneakers{\n    //Declare variables\n    private String brand;   //can be changed by the user\n    private double size;    //can be changed by the user\n    \n    //Constructor\n    public Sneakers() {\n        //set values\n        brand = null;\n        size = 0;\n    }//end sneaker constructor\n    \n    //get methods\n    public String getBrand() {\n        return brand;\n    }\n    \n    public double getSize() {\n        return size;\n    }\n    \n    //set methods\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n    \n    public void setSize(double size) {\n        this.size = size;\n    }\n    \n    //user input method\n    public void Input() {\n        System.out.println(&quot;Please enter the brand of your shoes. Ex: Nike &quot;);\n        Scanner sc = new Scanner(System.in);\n        brand = sc.nextLine();\n        System.out.println(&quot;Please enter the size of your shoes. Ex: 10.5 &quot;);\n        size = Double.valueOf(sc.nextLine());\n        sc.close();\n    }\n}\n\n//main method\npublic static void main(String[] args) {\n    System.out.println(&quot;Thank you for donating your shoes to charity! Can you provide us with some extra information?&quot;);\n    \n    //declare an instance of the sneaker class\n    Sneakers bBall = new Sneakers();\n    bBall.Input();\n    bBall.setBrand(brand);\n    bBall.setSize(size);\n    System.out.println(&quot;You are about to donate size &quot; + bBall.getSize() + &quot; &quot; + bBall.getBrand() + &quot; shoes.&quot;);\n    System.out.println(&quot;We appreciate your donation! Come again soon!&quot;);\n}\n</code></pre>\n<p>When I try to run this code it gives me an error at these two lines in my main method</p>\n<p>bBall.setBrand(brand);</p>\n<p>bBall.setSize(size);</p>\n<p>I'm completely lost here. How can I fix this?</p>\n"},{"tags":["java","angular","spring-boot","oauth-2.0","oauth"],"comments":[{"owner":{"account_id":4974738,"reputation":284,"user_id":9407966,"display_name":"Gopal Zadafiya"},"score":0,"creation_date":1674595594,"post_id":75216023,"comment_id":132747182,"body_markdown":"loadDiscoveryDocumentAndLogin() method checks if your auth server is reachable or not. So there can be 2 possibilities 1) check if auth server is up &amp; running 2) double check the values provided in auth.config.","body":"loadDiscoveryDocumentAndLogin() method checks if your auth server is reachable or not. So there can be 2 possibilities 1) check if auth server is up &amp; running 2) double check the values provided in auth.config."}],"owner":{"account_id":19730530,"reputation":325,"user_id":19876130,"display_name":"jorge jesus achulla palacios"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674515776,"creation_date":1674515776,"question_id":75216023,"body_markdown":"I am implementing auth0 to my angular project,\r\nand I get the, error loading discovery document in my auth.config service &quot;this.oauthService.loadDiscoveryDocumentAndLogin()&quot;,\r\nas the auth0 page was not found.\r\nPlease, any help is welcome. Thank you.\r\n\r\n**This is my component, here I declare variables that call my auth0 data that I have in the env**\r\n**I have some doubts about the logout route,**\r\n**reviewing forums I have seen that others do not put /v2**\r\n```\r\nexport const authConfig: AuthConfig = {\r\n  issuer: environment.keycloak.issuer,\r\n  redirectUri: environment.keycloak.redirectUri,\r\n  clientId: environment.keycloak.clientId,\r\n\r\n  responseType: environment.keycloak.responseType,\r\n  scope: environment.keycloak.scope,\r\n\r\n  requireHttps: environment.keycloak.requireHttps,\r\n  showDebugInformation: environment.keycloak.showDebugInformation,\r\n  disableAtHashCheck: environment.keycloak.disableAtHashCheck,\r\n\r\n  customQueryParams: {\r\n    audience:  environment.audience\r\n  },\r\n\r\n  logoutUrl : `${environment.keycloak.issuer}v2/logout?client_id=${environment.keycloak.clientId}&amp;returnTo=${encodeURIComponent(environment.keycloak.redirectUri)}`\r\n}\r\n\r\nexport class OAuthModuleConfig {\r\n  resourceServer: OAuthResourceServerConfig = {sendAccessToken: false};\r\n}\r\n\r\nexport class OAuthResourceServerConfig {\r\n  allowedUrls?: Array&lt;string&gt;;\r\n  sendAccessToken = true;\r\n  customUrlValidation?: (url: string) =&gt; boolean;\r\n}\r\n```\r\n\r\n**this is my service, I get the error in this.oauthService.loadDiscoveryDocumentAndLogin()**\r\n\r\n```\r\n@Injectable()\r\nexport class AuthConfigService {\r\n\r\n  private _decodedAccessToken: any;\r\n  private _decodedIDToken: any;\r\n  get decodedAccessToken() { return this._decodedAccessToken; }\r\n  get decodedIDToken() { return this._decodedIDToken; }\r\n\r\n  constructor(\r\n    private readonly oauthService: OAuthService,\r\n    private readonly authConfig: AuthConfig) { }\r\n\r\n\r\n  async initAuth(): Promise&lt;any&gt; {\r\n    return new Promise((resolveFn, rejectFn) =&gt; {\r\n\r\n      // setup oauthService\r\n      this.oauthService.configure(this.authConfig);\r\n      this.oauthService.tokenValidationHandler = new NullValidationHandler();\r\n      // subscribe to token events\r\n      this.oauthService.events.pipe(filter((e: any) =&gt; {\r\n        if(e.params &amp;&amp; e.params.error_description == &#39;user is blocked&#39;) {\r\n          console.log(&#39;Usuario bloqueado&#39;);\r\n          //Pagina de usuario bloqueado.\r\n        }\r\n        return e.type === &#39;token_received&#39;;\r\n      })).subscribe(() =&gt; this.handleNewToken());\r\n      // disabling keycloak for now\r\n      // resolveFn();\r\n      // continue initializing app or redirect to login-page\r\n      console.log(this.oauthService.loadDiscoveryDocumentAndLogin())\r\n      this.oauthService.loadDiscoveryDocumentAndLogin().then(isLoggedIn =&gt; {\r\n        console.log(&quot;isloggi&quot;,isLoggedIn)\r\n        if (isLoggedIn) {\r\n          this.oauthService.setupAutomaticSilentRefresh();\r\n          // @ts-ignore\r\n          resolveFn();\r\n        } else {\r\n          this.oauthService.initImplicitFlow();\r\n          rejectFn();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private handleNewToken() {\r\n    this._decodedAccessToken = this.oauthService.getAccessToken();\r\n    this._decodedIDToken = this.oauthService.getIdToken();\r\n  }\r\n\r\n```\r\n","title":"error loading discovery document in my auth.config service","body":"<p>I am implementing auth0 to my angular project,\nand I get the, error loading discovery document in my auth.config service &quot;this.oauthService.loadDiscoveryDocumentAndLogin()&quot;,\nas the auth0 page was not found.\nPlease, any help is welcome. Thank you.</p>\n<p><strong>This is my component, here I declare variables that call my auth0 data that I have in the env</strong>\n<strong>I have some doubts about the logout route,</strong>\n<strong>reviewing forums I have seen that others do not put /v2</strong></p>\n<pre><code>export const authConfig: AuthConfig = {\n  issuer: environment.keycloak.issuer,\n  redirectUri: environment.keycloak.redirectUri,\n  clientId: environment.keycloak.clientId,\n\n  responseType: environment.keycloak.responseType,\n  scope: environment.keycloak.scope,\n\n  requireHttps: environment.keycloak.requireHttps,\n  showDebugInformation: environment.keycloak.showDebugInformation,\n  disableAtHashCheck: environment.keycloak.disableAtHashCheck,\n\n  customQueryParams: {\n    audience:  environment.audience\n  },\n\n  logoutUrl : `${environment.keycloak.issuer}v2/logout?client_id=${environment.keycloak.clientId}&amp;returnTo=${encodeURIComponent(environment.keycloak.redirectUri)}`\n}\n\nexport class OAuthModuleConfig {\n  resourceServer: OAuthResourceServerConfig = {sendAccessToken: false};\n}\n\nexport class OAuthResourceServerConfig {\n  allowedUrls?: Array&lt;string&gt;;\n  sendAccessToken = true;\n  customUrlValidation?: (url: string) =&gt; boolean;\n}\n</code></pre>\n<p><strong>this is my service, I get the error in this.oauthService.loadDiscoveryDocumentAndLogin()</strong></p>\n<pre><code>@Injectable()\nexport class AuthConfigService {\n\n  private _decodedAccessToken: any;\n  private _decodedIDToken: any;\n  get decodedAccessToken() { return this._decodedAccessToken; }\n  get decodedIDToken() { return this._decodedIDToken; }\n\n  constructor(\n    private readonly oauthService: OAuthService,\n    private readonly authConfig: AuthConfig) { }\n\n\n  async initAuth(): Promise&lt;any&gt; {\n    return new Promise((resolveFn, rejectFn) =&gt; {\n\n      // setup oauthService\n      this.oauthService.configure(this.authConfig);\n      this.oauthService.tokenValidationHandler = new NullValidationHandler();\n      // subscribe to token events\n      this.oauthService.events.pipe(filter((e: any) =&gt; {\n        if(e.params &amp;&amp; e.params.error_description == 'user is blocked') {\n          console.log('Usuario bloqueado');\n          //Pagina de usuario bloqueado.\n        }\n        return e.type === 'token_received';\n      })).subscribe(() =&gt; this.handleNewToken());\n      // disabling keycloak for now\n      // resolveFn();\n      // continue initializing app or redirect to login-page\n      console.log(this.oauthService.loadDiscoveryDocumentAndLogin())\n      this.oauthService.loadDiscoveryDocumentAndLogin().then(isLoggedIn =&gt; {\n        console.log(&quot;isloggi&quot;,isLoggedIn)\n        if (isLoggedIn) {\n          this.oauthService.setupAutomaticSilentRefresh();\n          // @ts-ignore\n          resolveFn();\n        } else {\n          this.oauthService.initImplicitFlow();\n          rejectFn();\n        }\n      });\n    });\n  }\n\n  private handleNewToken() {\n    this._decodedAccessToken = this.oauthService.getAccessToken();\n    this._decodedIDToken = this.oauthService.getIdToken();\n  }\n\n</code></pre>\n"},{"tags":["java","android","android-asynctask"],"comments":[{"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"score":0,"creation_date":1674507961,"post_id":75214494,"comment_id":132725137,"body_markdown":"I think you are just setting value to your text view &quot;not in the right place&quot;\nyour fetching_data = result is running only when your request response is received\nyou just need to move &quot;TW_Rueckgabe[0].setText(test.fetching_data);&quot; this code into the onPostExecute method of your AsyncTask class implementation, it will be better if you would create some callback and when onPostExecute is executes call callback method wich will handle your MainActivity and inside that callback implementation set your data to text view","body":"I think you are just setting value to your text view &quot;not in the right place&quot; your fetching_data = result is running only when your request response is received you just need to move &quot;TW_Rueckgabe[0].setText(test.fetching_data);&quot; this code into the onPostExecute method of your AsyncTask class implementation, it will be better if you would create some callback and when onPostExecute is executes call callback method wich will handle your MainActivity and inside that callback implementation set your data to text view"}],"answers":[{"tags":[],"owner":{"account_id":8835635,"reputation":1014,"user_id":6600056,"display_name":"Rob "},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674508691,"creation_date":1674508691,"answer_id":75215149,"question_id":75214494,"body_markdown":"    interface Callback {\r\n       void onResponse(String response);\r\n    }\r\n    \r\n    MainActivity {\r\n    \r\n       private Callback callback = new Callback() {\r\n           @Override\r\n           void onResponse(String response) {\r\n                TW_Rueckgabe[0].setText(test.fetching_data);\r\n           }\r\n       }\r\n    \r\n        sendBtn.setOnClickListener(v -&gt; {\r\n                String POST_url = &quot;http://dphost.ddns.net:1573/cool/post.php&quot;;\r\n                String requestData = &quot;data=&quot; + TW_Benutzername.getText().toString();\r\n                POSTRequestTask test = new POSTRequestTask(callback).execute(POST_url, requestData);\r\n            });\r\n    }\r\n    \r\n    \r\n    class POSTRequestTask(Callback callback) extends AsyncTask&lt;String, Void, String&gt; {\r\n    \r\n    @Override\r\n        protected String doInBackground(String... params) {\r\n           // do your request as you&#39;re doing now and return the result\r\n        }\r\n    \r\n        @Override\r\n        protected void onPostExecute(String result) {\r\n            // callback interface method call here\r\n            callback.onResponse(result)\r\n        }\r\n    }\r\n\r\n","title":"How do I get the Value out of my Class into my TextViewField","body":"<pre><code>interface Callback {\n   void onResponse(String response);\n}\n\nMainActivity {\n\n   private Callback callback = new Callback() {\n       @Override\n       void onResponse(String response) {\n            TW_Rueckgabe[0].setText(test.fetching_data);\n       }\n   }\n\n    sendBtn.setOnClickListener(v -&gt; {\n            String POST_url = &quot;http://dphost.ddns.net:1573/cool/post.php&quot;;\n            String requestData = &quot;data=&quot; + TW_Benutzername.getText().toString();\n            POSTRequestTask test = new POSTRequestTask(callback).execute(POST_url, requestData);\n        });\n}\n\n\nclass POSTRequestTask(Callback callback) extends AsyncTask&lt;String, Void, String&gt; {\n\n@Override\n    protected String doInBackground(String... params) {\n       // do your request as you're doing now and return the result\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        // callback interface method call here\n        callback.onResponse(result)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26268245,"reputation":1,"user_id":19938488,"display_name":"Justin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674515432,"creation_date":1674504207,"question_id":75214494,"body_markdown":"At the moment I am trying to make an Android App with Android Studio with GET and POST data into/from an API.\r\n\r\nMy problem at the moment is that I want to have the response of the POST request displayed in my app. For this I made the TextView TW_Rueckgabe. I also made another Method just for this so it can Display the Request which is \r\n\r\n```\r\npublic String returnString() {\r\n        return fetching_data;\r\n    }\r\n```\r\n\r\nbut the response is not saved in TW_Rueckgabe.\r\n\r\nMainActivity.java\r\n\r\n```\r\nfinal TextView[] TW_Rueckgabe = {findViewById(R.id.textViewRueckgabe)};\r\n\r\nButton sendBtn = findViewById(R.id.sendBtn);\r\n\r\n        sendBtn.setOnClickListener(v -&gt; {\r\n            String POST_url = &quot;http://dphost.ddns.net:1573/cool/post.php&quot;;\r\n            String requestData = &quot;data=&quot; + TW_Benutzername.getText().toString();\r\n            POSTRequestTask test = (POSTRequestTask) new POSTRequestTask().execute(POST_url, requestData);\r\n\r\n            \r\n\r\n            TW_Rueckgabe[0].setText(test.fetching_data);\r\n\r\n        });\r\n```\r\n\r\nPOSTRequestTask Class:\r\n\r\n```\r\nclass POSTRequestTask extends AsyncTask&lt;String, Void, String&gt; {\r\n    @Override\r\n    protected String doInBackground(String... params) {\r\n        String url = params[0];\r\n        String requestData = params[1];\r\n        String response = &quot;&quot;;\r\n\r\n        try {\r\n            URL obj = new URL(url);\r\n            HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n\r\n            // add request header\r\n            con.setRequestMethod(&quot;POST&quot;);\r\n            con.setDoOutput(true);\r\n\r\n            // add request data\r\n            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n            wr.writeBytes(requestData);\r\n            wr.flush();\r\n            wr.close();\r\n\r\n            int responseCode = con.getResponseCode();\r\n            System.out.println(&quot;\\nSending &#39;POST&#39; request to URL : &quot; + url);\r\n            System.out.println(&quot;Response Code : &quot; + responseCode);\r\n\r\n            BufferedReader in = new BufferedReader(\r\n                    new InputStreamReader(con.getInputStream()));\r\n            String inputLine;\r\n            StringBuffer responseBuffer = new StringBuffer();\r\n\r\n            while ((inputLine = in.readLine()) != null) {\r\n                responseBuffer.append(inputLine);\r\n            }\r\n            in.close();\r\n\r\n            response = responseBuffer.toString();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return response;\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(String result) {\r\n        // print result\r\n        System.out.println(&quot;\\n\\n\\n&quot; + result + &quot;\\n\\n\\n&quot;);\r\n        fetching_data = result;\r\n        \r\n    }\r\n\r\npublic String returnString() {\r\n        return fetching_data;\r\n    }\r\n}\r\n```\r\n\r\nI tried to make a new Object and then save the Variable from the Object, didn&#39;t work.","title":"How do I get the Value out of my Class into my TextViewField","body":"<p>At the moment I am trying to make an Android App with Android Studio with GET and POST data into/from an API.</p>\n<p>My problem at the moment is that I want to have the response of the POST request displayed in my app. For this I made the TextView TW_Rueckgabe. I also made another Method just for this so it can Display the Request which is</p>\n<pre><code>public String returnString() {\n        return fetching_data;\n    }\n</code></pre>\n<p>but the response is not saved in TW_Rueckgabe.</p>\n<p>MainActivity.java</p>\n<pre><code>final TextView[] TW_Rueckgabe = {findViewById(R.id.textViewRueckgabe)};\n\nButton sendBtn = findViewById(R.id.sendBtn);\n\n        sendBtn.setOnClickListener(v -&gt; {\n            String POST_url = &quot;http://dphost.ddns.net:1573/cool/post.php&quot;;\n            String requestData = &quot;data=&quot; + TW_Benutzername.getText().toString();\n            POSTRequestTask test = (POSTRequestTask) new POSTRequestTask().execute(POST_url, requestData);\n\n            \n\n            TW_Rueckgabe[0].setText(test.fetching_data);\n\n        });\n</code></pre>\n<p>POSTRequestTask Class:</p>\n<pre><code>class POSTRequestTask extends AsyncTask&lt;String, Void, String&gt; {\n    @Override\n    protected String doInBackground(String... params) {\n        String url = params[0];\n        String requestData = params[1];\n        String response = &quot;&quot;;\n\n        try {\n            URL obj = new URL(url);\n            HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n\n            // add request header\n            con.setRequestMethod(&quot;POST&quot;);\n            con.setDoOutput(true);\n\n            // add request data\n            DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n            wr.writeBytes(requestData);\n            wr.flush();\n            wr.close();\n\n            int responseCode = con.getResponseCode();\n            System.out.println(&quot;\\nSending 'POST' request to URL : &quot; + url);\n            System.out.println(&quot;Response Code : &quot; + responseCode);\n\n            BufferedReader in = new BufferedReader(\n                    new InputStreamReader(con.getInputStream()));\n            String inputLine;\n            StringBuffer responseBuffer = new StringBuffer();\n\n            while ((inputLine = in.readLine()) != null) {\n                responseBuffer.append(inputLine);\n            }\n            in.close();\n\n            response = responseBuffer.toString();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return response;\n    }\n\n    @Override\n    protected void onPostExecute(String result) {\n        // print result\n        System.out.println(&quot;\\n\\n\\n&quot; + result + &quot;\\n\\n\\n&quot;);\n        fetching_data = result;\n        \n    }\n\npublic String returnString() {\n        return fetching_data;\n    }\n}\n</code></pre>\n<p>I tried to make a new Object and then save the Variable from the Object, didn't work.</p>\n"},{"tags":["java","ip","type-conversion","ipv6","long-integer"],"answers":[{"comments":[{"owner":{"account_id":3018748,"reputation":255,"user_id":2560260,"display_name":"Testeross"},"score":0,"creation_date":1374827260,"post_id":17876390,"comment_id":26103255,"body_markdown":"Ok, I will do that. What about the conversion? Is it done right?","body":"Ok, I will do that. What about the conversion? Is it done right?"},{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":0,"creation_date":1374827739,"post_id":17876390,"comment_id":26103511,"body_markdown":"It is pretty easy to test that: execute longToIP(IPToLong(&quot;122.122.122.124&quot;)) and you will get &quot;34.34.34.36&quot; instead of the original &quot;122.122.122.124&quot; which means something is not correct.","body":"It is pretty easy to test that: execute longToIP(IPToLong(&quot;122.122.122.124&quot;)) and you will get &quot;34.34.34.36&quot; instead of the original &quot;122.122.122.124&quot; which means something is not correct."},{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":0,"creation_date":1374828089,"post_id":17876390,"comment_id":26103699,"body_markdown":"The problem is the following: you tried to adapt the code for IPv4 to IPv6, which is incorrect, because in IPv4 the numbers are encoded in base 10 (the number 124 in the IP address &quot;122.122.122.124&quot; is in base 10), but in IPv6 all parts are encoded in hex. This means, you will have to decide somehow what version the IP address is, and then to make some decisions, in order to have one method for both versions.","body":"The problem is the following: you tried to adapt the code for IPv4 to IPv6, which is incorrect, because in IPv4 the numbers are encoded in base 10 (the number 124 in the IP address &quot;122.122.122.124&quot; is in base 10), but in IPv6 all parts are encoded in hex. This means, you will have to decide somehow what version the IP address is, and then to make some decisions, in order to have one method for both versions."},{"owner":{"account_id":3018748,"reputation":255,"user_id":2560260,"display_name":"Testeross"},"score":0,"creation_date":1374828728,"post_id":17876390,"comment_id":26104056,"body_markdown":"Thank you for explanation. However I still do not know how to perform the conversion for IPv6. Could you provide a link to some source or an example/tutorial? I couldn&#39;t find anything useful.","body":"Thank you for explanation. However I still do not know how to perform the conversion for IPv6. Could you provide a link to some source or an example/tutorial? I couldn&#39;t find anything useful."},{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":1,"creation_date":1374831093,"post_id":17876390,"comment_id":26105390,"body_markdown":"Added a piece of working code, but do mind that there are missing some checks (like invalid String), so this is ok for your homework, but is not tested enough for production.","body":"Added a piece of working code, but do mind that there are missing some checks (like invalid String), so this is ok for your homework, but is not tested enough for production."},{"owner":{"account_id":2880977,"reputation":2051,"user_id":2471910,"accept_rate":71,"display_name":"Trenin"},"score":0,"creation_date":1375204516,"post_id":17876390,"comment_id":26238084,"body_markdown":"What about for handling zero suppression and zero collapse?","body":"What about for handling zero suppression and zero collapse?"},{"owner":{"account_id":1482887,"reputation":101,"user_id":1986131,"display_name":"Arnaud Kleinveld"},"score":0,"creation_date":1461586818,"post_id":17876390,"comment_id":61250494,"body_markdown":"@Trenin is right. This code is missing the zero suppression and zero collapse formatted address strings. Using java.net.InetAddress and java.math.BigInteger takes care of this, see Guigoz&#39;s answer.","body":"@Trenin is right. This code is missing the zero suppression and zero collapse formatted address strings. Using java.net.InetAddress and java.math.BigInteger takes care of this, see Guigoz&#39;s answer."},{"owner":{"account_id":4630669,"reputation":523,"user_id":3753287,"accept_rate":80,"display_name":"lifeisshubh"},"score":0,"creation_date":1565609364,"post_id":17876390,"comment_id":101393974,"body_markdown":"Is this portion correct &quot;crtLong &amp; 0xFFFF&quot;. Looks fishy, Can we use &amp; operation to find the remainder?","body":"Is this portion correct &quot;crtLong &amp; 0xFFFF&quot;. Looks fishy, Can we use &amp; operation to find the remainder?"},{"owner":{"account_id":4630669,"reputation":523,"user_id":3753287,"accept_rate":80,"display_name":"lifeisshubh"},"score":0,"creation_date":1565686822,"post_id":17876390,"comment_id":101420765,"body_markdown":"There is one more issue that it does not handle the overflow.","body":"There is one more issue that it does not handle the overflow."}],"tags":[],"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"comment_count":9,"down_vote_count":2,"up_vote_count":13,"is_accepted":true,"score":11,"last_activity_date":1613238065,"creation_date":1374826825,"answer_id":17876390,"question_id":17875728,"body_markdown":"An IPv6 address is a 128-bit number as described [here][1]. A long in Java is represented on 64 bits, so you need another structure, like a BigDecimal or two longs (a container with an array of two longs or simply an array of two longs) in order to store an IPv6 address.\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc4291\r\n\r\nBelow is an example (just to provide you an idea):\r\n\r\n\r\n    public class Asd {\r\n    \r\n        public static long[] IPToLong(String addr) {\r\n            String[] addrArray = addr.split(&quot;:&quot;);//a IPv6 adress is of form 2607:f0d0:1002:0051:0000:0000:0000:0004\r\n            long[] num = new long[addrArray.length];\r\n            \r\n            for (int i=0; i&lt;addrArray.length; i++) {\r\n            \tnum[i] = Long.parseLong(addrArray[i], 16);\r\n            }\r\n            long long1 = num[0];\r\n            for (int i=1;i&lt;4;i++) {\r\n            \tlong1 = (long1&lt;&lt;16) + num[i];\r\n            }\r\n            long long2 = num[4];\r\n            for (int i=5;i&lt;8;i++) {\r\n            \tlong2 = (long2&lt;&lt;16) + num[i];\r\n            }\r\n            \r\n            long[] longs = {long2, long1};\r\n            return longs;\r\n    \t}\r\n        \r\n    \t\r\n    \tpublic static String longToIP(long[] ip) {\r\n    \t\tString ipString = &quot;&quot;;\r\n    \t\tfor (long crtLong : ip) {//for every long: it should be two of them\r\n    \r\n    \t\t\tfor (int i=0; i&lt;4; i++) {//we display in total 4 parts for every long\r\n    \t\t\t\tipString = Long.toHexString(crtLong &amp; 0xFFFF) + &quot;:&quot; + ipString;\r\n    \t\t\t\tcrtLong = crtLong &gt;&gt; 16;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn ipString;\r\n    \t\r\n    \t}\r\n    \t\r\n    \tstatic public void main(String[] args) {\r\n    \t\tString ipString = &quot;2607:f0d0:1002:0051:0000:0000:0000:0004&quot;;\r\n    \t\tlong[] asd = IPToLong(ipString);\r\n    \t\t\r\n    \t\tSystem.out.println(longToIP(asd));\r\n    \t}\r\n    }\r\n\r\n","title":"Conversion IPv6 to long and long to IPv6","body":"<p>An IPv6 address is a 128-bit number as described <a href=\"https://www.rfc-editor.org/rfc/rfc4291\" rel=\"nofollow noreferrer\">here</a>. A long in Java is represented on 64 bits, so you need another structure, like a BigDecimal or two longs (a container with an array of two longs or simply an array of two longs) in order to store an IPv6 address.</p>\n<p>Below is an example (just to provide you an idea):</p>\n<pre><code>public class Asd {\n\n    public static long[] IPToLong(String addr) {\n        String[] addrArray = addr.split(&quot;:&quot;);//a IPv6 adress is of form 2607:f0d0:1002:0051:0000:0000:0000:0004\n        long[] num = new long[addrArray.length];\n        \n        for (int i=0; i&lt;addrArray.length; i++) {\n            num[i] = Long.parseLong(addrArray[i], 16);\n        }\n        long long1 = num[0];\n        for (int i=1;i&lt;4;i++) {\n            long1 = (long1&lt;&lt;16) + num[i];\n        }\n        long long2 = num[4];\n        for (int i=5;i&lt;8;i++) {\n            long2 = (long2&lt;&lt;16) + num[i];\n        }\n        \n        long[] longs = {long2, long1};\n        return longs;\n    }\n    \n    \n    public static String longToIP(long[] ip) {\n        String ipString = &quot;&quot;;\n        for (long crtLong : ip) {//for every long: it should be two of them\n\n            for (int i=0; i&lt;4; i++) {//we display in total 4 parts for every long\n                ipString = Long.toHexString(crtLong &amp; 0xFFFF) + &quot;:&quot; + ipString;\n                crtLong = crtLong &gt;&gt; 16;\n            }\n        }\n        return ipString;\n    \n    }\n    \n    static public void main(String[] args) {\n        String ipString = &quot;2607:f0d0:1002:0051:0000:0000:0000:0004&quot;;\n        long[] asd = IPToLong(ipString);\n        \n        System.out.println(longToIP(asd));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1475790,"reputation":1086,"user_id":1386191,"accept_rate":85,"display_name":"Vinod"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1381205741,"creation_date":1381205741,"answer_id":19238983,"question_id":17875728,"body_markdown":"An IPv6 address can not be stored in long. You can use BigInteger instead of long.\r\n\r\n    public static BigInteger ipv6ToNumber(String addr) {\r\n\t\tint startIndex=addr.indexOf(&quot;::&quot;);\r\n\t\t\r\n\t\tif(startIndex!=-1){\r\n\t\t\t\r\n\t\t\r\n\t\t\tString firstStr=addr.substring(0,startIndex);\r\n\t\t\tString secondStr=addr.substring(startIndex+2, addr.length());\r\n\t\t\r\n\t\t\t\r\n\t\t\tBigInteger first=ipv6ToNumber(firstStr);\r\n\t\t\r\n\t\t\tint x=countChar(addr, &#39;:&#39;);\r\n\t\t\t\r\n\t\t\tfirst=first.shiftLeft(16*(7-x)).add(ipv6ToNumber(secondStr));\r\n\t\t\t\r\n\t\t\treturn first;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t    String[] strArr = addr.split(&quot;:&quot;);\r\n\t    \r\n\t    BigInteger retValue = BigInteger.valueOf(0);\r\n\t    for (int i=0;i&lt;strArr.length;i++) {\r\n\t    \tBigInteger bi=new BigInteger(strArr[i], 16);\r\n\t    \tretValue = retValue.shiftLeft(16).add(bi);\r\n\t    }\r\n\t    return retValue;\r\n\t}\r\n\r\n\t\r\n\tpublic static String numberToIPv6(BigInteger ipNumber) {\r\n\t    String ipString =&quot;&quot;;\r\n\t    BigInteger a=new BigInteger(&quot;FFFF&quot;, 16);\r\n\t  \r\n\t        for (int i=0; i&lt;8; i++) {\r\n\t        \tipString=ipNumber.and(a).toString(16)+&quot;:&quot;+ipString;\r\n\t        \t\r\n\t            ipNumber = ipNumber.shiftRight(16);\r\n\t        }\r\n\t   \r\n\t    return ipString.substring(0, ipString.length()-1);\r\n\r\n\t}\r\n\t\r\n\tpublic static int countChar(String str, char reg){\r\n\t\tchar[] ch=str.toCharArray();\r\n\t\tint count=0;\r\n\t\tfor(int i=0; i&lt;ch.length; ++i){\r\n\t\t\tif(ch[i]==reg){\r\n\t\t\t\tif(ch[i+1]==reg){\r\n\t\t\t\t\t++i;\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\t\t\t\t++count;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}\r\n","title":"Conversion IPv6 to long and long to IPv6","body":"<p>An IPv6 address can not be stored in long. You can use BigInteger instead of long.</p>\n\n<pre><code>public static BigInteger ipv6ToNumber(String addr) {\n    int startIndex=addr.indexOf(\"::\");\n\n    if(startIndex!=-1){\n\n\n        String firstStr=addr.substring(0,startIndex);\n        String secondStr=addr.substring(startIndex+2, addr.length());\n\n\n        BigInteger first=ipv6ToNumber(firstStr);\n\n        int x=countChar(addr, ':');\n\n        first=first.shiftLeft(16*(7-x)).add(ipv6ToNumber(secondStr));\n\n        return first;\n    }\n\n\n    String[] strArr = addr.split(\":\");\n\n    BigInteger retValue = BigInteger.valueOf(0);\n    for (int i=0;i&lt;strArr.length;i++) {\n        BigInteger bi=new BigInteger(strArr[i], 16);\n        retValue = retValue.shiftLeft(16).add(bi);\n    }\n    return retValue;\n}\n\n\npublic static String numberToIPv6(BigInteger ipNumber) {\n    String ipString =\"\";\n    BigInteger a=new BigInteger(\"FFFF\", 16);\n\n        for (int i=0; i&lt;8; i++) {\n            ipString=ipNumber.and(a).toString(16)+\":\"+ipString;\n\n            ipNumber = ipNumber.shiftRight(16);\n        }\n\n    return ipString.substring(0, ipString.length()-1);\n\n}\n\npublic static int countChar(String str, char reg){\n    char[] ch=str.toCharArray();\n    int count=0;\n    for(int i=0; i&lt;ch.length; ++i){\n        if(ch[i]==reg){\n            if(ch[i+1]==reg){\n                ++i;\n                continue;\n            }\n            ++count;\n        }\n    }\n    return count;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":124981,"reputation":86,"user_id":320452,"display_name":"OTrain"},"score":5,"creation_date":1476994684,"post_id":34881294,"comment_id":67596383,"body_markdown":"This will give you negative numbers for the upper half of the IP range. If you want it to be unsigned, you need to pass in the signum to keep it positive valued (ie new BigInteger(1, bytes)).","body":"This will give you negative numbers for the upper half of the IP range. If you want it to be unsigned, you need to pass in the signum to keep it positive valued (ie new BigInteger(1, bytes))."}],"tags":[],"owner":{"account_id":1915971,"reputation":699,"user_id":1728560,"display_name":"Guigoz"},"comment_count":1,"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1674515001,"creation_date":1453219073,"answer_id":34881294,"question_id":17875728,"body_markdown":"You can also use `java.net.InetAddress`.  It works with both ipv4 and ipv6 (all formats).\r\n\r\nThe original answer has been updated to use unsigned ints per [OTrains&#39;s comment][1].\r\n\r\n    public static BigInteger ipToBigInteger(String addr) throws UnknownHostException {\r\n\t\tInetAddress a = InetAddress.getByName(addr);\r\n\t\tbyte[] bytes = a.getAddress();\r\n\t\treturn new BigInteger(1, bytes);\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17875728/conversion-ipv6-to-long-and-long-to-ipv6#comment67596383_34881294","title":"Conversion IPv6 to long and long to IPv6","body":"<p>You can also use <code>java.net.InetAddress</code>.  It works with both ipv4 and ipv6 (all formats).</p>\n<p>The original answer has been updated to use unsigned ints per <a href=\"https://stackoverflow.com/questions/17875728/conversion-ipv6-to-long-and-long-to-ipv6#comment67596383_34881294\">OTrains's comment</a>.</p>\n<pre><code>public static BigInteger ipToBigInteger(String addr) throws UnknownHostException {\n    InetAddress a = InetAddress.getByName(addr);\n    byte[] bytes = a.getAddress();\n    return new BigInteger(1, bytes);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14836951,"reputation":11,"user_id":10714738,"display_name":"gaofc"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1584658910,"creation_date":1543374650,"answer_id":53511537,"question_id":17875728,"body_markdown":"Vinod&#39;s answer is right. But there are still some things that can be improved.\r\n\r\nFirst, in method &#39;countChar&#39;, &#39;continue&#39; should be replaced by &#39;break&#39;.\r\n\r\nAnd second, Some boundary conditions must be considered.\r\n\r\n\r\n\r\n    public static BigInteger ipv6ToNumber(String addr) {\r\n        int startIndex = addr.indexOf(&quot;::&quot;);\r\n        if (startIndex != -1) {\r\n            String firstStr = addr.substring(0, startIndex);\r\n            String secondStr = addr.substring(startIndex + 2, addr.length());\r\n            BigInteger first = new BigInteger(&quot;0&quot;);\r\n            BigInteger second = new BigInteger(&quot;0&quot;);\r\n            if (!firstStr.equals(&quot;&quot;)) {\r\n                int x = countChar(addr, &#39;:&#39;);\r\n                first = ipv6ToNumber(firstStr).shiftLeft(16 * (7 - x));\r\n            }\r\n            if (!secondStr.equals(&quot;&quot;)) {\r\n                second = ipv6ToNumber(secondStr);\r\n            }\r\n            first = first.add(second);\r\n            return first;\r\n        }\r\n\r\n        String[] strArr = addr.split(&quot;:&quot;);\r\n        BigInteger retValue = BigInteger.valueOf(0);\r\n        for (int i = 0; i &lt; strArr.length; i++) {\r\n            BigInteger bi = new BigInteger(strArr[i], 16);\r\n            retValue = retValue.shiftLeft(16).add(bi);\r\n        }\r\n        return retValue;\r\n    }\r\n\r\n\tpublic static int countChar(String str, char reg){\r\n\t\tchar[] ch=str.toCharArray();\r\n\t\tint count=0;\r\n\t\tfor(int i=0; i&lt;ch.length; ++i){\r\n\t\t\tif(ch[i]==reg){\r\n\t\t\t\tif(ch[i+1]==reg){\r\n\t\t\t\t\t++i;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\t++count;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn count;\r\n\t}","title":"Conversion IPv6 to long and long to IPv6","body":"<p>Vinod's answer is right. But there are still some things that can be improved.</p>\n\n<p>First, in method 'countChar', 'continue' should be replaced by 'break'.</p>\n\n<p>And second, Some boundary conditions must be considered.</p>\n\n<pre><code>public static BigInteger ipv6ToNumber(String addr) {\n    int startIndex = addr.indexOf(\"::\");\n    if (startIndex != -1) {\n        String firstStr = addr.substring(0, startIndex);\n        String secondStr = addr.substring(startIndex + 2, addr.length());\n        BigInteger first = new BigInteger(\"0\");\n        BigInteger second = new BigInteger(\"0\");\n        if (!firstStr.equals(\"\")) {\n            int x = countChar(addr, ':');\n            first = ipv6ToNumber(firstStr).shiftLeft(16 * (7 - x));\n        }\n        if (!secondStr.equals(\"\")) {\n            second = ipv6ToNumber(secondStr);\n        }\n        first = first.add(second);\n        return first;\n    }\n\n    String[] strArr = addr.split(\":\");\n    BigInteger retValue = BigInteger.valueOf(0);\n    for (int i = 0; i &lt; strArr.length; i++) {\n        BigInteger bi = new BigInteger(strArr[i], 16);\n        retValue = retValue.shiftLeft(16).add(bi);\n    }\n    return retValue;\n}\n\npublic static int countChar(String str, char reg){\n    char[] ch=str.toCharArray();\n    int count=0;\n    for(int i=0; i&lt;ch.length; ++i){\n        if(ch[i]==reg){\n            if(ch[i+1]==reg){\n                ++i;\n                break;\n            }\n            ++count;\n        }\n    }\n    return count;\n}\n</code></pre>\n"}],"owner":{"account_id":3018748,"reputation":255,"user_id":2560260,"display_name":"Testeross"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30058,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"accepted_answer_id":17876390,"answer_count":4,"score":18,"last_activity_date":1674515001,"creation_date":1374824734,"question_id":17875728,"body_markdown":"How should I perform conversion from IPv6 to long and vice versa?\r\n\r\nSo far I have:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n        public static long IPToLong(String addr) {\r\n                String[] addrArray = addr.split(&quot;\\\\.&quot;);\r\n                long num = 0;\r\n                for (int i = 0; i &lt; addrArray.length; i++) {\r\n                        int power = 3 - i;\r\n\r\n                        num += ((Integer.parseInt(addrArray[i], 16) % 256 * Math.pow(256, power)));\r\n                }\r\n                return num;\r\n        }\r\n\r\n        public static String longToIP(long ip) {\r\n                return ((ip &gt;&gt; 24) &amp; 0xFF) + &quot;.&quot;\r\n                        + ((ip &gt;&gt; 16) &amp; 0xFF) + &quot;.&quot;\r\n                        + ((ip &gt;&gt; 8) &amp; 0xFF) + &quot;.&quot;\r\n                        + (ip &amp; 0xFF);\r\n\r\n        }\r\n\r\nIs it correct solution or I missed something?\r\n\r\n(It would be perfect if the solution worked for both ipv4 and ipv6)","title":"Conversion IPv6 to long and long to IPv6","body":"<p>How should I perform conversion from IPv6 to long and vice versa?</p>\n\n<p>So far I have:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public static long IPToLong(String addr) {\n            String[] addrArray = addr.split(\"\\\\.\");\n            long num = 0;\n            for (int i = 0; i &lt; addrArray.length; i++) {\n                    int power = 3 - i;\n\n                    num += ((Integer.parseInt(addrArray[i], 16) % 256 * Math.pow(256, power)));\n            }\n            return num;\n    }\n\n    public static String longToIP(long ip) {\n            return ((ip &gt;&gt; 24) &amp; 0xFF) + \".\"\n                    + ((ip &gt;&gt; 16) &amp; 0xFF) + \".\"\n                    + ((ip &gt;&gt; 8) &amp; 0xFF) + \".\"\n                    + (ip &amp; 0xFF);\n\n    }\n</code></pre>\n\n<p>Is it correct solution or I missed something?</p>\n\n<p>(It would be perfect if the solution worked for both ipv4 and ipv6)</p>\n"},{"tags":["java","encryption","bouncycastle"],"owner":{"account_id":27586358,"reputation":11,"user_id":21054462,"display_name":"Lalitha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674514183,"creation_date":1674300146,"question_id":75192941,"body_markdown":"I am using the below jars for email encryption\r\n\r\n```none\r\nbcpkix-jdk15on-1.64.jar\r\nbcprov-jdk15on-1.64.jar\r\nbcmail-jdk15on-1.64.jar\r\n```\r\n\r\nI am getting the error\r\n\r\n```\r\nMethod addRecipientInfoGenerator(org.bouncycastle.cms.jcajce.JceKeyTransRecipientInfoGenerator)\\\r\n not found in class&#39;org.bouncycastle.mail.smime.SMIMEEnvelopedGenerator&#39;\r\n```\r\n\r\n\r\nHere is the code implemented:\r\n\r\n```\r\nX509Certificate recipientCert = userCertList.get(0);\r\nRecipientInfoGenerator rec = (RecipientInfoGenerator) new JceKeyTransRecipientInfoGenerator(recipientCert).setProvider(&quot;BC&quot;);\r\n\r\nSMIMEEnvelopedGenerator gen = new SMIMEEnvelopedGenerator();\r\ngen.addRecipientInfoGenerator(rec);\r\n```\r\n\r\nIs it because of any jar conflict? How to resolve this issue?","title":"Method addRecipientInfoGenerator(org.bouncycastle.cms.jcajce.JceKeyTransRecipientInfoGenerator)","body":"<p>I am using the below jars for email encryption</p>\n<pre class=\"lang-none prettyprint-override\"><code>bcpkix-jdk15on-1.64.jar\nbcprov-jdk15on-1.64.jar\nbcmail-jdk15on-1.64.jar\n</code></pre>\n<p>I am getting the error</p>\n<pre><code>Method addRecipientInfoGenerator(org.bouncycastle.cms.jcajce.JceKeyTransRecipientInfoGenerator)\\\n not found in class'org.bouncycastle.mail.smime.SMIMEEnvelopedGenerator'\n</code></pre>\n<p>Here is the code implemented:</p>\n<pre><code>X509Certificate recipientCert = userCertList.get(0);\nRecipientInfoGenerator rec = (RecipientInfoGenerator) new JceKeyTransRecipientInfoGenerator(recipientCert).setProvider(&quot;BC&quot;);\n\nSMIMEEnvelopedGenerator gen = new SMIMEEnvelopedGenerator();\ngen.addRecipientInfoGenerator(rec);\n</code></pre>\n<p>Is it because of any jar conflict? How to resolve this issue?</p>\n"},{"tags":["java","speech-recognition"],"comments":[{"owner":{"account_id":482071,"reputation":5624,"user_id":896249,"accept_rate":79,"display_name":"GameDroids"},"score":0,"creation_date":1417280265,"post_id":27204577,"comment_id":42891841,"body_markdown":"I am not sure this is the right place to start. SO is more for discussing issues that come while programming. Anyway – I think what you first need is a complete list of things you want to monitor (e.g disk space, up-time, calendar etc...) once you have that list you can check if each specific &quot;problem&quot; can be accessed from a Java-Program or if you need an external tool for that (you can execute windows-terminal commands from java). Once you have all your tools you can start thinking about a Java-program, that runs in the background and executes every now and then some check.","body":"I am not sure this is the right place to start. SO is more for discussing issues that come while programming. Anyway – I think what you first need is a complete list of things you want to monitor (e.g disk space, up-time, calendar etc...) once you have that list you can check if each specific &quot;problem&quot; can be accessed from a Java-Program or if you need an external tool for that (you can execute windows-terminal commands from java). Once you have all your tools you can start thinking about a Java-program, that runs in the background and executes every now and then some check."},{"owner":{"account_id":2417047,"reputation":1299,"user_id":2110873,"accept_rate":33,"display_name":"kajarigd"},"score":0,"creation_date":1417280606,"post_id":27204577,"comment_id":42891931,"body_markdown":"I have al my Java programs ready. They are monitoring the system in t he background and sending me alerts. But I want a virtual assistant to tell me all these alerts, instead of me printing them in the console, or writing to a file, or flashing a popup.","body":"I have al my Java programs ready. They are monitoring the system in t he background and sending me alerts. But I want a virtual assistant to tell me all these alerts, instead of me printing them in the console, or writing to a file, or flashing a popup."},{"owner":{"account_id":2417047,"reputation":1299,"user_id":2110873,"accept_rate":33,"display_name":"kajarigd"},"score":0,"creation_date":1417280746,"post_id":27204577,"comment_id":42891968,"body_markdown":"My question is regarding programming. I don&#39;t know how to program a virtual assistant. I want to know where to start. I searched a lot and found many apps, but no API or code, which I can use to feed in my Java program outputs.","body":"My question is regarding programming. I don&#39;t know how to program a virtual assistant. I want to know where to start. I searched a lot and found many apps, but no API or code, which I can use to feed in my Java program outputs."},{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1417282374,"post_id":27204577,"comment_id":42892477,"body_markdown":"@kajarigd: What you&#39;re actually looking for is a [voice response](http://en.wikipedia.org/wiki/Interactive_voice_response) application.  A virtual assistant would respond to voice commands as well as reply with a voice response.","body":"@kajarigd: What you&#39;re actually looking for is a <a href=\"http://en.wikipedia.org/wiki/Interactive_voice_response\" rel=\"nofollow noreferrer\">voice response</a> application.  A virtual assistant would respond to voice commands as well as reply with a voice response."},{"owner":{"account_id":2417047,"reputation":1299,"user_id":2110873,"accept_rate":33,"display_name":"kajarigd"},"score":0,"creation_date":1417282560,"post_id":27204577,"comment_id":42892541,"body_markdown":"Hi, I don&#39;t want voice interactions. I just want the assistant to read out the alert. That&#39;s all. There should be lip syncing, and body movement of the assistant to get the feeling that a real human is speaking.","body":"Hi, I don&#39;t want voice interactions. I just want the assistant to read out the alert. That&#39;s all. There should be lip syncing, and body movement of the assistant to get the feeling that a real human is speaking."},{"owner":{"account_id":2417047,"reputation":1299,"user_id":2110873,"accept_rate":33,"display_name":"kajarigd"},"score":0,"creation_date":1417282621,"post_id":27204577,"comment_id":42892565,"body_markdown":"May be I shouldn&#39;t have used the phrase, &quot;virtual assistant&quot;? Should I say, &quot;alert reader bot&quot; or something like that?","body":"May be I shouldn&#39;t have used the phrase, &quot;virtual assistant&quot;? Should I say, &quot;alert reader bot&quot; or something like that?"}],"answers":[{"tags":[],"owner":{"account_id":1738594,"reputation":149,"user_id":1590603,"display_name":"user1590603"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425681558,"creation_date":1425681558,"answer_id":28908900,"question_id":27204577,"body_markdown":"It sounds like you may want to look into Visemes.  Visemes represent the facial expressions related to the pronunciation of phonemes.  There are several companies that provide this functionality with their TTS products and will even provide the animated avatars that you refer to.  You can find these implementations with a simple search.\r\n\r\nIf you are looking into creating this yourself, you can start with a pronunciation dictionary such as one provided by CMU Sphinx.  \r\n\r\nhttp://cmusphinx.sourceforge.net\r\n\r\n\r\n\r\n\r\n","title":"How to create an event based virtual assistant?","body":"<p>It sounds like you may want to look into Visemes.  Visemes represent the facial expressions related to the pronunciation of phonemes.  There are several companies that provide this functionality with their TTS products and will even provide the animated avatars that you refer to.  You can find these implementations with a simple search.</p>\n\n<p>If you are looking into creating this yourself, you can start with a pronunciation dictionary such as one provided by CMU Sphinx.  </p>\n\n<p><a href=\"http://cmusphinx.sourceforge.net\" rel=\"nofollow\">http://cmusphinx.sourceforge.net</a></p>\n"},{"tags":[],"owner":{"account_id":8586000,"reputation":1,"user_id":6432120,"display_name":"Vasanth"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465243502,"creation_date":1465243502,"answer_id":37665955,"question_id":27204577,"body_markdown":"Its An Wonderful idea first of all! Where u can actually make ur own Ironman&#39;s Jarvis!. Its pretty easy in .Net to work with these kind of application! All you need is\n* Visual Studio 2008 or later (I use VB.Net)\n* AIMLBot (A chatbot library to make natural conversations) \n* Haptek Character (To display a 3D Virtual Human Character That Can Talk With Animations)\n\nNow you can use this all and can make a talking conversational virtual assistant!! You can make it respond technical details of your computer like Alerting on low disk space, Inform you on new mail and also can open &amp; read mail for you using VB.Net programming to open the mail and pass the content text to your virtual assistant and vice versa!! \n\nIts actually simpler than it sounds!!\n\nWatch this video to build your first Talking 3D avatar using VB.Net \n\nhttps://www.youtube.com/watch?v=Gh-DPpCqxXY","title":"How to create an event based virtual assistant?","body":"<p>Its An Wonderful idea first of all! Where u can actually make ur own Ironman's Jarvis!. Its pretty easy in .Net to work with these kind of application! All you need is\n* Visual Studio 2008 or later (I use VB.Net)\n* AIMLBot (A chatbot library to make natural conversations) \n* Haptek Character (To display a 3D Virtual Human Character That Can Talk With Animations)</p>\n\n<p>Now you can use this all and can make a talking conversational virtual assistant!! You can make it respond technical details of your computer like Alerting on low disk space, Inform you on new mail and also can open &amp; read mail for you using VB.Net programming to open the mail and pass the content text to your virtual assistant and vice versa!! </p>\n\n<p>Its actually simpler than it sounds!!</p>\n\n<p>Watch this video to build your first Talking 3D avatar using VB.Net </p>\n\n<p><a href=\"https://www.youtube.com/watch?v=Gh-DPpCqxXY\" rel=\"nofollow\">https://www.youtube.com/watch?v=Gh-DPpCqxXY</a></p>\n"}],"owner":{"account_id":2417047,"reputation":1299,"user_id":2110873,"accept_rate":33,"display_name":"kajarigd"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3029,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1674513364,"creation_date":1417279671,"question_id":27204577,"body_markdown":"There are many virtual assistants available in the market, like Siri (Apple), Braina (Windows), various for Android phones. These assistants reply to you based on the questions you ask, or they remind you of a task put in the calendar, or red out an sms, etc. \r\n\r\nIs there any API available for Windows/Mac, which I can download and use to create my own virtual assistant? By my own I mean, I will write a program to do some work, and depending on the output the program produces, my virtual assistant will talk to me.\r\n\r\nThere is AIML, Alicebot, etc. But, I don&#39;t want an intelligent assistant to chat with me. I just want a Virtual Assistant UI to read out outputs from a program running in the background. \r\n\r\nFor example, suppose I am checking how much space is left in my C:/ drive. If space is less that 500MB, my virtual assistant will say, &quot;it is time to clean up your disk&quot;. This way, I want to write many such small utility programs to give different kinds of information, and I want my virtual assistant tell me all these.\r\n\r\nAt present the virtual assistants I found to download in my phone or laptop (as listed above), I cannot feed in my own program. \r\n\r\nAny way I can do it? I would like to code this in Java on Windows. If not possible, any other language or OS is fine with me.\r\n\r\nThanks!","title":"How to create an event based virtual assistant?","body":"<p>There are many virtual assistants available in the market, like Siri (Apple), Braina (Windows), various for Android phones. These assistants reply to you based on the questions you ask, or they remind you of a task put in the calendar, or red out an sms, etc. </p>\n\n<p>Is there any API available for Windows/Mac, which I can download and use to create my own virtual assistant? By my own I mean, I will write a program to do some work, and depending on the output the program produces, my virtual assistant will talk to me.</p>\n\n<p>There is AIML, Alicebot, etc. But, I don't want an intelligent assistant to chat with me. I just want a Virtual Assistant UI to read out outputs from a program running in the background. </p>\n\n<p>For example, suppose I am checking how much space is left in my C:/ drive. If space is less that 500MB, my virtual assistant will say, \"it is time to clean up your disk\". This way, I want to write many such small utility programs to give different kinds of information, and I want my virtual assistant tell me all these.</p>\n\n<p>At present the virtual assistants I found to download in my phone or laptop (as listed above), I cannot feed in my own program. </p>\n\n<p>Any way I can do it? I would like to code this in Java on Windows. If not possible, any other language or OS is fine with me.</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","junit5"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674925519,"post_id":75215571,"comment_id":132819737,"body_markdown":"The error output does not reference anything related to junit5 you have some issues in your code ... also have you checked the release notes for upgrade to spring boot 2.7.0 (https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes) furthermore I would check the build if there are some deprecations (hopefully you have turned on deprecations) https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes ??","body":"The error output does not reference anything related to junit5 you have some issues in your code ... also have you checked the release notes for upgrade to spring boot 2.7.0 (<a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a>) furthermore I would check the build if there are some deprecations (hopefully you have turned on deprecations) <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/wiki/&hellip;</a> ??"}],"owner":{"account_id":27604489,"reputation":1,"user_id":21068934,"display_name":"Pra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674513143,"creation_date":1674511840,"question_id":75215571,"body_markdown":"Few Error Examples : \r\n\r\n    Failed to introspect annotated methods on class \r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;welcomePageHandlerMapping&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method &#39;welcomePageHandlerMapping&#39; parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcResourceUrlProvider&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.resource.ResourceUrlProvider]: Factory method &#39;mvcResourceUrlProvider&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;mvcResourceUrlProvider&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate \r\n\r\nI only changed the version and nothing else in the code, inside parent tag.\r\n\r\n    &lt;version&gt;2.7.7&lt;/version&gt;","title":"junit test cases creating errors for when spring boot application migrated from 2.6.6 to 2.7.7. junit5 is used","body":"<p>Few Error Examples :</p>\n<pre><code>Failed to introspect annotated methods on class \njava.lang.IllegalStateException: Failed to load ApplicationContext\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'welcomePageHandlerMapping' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Unsatisfied dependency expressed through method 'welcomePageHandlerMapping' parameter 2; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcResourceUrlProvider' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.resource.ResourceUrlProvider]: Factory method 'mvcResourceUrlProvider' threw exception; nested exception is java.lang.NullPointerException\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'mvcResourceUrlProvider' defined in class path resource [org/springframework/boot/autoconfigure/web/servlet/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate \n</code></pre>\n<p>I only changed the version and nothing else in the code, inside parent tag.</p>\n<pre><code>&lt;version&gt;2.7.7&lt;/version&gt;\n</code></pre>\n"},{"tags":["java","google-calendar-api"],"comments":[{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":1,"creation_date":1395396782,"post_id":22555795,"comment_id":34329390,"body_markdown":"The google API are actually very well documented: https://developers.google.com/google-apps/calendar/ What is your problem exactly?","body":"The google API are actually very well documented: <a href=\"https://developers.google.com/google-apps/calendar/\" rel=\"nofollow noreferrer\">developers.google.com/google-apps/calendar</a> What is your problem exactly?"},{"owner":{"account_id":4207235,"reputation":29,"user_id":3445864,"display_name":"user3445864"},"score":0,"creation_date":1395397857,"post_id":22555795,"comment_id":34330057,"body_markdown":"THx yeah ,i&#39;ve just seen it,","body":"THx yeah ,i&#39;ve just seen it,"},{"owner":{"account_id":4207235,"reputation":29,"user_id":3445864,"display_name":"user3445864"},"score":0,"creation_date":1395398207,"post_id":22555795,"comment_id":34330279,"body_markdown":"THx yeah ,i&#39;ve just seen it,but my poroblem is how to create a new calendar personnalised by extracting my own data automatically from my google calendat and put it in it (after that i will add things) bit ill now i don&#39;t know how","body":"THx yeah ,i&#39;ve just seen it,but my poroblem is how to create a new calendar personnalised by extracting my own data automatically from my google calendat and put it in it (after that i will add things) bit ill now i don&#39;t know how"},{"owner":{"account_id":976984,"reputation":757,"user_id":997820,"accept_rate":56,"display_name":"AlwaysConfused"},"score":0,"creation_date":1479088945,"post_id":22555795,"comment_id":68397553,"body_markdown":"@Absurd-Mind I found it to be very confusing, gives me loads of errors, very bad jar organisation, just terrible examples and they give java projects as it was android app..","body":"@Absurd-Mind I found it to be very confusing, gives me loads of errors, very bad jar organisation, just terrible examples and they give java projects as it was android app.."},{"owner":{"account_id":271693,"reputation":7924,"user_id":562363,"accept_rate":59,"display_name":"Absurd-Mind"},"score":0,"creation_date":1479115437,"post_id":22555795,"comment_id":68405882,"body_markdown":"@StuckBetweenTrees The examples are all split for &gt;8 languages, Android and Java are two seperate ones. Using gradle (as described in the quickstart) should not bring you to a bad jar organisation. Here you can see how to setup the API for java: https://developers.google.com/google-apps/calendar/quickstart/java and here is an example to create an event: https://developers.google.com/google-apps/calendar/create-events So what is missing?","body":"@StuckBetweenTrees The examples are all split for &gt;8 languages, Android and Java are two seperate ones. Using gradle (as described in the quickstart) should not bring you to a bad jar organisation. Here you can see how to setup the API for java: <a href=\"https://developers.google.com/google-apps/calendar/quickstart/java\" rel=\"nofollow noreferrer\">developers.google.com/google-apps/calendar/quickstart/java</a> and here is an example to create an event: <a href=\"https://developers.google.com/google-apps/calendar/create-events\" rel=\"nofollow noreferrer\">developers.google.com/google-apps/calendar/create-events</a> So what is missing?"},{"owner":{"account_id":976984,"reputation":757,"user_id":997820,"accept_rate":56,"display_name":"AlwaysConfused"},"score":0,"creation_date":1479127508,"post_id":22555795,"comment_id":68413363,"body_markdown":"@Absurd-Mind their samples are just hideous.. I am trying just now to set up 1 sample code from their github and it produced like 50 errors.. I mean how is it even possible? Most of the jars are missing even I included every single of them.. I did exactly what they stated in the instructions..You probably have to be google debeloper to understand their way of coding. I dont get it why they can simply make url requests with 3 secret keys for example to get your data with json..","body":"@Absurd-Mind their samples are just hideous.. I am trying just now to set up 1 sample code from their github and it produced like 50 errors.. I mean how is it even possible? Most of the jars are missing even I included every single of them.. I did exactly what they stated in the instructions..You probably have to be google debeloper to understand their way of coding. I dont get it why they can simply make url requests with 3 secret keys for example to get your data with json.."}],"owner":{"account_id":4207235,"reputation":29,"user_id":3445864,"display_name":"user3445864"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1674513120,"creation_date":1395396678,"question_id":22555795,"body_markdown":"i would like to extract data from google calendar to put it in another special calendar(that i will create) automaticaly.\r\nSo that when i have this calendar in an app it automatically extract data from user existing google calendar.\r\n\r\nI&#39;ve been searching for a while but didn&#39;t found nothing","title":"How to extract data from google calendar","body":"<p>i would like to extract data from google calendar to put it in another special calendar(that i will create) automaticaly.\nSo that when i have this calendar in an app it automatically extract data from user existing google calendar.</p>\n\n<p>I've been searching for a while but didn't found nothing</p>\n"},{"tags":["javascript","java","selenium","selenium-webdriver","scroll"],"comments":[{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1674519369,"post_id":75212879,"comment_id":132727474,"body_markdown":"I&#39;m sure that method is supposed to return null","body":"I&#39;m sure that method is supposed to return null"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674503412,"creation_date":1674503412,"answer_id":75214357,"question_id":75212879,"body_markdown":"Instead of _`scrollLeft`_ you can always [**Element.scrollIntoView()**](https://stackoverflow.com/a/54689339/7429447) as follows:\r\n\r\n\tWebElement element=driver.findElement(By.xpath(&quot;//div[@class=&#39;table-wrapper&#39;]&quot;));\r\n\t((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\r\n\t\r\n&gt;You can find a relevant detailed discussion in [scrollIntoView() not working for horizontal scroll (Selenium)](https://stackoverflow.com/a/58537189/7429447)","title":"executeScript() method returns me null instead of scrolling horizontally towards right","body":"<p>Instead of <em><code>scrollLeft</code></em> you can always <a href=\"https://stackoverflow.com/a/54689339/7429447\"><strong>Element.scrollIntoView()</strong></a> as follows:</p>\n<pre><code>WebElement element=driver.findElement(By.xpath(&quot;//div[@class='table-wrapper']&quot;));\n((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element);\n</code></pre>\n<blockquote>\n<p>You can find a relevant detailed discussion in <a href=\"https://stackoverflow.com/a/58537189/7429447\">scrollIntoView() not working for horizontal scroll (Selenium)</a></p>\n</blockquote>\n"}],"owner":{"account_id":26403014,"reputation":29,"user_id":21042124,"display_name":"Max Brian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75214357,"answer_count":1,"score":1,"last_activity_date":1674512755,"creation_date":1674494151,"question_id":75212879,"body_markdown":"The code is:\r\n\r\n    WebElement element=driver.findElement(By.xpath(&quot;//div[@class=&#39;table-wrapper&#39;]&quot;));\r\n    JavascriptExecutor js=(JavascriptExecutor)driver;\r\n    js.executeScript(&quot;arguments[0].scrollLeft=arguments[0].scrollWidth&quot;, element);\r\n\r\nWhile debugging at third step, `executeScript` returned me &quot;null&quot;.  \r\n\r\nXpath is correct and locating well. I can&#39;t able to find locator of scroll so I am using whole locator of that particular div.  i.e `//div[@class=&#39;table-wrapper&#39;]`.","title":"executeScript() method returns me null instead of scrolling horizontally towards right","body":"<p>The code is:</p>\n<pre><code>WebElement element=driver.findElement(By.xpath(&quot;//div[@class='table-wrapper']&quot;));\nJavascriptExecutor js=(JavascriptExecutor)driver;\njs.executeScript(&quot;arguments[0].scrollLeft=arguments[0].scrollWidth&quot;, element);\n</code></pre>\n<p>While debugging at third step, <code>executeScript</code> returned me &quot;null&quot;.</p>\n<p>Xpath is correct and locating well. I can't able to find locator of scroll so I am using whole locator of that particular div.  i.e <code>//div[@class='table-wrapper']</code>.</p>\n"},{"tags":["java","performance","openrefine"],"answers":[{"tags":[],"owner":{"account_id":960659,"reputation":2398,"user_id":985087,"accept_rate":100,"display_name":"pintoch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674512615,"creation_date":1674512615,"answer_id":75215662,"question_id":75214840,"body_markdown":"Have you tried running `refine.bat build`? I suspect Eclipse will not build the frontend on its own, and that is needed to fetch the dependencies of libraries.","title":"Open refine bat file not loading the full page","body":"<p>Have you tried running <code>refine.bat build</code>? I suspect Eclipse will not build the frontend on its own, and that is needed to fetch the dependencies of libraries.</p>\n"}],"owner":{"account_id":27603958,"reputation":1,"user_id":21068556,"display_name":"Arena"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674512615,"creation_date":1674506590,"question_id":75214840,"body_markdown":"I am trying to run open refine bat file but it is not loading full page only open refine logo is showing. I took the source code from git hub and imported it in eclipse. But after running code, it is not loading full page. Please suggest anything \r\n\r\nI tried all the possible steps which are given in open refine tutorial link. But not able to get solution.","title":"Open refine bat file not loading the full page","body":"<p>I am trying to run open refine bat file but it is not loading full page only open refine logo is showing. I took the source code from git hub and imported it in eclipse. But after running code, it is not loading full page. Please suggest anything</p>\n<p>I tried all the possible steps which are given in open refine tutorial link. But not able to get solution.</p>\n"},{"tags":["java","zip","extract","unzip"],"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674446655,"post_id":75205507,"comment_id":132708695,"body_markdown":"`FilenameUtils.indexOfLastSeparator(ze.getName())` most likely returns a number, you presumably want to pass that number as argument to `ze.getName().substring()` or some such. You didn&#39;t include this method, you didn&#39;t include how you call this, hence, not really possible to help you any further.","body":"<code>FilenameUtils.indexOfLastSeparator(ze.getName())</code> most likely returns a number, you presumably want to pass that number as argument to <code>ze.getName().substring()</code> or some such. You didn&#39;t include this method, you didn&#39;t include how you call this, hence, not really possible to help you any further."}],"answers":[{"comments":[{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674447050,"post_id":75205595,"comment_id":132708733,"body_markdown":"For throwing it all out, this isn&#39;t very good. Tossing the use of `ZipInputStream` is a tad harsh. Why isn&#39;t this using `.transferTo`? ;pca ;var `buffer` isn&#39;t doing anything. It&#39;s trivial (especially if you use the new path API) to double check that the target path is a sub-path of the outputFolder and thus close the gaping security hole that this code has.","body":"For throwing it all out, this isn&#39;t very good. Tossing the use of <code>ZipInputStream</code> is a tad harsh. Why isn&#39;t this using <code>.transferTo</code>? ;pca ;var <code>buffer</code> isn&#39;t doing anything. It&#39;s trivial (especially if you use the new path API) to double check that the target path is a sub-path of the outputFolder and thus close the gaping security hole that this code has."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674447874,"post_id":75205595,"comment_id":132708826,"body_markdown":"@rzwitserloot By all means, show me a better solution, please, I&#39;m old school","body":"@rzwitserloot By all means, show me a better solution, please, I&#39;m old school"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674448242,"post_id":75205595,"comment_id":132708857,"body_markdown":"@rzwitserloot One reason for NOT using `Reader#transferTo` is that it doesn&#39;t provide the means for providing progression callbacks - while not included in this example, I like my APIs to provide some kind of progression feedback especially when performing I/O operations","body":"@rzwitserloot One reason for NOT using <code>Reader#transferTo</code> is that it doesn&#39;t provide the means for providing progression callbacks - while not included in this example, I like my APIs to provide some kind of progression feedback especially when performing I/O operations"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674448381,"post_id":75205595,"comment_id":132708874,"body_markdown":"@rzwitserloot `File destination = new File(outputFolder, ze.getName());` would make `destination` always a subpath of `outputFolder` - but, I may be missing your point","body":"@rzwitserloot <code>File destination = new File(outputFolder, ze.getName());</code> would make <code>destination</code> always a subpath of <code>outputFolder</code> - but, I may be missing your point"},{"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"score":0,"creation_date":1674455951,"post_id":75205595,"comment_id":132709733,"body_markdown":"@MadProgrammer This works to me, I add delete condition for the zip file once already extracted. Thank you!!!!!!","body":"@MadProgrammer This works to me, I add delete condition for the zip file once already extracted. Thank you!!!!!!"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674480111,"post_id":75205595,"comment_id":132716151,"body_markdown":"@MadProgrammer If I shove some `..` in the second parameter of the `File(String, String)` constructor, guess what happens? Progress is a lot more complicated than what you&#39;re making it out to be, and various good solutions exist based on piped streams which are entirely compatible with `.transferTo`. And, we&#39;re talking about `InputStream.transferTo`, not `Reader`.","body":"@MadProgrammer If I shove some <code>..</code> in the second parameter of the <code>File(String, String)</code> constructor, guess what happens? Progress is a lot more complicated than what you&#39;re making it out to be, and various good solutions exist based on piped streams which are entirely compatible with <code>.transferTo</code>. And, we&#39;re talking about <code>InputStream.transferTo</code>, not <code>Reader</code>."},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674480457,"post_id":75205595,"comment_id":132716292,"body_markdown":"@Euphoria this code is a security issue. If you unzip any zip you don&#39;t trust with it, you&#39;re going to get your box p0wned.","body":"@Euphoria this code is a security issue. If you unzip any zip you don&#39;t trust with it, you&#39;re going to get your box p0wned."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674506373,"post_id":75205595,"comment_id":132724705,"body_markdown":"@rzwitserloot *&quot;If you unzip any zip you don&#39;t trust with it&quot;* - Then what&#39;s the solution? *&quot;If I shove some .. in the second parameter&quot;* - garbage in, garbage out.  It&#39;s not always entirely possible to protected against every stupid thing a user might do - but again, show me, don&#39;t tell me - provide your answer and you can help teach two people today","body":"@rzwitserloot <i>&quot;If you unzip any zip you don&#39;t trust with it&quot;</i> - Then what&#39;s the solution? <i>&quot;If I shove some .. in the second parameter&quot;</i> - garbage in, garbage out.  It&#39;s not always entirely possible to protected against every stupid thing a user might do - but again, show me, don&#39;t tell me - provide your answer and you can help teach two people today"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674506930,"post_id":75205595,"comment_id":132724845,"body_markdown":"@rzwitserloot Interestingly, I looked into the `transferTo` code and it&#39;s basically doing the same thing that my code is doing (using 8k instead of 4k as the default buffer size) - so, what is the benefit, apart from not having to actually write the code?","body":"@rzwitserloot Interestingly, I looked into the <code>transferTo</code> code and it&#39;s basically doing the same thing that my code is doing (using 8k instead of 4k as the default buffer size) - so, what is the benefit, apart from not having to actually write the code?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674507598,"post_id":75205595,"comment_id":132725033,"body_markdown":"@rzwitserloot Based on https://stackoverflow.com/questions/4746671/how-to-check-if-a-given-path-is-possible-child-of-another-path, `System.out.println(Paths.get(&quot;UnZipped/..&quot;).toAbsolutePath().startsWith(Paths.get(&quot;UnZipped/&quot;).toAbsolutePath()));` prints `true`, which is obviously not what we want - so I&#39;m obviously missing something there","body":"@rzwitserloot Based on <a href=\"https://stackoverflow.com/questions/4746671/how-to-check-if-a-given-path-is-possible-child-of-another-path\" title=\"how to check if a given path is possible child of another path\">stackoverflow.com/questions/4746671/&hellip;</a>, <code>System.out.println(Paths.get(&quot;UnZipped&#47;..&quot;).toAbsolutePath()&zwnj;&#8203;.startsWith(Paths.ge&zwnj;&#8203;t(&quot;UnZipped&#47;&quot;).toAbs&zwnj;&#8203;olutePath()));</code> prints <code>true</code>, which is obviously not what we want - so I&#39;m obviously missing something there"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674508032,"post_id":75205595,"comment_id":132725157,"body_markdown":"@rzwitserloot Bit of running around, but `System.out.println(Paths.get(&quot;UnZipped/..&quot;).toRealPath().startsWith(Paths.get(&quot;UnZipped/&quot;).toRealPath()));` does work","body":"@rzwitserloot Bit of running around, but <code>System.out.println(Paths.get(&quot;UnZipped&#47;..&quot;).toRealPath().sta&zwnj;&#8203;rtsWith(Paths.get(&quot;U&zwnj;&#8203;nZipped&#47;&quot;).toRealPat&zwnj;&#8203;h()));</code> does work"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674511397,"post_id":75205595,"comment_id":132725984,"body_markdown":"@MadProgrammer Yup, combine real path + `startsWith`. The benefit of using `transferTo` should be obvious. Let the JDK&#39;s implementation take care of it. The thing with the buffer and the discussion about how large it should be are all sorts of details that are irrelevant.","body":"@MadProgrammer Yup, combine real path + <code>startsWith</code>. The benefit of using <code>transferTo</code> should be obvious. Let the JDK&#39;s implementation take care of it. The thing with the buffer and the discussion about how large it should be are all sorts of details that are irrelevant."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674511554,"post_id":75205595,"comment_id":132726025,"body_markdown":"@rzwitserloot *&quot;The benefit of using transferTo should be obvious. Let the JDK&#39;s implementation take care of it.&quot;* - Except when it was introduced it was the slowest option &#128540;, although I think it has been fixed, at least in openJDK.  If there&#39;s one thing I&#39;ve learnt over time is, the JDK implementations aren&#39;t always the best, but neither is mine - it&#39;s balancing act. *&quot;combine real path + startsWith&quot;* - I&#39;m still missing the point - show, don&#39;t tell - have an example, another SO answer, blog, anything? These comments are otherwise wasting everyone&#39;s time - sorry, I&#39;m all sorts of dumb","body":"@rzwitserloot <i>&quot;The benefit of using transferTo should be obvious. Let the JDK&#39;s implementation take care of it.&quot;</i> - Except when it was introduced it was the slowest option 😜, although I think it has been fixed, at least in openJDK.  If there&#39;s one thing I&#39;ve learnt over time is, the JDK implementations aren&#39;t always the best, but neither is mine - it&#39;s balancing act. <i>&quot;combine real path + startsWith&quot;</i> - I&#39;m still missing the point - show, don&#39;t tell - have an example, another SO answer, blog, anything? These comments are otherwise wasting everyone&#39;s time - sorry, I&#39;m all sorts of dumb"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674511856,"post_id":75205595,"comment_id":132726109,"body_markdown":"@rzwitserloot Might as well just say go use [Apache Commons Compress](https://commons.apache.org/proper/commons-compress/) and be done with it, but where&#39;s the fun in that &#128540;","body":"@rzwitserloot Might as well just say go use <a href=\"https://commons.apache.org/proper/commons-compress/\" rel=\"nofollow noreferrer\">Apache Commons Compress</a> and be done with it, but where&#39;s the fun in that 😜"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1674512448,"post_id":75205595,"comment_id":132726250,"body_markdown":"That&#39;s the point of core JDK libraries. If they are slow today they&#39;ll get faster tomorrow. In contrast to apache library impls which are nearly obsolete by the time apache releases them and get worse from there. It&#39;s not a balancing act, you don&#39;t re-invent JDK core functionality unless you have extremely good reason to do so.","body":"That&#39;s the point of core JDK libraries. If they are slow today they&#39;ll get faster tomorrow. In contrast to apache library impls which are nearly obsolete by the time apache releases them and get worse from there. It&#39;s not a balancing act, you don&#39;t re-invent JDK core functionality unless you have extremely good reason to do so."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674512629,"post_id":75205595,"comment_id":132726292,"body_markdown":"@rzwitserloot With all due respect that is your opinion - I don&#39;t disagree with you, but it is an opinion.  And over the last 30 years of front end development, when it comes to transferring data, I like to do it by hand so I can get my own progress feedback - not always the same way, but that&#39;s just how I role - in the context of this question, yes, `transferTo` is probably the better choice","body":"@rzwitserloot With all due respect that is your opinion - I don&#39;t disagree with you, but it is an opinion.  And over the last 30 years of front end development, when it comes to transferring data, I like to do it by hand so I can get my own progress feedback - not always the same way, but that&#39;s just how I role - in the context of this question, yes, <code>transferTo</code> is probably the better choice"},{"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"score":0,"creation_date":1674538874,"post_id":75205595,"comment_id":132729807,"body_markdown":"@MadProgrammer however, is it possible to extract the zip files without the folder? I mean, once it is extracted the files inside would be shown without the folder","body":"@MadProgrammer however, is it possible to extract the zip files without the folder? I mean, once it is extracted the files inside would be shown without the folder"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674543241,"post_id":75205595,"comment_id":132730506,"body_markdown":"@Euphoria So, if you didn&#39;t want to preserve the internal structure, you could just trim of the path elements of the `ZipEntry#name`, hostly, you don&#39;t actually need the that, you can name the extracted file anything you want, that&#39;s up to you","body":"@Euphoria So, if you didn&#39;t want to preserve the internal structure, you could just trim of the path elements of the <code>ZipEntry#name</code>, hostly, you don&#39;t actually need the that, you can name the extracted file anything you want, that&#39;s up to you"},{"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"score":0,"creation_date":1674569796,"post_id":75205595,"comment_id":132738566,"body_markdown":"@MadProgrammer I see, everything clear now. Thanks for the help, appreciate your effort! :)","body":"@MadProgrammer I see, everything clear now. Thanks for the help, appreciate your effort! :)"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":19,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674511804,"creation_date":1674446829,"answer_id":75205595,"question_id":75205507,"body_markdown":"I&#39;d love to be able to tell you exactly what&#39;s wrong with your code, but `FileOutputStream fos = new FileOutputStream(folder);` throws an exception because, well, `folder` is, a directory, so you can&#39;t write to it.\r\n\r\nI&#39;m also scratching my head over what your expecting `new File(folder.getParent()).mkdirs();` to do.\r\n\r\nI basically threw out your code and started again with...\r\n\r\n    public void unZipFolder(File zipFile, File outputFolder) throws IOException {\r\n        byte[] buffer = new byte[1024];\r\n\r\n        System.out.println(&quot;ZipFileLocation: &quot; + zipFile);\r\n        System.out.println(&quot;outputFolder = &quot; + outputFolder);\r\n\r\n        if (!outputFolder.exists() &amp;&amp; !outputFolder.mkdirs()) {\r\n            throw new IOException(&quot;Unable to create output folder: &quot; + outputFolder);\r\n        } else if (outputFolder.exists() &amp;&amp; !outputFolder.isDirectory()) {\r\n            throw new IOException(&quot;Output is not a directory: &quot; + outputFolder);\r\n        }\r\n\r\n        try (ZipFile zipper = new ZipFile(zipFile)) {\r\n            Enumeration&lt;? extends ZipEntry&gt; entries = zipper.entries();\r\n            while (entries.hasMoreElements()) {\r\n                ZipEntry ze = entries.nextElement();\r\n                File destination = new File(outputFolder, ze.getName());\r\n                if (ze.isDirectory()) {\r\n                    if (!destination.exists() &amp;&amp; !destination.mkdirs()) {\r\n                        throw new IOException(&quot;Could not create directory: &quot; + destination);\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;Writing &quot; + destination);\r\n                    try (InputStream is = zipper.getInputStream(ze); FileOutputStream fos = new FileOutputStream(destination)) {\r\n                        // You could use is.transferTo(fos) here but I&#39;m a grump old coder\r\n                        byte[] bytes = new byte[1024 * 4];\r\n                        int bytesRead = -1;\r\n                        while ((bytesRead = is.read(bytes)) != -1) {\r\n                            fos.write(bytes, 0, bytesRead);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nNow, what&#39;s important to know about this is, it expects the directory contents of the zip files to be relative (ie no root directory information).  If your zip file does contain root directory information (ie `C:/...` or `/...`), then you&#39;re going to need to clean that up yourself.\r\n\r\nNow, if you have trouble with this, I would suggest commenting out the &quot;extraction&quot; portion of the code and placing in more `System.out.println` statements\r\n\r\n# `transferTo`\r\n\r\nAfter reading through the code for `transferTo`, it&#39;s basically doing the same thing that the code example above is doing - so, if you wanted to reduce the code complexity (and reduce the risk of possible bugs), you could use it - been some what old school, I&#39;d probably still do it the &quot;old way&quot; in order to provide support for progress monitoring of some kind - but that&#39;s beyond the scope of the question.\r\n\r\n# &quot;Security issues&quot;\r\n\r\nThis ones a little harder to tie down, as no solution is 100% safe.\r\n\r\nI modified the above code to use something like...\r\n\r\n    Path parent = outputFolder.toPath().toAbsolutePath();\r\n    String name = &quot;../&quot; + ze.getName();\r\n    Path child = parent.resolveSibling(new File(outputFolder, name).toPath());\r\n\r\nAnd this ended up throwing a `NoSuchFileException`, so, at least you could &quot;fail fast&quot;, assuming that&#39;s what you want.\r\n\r\nYou might also consider removing `..`, leading `/` or leading path specifications in an attempt to make the path &quot;relative&quot;, but that could become complicated as something like `somePath/../file` could still be valid within your use case.","title":"Extracted ZIP file failed - No files inside, and having .zip25 extension after extract","body":"<p>I'd love to be able to tell you exactly what's wrong with your code, but <code>FileOutputStream fos = new FileOutputStream(folder);</code> throws an exception because, well, <code>folder</code> is, a directory, so you can't write to it.</p>\n<p>I'm also scratching my head over what your expecting <code>new File(folder.getParent()).mkdirs();</code> to do.</p>\n<p>I basically threw out your code and started again with...</p>\n<pre><code>public void unZipFolder(File zipFile, File outputFolder) throws IOException {\n    byte[] buffer = new byte[1024];\n\n    System.out.println(&quot;ZipFileLocation: &quot; + zipFile);\n    System.out.println(&quot;outputFolder = &quot; + outputFolder);\n\n    if (!outputFolder.exists() &amp;&amp; !outputFolder.mkdirs()) {\n        throw new IOException(&quot;Unable to create output folder: &quot; + outputFolder);\n    } else if (outputFolder.exists() &amp;&amp; !outputFolder.isDirectory()) {\n        throw new IOException(&quot;Output is not a directory: &quot; + outputFolder);\n    }\n\n    try (ZipFile zipper = new ZipFile(zipFile)) {\n        Enumeration&lt;? extends ZipEntry&gt; entries = zipper.entries();\n        while (entries.hasMoreElements()) {\n            ZipEntry ze = entries.nextElement();\n            File destination = new File(outputFolder, ze.getName());\n            if (ze.isDirectory()) {\n                if (!destination.exists() &amp;&amp; !destination.mkdirs()) {\n                    throw new IOException(&quot;Could not create directory: &quot; + destination);\n                }\n            } else {\n                System.out.println(&quot;Writing &quot; + destination);\n                try (InputStream is = zipper.getInputStream(ze); FileOutputStream fos = new FileOutputStream(destination)) {\n                    // You could use is.transferTo(fos) here but I'm a grump old coder\n                    byte[] bytes = new byte[1024 * 4];\n                    int bytesRead = -1;\n                    while ((bytesRead = is.read(bytes)) != -1) {\n                        fos.write(bytes, 0, bytesRead);\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>Now, what's important to know about this is, it expects the directory contents of the zip files to be relative (ie no root directory information).  If your zip file does contain root directory information (ie <code>C:/...</code> or <code>/...</code>), then you're going to need to clean that up yourself.</p>\n<p>Now, if you have trouble with this, I would suggest commenting out the &quot;extraction&quot; portion of the code and placing in more <code>System.out.println</code> statements</p>\n<h1><code>transferTo</code></h1>\n<p>After reading through the code for <code>transferTo</code>, it's basically doing the same thing that the code example above is doing - so, if you wanted to reduce the code complexity (and reduce the risk of possible bugs), you could use it - been some what old school, I'd probably still do it the &quot;old way&quot; in order to provide support for progress monitoring of some kind - but that's beyond the scope of the question.</p>\n<h1>&quot;Security issues&quot;</h1>\n<p>This ones a little harder to tie down, as no solution is 100% safe.</p>\n<p>I modified the above code to use something like...</p>\n<pre><code>Path parent = outputFolder.toPath().toAbsolutePath();\nString name = &quot;../&quot; + ze.getName();\nPath child = parent.resolveSibling(new File(outputFolder, name).toPath());\n</code></pre>\n<p>And this ended up throwing a <code>NoSuchFileException</code>, so, at least you could &quot;fail fast&quot;, assuming that's what you want.</p>\n<p>You might also consider removing <code>..</code>, leading <code>/</code> or leading path specifications in an attempt to make the path &quot;relative&quot;, but that could become complicated as something like <code>somePath/../file</code> could still be valid within your use case.</p>\n"}],"owner":{"account_id":20769469,"reputation":3,"user_id":15252530,"display_name":"Euphoria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75205595,"answer_count":1,"score":0,"last_activity_date":1674511804,"creation_date":1674445311,"question_id":75205507,"body_markdown":"I was trying to extract the ZIP file from my Linux, I&#39;m able to extract it, but the expected output is failing/wrong. The extract file suddenly has no files inside and the folder extracted has .zip25 extension. I searched on this, and there is saying that it is corrupted. However, I don&#39;t think it is corrupted because I am able to open and extract the zip files perfectly in local (Windows directory).\r\n\r\nExample:\r\n\r\nZip file: FolderZip.zip\r\n\r\nAfter extract: FolderZip.zip25 (Note: This is already extracted but still has .zip25 extension, also the files inside are missing).\r\n\r\nBelow is my code, I&#39;ve worked on this for almost a month, but still can&#39;t figure it out. Can someone help me to figure out what did I do wrong?\r\n\r\n```java\r\npublic void unZipFolder(String zipFile, String outputFolder){\r\n        byte[] buffer = new byte[1024];\r\n\r\n        System.out.println(&quot;ZipFileLocation: &quot; + zipFile);\r\n        LOG.info(&quot; ZipFileLocation: &quot; + zipFile);\r\n\r\n        File folder = new File(outputFolder);\r\n        if(!folder.exists())folder.mkdirs();\r\n\r\n        try{\r\n            FileInputStream fis = new FileInputStream(zipFile);\r\n            ZipInputStream zis = new ZipInputStream(fis);\r\n            ZipEntry ze = zis.getNextEntry();\r\n            \r\n            while(ze != null) {\r\n                new File(folder.getParent()).mkdirs();\r\n                FileOutputStream fos = new FileOutputStream(folder);\r\n                File newFile = new File(outputFolder + FilenameUtils.indexOfLastSeparator(ze.getName()));\r\n                                \r\n                if (ze.isDirectory()) {\r\n                    if (!newFile.isDirectory() &amp;&amp; !newFile.mkdirs()) {\r\n                        throw new IOException(&quot;Failed to create directory &quot; + newFile);\r\n                    }else if(ze.isDirectory()){\r\n                    \tnewFile.mkdirs();\r\n                        continue;\r\n                    }else{\r\n                    \tint len;\r\n                    \twhile ((len = zis.read(buffer)) &gt;= 0) {\r\n                            fos.write(buffer, 0, len);\r\n                        }\r\n                    \t\r\n                    \tSystem.out.println(&quot;File Unzip: &quot; + newFile);\r\n                        LOG.info(&quot; File Unzip: &quot; + newFile);\r\n                        newFile.mkdirs();\r\n                        fos.close();\r\n                        zis.closeEntry();\r\n                        ze = zis.getNextEntry();\r\n                    }\r\n                }    \r\n                \r\n                boolean result = Files.deleteIfExists(Paths.get(zipFile));\r\n                if (result) {\r\n                    System.out.println(&quot;ZipFile is deleted....&quot;);\r\n                } else {\r\n                    System.out.println(&quot;Unable to delete the file.....&quot;);\r\n              }\r\n            }\r\n            zis.closeEntry();\r\n            zis.close();\r\n            fis.close();\r\n         }catch(IOException ex){\r\n            ex.printStackTrace();\r\n     }\r\n}\r\n```","title":"Extracted ZIP file failed - No files inside, and having .zip25 extension after extract","body":"<p>I was trying to extract the ZIP file from my Linux, I'm able to extract it, but the expected output is failing/wrong. The extract file suddenly has no files inside and the folder extracted has .zip25 extension. I searched on this, and there is saying that it is corrupted. However, I don't think it is corrupted because I am able to open and extract the zip files perfectly in local (Windows directory).</p>\n<p>Example:</p>\n<p>Zip file: FolderZip.zip</p>\n<p>After extract: FolderZip.zip25 (Note: This is already extracted but still has .zip25 extension, also the files inside are missing).</p>\n<p>Below is my code, I've worked on this for almost a month, but still can't figure it out. Can someone help me to figure out what did I do wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void unZipFolder(String zipFile, String outputFolder){\n        byte[] buffer = new byte[1024];\n\n        System.out.println(&quot;ZipFileLocation: &quot; + zipFile);\n        LOG.info(&quot; ZipFileLocation: &quot; + zipFile);\n\n        File folder = new File(outputFolder);\n        if(!folder.exists())folder.mkdirs();\n\n        try{\n            FileInputStream fis = new FileInputStream(zipFile);\n            ZipInputStream zis = new ZipInputStream(fis);\n            ZipEntry ze = zis.getNextEntry();\n            \n            while(ze != null) {\n                new File(folder.getParent()).mkdirs();\n                FileOutputStream fos = new FileOutputStream(folder);\n                File newFile = new File(outputFolder + FilenameUtils.indexOfLastSeparator(ze.getName()));\n                                \n                if (ze.isDirectory()) {\n                    if (!newFile.isDirectory() &amp;&amp; !newFile.mkdirs()) {\n                        throw new IOException(&quot;Failed to create directory &quot; + newFile);\n                    }else if(ze.isDirectory()){\n                        newFile.mkdirs();\n                        continue;\n                    }else{\n                        int len;\n                        while ((len = zis.read(buffer)) &gt;= 0) {\n                            fos.write(buffer, 0, len);\n                        }\n                        \n                        System.out.println(&quot;File Unzip: &quot; + newFile);\n                        LOG.info(&quot; File Unzip: &quot; + newFile);\n                        newFile.mkdirs();\n                        fos.close();\n                        zis.closeEntry();\n                        ze = zis.getNextEntry();\n                    }\n                }    \n                \n                boolean result = Files.deleteIfExists(Paths.get(zipFile));\n                if (result) {\n                    System.out.println(&quot;ZipFile is deleted....&quot;);\n                } else {\n                    System.out.println(&quot;Unable to delete the file.....&quot;);\n              }\n            }\n            zis.closeEntry();\n            zis.close();\n            fis.close();\n         }catch(IOException ex){\n            ex.printStackTrace();\n     }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1674506064,"post_id":75214725,"comment_id":132724615,"body_markdown":"What are you trying to accomplish here?  Your goal is *very* unclear.","body":"What are you trying to accomplish here?  Your goal is <i>very</i> unclear."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1674506099,"post_id":75214725,"comment_id":132724626,"body_markdown":"Particularly what you mean by &quot;name this path&quot;","body":"Particularly what you mean by &quot;name this path&quot;"},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":1,"creation_date":1674506275,"post_id":75214725,"comment_id":132724674,"body_markdown":"Why can&#39;t you create a Path or File object from directory c, list files to find the unknown directory name, and then proceed on down","body":"Why can&#39;t you create a Path or File object from directory c, list files to find the unknown directory name, and then proceed on down"}],"answers":[{"tags":[],"owner":{"account_id":8335840,"reputation":334,"user_id":6262815,"display_name":"tonder"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1674506497,"creation_date":1674506497,"answer_id":75214821,"question_id":75214725,"body_markdown":"Lets say you have a dockerized app based on a linux distribution.\r\n\r\nYou can run this unix command: ```find . -name d/e/f/yourFilename``` using [Process Builder][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html\r\n\r\n\r\nThis will return the complete filepath to your file which will include the unknown portion. And then you can assign it to a String and use in your Java app.","title":"Java: Possible to name a path with exactly 1 unknown directory?","body":"<p>Lets say you have a dockerized app based on a linux distribution.</p>\n<p>You can run this unix command: <code>find . -name d/e/f/yourFilename</code> using <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">Process Builder</a></p>\n<p>This will return the complete filepath to your file which will include the unknown portion. And then you can assign it to a String and use in your Java app.</p>\n"},{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674506790,"creation_date":1674506790,"answer_id":75214869,"question_id":75214725,"body_markdown":"Yes, it is possible but probably not as straightforward as you think, you&#39;d use the [`Files.walk`][1] method like follows:\r\n\r\n\t\tPath root = Paths.get(&quot;S:\\\\Coding\\\\&quot;);\r\n\r\n\t\tString prefix = &quot;A\\\\AB&quot;;\r\n\t\tString suffix = &quot;B\\\\C&quot;;\r\n\t\t\r\n\t\tPath searchRoot = root.resolve(prefix);\r\n\t\t\r\n\t\tSystem.err.println(searchRoot);\r\n\t\t\r\n\t\tList&lt;Path&gt; paths = Files.walk(searchRoot).filter(f -&gt; f.endsWith(suffix)).collect(Collectors.toList());\r\n\t\t\r\n\t\tpaths.forEach(System.out::println);\r\n\r\nOutputs:\r\n\r\n    stderr: S:\\Coding\\A\\AB\r\n    stdout: S:\\Coding\\A\\AB\\ZZZ\\B\\C\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-","title":"Java: Possible to name a path with exactly 1 unknown directory?","body":"<p>Yes, it is possible but probably not as straightforward as you think, you'd use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#walk-java.nio.file.Path-java.nio.file.FileVisitOption...-\" rel=\"nofollow noreferrer\"><code>Files.walk</code></a> method like follows:</p>\n<pre><code>    Path root = Paths.get(&quot;S:\\\\Coding\\\\&quot;);\n\n    String prefix = &quot;A\\\\AB&quot;;\n    String suffix = &quot;B\\\\C&quot;;\n    \n    Path searchRoot = root.resolve(prefix);\n    \n    System.err.println(searchRoot);\n    \n    List&lt;Path&gt; paths = Files.walk(searchRoot).filter(f -&gt; f.endsWith(suffix)).collect(Collectors.toList());\n    \n    paths.forEach(System.out::println);\n</code></pre>\n<p>Outputs:</p>\n<pre><code>stderr: S:\\Coding\\A\\AB\nstdout: S:\\Coding\\A\\AB\\ZZZ\\B\\C\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674511435,"creation_date":1674509797,"answer_id":75215296,"question_id":75214725,"body_markdown":"You can hardcode your search method as indicated in other answers. Or, to stay flexible match against patterns. You would need some pattern language to specify your path:\r\n\r\n- Shells typically use [globbing][1].\r\n- Alternatively you could use regexp to distinguish wanted from unwanted files. \r\n\r\nOnce you have such a pattern matcher, use a tree walking algorithm (traverse the directory structure recursively), match each absolute path name with your pattern. If it matches, perform some action.\r\n\r\nBe aware some globbing seems to exist in Java - see https://stackoverflow.com/questions/24677662/match-path-string-using-glob-in-java#24677807\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Glob_(programming)","title":"Java: Possible to name a path with exactly 1 unknown directory?","body":"<p>You can hardcode your search method as indicated in other answers. Or, to stay flexible match against patterns. You would need some pattern language to specify your path:</p>\n<ul>\n<li>Shells typically use <a href=\"https://en.wikipedia.org/wiki/Glob_(programming)\" rel=\"nofollow noreferrer\">globbing</a>.</li>\n<li>Alternatively you could use regexp to distinguish wanted from unwanted files.</li>\n</ul>\n<p>Once you have such a pattern matcher, use a tree walking algorithm (traverse the directory structure recursively), match each absolute path name with your pattern. If it matches, perform some action.</p>\n<p>Be aware some globbing seems to exist in Java - see <a href=\"https://stackoverflow.com/questions/24677662/match-path-string-using-glob-in-java#24677807\">Match path string using glob in Java</a></p>\n"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1674511435,"creation_date":1674505770,"question_id":75214725,"body_markdown":"Lets say I have a directory-structure.\r\n\r\n    /a/b/c/&lt;unknown name&gt;/d/e/f/&lt;files&gt;\r\n\r\nfor Windows: \r\n\r\n    C:\\a\\b\\c\\&lt;unknown name&gt;\\d\\e\\f&lt;files&gt;\r\n\r\nI know a/b/c is always there and also d/e/f/&lt;some files&gt;.\r\n\r\nI do not know the directory (&lt;unknown name&gt;) between them but I know there is only 1.\r\n\r\nIs there a way in Java I can name this path without finding out the name of the 1 unknown directory to access &lt;some files&gt;??\r\n\r\nLike so?  \r\n\r\n    /a/b/c/*/d/e/f","title":"Java: Possible to name a path with exactly 1 unknown directory?","body":"<p>Lets say I have a directory-structure.</p>\n<pre><code>/a/b/c/&lt;unknown name&gt;/d/e/f/&lt;files&gt;\n</code></pre>\n<p>for Windows:</p>\n<pre><code>C:\\a\\b\\c\\&lt;unknown name&gt;\\d\\e\\f&lt;files&gt;\n</code></pre>\n<p>I know a/b/c is always there and also d/e/f/.</p>\n<p>I do not know the directory () between them but I know there is only 1.</p>\n<p>Is there a way in Java I can name this path without finding out the name of the 1 unknown directory to access ??</p>\n<p>Like so?</p>\n<pre><code>/a/b/c/*/d/e/f\n</code></pre>\n"},{"tags":["java","process","io","stream","java-io"],"answers":[{"tags":[],"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1350369632,"creation_date":1350369274,"answer_id":12908802,"question_id":12908732,"body_markdown":"`readline()` is a blocking call. It will block until there&#39;s a line to be read (terminated by an end of line character) or the underlying stream is closed (returning EOF). \r\n\r\nYou need to have logic that is checking `BufferedReader.ready()` or just using `BufferedReader.read()` and bailing out if you decide you&#39;re waiting long enough (or want to do something else then check again). \r\n\r\n**Edit to add**: That being said, it shouldn&#39;t hang &quot;indefinitely&quot; as-is; it should return once the invoked process terminates. By any chance is your invoked process also outputting something to `stdout`? If that&#39;s the case ... you need to be reading from that as well or the buffer will fill and will block the external process which will prevent it from exiting which ... leads to your problem. ","title":"Reading error stream from a process","body":"<p><code>readline()</code> is a blocking call. It will block until there's a line to be read (terminated by an end of line character) or the underlying stream is closed (returning EOF). </p>\n\n<p>You need to have logic that is checking <code>BufferedReader.ready()</code> or just using <code>BufferedReader.read()</code> and bailing out if you decide you're waiting long enough (or want to do something else then check again). </p>\n\n<p><strong>Edit to add</strong>: That being said, it shouldn't hang \"indefinitely\" as-is; it should return once the invoked process terminates. By any chance is your invoked process also outputting something to <code>stdout</code>? If that's the case ... you need to be reading from that as well or the buffer will fill and will block the external process which will prevent it from exiting which ... leads to your problem. </p>\n"},{"tags":[],"owner":{"account_id":2319930,"reputation":96,"user_id":5419143,"display_name":"sarysa"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1444230687,"creation_date":1444230687,"answer_id":32995975,"question_id":12908732,"body_markdown":"This is a late reply, but the issue hasn&#39;t really solved and it&#39;s on the first page for some searches. I had the same issue, and `BufferedReader.ready()` would still set up a situation where it would lock.\r\n\r\n**The following workaround will not work if you need to get a persistent stream. However, if you&#39;re just running a program and waiting for it to close, this should be fine.**\r\n\r\nThe workaround I&#39;m using is to call `ProcessBuilder.redirectError(File)`. Then I&#39;d read the file and use that to present the error stream to the user. It worked fine, didn&#39;t lock. I did call `Process.destroyForcibly()` after Process.waitFor() but this is likely unnecessary.\r\n\r\nSome pseudocode below:\r\n&lt;pre&gt;\r\n\r\n    File thisFile = new File(&quot;somefile.ext&quot;);\r\n    ProcessBuilder pb = new ProcessBuilder(yourStringList);\r\n    pb.redirectError(thisFile);\r\n    Process p = pb.start();\r\n    p.waitFor();\r\n    p.destroyForcibly();\r\n    ArrayList&lt;String&gt; fileContents = getFileContents(thisFile);\r\n\r\n&lt;/pre&gt;\r\n\r\nI hope this helps with at least some of your use cases.","title":"Reading error stream from a process","body":"<p>This is a late reply, but the issue hasn't really solved and it's on the first page for some searches. I had the same issue, and <code>BufferedReader.ready()</code> would still set up a situation where it would lock.</p>\n\n<p><strong>The following workaround will not work if you need to get a persistent stream. However, if you're just running a program and waiting for it to close, this should be fine.</strong></p>\n\n<p>The workaround I'm using is to call <code>ProcessBuilder.redirectError(File)</code>. Then I'd read the file and use that to present the error stream to the user. It worked fine, didn't lock. I did call <code>Process.destroyForcibly()</code> after Process.waitFor() but this is likely unnecessary.</p>\n\n<p>Some pseudocode below:</p>\n\n<pre>\n\n    File thisFile = new File(\"somefile.ext\");\n    ProcessBuilder pb = new ProcessBuilder(yourStringList);\n    pb.redirectError(thisFile);\n    Process p = pb.start();\n    p.waitFor();\n    p.destroyForcibly();\n    ArrayList fileContents = getFileContents(thisFile);\n\n</pre>\n\n<p>I hope this helps with at least some of your use cases.</p>\n"},{"tags":[],"owner":{"account_id":3351358,"reputation":531,"user_id":2815365,"accept_rate":100,"display_name":"finrod"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662969339,"creation_date":1662969339,"answer_id":73686115,"question_id":12908732,"body_markdown":"Something like this might also work and avoid the blocking behaviour (without requiring to create a File)\r\n\r\n    InputStream error = process.getErrorStream();\r\n    \r\n    // Read from InputStream\r\n    for (int k = 0; k &lt; error.available(); ++k)\r\n        System.out.println(&quot;Error stream = &quot; + error.read());\r\n\r\nFrom the Javadoc of InputStream.available\r\n\r\n&gt; Returns an estimate of the number of bytes that can be read (orskipped over) from this input stream without blocking by the nextinvocation of a method for this input stream. The next invocationmight be the same thread or another thread. A single read or skip of thismany bytes will not block, but may read or skip fewer bytes. ","title":"Reading error stream from a process","body":"<p>Something like this might also work and avoid the blocking behaviour (without requiring to create a File)</p>\n<pre><code>InputStream error = process.getErrorStream();\n\n// Read from InputStream\nfor (int k = 0; k &lt; error.available(); ++k)\n    System.out.println(&quot;Error stream = &quot; + error.read());\n</code></pre>\n<p>From the Javadoc of InputStream.available</p>\n<blockquote>\n<p>Returns an estimate of the number of bytes that can be read (orskipped over) from this input stream without blocking by the nextinvocation of a method for this input stream. The next invocationmight be the same thread or another thread. A single read or skip of thismany bytes will not block, but may read or skip fewer bytes.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1403382,"reputation":1305,"user_id":1331732,"accept_rate":20,"display_name":"Alain P"},"score":0,"creation_date":1676978227,"post_id":75215517,"comment_id":133241579,"body_markdown":"ProcessBuilder already provides redirectErrorStream(true); to do that, but often you don&#39;t want those streams to be mingled together.","body":"ProcessBuilder already provides redirectErrorStream(true); to do that, but often you don&#39;t want those streams to be mingled together."}],"tags":[],"owner":{"account_id":17576013,"reputation":84,"user_id":13746318,"display_name":"CasseroleBoi"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674511417,"creation_date":1674511417,"answer_id":75215517,"question_id":12908732,"body_markdown":"The simplest answer would be to simply redirect the error stream to `stdout`:\r\n```java\r\nprocess.getErrorStream().transferTo(System.out);\r\n```","title":"Reading error stream from a process","body":"<p>The simplest answer would be to simply redirect the error stream to <code>stdout</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>process.getErrorStream().transferTo(System.out);\n</code></pre>\n"}],"owner":{"account_id":232234,"reputation":3842,"user_id":496934,"accept_rate":80,"display_name":"user496934"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18661,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":32995975,"answer_count":4,"score":7,"last_activity_date":1674511417,"creation_date":1350368892,"question_id":12908732,"body_markdown":"I am writing a java program to read the error stream from a process . Below is the structure of my code --\r\n\r\n    ProcessBuilder probuilder = new ProcessBuilder( command );              \r\n    Process process = probuilder.start(); \r\n    InputStream error = process.getErrorStream();\r\n    InputStreamReader isrerror = new InputStreamReader(error);\r\n    BufferedReader bre = new BufferedReader(isrerror);\r\n    while ((linee = bre.readLine()) != null) {\r\n            System.out.println(linee);\r\n        }\r\n\r\nThe above code works fine if anything is actually written to the error stream of the invoked process. However, if anything is not written to the error stream, then the call to readLine actually hangs indefinitely. However, I want to make my code generic so that it works for all scenarios. How can I modify my code to achieve the same.\r\n\r\n   Regards,\r\n     Dev","title":"Reading error stream from a process","body":"<p>I am writing a java program to read the error stream from a process . Below is the structure of my code --</p>\n\n<pre><code>ProcessBuilder probuilder = new ProcessBuilder( command );              \nProcess process = probuilder.start(); \nInputStream error = process.getErrorStream();\nInputStreamReader isrerror = new InputStreamReader(error);\nBufferedReader bre = new BufferedReader(isrerror);\nwhile ((linee = bre.readLine()) != null) {\n        System.out.println(linee);\n    }\n</code></pre>\n\n<p>The above code works fine if anything is actually written to the error stream of the invoked process. However, if anything is not written to the error stream, then the call to readLine actually hangs indefinitely. However, I want to make my code generic so that it works for all scenarios. How can I modify my code to achieve the same.</p>\n\n<p>Regards,\n     Dev</p>\n"},{"tags":["java","machine-learning","artificial-intelligence","j#"],"answers":[{"tags":[],"owner":{"account_id":24653804,"reputation":1,"user_id":18550654,"display_name":"Kyotiq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674510961,"creation_date":1674510961,"answer_id":75215451,"question_id":75215028,"body_markdown":"Through testing, here is what I have found.  Basically, we need to use mse and train over 2000 epochs.  This was found through testing different scaling of the data.  The data doesn&#39;t need to be scaled. \r\n\r\n","title":"Is there a way to reverse the MNIST?","body":"<p>Through testing, here is what I have found.  Basically, we need to use mse and train over 2000 epochs.  This was found through testing different scaling of the data.  The data doesn't need to be scaled.</p>\n"}],"owner":{"account_id":24653804,"reputation":1,"user_id":18550654,"display_name":"Kyotiq"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674510961,"creation_date":1674507796,"question_id":75215028,"body_markdown":"I have recently been looking into AI and the MNIST detest.  I have decided to create 18 different images in microsoft paint.  These images are 28x28, and are named accordingly into the code below.  I wanted to see if I could get my network to overfit on a certain set of images in hopes that I can prompt it with the label and have it return the image.  \r\n\r\nI would give it [[7]], and have it return a 28x28 array of numbers from 1 - 255 denoting the color of the pixel.  The only problem is that the network basically doesn&#39;t learn.  I have also tried putting it in the normal way.  I have given it the picture, just like the mnist, and had it return the data of the label.  It couldn&#39;t even to this.  I have the data scaled from 0 - 1 in this network.  If anyone can give any imput, that would be great. \r\n\r\n\r\n```\r\nimport tensorflow as tf\r\nimport numpy as np\r\nimport cv2\r\nimport matplotlib as plt\r\nimport os\r\nfrom PIL import Image \r\n\r\nX = np.array([[0.01],[0.02],[0.03],[0.04],[0.05],[0.06],[0.07],[0.08],[0.9],[0.10],[0.11],[0.12],[0.13],[0.14],[0.23],[0.57],[0.64],[0.01]])\r\n#X = np.reshape(X, (-1, 1+18 - 1))\r\nprint(np.shape(X))\r\nY = np.array([[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/one.png&quot;)[:,:,0]], [cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Two.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Three.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Four.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Five.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Six.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Seven.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eight.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Nine.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Ten.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eleven.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Twelve.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Thirteen.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Fourteen.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/23.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/57.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/64.png&quot;)[:,:,0]],\r\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/one.png&quot;)[:,:,0]]])\r\nY = np.reshape(Y, (18, 28, 28))\r\nY = np.reshape(Y, (18, 784))\r\nprint(Y)\r\nprint(np.shape(Y))\r\n#Y = np.invert(np.array([Y]))\r\n# = np.reshape(Y, (18, 784))\r\nprint(Y[1])\r\nImage.fromarray(np.reshape(Y[1], (28, 28))).show()\r\nmodel = tf.keras.Sequential()\r\n#model.add(tf.keras.layers.Flatten(units = (28, 28)))\r\nmodel.add(tf.keras.layers.Dense(units = 1))\r\nmodel.add(tf.keras.layers.Dense(units = 1280, activation = &#39;sigmoid&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = &#39;relu&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = &#39;relu&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = &#39;relu&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = &#39;relu&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 7840, activation = &#39;relu&#39;))\r\nmodel.add(tf.keras.layers.Dense(units = 784, activation = &#39;relu&#39;))\r\nmodel.compile(optimizer = &#39;adam&#39;, loss = &#39;categorical_crossentropy&#39;, metrics = [&#39;accuracy&#39;])\r\nmodel.fit(X, Y, epochs = 1000)\r\nimg = [[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Three.png&quot;)[:,:,0]]]  \r\nprint(np.shape(img))\r\nimg = np.reshape(img, (1, 784))\r\n#img = np.reshape(img, (18, 28, 28))\r\n#img = np.reshape(img, (18, 784))\r\n#im = np.reshape(im, (28, 28))\r\n#img.save(&#39;my.png&#39;)\r\n#print(model.predict([[img]]))\r\nprint(model.predict([[0.09]]))\r\n\r\n#img.show()\r\n#model.predict(cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eight.png&quot;))\r\n```\r\nHere is what the output looks like.  \r\n      \r\n```\r\nEpoch 999/1000\r\n1/1 [==============================] - 0s 262ms/step - loss: 1399771.7500 - accuracy: 0.0000e+00\r\nEpoch 1000/1000\r\n1/1 [==============================] - 0s 256ms/step - loss: 1399771.7500 - accuracy: 0.0000e+00\r\n(1, 1, 28, 28)\r\n1/1 [==============================] - 0s 326ms/step\r\n[[199282.06  199288.88  199315.81  199300.83       0.    199299.22\r\n  199265.17  199350.97  199292.02  199304.56  199288.55  199294.83\r\n  199289.64  199299.23  199297.22       0.    199309.2   199306.39\r\n  199298.88  199364.98  199311.77  199319.39  199301.73  199300.73\r\n       0.    199309.02       0.         0.    199326.27  199319.03\r\n  199299.25  199312.         0.    199290.66  199312.22       0.\r\n       0.    199294.34  199302.16  199316.95  199396.31  199282.86\r\n       0.    199297.58  199278.92  199348.81  199289.9   199282.81\r\n       0.    199356.6        0.    199288.1   199292.84  199300.83\r\n  199301.39  199299.83       0.    199278.77  199318.38  199301.17\r\n  199326.14  199281.9        0.    199307.53       0.         0.\r\n  199331.94  199295.22  199295.66  199253.81       0.    199306.03\r\n  199320.08  199302.05  199301.53  199274.25       0.    199289.84\r\n  199304.66  199311.42  199294.4   199280.39       0.    199295.4\r\n  199288.52  199286.2        0.         0.    190980.31  195136.56\r\n  199328.12  199294.19  196189.23  189574.28  185125.86  178575.97\r\n  177170.53  177145.08       0.    177149.14  179951.61  190983.16\r\n       0.    199294.06  199298.94  199303.94  199271.25  199295.3\r\n  199308.17  199301.11  199301.34  199317.2   199316.45  199291.19\r\n  199312.8   189280.36       0.    152979.77  153675.66  159425.44\r\n  147432.53  143942.23       0.         0.    127356.23  125194.97\r\n  128731.125 143976.19  164658.25       0.    185449.77       0.\r\n  191019.52  195172.84  199345.67  199319.1   199328.34  199310.11\r\n  199326.72  199298.78  199268.34  199284.75  199248.98  188257.53\r\n  154988.52  110339.97  108355.984 110099.92  132865.7   123508.63\r\n       0.     87205.01   96845.234  91384.75  107316.375      0.\r\n       0.    154964.05  130471.39  134176.8   161948.17  166444.45\r\n  174034.58  170300.36  181345.98  195137.61  199316.45  199283.16\r\n  199313.52  199293.86  199283.97  188174.39       0.     87873.31\r\n   89591.49   95854.234 119326.17  101727.664 101038.61   93777.21\r\n       0.         0.    110745.26  119310.08  105236.75       0.\r\n  102418.36       0.    151198.75       0.    167122.44  166133.92\r\n  166776.1   184403.25       0.         0.    199305.39  199359.05\r\n       0.    178494.16       0.         0.     75068.34       0.\r\n       0.    110044.23       0.    106530.07   89276.71       0.\r\n  107541.33  127003.96  107611.13   77874.125  80225.92   80943.51\r\n  138736.69       0.    166142.69  166099.33  166120.39  177534.36\r\n  199300.33  199299.16  199271.84  199319.77  189268.98  177449.89\r\n       0.    111370.75   58839.445  83024.27  104164.52  129708.21\r\n       0.         0.    101348.93       0.    107920.38       0.\r\n       0.         0.     77496.53       0.    136696.2   184012.34\r\n       0.    166099.38       0.         0.    199322.16  199275.78\r\n  199289.88       0.         0.         0.         0.    121811.7\r\n   72026.87       0.         0.         0.    135331.5        0.\r\n       0.    118669.38  121786.58       0.         0.     85833.74\r\n   75445.95   99653.39       0.    166042.48       0.         0.\r\n       0.    177132.1   199294.84  199243.56       0.    189256.23\r\n  188233.28  188241.77  132855.89       0.     95098.125 101292.125\r\n  121157.65       0.         0.    113823.55  111694.23  111779.91\r\n       0.    141794.56       0.    122496.66   93049.22   99661.66\r\n  123181.44  145282.7   158796.56  155006.27       0.    177518.39\r\n  199331.9   199326.8   196170.06       0.         0.    188281.98\r\n  137700.4   132845.42  111051.555 130080.83  128365.89  143903.88\r\n  123481.02  101396.83  117664.79  112747.21  128726.805 118659.72\r\n       0.         0.     94017.59       0.    111106.71  128703.734\r\n       0.         0.    159493.67  177484.92  199297.69  199319.84\r\n  189261.69  188233.02  188230.73  188207.28  146640.47       0.\r\n  102352.13       0.         0.         0.         0.         0.\r\n  122128.44       0.         0.    126608.17  134312.72       0.\r\n   88990.49       0.         0.    115554.06  143876.56  157792.31\r\n  166095.27       0.    199305.6   199321.42  188231.62  188229.97\r\n  185115.3   179594.12  133575.97  116597.43   91000.64  117601.586\r\n       0.    120066.92  102458.055 111036.39  118728.99  124910.44\r\n  122199.02  107257.555 117640.99   96140.84       0.     88560.375\r\n       0.    121800.93  154977.12  166406.3   172991.95  188579.89\r\n  195167.72  199291.38       0.    185075.92       0.    174015.48\r\n       0.    112057.375      0.         0.         0.         0.\r\n       0.     92730.22  106510.62       0.    119710.516      0.\r\n  122145.17  121087.07       0.    106523.766      0.    116679.51\r\n  155370.14  166059.9        0.    184054.98       0.         0.\r\n  194086.02  178170.9   177151.56  163949.38       0.         0.\r\n   79940.23  106829.766      0.    108942.445      0.     94069.695\r\n   97273.63       0.    110720.35  110074.805      0.         0.\r\n  101049.61       0.         0.    136707.17  155359.36       0.\r\n  177152.95  177485.73  192764.16  199298.95  199330.53  177155.78\r\n       0.    156036.77  134560.81       0.     83391.04       0.\r\n       0.    101715.32       0.         0.     89650.375 111056.54\r\n  114484.59  119046.85  121110.24  131135.8   102719.766 106893.805\r\n  130792.61       0.         0.    161915.95  188256.89  188248.83\r\n  199295.78  199316.97  199290.12  177846.8        0.    155011.12\r\n  133207.88  132873.95  106923.89  121442.3        0.         0.\r\n  127696.24       0.     98617.73  107628.79       0.    111076.36\r\n  122151.36  118343.68       0.         0.    119007.69       0.\r\n  151541.23  159865.77  188194.73  188205.42       0.    199295.36\r\n  199276.1   188914.53  177163.3   155026.53  132892.56       0.\r\n       0.    110665.51       0.         0.    121798.516 115246.49\r\n       0.    110733.61  116568.36       0.    119391.94  111033.2\r\n   95464.4    94086.45  116641.3   143891.66  144282.92  170555.77\r\n  188201.12  192743.14  199276.38  199279.12  199274.8   199303.8\r\n  188551.16  166768.1   143942.05  126618.04   86489.24       0.\r\n       0.    106557.4   115288.    116584.61       0.         0.\r\n  139817.75  144969.05       0.    121783.12   99998.91  103836.14\r\n  127651.69       0.    157489.31  181687.67  192741.05  199293.9\r\n  199278.8   199320.23  199324.1   199279.97       0.         0.\r\n  122143.69   98675.27   86790.7   102431.4   100333.49   93424.05\r\n       0.    114570.055 143202.4        0.    138754.5   144661.77\r\n       0.    134228.92       0.         0.    143910.22       0.\r\n  177145.28  192744.34  199300.58       0.    199296.11  199309.8\r\n  199280.16  199333.6        0.         0.         0.    122487.71\r\n  104800.29  105194.4        0.         0.    132829.69  144980.12\r\n  172970.45       0.    177155.58  174024.9   155692.92  143930.77\r\n  143223.83  147744.58       0.    181694.44  192733.56       0.\r\n       0.    199292.4        0.    199284.64       0.    199308.11\r\n  188904.86  177151.52       0.    155311.94  149808.52  139069.5\r\n       0.    143996.98       0.         0.    155029.1   149805.77\r\n       0.    157768.78       0.    170618.42  166424.67  177121.16\r\n  177169.7   192691.36  199284.88  199332.94  199325.03  199283.77\r\n  199290.02       0.    199297.08  199276.08  199280.7   199260.83\r\n  183638.55       0.    159523.86  165439.27  160878.25  159532.8\r\n       0.    166127.88  166065.23  166092.         0.    155047.64\r\n  155034.47  157821.42       0.    181733.8   192740.12  199314.39\r\n  199290.89  199343.94  199293.12       0.    199230.34  199275.95\r\n  199292.58  199295.38  199331.81  199263.84  199310.98  199292.9\r\n  199314.97  199310.86  188835.44  177176.9   171974.3   166116.88\r\n       0.    166077.66       0.         0.    166060.02  170609.36\r\n  177801.81  199309.22  199271.34  199296.33  199299.78       0.\r\n  199285.78  199280.83  199302.1        0.    199310.25  199299.77\r\n  199330.94  199344.62       0.    199295.17  199275.64  199313.84\r\n  199253.67  199300.25  199304.55  199288.64  199301.17  188884.1\r\n  177121.34  177153.11       0.    177132.86       0.    199283.19\r\n  199256.03       0.    199317.48  199289.95  199270.36  199283.28\r\n  199297.53       0.         0.    199296.03  199302.28  199358.78\r\n  199319.67  199310.56  199309.67  199271.89  199297.53  199305.5\r\n  199301.12       0.    199309.16  199363.48  199308.92  199300.34\r\n  199272.8        0.    199269.58  199265.88  199278.77  199324.14\r\n       0.    199297.64  199331.98  199325.75       0.    199324.12\r\n  199294.81  199289.08  199270.95  199322.05  199295.14       0.\r\n  199300.19  199258.08  199314.14  199310.08  199315.92       0.\r\n  199299.31  199298.56  199375.52  199290.88  199288.38  199311.53\r\n  199289.39  199322.83  199302.05  199373.31  199284.28  199314.86\r\n  199288.2   199317.53  199305.3   199313.55 ]]\r\n```\r\nNotice how the accuracy is really low.  The network is also outputting numbers waaaaaay above 255. Even when I switch the labels and use a sigmoid, it deosnt&#39; work.   \r\n\r\n\r\n\r\n\r\nPlease note that I have tried playing around with the loss and optimizer.  These combinations were the ones that I could get the most out of, not that they actually produced something worthwhile.  ","title":"Is there a way to reverse the MNIST?","body":"<p>I have recently been looking into AI and the MNIST detest.  I have decided to create 18 different images in microsoft paint.  These images are 28x28, and are named accordingly into the code below.  I wanted to see if I could get my network to overfit on a certain set of images in hopes that I can prompt it with the label and have it return the image.</p>\n<p>I would give it [[7]], and have it return a 28x28 array of numbers from 1 - 255 denoting the color of the pixel.  The only problem is that the network basically doesn't learn.  I have also tried putting it in the normal way.  I have given it the picture, just like the mnist, and had it return the data of the label.  It couldn't even to this.  I have the data scaled from 0 - 1 in this network.  If anyone can give any imput, that would be great.</p>\n<pre><code>import tensorflow as tf\nimport numpy as np\nimport cv2\nimport matplotlib as plt\nimport os\nfrom PIL import Image \n\nX = np.array([[0.01],[0.02],[0.03],[0.04],[0.05],[0.06],[0.07],[0.08],[0.9],[0.10],[0.11],[0.12],[0.13],[0.14],[0.23],[0.57],[0.64],[0.01]])\n#X = np.reshape(X, (-1, 1+18 - 1))\nprint(np.shape(X))\nY = np.array([[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/one.png&quot;)[:,:,0]], [cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Two.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Three.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Four.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Five.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Six.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Seven.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eight.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Nine.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Ten.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eleven.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Twelve.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Thirteen.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Fourteen.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/23.png&quot;)[:,:,0]],[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/57.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/64.png&quot;)[:,:,0]],\n[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/one.png&quot;)[:,:,0]]])\nY = np.reshape(Y, (18, 28, 28))\nY = np.reshape(Y, (18, 784))\nprint(Y)\nprint(np.shape(Y))\n#Y = np.invert(np.array([Y]))\n# = np.reshape(Y, (18, 784))\nprint(Y[1])\nImage.fromarray(np.reshape(Y[1], (28, 28))).show()\nmodel = tf.keras.Sequential()\n#model.add(tf.keras.layers.Flatten(units = (28, 28)))\nmodel.add(tf.keras.layers.Dense(units = 1))\nmodel.add(tf.keras.layers.Dense(units = 1280, activation = 'sigmoid'))\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 2560, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 7840, activation = 'relu'))\nmodel.add(tf.keras.layers.Dense(units = 784, activation = 'relu'))\nmodel.compile(optimizer = 'adam', loss = 'categorical_crossentropy', metrics = ['accuracy'])\nmodel.fit(X, Y, epochs = 1000)\nimg = [[cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Three.png&quot;)[:,:,0]]]  \nprint(np.shape(img))\nimg = np.reshape(img, (1, 784))\n#img = np.reshape(img, (18, 28, 28))\n#img = np.reshape(img, (18, 784))\n#im = np.reshape(im, (28, 28))\n#img.save('my.png')\n#print(model.predict([[img]]))\nprint(model.predict([[0.09]]))\n\n#img.show()\n#model.predict(cv2.imread(&quot;C:/Users/17324/Downloads/aiFlow/Eight.png&quot;))\n</code></pre>\n<p>Here is what the output looks like.</p>\n<pre><code>Epoch 999/1000\n1/1 [==============================] - 0s 262ms/step - loss: 1399771.7500 - accuracy: 0.0000e+00\nEpoch 1000/1000\n1/1 [==============================] - 0s 256ms/step - loss: 1399771.7500 - accuracy: 0.0000e+00\n(1, 1, 28, 28)\n1/1 [==============================] - 0s 326ms/step\n[[199282.06  199288.88  199315.81  199300.83       0.    199299.22\n  199265.17  199350.97  199292.02  199304.56  199288.55  199294.83\n  199289.64  199299.23  199297.22       0.    199309.2   199306.39\n  199298.88  199364.98  199311.77  199319.39  199301.73  199300.73\n       0.    199309.02       0.         0.    199326.27  199319.03\n  199299.25  199312.         0.    199290.66  199312.22       0.\n       0.    199294.34  199302.16  199316.95  199396.31  199282.86\n       0.    199297.58  199278.92  199348.81  199289.9   199282.81\n       0.    199356.6        0.    199288.1   199292.84  199300.83\n  199301.39  199299.83       0.    199278.77  199318.38  199301.17\n  199326.14  199281.9        0.    199307.53       0.         0.\n  199331.94  199295.22  199295.66  199253.81       0.    199306.03\n  199320.08  199302.05  199301.53  199274.25       0.    199289.84\n  199304.66  199311.42  199294.4   199280.39       0.    199295.4\n  199288.52  199286.2        0.         0.    190980.31  195136.56\n  199328.12  199294.19  196189.23  189574.28  185125.86  178575.97\n  177170.53  177145.08       0.    177149.14  179951.61  190983.16\n       0.    199294.06  199298.94  199303.94  199271.25  199295.3\n  199308.17  199301.11  199301.34  199317.2   199316.45  199291.19\n  199312.8   189280.36       0.    152979.77  153675.66  159425.44\n  147432.53  143942.23       0.         0.    127356.23  125194.97\n  128731.125 143976.19  164658.25       0.    185449.77       0.\n  191019.52  195172.84  199345.67  199319.1   199328.34  199310.11\n  199326.72  199298.78  199268.34  199284.75  199248.98  188257.53\n  154988.52  110339.97  108355.984 110099.92  132865.7   123508.63\n       0.     87205.01   96845.234  91384.75  107316.375      0.\n       0.    154964.05  130471.39  134176.8   161948.17  166444.45\n  174034.58  170300.36  181345.98  195137.61  199316.45  199283.16\n  199313.52  199293.86  199283.97  188174.39       0.     87873.31\n   89591.49   95854.234 119326.17  101727.664 101038.61   93777.21\n       0.         0.    110745.26  119310.08  105236.75       0.\n  102418.36       0.    151198.75       0.    167122.44  166133.92\n  166776.1   184403.25       0.         0.    199305.39  199359.05\n       0.    178494.16       0.         0.     75068.34       0.\n       0.    110044.23       0.    106530.07   89276.71       0.\n  107541.33  127003.96  107611.13   77874.125  80225.92   80943.51\n  138736.69       0.    166142.69  166099.33  166120.39  177534.36\n  199300.33  199299.16  199271.84  199319.77  189268.98  177449.89\n       0.    111370.75   58839.445  83024.27  104164.52  129708.21\n       0.         0.    101348.93       0.    107920.38       0.\n       0.         0.     77496.53       0.    136696.2   184012.34\n       0.    166099.38       0.         0.    199322.16  199275.78\n  199289.88       0.         0.         0.         0.    121811.7\n   72026.87       0.         0.         0.    135331.5        0.\n       0.    118669.38  121786.58       0.         0.     85833.74\n   75445.95   99653.39       0.    166042.48       0.         0.\n       0.    177132.1   199294.84  199243.56       0.    189256.23\n  188233.28  188241.77  132855.89       0.     95098.125 101292.125\n  121157.65       0.         0.    113823.55  111694.23  111779.91\n       0.    141794.56       0.    122496.66   93049.22   99661.66\n  123181.44  145282.7   158796.56  155006.27       0.    177518.39\n  199331.9   199326.8   196170.06       0.         0.    188281.98\n  137700.4   132845.42  111051.555 130080.83  128365.89  143903.88\n  123481.02  101396.83  117664.79  112747.21  128726.805 118659.72\n       0.         0.     94017.59       0.    111106.71  128703.734\n       0.         0.    159493.67  177484.92  199297.69  199319.84\n  189261.69  188233.02  188230.73  188207.28  146640.47       0.\n  102352.13       0.         0.         0.         0.         0.\n  122128.44       0.         0.    126608.17  134312.72       0.\n   88990.49       0.         0.    115554.06  143876.56  157792.31\n  166095.27       0.    199305.6   199321.42  188231.62  188229.97\n  185115.3   179594.12  133575.97  116597.43   91000.64  117601.586\n       0.    120066.92  102458.055 111036.39  118728.99  124910.44\n  122199.02  107257.555 117640.99   96140.84       0.     88560.375\n       0.    121800.93  154977.12  166406.3   172991.95  188579.89\n  195167.72  199291.38       0.    185075.92       0.    174015.48\n       0.    112057.375      0.         0.         0.         0.\n       0.     92730.22  106510.62       0.    119710.516      0.\n  122145.17  121087.07       0.    106523.766      0.    116679.51\n  155370.14  166059.9        0.    184054.98       0.         0.\n  194086.02  178170.9   177151.56  163949.38       0.         0.\n   79940.23  106829.766      0.    108942.445      0.     94069.695\n   97273.63       0.    110720.35  110074.805      0.         0.\n  101049.61       0.         0.    136707.17  155359.36       0.\n  177152.95  177485.73  192764.16  199298.95  199330.53  177155.78\n       0.    156036.77  134560.81       0.     83391.04       0.\n       0.    101715.32       0.         0.     89650.375 111056.54\n  114484.59  119046.85  121110.24  131135.8   102719.766 106893.805\n  130792.61       0.         0.    161915.95  188256.89  188248.83\n  199295.78  199316.97  199290.12  177846.8        0.    155011.12\n  133207.88  132873.95  106923.89  121442.3        0.         0.\n  127696.24       0.     98617.73  107628.79       0.    111076.36\n  122151.36  118343.68       0.         0.    119007.69       0.\n  151541.23  159865.77  188194.73  188205.42       0.    199295.36\n  199276.1   188914.53  177163.3   155026.53  132892.56       0.\n       0.    110665.51       0.         0.    121798.516 115246.49\n       0.    110733.61  116568.36       0.    119391.94  111033.2\n   95464.4    94086.45  116641.3   143891.66  144282.92  170555.77\n  188201.12  192743.14  199276.38  199279.12  199274.8   199303.8\n  188551.16  166768.1   143942.05  126618.04   86489.24       0.\n       0.    106557.4   115288.    116584.61       0.         0.\n  139817.75  144969.05       0.    121783.12   99998.91  103836.14\n  127651.69       0.    157489.31  181687.67  192741.05  199293.9\n  199278.8   199320.23  199324.1   199279.97       0.         0.\n  122143.69   98675.27   86790.7   102431.4   100333.49   93424.05\n       0.    114570.055 143202.4        0.    138754.5   144661.77\n       0.    134228.92       0.         0.    143910.22       0.\n  177145.28  192744.34  199300.58       0.    199296.11  199309.8\n  199280.16  199333.6        0.         0.         0.    122487.71\n  104800.29  105194.4        0.         0.    132829.69  144980.12\n  172970.45       0.    177155.58  174024.9   155692.92  143930.77\n  143223.83  147744.58       0.    181694.44  192733.56       0.\n       0.    199292.4        0.    199284.64       0.    199308.11\n  188904.86  177151.52       0.    155311.94  149808.52  139069.5\n       0.    143996.98       0.         0.    155029.1   149805.77\n       0.    157768.78       0.    170618.42  166424.67  177121.16\n  177169.7   192691.36  199284.88  199332.94  199325.03  199283.77\n  199290.02       0.    199297.08  199276.08  199280.7   199260.83\n  183638.55       0.    159523.86  165439.27  160878.25  159532.8\n       0.    166127.88  166065.23  166092.         0.    155047.64\n  155034.47  157821.42       0.    181733.8   192740.12  199314.39\n  199290.89  199343.94  199293.12       0.    199230.34  199275.95\n  199292.58  199295.38  199331.81  199263.84  199310.98  199292.9\n  199314.97  199310.86  188835.44  177176.9   171974.3   166116.88\n       0.    166077.66       0.         0.    166060.02  170609.36\n  177801.81  199309.22  199271.34  199296.33  199299.78       0.\n  199285.78  199280.83  199302.1        0.    199310.25  199299.77\n  199330.94  199344.62       0.    199295.17  199275.64  199313.84\n  199253.67  199300.25  199304.55  199288.64  199301.17  188884.1\n  177121.34  177153.11       0.    177132.86       0.    199283.19\n  199256.03       0.    199317.48  199289.95  199270.36  199283.28\n  199297.53       0.         0.    199296.03  199302.28  199358.78\n  199319.67  199310.56  199309.67  199271.89  199297.53  199305.5\n  199301.12       0.    199309.16  199363.48  199308.92  199300.34\n  199272.8        0.    199269.58  199265.88  199278.77  199324.14\n       0.    199297.64  199331.98  199325.75       0.    199324.12\n  199294.81  199289.08  199270.95  199322.05  199295.14       0.\n  199300.19  199258.08  199314.14  199310.08  199315.92       0.\n  199299.31  199298.56  199375.52  199290.88  199288.38  199311.53\n  199289.39  199322.83  199302.05  199373.31  199284.28  199314.86\n  199288.2   199317.53  199305.3   199313.55 ]]\n</code></pre>\n<p>Notice how the accuracy is really low.  The network is also outputting numbers waaaaaay above 255. Even when I switch the labels and use a sigmoid, it deosnt' work.</p>\n<p>Please note that I have tried playing around with the loss and optimizer.  These combinations were the ones that I could get the most out of, not that they actually produced something worthwhile.</p>\n"},{"tags":["java","maven","java-module","jlink"],"comments":[{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1571132118,"post_id":58391061,"comment_id":103129518,"body_markdown":"try this `getClass().getPackage().getImplementationVersion()`","body":"try this <code>getClass().getPackage().getImplementationVersion()</code>"},{"owner":{"account_id":6401714,"reputation":5744,"user_id":4964136,"accept_rate":100,"display_name":"Vishwa Ratna"},"score":0,"creation_date":1571132250,"post_id":58391061,"comment_id":103129577,"body_markdown":"have you looked into this thread: https://stackoverflow.com/questions/3697449/retrieve-version-from-maven-pom-xml-in-code/41791885","body":"have you looked into this thread: <a href=\"https://stackoverflow.com/questions/3697449/retrieve-version-from-maven-pom-xml-in-code/41791885\" title=\"retrieve version from maven pom xml in code\">stackoverflow.com/questions/3697449/&hellip;</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1674513853,"post_id":58391061,"comment_id":132726540,"body_markdown":"You could add the version when packaging the artifact with `jar --module-version=VERSION`. Not sure how to specify that with maven through.","body":"You could add the version when packaging the artifact with <code>jar --module-version=VERSION</code>. Not sure how to specify that with maven through."}],"answers":[{"tags":[],"owner":{"account_id":2190659,"reputation":2306,"user_id":1937795,"accept_rate":75,"display_name":"Itchy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597261299,"creation_date":1597261299,"answer_id":63383671,"question_id":58391061,"body_markdown":"In the end I did this using the filtering function of the [Maven Resources Plugin][1].\r\n\r\nFirst, enable filtering in the pom.xml:\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\nThen add a `src/main/resources/my-version.properties` file containig:\r\n\r\n    my.version=${project.version}\r\n\r\nSo you can use the following code in Java:\r\n\r\n    Properties myProperties = new Properties();\r\n    try {\r\n        myProperties.load(getClass().getResourceAsStream(&quot;/my-version.properties&quot;));\r\n    } catch (IOException e) {\r\n        throw new IllegalStateException(e);\r\n    }\r\n    String theVersion = Objects.requireNonNull((String) myProperties.get(&quot;my.version&quot;));\r\n\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html","title":"Get (maven) artifact version at runtime of Java 9+ modular application","body":"<p>In the end I did this using the filtering function of the <a href=\"https://maven.apache.org/plugins/maven-resources-plugin/examples/filter.html\" rel=\"nofollow noreferrer\">Maven Resources Plugin</a>.</p>\n<p>First, enable filtering in the pom.xml:</p>\n<pre><code>&lt;build&gt;\n    &lt;resources&gt;\n        &lt;resource&gt;\n            &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;/resource&gt;\n    &lt;/resources&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Then add a <code>src/main/resources/my-version.properties</code> file containig:</p>\n<pre><code>my.version=${project.version}\n</code></pre>\n<p>So you can use the following code in Java:</p>\n<pre><code>Properties myProperties = new Properties();\ntry {\n    myProperties.load(getClass().getResourceAsStream(&quot;/my-version.properties&quot;));\n} catch (IOException e) {\n    throw new IllegalStateException(e);\n}\nString theVersion = Objects.requireNonNull((String) myProperties.get(&quot;my.version&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18165126,"reputation":278,"user_id":13215866,"display_name":"Sebastian Westemeyer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674510900,"creation_date":1674510900,"answer_id":75215443,"question_id":58391061,"body_markdown":"I had a similar problem in my last job. I needed to get the version for modules/jars that are not a direct dependency of the application, as well as the module&#39;s version itself. The classpath is assembled from multiple modules when the application starts, the main application module has no knowledge of how many jars are added later.\r\n\r\nThat&#39;s why I came up with a different solution, which may be a little more elegant than having to read XML or properties from jar files.\r\n\r\n# The idea\r\n\r\n1. use a Java service loader approach to be able to add as many components/artifacts later, which can contribute their own versions at runtime. Create a very lightweight library with just a few lines of code to read, find, filter and sort all of the artifact versions on the classpath.\r\n2. Create a maven source code generator plugin that generates the service implementation for each of the modules at compile time, package a very simple service in each of the jars.\r\n\r\n# The solution\r\nPart one of the solution is the `artifact-version-service` library, which can be found on [github](https://github.com/swesteme/artifact-version-service) and [MavenCentral](https://search.maven.org/artifact/de.westemeyer/artifact-version-service) now. It covers the service definition and a few ways to get the artifact versions at runtime.\r\n\r\nPart two is the `artifact-version-maven-plugin`, which can also be found on [github](https://github.com/swesteme/artifact-version-maven-plugin) and [MavenCentral](https://search.maven.org/artifact/de.westemeyer/artifact-version-maven-plugin). It is used to have a hassle-free generator implementing the service definition for each of the artifacts.\r\n\r\n# Examples\r\n### Fetching all modules with coordinates\r\nNo more reading jar manifests or property files, just a simple method call:\r\n\r\n```java\r\n// iterate list of artifact dependencies\r\nfor (Artifact artifact : ArtifactVersionCollector.collectArtifacts()) {\r\n    // print simple artifact string example\r\n    System.out.println(&quot;artifact = &quot; + artifact);\r\n}\r\n```\r\nA sorted set of artifacts is returned. To modify the sorting order, provide a custom comparator:\r\n```java\r\nnew ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).collect();\r\n```\r\nThis way the list of artifacts is returned sorted by version numbers.\r\n\r\n### Find a specific artifact\r\n```java\r\nArtifactVersionCollector.findArtifact(&quot;de.westemeyer&quot;, &quot;artifact-version-service&quot;);\r\n```\r\nFetches the version details for a specific artifact.\r\n\r\n### Find artifacts with matching groupId(s)\r\nFind all artifacts with groupId `de.westemeyer` (exact match):\r\n```java\r\nArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, true);\r\n```\r\n\r\nFind all artifacts where groupId *starts with* `de.westemeyer`:\r\n```java\r\nArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, false);\r\n```\r\n\r\nSort result by version number:\r\n```java\r\nnew ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).artifactsByGroupId(&quot;de.&quot;, false);\r\n```\r\n\r\n### Implement custom actions on list of artifacts\r\nBy supplying a lambda, the very first example could be implemented like this:\r\n```java\r\nArtifactVersionCollector.iterateArtifacts(a -&gt; {\r\n    System.out.println(a);\r\n    return false;\r\n});\r\n```\r\n\r\n# Installation\r\nAdd these two tags to all `pom.xml` files, or maybe to a company master pom somewhere:\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;artifact-version-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.1&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;generate-service&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\r\n    &lt;artifactId&gt;artifact-version-service&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1.1&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\n# Feedback\r\nIt would be great if you could give the solution a try. Getting feedback about whether you think the solution fits your needs would be even better. So please don&#39;t hesitate to add a new issue on any of the github projects if you have any suggestions, feature requests, problems, whatsoever.\r\n\r\n# Licence\r\nAll of the source code is open source, free to use even for commercial products (MIT licence).","title":"Get (maven) artifact version at runtime of Java 9+ modular application","body":"<p>I had a similar problem in my last job. I needed to get the version for modules/jars that are not a direct dependency of the application, as well as the module's version itself. The classpath is assembled from multiple modules when the application starts, the main application module has no knowledge of how many jars are added later.</p>\n<p>That's why I came up with a different solution, which may be a little more elegant than having to read XML or properties from jar files.</p>\n<h1>The idea</h1>\n<ol>\n<li>use a Java service loader approach to be able to add as many components/artifacts later, which can contribute their own versions at runtime. Create a very lightweight library with just a few lines of code to read, find, filter and sort all of the artifact versions on the classpath.</li>\n<li>Create a maven source code generator plugin that generates the service implementation for each of the modules at compile time, package a very simple service in each of the jars.</li>\n</ol>\n<h1>The solution</h1>\n<p>Part one of the solution is the <code>artifact-version-service</code> library, which can be found on <a href=\"https://github.com/swesteme/artifact-version-service\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://search.maven.org/artifact/de.westemeyer/artifact-version-service\" rel=\"nofollow noreferrer\">MavenCentral</a> now. It covers the service definition and a few ways to get the artifact versions at runtime.</p>\n<p>Part two is the <code>artifact-version-maven-plugin</code>, which can also be found on <a href=\"https://github.com/swesteme/artifact-version-maven-plugin\" rel=\"nofollow noreferrer\">github</a> and <a href=\"https://search.maven.org/artifact/de.westemeyer/artifact-version-maven-plugin\" rel=\"nofollow noreferrer\">MavenCentral</a>. It is used to have a hassle-free generator implementing the service definition for each of the artifacts.</p>\n<h1>Examples</h1>\n<h3>Fetching all modules with coordinates</h3>\n<p>No more reading jar manifests or property files, just a simple method call:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// iterate list of artifact dependencies\nfor (Artifact artifact : ArtifactVersionCollector.collectArtifacts()) {\n    // print simple artifact string example\n    System.out.println(&quot;artifact = &quot; + artifact);\n}\n</code></pre>\n<p>A sorted set of artifacts is returned. To modify the sorting order, provide a custom comparator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).collect();\n</code></pre>\n<p>This way the list of artifacts is returned sorted by version numbers.</p>\n<h3>Find a specific artifact</h3>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifact(&quot;de.westemeyer&quot;, &quot;artifact-version-service&quot;);\n</code></pre>\n<p>Fetches the version details for a specific artifact.</p>\n<h3>Find artifacts with matching groupId(s)</h3>\n<p>Find all artifacts with groupId <code>de.westemeyer</code> (exact match):</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, true);\n</code></pre>\n<p>Find all artifacts where groupId <em>starts with</em> <code>de.westemeyer</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.findArtifactsByGroupId(&quot;de.westemeyer&quot;, false);\n</code></pre>\n<p>Sort result by version number:</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ArtifactVersionCollector(Comparator.comparing(Artifact::getVersion)).artifactsByGroupId(&quot;de.&quot;, false);\n</code></pre>\n<h3>Implement custom actions on list of artifacts</h3>\n<p>By supplying a lambda, the very first example could be implemented like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArtifactVersionCollector.iterateArtifacts(a -&gt; {\n    System.out.println(a);\n    return false;\n});\n</code></pre>\n<h1>Installation</h1>\n<p>Add these two tags to all <code>pom.xml</code> files, or maybe to a company master pom somewhere:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\n      &lt;artifactId&gt;artifact-version-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.1.1&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;generate-service&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;de.westemeyer&lt;/groupId&gt;\n    &lt;artifactId&gt;artifact-version-service&lt;/artifactId&gt;\n    &lt;version&gt;1.1.1&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<h1>Feedback</h1>\n<p>It would be great if you could give the solution a try. Getting feedback about whether you think the solution fits your needs would be even better. So please don't hesitate to add a new issue on any of the github projects if you have any suggestions, feature requests, problems, whatsoever.</p>\n<h1>Licence</h1>\n<p>All of the source code is open source, free to use even for commercial products (MIT licence).</p>\n"}],"owner":{"account_id":2190659,"reputation":2306,"user_id":1937795,"accept_rate":75,"display_name":"Itchy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":738,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674510900,"creation_date":1571130501,"question_id":58391061,"body_markdown":"I have a Java 11 application which I develop using Maven and in the pom.xml I have a version declared.\r\n```xml\r\n&lt;groupId&gt;my.group.id&lt;/groupId&gt;\r\n&lt;artifactId&gt;artifact&lt;/artifactId&gt;\r\n&lt;version&gt;0.1.2.3&lt;/version&gt;\r\n```\r\nI want to get this version at runtime e.g. using `getClass().getPackage().getImplementationVersion()` as it&#39;s described in [this question][1]. This works as long as I don&#39;t package my application as a modular runtime image using Jlink. Then I only get `null` returned from above call.\r\n\r\nI package my application using:\r\n```shell\r\njlink --output target/artifact-image --module-path target/dependencies --launcher MyApp=my.module.name/my.main.Class --add-modules my.module.name\r\n```\r\nJlink has actually a parameter `--version` but this returns the Jlink version instead setting it for the generated artifact.\r\n\r\n**So, how can I get the version (of my Maven project) at runtime?**\r\n\r\n - How to define it in the modular application?\r\n - How to get it into the modular application?\r\n - How to read it in the modular application?\r\n\r\nI know I could define it in a resource file and simply read it from there, however I prefer to have it only in the `pom.xml` (= to have a single source of truth).\r\n\r\n  [1]: https://stackoverflow.com/questions/2712970/get-maven-artifact-version-at-runtime","title":"Get (maven) artifact version at runtime of Java 9+ modular application","body":"<p>I have a Java 11 application which I develop using Maven and in the pom.xml I have a version declared.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;groupId&gt;my.group.id&lt;/groupId&gt;\n&lt;artifactId&gt;artifact&lt;/artifactId&gt;\n&lt;version&gt;0.1.2.3&lt;/version&gt;\n</code></pre>\n\n<p>I want to get this version at runtime e.g. using <code>getClass().getPackage().getImplementationVersion()</code> as it's described in <a href=\"https://stackoverflow.com/questions/2712970/get-maven-artifact-version-at-runtime\">this question</a>. This works as long as I don't package my application as a modular runtime image using Jlink. Then I only get <code>null</code> returned from above call.</p>\n\n<p>I package my application using:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>jlink --output target/artifact-image --module-path target/dependencies --launcher MyApp=my.module.name/my.main.Class --add-modules my.module.name\n</code></pre>\n\n<p>Jlink has actually a parameter <code>--version</code> but this returns the Jlink version instead setting it for the generated artifact.</p>\n\n<p><strong>So, how can I get the version (of my Maven project) at runtime?</strong></p>\n\n<ul>\n<li>How to define it in the modular application?</li>\n<li>How to get it into the modular application?</li>\n<li>How to read it in the modular application?</li>\n</ul>\n\n<p>I know I could define it in a resource file and simply read it from there, however I prefer to have it only in the <code>pom.xml</code> (= to have a single source of truth).</p>\n"},{"tags":["java","boolean","boolean-logic","boolean-expression"],"comments":[{"owner":{"account_id":26879624,"reputation":386,"user_id":20460294,"display_name":"Anon"},"score":0,"creation_date":1674508336,"post_id":75215014,"comment_id":132725237,"body_markdown":"&quot;We initialize it with true and set the value to false if a tire is outside the valid range.&quot; this literally tells you what to do just create a boolean variable and set it to true and on each if you have if the tyrepressure is critical just change the variable to false and its done","body":"&quot;We initialize it with true and set the value to false if a tire is outside the valid range.&quot; this literally tells you what to do just create a boolean variable and set it to true and on each if you have if the tyrepressure is critical just change the variable to false and its done"},{"owner":{"account_id":27603978,"reputation":1,"user_id":21068573,"display_name":"Tomas Bernatonis"},"score":0,"creation_date":1674508611,"post_id":75215014,"comment_id":132725308,"body_markdown":"@Anon could you show me that in a code sample because I have done that and it still don&#39;t work, maybe the order where I placed my code is wrong.","body":"@Anon could you show me that in a code sample because I have done that and it still don&#39;t work, maybe the order where I placed my code is wrong."}],"answers":[{"comments":[{"owner":{"account_id":27603978,"reputation":1,"user_id":21068573,"display_name":"Tomas Bernatonis"},"score":0,"creation_date":1674510820,"post_id":75215208,"comment_id":132725867,"body_markdown":"Thank you very much! But I have still a question. Where do I see if the boolean is true or false. Or does the boolean set it automatically to true? Don&#39;t I have to do at the if statement: if (pressureOkRightFront == true ) ?","body":"Thank you very much! But I have still a question. Where do I see if the boolean is true or false. Or does the boolean set it automatically to true? Don&#39;t I have to do at the if statement: if (pressureOkRightFront == true ) ?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1674547594,"post_id":75215208,"comment_id":132731478,"body_markdown":"No, `if (pressureOkRightFront == true )` would actually be a bad coding style (but would ocmpile). `if` only accepts expressions that evaluate to a `boolean`, so you could never compile `if (3) {...` You can see the value of a boolean if you use a debugger, or print it - or did you mean something else? You can find an overview of primitive datatypes like `boolean` in this (old but still valid) tutorial: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html","body":"No, <code>if (pressureOkRightFront == true )</code> would actually be a bad coding style (but would ocmpile). <code>if</code> only accepts expressions that evaluate to a <code>boolean</code>, so you could never compile <code>if (3) {...</code> You can see the value of a boolean if you use a debugger, or print it - or did you mean something else? You can find an overview of primitive datatypes like <code>boolean</code> in this (old but still valid) tutorial: <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/&hellip;</a>"}],"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674509096,"creation_date":1674509096,"answer_id":75215208,"question_id":75215014,"body_markdown":"You can assign the expression inside the condition in the `if` statement - and then reuse that in the if, like so:\r\n\r\n``` lang-java\r\nboolean pressureOkRightFront = (rightFrontTyre &gt;= 35 &amp;&amp; rightFrontTyre &lt;= 45);\r\n\r\nif (pressureOkRightFront) {\r\n    System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\r\n} else {\r\n    System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre\r\n            + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\r\n}\r\n\r\nboolean pressureOkLeftFront = (leftFrontTyre &gt;= 35 &amp;&amp; leftFrontTyre &lt;= 45);\r\n\r\n// continue with the code for the other three tyres - remember to use a new boolean variable for each.\r\n\r\n// then do this for the final check:\r\n\r\nif (!(pressureOkRightFront &amp;&amp; pressureOkLeftFront &amp;&amp; \r\n        pressureOkRightBack &amp;&amp; pressureOkLeftBack)) {\r\n    System.out.println(&quot;You have to check your tyrepressure!&quot;);\r\n}\r\n```\r\n\r\nPlease note that in your original code you checked the opposite conditions for the last output - if any of the pressures is out of range. I used boolean logic to get the same final result from the single prechecked results for the individual tyres:\r\n\r\nIf NOT all of the four pressures are OK, I print the warning. The NOT is the exclamation mark `!` in that condition, and the parentheses are important because otherwise the `!` would be evaluated only for the `pressureOkRightFront`.","title":"I have trouble with changing the process of that code in Java","body":"<p>You can assign the expression inside the condition in the <code>if</code> statement - and then reuse that in the if, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean pressureOkRightFront = (rightFrontTyre &gt;= 35 &amp;&amp; rightFrontTyre &lt;= 45);\n\nif (pressureOkRightFront) {\n    System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\n} else {\n    System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre\n            + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\n}\n\nboolean pressureOkLeftFront = (leftFrontTyre &gt;= 35 &amp;&amp; leftFrontTyre &lt;= 45);\n\n// continue with the code for the other three tyres - remember to use a new boolean variable for each.\n\n// then do this for the final check:\n\nif (!(pressureOkRightFront &amp;&amp; pressureOkLeftFront &amp;&amp; \n        pressureOkRightBack &amp;&amp; pressureOkLeftBack)) {\n    System.out.println(&quot;You have to check your tyrepressure!&quot;);\n}\n</code></pre>\n<p>Please note that in your original code you checked the opposite conditions for the last output - if any of the pressures is out of range. I used boolean logic to get the same final result from the single prechecked results for the individual tyres:</p>\n<p>If NOT all of the four pressures are OK, I print the warning. The NOT is the exclamation mark <code>!</code> in that condition, and the parentheses are important because otherwise the <code>!</code> would be evaluated only for the <code>pressureOkRightFront</code>.</p>\n"}],"owner":{"account_id":27603978,"reputation":1,"user_id":21068573,"display_name":"Tomas Bernatonis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1674511509,"accepted_answer_id":75215208,"answer_count":1,"score":-2,"last_activity_date":1674510667,"creation_date":1674507663,"question_id":75215014,"body_markdown":"I have trouble with changing my code. I want to do that with a boolean and I have no clue how to do that. It is just confusing me.\r\n\r\n**This is my task:**\r\n\r\nTyrepressure-test\r\n\r\nIt is to check whether the pressure of all tires is between 35 and 45. If a tire is outside this range, a warning message is issued immediately. After that, the program continues reading and processing the values.\r\n\r\nIf a warning message occurs, the program issues a final warning message at the end. We declare a Boolean variable pressureOK for this purpose.\r\n\r\nboolean pressureOK\r\n\r\nWe initialize it with true and set the value to false if a tire is outside the valid range.\r\n\r\nThey&#39;re even helping me in the task with the boolean thing but I&#39;m so clueless and confused so that I just don&#39;t know how to do that. To be honest I have tried literally everything. Before I ask for a solution I always try everything that is possible because if I would just ask for a solution without trying it, it would be useless.\r\n\r\n**my code:**\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Tyrepressure {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner scanner1 = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;Enter your tyrepressure of your right-front-tyre in pounds per square inch: &quot;);\r\n        double rightFrontTyre = scanner1.nextDouble();\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        System.out.println(&quot;Enter your tyrepressure of your left-front-tyre in pounds per square inch: &quot;);\r\n        double leftFrontTyre = scanner1.nextDouble();\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        System.out.println(&quot;Enter your tyrepressure of your left-back-tyre in pounds per square inch: &quot;);\r\n        double rightBackTyre = scanner1.nextDouble();\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        System.out.println(&quot;Enter your tyrepressure of your right-back-tyre in pounds per square inch: &quot;);\r\n        double leftBackTyre = scanner1.nextDouble();\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        if (rightFrontTyre &gt;= 35 &amp;&amp; rightFrontTyre &lt;= 45) {\r\n            System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\r\n        } else {\r\n            System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre\r\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\r\n        }\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        if (leftFrontTyre &gt;= 35 &amp;&amp; leftFrontTyre &lt;= 45) {\r\n            System.out.println(&quot;left-front-tyre = &quot; + leftFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\r\n        } else {\r\n            System.out.println(&quot;left-front-tyre = &quot; + leftFrontTyre\r\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\r\n        }\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        if (rightBackTyre &gt;= 35 &amp;&amp; rightBackTyre &lt;= 45) {\r\n            System.out.println(&quot;right-back-tyre = &quot; + rightBackTyre + &quot; psi, your tyrepressure is okay!&quot;);\r\n        } else {\r\n            System.out.println(&quot;right-back-tyre = &quot; + rightBackTyre\r\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\r\n        }\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        if (leftBackTyre &gt;= 35 &amp;&amp; leftBackTyre &lt;= 45) {\r\n            System.out.println(&quot;left-back-tyre = &quot; + leftBackTyre + &quot; psi, your tyrepressure is okay!&quot;);\r\n        } else {\r\n            System.out.println(&quot;left-back-tyre = &quot; + leftBackTyre\r\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\r\n        }\r\n\r\n        System.out.println(&quot; &quot;); // For space in between the user input\r\n\r\n        if (rightFrontTyre &lt; 35 || rightFrontTyre &gt; 45 || leftFrontTyre &lt; 35 || leftFrontTyre &gt; 45\r\n                || rightBackTyre &lt; 35 || rightBackTyre &gt; 45 || leftBackTyre &lt; 35 || leftBackTyre &gt; 45) {\r\n            System.out.println(&quot;You have to check your tyrepressure!&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n**output:**\r\n\r\n```\r\nEnter your tyrepressure of your right-front-tyre in pounds per square inch: \r\n40\r\n \r\nEnter your tyrepressure of your left-front-tyre in pounds per square inch: \r\n32\r\n \r\nEnter your tyrepressure of your left-back-tyre in pounds per square inch: \r\n11\r\n \r\nEnter your tyrepressure of your right-back-tyre in pounds per square inch: \r\n40\r\n \r\nright-front-tyre = 40.0 psi, your tyrepressure is okay!\r\n \r\nleft-front-tyre = 32.0 psi, your tyrepressure is critical, it is out of the allowed range!\r\n \r\nright-back-tyre = 11.0 psi, your tyrepressure is critical, it is out of the allowed range!\r\n \r\nleft-back-tyre = 40.0 psi, your tyrepressure is okay!\r\n \r\nYou have to check your tyrepressure!\r\n```\r\n\r\nIt works fine but I have to do the last part with a boolean datatype and as I already said I just don&#39;t know how.....","title":"I have trouble with changing the process of that code in Java","body":"<p>I have trouble with changing my code. I want to do that with a boolean and I have no clue how to do that. It is just confusing me.</p>\n<p><strong>This is my task:</strong></p>\n<p>Tyrepressure-test</p>\n<p>It is to check whether the pressure of all tires is between 35 and 45. If a tire is outside this range, a warning message is issued immediately. After that, the program continues reading and processing the values.</p>\n<p>If a warning message occurs, the program issues a final warning message at the end. We declare a Boolean variable pressureOK for this purpose.</p>\n<p>boolean pressureOK</p>\n<p>We initialize it with true and set the value to false if a tire is outside the valid range.</p>\n<p>They're even helping me in the task with the boolean thing but I'm so clueless and confused so that I just don't know how to do that. To be honest I have tried literally everything. Before I ask for a solution I always try everything that is possible because if I would just ask for a solution without trying it, it would be useless.</p>\n<p><strong>my code:</strong></p>\n<pre><code>import java.util.Scanner;\n\npublic class Tyrepressure {\n\n    public static void main(String[] args) {\n\n        Scanner scanner1 = new Scanner(System.in);\n\n        System.out.println(&quot;Enter your tyrepressure of your right-front-tyre in pounds per square inch: &quot;);\n        double rightFrontTyre = scanner1.nextDouble();\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        System.out.println(&quot;Enter your tyrepressure of your left-front-tyre in pounds per square inch: &quot;);\n        double leftFrontTyre = scanner1.nextDouble();\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        System.out.println(&quot;Enter your tyrepressure of your left-back-tyre in pounds per square inch: &quot;);\n        double rightBackTyre = scanner1.nextDouble();\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        System.out.println(&quot;Enter your tyrepressure of your right-back-tyre in pounds per square inch: &quot;);\n        double leftBackTyre = scanner1.nextDouble();\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        if (rightFrontTyre &gt;= 35 &amp;&amp; rightFrontTyre &lt;= 45) {\n            System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\n        } else {\n            System.out.println(&quot;right-front-tyre = &quot; + rightFrontTyre\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\n        }\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        if (leftFrontTyre &gt;= 35 &amp;&amp; leftFrontTyre &lt;= 45) {\n            System.out.println(&quot;left-front-tyre = &quot; + leftFrontTyre + &quot; psi, your tyrepressure is okay!&quot;);\n        } else {\n            System.out.println(&quot;left-front-tyre = &quot; + leftFrontTyre\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\n        }\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        if (rightBackTyre &gt;= 35 &amp;&amp; rightBackTyre &lt;= 45) {\n            System.out.println(&quot;right-back-tyre = &quot; + rightBackTyre + &quot; psi, your tyrepressure is okay!&quot;);\n        } else {\n            System.out.println(&quot;right-back-tyre = &quot; + rightBackTyre\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\n        }\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        if (leftBackTyre &gt;= 35 &amp;&amp; leftBackTyre &lt;= 45) {\n            System.out.println(&quot;left-back-tyre = &quot; + leftBackTyre + &quot; psi, your tyrepressure is okay!&quot;);\n        } else {\n            System.out.println(&quot;left-back-tyre = &quot; + leftBackTyre\n                    + &quot; psi, your tyrepressure is critical, it is out of the allowed range!&quot;);\n        }\n\n        System.out.println(&quot; &quot;); // For space in between the user input\n\n        if (rightFrontTyre &lt; 35 || rightFrontTyre &gt; 45 || leftFrontTyre &lt; 35 || leftFrontTyre &gt; 45\n                || rightBackTyre &lt; 35 || rightBackTyre &gt; 45 || leftBackTyre &lt; 35 || leftBackTyre &gt; 45) {\n            System.out.println(&quot;You have to check your tyrepressure!&quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>output:</strong></p>\n<pre><code>Enter your tyrepressure of your right-front-tyre in pounds per square inch: \n40\n \nEnter your tyrepressure of your left-front-tyre in pounds per square inch: \n32\n \nEnter your tyrepressure of your left-back-tyre in pounds per square inch: \n11\n \nEnter your tyrepressure of your right-back-tyre in pounds per square inch: \n40\n \nright-front-tyre = 40.0 psi, your tyrepressure is okay!\n \nleft-front-tyre = 32.0 psi, your tyrepressure is critical, it is out of the allowed range!\n \nright-back-tyre = 11.0 psi, your tyrepressure is critical, it is out of the allowed range!\n \nleft-back-tyre = 40.0 psi, your tyrepressure is okay!\n \nYou have to check your tyrepressure!\n</code></pre>\n<p>It works fine but I have to do the last part with a boolean datatype and as I already said I just don't know how.....</p>\n"},{"tags":["java","json","docker","gradle","cloudant"],"comments":[{"owner":{"account_id":25389,"reputation":14608,"user_id":65230,"accept_rate":84,"display_name":"Ascalonian"},"score":1,"creation_date":1527162137,"post_id":50508450,"comment_id":88028835,"body_markdown":"Please share what you have tried so far","body":"Please share what you have tried so far"}],"answers":[{"comments":[{"owner":{"account_id":7103283,"reputation":137,"user_id":5433921,"accept_rate":40,"display_name":"taz_"},"score":1,"creation_date":1527171105,"post_id":50508917,"comment_id":88035332,"body_markdown":"that, worked for me, but we decided on another option, namely to copy the resource files into the container using COPY in the Dockerfile.","body":"that, worked for me, but we decided on another option, namely to copy the resource files into the container using COPY in the Dockerfile."},{"owner":{"account_id":6470470,"reputation":53,"user_id":5010793,"display_name":"Aishwarya Soni"},"score":0,"creation_date":1670313151,"post_id":50508917,"comment_id":131841276,"body_markdown":"Hi, Can you share how you accessed the files in the COPY command? Looking to do something similar.","body":"Hi, Can you share how you accessed the files in the COPY command? Looking to do something similar."}],"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1527165145,"creation_date":1527163355,"answer_id":50508917,"question_id":50508450,"body_markdown":"The API does not have an alternative to File, which is an operating system File.\r\nSo use a temporary file.\r\n\r\n    InputStream in = getClass().getResourceAsStream(\r\n            &quot;/design-documents/documents.json&quot;);\r\n    Path tempPath = Files.createTempFile(&quot;desdoc-&quot;, &quot;.json&quot;);\r\n    Files.copy(in, tempPath);\r\n    DesignDocument design = DesignDocumentManager.fromFile(tempPath.toFile());\r\n    Files.delete(tempPath);\r\n\r\nNote the leading `/` for Class.getResource(AsStream).","title":"How to access app resource files stored in &#39;src/main/resources/someFolder&#39; within a Docker container?","body":"<p>The API does not have an alternative to File, which is an operating system File.\nSo use a temporary file.</p>\n\n<pre><code>InputStream in = getClass().getResourceAsStream(\n        \"/design-documents/documents.json\");\nPath tempPath = Files.createTempFile(\"desdoc-\", \".json\");\nFiles.copy(in, tempPath);\nDesignDocument design = DesignDocumentManager.fromFile(tempPath.toFile());\nFiles.delete(tempPath);\n</code></pre>\n\n<p>Note the leading <code>/</code> for Class.getResource(AsStream).</p>\n"},{"tags":[],"owner":{"account_id":11510618,"reputation":31,"user_id":8435572,"display_name":"datruq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674510107,"creation_date":1674510107,"answer_id":75215338,"question_id":50508450,"body_markdown":"As @taz_ said, another way is to COPY the file from the resource in the Dockerfile\r\n\r\n    COPY src/main/resources/design-documents/documents.json /root/design-documents/documents.json\r\n\r\nand then get it directly from there\r\n\r\n    DesignDocument design = DesignDocumentManager.fromFile(&quot;root/design-documents/documents.json&quot;);\r\n\r\nIn my case, I needed it as a String so this is what I did\r\n\r\n    public String readJsonAsString(String filePath) throws Exception {\r\n        return new String(Files.readAllBytes(Paths.get(filePath)));\r\n    }\r\n\r\nThe filePath was this\r\n\r\n    private static final String DOCUMENTS_JSON = &quot;/root/design-documents/documents.json&quot;;","title":"How to access app resource files stored in &#39;src/main/resources/someFolder&#39; within a Docker container?","body":"<p>As @taz_ said, another way is to COPY the file from the resource in the Dockerfile</p>\n<pre><code>COPY src/main/resources/design-documents/documents.json /root/design-documents/documents.json\n</code></pre>\n<p>and then get it directly from there</p>\n<pre><code>DesignDocument design = DesignDocumentManager.fromFile(&quot;root/design-documents/documents.json&quot;);\n</code></pre>\n<p>In my case, I needed it as a String so this is what I did</p>\n<pre><code>public String readJsonAsString(String filePath) throws Exception {\n    return new String(Files.readAllBytes(Paths.get(filePath)));\n}\n</code></pre>\n<p>The filePath was this</p>\n<pre><code>private static final String DOCUMENTS_JSON = &quot;/root/design-documents/documents.json&quot;;\n</code></pre>\n"}],"owner":{"account_id":7103283,"reputation":137,"user_id":5433921,"accept_rate":40,"display_name":"taz_"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4888,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50508917,"answer_count":2,"score":3,"last_activity_date":1674510107,"creation_date":1527161951,"question_id":50508450,"body_markdown":"I am working on a gradle based service that should run in a docker container in a kubernetes cluster. Locally, I can access the resources, some json files used for CouchDb initialisation. Once I build and deploy the service in Docker, the files are no longer accessible and I get file not found exception and can&#39;t start the service. I can see that my folder is in the generated jar but I can&#39;t access the files. \r\nI am using it like follows:\r\n\r\n`DesignDocument design = DesignDocumentManager.fromFile(&quot;design-documents/documents.json&quot;);`\r\n\r\n which comes from the [IBM Cloudant Java Client API][1]. I have tried different versions from the path, i.e. with a leading slash or the absolute path from the project.\r\n\r\n\r\n  [1]: http://www.javadoc.io/doc/com.cloudant/cloudant-client/2.12.0","title":"How to access app resource files stored in &#39;src/main/resources/someFolder&#39; within a Docker container?","body":"<p>I am working on a gradle based service that should run in a docker container in a kubernetes cluster. Locally, I can access the resources, some json files used for CouchDb initialisation. Once I build and deploy the service in Docker, the files are no longer accessible and I get file not found exception and can't start the service. I can see that my folder is in the generated jar but I can't access the files. \nI am using it like follows:</p>\n\n<p><code>DesignDocument design = DesignDocumentManager.fromFile(\"design-documents/documents.json\");</code></p>\n\n<p>which comes from the <a href=\"http://www.javadoc.io/doc/com.cloudant/cloudant-client/2.12.0\" rel=\"nofollow noreferrer\">IBM Cloudant Java Client API</a>. I have tried different versions from the path, i.e. with a leading slash or the absolute path from the project.</p>\n"},{"tags":["java","generics","design-patterns"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1674515139,"post_id":75215315,"comment_id":132726792,"body_markdown":"Perhaps each element of the matrix is an `Element`, which wraps a `Number`.  At the time of an `Element` construction, the concrete `Number` type is known, so some implementation of a `MatrixOp` interface is injected, where the implementation knows how to do add/multiply on that `Number` type.","body":"Perhaps each element of the matrix is an <code>Element</code>, which wraps a <code>Number</code>.  At the time of an <code>Element</code> construction, the concrete <code>Number</code> type is known, so some implementation of a <code>MatrixOp</code> interface is injected, where the implementation knows how to do add/multiply on that <code>Number</code> type."}],"owner":{"account_id":27006383,"reputation":11,"user_id":20566780,"display_name":"Duo Zhang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1674529397,"answer_count":0,"score":1,"last_activity_date":1674510076,"creation_date":1674509952,"question_id":75215315,"body_markdown":"I am implementing a Matrix class from scratch with Java language and I am quite new to java. Right now I have an interface of Matrix like this:\r\n\r\n```\r\npublic interface Matrix &lt;T extends Number &amp; Comparable&lt;? super T&gt;,L extends List&lt;T&gt;,M extends Matrix&gt;{\r\n    // ... a bunch of methods ...\r\n    public M add(M matrix) throws MatrixException;\r\n    public M mul(M matrix) throws MatrixException;\r\n}\r\n```\r\nThe `MatrixException` here is an Exception defined by me and `List` here is also an List class implemented by myself. I also have a `DenseMatrix` class which extends interface `Matrix`:\r\n\r\n```\r\npublic class DenseMatrix&lt;T extends Number &amp; Comparable&lt;? super T&gt;, L extends List&lt;T&gt;&gt; implements Matrix&lt;T, L, DenseMatrix&lt;T, L&gt;&gt; {\r\n    // ... a bunch of methods ...\r\n    public DenseMatrix&lt;T, L&gt; add(DenseMatrix&lt;T, L&gt; matrix) throws DataStructureException {\r\n    // add two matrix element-wisely\r\n    }\r\n}\r\n```\r\nBut the fact I found is I can&#39;t just add two Number together and there&#39;s no overload of operator `+`.\r\n\r\nSo I have seen solutions like check if the class type of an element in `matrix` is an instanceof Integer or Double or Long or Float and I have also seen solutions like giving up on using generics but implement methods with respect to all types of Number. But from my perspective neither of these solutions are decent enough like what I can do in C++. \r\n\r\nThus my question is how can I resolve this issue decently? or maybe my design paradigm is completely wrong? If there&#39;s a better design, please tell me! Many thanks in advance!","title":"Java: How to add two generics of java.lang.Number in a function and design pattern of Matrix in Java?","body":"<p>I am implementing a Matrix class from scratch with Java language and I am quite new to java. Right now I have an interface of Matrix like this:</p>\n<pre><code>public interface Matrix &lt;T extends Number &amp; Comparable&lt;? super T&gt;,L extends List&lt;T&gt;,M extends Matrix&gt;{\n    // ... a bunch of methods ...\n    public M add(M matrix) throws MatrixException;\n    public M mul(M matrix) throws MatrixException;\n}\n</code></pre>\n<p>The <code>MatrixException</code> here is an Exception defined by me and <code>List</code> here is also an List class implemented by myself. I also have a <code>DenseMatrix</code> class which extends interface <code>Matrix</code>:</p>\n<pre><code>public class DenseMatrix&lt;T extends Number &amp; Comparable&lt;? super T&gt;, L extends List&lt;T&gt;&gt; implements Matrix&lt;T, L, DenseMatrix&lt;T, L&gt;&gt; {\n    // ... a bunch of methods ...\n    public DenseMatrix&lt;T, L&gt; add(DenseMatrix&lt;T, L&gt; matrix) throws DataStructureException {\n    // add two matrix element-wisely\n    }\n}\n</code></pre>\n<p>But the fact I found is I can't just add two Number together and there's no overload of operator <code>+</code>.</p>\n<p>So I have seen solutions like check if the class type of an element in <code>matrix</code> is an instanceof Integer or Double or Long or Float and I have also seen solutions like giving up on using generics but implement methods with respect to all types of Number. But from my perspective neither of these solutions are decent enough like what I can do in C++.</p>\n<p>Thus my question is how can I resolve this issue decently? or maybe my design paradigm is completely wrong? If there's a better design, please tell me! Many thanks in advance!</p>\n"},{"tags":["java","amazon-web-services","maven","aws-sdk-java-2.0","aws-ssm"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674508856,"creation_date":1674508856,"answer_id":75215174,"question_id":75214979,"body_markdown":"I just tested the code here in AWS Github. \r\n\r\nhttps://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/ssm\r\n\r\nIt works perfectly as shown here: \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTry using the POM/code example located in this Git repo. Did you take your POM dependencies from this github repo? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jj31p.png","title":"Getting exception while trying to build SsmClient from aws-sdk-java version 2","body":"<p>I just tested the code here in AWS Github.</p>\n<p><a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/ssm\" rel=\"nofollow noreferrer\">https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/ssm</a></p>\n<p>It works perfectly as shown here:</p>\n<p><a href=\"https://i.stack.imgur.com/jj31p.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jj31p.png\" alt=\"enter image description here\" /></a></p>\n<p>Try using the POM/code example located in this Git repo. Did you take your POM dependencies from this github repo?</p>\n"},{"comments":[{"owner":{"account_id":27565580,"reputation":3,"user_id":21037820,"display_name":"Sayan Halder"},"score":0,"creation_date":1674569999,"post_id":75215177,"comment_id":132738647,"body_markdown":"Thank you so much for your help, this really helped me, although after that I was getting another error because I had another different httpclient in added in my dependencies, so had to explicitly configure SsmClient to use the UrlConnectionHttpClient - SsmClient.builder()\n      .httpClientBuilder(UrlConnectionHttpClient.builder())\n      .build()","body":"Thank you so much for your help, this really helped me, although after that I was getting another error because I had another different httpclient in added in my dependencies, so had to explicitly configure SsmClient to use the UrlConnectionHttpClient - SsmClient.builder()       .httpClientBuilder(UrlConnectionHttpClient.builder())       .build()"}],"tags":[],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674508884,"creation_date":1674508884,"answer_id":75215177,"question_id":75214979,"body_markdown":"This is a change from V1 of the SDK.  Add something like:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n            &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19.15&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\nto your `pom.xml`.","title":"Getting exception while trying to build SsmClient from aws-sdk-java version 2","body":"<p>This is a change from V1 of the SDK.  Add something like:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n        &lt;artifactId&gt;url-connection-client&lt;/artifactId&gt;\n        &lt;version&gt;2.19.15&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>to your <code>pom.xml</code>.</p>\n"}],"owner":{"account_id":27565580,"reputation":3,"user_id":21037820,"display_name":"Sayan Halder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":567,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674508884,"creation_date":1674507487,"question_id":75214979,"body_markdown":"The exception I am getting --\r\n\r\n```\r\njava.lang.NoClassDefFoundError: org/apache/http/impl/client/DefaultClientConnectionReuseStrategy\r\nat org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:76)\r\n  at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:212)\r\n  at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:166)\r\n  at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:393)\r\n  at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:200)\r\n  at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:220)\r\n  at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\r\n  at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)\r\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\r\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n```\r\nThe code block where exception is occurring --\r\n\r\n```\r\n//The region value being passed is &quot;us-east-1&quot; and paramKeyPath is the key present in aws systems //manager.\r\npublic String getParameterUsingAwsSSM(String paramKeyPath, String region) throws Exception {\r\n\t\tString paramKeyValue = null;\r\n\t\tSystem.out.println(&quot;Key path in AWS systems manager :: &quot; + paramKeyPath);\r\n\t\ttry {\r\n\t\t\tRegion newRegion = Region.of(region);\r\n                        //The below line gets printed---\r\n\t\t\tSystem.out.println(&quot;Region:: &quot; + newRegion);\r\n                        //Exception occurs in below line most probably---\r\n\t\t\tSsmClient ssmClient = SsmClient.builder().region(newRegion).build();\r\n                        //The below line doesn&#39;t get printed---\r\n\t\t\tSystem.out.println(&quot;successfully got ssmclient&quot;);\r\n\t\t\tGetParameterRequest parameterRequest = GetParameterRequest.builder().name(paramKeyPath)\r\n\t\t\t\t\t.withDecryption(Boolean.TRUE).build();\r\n\t\t\tSystem.out.println(&quot;successfully parameterRequest fetched&quot;);\r\n\t\t\tGetParameterResponse parameterResponse = ssmClient.getParameter(parameterRequest);\r\n\t\t\tSystem.out.println(&quot;successfully parameterResponse fetched&quot;);\r\n\t\t\tparamKeyValue = parameterResponse.parameter().value();\r\n\t\t\tSystem.out.println(&quot;The value of param is ::: &quot;+\r\n\t\t\t\t\tparameterResponse.parameter().value());\r\n\t\t} catch (Exception exception) {\r\n\t\t\tSystem.out.println(&quot;Exception from getParameterUsingAwsSSM() : &quot;+ exception);\r\n\t\t\tthrow exception;\r\n\t\t}\r\n\t\treturn paramKeyValue;\r\n\t}\r\n```\r\nThe dependencies I have added in my pom.xml --\r\n\r\n```\r\n&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;!-- this is an upgrade from 3.0-rc4 --&gt;\r\n\t\t\t&lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.30&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;cloudfront&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.72&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.72&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;regions&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ssm&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.19.15&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n```\r\nCan someone please help me with this? I have been stuck in this since 3 days.\r\n \r\n\r\n\r\nI was expecting to get the parameter value from aws parameter store but I am getting the above mentioned exception, I tried adding org.apache.httpcomponents.httpclient dependency also to my project but still not working. ","title":"Getting exception while trying to build SsmClient from aws-sdk-java version 2","body":"<p>The exception I am getting --</p>\n<pre><code>java.lang.NoClassDefFoundError: org/apache/http/impl/client/DefaultClientConnectionReuseStrategy\nat org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:76)\n  at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:212)\n  at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:166)\n  at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:393)\n  at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:200)\n  at org.jboss.resteasy.plugins.server.servlet.ServletContainerDispatcher.service(ServletContainerDispatcher.java:220)\n  at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:56)\n  at org.jboss.resteasy.plugins.server.servlet.HttpServletDispatcher.service(HttpServletDispatcher.java:51)\n  at javax.servlet.http.HttpServlet.service(HttpServlet.java:741)\n  at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n</code></pre>\n<p>The code block where exception is occurring --</p>\n<pre><code>//The region value being passed is &quot;us-east-1&quot; and paramKeyPath is the key present in aws systems //manager.\npublic String getParameterUsingAwsSSM(String paramKeyPath, String region) throws Exception {\n        String paramKeyValue = null;\n        System.out.println(&quot;Key path in AWS systems manager :: &quot; + paramKeyPath);\n        try {\n            Region newRegion = Region.of(region);\n                        //The below line gets printed---\n            System.out.println(&quot;Region:: &quot; + newRegion);\n                        //Exception occurs in below line most probably---\n            SsmClient ssmClient = SsmClient.builder().region(newRegion).build();\n                        //The below line doesn't get printed---\n            System.out.println(&quot;successfully got ssmclient&quot;);\n            GetParameterRequest parameterRequest = GetParameterRequest.builder().name(paramKeyPath)\n                    .withDecryption(Boolean.TRUE).build();\n            System.out.println(&quot;successfully parameterRequest fetched&quot;);\n            GetParameterResponse parameterResponse = ssmClient.getParameter(parameterRequest);\n            System.out.println(&quot;successfully parameterResponse fetched&quot;);\n            paramKeyValue = parameterResponse.parameter().value();\n            System.out.println(&quot;The value of param is ::: &quot;+\n                    parameterResponse.parameter().value());\n        } catch (Exception exception) {\n            System.out.println(&quot;Exception from getParameterUsingAwsSSM() : &quot;+ exception);\n            throw exception;\n        }\n        return paramKeyValue;\n    }\n</code></pre>\n<p>The dependencies I have added in my pom.xml --</p>\n<pre><code>&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;!-- this is an upgrade from 3.0-rc4 --&gt;\n            &lt;groupId&gt;commons-httpclient&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-httpclient&lt;/artifactId&gt;\n            &lt;version&gt;3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;cloudfront&lt;/artifactId&gt;\n            &lt;version&gt;2.19.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcprov-jdk18on&lt;/artifactId&gt;\n            &lt;version&gt;1.72&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n            &lt;artifactId&gt;bcpkix-jdk18on&lt;/artifactId&gt;\n            &lt;version&gt;1.72&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;regions&lt;/artifactId&gt;\n            &lt;version&gt;2.19.15&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;ssm&lt;/artifactId&gt;\n            &lt;version&gt;2.19.15&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p>Can someone please help me with this? I have been stuck in this since 3 days.</p>\n<p>I was expecting to get the parameter value from aws parameter store but I am getting the above mentioned exception, I tried adding org.apache.httpcomponents.httpclient dependency also to my project but still not working.</p>\n"},{"tags":["java","aop","aspectj","spring-aop","aspectj-maven-plugin"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674510761,"post_id":75215144,"comment_id":132725856,"body_markdown":"The answer is yes, it is possible. You are describing one of the most basic use cases. Question back: Did you bother to read any AspectJ documentation before coming here? And can you please document how you built and tested the sample code, what result you expected and what happened instead? &quot;It is not working&quot; does not qualify as a comprehensive error description.","body":"The answer is yes, it is possible. You are describing one of the most basic use cases. Question back: Did you bother to read any AspectJ documentation before coming here? And can you please document how you built and tested the sample code, what result you expected and what happened instead? &quot;It is not working&quot; does not qualify as a comprehensive error description."},{"owner":{"account_id":10126809,"reputation":15,"user_id":7481823,"display_name":"gamelover"},"score":0,"creation_date":1674511320,"post_id":75215144,"comment_id":132725966,"body_markdown":"I was able to execute on a method level and constructor level.  I tried following it from https://www.baeldung.com/aspectj-advise-methods but still it didn&#39;t work on class level.  It doesn&#39;t throw any error. Just the aspects aren&#39;t running. Any help would be appreciated","body":"I was able to execute on a method level and constructor level.  I tried following it from <a href=\"https://www.baeldung.com/aspectj-advise-methods\" rel=\"nofollow noreferrer\">baeldung.com/aspectj-advise-methods</a> but still it didn&#39;t work on class level.  It doesn&#39;t throw any error. Just the aspects aren&#39;t running. Any help would be appreciated"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674663520,"post_id":75215144,"comment_id":132763707,"body_markdown":"You cannot intercept class-level annotations with `@annotation(MyAnnotation)`, for that you need `@within(MyAnnotation)` or, somewhat suboptimally, `@within(@MyAnnotation)`, as suggested in your Baeldung tutorial. Same tutorial does not refer to `@annotation` at all, though. So please do not claim that you are following it, because actually you are not. You are doing something else.","body":"You cannot intercept class-level annotations with <code>@annotation(MyAnnotation)</code>, for that you need <code>@within(MyAnnotation)</code> or, somewhat suboptimally, <code>@within(@MyAnnotation)</code>, as suggested in your Baeldung tutorial. Same tutorial does not refer to <code>@annotation</code> at all, though. So please do not claim that you are following it, because actually you are not. You are doing something else."}],"owner":{"account_id":10126809,"reputation":15,"user_id":7481823,"display_name":"gamelover"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674663632,"answer_count":0,"score":0,"last_activity_date":1674508675,"creation_date":1674508675,"question_id":75215144,"body_markdown":"I have a class annotated with a custom annotation. I want to run an aspect that should trigger before all the method calls and constructor call whenever an object or static method of that class is called. Can we do this in AspectJ?\r\n\r\nAnnotation Class\r\n\r\n    import com.stackoverflow\r\n\r\n    @Target({ElementType.TYPE, ElementType.METHOD, ElementType.CONSTRUCTOR})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface RunAdivceBeforeCall {\r\n    // Advice logic\r\n    }\r\n\r\nAspect Class\r\n\r\n    import com.stackoverflow\r\n    @Aspect\r\n    Class HandleAspect{\r\n    \r\n    @Before(&quot;@annotation(RunAdivceBeforeCall) &amp;&amp; execution(@RunAdivceBeforeCall * *.*(..))&quot;)\r\n        public void runAnAdviceBeforeCall(JoinPoint joinpoint) {\r\n         //Advice logic\r\n     }\r\n    \r\n    }\r\n\r\n\r\nClass to run the Aspects\r\n\r\nimport com.stackoverflow\r\n\r\n    @RunAdivceBeforeCall\r\n    public Class NavigationBar {\r\n    \r\n        NavigationBar(){\r\n        }\r\n\r\n     public void navigateToHomePage(){\r\n     }\r\n     \r\n     public void navigateToUserAccount(){\r\n     }\r\n\r\n     public void navigateToHelp(){\r\n     }\r\n   }\r\n\r\nThe above logic i added doesn&#39;t work. Is there any other way to trigger before all the method and constructor call whenever an NavigationBar object methods, constructor call and static method of that class is called. I need this only in AspectJ as my project is not spring?\r\n\r\n","title":"Running aspect on an Annotated Class using AspectJ","body":"<p>I have a class annotated with a custom annotation. I want to run an aspect that should trigger before all the method calls and constructor call whenever an object or static method of that class is called. Can we do this in AspectJ?</p>\n<p>Annotation Class</p>\n<pre><code>import com.stackoverflow\n\n@Target({ElementType.TYPE, ElementType.METHOD, ElementType.CONSTRUCTOR})\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface RunAdivceBeforeCall {\n// Advice logic\n}\n</code></pre>\n<p>Aspect Class</p>\n<pre><code>import com.stackoverflow\n@Aspect\nClass HandleAspect{\n\n@Before(&quot;@annotation(RunAdivceBeforeCall) &amp;&amp; execution(@RunAdivceBeforeCall * *.*(..))&quot;)\n    public void runAnAdviceBeforeCall(JoinPoint joinpoint) {\n     //Advice logic\n }\n\n}\n</code></pre>\n<p>Class to run the Aspects</p>\n<p>import com.stackoverflow</p>\n<pre><code>@RunAdivceBeforeCall\npublic Class NavigationBar {\n\n    NavigationBar(){\n    }\n\n public void navigateToHomePage(){\n }\n \n public void navigateToUserAccount(){\n }\n\n public void navigateToHelp(){\n }\n</code></pre>\n<p>}</p>\n<p>The above logic i added doesn't work. Is there any other way to trigger before all the method and constructor call whenever an NavigationBar object methods, constructor call and static method of that class is called. I need this only in AspectJ as my project is not spring?</p>\n"},{"tags":["java","rdf","jena"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1674550567,"post_id":75215110,"comment_id":132732367,"body_markdown":"just load your data into an RDF visualization tool of your choice - I mean, there are plenty out there nowadays. And indeed, you should host your own service as usually public services have limits in terms of file size for upload.","body":"just load your data into an RDF visualization tool of your choice - I mean, there are plenty out there nowadays. And indeed, you should host your own service as usually public services have limits in terms of file size for upload."}],"owner":{"account_id":20879453,"reputation":115,"user_id":15337550,"display_name":"FarshiD Naqizadeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674508458,"creation_date":1674508458,"question_id":75215110,"body_markdown":"Hello Stackoverflow users , my Questiuon is How I can make Visual graph from any Rdf format(xml ,etc...) just like [RDf Grapher Online][1] , I&#39;m using jena apache Library for work with RDF and my Example for Rdf is like this :\r\n\r\n```\r\n&lt;rdf:RDF\r\n    xmlns:Hedc=&quot;https://workflow.hedc.co.ir/&quot;\r\n    xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;\r\n    xmlns:WorkFlow=&quot;https://workflow.hedc.co.ir/workflow#&quot;\r\n    xmlns:j.0=&quot;https://workflow.hedc.co.ir/workflow/&quot;&gt;\r\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Installations&quot;&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;mobile&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;phone&lt;/j.0:Read&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;meter&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert&gt;Insert&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Read&gt;Read&lt;/j.0:Read&gt;\r\n    &lt;WorkFlow:Installations xml:lang=&quot;en&quot;&gt;Setup installations&lt;/WorkFlow:Installations&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Read&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;کنتور&lt;/j.0:Insert&gt;\r\n    &lt;WorkFlow:Installations xml:lang=&quot;fa&quot;&gt;نصب انشعاب&lt;/WorkFlow:Installations&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Read&gt;\r\n  &lt;/rdf:Description&gt;\r\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Branch&quot;&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;کد ملی&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Phone&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;نام&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;نام خانوادگی&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Mobile&lt;/j.0:Insert&gt;\r\n    &lt;WorkFlow:Branch xml:lang=&quot;fa&quot;&gt;فروش انشعاب&lt;/WorkFlow:Branch&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert&gt;Insert&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Address&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Family Name&lt;/j.0:Insert&gt;\r\n    &lt;WorkFlow:Branch xml:lang=&quot;en&quot;&gt;Sale of electricity branch&lt;/WorkFlow:Branch&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Name&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;national id&lt;/j.0:Insert&gt;\r\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;آدرس&lt;/j.0:Insert&gt;\r\n  &lt;/rdf:Description&gt;\r\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Buy_Meter&quot;&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Read&gt;\r\n    &lt;WorkFlow:Buy_Meter xml:lang=&quot;fa&quot;&gt;خرید مستقیم کنتور&lt;/WorkFlow:Buy_Meter&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;national id&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read&gt;Read&lt;/j.0:Read&gt;\r\n    &lt;WorkFlow:Buy_Meter xml:lang=&quot;en&quot;&gt;buy meter direct&lt;/WorkFlow:Buy_Meter&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;phone&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;کد ملی&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Read&gt;\r\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;mobile&lt;/j.0:Read&gt;\r\n  &lt;/rdf:Description&gt;\r\n&lt;/rdf:RDF&gt;\r\n\r\n\r\n```\r\nI google about it and nothing find that can use WebService or any library.\r\n\r\nNote : I know that site I mention about it have post and Get for doing some that but I have Large repository that can&#39;t handled with this site.\r\n\r\nNote : I use Java for doing that.\r\n\r\n  [1]: https://www.ldf.fi/service/rdf-grapher","title":"Rdf into Visual graph","body":"<p>Hello Stackoverflow users , my Questiuon is How I can make Visual graph from any Rdf format(xml ,etc...) just like <a href=\"https://www.ldf.fi/service/rdf-grapher\" rel=\"nofollow noreferrer\">RDf Grapher Online</a> , I'm using jena apache Library for work with RDF and my Example for Rdf is like this :</p>\n<pre><code>&lt;rdf:RDF\n    xmlns:Hedc=&quot;https://workflow.hedc.co.ir/&quot;\n    xmlns:rdf=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;\n    xmlns:WorkFlow=&quot;https://workflow.hedc.co.ir/workflow#&quot;\n    xmlns:j.0=&quot;https://workflow.hedc.co.ir/workflow/&quot;&gt;\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Installations&quot;&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;mobile&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;phone&lt;/j.0:Read&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;meter&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert&gt;Insert&lt;/j.0:Insert&gt;\n    &lt;j.0:Read&gt;Read&lt;/j.0:Read&gt;\n    &lt;WorkFlow:Installations xml:lang=&quot;en&quot;&gt;Setup installations&lt;/WorkFlow:Installations&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Read&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;کنتور&lt;/j.0:Insert&gt;\n    &lt;WorkFlow:Installations xml:lang=&quot;fa&quot;&gt;نصب انشعاب&lt;/WorkFlow:Installations&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Read&gt;\n  &lt;/rdf:Description&gt;\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Branch&quot;&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;کد ملی&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Phone&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;نام&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;نام خانوادگی&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Mobile&lt;/j.0:Insert&gt;\n    &lt;WorkFlow:Branch xml:lang=&quot;fa&quot;&gt;فروش انشعاب&lt;/WorkFlow:Branch&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert&gt;Insert&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Address&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Family Name&lt;/j.0:Insert&gt;\n    &lt;WorkFlow:Branch xml:lang=&quot;en&quot;&gt;Sale of electricity branch&lt;/WorkFlow:Branch&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;Name&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;en&quot;&gt;national id&lt;/j.0:Insert&gt;\n    &lt;j.0:Insert xml:lang=&quot;fa&quot;&gt;آدرس&lt;/j.0:Insert&gt;\n  &lt;/rdf:Description&gt;\n  &lt;rdf:Description rdf:about=&quot;https://workflow.hedc.co.ir/workflow#Buy_Meter&quot;&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;شماره درخواست&lt;/j.0:Read&gt;\n    &lt;WorkFlow:Buy_Meter xml:lang=&quot;fa&quot;&gt;خرید مستقیم کنتور&lt;/WorkFlow:Buy_Meter&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;national id&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;موبایل&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;branch number&lt;/j.0:Read&gt;\n    &lt;j.0:Read&gt;Read&lt;/j.0:Read&gt;\n    &lt;WorkFlow:Buy_Meter xml:lang=&quot;en&quot;&gt;buy meter direct&lt;/WorkFlow:Buy_Meter&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;phone&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;کد ملی&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;fa&quot;&gt;تلفن&lt;/j.0:Read&gt;\n    &lt;j.0:Read xml:lang=&quot;en&quot;&gt;mobile&lt;/j.0:Read&gt;\n  &lt;/rdf:Description&gt;\n&lt;/rdf:RDF&gt;\n\n\n</code></pre>\n<p>I google about it and nothing find that can use WebService or any library.</p>\n<p>Note : I know that site I mention about it have post and Get for doing some that but I have Large repository that can't handled with this site.</p>\n<p>Note : I use Java for doing that.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":0,"creation_date":1674411312,"post_id":75202731,"comment_id":132704112,"body_markdown":"any reason you are adding your filter after the UsernamePasswordAuthenticationFilter and not before? Also the default auth is basic and you haven&#39;t set up form auth explicitly (I don&#39;t think that might matter for your case though)","body":"any reason you are adding your filter after the UsernamePasswordAuthenticationFilter and not before? Also the default auth is basic and you haven&#39;t set up form auth explicitly (I don&#39;t think that might matter for your case though)"},{"owner":{"account_id":14082624,"reputation":650,"user_id":11656070,"display_name":"Alisher"},"score":0,"creation_date":1674421200,"post_id":75202731,"comment_id":132705907,"body_markdown":"No particular reason, I was experimenting a lot; trying to figure out why this configuration not working. It was actually set before UsernameAuthenticationFilter. I will update sample","body":"No particular reason, I was experimenting a lot; trying to figure out why this configuration not working. It was actually set before UsernameAuthenticationFilter. I will update sample"},{"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"score":1,"creation_date":1674501999,"post_id":75202731,"comment_id":132723435,"body_markdown":"Can you try to remove your @Order(Ordered.HIGHEST_PRECEDENCE) from the filter. Without that annotation everything works as expected. I don&#39;t have the reasoning though why it is messing up the filter chain and i guess triggering a different flow..","body":"Can you try to remove your @Order(Ordered.HIGHEST_PRECEDENCE) from the filter. Without that annotation everything works as expected. I don&#39;t have the reasoning though why it is messing up the filter chain and i guess triggering a different flow.."},{"owner":{"account_id":14082624,"reputation":650,"user_id":11656070,"display_name":"Alisher"},"score":0,"creation_date":1674504081,"post_id":75202731,"comment_id":132724081,"body_markdown":"That&#39;s very strange but it did resolve the issue. Without the order annotation, it does indeed work. But I wonder if there is a reasonable explanation for this.","body":"That&#39;s very strange but it did resolve the issue. Without the order annotation, it does indeed work. But I wonder if there is a reasonable explanation for this."}],"answers":[{"tags":[],"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674507532,"creation_date":1674507532,"answer_id":75214987,"question_id":75202731,"body_markdown":"If you debug the order in which spring security filter chain is invoked in your case it seems adding `@Order` annotation causes it to run before FilterChainProxy starts its processing logic and then it sets the SecurityContext to empty inside SecurityContextPersistenceFilter which overwrites what you set in your filter causing the behavior you see. Since you are trying to add a custom auth mechanism it would be recommended to add the filter before UsernamePasswordAuthenticationFilter which your `SecurityFilterChain` does but seems to be overridden by `@Order` annotation. I guess the Order annotation is redundant in this case anyway and should be removed.. See this post on more details on how the chain is invoked - [link][1]\r\n\r\nYou can play around by setting the debug level logging of spring security to see how these filters are invoked.\r\n\r\n    logging.level.org.springframework.security=DEBUG\r\n\r\n  [1]: https://stackoverflow.com/questions/41480102/how-spring-security-filter-chain-works","title":"Spring Security 6: All request result in 403 with custom filter","body":"<p>If you debug the order in which spring security filter chain is invoked in your case it seems adding <code>@Order</code> annotation causes it to run before FilterChainProxy starts its processing logic and then it sets the SecurityContext to empty inside SecurityContextPersistenceFilter which overwrites what you set in your filter causing the behavior you see. Since you are trying to add a custom auth mechanism it would be recommended to add the filter before UsernamePasswordAuthenticationFilter which your <code>SecurityFilterChain</code> does but seems to be overridden by <code>@Order</code> annotation. I guess the Order annotation is redundant in this case anyway and should be removed.. See this post on more details on how the chain is invoked - <a href=\"https://stackoverflow.com/questions/41480102/how-spring-security-filter-chain-works\">link</a></p>\n<p>You can play around by setting the debug level logging of spring security to see how these filters are invoked.</p>\n<pre><code>logging.level.org.springframework.security=DEBUG\n</code></pre>\n"}],"owner":{"account_id":14082624,"reputation":650,"user_id":11656070,"display_name":"Alisher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75214987,"answer_count":1,"score":1,"last_activity_date":1674507532,"creation_date":1674410678,"question_id":75202731,"body_markdown":"Given following filter chain:\r\n```java\r\n@Bean\r\n@Order(0)\r\npublic SecurityFilterChain securityFilterChain(\r\n      HttpSecurity http,\r\n      @Qualifier(OpaqueTokenAuthorizationFilter.OPAQUE_TOKEN_AUTHORIZATION_FILTER)\r\n          OncePerRequestFilter authorizationFilter\r\n  )\r\n http\r\n            .authorizeHttpRequests()\r\n            .anyRequest()\r\n            .authenticated()\r\n            .and()\r\n            .sessionManagement()\r\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            .and()\r\n            .addFilterBefore(authorizationFilter, UsernamePasswordAuthenticationFilter.class);\r\nreturn http.build();\r\n```\r\nAnd a OncePerRequestFilter like this:\r\n```java\r\n\r\n@Component(OpaqueTokenAuthorizationFilter.OPAQUE_TOKEN_AUTHORIZATION_FILTER)\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\n@RequiredArgsConstructor\r\npublic class OpaqueTokenAuthorizationFilter extends OncePerRequestFilter {\r\n\r\n  public static final String OPAQUE_TOKEN_AUTHORIZATION_FILTER =\r\n      &quot;OPAQUE_TOKEN_AUTHORIZATION_FILTER&quot;;\r\n\r\n  @Override\r\n  protected void doFilterInternal(\r\n      HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\r\n      throws IOException, ServletException {\r\n    // Note it always registers autnetication in context\r\n    var auth =\r\n        UsernamePasswordAuthenticationToken.authenticated(\r\n            &quot;test&quot;, null, List.of(new SimpleGrantedAuthority(&quot;TEST&quot;)));\r\n    auth.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n    SecurityContextHolder.getContext().setAuthentication(auth);\r\n    filterChain.doFilter(request, response);\r\n  }\r\n}\r\n\r\n```\r\nAll of the requests fail in Authorization filter because `SecurityContextHolder` returns anonymous authentication when a generic endpoint is being hit. It is being thrown by `ObservationDecisionManager` during the decision check (because the authentication object is anonymous).\r\n\r\nThe custom filter executes and sets authentication.\r\n\r\nIs there anything else needed for the new Spring Security configuration?\r\n","title":"Spring Security 6: All request result in 403 with custom filter","body":"<p>Given following filter chain:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(0)\npublic SecurityFilterChain securityFilterChain(\n      HttpSecurity http,\n      @Qualifier(OpaqueTokenAuthorizationFilter.OPAQUE_TOKEN_AUTHORIZATION_FILTER)\n          OncePerRequestFilter authorizationFilter\n  )\n http\n            .authorizeHttpRequests()\n            .anyRequest()\n            .authenticated()\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .addFilterBefore(authorizationFilter, UsernamePasswordAuthenticationFilter.class);\nreturn http.build();\n</code></pre>\n<p>And a OncePerRequestFilter like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Component(OpaqueTokenAuthorizationFilter.OPAQUE_TOKEN_AUTHORIZATION_FILTER)\n@Order(Ordered.HIGHEST_PRECEDENCE)\n@RequiredArgsConstructor\npublic class OpaqueTokenAuthorizationFilter extends OncePerRequestFilter {\n\n  public static final String OPAQUE_TOKEN_AUTHORIZATION_FILTER =\n      &quot;OPAQUE_TOKEN_AUTHORIZATION_FILTER&quot;;\n\n  @Override\n  protected void doFilterInternal(\n      HttpServletRequest request, HttpServletResponse response, FilterChain filterChain)\n      throws IOException, ServletException {\n    // Note it always registers autnetication in context\n    var auth =\n        UsernamePasswordAuthenticationToken.authenticated(\n            &quot;test&quot;, null, List.of(new SimpleGrantedAuthority(&quot;TEST&quot;)));\n    auth.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n    SecurityContextHolder.getContext().setAuthentication(auth);\n    filterChain.doFilter(request, response);\n  }\n}\n\n</code></pre>\n<p>All of the requests fail in Authorization filter because <code>SecurityContextHolder</code> returns anonymous authentication when a generic endpoint is being hit. It is being thrown by <code>ObservationDecisionManager</code> during the decision check (because the authentication object is anonymous).</p>\n<p>The custom filter executes and sets authentication.</p>\n<p>Is there anything else needed for the new Spring Security configuration?</p>\n"},{"tags":["java","jakarta-ee","spring-data-jpa","wildfly","cdi"],"answers":[{"tags":[],"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674507346,"creation_date":1674507346,"answer_id":75214959,"question_id":75214770,"body_markdown":"After changing spring data jpa version to 3.0.1 everything seems to work","title":"Unsatisfied dependencies for type X at injection point besides bean-discovery-mode set to &quot;all&quot;","body":"<p>After changing spring data jpa version to 3.0.1 everything seems to work</p>\n"}],"owner":{"account_id":4095402,"reputation":2030,"user_id":3362334,"accept_rate":28,"display_name":"user3362334"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674507346,"creation_date":1674506137,"question_id":75214770,"body_markdown":"I am running Jakarta EE 9 (Java JDK 17) project on Wildfly 27.0.1 Final that alsp uses Spring-data. I had a similar setup running on Java EE 8 (Java SDK 8) on Wildfly 20.0.1 Final running without issues. \r\n\r\nThis is my pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;ProjectName&lt;/groupId&gt;\r\n        &lt;artifactId&gt;ProjectName&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n    \r\n        &lt;name&gt;ProjectName&lt;/name&gt;\r\n        &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;17&lt;/source&gt;\r\n                        &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n    \r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.2.2&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n    \r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.22&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\r\n                &lt;version&gt;9.0.0&lt;/version&gt;\r\n                &lt;scope&gt;provided&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/jakarta.ejb/jakarta.ejb-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;jakarta.ejb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jakarta.ejb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n                &lt;version&gt;20160810&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;junit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;version&gt;28.1-jre&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n                &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    &lt;!--        &lt;dependency&gt;--&gt;\r\n    &lt;!--            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;--&gt;\r\n    &lt;!--            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;--&gt;\r\n    &lt;!--            &lt;version&gt;1.11.23.RELEASE&lt;/version&gt;--&gt;\r\n    &lt;!--        &lt;/dependency&gt;--&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.6-Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.8&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.4&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.17.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n                &lt;version&gt;1.11.23.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;version&gt;42.5.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n        &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nTo make it work I added a class called CdiConfig to make EntityManager available where it&#39;s needed:\r\n\r\n    public class CdiConfig {\r\n    \r\n    \t@Produces\r\n        @Dependent\r\n        @PersistenceContext\r\n        public EntityManager entityManager;\r\n    \t\r\n    }\r\n\r\nAnd, also I made sure that my repository initiates eagerly:\r\n\r\n    @Eager\r\n    public interface GameRepository extends CrudRepository&lt;Game, Long&gt; {\r\n    \tGame findByUniqueId(String uniqueId);\r\n    }\r\n\r\nAnd, then finally from the facade I try to inject the repository:\r\n\r\n    @Stateless\r\n    public class GameFacade {\r\n    \r\n    \t@Inject\r\n    \tGameRepository repository;\r\n    ...\r\n\r\n\r\nI also added beans.xml to &lt;root&gt;/webapp/WEB-INF/ to make the repository discoverable:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;beans xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \t   xsi:schemaLocation=&quot;\r\n    \t\thttps://jakarta.ee/xml/ns/jakartaee\r\n    \t\thttps://jakarta.ee/xml/ns/jakartaee/beans_3_0.xsd&quot;\r\n    \t   bean-discovery-mode=&quot;all&quot;&gt;\r\n    &lt;/beans&gt;\r\n\r\nHowever,\r\n\r\nI still get \r\n\r\n    Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type GameRepository with qualifiers @Default\r\n      at injection point [BackedAnnotatedField] @Inject com.example.project.facade.GameFacade.repository\r\n      at com.example.project.facade.GameFacade.repository(GameFacade.java:0)","title":"Unsatisfied dependencies for type X at injection point besides bean-discovery-mode set to &quot;all&quot;","body":"<p>I am running Jakarta EE 9 (Java JDK 17) project on Wildfly 27.0.1 Final that alsp uses Spring-data. I had a similar setup running on Java EE 8 (Java SDK 8) on Wildfly 20.0.1 Final running without issues.</p>\n<p>This is my pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ProjectName&lt;/groupId&gt;\n    &lt;artifactId&gt;ProjectName&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;name&gt;ProjectName&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n            &lt;version&gt;9.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.ejb/jakarta.ejb-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.ejb&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.ejb-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20160810&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.guava/guava --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n            &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;version&gt;28.1-jre&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-annotations&lt;/artifactId&gt;\n            &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n            &lt;version&gt;3.8.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;!--        &lt;dependency&gt;--&gt;\n&lt;!--            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;--&gt;\n&lt;!--            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;--&gt;\n&lt;!--            &lt;version&gt;1.11.23.RELEASE&lt;/version&gt;--&gt;\n&lt;!--        &lt;/dependency&gt;--&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.data/spring-data-jpa --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-annotations&lt;/artifactId&gt;\n            &lt;version&gt;3.5.6-Final&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.9.8&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;2.9.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.apache.logging.log4j/log4j-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;1.11.23.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>To make it work I added a class called CdiConfig to make EntityManager available where it's needed:</p>\n<pre><code>public class CdiConfig {\n\n    @Produces\n    @Dependent\n    @PersistenceContext\n    public EntityManager entityManager;\n    \n}\n</code></pre>\n<p>And, also I made sure that my repository initiates eagerly:</p>\n<pre><code>@Eager\npublic interface GameRepository extends CrudRepository&lt;Game, Long&gt; {\n    Game findByUniqueId(String uniqueId);\n}\n</code></pre>\n<p>And, then finally from the facade I try to inject the repository:</p>\n<pre><code>@Stateless\npublic class GameFacade {\n\n    @Inject\n    GameRepository repository;\n...\n</code></pre>\n<p>I also added beans.xml to /webapp/WEB-INF/ to make the repository discoverable:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n       xsi:schemaLocation=&quot;\n        https://jakarta.ee/xml/ns/jakartaee\n        https://jakarta.ee/xml/ns/jakartaee/beans_3_0.xsd&quot;\n       bean-discovery-mode=&quot;all&quot;&gt;\n&lt;/beans&gt;\n</code></pre>\n<p>However,</p>\n<p>I still get</p>\n<pre><code>Caused by: org.jboss.weld.exceptions.DeploymentException: WELD-001408: Unsatisfied dependencies for type GameRepository with qualifiers @Default\n  at injection point [BackedAnnotatedField] @Inject com.example.project.facade.GameFacade.repository\n  at com.example.project.facade.GameFacade.repository(GameFacade.java:0)\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9516,"page":707,"page_size":100}
