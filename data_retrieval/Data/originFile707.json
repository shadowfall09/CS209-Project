{"items":[{"tags":["java","discord","bots"],"answers":[{"tags":[],"owner":{"account_id":26363666,"reputation":1,"user_id":20019506,"display_name":"Dessischment"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674488044,"creation_date":1674488044,"answer_id":75211673,"question_id":70009965,"body_markdown":"This is because Discord only supports slash commands. That means you have to teach yourself how to work with slash commands (:","title":"JDA / Javacord Event Problems","body":"<p>This is because Discord only supports slash commands. That means you have to teach yourself how to work with slash commands (:</p>\n"}],"owner":{"account_id":22565118,"reputation":61,"user_id":16752257,"display_name":"LeleEdits"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674488044,"creation_date":1637174875,"question_id":70009965,"body_markdown":"So im having a jda script with some GuildMessageReceivedEvent Events for commands. But if I try to use them nothing happenes, no error, no message, nothing\r\nI have enabled all Intents and the Bot has the permission to send messages","title":"JDA / Javacord Event Problems","body":"<p>So im having a jda script with some GuildMessageReceivedEvent Events for commands. But if I try to use them nothing happenes, no error, no message, nothing\nI have enabled all Intents and the Bot has the permission to send messages</p>\n"},{"tags":["java","json","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674486417,"creation_date":1674486417,"answer_id":75211346,"question_id":75210996,"body_markdown":"You can even rephrase by replacing the **`name`** on the right hand side by an ampersand **`&amp;`** as\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;name&quot;: &quot;[&amp;1].&amp;&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nin order to replicate it  \r\n\r\nPrepending both **`[&amp;1]`** and **`&amp;1`** targets the same level which&#39;s going up the tree **1** level in order to reach the level of the indexes of the outermost array by traversing opening curly brace(s) (**`{`**) once. But the first one yields arraywise result instead of index numbers 0,1,2 ... those are generated by the second one.","title":"what is the significance of [] in RHS in JOLT specification?","body":"<p>You can even rephrase by replacing the <strong><code>name</code></strong> on the right hand side by an ampersand <strong><code>&amp;</code></strong> as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;name&quot;: &quot;[&amp;1].&amp;&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>in order to replicate it</p>\n<p>Prepending both <strong><code>[&amp;1]</code></strong> and <strong><code>&amp;1</code></strong> targets the same level which's going up the tree <strong>1</strong> level in order to reach the level of the indexes of the outermost array by traversing opening curly brace(s) (<strong><code>{</code></strong>) once. But the first one yields arraywise result instead of index numbers 0,1,2 ... those are generated by the second one.</p>\n"},{"tags":[],"owner":{"account_id":11500422,"reputation":2541,"user_id":8428397,"display_name":"Mohammadreza Khedri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674487260,"creation_date":1674487260,"answer_id":75211532,"question_id":75210996,"body_markdown":"**Both two spec is valid.**\r\n\r\n**`&amp;1`:** get 1 level up **key**.\r\n\r\n**`[&amp;1]`:** get 1 level up **index**.\r\n\r\n\r\nFor example in your spec, `&amp;1` means `0` and `1` as **key** and your output can be like this:\r\n\r\n```json\r\n{\r\n  &quot;0&quot;: {\r\n    &quot;name&quot;: &quot;my name1&quot;\r\n  },\r\n  &quot;1&quot;: {\r\n    &quot;name&quot;: &quot;my name2&quot;\r\n  }\r\n}\r\n```\r\n\r\nAnd when you using the `[&amp;1]` means `0` and `1` as **index** of array and your output can be like this:\r\n\r\n```json\r\n[\r\n  {\r\n\t&quot;name&quot;: &quot;my name1&quot;\r\n  },\r\n  {\r\n\t&quot;name&quot;: &quot;my name2&quot;\r\n  }\r\n]\r\n```","title":"what is the significance of [] in RHS in JOLT specification?","body":"<p><strong>Both two spec is valid.</strong></p>\n<p><strong><code>&amp;1</code>:</strong> get 1 level up <strong>key</strong>.</p>\n<p><strong><code>[&amp;1]</code>:</strong> get 1 level up <strong>index</strong>.</p>\n<p>For example in your spec, <code>&amp;1</code> means <code>0</code> and <code>1</code> as <strong>key</strong> and your output can be like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;0&quot;: {\n    &quot;name&quot;: &quot;my name1&quot;\n  },\n  &quot;1&quot;: {\n    &quot;name&quot;: &quot;my name2&quot;\n  }\n}\n</code></pre>\n<p>And when you using the <code>[&amp;1]</code> means <code>0</code> and <code>1</code> as <strong>index</strong> of array and your output can be like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;name&quot;: &quot;my name1&quot;\n  },\n  {\n    &quot;name&quot;: &quot;my name2&quot;\n  }\n]\n</code></pre>\n"}],"owner":{"account_id":9578778,"reputation":23,"user_id":7113943,"display_name":"Shrey Bansod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75211532,"answer_count":2,"score":0,"last_activity_date":1674487260,"creation_date":1674484580,"question_id":75210996,"body_markdown":"I am new to JOLT. I am creating a JOLT specification to parse a JSON from one format to another. However when i use the RHS as **`&quot;&amp;1.name&quot;`** it doesn&#39;t work as expected and creates a different format. But when i use **`&quot;[&amp;1].name&quot;`**, it works.\r\n\r\nI cannot share the data due to policy constraints. Giving an example\r\n\r\neg. \r\nInput JSON:\r\n```json\r\n[\r\n  {\r\n    &quot;name&quot;: &quot;my name1&quot;\r\n  },\r\n  {\r\n    &quot;name&quot;: &quot;my name2&quot;\r\n  }\r\n]\r\n```\r\nJOLT spec (*Not working*) :\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;name&quot;: &quot;&amp;1.name&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nJOLT spec (*working*) :\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;*&quot;: {\r\n        &quot;name&quot;: &quot;[&amp;1].name&quot;\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nPlease help me understand the purpose of [] on RHS.","title":"what is the significance of [] in RHS in JOLT specification?","body":"<p>I am new to JOLT. I am creating a JOLT specification to parse a JSON from one format to another. However when i use the RHS as <strong><code>&quot;&amp;1.name&quot;</code></strong> it doesn't work as expected and creates a different format. But when i use <strong><code>&quot;[&amp;1].name&quot;</code></strong>, it works.</p>\n<p>I cannot share the data due to policy constraints. Giving an example</p>\n<p>eg.\nInput JSON:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;name&quot;: &quot;my name1&quot;\n  },\n  {\n    &quot;name&quot;: &quot;my name2&quot;\n  }\n]\n</code></pre>\n<p>JOLT spec (<em>Not working</em>) :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;name&quot;: &quot;&amp;1.name&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>JOLT spec (<em>working</em>) :</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;*&quot;: {\n        &quot;name&quot;: &quot;[&amp;1].name&quot;\n      }\n    }\n  }\n]\n</code></pre>\n<p>Please help me understand the purpose of [] on RHS.</p>\n"},{"tags":["java","spring","maven","jhipster"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1484570276,"post_id":41674065,"comment_id":70550254,"body_markdown":"Please delete the pdfbox label, this isn&#39;t about pdfbox.","body":"Please delete the pdfbox label, this isn&#39;t about pdfbox."}],"answers":[{"tags":[],"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1484573513,"creation_date":1484562739,"answer_id":41674325,"question_id":41674065,"body_markdown":"In your config you need :\r\n\r\n    @Bean\r\n    public ResourceBundleMessageSource messageSource() {\r\n        ResourceBundleMessageSource source = new ResourceBundleMessageSource();\r\n        source.setBasenames(&quot;i18n/messages&quot;);\r\n        return source;\r\n    }\r\n\r\nMy test is\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = Application.class)\r\n    public class Test1 {\r\n    \r\n        @Autowired\r\n        private MessageSource messageSource;\r\n    \r\n        @Test\r\n        public void test1() {\r\n            assertNotNull(messageSource);\r\n            assertEquals(&quot;test greg de&quot;, messageSource.getMessage(&quot;pdf.klasse&quot;, null, Locale.GERMANY));\r\n        }\r\n    }","title":"MessageSource not being read properly during testing","body":"<p>In your config you need :</p>\n\n<pre><code>@Bean\npublic ResourceBundleMessageSource messageSource() {\n    ResourceBundleMessageSource source = new ResourceBundleMessageSource();\n    source.setBasenames(\"i18n/messages\");\n    return source;\n}\n</code></pre>\n\n<p>My test is</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = Application.class)\npublic class Test1 {\n\n    @Autowired\n    private MessageSource messageSource;\n\n    @Test\n    public void test1() {\n        assertNotNull(messageSource);\n        assertEquals(\"test greg de\", messageSource.getMessage(\"pdf.klasse\", null, Locale.GERMANY));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13776163,"reputation":21,"user_id":9942465,"display_name":"oliver carrasco"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1528989369,"creation_date":1528989369,"answer_id":50860831,"question_id":41674065,"body_markdown":"My solution.\r\n\r\nDeclare MessageSource in the test class and autowired DelegatingMessageSource in the test class.\r\n\r\n    private MessageSource messageSource;\r\n    \r\n    @Autowired\r\n    private DelegatingMessageSource delegatingMessageSource;\r\n\r\nCreate the setup as shown below\r\n\r\n    @Before\r\n    public void setUp() {\r\n      messageSource = Mockito.mock(MessageSource.class);\r\n      when(messageSource.getMessage(anyString(), any(Object[].class),any(Locale.class))).thenReturn(&quot;&quot;);\r\n      delegatingMessageSource.setParentMessageSource(messageSource);\r\n    }\r\n\r\nIt should work fine.\r\n","title":"MessageSource not being read properly during testing","body":"<p>My solution.</p>\n\n<p>Declare MessageSource in the test class and autowired DelegatingMessageSource in the test class.</p>\n\n<pre><code>private MessageSource messageSource;\n\n@Autowired\nprivate DelegatingMessageSource delegatingMessageSource;\n</code></pre>\n\n<p>Create the setup as shown below</p>\n\n<pre><code>@Before\npublic void setUp() {\n  messageSource = Mockito.mock(MessageSource.class);\n  when(messageSource.getMessage(anyString(), any(Object[].class),any(Locale.class))).thenReturn(\"\");\n  delegatingMessageSource.setParentMessageSource(messageSource);\n}\n</code></pre>\n\n<p>It should work fine.</p>\n"},{"tags":[],"owner":{"account_id":11732873,"reputation":734,"user_id":8587732,"display_name":"Vitaly Chura"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1674486685,"creation_date":1674486685,"answer_id":75211401,"question_id":41674065,"body_markdown":"I&#39;m not yet sure why, but it seems that MessageSource autoconfiguration was not read during tests, I had to add it explicitly:\r\n\r\n```\r\n@SpringBootTest(classes = {\r\n        StrategyValidationAutoconfiguration.class,\r\n        MessageSourceAutoConfiguration.class\r\n})\r\n```","title":"MessageSource not being read properly during testing","body":"<p>I'm not yet sure why, but it seems that MessageSource autoconfiguration was not read during tests, I had to add it explicitly:</p>\n<pre><code>@SpringBootTest(classes = {\n        StrategyValidationAutoconfiguration.class,\n        MessageSourceAutoConfiguration.class\n})\n</code></pre>\n"}],"owner":{"account_id":3428983,"reputation":214,"user_id":2873982,"accept_rate":82,"display_name":"Emir Masic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13390,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":41674325,"answer_count":3,"score":12,"last_activity_date":1674486685,"creation_date":1484561886,"question_id":41674065,"body_markdown":"I already checked with most similar questions and could not find a helpful answer. \r\n\r\nI am making a WebApplication via JHipster using Maven v3.3.9. Among other things, there is a PDF-generation that takes place. The web app is multilingual and uses the \r\n\r\n/resources/i18n/..\r\n\r\nresource files for the different translation. On live testing everything works perfectly with no problems or errors. \r\n\r\nI am now trying to create a test which will generate a PDF and compare it to an existing PDF so development can continue. The problem is, no matter which locale I use for testing, I get the same error:\r\n\r\n[![org.springframeworkcontext.NoSuchMessageException: No message found under code &#39;pdf.klasse&#39; for locale &#39;de&#39;][1]][1]\r\n\r\nI am not sure what the cause of the error is. Since the messages are there and during live testing they work perfectly. \r\n\r\nHere is the test code:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = DeviceDataCheckApp.class)\r\n    public class PDFGeneratorTest\r\n    {\r\n    private MockMvc mockMvc;\r\n\r\n    private CalculationMapperImpl calculationMapperImpl;\r\n\r\n    private Calculation calculation;\r\n    private CalculationDTO calculationDTO;\r\n    private CalculationResult calculationResult;\r\n    private String langval = &quot;de&quot;;\r\n    private String name = &quot;&quot;;\r\n\r\n    private PDFGenerator pdfGenerator;\r\n\r\n    @Autowired\r\n    private MessageSource messageSource;\r\n\r\n    @Autowired\r\n    private WebApplicationContext webApplicationContext;\r\n\r\n    @Before\r\n    public void setup() throws IOException, URISyntaxException, IllegalAccessException, InstantiationException\r\n    {\r\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n\r\n        calculation = new Calculation()\r\n                .producerName(&quot;test&quot;)\r\n                .airVolumeSupply(2.0)\r\n                .airVolumeExhaust(2.0)\r\n                .statedAirVelocitySupply(2.0)\r\n                .statedAirVelocityExhaust(2.0)\r\n                .staticPressureLossSupply(2.0)\r\n                .staticPressureLossExhaust(2.0)\r\n                .pMSupply(2.0)\r\n                .pMExhaust(2.0)\r\n                .pMAnfSupply(2.0)\r\n                .pMAnfExhaust(2.0)\r\n                .pressureLossWrgSupply(2.0)\r\n                .pressureLossWrgExhaust(2.0)\r\n                .pressureLossMediumSupply(2.0)\r\n                .pressureLossMediumExhaust(2.0)\r\n                .enginePowerRotor(0.0)\r\n                .dryThermalPerformance(0.0)\r\n                .ofHeatRecovery(2.0)\r\n                .wrgType(WrgType.PLATTENTAUSCHER)\r\n                .earlyPressureLossFilterSupply(2.0)\r\n                .earlyPressureLossFilterExhaust(2.0)\r\n                .dimensioningPressureLossFilterSupply(2.0)\r\n                .dimensioningPressureLossFilterExchaust(2.0)\r\n                .referenceConfigurationFilterSupply(false)\r\n                .referenceConfigurationFilterExhaust(false)\r\n                .additionalFilterStageSupply(false)\r\n                .additionalFilterStageExhaust(false)\r\n                .hepaFilterSupply(false)\r\n                .hepaFilterExhaust(false)\r\n                .gasFilterSupply(false)\r\n                .gasFilterExhaust(false)\r\n                .highPerformanceCondenserSupply(false)\r\n                .highPerformanceCondenserExhaust(false)\r\n                .heightInnerDimensionSupply(2.0)\r\n                .heightInnerDimensionExhaust(2.0)\r\n                .depthInnerDimensionSupply(2.0)\r\n                .depthInnerDimensionExhaust(2.0);\r\n\r\n        calculationMapperImpl = new CalculationMapperImpl();\r\n        calculationDTO = calculationMapperImpl.calculationToCalculationDTO(calculation);\r\n\r\n        calculationResult = new CalculationResult();\r\n        calculationResult.setRealAreaSA(0.00);\r\n        calculationResult.setRealAreaEA(0.00);\r\n        calculationResult.setRealAirVelocitySA(138.89);\r\n        calculationResult.setRealAirVelocityEA(138.89);\r\n        calculationResult.setCheckedVClassSA(&quot;V9&quot;);\r\n        calculationResult.setCheckedVClassEA(&quot;V9&quot;);\r\n        calculationResult.setDeclaredVClassSA(&quot;V4&quot;);\r\n        calculationResult.setDeclaredVClassEA(&quot;V4&quot;);\r\n\r\n        calculationResult.setpMRefSA(0.00);\r\n        calculationResult.setpMRefEA(0.00);\r\n        calculationResult.setpMMaxSA(0.00);\r\n        calculationResult.setpMMaxEA(0.00);\r\n        calculationResult.setpClassSA(&quot;-&quot;);\r\n        calculationResult.setpClassEA(&quot;-&quot;);\r\n\r\n        calculationResult.setPressureLossWrg(4);\r\n        calculationResult.setPressureLossMedium(0);\r\n        calculationResult.setRatedAirVolume(2);\r\n        calculationResult.setDryThermalPower(0.00);\r\n        calculationResult.setAuxiliaryPower(0.00);\r\n        calculationResult.setElectricalPowerInput(0.00);\r\n        calculationResult.setPerformanceReferenceNumber(72.29);\r\n        calculationResult.setEfficiency(1.97);\r\n        calculationResult.sethClass(&quot;H6&quot;);\r\n\r\n        calculationResult.setpSfpVSA(3600000.00);\r\n        calculationResult.setpSfpVEA(3600000.00);\r\n        calculationResult.setExtraPSfpSA(0);\r\n        calculationResult.setExtraPSfpEA(0);\r\n        calculationResult.setSfpVClassSA(&quot;SFP7&quot;);\r\n        calculationResult.setSfpVClassEA(&quot;SFP7&quot;);\r\n\r\n        calculationResult.setSystemEfficiencySA(0.00);\r\n        calculationResult.setSystemEfficiencyEA(0.00);\r\n\r\n        calculationResult.setInternalPressureLossSA(2);\r\n        calculationResult.setInternalPressureLossEA(2);\r\n        calculationResult.setInternalPressureLossTotal(4);\r\n        calculationResult.setSfpIntSA(3600000);\r\n        calculationResult.setSfpIntEA(3600000);\r\n        calculationResult.setSfpIntTotal(7200000);\r\n\r\n        calculationResult.seteBonus2016(0);\r\n        calculationResult.seteBonus2018(0);\r\n        calculationResult.setfCorrection2016(360);\r\n        calculationResult.setfCorrection2018(340);\r\n        calculationResult.setSfpMax2016(840);\r\n        calculationResult.setSfpMax2018(760);\r\n        calculationResult.setAchieved2016(false);\r\n        calculationResult.setAchieved2018(false);\r\n\r\n\r\n\r\n        pdfGenerator = new PDFGenerator(calculationDTO, calculationResult, langval, messageSource, name);\r\n    }\r\n\r\n    @Test\r\n    public void compareFilesTest() throws IOException\r\n    {\r\n        System.out.println(calculation);\r\n\r\n        File f1 = new File(&quot;../PDFData/testPDF.pdf&quot;);\r\n        File f2 = new File(&quot;../PDFData/testPDF2.pdf&quot;);\r\n\r\n        boolean areSame = FileUtils.contentEquals(f1, f2);\r\n        System.out.println(&quot;Files were compared...&quot;);\r\n        assertTrue(areSame);\r\n\r\n    }\r\n\r\n\r\n    }\r\n\r\nThe PDFGenerator creates the testPDF2.pdf file and saves it. \r\n\r\n**UPDATE**\r\nAdding the:\r\n\r\n    @PropertySource(&quot;classpath:/src/main/resources/i18n/messages_de.properties&quot;)\r\n\r\nto the config did not do much. I also changed the locale from \r\n\r\n    String locale = &quot;de&quot;\r\n\r\nto \r\n\r\n    Locale locale = Locale.GERMAN;\r\n\r\nand I threw in the line: \r\n\r\n    System.out.println(messageSource.getMessage(&quot;pdf.klasse&quot;, null, this.locale));\r\n\r\ndirectly at the beginning of the test. I get the same error. It seems the problem is not in finding the file but in reading it. \r\n  [1]: https://i.stack.imgur.com/saf4Y.png","title":"MessageSource not being read properly during testing","body":"<p>I already checked with most similar questions and could not find a helpful answer. </p>\n\n<p>I am making a WebApplication via JHipster using Maven v3.3.9. Among other things, there is a PDF-generation that takes place. The web app is multilingual and uses the </p>\n\n<p>/resources/i18n/..</p>\n\n<p>resource files for the different translation. On live testing everything works perfectly with no problems or errors. </p>\n\n<p>I am now trying to create a test which will generate a PDF and compare it to an existing PDF so development can continue. The problem is, no matter which locale I use for testing, I get the same error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/saf4Y.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/saf4Y.png\" alt=\"org.springframeworkcontext.NoSuchMessageException: No message found under code &#39;pdf.klasse&#39; for locale &#39;de&#39;\"></a></p>\n\n<p>I am not sure what the cause of the error is. Since the messages are there and during live testing they work perfectly. </p>\n\n<p>Here is the test code:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = DeviceDataCheckApp.class)\npublic class PDFGeneratorTest\n{\nprivate MockMvc mockMvc;\n\nprivate CalculationMapperImpl calculationMapperImpl;\n\nprivate Calculation calculation;\nprivate CalculationDTO calculationDTO;\nprivate CalculationResult calculationResult;\nprivate String langval = \"de\";\nprivate String name = \"\";\n\nprivate PDFGenerator pdfGenerator;\n\n@Autowired\nprivate MessageSource messageSource;\n\n@Autowired\nprivate WebApplicationContext webApplicationContext;\n\n@Before\npublic void setup() throws IOException, URISyntaxException, IllegalAccessException, InstantiationException\n{\n    mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n\n    calculation = new Calculation()\n            .producerName(\"test\")\n            .airVolumeSupply(2.0)\n            .airVolumeExhaust(2.0)\n            .statedAirVelocitySupply(2.0)\n            .statedAirVelocityExhaust(2.0)\n            .staticPressureLossSupply(2.0)\n            .staticPressureLossExhaust(2.0)\n            .pMSupply(2.0)\n            .pMExhaust(2.0)\n            .pMAnfSupply(2.0)\n            .pMAnfExhaust(2.0)\n            .pressureLossWrgSupply(2.0)\n            .pressureLossWrgExhaust(2.0)\n            .pressureLossMediumSupply(2.0)\n            .pressureLossMediumExhaust(2.0)\n            .enginePowerRotor(0.0)\n            .dryThermalPerformance(0.0)\n            .ofHeatRecovery(2.0)\n            .wrgType(WrgType.PLATTENTAUSCHER)\n            .earlyPressureLossFilterSupply(2.0)\n            .earlyPressureLossFilterExhaust(2.0)\n            .dimensioningPressureLossFilterSupply(2.0)\n            .dimensioningPressureLossFilterExchaust(2.0)\n            .referenceConfigurationFilterSupply(false)\n            .referenceConfigurationFilterExhaust(false)\n            .additionalFilterStageSupply(false)\n            .additionalFilterStageExhaust(false)\n            .hepaFilterSupply(false)\n            .hepaFilterExhaust(false)\n            .gasFilterSupply(false)\n            .gasFilterExhaust(false)\n            .highPerformanceCondenserSupply(false)\n            .highPerformanceCondenserExhaust(false)\n            .heightInnerDimensionSupply(2.0)\n            .heightInnerDimensionExhaust(2.0)\n            .depthInnerDimensionSupply(2.0)\n            .depthInnerDimensionExhaust(2.0);\n\n    calculationMapperImpl = new CalculationMapperImpl();\n    calculationDTO = calculationMapperImpl.calculationToCalculationDTO(calculation);\n\n    calculationResult = new CalculationResult();\n    calculationResult.setRealAreaSA(0.00);\n    calculationResult.setRealAreaEA(0.00);\n    calculationResult.setRealAirVelocitySA(138.89);\n    calculationResult.setRealAirVelocityEA(138.89);\n    calculationResult.setCheckedVClassSA(\"V9\");\n    calculationResult.setCheckedVClassEA(\"V9\");\n    calculationResult.setDeclaredVClassSA(\"V4\");\n    calculationResult.setDeclaredVClassEA(\"V4\");\n\n    calculationResult.setpMRefSA(0.00);\n    calculationResult.setpMRefEA(0.00);\n    calculationResult.setpMMaxSA(0.00);\n    calculationResult.setpMMaxEA(0.00);\n    calculationResult.setpClassSA(\"-\");\n    calculationResult.setpClassEA(\"-\");\n\n    calculationResult.setPressureLossWrg(4);\n    calculationResult.setPressureLossMedium(0);\n    calculationResult.setRatedAirVolume(2);\n    calculationResult.setDryThermalPower(0.00);\n    calculationResult.setAuxiliaryPower(0.00);\n    calculationResult.setElectricalPowerInput(0.00);\n    calculationResult.setPerformanceReferenceNumber(72.29);\n    calculationResult.setEfficiency(1.97);\n    calculationResult.sethClass(\"H6\");\n\n    calculationResult.setpSfpVSA(3600000.00);\n    calculationResult.setpSfpVEA(3600000.00);\n    calculationResult.setExtraPSfpSA(0);\n    calculationResult.setExtraPSfpEA(0);\n    calculationResult.setSfpVClassSA(\"SFP7\");\n    calculationResult.setSfpVClassEA(\"SFP7\");\n\n    calculationResult.setSystemEfficiencySA(0.00);\n    calculationResult.setSystemEfficiencyEA(0.00);\n\n    calculationResult.setInternalPressureLossSA(2);\n    calculationResult.setInternalPressureLossEA(2);\n    calculationResult.setInternalPressureLossTotal(4);\n    calculationResult.setSfpIntSA(3600000);\n    calculationResult.setSfpIntEA(3600000);\n    calculationResult.setSfpIntTotal(7200000);\n\n    calculationResult.seteBonus2016(0);\n    calculationResult.seteBonus2018(0);\n    calculationResult.setfCorrection2016(360);\n    calculationResult.setfCorrection2018(340);\n    calculationResult.setSfpMax2016(840);\n    calculationResult.setSfpMax2018(760);\n    calculationResult.setAchieved2016(false);\n    calculationResult.setAchieved2018(false);\n\n\n\n    pdfGenerator = new PDFGenerator(calculationDTO, calculationResult, langval, messageSource, name);\n}\n\n@Test\npublic void compareFilesTest() throws IOException\n{\n    System.out.println(calculation);\n\n    File f1 = new File(\"../PDFData/testPDF.pdf\");\n    File f2 = new File(\"../PDFData/testPDF2.pdf\");\n\n    boolean areSame = FileUtils.contentEquals(f1, f2);\n    System.out.println(\"Files were compared...\");\n    assertTrue(areSame);\n\n}\n\n\n}\n</code></pre>\n\n<p>The PDFGenerator creates the testPDF2.pdf file and saves it. </p>\n\n<p><strong>UPDATE</strong>\nAdding the:</p>\n\n<pre><code>@PropertySource(\"classpath:/src/main/resources/i18n/messages_de.properties\")\n</code></pre>\n\n<p>to the config did not do much. I also changed the locale from </p>\n\n<pre><code>String locale = \"de\"\n</code></pre>\n\n<p>to </p>\n\n<pre><code>Locale locale = Locale.GERMAN;\n</code></pre>\n\n<p>and I threw in the line: </p>\n\n<pre><code>System.out.println(messageSource.getMessage(\"pdf.klasse\", null, this.locale));\n</code></pre>\n\n<p>directly at the beginning of the test. I get the same error. It seems the problem is not in finding the file but in reading it. </p>\n"},{"tags":["java","android","authentication","active-directory","android-11"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1674577532,"post_id":75210712,"comment_id":132741583,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":27000534,"reputation":285,"user_id":20561885,"display_name":"Mellik"},"score":0,"creation_date":1674638574,"post_id":75210712,"comment_id":132755084,"body_markdown":"I do not have any code. I am trying to find a way to code it.","body":"I do not have any code. I am trying to find a way to code it."}],"answers":[{"tags":[],"owner":{"account_id":22275407,"reputation":61,"user_id":16504677,"display_name":"mike crowley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674486455,"creation_date":1674486455,"answer_id":75211357,"question_id":75210712,"body_markdown":"Assuming you want to connect directly to domain controllers (and not an AD-authenticated web site, for example), you can use NTLMv2 and LDAP.\r\n\r\nThis question is discussed here: \r\n\r\nhttps://stackoverflow.com/questions/20124111/how-to-use-ldap-authentication-in-our-app-in-android\r\n\r\nSpecifically, here is detail for authenticating with the SDK mentioned above (though the above link includes others):\r\n\r\nhttps://docs.ldap.com/ldap-sdk/docs/getting-started/connections.html\r\n\r\nIf the user/password combination is valid, you&#39;ll get a success for the bindResponse.","title":"How do I validate a Username and Password in an Active Directory from an Android Application?","body":"<p>Assuming you want to connect directly to domain controllers (and not an AD-authenticated web site, for example), you can use NTLMv2 and LDAP.</p>\n<p>This question is discussed here:</p>\n<p><a href=\"https://stackoverflow.com/questions/20124111/how-to-use-ldap-authentication-in-our-app-in-android\">How to use LDAP authentication in our app in android?</a></p>\n<p>Specifically, here is detail for authenticating with the SDK mentioned above (though the above link includes others):</p>\n<p><a href=\"https://docs.ldap.com/ldap-sdk/docs/getting-started/connections.html\" rel=\"nofollow noreferrer\">https://docs.ldap.com/ldap-sdk/docs/getting-started/connections.html</a></p>\n<p>If the user/password combination is valid, you'll get a success for the bindResponse.</p>\n"}],"owner":{"account_id":27000534,"reputation":285,"user_id":20561885,"display_name":"Mellik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75211357,"answer_count":1,"score":-2,"last_activity_date":1674486455,"creation_date":1674483189,"question_id":75210712,"body_markdown":"I am trying to validate an entered Username and Password in an Active Directory hosted on a Server inside my Network and then retrieving a single value from said user object. The User enters the Credentials on an Device running Android 11. The Device is connected to a Subnet within the Network. The application is coded in Java. I am using Android Studio as my IDE.\r\n\r\nI would like to authenticate User credentials using an Active Directory and retrieve a single value.","title":"How do I validate a Username and Password in an Active Directory from an Android Application?","body":"<p>I am trying to validate an entered Username and Password in an Active Directory hosted on a Server inside my Network and then retrieving a single value from said user object. The User enters the Credentials on an Device running Android 11. The Device is connected to a Subnet within the Network. The application is coded in Java. I am using Android Studio as my IDE.</p>\n<p>I would like to authenticate User credentials using an Active Directory and retrieve a single value.</p>\n"},{"tags":["java","pdf","digital-signature"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1366500032,"post_id":16126235,"comment_id":23034344,"body_markdown":"Related: http://stackoverflow.com/q/6118635/1065197","body":"Related: <a href=\"http://stackoverflow.com/q/6118635/1065197\">stackoverflow.com/q/6118635/1065197</a>"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1366536528,"post_id":16126235,"comment_id":23040105,"body_markdown":"If you merely want to create empty signature fields and it is not important to be sota, you can consider using the latest iText version published under LGPL, i.e. 2.1.7 or (the unofficial) 4.2.0.","body":"If you merely want to create empty signature fields and it is not important to be sota, you can consider using the latest iText version published under LGPL, i.e. 2.1.7 or (the unofficial) 4.2.0."},{"owner":{"account_id":1580717,"reputation":548,"user_id":1466159,"accept_rate":76,"display_name":"Jovo Krneta"},"score":0,"creation_date":1366549053,"post_id":16126235,"comment_id":23042854,"body_markdown":"Yes that is the best solution but I can&#39;t understand that there is no other lib in java that is free and able to do that and that php is with TCPDF lib a better than java for this!?","body":"Yes that is the best solution but I can&#39;t understand that there is no other lib in java that is free and able to do that and that php is with TCPDF lib a better than java for this!?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1366606188,"post_id":16126235,"comment_id":23057304,"body_markdown":"I am sure that you can somehow do that with PDFBox, too, because that library exposes the low level objects quite publicly. I don&#39;t know how, though.","body":"I am sure that you can somehow do that with PDFBox, too, because that library exposes the low level objects quite publicly. I don&#39;t know how, though."}],"answers":[{"tags":[],"owner":{"account_id":484452,"reputation":21496,"user_id":900130,"accept_rate":65,"display_name":"Zolt&#225;n"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1366500685,"creation_date":1366500685,"answer_id":16126329,"question_id":16126235,"body_markdown":"Try [JasperReports][1]. It has a nice GUI for designing your PDFs.\r\n\r\n\r\n  [1]: http://community.jaspersoft.com/project/jasperreports-library","title":"Generate pdf empty signature fields free for commercial use","body":"<p>Try <a href=\"http://community.jaspersoft.com/project/jasperreports-library\" rel=\"nofollow\">JasperReports</a>. It has a nice GUI for designing your PDFs.</p>\n"},{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674486033,"creation_date":1366619130,"answer_id":16142519,"question_id":16126235,"body_markdown":"As there was no answer but the JasperReports one yet (and it can be considered an overkill to use a full-blown reporting suite just to add an empty signature field to a document), I&#39;m consolidating my comments as a second answer here:\r\n\r\nYou want to *to generate empty digital signature fields in java* but don&#39;t want to use iText because *it is not free to use for commercial sites*.\r\n\r\n1. If you merely want to create empty signature fields and it is not important to be state-of-the-art concerning the many additions and bug fixes in newer versions of iText, you can consider using the latest iText version published under LGPL, i.e. 2.1.7 or (the unofficial) 4.2.0. There are some minor fixes in the latter one as compared to the former one, so you might want to prefer that version.\r\n\r\n   In that case I would propose you check out the SVN branch in question and build it yourself instead of using one of the versions built by some third parties because some of them include undocumented changes.\r\n\r\n2. I am sure that you can somehow do that with PDFBox, too, because that library exposes the low level objects of PDFs it processes quite publicly. As I&#39;m not really into that library, I cannot tell how to do that in detail. You can simply take some PDFBox samples creating form fields, consult the PDF specification [ISO 32000-1:2008][1], and implement it, it should not be too difficult.\r\n\r\n3. A newer player among the free PDF libraries is PDF Clown. According to its doc, it doesn&#39;t deal with signatures yet. It does work with form fields and general annotations, though, so it should not be difficult to add the functionality required by you, either --- empty signature fields actually are very simple form fields, the cryptographic fun does not start before actually signing a PDF, either using an empty signature field or creating a new one on the fly.\r\n\r\n   In this case you might have to change the lib itself while in case of PDFBox I assume you can simply use the lib. But you may be able to fascinate Stefano Chizzolini, the PDF Clown creatror, to integrate that change.\r\n\r\nAll this being said, I do agree with Bruno&#39;s comment that anyone making profit (*commercial use*) by using a library created by someone else (*iText* in the case at hand) should not restrain from somehow sharing, either by sharing his code (i.e. using iText according to the AGPL) or by paying for iText.\r\n\r\nOf course, there sometimes are adverse constraints, e.g. a management very slow to allow sharing but very quick to demand realization from its dev staff... &amp;lt;sigh&amp;gt;\r\n\r\n\r\n  [1]: https://adobe.com/go/pdfreference","title":"Generate pdf empty signature fields free for commercial use","body":"<p>As there was no answer but the JasperReports one yet (and it can be considered an overkill to use a full-blown reporting suite just to add an empty signature field to a document), I'm consolidating my comments as a second answer here:</p>\n<p>You want to <em>to generate empty digital signature fields in java</em> but don't want to use iText because <em>it is not free to use for commercial sites</em>.</p>\n<ol>\n<li><p>If you merely want to create empty signature fields and it is not important to be state-of-the-art concerning the many additions and bug fixes in newer versions of iText, you can consider using the latest iText version published under LGPL, i.e. 2.1.7 or (the unofficial) 4.2.0. There are some minor fixes in the latter one as compared to the former one, so you might want to prefer that version.</p>\n<p>In that case I would propose you check out the SVN branch in question and build it yourself instead of using one of the versions built by some third parties because some of them include undocumented changes.</p>\n</li>\n<li><p>I am sure that you can somehow do that with PDFBox, too, because that library exposes the low level objects of PDFs it processes quite publicly. As I'm not really into that library, I cannot tell how to do that in detail. You can simply take some PDFBox samples creating form fields, consult the PDF specification <a href=\"https://adobe.com/go/pdfreference\" rel=\"nofollow noreferrer\">ISO 32000-1:2008</a>, and implement it, it should not be too difficult.</p>\n</li>\n<li><p>A newer player among the free PDF libraries is PDF Clown. According to its doc, it doesn't deal with signatures yet. It does work with form fields and general annotations, though, so it should not be difficult to add the functionality required by you, either --- empty signature fields actually are very simple form fields, the cryptographic fun does not start before actually signing a PDF, either using an empty signature field or creating a new one on the fly.</p>\n<p>In this case you might have to change the lib itself while in case of PDFBox I assume you can simply use the lib. But you may be able to fascinate Stefano Chizzolini, the PDF Clown creatror, to integrate that change.</p>\n</li>\n</ol>\n<p>All this being said, I do agree with Bruno's comment that anyone making profit (<em>commercial use</em>) by using a library created by someone else (<em>iText</em> in the case at hand) should not restrain from somehow sharing, either by sharing his code (i.e. using iText according to the AGPL) or by paying for iText.</p>\n<p>Of course, there sometimes are adverse constraints, e.g. a management very slow to allow sharing but very quick to demand realization from its dev staff... &lt;sigh&gt;</p>\n"}],"owner":{"account_id":1580717,"reputation":548,"user_id":1466159,"accept_rate":76,"display_name":"Jovo Krneta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2585,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":16142519,"answer_count":2,"score":-4,"last_activity_date":1674486033,"creation_date":1366499937,"question_id":16126235,"body_markdown":"Is there any java lib that I can use (Itext is not free to use for commercial sites) to generate empty digital signature fields in java from servlets or jsp . I must have more than one empty signature field generated . Php has TCPDF , is there something similar in java . ","title":"Generate pdf empty signature fields free for commercial use","body":"<p>Is there any java lib that I can use (Itext is not free to use for commercial sites) to generate empty digital signature fields in java from servlets or jsp . I must have more than one empty signature field generated . Php has TCPDF , is there something similar in java . </p>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":6836018,"reputation":803,"user_id":5257981,"display_name":"kaweesha"},"score":0,"creation_date":1674933012,"post_id":75211142,"comment_id":132821161,"body_markdown":"Please add an example code to reproduce your error.","body":"Please add an example code to reproduce your error."}],"owner":{"account_id":20482132,"reputation":1,"user_id":15030122,"display_name":"Rahul Kumbhare"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674485988,"creation_date":1674485317,"question_id":75211142,"body_markdown":"I&#39;m running simple Selenium test, which uses selenium version 4.0.0 and chromedriver version 109. I&#39;m running automation test on Salesforce application, which logs into the application and performs some operation. In the middle of the test execution, I get below error:\r\n\r\n```\r\nJan 23, 2023 7:58:23 PM org.openqa.selenium.devtools.Connection handle\r\nINFO: &lt;- {&quot;method&quot;:&quot;Inspector.detached&quot;,&quot;params&quot;:{&quot;reason&quot;:&quot;target_closed&quot;}}\r\nJan 23, 2023 7:58:23 PM org.openqa.selenium.devtools.Connection handle\r\nINFO: Method Inspector.detached called with 0 callbacks available\r\n```\r\n\r\nAfter this connection to the browser is lost and when any further selenium webdriver statement(e.g. findElement) is executed, I gives exception:\r\n\r\n```\r\norg.openqa.selenium.NoSuchWindowException: no such window: target window already closed\r\nfrom unknown error: web view not found\r\n```\r\n\r\nCan someone please help me with this ?\r\n\r\nI tried different ways to fix the problem, Removed &#39;Thread.sleep&#39; and updated browser capabilities as mentioned in this post, but it didn&#39;t work:  \r\nhttps://stackoverflow.com/questions/59369088/org-openqa-selenium-webdriverexception-disconnected-received-inspector-detache","title":"Getting {&quot;method&quot;:&quot;Inspector.detached&quot;,&quot;params&quot;:{&quot;reason&quot;:&quot;target_closed&quot;}} error in running selenium chromedriver","body":"<p>I'm running simple Selenium test, which uses selenium version 4.0.0 and chromedriver version 109. I'm running automation test on Salesforce application, which logs into the application and performs some operation. In the middle of the test execution, I get below error:</p>\n<pre><code>Jan 23, 2023 7:58:23 PM org.openqa.selenium.devtools.Connection handle\nINFO: &lt;- {&quot;method&quot;:&quot;Inspector.detached&quot;,&quot;params&quot;:{&quot;reason&quot;:&quot;target_closed&quot;}}\nJan 23, 2023 7:58:23 PM org.openqa.selenium.devtools.Connection handle\nINFO: Method Inspector.detached called with 0 callbacks available\n</code></pre>\n<p>After this connection to the browser is lost and when any further selenium webdriver statement(e.g. findElement) is executed, I gives exception:</p>\n<pre><code>org.openqa.selenium.NoSuchWindowException: no such window: target window already closed\nfrom unknown error: web view not found\n</code></pre>\n<p>Can someone please help me with this ?</p>\n<p>I tried different ways to fix the problem, Removed 'Thread.sleep' and updated browser capabilities as mentioned in this post, but it didn't work:<br />\n<a href=\"https://stackoverflow.com/questions/59369088/org-openqa-selenium-webdriverexception-disconnected-received-inspector-detache\">org.openqa.selenium.WebDriverException: disconnected: received Inspector.detached event error during test execution using Selenium and Chromedriver</a></p>\n"},{"tags":["java","abstract-class","abstract","abstract-methods"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":1,"creation_date":1266431889,"post_id":2283399,"comment_id":2246841,"body_markdown":"See also http://stackoverflow.com/questions/362446/abstract-class-with-all-concrete-methods, but I don&#39;t think it&#39;s *quite* a duplicate.","body":"See also <a href=\"http://stackoverflow.com/questions/362446/abstract-class-with-all-concrete-methods\" title=\"abstract class with all concrete methods\">stackoverflow.com/questions/362446/&hellip;</a>, but I don&#39;t think it&#39;s <i>quite</i> a duplicate."}],"answers":[{"tags":[],"owner":{"account_id":29404,"reputation":45520,"user_id":79439,"accept_rate":62,"display_name":"thecoop"},"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1266431870,"creation_date":1266431870,"answer_id":2283410,"question_id":2283399,"body_markdown":"No - you can declare a class abstract without having any abstract methods. It may not make any sense conceptually for an instance of that class to exist, or you may want to ensure that only subclasses of that class can be instantiated (for whatever reason)","title":"Should an abstract class have at least one abstract method?","body":"<p>No - you can declare a class abstract without having any abstract methods. It may not make any sense conceptually for an instance of that class to exist, or you may want to ensure that only subclasses of that class can be instantiated (for whatever reason)</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1674485480,"creation_date":1266431872,"answer_id":2283411,"question_id":2283399,"body_markdown":"No, it is not necessary. You see this often back in [&quot;template method&quot;][1] design pattern, like [`HttpServlet`][2], wherein each method already has default behaviour definied and you&#39;re free to override just one (or more) of them instead of *all* of them.\r\n\r\nThe `HttpServlet` class is merely `abstract` to prevent direct initialization by inadvertendly using `new HttpServlet()` which would otherwise basically have returned an empty, unimplemented and useless servlet instance.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Template_method_pattern\r\n  [2]: https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservlet","title":"Should an abstract class have at least one abstract method?","body":"<p>No, it is not necessary. You see this often back in <a href=\"https://en.wikipedia.org/wiki/Template_method_pattern\" rel=\"nofollow noreferrer\">&quot;template method&quot;</a> design pattern, like <a href=\"https://jakarta.ee/specifications/platform/10/apidocs/jakarta/servlet/http/httpservlet\" rel=\"nofollow noreferrer\"><code>HttpServlet</code></a>, wherein each method already has default behaviour definied and you're free to override just one (or more) of them instead of <em>all</em> of them.</p>\n<p>The <code>HttpServlet</code> class is merely <code>abstract</code> to prevent direct initialization by inadvertendly using <code>new HttpServlet()</code> which would otherwise basically have returned an empty, unimplemented and useless servlet instance.</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1266434683,"creation_date":1266432113,"answer_id":2283437,"question_id":2283399,"body_markdown":"In JDK 1.0 it was indeed necessary to have at least one abstract method in an abstract class. This restriction was removed in JDK 1.1 (1997? (I&#39;m old)) and such classes added to the Java library, such as `java.awt.event.KeyAdapter`.\r\n\r\nIn C++ you need at least one pure virtual function to make a subclass necessary, and at least one virtual function to add RTTI to the class. Typically it makes sense to use the destructor.\r\n\r\nNote when overriding non-abstract methods, using `@Override` is a good idea. It not only tells the reader important information about what the code is attempting to do, but also spots common errors where typos or incorrect parameter types prevents the override.","title":"Should an abstract class have at least one abstract method?","body":"<p>In JDK 1.0 it was indeed necessary to have at least one abstract method in an abstract class. This restriction was removed in JDK 1.1 (1997? (I'm old)) and such classes added to the Java library, such as <code>java.awt.event.KeyAdapter</code>.</p>\n\n<p>In C++ you need at least one pure virtual function to make a subclass necessary, and at least one virtual function to add RTTI to the class. Typically it makes sense to use the destructor.</p>\n\n<p>Note when overriding non-abstract methods, using <code>@Override</code> is a good idea. It not only tells the reader important information about what the code is attempting to do, but also spots common errors where typos or incorrect parameter types prevents the override.</p>\n"},{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1266456760,"creation_date":1266432212,"answer_id":2283450,"question_id":2283399,"body_markdown":"The subject of this post and the body ask two different questions:\r\n\r\n1. Should it have at least one abstract member?\r\n2. Is it necessary to have at least one abstract member?\r\n\r\nThe answer to #2 is definitively no.\r\n\r\nThe answer to #1 is subjective and a matter of style. Personally I would say yes. If your intent is to prevent a class (with no abstract methods) from being instantiated, the best way to handle this is with a &lt;strike&gt;`private`&lt;/strike&gt;`protected` constructor, not by marking it `abstract`.","title":"Should an abstract class have at least one abstract method?","body":"<p>The subject of this post and the body ask two different questions:</p>\n\n<ol>\n<li>Should it have at least one abstract member?</li>\n<li>Is it necessary to have at least one abstract member?</li>\n</ol>\n\n<p>The answer to #2 is definitively no.</p>\n\n<p>The answer to #1 is subjective and a matter of style. Personally I would say yes. If your intent is to prevent a class (with no abstract methods) from being instantiated, the best way to handle this is with a <strike><code>private</code></strike><code>protected</code> constructor, not by marking it <code>abstract</code>.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1384207264,"creation_date":1266432452,"answer_id":2283473,"question_id":2283399,"body_markdown":"If a class has an `abstract` modifier on its declaration it becomes `abstract` class.","title":"Should an abstract class have at least one abstract method?","body":"<p>If a class has an <code>abstract</code> modifier on its declaration it becomes <code>abstract</code> class.</p>\n"}],"owner":{"account_id":99559,"reputation":17675,"user_id":268850,"accept_rate":68,"display_name":"java_geek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39496,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":2283450,"answer_count":5,"score":23,"last_activity_date":1674485480,"creation_date":1266431718,"question_id":2283399,"body_markdown":"Is it necessary for an abstract class to have at least one abstract method?","title":"Should an abstract class have at least one abstract method?","body":"<p>Is it necessary for an abstract class to have at least one abstract method?</p>\n"},{"tags":["java","eclipse","rcp","nattable"],"comments":[{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1674473904,"post_id":75208466,"comment_id":132714195,"body_markdown":"Which OS is this?","body":"Which OS is this?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1674481029,"post_id":75208466,"comment_id":132716489,"body_markdown":"It&#39;s a visual thing, so please show screenshots of it. Please improve your question instead of commenting on it.","body":"It&#39;s a visual thing, so please show screenshots of it. Please improve your question instead of commenting on it."}],"owner":{"account_id":27599438,"reputation":1,"user_id":21064976,"display_name":"Rezan Hannan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674485338,"creation_date":1674471172,"question_id":75208466,"body_markdown":"[Screenshot: on monitor with scale 125%][1]\r\nI develop an eclipse rcp app and face a strange phenomenon. When run the app through eclipse rcp ide, the dropdown(Compobox from org.eclipse.nebula.widgets.nattable.widget) behaves in an expected manner on all monitor scales(100%, 125%,..): the menu direction is up when opened on the edge of the screen.\r\nWhen run the local created app (exe) the dropdown behaves differently on 125%: the direction is down so the menu is hidden. \r\nI use eclipse IDE 2022-12, java 17, plug-ins: Eclipse 4 RCP 4.26.0.v20221123-2302, Eclipse e4 tools: 4.26.0.v.20221111-1233 on Windows 10 Enterprise version 21H2\r\nHow can I solve this problem?\r\n\r\nI have tried to copy plug-ins from the ide to my app, but could not get desired results\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KKFFD.png","title":"Difference between local built and that through eclipse rcp ide running app","body":"<p><a href=\"https://i.stack.imgur.com/KKFFD.png\" rel=\"nofollow noreferrer\">Screenshot: on monitor with scale 125%</a>\nI develop an eclipse rcp app and face a strange phenomenon. When run the app through eclipse rcp ide, the dropdown(Compobox from org.eclipse.nebula.widgets.nattable.widget) behaves in an expected manner on all monitor scales(100%, 125%,..): the menu direction is up when opened on the edge of the screen.\nWhen run the local created app (exe) the dropdown behaves differently on 125%: the direction is down so the menu is hidden.\nI use eclipse IDE 2022-12, java 17, plug-ins: Eclipse 4 RCP 4.26.0.v20221123-2302, Eclipse e4 tools: 4.26.0.v.20221111-1233 on Windows 10 Enterprise version 21H2\nHow can I solve this problem?</p>\n<p>I have tried to copy plug-ins from the ide to my app, but could not get desired results</p>\n"},{"tags":["java","mysql","spring","spring-boot","hibernate"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1674484680,"post_id":75210998,"comment_id":132717823,"body_markdown":"You are trying to delete a parent row without first removing all its children rows","body":"You are trying to delete a parent row without first removing all its children rows"},{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":0,"creation_date":1674484780,"post_id":75210998,"comment_id":132717867,"body_markdown":"You might consider adding a Delete Cascade to the schema, if that makes sense to your database design","body":"You might consider adding a Delete Cascade to the schema, if that makes sense to your database design"}],"answers":[{"tags":[],"owner":{"account_id":3719229,"reputation":1,"user_id":3094642,"display_name":"sayekooie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674485188,"creation_date":1674485188,"answer_id":75211113,"question_id":75210998,"body_markdown":"best practice is to have remove boolean in your document and make it true or false it cause to have soft delete instead of hard delete","title":"Error when deleting item from database in SpringBoot: Cannot delete or update a parent row: a foreign key constraint fails","body":"<p>best practice is to have remove boolean in your document and make it true or false it cause to have soft delete instead of hard delete</p>\n"}],"owner":{"account_id":27547046,"reputation":11,"user_id":21022811,"display_name":"James Coding"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1674485188,"creation_date":1674484582,"question_id":75210998,"body_markdown":"I have two tables, item and user, userId is a foreign key in item table using @ManyToOne mapping. I need to delete an item just by pressing a button on a bootstrap front end but I get the error: Cannot delete or update a parent row: a foreign key constraint fails (`jdbc`.`ms_item`, CONSTRAINT `FKli14y8viufmofrho0tdmgqawy` FOREIGN KEY (`id`) REFERENCES `ms_users` (`id`)). I understand that I can&#39;t delete a row from a db which has reference to another entity so Im wondering how I can delete. Another thing to note is that update works fine!\r\n\r\nHere is my code: \r\n\r\n    @Controller\r\n    public class ProductController {\r\n\r\n    @Autowired\r\n    private ItemRepository itemRepository;\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Autowired\r\n    private ItemServiceImp itemServiceImp;\r\n\r\n    @GetMapping(&quot;/listItems&quot;)\r\n    public String listing(Model model) {\r\n        model.addAttribute(&quot;item&quot;, new Item());\r\n        model.addAttribute(&quot;pageTitle&quot;, &quot;Sell Product&quot;);\r\n        return &quot;addItem&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/products&quot;)\r\n    public String listItems(Model model, Principal principal) {\r\n        User user = userRepository.findByEmail(principal.getName());\r\n        List&lt;Item&gt; listItems = itemRepository.findByUser(user);\r\n        model.addAttribute(&quot;listItems&quot;, listItems);\r\n        return &quot;productList&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/products/save&quot;)\r\n    public String itemAdd(Item item, Principal principal, RedirectAttributes redirectAttributes) {\r\n        User user = userRepository.findByEmail(principal.getName());\r\n        item.setUser(user);\r\n        itemRepository.save(item);\r\n        redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Product Listed for sale&quot;);\r\n        return &quot;home_page&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/products/update/{itemId}&quot;)\r\n        public String updateItem(@PathVariable(&quot;itemId&quot;) Long itemId, Model model, RedirectAttributes redirectAttributes) {\r\n        try {\r\n            Item item = itemServiceImp.get(itemId);\r\n            model.addAttribute(&quot;item&quot;, item);\r\n            model.addAttribute(&quot;pageTitle&quot;, &quot;Update Product&quot;);\r\n            return &quot;addItem&quot;;\r\n        } catch (ItemNotFoundException e) {\r\n            redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Product Updated&quot;);\r\n            return &quot;home_page&quot;;\r\n        }\r\n\r\n    }\r\n\r\n    @GetMapping(&quot;/products/delete/{itemId}&quot;)\r\n    public String deleteItem(@PathVariable(&quot;itemId&quot;) Long itemId) {\r\n\r\n        itemServiceImp.delete(itemId);\r\n        return &quot;redirect/productList&quot;;\r\n    }\r\n\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;msItem&quot;)\r\n    public class Item {\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\tprivate long itemId;\r\n\t@Column(nullable = false, length = 45)\r\n\tprivate String itemName;\r\n\t@Column(nullable = false)\r\n\tprivate int itemPrice;\r\n\t@Column(nullable = false, length = 100)\r\n\tprivate String itemDesc;\r\n\t@Column(nullable = false, length = 100)\r\n\tprivate String category;\r\n\t@Column(nullable = false, length = 100)\r\n\tprivate String image;\r\n\t@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\r\n        @JoinColumn(name = &quot;id&quot;)\r\n        private User user;\r\n\r\n\r\n    @Service\r\n    public class ItemServiceImp{\r\n\r\n    @Autowired\r\n    private ItemRepository itemRepository;\r\n\r\n    public List&lt;Item&gt; listItems(User user) {\r\n         return itemRepository.findByUser(user);\r\n    }\r\n\r\n    public Item get(Long itemId) throws ItemNotFoundException {\r\n        Optional&lt;Item&gt; result = itemRepository.findById(itemId);\r\n\r\n        if (result.isPresent()) {\r\n            return result.get();\r\n        }\r\n\r\n        throw new ItemNotFoundException(&quot;No Item with id: &quot; + itemId);\r\n    }\r\n\r\n    public void delete(Long itemId) {\r\n        itemRepository.deleteById(itemId);\r\n    }\r\n    }\r\n\r\n\r\n","title":"Error when deleting item from database in SpringBoot: Cannot delete or update a parent row: a foreign key constraint fails","body":"<p>I have two tables, item and user, userId is a foreign key in item table using @ManyToOne mapping. I need to delete an item just by pressing a button on a bootstrap front end but I get the error: Cannot delete or update a parent row: a foreign key constraint fails (<code>jdbc</code>.<code>ms_item</code>, CONSTRAINT <code>FKli14y8viufmofrho0tdmgqawy</code> FOREIGN KEY (<code>id</code>) REFERENCES <code>ms_users</code> (<code>id</code>)). I understand that I can't delete a row from a db which has reference to another entity so Im wondering how I can delete. Another thing to note is that update works fine!</p>\n<p>Here is my code:</p>\n<pre><code>@Controller\npublic class ProductController {\n\n@Autowired\nprivate ItemRepository itemRepository;\n@Autowired\nprivate UserRepository userRepository;\n\n@Autowired\nprivate ItemServiceImp itemServiceImp;\n\n@GetMapping(&quot;/listItems&quot;)\npublic String listing(Model model) {\n    model.addAttribute(&quot;item&quot;, new Item());\n    model.addAttribute(&quot;pageTitle&quot;, &quot;Sell Product&quot;);\n    return &quot;addItem&quot;;\n}\n\n@GetMapping(&quot;/products&quot;)\npublic String listItems(Model model, Principal principal) {\n    User user = userRepository.findByEmail(principal.getName());\n    List&lt;Item&gt; listItems = itemRepository.findByUser(user);\n    model.addAttribute(&quot;listItems&quot;, listItems);\n    return &quot;productList&quot;;\n}\n\n@PostMapping(&quot;/products/save&quot;)\npublic String itemAdd(Item item, Principal principal, RedirectAttributes redirectAttributes) {\n    User user = userRepository.findByEmail(principal.getName());\n    item.setUser(user);\n    itemRepository.save(item);\n    redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Product Listed for sale&quot;);\n    return &quot;home_page&quot;;\n}\n\n@GetMapping(&quot;/products/update/{itemId}&quot;)\n    public String updateItem(@PathVariable(&quot;itemId&quot;) Long itemId, Model model, RedirectAttributes redirectAttributes) {\n    try {\n        Item item = itemServiceImp.get(itemId);\n        model.addAttribute(&quot;item&quot;, item);\n        model.addAttribute(&quot;pageTitle&quot;, &quot;Update Product&quot;);\n        return &quot;addItem&quot;;\n    } catch (ItemNotFoundException e) {\n        redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Product Updated&quot;);\n        return &quot;home_page&quot;;\n    }\n\n}\n\n@GetMapping(&quot;/products/delete/{itemId}&quot;)\npublic String deleteItem(@PathVariable(&quot;itemId&quot;) Long itemId) {\n\n    itemServiceImp.delete(itemId);\n    return &quot;redirect/productList&quot;;\n}\n\n}\n\n\n@Entity\n@Table(name = &quot;msItem&quot;)\npublic class Item {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate long itemId;\n@Column(nullable = false, length = 45)\nprivate String itemName;\n@Column(nullable = false)\nprivate int itemPrice;\n@Column(nullable = false, length = 100)\nprivate String itemDesc;\n@Column(nullable = false, length = 100)\nprivate String category;\n@Column(nullable = false, length = 100)\nprivate String image;\n@ManyToOne(fetch = FetchType.EAGER, cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;id&quot;)\n    private User user;\n\n\n@Service\npublic class ItemServiceImp{\n\n@Autowired\nprivate ItemRepository itemRepository;\n\npublic List&lt;Item&gt; listItems(User user) {\n     return itemRepository.findByUser(user);\n}\n\npublic Item get(Long itemId) throws ItemNotFoundException {\n    Optional&lt;Item&gt; result = itemRepository.findById(itemId);\n\n    if (result.isPresent()) {\n        return result.get();\n    }\n\n    throw new ItemNotFoundException(&quot;No Item with id: &quot; + itemId);\n}\n\npublic void delete(Long itemId) {\n    itemRepository.deleteById(itemId);\n}\n}\n</code></pre>\n"},{"tags":["java","ssl","ca"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":1,"creation_date":1674453135,"post_id":75206000,"comment_id":132709373,"body_markdown":"It gets the certificate from the server when requesting a HTTPS website.","body":"It gets the certificate from the server when requesting a HTTPS website."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674486071,"post_id":75206000,"comment_id":132718373,"body_markdown":"@tkausl: that&#39;s technically correct, but it **trusts** the certificates it gets from the server, because they are signed by the well-known CAs.","body":"@tkausl: that&#39;s technically correct, but it <b>trusts</b> the certificates it gets from the server, because they are signed by the well-known CAs."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674484574,"creation_date":1674484574,"answer_id":75210994,"question_id":75206000,"body_markdown":"You are correct - if a cert provided by a server is not signed by recognised CA then the cert that signed the provided cert needs to be added to CACERTS. By recognised CA I mean one that is the CACERTS of the default Java install.\r\n\r\nStrictly speaking it&#39;s a bit more complicated. A cert will be trusted if it&#39;s signing path (signed-by, signed-by...) can be traced back in the cert chain provided by the server to one in CACERTS.\r\n\r\nThe public keys are part of the certs. If you want to see all the public keys in CACERTS run the following from your JAVA_HOME with bin on the path:\r\n\r\n    keytool -list -rfc -keystore jre/lib/security/cacerts\r\n\r\npassword is changeit\r\n\r\nThis will give you lots of output that will include the actual certs, eg:\r\n\r\n    -----BEGIN CERTIFICATE-----\r\n    MIICsDCCAhmgAwIBAgIQZ8jh6OO+HL38kTuOpiOHSTANBgkqhkiG9w0BAQUFADCB\r\n    izELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTEUMBIGA1UEBxML\r\n    RHVyYmFudmlsbGUxDzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUVGhhd3RlIENl\r\n    cnRpZmljYXRpb24xHzAdBgNVBAMTFlRoYXd0ZSBUaW1lc3RhbXBpbmcgQ0EwHhcN\r\n    OTcwMTAxMDAwMDAwWhcNMjEwMTAxMjM1OTU5WjCBizELMAkGA1UEBhMCWkExFTAT\r\n    BgNVBAgTDFdlc3Rlcm4gQ2FwZTEUMBIGA1UEBxMLRHVyYmFudmlsbGUxDzANBgNV\r\n    BAoTBlRoYXd0ZTEdMBsGA1UECxMUVGhhd3RlIENlcnRpZmljYXRpb24xHzAdBgNV\r\n    BAMTFlRoYXd0ZSBUaW1lc3RhbXBpbmcgQ0EwgZ8wDQYJKoZIhvcNAQEBBQADgY0A\r\n    MIGJAoGBANYrWHhhRYZT6jR7UZztsOYuGA7+4F+oJ9O0yeB8WU4WDnNUYMF/9p8u\r\n    6TqFJBU820cEY8OexJQaWt9MevPZQx08EHp5JduQ/vBR5zDWQQD9nyjfeb6Uu522\r\n    FOMjhdepQeBMpHmwKxqL8vg7ij5FrHGSALSQQZj7X+36ty6K+Ig3AgMBAAGjEzAR\r\n    MA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQEFBQADgYEAS+mqF4EF+3kKMZ/F\r\n    QfRWVKvpwuWXjhj+kckMPiZkyaFMJ2SnvQGTVXFuF0853BvcSTUQOSP/ypvIz2Y/\r\n    3Ewa1IEGQlIf4SaxFhe65nByMUToTo1b5NP50OOPJWQx5yr4GIg2GlLFDUE1G2m3\r\n    JvUXzMEZXkt8XOKDgJH6L/uatxY=\r\n    -----END CERTIFICATE-----\r\n\r\nThen use a site like [this][1] to inspect the public key - it is under &#39;RAW OUTPUT&quot;\r\n\r\n       Subject Public Key Info:\r\n            Public Key Algorithm: rsaEncryption\r\n                Public-Key: (1024 bit)\r\n                Modulus:\r\n                     00:d6:2b:58:78:61:45:86:53:ea:34:7b:51:9c:ed:\r\n                    b0:e6:2e:18:0e:fe:e0:5f:a8:27:d3:b4:c9:e0:7c:\r\n                    59:4e:16:0e:73:54:60:c1:7f:f6:9f:2e:e9:3a:85:\r\n                    24:15:3c:db:47:04:63:c3:9e:c4:94:1a:5a:df:4c:\r\n                    7a:f3:d9:43:1d:3c:10:7a:79:25:db:90:fe:f0:51:\r\n                    e7:30:d6:41:00:fd:9f:28:df:79:be:94:bb:9d:b6:\r\n                    14:e3:23:85:d7:a9:41:e0:4c:a4:79:b0:2b:1a:8b:\r\n                    f2:f8:3b:8a:3e:45:ac:71:92:00:b4:90:41:98:fb:\r\n                    5f:ed:fa:b7:2e:8a:f8:88:37\r\n                Exponent: 65537 (0x10001)\r\n\r\n \r\n\r\n\r\n  [1]: https://www.sslchecker.com/certdecoder","title":"java ssl certificate &amp; CA","body":"<p>You are correct - if a cert provided by a server is not signed by recognised CA then the cert that signed the provided cert needs to be added to CACERTS. By recognised CA I mean one that is the CACERTS of the default Java install.</p>\n<p>Strictly speaking it's a bit more complicated. A cert will be trusted if it's signing path (signed-by, signed-by...) can be traced back in the cert chain provided by the server to one in CACERTS.</p>\n<p>The public keys are part of the certs. If you want to see all the public keys in CACERTS run the following from your JAVA_HOME with bin on the path:</p>\n<pre><code>keytool -list -rfc -keystore jre/lib/security/cacerts\n</code></pre>\n<p>password is changeit</p>\n<p>This will give you lots of output that will include the actual certs, eg:</p>\n<pre><code>-----BEGIN CERTIFICATE-----\nMIICsDCCAhmgAwIBAgIQZ8jh6OO+HL38kTuOpiOHSTANBgkqhkiG9w0BAQUFADCB\nizELMAkGA1UEBhMCWkExFTATBgNVBAgTDFdlc3Rlcm4gQ2FwZTEUMBIGA1UEBxML\nRHVyYmFudmlsbGUxDzANBgNVBAoTBlRoYXd0ZTEdMBsGA1UECxMUVGhhd3RlIENl\ncnRpZmljYXRpb24xHzAdBgNVBAMTFlRoYXd0ZSBUaW1lc3RhbXBpbmcgQ0EwHhcN\nOTcwMTAxMDAwMDAwWhcNMjEwMTAxMjM1OTU5WjCBizELMAkGA1UEBhMCWkExFTAT\nBgNVBAgTDFdlc3Rlcm4gQ2FwZTEUMBIGA1UEBxMLRHVyYmFudmlsbGUxDzANBgNV\nBAoTBlRoYXd0ZTEdMBsGA1UECxMUVGhhd3RlIENlcnRpZmljYXRpb24xHzAdBgNV\nBAMTFlRoYXd0ZSBUaW1lc3RhbXBpbmcgQ0EwgZ8wDQYJKoZIhvcNAQEBBQADgY0A\nMIGJAoGBANYrWHhhRYZT6jR7UZztsOYuGA7+4F+oJ9O0yeB8WU4WDnNUYMF/9p8u\n6TqFJBU820cEY8OexJQaWt9MevPZQx08EHp5JduQ/vBR5zDWQQD9nyjfeb6Uu522\nFOMjhdepQeBMpHmwKxqL8vg7ij5FrHGSALSQQZj7X+36ty6K+Ig3AgMBAAGjEzAR\nMA8GA1UdEwEB/wQFMAMBAf8wDQYJKoZIhvcNAQEFBQADgYEAS+mqF4EF+3kKMZ/F\nQfRWVKvpwuWXjhj+kckMPiZkyaFMJ2SnvQGTVXFuF0853BvcSTUQOSP/ypvIz2Y/\n3Ewa1IEGQlIf4SaxFhe65nByMUToTo1b5NP50OOPJWQx5yr4GIg2GlLFDUE1G2m3\nJvUXzMEZXkt8XOKDgJH6L/uatxY=\n-----END CERTIFICATE-----\n</code></pre>\n<p>Then use a site like <a href=\"https://www.sslchecker.com/certdecoder\" rel=\"nofollow noreferrer\">this</a> to inspect the public key - it is under 'RAW OUTPUT&quot;</p>\n<pre><code>   Subject Public Key Info:\n        Public Key Algorithm: rsaEncryption\n            Public-Key: (1024 bit)\n            Modulus:\n                 00:d6:2b:58:78:61:45:86:53:ea:34:7b:51:9c:ed:\n                b0:e6:2e:18:0e:fe:e0:5f:a8:27:d3:b4:c9:e0:7c:\n                59:4e:16:0e:73:54:60:c1:7f:f6:9f:2e:e9:3a:85:\n                24:15:3c:db:47:04:63:c3:9e:c4:94:1a:5a:df:4c:\n                7a:f3:d9:43:1d:3c:10:7a:79:25:db:90:fe:f0:51:\n                e7:30:d6:41:00:fd:9f:28:df:79:be:94:bb:9d:b6:\n                14:e3:23:85:d7:a9:41:e0:4c:a4:79:b0:2b:1a:8b:\n                f2:f8:3b:8a:3e:45:ac:71:92:00:b4:90:41:98:fb:\n                5f:ed:fa:b7:2e:8a:f8:88:37\n            Exponent: 65537 (0x10001)\n</code></pre>\n"}],"owner":{"account_id":20860846,"reputation":1,"user_id":15323117,"display_name":"Andrey Pylyptiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1674484574,"creation_date":1674452735,"question_id":75206000,"body_markdown":"How does my java application get a public key, for example the google or facebook domains WITHOUT THE NEED to add their .cer files in cacerts keystore? \r\n\r\nI suspect that the reason is that such domains use well-known Certification authority, CA, that may already be in java cacerts keystore file (depending on version java? I tried to see if there are certificates up to 2030-2040 validity, or I&#39;m wrong in my theory). But if I guess correctly, then where are the public keys from these domains stored? I would like an expert opinion on this matter.","title":"java ssl certificate &amp; CA","body":"<p>How does my java application get a public key, for example the google or facebook domains WITHOUT THE NEED to add their .cer files in cacerts keystore?</p>\n<p>I suspect that the reason is that such domains use well-known Certification authority, CA, that may already be in java cacerts keystore file (depending on version java? I tried to see if there are certificates up to 2030-2040 validity, or I'm wrong in my theory). But if I guess correctly, then where are the public keys from these domains stored? I would like an expert opinion on this matter.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1674483182,"post_id":75210044,"comment_id":132717237,"body_markdown":"Do you have a JPA query? I am not sure how supported it is to filter the relationship beforehand. Something I found [is this related question](https://stackoverflow.com/questions/60863789/select-only-a-subset-of-an-entities-collection)","body":"Do you have a JPA query? I am not sure how supported it is to filter the relationship beforehand. Something I found <a href=\"https://stackoverflow.com/questions/60863789/select-only-a-subset-of-an-entities-collection\">is this related question</a>"},{"owner":{"account_id":8256521,"reputation":133,"user_id":6209532,"display_name":"Sotiris Oik"},"score":0,"creation_date":1674483784,"post_id":75210044,"comment_id":132717459,"body_markdown":"It looks relevant but it that case the function would be findeAsByeBsByeCs (or something like that) which does not seem to be possible cause its the &quot;third level&quot; which I need to apply the clause to","body":"It looks relevant but it that case the function would be findeAsByeBsByeCs (or something like that) which does not seem to be possible cause its the &quot;third level&quot; which I need to apply the clause to"}],"answers":[{"tags":[],"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674484235,"creation_date":1674484235,"answer_id":75210932,"question_id":75210044,"body_markdown":"You should be able to use a [derived query method][1] in your repository interface, no SQL needed. Spring Data can derive queries based only on the name of a repository method and its parameter type(s). It&#39;s a powerful feature, useful to avoid the need to write SQL or JPQL queries manually. [Here is another useful explanation][2] with some examples.\r\n\r\nFor your case, the repository method name to filter nested objects would be somewhat complex, but doable. The exact repository method name depends on the field names in your entity classes, which you didn&#39;t show us. So assuming classes like this (annotations omitted):\r\n\r\n```java\r\npublic class A {\r\n    private long id;\r\n    private Collection&lt;B&gt; entityBs;\r\n}\r\n\r\npublic class B {\r\n    private long id;\r\n    private Collection&lt;C&gt; entityCs;\r\n}\r\n\r\npublic class C {\r\n    private long id;\r\n}\r\n```\r\n\r\nThe repository method would look like this:\r\n\r\n```java\r\npublic interface EntityARepository extends JPARepository&lt;A, long&gt; {\r\n    Collection&lt;A&gt; findByEntityBsEntityCsIdIn(long[] ids);\r\n}\r\n```\r\n\r\nThe return type of the repo method can be other types, [as documented here][3], depending on how you want the results returned.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods\r\n  [2]: https://www.baeldung.com/spring-data-derived-queries\r\n  [3]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-return-types","title":"Spring boot JPA filter data based on relation","body":"<p>You should be able to use a <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.query-methods\" rel=\"nofollow noreferrer\">derived query method</a> in your repository interface, no SQL needed. Spring Data can derive queries based only on the name of a repository method and its parameter type(s). It's a powerful feature, useful to avoid the need to write SQL or JPQL queries manually. <a href=\"https://www.baeldung.com/spring-data-derived-queries\" rel=\"nofollow noreferrer\">Here is another useful explanation</a> with some examples.</p>\n<p>For your case, the repository method name to filter nested objects would be somewhat complex, but doable. The exact repository method name depends on the field names in your entity classes, which you didn't show us. So assuming classes like this (annotations omitted):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n    private long id;\n    private Collection&lt;B&gt; entityBs;\n}\n\npublic class B {\n    private long id;\n    private Collection&lt;C&gt; entityCs;\n}\n\npublic class C {\n    private long id;\n}\n</code></pre>\n<p>The repository method would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface EntityARepository extends JPARepository&lt;A, long&gt; {\n    Collection&lt;A&gt; findByEntityBsEntityCsIdIn(long[] ids);\n}\n</code></pre>\n<p>The return type of the repo method can be other types, <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repository-query-return-types\" rel=\"nofollow noreferrer\">as documented here</a>, depending on how you want the results returned.</p>\n"}],"owner":{"account_id":8256521,"reputation":133,"user_id":6209532,"display_name":"Sotiris Oik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":875,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1674484287,"creation_date":1674479655,"question_id":75210044,"body_markdown":"I have 3 entities in my Project. Entity A (eA) has an One-to-Many relationship with Entity B (eB) and eB has an One-to-Many relationship with Entity C (eC). I have fetch = eager in all of them.\r\n\r\nI want to get eA with eB and eC nested but i want to get specific entries from eC. I have created a simple query like this\r\n\r\n```\r\nSELECT eA.* from eA\r\nINNER JOIN eB on eA.eB_id = eB.id\r\nINNER JOIN eC on eB.eC_id = eC.id\r\nWHERE eC.id IN (1,2,3)\r\n```\r\n\r\nIt actually seems to work when I run this directly in the database but when I create function in my repository with this query it returns all data from eB and eC and the right ones based on the WHERE clause.\r\n\r\nI have tried switching fetch to lazy but with no luck.\r\n\r\nDo you have any idea how I can achieve this?\r\n\r\nThanks!","title":"Spring boot JPA filter data based on relation","body":"<p>I have 3 entities in my Project. Entity A (eA) has an One-to-Many relationship with Entity B (eB) and eB has an One-to-Many relationship with Entity C (eC). I have fetch = eager in all of them.</p>\n<p>I want to get eA with eB and eC nested but i want to get specific entries from eC. I have created a simple query like this</p>\n<pre><code>SELECT eA.* from eA\nINNER JOIN eB on eA.eB_id = eB.id\nINNER JOIN eC on eB.eC_id = eC.id\nWHERE eC.id IN (1,2,3)\n</code></pre>\n<p>It actually seems to work when I run this directly in the database but when I create function in my repository with this query it returns all data from eB and eC and the right ones based on the WHERE clause.</p>\n<p>I have tried switching fetch to lazy but with no luck.</p>\n<p>Do you have any idea how I can achieve this?</p>\n<p>Thanks!</p>\n"},{"tags":["java","spring-boot","swagger-ui"],"owner":{"account_id":6838304,"reputation":55,"user_id":5259478,"display_name":"Mark Vilkel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674484146,"creation_date":1674484146,"question_id":75210907,"body_markdown":"I have Spring Boot RESTful application:\r\n\r\n    &lt;parent&gt;\r\n\t    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n  \t    &lt;version&gt;2.7.7&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\nAll client requests are signed with HAWK:\r\n\r\n\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.wealdtech.hawk&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hawk-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\nAlso I&#39;ve enabled swagger-ui with:\r\n\r\n\t&lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.9&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nIs it possible somehow to execute hawk signed rest methods on that swagger-ui?\r\nI&#39;ve tried to use\r\n\r\n    @SecurityScheme(type = SecuritySchemeType.APIKEY, name = &quot;api_key&quot;, in = SecuritySchemeIn.HEADER)\r\n\r\nBut it has no HAWK.","title":"How to execute HAWK signed REST methods using Springdoc Open API swagger UI?","body":"<p>I have Spring Boot RESTful application:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.7&lt;/version&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>All client requests are signed with HAWK:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.wealdtech.hawk&lt;/groupId&gt;\n    &lt;artifactId&gt;hawk-core&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also I've enabled swagger-ui with:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Is it possible somehow to execute hawk signed rest methods on that swagger-ui?\nI've tried to use</p>\n<pre><code>@SecurityScheme(type = SecuritySchemeType.APIKEY, name = &quot;api_key&quot;, in = SecuritySchemeIn.HEADER)\n</code></pre>\n<p>But it has no HAWK.</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1674486209,"post_id":75210169,"comment_id":132718413,"body_markdown":"The simple answer is because Kotlin is awesome.","body":"The simple answer is because Kotlin is awesome."}],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1674482059,"creation_date":1674482059,"answer_id":75210500,"question_id":75210169,"body_markdown":"I believe mutability plays an important part. The java example doesn&#39;t work because `List`s are mutable, as in, you are able to add new elements to it. If it allowed the assignment and you would add a `Note` to `notes` you run into the problem that `favouriteNotes` would contain a non-`FavouriteNote` since it refers to the same list.\r\n\r\nKotlin&#39;s `emptyList` and `listOf` returns non-mutable lists. It allows the assignment because you can&#39;t add anything to `notes` anyway. Notice that if you change `notes`&#39;s declaration as\r\n\r\n    var notes = mutableListOf&lt;Note&gt;()\r\n\r\n\r\nyou will run in the same compiler error as in Java","title":"Why is one able to assign a list of child type to a list of its superclass type, in Kotlin?","body":"<p>I believe mutability plays an important part. The java example doesn't work because <code>List</code>s are mutable, as in, you are able to add new elements to it. If it allowed the assignment and you would add a <code>Note</code> to <code>notes</code> you run into the problem that <code>favouriteNotes</code> would contain a non-<code>FavouriteNote</code> since it refers to the same list.</p>\n<p>Kotlin's <code>emptyList</code> and <code>listOf</code> returns non-mutable lists. It allows the assignment because you can't add anything to <code>notes</code> anyway. Notice that if you change <code>notes</code>'s declaration as</p>\n<pre><code>var notes = mutableListOf&lt;Note&gt;()\n</code></pre>\n<p>you will run in the same compiler error as in Java</p>\n"},{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674484102,"creation_date":1674482792,"answer_id":75210632,"question_id":75210169,"body_markdown":"For the following examples, let&#39;s introduce one more class to use:\r\n\r\n```java\r\nclass ShortNote extends Note {\r\n    public ShortNote(String name) {\r\n        super(name);\r\n    }\r\n}\r\n```\r\nThe biggest difference between Kotlin and Java generics is that Kotlin introduces *declaration site* variance for classes and interfaces. Java only has *use site* variance for classes and interfaces.\r\n\r\nThe variance of variable in Java can only be declared at the use site. If you don&#39;t specifically declare a List to be covariant, it is invariant:\r\n\r\n```java\r\nList&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\r\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\r\nnotes = favouriteNotes; // error\r\n```\r\n\r\nThis is the type system preventing you from making a mistake. Suppose the above code didn&#39;t throw an error. Then this could happen:\r\n\r\n```java\r\nList&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\r\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\r\nnotes = favouriteNotes; // Invalid code, but pretend compiler allows it.\r\nnotes.add(new ShortNote(&quot;Hello&quot;)); // Permitted, a List&lt;Note&gt; is a Note consumer and\r\n                                   // a ShortNote is a Note.\r\nFavouriteNote aFavouriteNote = favouriteNotes.get(0); // ClassCastException!\r\n```\r\n\r\nIncidentally, Kotlin&#39;s MutableList does not make use of declaration site variance, so you would have the exact same restriction:\r\n\r\n```kotlin\r\nvar notes: MutableList&lt;Note&gt; = ArrayList&lt;Note&gt;()\r\nvar favouriteNotes: MutableList&lt;FavoriteNote&gt; = ArrayList&lt;FavoriteNote&gt;()\r\nnotes = favouriteNotes // error\r\n```\r\n\r\nHowever, you can use use-site variance to make the cast possible. We can declare the list to be covariant at the use site:\r\n\r\n```java\r\n//Java\r\nList&lt;? extends Note&gt; notes = new ArrayList&lt;Note&gt;();\r\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\r\nnotes = favouriteNotes; // OK\r\n```\r\n\r\n```kotlin\r\n//Kotlin\r\nvar notes: MutableList&lt;out Note&gt; = ArrayList&lt;Note&gt;()\r\nvar favouriteNotes: MutableList&lt;out FavoriteNote&gt; = ArrayList&lt;FavoriteNote&gt;()\r\nnotes = favouriteNotes// OK\r\n```\r\nYou are protected from the ClassCastException situation above because the compiler prevents you from adding items to a covariant list.\r\n\r\n----\r\n\r\nNow getting to declaration site variance. Kotlin declares the read-only List interface&#39;s type to be `&lt;out T&gt;` right in the definition of the interface. This means all Lists are automatically assumed to be covariant, even if you don&#39;t bother to declare it to be covariant at the use site.\r\n\r\nIf you declare variance at a class or interface&#39;s declaration site, the compiler will restrict you from making functions or properties that violate that variance. The read-only List interface doesn&#39;t have any `add` functions, so it is fine for it to be a `T` producer and not consumer.","title":"Why is one able to assign a list of child type to a list of its superclass type, in Kotlin?","body":"<p>For the following examples, let's introduce one more class to use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ShortNote extends Note {\n    public ShortNote(String name) {\n        super(name);\n    }\n}\n</code></pre>\n<p>The biggest difference between Kotlin and Java generics is that Kotlin introduces <em>declaration site</em> variance for classes and interfaces. Java only has <em>use site</em> variance for classes and interfaces.</p>\n<p>The variance of variable in Java can only be declared at the use site. If you don't specifically declare a List to be covariant, it is invariant:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\nnotes = favouriteNotes; // error\n</code></pre>\n<p>This is the type system preventing you from making a mistake. Suppose the above code didn't throw an error. Then this could happen:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\nnotes = favouriteNotes; // Invalid code, but pretend compiler allows it.\nnotes.add(new ShortNote(&quot;Hello&quot;)); // Permitted, a List&lt;Note&gt; is a Note consumer and\n                                   // a ShortNote is a Note.\nFavouriteNote aFavouriteNote = favouriteNotes.get(0); // ClassCastException!\n</code></pre>\n<p>Incidentally, Kotlin's MutableList does not make use of declaration site variance, so you would have the exact same restriction:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>var notes: MutableList&lt;Note&gt; = ArrayList&lt;Note&gt;()\nvar favouriteNotes: MutableList&lt;FavoriteNote&gt; = ArrayList&lt;FavoriteNote&gt;()\nnotes = favouriteNotes // error\n</code></pre>\n<p>However, you can use use-site variance to make the cast possible. We can declare the list to be covariant at the use site:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Java\nList&lt;? extends Note&gt; notes = new ArrayList&lt;Note&gt;();\nList&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\nnotes = favouriteNotes; // OK\n</code></pre>\n<pre class=\"lang-kotlin prettyprint-override\"><code>//Kotlin\nvar notes: MutableList&lt;out Note&gt; = ArrayList&lt;Note&gt;()\nvar favouriteNotes: MutableList&lt;out FavoriteNote&gt; = ArrayList&lt;FavoriteNote&gt;()\nnotes = favouriteNotes// OK\n</code></pre>\n<p>You are protected from the ClassCastException situation above because the compiler prevents you from adding items to a covariant list.</p>\n<hr />\n<p>Now getting to declaration site variance. Kotlin declares the read-only List interface's type to be <code>&lt;out T&gt;</code> right in the definition of the interface. This means all Lists are automatically assumed to be covariant, even if you don't bother to declare it to be covariant at the use site.</p>\n<p>If you declare variance at a class or interface's declaration site, the compiler will restrict you from making functions or properties that violate that variance. The read-only List interface doesn't have any <code>add</code> functions, so it is fine for it to be a <code>T</code> producer and not consumer.</p>\n"}],"owner":{"account_id":23842063,"reputation":646,"user_id":17846993,"display_name":"bighugedev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75210632,"answer_count":2,"score":3,"last_activity_date":1674484102,"creation_date":1674480342,"question_id":75210169,"body_markdown":"I have read topics on Generics and Wildcards in Kotlin and also their differences compared with Java, I have tried to search online, but I couldn&#39;t find the answer to this question nor make sure if anyone has asked it.\r\n\r\nI&#39;ve got the class `Note` and the class `FavouriteNote`, derived from the class `Note`. I&#39;ve also got an array list with type parameter `Note` and an array list with type parameter `FavouriteNote`. I&#39;m trying to assign `List&lt;FavouriteNote&gt;` to `List&lt;Note&gt;`, which of course won&#39;t work in Java.\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        List&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\r\n        List&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\r\n\r\n        notes = favouriteNotes; // this won&#39;t compile\r\n    }\r\n}\r\n\r\n\r\nclass Note {\r\n    public final String name;\r\n\r\n    public Note(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n\r\nclass FavouriteNote extends Note {\r\n    public FavouriteNote(String name) {\r\n        super(name);\r\n    }\r\n}\r\n```\r\n\r\nIn Kotlin, though, I am free to assign `List&lt;FavouriteNote&gt;` to `List&lt;Note&gt;`:\r\n```kotlin\r\nfun main() {\r\n    var notes = emptyList&lt;Note&gt;()\r\n    val favouriteNotes = emptyList&lt;FavouriteNote&gt;()\r\n\r\n    notes = favouriteNotes // compiles and runs successfully\r\n}\r\n\r\nopen class Note(val name: String)\r\n\r\nclass FavouriteNote(name: String) : Note(name)\r\n```\r\nWhy is that or what can I read to learn more about how this works in Kotlin and what is happening under the hood?","title":"Why is one able to assign a list of child type to a list of its superclass type, in Kotlin?","body":"<p>I have read topics on Generics and Wildcards in Kotlin and also their differences compared with Java, I have tried to search online, but I couldn't find the answer to this question nor make sure if anyone has asked it.</p>\n<p>I've got the class <code>Note</code> and the class <code>FavouriteNote</code>, derived from the class <code>Note</code>. I've also got an array list with type parameter <code>Note</code> and an array list with type parameter <code>FavouriteNote</code>. I'm trying to assign <code>List&lt;FavouriteNote&gt;</code> to <code>List&lt;Note&gt;</code>, which of course won't work in Java.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        List&lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\n        List&lt;FavouriteNote&gt; favouriteNotes = new ArrayList&lt;FavouriteNote&gt;();\n\n        notes = favouriteNotes; // this won't compile\n    }\n}\n\n\nclass Note {\n    public final String name;\n\n    public Note(String name) {\n        this.name = name;\n    }\n}\n\nclass FavouriteNote extends Note {\n    public FavouriteNote(String name) {\n        super(name);\n    }\n}\n</code></pre>\n<p>In Kotlin, though, I am free to assign <code>List&lt;FavouriteNote&gt;</code> to <code>List&lt;Note&gt;</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    var notes = emptyList&lt;Note&gt;()\n    val favouriteNotes = emptyList&lt;FavouriteNote&gt;()\n\n    notes = favouriteNotes // compiles and runs successfully\n}\n\nopen class Note(val name: String)\n\nclass FavouriteNote(name: String) : Note(name)\n</code></pre>\n<p>Why is that or what can I read to learn more about how this works in Kotlin and what is happening under the hood?</p>\n"},{"tags":["java","git","jenkins","exception","bitbucket"],"comments":[{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1655263531,"post_id":72618126,"comment_id":128288669,"body_markdown":"The `git.exe rev-list --no-walk ccf77e05e663dac6e1e32d2614ead22962da557b` should have produced a simple single revision number (the same result you&#39;d get from `git rev-parse ccf77e05e663dac6e1e32d2614ead22962da557b^{commit}`, probably `ccf77e05e663dac6e1e32d2614ead22962da557b`). That should be perfectly readable. The exception you got suggests that the Java reader encountered, instead, some malformed Unicode. How that could happen, I have no idea. Well, almost:","body":"The <code>git.exe rev-list --no-walk ccf77e05e663dac6e1e32d2614ead22962da557b</code> should have produced a simple single revision number (the same result you&#39;d get from <code>git rev-parse ccf77e05e663dac6e1e32d2614ead22962da557b^{commit}</code>, probably <code>ccf77e05e663dac6e1e32d2614ead22962da557b</code>). That should be perfectly readable. The exception you got suggests that the Java reader encountered, instead, some malformed Unicode. How that could happen, I have no idea. Well, almost:"},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1655263695,"post_id":72618126,"comment_id":128288698,"body_markdown":"Here&#39;s one possibility: the Git part works perfectly. The revision contains a `Jenkinsfile`. This Jenkinsfile itself is, or somehow builds to, malformed non-Unicode text, which then trips up the code that&#39;s attempting to *write* some file (the stack trace shows that Jenkins is trying to write a file). So examine the raw bytes of any Jenkinsfile in the commit you find by running `git rev-parse` (or `git rev-list --no-walk`) on that hash ID.","body":"Here&#39;s one possibility: the Git part works perfectly. The revision contains a <code>Jenkinsfile</code>. This Jenkinsfile itself is, or somehow builds to, malformed non-Unicode text, which then trips up the code that&#39;s attempting to <i>write</i> some file (the stack trace shows that Jenkins is trying to write a file). So examine the raw bytes of any Jenkinsfile in the commit you find by running <code>git rev-parse</code> (or <code>git rev-list --no-walk</code>) on that hash ID."},{"owner":{"account_id":25553819,"reputation":1,"user_id":19337739,"display_name":"Genis Bonet Garcia"},"score":0,"creation_date":1655730776,"post_id":72618126,"comment_id":128394014,"body_markdown":"Thanks for the response @torek. I did not add a Jenkinsfile to my repository, would it be created automatically by the pipeline? Otherwise I&#39;m pretty sure that coulsn&#39;t be the problem, unless Jenkins is trying to read an unexistent Jenkinsfile.","body":"Thanks for the response @torek. I did not add a Jenkinsfile to my repository, would it be created automatically by the pipeline? Otherwise I&#39;m pretty sure that coulsn&#39;t be the problem, unless Jenkins is trying to read an unexistent Jenkinsfile."},{"owner":{"account_id":1307867,"reputation":457685,"user_id":1256452,"accept_rate":50,"display_name":"torek"},"score":0,"creation_date":1655790392,"post_id":72618126,"comment_id":128408194,"body_markdown":"I don&#39;t really know. I&#39;m not a Jenkins expert (and I think the idea is fine but the implementation is awful). The stack trace, though, definitely indicates that Jenkins is *writing* something, and blows up with a character-set exception.","body":"I don&#39;t really know. I&#39;m not a Jenkins expert (and I think the idea is fine but the implementation is awful). The stack trace, though, definitely indicates that Jenkins is <i>writing</i> something, and blows up with a character-set exception."}],"answers":[{"tags":[],"owner":{"account_id":25843173,"reputation":1,"user_id":19578431,"display_name":"Razerfs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661671217,"creation_date":1661262423,"answer_id":73459913,"question_id":72618126,"body_markdown":"I solved the problem by setting the language for non-Unicode programs:\r\nIn Start -&gt; Settings -&gt; Time &amp; Language -&gt; Language -&gt; Administrative language settings. Administrative tab.\r\n\r\nScreenshot here\r\n\r\n![1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CMOAL.png","title":"Jenkins java.nio.charset.UnmappableCharacterException: Input length = 1","body":"<p>I solved the problem by setting the language for non-Unicode programs:\nIn Start -&gt; Settings -&gt; Time &amp; Language -&gt; Language -&gt; Administrative language settings. Administrative tab.</p>\n<p>Screenshot here</p>\n<p><img src=\"https://i.stack.imgur.com/CMOAL.png\" alt=\"1\" /></p>\n"},{"tags":[],"owner":{"account_id":26341182,"reputation":41,"user_id":20000255,"display_name":"Chatri Ngambenchawong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663217377,"creation_date":1663217377,"answer_id":73725765,"question_id":72618126,"body_markdown":"If you run Jenkins on windows. I solved the problem by \r\n\r\n 1. add System Environment Variable\r\n    - KEY JAVA_TOOL_OPTIONS\r\n    - VALUE -Dfile.encoding=UTF8\r\n 2. restart system \r\n 3. test build\r\n\r\nBecause on Jenkins 2.361.1 (LTS). It read jenkinsfile by using system default Encoding (Windows = x-windows-874)","title":"Jenkins java.nio.charset.UnmappableCharacterException: Input length = 1","body":"<p>If you run Jenkins on windows. I solved the problem by</p>\n<ol>\n<li>add System Environment Variable\n<ul>\n<li>KEY JAVA_TOOL_OPTIONS</li>\n<li>VALUE -Dfile.encoding=UTF8</li>\n</ul>\n</li>\n<li>restart system</li>\n<li>test build</li>\n</ol>\n<p>Because on Jenkins 2.361.1 (LTS). It read jenkinsfile by using system default Encoding (Windows = x-windows-874)</p>\n"},{"tags":[],"owner":{"account_id":12211993,"reputation":343,"user_id":8913512,"display_name":"howardButcher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674483854,"creation_date":1674483854,"answer_id":75210848,"question_id":72618126,"body_markdown":"Add `-Dfile.encoding=UTF-8` to your `jenkins.xml`\r\nExample:\r\n\r\n    &lt;arguments&gt;-Xrs -Xss4096k -Xmx2048m -XX:MaxPermSize=512m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -Dfile.encoding=UTF-8&lt;/arguments&gt;","title":"Jenkins java.nio.charset.UnmappableCharacterException: Input length = 1","body":"<p>Add <code>-Dfile.encoding=UTF-8</code> to your <code>jenkins.xml</code>\nExample:</p>\n<pre><code>&lt;arguments&gt;-Xrs -Xss4096k -Xmx2048m -XX:MaxPermSize=512m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -Dfile.encoding=UTF-8&lt;/arguments&gt;\n</code></pre>\n"}],"owner":{"account_id":25553819,"reputation":1,"user_id":19337739,"display_name":"Genis Bonet Garcia"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1674483854,"creation_date":1655214439,"question_id":72618126,"body_markdown":"I am working on a Jenkins application and pipeline to test and deploy Apex Code from a Bitbucket repository to Salesforce. So far I&#39;ve managed to communicate my repository with my Jenkins environment. My Jenkins instance is running on Windows 10 in my company laptop, and I&#39;ve reached the final steps in this guide:\r\nhttps://medium.com/@r.kurchenko/setup-continuous-integration-based-on-salesforcedx-c9f461c4db03\r\n\r\nThe problem I&#39;m trying to deal with right now is that on a push to my repository, although the pipeline starts it doesn&#39;t even get to the build step and gives me the following error message:\r\n\r\n```\r\nStarted by an SCM change\r\nStarted by an SCM change\r\nRunning as SYSTEM\r\nBuilding in workspace C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\r\nThe recommended git tool is: NONE\r\nNo credentials specified\r\n &gt; git.exe rev-parse --resolve-git-dir C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\\.git # timeout=10\r\nFetching changes from the remote Git repository\r\n &gt; git.exe config remote.origin.url {repositoryURL} # timeout=10\r\nFetching upstream changes from {repositoryURL}\r\n &gt; git.exe --version # timeout=10\r\n &gt; git --version # &#39;git version 2.35.1.windows.2&#39;\r\n &gt; git.exe fetch --tags --force --progress -- {repositoryURL} +refs/heads/*:refs/remotes/origin/* # timeout=10\r\n &gt; git.exe rev-parse &quot;refs/remotes/origin/master^{commit}&quot; # timeout=10\r\nChecking out Revision ee36df199b17d11bd7a8a020239dab1abafc5e6e (refs/remotes/origin/master)\r\n &gt; git.exe config core.sparsecheckout # timeout=10\r\n &gt; git.exe checkout -f ee36df199b17d11bd7a8a020239dab1abafc5e6e # timeout=10\r\nCommit message: &quot;Changes&quot;\r\n &gt; git.exe rev-list --no-walk ccf77e05e663dac6e1e32d2614ead22962da557b # timeout=10\r\nFATAL: Unable to produce a script file\r\njava.nio.charset.UnmappableCharacterException: Input length = 1\r\n\tat java.base/java.nio.charset.CoderResult.throwException(CoderResult.java:275)\r\n\tat java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:306)\r\n\tat java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:281)\r\n\tat java.base/sun.nio.cs.StreamEncoder.write(StreamEncoder.java:125)\r\n\tat java.base/java.io.OutputStreamWriter.write(OutputStreamWriter.java:208)\r\n\tat java.base/java.io.BufferedWriter.flushBuffer(BufferedWriter.java:120)\r\n\tat java.base/java.io.BufferedWriter.close(BufferedWriter.java:268)\r\n\tat hudson.FilePath$CreateTextTempFile.invoke(FilePath.java:1660)\r\n\tat hudson.FilePath$CreateTextTempFile.invoke(FilePath.java:1630)\r\n\tat hudson.FilePath.act(FilePath.java:1200)\r\n\tat hudson.FilePath.act(FilePath.java:1183)\r\n\tat hudson.FilePath.createTextTempFile(FilePath.java:1624)\r\nCaused: java.io.IOException: Failed to create a temp file on C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\r\n\tat hudson.FilePath.createTextTempFile(FilePath.java:1626)\r\n\tat hudson.tasks.CommandInterpreter.createScriptFile(CommandInterpreter.java:202)\r\n\tat hudson.tasks.CommandInterpreter.perform(CommandInterpreter.java:120)\r\n\tat hudson.tasks.CommandInterpreter.perform(CommandInterpreter.java:92)\r\n\tat hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:814)\r\n\tat hudson.model.Build$BuildExecution.build(Build.java:199)\r\n\tat hudson.model.Build$BuildExecution.doRun(Build.java:164)\r\n\tat hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:522)\r\n\tat hudson.model.Run.execute(Run.java:1896)\r\n\tat hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:44)\r\n\tat hudson.model.ResourceController.execute(ResourceController.java:101)\r\n\tat hudson.model.Executor.run(Executor.java:442)\r\nBuild step &#39;Execute shell&#39; marked build as failure\r\nFinished: FAILURE\r\n```\r\n\r\nInitially, I thought it might be a permission error, as I am not the laptop&#39;s administrator, and the home directory of my Jenkins Instance was inside my user files, but after changing the directory to somewhere else I still get the same error. I figured it might be the ```java.nio.charset.UnmappableCharacterException: Input length = 1``` exception but, after researching it thoroughly, I cannot figure out where in Jenkins&#39; pull operation this is executed and whether there is a way for me to solve it.\r\n\r\nI would greatly appreciate any leads or information on what could be causing this issue.","title":"Jenkins java.nio.charset.UnmappableCharacterException: Input length = 1","body":"<p>I am working on a Jenkins application and pipeline to test and deploy Apex Code from a Bitbucket repository to Salesforce. So far I've managed to communicate my repository with my Jenkins environment. My Jenkins instance is running on Windows 10 in my company laptop, and I've reached the final steps in this guide:\n<a href=\"https://medium.com/@r.kurchenko/setup-continuous-integration-based-on-salesforcedx-c9f461c4db03\" rel=\"nofollow noreferrer\">https://medium.com/@r.kurchenko/setup-continuous-integration-based-on-salesforcedx-c9f461c4db03</a></p>\n<p>The problem I'm trying to deal with right now is that on a push to my repository, although the pipeline starts it doesn't even get to the build step and gives me the following error message:</p>\n<pre><code>Started by an SCM change\nStarted by an SCM change\nRunning as SYSTEM\nBuilding in workspace C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\nThe recommended git tool is: NONE\nNo credentials specified\n &gt; git.exe rev-parse --resolve-git-dir C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\\.git # timeout=10\nFetching changes from the remote Git repository\n &gt; git.exe config remote.origin.url {repositoryURL} # timeout=10\nFetching upstream changes from {repositoryURL}\n &gt; git.exe --version # timeout=10\n &gt; git --version # 'git version 2.35.1.windows.2'\n &gt; git.exe fetch --tags --force --progress -- {repositoryURL} +refs/heads/*:refs/remotes/origin/* # timeout=10\n &gt; git.exe rev-parse &quot;refs/remotes/origin/master^{commit}&quot; # timeout=10\nChecking out Revision ee36df199b17d11bd7a8a020239dab1abafc5e6e (refs/remotes/origin/master)\n &gt; git.exe config core.sparsecheckout # timeout=10\n &gt; git.exe checkout -f ee36df199b17d11bd7a8a020239dab1abafc5e6e # timeout=10\nCommit message: &quot;Changes&quot;\n &gt; git.exe rev-list --no-walk ccf77e05e663dac6e1e32d2614ead22962da557b # timeout=10\nFATAL: Unable to produce a script file\njava.nio.charset.UnmappableCharacterException: Input length = 1\n    at java.base/java.nio.charset.CoderResult.throwException(CoderResult.java:275)\n    at java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:306)\n    at java.base/sun.nio.cs.StreamEncoder.implWrite(StreamEncoder.java:281)\n    at java.base/sun.nio.cs.StreamEncoder.write(StreamEncoder.java:125)\n    at java.base/java.io.OutputStreamWriter.write(OutputStreamWriter.java:208)\n    at java.base/java.io.BufferedWriter.flushBuffer(BufferedWriter.java:120)\n    at java.base/java.io.BufferedWriter.close(BufferedWriter.java:268)\n    at hudson.FilePath$CreateTextTempFile.invoke(FilePath.java:1660)\n    at hudson.FilePath$CreateTextTempFile.invoke(FilePath.java:1630)\n    at hudson.FilePath.act(FilePath.java:1200)\n    at hudson.FilePath.act(FilePath.java:1183)\n    at hudson.FilePath.createTextTempFile(FilePath.java:1624)\nCaused: java.io.IOException: Failed to create a temp file on C:\\JenkinsHome\\workspace\\sfdx-ci-force-push-build\n    at hudson.FilePath.createTextTempFile(FilePath.java:1626)\n    at hudson.tasks.CommandInterpreter.createScriptFile(CommandInterpreter.java:202)\n    at hudson.tasks.CommandInterpreter.perform(CommandInterpreter.java:120)\n    at hudson.tasks.CommandInterpreter.perform(CommandInterpreter.java:92)\n    at hudson.tasks.BuildStepMonitor$1.perform(BuildStepMonitor.java:20)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.perform(AbstractBuild.java:814)\n    at hudson.model.Build$BuildExecution.build(Build.java:199)\n    at hudson.model.Build$BuildExecution.doRun(Build.java:164)\n    at hudson.model.AbstractBuild$AbstractBuildExecution.run(AbstractBuild.java:522)\n    at hudson.model.Run.execute(Run.java:1896)\n    at hudson.model.FreeStyleBuild.run(FreeStyleBuild.java:44)\n    at hudson.model.ResourceController.execute(ResourceController.java:101)\n    at hudson.model.Executor.run(Executor.java:442)\nBuild step 'Execute shell' marked build as failure\nFinished: FAILURE\n</code></pre>\n<p>Initially, I thought it might be a permission error, as I am not the laptop's administrator, and the home directory of my Jenkins Instance was inside my user files, but after changing the directory to somewhere else I still get the same error. I figured it might be the <code>java.nio.charset.UnmappableCharacterException: Input length = 1</code> exception but, after researching it thoroughly, I cannot figure out where in Jenkins' pull operation this is executed and whether there is a way for me to solve it.</p>\n<p>I would greatly appreciate any leads or information on what could be causing this issue.</p>\n"},{"tags":["java","postgresql","jooq"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1674480372,"post_id":75210096,"comment_id":132716263,"body_markdown":"The exact SQL statement is an implementation detail of the library - it can and will change. What is the problem exactly?","body":"The exact SQL statement is an implementation detail of the library - it can and will change. What is the problem exactly?"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674480641,"post_id":75210096,"comment_id":132716353,"body_markdown":"Please ask only one question per question, and asking for off-site resources like release notes or documents summarizing changes across versions are off-topic as well.","body":"Please ask only one question per question, and asking for off-site resources like release notes or documents summarizing changes across versions are off-topic as well."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1674480815,"post_id":75210096,"comment_id":132716410,"body_markdown":"Also, the `FETCH` clause is part of the PostgreSQL syntax, so it is unclear what problem you&#39;re trying to solve, other than that apparently you don&#39;t like change(?).","body":"Also, the <code>FETCH</code> clause is part of the PostgreSQL syntax, so it is unclear what problem you&#39;re trying to solve, other than that apparently you don&#39;t like change(?)."},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1674481561,"post_id":75210096,"comment_id":132716666,"body_markdown":"`FETCH NEXT 10 ROWS ONLY` will do exactly the same thing as `LIMIT 10` - what exactly is the problem you are encountering?","body":"<code>FETCH NEXT 10 ROWS ONLY</code> will do exactly the same thing as <code>LIMIT 10</code> - what exactly is the problem you are encountering?"},{"owner":{"display_name":"user330315"},"score":1,"creation_date":1674482152,"post_id":75210096,"comment_id":132716877,"body_markdown":"&quot;*Is there any documentation link which summarizes all changes*&quot; - this is typically covered in the [release notes](https://www.jooq.org/notes)","body":"&quot;<i>Is there any documentation link which summarizes all changes</i>&quot; - this is typically covered in the <a href=\"https://www.jooq.org/notes\" rel=\"nofollow noreferrer\">release notes</a>"}],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674483816,"creation_date":1674483816,"answer_id":75210840,"question_id":75210096,"body_markdown":"### Older PostgreSQL version support\r\n\r\nYou might be using an older version of PostgreSQL that didn&#39;t support the standard SQL `FETCH` clause yet? Please refer to the [support matrix][1] to see which jOOQ version (and edition) supports which PostgreSQL version. The commercial editions still support a lot of old PostgreSQL versions.\r\n\r\n### Your specific questions:\r\n\r\n&gt; If there are any settings in jooq codegen (version 3.17.5) which will allow me to have the generated SQL same as in 3.14.6?\r\n\r\nNo, there&#39;s no configuration for this particular syntax, other than the `SQLDialect`, which is integration tested against every supported PostgreSQL version.\r\n\r\n&gt; Is there any documentation link which summarizes all changes in generated SQL across Jooq versions from 3.14.6 to 3.175?\r\n\r\nYes, the [release notes][2] or the [issue tracker][3]. This particular change was probably introduced in jOOQ 3.15 with PostgreSQL 13 support:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/10645\r\n\r\nIn particular, the native PostgreSQL `FETCH FIRST .. WITH TIES` support probably triggered this change.\r\n\r\n### Possible solutions:\r\n\r\n- You can stick with jOOQ 3.14.x, where the jOOQ Open Source Edition (assuming you&#39;re using that) did yet support PostgreSQL 13 and this syntax\r\n- You can upgrade to a commercial jOOQ edition, which still supports PostgreSQL 12 and less\r\n- You can upgrade PostgreSQL to something more recent\r\n- You can patch the generated SQL string with a regex in an [`ExecuteListener`][4]: Search `FETCH NEXT (\\?|\\d+) ROWS ONLY` and replace by `LIMIT $1`. Note that while it&#39;s `OFFSET .. FETCH`, it&#39;s `LIMIT .. OFFSET`, so if you want to use this approach, beware of having to invert the order of the bind values as well. This is more of a hack, of course, the other options are much better.\r\n\r\n\r\n  [1]: https://www.jooq.org/download/support-matrix\r\n  [2]: https://www.jooq.org/notes\r\n  [3]: https://github.com/jOOQ/jOOQ/issues\r\n  [4]: https://www.jooq.org/doc/latest/manual/sql-execution/execute-listeners/","title":"Change in LIMIT clause while upgrading jooq from 3.14.6 to 3.17.5","body":"<h3>Older PostgreSQL version support</h3>\n<p>You might be using an older version of PostgreSQL that didn't support the standard SQL <code>FETCH</code> clause yet? Please refer to the <a href=\"https://www.jooq.org/download/support-matrix\" rel=\"nofollow noreferrer\">support matrix</a> to see which jOOQ version (and edition) supports which PostgreSQL version. The commercial editions still support a lot of old PostgreSQL versions.</p>\n<h3>Your specific questions:</h3>\n<blockquote>\n<p>If there are any settings in jooq codegen (version 3.17.5) which will allow me to have the generated SQL same as in 3.14.6?</p>\n</blockquote>\n<p>No, there's no configuration for this particular syntax, other than the <code>SQLDialect</code>, which is integration tested against every supported PostgreSQL version.</p>\n<blockquote>\n<p>Is there any documentation link which summarizes all changes in generated SQL across Jooq versions from 3.14.6 to 3.175?</p>\n</blockquote>\n<p>Yes, the <a href=\"https://www.jooq.org/notes\" rel=\"nofollow noreferrer\">release notes</a> or the <a href=\"https://github.com/jOOQ/jOOQ/issues\" rel=\"nofollow noreferrer\">issue tracker</a>. This particular change was probably introduced in jOOQ 3.15 with PostgreSQL 13 support:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/10645\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/10645</a></li>\n</ul>\n<p>In particular, the native PostgreSQL <code>FETCH FIRST .. WITH TIES</code> support probably triggered this change.</p>\n<h3>Possible solutions:</h3>\n<ul>\n<li>You can stick with jOOQ 3.14.x, where the jOOQ Open Source Edition (assuming you're using that) did yet support PostgreSQL 13 and this syntax</li>\n<li>You can upgrade to a commercial jOOQ edition, which still supports PostgreSQL 12 and less</li>\n<li>You can upgrade PostgreSQL to something more recent</li>\n<li>You can patch the generated SQL string with a regex in an <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/execute-listeners/\" rel=\"nofollow noreferrer\"><code>ExecuteListener</code></a>: Search <code>FETCH NEXT (\\?|\\d+) ROWS ONLY</code> and replace by <code>LIMIT $1</code>. Note that while it's <code>OFFSET .. FETCH</code>, it's <code>LIMIT .. OFFSET</code>, so if you want to use this approach, beware of having to invert the order of the bind values as well. This is more of a hack, of course, the other options are much better.</li>\n</ul>\n"}],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75210840,"answer_count":1,"score":2,"last_activity_date":1674483816,"creation_date":1674479979,"question_id":75210096,"body_markdown":"I am trying to upgrade JOOQ from 3.14.6 to 3.17.5. I am observing that generated SQL across two versions are different\r\n\r\nJooq 3.14.6\r\n\r\n    SELECT \r\n      public.payment.request_id \r\n    FROM \r\n      payment \r\n    WHERE \r\n      payment.status_expire_at &lt; cast(\r\n        &#39;2007-12-03 10:15:30+00:00&#39; as timestamp(6) with time zone\r\n      )\r\n    ) \r\n    order by \r\n      public.payment.status_expire_at ASC LIMIT 10;\r\n\r\nIn Jooq 3.17.5\r\n\r\n    SELECT \r\n      public.payment.request_id \r\n    FROM \r\n      payment \r\n    WHERE \r\n      payment.status_expire_at &lt; cast(\r\n        &#39;2007-12-03 10:15:30+00:00&#39; as timestamp(6) with time zone\r\n      )\r\n    ) \r\n    order by \r\n      public.payment.status_expire_at ASC FETCH NEXT 10 ROWS ONLY;\r\n\r\nCan someone let me know \r\n\r\n 1. If there are any settings in jooq codegen (version 3.17.5) which will allow me to have the generated SQL same as in 3.14.6?\r\n 2. Is there any documentation link which summarizes all changes in generated SQL across Jooq versions from 3.14.6 to 3.175?\r\n\r\nDB - Postgres ","title":"Change in LIMIT clause while upgrading jooq from 3.14.6 to 3.17.5","body":"<p>I am trying to upgrade JOOQ from 3.14.6 to 3.17.5. I am observing that generated SQL across two versions are different</p>\n<p>Jooq 3.14.6</p>\n<pre><code>SELECT \n  public.payment.request_id \nFROM \n  payment \nWHERE \n  payment.status_expire_at &lt; cast(\n    '2007-12-03 10:15:30+00:00' as timestamp(6) with time zone\n  )\n) \norder by \n  public.payment.status_expire_at ASC LIMIT 10;\n</code></pre>\n<p>In Jooq 3.17.5</p>\n<pre><code>SELECT \n  public.payment.request_id \nFROM \n  payment \nWHERE \n  payment.status_expire_at &lt; cast(\n    '2007-12-03 10:15:30+00:00' as timestamp(6) with time zone\n  )\n) \norder by \n  public.payment.status_expire_at ASC FETCH NEXT 10 ROWS ONLY;\n</code></pre>\n<p>Can someone let me know</p>\n<ol>\n<li>If there are any settings in jooq codegen (version 3.17.5) which will allow me to have the generated SQL same as in 3.14.6?</li>\n<li>Is there any documentation link which summarizes all changes in generated SQL across Jooq versions from 3.14.6 to 3.175?</li>\n</ol>\n<p>DB - Postgres</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":4,"creation_date":1603570189,"post_id":64517537,"comment_id":114081386,"body_markdown":"Yes, you are using primitive that&#39;s why you are getting 0. You can use Integer then you will get null when you don&#39;t send the node. And you can use @NotNull to validate the field. And use `@Valid` on `@RequestBody` A good article about validation [here](https://www.baeldung.com/spring-boot-bean-validation)","body":"Yes, you are using primitive that&#39;s why you are getting 0. You can use Integer then you will get null when you don&#39;t send the node. And you can use @NotNull to validate the field. And use <code>@Valid</code> on <code>@RequestBody</code> A good article about validation <a href=\"https://www.baeldung.com/spring-boot-bean-validation\" rel=\"nofollow noreferrer\">here</a>"},{"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1603570754,"post_id":64517537,"comment_id":114081486,"body_markdown":"May I ask if it is possible to achieve the same keeping the type int, not Integer?","body":"May I ask if it is possible to achieve the same keeping the type int, not Integer?"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1603570999,"post_id":64517537,"comment_id":114081545,"body_markdown":"Yes you can use `@Min(1)` and use `@Valid` on `@RequestBody`. Read [here](https://www.baeldung.com/javax-validation) for details","body":"Yes you can use <code>@Min(1)</code> and use <code>@Valid</code> on <code>@RequestBody</code>. Read <a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">here</a> for details"},{"owner":{"account_id":2466481,"reputation":2619,"user_id":2149453,"display_name":"Himeshgiri gosvami"},"score":0,"creation_date":1604061130,"post_id":64517537,"comment_id":114238849,"body_markdown":"https://reflectoring.io/bean-validation-with-spring-boot/","body":"<a href=\"https://reflectoring.io/bean-validation-with-spring-boot/\" rel=\"nofollow noreferrer\">reflectoring.io/bean-validation-with-spring-boot</a>"}],"answers":[{"tags":[],"owner":{"account_id":3922427,"reputation":508,"user_id":3249603,"display_name":"ukasz Monkiewicz"},"down_vote_count":0,"up_vote_count":37,"is_accepted":true,"score":37,"last_activity_date":1620286803,"creation_date":1603570489,"answer_id":64517618,"question_id":64517537,"body_markdown":"Add @NotNull annotation on a field (you may need to change type to Integer), and add @Valid annotation on the method parameter of the controller.\r\n\r\n    Mono&lt;String&gt; question(@Valid @RequestBody Foo foo) {\r\n        ...\r\n    }\r\n\r\n```\r\npublic class Foo {\r\n\r\n    @NotNull\r\n    private Integer important;\r\n    private String something;\r\n\r\n//constructors, getter, seters, toString\r\n}\r\n```\r\n\r\n\r\nYou can find more information here: https://lmonkiewicz.medium.com/the-power-of-spring-rest-api-validation-77be83edef","title":"Springboot - validate @RequestBody","body":"<p>Add @NotNull annotation on a field (you may need to change type to Integer), and add @Valid annotation on the method parameter of the controller.</p>\n<pre><code>Mono&lt;String&gt; question(@Valid @RequestBody Foo foo) {\n    ...\n}\n</code></pre>\n<pre><code>public class Foo {\n\n    @NotNull\n    private Integer important;\n    private String something;\n\n//constructors, getter, seters, toString\n}\n</code></pre>\n<p>You can find more information here: <a href=\"https://lmonkiewicz.medium.com/the-power-of-spring-rest-api-validation-77be83edef\" rel=\"noreferrer\">https://lmonkiewicz.medium.com/the-power-of-spring-rest-api-validation-77be83edef</a></p>\n"},{"tags":[],"owner":{"account_id":9120249,"reputation":15521,"user_id":6785908,"accept_rate":70,"display_name":"so-random-dude"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1674483575,"creation_date":1603572792,"answer_id":64517912,"question_id":64517537,"body_markdown":"The already provided [answer][1] addresses the question.\r\n\r\nHowever I would like to elaborate on one thing that you asked.\r\n\r\nHow to fail on this\r\n    `&quot;importantWithTypo&quot;: 42,`\r\n\r\n2 aspects to it. \r\n\r\n1. you want to return a 4XX if a required field is not present (this can be achieved by the already given answer) -- `@NonNull`/`@NonEmpty` in conjunction with `@Validate` annotation\r\n2. You want to error out on presence of an unknown field `importantWithTypo`. This can be achieved by jackson&#39;s `fail_on_unknown_properties` property. (May be default is `fail_on_unknown_properties = enabled`, I haven&#39;t checked so not sure).\r\n\r\n**Don&#39;t** do this 2nd thing. This will make your 2 services tightly coupled. By doing this `fail_on_unknown_properties = enabled`, you are forfeiting the opportunity to enhance the consumer/caller service in a nonbreaking manner. Then, if you are introducing a new attribute in the entity, you will have to coordinate both the apps releases in such a manner that consumer release will be held until producer/provider makes it. Same goes for rollback, this time in reverse order.\r\n\r\n  [1]: https://stackoverflow.com/a/64517618/6785908\r\n","title":"Springboot - validate @RequestBody","body":"<p>The already provided <a href=\"https://stackoverflow.com/a/64517618/6785908\">answer</a> addresses the question.</p>\n<p>However I would like to elaborate on one thing that you asked.</p>\n<p>How to fail on this\n<code>&quot;importantWithTypo&quot;: 42,</code></p>\n<p>2 aspects to it.</p>\n<ol>\n<li>you want to return a 4XX if a required field is not present (this can be achieved by the already given answer) -- <code>@NonNull</code>/<code>@NonEmpty</code> in conjunction with <code>@Validate</code> annotation</li>\n<li>You want to error out on presence of an unknown field <code>importantWithTypo</code>. This can be achieved by jackson's <code>fail_on_unknown_properties</code> property. (May be default is <code>fail_on_unknown_properties = enabled</code>, I haven't checked so not sure).</li>\n</ol>\n<p><strong>Don't</strong> do this 2nd thing. This will make your 2 services tightly coupled. By doing this <code>fail_on_unknown_properties = enabled</code>, you are forfeiting the opportunity to enhance the consumer/caller service in a nonbreaking manner. Then, if you are introducing a new attribute in the entity, you will have to coordinate both the apps releases in such a manner that consumer release will be held until producer/provider makes it. Same goes for rollback, this time in reverse order.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67619,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":64517618,"answer_count":2,"score":31,"last_activity_date":1674483575,"creation_date":1603569859,"question_id":64517537,"body_markdown":"Question: It is possible to validate the JSON payload of a request body, without specifically writing if statements? Maybe via annotation or configuration?\r\n\r\nI have a very easy POJO:\r\n```\r\npublic class Foo {\r\n\r\n    private int important;\r\n    private String something;\r\n\r\n//constructors, getter, seters, toString\r\n}\r\n```\r\n\r\nAnd a very easy controller class:\r\n```\r\n@SpringBootApplication\r\n@RestController\r\npublic class QuestionController {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(QuestionController.class, args);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/question&quot;)\r\n    Mono&lt;String&gt; question(@RequestBody Foo foo) {\r\n        System.out.println(&quot;The object foo, with value for important = &quot; + foo.getImportant() + &quot; and something = &quot; + foo.getSomething());\r\n\t    return Mono.just(&quot;question&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nIf I query with a payload such as:\r\n```\r\n{\r\n    &quot;important&quot;: 42,\r\n    &quot;something&quot;: &quot;value&quot;\r\n}\r\n```\r\n\r\nEverything is working perfectly fine, very happy.\r\n\r\nHowever, if there is a typo: (note the typo on &quot;important&quot;)\r\n\r\n```\r\n{\r\n    &quot;importantWithTypo&quot;: 42,\r\n    &quot;something&quot;: &quot;value&quot;\r\n}\r\n```\r\n\r\nOr the required &quot;important&quot; is absent (note the JSON is not even complete)\r\n\r\n```\r\n{\r\n    &quot;something&quot;: &quot;value&quot;\r\n}\r\n```\r\n\r\nThe request and computation are still valid! And the value of &quot;important&quot; is 0!\r\n\r\nI do not want Spring to default to 0 and to thinks everything is fine.\r\n\r\nI also do not want to change my types from primitives to boxed object.\r\n\r\nWithout me writing something like:\r\n\r\n```\r\n @GetMapping(value = &quot;/question&quot;)\r\n    Mono&lt;String&gt; question(@RequestBody Foo foo) {\r\n        if (0 == foo.getImportant()) {\r\n            throw new IllegalArgumentException();\r\n        }\r\n        System.out.println(&quot;The object foo, with value for important = &quot; + foo.getImportant() + &quot; and something = &quot; + foo.getSomething());\r\n\t    return Mono.just(&quot;question&quot;);\r\n    }\r\n```\r\n\r\nWhat is the most efficient way to resolve this? Some kind of annotation? Or maybe Spring boot configuration?\r\n\r\nThank you","title":"Springboot - validate @RequestBody","body":"<p>Question: It is possible to validate the JSON payload of a request body, without specifically writing if statements? Maybe via annotation or configuration?</p>\n<p>I have a very easy POJO:</p>\n<pre><code>public class Foo {\n\n    private int important;\n    private String something;\n\n//constructors, getter, seters, toString\n}\n</code></pre>\n<p>And a very easy controller class:</p>\n<pre><code>@SpringBootApplication\n@RestController\npublic class QuestionController {\n\n    public static void main(String[] args) {\n        SpringApplication.run(QuestionController.class, args);\n    }\n\n    @GetMapping(value = &quot;/question&quot;)\n    Mono&lt;String&gt; question(@RequestBody Foo foo) {\n        System.out.println(&quot;The object foo, with value for important = &quot; + foo.getImportant() + &quot; and something = &quot; + foo.getSomething());\n        return Mono.just(&quot;question&quot;);\n    }\n\n}\n</code></pre>\n<p>If I query with a payload such as:</p>\n<pre><code>{\n    &quot;important&quot;: 42,\n    &quot;something&quot;: &quot;value&quot;\n}\n</code></pre>\n<p>Everything is working perfectly fine, very happy.</p>\n<p>However, if there is a typo: (note the typo on &quot;important&quot;)</p>\n<pre><code>{\n    &quot;importantWithTypo&quot;: 42,\n    &quot;something&quot;: &quot;value&quot;\n}\n</code></pre>\n<p>Or the required &quot;important&quot; is absent (note the JSON is not even complete)</p>\n<pre><code>{\n    &quot;something&quot;: &quot;value&quot;\n}\n</code></pre>\n<p>The request and computation are still valid! And the value of &quot;important&quot; is 0!</p>\n<p>I do not want Spring to default to 0 and to thinks everything is fine.</p>\n<p>I also do not want to change my types from primitives to boxed object.</p>\n<p>Without me writing something like:</p>\n<pre><code> @GetMapping(value = &quot;/question&quot;)\n    Mono&lt;String&gt; question(@RequestBody Foo foo) {\n        if (0 == foo.getImportant()) {\n            throw new IllegalArgumentException();\n        }\n        System.out.println(&quot;The object foo, with value for important = &quot; + foo.getImportant() + &quot; and something = &quot; + foo.getSomething());\n        return Mono.just(&quot;question&quot;);\n    }\n</code></pre>\n<p>What is the most efficient way to resolve this? Some kind of annotation? Or maybe Spring boot configuration?</p>\n<p>Thank you</p>\n"},{"tags":["java","spring-el","spring-expression-language"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674472453,"post_id":75208677,"comment_id":132713758,"body_markdown":"*I tried this one but got wrong expression.* Please share the exact message","body":"<i>I tried this one but got wrong expression.</i> Please share the exact message"},{"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"score":0,"creation_date":1674472554,"post_id":75208677,"comment_id":132713783,"body_markdown":"sorry, I will update the question","body":"sorry, I will update the question"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674472676,"post_id":75208677,"comment_id":132713821,"body_markdown":"By the way, that errors means you&#39;re not sharing the full expression. Please include a [example].","body":"By the way, that errors means you&#39;re not sharing the full expression. Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"score":0,"creation_date":1674472746,"post_id":75208677,"comment_id":132713842,"body_markdown":"I shared the full unit test function","body":"I shared the full unit test function"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1674473464,"post_id":75208677,"comment_id":132714071,"body_markdown":"I&#39;m not familiar with spring-el, but are you absolutely positive it supports method references? Because I can&#39;t find anything about them in the documentation, and the text of the error implies it doesn&#39;t like `Integer::sum`.","body":"I&#39;m not familiar with spring-el, but are you absolutely positive it supports method references? Because I can&#39;t find anything about them in the documentation, and the text of the error implies it doesn&#39;t like <code>Integer::sum</code>."},{"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"score":0,"creation_date":1674473576,"post_id":75208677,"comment_id":132714099,"body_markdown":"@FedericoklezCulloca this is my question\nwhat should I do to sum this numbers","body":"@FedericoklezCulloca this is my question what should I do to sum this numbers"},{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1674482859,"post_id":75208677,"comment_id":132717114,"body_markdown":"SpEL stands for Spring Expression **LANGUAGE**. It is not Java; no lambdas, or method references are supported.","body":"SpEL stands for Spring Expression <b>LANGUAGE</b>. It is not Java; no lambdas, or method references are supported."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674482866,"creation_date":1674482866,"answer_id":75210646,"question_id":75208677,"body_markdown":"SpEL stands for Spring Expression **LANGUAGE**. It is not Java; no lambdas, or method references are supported.\r\n\r\nYou can, however, register lambdas as SpEL functions; see https://stackoverflow.com/questions/48840190/spring-expression-language-java-8-foreach-or-stream-on-list/48842973#48842973","title":"java Spel with stream API","body":"<p>SpEL stands for Spring Expression <strong>LANGUAGE</strong>. It is not Java; no lambdas, or method references are supported.</p>\n<p>You can, however, register lambdas as SpEL functions; see <a href=\"https://stackoverflow.com/questions/48840190/spring-expression-language-java-8-foreach-or-stream-on-list/48842973#48842973\">Spring Expression Language - Java 8 forEach or stream on list</a></p>\n"}],"owner":{"account_id":6362842,"reputation":97,"user_id":4937792,"display_name":"Anas Altarazi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":340,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674482866,"creation_date":1674472296,"question_id":75208677,"body_markdown":"I have this string `1|1|1|1` and I want to sum the numbers inside spel statement.\r\nI tried this one but got wrong expression.\r\n\r\n    T(java.util.Arrays).stream(SERVICE_CLASS.split(&#39;|&#39;)).reduce(Integer::sum)\r\n\r\nthe log : \r\n\r\n    org.springframework.expression.spel.SpelParseException: Expression [new Object[] {T(java.util.Arrays).stream(SERVICE_CLASS.split(&#39;|&#39;)).reduce(Integer::sum)}] @81: EL1043E: Unexpected token. Expected &#39;rparen())&#39; but was &#39;colon(:)&#39;\r\n\r\nthe full code : \r\n\r\n     @Test fun `test sum values`() {\r\n        val cont = ScriptingContext.default();\r\n\r\n        val contextrecord: Map&lt;String, String&gt; = mapOf(\r\n            &quot;value&quot; to &quot;1|1|1|1&quot;\r\n        )\r\n\r\n\r\n        val context = cont.getEvalContext()\r\n        context.setRootObject(contextrecord)\r\n        val value = cont.parser.parseExpression(&quot;new Object[] {T(java.util.Arrays).stream(value.split(&#39;|&#39;)).reduce(Integer::sum)}&quot;).getValue(context) as Array&lt;Object&gt;\r\n        println(value.toString())\r\n        assertEquals(value[0], &quot;4&quot;)\r\n    }\r\n\r\nany suggest to do it ?","title":"java Spel with stream API","body":"<p>I have this string <code>1|1|1|1</code> and I want to sum the numbers inside spel statement.\nI tried this one but got wrong expression.</p>\n<pre><code>T(java.util.Arrays).stream(SERVICE_CLASS.split('|')).reduce(Integer::sum)\n</code></pre>\n<p>the log :</p>\n<pre><code>org.springframework.expression.spel.SpelParseException: Expression [new Object[] {T(java.util.Arrays).stream(SERVICE_CLASS.split('|')).reduce(Integer::sum)}] @81: EL1043E: Unexpected token. Expected 'rparen())' but was 'colon(:)'\n</code></pre>\n<p>the full code :</p>\n<pre><code> @Test fun `test sum values`() {\n    val cont = ScriptingContext.default();\n\n    val contextrecord: Map&lt;String, String&gt; = mapOf(\n        &quot;value&quot; to &quot;1|1|1|1&quot;\n    )\n\n\n    val context = cont.getEvalContext()\n    context.setRootObject(contextrecord)\n    val value = cont.parser.parseExpression(&quot;new Object[] {T(java.util.Arrays).stream(value.split('|')).reduce(Integer::sum)}&quot;).getValue(context) as Array&lt;Object&gt;\n    println(value.toString())\n    assertEquals(value[0], &quot;4&quot;)\n}\n</code></pre>\n<p>any suggest to do it ?</p>\n"},{"tags":["java","redis","tibco","tibco-business-works"],"answers":[{"tags":[],"owner":{"account_id":21563659,"reputation":46,"user_id":15897824,"display_name":"Allen Terleto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674482834,"creation_date":1674482834,"answer_id":75210638,"question_id":75204633,"body_markdown":"The easiest path to Redis integration via JDBC is through Redis SQL - https://github.com/redis-field-engineering/redis-sql-trino\r\n\r\n&gt; Redis SQL Trino lets lets you easily integrate with visualization\r\n&gt; frameworks  like Tableau and SuperSet  and platforms that support\r\n&gt; JDBC-compatible databases (e.g., Mulesoft). Query support includes\r\n&gt; SELECT statements across secondary indexes on both Redis hashes &amp;\r\n&gt; JSON, aggregations (e.g., count, min, max, avg), ordering, and more.\r\n\r\nHowever, if you want to build your own integration then [TIBCO ActiveMatrix BusinessWorks Plug-in Development Kit (PDK)][1] could be the way.\r\n\r\n\r\n  [1]: https://docs.tibco.com/products/tibco-activematrix-businessworks-plug-in-development-kit-6-3-1","title":"Connect to Redis using TIBCO BusinessWorks 5","body":"<p>The easiest path to Redis integration via JDBC is through Redis SQL - <a href=\"https://github.com/redis-field-engineering/redis-sql-trino\" rel=\"nofollow noreferrer\">https://github.com/redis-field-engineering/redis-sql-trino</a></p>\n<blockquote>\n<p>Redis SQL Trino lets lets you easily integrate with visualization\nframeworks  like Tableau and SuperSet  and platforms that support\nJDBC-compatible databases (e.g., Mulesoft). Query support includes\nSELECT statements across secondary indexes on both Redis hashes &amp;\nJSON, aggregations (e.g., count, min, max, avg), ordering, and more.</p>\n</blockquote>\n<p>However, if you want to build your own integration then <a href=\"https://docs.tibco.com/products/tibco-activematrix-businessworks-plug-in-development-kit-6-3-1\" rel=\"nofollow noreferrer\">TIBCO ActiveMatrix BusinessWorks Plug-in Development Kit (PDK)</a> could be the way.</p>\n"}],"owner":{"account_id":7686451,"reputation":33,"user_id":5824057,"display_name":"NotMoftah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75210638,"answer_count":1,"score":0,"last_activity_date":1674482834,"creation_date":1674430095,"question_id":75204633,"body_markdown":"I wanna connect to a Redis Cluster via TIBCO BW5, So far I&#39;ve no idea where to start!\r\n\r\nIs there a way to connect via JDBC or should I write my own custom Java code?\r\n\r\n\r\nSo far I haven&#39;t tried anything yet.","title":"Connect to Redis using TIBCO BusinessWorks 5","body":"<p>I wanna connect to a Redis Cluster via TIBCO BW5, So far I've no idea where to start!</p>\n<p>Is there a way to connect via JDBC or should I write my own custom Java code?</p>\n<p>So far I haven't tried anything yet.</p>\n"},{"tags":["java","spring","keystore","client-certificates","apache-httpclient-5.x"],"comments":[{"owner":{"account_id":9107988,"reputation":3190,"user_id":6777695,"display_name":"Hakan54"},"score":0,"creation_date":1674564698,"post_id":75179903,"comment_id":132736641,"body_markdown":"It looks like you are creating a client manager without the key entry. You added a certificate entry to the in memory keystores which in this case only contains the certificate entry aka  as trusted certificate. The key/identity is missing. You should add a key entry with a private key and certificate chain to your in memory keystores to get it working","body":"It looks like you are creating a client manager without the key entry. You added a certificate entry to the in memory keystores which in this case only contains the certificate entry aka  as trusted certificate. The key/identity is missing. You should add a key entry with a private key and certificate chain to your in memory keystores to get it working"}],"owner":{"account_id":55837,"reputation":3854,"user_id":167304,"accept_rate":33,"display_name":"Jason"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":583,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674482645,"creation_date":1674179336,"question_id":75179903,"body_markdown":"How can I include client certificate using latest HttpClient (httpclient5)?\r\n\r\nI&#39;m using hakky54 sslcontext with latest RestTemplate (rest framework 6.0.4) and HttpClient.  It throws exception when I create an in-mem keystore (same result with &quot;PKCS12&quot; and &quot;JKS&quot;) with just my certificate\r\n\r\n&gt; 500 Internal Server Error: &quot;{&quot;ErrorCode&quot;:&quot;APPAP330E&quot;,&quot;ErrorMsg&quot;:&quot;Failed to verify application authentication data: Could not obtain client certificate details.&quot;}&quot;\r\n\r\nSyntax in Kotlin:\r\n\r\n    val x509 : X509Certificate = getCertificateFromStore(...)\r\n    val restTemplate = RestTemplate()\r\n    val request = HttpComponentsClientHttpRequestFactory()\r\n    val httpClient : HttpClientBuilder = HttpClients.custom()\r\n    \r\n    val clientStore = KeyStore.getInstance(KeyStore.getDefaultType())\r\n    val clientManager = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm())\r\n    clientStore.load(null)\r\n    clientStore.setCertificateEntry(&quot;clientCert&quot;, x509 )\r\n    clientManager.init(clientStore, null)\r\n    \r\n    val sslFactory = SSLFactory.builder()\r\n            .withIdentityMaterial(clientManager)\r\n            .build()\r\n    val connectionManager : HttpClientConnectionManager = PoolingHttpClientConnectionManagerBuilder.create()\r\n            .setSSLSocketFactory(Apache5SslUtils.toSocketFactory(sslFactory))\r\n            .build()\r\n    httpClient.setConnectionManager(connectionManager)\r\n    \r\n    request.httpClient = httpClient.build()\r\n    restTemplate.requestFactory = request\r\n    ...\r\n    val response : ResponseEntity&lt;String&gt; = restTemplate.getForEntity(...)\r\n\r\nIn Windows if I replace keystore init with `val clientStore = KeyStore.getInstance(&quot;Windows-MY&quot;)` with just one client cert in the store it works fine\r\n\r\nI need the ability to pick a different cert that&#39;s in the store or use a cert that&#39;s not pre-installed\r\n\r\nAm I not configuring the keystore correctly?  How can I inject a client cert into a resttemplate request in the latest Spring Framework.  It seems the latest Spring Framework and httpclient5 are not compatible with all the samples I have found online that rely on httpclient4","title":"Spring RestTemplate with HttpClient Client Certificate","body":"<p>How can I include client certificate using latest HttpClient (httpclient5)?</p>\n<p>I'm using hakky54 sslcontext with latest RestTemplate (rest framework 6.0.4) and HttpClient.  It throws exception when I create an in-mem keystore (same result with &quot;PKCS12&quot; and &quot;JKS&quot;) with just my certificate</p>\n<blockquote>\n<p>500 Internal Server Error: &quot;{&quot;ErrorCode&quot;:&quot;APPAP330E&quot;,&quot;ErrorMsg&quot;:&quot;Failed to verify application authentication data: Could not obtain client certificate details.&quot;}&quot;</p>\n</blockquote>\n<p>Syntax in Kotlin:</p>\n<pre><code>val x509 : X509Certificate = getCertificateFromStore(...)\nval restTemplate = RestTemplate()\nval request = HttpComponentsClientHttpRequestFactory()\nval httpClient : HttpClientBuilder = HttpClients.custom()\n\nval clientStore = KeyStore.getInstance(KeyStore.getDefaultType())\nval clientManager = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm())\nclientStore.load(null)\nclientStore.setCertificateEntry(&quot;clientCert&quot;, x509 )\nclientManager.init(clientStore, null)\n\nval sslFactory = SSLFactory.builder()\n        .withIdentityMaterial(clientManager)\n        .build()\nval connectionManager : HttpClientConnectionManager = PoolingHttpClientConnectionManagerBuilder.create()\n        .setSSLSocketFactory(Apache5SslUtils.toSocketFactory(sslFactory))\n        .build()\nhttpClient.setConnectionManager(connectionManager)\n\nrequest.httpClient = httpClient.build()\nrestTemplate.requestFactory = request\n...\nval response : ResponseEntity&lt;String&gt; = restTemplate.getForEntity(...)\n</code></pre>\n<p>In Windows if I replace keystore init with <code>val clientStore = KeyStore.getInstance(&quot;Windows-MY&quot;)</code> with just one client cert in the store it works fine</p>\n<p>I need the ability to pick a different cert that's in the store or use a cert that's not pre-installed</p>\n<p>Am I not configuring the keystore correctly?  How can I inject a client cert into a resttemplate request in the latest Spring Framework.  It seems the latest Spring Framework and httpclient5 are not compatible with all the samples I have found online that rely on httpclient4</p>\n"},{"tags":["java","spring-boot","maven","build"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674480837,"post_id":75210226,"comment_id":132716420,"body_markdown":"The code was compiled with a newer Version of the jdk as it has at runtime","body":"The code was compiled with a newer Version of the jdk as it has at runtime"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1674498517,"post_id":75210226,"comment_id":132722368,"body_markdown":"Spring Boot 3.X requires JDK17+ simply...","body":"Spring Boot 3.X requires JDK17+ simply..."}],"answers":[{"tags":[],"owner":{"account_id":14889478,"reputation":124,"user_id":10751633,"display_name":"bosowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674481109,"creation_date":1674481109,"answer_id":75210308,"question_id":75210226,"body_markdown":"class file version 61.0 = Java 17. If you are trying to run the project via your IDE, it will be using an independant java version from what&#39;s configured for your terminal&#39;s classpath.\r\nThe tutorial mentiones Intellij, so I&#39;ll assume that&#39;s what you&#39;re using. Go into `File -&gt; Project Structure` and you will have your SDK and Language Level in there for that project, make sure they&#39;re the correct versions.","title":"Spring Boot application build failed","body":"<p>class file version 61.0 = Java 17. If you are trying to run the project via your IDE, it will be using an independant java version from what's configured for your terminal's classpath.\nThe tutorial mentiones Intellij, so I'll assume that's what you're using. Go into <code>File -&gt; Project Structure</code> and you will have your SDK and Language Level in there for that project, make sure they're the correct versions.</p>\n"},{"tags":[],"owner":{"account_id":3702936,"reputation":120,"user_id":3082137,"display_name":"Dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674482411,"creation_date":1674482411,"answer_id":75210562,"question_id":75210226,"body_markdown":"Try Java 14 or above to handle this:\r\n\r\nJava SE 14 (or JDK 14) is the version that handles class files with a version number of 61.0","title":"Spring Boot application build failed","body":"<p>Try Java 14 or above to handle this:</p>\n<p>Java SE 14 (or JDK 14) is the version that handles class files with a version number of 61.0</p>\n"}],"owner":{"account_id":18714472,"reputation":25,"user_id":13643838,"display_name":"Marian Nicov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":994,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75210562,"answer_count":2,"score":0,"last_activity_date":1674482411,"creation_date":1674480718,"question_id":75210226,"body_markdown":"I am trying to build locally this repository https://github.com/spring-projects/spring-petclinic\r\nI followed the steps from the repo but the build result looks like this:\r\n\r\n`[INFO] BUILD FAILURE`\r\n\r\n`[INFO] ------------------------------------------------------------------------`\r\n\r\n`[INFO] Total time:  6.757 s`\r\n\r\n`[INFO] Finished at: 2023-01-23T15:27:08+02:00`\r\n\r\n`[INFO] ------------------------------------------------------------------------`\r\n\r\n`[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:build-info (default) on project spring-petclinic: Execution default of goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:build-info failed: Unable to load the mojo &#39;build-info&#39; in the plugin &#39;org.springframework.boot:spring-boot-maven-plugin:3.0.1&#39; due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/springframework/boot/maven/BuildInfoMojo has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0.`\r\n\r\nMy Java version is:\r\n\r\n`$ java -version`\r\n\r\n`openjdk version &quot;11.0.17&quot; 2022-10-18`\r\n\r\n`OpenJDK Runtime Environment (build 11.0.17+8-post-Ubuntu-1ubuntu218.04)`\r\n\r\n`OpenJDK 64-Bit Server VM (build 11.0.17+8-post-Ubuntu-1ubuntu218.04, mixed mode)`\r\n\r\nAnd Maven version is:\r\n\r\n`$ mvn -v`\r\n\r\n`Apache Maven 3.6.0`\r\n\r\n`Maven home: /usr/share/maven`\r\n\r\n`Java version: 11.0.17, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64`\r\n\r\n`Default locale: en, platform encoding: UTF-8`\r\n\r\n`OS name: &quot;linux&quot;, version: &quot;5.10.102.1-microsoft-standard-wsl2&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;`\r\n\r\nI tried to run the steps from the repo, but that didn&#39;t worked for me. ","title":"Spring Boot application build failed","body":"<p>I am trying to build locally this repository <a href=\"https://github.com/spring-projects/spring-petclinic\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-petclinic</a>\nI followed the steps from the repo but the build result looks like this:</p>\n<p><code>[INFO] BUILD FAILURE</code></p>\n<p><code>[INFO] ------------------------------------------------------------------------</code></p>\n<p><code>[INFO] Total time:  6.757 s</code></p>\n<p><code>[INFO] Finished at: 2023-01-23T15:27:08+02:00</code></p>\n<p><code>[INFO] ------------------------------------------------------------------------</code></p>\n<p><code>[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:build-info (default) on project spring-petclinic: Execution default of goal org.springframework.boot:spring-boot-maven-plugin:3.0.1:build-info failed: Unable to load the mojo 'build-info' in the plugin 'org.springframework.boot:spring-boot-maven-plugin:3.0.1' due to an API incompatibility: org.codehaus.plexus.component.repository.exception.ComponentLookupException: org/springframework/boot/maven/BuildInfoMojo has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0.</code></p>\n<p>My Java version is:</p>\n<p><code>$ java -version</code></p>\n<p><code>openjdk version &quot;11.0.17&quot; 2022-10-18</code></p>\n<p><code>OpenJDK Runtime Environment (build 11.0.17+8-post-Ubuntu-1ubuntu218.04)</code></p>\n<p><code>OpenJDK 64-Bit Server VM (build 11.0.17+8-post-Ubuntu-1ubuntu218.04, mixed mode)</code></p>\n<p>And Maven version is:</p>\n<p><code>$ mvn -v</code></p>\n<p><code>Apache Maven 3.6.0</code></p>\n<p><code>Maven home: /usr/share/maven</code></p>\n<p><code>Java version: 11.0.17, vendor: Ubuntu, runtime: /usr/lib/jvm/java-11-openjdk-amd64</code></p>\n<p><code>Default locale: en, platform encoding: UTF-8</code></p>\n<p><code>OS name: &quot;linux&quot;, version: &quot;5.10.102.1-microsoft-standard-wsl2&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;</code></p>\n<p>I tried to run the steps from the repo, but that didn't worked for me.</p>\n"},{"tags":["java","swing","window","custom-cursor"],"comments":[{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674239822,"post_id":75188013,"comment_id":132679981,"body_markdown":"@PM77-1 I&#39;m new, and I started learning like 3 months ago, and switch apparently works in that way (above java 14) https://betterprogramming.pub/a-look-at-the-new-switch-expressions-in-java-14-ed209c802ba0 Anyway, in standard way, it won&#39;t work to...","body":"@PM77-1 I&#39;m new, and I started learning like 3 months ago, and switch apparently works in that way (above java 14) <a href=\"https://betterprogramming.pub/a-look-at-the-new-switch-expressions-in-java-14-ed209c802ba0\" rel=\"nofollow noreferrer\">betterprogramming.pub/&hellip;</a> Anyway, in standard way, it won&#39;t work to..."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1674240958,"post_id":75188013,"comment_id":132680296,"body_markdown":"You are right about the new switch syntax.","body":"You are right about the new switch syntax."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1674241050,"post_id":75188013,"comment_id":132680321,"body_markdown":"Please [edit] your question to explain what &quot;*won&#39;t work*&quot; means in your case. Any errors? Unexpected results?","body":"Please <a href=\"https://stackoverflow.com/posts/75188013/edit\">edit</a> your question to explain what &quot;<i>won&#39;t work</i>&quot; means in your case. Any errors? Unexpected results?"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1674244165,"post_id":75188013,"comment_id":132681102,"body_markdown":"How can you prove that the call to `updateCursor()` actually happened?","body":"How can you prove that the call to <code>updateCursor()</code> actually happened?"},{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674244733,"post_id":75188013,"comment_id":132681222,"body_markdown":"@PM77-1 I tested it with `System.out.println();` - the method call and the switch works fine.","body":"@PM77-1 I tested it with <code>System.out.println();</code> - the method call and the switch works fine."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1674244869,"post_id":75188013,"comment_id":132681258,"body_markdown":"My last try: Have you by any chance declared `frame` in your other class?","body":"My last try: Have you by any chance declared <code>frame</code> in your other class?"},{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674245254,"post_id":75188013,"comment_id":132681345,"body_markdown":"@PM77-1 No, only in `Window` class. I also added `frame.add(new Painter());` and `frame.addKeyListener(new InputManager());` to the code later, but I thing thats not a problem.","body":"@PM77-1 No, only in <code>Window</code> class. I also added <code>frame.add(new Painter());</code> and <code>frame.addKeyListener(new InputManager());</code> to the code later, but I thing thats not a problem."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674255991,"post_id":75188013,"comment_id":132683487,"body_markdown":"Its possible that the cursor is defined only for the component its set on - so when you add a new component to the frame, its that components cursor which is been applied, not the frame - Id consider either moving the logic to the top level component or researching the glassPane","body":"Its possible that the cursor is defined only for the component its set on - so when you add a new component to the frame, its that components cursor which is been applied, not the frame - Id consider either moving the logic to the top level component or researching the glassPane"},{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674304385,"post_id":75188013,"comment_id":132688616,"body_markdown":"@MadProgrammer The problem is i can&#39;t update the cursor. It works, when I use `updateCursor` function for the first time. If I understood you correctly, it&#39;s not going to help. Or, can you give me a example? Sorry, I&#39;m new here... :)","body":"@MadProgrammer The problem is i can&#39;t update the cursor. It works, when I use <code>updateCursor</code> function for the first time. If I understood you correctly, it&#39;s not going to help. Or, can you give me a example? Sorry, I&#39;m new here... :)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674335871,"post_id":75188013,"comment_id":132694298,"body_markdown":"I understand your problem, but, your updating the cursor for the `JFrame` component, but a `JFrame` is a compound component (there are a number of components on top of it), plus what ever you place on it - all of these components have their own &quot;cursor&quot; settings.  From the JavaDocs *&quot; This cursor image is displayed when the contains method for this component returns true for the current cursor location&quot;* - This would suggest that the component which the mouse is over is actually determining the cursor state","body":"I understand your problem, but, your updating the cursor for the <code>JFrame</code> component, but a <code>JFrame</code> is a compound component (there are a number of components on top of it), plus what ever you place on it - all of these components have their own &quot;cursor&quot; settings.  From the JavaDocs <i>&quot; This cursor image is displayed when the contains method for this component returns true for the current cursor location&quot;</i> - This would suggest that the component which the mouse is over is actually determining the cursor state"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674371648,"post_id":75188013,"comment_id":132697709,"body_markdown":"I stand corrected, after some testing, it doesnt seem to matter, so long as the component is visible on the frame, which suggests that the issue is somewhere in the code youre not sharing","body":"I stand corrected, after some testing, it doesnt seem to matter, so long as the component is visible on the frame, which suggests that the issue is somewhere in the code youre not sharing"},{"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"score":0,"creation_date":1674400843,"post_id":75188013,"comment_id":132702079,"body_markdown":"@MadProgrammer I updated the code. It may not be super clean, but like I said, I&#39;m new here, and I&#39;m learning java. By the way, I&#39;m starting to think, that maybe my it&#39;s something wrong with my computer...","body":"@MadProgrammer I updated the code. It may not be super clean, but like I said, I&#39;m new here, and I&#39;m learning java. By the way, I&#39;m starting to think, that maybe my it&#39;s something wrong with my computer..."}],"answers":[{"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674481954,"creation_date":1674298732,"answer_id":75192797,"question_id":75188013,"body_markdown":"You are creating a new instance of your Window class in your keyPressed(..) method, therefore your cursor update does not work:\r\n\r\n&gt;  new Window().updateCursor(Window.ACTIVE);\r\n\r\nYou need to pass your existing Window instance to your MainMenu class and call this instance.\r\n\r\n       \r\n\r\n\r\nHere&#39;s a working example:\r\n\r\n**Main App**:\r\n\r\n\tpublic class MyApp extends JFrame {\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tMyApp app = new MyApp();\r\n\t\t\t\t\tapp.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tprivate MyApp() {\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tsetSize(600, 600);\r\n\r\n\t\t\t// Create cursors\r\n\t\t\tCursor c1 = Util.getCursor(&quot;c1.png&quot;);\r\n\t\t\tCursor c2 = Util.getCursor(&quot;c2.png&quot;);\r\n\r\n\t\t\tsetCursor(c1);\r\n\r\n\t\t\tJButton button1 = new JButton(&quot;Change to Cursor1&quot;);\r\n\t\t\tbutton1.setActionCommand(&quot;c1&quot;);\r\n\t\t\tbutton1.addActionListener(new MyActionListener(this));\r\n\r\n\t\t\tJButton button2 = new JButton(&quot;Change to Cursor2&quot;);\r\n\t\t\tbutton2.setActionCommand(&quot;c2&quot;);\r\n\t\t\tbutton2.addActionListener(new MyActionListener(this));\r\n\r\n\t\t\tadd(button1, BorderLayout.NORTH);\r\n\t\t\tadd(button2, BorderLayout.SOUTH);\r\n\t\t}\r\n\r\n\t}\r\n\r\n**ActionListener** (handles the button clicks):\r\n\r\n\tpublic class MyActionListener implements ActionListener {\r\n\r\n\t\tprivate JFrame jFrame;\r\n\r\n\t\tpublic MyActionListener(JFrame jFrame) {\r\n\t\t\tthis.jFrame = jFrame;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic void actionPerformed(ActionEvent e) {\r\n\t\t\tswitch (e.getActionCommand()){\r\n\t\t\t\tcase &quot;c1&quot;:\r\n\t\t\t\t\tjFrame.setCursor(Util.getCursor(&quot;c1.png&quot;));\r\n\t\t\t\t\tSystem.out.println(&quot;switch to c1&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase &quot;c2&quot;:\r\n\t\t\t\t\tjFrame.setCursor(Util.getCursor(&quot;c2.png&quot;));\r\n\t\t\t\t\tSystem.out.println(&quot;switch to c2&quot;);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n**Util** (read cursor image):\r\n\r\n\tpublic class Util {\r\n\t\tpublic static Cursor getCursor(String fileName) {\r\n\t\t\tBufferedImage img = null;\r\n\t\t\ttry {\r\n\t\t\t\timg = ImageIO.read(Util.class.getResourceAsStream(fileName));\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\t\t\treturn Toolkit.getDefaultToolkit().createCustomCursor(img, new Point(0, 0), fileName);\r\n\t\t}\r\n\r\n\t}\r\n","title":"Updating custom cursor in java swing window","body":"<p>You are creating a new instance of your Window class in your keyPressed(..) method, therefore your cursor update does not work:</p>\n<blockquote>\n<p>new Window().updateCursor(Window.ACTIVE);</p>\n</blockquote>\n<p>You need to pass your existing Window instance to your MainMenu class and call this instance.</p>\n<p>Here's a working example:</p>\n<p><strong>Main App</strong>:</p>\n<pre><code>public class MyApp extends JFrame {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                MyApp app = new MyApp();\n                app.setVisible(true);\n            }\n        });\n    }\n\n    private MyApp() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600, 600);\n\n        // Create cursors\n        Cursor c1 = Util.getCursor(&quot;c1.png&quot;);\n        Cursor c2 = Util.getCursor(&quot;c2.png&quot;);\n\n        setCursor(c1);\n\n        JButton button1 = new JButton(&quot;Change to Cursor1&quot;);\n        button1.setActionCommand(&quot;c1&quot;);\n        button1.addActionListener(new MyActionListener(this));\n\n        JButton button2 = new JButton(&quot;Change to Cursor2&quot;);\n        button2.setActionCommand(&quot;c2&quot;);\n        button2.addActionListener(new MyActionListener(this));\n\n        add(button1, BorderLayout.NORTH);\n        add(button2, BorderLayout.SOUTH);\n    }\n\n}\n</code></pre>\n<p><strong>ActionListener</strong> (handles the button clicks):</p>\n<pre><code>public class MyActionListener implements ActionListener {\n\n    private JFrame jFrame;\n\n    public MyActionListener(JFrame jFrame) {\n        this.jFrame = jFrame;\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        switch (e.getActionCommand()){\n            case &quot;c1&quot;:\n                jFrame.setCursor(Util.getCursor(&quot;c1.png&quot;));\n                System.out.println(&quot;switch to c1&quot;);\n                break;\n            case &quot;c2&quot;:\n                jFrame.setCursor(Util.getCursor(&quot;c2.png&quot;));\n                System.out.println(&quot;switch to c2&quot;);\n                break;\n        }\n    }\n\n}\n</code></pre>\n<p><strong>Util</strong> (read cursor image):</p>\n<pre><code>public class Util {\n    public static Cursor getCursor(String fileName) {\n        BufferedImage img = null;\n        try {\n            img = ImageIO.read(Util.class.getResourceAsStream(fileName));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        return Toolkit.getDefaultToolkit().createCustomCursor(img, new Point(0, 0), fileName);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674419494,"creation_date":1674419173,"answer_id":75203659,"question_id":75188013,"body_markdown":"You can&#39;t do ...\r\n\r\n    new Window().updateCursor(Window.ACTIVE);\r\n\r\nand magically expect the other instance of `Window` to be updated, in fact, you don&#39;t need to do this at all.\r\n\r\nThis is going to create another instance/copy of `Window`, which is not present on the screen and it will have no effect on the instance which is been displayed.\r\n\r\nYou could call `setCursor` directly on the instance `MainMenu`.\r\n\r\nNow, if you want to &quot;centralise&quot; the functionality, I would start by creating a &quot;manager&quot; class, for example...\r\n\r\n    public class CursorManager {\r\n\r\n        public enum CusorType {\r\n            NORMAL, ACTIVE, INACTIVE;\r\n        }\r\n\r\n        private Cursor cursorNormal, cursorActive, cursorInactive;\r\n\r\n        public CursorManager() throws IOException {\r\n            cursorNormal = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_normal)), new Point(0, 0), &quot;custom cursor (normal)&quot;);\r\n            cursorActive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_active)), new Point(0, 0), &quot;custom cursor (active)&quot;);\r\n            cursorInactive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_inactive)), new Point(0, 0), &quot;custom cursor (inactive)&quot;);\r\n        }\r\n\r\n        public void setCursor(CusorType cursorType, Component comp) {\r\n            switch (cursorType) {\r\n                case NORMAL -&gt;\r\n                    comp.setCursor(cursorNormal);\r\n                case ACTIVE -&gt;\r\n                    comp.setCursor(cursorActive);\r\n                case INACTIVE -&gt;\r\n                    comp.setCursor(cursorInactive);\r\n            }\r\n        }\r\n    }\r\n\r\nI would then create this instance of the manager during the initialisation phase of your code\r\n\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    CursorManager cursorManager = new CursorManager();\r\n                    //.. Every thing else...\r\n                } catch (IOException ex) {\r\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\nAnd then pass this instance to every class that might need it...\r\n\r\n    // You&#39;ll need to update Window to accept this parameter\r\n    new Window(cursorManager).open();\r\n\r\nAnd...\r\n\r\n    public class MainMenu extends JPanel implements KeyListener {\r\n\r\n        private CursorManager cursorManager;\r\n        \r\n        private MainMenu(CursorManager cursorManager) {\r\n            this.cursorManager = cursorManager;\r\n        }\r\n\r\n        @Override\r\n        public void keyPressed(KeyEvent e) {\r\n            // testing\r\n            cursorManager.setCursor(CursorManager.CusorType.ACTIVE, this);\r\n        }\r\n\r\n        //...\r\n    }\r\n\r\nThis is commonly known as &quot;dependency injection&quot; and is VERY powerful\r\n\r\n# Feedback\r\n\r\nJust as a side note, if I was doing something like this, it would be very different, but I tried to keep it simple.\r\n\r\n* We&#39;re generally discouraged from extending from top level containers like `JFrame`, as stated, `JFrame` is not a simple component and you&#39;re not actually adding any new functionality to the class and in the process, locking yourself into a single use, there by reducing re-usability.  Better to start with a `JPanel` as your base component and simply create an instance of `JFrame` or `JDialog or what ever top level container you want to use, when you need it\r\n* `KeyListener` is a poor choice for monitoring keyboard input (seriously, just do a search for &quot;my key listener won&#39;t work&quot;.  Instead, take a look at [How to Use Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)","title":"Updating custom cursor in java swing window","body":"<p>You can't do ...</p>\n<pre><code>new Window().updateCursor(Window.ACTIVE);\n</code></pre>\n<p>and magically expect the other instance of <code>Window</code> to be updated, in fact, you don't need to do this at all.</p>\n<p>This is going to create another instance/copy of <code>Window</code>, which is not present on the screen and it will have no effect on the instance which is been displayed.</p>\n<p>You could call <code>setCursor</code> directly on the instance <code>MainMenu</code>.</p>\n<p>Now, if you want to &quot;centralise&quot; the functionality, I would start by creating a &quot;manager&quot; class, for example...</p>\n<pre><code>public class CursorManager {\n\n    public enum CusorType {\n        NORMAL, ACTIVE, INACTIVE;\n    }\n\n    private Cursor cursorNormal, cursorActive, cursorInactive;\n\n    public CursorManager() throws IOException {\n        cursorNormal = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_normal)), new Point(0, 0), &quot;custom cursor (normal)&quot;);\n        cursorActive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_active)), new Point(0, 0), &quot;custom cursor (active)&quot;);\n        cursorInactive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_inactive)), new Point(0, 0), &quot;custom cursor (inactive)&quot;);\n    }\n\n    public void setCursor(CusorType cursorType, Component comp) {\n        switch (cursorType) {\n            case NORMAL -&gt;\n                comp.setCursor(cursorNormal);\n            case ACTIVE -&gt;\n                comp.setCursor(cursorActive);\n            case INACTIVE -&gt;\n                comp.setCursor(cursorInactive);\n        }\n    }\n}\n</code></pre>\n<p>I would then create this instance of the manager during the initialisation phase of your code</p>\n<pre><code>public static void main(String[] args) {\n    EventQueue.invokeLater(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                CursorManager cursorManager = new CursorManager();\n                //.. Every thing else...\n            } catch (IOException ex) {\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n            }\n        }\n    });\n}\n</code></pre>\n<p>And then pass this instance to every class that might need it...</p>\n<pre><code>// You'll need to update Window to accept this parameter\nnew Window(cursorManager).open();\n</code></pre>\n<p>And...</p>\n<pre><code>public class MainMenu extends JPanel implements KeyListener {\n\n    private CursorManager cursorManager;\n    \n    private MainMenu(CursorManager cursorManager) {\n        this.cursorManager = cursorManager;\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        // testing\n        cursorManager.setCursor(CursorManager.CusorType.ACTIVE, this);\n    }\n\n    //...\n}\n</code></pre>\n<p>This is commonly known as &quot;dependency injection&quot; and is VERY powerful</p>\n<h1>Feedback</h1>\n<p>Just as a side note, if I was doing something like this, it would be very different, but I tried to keep it simple.</p>\n<ul>\n<li>We're generally discouraged from extending from top level containers like <code>JFrame</code>, as stated, <code>JFrame</code> is not a simple component and you're not actually adding any new functionality to the class and in the process, locking yourself into a single use, there by reducing re-usability.  Better to start with a <code>JPanel</code> as your base component and simply create an instance of <code>JFrame</code> or `JDialog or what ever top level container you want to use, when you need it</li>\n<li><code>KeyListener</code> is a poor choice for monitoring keyboard input (seriously, just do a search for &quot;my key listener won't work&quot;.  Instead, take a look at <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">How to Use Key Bindings</a></li>\n</ul>\n"}],"owner":{"account_id":23956211,"reputation":13,"user_id":17947062,"display_name":"Adamm"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75203659,"answer_count":2,"score":1,"last_activity_date":1674481954,"creation_date":1674239064,"question_id":75188013,"body_markdown":"I want to set custom cursor in my java swing app, and then edit it.\r\n\r\nI set a custom cusrsor after showing window (in &quot;Window&quot; class).\r\nLater in code (in the other class), I want to chainge it again, so i call this `updateCursor()` funcion (in &quot;Window&quot; class again), and it and it won&#39;t work. There is no errors or warnings, but the cursor isn&#39;t changing - just stays the same. I tried, and I can&#39;t find answer anywhere. I appreciate any help.\r\n\r\nThis is full code - **Window.java**:\r\n```java\r\nimport MainMenu;\r\n\r\nimport javax.imageio.ImageIO;\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\n\r\npublic class Window {\r\n    public static final int WIDTH = 817, HEIGHT = 640;\r\n\r\n    JFrame frame = new JFrame(&quot;&quot;);\r\n\r\n    public void open() {\r\n        frame.pack();\r\n        frame.setVisible(true);\r\n        frame.setResizable(false);\r\n        frame.setSize(WIDTH - 33, HEIGHT - 25);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        frame.setFocusable(true);\r\n        frame.requestFocus();\r\n        frame.setFocusTraversalKeysEnabled(true);\r\n\r\n        frame.addKeyListener(new InputManager());\r\n        frame.addMouseListener(new InputManager());\r\n        frame.add(new MainMenu());\r\n        frame.add(new Game());\r\n\r\n        loadCursors();\r\n\r\n        updateCursor(0);\r\n    }\r\n\r\n    public static final int NORMAL = 0, ACTIVE = 1, INACTIVE = 2;\r\n\r\n    Cursor cursor_normal, cursor_active, cursor_inactive;\r\n\r\n    public void loadCursors() {\r\n        try {\r\n            cursor_normal = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_normal)), new Point(0, 0), &quot;custom cursor (normal)&quot;);\r\n            cursor_active = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_active)), new Point(0, 0), &quot;custom cursor (active)&quot;);\r\n            cursor_inactive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_inactive)), new Point(0, 0), &quot;custom cursor (inactive)&quot;);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void updateCursor(int cursorType) {\r\n        switch (cursorType) {\r\n            case NORMAL -&gt; frame.setCursor(cursor_normal);\r\n            case ACTIVE -&gt; frame.setCursor(cursor_active);\r\n            case INACTIVE -&gt; frame.setCursor(cursor_inactive);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n**MainMenu.java**:\r\n```java\r\nimport Window;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\npublic class MainMenu extends JPanel implements KeyListener {\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        // testing\r\n        new Window().updateCursor(Window.ACTIVE);\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n\r\n    }\r\n}\r\n```","title":"Updating custom cursor in java swing window","body":"<p>I want to set custom cursor in my java swing app, and then edit it.</p>\n<p>I set a custom cusrsor after showing window (in &quot;Window&quot; class).\nLater in code (in the other class), I want to chainge it again, so i call this <code>updateCursor()</code> funcion (in &quot;Window&quot; class again), and it and it won't work. There is no errors or warnings, but the cursor isn't changing - just stays the same. I tried, and I can't find answer anywhere. I appreciate any help.</p>\n<p>This is full code - <strong>Window.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import MainMenu;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.*;\nimport java.awt.*;\nimport java.io.File;\nimport java.io.IOException;\n\npublic class Window {\n    public static final int WIDTH = 817, HEIGHT = 640;\n\n    JFrame frame = new JFrame(&quot;&quot;);\n\n    public void open() {\n        frame.pack();\n        frame.setVisible(true);\n        frame.setResizable(false);\n        frame.setSize(WIDTH - 33, HEIGHT - 25);\n        frame.setLocationRelativeTo(null);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.setFocusable(true);\n        frame.requestFocus();\n        frame.setFocusTraversalKeysEnabled(true);\n\n        frame.addKeyListener(new InputManager());\n        frame.addMouseListener(new InputManager());\n        frame.add(new MainMenu());\n        frame.add(new Game());\n\n        loadCursors();\n\n        updateCursor(0);\n    }\n\n    public static final int NORMAL = 0, ACTIVE = 1, INACTIVE = 2;\n\n    Cursor cursor_normal, cursor_active, cursor_inactive;\n\n    public void loadCursors() {\n        try {\n            cursor_normal = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_normal)), new Point(0, 0), &quot;custom cursor (normal)&quot;);\n            cursor_active = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_active)), new Point(0, 0), &quot;custom cursor (active)&quot;);\n            cursor_inactive = Toolkit.getDefaultToolkit().createCustomCursor(ImageIO.read(new File(new SpritesManager().cursor_inactive)), new Point(0, 0), &quot;custom cursor (inactive)&quot;);\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void updateCursor(int cursorType) {\n        switch (cursorType) {\n            case NORMAL -&gt; frame.setCursor(cursor_normal);\n            case ACTIVE -&gt; frame.setCursor(cursor_active);\n            case INACTIVE -&gt; frame.setCursor(cursor_inactive);\n        }\n    }\n}\n</code></pre>\n<p><strong>MainMenu.java</strong>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import Window;\n\nimport javax.swing.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\npublic class MainMenu extends JPanel implements KeyListener {\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        // testing\n        new Window().updateCursor(Window.ACTIVE);\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","single-sign-on","saml"],"owner":{"account_id":2405770,"reputation":1942,"user_id":2102292,"accept_rate":69,"display_name":"Cheknov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674481160,"creation_date":1674481160,"question_id":75210327,"body_markdown":"**Requirements:**\r\n\r\n- Given a webapp: &#39;myapp.com&#39; that is hosted on AWS.\r\n- We want 20 unrelated companies to be able to access myapp.com via SSO (SAML)\r\n- Each company has its own domain(s) (company1.com, company2.net, and so on).\r\n- Each user connects from the office with their computer (Windows). \r\n- Each user belongs to the company&#39;s AD (could be ADFS, Azure AD or whatever).\r\n\r\n**What I&#39;ve tried:**\r\n\r\nI have been able to understand and test the OneLogin toolkit for one organization but I don&#39;t know how to do it when there is more than one organization.\r\n\r\n**The problem:**\r\n\r\nMaybe it&#39;s a software design or architecture issue but I don&#39;t know how to scale the SAML implementations I see online (OneLogin&#39;s is an example) for more than one company/organization. \r\n\r\n\r\n**My findings (2 possible options):**\r\n\r\n**First option: Each company has its own IdP in addition to an AD (could be ADFS, Azure AD or whatever)**\r\n- In authenticindication.com we register the 20 or 40 IdPs and to each IdP we associate the domain of the company.\r\n- When the user tries to access authenticindication.com, if there is no open session, the user is asked to enter the email and from there we get the domain.\r\n- In case of having an IdP associated with that domain, the user would be redirected.\r\n- In case of not having an associated IdP, the user would be asked for a password since it would be considered a local user.\r\n\r\n**Second option:The companies do not have their own IdP**\r\n- In this case, we would have to deploy a common IdP and have that IdP connect to their ADs, but that would require those companies to give the IdP machine access/permissions to be able to perform queries to authenticate users.\r\n\r\n**What I expect:**\r\n\r\nI would like to know if the approach I am taking is wrong and if the only options are to create an IdP for those companies that do not have their own IdP and for those companies that do have their own IdP to reuse them. Is there a single solution that covers both cases? I was reading in Spring Security but I did not find anything.\r\n\r\nIf anyone has implemented anything similar, it would also be appreciated if they could share their knowledge.","title":"How to implement SSO for a Spring webapp giving access to multiple organizations with different domains","body":"<p><strong>Requirements:</strong></p>\n<ul>\n<li>Given a webapp: 'myapp.com' that is hosted on AWS.</li>\n<li>We want 20 unrelated companies to be able to access myapp.com via SSO (SAML)</li>\n<li>Each company has its own domain(s) (company1.com, company2.net, and so on).</li>\n<li>Each user connects from the office with their computer (Windows).</li>\n<li>Each user belongs to the company's AD (could be ADFS, Azure AD or whatever).</li>\n</ul>\n<p><strong>What I've tried:</strong></p>\n<p>I have been able to understand and test the OneLogin toolkit for one organization but I don't know how to do it when there is more than one organization.</p>\n<p><strong>The problem:</strong></p>\n<p>Maybe it's a software design or architecture issue but I don't know how to scale the SAML implementations I see online (OneLogin's is an example) for more than one company/organization.</p>\n<p><strong>My findings (2 possible options):</strong></p>\n<p><strong>First option: Each company has its own IdP in addition to an AD (could be ADFS, Azure AD or whatever)</strong></p>\n<ul>\n<li>In authenticindication.com we register the 20 or 40 IdPs and to each IdP we associate the domain of the company.</li>\n<li>When the user tries to access authenticindication.com, if there is no open session, the user is asked to enter the email and from there we get the domain.</li>\n<li>In case of having an IdP associated with that domain, the user would be redirected.</li>\n<li>In case of not having an associated IdP, the user would be asked for a password since it would be considered a local user.</li>\n</ul>\n<p><strong>Second option:The companies do not have their own IdP</strong></p>\n<ul>\n<li>In this case, we would have to deploy a common IdP and have that IdP connect to their ADs, but that would require those companies to give the IdP machine access/permissions to be able to perform queries to authenticate users.</li>\n</ul>\n<p><strong>What I expect:</strong></p>\n<p>I would like to know if the approach I am taking is wrong and if the only options are to create an IdP for those companies that do not have their own IdP and for those companies that do have their own IdP to reuse them. Is there a single solution that covers both cases? I was reading in Spring Security but I did not find anything.</p>\n<p>If anyone has implemented anything similar, it would also be appreciated if they could share their knowledge.</p>\n"},{"tags":["java","api","rest","postman"],"comments":[{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":1,"creation_date":1674464059,"post_id":75207234,"comment_id":132711387,"body_markdown":"What do you mean by testing in browser? You can&#39;t do POST requests in browser by just typing in the URL. The error (Method not allowed) implies that you are not doing a POST request, but instead a GET or something. You need to do an AJAX POST request with Javascript. Can you show how you are testing it via browser?","body":"What do you mean by testing in browser? You can&#39;t do POST requests in browser by just typing in the URL. The error (Method not allowed) implies that you are not doing a POST request, but instead a GET or something. You need to do an AJAX POST request with Javascript. Can you show how you are testing it via browser?"},{"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"score":0,"creation_date":1674464187,"post_id":75207234,"comment_id":132711424,"body_markdown":"@Tarmo I test this URL http://localhost:28852/purchase?row=3&amp;column=4 in browser. That&#39;s it. I didnt know I cant do POST requests in browser.","body":"@Tarmo I test this URL <a href=\"http://localhost:28852/purchase?row=3&amp;column=4\" rel=\"nofollow noreferrer\">localhost:28852/purchase?row=3&amp;column=4</a> in browser. That&#39;s it. I didnt know I cant do POST requests in browser."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1674464424,"post_id":75207234,"comment_id":132711480,"body_markdown":"You can, but to do it, you need to create a HTML page which does AJAX request either natively or with some library. Then you can test it via that. Here&#39;s the native way to do it: https://stackoverflow.com/questions/6396101/pure-javascript-send-post-data-without-a-form. But I&#39;d use some library like axios or fetch. Makes it a lot cleaner and easier.","body":"You can, but to do it, you need to create a HTML page which does AJAX request either natively or with some library. Then you can test it via that. Here&#39;s the native way to do it: <a href=\"https://stackoverflow.com/questions/6396101/pure-javascript-send-post-data-without-a-form\" title=\"pure javascript send post data without a form\">stackoverflow.com/questions/6396101/&hellip;</a>. But I&#39;d use some library like axios or fetch. Makes it a lot cleaner and easier."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1674464663,"post_id":75207234,"comment_id":132711541,"body_markdown":"And `row=3&amp;column=4` doesn&#39;t work. Those are query parameters not request body. Two different things and one is not converted to anohter.","body":"And <code>row=3&amp;column=4</code> doesn&#39;t work. Those are query parameters not request body. Two different things and one is not converted to anohter."},{"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"score":0,"creation_date":1674464831,"post_id":75207234,"comment_id":132711593,"body_markdown":"@Tarmo Ok. Thank you. Let&#39;s forget about testing in browser then and lets focus on testing in Postman. Would you know how to do it?","body":"@Tarmo Ok. Thank you. Let&#39;s forget about testing in browser then and lets focus on testing in Postman. Would you know how to do it?"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":0,"creation_date":1674464936,"post_id":75207234,"comment_id":132711630,"body_markdown":"On of the reasons why you get `500` for POST request is because you don;t have a no arguments constructor in the `Seat ` class.","body":"On of the reasons why you get <code>500</code> for POST request is because you don;t have a no arguments constructor in the <code>Seat </code> class."},{"owner":{"account_id":3622515,"reputation":3911,"user_id":3020903,"accept_rate":50,"display_name":"Tarmo"},"score":0,"creation_date":1674465000,"post_id":75207234,"comment_id":132711653,"body_markdown":"Also. Any time you get a 500, theres probably an error in your Spring log which leads you to the actual root cause.","body":"Also. Any time you get a 500, theres probably an error in your Spring log which leads you to the actual root cause."},{"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"score":0,"creation_date":1674465228,"post_id":75207234,"comment_id":132711718,"body_markdown":"@artiomi &quot;no arguments constructor in the Seat  class&quot;  I don&#39;t think I follow you. Could you show me an example in Java?","body":"@artiomi &quot;no arguments constructor in the Seat  class&quot;  I don&#39;t think I follow you. Could you show me an example in Java?"},{"owner":{"account_id":19663187,"reputation":383,"user_id":14394219,"display_name":"artiomi"},"score":1,"creation_date":1674465352,"post_id":75207234,"comment_id":132711762,"body_markdown":"@Michal here it is: `public Seat() {}`","body":"@Michal here it is: <code>public Seat() {}</code>"},{"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"score":0,"creation_date":1674465531,"post_id":75207234,"comment_id":132711816,"body_markdown":"@artiomi OMG that was it :) Now it works just as it should in Postman. Thank you very much!","body":"@artiomi OMG that was it :) Now it works just as it should in Postman. Thank you very much!"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674481031,"creation_date":1674481031,"answer_id":75210288,"question_id":75207234,"body_markdown":"You can&#39;t do a POST from a browser, except via a js fetch. You can only a GET. The &quot;Method Not Allowed, status=405 error&quot; is telling you that, ie GET not allowed.\r\n\r\nThe error you get from postman shows you got past the 405 (because it is a POST) but the server is throwing and exception. You need to check logs or step through in debug.","title":"How to post a Post request by passing an object in Postman or as URL in browser","body":"<p>You can't do a POST from a browser, except via a js fetch. You can only a GET. The &quot;Method Not Allowed, status=405 error&quot; is telling you that, ie GET not allowed.</p>\n<p>The error you get from postman shows you got past the 405 (because it is a POST) but the server is throwing and exception. You need to check logs or step through in debug.</p>\n"}],"owner":{"account_id":14512731,"reputation":249,"user_id":10482658,"display_name":"Michal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674481031,"creation_date":1674463817,"question_id":75207234,"body_markdown":"I&#39;m testing my Rest APIs on Postman and URL in browser, but I don&#39;t know how to test an API with a POST method that takes an object as a parameter. I know there is nothing wrong with my code because it is part of Hyperskill projects and it passed all the tests. It&#39;s really just I dont know how to test it and I can&#39;t find an answer anywhere.\r\n\r\nHere is what I should test and what results I should get:\r\n\r\n*Request body:*\r\n```\r\n{\r\n    &quot;row&quot;: 3,\r\n    &quot;column&quot;: 4\r\n}\r\n```\r\n*Response body:*\r\n```\r\n{\r\n    &quot;row&quot;: 3,\r\n    &quot;column&quot;: 4,\r\n}\r\n```\r\nWhen I try the same *Request body* again:\r\n```\r\n{\r\n    &quot;row&quot;: 3,\r\n    &quot;column&quot;: 4\r\n}\r\n```\r\n*Response body* should give me an error message:\r\n```\r\n{\r\n    &quot;error&quot;: &quot;The ticket has been already purchased!&quot;\r\n}\r\n```\r\nInstead when I test following URL http://localhost:28852/purchase?row=3&amp;column=4 in browser I get:\r\n\r\n&gt; Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\nMon Jan 23 08:53:33 CET 2023 There was an unexpected error (type=Method Not Allowed, status=405).\r\n\r\nWhen I try to test my code in Postman I get: [![enter image description here][1]][1]\r\n\r\nAnd here&#39;s my full code in Java:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Main.class, args);\r\n    }\r\n}\r\n```\r\n```\r\n@RestController\r\npublic class SeatController {\r\n    public SeatController() {}\r\n    \tprivate ScreenRoom screenRoom = new ScreenRoom(9, 9);\r\n    \t@GetMapping(&quot;/seats&quot;)\r\n    \tpublic ScreenRoom getSeat(){\r\n\t\t\treturn screenRoom;\r\n    \t}\r\n\r\n\t@PostMapping(&quot;/purchase&quot;)\r\n\tpublic synchronized ResponseEntity&lt;?&gt; postSeat(@RequestBody Seat seat){\r\n\t\tif (seat.getRow() &lt; 1 || seat.getRow() &gt; 9 || seat.getColumn() &lt; 1 || seat.getColumn() &gt; 9) {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(Map.of(&quot;error&quot;, &quot;The number of a row or a column is out of bounds!&quot;), HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\t\tif (screenRoom.getAvailable_seats().contains(seat)) {\r\n\t\t\tscreenRoom.removeFromAvailableSeats(seat);\r\n\t\t\treturn new ResponseEntity&lt;&gt;(seat, HttpStatus.OK);\r\n\t\t} else {\r\n\t\t\treturn new ResponseEntity&lt;&gt;(Map.of(&quot;error&quot;, &quot;The ticket has been already purchased!&quot;), HttpStatus.BAD_REQUEST);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n```\r\npublic class ScreenRoom {\r\n    private int total_rows;\r\n\tprivate int total_columns;\r\n\tprivate List&lt;Seat&gt; available_seats = new ArrayList&lt;&gt;();\r\n\r\n\tpublic ScreenRoom(int total_rows, int total_columns) {\r\n\t\tthis.total_rows = total_rows;\r\n\t\tthis.total_columns = total_columns;\r\n\r\n\t\tfor (int i = 1; i &lt;= total_rows; i++) {\r\n\t\t\tfor (int j = 1; j &lt;= total_columns; j++) {\r\n\t\t\t\tavailable_seats.add(new Seat(i, j));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tpublic int getTotal_rows() {\r\n\t\treturn total_rows;\r\n\t}\r\n\tpublic void setTotal_rows(int total_rows) {\r\n\t\tthis.total_rows = total_rows;\r\n\t}\r\n\tpublic int getTotal_columns() {\r\n\t\treturn total_columns;\r\n\t}\r\n\tpublic void setTotal_columns(int total_columns) {\r\n\t\tthis.total_columns = total_columns;\r\n\t}\r\n\tpublic List&lt;Seat&gt; getAvailable_seats() {\r\n\t\treturn available_seats;\r\n\t}\r\n\tpublic void setAvailable_seats(List&lt;Seat&gt; available_seats) {\r\n\t\tthis.available_seats = available_seats;\r\n\t}\r\n\tpublic void removeFromAvailableSeats(Seat seat) {\r\n\t\tthis.available_seats.remove(seat);\r\n\t}\r\n\tpublic void getSeat(Seat seat) {\r\n\t\tthis.available_seats.get(this.available_seats.indexOf(seat));\r\n\t}\r\n}\r\n```\r\n```\r\npublic class Seat {\r\n\tprivate int row;\r\n\tprivate int column;\r\n\tpublic Seat(int row, int column) {\r\n\t\tthis.row = row;\r\n\t\tthis.column = column;\r\n\t}\r\n\tpublic int getRow() {\r\n\t\treturn row;\r\n\t}\r\n\tpublic void setRow(int row) {\r\n\t\tthis.row = row;\r\n\t}\r\n\tpublic int getColumn() {\r\n\t\treturn column;\r\n\t}\r\n\tpublic void setColumn(int column) {\r\n\t\tthis.column = column;\r\n\t}\r\n\t@Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n\r\n        Seat seat = (Seat) o;\r\n        if (row != seat.row) return false;\r\n        return column == seat.column;\r\n    }\r\n}\r\n```\r\nWhat exactly I&#39;m doing wrong regarding testing? Thank you for your time and answers.\r\n\r\n  [1]: https://i.stack.imgur.com/fgDub.png","title":"How to post a Post request by passing an object in Postman or as URL in browser","body":"<p>I'm testing my Rest APIs on Postman and URL in browser, but I don't know how to test an API with a POST method that takes an object as a parameter. I know there is nothing wrong with my code because it is part of Hyperskill projects and it passed all the tests. It's really just I dont know how to test it and I can't find an answer anywhere.</p>\n<p>Here is what I should test and what results I should get:</p>\n<p><em>Request body:</em></p>\n<pre><code>{\n    &quot;row&quot;: 3,\n    &quot;column&quot;: 4\n}\n</code></pre>\n<p><em>Response body:</em></p>\n<pre><code>{\n    &quot;row&quot;: 3,\n    &quot;column&quot;: 4,\n}\n</code></pre>\n<p>When I try the same <em>Request body</em> again:</p>\n<pre><code>{\n    &quot;row&quot;: 3,\n    &quot;column&quot;: 4\n}\n</code></pre>\n<p><em>Response body</em> should give me an error message:</p>\n<pre><code>{\n    &quot;error&quot;: &quot;The ticket has been already purchased!&quot;\n}\n</code></pre>\n<p>Instead when I test following URL http://localhost:28852/purchase?row=3&amp;column=4 in browser I get:</p>\n<blockquote>\n<p>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nMon Jan 23 08:53:33 CET 2023 There was an unexpected error (type=Method Not Allowed, status=405).</p>\n</blockquote>\n<p>When I try to test my code in Postman I get: <a href=\"https://i.stack.imgur.com/fgDub.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fgDub.png\" alt=\"enter image description here\" /></a></p>\n<p>And here's my full code in Java:</p>\n<pre><code>@SpringBootApplication\npublic class Main {\n    public static void main(String[] args) {\n        SpringApplication.run(Main.class, args);\n    }\n}\n</code></pre>\n<pre><code>@RestController\npublic class SeatController {\n    public SeatController() {}\n        private ScreenRoom screenRoom = new ScreenRoom(9, 9);\n        @GetMapping(&quot;/seats&quot;)\n        public ScreenRoom getSeat(){\n            return screenRoom;\n        }\n\n    @PostMapping(&quot;/purchase&quot;)\n    public synchronized ResponseEntity&lt;?&gt; postSeat(@RequestBody Seat seat){\n        if (seat.getRow() &lt; 1 || seat.getRow() &gt; 9 || seat.getColumn() &lt; 1 || seat.getColumn() &gt; 9) {\n            return new ResponseEntity&lt;&gt;(Map.of(&quot;error&quot;, &quot;The number of a row or a column is out of bounds!&quot;), HttpStatus.BAD_REQUEST);\n        }\n        if (screenRoom.getAvailable_seats().contains(seat)) {\n            screenRoom.removeFromAvailableSeats(seat);\n            return new ResponseEntity&lt;&gt;(seat, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(Map.of(&quot;error&quot;, &quot;The ticket has been already purchased!&quot;), HttpStatus.BAD_REQUEST);\n        }\n    }\n}\n\n</code></pre>\n<pre><code>public class ScreenRoom {\n    private int total_rows;\n    private int total_columns;\n    private List&lt;Seat&gt; available_seats = new ArrayList&lt;&gt;();\n\n    public ScreenRoom(int total_rows, int total_columns) {\n        this.total_rows = total_rows;\n        this.total_columns = total_columns;\n\n        for (int i = 1; i &lt;= total_rows; i++) {\n            for (int j = 1; j &lt;= total_columns; j++) {\n                available_seats.add(new Seat(i, j));\n            }\n        }\n    }\n    public int getTotal_rows() {\n        return total_rows;\n    }\n    public void setTotal_rows(int total_rows) {\n        this.total_rows = total_rows;\n    }\n    public int getTotal_columns() {\n        return total_columns;\n    }\n    public void setTotal_columns(int total_columns) {\n        this.total_columns = total_columns;\n    }\n    public List&lt;Seat&gt; getAvailable_seats() {\n        return available_seats;\n    }\n    public void setAvailable_seats(List&lt;Seat&gt; available_seats) {\n        this.available_seats = available_seats;\n    }\n    public void removeFromAvailableSeats(Seat seat) {\n        this.available_seats.remove(seat);\n    }\n    public void getSeat(Seat seat) {\n        this.available_seats.get(this.available_seats.indexOf(seat));\n    }\n}\n</code></pre>\n<pre><code>public class Seat {\n    private int row;\n    private int column;\n    public Seat(int row, int column) {\n        this.row = row;\n        this.column = column;\n    }\n    public int getRow() {\n        return row;\n    }\n    public void setRow(int row) {\n        this.row = row;\n    }\n    public int getColumn() {\n        return column;\n    }\n    public void setColumn(int column) {\n        this.column = column;\n    }\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        Seat seat = (Seat) o;\n        if (row != seat.row) return false;\n        return column == seat.column;\n    }\n}\n</code></pre>\n<p>What exactly I'm doing wrong regarding testing? Thank you for your time and answers.</p>\n"},{"tags":["java","xml","rest","soapui"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1674478711,"post_id":75209733,"comment_id":132715671,"body_markdown":"Looks right to me. What response are you getting that indicates the ClientSessionId is missing? Maybe it&#39;s wrong or some other issue.","body":"Looks right to me. What response are you getting that indicates the ClientSessionId is missing? Maybe it&#39;s wrong or some other issue."},{"owner":{"account_id":14391825,"reputation":13,"user_id":10396246,"display_name":"Thomas Andreas Kocher"},"score":0,"creation_date":1674811613,"post_id":75209733,"comment_id":132796933,"body_markdown":"i was an erre in tje header jnow it wworls","body":"i was an erre in tje header jnow it wworls"}],"owner":{"account_id":14391825,"reputation":13,"user_id":10396246,"display_name":"Thomas Andreas Kocher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674480796,"creation_date":1674477957,"question_id":75209733,"body_markdown":"I have the following POST  Request in SOAPUI which seams to work\r\n\r\n[![enter image description here][1]][1]\r\n\r\nso i have  an endpoint a resource  A Header and a Header Parameter\r\n\r\n\r\nwhen i want to implement this with  the RestTemplate i dont know how to add the header parameter  what i tried is \r\n \r\n\r\n        public void setForward(String sessionId,String dn, String cf) {\r\n        try {\r\n            final String setForwardURL = &quot;https://&quot;+  getHost() + &quot;:&quot;+  getPort() +  &quot;/inyama/service/logicaldevice/setForwarding&quot;;\r\n            RestTemplate restTemplateSetForward =  new RestTemplate();\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.add(&quot;ClientSessionId&quot;,sessionId);\r\n            headers.setContentType(MediaType.APPLICATION_XML);\r\n            List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n            messageConverters.add(new StringHttpMessageConverter());\r\n            restTemplateSetForward.setMessageConverters(messageConverters);\r\n            String requestBodyCallForward =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;&quot; +\r\n                &quot;&lt;ns3:SetForwarding xmlns:ns14=\\&quot;http://calllog.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns15=\\&quot;http://recording.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns9=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&quot; +\r\n                &quot;xmlns:ns5=\\&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing\\&quot;&quot; +\r\n                &quot;xmlns:ns12=\\&quot;http://conferencing.avaya.com/\\&quot; xmlns:ns6=\\&quot;http://com.avaya.inkaba.dal\\&quot;&quot; +\r\n                &quot;xmlns:ns13=\\&quot;http://voicemail.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns7=\\&quot;http://com.avaya.inkaba.wstransfer\\&quot;&quot; +\r\n                &quot;xmlns:ns10=\\&quot;http://ccragent.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns8=\\&quot;http://com.avaya.common.csta.extended\\&quot;&quot; +\r\n                &quot;xmlns:ns11=\\&quot;http://conferencing.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns2=\\&quot;http://openapi.common.avaya.com/\\&quot;&quot; +\r\n                &quot;xmlns:ns4=\\&quot;http://schemas.xmlsoap.org/ws/2004/09/transfer\\&quot;&quot; +\r\n                &quot;xmlns:ns3=\\&quot;http://www.ecma-international.org/standards/ecma-323/csta/ed4\\&quot;&gt;&quot; +\r\n                &quot;&lt;ns3:device&quot; +\r\n                &quot;typeOfNumber=\\&quot;dialingNumber\\&quot;&gt;&quot; + dn + &quot;&lt;/ns3:device&gt;&quot; +\r\n                &quot;&lt;ns3:forwardingType&gt;forwardImmediate&lt;/ns3:forwardingType&gt;&quot; +\r\n                &quot;&lt;ns3:activateForward&gt;true&lt;/ns3:activateForward&gt;&quot; +\r\n                &quot;&lt;ns3:forwardDN typeOfNumber=\\&quot;dialingNumber\\&quot;&gt;&quot;+ cf + &quot;&lt;/ns3:forwardDN&gt;&quot; +\r\n                &quot;&lt;/ns3:SetForwarding&gt;&quot;;\r\n            HttpEntity&lt;String&gt; restRequest = new HttpEntity&lt;String&gt;(requestBodyCallForward, headers);\r\n            final ResponseEntity&lt;String&gt; responseSetForward = restTemplateSetForward.postForEntity(setForwardURL, restRequest, String.class);\r\n            HttpStatus statusCallForward =  responseSetForward.getStatusCode();\r\n            boolean success = statusCallForward.is2xxSuccessful();\r\n        } catch (RestClientException e) {\r\n            reporter.problemStackTrace(getClass(), e.getMessage(), e);\r\n        } catch (Exception e) {\r\n            reporter.problemStackTrace(getClass(), e.getMessage(), e);\r\n        }\r\n    }\r\n\r\n\r\n\r\nI tried to set the header parameter with add but this does not work how can i add dies simple Header Parameter to my request\r\n\r\nI get  a estClientException Bad Request  ehn i do no add my clienSessiinid i get a unauthorized access  Bot th login which is almost the same works but the login ha no parameter\r\n\r\n        public String login() {\r\n        String sessionId = &quot;&quot;;\r\n        try {\r\n            final String loginURL = &quot;https://&quot;+  getHost() + &quot;:&quot;+  getPort() +  &quot;/inyama/service/session&quot;;\r\n            String requestBody =\r\n                &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot; +\r\n                    &quot;&lt;ns:userLoginRequest xmlns:ns=\\&quot;http://openapi.common.avaya.com/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot;+\r\n                    &quot;&lt;userName&gt;&quot; +getUserName() + &quot;&lt;/userName&gt;&quot;+\r\n                    &quot;&lt;userPassword&gt;&quot; + getUserPassword()+ &quot;&lt;/userPassword&gt;&quot;+\r\n                    &quot;&lt;applicationName&gt;talkbase&lt;/applicationName&gt;&quot;+\r\n                    &quot;&lt;loginSubscriptionRequest httpMethod=\\&quot;WEBSOCKET\\&quot; callBackUrl=\\&quot;&quot;+ callBackUrl() +&quot; \\&quot;&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;CapabilityExchangeServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;MonitoringServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;SnapshotServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;CallControlFeaturesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;CallAssociatedFeaturesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;PhysicalDeviceFeaturesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;LogicalDeviceFeaturesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;DeviceMaintenanceEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;VoicemailServicesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;RecordingServicesEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;CallLogEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;DirectoryEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;ImEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;PresenceEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;eventTypes&gt;LogoutEvents&lt;/eventTypes&gt;&quot;+\r\n                    &quot;&lt;/loginSubscriptionRequest&gt;&quot;+\r\n                    &quot;&lt;/ns:userLoginRequest&gt;&quot;;\r\n            RestTemplate restTemplateLogin =  new RestTemplate();\r\n            List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\r\n            messageConverters.add(new StringHttpMessageConverter());\r\n            restTemplateLogin.setMessageConverters(messageConverters);\r\n            HttpHeaders headers = new HttpHeaders();\r\n            headers.setContentType(MediaType.APPLICATION_XML);\r\n            HttpEntity&lt;String&gt; restRequest = new HttpEntity&lt;String&gt;(requestBody, headers);\r\n            final ResponseEntity&lt;String&gt; responseLogin = restTemplateLogin.postForEntity(loginURL, restRequest, String.class);\r\n            HttpStatus status =  responseLogin.getStatusCode();\r\n            boolean success = status.is2xxSuccessful();\r\n            if ( success  ) {\r\n                if ( responseLogin.hasBody() ) {\r\n                    String body = responseLogin.getBody();\r\n                    sessionId = getStringElement(body,&quot;clientSessionID&quot;);\r\n                }\r\n            }\r\n        } catch (RestClientException e) {\r\n            reporter.problemStackTrace(getClass(), e.getMessage(), e);\r\n        } catch (Exception e) {\r\n            reporter.problemStackTrace(getClass(), e.getMessage(), e);\r\n        }\r\n        return sessionId;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZmKr3.png","title":"I have a working POST Request in SOAPUI an want to implement the same with Java Resttemplate","body":"<p>I have the following POST  Request in SOAPUI which seams to work</p>\n<p><a href=\"https://i.stack.imgur.com/ZmKr3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZmKr3.png\" alt=\"enter image description here\" /></a></p>\n<p>so i have  an endpoint a resource  A Header and a Header Parameter</p>\n<p>when i want to implement this with  the RestTemplate i dont know how to add the header parameter  what i tried is</p>\n<pre><code>    public void setForward(String sessionId,String dn, String cf) {\n    try {\n        final String setForwardURL = &quot;https://&quot;+  getHost() + &quot;:&quot;+  getPort() +  &quot;/inyama/service/logicaldevice/setForwarding&quot;;\n        RestTemplate restTemplateSetForward =  new RestTemplate();\n        HttpHeaders headers = new HttpHeaders();\n        headers.add(&quot;ClientSessionId&quot;,sessionId);\n        headers.setContentType(MediaType.APPLICATION_XML);\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n        messageConverters.add(new StringHttpMessageConverter());\n        restTemplateSetForward.setMessageConverters(messageConverters);\n        String requestBodyCallForward =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;&quot; +\n            &quot;&lt;ns3:SetForwarding xmlns:ns14=\\&quot;http://calllog.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns15=\\&quot;http://recording.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns9=\\&quot;http://schemas.xmlsoap.org/soap/envelope/\\&quot;&quot; +\n            &quot;xmlns:ns5=\\&quot;http://schemas.xmlsoap.org/ws/2004/08/addressing\\&quot;&quot; +\n            &quot;xmlns:ns12=\\&quot;http://conferencing.avaya.com/\\&quot; xmlns:ns6=\\&quot;http://com.avaya.inkaba.dal\\&quot;&quot; +\n            &quot;xmlns:ns13=\\&quot;http://voicemail.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns7=\\&quot;http://com.avaya.inkaba.wstransfer\\&quot;&quot; +\n            &quot;xmlns:ns10=\\&quot;http://ccragent.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns8=\\&quot;http://com.avaya.common.csta.extended\\&quot;&quot; +\n            &quot;xmlns:ns11=\\&quot;http://conferencing.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns2=\\&quot;http://openapi.common.avaya.com/\\&quot;&quot; +\n            &quot;xmlns:ns4=\\&quot;http://schemas.xmlsoap.org/ws/2004/09/transfer\\&quot;&quot; +\n            &quot;xmlns:ns3=\\&quot;http://www.ecma-international.org/standards/ecma-323/csta/ed4\\&quot;&gt;&quot; +\n            &quot;&lt;ns3:device&quot; +\n            &quot;typeOfNumber=\\&quot;dialingNumber\\&quot;&gt;&quot; + dn + &quot;&lt;/ns3:device&gt;&quot; +\n            &quot;&lt;ns3:forwardingType&gt;forwardImmediate&lt;/ns3:forwardingType&gt;&quot; +\n            &quot;&lt;ns3:activateForward&gt;true&lt;/ns3:activateForward&gt;&quot; +\n            &quot;&lt;ns3:forwardDN typeOfNumber=\\&quot;dialingNumber\\&quot;&gt;&quot;+ cf + &quot;&lt;/ns3:forwardDN&gt;&quot; +\n            &quot;&lt;/ns3:SetForwarding&gt;&quot;;\n        HttpEntity&lt;String&gt; restRequest = new HttpEntity&lt;String&gt;(requestBodyCallForward, headers);\n        final ResponseEntity&lt;String&gt; responseSetForward = restTemplateSetForward.postForEntity(setForwardURL, restRequest, String.class);\n        HttpStatus statusCallForward =  responseSetForward.getStatusCode();\n        boolean success = statusCallForward.is2xxSuccessful();\n    } catch (RestClientException e) {\n        reporter.problemStackTrace(getClass(), e.getMessage(), e);\n    } catch (Exception e) {\n        reporter.problemStackTrace(getClass(), e.getMessage(), e);\n    }\n}\n</code></pre>\n<p>I tried to set the header parameter with add but this does not work how can i add dies simple Header Parameter to my request</p>\n<p>I get  a estClientException Bad Request  ehn i do no add my clienSessiinid i get a unauthorized access  Bot th login which is almost the same works but the login ha no parameter</p>\n<pre><code>    public String login() {\n    String sessionId = &quot;&quot;;\n    try {\n        final String loginURL = &quot;https://&quot;+  getHost() + &quot;:&quot;+  getPort() +  &quot;/inyama/service/session&quot;;\n        String requestBody =\n            &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot;?&gt;&quot; +\n                &quot;&lt;ns:userLoginRequest xmlns:ns=\\&quot;http://openapi.common.avaya.com/\\&quot; xmlns:xsi=\\&quot;http://www.w3.org/2001/XMLSchema-instance\\&quot;&gt;&quot;+\n                &quot;&lt;userName&gt;&quot; +getUserName() + &quot;&lt;/userName&gt;&quot;+\n                &quot;&lt;userPassword&gt;&quot; + getUserPassword()+ &quot;&lt;/userPassword&gt;&quot;+\n                &quot;&lt;applicationName&gt;talkbase&lt;/applicationName&gt;&quot;+\n                &quot;&lt;loginSubscriptionRequest httpMethod=\\&quot;WEBSOCKET\\&quot; callBackUrl=\\&quot;&quot;+ callBackUrl() +&quot; \\&quot;&gt;&quot;+\n                &quot;&lt;eventTypes&gt;CapabilityExchangeServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;MonitoringServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;SnapshotServicesCallbackEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;CallControlFeaturesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;CallAssociatedFeaturesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;PhysicalDeviceFeaturesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;LogicalDeviceFeaturesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;DeviceMaintenanceEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;VoicemailServicesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;RecordingServicesEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;CallLogEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;DirectoryEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;ImEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;PresenceEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;eventTypes&gt;LogoutEvents&lt;/eventTypes&gt;&quot;+\n                &quot;&lt;/loginSubscriptionRequest&gt;&quot;+\n                &quot;&lt;/ns:userLoginRequest&gt;&quot;;\n        RestTemplate restTemplateLogin =  new RestTemplate();\n        List&lt;HttpMessageConverter&lt;?&gt;&gt; messageConverters = new ArrayList&lt;HttpMessageConverter&lt;?&gt;&gt;();\n        messageConverters.add(new StringHttpMessageConverter());\n        restTemplateLogin.setMessageConverters(messageConverters);\n        HttpHeaders headers = new HttpHeaders();\n        headers.setContentType(MediaType.APPLICATION_XML);\n        HttpEntity&lt;String&gt; restRequest = new HttpEntity&lt;String&gt;(requestBody, headers);\n        final ResponseEntity&lt;String&gt; responseLogin = restTemplateLogin.postForEntity(loginURL, restRequest, String.class);\n        HttpStatus status =  responseLogin.getStatusCode();\n        boolean success = status.is2xxSuccessful();\n        if ( success  ) {\n            if ( responseLogin.hasBody() ) {\n                String body = responseLogin.getBody();\n                sessionId = getStringElement(body,&quot;clientSessionID&quot;);\n            }\n        }\n    } catch (RestClientException e) {\n        reporter.problemStackTrace(getClass(), e.getMessage(), e);\n    } catch (Exception e) {\n        reporter.problemStackTrace(getClass(), e.getMessage(), e);\n    }\n    return sessionId;\n}\n</code></pre>\n"},{"tags":["java","jsf","xpages","session-scope"],"comments":[{"owner":{"account_id":412150,"reputation":21391,"user_id":785061,"accept_rate":60,"display_name":"Per Henrik Lausten"},"score":0,"creation_date":1674480115,"post_id":75209812,"comment_id":132716154,"body_markdown":"Does your clearMap method not work as expected?","body":"Does your clearMap method not work as expected?"},{"owner":{"account_id":1879268,"reputation":2000,"user_id":1699830,"accept_rate":37,"display_name":"Patrick Kwinten"},"score":0,"creation_date":1674480260,"post_id":75209812,"comment_id":132716216,"body_markdown":"no same values before and after :-?","body":"no same values before and after :-?"}],"answers":[{"tags":[],"owner":{"account_id":412150,"reputation":21391,"user_id":785061,"accept_rate":60,"display_name":"Per Henrik Lausten"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674480658,"creation_date":1674480658,"answer_id":75210216,"question_id":75209812,"body_markdown":"I do this to clear sessionScope:\r\n\r\n    for (final String key : JSFUtil.getSessionScope().keySet()) {\r\n\t\tJSFUtil.getSessionScope().remove(key);\r\n    }","title":"JSF / Xpages how to clear sessionscopes?","body":"<p>I do this to clear sessionScope:</p>\n<pre><code>for (final String key : JSFUtil.getSessionScope().keySet()) {\n    JSFUtil.getSessionScope().remove(key);\n}\n</code></pre>\n"}],"owner":{"account_id":1879268,"reputation":2000,"user_id":1699830,"accept_rate":37,"display_name":"Patrick Kwinten"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75210216,"answer_count":1,"score":1,"last_activity_date":1674480658,"creation_date":1674478412,"question_id":75209812,"body_markdown":"I want to clear the current sessionscopes in my xpages application and reload them again.  I have tried:\r\n\r\n    public Map&lt;String, Object&gt; sesScope;\r\n    this.sesScope = JSFUtil.getSessionScope();\r\n    \r\n    clearMap(sesScope);\r\n    \r\n    private void clearMap(Map&lt;String, Object&gt; map ){ // Get iterator for the keys\r\n    \tString methodName = new Object(){}.getClass().getEnclosingMethod().getName();\r\n    \tutils.printToConsole(this.getClass().getSimpleName().toString() + &quot; &quot; + methodName);\r\n    \tutils.printToConsole(&quot;-------before removing------&quot;);\r\n    \tutils.printToConsole(map.toString());\r\n    \r\n    \tSet keyset = map.keySet();\r\n    \tIterator itr = keyset.iterator();\r\n    \twhile (itr.hasNext()) {\r\n    \t\titr.next();\r\n    \t\titr.remove();\r\n    \t}\r\n    \r\n    \tutils.printToConsole(&quot;--------After removing-------&quot;);\r\n    \tutils.printToConsole(map.toString());\r\n    }\r\n\t\r\nSomehow I can not simply say sesScope.clear() since that would result in an error:\r\n\r\n&gt; java.lang.UnsupportedOperationException at\r\n&gt; com.sun.faces.context.BaseContextMap.clear(ExternalContextImpl.java:392)\r\n\r\nHow do I clear the sessionscope properly?\r\n ","title":"JSF / Xpages how to clear sessionscopes?","body":"<p>I want to clear the current sessionscopes in my xpages application and reload them again.  I have tried:</p>\n<pre><code>public Map&lt;String, Object&gt; sesScope;\nthis.sesScope = JSFUtil.getSessionScope();\n\nclearMap(sesScope);\n\nprivate void clearMap(Map&lt;String, Object&gt; map ){ // Get iterator for the keys\n    String methodName = new Object(){}.getClass().getEnclosingMethod().getName();\n    utils.printToConsole(this.getClass().getSimpleName().toString() + &quot; &quot; + methodName);\n    utils.printToConsole(&quot;-------before removing------&quot;);\n    utils.printToConsole(map.toString());\n\n    Set keyset = map.keySet();\n    Iterator itr = keyset.iterator();\n    while (itr.hasNext()) {\n        itr.next();\n        itr.remove();\n    }\n\n    utils.printToConsole(&quot;--------After removing-------&quot;);\n    utils.printToConsole(map.toString());\n}\n</code></pre>\n<p>Somehow I can not simply say sesScope.clear() since that would result in an error:</p>\n<blockquote>\n<p>java.lang.UnsupportedOperationException at\ncom.sun.faces.context.BaseContextMap.clear(ExternalContextImpl.java:392)</p>\n</blockquote>\n<p>How do I clear the sessionscope properly?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1674435051,"post_id":75204908,"comment_id":132707696,"body_markdown":"I&#39;d also consider `ProcessBuilder` as it provides more configuration options","body":"I&#39;d also consider <code>ProcessBuilder</code> as it provides more configuration options"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674480539,"creation_date":1674480539,"answer_id":75210194,"question_id":75204908,"body_markdown":"You shouldn&#39;t put command line options into the environment. They are not environment variables! Put them into the command array ... as individual array elements; e.g. \r\n\r\n    String[] cmdarray = {\r\n                &quot;node&quot;, &quot;./node_modules/someModule/create.js&quot;, \r\n                &quot;-c&quot;, &quot;control&quot;, &quot;-b&quot;, &quot;1&quot;};\r\n \r\n&gt; And is there a difference, when I run this on Windows and Mac?\r\n\r\nIf you do it this way, there *should be* no difference between Windows and Mac.  But obviously it is up to you to test your code on all platforms you intend to support! \r\n\r\nNote also that when you use a simple command name (e.g. `node`) the command needs to be on command search path; i.e. `$PATH` or `%PATH%`. ","title":"Node running in Runtime.getRuntime().exec()","body":"<p>You shouldn't put command line options into the environment. They are not environment variables! Put them into the command array ... as individual array elements; e.g.</p>\n<pre><code>String[] cmdarray = {\n            &quot;node&quot;, &quot;./node_modules/someModule/create.js&quot;, \n            &quot;-c&quot;, &quot;control&quot;, &quot;-b&quot;, &quot;1&quot;};\n</code></pre>\n<blockquote>\n<p>And is there a difference, when I run this on Windows and Mac?</p>\n</blockquote>\n<p>If you do it this way, there <em>should be</em> no difference between Windows and Mac.  But obviously it is up to you to test your code on all platforms you intend to support!</p>\n<p>Note also that when you use a simple command name (e.g. <code>node</code>) the command needs to be on command search path; i.e. <code>$PATH</code> or <code>%PATH%</code>.</p>\n"}],"owner":{"account_id":551931,"reputation":4661,"user_id":916937,"accept_rate":60,"display_name":"Dinkheller"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75210194,"answer_count":1,"score":0,"last_activity_date":1674480539,"creation_date":1674434512,"question_id":75204908,"body_markdown":"I can run the following command from the terminal in Windows:\r\n\r\n    D:\\myProject&gt; node ./node_modules/someModule/create.js -c control -b 1\r\n\r\nBut not if I try to run this within `Runtime.getRuntime().exec(cmdarray, envp, dir)`.\r\n\r\n    String[] cmdarray = {&quot;node&quot;, &quot;./node_modules/someModule/create.js&quot;};\r\n    String[] envp     = {&quot;-c=control&quot;, &quot;-b=1&quot;};\r\n    File startingPath = new File(&quot;D:\\myProject&quot;);\r\n\r\n    Process process = Runtime.getRuntime().exec(cmdarray, envp, startingPath);\r\n\r\nI also tried to the cmdarray as a single entry and even adding the arguments at the end and leaving envp empty.\r\nBut it&#39;s not working.\r\n\r\nHow would be the correct way to write the command? And is there a difference, when I run this on Windows and Mac?","title":"Node running in Runtime.getRuntime().exec()","body":"<p>I can run the following command from the terminal in Windows:</p>\n<pre><code>D:\\myProject&gt; node ./node_modules/someModule/create.js -c control -b 1\n</code></pre>\n<p>But not if I try to run this within <code>Runtime.getRuntime().exec(cmdarray, envp, dir)</code>.</p>\n<pre><code>String[] cmdarray = {&quot;node&quot;, &quot;./node_modules/someModule/create.js&quot;};\nString[] envp     = {&quot;-c=control&quot;, &quot;-b=1&quot;};\nFile startingPath = new File(&quot;D:\\myProject&quot;);\n\nProcess process = Runtime.getRuntime().exec(cmdarray, envp, startingPath);\n</code></pre>\n<p>I also tried to the cmdarray as a single entry and even adding the arguments at the end and leaving envp empty.\nBut it's not working.</p>\n<p>How would be the correct way to write the command? And is there a difference, when I run this on Windows and Mac?</p>\n"},{"tags":["java","arraylist","hashmap"],"comments":[{"owner":{"account_id":11757171,"reputation":13,"user_id":8604495,"display_name":"Karlz-Bandz"},"score":0,"creation_date":1674482091,"post_id":75210170,"comment_id":132716856,"body_markdown":"Why my question is closed? This case describe totally different situation than in the question you have attached here. I want to delete duplicates of ArrayList inside HashMap and unfortunately your question doesn&#39;t help me in this situation.","body":"Why my question is closed? This case describe totally different situation than in the question you have attached here. I want to delete duplicates of ArrayList inside HashMap and unfortunately your question doesn&#39;t help me in this situation."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1674484719,"post_id":75210170,"comment_id":132717842,"body_markdown":"Actually the duplicate cited will solve your issue. Check out [this answer](http://stackoverflow.com/a/26135521/1552534). Starting with the solution and not the data either change the Collection type from `Object` to `List&lt;Integer&gt;` or from `Object` to `? extends Object`. It will delete the duplicate values from your map.   But remember that the keys are unordered so the remaining value may be a different key than what you want.","body":"Actually the duplicate cited will solve your issue. Check out <a href=\"http://stackoverflow.com/a/26135521/1552534\">this answer</a>. Starting with the solution and not the data either change the Collection type from <code>Object</code> to <code>List&lt;Integer&gt;</code> or from <code>Object</code> to <code>? extends Object</code>. It will delete the duplicate values from your map.   But remember that the keys are unordered so the remaining value may be a different key than what you want."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1674487080,"post_id":75210170,"comment_id":132718730,"body_markdown":"Correction.  ...the remaining value may be *`associated with`* a different key than what you want.","body":"Correction.  ...the remaining value may be <i><code>associated with</code></i> a different key than what you want."}],"owner":{"account_id":11757171,"reputation":13,"user_id":8604495,"display_name":"Karlz-Bandz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674481057,"answer_count":0,"score":0,"last_activity_date":1674480415,"creation_date":1674480355,"question_id":75210170,"body_markdown":"I need to delete all duplicates from my HashMap but those duplicates are the                  lists inside the HashMap.\r\n\r\nFor example:\r\n\r\n\r\n```\r\n\r\n\r\n      HashMap&lt;Integer, ArrayList&lt;Intteger&gt;&gt; myList = new HashMap&lt;&gt;();\r\n\r\n      myList.put(0, list0);\r\n      myList.put(1, list1);\r\n      myList.put(2, list2);\r\n      myList.put(3, list3);\r\n      myList.put(4, list4);\r\n\r\n\r\n```\r\n   Now when I display all elements of the HashMap I&#39;ve got:\r\n \r\n      0 [1,3]\r\n       1 [0,3]\r\n       2 [1,3]\r\n       3 [1,4]\r\n       4 [2,4]\r\n\r\n\r\n\r\n\r\n   How can I remove array&#39;s duplicate?\r\n      As you can see in this case elements with key 0 and 2\r\n      have the same values so I want to remove the duplicate.\r\n`\r\n\r\n\r\n","title":"How to delete duplicates values from HashMap&lt;Integer, ArrayList&lt;Integer&gt;&gt;?","body":"<p>I need to delete all duplicates from my HashMap but those duplicates are the                  lists inside the HashMap.</p>\n<p>For example:</p>\n<pre><code>\n\n      HashMap&lt;Integer, ArrayList&lt;Intteger&gt;&gt; myList = new HashMap&lt;&gt;();\n\n      myList.put(0, list0);\n      myList.put(1, list1);\n      myList.put(2, list2);\n      myList.put(3, list3);\n      myList.put(4, list4);\n\n\n</code></pre>\n<p>Now when I display all elements of the HashMap I've got:</p>\n<pre><code>  0 [1,3]\n   1 [0,3]\n   2 [1,3]\n   3 [1,4]\n   4 [2,4]\n</code></pre>\n<p>How can I remove array's duplicate?\nAs you can see in this case elements with key 0 and 2\nhave the same values so I want to remove the duplicate.\n`</p>\n"},{"tags":["java","spring","mongodb","jackson","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Micha Ziober"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602604995,"creation_date":1602541196,"answer_id":64326041,"question_id":64316345,"body_markdown":"Since old format is predefined and you know a structure of it you can implement custom deserialiser to handle old and new format at the same time. If `errorBody` `JSON Object` contains any of these keys: `_children`, `_nodeFactory` or `_class` you know it is an old format and you need to iterate over keys in `_children` `JSON Object` and get `_value` key to find a real value. Rest of keys and values you can ignore. Simple implementation could look like below:\r\n\r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.TreeNode;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\n    import com.fasterxml.jackson.databind.json.JsonMapper;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n    import lombok.Data;\r\n    import lombok.ToString;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.Iterator;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class JsonMongo2FormatsApp {\r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \t\tFile jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\r\n    \r\n    \t\tJsonMapper mapper = JsonMapper.builder().build();\r\n    \t\tResponse response = mapper.readValue(jsonFile, Response.class);\r\n    \t\tSystem.out.println(response.getErrorBody());\r\n    \t}\r\n    }\r\n    \r\n    @Data\r\n    @ToString\r\n    class Response {\r\n    \r\n    \t@JsonDeserialize(using = ErrorMapJsonDeserializer.class)\r\n    \tprivate Map&lt;String, String&gt; errorBody;\r\n    }\r\n    \r\n    class ErrorMapJsonDeserializer extends JsonDeserializer&lt;Map&lt;String, String&gt;&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic Map&lt;String, String&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n    \t\tTreeNode root = p.readValueAsTree();\r\n    \t\tif (!root.isObject()) {\r\n    \t\t\t// ignore everything except JSON Object\r\n    \t\t\treturn Collections.emptyMap();\r\n    \t\t}\r\n    \t\tObjectNode objectNode = (ObjectNode) root;\r\n    \t\tif (isOldFormat(objectNode)) {\r\n    \t\t\treturn deserialize(objectNode);\r\n    \t\t}\r\n    \r\n    \t\treturn toMap(objectNode);\r\n    \t}\r\n    \r\n    \tprotected boolean isOldFormat(ObjectNode objectNode) {\r\n    \t\tfinal List&lt;String&gt; oldFormatKeys = Arrays.asList(&quot;_children&quot;, &quot;_nodeFactory&quot;, &quot;_class&quot;);\r\n    \t\tfinal Iterator&lt;String&gt; iterator = objectNode.fieldNames();\r\n    \r\n    \t\twhile (iterator.hasNext()) {\r\n    \t\t\tString field = iterator.next();\r\n    \t\t\treturn oldFormatKeys.contains(field);\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n    \r\n    \tprotected Map&lt;String, String&gt; deserialize(ObjectNode root) {\r\n    \t\tJsonNode children = root.get(&quot;_children&quot;);\r\n    \t\tMap&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\r\n    \t\tchildren.fields().forEachRemaining(entry -&gt; {\r\n    \t\t\tresult.put(entry.getKey(), entry.getValue().get(&quot;_value&quot;).toString());\r\n    \t\t});\r\n    \r\n    \t\treturn result;\r\n    \t}\r\n    \r\n    \tprivate Map&lt;String, String&gt; toMap(ObjectNode objectNode) {\r\n    \t\tMap&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\r\n    \t\tobjectNode.fields().forEachRemaining(entry -&gt; {\r\n    \t\t\tresult.put(entry.getKey(), entry.getValue().toString());\r\n    \t\t});\r\n    \r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\nAbove deserialiser should handle both formats.","title":"How to read a com.fasterxml.jackson.databind.node.TextNode from a Mongo DB and convert to a Map &lt;String, Object&gt;?","body":"<p>Since old format is predefined and you know a structure of it you can implement custom deserialiser to handle old and new format at the same time. If <code>errorBody</code> <code>JSON Object</code> contains any of these keys: <code>_children</code>, <code>_nodeFactory</code> or <code>_class</code> you know it is an old format and you need to iterate over keys in <code>_children</code> <code>JSON Object</code> and get <code>_value</code> key to find a real value. Rest of keys and values you can ignore. Simple implementation could look like below:</p>\n<pre><code>import com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.TreeNode;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.json.JsonMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\nimport lombok.Data;\nimport lombok.ToString;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.Arrays;\nimport java.util.Collections;\nimport java.util.Iterator;\nimport java.util.LinkedHashMap;\nimport java.util.List;\nimport java.util.Map;\n\npublic class JsonMongo2FormatsApp {\n    public static void main(String[] args) throws IOException {\n        File jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\n\n        JsonMapper mapper = JsonMapper.builder().build();\n        Response response = mapper.readValue(jsonFile, Response.class);\n        System.out.println(response.getErrorBody());\n    }\n}\n\n@Data\n@ToString\nclass Response {\n\n    @JsonDeserialize(using = ErrorMapJsonDeserializer.class)\n    private Map&lt;String, String&gt; errorBody;\n}\n\nclass ErrorMapJsonDeserializer extends JsonDeserializer&lt;Map&lt;String, String&gt;&gt; {\n\n    @Override\n    public Map&lt;String, String&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        TreeNode root = p.readValueAsTree();\n        if (!root.isObject()) {\n            // ignore everything except JSON Object\n            return Collections.emptyMap();\n        }\n        ObjectNode objectNode = (ObjectNode) root;\n        if (isOldFormat(objectNode)) {\n            return deserialize(objectNode);\n        }\n\n        return toMap(objectNode);\n    }\n\n    protected boolean isOldFormat(ObjectNode objectNode) {\n        final List&lt;String&gt; oldFormatKeys = Arrays.asList(&quot;_children&quot;, &quot;_nodeFactory&quot;, &quot;_class&quot;);\n        final Iterator&lt;String&gt; iterator = objectNode.fieldNames();\n\n        while (iterator.hasNext()) {\n            String field = iterator.next();\n            return oldFormatKeys.contains(field);\n        }\n\n        return false;\n    }\n\n    protected Map&lt;String, String&gt; deserialize(ObjectNode root) {\n        JsonNode children = root.get(&quot;_children&quot;);\n        Map&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\n        children.fields().forEachRemaining(entry -&gt; {\n            result.put(entry.getKey(), entry.getValue().get(&quot;_value&quot;).toString());\n        });\n\n        return result;\n    }\n\n    private Map&lt;String, String&gt; toMap(ObjectNode objectNode) {\n        Map&lt;String, String&gt; result = new LinkedHashMap&lt;&gt;();\n        objectNode.fields().forEachRemaining(entry -&gt; {\n            result.put(entry.getKey(), entry.getValue().toString());\n        });\n\n        return result;\n    }\n}\n</code></pre>\n<p>Above deserialiser should handle both formats.</p>\n"},{"tags":[],"owner":{"account_id":10770525,"reputation":526,"user_id":7924110,"display_name":"Kenany"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602561320,"creation_date":1602561320,"answer_id":64328251,"question_id":64316345,"body_markdown":"As I understood your issue, with the first model, you didn&#39;t really have a problem to save or to read in database but, once you wanted to fetch these datas, you noticed that the output is difficult to read. So your problem is to fetch a well readable output then you don&#39;t need to change the first model but to extends these classes and overide the **toString** method to change its behavior while fetching.\r\n\r\nThere are at least three classes to extends:\r\n\r\n - TextNode : you can&#39;t overide the toString method do that the custom class just print the value\r\n\r\n - ObjectNode : I can see that there are at least four field inside this class that you want to fecth the value: **code**, **message**, **description**. They are type of **TextNode** so you can replace them by thier extended classes. Then overide the **toString** method so that It print `fieldName: field.toString()` for each field\r\n\r\n - JsonNode : You can then extend this class and use the custom classes created above, overide the **toString** method so that It print as you want and use It instead of the common JsonNode\r\n\r\nTo work like that will make you avoid the way you save or you read the datas but just to fecth on the view.\r\n\r\nYou can consider it as a little part of the **SOLID** principle especially the **OCP** (Open an close principle: avoid to change the class behavoir but extends it to create a custom behavior) and the **LSP** (Liskov Substitution Principle: Subtypes must be behaviorlly substituable for thier base types).","title":"How to read a com.fasterxml.jackson.databind.node.TextNode from a Mongo DB and convert to a Map &lt;String, Object&gt;?","body":"<p>As I understood your issue, with the first model, you didn't really have a problem to save or to read in database but, once you wanted to fetch these datas, you noticed that the output is difficult to read. So your problem is to fetch a well readable output then you don't need to change the first model but to extends these classes and overide the <strong>toString</strong> method to change its behavior while fetching.</p>\n<p>There are at least three classes to extends:</p>\n<ul>\n<li><p>TextNode : you can't overide the toString method do that the custom class just print the value</p>\n</li>\n<li><p>ObjectNode : I can see that there are at least four field inside this class that you want to fecth the value: <strong>code</strong>, <strong>message</strong>, <strong>description</strong>. They are type of <strong>TextNode</strong> so you can replace them by thier extended classes. Then overide the <strong>toString</strong> method so that It print <code>fieldName: field.toString()</code> for each field</p>\n</li>\n<li><p>JsonNode : You can then extend this class and use the custom classes created above, overide the <strong>toString</strong> method so that It print as you want and use It instead of the common JsonNode</p>\n</li>\n</ul>\n<p>To work like that will make you avoid the way you save or you read the datas but just to fecth on the view.</p>\n<p>You can consider it as a little part of the <strong>SOLID</strong> principle especially the <strong>OCP</strong> (Open an close principle: avoid to change the class behavoir but extends it to create a custom behavior) and the <strong>LSP</strong> (Liskov Substitution Principle: Subtypes must be behaviorlly substituable for thier base types).</p>\n"},{"tags":[],"owner":{"account_id":7377225,"reputation":1389,"user_id":5615357,"accept_rate":58,"display_name":"Philippe Simo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674480403,"creation_date":1602684707,"answer_id":64355190,"question_id":64316345,"body_markdown":"Michal Ziober&#39;s answer did not completely solve the problem as we need to tell SpringData MongoDb that we want it to use the custom deserializer\r\n(Annotating the model does not work with Spring data mongodb):\r\n\r\n1) Define the custom deserializer\r\n````\r\npublic class ErrorMapJsonDeserializer extends JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\r\n        TreeNode root = p.readValueAsTree();\r\n        if (!root.isObject()) {\r\n            // ignore everything except JSON Object\r\n            return Collections.emptyMap();\r\n        }\r\n        ObjectNode objectNode = (ObjectNode) root;\r\n        if (isOldFormat(objectNode)) {\r\n            return deserialize(objectNode);\r\n        }\r\n        return toMap(objectNode);\r\n    }\r\n\r\n    protected boolean isOldFormat(ObjectNode objectNode) {\r\n        final List&lt;String&gt; oldFormatKeys = Arrays.asList(&quot;_children&quot;, &quot;_nodeFactory&quot;, &quot;_class&quot;);\r\n        final Iterator&lt;String&gt; iterator = objectNode.fieldNames();\r\n        while (iterator.hasNext()) {\r\n            String field = iterator.next();\r\n            return oldFormatKeys.contains(field);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    protected Map&lt;String, Object&gt; deserialize(ObjectNode root) {\r\n        JsonNode children = root.get(&quot;_children&quot;);\r\n        if (children.isArray()) {\r\n            children = children.get(0);\r\n            children = children.get(&quot;_children&quot;);\r\n        }\r\n        return extractValues(children);\r\n    }\r\n\r\n    private Map&lt;String, Object&gt; extractValues(JsonNode children) {\r\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\r\n        children.fields().forEachRemaining(entry -&gt; {\r\n            String key = entry.getKey();\r\n            if (!key.equals(&quot;_class&quot;))\r\n                result.put(key, entry.getValue().get(&quot;_value&quot;).toString());\r\n        });\r\n        return result;\r\n    }\r\n\r\n\r\n    private Map&lt;String, Object&gt; toMap(ObjectNode objectNode) {\r\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\r\n        objectNode.fields().forEachRemaining(entry -&gt; {\r\n            result.put(entry.getKey(), entry.getValue().toString());\r\n        });\r\n        return result;\r\n    }\r\n}\r\n````\r\n\r\n2) Create a Custom mongo converter and pass it the custom deserializer.\r\n  \r\nActually we do not pass the serializer directly but by means of an **ObjectMapper configured with that Custom deserializer**\r\n\r\n````\r\npublic class CustomMappingMongoConverter extends MappingMongoConverter {\r\n\r\n    //The configured objectMapper that will be passed during instantiation\r\n    private ObjectMapper objectMapper; \r\n\r\n    public CustomMappingMongoConverter(DbRefResolver dbRefResolver, MappingContext&lt;? extends MongoPersistentEntity&lt;?&gt;, MongoPersistentProperty&gt; mappingContext, ObjectMapper objectMapper) {\r\n        super(dbRefResolver, mappingContext);\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    @Override\r\n    public &lt;S&gt; S read(Class&lt;S&gt; clazz, Bson dbObject) {\r\n        try {\r\n            return objectMapper.readValue(dbObject.toString(), clazz);\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(dbObject.toString(), e);\r\n        }\r\n    }\r\n\r\n\r\n    //in case you want to serialize with your custom objectMapper as well\r\n    @Override\r\n    public void write(Object obj, Bson dbo) {\r\n        String string = null;\r\n        try {\r\n            string = objectMapper.writeValueAsString(obj);\r\n        } catch (JsonProcessingException e) {\r\n            throw new RuntimeException(string, e);\r\n        }\r\n        ((DBObject) dbo).putAll((DBObject) BasicDBObject.parse(string));\r\n    }\r\n\r\n}\r\n````\r\n\r\n3. Create and configure the object mapper then instantiate the custom MongoMappingConverter and add it to Mongo configurations\r\n\r\n```\r\npublic class MongoConfiguration extends AbstractMongoClientConfiguration {\r\n\r\n   \r\n    //... other configuration method beans\r\n   \r\n    @Bean\r\n    @Override\r\n    public MappingMongoConverter mappingMongoConverter() throws Exception {\r\n        DbRefResolver dbRefResolver = new DefaultDbRefResolver(mongoDbFactory());\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);\r\n        objectMapper.registerModule(new SimpleModule() {\r\n            {\r\n                addDeserializer(Map.class, new ErrorMapJsonDeserializer());\r\n            }\r\n        });\r\n        return new CustomMappingMongoConverter(dbRefResolver, mongoMappingContext(), objectMapper);\r\n    }\r\n}\r\n```\r\n","title":"How to read a com.fasterxml.jackson.databind.node.TextNode from a Mongo DB and convert to a Map &lt;String, Object&gt;?","body":"<p>Michal Ziober's answer did not completely solve the problem as we need to tell SpringData MongoDb that we want it to use the custom deserializer\n(Annotating the model does not work with Spring data mongodb):</p>\n<ol>\n<li>Define the custom deserializer</li>\n</ol>\n<pre><code>public class ErrorMapJsonDeserializer extends JsonDeserializer&lt;Map&lt;String, Object&gt;&gt; {\n\n    @Override\n    public Map&lt;String, Object&gt; deserialize(JsonParser p, DeserializationContext ctxt) throws IOException {\n        TreeNode root = p.readValueAsTree();\n        if (!root.isObject()) {\n            // ignore everything except JSON Object\n            return Collections.emptyMap();\n        }\n        ObjectNode objectNode = (ObjectNode) root;\n        if (isOldFormat(objectNode)) {\n            return deserialize(objectNode);\n        }\n        return toMap(objectNode);\n    }\n\n    protected boolean isOldFormat(ObjectNode objectNode) {\n        final List&lt;String&gt; oldFormatKeys = Arrays.asList(&quot;_children&quot;, &quot;_nodeFactory&quot;, &quot;_class&quot;);\n        final Iterator&lt;String&gt; iterator = objectNode.fieldNames();\n        while (iterator.hasNext()) {\n            String field = iterator.next();\n            return oldFormatKeys.contains(field);\n        }\n        return false;\n    }\n\n    protected Map&lt;String, Object&gt; deserialize(ObjectNode root) {\n        JsonNode children = root.get(&quot;_children&quot;);\n        if (children.isArray()) {\n            children = children.get(0);\n            children = children.get(&quot;_children&quot;);\n        }\n        return extractValues(children);\n    }\n\n    private Map&lt;String, Object&gt; extractValues(JsonNode children) {\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\n        children.fields().forEachRemaining(entry -&gt; {\n            String key = entry.getKey();\n            if (!key.equals(&quot;_class&quot;))\n                result.put(key, entry.getValue().get(&quot;_value&quot;).toString());\n        });\n        return result;\n    }\n\n\n    private Map&lt;String, Object&gt; toMap(ObjectNode objectNode) {\n        Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;();\n        objectNode.fields().forEachRemaining(entry -&gt; {\n            result.put(entry.getKey(), entry.getValue().toString());\n        });\n        return result;\n    }\n}\n</code></pre>\n<ol start=\"2\">\n<li>Create a Custom mongo converter and pass it the custom deserializer.</li>\n</ol>\n<p>Actually we do not pass the serializer directly but by means of an <strong>ObjectMapper configured with that Custom deserializer</strong></p>\n<pre><code>public class CustomMappingMongoConverter extends MappingMongoConverter {\n\n    //The configured objectMapper that will be passed during instantiation\n    private ObjectMapper objectMapper; \n\n    public CustomMappingMongoConverter(DbRefResolver dbRefResolver, MappingContext&lt;? extends MongoPersistentEntity&lt;?&gt;, MongoPersistentProperty&gt; mappingContext, ObjectMapper objectMapper) {\n        super(dbRefResolver, mappingContext);\n        this.objectMapper = objectMapper;\n    }\n\n    @Override\n    public &lt;S&gt; S read(Class&lt;S&gt; clazz, Bson dbObject) {\n        try {\n            return objectMapper.readValue(dbObject.toString(), clazz);\n        } catch (IOException e) {\n            throw new RuntimeException(dbObject.toString(), e);\n        }\n    }\n\n\n    //in case you want to serialize with your custom objectMapper as well\n    @Override\n    public void write(Object obj, Bson dbo) {\n        String string = null;\n        try {\n            string = objectMapper.writeValueAsString(obj);\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(string, e);\n        }\n        ((DBObject) dbo).putAll((DBObject) BasicDBObject.parse(string));\n    }\n\n}\n</code></pre>\n<ol start=\"3\">\n<li>Create and configure the object mapper then instantiate the custom MongoMappingConverter and add it to Mongo configurations</li>\n</ol>\n<pre><code>public class MongoConfiguration extends AbstractMongoClientConfiguration {\n\n   \n    //... other configuration method beans\n   \n    @Bean\n    @Override\n    public MappingMongoConverter mappingMongoConverter() throws Exception {\n        DbRefResolver dbRefResolver = new DefaultDbRefResolver(mongoDbFactory());\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.configure(FAIL_ON_UNKNOWN_PROPERTIES, false);\n        objectMapper.registerModule(new SimpleModule() {\n            {\n                addDeserializer(Map.class, new ErrorMapJsonDeserializer());\n            }\n        });\n        return new CustomMappingMongoConverter(dbRefResolver, mongoMappingContext(), objectMapper);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7377225,"reputation":1389,"user_id":5615357,"accept_rate":58,"display_name":"Philippe Simo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64355190,"answer_count":3,"score":1,"last_activity_date":1674480403,"creation_date":1602499640,"question_id":64316345,"body_markdown":"We are using SpringDataMongoDB in a Spring-boot app to manage our data.\r\n\r\nOur previous model was this:\r\n\r\n```\r\npublic class Response implements Serializable {\r\n    //...\r\n    private JsonNode errorBody; //&lt;-- Dynamic\r\n    //...\r\n}\r\n```\r\n```JsonNode``` FQDN is ```com.fasterxml.jackson.databind.JsonNode```\r\n\r\nWhich saved documents like so in the DB:\r\n\r\n\r\n``` \r\n&quot;response&quot;: {\r\n  ...\r\n        &quot;errorBody&quot;: {\r\n          &quot;_children&quot;: {\r\n            &quot;code&quot;: {\r\n              &quot;_value&quot;: &quot;Error-code-value&quot;,\r\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\r\n            },\r\n            &quot;message&quot;: {\r\n              &quot;_value&quot;: &quot;Error message value&quot;,\r\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\r\n            },\r\n            &quot;description&quot;: {\r\n              &quot;_value&quot;: &quot;Error description value&quot;,\r\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\r\n            }\r\n          },\r\n          &quot;_nodeFactory&quot;: {\r\n            &quot;_cfgBigDecimalExact&quot;: false\r\n          },\r\n          &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.ObjectNode&quot;\r\n     },\r\n  ...\r\n }\r\n```\r\nWe&#39;ve saved hundreds of documents like this **on the production database** without ever the need to read them programmatically as they are just kind of logs.\r\n\r\nAs we noticed that this output could be difficult to read in the future, we&#39;ve decided to change the model to this:\r\n\r\n```\r\npublic class Response implements Serializable {\r\n    //...\r\n    private Map&lt;String,Object&gt; errorBody;\r\n    //...\r\n}\r\n```\r\n\r\nThe data are now saved like so:\r\n\r\n``` \r\n&quot;response&quot;: {\r\n  ...\r\n        &quot;errorBody&quot;: {\r\n          &quot;code&quot;: &quot;Error code value&quot;,\r\n          &quot;message&quot;: &quot;Error message value&quot;,\r\n          &quot;description&quot;: &quot;Error description value&quot;,\r\n          ...\r\n        },\r\n  ...\r\n }\r\n```\r\n\r\nWhich, as you may have noticed is pretty much more simple.\r\n\r\nWhen reading the data, ex: ````repository.findAll()````\r\n\r\nThe new format is read without any issue.\r\n\r\nBut we face these issues with the old format:\r\n\r\n````org.springframework.data.mapping.MappingException: No property v found on entity class com.fasterxml.jackson.databind.node.TextNode to bind constructor parameter to! ````  \r\n\r\nOr\r\n\r\n```` org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.fasterxml.jackson.databind.node.ObjectNode using constructor NO_CONSTRUCTOR with arguments ````\r\n\r\n\r\n\r\nOf course the ````TextNode```` class has a constructor with ````v```` as param but the property name is ````_value```` and ````ObjectNode```` has no default constructor: We simply can&#39;t change that.\r\n\r\nWe&#39;ve created custom converters that we&#39;ve added to our configurations.\r\n\r\n````\r\npublic class ObjectNodeWriteConverter implements Converter&lt;ObjectNode, DBObject&gt; {    \r\n    @Override\r\n    public DBObject convert(ObjectNode source) {\r\n        return BasicDBObject.parse(source.toString());\r\n    }\r\n}\r\n````\r\n````\r\npublic class ObjectNodeReadConverter implements Converter&lt;DBObject, ObjectNode&gt; {\r\n    @Override\r\n    public ObjectNode convert(DBObject source) {\r\n        try {\r\n            return new ObjectMapper().readValue(source.toString(), ObjectNode.class);\r\n        } catch (IOException e) {\r\n            throw new UncheckedIOException(e);\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nWe did the same for ````TextNode````\r\n\r\nBut we still got the errors.\r\n\r\nThe converters are read as we have a ````ZonedDateTimeConverter```` that is doing his job.\r\n\r\nWe can not just wipe out or ignore the old data as we need to read them too in order to study them.\r\n\r\nHow can we set up a custom reader that will not fail reading the old format ?","title":"How to read a com.fasterxml.jackson.databind.node.TextNode from a Mongo DB and convert to a Map &lt;String, Object&gt;?","body":"<p>We are using SpringDataMongoDB in a Spring-boot app to manage our data.</p>\n<p>Our previous model was this:</p>\n<pre><code>public class Response implements Serializable {\n    //...\n    private JsonNode errorBody; //&lt;-- Dynamic\n    //...\n}\n</code></pre>\n<p><code>JsonNode</code> FQDN is <code>com.fasterxml.jackson.databind.JsonNode</code></p>\n<p>Which saved documents like so in the DB:</p>\n<pre><code>&quot;response&quot;: {\n  ...\n        &quot;errorBody&quot;: {\n          &quot;_children&quot;: {\n            &quot;code&quot;: {\n              &quot;_value&quot;: &quot;Error-code-value&quot;,\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\n            },\n            &quot;message&quot;: {\n              &quot;_value&quot;: &quot;Error message value&quot;,\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\n            },\n            &quot;description&quot;: {\n              &quot;_value&quot;: &quot;Error description value&quot;,\n              &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.TextNode&quot;\n            }\n          },\n          &quot;_nodeFactory&quot;: {\n            &quot;_cfgBigDecimalExact&quot;: false\n          },\n          &quot;_class&quot;: &quot;com.fasterxml.jackson.databind.node.ObjectNode&quot;\n     },\n  ...\n }\n</code></pre>\n<p>We've saved hundreds of documents like this <strong>on the production database</strong> without ever the need to read them programmatically as they are just kind of logs.</p>\n<p>As we noticed that this output could be difficult to read in the future, we've decided to change the model to this:</p>\n<pre><code>public class Response implements Serializable {\n    //...\n    private Map&lt;String,Object&gt; errorBody;\n    //...\n}\n</code></pre>\n<p>The data are now saved like so:</p>\n<pre><code>&quot;response&quot;: {\n  ...\n        &quot;errorBody&quot;: {\n          &quot;code&quot;: &quot;Error code value&quot;,\n          &quot;message&quot;: &quot;Error message value&quot;,\n          &quot;description&quot;: &quot;Error description value&quot;,\n          ...\n        },\n  ...\n }\n</code></pre>\n<p>Which, as you may have noticed is pretty much more simple.</p>\n<p>When reading the data, ex: <code>repository.findAll()</code></p>\n<p>The new format is read without any issue.</p>\n<p>But we face these issues with the old format:</p>\n<p><code>org.springframework.data.mapping.MappingException: No property v found on entity class com.fasterxml.jackson.databind.node.TextNode to bind constructor parameter to! </code></p>\n<p>Or</p>\n<p><code>org.springframework.data.mapping.model.MappingInstantiationException: Failed to instantiate com.fasterxml.jackson.databind.node.ObjectNode using constructor NO_CONSTRUCTOR with arguments</code></p>\n<p>Of course the <code>TextNode</code> class has a constructor with <code>v</code> as param but the property name is <code>_value</code> and <code>ObjectNode</code> has no default constructor: We simply can't change that.</p>\n<p>We've created custom converters that we've added to our configurations.</p>\n<pre><code>public class ObjectNodeWriteConverter implements Converter&lt;ObjectNode, DBObject&gt; {    \n    @Override\n    public DBObject convert(ObjectNode source) {\n        return BasicDBObject.parse(source.toString());\n    }\n}\n</code></pre>\n<pre><code>public class ObjectNodeReadConverter implements Converter&lt;DBObject, ObjectNode&gt; {\n    @Override\n    public ObjectNode convert(DBObject source) {\n        try {\n            return new ObjectMapper().readValue(source.toString(), ObjectNode.class);\n        } catch (IOException e) {\n            throw new UncheckedIOException(e);\n        }\n    }\n}\n</code></pre>\n<p>We did the same for <code>TextNode</code></p>\n<p>But we still got the errors.</p>\n<p>The converters are read as we have a <code>ZonedDateTimeConverter</code> that is doing his job.</p>\n<p>We can not just wipe out or ignore the old data as we need to read them too in order to study them.</p>\n<p>How can we set up a custom reader that will not fail reading the old format ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":4,"creation_date":1674472314,"post_id":75208637,"comment_id":132713717,"body_markdown":"The error message is about the `getInventory` method, which is not present in the interface, so it can&#39;t be overridden.","body":"The error message is about the <code>getInventory</code> method, which is not present in the interface, so it can&#39;t be overridden."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674472490,"post_id":75208637,"comment_id":132713765,"body_markdown":"the Override annotation indicates that it&#39;s either in an interface you implement, or in a super class. If it&#39;s not, it can&#39;t be an overrided method, and can&#39;t have that annotation","body":"the Override annotation indicates that it&#39;s either in an interface you implement, or in a super class. If it&#39;s not, it can&#39;t be an overrided method, and can&#39;t have that annotation"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674472561,"post_id":75208637,"comment_id":132713789,"body_markdown":"You are sure that the question is swing related? Please review the used tags","body":"You are sure that the question is swing related? Please review the used tags"},{"owner":{"account_id":21884076,"reputation":107,"user_id":16171930,"display_name":"Aniket Thorat"},"score":0,"creation_date":1674480451,"post_id":75208637,"comment_id":132716288,"body_markdown":"sorry I have uploaded wrong  image of error message its get pet method only","body":"sorry I have uploaded wrong  image of error message its get pet method only"}],"owner":{"account_id":21884076,"reputation":107,"user_id":16171930,"display_name":"Aniket Thorat"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674480332,"creation_date":1674472114,"question_id":75208637,"body_markdown":"I am having same method name and signature in both Service and implementation class and I am getting error ```Remove @Override annotation``` for add addPet\r\n\r\n``` PetApiService interface```\r\n\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.JavaJAXRSCXFCDIServerCodegen&quot;, date = &quot;2023-01-18T09:57:54.080Z[GMT]&quot;)public interface PetApiService {\r\n          public Response addPet(Pet body, SecurityContext securityContext);\r\n          public Response addPet(Long id, String name, Category category, List&lt;String&gt; photoUrls, List&lt;Tag&gt; tags, String status, SecurityContext securityContext);\r\n          public Response deletePet(Long petId, String apiKey, SecurityContext securityContext);\r\n          public Response findPetsByStatus(String status, SecurityContext securityContext);\r\n          public Response findPetsByTags(List&lt;String&gt; tags, SecurityContext securityContext);\r\n          public Response getPetById(Long petId, SecurityContext securityContext);\r\n          public Response updatePet(Pet body, SecurityContext securityContext);\r\n          public Response updatePet(Long id, String name, Category category, List&lt;String&gt; photoUrls, List&lt;Tag&gt; tags, String status, SecurityContext securityContext);\r\n          public Response updatePetWithForm(Long petId, String name, String status, SecurityContext securityContext);\r\n          public Response uploadFile(Long petId, Object body, String additionalMetadata, SecurityContext securityContext);\r\n    }\r\n\r\n\r\n\r\n\r\n```PetApiServiceImpl.class```\r\n\r\n    @RequestScoped\r\n    @javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.JavaJAXRSCXFCDIServerCodegen&quot;, date = &quot;2023-01-18T09:57:54.080Z[GMT]&quot;)public class PetApiServiceImpl implements PetApiService {\r\n          @Override\r\n          public Response addPet(Pet body, SecurityContext securityContext) {\r\n          // do some magic!\r\n          return Response.ok().entity(&quot;magic!&quot;).build();\r\n      }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wEDXb.png","title":"Remove @Override annotation java","body":"<p>I am having same method name and signature in both Service and implementation class and I am getting error <code>Remove @Override annotation</code> for add addPet</p>\n<p><code> PetApiService interface</code></p>\n<pre><code>@javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.JavaJAXRSCXFCDIServerCodegen&quot;, date = &quot;2023-01-18T09:57:54.080Z[GMT]&quot;)public interface PetApiService {\n      public Response addPet(Pet body, SecurityContext securityContext);\n      public Response addPet(Long id, String name, Category category, List&lt;String&gt; photoUrls, List&lt;Tag&gt; tags, String status, SecurityContext securityContext);\n      public Response deletePet(Long petId, String apiKey, SecurityContext securityContext);\n      public Response findPetsByStatus(String status, SecurityContext securityContext);\n      public Response findPetsByTags(List&lt;String&gt; tags, SecurityContext securityContext);\n      public Response getPetById(Long petId, SecurityContext securityContext);\n      public Response updatePet(Pet body, SecurityContext securityContext);\n      public Response updatePet(Long id, String name, Category category, List&lt;String&gt; photoUrls, List&lt;Tag&gt; tags, String status, SecurityContext securityContext);\n      public Response updatePetWithForm(Long petId, String name, String status, SecurityContext securityContext);\n      public Response uploadFile(Long petId, Object body, String additionalMetadata, SecurityContext securityContext);\n}\n</code></pre>\n<p><code>PetApiServiceImpl.class</code></p>\n<pre><code>@RequestScoped\n@javax.annotation.Generated(value = &quot;io.swagger.codegen.v3.generators.java.JavaJAXRSCXFCDIServerCodegen&quot;, date = &quot;2023-01-18T09:57:54.080Z[GMT]&quot;)public class PetApiServiceImpl implements PetApiService {\n      @Override\n      public Response addPet(Pet body, SecurityContext securityContext) {\n      // do some magic!\n      return Response.ok().entity(&quot;magic!&quot;).build();\n  }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/wEDXb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wEDXb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1674241467,"post_id":75188237,"comment_id":132680433,"body_markdown":"Hello. Could you include more details about *what* is confusing you? For instance is it some fragment of [documentation](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-) of that method, or maybe from tutorial about [reduction](https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html)?","body":"Hello. Could you include more details about <i>what</i> is confusing you? For instance is it some fragment of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#reduce-U-java.util.function.BiFunction-java.util.function.BinaryOperator-\" rel=\"nofollow noreferrer\">documentation</a> of that method, or maybe from tutorial about <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/reduction.html\" rel=\"nofollow noreferrer\">reduction</a>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1674241624,"post_id":75188237,"comment_id":132680475,"body_markdown":"Also have you seen description of reduction in documentation https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction?","body":"Also have you seen description of reduction in documentation <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html#Reduction\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>?"},{"owner":{"account_id":8246209,"reputation":2826,"user_id":6202210,"accept_rate":52,"display_name":"s1n7ax"},"score":0,"creation_date":1674242017,"post_id":75188237,"comment_id":132680589,"body_markdown":"@Pshemo The example in the doc looks like same can be achieved using 2nd overload of the reduce, or is it? Reduction does not include an example of the 3rd overload I think.","body":"@Pshemo The example in the doc looks like same can be achieved using 2nd overload of the reduce, or is it? Reduction does not include an example of the 3rd overload I think."},{"owner":{"account_id":4500804,"reputation":2165,"user_id":3659361,"accept_rate":62,"display_name":"May Rest in Peace"},"score":2,"creation_date":1674242443,"post_id":75188237,"comment_id":132680690,"body_markdown":"@s1n7ax, If you are transforming from Collection&lt;T&gt; to T, you don&#39; t need the third version. Or if you are using sequential stream, you don&#39;t need the third version. You only need the third version when you are transforming from Collection&lt;T&gt; to U using parallel streams","body":"@s1n7ax, If you are transforming from Collection&lt;T&gt; to T, you don&#39; t need the third version. Or if you are using sequential stream, you don&#39;t need the third version. You only need the third version when you are transforming from Collection&lt;T&gt; to U using parallel streams"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1674242827,"post_id":75188237,"comment_id":132680768,"body_markdown":"&quot;How it works?&quot; the specific *implementation* of that method depends on context so it is hard to say how it *works*, we can only describe main idea behind it, which is that in some cases it *may be* possible to improve performance by splitting data in stream into some portions, and letting more threads reduce them. The `accumulator` describes how each thread should do it. But when those threads are done (or at least some of them are) we need some way to *combine* those result. That is the job of `combiner`.","body":"&quot;How it works?&quot; the specific <i>implementation</i> of that method depends on context so it is hard to say how it <i>works</i>, we can only describe main idea behind it, which is that in some cases it <i>may be</i> possible to improve performance by splitting data in stream into some portions, and letting more threads reduce them. The <code>accumulator</code> describes how each thread should do it. But when those threads are done (or at least some of them are) we need some way to <i>combine</i> those result. That is the job of <code>combiner</code>."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1674246626,"post_id":75188237,"comment_id":132681616,"body_markdown":"Does this answer your question? [Why is a combiner needed for reduce method that converts type in java 8](https://stackoverflow.com/questions/24308146/why-is-a-combiner-needed-for-reduce-method-that-converts-type-in-java-8)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24308146/why-is-a-combiner-needed-for-reduce-method-that-converts-type-in-java-8\">Why is a combiner needed for reduce method that converts type in java 8</a>"},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":1,"creation_date":1674246664,"post_id":75188237,"comment_id":132681620,"body_markdown":"Also https://stackoverflow.com/q/30015971/525036","body":"Also <a href=\"https://stackoverflow.com/q/30015971/525036\">stackoverflow.com/q/30015971/525036</a>"}],"answers":[{"tags":[],"owner":{"account_id":4500804,"reputation":2165,"user_id":3659361,"accept_rate":62,"display_name":"May Rest in Peace"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674241989,"creation_date":1674241989,"answer_id":75188458,"question_id":75188237,"body_markdown":"If I understand correctly, your question is about the third argument `combiner`.\r\n\r\nFirstly, one of the goals of Java was to have similar APIs for sequential and parallel streams.\r\nThe 3-argument version of `reduce` is useful for parallel streams.\r\n\r\nSuppose you are reducing from value of `Collection&lt;T&gt;` to `U` type and you are using parallel stream versions. The parallel stream splits the collection T into smaller streams and generates a u&#39; value for each by using the second function. But now these different u&#39; values have to be combined ? How do they get *combined* ? The third function is the one that provides that logic.","title":"How Stream.reduce(identity, accumulator, combiner) works?","body":"<p>If I understand correctly, your question is about the third argument <code>combiner</code>.</p>\n<p>Firstly, one of the goals of Java was to have similar APIs for sequential and parallel streams.\nThe 3-argument version of <code>reduce</code> is useful for parallel streams.</p>\n<p>Suppose you are reducing from value of <code>Collection&lt;T&gt;</code> to <code>U</code> type and you are using parallel stream versions. The parallel stream splits the collection T into smaller streams and generates a u' value for each by using the second function. But now these different u' values have to be combined ? How do they get <em>combined</em> ? The third function is the one that provides that logic.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674480274,"creation_date":1674246708,"answer_id":75189051,"question_id":75188237,"body_markdown":"**Note:** Some of the examples are contrived for demonstration.  In some instances a simple `.sum()` could have been used.\r\n\r\nThe big difference, imo, is that the third form has a `BiFunction` as a second argument instead of a `BinaryOperator`.  So you can use the third form to change the result type.  It also has a `BinaryOperator` as a combiner to combine the different results from parallel operations.\r\n\r\nGenerate some data\r\n```\r\nrecord Data(String name, int value) {}\r\n\r\nRandom r = new Random();\r\nList&lt;Data&gt; dataList = r.ints(1000, 1, 20).mapToObj(i-&gt;new Data(&quot;Item&quot;+i, i)).toList();\r\n```\r\nNo parallel operation but different types.  But the third argument is required so just return the sum.\r\n```\r\nint sum = dataList.stream().reduce(0, (item, data) -&gt; item + data.value,\r\n        (finalSum, partialSum) -&gt; finalSum);\r\nSystem.out.println(sum);\r\n\r\n```\r\nprints\r\n```\r\n10162\r\n```\r\nThe second form.  Use map to get the value to be summed. `BinaryOperator` used here since types are the same and no parallel operation.\r\n```\r\nsum = dataList.stream().map(Data::value).reduce(0, (sum1,val)-&gt;sum1+val);\r\nSystem.out.println(sum); // print same as above\r\n```\r\nThis shows the same as above but in parallel.  The third argument accumulates partial sums. And those sums are accumulated as the next thread finishes so there may not be a sensible order to the output.\r\n```\r\nsum = dataList.parallelStream().reduce(0, (sum1, data) -&gt; sum1 + data.value,\r\n        (finalSum, partialSum) -&gt; {\r\n           \r\n            System.out.println(&quot;Adding &quot; + partialSum + &quot; to &quot; + finalSum);\r\n            finalSum += partialSum;\r\n            return finalSum;\r\n        });\r\nSystem.out.println(sum);\r\n```\r\nprints something like the following\r\n```\r\nAdding 586 to 670\r\nAdding 567 to 553\r\nAdding 1256 to 1120\r\nAdding 715 to 620\r\nAdding 624 to 601\r\nAdding 1335 to 1225\r\nAdding 2560 to 2376\r\nAdding 662 to 579\r\nAdding 706 to 715\r\nAdding 1421 to 1241\r\nAdding 713 to 689\r\nAdding 576 to 586\r\nAdding 1402 to 1162\r\nAdding 2662 to 2564\r\nAdding 4936 to 5226\r\n10162\r\n```\r\nOne final note.  None of the  `Collectors.reducing` methods have a `BiFunction` to handle different types.  To handle this the second argument is  a `Function` to act as a mapper so the third argument, a `BinaryOperator` can collect the values.\r\n```\r\nsum = dataList.parallelStream().collect(\r\n       Collectors.reducing(0, Data::value, (finalSum, partialSum) -&gt; {\r\n           System.out.println(\r\n                   &quot;Adding &quot; + partialSum + &quot; to &quot; + finalSum);      \r\n           return finalSum + partialSum;\r\n       }));\r\n\r\nSystem.out.println(sum);\r\n```\r\n","title":"How Stream.reduce(identity, accumulator, combiner) works?","body":"<p><strong>Note:</strong> Some of the examples are contrived for demonstration.  In some instances a simple <code>.sum()</code> could have been used.</p>\n<p>The big difference, imo, is that the third form has a <code>BiFunction</code> as a second argument instead of a <code>BinaryOperator</code>.  So you can use the third form to change the result type.  It also has a <code>BinaryOperator</code> as a combiner to combine the different results from parallel operations.</p>\n<p>Generate some data</p>\n<pre><code>record Data(String name, int value) {}\n\nRandom r = new Random();\nList&lt;Data&gt; dataList = r.ints(1000, 1, 20).mapToObj(i-&gt;new Data(&quot;Item&quot;+i, i)).toList();\n</code></pre>\n<p>No parallel operation but different types.  But the third argument is required so just return the sum.</p>\n<pre><code>int sum = dataList.stream().reduce(0, (item, data) -&gt; item + data.value,\n        (finalSum, partialSum) -&gt; finalSum);\nSystem.out.println(sum);\n\n</code></pre>\n<p>prints</p>\n<pre><code>10162\n</code></pre>\n<p>The second form.  Use map to get the value to be summed. <code>BinaryOperator</code> used here since types are the same and no parallel operation.</p>\n<pre><code>sum = dataList.stream().map(Data::value).reduce(0, (sum1,val)-&gt;sum1+val);\nSystem.out.println(sum); // print same as above\n</code></pre>\n<p>This shows the same as above but in parallel.  The third argument accumulates partial sums. And those sums are accumulated as the next thread finishes so there may not be a sensible order to the output.</p>\n<pre><code>sum = dataList.parallelStream().reduce(0, (sum1, data) -&gt; sum1 + data.value,\n        (finalSum, partialSum) -&gt; {\n           \n            System.out.println(&quot;Adding &quot; + partialSum + &quot; to &quot; + finalSum);\n            finalSum += partialSum;\n            return finalSum;\n        });\nSystem.out.println(sum);\n</code></pre>\n<p>prints something like the following</p>\n<pre><code>Adding 586 to 670\nAdding 567 to 553\nAdding 1256 to 1120\nAdding 715 to 620\nAdding 624 to 601\nAdding 1335 to 1225\nAdding 2560 to 2376\nAdding 662 to 579\nAdding 706 to 715\nAdding 1421 to 1241\nAdding 713 to 689\nAdding 576 to 586\nAdding 1402 to 1162\nAdding 2662 to 2564\nAdding 4936 to 5226\n10162\n</code></pre>\n<p>One final note.  None of the  <code>Collectors.reducing</code> methods have a <code>BiFunction</code> to handle different types.  To handle this the second argument is  a <code>Function</code> to act as a mapper so the third argument, a <code>BinaryOperator</code> can collect the values.</p>\n<pre><code>sum = dataList.parallelStream().collect(\n       Collectors.reducing(0, Data::value, (finalSum, partialSum) -&gt; {\n           System.out.println(\n                   &quot;Adding &quot; + partialSum + &quot; to &quot; + finalSum);      \n           return finalSum + partialSum;\n       }));\n\nSystem.out.println(sum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674249114,"creation_date":1674249114,"answer_id":75189377,"question_id":75188237,"body_markdown":"Basically it combines a mapping function with a reduction. Most of the examples I&#39;ve seen for this don&#39;t really demonstrate why it&#39;s preferrable to calling `map()` and a normal `reduce()` in separate steps. The API Note comes in handy here:\r\n\r\n&gt; Many reductions using this form can be represented more simply by an explicit combination of `map` and `reduce` operations. The `accumulator` function acts as a fused mapper and accumulator, which can sometimes be more efficient than separate mapping and reduction, such as when knowing the previously reduced value allows you to avoid some computation.\r\n\r\nSo let&#39;s say we have a `Stream&lt;String&gt; numbers`, and we want to parse them to `BigDecimal` and calculate their product. We could do something like this:\r\n\r\n    BigDecimal product = numbers.map(BigDecimal::new)\r\n            .reduce(BigDecimal.ONE, BigDecimal::multiply);\r\n\r\nBut this has an inefficiency. If one of the numbers is &quot;0&quot;, we&#39;re wasting cycles converting the remainder to `BigDecimal`. We can use the 3-arg `reduce()` here to bypass the mapping logic:\r\n\r\n    BigDecimal product = numbers.reduce(BigDecimal.ONE,\r\n            (d, n) -&gt; d.equals(BigDecimal.ZERO) ? BigDecimal.ZERO : new BigDecimal(n).multiply(d),\r\n            BigDecimal::multiply);\r\n\r\nOf course it would be even more efficient to short-circuit the stream entirely, but that&#39;s tricky to do in a stream, especially in parallel. And this is just an example to get the concept across.","title":"How Stream.reduce(identity, accumulator, combiner) works?","body":"<p>Basically it combines a mapping function with a reduction. Most of the examples I've seen for this don't really demonstrate why it's preferrable to calling <code>map()</code> and a normal <code>reduce()</code> in separate steps. The API Note comes in handy here:</p>\n<blockquote>\n<p>Many reductions using this form can be represented more simply by an explicit combination of <code>map</code> and <code>reduce</code> operations. The <code>accumulator</code> function acts as a fused mapper and accumulator, which can sometimes be more efficient than separate mapping and reduction, such as when knowing the previously reduced value allows you to avoid some computation.</p>\n</blockquote>\n<p>So let's say we have a <code>Stream&lt;String&gt; numbers</code>, and we want to parse them to <code>BigDecimal</code> and calculate their product. We could do something like this:</p>\n<pre><code>BigDecimal product = numbers.map(BigDecimal::new)\n        .reduce(BigDecimal.ONE, BigDecimal::multiply);\n</code></pre>\n<p>But this has an inefficiency. If one of the numbers is &quot;0&quot;, we're wasting cycles converting the remainder to <code>BigDecimal</code>. We can use the 3-arg <code>reduce()</code> here to bypass the mapping logic:</p>\n<pre><code>BigDecimal product = numbers.reduce(BigDecimal.ONE,\n        (d, n) -&gt; d.equals(BigDecimal.ZERO) ? BigDecimal.ZERO : new BigDecimal(n).multiply(d),\n        BigDecimal::multiply);\n</code></pre>\n<p>Of course it would be even more efficient to short-circuit the stream entirely, but that's tricky to do in a stream, especially in parallel. And this is just an example to get the concept across.</p>\n"}],"owner":{"account_id":8246209,"reputation":2826,"user_id":6202210,"accept_rate":52,"display_name":"s1n7ax"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1674480274,"creation_date":1674240507,"question_id":75188237,"body_markdown":"`Stream.reduce` has 3 method overloads.\r\n\r\n```\r\nreduce(BinaryOperator&lt;T&gt; accumulator)\r\nreduce(T identity, BinaryOperator&lt;T&gt; accumulator)\r\nreduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)\r\n```\r\n\r\n* 1st overload can be used to calculate sum of integer list for example.\r\n* 2nd overload is the same but if the list is empty it just returns the default value.\r\n\r\nI&#39;m having a hard time understanding how third overload (`Stream.reduce(identity, accumulator, combiner)`) works and what is a use case of that. So, how does it work, and why does that exists?","title":"How Stream.reduce(identity, accumulator, combiner) works?","body":"<p><code>Stream.reduce</code> has 3 method overloads.</p>\n<pre><code>reduce(BinaryOperator&lt;T&gt; accumulator)\nreduce(T identity, BinaryOperator&lt;T&gt; accumulator)\nreduce(U identity, BiFunction&lt;U,? super T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)\n</code></pre>\n<ul>\n<li>1st overload can be used to calculate sum of integer list for example.</li>\n<li>2nd overload is the same but if the list is empty it just returns the default value.</li>\n</ul>\n<p>I'm having a hard time understanding how third overload (<code>Stream.reduce(identity, accumulator, combiner)</code>) works and what is a use case of that. So, how does it work, and why does that exists?</p>\n"},{"tags":["java","postgresql"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674480139,"creation_date":1674480139,"answer_id":75210130,"question_id":75209780,"body_markdown":"You can call [`Statement.getWarnings()`](https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#getWarnings--) like\r\n\r\n    isSuccess = (status == 0) || (status &gt; 0);\r\n    if (!isSuccess) {\r\n        SQLWarning swarn = stmt.getWarnings();\r\n        while (swarn != null) {\r\n            LOGGER.warn(swarn);\r\n            swarn = swarn.getNextWarning();\r\n        }\r\n    }\r\n\r\n","title":"How to CATCH the error raised from Postgresql stored procedure in JAVA","body":"<p>You can call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Statement.html#getWarnings--\" rel=\"nofollow noreferrer\"><code>Statement.getWarnings()</code></a> like</p>\n<pre><code>isSuccess = (status == 0) || (status &gt; 0);\nif (!isSuccess) {\n    SQLWarning swarn = stmt.getWarnings();\n    while (swarn != null) {\n        LOGGER.warn(swarn);\n        swarn = swarn.getNextWarning();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674480139,"creation_date":1674478231,"question_id":75209780,"body_markdown":"I have the below error code inside a SP. The SP is being created to save records in the postgresql DB. Before the record insert it checks if the combination is already present in the DB. Sorry I can not provide all SP code details but I would replicate the error scenario as below :\r\n\r\n    IF (var_RecordCount &lt;&gt; 0) THEN\r\n        \r\n        RAISE &#39;Error %, severity %, state % was raised. Message: %.&#39;, &#39;50000&#39;, 5, 1, &#39;Selected combination is already present in Database...&#39; USING ERRCODE = &#39;50000&#39;;\r\n\r\n    ELSE\r\n        --- DO Something Else\r\n\r\nI am using java (Spring Boot) to call the SP as below :\r\n\r\n        Connection conn = DatabaseConnection.connect();\r\n\t\tPreparedStatement stmt = null;\r\n\t\t\r\n\t\tBoolean isSuccess = false;\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\t\t\r\n\t\t\tstmt = conn.prepareStatement(&quot;call public.my-sp(?,?,?,?,?,?);&quot;);\r\n\t\t\tstmt.setInt(1, &quot;&quot;);\r\n\t\t\tstmt.setString(2, &quot;&quot;);\r\n\t\t\tstmt.setString(3, &quot;&quot;);\r\n\t\t\tstmt.setString(4, &quot;&quot;);\r\n\t\t\tstmt.setString(5, &quot;&quot;);\r\n\t\t\tstmt.setString(6, &quot;&quot;);\r\n\t\t\t\r\n\t\t\tint status = stmt.executeUpdate();\r\n\t\t\tisSuccess = (status == 0) || (status &gt; 0);\r\n\t\t\t\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\tLOGGER.error(&quot;Error occurred during calling SP : my_sp().&quot;, e);\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tstmt.close();\r\n\t\t\t\tconn.close();\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\tLOGGER.error(&quot;Error in connection close.&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\treturn isSuccess;\r\n\r\n\r\nMy question is in Java how can I catch the error being raised from inside the SP. Are there any available methods to do that.\r\n","title":"How to CATCH the error raised from Postgresql stored procedure in JAVA","body":"<p>I have the below error code inside a SP. The SP is being created to save records in the postgresql DB. Before the record insert it checks if the combination is already present in the DB. Sorry I can not provide all SP code details but I would replicate the error scenario as below :</p>\n<pre><code>IF (var_RecordCount &lt;&gt; 0) THEN\n    \n    RAISE 'Error %, severity %, state % was raised. Message: %.', '50000', 5, 1, 'Selected combination is already present in Database...' USING ERRCODE = '50000';\n\nELSE\n    --- DO Something Else\n</code></pre>\n<p>I am using java (Spring Boot) to call the SP as below :</p>\n<pre><code>    Connection conn = DatabaseConnection.connect();\n    PreparedStatement stmt = null;\n    \n    Boolean isSuccess = false;\n    \n    try {\n                \n        stmt = conn.prepareStatement(&quot;call public.my-sp(?,?,?,?,?,?);&quot;);\n        stmt.setInt(1, &quot;&quot;);\n        stmt.setString(2, &quot;&quot;);\n        stmt.setString(3, &quot;&quot;);\n        stmt.setString(4, &quot;&quot;);\n        stmt.setString(5, &quot;&quot;);\n        stmt.setString(6, &quot;&quot;);\n        \n        int status = stmt.executeUpdate();\n        isSuccess = (status == 0) || (status &gt; 0);\n        \n\n    } catch (Exception e) {\n        LOGGER.error(&quot;Error occurred during calling SP : my_sp().&quot;, e);\n    } finally {\n        try {\n            stmt.close();\n            conn.close();\n        } catch (SQLException e) {\n            LOGGER.error(&quot;Error in connection close.&quot;, e);\n        }\n    }\n\n\n    return isSuccess;\n</code></pre>\n<p>My question is in Java how can I catch the error being raised from inside the SP. Are there any available methods to do that.</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"score":1,"creation_date":1674418410,"post_id":75202618,"comment_id":132705364,"body_markdown":"Maybe use [RecyclerView.Adapter#notifyItemRemoved(int)](https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.Adapter#notifyItemRemoved(int))?","body":"Maybe use <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/RecyclerView.Adapter#notifyItemRemoved(int)\" rel=\"nofollow noreferrer\">RecyclerView.Adapter#notifyItemRemoved(int)</a>?"},{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1674419129,"post_id":75202618,"comment_id":132705509,"body_markdown":"You are using `notifyItemChanged` which is usually used to notify the adapter that an item at a given position is &quot;changed&quot;. You should be using `notifyItemRemoved` to notify that adapter that the item at given position should be removed from RV.","body":"You are using <code>notifyItemChanged</code> which is usually used to notify the adapter that an item at a given position is &quot;changed&quot;. You should be using <code>notifyItemRemoved</code> to notify that adapter that the item at given position should be removed from RV."},{"owner":{"account_id":19217402,"reputation":67,"user_id":14041897,"display_name":"Hamza Khan"},"score":0,"creation_date":1674419494,"post_id":75202618,"comment_id":132705579,"body_markdown":"Changing `notifyItemChanged` to `notifyItemRemoved` still doesn&#39;t work.","body":"Changing <code>notifyItemChanged</code> to <code>notifyItemRemoved</code> still doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":26184382,"reputation":9,"user_id":19867158,"display_name":"Nader"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674423446,"creation_date":1674423446,"answer_id":75204102,"question_id":75202618,"body_markdown":"You are telling the adapter that one item is changed, instead of that use:\r\n\r\n`notifyDataSetChanged()`\r\n\r\nthis should reload all items","title":"Delete item in RecyclerView works only once","body":"<p>You are telling the adapter that one item is changed, instead of that use:</p>\n<p><code>notifyDataSetChanged()</code></p>\n<p>this should reload all items</p>\n"},{"tags":[],"owner":{"account_id":8373673,"reputation":61868,"user_id":6287910,"display_name":"Cheticamp"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674480076,"creation_date":1674428079,"answer_id":75204487,"question_id":75202618,"body_markdown":"In _Home.java_, you are setting the click listener:\r\n\r\n    adapter.setOnItemClickListener(new ItemAdapter.OnItemClickListener() {...}\r\n\r\nIn `addItem()`, you are creating a new adapter:\r\n\r\n    adapter = new ItemAdapter(itemList);\r\n\r\nThe problem is that you never set a click listener on this new adapter.\r\n\r\nI would consider not creating a new adapter but calling a notify method to alert the adapter to a new item.","title":"Delete item in RecyclerView works only once","body":"<p>In <em>Home.java</em>, you are setting the click listener:</p>\n<pre><code>adapter.setOnItemClickListener(new ItemAdapter.OnItemClickListener() {...}\n</code></pre>\n<p>In <code>addItem()</code>, you are creating a new adapter:</p>\n<pre><code>adapter = new ItemAdapter(itemList);\n</code></pre>\n<p>The problem is that you never set a click listener on this new adapter.</p>\n<p>I would consider not creating a new adapter but calling a notify method to alert the adapter to a new item.</p>\n"},{"tags":[],"owner":{"account_id":22997531,"reputation":119,"user_id":17122042,"display_name":"Majed Al-Moqbeli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674465241,"creation_date":1674465241,"answer_id":75207458,"question_id":75202618,"body_markdown":"Try to change `adapter.notifyItemChanged(position);` to `adapter.notifyItemRemoved(position);`","title":"Delete item in RecyclerView works only once","body":"<p>Try to change <code>adapter.notifyItemChanged(position);</code> to <code>adapter.notifyItemRemoved(position);</code></p>\n"}],"owner":{"account_id":19217402,"reputation":67,"user_id":14041897,"display_name":"Hamza Khan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75204487,"answer_count":3,"score":1,"last_activity_date":1674480076,"creation_date":1674409819,"question_id":75202618,"body_markdown":"When I delete an item from the RecyclerView, I am no longer able to delete another item. When I make an item I am also unable to delete that item and any other item in the RecyclerView.\r\n\r\nBelow is the code.\r\n\r\n`Home.java`:\r\n\r\n```java\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState){\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.home_activity);\r\n\r\n        itemImage = findViewById(R.id.image_holder);\r\n        itemName = findViewById(R.id.add_item_name);\r\n        itemPrice = findViewById(R.id.add_price);\r\n        itemDesc = findViewById(R.id.add_desc);\r\n\r\n        // Initialize Firebase Auth\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        addPhotoButton = findViewById(R.id.getCameraBtn);\r\n        addFileButton = findViewById(R.id.getGalleryBtn);\r\n\r\n        imageView = findViewById(R.id.image_holder);\r\n\r\n        addPhotoButton.setOnClickListener(this);\r\n        addFileButton.setOnClickListener(this);\r\n\r\n        itemList = new ArrayList&lt;Item&gt;();\r\n\r\n        // add item for testing\r\n        itemList.add(new Item(R.drawable.ic_logo, &quot;Baby Stroller&quot;, &quot;A stroller for baby&quot;, &quot;59.99&quot;));\r\n\r\n        recyclerView = findViewById(R.id.recyclerView);\r\n        recyclerView.setHasFixedSize(true);\r\n\r\n        layoutManager = new LinearLayoutManager(this);\r\n        adapter = new ItemAdapter(itemList);\r\n\r\n\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        adapter.setOnItemClickListener(new ItemAdapter.OnItemClickListener() {\r\n            @Override\r\n            public void onDeleteClick(int position) {\r\n                removeItem(position);\r\n            }\r\n\r\n            @Override\r\n            public void onEditClick(int position) {\r\n                editItem(position);\r\n            }\r\n        });\r\n    }\r\n\r\n    // log out back to start page\r\n    public void goToStart(View view){\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        startActivity(intent);\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        switch (view.getId()) {\r\n\r\n            case R.id.getCameraBtn:\r\n                //post a photo from the camera\r\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\r\n                startActivityForResult(takePictureIntent, CAMERA_CODE);\r\n\r\n                break;\r\n\r\n            case R.id.getGalleryBtn:\r\n                //post an image\r\n\r\n                Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                galleryIntent.setType(&quot;image/*&quot;); //anything that is image related\r\n                startActivityForResult(galleryIntent, GALLERY_CODE);\r\n\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == GALLERY_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n            if (data != null) {\r\n                imageUri = data.getData(); //we have the actual path\r\n                imageView.setImageURI(imageUri); //show image\r\n\r\n            }\r\n        } else if (requestCode == CAMERA_CODE &amp;&amp; resultCode == RESULT_OK) {\r\n            Bundle extras = data.getExtras();\r\n            Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);\r\n            imageView.setImageBitmap(imageBitmap);\r\n        }\r\n    }\r\n\r\n    public void addItem(View view){\r\n        if(itemName.getText().toString().trim().length() != 0 || itemPrice.getText().toString().trim().length() != 0 || itemDesc.getText().toString().trim().length() != 0){\r\n            itemList.add(new Item(R.drawable.ic_logo, itemName.getText().toString(), itemPrice.getText().toString(), itemDesc.getText().toString()));\r\n            adapter = new ItemAdapter(itemList);\r\n            recyclerView.setAdapter(adapter);\r\n\r\n            itemName.setText(&quot;&quot;);\r\n            itemPrice.setText(&quot;&quot;);\r\n            itemDesc.setText(&quot;&quot;);\r\n\r\n        }\r\n        else{\r\n            Toast.makeText(Home.this, &quot;All fields must be filled when creating a new item.&quot;,\r\n                    Toast.LENGTH_LONG).show();\r\n        }\r\n\r\n    }\r\n\r\n    public void removeItem(int position){\r\n        itemList.remove(position);\r\n        adapter.notifyItemChanged(position);\r\n    }\r\n```\r\n\r\n`ItemAdapter.java`:\r\n\r\n```java\r\n    public class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ViewHolder&gt;{\r\n\r\n    private ArrayList&lt;Item&gt; ItemList;\r\n    private OnItemClickListener Listener;\r\n\r\n    public void setOnItemClickListener(OnItemClickListener listener) {Listener = listener;}\r\n\r\n    public interface OnItemClickListener{\r\n        void onDeleteClick(int position);\r\n        \r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder{\r\n        public ImageView item_image;\r\n        public TextView item_name;\r\n        public TextView item_desc;\r\n        public TextView item_price;\r\n\r\n        public ImageView deleteBtn;\r\n        public ImageView editBtn;\r\n\r\n        public ViewHolder(@NonNull View itemView, OnItemClickListener listener) {\r\n            super(itemView);\r\n\r\n            item_image = itemView.findViewById(R.id.item_image);\r\n            item_name = itemView.findViewById(R.id.item_name);\r\n            item_desc = itemView.findViewById(R.id.desc);\r\n            item_price = itemView.findViewById(R.id.price);\r\n\r\n            deleteBtn = itemView.findViewById(R.id.delete_item);\r\n            editBtn = itemView.findViewById(R.id.edit_item);\r\n\r\n            deleteBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    if(listener != null){\r\n                        int position = getAdapterPosition();\r\n                        if (position != RecyclerView.NO_POSITION){\r\n                            listener.onDeleteClick(position);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n            \r\n        }\r\n    }\r\n\r\n    public ItemAdapter(ArrayList&lt;Item&gt; itemList) {ItemList = itemList;}\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_items, parent, false);\r\n        ViewHolder vh = new ViewHolder(v, Listener);\r\n\r\n        return vh;\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n        Item currentItem = ItemList.get(position);\r\n        holder.item_image.setImageResource(currentItem.getItemImage());\r\n        holder.item_name.setText(currentItem.getItemName());\r\n        holder.item_desc.setText(currentItem.getItemDesc());\r\n        holder.item_price.setText(currentItem.getItemPrice());\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return ItemList.size();\r\n    }\r\n\r\n}\r\n```\r\n\r\n`Item.java`:\r\n\r\n```java\r\n    public class Item {\r\n    private int itemImage;\r\n    private String itemName;\r\n    private String itemDesc;\r\n    private String itemPrice;\r\n\r\n    public Item(int itemImage, String itemName, String itemDesc, String itemPrice){\r\n        this.itemImage = itemImage;\r\n        this.itemName = itemName;\r\n        this.itemDesc = itemDesc;\r\n        this.itemPrice = itemPrice;\r\n    }\r\n\r\n    public int getItemImage(){return itemImage;}\r\n\r\n    public String getItemName(){return itemName;}\r\n\r\n    public String getItemDesc(){return itemDesc;}\r\n\r\n    public String getItemPrice(){return itemPrice;}\r\n\r\n}\r\n```\r\n\r\nWhen the user clicks the delete button, it will work the first time and remove that particular item but when another item needs to be removed, the button is not responding. The same happens when the user adds an item and is unable to delete any items. Not really sure what could cause this. Thanks.\r\n\r\n**Edit:**\r\nThe delete function works correctly when I hardcode items into the RecyclerView. It is only when adding a new item, it doesn&#39;t work anymore including the hardcoded items.","title":"Delete item in RecyclerView works only once","body":"<p>When I delete an item from the RecyclerView, I am no longer able to delete another item. When I make an item I am also unable to delete that item and any other item in the RecyclerView.</p>\n<p>Below is the code.</p>\n<p><code>Home.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected void onCreate(Bundle savedInstanceState){\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.home_activity);\n\n        itemImage = findViewById(R.id.image_holder);\n        itemName = findViewById(R.id.add_item_name);\n        itemPrice = findViewById(R.id.add_price);\n        itemDesc = findViewById(R.id.add_desc);\n\n        // Initialize Firebase Auth\n        mAuth = FirebaseAuth.getInstance();\n\n        addPhotoButton = findViewById(R.id.getCameraBtn);\n        addFileButton = findViewById(R.id.getGalleryBtn);\n\n        imageView = findViewById(R.id.image_holder);\n\n        addPhotoButton.setOnClickListener(this);\n        addFileButton.setOnClickListener(this);\n\n        itemList = new ArrayList&lt;Item&gt;();\n\n        // add item for testing\n        itemList.add(new Item(R.drawable.ic_logo, &quot;Baby Stroller&quot;, &quot;A stroller for baby&quot;, &quot;59.99&quot;));\n\n        recyclerView = findViewById(R.id.recyclerView);\n        recyclerView.setHasFixedSize(true);\n\n        layoutManager = new LinearLayoutManager(this);\n        adapter = new ItemAdapter(itemList);\n\n\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setAdapter(adapter);\n\n        adapter.setOnItemClickListener(new ItemAdapter.OnItemClickListener() {\n            @Override\n            public void onDeleteClick(int position) {\n                removeItem(position);\n            }\n\n            @Override\n            public void onEditClick(int position) {\n                editItem(position);\n            }\n        });\n    }\n\n    // log out back to start page\n    public void goToStart(View view){\n        Intent intent = new Intent(this, MainActivity.class);\n        startActivity(intent);\n    }\n\n    @Override\n    public void onClick(View view) {\n        switch (view.getId()) {\n\n            case R.id.getCameraBtn:\n                //post a photo from the camera\n                Intent takePictureIntent = new Intent(MediaStore.ACTION_IMAGE_CAPTURE);\n                startActivityForResult(takePictureIntent, CAMERA_CODE);\n\n                break;\n\n            case R.id.getGalleryBtn:\n                //post an image\n\n                Intent galleryIntent = new Intent(Intent.ACTION_GET_CONTENT);\n                galleryIntent.setType(&quot;image/*&quot;); //anything that is image related\n                startActivityForResult(galleryIntent, GALLERY_CODE);\n\n                break;\n        }\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == GALLERY_CODE &amp;&amp; resultCode == RESULT_OK) {\n            if (data != null) {\n                imageUri = data.getData(); //we have the actual path\n                imageView.setImageURI(imageUri); //show image\n\n            }\n        } else if (requestCode == CAMERA_CODE &amp;&amp; resultCode == RESULT_OK) {\n            Bundle extras = data.getExtras();\n            Bitmap imageBitmap = (Bitmap) extras.get(&quot;data&quot;);\n            imageView.setImageBitmap(imageBitmap);\n        }\n    }\n\n    public void addItem(View view){\n        if(itemName.getText().toString().trim().length() != 0 || itemPrice.getText().toString().trim().length() != 0 || itemDesc.getText().toString().trim().length() != 0){\n            itemList.add(new Item(R.drawable.ic_logo, itemName.getText().toString(), itemPrice.getText().toString(), itemDesc.getText().toString()));\n            adapter = new ItemAdapter(itemList);\n            recyclerView.setAdapter(adapter);\n\n            itemName.setText(&quot;&quot;);\n            itemPrice.setText(&quot;&quot;);\n            itemDesc.setText(&quot;&quot;);\n\n        }\n        else{\n            Toast.makeText(Home.this, &quot;All fields must be filled when creating a new item.&quot;,\n                    Toast.LENGTH_LONG).show();\n        }\n\n    }\n\n    public void removeItem(int position){\n        itemList.remove(position);\n        adapter.notifyItemChanged(position);\n    }\n</code></pre>\n<p><code>ItemAdapter.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class ItemAdapter extends RecyclerView.Adapter&lt;ItemAdapter.ViewHolder&gt;{\n\n    private ArrayList&lt;Item&gt; ItemList;\n    private OnItemClickListener Listener;\n\n    public void setOnItemClickListener(OnItemClickListener listener) {Listener = listener;}\n\n    public interface OnItemClickListener{\n        void onDeleteClick(int position);\n        \n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder{\n        public ImageView item_image;\n        public TextView item_name;\n        public TextView item_desc;\n        public TextView item_price;\n\n        public ImageView deleteBtn;\n        public ImageView editBtn;\n\n        public ViewHolder(@NonNull View itemView, OnItemClickListener listener) {\n            super(itemView);\n\n            item_image = itemView.findViewById(R.id.item_image);\n            item_name = itemView.findViewById(R.id.item_name);\n            item_desc = itemView.findViewById(R.id.desc);\n            item_price = itemView.findViewById(R.id.price);\n\n            deleteBtn = itemView.findViewById(R.id.delete_item);\n            editBtn = itemView.findViewById(R.id.edit_item);\n\n            deleteBtn.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    if(listener != null){\n                        int position = getAdapterPosition();\n                        if (position != RecyclerView.NO_POSITION){\n                            listener.onDeleteClick(position);\n                        }\n                    }\n                }\n            });\n\n            \n        }\n    }\n\n    public ItemAdapter(ArrayList&lt;Item&gt; itemList) {ItemList = itemList;}\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View v = LayoutInflater.from(parent.getContext()).inflate(R.layout.list_items, parent, false);\n        ViewHolder vh = new ViewHolder(v, Listener);\n\n        return vh;\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n        Item currentItem = ItemList.get(position);\n        holder.item_image.setImageResource(currentItem.getItemImage());\n        holder.item_name.setText(currentItem.getItemName());\n        holder.item_desc.setText(currentItem.getItemDesc());\n        holder.item_price.setText(currentItem.getItemPrice());\n    }\n\n    @Override\n    public int getItemCount() {\n        return ItemList.size();\n    }\n\n}\n</code></pre>\n<p><code>Item.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class Item {\n    private int itemImage;\n    private String itemName;\n    private String itemDesc;\n    private String itemPrice;\n\n    public Item(int itemImage, String itemName, String itemDesc, String itemPrice){\n        this.itemImage = itemImage;\n        this.itemName = itemName;\n        this.itemDesc = itemDesc;\n        this.itemPrice = itemPrice;\n    }\n\n    public int getItemImage(){return itemImage;}\n\n    public String getItemName(){return itemName;}\n\n    public String getItemDesc(){return itemDesc;}\n\n    public String getItemPrice(){return itemPrice;}\n\n}\n</code></pre>\n<p>When the user clicks the delete button, it will work the first time and remove that particular item but when another item needs to be removed, the button is not responding. The same happens when the user adds an item and is unable to delete any items. Not really sure what could cause this. Thanks.</p>\n<p><strong>Edit:</strong>\nThe delete function works correctly when I hardcode items into the RecyclerView. It is only when adding a new item, it doesn't work anymore including the hardcoded items.</p>\n"},{"tags":["java","spring-boot","liquibase","junit5","embedded-database"],"comments":[{"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"score":1,"creation_date":1674482107,"post_id":75210029,"comment_id":132716862,"body_markdown":"Well... I just upgraded the liquibase version and it worked. Okay.","body":"Well... I just upgraded the liquibase version and it worked. Okay."}],"owner":{"account_id":17217428,"reputation":53,"user_id":13959870,"display_name":"fckNewbee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674479557,"creation_date":1674479557,"question_id":75210029,"body_markdown":"I have a **spring-boot** application. I use a **postgres database**. Migration of the database is done **with liquibase**. When executing liquibase changesets I fill some tables, with some characters. For testing, I found a technology such as Zonky Embedded Postgres. And when I test the logic of my application on a real database, the application works correctly.\r\n\r\nThe problem is that when I run the **tests**, the **zonky test database** gets strange characters through liquibase. It looks like the encoding for non Latin letters is off.\r\n\r\n**For example.**\r\nExpected georgian letter: ;\r\nactually:  \r\n\r\nBut everything is **fine with English letters and the coding does not fly off**. \r\n\r\nWhat may be the problem, **please advise**?\r\n\r\nMy spring-boot-test annotations on the class:\r\n\r\n    @SpringBootTest(\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\r\n    )\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    @TestPropertySource(locations = [&quot;classpath:application-test.yml&quot;])\r\n    @AutoConfigureEmbeddedDatabase(\r\n        provider = AutoConfigureEmbeddedDatabase.DatabaseProvider.ZONKY,\r\n        type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES,\r\n        refresh = AutoConfigureEmbeddedDatabase.RefreshMode.AFTER_EACH_TEST_METHOD\r\n    )","title":"How do I set the encoding for non-Latin characters in zonky Embedded?","body":"<p>I have a <strong>spring-boot</strong> application. I use a <strong>postgres database</strong>. Migration of the database is done <strong>with liquibase</strong>. When executing liquibase changesets I fill some tables, with some characters. For testing, I found a technology such as Zonky Embedded Postgres. And when I test the logic of my application on a real database, the application works correctly.</p>\n<p>The problem is that when I run the <strong>tests</strong>, the <strong>zonky test database</strong> gets strange characters through liquibase. It looks like the encoding for non Latin letters is off.</p>\n<p><strong>For example.</strong>\nExpected georgian letter: ;\nactually: </p>\n<p>But everything is <strong>fine with English letters and the coding does not fly off</strong>.</p>\n<p>What may be the problem, <strong>please advise</strong>?</p>\n<p>My spring-boot-test annotations on the class:</p>\n<pre><code>@SpringBootTest(\n    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\n)\n@ActiveProfiles(&quot;test&quot;)\n@TestPropertySource(locations = [&quot;classpath:application-test.yml&quot;])\n@AutoConfigureEmbeddedDatabase(\n    provider = AutoConfigureEmbeddedDatabase.DatabaseProvider.ZONKY,\n    type = AutoConfigureEmbeddedDatabase.DatabaseType.POSTGRES,\n    refresh = AutoConfigureEmbeddedDatabase.RefreshMode.AFTER_EACH_TEST_METHOD\n)\n</code></pre>\n"},{"tags":["java","spring","gradle","build.gradle"],"answers":[{"tags":[],"owner":{"account_id":7719031,"reputation":2254,"user_id":5845802,"display_name":"PrasadU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674479265,"creation_date":1674479265,"answer_id":75209980,"question_id":75204776,"body_markdown":"please see https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html\r\n\r\n```\r\ndependencies {\r\n    implementation project(&#39;:shared&#39;)\r\n}\r\n```","title":"Gradle Local Module Transitive Dependency","body":"<p>please see <a href=\"https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/declaring_dependencies_between_subprojects.html</a></p>\n<pre><code>dependencies {\n    implementation project(':shared')\n}\n</code></pre>\n"}],"owner":{"account_id":333191,"reputation":921,"user_id":658913,"accept_rate":25,"display_name":"CR Sardar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674479265,"creation_date":1674432240,"question_id":75204776,"body_markdown":"My project structure is -\r\n\r\n    ParentDirectory\\\r\n        GradleProjectA\\\r\n            build.gradle\r\n        GradleProjectB\\\r\n            build.gradle\r\n       \r\nadded `Spring` dependency in `GradleProjectA`, \r\n\r\nnow -\r\nHow can I add the `GradleProjectA` in `GradleProjectB`, so that same Spring dependency will be added/transited to `GradleProjectB`?\r\nSo that I need not to add Spring dependency again in `GradleProjectB`.\r\n\r\nIf I make a JAR of `GradleProjectA` and add the JAR to `GradleProjectB`, then `Spring` dependency is **not** transited to `GradleProjectB`","title":"Gradle Local Module Transitive Dependency","body":"<p>My project structure is -</p>\n<pre><code>ParentDirectory\\\n    GradleProjectA\\\n        build.gradle\n    GradleProjectB\\\n        build.gradle\n   \n</code></pre>\n<p>added <code>Spring</code> dependency in <code>GradleProjectA</code>,</p>\n<p>now -\nHow can I add the <code>GradleProjectA</code> in <code>GradleProjectB</code>, so that same Spring dependency will be added/transited to <code>GradleProjectB</code>?\nSo that I need not to add Spring dependency again in <code>GradleProjectB</code>.</p>\n<p>If I make a JAR of <code>GradleProjectA</code> and add the JAR to <code>GradleProjectB</code>, then <code>Spring</code> dependency is <strong>not</strong> transited to <code>GradleProjectB</code></p>\n"},{"tags":["java","spring","lombok"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1674478839,"post_id":75209785,"comment_id":132715712,"body_markdown":"i can understand your instructor, he wants to see the encapsulation principle implemented in your code, and Lombok obscures it with autogenerated methods. \ni also use Lombok, reluctantly, and i have issues with it. for instance, your app is crashing because a member in a class has a bad value set to it. now you need to put a breakpoint in the setter method to see which method puts the bad value there. how do you do that with Lombok? put a breakpoint in every &quot;.setXXX()&quot; line in the entire code base?\nLombok also creates problems with Spring Rest methods when it can&#39;t deserialize the POJOs","body":"i can understand your instructor, he wants to see the encapsulation principle implemented in your code, and Lombok obscures it with autogenerated methods.  i also use Lombok, reluctantly, and i have issues with it. for instance, your app is crashing because a member in a class has a bad value set to it. now you need to put a breakpoint in the setter method to see which method puts the bad value there. how do you do that with Lombok? put a breakpoint in every &quot;.setXXX()&quot; line in the entire code base? Lombok also creates problems with Spring Rest methods when it can&#39;t deserialize the POJOs"}],"answers":[{"tags":[],"owner":{"account_id":7106895,"reputation":33839,"user_id":5436257,"accept_rate":100,"display_name":"Joe Clay"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1674478846,"creation_date":1674478498,"answer_id":75209833,"question_id":75209785,"body_markdown":"The Lombok .jar file provides a [&#39;delombok&#39; tool](https://projectlombok.org/features/delombok), which will process all of the Java files in a given directory and output the generated code to another directory.\r\n\r\nThe usage looks like this:\r\n\r\n```\r\njava -jar lombok.jar delombok src -d src-delomboked\r\n```\r\n\r\nThere is also a [Maven plugin](https://github.com/awhitford/lombok.maven) for this.\r\n\r\nAlternatively, if you&#39;re using IntelliJ, the Lombok plugin also provides this functionality, under &#39;Refactor&#39; -&gt; &#39;Delombok&#39;.\r\n\r\nI have just tested this out on one of my own projects, and the resulting code does not have any references to Lombok, so hopefully it will be enough to make your instructor happy :)","title":"How to (quickly) replace all Lombok annotations with generated methods?","body":"<p>The Lombok .jar file provides a <a href=\"https://projectlombok.org/features/delombok\" rel=\"nofollow noreferrer\">'delombok' tool</a>, which will process all of the Java files in a given directory and output the generated code to another directory.</p>\n<p>The usage looks like this:</p>\n<pre><code>java -jar lombok.jar delombok src -d src-delomboked\n</code></pre>\n<p>There is also a <a href=\"https://github.com/awhitford/lombok.maven\" rel=\"nofollow noreferrer\">Maven plugin</a> for this.</p>\n<p>Alternatively, if you're using IntelliJ, the Lombok plugin also provides this functionality, under 'Refactor' -&gt; 'Delombok'.</p>\n<p>I have just tested this out on one of my own projects, and the resulting code does not have any references to Lombok, so hopefully it will be enough to make your instructor happy :)</p>\n"},{"tags":[],"owner":{"account_id":10892421,"reputation":567,"user_id":8007713,"display_name":"Guilherme Barboza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674478510,"creation_date":1674478510,"answer_id":75209838,"question_id":75209785,"body_markdown":"What is the IDE you&#39;re using? Most IDEs have shotcuts for this. For instance, in Eclipse, you could generate Getters and Setters with &quot;Right click&quot; --&gt; &quot;Source&quot; --&gt; &quot;Generate Getters and Setters&quot;","title":"How to (quickly) replace all Lombok annotations with generated methods?","body":"<p>What is the IDE you're using? Most IDEs have shotcuts for this. For instance, in Eclipse, you could generate Getters and Setters with &quot;Right click&quot; --&gt; &quot;Source&quot; --&gt; &quot;Generate Getters and Setters&quot;</p>\n"}],"owner":{"account_id":7591192,"reputation":21,"user_id":6663020,"display_name":"bemoty"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":317,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":75209833,"answer_count":2,"score":1,"last_activity_date":1674478846,"creation_date":1674478247,"question_id":75209785,"body_markdown":"I&#39;m working on a Spring Boot project for university. The deadline is in a week and I&#39;m 99% done with everything. Now, my instructor has reached out to me and asked me to remove Lombok from my project because (from how I understand it) he has a personal issue with it.\r\n\r\nWhile I can&#39;t fathom why anyone would give such a requirement and really don&#39;t want to remove Lombok, I have to obey.\r\n\r\nSo now my question is: Is there a way to quickly replace all my Lombok annotations with its generated methods? If there is no way, I guess I&#39;ll have to resort to refactoring everything manually...\r\n\r\nThanks for any help.","title":"How to (quickly) replace all Lombok annotations with generated methods?","body":"<p>I'm working on a Spring Boot project for university. The deadline is in a week and I'm 99% done with everything. Now, my instructor has reached out to me and asked me to remove Lombok from my project because (from how I understand it) he has a personal issue with it.</p>\n<p>While I can't fathom why anyone would give such a requirement and really don't want to remove Lombok, I have to obey.</p>\n<p>So now my question is: Is there a way to quickly replace all my Lombok annotations with its generated methods? If there is no way, I guess I'll have to resort to refactoring everything manually...</p>\n<p>Thanks for any help.</p>\n"},{"tags":["java","spring-boot","spring-cloud-sleuth","open-telemetry","distributed-tracing"],"answers":[{"tags":[],"owner":{"account_id":246941,"reputation":1572,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674478719,"creation_date":1674477051,"answer_id":75209536,"question_id":75207994,"body_markdown":"I was able to get it working. By default, the propagation style is set to use \r\n a single header which needs to be changed to use multiple headers. This can be done by following steps:-\r\n Using brave:- \r\n\r\n    @Bean\r\n    PropagationFactorySupplier myPropagationFactorySupplier() {\r\n      return () -&gt; B3Propagation.newFactoryBuilder().injectFormat(B3Propagation.Format.MULTI).build();\r\n    }\r\n\r\nWithout using brave:- \r\n\r\n        @Bean\r\n        public B3Propagator b3Propagator() {\r\n            return B3Propagator.injectingMultiHeaders();\r\n        }\r\n\r\n","title":"Headers not getting propagated with open-telemetry and spring-cloud-sleuth","body":"<p>I was able to get it working. By default, the propagation style is set to use\na single header which needs to be changed to use multiple headers. This can be done by following steps:-\nUsing brave:-</p>\n<pre><code>@Bean\nPropagationFactorySupplier myPropagationFactorySupplier() {\n  return () -&gt; B3Propagation.newFactoryBuilder().injectFormat(B3Propagation.Format.MULTI).build();\n}\n</code></pre>\n<p>Without using brave:-</p>\n<pre><code>    @Bean\n    public B3Propagator b3Propagator() {\n        return B3Propagator.injectingMultiHeaders();\n    }\n</code></pre>\n"}],"owner":{"account_id":246941,"reputation":1572,"user_id":521347,"accept_rate":60,"display_name":"Sumit Desai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75209536,"answer_count":1,"score":0,"last_activity_date":1674478719,"creation_date":1674468356,"question_id":75207994,"body_markdown":"I have integrated open-telemetry collector with spring-cloud-sleuth and trying to test distributed tracing with it. My basic requirement is if app1 receives a header for traceId, it should use the same for logging and tracing. If not, it can generate it&#39;s own traceId\r\n\r\nI have configured spring.sleuth.baggage.remoteFields/correlationFields as traceId. \r\n\r\n    spring:\r\n      application:\r\n        name: spring-cloud-sleuth-otel-slf4j\r\n      sleuth:\r\n        otel:\r\n          config:\r\n            trace-id-ratio-based: 1.0\r\n          exporter:\r\n            otlp:\r\n              endpoint: http://otel-collector:4317\r\n        baggage:\r\n         remoteFields: requestId,serviceName,trace_id\r\n         correlationFields: requestId,serviceName,traceId\r\n         tagFields: requestId,serviceName,traceId\r\n\r\nI am calling an API in app1 from postman with header **X-B3-TraceId**. This header gets used in the logs and traces emitted by app1. Now, I call an app2 API from app1 using RestTemplate. In the app2, I am seeing an header named **b3** instead of **X-B3-TraceId**.\r\n\r\nHowever, if I change header name to **traceId** instead of **X-B3-TraceId** when calling app1 from postman, it gets propagated to app2. However, in this case, the generated trace by app1 does not use this header **traceId** but creates a new one. Do I need to add any additional configuration for these headers to get propagated with correct names?","title":"Headers not getting propagated with open-telemetry and spring-cloud-sleuth","body":"<p>I have integrated open-telemetry collector with spring-cloud-sleuth and trying to test distributed tracing with it. My basic requirement is if app1 receives a header for traceId, it should use the same for logging and tracing. If not, it can generate it's own traceId</p>\n<p>I have configured spring.sleuth.baggage.remoteFields/correlationFields as traceId.</p>\n<pre><code>spring:\n  application:\n    name: spring-cloud-sleuth-otel-slf4j\n  sleuth:\n    otel:\n      config:\n        trace-id-ratio-based: 1.0\n      exporter:\n        otlp:\n          endpoint: http://otel-collector:4317\n    baggage:\n     remoteFields: requestId,serviceName,trace_id\n     correlationFields: requestId,serviceName,traceId\n     tagFields: requestId,serviceName,traceId\n</code></pre>\n<p>I am calling an API in app1 from postman with header <strong>X-B3-TraceId</strong>. This header gets used in the logs and traces emitted by app1. Now, I call an app2 API from app1 using RestTemplate. In the app2, I am seeing an header named <strong>b3</strong> instead of <strong>X-B3-TraceId</strong>.</p>\n<p>However, if I change header name to <strong>traceId</strong> instead of <strong>X-B3-TraceId</strong> when calling app1 from postman, it gets propagated to app2. However, in this case, the generated trace by app1 does not use this header <strong>traceId</strong> but creates a new one. Do I need to add any additional configuration for these headers to get propagated with correct names?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674472160,"post_id":75208616,"comment_id":132713656,"body_markdown":"can you share the json please?","body":"can you share the json please?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674472353,"post_id":75208616,"comment_id":132713731,"body_markdown":"The first part of the error messages say, that you should add a non argument constructor to your class: `public OptionsDto(){}`","body":"The first part of the error messages say, that you should add a non argument constructor to your class: <code>public OptionsDto(){}</code>"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674477859,"post_id":75208616,"comment_id":132715356,"body_markdown":"thank you for your answer Jens , I updated my post I put the json format","body":"thank you for your answer Jens , I updated my post I put the json format"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674478181,"post_id":75208616,"comment_id":132715472,"body_markdown":"`ingredients` is a string in your `OptionsDto`, but not in the json","body":"<code>ingredients</code> is a string in your <code>OptionsDto</code>, but not in the json"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674478403,"post_id":75208616,"comment_id":132715551,"body_markdown":"Thank you for the answer Jens. Would you please have a link that explains the sending of a json or how to configure ingredient in the dto so that it receives a json? sorry I recently started with springboot","body":"Thank you for the answer Jens. Would you please have a link that explains the sending of a json or how to configure ingredient in the dto so that it receives a json? sorry I recently started with springboot"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674478518,"post_id":75208616,"comment_id":132715592,"body_markdown":"It is not primarely   spring boot, it is the onject mapping in the json library. As I understand your json correctly, `ingredients` must be a `Map&lt;String,String&gt;`","body":"It is not primarely   spring boot, it is the onject mapping in the json library. As I understand your json correctly, <code>ingredients</code> must be a <code>Map&lt;String,String&gt;</code>"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674479486,"post_id":75208616,"comment_id":132715926,"body_markdown":"I tried to modify but I couldn&#39;t @Jens","body":"I tried to modify but I couldn&#39;t @Jens"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674479548,"post_id":75208616,"comment_id":132715944,"body_markdown":"why can&#39;t you modify?","body":"why can&#39;t you modify?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674479643,"post_id":75208616,"comment_id":132715979,"body_markdown":"Also the json you post does not fit to  the expected struture: `Map&lt;String, OptionsDto &gt; options`","body":"Also the json you post does not fit to  the expected struture: <code>Map&lt;String, OptionsDto &gt; options</code>"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674480258,"post_id":75208616,"comment_id":132716215,"body_markdown":"I am a little lost. Do you have an example to show me please?","body":"I am a little lost. Do you have an example to show me please?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1674480481,"post_id":75208616,"comment_id":132716302,"body_markdown":"It is hard, becuase i do not know which is correct, your example json or your code snipped","body":"It is hard, becuase i do not know which is correct, your example json or your code snipped"},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674480860,"post_id":75208616,"comment_id":132716425,"body_markdown":"It doesn&#39;t matter, I&#39;ll continue my research :) . Thank you for the time you took to try to help me :).","body":"It doesn&#39;t matter, I&#39;ll continue my research :) . Thank you for the time you took to try to help me :)."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1674480918,"post_id":75208616,"comment_id":132716447,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/251335/discussion-between-jens-and-tony).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/251335/discussion-between-jens-and-tony\">continue this discussion in chat</a>."},{"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"score":0,"creation_date":1674484675,"post_id":75208616,"comment_id":132717816,"body_markdown":"Thanks for help\n de jens I succeeded thank you","body":"Thanks for help  de jens I succeeded thank you"}],"answers":[{"tags":[],"owner":{"account_id":22735383,"reputation":1,"user_id":16897641,"display_name":"Kristiyan Mihov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674478676,"creation_date":1674478676,"answer_id":75209875,"question_id":75208616,"body_markdown":"As Jens mentioned, you need a default constructor in the OptionDto class. Also, you must decide whether `ingredients` is a String or a Map.\r\n\r\nIn the controller, you are asking for a Map&lt;&gt; but what you pass in the JSON is not a map. Your controller must be asking for an OptionsDto and not a Map.","title":"Post request with springboot json format","body":"<p>As Jens mentioned, you need a default constructor in the OptionDto class. Also, you must decide whether <code>ingredients</code> is a String or a Map.</p>\n<p>In the controller, you are asking for a Map&lt;&gt; but what you pass in the JSON is not a map. Your controller must be asking for an OptionsDto and not a Map.</p>\n"}],"owner":{"account_id":20533093,"reputation":199,"user_id":15069855,"display_name":"tony"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674478676,"creation_date":1674472025,"question_id":75208616,"body_markdown":"I have a product table, I have a second option table. I cannot manage to create my options for the product at the same time as I create the product. I tried to create the options individually by creating an option table and a category join table. When I send the options in json format it doesn&#39;t work. I get the bad request error and in the console: \r\n\r\n&gt; JSON parse error: Cannot construct instance of\r\n&gt; `com.pastrycertified.cda.dto.OptionsDto` (although at least one\r\n&gt; Creator exists): no String-argument constructor/factory method to\r\n&gt; deserialize from String value(&#39;pie&#39;); nested exception is\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\r\n&gt; construct instance of `com.pastrycertified.cda.dto.OptionsDto`\r\n&gt; (although at least one Creator exists): no String-argument\r\n&gt; constructor/factory method to deserialize from String value\r\n&gt; (&#39;pie&#39;)&lt;EOL&gt; at [Source:\r\n&gt; (org.springframework.util.StreamUtils$NonClosingInputStream); line: 2,\r\n&gt; column: 19] (through reference chain:\r\n&gt; java.util.LinkedHashMap[&quot;typeOption&quot;])]\r\n\r\nThank you for help\r\n\r\ndata\r\n```\r\n{\r\n    &quot;typeOption&quot;: &quot;product&quot;,\r\n    &quot;ingredients&quot;: {\r\n        &quot;option1&quot;: &quot;test&quot;,\r\n        &quot;option2&quot;:&quot;test1&quot;\r\n    }\r\n}\r\n```\r\n\r\ncontroller option\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/options&quot;)\r\n@RequiredArgsConstructor\r\npublic class OptionsController {\r\n\r\n    private final OptionsService optionsService;\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public void save(\r\n            @RequestBody Map&lt;String, OptionsDto &gt; options\r\n    ) {\r\n        return ResponseEntity.ok(optionsService.save(options));\r\n    }\r\n}\r\n```\r\n\r\noptionService\r\n```\r\npublic interface OptionsService {\r\n\r\n    Options save(OptionsDto options);\r\n}\r\n```\r\noptionServiceImpl\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class OptionsServiceImpl implements OptionsService {\r\n\r\n\r\n    @Override\r\n    public Options save(OptionsDto options) {\r\n\r\n        Options option = OptionsDto.toEntity(options);\r\n        option.setTypeOption(option.getTypeOption());\r\n        option.setIngredients(option.getIngredients());\r\n\r\n        return option;\r\n    }\r\n}\r\n```\r\noptionDto\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@Builder\r\npublic class OptionsDto {\r\n\r\n    private Integer id;\r\n\r\n    private String typeOption;\r\n\r\n    private String ingredients;\r\n\r\n    private String nameCategory;\r\n\r\n    private CategoryDto category;\r\n\r\n    public static OptionsDto fromEntity(Options options) {\r\n\r\n        return OptionsDto.builder()\r\n                .id(options.getId())\r\n                .typeOption(options.getTypeOption())\r\n                .ingredients(options.getIngredients())\r\n                .nameCategory(options.getCategory().getName())\r\n                .build();\r\n    }\r\n\r\n    public static Options toEntity(OptionsDto options) {\r\n\r\n        return Options.builder()\r\n                .id(options.getId())\r\n                .typeOption(options.getTypeOption())\r\n                .ingredients(options.getIngredients())\r\n                .build();\r\n    }\r\n}\r\n```","title":"Post request with springboot json format","body":"<p>I have a product table, I have a second option table. I cannot manage to create my options for the product at the same time as I create the product. I tried to create the options individually by creating an option table and a category join table. When I send the options in json format it doesn't work. I get the bad request error and in the console:</p>\n<blockquote>\n<p>JSON parse error: Cannot construct instance of\n<code>com.pastrycertified.cda.dto.OptionsDto</code> (although at least one\nCreator exists): no String-argument constructor/factory method to\ndeserialize from String value('pie'); nested exception is\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\nconstruct instance of <code>com.pastrycertified.cda.dto.OptionsDto</code>\n(although at least one Creator exists): no String-argument\nconstructor/factory method to deserialize from String value\n('pie') at [Source:\n(org.springframework.util.StreamUtils$NonClosingInputStream); line: 2,\ncolumn: 19] (through reference chain:\njava.util.LinkedHashMap[&quot;typeOption&quot;])]</p>\n</blockquote>\n<p>Thank you for help</p>\n<p>data</p>\n<pre><code>{\n    &quot;typeOption&quot;: &quot;product&quot;,\n    &quot;ingredients&quot;: {\n        &quot;option1&quot;: &quot;test&quot;,\n        &quot;option2&quot;:&quot;test1&quot;\n    }\n}\n</code></pre>\n<p>controller option</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/options&quot;)\n@RequiredArgsConstructor\npublic class OptionsController {\n\n    private final OptionsService optionsService;\n\n    @PostMapping(&quot;/&quot;)\n    public void save(\n            @RequestBody Map&lt;String, OptionsDto &gt; options\n    ) {\n        return ResponseEntity.ok(optionsService.save(options));\n    }\n}\n</code></pre>\n<p>optionService</p>\n<pre><code>public interface OptionsService {\n\n    Options save(OptionsDto options);\n}\n</code></pre>\n<p>optionServiceImpl</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class OptionsServiceImpl implements OptionsService {\n\n\n    @Override\n    public Options save(OptionsDto options) {\n\n        Options option = OptionsDto.toEntity(options);\n        option.setTypeOption(option.getTypeOption());\n        option.setIngredients(option.getIngredients());\n\n        return option;\n    }\n}\n</code></pre>\n<p>optionDto</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@Builder\npublic class OptionsDto {\n\n    private Integer id;\n\n    private String typeOption;\n\n    private String ingredients;\n\n    private String nameCategory;\n\n    private CategoryDto category;\n\n    public static OptionsDto fromEntity(Options options) {\n\n        return OptionsDto.builder()\n                .id(options.getId())\n                .typeOption(options.getTypeOption())\n                .ingredients(options.getIngredients())\n                .nameCategory(options.getCategory().getName())\n                .build();\n    }\n\n    public static Options toEntity(OptionsDto options) {\n\n        return Options.builder()\n                .id(options.getId())\n                .typeOption(options.getTypeOption())\n                .ingredients(options.getIngredients())\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":278210,"reputation":176444,"user_id":572670,"accept_rate":92,"display_name":"amit"},"score":0,"creation_date":1402419771,"post_id":24146885,"comment_id":37261795,"body_markdown":"What is the error msg EXACTLY? Show us some minimal code that shows your problem.","body":"What is the error msg EXACTLY? Show us some minimal code that shows your problem."},{"owner":{"account_id":330005,"reputation":132815,"user_id":653856,"accept_rate":100,"display_name":"Raghunandan"},"score":3,"creation_date":1402419803,"post_id":24146885,"comment_id":37261818,"body_markdown":"check if you have errors in resource files fix it. Remove `import android.R` and cleand and build your project.","body":"check if you have errors in resource files fix it. Remove <code>import android.R</code> and cleand and build your project."},{"owner":{"account_id":4594193,"reputation":27,"user_id":3726747,"display_name":"user3726747"},"score":0,"creation_date":1402421135,"post_id":24146885,"comment_id":37262647,"body_markdown":"I checked all the files, everything is fine, the only problem is in the Main_Activity(Which named just as &#39;java&#39; is the start while creating the project)...","body":"I checked all the files, everything is fine, the only problem is in the Main_Activity(Which named just as &#39;java&#39; is the start while creating the project)..."}],"answers":[{"tags":[],"owner":{"account_id":126262,"reputation":39126,"user_id":322642,"accept_rate":73,"display_name":"ligi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1402422675,"creation_date":1402422675,"answer_id":24147712,"question_id":24146885,"body_markdown":"the R gets red when there is a problem generating this file. This can e.g. happen when you have mistakes in your grade-files. I would suggest to open a console in the path of your project and type:\r\n\r\n    gradle clean build\r\n\r\nthis should show you the root-cause - and if this works out fine then the red should be gone ( you might have to sync )","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>the R gets red when there is a problem generating this file. This can e.g. happen when you have mistakes in your grade-files. I would suggest to open a console in the path of your project and type:</p>\n\n<pre><code>gradle clean build\n</code></pre>\n\n<p>this should show you the root-cause - and if this works out fine then the red should be gone ( you might have to sync )</p>\n"},{"tags":[],"owner":{"account_id":5219264,"reputation":6043,"user_id":4173238,"accept_rate":75,"display_name":"bastami82"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444671918,"creation_date":1444671918,"answer_id":33087178,"question_id":24146885,"body_markdown":"do not fiddle with any code , this &quot;R getting red&quot; issue is very common(and all is to do with gradle), I had it a lot in the past but with new gradle and sdk it is much less nowadays, but for anyone has the same issue do as follow hope it will work for you too,\r\n\r\nThis worked for me:\r\n\r\n 1. Close and reopen project\r\n 2. Press &quot; Sync Project with Gradle file &quot; (is next to AVD manager icon\r\n    in top menu)\r\n\r\nrepeat 1-2 if Gradle could not Sync for first time. (mine worked in second time).\r\n\r\nsource, https://stackoverflow.com/a/31127514/4173238\r\n","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>do not fiddle with any code , this \"R getting red\" issue is very common(and all is to do with gradle), I had it a lot in the past but with new gradle and sdk it is much less nowadays, but for anyone has the same issue do as follow hope it will work for you too,</p>\n\n<p>This worked for me:</p>\n\n<ol>\n<li>Close and reopen project</li>\n<li>Press \" Sync Project with Gradle file \" (is next to AVD manager icon\nin top menu)</li>\n</ol>\n\n<p>repeat 1-2 if Gradle could not Sync for first time. (mine worked in second time).</p>\n\n<p>source, <a href=\"https://stackoverflow.com/a/31127514/4173238\">https://stackoverflow.com/a/31127514/4173238</a></p>\n"},{"tags":[],"owner":{"display_name":"user6460587"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477065602,"creation_date":1477065602,"answer_id":40181008,"question_id":24146885,"body_markdown":"You can rebuild the project by going to build -&gt; rebuild. If that doesn&#39;t work, make sure that the names of all assets are lowercase. That really got me, because it prevents the rebuild.","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>You can rebuild the project by going to build -> rebuild. If that doesn't work, make sure that the names of all assets are lowercase. That really got me, because it prevents the rebuild.</p>\n"},{"tags":[],"owner":{"account_id":7921811,"reputation":1,"user_id":5982566,"display_name":"Dina Mansour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480565095,"creation_date":1480559194,"answer_id":40901640,"question_id":24146885,"body_markdown":"This seems to be a problem for Gradle settings, check your Gradle configuration in the `build.gradle` file \r\nAlso make sure to go to \r\n\r\n**Preferences-&gt; Build,Execution and Deployment -&gt; Gradle -&gt; use gradle default wrapper** \r\n\r\nThen, Clean and Rebuild your project","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>This seems to be a problem for Gradle settings, check your Gradle configuration in the <code>build.gradle</code> file \nAlso make sure to go to </p>\n\n<p><strong>Preferences-> Build,Execution and Deployment -> Gradle -> use gradle default wrapper</strong> </p>\n\n<p>Then, Clean and Rebuild your project</p>\n"},{"tags":[],"owner":{"account_id":7611420,"reputation":29,"user_id":5772137,"display_name":"Rachit Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554279384,"creation_date":1554277310,"answer_id":55489630,"question_id":24146885,"body_markdown":"Just update your Gradle version \r\n\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:3.1.2&#39;  \r\n    }","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>Just update your Gradle version </p>\n\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:3.1.2'  \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21674920,"reputation":11,"user_id":15992046,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674478563,"creation_date":1674478314,"answer_id":75209796,"question_id":24146885,"body_markdown":"Make sure you added the package name in the Android ***Manifest file***\r\n\r\nStep 1:\r\n`&lt;manifest ... package=&quot;your.package.name&quot;&gt;\r\n.....\r\n.....\r\n.....\r\n&lt;/manifest&gt;`\r\n\r\nStep 2:\r\nMake sure you have the same sdk version in [build.gradle::app]\r\n\r\ncompileSdkVersion 30\r\n\r\nbuildToolsVersion &#39;30.0.3&#39;","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>Make sure you added the package name in the Android <em><strong>Manifest file</strong></em></p>\n<p>Step 1:\n<code>&lt;manifest ... package=&quot;your.package.name&quot;&gt; ..... ..... ..... &lt;/manifest&gt;</code></p>\n<p>Step 2:\nMake sure you have the same sdk version in [build.gradle::app]</p>\n<p>compileSdkVersion 30</p>\n<p>buildToolsVersion '30.0.3'</p>\n"}],"owner":{"account_id":4594193,"reputation":27,"user_id":3726747,"display_name":"user3726747"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7035,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":6,"score":2,"last_activity_date":1674478563,"creation_date":1402419731,"question_id":24146885,"body_markdown":"I just finished  my app, and when I try to save it as an APK, this error\r\nappears, all the &#39;R&#39;s in the code turned red.\r\nThis is not the first time it happens.\r\nHow do I fix it?\r\n\r\n \r\n1. This are all the line with errors in the code, all the R. are in red.:\r\n\r\n        setContentView(R.layout.dise);\r\n        final EditText e=(EditText)findViewById(R.id.escribiraqui);\r\n        TextView T=(TextView)findViewById(R.id.traduccion);\r\n        Button TRAD=(Button) findViewById(R.id.traducir);\r\n        getMenuInflater().inflate(R.menu.java, menu);\r\n        if (id == R.id.action_settings) {\r\n\r\n\r\n2. I tried importing android.R, and now the R isn&#39;t red anymore, now the error\r\nis after the R.id... or R.layout... or R.menu...\r\nAll my variables are in red now, with the same error:\r\n\r\n    &quot;cannot resolve symbol &#39;dise&#39;&quot;, etc.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n3.I just did `alt+Enter` on the R, then clicked on Create a class &#39;R&#39;...\r\nThe error disappeared, is this correct or it could lead to another error?","title":"&#39;cannot resolve symbol R&#39; in Android Studio","body":"<p>I just finished  my app, and when I try to save it as an APK, this error\nappears, all the 'R's in the code turned red.\nThis is not the first time it happens.\nHow do I fix it?</p>\n\n<ol>\n<li><p>This are all the line with errors in the code, all the R. are in red.:</p>\n\n<pre><code>setContentView(R.layout.dise);\nfinal EditText e=(EditText)findViewById(R.id.escribiraqui);\nTextView T=(TextView)findViewById(R.id.traduccion);\nButton TRAD=(Button) findViewById(R.id.traducir);\ngetMenuInflater().inflate(R.menu.java, menu);\nif (id == R.id.action_settings) {\n</code></pre></li>\n<li><p>I tried importing android.R, and now the R isn't red anymore, now the error\nis after the R.id... or R.layout... or R.menu...\nAll my variables are in red now, with the same error:</p>\n\n<p>\"cannot resolve symbol 'dise'\", etc.</p></li>\n</ol>\n\n<p>3.I just did <code>alt+Enter</code> on the R, then clicked on Create a class 'R'...\nThe error disappeared, is this correct or it could lead to another error?</p>\n"},{"tags":["java","web-services","soap","xsd","wsdl"],"owner":{"account_id":12892395,"reputation":131,"user_id":9323939,"display_name":"kruzexx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674478319,"creation_date":1674478319,"question_id":75209798,"body_markdown":"There is a remote SOAP webservice. In the SomeService.wsdl file published on the server there is an import statement:  \r\n```xml\r\n&lt;xs:import namespace=&quot;http://www.someserver.com/someschema/v1&quot; schemaLocation=&quot;xsd/something.xsd&quot;/&gt;\r\n```\r\n\r\nI generated clients from Apache CXF. When I try to connect with the client..\r\n```java\r\nSomeService service = new SomeService(new URL(&quot;http://someserver.com/ws/someservice&quot;));\r\n```\r\n.. then the client code parses the wsdl and gets to the point where it tries to load the xsd but since it is referenced as `xsd/something.xsd` it tries to find it on the local machine where the client runs and I get an exception:\r\n```text\r\njava.io.FileNotFoundException: /home/myuser/Projects/SomeProject/build/classes/java/main/xsd/something.xsd (No such file or directory)\r\n```\r\n\r\nI have no access to the remote server. I&#39;m expected to solve this from the client side. I&#39;ve read several articles and books and forum posts and I have no clue how to resolve this.  \r\n\r\n**Question:** What am I supposed to do with this? Can I resolve this from the client side?","title":"Published SOAP service wsdl has xsd import pointing to file system which results in client creation failure","body":"<p>There is a remote SOAP webservice. In the SomeService.wsdl file published on the server there is an import statement:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;xs:import namespace=&quot;http://www.someserver.com/someschema/v1&quot; schemaLocation=&quot;xsd/something.xsd&quot;/&gt;\n</code></pre>\n<p>I generated clients from Apache CXF. When I try to connect with the client..</p>\n<pre class=\"lang-java prettyprint-override\"><code>SomeService service = new SomeService(new URL(&quot;http://someserver.com/ws/someservice&quot;));\n</code></pre>\n<p>.. then the client code parses the wsdl and gets to the point where it tries to load the xsd but since it is referenced as <code>xsd/something.xsd</code> it tries to find it on the local machine where the client runs and I get an exception:</p>\n<pre><code>java.io.FileNotFoundException: /home/myuser/Projects/SomeProject/build/classes/java/main/xsd/something.xsd (No such file or directory)\n</code></pre>\n<p>I have no access to the remote server. I'm expected to solve this from the client side. I've read several articles and books and forum posts and I have no clue how to resolve this.</p>\n<p><strong>Question:</strong> What am I supposed to do with this? Can I resolve this from the client side?</p>\n"},{"tags":["java","performance","tostring"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1674477729,"post_id":75209630,"comment_id":132715316,"body_markdown":"If you&#39;re asking if there&#39;s a performance difference between calling toString implicitly and explicitly, the answer is no.  If you&#39;re asking whether doing extra work in toString() will cause it to use more clock cycles, of course it will.  Whether that makes any difference in your particular situation is unknowable in a Stack Overflow question.","body":"If you&#39;re asking if there&#39;s a performance difference between calling toString implicitly and explicitly, the answer is no.  If you&#39;re asking whether doing extra work in toString() will cause it to use more clock cycles, of course it will.  Whether that makes any difference in your particular situation is unknowable in a Stack Overflow question."},{"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"score":0,"creation_date":1674477803,"post_id":75209630,"comment_id":132715332,"body_markdown":"the question is about whether `toString()` might get called by something outside of my java code","body":"the question is about whether <code>toString()</code> might get called by something outside of my java code"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":1,"creation_date":1674477804,"post_id":75209630,"comment_id":132715333,"body_markdown":"Your title says &quot;explicitly&quot; and your question body says &quot;explicitly *or implicitly*&quot;. What scenarios do you actually mean to specify by these qualifiers?","body":"Your title says &quot;explicitly&quot; and your question body says &quot;explicitly <i>or implicitly</i>&quot;. What scenarios do you actually mean to specify by these qualifiers?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1674477815,"post_id":75209630,"comment_id":132715338,"body_markdown":"The only &quot;magic&quot; invocation of `toString()` that I can think of is when using a debugger, and even then it tends to be limited to items you view in the values view. And it shouldn&#39;t ever impact production environments. Unless you somehow call `toString()` in logging (even when log level is disabled), you should be fine.","body":"The only &quot;magic&quot; invocation of <code>toString()</code> that I can think of is when using a debugger, and even then it tends to be limited to items you view in the values view. And it shouldn&#39;t ever impact production environments. Unless you somehow call <code>toString()</code> in logging (even when log level is disabled), you should be fine."},{"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"score":0,"creation_date":1674477958,"post_id":75209630,"comment_id":132715400,"body_markdown":"I do call `toString()` in logging with debug level but I wrap that into `if (LOG.isDebugEnabled())`; but still, the question is whether something else than my code might be calling `toString()`","body":"I do call <code>toString()</code> in logging with debug level but I wrap that into <code>if (LOG.isDebugEnabled())</code>; but still, the question is whether something else than my code might be calling <code>toString()</code>"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674477984,"creation_date":1674477984,"answer_id":75209739,"question_id":75209630,"body_markdown":"`toString()` is called whenever an object needs to be converted to a string. There are cases where it&#39;s implicit. To name a few:\r\n\r\n* Concatenating the object to a string (`&quot;hello &quot; + object`)\r\n* Appending the object to a `StringBuilder` or `StringBuffer`\r\n* Calling `System.out.println(object)`\r\n* Using the object in message interpolation, like `System.out.printf`, `String.format`, but also in logging like `LOGGER.debug(&quot;Hello {}&quot;, object)`\r\n\r\nI&#39;m guessing that you&#39;re using something like the latter - `LOGGER.debug(&quot;Hello {}&quot;, object)`. The good news is that any properly written logging framework will only perform interpolation if the given level is enabled. In this example, if the logger is using level `INFO` or higher, the interpolation is skipped. Some frameworks like SLF4J even have overloads for 1 or 2 arguments to prevent creating an array to handle the varargs call.\r\n\r\nIn case the arguments to the logger are dynamic, you can still prevent unnecessarily calculating them. The following two are mostly identical:\r\n```\r\nLOGGER.debug(&quot;Hello {}&quot;, object);\r\n```\r\n```\r\nif (LOGGER.isDebugEnabled()) {\r\n    LOGGER.debug(&quot;Hello {}&quot;, object.toString());\r\n}\r\n```","title":"Is java&#39;s toString() evaluated if you don&#39;t call it in your code?","body":"<p><code>toString()</code> is called whenever an object needs to be converted to a string. There are cases where it's implicit. To name a few:</p>\n<ul>\n<li>Concatenating the object to a string (<code>&quot;hello &quot; + object</code>)</li>\n<li>Appending the object to a <code>StringBuilder</code> or <code>StringBuffer</code></li>\n<li>Calling <code>System.out.println(object)</code></li>\n<li>Using the object in message interpolation, like <code>System.out.printf</code>, <code>String.format</code>, but also in logging like <code>LOGGER.debug(&quot;Hello {}&quot;, object)</code></li>\n</ul>\n<p>I'm guessing that you're using something like the latter - <code>LOGGER.debug(&quot;Hello {}&quot;, object)</code>. The good news is that any properly written logging framework will only perform interpolation if the given level is enabled. In this example, if the logger is using level <code>INFO</code> or higher, the interpolation is skipped. Some frameworks like SLF4J even have overloads for 1 or 2 arguments to prevent creating an array to handle the varargs call.</p>\n<p>In case the arguments to the logger are dynamic, you can still prevent unnecessarily calculating them. The following two are mostly identical:</p>\n<pre><code>LOGGER.debug(&quot;Hello {}&quot;, object);\n</code></pre>\n<pre><code>if (LOGGER.isDebugEnabled()) {\n    LOGGER.debug(&quot;Hello {}&quot;, object.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674478029,"creation_date":1674478029,"answer_id":75209751,"question_id":75209630,"body_markdown":"There&#39;s really no magic about `toString()`, it&#39;s never &quot;magically&quot; invoked. However, given that it&#39;s a method on `java.lang.Object`  calls to it can be hidden in many places (and if you worry about `MyExpensiveClass.toString()` then you might have to inspect all call sites to `Object.toString()`).\r\n\r\nThe most common source of calling `toString()` is logging (or its simpler smaller brother `System.out.println`):\r\n\r\nIt&#39;s very easy to &quot;accidentally&quot; call `toString` on an object, even if it&#39;s not neded. If you had a hypothetical `Logger.debug(myExpensiveObject)` call, then the log framework *could* (and usually does) avoid calling `toString` if its not actually logging at `DEBUG` level.\r\n\r\n**However** if you do the very similar `Logger.debug(&quot;something is &quot; + myExpensiveObject)` then the logging framework **can not** stop the `toString` method being called, because that happens *before* you even call the method.\r\n\r\nSo to summarize: no *magic* invocation of `toString()` will happen, but the non-magic ones can be hidden in plain sight.","title":"Is java&#39;s toString() evaluated if you don&#39;t call it in your code?","body":"<p>There's really no magic about <code>toString()</code>, it's never &quot;magically&quot; invoked. However, given that it's a method on <code>java.lang.Object</code>  calls to it can be hidden in many places (and if you worry about <code>MyExpensiveClass.toString()</code> then you might have to inspect all call sites to <code>Object.toString()</code>).</p>\n<p>The most common source of calling <code>toString()</code> is logging (or its simpler smaller brother <code>System.out.println</code>):</p>\n<p>It's very easy to &quot;accidentally&quot; call <code>toString</code> on an object, even if it's not neded. If you had a hypothetical <code>Logger.debug(myExpensiveObject)</code> call, then the log framework <em>could</em> (and usually does) avoid calling <code>toString</code> if its not actually logging at <code>DEBUG</code> level.</p>\n<p><strong>However</strong> if you do the very similar <code>Logger.debug(&quot;something is &quot; + myExpensiveObject)</code> then the logging framework <strong>can not</strong> stop the <code>toString</code> method being called, because that happens <em>before</em> you even call the method.</p>\n<p>So to summarize: no <em>magic</em> invocation of <code>toString()</code> will happen, but the non-magic ones can be hidden in plain sight.</p>\n"},{"tags":[],"owner":{"account_id":179840,"reputation":22133,"user_id":412763,"accept_rate":91,"display_name":"Petter Nordlander"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1674478122,"creation_date":1674478122,"answer_id":75209769,"question_id":75209630,"body_markdown":"Not likely but given you state &quot;JVM Internals&quot; or &quot;Frameworks&quot; and not exactly which JVM implementations or what framework, it&#39;s hard to give guarantees.\r\n\r\nA way is to find out if you have any implicit or under the hood calls by doing something nasty in the toString, like crashing, exception, logg, exit or Thread.sleep(10000) and make a test run to see if your application hits the toString. If not, there should be no performance implications since even if there is an odd case of something calling toString, it shouldn&#39;t be in the hot path.","title":"Is java&#39;s toString() evaluated if you don&#39;t call it in your code?","body":"<p>Not likely but given you state &quot;JVM Internals&quot; or &quot;Frameworks&quot; and not exactly which JVM implementations or what framework, it's hard to give guarantees.</p>\n<p>A way is to find out if you have any implicit or under the hood calls by doing something nasty in the toString, like crashing, exception, logg, exit or Thread.sleep(10000) and make a test run to see if your application hits the toString. If not, there should be no performance implications since even if there is an odd case of something calling toString, it shouldn't be in the hot path.</p>\n"}],"owner":{"account_id":64856,"reputation":29696,"user_id":191246,"accept_rate":77,"display_name":"ccpizza"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1674484260,"accepted_answer_id":75209769,"answer_count":3,"score":-1,"last_activity_date":1674478275,"creation_date":1674477492,"question_id":75209630,"body_markdown":"If you never explicitly or implicitly call a `toString()` method in your java code is there a chance it might still be evaluated by some JVM internals (or frameworks)?\r\n\r\nThe reason for asking is to understand if doing extra work in the `toString()` method of a class might have any performance impact.\r\n\r\nThe underlying use case for having the `toString()` is to make debugging and logging more comfortable, i.e. the method is only used with `DEBUG` logging level for diagnostic purposes but not in regular production mode.","title":"Is java&#39;s toString() evaluated if you don&#39;t call it in your code?","body":"<p>If you never explicitly or implicitly call a <code>toString()</code> method in your java code is there a chance it might still be evaluated by some JVM internals (or frameworks)?</p>\n<p>The reason for asking is to understand if doing extra work in the <code>toString()</code> method of a class might have any performance impact.</p>\n<p>The underlying use case for having the <code>toString()</code> is to make debugging and logging more comfortable, i.e. the method is only used with <code>DEBUG</code> logging level for diagnostic purposes but not in regular production mode.</p>\n"},{"tags":["java","json","objectmapper"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674477077,"creation_date":1674477077,"answer_id":75209542,"question_id":75209271,"body_markdown":"Property names in json start with uppercase - `Risk`, etc. Fields in POJO start with lowercase - `risk`, so they can&#39;t be matched automatically. You can either:\r\n\r\n 1. Change them in json to be lowercase\r\n 2. Use annotation [JsonProperty][1] on the fields to specify the name of the property to match for this field.\r\n```\r\npublic class RiskClass {\r\n\r\n  @JsonProperty(&quot;Risk&quot;)\r\n  String risk;\r\n}\r\n```\r\n\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonProperty.html","title":"ObjectMapper returns null value on date field","body":"<p>Property names in json start with uppercase - <code>Risk</code>, etc. Fields in POJO start with lowercase - <code>risk</code>, so they can't be matched automatically. You can either:</p>\n<ol>\n<li>Change them in json to be lowercase</li>\n<li>Use annotation <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonProperty.html\" rel=\"nofollow noreferrer\">JsonProperty</a> on the fields to specify the name of the property to match for this field.</li>\n</ol>\n<pre><code>public class RiskClass {\n\n  @JsonProperty(&quot;Risk&quot;)\n  String risk;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1674478268,"creation_date":1674477550,"answer_id":75209643,"question_id":75209271,"body_markdown":"Add an annotation over your property `lastDefaultDate`:&lt;br&gt;\r\n \r\n\r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\r\n        LocalDateTime lastDefaultDate;\r\n\r\nAlso change type `Date` to `LocalDateTime` as Date type is outdated (pun intended). For more details look at this question and its best answer: [Spring Data JPA - ZonedDateTime format for json serialization][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization","title":"ObjectMapper returns null value on date field","body":"<p>Add an annotation over your property <code>lastDefaultDate</code>:<br></p>\n<pre><code>    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd HH:mm:ss&quot;)\n    LocalDateTime lastDefaultDate;\n</code></pre>\n<p>Also change type <code>Date</code> to <code>LocalDateTime</code> as Date type is outdated (pun intended). For more details look at this question and its best answer: <a href=\"https://stackoverflow.com/questions/31627992/spring-data-jpa-zoneddatetime-format-for-json-serialization\">Spring Data JPA - ZonedDateTime format for json serialization</a></p>\n"}],"owner":{"account_id":3242692,"reputation":10516,"user_id":2735275,"accept_rate":45,"display_name":"Aditya Sethi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1674480742,"accepted_answer_id":75209643,"answer_count":2,"score":-1,"last_activity_date":1674478268,"creation_date":1674475660,"question_id":75209271,"body_markdown":"My data is as below and saved in test folder with name risk.json\r\n```\r\n[{\r\n    &quot;Risk&quot;: &quot;BN&quot;,\r\n    &quot;Classification&quot;: null,\r\n    &quot;LastDefaultDate&quot;: &quot;1915-04-14 00:00:00&quot;\r\n  }]\r\n```\r\n\r\nI have RiskClass defined as below\r\n```\r\n@Data\r\n@JsonIgnoreProperties({&quot;document&quot;})\r\npublic class RiskClass implements KeyedObject {\r\n\r\n    String risk;\r\n    String classification;\r\n    Date lastDefaultDate;\r\n\r\n    @Override\r\n    public String getKey() {\r\n        return risk;\r\n    }\r\n}\r\n```\r\n\r\nIn my data prepare class i am trying to populate one of the map by doing below\r\n```\r\nList&lt;RiskClass&gt; rList = ObjectUtils.jsonStringToObjList(readFileAsString(&quot;test&quot;, &quot;risk.json&quot;), RiskClass.class);\r\nMap&lt;String, RiskClass&gt; riskMapLocal = new HashMap&lt;&gt;();\r\nfor (RiskClass rMap : rList) {\r\n    riskMapLocal.put(rMap.getRisk(), rMap);\r\n}\r\n```\r\n\r\nnow when i try to print riskMapLocal, under lastDefaultDate i get null value.\r\n","title":"ObjectMapper returns null value on date field","body":"<p>My data is as below and saved in test folder with name risk.json</p>\n<pre><code>[{\n    &quot;Risk&quot;: &quot;BN&quot;,\n    &quot;Classification&quot;: null,\n    &quot;LastDefaultDate&quot;: &quot;1915-04-14 00:00:00&quot;\n  }]\n</code></pre>\n<p>I have RiskClass defined as below</p>\n<pre><code>@Data\n@JsonIgnoreProperties({&quot;document&quot;})\npublic class RiskClass implements KeyedObject {\n\n    String risk;\n    String classification;\n    Date lastDefaultDate;\n\n    @Override\n    public String getKey() {\n        return risk;\n    }\n}\n</code></pre>\n<p>In my data prepare class i am trying to populate one of the map by doing below</p>\n<pre><code>List&lt;RiskClass&gt; rList = ObjectUtils.jsonStringToObjList(readFileAsString(&quot;test&quot;, &quot;risk.json&quot;), RiskClass.class);\nMap&lt;String, RiskClass&gt; riskMapLocal = new HashMap&lt;&gt;();\nfor (RiskClass rMap : rList) {\n    riskMapLocal.put(rMap.getRisk(), rMap);\n}\n</code></pre>\n<p>now when i try to print riskMapLocal, under lastDefaultDate i get null value.</p>\n"},{"tags":["java","spring","spring-boot","logging","logback"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674478395,"post_id":75209707,"comment_id":132715548,"body_markdown":"I think you need `logging.level.org.hibernate.type=TRACE` as well for values","body":"I think you need <code>logging.level.org.hibernate.type=TRACE</code> as well for values"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":2,"creation_date":1674478421,"post_id":75209707,"comment_id":132715563,"body_markdown":"Hibernate team have moved `org.hibernate.type.descriptor.sql.BasicBinder` to another package, now I believe the correct configuration is `logging.level.org.hibernate.orm.jdbc.bind=TRACE`. Please also check https://docs.jboss.org/hibernate/orm/6.1/logging/logging.html","body":"Hibernate team have moved <code>org.hibernate.type.descriptor.sql.BasicBinder</code> to another package, now I believe the correct configuration is <code>logging.level.org.hibernate.orm.jdbc.bind=TRACE</code>. Please also check <a href=\"https://docs.jboss.org/hibernate/orm/6.1/logging/logging.html\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.1/logging/logging.html</a>"},{"owner":{"account_id":9999928,"reputation":143,"user_id":7396271,"display_name":"Abdou"},"score":0,"creation_date":1674478539,"post_id":75209707,"comment_id":132715601,"body_markdown":"it worked ! logging.level.org.hibernate.orm.jdbc.bind=TRACE fixed it @AndreyB.Panfilov\nput it in an answer pls, i&#39;ll accept it right away","body":"it worked ! logging.level.org.hibernate.orm.jdbc.bind=TRACE fixed it @AndreyB.Panfilov put it in an answer pls, i&#39;ll accept it right away"}],"owner":{"account_id":9999928,"reputation":143,"user_id":7396271,"display_name":"Abdou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674477851,"creation_date":1674477851,"question_id":75209707,"body_markdown":"I have read [this article][1] and googled a bit and came up with this `application.properties` file : \r\n\r\n    spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/erp\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    \r\n    spring.jpa.hibernate.ddl-auto = create\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    \r\n    # Default exception handling\r\n    server.error.include-message=always\r\n    \r\n    logging.level.org.hibernate.SQL=DEBUG\r\n    logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\r\n    logging.pattern.console=%clr(%d{yy-MM-dd E HH:mm:ss.SSS}){blue} %clr(%-5p) %clr(${PID}){faint} %clr(---){faint} %clr([%8.15t]){cyan} %clr(%-40.40logger{0}){blue} %clr(:){red} %clr(%m){faint}%n\r\n\r\n## The Problem\r\nI have is that my sql queries are shown but the binding parameter are still hidden &quot;?&quot;.\r\n\r\ni also noticed that even tho i have `logging.level.org.hibernate.type.descriptor.sql.BasicBinder`&#39;s loggin set to `trace` the lowest level i&#39;ve seen is DEBUG, here is what my logs look like when i start the app : \r\n\r\n    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::                (v3.0.1)\r\n    \r\n    23-01-23 Mon 13:39:56.320 INFO  7900 --- [    main] ErpApplication                           : Starting ErpApplication using Java 17.0.1 with PID 7900 (G:\\Workspaces\\ERP-SYSTEM\\ERP\\target\\classes started by DEV-ABDOU in G:\\Workspaces\\ERP-SYSTEM\\ERP)\r\n    23-01-23 Mon 13:39:56.337 INFO  7900 --- [    main] ErpApplication                           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    23-01-23 Mon 13:39:56.786 INFO  7900 --- [    main] RepositoryConfigurationDelegate          : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    23-01-23 Mon 13:39:56.827 INFO  7900 --- [    main] RepositoryConfigurationDelegate          : Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.\r\n    23-01-23 Mon 13:39:57.200 INFO  7900 --- [    main] TomcatWebServer                          : Tomcat initialized with port(s): 8080 (http)\r\n    23-01-23 Mon 13:39:57.217 INFO  7900 --- [    main] StandardService                          : Starting service [Tomcat]\r\n    23-01-23 Mon 13:39:57.218 INFO  7900 --- [    main] StandardEngine                           : Starting Servlet engine: [Apache Tomcat/10.1.4]\r\n    23-01-23 Mon 13:39:57.295 INFO  7900 --- [    main] [/]                                      : Initializing Spring embedded WebApplicationContext\r\n    23-01-23 Mon 13:39:57.295 INFO  7900 --- [    main] ServletWebServerApplicationContext       : Root WebApplicationContext: initialization completed in 928 ms\r\n    23-01-23 Mon 13:39:57.397 INFO  7900 --- [    main] LogHelper                                : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    23-01-23 Mon 13:39:57.434 INFO  7900 --- [    main] Version                                  : HHH000412: Hibernate ORM core version 6.1.6.Final\r\n    23-01-23 Mon 13:39:57.553 WARN  7900 --- [    main] deprecation                              : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\r\n    23-01-23 Mon 13:39:57.637 INFO  7900 --- [    main] HikariDataSource                         : HikariPool-1 - Starting...\r\n    23-01-23 Mon 13:39:57.868 INFO  7900 --- [    main] HikariPool                               : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@101c15ad\r\n    23-01-23 Mon 13:39:57.870 INFO  7900 --- [    main] HikariDataSource                         : HikariPool-1 - Start completed.\r\n    23-01-23 Mon 13:39:57.914 INFO  7900 --- [    main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\r\n    23-01-23 Mon 13:39:58.514 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles drop foreign key FKoapb2199m0cu5gdwiy4xibqqu\r\n    23-01-23 Mon 13:39:58.529 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles drop foreign key FKolk7a861hdu0lghxspabptiqj\r\n    23-01-23 Mon 13:39:58.536 DEBUG 7900 --- [    main] SQL                                      : drop table if exists roles\r\n    23-01-23 Mon 13:39:58.545 DEBUG 7900 --- [    main] SQL                                      : drop table if exists users\r\n    23-01-23 Mon 13:39:58.556 DEBUG 7900 --- [    main] SQL                                      : drop table if exists users_to_roles\r\n    23-01-23 Mon 13:39:58.569 DEBUG 7900 --- [    main] SQL                                      : create table roles (id bigint not null auto_increment, name varchar(255), primary key (id)) engine=InnoDB\r\n    23-01-23 Mon 13:39:58.582 DEBUG 7900 --- [    main] SQL                                      : create table users (id bigint not null auto_increment, email varchar(255), password varchar(255), username varchar(255), primary key (id)) engine=InnoDB\r\n    23-01-23 Mon 13:39:58.594 DEBUG 7900 --- [    main] SQL                                      : create table users_to_roles (user_id bigint not null, role_id bigint not null, primary key (user_id, role_id)) engine=InnoDB\r\n    23-01-23 Mon 13:39:58.605 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles add constraint FKoapb2199m0cu5gdwiy4xibqqu foreign key (role_id) references roles (id)\r\n    23-01-23 Mon 13:39:58.647 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles add constraint FKolk7a861hdu0lghxspabptiqj foreign key (user_id) references users (id)\r\n    23-01-23 Mon 13:39:58.687 INFO  7900 --- [    main] JtaPlatformInitiator                     : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    23-01-23 Mon 13:39:58.695 INFO  7900 --- [    main] LocalContainerEntityManagerFactoryBean   : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    23-01-23 Mon 13:39:58.981 WARN  7900 --- [    main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    23-01-23 Mon 13:39:59.149 INFO  7900 --- [    main] DefaultSecurityFilterChain               : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@47629063, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d67e3d3, org.springframework.security.web.context.SecurityContextHolderFilter@209d0037, org.springframework.security.web.header.HeaderWriterFilter@5f6ba085, org.springframework.web.filter.CorsFilter@14af57c3, org.springframework.security.web.authentication.logout.LogoutFilter@758ac46, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b39bee2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b7dd173, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@795949fb, org.springframework.security.web.access.ExceptionTranslationFilter@6c569caf, org.springframework.security.web.access.intercept.AuthorizationFilter@30d944d8]\r\n    23-01-23 Mon 13:39:59.325 INFO  7900 --- [    main] TomcatWebServer                          : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    23-01-23 Mon 13:39:59.331 INFO  7900 --- [    main] ErpApplication                           : Started ErpApplication in 3.286 seconds (process running for 3.916)\r\n    23-01-23 Mon 13:39:59.419 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\r\n    23-01-23 Mon 13:39:59.451 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\r\n    23-01-23 Mon 13:39:59.462 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\r\n    23-01-23 Mon 13:39:59.463 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\r\n    23-01-23 Mon 13:39:59.467 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\r\n    23-01-23 Mon 13:39:59.468 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\r\n\r\nI didn&#39;t modify the logback config ( created my own logback.properties or logback-spring.properties ) i&#39;m using what ever default config spring boot comes with.\r\n\r\n\r\n  [1]: https://thorben-janssen.com/hibernate-tips-how-to-log-sql-statements-and-their-parameters/","title":"SQL statement&#39;s parameters not logged in console - spring boot v3 app","body":"<p>I have read <a href=\"https://thorben-janssen.com/hibernate-tips-how-to-log-sql-statements-and-their-parameters/\" rel=\"nofollow noreferrer\">this article</a> and googled a bit and came up with this <code>application.properties</code> file :</p>\n<pre><code>spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/erp\nspring.datasource.username=root\nspring.datasource.password=root\n\nspring.jpa.hibernate.ddl-auto = create\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\n\n# Default exception handling\nserver.error.include-message=always\n\nlogging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE\nlogging.pattern.console=%clr(%d{yy-MM-dd E HH:mm:ss.SSS}){blue} %clr(%-5p) %clr(${PID}){faint} %clr(---){faint} %clr([%8.15t]){cyan} %clr(%-40.40logger{0}){blue} %clr(:){red} %clr(%m){faint}%n\n</code></pre>\n<h2>The Problem</h2>\n<p>I have is that my sql queries are shown but the binding parameter are still hidden &quot;?&quot;.</p>\n<p>i also noticed that even tho i have <code>logging.level.org.hibernate.type.descriptor.sql.BasicBinder</code>'s loggin set to <code>trace</code> the lowest level i've seen is DEBUG, here is what my logs look like when i start the app :</p>\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::                (v3.0.1)\n\n23-01-23 Mon 13:39:56.320 INFO  7900 --- [    main] ErpApplication                           : Starting ErpApplication using Java 17.0.1 with PID 7900 (G:\\Workspaces\\ERP-SYSTEM\\ERP\\target\\classes started by DEV-ABDOU in G:\\Workspaces\\ERP-SYSTEM\\ERP)\n23-01-23 Mon 13:39:56.337 INFO  7900 --- [    main] ErpApplication                           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n23-01-23 Mon 13:39:56.786 INFO  7900 --- [    main] RepositoryConfigurationDelegate          : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n23-01-23 Mon 13:39:56.827 INFO  7900 --- [    main] RepositoryConfigurationDelegate          : Finished Spring Data repository scanning in 36 ms. Found 2 JPA repository interfaces.\n23-01-23 Mon 13:39:57.200 INFO  7900 --- [    main] TomcatWebServer                          : Tomcat initialized with port(s): 8080 (http)\n23-01-23 Mon 13:39:57.217 INFO  7900 --- [    main] StandardService                          : Starting service [Tomcat]\n23-01-23 Mon 13:39:57.218 INFO  7900 --- [    main] StandardEngine                           : Starting Servlet engine: [Apache Tomcat/10.1.4]\n23-01-23 Mon 13:39:57.295 INFO  7900 --- [    main] [/]                                      : Initializing Spring embedded WebApplicationContext\n23-01-23 Mon 13:39:57.295 INFO  7900 --- [    main] ServletWebServerApplicationContext       : Root WebApplicationContext: initialization completed in 928 ms\n23-01-23 Mon 13:39:57.397 INFO  7900 --- [    main] LogHelper                                : HHH000204: Processing PersistenceUnitInfo [name: default]\n23-01-23 Mon 13:39:57.434 INFO  7900 --- [    main] Version                                  : HHH000412: Hibernate ORM core version 6.1.6.Final\n23-01-23 Mon 13:39:57.553 WARN  7900 --- [    main] deprecation                              : HHH90000021: Encountered deprecated setting [javax.persistence.sharedCache.mode], use [jakarta.persistence.sharedCache.mode] instead\n23-01-23 Mon 13:39:57.637 INFO  7900 --- [    main] HikariDataSource                         : HikariPool-1 - Starting...\n23-01-23 Mon 13:39:57.868 INFO  7900 --- [    main] HikariPool                               : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@101c15ad\n23-01-23 Mon 13:39:57.870 INFO  7900 --- [    main] HikariDataSource                         : HikariPool-1 - Start completed.\n23-01-23 Mon 13:39:57.914 INFO  7900 --- [    main] SQL dialect                              : HHH000400: Using dialect: org.hibernate.dialect.MySQLDialect\n23-01-23 Mon 13:39:58.514 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles drop foreign key FKoapb2199m0cu5gdwiy4xibqqu\n23-01-23 Mon 13:39:58.529 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles drop foreign key FKolk7a861hdu0lghxspabptiqj\n23-01-23 Mon 13:39:58.536 DEBUG 7900 --- [    main] SQL                                      : drop table if exists roles\n23-01-23 Mon 13:39:58.545 DEBUG 7900 --- [    main] SQL                                      : drop table if exists users\n23-01-23 Mon 13:39:58.556 DEBUG 7900 --- [    main] SQL                                      : drop table if exists users_to_roles\n23-01-23 Mon 13:39:58.569 DEBUG 7900 --- [    main] SQL                                      : create table roles (id bigint not null auto_increment, name varchar(255), primary key (id)) engine=InnoDB\n23-01-23 Mon 13:39:58.582 DEBUG 7900 --- [    main] SQL                                      : create table users (id bigint not null auto_increment, email varchar(255), password varchar(255), username varchar(255), primary key (id)) engine=InnoDB\n23-01-23 Mon 13:39:58.594 DEBUG 7900 --- [    main] SQL                                      : create table users_to_roles (user_id bigint not null, role_id bigint not null, primary key (user_id, role_id)) engine=InnoDB\n23-01-23 Mon 13:39:58.605 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles add constraint FKoapb2199m0cu5gdwiy4xibqqu foreign key (role_id) references roles (id)\n23-01-23 Mon 13:39:58.647 DEBUG 7900 --- [    main] SQL                                      : alter table users_to_roles add constraint FKolk7a861hdu0lghxspabptiqj foreign key (user_id) references users (id)\n23-01-23 Mon 13:39:58.687 INFO  7900 --- [    main] JtaPlatformInitiator                     : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n23-01-23 Mon 13:39:58.695 INFO  7900 --- [    main] LocalContainerEntityManagerFactoryBean   : Initialized JPA EntityManagerFactory for persistence unit 'default'\n23-01-23 Mon 13:39:58.981 WARN  7900 --- [    main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n23-01-23 Mon 13:39:59.149 INFO  7900 --- [    main] DefaultSecurityFilterChain               : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@47629063, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d67e3d3, org.springframework.security.web.context.SecurityContextHolderFilter@209d0037, org.springframework.security.web.header.HeaderWriterFilter@5f6ba085, org.springframework.web.filter.CorsFilter@14af57c3, org.springframework.security.web.authentication.logout.LogoutFilter@758ac46, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b39bee2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b7dd173, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@795949fb, org.springframework.security.web.access.ExceptionTranslationFilter@6c569caf, org.springframework.security.web.access.intercept.AuthorizationFilter@30d944d8]\n23-01-23 Mon 13:39:59.325 INFO  7900 --- [    main] TomcatWebServer                          : Tomcat started on port(s): 8080 (http) with context path ''\n23-01-23 Mon 13:39:59.331 INFO  7900 --- [    main] ErpApplication                           : Started ErpApplication in 3.286 seconds (process running for 3.916)\n23-01-23 Mon 13:39:59.419 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\n23-01-23 Mon 13:39:59.451 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\n23-01-23 Mon 13:39:59.462 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\n23-01-23 Mon 13:39:59.463 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\n23-01-23 Mon 13:39:59.467 DEBUG 7900 --- [    main] SQL                                      : select r1_0.id,r1_0.name from roles r1_0 where r1_0.name=?\n23-01-23 Mon 13:39:59.468 DEBUG 7900 --- [    main] SQL                                      : insert into roles (name) values (?)\n</code></pre>\n<p>I didn't modify the logback config ( created my own logback.properties or logback-spring.properties ) i'm using what ever default config spring boot comes with.</p>\n"},{"tags":["java","android","xml","kotlin"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1674248969,"post_id":75189233,"comment_id":132682119,"body_markdown":"You only have access to files in `Documents/` that your app created. The same holds true for `Downloads/`.","body":"You only have access to files in <code>Documents&#47;</code> that your app created. The same holds true for <code>Downloads&#47;</code>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1674249157,"post_id":75189233,"comment_id":132682147,"body_markdown":"`How to get a list of files that already exist ...` Well what about non existing files? Looks just more interesting ;-)","body":"<code>How to get a list of files that already exist ...</code> Well what about non existing files? Looks just more interesting ;-)"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674482229,"post_id":75189233,"comment_id":132716908,"body_markdown":"The two `ACTION_` prefixed values are NOT permissions, they are the names of actions that launch various settings pages. Requesting them as permissions will do nothing useful.","body":"The two <code>ACTION_</code> prefixed values are NOT permissions, they are the names of actions that launch various settings pages. Requesting them as permissions will do nothing useful."}],"owner":{"account_id":25246559,"reputation":1,"user_id":19079738,"display_name":"Felipe Damaro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674477747,"creation_date":1674247902,"question_id":75189233,"body_markdown":"I&#39;m trying to get a list of files from directories, but I never get the name of files that already exist, it just returns the files I created with my app.\r\n\r\nFor example, inside the Documents folder I have 3 pdf files that I loaded from Android Studio and a test.txt that my app created, but when I run the code to list the files, only test.txt appears.\r\n\r\nI already put the permissions in the Manifest, what do I need to do for it to work?\r\n\r\n```kotlin\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\nimport android.os.Environment\r\nimport java.io.File\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    private val externalStorage: String = Environment.getExternalStorageDirectory().absolutePath\r\n    private val documentsDir: String = Environment.DIRECTORY_DOCUMENTS\r\n    private val documentsPath: String = &quot;$externalStorage/$documentsDir&quot;\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        createFile()\r\n        getFilesList(documentsPath)\r\n    }\r\n\r\n    private fun createFile() {\r\n        val fileName = &quot;test.txt&quot;\r\n        val file = File(documentsPath, fileName)\r\n        file.writeText(&quot;testing file...&quot;)\r\n    }\r\n\r\n    private fun getFilesList(path: String) {\r\n        File(path).walk()\r\n            .forEach {\r\n                println(&quot;WALK: $it&quot;)\r\n            }\r\n    }\r\n}\r\n```\r\n\r\nThe permissions in AndroidManifest.xml\r\n\r\n```xml\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION&quot; /&gt;\r\n```\r\n\r\nThe logs\r\n\r\n```\r\n/com.example.filereaderpoc I/System.out: WALK: /storage/emulated/0/Documents\r\n/com.example.filereaderpoc I/System.out: WALK: /storage/emulated/0/Documents/test.txt\r\n```\r\n\r\nMy directory tree is like:\r\n\r\n```\r\n- DCIM\r\n- Download\r\n- Documents\r\n    test.txt\r\n    test1.pdf\r\n    test2.pdf\r\n    test3.pdf\r\n```\r\n\r\n","title":"How to get a list of files that already exist on the device with Kotlin?","body":"<p>I'm trying to get a list of files from directories, but I never get the name of files that already exist, it just returns the files I created with my app.</p>\n<p>For example, inside the Documents folder I have 3 pdf files that I loaded from Android Studio and a test.txt that my app created, but when I run the code to list the files, only test.txt appears.</p>\n<p>I already put the permissions in the Manifest, what do I need to do for it to work?</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.os.Environment\nimport java.io.File\n\nclass MainActivity : AppCompatActivity() {\n\n    private val externalStorage: String = Environment.getExternalStorageDirectory().absolutePath\n    private val documentsDir: String = Environment.DIRECTORY_DOCUMENTS\n    private val documentsPath: String = &quot;$externalStorage/$documentsDir&quot;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        createFile()\n        getFilesList(documentsPath)\n    }\n\n    private fun createFile() {\n        val fileName = &quot;test.txt&quot;\n        val file = File(documentsPath, fileName)\n        file.writeText(&quot;testing file...&quot;)\n    }\n\n    private fun getFilesList(path: String) {\n        File(path).walk()\n            .forEach {\n                println(&quot;WALK: $it&quot;)\n            }\n    }\n}\n</code></pre>\n<p>The permissions in AndroidManifest.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACTION_MANAGE_APP_ALL_FILES_ACCESS_PERMISSION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION&quot; /&gt;\n</code></pre>\n<p>The logs</p>\n<pre><code>/com.example.filereaderpoc I/System.out: WALK: /storage/emulated/0/Documents\n/com.example.filereaderpoc I/System.out: WALK: /storage/emulated/0/Documents/test.txt\n</code></pre>\n<p>My directory tree is like:</p>\n<pre><code>- DCIM\n- Download\n- Documents\n    test.txt\n    test1.pdf\n    test2.pdf\n    test3.pdf\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674477525,"post_id":75209594,"comment_id":132715247,"body_markdown":"`select i.* from ...` missing star to tell SQL you want all columns","body":"<code>select i.* from ...</code> missing star to tell SQL you want all columns"},{"owner":{"account_id":7035840,"reputation":33810,"user_id":5389997,"display_name":"Shadow"},"score":0,"creation_date":1674477755,"post_id":75209594,"comment_id":132715322,"body_markdown":"@grekier the OP does not manually create the sql statement, it is the ORM that does it.","body":"@grekier the OP does not manually create the sql statement, it is the ORM that does it."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674478275,"post_id":75209594,"comment_id":132715508,"body_markdown":"@Shadow I thought that ORM was bypassed when the query is marked as native=true","body":"@Shadow I thought that ORM was bypassed when the query is marked as native=true"},{"owner":{"account_id":27600197,"reputation":27,"user_id":21065590,"display_name":"Jcoder"},"score":0,"creation_date":1674492117,"post_id":75209594,"comment_id":132720495,"body_markdown":"@grekier In first case when i.* -&gt;  i give exception  Unknown column &#39;i.user.userEmail&#39; in &#39;where clause&#39;","body":"@grekier In first case when i.* -&gt;  i give exception  Unknown column &#39;i.user.userEmail&#39; in &#39;where clause&#39;"},{"owner":{"account_id":27600197,"reputation":27,"user_id":21065590,"display_name":"Jcoder"},"score":0,"creation_date":1674492160,"post_id":75209594,"comment_id":132720509,"body_markdown":"@Shadow In second when i delete query native=true, i give exception EL1011E: Method call: Attempted to call method getInstructorId() on null context object","body":"@Shadow In second when i delete query native=true, i give exception EL1011E: Method call: Attempted to call method getInstructorId() on null context object"},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1674545082,"post_id":75209594,"comment_id":132730884,"body_markdown":"Native means that you need to join the tables yourself: `select i.* from Instructor as i join users as u on u.user_id = i.user_id where u.email = userEmail`. You might need to update a column name but the point is that, when nativeQuery is true, the query should be the same as you would run it in an SQL client (with column names and not variable names from your classes) except for the parameter value you pass to the query.","body":"Native means that you need to join the tables yourself: <code>select i.* from Instructor as i join users as u on u.user_id = i.user_id where u.email = userEmail</code>. You might need to update a column name but the point is that, when nativeQuery is true, the query should be the same as you would run it in an SQL client (with column names and not variable names from your classes) except for the parameter value you pass to the query."},{"owner":{"account_id":27600197,"reputation":27,"user_id":21065590,"display_name":"Jcoder"},"score":0,"creation_date":1674637113,"post_id":75209594,"comment_id":132754655,"body_markdown":"Again the same exception, Unknown column &#39;userEmail&#39; in &#39;where clause&#39;","body":"Again the same exception, Unknown column &#39;userEmail&#39; in &#39;where clause&#39;"}],"owner":{"account_id":27600197,"reputation":27,"user_id":21065590,"display_name":"Jcoder"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674477710,"creation_date":1674477312,"question_id":75209594,"body_markdown":"my problem is next. I have two table. Table1 that name &quot;Instructor&quot; and Table2 that name &quot;User&quot;.\r\nWhen i displaying information in my template, i need retrieve information about user from table Instructor.\r\n\r\nMy entity Instructor join column to users\r\n`@Entity\r\n@Table (name = &quot;Instructor&quot;)\r\npublic class Instructor {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue (strategy = GenerationType.IDENTITY)\r\n\t@Column (name = &quot;instructor_id&quot;, nullable = false)\r\n\tprivate Long instructorId;\r\n\t\r\n\t@Basic\r\n\t@Column (name = &quot;name&quot;, nullable = false, length = 45)\r\n\tprivate String firstName;\r\n\t\r\n\t@Basic\t\r\n\t@Column (name = &quot;lastName&quot;, nullable = false, length = 45)\r\n\tprivate String lastName;\r\n\t\r\n\t@Basic\r\n\t@Column (name = &quot;summary&quot;, nullable = false, length = 45)\r\n\tprivate String instructorSummary;\r\n\t\r\n\t@OneToMany (mappedBy = &quot;instructor&quot;, fetch = FetchType.LAZY)\r\n\tprivate Set &lt;Course&gt; courses = new HashSet&lt;&gt;();\r\n\t\r\n\t@OneToOne (cascade = CascadeType.REMOVE)\r\n\t@JoinColumn (name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;, nullable = false)\r\n\tprivate User user; `\r\n\r\nDao layer when i have Exception \r\n`\r\n@Query (nativeQuery=true, value = &quot;select i from Instructor as i where i.user.userEmail =:userEmail&quot;)\r\n\tInstructor findInstructByuserEmail (@Param (&quot;userEmail&quot;) String userEmail);`\r\n\r\n\r\nUser Entity\r\n\r\n`@Entity\r\n@Table (name = &quot;users&quot;)\r\npublic class User {\r\n\t\r\n\t@Id\r\n\t@GeneratedValue (strategy = GenerationType.IDENTITY)\r\n\t@Column (name = &quot;user_id&quot;, nullable = false)\r\n\tprivate Long userId;\r\n\t\r\n\t@Basic\r\n\t@Column (name = &quot;email&quot;, nullable = false, length = 96, unique = true)\r\n\tprivate String userEmail;\r\n\t\r\n\t@Basic\r\n\t@Column (name = &quot;password&quot;, nullable = false, length = 96)\r\n\tprivate String userPassword;\r\n\t\r\n\t@ManyToMany (fetch = FetchType.EAGER)\r\n\t@NotFound(action = NotFoundAction.IGNORE)\r\n\t@JoinTable (name = &quot;user_role&quot;, \r\n\t                               joinColumns = {@JoinColumn (name = &quot;user_id&quot;)}, \r\n\t                               inverseJoinColumns = {@JoinColumn (name = &quot;role_id&quot;)})\r\n\tprivate Set &lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\t\r\n\t\r\n\t@OneToOne (mappedBy = &quot;user&quot;)\r\n\tprivate Student student;\r\n\t\r\n\t@OneToOne (mappedBy = &quot;user&quot;)\r\n\tprivate Instructor instructor;`\r\n\r\nCouple time i change Query in Dao layer, but it does&#39;t help me.\r\n\r\nMy Stack trace \r\n\r\nIn there Hibernate create request !\r\nHibernate: select i from Instructor as i where i.user.userEmail =?\r\n2023-01-23T14:30:30.682+02:00  WARN 32888 --- [nio-8071-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1054, SQLState: 42S22\r\n2023-01-23T14:30:30.682+02:00 ERROR 32888 --- [nio-8071-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column &#39;i&#39; in &#39;field list&#39;\r\n2023-01-23T14:30:30.688+02:00 ERROR 32888 --- [nio-8071-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select i from Instructor as i where i.user.userEmail =?]; SQL [n/a]] with root cause\r\n \r\nand than i give Exception !\r\njava.sql.SQLSyntaxErrorException: Unknown column &#39;i&#39; in &#39;field list&#39;\r\n\r\nAlso if you know good material, about Query it will be very useful for me, tnx!","title":"Hibernate can&#39;t select need column in table2 across table1?","body":"<p>my problem is next. I have two table. Table1 that name &quot;Instructor&quot; and Table2 that name &quot;User&quot;.\nWhen i displaying information in my template, i need retrieve information about user from table Instructor.</p>\n<p>My entity Instructor join column to users\n`@Entity\n@Table (name = &quot;Instructor&quot;)\npublic class Instructor {</p>\n<pre><code>@Id\n@GeneratedValue (strategy = GenerationType.IDENTITY)\n@Column (name = &quot;instructor_id&quot;, nullable = false)\nprivate Long instructorId;\n\n@Basic\n@Column (name = &quot;name&quot;, nullable = false, length = 45)\nprivate String firstName;\n\n@Basic  \n@Column (name = &quot;lastName&quot;, nullable = false, length = 45)\nprivate String lastName;\n\n@Basic\n@Column (name = &quot;summary&quot;, nullable = false, length = 45)\nprivate String instructorSummary;\n\n@OneToMany (mappedBy = &quot;instructor&quot;, fetch = FetchType.LAZY)\nprivate Set &lt;Course&gt; courses = new HashSet&lt;&gt;();\n\n@OneToOne (cascade = CascadeType.REMOVE)\n@JoinColumn (name = &quot;user_id&quot;, referencedColumnName = &quot;user_id&quot;, nullable = false)\nprivate User user; `\n</code></pre>\n<p>Dao layer when i have Exception\n<code> @Query (nativeQuery=true, value = &quot;select i from Instructor as i where i.user.userEmail =:userEmail&quot;) Instructor findInstructByuserEmail (@Param (&quot;userEmail&quot;) String userEmail);</code></p>\n<p>User Entity</p>\n<p>`@Entity\n@Table (name = &quot;users&quot;)\npublic class User {</p>\n<pre><code>@Id\n@GeneratedValue (strategy = GenerationType.IDENTITY)\n@Column (name = &quot;user_id&quot;, nullable = false)\nprivate Long userId;\n\n@Basic\n@Column (name = &quot;email&quot;, nullable = false, length = 96, unique = true)\nprivate String userEmail;\n\n@Basic\n@Column (name = &quot;password&quot;, nullable = false, length = 96)\nprivate String userPassword;\n\n@ManyToMany (fetch = FetchType.EAGER)\n@NotFound(action = NotFoundAction.IGNORE)\n@JoinTable (name = &quot;user_role&quot;, \n                               joinColumns = {@JoinColumn (name = &quot;user_id&quot;)}, \n                               inverseJoinColumns = {@JoinColumn (name = &quot;role_id&quot;)})\nprivate Set &lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n\n@OneToOne (mappedBy = &quot;user&quot;)\nprivate Student student;\n\n@OneToOne (mappedBy = &quot;user&quot;)\nprivate Instructor instructor;`\n</code></pre>\n<p>Couple time i change Query in Dao layer, but it does't help me.</p>\n<p>My Stack trace</p>\n<p>In there Hibernate create request !\nHibernate: select i from Instructor as i where i.user.userEmail =?\n2023-01-23T14:30:30.682+02:00  WARN 32888 --- [nio-8071-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1054, SQLState: 42S22\n2023-01-23T14:30:30.682+02:00 ERROR 32888 --- [nio-8071-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'i' in 'field list'\n2023-01-23T14:30:30.688+02:00 ERROR 32888 --- [nio-8071-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select i from Instructor as i where i.user.userEmail =?]; SQL [n/a]] with root cause</p>\n<p>and than i give Exception !\njava.sql.SQLSyntaxErrorException: Unknown column 'i' in 'field list'</p>\n<p>Also if you know good material, about Query it will be very useful for me, tnx!</p>\n"},{"tags":["java","firebase","firebase-realtime-database","firebase-authentication"],"answers":[{"tags":[],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"down_vote_count":0,"up_vote_count":125,"is_accepted":true,"score":125,"last_activity_date":1674477373,"creation_date":1480057311,"answer_id":40799378,"question_id":40799258,"body_markdown":"Found details about this in [this link][1]\r\n\r\n[UPDATED 30.11.2021]\r\n&gt;  To **generate a private key file** for your service account:\r\n&gt; \r\n&gt;    In the Firebase console, open Settings &gt; [Service Accounts][2].\r\n&gt; \r\n&gt;    Click Generate New Private Key, then confirm by clicking Generate Key.\r\n&gt; \r\n&gt;    Securely store the JSON file containing the key.\r\n&gt; \r\n&gt; When authorizing via a service account, you have two choices for\r\n&gt; providing the credentials to your application. You can either set the\r\n&gt; GOOGLE_APPLICATION_CREDENTIALS environment variable, or you can\r\n&gt; explicitly pass the path to the service account key in code. The first\r\n&gt; option is more secure and is strongly recommended. \r\n\r\n\r\n**NB: When you generate a new private key, the old key will stop working immediately**\r\n\r\nTo create the a new private key file you need to go to this link\r\n\r\n    https://console.firebase.google.com/project/**YOUR_PROJECT**/settings/serviceaccounts/adminsdk\r\n\r\n    \r\n[OLD] \r\n   \r\nQuote from [firebase docs][3]:\r\n&gt; 2. Navigate to the [Service Accounts][2] tab in your project&#39;s settings page.   \r\n&gt; 3. Click the **Generate New Private Key** button at the bottom of the **Firebase Admin SDK** section of the **Service Accounts** tab.\r\n&gt; \r\n&gt; After you click the button, a JSON file containing your service\r\n&gt; account&#39;s credentials will be downloaded. You&#39;ll need this to\r\n&gt; initialize the SDK in the next step. \r\n&gt; \r\n&gt; *Warning: Use extra caution when\r\n&gt; handling service account credentials in your code. Do not commit them\r\n&gt; to a public repository, deploy them in a client app, or expose them in\r\n&gt; any way that could compromise the security of your Firebase project.*\r\n&gt; \r\n&gt; This file is only generated once. If you lose or leak the key, you can\r\n&gt; repeat the instructions above to create a new JSON key for the service\r\n&gt; account.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/admin/setup#initialize_the_sdk_in_non-google_environments\r\n  [2]: https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk\r\n  [3]: https://firebase.google.com/docs/admin/setup","title":"Where can I get &quot;serviceAccountCredentials.json&quot; for Firebase Admin?","body":"<p>Found details about this in <a href=\"https://firebase.google.com/docs/admin/setup#initialize_the_sdk_in_non-google_environments\" rel=\"noreferrer\">this link</a></p>\n<p>[UPDATED 30.11.2021]</p>\n<blockquote>\n<p>To <strong>generate a private key file</strong> for your service account:</p>\n<p>In the Firebase console, open Settings &gt; <a href=\"https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk\" rel=\"noreferrer\">Service Accounts</a>.</p>\n<p>Click Generate New Private Key, then confirm by clicking Generate Key.</p>\n<p>Securely store the JSON file containing the key.</p>\n<p>When authorizing via a service account, you have two choices for\nproviding the credentials to your application. You can either set the\nGOOGLE_APPLICATION_CREDENTIALS environment variable, or you can\nexplicitly pass the path to the service account key in code. The first\noption is more secure and is strongly recommended.</p>\n</blockquote>\n<p><strong>NB: When you generate a new private key, the old key will stop working immediately</strong></p>\n<p>To create the a new private key file you need to go to this link</p>\n<pre><code>https://console.firebase.google.com/project/**YOUR_PROJECT**/settings/serviceaccounts/adminsdk\n</code></pre>\n<p>[OLD]</p>\n<p>Quote from <a href=\"https://firebase.google.com/docs/admin/setup\" rel=\"noreferrer\">firebase docs</a>:</p>\n<blockquote>\n<ol start=\"2\">\n<li>Navigate to the <a href=\"https://console.firebase.google.com/project/_/settings/serviceaccounts/adminsdk\" rel=\"noreferrer\">Service Accounts</a> tab in your project's settings page.</li>\n<li>Click the <strong>Generate New Private Key</strong> button at the bottom of the <strong>Firebase Admin SDK</strong> section of the <strong>Service Accounts</strong> tab.</li>\n</ol>\n<p>After you click the button, a JSON file containing your service\naccount's credentials will be downloaded. You'll need this to\ninitialize the SDK in the next step.</p>\n<p><em>Warning: Use extra caution when\nhandling service account credentials in your code. Do not commit them\nto a public repository, deploy them in a client app, or expose them in\nany way that could compromise the security of your Firebase project.</em></p>\n<p>This file is only generated once. If you lose or leak the key, you can\nrepeat the instructions above to create a new JSON key for the service\naccount.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18163475,"reputation":181,"user_id":13214490,"display_name":"Clement"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1603793390,"creation_date":1603793390,"answer_id":64552168,"question_id":40799258,"body_markdown":"You can directly go to your **Firebase portal** --&gt; **Project Settings** then **Service accounts**.\r\nI made a tutorial that explain all the details : [How to get my Firebase Service Account Key file][1] \r\n\r\n\r\n  [1]: https://clemfournier.medium.com/how-to-get-my-firebase-service-account-key-file-f0ec97a21620","title":"Where can I get &quot;serviceAccountCredentials.json&quot; for Firebase Admin?","body":"<p>You can directly go to your <strong>Firebase portal</strong> --&gt; <strong>Project Settings</strong> then <strong>Service accounts</strong>.\nI made a tutorial that explain all the details : <a href=\"https://clemfournier.medium.com/how-to-get-my-firebase-service-account-key-file-f0ec97a21620\" rel=\"noreferrer\">How to get my Firebase Service Account Key file</a></p>\n"}],"owner":{"account_id":2822377,"reputation":12101,"user_id":2425851,"accept_rate":50,"display_name":"NickUnuchek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89215,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":40799378,"answer_count":2,"score":86,"last_activity_date":1674477373,"creation_date":1480056770,"question_id":40799258,"body_markdown":"[Here][1] is said what I need to set up Firebase on java:\r\n\r\n    FirebaseOptions options = new FirebaseOptions.Builder()\r\n        .setDatabaseUrl(&quot;https://databaseName.firebaseio.com&quot;)\r\n        .setServiceAccount(new FileInputStream(&quot;path/to/serviceAccountCredentials.json&quot;))\r\n        .build();\r\n    FirebaseApp.initializeApp(options);\r\n\r\nBut where can I get **serviceAccountCredentials.json** ?\r\n\r\n**UPDATED:** \r\nI found that this file seems should have this fields, but where get this values?\r\n\r\n    {\r\n      &quot;type&quot;: &quot;&quot;,\r\n      &quot;project_id&quot;: &quot;&quot;,\r\n      &quot;private_key_id&quot;: &quot;&quot;,\r\n      &quot;private_key&quot;: &quot;&quot;,\r\n      &quot;client_email&quot;: &quot;&quot;,\r\n      &quot;client_id&quot;: &quot;&quot;,\r\n      &quot;auth_uri&quot;: &quot;&quot;,\r\n      &quot;token_uri&quot;: &quot;&quot;,\r\n      &quot;auth_provider_x509_cert_url&quot;: &quot;&quot;,\r\n      &quot;client_x509_cert_url&quot;: &quot;&quot;\r\n    }\r\n\r\n  [1]: https://firebase.google.com/docs/database/admin/start#authenticate-with-admin-privileges","title":"Where can I get &quot;serviceAccountCredentials.json&quot; for Firebase Admin?","body":"<p><a href=\"https://firebase.google.com/docs/database/admin/start#authenticate-with-admin-privileges\" rel=\"noreferrer\">Here</a> is said what I need to set up Firebase on java:</p>\n<pre><code>FirebaseOptions options = new FirebaseOptions.Builder()\n    .setDatabaseUrl(&quot;https://databaseName.firebaseio.com&quot;)\n    .setServiceAccount(new FileInputStream(&quot;path/to/serviceAccountCredentials.json&quot;))\n    .build();\nFirebaseApp.initializeApp(options);\n</code></pre>\n<p>But where can I get <strong>serviceAccountCredentials.json</strong> ?</p>\n<p><strong>UPDATED:</strong>\nI found that this file seems should have this fields, but where get this values?</p>\n<pre><code>{\n  &quot;type&quot;: &quot;&quot;,\n  &quot;project_id&quot;: &quot;&quot;,\n  &quot;private_key_id&quot;: &quot;&quot;,\n  &quot;private_key&quot;: &quot;&quot;,\n  &quot;client_email&quot;: &quot;&quot;,\n  &quot;client_id&quot;: &quot;&quot;,\n  &quot;auth_uri&quot;: &quot;&quot;,\n  &quot;token_uri&quot;: &quot;&quot;,\n  &quot;auth_provider_x509_cert_url&quot;: &quot;&quot;,\n  &quot;client_x509_cert_url&quot;: &quot;&quot;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security","annotations"],"comments":[{"owner":{"account_id":2580719,"reputation":5582,"user_id":2237467,"accept_rate":60,"display_name":"Snackoverflow"},"score":0,"creation_date":1535456530,"post_id":47574480,"comment_id":91064139,"body_markdown":"Is there a reason why this solution worked with Spring Boot 2.0.2.RELEASE and not with 2.0.4.RELEASE? All the strings containing SpEL are not translated anymore and stay as `${settings.cors_origin}` for example.","body":"Is there a reason why this solution worked with Spring Boot 2.0.2.RELEASE and not with 2.0.4.RELEASE? All the strings containing SpEL are not translated anymore and stay as <code>${settings.cors_origin}</code> for example."}],"answers":[{"tags":[],"owner":{"account_id":8046768,"reputation":545,"user_id":6066756,"display_name":"Amr Alaa"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1512049688,"creation_date":1512049688,"answer_id":47575025,"question_id":47574480,"body_markdown":"you can try to access the property directly in the origins parameter\r\n\r\n    @CrossOrigin(origins = @Value(&quot;${settings.cors_origin}&quot;))","title":"Use Spring Properties in Java with CrossOrigin Annotation or in Spring-Config XML","body":"<p>you can try to access the property directly in the origins parameter</p>\n\n<pre><code>@CrossOrigin(origins = @Value(\"${settings.cors_origin}\"))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1623961436,"creation_date":1512054315,"answer_id":47576510,"question_id":47574480,"body_markdown":"you need to pass an array of strings to the `origins` argument of the `@CrossOrigin` annotation. This is done with curly braces:\r\n\r\n    @CrossOrigin(origins = {&quot;${settings.cors_origin}&quot;})\r\n\r\n\r\n\r\nThen in Spring, src/main/resources/application.properties:\r\n\r\n    settings.cors_origin:http://localhost:4200\r\n\r\nNote, don&#39;t include comments or extra spaces to the right of the key-value pair in application.properties. The extra spaces after the value might cause the key-value pair to be read incorrectly.\r\n\r\n","title":"Use Spring Properties in Java with CrossOrigin Annotation or in Spring-Config XML","body":"<p>you need to pass an array of strings to the <code>origins</code> argument of the <code>@CrossOrigin</code> annotation. This is done with curly braces:</p>\n<pre><code>@CrossOrigin(origins = {&quot;${settings.cors_origin}&quot;})\n</code></pre>\n<p>Then in Spring, src/main/resources/application.properties:</p>\n<pre><code>settings.cors_origin:http://localhost:4200\n</code></pre>\n<p>Note, don't include comments or extra spaces to the right of the key-value pair in application.properties. The extra spaces after the value might cause the key-value pair to be read incorrectly.</p>\n"}],"owner":{"account_id":11205579,"reputation":501,"user_id":8221303,"accept_rate":40,"display_name":"Hannes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8356,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1674476896,"creation_date":1512047977,"question_id":47574480,"body_markdown":"I use the CrossOrigin annotation in Spring. \r\nNow i want to inject a Property as value to the annotation. I dont get this to work.\r\n\r\nNow i access my property like this:\r\n\r\n    @Value(&quot;${settings.cors_origin}&quot;)\r\n    String cors_origin;\r\n\r\nI want to inject this property to the CrossOrigin annotation:\r\n\r\n    ....\r\n    @CrossOrigin(origins = cors_origin)\r\n    @RequestMapping(value=&quot;/request&quot;, method= RequestMethod.GET, produces = &quot;application/json&quot;)\r\n    public ResponseEntity&lt;?&gt; getMethod()\r\n    {\r\n    ...\r\n\r\nI tried already something like this:\r\n\r\n    @CrossOrigin(origins = &quot;${settings.cors_origin}&quot;)\r\n\r\n\r\n**Edit 1:**\r\n\r\nNow i try to set the CORS-Header Globally in my spring config:\r\n\r\n      &lt;context:property-placeholder location=&quot;classpath*:*appsettings.properties&quot;/&gt;\r\n    \r\n     &lt;mvc:cors&gt;\r\n     &lt;mvc:mapping path=&quot;/api/**&quot;\r\n                 allowed-origins=&quot;${test}&quot;\r\n                 allowed-methods=&quot;GET, PUT, OPTIONS, POST&quot;/&gt;\r\n    &lt;/mvc:cors&gt;\r\n\r\nThis setting is also not working! The allowed origin is not the same as the one specified in the properties file. I think it will not translate the variable to the value? When i set the IP-Address in the spring config allowed-origins manually it is working. There is something wrong with the settings...\r\n\r\n\r\n*appsettings.properties:*\r\n\r\n    test=http://192.168.1.200\r\n\r\n\r\n**Edit 2:**\r\n \r\n**S   O   L   V   E   D**\r\n\r\nI solved it for me now after a hart time of troubleshooting :-)\r\nNow i work again with the annotation @CrossOrigin. I had to add the ***RequestMethod Options*** to the Spring RequestMapping:\r\n\r\n\r\n     @RestController\r\n     @CrossOrigin(origins = {&quot;${settings.cors_origin}&quot;})\r\n     @RequestMapping(&quot;/api/v1&quot;)\r\n     public class MainController {\r\n\r\n\r\n      @RequestMapping(value=&quot;/request&quot;, method = {RequestMethod.GET, RequestMethod.OPTIONS}, produces = &quot;application/json&quot;)\r\n      public ResponseEntity&lt;?&gt; getMethod()\r\n      {\r\n\r\n\r\nThanks for your help!","title":"Use Spring Properties in Java with CrossOrigin Annotation or in Spring-Config XML","body":"<p>I use the CrossOrigin annotation in Spring. \nNow i want to inject a Property as value to the annotation. I dont get this to work.</p>\n\n<p>Now i access my property like this:</p>\n\n<pre><code>@Value(\"${settings.cors_origin}\")\nString cors_origin;\n</code></pre>\n\n<p>I want to inject this property to the CrossOrigin annotation:</p>\n\n<pre><code>....\n@CrossOrigin(origins = cors_origin)\n@RequestMapping(value=\"/request\", method= RequestMethod.GET, produces = \"application/json\")\npublic ResponseEntity&lt;?&gt; getMethod()\n{\n...\n</code></pre>\n\n<p>I tried already something like this:</p>\n\n<pre><code>@CrossOrigin(origins = \"${settings.cors_origin}\")\n</code></pre>\n\n<p><strong>Edit 1:</strong></p>\n\n<p>Now i try to set the CORS-Header Globally in my spring config:</p>\n\n<pre><code>  &lt;context:property-placeholder location=\"classpath*:*appsettings.properties\"/&gt;\n\n &lt;mvc:cors&gt;\n &lt;mvc:mapping path=\"/api/**\"\n             allowed-origins=\"${test}\"\n             allowed-methods=\"GET, PUT, OPTIONS, POST\"/&gt;\n&lt;/mvc:cors&gt;\n</code></pre>\n\n<p>This setting is also not working! The allowed origin is not the same as the one specified in the properties file. I think it will not translate the variable to the value? When i set the IP-Address in the spring config allowed-origins manually it is working. There is something wrong with the settings...</p>\n\n<p><em>appsettings.properties:</em></p>\n\n<pre><code>test=http://192.168.1.200\n</code></pre>\n\n<p><strong>Edit 2:</strong></p>\n\n<p><strong>S   O   L   V   E   D</strong></p>\n\n<p>I solved it for me now after a hart time of troubleshooting :-)\nNow i work again with the annotation @CrossOrigin. I had to add the <strong><em>RequestMethod Options</em></strong> to the Spring RequestMapping:</p>\n\n<pre><code> @RestController\n @CrossOrigin(origins = {\"${settings.cors_origin}\"})\n @RequestMapping(\"/api/v1\")\n public class MainController {\n\n\n  @RequestMapping(value=\"/request\", method = {RequestMethod.GET, RequestMethod.OPTIONS}, produces = \"application/json\")\n  public ResponseEntity&lt;?&gt; getMethod()\n  {\n</code></pre>\n\n<p>Thanks for your help!</p>\n"},{"tags":["java","arrays","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1463839098,"creation_date":1463838157,"answer_id":37363726,"question_id":37363674,"body_markdown":"Remove the `if (arr[arr_i][arr_j] &gt; 0)` statement. It prevents finding the answer at row 1, column 0, because that cell is `0`.\r\n\r\nComments for other improvements to your code:\r\n\r\n - What if the best hourglass sum is `-4`? You should initialize `tmp_sum` to `Integer.MIN_VALUE`. And name it `maxSum`, to better describe it&#39;s purpose.\r\n\r\n - You shouldn&#39;t define `sum` outside the loop. Declare it when it is first assigned, then you don&#39;t have to reset it to `0` afterwards.\r\n\r\n - Your iterators should be just `i` and `j`. Those are standard names for integer iterators, and keeps code ... cleaner.  \r\n   If you prefer longer names, use `row` and `col`, since that is what they represent.\r\n\r\n - You don&#39;t need parenthesis around the array lookups.\r\n\r\n - For clarity, I formatted the code below to show the hourglass shape in the array lookups.\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n\tScanner in = new Scanner(System.in);\r\n\tint arr[][] = new int[6][6];\r\n\tfor (int i = 0; i &lt; 6; i++){\r\n\t\tfor (int j = 0; j &lt; 6; j++){\r\n\t\t\tarr[i][j] = in.nextInt();\r\n\t\t}\r\n\t}\r\n\t\r\n\tint maxSum = Integer.MIN_VALUE;\r\n\tfor (int i = 0; i &lt; 4; i++) {\r\n\t\tfor (int j = 0; j &lt; 4; j++) {\r\n\t\t\tint sum = arr[i    ][j] + arr[i    ][j + 1] + arr[i    ][j + 2]\r\n\t\t\t                        + arr[i + 1][j + 1]\r\n\t\t\t        + arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2];\r\n\t\t\tif (maxSum &lt; sum) {\r\n\t\t\t\tmaxSum = sum;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tSystem.out.println(maxSum);","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Remove the <code>if (arr[arr_i][arr_j] &gt; 0)</code> statement. It prevents finding the answer at row 1, column 0, because that cell is <code>0</code>.</p>\n\n<p>Comments for other improvements to your code:</p>\n\n<ul>\n<li><p>What if the best hourglass sum is <code>-4</code>? You should initialize <code>tmp_sum</code> to <code>Integer.MIN_VALUE</code>. And name it <code>maxSum</code>, to better describe it's purpose.</p></li>\n<li><p>You shouldn't define <code>sum</code> outside the loop. Declare it when it is first assigned, then you don't have to reset it to <code>0</code> afterwards.</p></li>\n<li><p>Your iterators should be just <code>i</code> and <code>j</code>. Those are standard names for integer iterators, and keeps code ... cleaner.<br>\nIf you prefer longer names, use <code>row</code> and <code>col</code>, since that is what they represent.</p></li>\n<li><p>You don't need parenthesis around the array lookups.</p></li>\n<li><p>For clarity, I formatted the code below to show the hourglass shape in the array lookups.</p></li>\n</ul>\n\n<pre class=\"lang-java prettyprint-override\"><code>Scanner in = new Scanner(System.in);\nint arr[][] = new int[6][6];\nfor (int i = 0; i &lt; 6; i++){\n    for (int j = 0; j &lt; 6; j++){\n        arr[i][j] = in.nextInt();\n    }\n}\n\nint maxSum = Integer.MIN_VALUE;\nfor (int i = 0; i &lt; 4; i++) {\n    for (int j = 0; j &lt; 4; j++) {\n        int sum = arr[i    ][j] + arr[i    ][j + 1] + arr[i    ][j + 2]\n                                + arr[i + 1][j + 1]\n                + arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2];\n        if (maxSum &lt; sum) {\n            maxSum = sum;\n        }\n    }\n}\nSystem.out.println(maxSum);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9081955,"reputation":1,"user_id":6761495,"display_name":"M.dinesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1476632945,"creation_date":1476628573,"answer_id":40071481,"question_id":37363674,"body_markdown":"    import java.io.*;\r\n    import java.util.Scanner;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int low = -9,high = 5;\r\n            int lh = low * high;\r\n            int sum = 0, i, j;\r\n            int max = 0;\r\n            int a[][] = new int[6][6];\r\n            for (i = 0; i &lt; 6; i++) {\r\n                for (j = 0; j &lt; 6; j++) {\r\n                    a[i][j] = in.nextInt();\r\n                }\r\n            }\r\n    \r\n            for (i = 0; i &lt; 4; i++) {\r\n               for (j = 0; j &lt; 4; j++) {\r\n                   sum = (a[i][j] + a[i][j+1] + a[i][j+2]); \r\n                   sum = sum + a[i+1][j+1];\r\n                   sum = sum + (a[i+2][j] + a[i+2][j+1] + a[i+2][j+2]);\r\n    \r\n                   if (sum &gt; lh) lh = sum;\r\n                }\r\n            }\r\n            System.out.print(lh);\r\n        }\r\n    }\r\n","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<pre><code>import java.io.*;\nimport java.util.Scanner;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int low = -9,high = 5;\n        int lh = low * high;\n        int sum = 0, i, j;\n        int max = 0;\n        int a[][] = new int[6][6];\n        for (i = 0; i &lt; 6; i++) {\n            for (j = 0; j &lt; 6; j++) {\n                a[i][j] = in.nextInt();\n            }\n        }\n\n        for (i = 0; i &lt; 4; i++) {\n           for (j = 0; j &lt; 4; j++) {\n               sum = (a[i][j] + a[i][j+1] + a[i][j+2]); \n               sum = sum + a[i+1][j+1];\n               sum = sum + (a[i+2][j] + a[i+2][j+1] + a[i+2][j+2]);\n\n               if (sum &gt; lh) lh = sum;\n            }\n        }\n        System.out.print(lh);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7326862,"reputation":1,"user_id":5581017,"display_name":"Stuti Bisht"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1481382738,"creation_date":1481382738,"answer_id":41076984,"question_id":37363674,"body_markdown":"Here you go..\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\tint a[][] = new int[6][6];\r\n\t\tint max = 0;\r\n\t\tfor (int i = 0; i &lt; 6; i++) {\r\n\t\t\tfor (int j = 0; j &lt; 6; j++) {\r\n\t\t\t\ta[i][j] = in.nextInt();\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (int i = 0; i &lt; 4; i++) {\r\n\t\t\tfor (int j = 0; j &lt; 4; j++) {\r\n\t\t\t\tint sum = a[i][j] + a[i][j + 1] + a[i][j + 2] + a[i + 1][j + 1]\r\n\t\t\t\t\t\t+ a[i + 2][j] + a[i + 2][j + 1] + a[i + 2][j + 2];\r\n\t\t\t\tif (sum &gt; max || (i == 0 &amp;&amp; j == 0)) {\r\n\t\t\t\t\tmax = sum;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println(max);\r\n\t}\r\n\r\n","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Here you go..</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int a[][] = new int[6][6];\n    int max = 0;\n    for (int i = 0; i &lt; 6; i++) {\n        for (int j = 0; j &lt; 6; j++) {\n            a[i][j] = in.nextInt();\n        }\n    }\n    for (int i = 0; i &lt; 4; i++) {\n        for (int j = 0; j &lt; 4; j++) {\n            int sum = a[i][j] + a[i][j + 1] + a[i][j + 2] + a[i + 1][j + 1]\n                    + a[i + 2][j] + a[i + 2][j + 1] + a[i + 2][j + 2];\n            if (sum &gt; max || (i == 0 &amp;&amp; j == 0)) {\n                max = sum;\n            }\n        }\n    }\n    System.out.println(max);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4342081,"reputation":571,"user_id":3545083,"accept_rate":58,"display_name":"sean le roy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1483482407,"creation_date":1483482407,"answer_id":41453359,"question_id":37363674,"body_markdown":"This was my solution. I wrapped an if statement around the code that calculates the sum, that makes sure we don&#39;t go out of bounds.\r\n\r\n    public static void main(String[] args) {\r\n        Scanner in = new Scanner(System.in);\r\n        int arr[][] = new int[6][6];\r\n        int max = Integer.MIN_VALUE;\r\n        int tempMax = 0;\r\n        \r\n        for(int i=0; i &lt; 6; i++){\r\n            for(int j=0; j &lt; 6; j++){\r\n                arr[i][j] = in.nextInt();\r\n            }\r\n        }\r\n        \r\n        for(int i=0; i &lt; 6; i++){\r\n            for(int j=0; j &lt; 6; j++){\r\n                if (i + 2 &lt; 6 &amp;&amp; j + 2 &lt; 6) {\r\n                    tempMax += arr[i][j] + arr[i][j + 1] + arr[i][j + 2];\r\n                    tempMax += arr[i + 1][j + 1];\r\n                    tempMax += arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2];\r\n                \r\n                    if (max &lt; tempMax) {\r\n                        max = tempMax;\r\n                    } \r\n                    \r\n                    tempMax = 0;\r\n                }           \r\n            }\r\n        }\r\n        \r\n        System.out.println(max);\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>This was my solution. I wrapped an if statement around the code that calculates the sum, that makes sure we don't go out of bounds.</p>\n\n<pre><code>public static void main(String[] args) {\n    Scanner in = new Scanner(System.in);\n    int arr[][] = new int[6][6];\n    int max = Integer.MIN_VALUE;\n    int tempMax = 0;\n\n    for(int i=0; i &lt; 6; i++){\n        for(int j=0; j &lt; 6; j++){\n            arr[i][j] = in.nextInt();\n        }\n    }\n\n    for(int i=0; i &lt; 6; i++){\n        for(int j=0; j &lt; 6; j++){\n            if (i + 2 &lt; 6 &amp;&amp; j + 2 &lt; 6) {\n                tempMax += arr[i][j] + arr[i][j + 1] + arr[i][j + 2];\n                tempMax += arr[i + 1][j + 1];\n                tempMax += arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2];\n\n                if (max &lt; tempMax) {\n                    max = tempMax;\n                } \n\n                tempMax = 0;\n            }           \n        }\n    }\n\n    System.out.println(max);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8224025,"reputation":136,"user_id":6186837,"display_name":"ABajpai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487359434,"creation_date":1487359434,"answer_id":42305875,"question_id":37363674,"body_markdown":"Here&#39;s the simple and easy to understand C# equivalent code for your hourglass problem.\r\n\r\n    class Class1\r\n    {\r\n        static int[][] CreateHourGlassForIndex(int p, int q, int[][] arr)\r\n        {\r\n            int[][] hourGlass = new int[3][];\r\n\r\n            int x = 0, y = 0;\r\n            for (int i = p; i &lt;= p + 2; i++)\r\n            {\r\n                hourGlass[x] = new int[3];\r\n                int[] temp = new int[3];\r\n                int k = 0;\r\n                for (int j = q; j &lt;= q + 2; j++)\r\n                {\r\n                    temp[k] = arr[i][j];\r\n                    k++;\r\n                }\r\n                hourGlass[x] = temp;\r\n                x++;\r\n            }\r\n\r\n            return hourGlass;\r\n        }\r\n\r\n        static int findSumOfEachHourGlass(int[][] arr)\r\n        {\r\n            int sum = 0;\r\n            for (int i = 0; i &lt; arr.Length; i++)\r\n            {\r\n                for (int j = 0; j &lt; arr.Length; j++)\r\n                {\r\n                    if (!((i == 1 &amp;&amp; j == 0) || (i == 1 &amp;&amp; j == 2)))\r\n                        sum += arr[i][j];\r\n                }\r\n\r\n            }\r\n\r\n            return sum;\r\n        }\r\n\r\n        static void Main(string[] args)\r\n        {\r\n            int[][] arr = new int[6][];\r\n            for (int arr_i = 0; arr_i &lt; 6; arr_i++)\r\n            {\r\n                string[] arr_temp = Console.ReadLine().Split(&#39; &#39;);\r\n                arr[arr_i] = Array.ConvertAll(arr_temp, Int32.Parse);\r\n            }\r\n\r\n            int[] sum = new int[16];\r\n            int k = 0;\r\n            for (int i = 0; i &lt; 4; i++)\r\n            {\r\n                for (int j = 0; j &lt; 4; j++)\r\n                {\r\n                    int[][] hourGlass = CreateHourGlassForIndex(i, j, arr);\r\n                    sum[k] = findSumOfEachHourGlass(hourGlass);\r\n                    k++;\r\n                }\r\n            }\r\n            //max in sum array\r\n            Console.WriteLine(sum.Max());\r\n\r\n        }\r\n    }\r\n\r\nHappy Coding.\r\nThanks,\r\nAnkit Bajpai","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Here's the simple and easy to understand C# equivalent code for your hourglass problem.</p>\n\n<pre><code>class Class1\n{\n    static int[][] CreateHourGlassForIndex(int p, int q, int[][] arr)\n    {\n        int[][] hourGlass = new int[3][];\n\n        int x = 0, y = 0;\n        for (int i = p; i &lt;= p + 2; i++)\n        {\n            hourGlass[x] = new int[3];\n            int[] temp = new int[3];\n            int k = 0;\n            for (int j = q; j &lt;= q + 2; j++)\n            {\n                temp[k] = arr[i][j];\n                k++;\n            }\n            hourGlass[x] = temp;\n            x++;\n        }\n\n        return hourGlass;\n    }\n\n    static int findSumOfEachHourGlass(int[][] arr)\n    {\n        int sum = 0;\n        for (int i = 0; i &lt; arr.Length; i++)\n        {\n            for (int j = 0; j &lt; arr.Length; j++)\n            {\n                if (!((i == 1 &amp;&amp; j == 0) || (i == 1 &amp;&amp; j == 2)))\n                    sum += arr[i][j];\n            }\n\n        }\n\n        return sum;\n    }\n\n    static void Main(string[] args)\n    {\n        int[][] arr = new int[6][];\n        for (int arr_i = 0; arr_i &lt; 6; arr_i++)\n        {\n            string[] arr_temp = Console.ReadLine().Split(' ');\n            arr[arr_i] = Array.ConvertAll(arr_temp, Int32.Parse);\n        }\n\n        int[] sum = new int[16];\n        int k = 0;\n        for (int i = 0; i &lt; 4; i++)\n        {\n            for (int j = 0; j &lt; 4; j++)\n            {\n                int[][] hourGlass = CreateHourGlassForIndex(i, j, arr);\n                sum[k] = findSumOfEachHourGlass(hourGlass);\n                k++;\n            }\n        }\n        //max in sum array\n        Console.WriteLine(sum.Max());\n\n    }\n}\n</code></pre>\n\n<p>Happy Coding.\nThanks,\nAnkit Bajpai</p>\n"},{"tags":[],"owner":{"account_id":10360568,"reputation":1,"user_id":7641175,"display_name":"Ashishkumar Teotia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1488392824,"creation_date":1488371175,"answer_id":42531698,"question_id":37363674,"body_markdown":"You can try this code:       \r\nI think this will be easy to understand for beginners.    \r\n\r\n\r\n    public class Solution {\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int arr[][] = new int[6][6];\r\n            for(int arr_i=0; arr_i &lt; 6; arr_i++){\r\n                for(int arr_j=0; arr_j &lt; 6; arr_j++){\r\n                    arr[arr_i][arr_j] = in.nextInt();\r\n                }\r\n            }\r\n            int sum = 0;\r\n            int sum2 = 0;\r\n            int sum3 = 0;\r\n            int x = 0;\r\n            int max = Integer.MIN_VALUE;\r\n            for(int i = 0; i &lt; 4; i++){\r\n                for(int j = 0; j &lt; 4; j++){\r\n                    for(int k = 0; k &lt; 3; k++){\r\n                        sum += arr[i][j+k]; //top elements of hour glass\r\n                        sum2 += arr[i+2][j+k]; //bottom elements of hour glass\r\n                        sum3 = arr[i+1][j+1]; //middle elements of hour glass\r\n                        x = sum + sum2 + sum3; //add all elements of hour glass\r\n                    }\r\n                    if(max &lt; x){\r\n                        max  = x;\r\n                    }\r\n                    sum = 0; \r\n                    sum2 = 0; \r\n                    sum3 = 0;\r\n                    x = 0;\r\n                }            \r\n            }\r\n            System.out.println(max);\r\n        }\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>You can try this code:<br>\nI think this will be easy to understand for beginners.    </p>\n\n<pre><code>public class Solution {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int arr[][] = new int[6][6];\n        for(int arr_i=0; arr_i &lt; 6; arr_i++){\n            for(int arr_j=0; arr_j &lt; 6; arr_j++){\n                arr[arr_i][arr_j] = in.nextInt();\n            }\n        }\n        int sum = 0;\n        int sum2 = 0;\n        int sum3 = 0;\n        int x = 0;\n        int max = Integer.MIN_VALUE;\n        for(int i = 0; i &lt; 4; i++){\n            for(int j = 0; j &lt; 4; j++){\n                for(int k = 0; k &lt; 3; k++){\n                    sum += arr[i][j+k]; //top elements of hour glass\n                    sum2 += arr[i+2][j+k]; //bottom elements of hour glass\n                    sum3 = arr[i+1][j+1]; //middle elements of hour glass\n                    x = sum + sum2 + sum3; //add all elements of hour glass\n                }\n                if(max &lt; x){\n                    max  = x;\n                }\n                sum = 0; \n                sum2 = 0; \n                sum3 = 0;\n                x = 0;\n            }            \n        }\n        System.out.println(max);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2608237,"reputation":11,"user_id":2258933,"display_name":"palslav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492497553,"creation_date":1492497553,"answer_id":43465271,"question_id":37363674,"body_markdown":"Here is another easy option, hope it helps:\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.math.*;\r\n    import java.util.regex.*;\r\n\r\n    public class Solution {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int a[][] = new int[6][6];\r\n            for(int i=0; i &lt; 6; i++){\r\n                for(int j=0; j &lt; 6; j++){\r\n                    a[i][j] = in.nextInt();\r\n                }\r\n            }\r\n            int hg = Integer.MIN_VALUE, sum;\r\n            for(int i=0; i&lt;4; i++){\r\n                for(int j=0; j&lt;4; j++){\r\n                   sum = 0;\r\n                   sum = sum + a[i][j] + a[i][j+1] + a[i][j+2];\r\n                   sum = sum + a[i+1][j+1];\r\n                   sum = sum + a[i+2][j] + a[i+2][j+1] + a[i+2][j+2];\r\n                   if(sum&gt;hg)\r\n                       hg = sum;\r\n                }\r\n            }\r\n            System.out.println(hg);\r\n            in.close();\r\n        }\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Here is another easy option, hope it helps:</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.text.*;\nimport java.math.*;\nimport java.util.regex.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int a[][] = new int[6][6];\n        for(int i=0; i &lt; 6; i++){\n            for(int j=0; j &lt; 6; j++){\n                a[i][j] = in.nextInt();\n            }\n        }\n        int hg = Integer.MIN_VALUE, sum;\n        for(int i=0; i&lt;4; i++){\n            for(int j=0; j&lt;4; j++){\n               sum = 0;\n               sum = sum + a[i][j] + a[i][j+1] + a[i][j+2];\n               sum = sum + a[i+1][j+1];\n               sum = sum + a[i+2][j] + a[i+2][j+1] + a[i+2][j+2];\n               if(sum&gt;hg)\n                   hg = sum;\n            }\n        }\n        System.out.println(hg);\n        in.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7311271,"reputation":1,"user_id":5570364,"display_name":"chitrendra chaudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509951867,"creation_date":1509949614,"answer_id":47130984,"question_id":37363674,"body_markdown":"\r\n\r\n\r\nthere is another opetion in case of -(minus) and zero output we can use shorted ser Treeset for the same . below is the sameple code \r\n\r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            int arr[][] = new int[6][6];\r\n\r\n            for(int i=0; i &lt; 6; i++){\r\n                for(int j=0; j &lt; 6; j++){\r\n                    arr[i][j] = in.nextInt();\r\n                }\r\n            }\r\n\r\n            int sum=0;int output=0;\r\n            Set&lt;Integer&gt; set=new TreeSet&lt;Integer&gt;();\r\n\r\n            for(int k=0;k&lt;4;k++ )\r\n            {\r\n                for(int y=0;y&lt;4;y++)\r\n                {\r\n                    sum=arr[k][y]+arr[k][y+1]+arr[k][y+2]+arr[k+1][y+1]+arr[k+2][y]+arr[k+2][y+1]+arr[k+2][y+2];                                         set.add(sum);\r\n                }\r\n            }\r\n\r\n            int p=0;\r\n\r\n            for(int u:set)\r\n            {\r\n                p++;\r\n                if(p==set.size())\r\n                output=u;\r\n            }\r\n\r\n            System.out.println(output);\r\n        }\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>there is another opetion in case of -(minus) and zero output we can use shorted ser Treeset for the same . below is the sameple code </p>\n\n<pre><code>public class Solution {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int arr[][] = new int[6][6];\n\n        for(int i=0; i &lt; 6; i++){\n            for(int j=0; j &lt; 6; j++){\n                arr[i][j] = in.nextInt();\n            }\n        }\n\n        int sum=0;int output=0;\n        Set&lt;Integer&gt; set=new TreeSet&lt;Integer&gt;();\n\n        for(int k=0;k&lt;4;k++ )\n        {\n            for(int y=0;y&lt;4;y++)\n            {\n                sum=arr[k][y]+arr[k][y+1]+arr[k][y+2]+arr[k+1][y+1]+arr[k+2][y]+arr[k+2][y+1]+arr[k+2][y+2];                                         set.add(sum);\n            }\n        }\n\n        int p=0;\n\n        for(int u:set)\n        {\n            p++;\n            if(p==set.size())\n            output=u;\n        }\n\n        System.out.println(output);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7782382,"reputation":61,"user_id":5888393,"display_name":"Rafi Mahmud"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515650779,"creation_date":1515650779,"answer_id":48200726,"question_id":37363674,"body_markdown":"Solved in PHP, may be helpful.\r\n\r\n    &lt;?php\r\n    \r\n    $handle = fopen (&quot;php://stdin&quot;,&quot;r&quot;);\r\n    $input = [];\r\n    \r\n    while(!feof($handle))\r\n    {\r\n       $temp = fgets($handle);\r\n       $input[] = explode(&quot; &quot;,$temp);\r\n    }\r\n    \r\n    $maxSum = PHP_INT_MIN;\r\n    for($i=0; $i&lt;4; $i++)\r\n    {\r\n        for($j=0; $j&lt;4; $j++)\r\n        {\r\n            $sum = $input[$i][$j] + $input[$i][$j + 1] + $input[$i][$j + 2] \r\n                                        + $input[$i + 1][$j + 1] + \r\n                      $input[$i + 2][$j] + $input[$i + 2][$j + 1] + $input[$i + 2][$j + 2]; \r\n            \r\n            if($sum &gt; $maxSum)\r\n            {\r\n                $maxSum = $sum;\r\n            }\r\n        }\r\n    }\r\n    echo $maxSum;\r\n    \r\n    ?&gt;\r\n\r\n","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Solved in PHP, may be helpful.</p>\n\n<pre><code>&lt;?php\n\n$handle = fopen (\"php://stdin\",\"r\");\n$input = [];\n\nwhile(!feof($handle))\n{\n   $temp = fgets($handle);\n   $input[] = explode(\" \",$temp);\n}\n\n$maxSum = PHP_INT_MIN;\nfor($i=0; $i&lt;4; $i++)\n{\n    for($j=0; $j&lt;4; $j++)\n    {\n        $sum = $input[$i][$j] + $input[$i][$j + 1] + $input[$i][$j + 2] \n                                    + $input[$i + 1][$j + 1] + \n                  $input[$i + 2][$j] + $input[$i + 2][$j + 1] + $input[$i + 2][$j + 2]; \n\n        if($sum &gt; $maxSum)\n        {\n            $maxSum = $sum;\n        }\n    }\n}\necho $maxSum;\n\n?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9207039,"reputation":1,"user_id":6841863,"display_name":"Aravinth Sundaram"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516901609,"creation_date":1516901609,"answer_id":48448790,"question_id":37363674,"body_markdown":"Passes all test cases\r\n\r\n    import java.io.*;\r\n    import java.util.*;\r\n\r\n    public class Solution {\r\n\r\n    public static void main(String[] args) {\r\n        Scanner read = new Scanner(System.in);\r\n        int rowSize = 6;\r\n        int colSize = 6;\r\n        int[][] array = new int[rowSize][colSize];\r\n        for(int row = 0; row &lt; rowSize; row++) {\r\n            for(int col = 0; col &lt; colSize; col++) {\r\n                array[row][col] = read.nextInt();\r\n            }\r\n        }\r\n        read.close();\r\n        int max = Integer.MIN_VALUE;\r\n        for(int row = 0; row &lt; 4; row++) {\r\n            for(int col = 0; col &lt; 4; col++) {\r\n                int sum = calculateHourglassSum(array, row, col);\r\n                if(sum &gt; max) {\r\n                    max = sum;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(max);\r\n    }\r\n    \r\n    private static int calculateHourglassSum(int[][] array, int rowIndex, int colIndex) {\r\n        int sum = 0;\r\n        for(int row = rowIndex; row &lt; rowIndex + 3; row++) {\r\n            for(int col = colIndex; col &lt; colIndex + 3; col++) {\r\n                if(row == rowIndex + 1 &amp;&amp; col != colIndex + 1) {\r\n                    continue;\r\n                }\r\n                sum += array[row][col];\r\n            }\r\n        }\r\n        return sum;\r\n    }\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Passes all test cases</p>\n\n<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Solution {\n\npublic static void main(String[] args) {\n    Scanner read = new Scanner(System.in);\n    int rowSize = 6;\n    int colSize = 6;\n    int[][] array = new int[rowSize][colSize];\n    for(int row = 0; row &lt; rowSize; row++) {\n        for(int col = 0; col &lt; colSize; col++) {\n            array[row][col] = read.nextInt();\n        }\n    }\n    read.close();\n    int max = Integer.MIN_VALUE;\n    for(int row = 0; row &lt; 4; row++) {\n        for(int col = 0; col &lt; 4; col++) {\n            int sum = calculateHourglassSum(array, row, col);\n            if(sum &gt; max) {\n                max = sum;\n            }\n        }\n    }\n    System.out.println(max);\n}\n\nprivate static int calculateHourglassSum(int[][] array, int rowIndex, int colIndex) {\n    int sum = 0;\n    for(int row = rowIndex; row &lt; rowIndex + 3; row++) {\n        for(int col = colIndex; col &lt; colIndex + 3; col++) {\n            if(row == rowIndex + 1 &amp;&amp; col != colIndex + 1) {\n                continue;\n            }\n            sum += array[row][col];\n        }\n    }\n    return sum;\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2019763,"reputation":226,"user_id":1806231,"accept_rate":0,"display_name":"prudhvireddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1532516112,"creation_date":1532516112,"answer_id":51517191,"question_id":37363674,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    function galssSum(array) {\r\n      let maxGlass = 0;\r\n      if (array[0].length == 3) {\r\n        maxGlass = 1;\r\n      } else if (array[0].length &gt; 3) {\r\n        maxGlass = array.length - 2;\r\n      }\r\n\r\n      let maxValue = -100000;\r\n      for (let i = 0; i &lt; maxGlass; i++) {\r\n        for (let j = 0; j &lt; maxGlass; j++) {\r\n          let a = array[i][j] + array[i][j + 1] + array[i][j + 2];\r\n          let b = array[i + 1][j + 1];\r\n          let c = array[i + 2][j] + array[i + 2][j + 1] + array[i + 2][j + 2];\r\n\r\n          let sum = a + b + c;\r\n\r\n          if (maxValue&lt;sum) {\r\n            maxValue = sum;\r\n          }\r\n        }\r\n      }\r\n\r\n      return maxValue;\r\n    }\r\n\r\n    console.log(galssSum([[1, 1, 1, 0, 0, 0], [0, 1, 0, 0, 0, 0], [1, 1, 1, 0, 0, 0], [0, 0, 2, 4, 4, 0], [0, 0, 0, 2, 0, 0], [0, 0, 1, 2, 4, 0]]));\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function galssSum(array) {\r\n  let maxGlass = 0;\r\n  if (array[0].length == 3) {\r\n    maxGlass = 1;\r\n  } else if (array[0].length &gt; 3) {\r\n    maxGlass = array.length - 2;\r\n  }\r\n\r\n  let maxValue = -100000;\r\n  for (let i = 0; i &lt; maxGlass; i++) {\r\n    for (let j = 0; j &lt; maxGlass; j++) {\r\n      let a = array[i][j] + array[i][j + 1] + array[i][j + 2];\r\n      let b = array[i + 1][j + 1];\r\n      let c = array[i + 2][j] + array[i + 2][j + 1] + array[i + 2][j + 2];\r\n\r\n      let sum = a + b + c;\r\n\r\n      if (maxValue&lt;sum) {\r\n        maxValue = sum;\r\n      }\r\n    }\r\n  }\r\n\r\n  return maxValue;\r\n}\r\n\r\nconsole.log(galssSum([[1, 1, 1, 0, 0, 0], [0, 1, 0, 0, 0, 0], [1, 1, 1, 0, 0, 0], [0, 0, 2, 4, 4, 0], [0, 0, 0, 2, 0, 0], [0, 0, 1, 2, 4, 0]]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":14339296,"reputation":11,"user_id":10462806,"display_name":"mudunuri ramesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538756769,"creation_date":1538756769,"answer_id":52669815,"question_id":37363674,"body_markdown":"    int hourglassSum(vector&lt;vector&lt;int&gt;&gt; vec) {\r\n    \r\n        int res = 0;\r\n        int size = ((vec[0].size())-2) * ((vec.size())-2);\r\n        //cout&lt;&lt;size&lt;&lt;endl;\r\n        vector&lt;int&gt; res_vec(size);\r\n        int j = 0;\r\n        int itr =0 ;\r\n        int cnt = 0;\r\n        int mid = 0;\r\n        int l =0;\r\n        while((l+2) &lt; vec.size())\r\n        {\r\n    while((j+2) &lt; vec.size())\r\n    {\r\n            for(int i =j ;i&lt;j+3; i+=2)\r\n            {\r\n                //cout&lt;&lt;i&lt;&lt;&quot; :&quot;;\r\n                for(int k=l;k&lt;l+3;k++)\r\n                {\r\n                    //cout&lt;&lt;k&lt;&lt;&quot; &quot;;\r\n                    res_vec[itr] += vec[i][k];\r\n                }\r\n                //cout&lt;&lt;endl;\r\n            }\r\n            res_vec[itr] += vec[j+1][l+1];\r\n            //cout&lt;&lt;endl;\r\n    itr++;\r\n            j++;\r\n    }\r\n    l++;\r\n    j=0;\r\n        }\r\n    \r\n        int max=res_vec[0];\r\n    for(int i =1;i&lt;res_vec.size();i++)\r\n    {\r\n    if(max &lt; res_vec[i])\r\n    {\r\n        max = res_vec[i];\r\n    }\r\n        //cout&lt;&lt;res_vec[i]&lt;&lt; &quot; &quot;;\r\n    }\r\n    res = max;\r\n    //cout&lt;&lt;endl;\r\n        return res;\r\n    }\r\n\r\n    ","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<pre><code>int hourglassSum(vector&lt;vector&lt;int&gt;&gt; vec) {\n\n    int res = 0;\n    int size = ((vec[0].size())-2) * ((vec.size())-2);\n    //cout&lt;&lt;size&lt;&lt;endl;\n    vector&lt;int&gt; res_vec(size);\n    int j = 0;\n    int itr =0 ;\n    int cnt = 0;\n    int mid = 0;\n    int l =0;\n    while((l+2) &lt; vec.size())\n    {\nwhile((j+2) &lt; vec.size())\n{\n        for(int i =j ;i&lt;j+3; i+=2)\n        {\n            //cout&lt;&lt;i&lt;&lt;\" :\";\n            for(int k=l;k&lt;l+3;k++)\n            {\n                //cout&lt;&lt;k&lt;&lt;\" \";\n                res_vec[itr] += vec[i][k];\n            }\n            //cout&lt;&lt;endl;\n        }\n        res_vec[itr] += vec[j+1][l+1];\n        //cout&lt;&lt;endl;\nitr++;\n        j++;\n}\nl++;\nj=0;\n    }\n\n    int max=res_vec[0];\nfor(int i =1;i&lt;res_vec.size();i++)\n{\nif(max &lt; res_vec[i])\n{\n    max = res_vec[i];\n}\n    //cout&lt;&lt;res_vec[i]&lt;&lt; \" \";\n}\nres = max;\n//cout&lt;&lt;endl;\n    return res;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4533824,"reputation":21,"user_id":4232005,"display_name":"Mohamed Elkady"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559975551,"creation_date":1559975551,"answer_id":56504091,"question_id":37363674,"body_markdown":"    // Complete the hourglassSum function below.\r\n    static int hourglassSum(int[][] arr) {\r\n        int max = Integer.MIN_VALUE;\r\n        for (int i = 0; i &lt; arr.length - 2; i++) {\r\n            for (int j = 0; j &lt; arr.length - 2; j++) {\r\n                int hourGlassSum = (arr[i][j] + arr[i][j + 1] + arr[i][j + 2])\r\n                        + (arr[i + 1][j + 1])\r\n                        + (arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2]);\r\n                max = Math.max(hourGlassSum,max);\r\n            }\r\n\r\n        }\r\n        return max;\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<pre><code>// Complete the hourglassSum function below.\nstatic int hourglassSum(int[][] arr) {\n    int max = Integer.MIN_VALUE;\n    for (int i = 0; i &lt; arr.length - 2; i++) {\n        for (int j = 0; j &lt; arr.length - 2; j++) {\n            int hourGlassSum = (arr[i][j] + arr[i][j + 1] + arr[i][j + 2])\n                    + (arr[i + 1][j + 1])\n                    + (arr[i + 2][j] + arr[i + 2][j + 1] + arr[i + 2][j + 2]);\n            max = Math.max(hourGlassSum,max);\n        }\n\n    }\n    return max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3975707,"reputation":1021,"user_id":3278943,"display_name":"Arun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646481456,"creation_date":1646481456,"answer_id":71361975,"question_id":37363674,"body_markdown":"     public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {\r\n        // Write your code here\r\n        \r\n        \r\n        int maxSum = Integer.MIN_VALUE;\r\n    for (int i = 0; i &lt; 4; i++) {\r\n        for (int j = 0; j &lt; 4; j++) {\r\n            int sum = arr.get(i).get(j) +arr.get(i).get(j+1) + \r\n            arr.get(i).get(j+2)+arr.get(i+1).get(j+1)+\r\n            arr.get(i+2).get(j)+arr.get(i+2).get(j+1)+arr.get(i+2).get(j+2);\r\n            if (maxSum &lt; sum) {\r\n                maxSum = sum;\r\n            }\r\n        }\r\n    }\r\n    \r\n    return maxSum;\r\n    \r\n        }\r\n   \r\n    }\r\n\r\n","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<pre><code> public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {\n    // Write your code here\n    \n    \n    int maxSum = Integer.MIN_VALUE;\nfor (int i = 0; i &lt; 4; i++) {\n    for (int j = 0; j &lt; 4; j++) {\n        int sum = arr.get(i).get(j) +arr.get(i).get(j+1) + \n        arr.get(i).get(j+2)+arr.get(i+1).get(j+1)+\n        arr.get(i+2).get(j)+arr.get(i+2).get(j+1)+arr.get(i+2).get(j+2);\n        if (maxSum &lt; sum) {\n            maxSum = sum;\n        }\n    }\n}\n\nreturn maxSum;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1653069,"reputation":1472,"user_id":1523263,"accept_rate":46,"display_name":"Nagappa L M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665562931,"creation_date":1665562931,"answer_id":74038645,"question_id":37363674,"body_markdown":"Iterative way,Passing all test cases in hackerank web\r\n\r\n     public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {\r\n        // Write your code here\r\n        int rowsCount=arr.size();\r\n        int colCount=arr.get(0).size();\r\n        Integer max=Integer.MIN_VALUE;\r\n        Integer subSum=0;\r\n        for(int r=0; (r+3)&lt;=rowsCount; r++)\r\n        {\r\n             for(int c=0; (c+3)&lt;=colCount; c++)\r\n               {\r\n            subSum= hourglassSubSum(arr,r,c);\r\n                    System.out.println(&quot;r,c,subSum &quot;+r+&quot; &quot;+c+&quot; &quot;+&quot; &quot;+subSum);\r\n            if(subSum&gt;max)\r\n            {\r\n                max=subSum;\r\n            }\r\n                }\r\n        }      \r\n        return max;\r\n        }\r\n    \r\n    public static int hourglassSubSum(List&lt;List&lt;Integer&gt;&gt; hourglassArray,\r\n    int rowIndex,int colIndex) {\r\n        // Write your code here\r\n        Integer subSum=0;\r\n         for(int i=rowIndex;i&lt;(rowIndex+3);i++)\r\n         {\r\n             for(int j=colIndex;j&lt;(colIndex+3);j++)\r\n                {\r\n                    if(i==(rowIndex+1) &amp;&amp; (j==colIndex || j==colIndex+2))\r\n                    {\r\n                        continue;\r\n                    }\r\n                    subSum=subSum+hourglassArray.get(i).get(j);\r\n                }\r\n         }\r\n        return subSum;\r\n        }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Iterative way,Passing all test cases in hackerank web</p>\n<pre><code> public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {\n    // Write your code here\n    int rowsCount=arr.size();\n    int colCount=arr.get(0).size();\n    Integer max=Integer.MIN_VALUE;\n    Integer subSum=0;\n    for(int r=0; (r+3)&lt;=rowsCount; r++)\n    {\n         for(int c=0; (c+3)&lt;=colCount; c++)\n           {\n        subSum= hourglassSubSum(arr,r,c);\n                System.out.println(&quot;r,c,subSum &quot;+r+&quot; &quot;+c+&quot; &quot;+&quot; &quot;+subSum);\n        if(subSum&gt;max)\n        {\n            max=subSum;\n        }\n            }\n    }      \n    return max;\n    }\n\npublic static int hourglassSubSum(List&lt;List&lt;Integer&gt;&gt; hourglassArray,\nint rowIndex,int colIndex) {\n    // Write your code here\n    Integer subSum=0;\n     for(int i=rowIndex;i&lt;(rowIndex+3);i++)\n     {\n         for(int j=colIndex;j&lt;(colIndex+3);j++)\n            {\n                if(i==(rowIndex+1) &amp;&amp; (j==colIndex || j==colIndex+2))\n                {\n                    continue;\n                }\n                subSum=subSum+hourglassArray.get(i).get(j);\n            }\n     }\n    return subSum;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10168350,"reputation":1388,"user_id":7666239,"display_name":"Sergey Nemchinov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674476557,"creation_date":1674476557,"answer_id":75209445,"question_id":37363674,"body_markdown":"Solution for actual &quot;2D Array - DS&quot; challenge from HackerRank https://www.hackerrank.com/challenges/2d-array\r\n\r\n    public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {        \r\n        int maxSum = Integer.MIN_VALUE;\r\n        for (int col=0; col &lt;= 3; col++) {\r\n            for (int row=0; row &lt;= 3; row++) {\r\n                int sum = calcHourglass(arr, col, row);                \r\n                maxSum = Math.max(sum, maxSum);\r\n            }\r\n        }\r\n        return maxSum;\r\n    }\r\n    \r\n    private static int calcHourglass(List&lt;List&lt;Integer&gt;&gt; arr, int col, int row) {        \r\n        int sum = 0;\r\n        for (int i=0; i &lt; 3; i++) {\r\n            sum += arr.get(row).get(col+i);   // the top of the hourglass\r\n            sum += arr.get(row+2).get(col+i); // the bottom of the hourglass\r\n        }        \r\n        sum += arr.get(row+1).get(col+1);     // the center\r\n        return sum;\r\n    }","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>Solution for actual &quot;2D Array - DS&quot; challenge from HackerRank <a href=\"https://www.hackerrank.com/challenges/2d-array\" rel=\"nofollow noreferrer\">https://www.hackerrank.com/challenges/2d-array</a></p>\n<pre><code>public static int hourglassSum(List&lt;List&lt;Integer&gt;&gt; arr) {        \n    int maxSum = Integer.MIN_VALUE;\n    for (int col=0; col &lt;= 3; col++) {\n        for (int row=0; row &lt;= 3; row++) {\n            int sum = calcHourglass(arr, col, row);                \n            maxSum = Math.max(sum, maxSum);\n        }\n    }\n    return maxSum;\n}\n\nprivate static int calcHourglass(List&lt;List&lt;Integer&gt;&gt; arr, int col, int row) {        \n    int sum = 0;\n    for (int i=0; i &lt; 3; i++) {\n        sum += arr.get(row).get(col+i);   // the top of the hourglass\n        sum += arr.get(row+2).get(col+i); // the bottom of the hourglass\n    }        \n    sum += arr.get(row+1).get(col+1);     // the center\n    return sum;\n}\n</code></pre>\n"}],"owner":{"account_id":2188743,"reputation":1941,"user_id":1936461,"accept_rate":88,"display_name":"RajSharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28674,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":37363726,"answer_count":16,"score":7,"last_activity_date":1674476557,"creation_date":1463837825,"question_id":37363674,"body_markdown":"I am working on a problem where I&#39;ve to print the largest sum among all the hourglasses in the array. You can find the details about the problem [here-][1]\r\n\r\n\r\n**What I tried:**\r\n\r\n    public class Solution {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tint arr[][] = new int[6][6];\r\n    \t\tfor (int arr_i = 0; arr_i &lt; 6; arr_i++) {\r\n    \t\t\tfor (int arr_j = 0; arr_j &lt; 6; arr_j++) {\r\n    \t\t\t\tarr[arr_i][arr_j] = in.nextInt();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tint sum = 0;\r\n    \t\tint tmp_sum = 0;\r\n    \t\tfor (int arr_i = 0; arr_i &lt; 4; arr_i++) {\r\n    \t\t\tfor (int arr_j = 0; arr_j &lt; 4; arr_j++) {\r\n    \t\t\t\tif (arr[arr_i][arr_j] &gt; 0) {\r\n    \t\t\t\t\tsum = sum + (arr[arr_i][arr_j]) + (arr[arr_i][arr_j + 1]) + (arr[arr_i][arr_j + 2]);\r\n    \t\t\t\t\tsum = sum + (arr[arr_i + 1][arr_j + 1]);\r\n    \t\t\t\t\tsum = sum + (arr[arr_i + 2][arr_j]) + (arr[arr_i + 2][arr_j + 1]) + (arr[arr_i + 2][arr_j + 2]);\r\n    \t\t\t\t\tif (tmp_sum &lt; sum) {\r\n    \t\t\t\t\t\ttmp_sum = sum;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tsum = 0;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(tmp_sum);\r\n    \t}\r\n    }\r\n\r\n**Input:**\r\n\r\n    1 1 1 0 0 0\r\n    0 1 0 0 0 0\r\n    1 1 1 0 0 0\r\n    0 9 2 -4 -4 0\r\n    0 0 0 -2 0 0\r\n    0 0 -1 -2 -4 0\r\n\r\n**Output:**\r\n\r\n    12\r\n\r\n**Expected Output:**\r\n\r\n    13\r\n\r\n**Screenshot:**\r\n[![enter image description here][2]][2]\r\n\r\nI don&#39;t know where I&#39;m doing wrong. I cannot understand why the expected output is `13`. According to the description given in the problem it should be `10`. Is this a wrong question or my understanding about this is wrong?\r\n\r\n  [1]: https://www.hackerrank.com/challenges/2d-array\r\n  [2]: http://i.stack.imgur.com/rnrhW.png","title":"Java - How to Solve this 2D Array Hour Glass?","body":"<p>I am working on a problem where I've to print the largest sum among all the hourglasses in the array. You can find the details about the problem <a href=\"https://www.hackerrank.com/challenges/2d-array\" rel=\"noreferrer\">here-</a></p>\n\n<p><strong>What I tried:</strong></p>\n\n<pre><code>public class Solution {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        int arr[][] = new int[6][6];\n        for (int arr_i = 0; arr_i &lt; 6; arr_i++) {\n            for (int arr_j = 0; arr_j &lt; 6; arr_j++) {\n                arr[arr_i][arr_j] = in.nextInt();\n            }\n        }\n\n        int sum = 0;\n        int tmp_sum = 0;\n        for (int arr_i = 0; arr_i &lt; 4; arr_i++) {\n            for (int arr_j = 0; arr_j &lt; 4; arr_j++) {\n                if (arr[arr_i][arr_j] &gt; 0) {\n                    sum = sum + (arr[arr_i][arr_j]) + (arr[arr_i][arr_j + 1]) + (arr[arr_i][arr_j + 2]);\n                    sum = sum + (arr[arr_i + 1][arr_j + 1]);\n                    sum = sum + (arr[arr_i + 2][arr_j]) + (arr[arr_i + 2][arr_j + 1]) + (arr[arr_i + 2][arr_j + 2]);\n                    if (tmp_sum &lt; sum) {\n                        tmp_sum = sum;\n                    }\n                    sum = 0;\n                }\n            }\n        }\n        System.out.println(tmp_sum);\n    }\n}\n</code></pre>\n\n<p><strong>Input:</strong></p>\n\n<pre><code>1 1 1 0 0 0\n0 1 0 0 0 0\n1 1 1 0 0 0\n0 9 2 -4 -4 0\n0 0 0 -2 0 0\n0 0 -1 -2 -4 0\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>12\n</code></pre>\n\n<p><strong>Expected Output:</strong></p>\n\n<pre><code>13\n</code></pre>\n\n<p><strong>Screenshot:</strong>\n<a href=\"https://i.stack.imgur.com/rnrhW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rnrhW.png\" alt=\"enter image description here\"></a></p>\n\n<p>I don't know where I'm doing wrong. I cannot understand why the expected output is <code>13</code>. According to the description given in the problem it should be <code>10</code>. Is this a wrong question or my understanding about this is wrong?</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":3631143,"reputation":55363,"user_id":3027266,"accept_rate":75,"display_name":"Wernfried Domscheit"},"score":0,"creation_date":1674231783,"post_id":75177756,"comment_id":132677413,"body_markdown":"Maybe test with openssl, the URI would correspond to `openssl s_client -connect host:37017 -CAfile &quot;path to .pem file&quot; -quiet -no_ign_eof -status &lt;&lt;&lt; Q` What is the config file of the MongoDB?","body":"Maybe test with openssl, the URI would correspond to <code>openssl s_client -connect host:37017 -CAfile &quot;path to .pem file&quot; -quiet -no_ign_eof -status &lt;&lt;&lt; Q</code> What is the config file of the MongoDB?"}],"answers":[{"tags":[],"owner":{"account_id":80984,"reputation":825,"user_id":228649,"display_name":"Corneil du Plessis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674475749,"creation_date":1674475749,"answer_id":75209293,"question_id":75177756,"body_markdown":"MongoDB Java Client requires the certificate be loaded in the JVM keystore.\r\n\r\n[https://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/ssl/][1]\r\n\r\n\r\n  [1]: https://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/ssl/","title":"Issue while setting up tls/ssl for mongo db connection in a spring boot application","body":"<p>MongoDB Java Client requires the certificate be loaded in the JVM keystore.</p>\n<p><a href=\"https://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/ssl/\" rel=\"nofollow noreferrer\">https://mongodb.github.io/mongo-java-driver/3.0/driver/reference/connecting/ssl/</a></p>\n"}],"owner":{"account_id":7365432,"reputation":45,"user_id":5607275,"accept_rate":0,"display_name":"Aadil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":586,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674475749,"creation_date":1674159055,"question_id":75177756,"body_markdown":"I am trying to setup mongodb connection settings for a spring boot application which needs ssl settings enabled and a .pem file.\r\nMy application.yml file looks like   \r\n\r\n     spring:\r\n          data:\r\n            mongodb:\r\n              uri: mongodb://user:Pass@host:37017/DEV?authSource=admin&amp;tls=true&amp;tlsCAFile=path to .pem\r\n        file      \r\n              database: DEV\r\n\r\nI am using spring mongodb-driver-core of 4.6.1 version.\r\n\r\nBut I get the following error \r\n\r\n    com.mongodb.MongoSocketWriteException: Exception sending message\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)\r\n    \tat com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)\r\n    \tat com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)\r\n    \tat com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)\r\n    \tat com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:834)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n    \tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:353)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:296)\r\n    \tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\r\n    \tat java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\r\n    \tat java.base/sun.security.ssl.CertificateStatus$CertificateStatusConsumer.consume(CertificateStatus.java:295)\r\n    \tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n\r\nThankyou.\r\n\t","title":"Issue while setting up tls/ssl for mongo db connection in a spring boot application","body":"<p>I am trying to setup mongodb connection settings for a spring boot application which needs ssl settings enabled and a .pem file.\nMy application.yml file looks like</p>\n<pre><code> spring:\n      data:\n        mongodb:\n          uri: mongodb://user:Pass@host:37017/DEV?authSource=admin&amp;tls=true&amp;tlsCAFile=path to .pem\n    file      \n          database: DEV\n</code></pre>\n<p>I am using spring mongodb-driver-core of 4.6.1 version.</p>\n<p>But I get the following error</p>\n<pre><code>com.mongodb.MongoSocketWriteException: Exception sending message\n    at com.mongodb.internal.connection.InternalStreamConnection.translateWriteException(InternalStreamConnection.java:684)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendMessage(InternalStreamConnection.java:555)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendCommandMessage(InternalStreamConnection.java:381)\n    at com.mongodb.internal.connection.InternalStreamConnection.sendAndReceive(InternalStreamConnection.java:329)\n    at com.mongodb.internal.connection.CommandHelper.sendAndReceive(CommandHelper.java:101)\n    at com.mongodb.internal.connection.CommandHelper.executeCommand(CommandHelper.java:45)\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.initializeConnectionDescription(InternalStreamConnectionInitializer.java:131)\n    at com.mongodb.internal.connection.InternalStreamConnectionInitializer.startHandshake(InternalStreamConnectionInitializer.java:73)\n    at com.mongodb.internal.connection.InternalStreamConnection.open(InternalStreamConnection.java:182)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.lookupServerDescription(DefaultServerMonitor.java:193)\n    at com.mongodb.internal.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:157)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n    at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:353)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:296)\n    at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:291)\n    at java.base/sun.security.ssl.CertificateMessage$T12CertificateConsumer.checkServerCerts(CertificateMessage.java:654)\n    at java.base/sun.security.ssl.CertificateStatus$CertificateStatusConsumer.consume(CertificateStatus.java:295)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n</code></pre>\n<p>Thankyou.</p>\n"},{"tags":["java","spring","spring-boot","togglz"],"owner":{"account_id":10642398,"reputation":6164,"user_id":7836976,"accept_rate":95,"display_name":"runnerpaul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674475486,"creation_date":1674475486,"question_id":75209239,"body_markdown":"I&#39;m trying to use `Togglz` with `Spring Boot 2.7.8`. \r\n\r\nI created this test application to get it up and running:\r\n\r\n```Java\r\n@SpringBootApplication\r\npublic class Testproject2Application {\r\n\r\n\t@Autowired\r\n\tprivate static FeatureManager manager;\r\n\r\n\tpublic static final Feature TOGGLZ_TEST = new NamedFeature(&quot;TOGGLZ_TEST&quot;);\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(Testproject2Application.class, args);\r\n\r\n\t\tif (manager.isActive(TOGGLZ_TEST)) {\r\n\t\t\tTogglzTest togglz = new TogglzTest(manager);\r\n\t\t\ttogglz.getTogglzStatus();\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\n```Java\r\n@Configurable\r\npublic class TogglzTest {\r\n\r\n    @Autowired\r\n    private FeatureManager manager;\r\n\r\n    @Autowired\r\n    public TogglzTest(FeatureManager manager) {\r\n        this.manager = manager;\r\n    }\r\n\r\n    public void getTogglzStatus(){\r\n        System.out.println(&quot;togglzOn is working&quot;);\r\n    }\r\n\r\n}\r\n```\r\n\r\nMy pom looks like this:\r\n\r\n```XML\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.8&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.me&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;testproject2&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;testproject2&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.togglz&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;togglz-spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI set these in application.properties:\r\n\r\n```properties\r\ntogglz.enabled=true\r\ntogglz.features.TOGGLZ_TEST.enabled=true\r\n```\r\n\r\nWhen I run it I get:\r\n\r\n&gt;Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.togglz.core.manager.FeatureManager.isActive(org.togglz.core.Feature)&quot; because &quot;com.paulcarron.testproject2.Testproject2Application.manager&quot; is null\r\n\tat com.paulcarron.testproject2.Testproject2Application.main(Testproject2Application.java:22)\r\n\r\nI&#39;m not sure what I should do with manager as nothing about this is mentioned in the [Spring Boot Starter documentation][1].\r\n\r\nWhat should I do to resolve this?\r\n\r\n\r\n  [1]: https://www.togglz.org/documentation/spring-boot-starter.html","title":"Manager throws NullPointerException when using Togglz in Spring Boot application","body":"<p>I'm trying to use <code>Togglz</code> with <code>Spring Boot 2.7.8</code>.</p>\n<p>I created this test application to get it up and running:</p>\n<pre><code>@SpringBootApplication\npublic class Testproject2Application {\n\n    @Autowired\n    private static FeatureManager manager;\n\n    public static final Feature TOGGLZ_TEST = new NamedFeature(&quot;TOGGLZ_TEST&quot;);\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(Testproject2Application.class, args);\n\n        if (manager.isActive(TOGGLZ_TEST)) {\n            TogglzTest togglz = new TogglzTest(manager);\n            togglz.getTogglzStatus();\n        }\n    }\n\n}\n</code></pre>\n<pre><code>@Configurable\npublic class TogglzTest {\n\n    @Autowired\n    private FeatureManager manager;\n\n    @Autowired\n    public TogglzTest(FeatureManager manager) {\n        this.manager = manager;\n    }\n\n    public void getTogglzStatus(){\n        System.out.println(&quot;togglzOn is working&quot;);\n    }\n\n}\n</code></pre>\n<p>My pom looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.8&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.me&lt;/groupId&gt;\n    &lt;artifactId&gt;testproject2&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;testproject2&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n            &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.togglz&lt;/groupId&gt;\n            &lt;artifactId&gt;togglz-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I set these in application.properties:</p>\n<pre><code>togglz.enabled=true\ntogglz.features.TOGGLZ_TEST.enabled=true\n</code></pre>\n<p>When I run it I get:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot invoke &quot;org.togglz.core.manager.FeatureManager.isActive(org.togglz.core.Feature)&quot; because &quot;com.paulcarron.testproject2.Testproject2Application.manager&quot; is null\nat com.paulcarron.testproject2.Testproject2Application.main(Testproject2Application.java:22)</p>\n</blockquote>\n<p>I'm not sure what I should do with manager as nothing about this is mentioned in the <a href=\"https://www.togglz.org/documentation/spring-boot-starter.html\" rel=\"nofollow noreferrer\">Spring Boot Starter documentation</a>.</p>\n<p>What should I do to resolve this?</p>\n"},{"tags":["java","spring-boot","extentreports"],"answers":[{"tags":[],"owner":{"account_id":24285607,"reputation":26,"user_id":18231425,"display_name":"Vinith Vishal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674475450,"creation_date":1674475450,"answer_id":75209233,"question_id":71606554,"body_markdown":"I was able to remove/hide any Element from extent report using below code. you can add the below line to your extent report class and locate the element that you want to remove/hide from the report being generated.\r\n\r\n&quot;ExtentSparkReporterObject.config().setJs(&quot;document.getElementsByClassName(&#39;Class_Name_Of_Element_Needed_to_Be_Removed&#39;)[0].style.setProperty(&#39;display&#39;,&#39;none&#39;);&quot;);&quot;\r\n\r\nMy Actual code\r\n\r\n\r\n    public class ExtentReport {\r\n    \t static ExtentReports extent;\r\n    \t    final static String filePath = &quot;Report.html&quot;;\r\n    \t    static Map&lt;Integer, ExtentTest&gt; extentTestMap = new HashMap&lt;Integer, ExtentTest&gt;();\r\n    \r\n    \t    public synchronized static ExtentReports getReporter() {\r\n    \t        if (extent == null) {\r\n    \t        \tExtentSparkReporter html = new ExtentSparkReporter(&quot;Report.html&quot;);\r\n    \t        \thtml.config().setDocumentTitle(&quot;Web Automation Test Result&quot;);\r\n    \t        \thtml.config().setReportName(&quot;WBHM&quot;);\r\n    \t        \thtml.config().setTheme(Theme.DARK);\r\n    \t        \thtml.config().enableOfflineMode(true);\r\n    \t        \thtml.config().thumbnailForBase64();\r\n    \t        \thtml.config().setTimelineEnabled(false);\r\n    \t        \thtml.config().setJs(&quot;document.getElementsByClassName&quot;\r\n    \t        \t\t\t+ &quot;(&#39;col-md-6&#39;)[0].style.setProperty(&#39;display&#39;,&#39;none&#39;);&quot;);       \t\r\n    \t            extent = new ExtentReports();\r\n    \t            extent.attachReporter(html);\r\n    \t            extent.setSystemInfo(&quot;OS&quot;, &quot;Windows10&quot;);\r\n    \t            extent.setSystemInfo(&quot;Browser&quot;, &quot;Chrome&quot;);         \r\n    \t        }\r\n    \t        return extent;\r\n    \t    }\r\n    \t    \r\n    \t    public static synchronized ExtentTest getTest() {\r\n    \t        return (ExtentTest) extentTestMap.get((int) (long) (Thread.currentThread().getId()));\r\n    \t    }\r\n    \r\n    \t    public static synchronized ExtentTest startTest(String testName, String desc) {\r\n    \t        ExtentTest test = getReporter().createTest(testName, desc);\r\n    \t        extentTestMap.put((int) (long) (Thread.currentThread().getId()), test);\r\n    \t        return test;\r\n    \t    }\r\n    \t}\r\n\r\n","title":"How to remove few items from Extent Report","body":"<p>I was able to remove/hide any Element from extent report using below code. you can add the below line to your extent report class and locate the element that you want to remove/hide from the report being generated.</p>\n<p>&quot;ExtentSparkReporterObject.config().setJs(&quot;document.getElementsByClassName('Class_Name_Of_Element_Needed_to_Be_Removed')[0].style.setProperty('display','none');&quot;);&quot;</p>\n<p>My Actual code</p>\n<pre><code>public class ExtentReport {\n     static ExtentReports extent;\n        final static String filePath = &quot;Report.html&quot;;\n        static Map&lt;Integer, ExtentTest&gt; extentTestMap = new HashMap&lt;Integer, ExtentTest&gt;();\n\n        public synchronized static ExtentReports getReporter() {\n            if (extent == null) {\n                ExtentSparkReporter html = new ExtentSparkReporter(&quot;Report.html&quot;);\n                html.config().setDocumentTitle(&quot;Web Automation Test Result&quot;);\n                html.config().setReportName(&quot;WBHM&quot;);\n                html.config().setTheme(Theme.DARK);\n                html.config().enableOfflineMode(true);\n                html.config().thumbnailForBase64();\n                html.config().setTimelineEnabled(false);\n                html.config().setJs(&quot;document.getElementsByClassName&quot;\n                        + &quot;('col-md-6')[0].style.setProperty('display','none');&quot;);          \n                extent = new ExtentReports();\n                extent.attachReporter(html);\n                extent.setSystemInfo(&quot;OS&quot;, &quot;Windows10&quot;);\n                extent.setSystemInfo(&quot;Browser&quot;, &quot;Chrome&quot;);         \n            }\n            return extent;\n        }\n        \n        public static synchronized ExtentTest getTest() {\n            return (ExtentTest) extentTestMap.get((int) (long) (Thread.currentThread().getId()));\n        }\n\n        public static synchronized ExtentTest startTest(String testName, String desc) {\n            ExtentTest test = getReporter().createTest(testName, desc);\n            extentTestMap.put((int) (long) (Thread.currentThread().getId()), test);\n            return test;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":17846180,"reputation":705,"user_id":12962949,"display_name":"Masi Boo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":649,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75209233,"answer_count":1,"score":0,"last_activity_date":1674475450,"creation_date":1648141352,"question_id":71606554,"body_markdown":"I used Extent Reporting Framework (https://www.extentreports.com/) to generate a nice-looking report in my java / springboot app. There are a few unnecessary items that I would like to remove. Here is my report:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIn the Dashboard view, I want to remove Log Events. How to remove it? Also in the list view, there are 2 items marked. It looks like time and #test-id=1. I want to remove them. I have no idea what are those? Please let me know how to remove them? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6VUjo.png","title":"How to remove few items from Extent Report","body":"<p>I used Extent Reporting Framework (<a href=\"https://www.extentreports.com/\" rel=\"nofollow noreferrer\">https://www.extentreports.com/</a>) to generate a nice-looking report in my java / springboot app. There are a few unnecessary items that I would like to remove. Here is my report:-</p>\n<p><a href=\"https://i.stack.imgur.com/6VUjo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6VUjo.png\" alt=\"enter image description here\" /></a></p>\n<p>In the Dashboard view, I want to remove Log Events. How to remove it? Also in the list view, there are 2 items marked. It looks like time and #test-id=1. I want to remove them. I have no idea what are those? Please let me know how to remove them?</p>\n"},{"tags":["java","gwt","servlets","rpc"],"answers":[{"tags":[],"owner":{"account_id":328273,"reputation":14391,"user_id":651140,"display_name":"Andrzej Jozwik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1334909557,"creation_date":1334909557,"answer_id":10242550,"question_id":10242340,"body_markdown":"In our project we created a file on server on demand. When the file has been successful created we send notification to browser and created a link.\r\n\r\nSee servlet code:\r\n\r\n\r\n    public class DownloadServlet extends HttpServlet {       \t    \r\n    \tprivate FileManager fileManager;        \r\n    \t@Override\r\n    \tprotected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\r\n    \t\tString encodedFileName = req.getRequestURI().substring(\r\n    \t\t        req.getContextPath().length() + req.getServletPath().length() + 1);\r\n    \t\tString decodedFileName = URLDecoder.decode(encodedFileName, &quot;utf-8&quot;);    \r\n    \t\tFile downloadableFile = fileManager.toFile(decodedFileName);\r\n    \r\n    \t\tServletOutputStream os = resp.getOutputStream();\r\n    \t\ttry {\r\n    \t\t\tInputStream is = FileUtils.openInputStream(downloadableFile);\r\n    \t\t\ttry {\r\n    \t\t\t\tIOUtils.copy(is, os);\r\n    \t\t\t} finally {\r\n    \t\t\t\tis.close();\r\n    \t\t\t}\r\n    \t\t} finally {\r\n    \t\t\tos.close();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Generating a dynamic file and download it in GWT","body":"<p>In our project we created a file on server on demand. When the file has been successful created we send notification to browser and created a link.</p>\n\n<p>See servlet code:</p>\n\n<pre><code>public class DownloadServlet extends HttpServlet {              \n    private FileManager fileManager;        \n    @Override\n    protected void doGet(HttpServletRequest req, HttpServletResponse resp) throws ServletException, IOException {\n        String encodedFileName = req.getRequestURI().substring(\n                req.getContextPath().length() + req.getServletPath().length() + 1);\n        String decodedFileName = URLDecoder.decode(encodedFileName, \"utf-8\");    \n        File downloadableFile = fileManager.toFile(decodedFileName);\n\n        ServletOutputStream os = resp.getOutputStream();\n        try {\n            InputStream is = FileUtils.openInputStream(downloadableFile);\n            try {\n                IOUtils.copy(is, os);\n            } finally {\n                is.close();\n            }\n        } finally {\n            os.close();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":33298,"reputation":9860,"user_id":93156,"display_name":"jusio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1335197145,"creation_date":1335197145,"answer_id":10284105,"question_id":10242340,"body_markdown":"Current situation is, that not all browsers are able to work with local file system, so there is no universal solution in GWT. Also as far as I know FilesSstem API is not finished.\r\n\r\n As alternative you can keep using serverside generated files, or use Flash plugin to generate and store files (you will have to create a Flash app, and create some API to control it from GWT).","title":"Generating a dynamic file and download it in GWT","body":"<p>Current situation is, that not all browsers are able to work with local file system, so there is no universal solution in GWT. Also as far as I know FilesSstem API is not finished.</p>\n\n<p>As alternative you can keep using serverside generated files, or use Flash plugin to generate and store files (you will have to create a Flash app, and create some API to control it from GWT).</p>\n"},{"tags":[],"owner":{"account_id":235144,"reputation":1821,"user_id":501765,"display_name":"t&#246;rzsm&#243;kus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1343059449,"creation_date":1343059449,"answer_id":11616238,"question_id":10242340,"body_markdown":"You should definitely have a look at [Aki Miyazakis HTML5 file download code for GWT][1].\r\nIt works **on the client side** as you requested.\r\n\r\nAFAIK, as of now, it only works in Chrome, but this is supposed to change as other browsers implement the [download attribute][2].\r\n\r\n\r\n  [1]: https://github.com/akjava/html5gwt/tree/master/src/com/akjava/gwt/html5/client/download\r\n  [2]: http://updates.html5rocks.com/2011/08/Downloading-resources-in-HTML5-a-download","title":"Generating a dynamic file and download it in GWT","body":"<p>You should definitely have a look at <a href=\"https://github.com/akjava/html5gwt/tree/master/src/com/akjava/gwt/html5/client/download\" rel=\"nofollow\">Aki Miyazakis HTML5 file download code for GWT</a>.\nIt works <strong>on the client side</strong> as you requested.</p>\n\n<p>AFAIK, as of now, it only works in Chrome, but this is supposed to change as other browsers implement the <a href=\"http://updates.html5rocks.com/2011/08/Downloading-resources-in-HTML5-a-download\" rel=\"nofollow\">download attribute</a>.</p>\n"},{"tags":[],"owner":{"account_id":195966,"reputation":15172,"user_id":439171,"accept_rate":75,"display_name":"Italo Borssatto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1357308366,"creation_date":1357308366,"answer_id":14158664,"question_id":10242340,"body_markdown":"You can do that using [Data URIs][1]:\r\n\r\n 1. Make your GWT RPC method return the file content or the data to generate the file.\r\n 2. On the client side, format a [Data URI][1] with the file content received or generate the data content.\r\n 3. Use `Window.open` to open a file save dialog passing the formatted [DataURI][1].\r\n\r\nTake a look at this reference, to understand the [Data URI][1] usage:\r\n&gt; https://stackoverflow.com/questions/4639372/export-to-csv-in-jquery/7588465#7588465\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Data_URI","title":"Generating a dynamic file and download it in GWT","body":"<p>You can do that using <a href=\"http://en.wikipedia.org/wiki/Data_URI\" rel=\"nofollow noreferrer\">Data URIs</a>:</p>\n\n<ol>\n<li>Make your GWT RPC method return the file content or the data to generate the file.</li>\n<li>On the client side, format a <a href=\"http://en.wikipedia.org/wiki/Data_URI\" rel=\"nofollow noreferrer\">Data URI</a> with the file content received or generate the data content.</li>\n<li>Use <code>Window.open</code> to open a file save dialog passing the formatted <a href=\"http://en.wikipedia.org/wiki/Data_URI\" rel=\"nofollow noreferrer\">DataURI</a>.</li>\n</ol>\n\n<p>Take a look at this reference, to understand the <a href=\"http://en.wikipedia.org/wiki/Data_URI\" rel=\"nofollow noreferrer\">Data URI</a> usage:</p>\n\n<blockquote>\n  <p><a href=\"https://stackoverflow.com/questions/4639372/export-to-csv-in-jquery/7588465#7588465\">Export to csv in jQuery</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6138034,"reputation":31,"user_id":4786237,"display_name":"Bassam Jaber"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1441012119,"creation_date":1441012119,"answer_id":32307637,"question_id":10242340,"body_markdown":"    \tprivate native void Download(String filename, String text)/*-{\r\n\t      var pom = document.createElement(&#39;a&#39;);\r\n\t      pom.setAttribute(&#39;href&#39;, &#39;data:text/plain;charset=utf-8,&#39; + encodeURIComponent(text));\r\n\t      pom.setAttribute(&#39;download&#39;, filename);\r\n\t      document.body.appendChild(pom);\r\n\t      pom.click();\r\n\t     document.body.removeChild(pom); }-*/;\r\n    \r\nUse **JSNI** method inside **GWT** code , provide the file name you want to download in addition to **JSON string** as text (String) , this method will download a file with specified content in text variable to **client browser**.\r\n\t","title":"Generating a dynamic file and download it in GWT","body":"<pre><code>    private native void Download(String filename, String text)/*-{\n      var pom = document.createElement('a');\n      pom.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n      pom.setAttribute('download', filename);\n      document.body.appendChild(pom);\n      pom.click();\n     document.body.removeChild(pom); }-*/;\n</code></pre>\n\n<p>Use <strong>JSNI</strong> method inside <strong>GWT</strong> code , provide the file name you want to download in addition to <strong>JSON string</strong> as text (String) , this method will download a file with specified content in text variable to <strong>client browser</strong>.</p>\n"}],"owner":{"account_id":378228,"reputation":2297,"user_id":730821,"accept_rate":82,"display_name":"Jose Hdez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4097,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":10284105,"answer_count":5,"score":5,"last_activity_date":1674474876,"creation_date":1334908606,"question_id":10242340,"body_markdown":"I am developing a GWT application. This application is running in a server. Well, I implement a button which calls a method that generates a local file in server side. However I would like to download/generate this file in client side. How could I do this in GWT?\r\n\r\nThanks","title":"Generating a dynamic file and download it in GWT","body":"<p>I am developing a GWT application. This application is running in a server. Well, I implement a button which calls a method that generates a local file in server side. However I would like to download/generate this file in client side. How could I do this in GWT?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","memory"],"comments":[{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1674475014,"post_id":75209129,"comment_id":132714523,"body_markdown":"*&quot;there is no memory leak involved here&quot;* - could you elaborate? the more i read the more it sounds like memory leak somewhere..","body":"<i>&quot;there is no memory leak involved here&quot;</i> - could you elaborate? the more i read the more it sounds like memory leak somewhere.."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1674475260,"post_id":75209129,"comment_id":132714582,"body_markdown":"also, read [this QA](https://stackoverflow.com/a/38287515). it would be nice to know which java runtime you used, whether your app involved with JNDI, technology used (LDAP?), etc. its a detective works and we **can&#39;t** replicate the problem which make it harder for everyone involved.","body":"also, read <a href=\"https://stackoverflow.com/a/38287515\">this QA</a>. it would be nice to know which java runtime you used, whether your app involved with JNDI, technology used (LDAP?), etc. its a detective works and we <b>can&#39;t</b> replicate the problem which make it harder for everyone involved."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1674481030,"post_id":75209129,"comment_id":132716490,"body_markdown":"I don&#39;t quite follow, it seems that your application never uses above 12GB but the physical memory spikes too. How are you running your application? Are you limitting the amount of memory available?","body":"I don&#39;t quite follow, it seems that your application never uses above 12GB but the physical memory spikes too. How are you running your application? Are you limitting the amount of memory available?"},{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1674487941,"post_id":75209129,"comment_id":132719041,"body_markdown":"Have you considered upgrading to Java 17?  It has many garbage collector improvements over v 8. And additional options for tweaking it.","body":"Have you considered upgrading to Java 17?  It has many garbage collector improvements over v 8. And additional options for tweaking it."},{"owner":{"account_id":186200,"reputation":3959,"user_id":423411,"accept_rate":25,"display_name":"mmo"},"score":0,"creation_date":1674572282,"post_id":75209129,"comment_id":132739593,"body_markdown":"@Bagus Test: Of course one can never be 100% sure but the &quot;no memory leak&quot; claim comes from misc. checks using MemoryAnalyzer to analyze memory dumps and also the fact, that the heap doesn&#39;t grow over time (as can be seen in the first sketch), not even when the applications runs for several weeks. The Java version is mentioned in my description (v1.8.0_121) and we don&#39;t use JNDI nor LDAP. We *do* use JDBC to access the DB and Hibernate/JPA on top of it.","body":"@Bagus Test: Of course one can never be 100% sure but the &quot;no memory leak&quot; claim comes from misc. checks using MemoryAnalyzer to analyze memory dumps and also the fact, that the heap doesn&#39;t grow over time (as can be seen in the first sketch), not even when the applications runs for several weeks. The Java version is mentioned in my description (v1.8.0_121) and we don&#39;t use JNDI nor LDAP. We <i>do</i> use JDBC to access the DB and Hibernate/JPA on top of it."},{"owner":{"account_id":186200,"reputation":3959,"user_id":423411,"accept_rate":25,"display_name":"mmo"},"score":0,"creation_date":1674572604,"post_id":75209129,"comment_id":132739730,"body_markdown":"@Eric George Yes, we have considered upgrading the Java version but we use a bunch of libraries that can&#39;t cope with Java &gt;=v9 (the usual &quot;Java module woes&quot;...) and we simply don&#39;t have the time and money to upgrade &quot;everything&quot;, so we are currently still stuck with Java 1.8 (as so many...).","body":"@Eric George Yes, we have considered upgrading the Java version but we use a bunch of libraries that can&#39;t cope with Java &gt;=v9 (the usual &quot;Java module woes&quot;...) and we simply don&#39;t have the time and money to upgrade &quot;everything&quot;, so we are currently still stuck with Java 1.8 (as so many...)."},{"owner":{"account_id":186200,"reputation":3959,"user_id":423411,"accept_rate":25,"display_name":"mmo"},"score":0,"creation_date":1674572982,"post_id":75209129,"comment_id":132739875,"body_markdown":"@matt: you are right - the spikes at ~8:00 and at 9:00-10:00 seem to directly hit the physical memory consumption of the application. I have no explanation for this. I would have expected that at least the earlier, smaller spike would get completely absorbed by the free heap space (which - subtracting the used heap space at that time (~2 GB) from the physical consumption (~12 GB) should contain ~10 GB of free heap) but obviously that&#39;s not the case.","body":"@matt: you are right - the spikes at ~8:00 and at 9:00-10:00 seem to directly hit the physical memory consumption of the application. I have no explanation for this. I would have expected that at least the earlier, smaller spike would get completely absorbed by the free heap space (which - subtracting the used heap space at that time (~2 GB) from the physical consumption (~12 GB) should contain ~10 GB of free heap) but obviously that&#39;s not the case."},{"owner":{"account_id":186200,"reputation":3959,"user_id":423411,"accept_rate":25,"display_name":"mmo"},"score":0,"creation_date":1674573490,"post_id":75209129,"comment_id":132740045,"body_markdown":"@Bagus Tesa To clarify: With &quot;...that the heap doesn&#39;t grow over time...&quot; I meant the heap size when the system is idling (as in the left part of the first sketch). It always returns to about~2 GB. It *does* consume (considerably) more when it&#39;s busy but when idling it always returns to that figure - which is more or less given by some extensive caching that we do.","body":"@Bagus Tesa To clarify: With &quot;...that the heap doesn&#39;t grow over time...&quot; I meant the heap size when the system is idling (as in the left part of the first sketch). It always returns to about~2 GB. It <i>does</i> consume (considerably) more when it&#39;s busy but when idling it always returns to that figure - which is more or less given by some extensive caching that we do."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1674575469,"post_id":75209129,"comment_id":132740784,"body_markdown":"Are you setting -Xmx?","body":"Are you setting -Xmx?"},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1674611911,"post_id":75209129,"comment_id":132750298,"body_markdown":"@mmo is it right to assume that your jvm is Oracle&#39;s java? we have many breed of runtimes these days. *&quot;which is more or less given by some extensive caching that we do&quot;* - again, we can only do blind guesses given we can&#39;t easily replicate your problem. but to be honest, you should start by replicating the environment then narrows down the offending thing that makes your machine use that much ram bit-by-bit - like turning off that cache thingy you just said. also, read the link i gave you, it has stuff related to `-Xmx` flag and how java handles heap generally.","body":"@mmo is it right to assume that your jvm is Oracle&#39;s java? we have many breed of runtimes these days. <i>&quot;which is more or less given by some extensive caching that we do&quot;</i> - again, we can only do blind guesses given we can&#39;t easily replicate your problem. but to be honest, you should start by replicating the environment then narrows down the offending thing that makes your machine use that much ram bit-by-bit - like turning off that cache thingy you just said. also, read the link i gave you, it has stuff related to <code>-Xmx</code> flag and how java handles heap generally."},{"owner":{"account_id":186200,"reputation":3959,"user_id":423411,"accept_rate":25,"display_name":"mmo"},"score":0,"creation_date":1675242594,"post_id":75209129,"comment_id":132884261,"body_markdown":"@Bagus Tesa We are still using the AdoptOpenJDK v8 (1.8.0_121). We had downloaded it from the AdoptOpenJDK Website back then (meanwhile - as you probably know - this has been migrated to Adoptium and later to Eclipse-Temurin).","body":"@Bagus Tesa We are still using the AdoptOpenJDK v8 (1.8.0_121). We had downloaded it from the AdoptOpenJDK Website back then (meanwhile - as you probably know - this has been migrated to Adoptium and later to Eclipse-Temurin)."}],"owner":{"account_id":186200,"reputation":3959,"user_id":423411,"accept_rate":25,"display_name":"mmo"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674474842,"creation_date":1674474842,"question_id":75209129,"body_markdown":"We are having occasional issues with a Java legacy application consuming too much memory (and - no - there is no memory leak involved here). The application runs on a VM that has been assigned 16 GB of memory, 14 of which are assigned to the application.\r\n\r\nUsing the &quot;Melody&quot; monitor we observe e.g. this memory (heap) usage behavior:\r\n[![Java memory consumption (as seen by application)][1]][1]\r\n\r\nThe left, low part (at around 2 GB) is a lazy Sunday, where the application essentially idled, while the right hand side is Monday morning where we got some activity and memory consumption reached about 11 GB, which looks fairly normal and uncritical for our application. \r\n\r\nHowever, the *physical memory consumption* view looks like this:\r\n[![Physical memory usage][2]][2]\r\n\r\nHere the machine/VM (which runs only our application) &quot;idles&quot; at almost 12GB and when consumption rises the machine hits the 16 GB limit, it starts to swap (visible on another view not shown here) and after about 15&#39; at &gt;100% memory consumption the system&#39;s &quot;out-of-memory killer&quot; strikes and terminates the process. \r\nThe following blank section is showing the period during which the application was down and we were analyzing a couple of things (including taking these screenshots) before we restarted it.\r\n\r\nMy question is: can one tweak the Java VM (v1.8.0_121 in our case) to return (part of) the physical memory that it is apparently hogging? \r\n\r\nMy gut feeling is that if the VM would have returned at least part of that RAM that it isn&#39;t needing any more (at least judging from the first diagram) then the system would have had more margin for the following period of high load. \r\n\r\nIf - referring to the example shown - the physical memory would have been decreased from ~12 GB to, say, 6 GB or less during the day-long idle phase then the peak at right would probably not have gone beyond the 16 GB limit and the application would probably not have crashed.\r\n\r\nAny ideas or suggestions on this? What are suitable JVM options to force a return of unused memory - at least after some longer low-memory period as we see here?\r\n\r\nWe are currently using these VM options regarding memory tweaking:\r\n`-server -XX:+UseParallelGC -XX:GCTimeRatio=40`\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l9pM6.png\r\n  [2]: https://i.stack.imgur.com/jYgHH.png","title":"Can one tweak Java VM to return unused memory?","body":"<p>We are having occasional issues with a Java legacy application consuming too much memory (and - no - there is no memory leak involved here). The application runs on a VM that has been assigned 16 GB of memory, 14 of which are assigned to the application.</p>\n<p>Using the &quot;Melody&quot; monitor we observe e.g. this memory (heap) usage behavior:\n<a href=\"https://i.stack.imgur.com/l9pM6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/l9pM6.png\" alt=\"Java memory consumption (as seen by application)\" /></a></p>\n<p>The left, low part (at around 2 GB) is a lazy Sunday, where the application essentially idled, while the right hand side is Monday morning where we got some activity and memory consumption reached about 11 GB, which looks fairly normal and uncritical for our application.</p>\n<p>However, the <em>physical memory consumption</em> view looks like this:\n<a href=\"https://i.stack.imgur.com/jYgHH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jYgHH.png\" alt=\"Physical memory usage\" /></a></p>\n<p>Here the machine/VM (which runs only our application) &quot;idles&quot; at almost 12GB and when consumption rises the machine hits the 16 GB limit, it starts to swap (visible on another view not shown here) and after about 15' at &gt;100% memory consumption the system's &quot;out-of-memory killer&quot; strikes and terminates the process.\nThe following blank section is showing the period during which the application was down and we were analyzing a couple of things (including taking these screenshots) before we restarted it.</p>\n<p>My question is: can one tweak the Java VM (v1.8.0_121 in our case) to return (part of) the physical memory that it is apparently hogging?</p>\n<p>My gut feeling is that if the VM would have returned at least part of that RAM that it isn't needing any more (at least judging from the first diagram) then the system would have had more margin for the following period of high load.</p>\n<p>If - referring to the example shown - the physical memory would have been decreased from ~12 GB to, say, 6 GB or less during the day-long idle phase then the peak at right would probably not have gone beyond the 16 GB limit and the application would probably not have crashed.</p>\n<p>Any ideas or suggestions on this? What are suitable JVM options to force a return of unused memory - at least after some longer low-memory period as we see here?</p>\n<p>We are currently using these VM options regarding memory tweaking:\n<code>-server -XX:+UseParallelGC -XX:GCTimeRatio=40</code></p>\n"},{"tags":["java","maven","log4j2"],"comments":[{"owner":{"account_id":9635952,"reputation":5693,"user_id":7152019,"display_name":"Vikas Sachdeva"},"score":0,"creation_date":1526543637,"post_id":50377738,"comment_id":87787832,"body_markdown":"Try enabling log4j2 debugging. You can do so by adding `status = trace` in log4j2 configuration file or run application with `-Dlog4j2.debug=true` VM arguments.","body":"Try enabling log4j2 debugging. You can do so by adding <code>status = trace</code> in log4j2 configuration file or run application with <code>-Dlog4j2.debug=true</code> VM arguments."},{"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"score":0,"creation_date":1526779236,"post_id":50377738,"comment_id":87876225,"body_markdown":"Perhaps maven wasn&#39;t able to download the log4j2-core jar for some reason, try checking whether the jar actually exists in your local maven repository directory. I don&#39;t see anything wrong with the way the project is configured and am able to successfully run maven:test but I&#39;m using Eclipse Java EE IDE for Web Developers. Version: Mars.2 Release (4.5.2) Build id: 20160218-0600 on Windows 10 so I&#39;m not exactly duplicating your environment.","body":"Perhaps maven wasn&#39;t able to download the log4j2-core jar for some reason, try checking whether the jar actually exists in your local maven repository directory. I don&#39;t see anything wrong with the way the project is configured and am able to successfully run maven:test but I&#39;m using Eclipse Java EE IDE for Web Developers. Version: Mars.2 Release (4.5.2) Build id: 20160218-0600 on Windows 10 so I&#39;m not exactly duplicating your environment."},{"owner":{"account_id":2571470,"reputation":303,"user_id":2230084,"accept_rate":80,"display_name":"Matthias Wegner"},"score":0,"creation_date":1529603052,"post_id":50377738,"comment_id":88945492,"body_markdown":"Sorry, both of your tips are not working. Library is in classpath and debug shows the ERROR above. So no change at all.","body":"Sorry, both of your tips are not working. Library is in classpath and debug shows the ERROR above. So no change at all."},{"owner":{"account_id":2571470,"reputation":303,"user_id":2230084,"accept_rate":80,"display_name":"Matthias Wegner"},"score":0,"creation_date":1529610533,"post_id":50377738,"comment_id":88948928,"body_markdown":"I found a tip at https://stackoverflow.com/questions/39560740/log4j2-could-not-find-a-logging-implementation-with-sprint-boot. I deleted all from maven-repo in folder log4j. Then i called maven update and everything works. So i had a problem in the maven repo, not eclipse.","body":"I found a tip at <a href=\"https://stackoverflow.com/questions/39560740/log4j2-could-not-find-a-logging-implementation-with-sprint-boot\" title=\"log4j2 could not find a logging implementation with sprint boot\">stackoverflow.com/questions/39560740/&hellip;</a>. I deleted all from maven-repo in folder log4j. Then i called maven update and everything works. So i had a problem in the maven repo, not eclipse."}],"owner":{"account_id":2571470,"reputation":303,"user_id":2230084,"accept_rate":80,"display_name":"Matthias Wegner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674566132,"answer_count":0,"score":0,"last_activity_date":1674474734,"creation_date":1526495159,"question_id":50377738,"body_markdown":"I started a new maven-project with maven-archetype-quickstart. I use Eclipse Java EE IDE for Web Developers in Version: Oxygen.3a Release (4.7.3a), Build id: 20180405-1200 on Ubuntu 17.10.\r\n\r\nMy POM.XML is\r\n    \r\n     &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;org.rogatio&lt;/groupId&gt;\r\n      &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n      &lt;name&gt;helloworld&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;junit&lt;/groupId&gt;\r\n          &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n          &lt;version&gt;3.8.1&lt;/version&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n          &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n          &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n           &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n           &lt;version&gt;2.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n               &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n               &lt;version&gt;2.17&lt;/version&gt;\r\n               &lt;configuration&gt;\r\n            &lt;systemProperties&gt;\r\n              &lt;property&gt;\r\n                &lt;name&gt;log4j.configurationFile&lt;/name&gt;\r\n                &lt;value&gt;log4j2.properties&lt;/value&gt;\r\n              &lt;/property&gt;\r\n            &lt;/systemProperties&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\nMain-Class is\r\n    package org.rogatio.helloworld;\r\n\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n\r\n    public class App {\r\n\tfinal static Logger logger = LogManager.getLogger(App.class);\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tlogger.info(&quot;App started.&quot;);\r\n\r\n\t\tSystem.out.println(&quot;Hello World!&quot;);\r\n\r\n\t\tsayHi();\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static String sayHi() {\r\n\t\tlogger.info(&quot;Hi!&quot;);\r\n\t\tSystem.out.println(&quot;Hi!&quot;);\r\n\t\treturn &quot;Hi!&quot;;\r\n\t}\r\n    }\r\n\r\nMy Project-Structure is\r\n\r\n[![Filestructure][1]][1]\r\n\r\nThe Test-Class is\r\n\r\n    package org.rogatio.helloworld;\r\n\r\n    import junit.framework.Test;\r\n    import junit.framework.TestCase;\r\n    import junit.framework.TestSuite;\r\n\r\n    public class AppTest \r\n    extends TestCase\r\n    {\r\n    /**\r\n     * Create the test case\r\n     *\r\n     * @param testName name of the test case\r\n     */\r\n    public AppTest( String testName )\r\n    {\r\n        super( testName );\r\n    }\r\n\r\n    /**\r\n     * @return the suite of tests being tested\r\n     */\r\n    public static Test suite()\r\n    {\r\n        return new TestSuite( AppTest.class );\r\n    }\r\n\r\n    public void testApp()\r\n    {\r\n        assertTrue( true );\r\n    }\r\n    \r\n    public void testHi()\r\n    {\r\n        assertEquals( App.sayHi(), &quot;Hi!&quot; );\r\n    }\r\n    }\r\n\r\n\r\nThe problem is that running Maven-Test throws\r\n\r\n    -------------------------------------------------------\r\n     T E S T S\r\n    -------------------------------------------------------\r\n    Running org.rogatio.helloworld.AppTest\r\n    ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\n    Hi!\r\n    Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.233 sec - in org.rogatio.helloworld.AppTest\r\n\r\nAlso running the App throws\r\n\r\n    ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\r\n    Hello World!\r\n    Hi!\r\n\r\nI didn&#39;t get whats wrong. Everything is set and resources are in classpath. Any idea whats wrong? Is my POM wrong?\r\n\r\nYou can find the complete project under https://ufile.io/8zy0a\r\n\r\n  [1]: https://i.stack.imgur.com/2KnzF.png","title":"How to use in Eclipse Maven with Log4j2?","body":"<p>I started a new maven-project with maven-archetype-quickstart. I use Eclipse Java EE IDE for Web Developers in Version: Oxygen.3a Release (4.7.3a), Build id: 20180405-1200 on Ubuntu 17.10.</p>\n\n<p>My POM.XML is</p>\n\n<pre><code> &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;org.rogatio&lt;/groupId&gt;\n  &lt;artifactId&gt;helloworld&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n\n  &lt;name&gt;helloworld&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n      &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n      &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n       &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n       &lt;version&gt;2.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n           &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n           &lt;version&gt;2.17&lt;/version&gt;\n           &lt;configuration&gt;\n        &lt;systemProperties&gt;\n          &lt;property&gt;\n            &lt;name&gt;log4j.configurationFile&lt;/name&gt;\n            &lt;value&gt;log4j2.properties&lt;/value&gt;\n          &lt;/property&gt;\n        &lt;/systemProperties&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n</code></pre>\n\n<p>\n</p>\n\n<p>Main-Class is\n    package org.rogatio.helloworld;</p>\n\n<pre><code>import org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class App {\nfinal static Logger logger = LogManager.getLogger(App.class);\n\npublic static void main(String[] args) {\n\n    logger.info(\"App started.\");\n\n    System.out.println(\"Hello World!\");\n\n    sayHi();\n\n}\n\npublic static String sayHi() {\n    logger.info(\"Hi!\");\n    System.out.println(\"Hi!\");\n    return \"Hi!\";\n}\n}\n</code></pre>\n\n<p>My Project-Structure is</p>\n\n<p><a href=\"https://i.stack.imgur.com/2KnzF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2KnzF.png\" alt=\"Filestructure\"></a></p>\n\n<p>The Test-Class is</p>\n\n<pre><code>package org.rogatio.helloworld;\n\nimport junit.framework.Test;\nimport junit.framework.TestCase;\nimport junit.framework.TestSuite;\n\npublic class AppTest \nextends TestCase\n{\n/**\n * Create the test case\n *\n * @param testName name of the test case\n */\npublic AppTest( String testName )\n{\n    super( testName );\n}\n\n/**\n * @return the suite of tests being tested\n */\npublic static Test suite()\n{\n    return new TestSuite( AppTest.class );\n}\n\npublic void testApp()\n{\n    assertTrue( true );\n}\n\npublic void testHi()\n{\n    assertEquals( App.sayHi(), \"Hi!\" );\n}\n}\n</code></pre>\n\n<p>The problem is that running Maven-Test throws</p>\n\n<pre><code>-------------------------------------------------------\n T E S T S\n-------------------------------------------------------\nRunning org.rogatio.helloworld.AppTest\nERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nHi!\nTests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.233 sec - in org.rogatio.helloworld.AppTest\n</code></pre>\n\n<p>Also running the App throws</p>\n\n<pre><code>ERROR StatusLogger Log4j2 could not find a logging implementation. Please add log4j-core to the classpath. Using SimpleLogger to log to the console...\nHello World!\nHi!\n</code></pre>\n\n<p>I didn't get whats wrong. Everything is set and resources are in classpath. Any idea whats wrong? Is my POM wrong?</p>\n\n<p>You can find the complete project under <a href=\"https://ufile.io/8zy0a\" rel=\"nofollow noreferrer\">https://ufile.io/8zy0a</a></p>\n"},{"tags":["java","spring-boot","sts"],"comments":[{"owner":{"account_id":9540097,"reputation":1519,"user_id":7088682,"display_name":"Nisarg Patil"},"score":1,"creation_date":1674472763,"post_id":75208589,"comment_id":132713849,"body_markdown":"Check which jre/jdk is being picked by STS?\nWindow &gt; Preferences &gt; Installed JREs","body":"Check which jre/jdk is being picked by STS? Window &gt; Preferences &gt; Installed JREs"},{"owner":{"account_id":18616679,"reputation":13,"user_id":13567830,"display_name":"Manissh Khaparde"},"score":0,"creation_date":1674473335,"post_id":75208589,"comment_id":132714034,"body_markdown":"Yes.. i pointed to JDK 17 only. But still facing the same issue.","body":"Yes.. i pointed to JDK 17 only. But still facing the same issue."}],"owner":{"account_id":18616679,"reputation":13,"user_id":13567830,"display_name":"Manissh Khaparde"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674474630,"creation_date":1674471868,"question_id":75208589,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/zYqwz.png)](https://i.stack.imgur.com/zYqwz.png)\r\n\r\nI am getting this error on STS 4.6.1 version which is 64 bit &amp; Java 17 version is also 64 bit. Yesterday it was running properly. But when I run again it is showing error.\r\n\r\nI checked both the STS &amp; JDK &amp; OS version. All are 64 bit only. But still facing this issue.\r\n\r\n","title":"Regarding error on STS 4.6.1 64 bit version","body":"<p><a href=\"https://i.stack.imgur.com/zYqwz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zYqwz.png\" alt=\"enter image description here\" /></a></p>\n<p>I am getting this error on STS 4.6.1 version which is 64 bit &amp; Java 17 version is also 64 bit. Yesterday it was running properly. But when I run again it is showing error.</p>\n<p>I checked both the STS &amp; JDK &amp; OS version. All are 64 bit only. But still facing this issue.</p>\n"},{"tags":["java","spring","spring-boot","timestamp","applicationcontext"],"answers":[{"tags":[],"owner":{"account_id":370159,"reputation":4890,"user_id":717932,"accept_rate":91,"display_name":"dardo"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1500585916,"creation_date":1500585916,"answer_id":45225468,"question_id":45220645,"body_markdown":"There&#39;s two properties you can set, one for a file, one for console.\r\n\r\n`logging.pattern.console`\r\n\r\n`logging.pattern.file`\r\n\r\nSet these within the application.properties file to override the default.","title":"Disable/Change Timestamp of ApplicationContext of Spring Boot from console","body":"<p>There's two properties you can set, one for a file, one for console.</p>\n\n<p><code>logging.pattern.console</code></p>\n\n<p><code>logging.pattern.file</code></p>\n\n<p>Set these within the application.properties file to override the default.</p>\n"},{"tags":[],"owner":{"account_id":27572274,"reputation":11,"user_id":21043233,"display_name":"MIHIR MER"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674474601,"creation_date":1674130852,"answer_id":75172143,"question_id":45220645,"body_markdown":"Straight forward answer will be, add following line to the `application.properties` file located at `my_awesome_project/src/resources` .\r\n\r\n`logging.pattern.console= %-5level %logger - %msg%n`\r\n\r\nFor exploring more about custom logging, refer below link:\r\n\r\n[Spring boot logging using properties config][1]\r\n\r\n\r\n  [1]: https://howtodoinjava.com/spring-boot2/logging/logging-application-properties/","title":"Disable/Change Timestamp of ApplicationContext of Spring Boot from console","body":"<p>Straight forward answer will be, add following line to the <code>application.properties</code> file located at <code>my_awesome_project/src/resources</code> .</p>\n<p><code>logging.pattern.console= %-5level %logger - %msg%n</code></p>\n<p>For exploring more about custom logging, refer below link:</p>\n<p><a href=\"https://howtodoinjava.com/spring-boot2/logging/logging-application-properties/\" rel=\"nofollow noreferrer\">Spring boot logging using properties config</a></p>\n"}],"owner":{"account_id":3079963,"reputation":183,"user_id":2608424,"accept_rate":62,"display_name":"user2608424"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1674474601,"creation_date":1500568986,"question_id":45220645,"body_markdown":"Everytime we start our Spring Boot Application, Spring Boot prints the line below:\r\n\r\n&gt; 2017-07-20 00:43:53.605 INFO 3857 --- [ main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@65d83111: startup date [Thu Jul 20 00:43:53 UTC 2017]; root of context hierarchy.\r\n\r\nI would like to change the timestamp format of the above line i.e. `[Thu Jul 20 00:43:53 UTC 2017]`. If not at least disable from printing the timestamp. How do I do that?","title":"Disable/Change Timestamp of ApplicationContext of Spring Boot from console","body":"<p>Everytime we start our Spring Boot Application, Spring Boot prints the line below:</p>\n\n<blockquote>\n  <p>2017-07-20 00:43:53.605 INFO 3857 --- [ main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@65d83111: startup date [Thu Jul 20 00:43:53 UTC 2017]; root of context hierarchy.</p>\n</blockquote>\n\n<p>I would like to change the timestamp format of the above line i.e. <code>[Thu Jul 20 00:43:53 UTC 2017]</code>. If not at least disable from printing the timestamp. How do I do that?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":299745,"reputation":739,"user_id":606513,"accept_rate":74,"display_name":"schneida"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674474101,"creation_date":1674474101,"answer_id":75209010,"question_id":75208926,"body_markdown":"You should be able to use the [`WebElement#getCssValue(propertyName)`][1] method, e.g. like this:\r\n\r\n```\r\nBy findBy = By.xpath(&quot;//div[@col-id=&#39;Name&#39;]&quot;)\r\nWebElement element = driver.findElement(findBy);\r\nString fontSizeCssValue = element.getCssValue(&quot;font-size&quot;);\r\nSystem.out.println(fontSizeCssValue );\r\n```\r\n\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#getCssValue(java.lang.String)","title":"How to validate font sizes in single column of webtable?","body":"<p>You should be able to use the <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/WebElement.html#getCssValue(java.lang.String)\" rel=\"nofollow noreferrer\"><code>WebElement#getCssValue(propertyName)</code></a> method, e.g. like this:</p>\n<pre><code>By findBy = By.xpath(&quot;//div[@col-id='Name']&quot;)\nWebElement element = driver.findElement(findBy);\nString fontSizeCssValue = element.getCssValue(&quot;font-size&quot;);\nSystem.out.println(fontSizeCssValue );\n</code></pre>\n"}],"owner":{"account_id":26403014,"reputation":29,"user_id":21042124,"display_name":"Max Brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75209010,"answer_count":1,"score":0,"last_activity_date":1674474424,"creation_date":1674473641,"question_id":75208926,"body_markdown":"DOM structure of Name column:\r\n\r\n```html\r\n&lt;div comp-id=&quot;362&quot; class=&quot;ag-cell-value ag cell ag-cell-not-inline-editing ag-cell-normal-\r\nheight nameVal-cell ag-cell-focus&quot; aria-colindex=&quot;2&quot; tabindex=&quot;-1&quot; col-id=&quot;Name&quot; role=&quot;gridcell&quot;\r\nstyle=&quot;left: 0px; width: 150px; line-height: 18px; padding: 8px; display: inline-block; white-space: nowrap; overflow:hidden; margin-right: 20px;&quot;&gt;\r\n&lt;span&gt;\r\n&lt;span&gt;\r\n&quot;Sam Michaels&quot; == $0\r\n&lt;span&gt;\r\n&lt;br&gt;\r\n&lt;span style=&quot;font-size: 1.2rem&quot;&gt;Male&lt;/span&gt;\r\n&lt;/span&gt;\r\n```\r\n\r\nI got 4 columns: Name, Gender, Location and Occupation.\r\nName column xpath: `//div[@col-id=&#39;Name&#39;`]\r\n\r\nInside Name column, every row has two things: &quot;Name&quot; (Large font) and &quot;Age&quot; (Small font). How to validate font sizes in that &quot;Name&quot; column?","title":"How to validate font sizes in single column of webtable?","body":"<p>DOM structure of Name column:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div comp-id=&quot;362&quot; class=&quot;ag-cell-value ag cell ag-cell-not-inline-editing ag-cell-normal-\nheight nameVal-cell ag-cell-focus&quot; aria-colindex=&quot;2&quot; tabindex=&quot;-1&quot; col-id=&quot;Name&quot; role=&quot;gridcell&quot;\nstyle=&quot;left: 0px; width: 150px; line-height: 18px; padding: 8px; display: inline-block; white-space: nowrap; overflow:hidden; margin-right: 20px;&quot;&gt;\n&lt;span&gt;\n&lt;span&gt;\n&quot;Sam Michaels&quot; == $0\n&lt;span&gt;\n&lt;br&gt;\n&lt;span style=&quot;font-size: 1.2rem&quot;&gt;Male&lt;/span&gt;\n&lt;/span&gt;\n</code></pre>\n<p>I got 4 columns: Name, Gender, Location and Occupation.\nName column xpath: <code>//div[@col-id='Name'</code>]</p>\n<p>Inside Name column, every row has two things: &quot;Name&quot; (Large font) and &quot;Age&quot; (Small font). How to validate font sizes in that &quot;Name&quot; column?</p>\n"},{"tags":["java","arrays","matrix"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1511367117,"post_id":47439033,"comment_id":81833245,"body_markdown":"Could you be more specific about what your problem is?  If you want the values in the bottom to match the top, use the values from the top instead of picking new random values.  What is stopping you from doing this?","body":"Could you be more specific about what your problem is?  If you want the values in the bottom to match the top, use the values from the top instead of picking new random values.  What is stopping you from doing this?"},{"owner":{"account_id":4946278,"reputation":2015,"user_id":3981536,"display_name":"Jos"},"score":0,"creation_date":1511367124,"post_id":47439033,"comment_id":81833250,"body_markdown":"how do you want the matrix to be symmetric? or describe your definition of symmetric","body":"how do you want the matrix to be symmetric? or describe your definition of symmetric"}],"answers":[{"tags":[],"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1511367139,"creation_date":1511367139,"answer_id":47439275,"question_id":47439033,"body_markdown":"For the random value that you assigned to `array[i][j]`, you also assign it to `array[j][i]`, except for the matrix diagonal of course.\r\n\r\nAlso, you change your inner loop stopping condition to be `j&lt;=i`, so you don&#39;t iterate over the other side of the matrix.\r\n\r\n    for (int i = 0; i &lt; array.length; i++) {\r\n      for (int j = 0; j &lt;= i; j++) {\r\n    \tint x = random.nextInt(101);\r\n    \tarray[i][j] = x;\r\n\t\tif (i != j) {\r\n     \t  array[j][i] = x;\r\n    \t}\r\n      }\r\n    }","title":"Java 2D array with random number Symetric matrix","body":"<p>For the random value that you assigned to <code>array[i][j]</code>, you also assign it to <code>array[j][i]</code>, except for the matrix diagonal of course.</p>\n\n<p>Also, you change your inner loop stopping condition to be <code>j&lt;=i</code>, so you don't iterate over the other side of the matrix.</p>\n\n<pre><code>for (int i = 0; i &lt; array.length; i++) {\n  for (int j = 0; j &lt;= i; j++) {\n    int x = random.nextInt(101);\n    array[i][j] = x;\n    if (i != j) {\n      array[j][i] = x;\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20063565,"reputation":1,"user_id":14709759,"display_name":"Taiye Ige"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674474411,"creation_date":1674474411,"answer_id":75209059,"question_id":47439033,"body_markdown":"Here is a complete solution. I assume from your description that 2D matrix is to represent a graph.\r\n\r\n```\r\npublic static double[][] RandomArray(int n){\r\n\t\t\r\n\t\tdouble [][] array = new double[n][n];\r\n\t\t\r\n\r\n\t\tRandom rand = new Random();\r\n\t\t\r\n\t\tfor(int i=0; i&lt;n; i++) {\r\n\t\t\tfor(int j=0; j&lt;=i; j++) {\r\n\t\t\t\tInteger r = Math.abs(rand.nextInt(101));\r\n\t\t\t\tarray[i][j] = r;\r\n\t\t\t\tif (i != j) {\r\n\t\t\t\t\tarray[j][i] = r;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tarray[i][j] = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn array;\r\n\t\t\r\n\t}\r\n```","title":"Java 2D array with random number Symetric matrix","body":"<p>Here is a complete solution. I assume from your description that 2D matrix is to represent a graph.</p>\n<pre><code>public static double[][] RandomArray(int n){\n        \n        double [][] array = new double[n][n];\n        \n\n        Random rand = new Random();\n        \n        for(int i=0; i&lt;n; i++) {\n            for(int j=0; j&lt;=i; j++) {\n                Integer r = Math.abs(rand.nextInt(101));\n                array[i][j] = r;\n                if (i != j) {\n                    array[j][i] = r;\n                }\n                else {\n                    array[i][j] = 0;\n                }\n            }\n        }\n        \n        return array;\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":12247823,"reputation":23,"user_id":8939045,"accept_rate":50,"display_name":"Bartosz Grabczak"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":898,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":47439275,"answer_count":2,"score":-1,"last_activity_date":1674474411,"creation_date":1511366389,"question_id":47439033,"body_markdown":"I am trying to make a method which creates a 2D symetrix matrix that is generated randomly and it is of n size. The random numbers also have to be between 0 and 100.\r\n\r\nHeres what i got so far;\r\n\r\n    public static void randomArray(int n)\r\n    {\r\n    \t\t Random random = new Random();\r\n    \r\n    \t        double[][] array = new double[n][n];\r\n    \r\n    \t        for( int i = 0 ; i &lt; array.length ; i++ ) { \r\n    \t           for ( int j = 0 ; j &lt; array[i].length ; j++ ) { \r\n    \t              array[i][j] = random.nextInt(101);\r\n    \t           }\r\n    \t        }\r\n    \t        for( double[] a : array ) { \r\n    \t            System.out.println( Arrays.toString( a ));\r\n    \t        }\r\n    \r\n    \t}//end of randomArray\r\n\r\nThis successfully generates a 2D array with random numbers, but the matrix is not symetric and i am confused as to how to make it symetrix. ","title":"Java 2D array with random number Symetric matrix","body":"<p>I am trying to make a method which creates a 2D symetrix matrix that is generated randomly and it is of n size. The random numbers also have to be between 0 and 100.</p>\n\n<p>Heres what i got so far;</p>\n\n<pre><code>public static void randomArray(int n)\n{\n         Random random = new Random();\n\n            double[][] array = new double[n][n];\n\n            for( int i = 0 ; i &lt; array.length ; i++ ) { \n               for ( int j = 0 ; j &lt; array[i].length ; j++ ) { \n                  array[i][j] = random.nextInt(101);\n               }\n            }\n            for( double[] a : array ) { \n                System.out.println( Arrays.toString( a ));\n            }\n\n    }//end of randomArray\n</code></pre>\n\n<p>This successfully generates a 2D array with random numbers, but the matrix is not symetric and i am confused as to how to make it symetrix. </p>\n"},{"tags":["java","spring-boot","servlet-filters","multi-module"],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674474225,"creation_date":1674468247,"answer_id":75207973,"question_id":75207686,"body_markdown":"Don&#39;t duplicate them.\r\n\r\nEvery implementation of `javax.servlet.Filter` annotated as a @Component will be created and added to the filter pipeline by Spring","title":"Using Request Response Filter in a multi-module springboot application","body":"<p>Don't duplicate them.</p>\n<p>Every implementation of <code>javax.servlet.Filter</code> annotated as a @Component will be created and added to the filter pipeline by Spring</p>\n"}],"owner":{"account_id":25454974,"reputation":41,"user_id":19313923,"display_name":"Prakhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674474225,"creation_date":1674466659,"question_id":75207686,"body_markdown":"I have created a multi-module application with 3 modules in it (one main and two other modules). I have created a custom request response filter in all the three modules with ***same name***.\r\n\r\nNow when I am triggering an endpoint present in one module, the request is getting filtered randomly through any of the three filters and hence getting unexpected response each time.\r\n\r\nCan someone please help me with this if they have encountered this earlier as I am not getting slight clue why this is happening? \r\n\r\nAlso, if possible please share detailed explanation.","title":"Using Request Response Filter in a multi-module springboot application","body":"<p>I have created a multi-module application with 3 modules in it (one main and two other modules). I have created a custom request response filter in all the three modules with <em><strong>same name</strong></em>.</p>\n<p>Now when I am triggering an endpoint present in one module, the request is getting filtered randomly through any of the three filters and hence getting unexpected response each time.</p>\n<p>Can someone please help me with this if they have encountered this earlier as I am not getting slight clue why this is happening?</p>\n<p>Also, if possible please share detailed explanation.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","aws-lambda","aws-serverless"],"comments":[{"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"score":0,"creation_date":1656854734,"post_id":72716583,"comment_id":128668063,"body_markdown":"Please include the full stacktrace","body":"Please include the full stacktrace"},{"owner":{"account_id":74149,"reputation":1808,"user_id":213199,"accept_rate":49,"display_name":"Stella"},"score":0,"creation_date":1688060713,"post_id":72716583,"comment_id":135026633,"body_markdown":"Im facing the same issue. please help me here: \nhttps://stackoverflow.com/questions/76577207/spring-boot-deployed-in-lambda-throws-nosuchmethoderror\n\nAppreciate your help.","body":"Im facing the same issue. please help me here:  <a href=\"https://stackoverflow.com/questions/76577207/spring-boot-deployed-in-lambda-throws-nosuchmethoderror\" title=\"spring boot deployed in lambda throws nosuchmethoderror\">stackoverflow.com/questions/76577207/&hellip;</a>  Appreciate your help."}],"answers":[{"tags":[],"owner":{"account_id":260921,"reputation":747,"user_id":13755970,"display_name":"Mark Sailes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656741829,"creation_date":1656741829,"answer_id":72836839,"question_id":72716583,"body_markdown":"Your screenshot shows the wrong package name for your class. \r\n\r\nIt should be \r\n\r\n`pryce_pick.search.StreamLambdaHandler::handleRequest`","title":"How to make lambda support spring boot","body":"<p>Your screenshot shows the wrong package name for your class.</p>\n<p>It should be</p>\n<p><code>pryce_pick.search.StreamLambdaHandler::handleRequest</code></p>\n"},{"tags":[],"owner":{"account_id":3524000,"reputation":2587,"user_id":2945616,"accept_rate":83,"display_name":"Radix"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658860194,"creation_date":1658859802,"answer_id":73128121,"question_id":72716583,"body_markdown":"You can use register Function Bean which will work as a Lambda and supports all Spring Boot features.\r\n\r\nCreate a Function with @Bean annotation\r\n\r\n```java\r\n@Bean\r\npublic Function&lt;String, String&gt; uppercase() {\r\n  return value -&gt; {\r\n      return value.toUpperCase();\r\n  };\r\n}\r\n```\r\n\r\nBy default, this Bean will work as Lambda.\r\n\r\nYou also need to add `org.springframework.cloud.function.adapter.aws.FunctionInvoker::handleReques` as handler in AWS Lambda.\r\n\r\nIf you want to use the same codebase with multiple `Bean` `Function` as Lambda then you can conditionally enable `Bean` as follows:\r\n\r\n```java\r\n@Bean\r\n@ConditionalOnProperty(name=&quot;active.lambda&quot;, havingValue=&quot;MyLambdaOne&quot;)\r\npublic Function&lt;String, String&gt; uppercase() {\r\n  return value -&gt; {\r\n      return value.toUpperCase();\r\n  };\r\n}\r\n```\r\n\r\n**Reference:**\r\n\r\n[Official Spring Doc](https://cloud.spring.io/spring-cloud-static/spring-cloud-function/3.0.6.RELEASE/reference/html/spring-cloud-function.html#_aws_lambda)\r\n\r\n[Spring GitHub Repo](https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-aws)\r\n\r\n[Serverless.com Article](https://www.serverless.com/examples/aws-java-spring-cloud-function-demo)\r\n\r\n\r\n\r\n&lt;H3&gt; Another way to do this (Not tested)&lt;/H3&gt;\r\n\r\nThis can also be achieved as mentioned [here](https://dzone.com/articles/run-code-with-spring-cloud-function-on-aws-lambda). [Not Tested]","title":"How to make lambda support spring boot","body":"<p>You can use register Function Bean which will work as a Lambda and supports all Spring Boot features.</p>\n<p>Create a Function with @Bean annotation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Function&lt;String, String&gt; uppercase() {\n  return value -&gt; {\n      return value.toUpperCase();\n  };\n}\n</code></pre>\n<p>By default, this Bean will work as Lambda.</p>\n<p>You also need to add <code>org.springframework.cloud.function.adapter.aws.FunctionInvoker::handleReques</code> as handler in AWS Lambda.</p>\n<p>If you want to use the same codebase with multiple <code>Bean</code> <code>Function</code> as Lambda then you can conditionally enable <code>Bean</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@ConditionalOnProperty(name=&quot;active.lambda&quot;, havingValue=&quot;MyLambdaOne&quot;)\npublic Function&lt;String, String&gt; uppercase() {\n  return value -&gt; {\n      return value.toUpperCase();\n  };\n}\n</code></pre>\n<p><strong>Reference:</strong></p>\n<p><a href=\"https://cloud.spring.io/spring-cloud-static/spring-cloud-function/3.0.6.RELEASE/reference/html/spring-cloud-function.html#_aws_lambda\" rel=\"nofollow noreferrer\">Official Spring Doc</a></p>\n<p><a href=\"https://github.com/spring-cloud/spring-cloud-function/tree/main/spring-cloud-function-samples/function-sample-aws\" rel=\"nofollow noreferrer\">Spring GitHub Repo</a></p>\n<p><a href=\"https://www.serverless.com/examples/aws-java-spring-cloud-function-demo\" rel=\"nofollow noreferrer\">Serverless.com Article</a></p>\n<H3> Another way to do this (Not tested)</H3>\n<p>This can also be achieved as mentioned <a href=\"https://dzone.com/articles/run-code-with-spring-cloud-function-on-aws-lambda\" rel=\"nofollow noreferrer\">here</a>. [Not Tested]</p>\n"},{"tags":[],"owner":{"account_id":3801282,"reputation":4355,"user_id":3154872,"accept_rate":25,"display_name":"mancini0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1663880384,"creation_date":1663880384,"answer_id":73820614,"question_id":72716583,"body_markdown":"AWS labs (an Amazon affiliated project) has an open source library &quot;aws-serverless-java-container&quot; that does exactly what you want! It supports Spring, Spring Boot, Spark, Jersey, Struts, and other popular frameworks, and is a very thin wrapper over your existing application.  In a nutshell, you exclude embedded tomcat from your dependencies, and package your jar using maven shade (instead of creating an executable jar via the spring boot maven plugin, and define a LambdaHandler where you configure basically tell the library what your main class is, and whether or not it is a reactive or webmvc app, and some other configurations (like what request shape to use (e.g, ApiGateway v1, v2, etc) and library does the rest. It&#39;s great but Spring is not the best framework for this use case due to its long startup times due to the way Spring boot uses reflection to try and guess what your application configuration should be (based on dependencies on your classpath, etc) (if latency is an issue for you). But the good news is soon Spring 3 will support graalvm, and maybe functional bean registration so startup times should dramatically improve in the coming years. When I&#39;ve had to use this library in production I&#39;ve found that using Spring over Spring Boot or disabling auto configuration and explicitly configuring the context manually resulted in better startup times, as did removing all unnecessary dependencies from the classpath. \r\n\r\nhttps://github.com/awslabs/aws-serverless-java-container\r\nhttps://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot2\r\n","title":"How to make lambda support spring boot","body":"<p>AWS labs (an Amazon affiliated project) has an open source library &quot;aws-serverless-java-container&quot; that does exactly what you want! It supports Spring, Spring Boot, Spark, Jersey, Struts, and other popular frameworks, and is a very thin wrapper over your existing application.  In a nutshell, you exclude embedded tomcat from your dependencies, and package your jar using maven shade (instead of creating an executable jar via the spring boot maven plugin, and define a LambdaHandler where you configure basically tell the library what your main class is, and whether or not it is a reactive or webmvc app, and some other configurations (like what request shape to use (e.g, ApiGateway v1, v2, etc) and library does the rest. It's great but Spring is not the best framework for this use case due to its long startup times due to the way Spring boot uses reflection to try and guess what your application configuration should be (based on dependencies on your classpath, etc) (if latency is an issue for you). But the good news is soon Spring 3 will support graalvm, and maybe functional bean registration so startup times should dramatically improve in the coming years. When I've had to use this library in production I've found that using Spring over Spring Boot or disabling auto configuration and explicitly configuring the context manually resulted in better startup times, as did removing all unnecessary dependencies from the classpath.</p>\n<p><a href=\"https://github.com/awslabs/aws-serverless-java-container\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-serverless-java-container</a>\n<a href=\"https://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot2\" rel=\"nofollow noreferrer\">https://github.com/awslabs/aws-serverless-java-container/wiki/Quick-start---Spring-Boot2</a></p>\n"},{"tags":[],"owner":{"account_id":27599470,"reputation":11,"user_id":21064998,"display_name":"Prime171"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674473855,"creation_date":1674473855,"answer_id":75208969,"question_id":72716583,"body_markdown":"You can also check this library: https://github.com/MelonProjectCom/lambda-http-router\r\n\r\nIt works like standard Controller. \r\n\r\n     @PathPostMapping(&quot;/example/test&quot;)\r\n     public String example(@Body String body) {\r\n        return &quot;Hello World! - body: &quot; + body;\r\n     }","title":"How to make lambda support spring boot","body":"<p>You can also check this library: <a href=\"https://github.com/MelonProjectCom/lambda-http-router\" rel=\"nofollow noreferrer\">https://github.com/MelonProjectCom/lambda-http-router</a></p>\n<p>It works like standard Controller.</p>\n<pre><code> @PathPostMapping(&quot;/example/test&quot;)\n public String example(@Body String body) {\n    return &quot;Hello World! - body: &quot; + body;\n }\n</code></pre>\n"}],"owner":{"account_id":10628551,"reputation":11,"user_id":7827486,"display_name":" "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1568,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1674473855,"creation_date":1655905148,"question_id":72716583,"body_markdown":"**Target**: I have a spring boot application and I want to make it work with lambda.&lt;br&gt;\r\n**Meaining**:  I want to create a jar that can be uploaded to a lambda function and when I call it with API Gateway it will return the same result as I run it on my computer with `java -jar`.&lt;br&gt;\r\n\r\nI have a `@RestController` and I created a class called: `StreamLambdaHandler.java` which should handle the lambda part.&lt;br&gt;&lt;br&gt;\r\n```\r\npackage mypackage;\r\n\r\nimport com.amazonaws.serverless.exceptions.ContainerInitializationException;\r\nimport com.amazonaws.serverless.proxy.model.AwsProxyRequest;\r\nimport com.amazonaws.serverless.proxy.model.AwsProxyResponse;\r\nimport com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler;\r\nimport com.amazonaws.services.lambda.runtime.Context;\r\nimport com.amazonaws.services.lambda.runtime.RequestStreamHandler;\r\n\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.OutputStream;\r\n\r\npublic class StreamLambdaHandler implements RequestStreamHandler {\r\n    private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\r\n    static {\r\n        try {\r\n            handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(MyClass.class); // MyClass is the class where I do SpringApplication.run for my app\r\n        } catch (ContainerInitializationException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(&quot;Could initialize Spring framework&quot;, e);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\r\n        handler.proxyStream(inputStream, outputStream, context);\r\n        outputStream.close();\r\n    }\r\n}                                                                                                                                                            \r\n```\r\nI use its `handleRequest` function as the entry point for the lambda function:&lt;br&gt;\r\n[enter image description here][1]\r\n\r\n\r\n&lt;br&gt;\r\n\r\nI tried to do it with SAM. My saml.yaml:\r\n```\r\nAWSTemplateFormatVersion: &#39;2010-09-09&#39;                                                       \r\nTransform: AWS::Serverless-2016-10-31\r\nDescription: AWS Serverless Spring Boot API - Spring Boot API PrycePick\r\nResources:\r\n  SpringbootSampleFunction:\r\n    Type: AWS::Serverless::Function\r\n    Properties:\r\n      Handler:  pryce_pick.search.StreamLambdaHandler::handleRequest\r\n      Runtime: java11\r\n      CodeUri: out/artifacts/myfunction/my.zip\r\n      MemorySize: 512\r\n      Policies: AWSLambdaBasicExecutionRole\r\n      Timeout: 30\r\n      Events:\r\n        GetResource:\r\n          Type: Api\r\n          Properties:\r\n            Path: /{proxy+}\r\n            Method: any\r\n\r\nOutputs:\r\n  SpringbootSampleApi:\r\n    Description: URL for application\r\n    Value: !Sub &#39;https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/&#39;\r\n    Export:\r\n      Name: SpringbootApp\r\n```\r\nI ran the commands:&lt;br&gt;\r\n`aws cloudformation package --template-file sam.yaml --output-template-file output-sam.yaml --s3-bucket mybucket`&lt;br&gt;&lt;br&gt;\r\n`aws cloudformation deploy --template-file output-sam.yaml --stack-name bookApi --capabilities CAPABILITY_IAM`&lt;br&gt;&lt;br&gt;\r\nUp till now, I did everything by guidance of multiple manuals.&lt;br&gt;\r\nCreated the jar with all dependencies, and got to the test of lambda function in the amazon ui.&lt;br&gt;&lt;br&gt;\r\nI got this result [enter image description here][2] which seems to say that everything is ok.&lt;br&gt;\r\nBUT when I open the context I got this:\r\n[enter image description here][3]\r\nWhich obviously says that somethings wrong, and the fact that it doesn&#39;t work says it to :)&lt;br&gt;&lt;br&gt;\r\nIn addition there&#39;s a log:\r\n```\r\nationTypeMapping.java:102)\r\nat org.springframework.core.annotation.AnnotationTypeMappings.addIfPossible(AnnotationTypeMappings.java:112)\r\nat org.springframework.core.annotation.AnnotationTypeMappings.addIfPossible(AnnotationTypeMappings.java:105)\r\nat org.springframework.core.annotation.AnnotationTypeMappings.addMetaAnnotationsToQueue(AnnotationTypeMappings.java:99)\r\nat org.springframework.core.annotation.AnnotationTypeMappings.addAllMappings(AnnotationTypeMappings.java:79)\r\nat org.springframework.core.annotation.AnnotationTypeMappings.&lt;init&gt;(AnnotationTypeMappings.java:68)\r\nat org.springframework.core.annotation.AnnotationTypeMappings.&lt;init&gt;(AnnotationTypeMappings.java:46)\r\nat org.springframework.core.annotation.AnnotationTypeMappings$Cache.createMappings(AnnotationTypeMappings.java:245)\r\nat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(Unknown Source)\r\nat org.springframework.core.annotation.AnnotationTypeMappings$Cache.get(AnnotationTypeMappings.java:241)\r\nat org.springframework.core.annotation.AnnotationTypeMappings.forAnnotationType(AnnotationTypeMappings.java:199)\r\nat org.springframework.core.annotation.AnnotationTypeMappings.forAnnotationType(AnnotationTypeMappings.java:182)\r\nat org.springframework.core.annotation.AnnotationTypeMappings.forAnnotationType(AnnotationTypeMappings.java:169)\r\nat org.springframework.core.annotation.TypeMappedAnnotations$IsPresent.doWithAnnotations(TypeMappedAnnotations.java:330)\r\nat org.springframework.core.annotation.TypeMappedAnnotations$IsPresent.doWithAnnotations(TypeMappedAnnotations.java:279)\r\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:188)\r\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:171)\r\nat org.springframework.core.annotation.AnnotationsScanner.processClass(AnnotationsScanner.java:106)\r\nat org.springframework.core.annotation.AnnotationsScanner.process(AnnotationsScanner.java:86)\r\nat org.springframework.core.annotation.AnnotationsScanner.scan(AnnotationsScanner.java:77)\r\nat org.springframework.core.annotation.TypeMappedAnnotations.scan(TypeMappedAnnotations.java:242)\r\nat org.springframework.core.annotation.TypeMappedAnnotations.isPresent(TypeMappedAnnotations.java:98)\r\nat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:144)\r\nat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\nat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:169)\r\nat com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.handleRequest(SpringBootLambdaContainerHandler.java:132)\r\nat com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.handleRequest(SpringBootLambdaContainerHandler.java:52)\r\nat com.amazonaws.serverless.proxy.internal.LambdaContainerHandler.proxy(LambdaContainerHandler.java:163)\r\nat com.amazonaws.serverless.proxy.internal.LambdaContainerHandler.proxyStream(LambdaContainerHandler.java:198)\r\nat mypackage.StreamLambdaHandler.handleRequest(StreamLambdaHandler.java:29)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\r\nat lambdainternal.EventHandlerLoader$StreamMethodRequestHandler.handleRequest(EventHandlerLoader.java:375)\r\nat lambdainternal.EventHandlerLoader$2.call(EventHandlerLoader.java:899)\r\nat lambdainternal.AWSLambda.startRuntime(AWSLambda.java:262)\r\nat lambdainternal.AWSLambda.startRuntime(AWSLambda.java:199)\r\nat lambdainternal.AWSLambda.main(AWSLambda.java:193)\r\nEND RequestId: 29d504dc-3510-4d78-b010-3fe48a4e6f13\r\nREPORT RequestId: 29d504dc-3510-4d78-b010-3fe48a4e6f13\tDuration: 2278.06 ms\tBilled Duration: 2279 ms\tMemory Size: 512 MB\tMax Memory Used: 106 MB\tInit Duration: 940.24 ms\t\r\n```\r\n\r\nIf someone have some insight about the process and what I am doing wrong please share. Even more so, if you know how to solve it.I&#39;m very frustrated about this.\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wXht0.png\r\n  [2]: https://i.stack.imgur.com/STZDy.png\r\n  [3]: https://i.stack.imgur.com/2RVNb.png","title":"How to make lambda support spring boot","body":"<p><strong>Target</strong>: I have a spring boot application and I want to make it work with lambda.<br>\n<strong>Meaining</strong>:  I want to create a jar that can be uploaded to a lambda function and when I call it with API Gateway it will return the same result as I run it on my computer with <code>java -jar</code>.<br></p>\n<p>I have a <code>@RestController</code> and I created a class called: <code>StreamLambdaHandler.java</code> which should handle the lambda part.<br><br></p>\n<pre><code>package mypackage;\n\nimport com.amazonaws.serverless.exceptions.ContainerInitializationException;\nimport com.amazonaws.serverless.proxy.model.AwsProxyRequest;\nimport com.amazonaws.serverless.proxy.model.AwsProxyResponse;\nimport com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler;\nimport com.amazonaws.services.lambda.runtime.Context;\nimport com.amazonaws.services.lambda.runtime.RequestStreamHandler;\n\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\n\npublic class StreamLambdaHandler implements RequestStreamHandler {\n    private static SpringBootLambdaContainerHandler&lt;AwsProxyRequest, AwsProxyResponse&gt; handler;\n    static {\n        try {\n            handler = SpringBootLambdaContainerHandler.getAwsProxyHandler(MyClass.class); // MyClass is the class where I do SpringApplication.run for my app\n        } catch (ContainerInitializationException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Could initialize Spring framework&quot;, e);\n        }\n    }\n\n    @Override\n    public void handleRequest(InputStream inputStream, OutputStream outputStream, Context context) throws IOException {\n        handler.proxyStream(inputStream, outputStream, context);\n        outputStream.close();\n    }\n}                                                                                                                                                            \n</code></pre>\n<p>I use its <code>handleRequest</code> function as the entry point for the lambda function:<br>\n<a href=\"https://i.stack.imgur.com/wXht0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<br>\n<p>I tried to do it with SAM. My saml.yaml:</p>\n<pre><code>AWSTemplateFormatVersion: '2010-09-09'                                                       \nTransform: AWS::Serverless-2016-10-31\nDescription: AWS Serverless Spring Boot API - Spring Boot API PrycePick\nResources:\n  SpringbootSampleFunction:\n    Type: AWS::Serverless::Function\n    Properties:\n      Handler:  pryce_pick.search.StreamLambdaHandler::handleRequest\n      Runtime: java11\n      CodeUri: out/artifacts/myfunction/my.zip\n      MemorySize: 512\n      Policies: AWSLambdaBasicExecutionRole\n      Timeout: 30\n      Events:\n        GetResource:\n          Type: Api\n          Properties:\n            Path: /{proxy+}\n            Method: any\n\nOutputs:\n  SpringbootSampleApi:\n    Description: URL for application\n    Value: !Sub 'https://${ServerlessRestApi}.execute-api.${AWS::Region}.amazonaws.com/Prod/'\n    Export:\n      Name: SpringbootApp\n</code></pre>\n<p>I ran the commands:<br>\n<code>aws cloudformation package --template-file sam.yaml --output-template-file output-sam.yaml --s3-bucket mybucket</code><br><br>\n<code>aws cloudformation deploy --template-file output-sam.yaml --stack-name bookApi --capabilities CAPABILITY_IAM</code><br><br>\nUp till now, I did everything by guidance of multiple manuals.<br>\nCreated the jar with all dependencies, and got to the test of lambda function in the amazon ui.<br><br>\nI got this result <a href=\"https://i.stack.imgur.com/STZDy.png\" rel=\"nofollow noreferrer\">enter image description here</a> which seems to say that everything is ok.<br>\nBUT when I open the context I got this:\n<a href=\"https://i.stack.imgur.com/2RVNb.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nWhich obviously says that somethings wrong, and the fact that it doesn't work says it to :)<br><br>\nIn addition there's a log:</p>\n<pre><code>ationTypeMapping.java:102)\nat org.springframework.core.annotation.AnnotationTypeMappings.addIfPossible(AnnotationTypeMappings.java:112)\nat org.springframework.core.annotation.AnnotationTypeMappings.addIfPossible(AnnotationTypeMappings.java:105)\nat org.springframework.core.annotation.AnnotationTypeMappings.addMetaAnnotationsToQueue(AnnotationTypeMappings.java:99)\nat org.springframework.core.annotation.AnnotationTypeMappings.addAllMappings(AnnotationTypeMappings.java:79)\nat org.springframework.core.annotation.AnnotationTypeMappings.&lt;init&gt;(AnnotationTypeMappings.java:68)\nat org.springframework.core.annotation.AnnotationTypeMappings.&lt;init&gt;(AnnotationTypeMappings.java:46)\nat org.springframework.core.annotation.AnnotationTypeMappings$Cache.createMappings(AnnotationTypeMappings.java:245)\nat java.base/java.util.concurrent.ConcurrentMap.computeIfAbsent(Unknown Source)\nat org.springframework.core.annotation.AnnotationTypeMappings$Cache.get(AnnotationTypeMappings.java:241)\nat org.springframework.core.annotation.AnnotationTypeMappings.forAnnotationType(AnnotationTypeMappings.java:199)\nat org.springframework.core.annotation.AnnotationTypeMappings.forAnnotationType(AnnotationTypeMappings.java:182)\nat org.springframework.core.annotation.AnnotationTypeMappings.forAnnotationType(AnnotationTypeMappings.java:169)\nat org.springframework.core.annotation.TypeMappedAnnotations$IsPresent.doWithAnnotations(TypeMappedAnnotations.java:330)\nat org.springframework.core.annotation.TypeMappedAnnotations$IsPresent.doWithAnnotations(TypeMappedAnnotations.java:279)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:188)\nat org.springframework.core.annotation.AnnotationsScanner.processClassHierarchy(AnnotationsScanner.java:171)\nat org.springframework.core.annotation.AnnotationsScanner.processClass(AnnotationsScanner.java:106)\nat org.springframework.core.annotation.AnnotationsScanner.process(AnnotationsScanner.java:86)\nat org.springframework.core.annotation.AnnotationsScanner.scan(AnnotationsScanner.java:77)\nat org.springframework.core.annotation.TypeMappedAnnotations.scan(TypeMappedAnnotations.java:242)\nat org.springframework.core.annotation.TypeMappedAnnotations.isPresent(TypeMappedAnnotations.java:98)\nat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:144)\nat org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\nat org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:169)\nat com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.handleRequest(SpringBootLambdaContainerHandler.java:132)\nat com.amazonaws.serverless.proxy.spring.SpringBootLambdaContainerHandler.handleRequest(SpringBootLambdaContainerHandler.java:52)\nat com.amazonaws.serverless.proxy.internal.LambdaContainerHandler.proxy(LambdaContainerHandler.java:163)\nat com.amazonaws.serverless.proxy.internal.LambdaContainerHandler.proxyStream(LambdaContainerHandler.java:198)\nat mypackage.StreamLambdaHandler.handleRequest(StreamLambdaHandler.java:29)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.base/java.lang.reflect.Method.invoke(Unknown Source)\nat lambdainternal.EventHandlerLoader$StreamMethodRequestHandler.handleRequest(EventHandlerLoader.java:375)\nat lambdainternal.EventHandlerLoader$2.call(EventHandlerLoader.java:899)\nat lambdainternal.AWSLambda.startRuntime(AWSLambda.java:262)\nat lambdainternal.AWSLambda.startRuntime(AWSLambda.java:199)\nat lambdainternal.AWSLambda.main(AWSLambda.java:193)\nEND RequestId: 29d504dc-3510-4d78-b010-3fe48a4e6f13\nREPORT RequestId: 29d504dc-3510-4d78-b010-3fe48a4e6f13  Duration: 2278.06 ms    Billed Duration: 2279 ms    Memory Size: 512 MB Max Memory Used: 106 MB Init Duration: 940.24 ms    \n</code></pre>\n<p>If someone have some insight about the process and what I am doing wrong please share. Even more so, if you know how to solve it.I'm very frustrated about this.</p>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb","aws-java-sdk","aws-java-sdk-2.x"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674473838,"creation_date":1674473838,"answer_id":75208965,"question_id":75208551,"body_markdown":"The [documentation you link][1] explicitly says what you need to do: \r\n\r\n&gt; You can use a reserved keyword as a quoted identifier with double\r\n&gt; quotation marks (for example, ``&quot;user&quot;``).\r\n\r\nThat is the SQL standard way of escaping reserved words. In other words, use `&quot;value&quot;` (or possibly `&quot;VALUE&quot;`) in your statement instead of `value`.\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/qldb/latest/developerguide/ql-reference.reserved.html","title":"How to escape reserved keywords in DynamoDB ExecuteStatementRequest?","body":"<p>The <a href=\"https://docs.aws.amazon.com/qldb/latest/developerguide/ql-reference.reserved.html\" rel=\"nofollow noreferrer\">documentation you link</a> explicitly says what you need to do:</p>\n<blockquote>\n<p>You can use a reserved keyword as a quoted identifier with double\nquotation marks (for example, <code>&quot;user&quot;</code>).</p>\n</blockquote>\n<p>That is the SQL standard way of escaping reserved words. In other words, use <code>&quot;value&quot;</code> (or possibly <code>&quot;VALUE&quot;</code>) in your statement instead of <code>value</code>.</p>\n"}],"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75208965,"answer_count":1,"score":0,"last_activity_date":1674473838,"creation_date":1674471694,"question_id":75208551,"body_markdown":"I&#39;m trying to issue an update ExecuteStatementRequest using DynamoDB and Java SDK 2.0. I&#39;m struggling to escape keywords that are columns in my table schema.\r\n\r\nThe following statement:\r\n\r\n```java\r\nvar response = client.executeStatement(ExecuteStatementRequest.builder()\r\n                .statement(&quot;&quot;&quot;\r\n                    UPDATE &quot;my-table&quot;\r\n                    SET value=12.5\r\n                    WHERE assignmentId=&#39;item1#123#item2#456#item3#789&#39;\r\n                    RETURNING ALL NEW *\r\n                    &quot;&quot;&quot;)\r\n                .build());\r\n```\r\n\r\nWhen I run the following statement (notice that `value` column is a [reserved keyword][1]) I get the following error:\r\n\r\n&gt; Exception in thread &quot;main&quot;\r\n&gt; software.amazon.awssdk.services.dynamodb.model.DynamoDbException:\r\n&gt; Statement wasn&#39;t well formed, can&#39;t be processed: Expected identifier\r\n&gt; for simple path (Service: DynamoDb, Status Code: 400, Request ID: XXX)\r\n\r\nIf instead of `value` I change the column name to `val`, the statement works fine. I know that in `UdateItem` operations I can pass in an array of `expressionAttributeNames` to replace keywords with aliases. Is there a similar primitive I can use for `ExecuteStatementRequest`?\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/qldb/latest/developerguide/ql-reference.reserved.html","title":"How to escape reserved keywords in DynamoDB ExecuteStatementRequest?","body":"<p>I'm trying to issue an update ExecuteStatementRequest using DynamoDB and Java SDK 2.0. I'm struggling to escape keywords that are columns in my table schema.</p>\n<p>The following statement:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var response = client.executeStatement(ExecuteStatementRequest.builder()\n                .statement(&quot;&quot;&quot;\n                    UPDATE &quot;my-table&quot;\n                    SET value=12.5\n                    WHERE assignmentId='item1#123#item2#456#item3#789'\n                    RETURNING ALL NEW *\n                    &quot;&quot;&quot;)\n                .build());\n</code></pre>\n<p>When I run the following statement (notice that <code>value</code> column is a <a href=\"https://docs.aws.amazon.com/qldb/latest/developerguide/ql-reference.reserved.html\" rel=\"nofollow noreferrer\">reserved keyword</a>) I get the following error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot;\nsoftware.amazon.awssdk.services.dynamodb.model.DynamoDbException:\nStatement wasn't well formed, can't be processed: Expected identifier\nfor simple path (Service: DynamoDb, Status Code: 400, Request ID: XXX)</p>\n</blockquote>\n<p>If instead of <code>value</code> I change the column name to <code>val</code>, the statement works fine. I know that in <code>UdateItem</code> operations I can pass in an array of <code>expressionAttributeNames</code> to replace keywords with aliases. Is there a similar primitive I can use for <code>ExecuteStatementRequest</code>?</p>\n"},{"tags":["java","authentication","spring-security","jwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1674429711,"post_id":75202692,"comment_id":132707055,"body_markdown":"any reason to why you are not using the built in JWT authentication filter that exists in spring security?","body":"any reason to why you are not using the built in JWT authentication filter that exists in spring security?"}],"answers":[{"tags":[],"owner":{"account_id":1074107,"reputation":238,"user_id":1072625,"display_name":"Neeraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674414982,"creation_date":1674414982,"answer_id":75203181,"question_id":75202692,"body_markdown":"See this post, with a HttpSecurity config for permitAll you are not bypassing filters -&gt; https://stackoverflow.com/questions/46068433/spring-security-with-filters-permitall-not-working.  If you do not want to have your filter be called, you can move that url exclude config to WebSecurity set up as below \r\n\r\n    @Override\r\n    public void configure(WebSecurity web) throws Exception {\r\n        web\r\n            .ignoring()\r\n            .antMatchers(&quot;/api/v0/auth/login&quot;);\r\n    }\r\n\r\nor you can add url exclude to OncePerRequestFilter as below - \r\n\r\n    private final RequestMatcher uriMatcher = new AntPathRequestMatcher(&quot;/api/v0/auth/login&quot;, HttpMethod.GET.name());\r\n    \r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) {\r\n        return uriMatcher.matches(request);\r\n    }","title":"Why antMatchers not working and trying to authenticate Login route?","body":"<p>See this post, with a HttpSecurity config for permitAll you are not bypassing filters -&gt; <a href=\"https://stackoverflow.com/questions/46068433/spring-security-with-filters-permitall-not-working\">Spring Security with filters permitAll not working</a>.  If you do not want to have your filter be called, you can move that url exclude config to WebSecurity set up as below</p>\n<pre><code>@Override\npublic void configure(WebSecurity web) throws Exception {\n    web\n        .ignoring()\n        .antMatchers(&quot;/api/v0/auth/login&quot;);\n}\n</code></pre>\n<p>or you can add url exclude to OncePerRequestFilter as below -</p>\n<pre><code>private final RequestMatcher uriMatcher = new AntPathRequestMatcher(&quot;/api/v0/auth/login&quot;, HttpMethod.GET.name());\n\n@Override\nprotected boolean shouldNotFilter(HttpServletRequest request) {\n    return uriMatcher.matches(request);\n}\n</code></pre>\n"}],"owner":{"account_id":24725031,"reputation":79,"user_id":18613635,"display_name":"Gwenda Thomas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":376,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75203181,"answer_count":1,"score":-1,"last_activity_date":1674473514,"creation_date":1674410372,"question_id":75202692,"body_markdown":"I am having trouble making authentication API in spring security. \r\n\r\nI have the setup for the JWT login and register routes with Spring Security OncePerRequestFilter. \r\nFor some reason, When I try to login myself in, it also tries to run `doFilter` method. \r\nMeaning, even though the user is trying to login with `username and password`, my api looks for `jwt Bearer token`. \r\n\r\nI have my `SecurityConfig.java` as follows but the antMatchers do not work for `login` path as I thought. \r\n\r\nCan someone help me please? \r\n\r\nSecurityConfig.java\r\n```java\r\n@Configuration\r\n@AllArgsConstructor\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    private final AppUserService appUserService;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    @Autowired\r\n    private JwtFilter jwtFilter;\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http\r\n                .csrf().disable();\r\n\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/api-docs&quot;, &quot;/swagger&quot;).permitAll()\r\n                .antMatchers(&quot;/api/v0/auth/login&quot;).permitAll()\r\n                .antMatchers(&quot;/h2-console/**&quot;).permitAll()\r\n                .anyRequest()\r\n                .authenticated();\r\n\r\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.addFilterBefore(this.jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.authenticationProvider(this.daoAuthenticationProvider());\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(this.bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(this.appUserService);\r\n        return provider;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@RestController\r\n@AllArgsConstructor\r\n@RequestMapping(path = &quot;/api/v0/auth&quot;)\r\npublic class AuthController {\r\n\r\n    @Autowired\r\n    private AuthService authService;\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;AuthResponse&gt; login(@RequestBody LoginRequest request) throws Exception {\r\n        AuthResponse response = this.authService.login(request);\r\n        return ResponseEntity.ok().body(response);\r\n    }\r\n// ..... the rest\r\n```\r\n\r\nWhen I access `/api-docs&quot;, &quot;/swagger&quot;`, the API does not try to authenticate. \r\nBut the API does for `/api/v0/auth/login`, because I can see the log I added in doFilter in the log after sending request to `/api/v0/auth/login`\r\n\r\n```\r\n@Component\r\npublic class JwtFilter extends OncePerRequestFilter {\r\n\r\n    private Logger log = LoggerFactory.getLogger(JwtFilter.class);\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            FilterChain filterChain) throws ServletException, IOException {\r\n\r\n\r\n        String authorization = request.getHeader(&quot;Authorization&quot;);\r\n        String token = null;\r\n        String userName = null;\r\n        log.info(&quot;@@ doFilterInternal: {}&quot;, authorization);\r\n        \r\n        // jwt and authentication stuff\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n}\r\n\r\n// what I see in the log for login request\r\n// 2023-01-22 09:49:06.716  INFO 15780 --- [nio-8080-exec-1] c.h.s.config.security.filter.JwtFilter   : @@ doFilterInternal: null\r\n```\r\n\r\nSince I added a login endpoint in antMatchers, it should not log this and skip the authentication I believe. \r\nCan someone help me with what I am missing?\r\n        \r\n\r\n","title":"Why antMatchers not working and trying to authenticate Login route?","body":"<p>I am having trouble making authentication API in spring security.</p>\n<p>I have the setup for the JWT login and register routes with Spring Security OncePerRequestFilter.\nFor some reason, When I try to login myself in, it also tries to run <code>doFilter</code> method.\nMeaning, even though the user is trying to login with <code>username and password</code>, my api looks for <code>jwt Bearer token</code>.</p>\n<p>I have my <code>SecurityConfig.java</code> as follows but the antMatchers do not work for <code>login</code> path as I thought.</p>\n<p>Can someone help me please?</p>\n<p>SecurityConfig.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@AllArgsConstructor\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private final AppUserService appUserService;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Autowired\n    private JwtFilter jwtFilter;\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .csrf().disable();\n\n        http\n                .authorizeRequests()\n                .antMatchers(&quot;/api-docs&quot;, &quot;/swagger&quot;).permitAll()\n                .antMatchers(&quot;/api/v0/auth/login&quot;).permitAll()\n                .antMatchers(&quot;/h2-console/**&quot;).permitAll()\n                .anyRequest()\n                .authenticated();\n\n        http.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n        http.addFilterBefore(this.jwtFilter, UsernamePasswordAuthenticationFilter.class);\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.authenticationProvider(this.daoAuthenticationProvider());\n    }\n\n    @Bean\n    public DaoAuthenticationProvider daoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(this.bCryptPasswordEncoder);\n        provider.setUserDetailsService(this.appUserService);\n        return provider;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@AllArgsConstructor\n@RequestMapping(path = &quot;/api/v0/auth&quot;)\npublic class AuthController {\n\n    @Autowired\n    private AuthService authService;\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;AuthResponse&gt; login(@RequestBody LoginRequest request) throws Exception {\n        AuthResponse response = this.authService.login(request);\n        return ResponseEntity.ok().body(response);\n    }\n// ..... the rest\n</code></pre>\n<p>When I access <code>/api-docs&quot;, &quot;/swagger&quot;</code>, the API does not try to authenticate.\nBut the API does for <code>/api/v0/auth/login</code>, because I can see the log I added in doFilter in the log after sending request to <code>/api/v0/auth/login</code></p>\n<pre><code>@Component\npublic class JwtFilter extends OncePerRequestFilter {\n\n    private Logger log = LoggerFactory.getLogger(JwtFilter.class);\n\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain filterChain) throws ServletException, IOException {\n\n\n        String authorization = request.getHeader(&quot;Authorization&quot;);\n        String token = null;\n        String userName = null;\n        log.info(&quot;@@ doFilterInternal: {}&quot;, authorization);\n        \n        // jwt and authentication stuff\n\n        filterChain.doFilter(request, response);\n    }\n}\n\n// what I see in the log for login request\n// 2023-01-22 09:49:06.716  INFO 15780 --- [nio-8080-exec-1] c.h.s.config.security.filter.JwtFilter   : @@ doFilterInternal: null\n</code></pre>\n<p>Since I added a login endpoint in antMatchers, it should not log this and skip the authentication I believe.\nCan someone help me with what I am missing?</p>\n"},{"tags":["java","spring-boot","hsqldb"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":10,"creation_date":1630226314,"post_id":68971228,"comment_id":121894076,"body_markdown":"Remove the space. `@Query(&quot;from Contact as c where c.user.id=:userId&quot;)`","body":"Remove the space. <code>@Query(&quot;from Contact as c where c.user.id=:userId&quot;)</code>"},{"owner":{"account_id":19362427,"reputation":136,"user_id":14157435,"display_name":"Sharman Jeurkar"},"score":0,"creation_date":1630226436,"post_id":68971228,"comment_id":121894101,"body_markdown":"Thanks for such a quick response. It worked well.","body":"Thanks for such a quick response. It worked well."}],"answers":[{"tags":[],"owner":{"account_id":21583747,"reputation":1,"user_id":15914562,"display_name":"Lisen Saka"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674473280,"creation_date":1674473280,"answer_id":75208861,"question_id":68971228,"body_markdown":"you can simply write this query method: \r\nList&lt;Contact&gt; findAllContactBy_UserId(int userId);\r\n","title":"Named Parameter not bound : user:id","body":"<p>you can simply write this query method:\nList findAllContactBy_UserId(int userId);</p>\n"}],"owner":{"account_id":19362427,"reputation":136,"user_id":14157435,"display_name":"Sharman Jeurkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7391,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1674473280,"creation_date":1630226266,"question_id":68971228,"body_markdown":"I am trying to write fetch data from my mysql db in &lt;List&gt; form. For this I have made a Interface which extends Jpa repository.\r\nInterface:\r\n\r\n    package org.springboot.dao;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springboot.entities.Contact;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.query.Param;\r\n    \r\n    public interface ContactRepo extends JpaRepository&lt;Contact, Integer&gt;{\r\n    \t\r\n    \t@Query(&quot;from Contact as c where c.user.id=: userId&quot;)\r\n    \tpublic List&lt;Contact&gt; findContactsByUser(@Param(&quot;userId&quot;)int userId);\r\n    \r\n    }\r\nMy Controller Method:\r\n\r\n        @GetMapping(&quot;/show-contacts&quot;)\r\n    \tpublic String viewContacts(Model model, Principal principal) {\r\n    \t\tmodel.addAttribute(&quot;title&quot;, &quot;View Contacts&quot;);\r\n    \r\n    \t\t\r\n    \t\t  String userName=principal.getName(); \r\n    \t\t  User user=this.repo.getUserByUsername(userName);\r\n    \t\t  \r\n    \t\t  List&lt;Contact&gt; contacts=this.crepo.findContactsByUser(user.getId());\r\n    \t\t  \r\n    \t\t  model.addAttribute(&quot;contacts&quot;, contacts);\r\n    \t\t \r\n    \t\treturn &quot;user-view-contacts&quot;;\r\n    \t}\r\n\r\nStacktrace\r\n\r\n    org.hibernate.QueryException: Named parameter not bound : userId\r\n    \tat org.hibernate.query.internal.QueryParameterBindingsImpl.verifyParametersBound(QueryParameterBindingsImpl.java:211) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.beforeQuery(AbstractProducedQuery.java:1496) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1602) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.3.jar:2.5.3]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.9.jar:5.3.9]\r\n    \tat jdk.proxy53/jdk.proxy53.$Proxy380.findContactsByUser(Unknown Source) ~[na:na]\r\n    \tat org.springboot.controller.UserController.viewContacts(UserController.java:115) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.50.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.9.jar:5.3.9]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.50.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.1.jar:5.5.1]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\r\n\r\n\r\nI am trying to show these contacts on my view page. While I run my application if i comment the code of my controller method it shows the view. But if i don&#39;t comment it, it give me this error. Please try to solve me this error.\r\nThanks in advance!","title":"Named Parameter not bound : user:id","body":"<p>I am trying to write fetch data from my mysql db in  form. For this I have made a Interface which extends Jpa repository.\nInterface:</p>\n<pre><code>package org.springboot.dao;\n\nimport java.util.List;\n\nimport org.springboot.entities.Contact;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.query.Param;\n\npublic interface ContactRepo extends JpaRepository&lt;Contact, Integer&gt;{\n    \n    @Query(&quot;from Contact as c where c.user.id=: userId&quot;)\n    public List&lt;Contact&gt; findContactsByUser(@Param(&quot;userId&quot;)int userId);\n\n}\n</code></pre>\n<p>My Controller Method:</p>\n<pre><code>    @GetMapping(&quot;/show-contacts&quot;)\n    public String viewContacts(Model model, Principal principal) {\n        model.addAttribute(&quot;title&quot;, &quot;View Contacts&quot;);\n\n        \n          String userName=principal.getName(); \n          User user=this.repo.getUserByUsername(userName);\n          \n          List&lt;Contact&gt; contacts=this.crepo.findContactsByUser(user.getId());\n          \n          model.addAttribute(&quot;contacts&quot;, contacts);\n         \n        return &quot;user-view-contacts&quot;;\n    }\n</code></pre>\n<p>Stacktrace</p>\n<pre><code>org.hibernate.QueryException: Named parameter not bound : userId\n    at org.hibernate.query.internal.QueryParameterBindingsImpl.verifyParametersBound(QueryParameterBindingsImpl.java:211) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.beforeQuery(AbstractProducedQuery.java:1496) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.query.internal.AbstractProducedQuery.list(AbstractProducedQuery.java:1602) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.hibernate.query.Query.getResultList(Query.java:165) ~[hibernate-core-5.4.32.Final.jar:5.4.32.Final]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:126) ~[spring-data-jpa-2.5.3.jar:2.5.3]\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:88) ~[spring-data-jpa-2.5.3.jar:2.5.3]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:155) ~[spring-data-jpa-2.5.3.jar:2.5.3]\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:143) ~[spring-data-jpa-2.5.3.jar:2.5.3]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137) ~[spring-data-commons-2.5.3.jar:2.5.3]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121) ~[spring-data-commons-2.5.3.jar:2.5.3]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:159) ~[spring-data-commons-2.5.3.jar:2.5.3]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:138) ~[spring-data-commons-2.5.3.jar:2.5.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80) ~[spring-data-commons-2.5.3.jar:2.5.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-5.3.9.jar:5.3.9]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-5.3.9.jar:5.3.9]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-5.3.9.jar:5.3.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-5.3.9.jar:5.3.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:145) ~[spring-data-jpa-2.5.3.jar:2.5.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.9.jar:5.3.9]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215) ~[spring-aop-5.3.9.jar:5.3.9]\n    at jdk.proxy53/jdk.proxy53.$Proxy380.findContactsByUser(Unknown Source) ~[na:na]\n    at org.springboot.controller.UserController.viewContacts(UserController.java:115) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1064) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:655) ~[tomcat-embed-core-9.0.50.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.9.jar:5.3.9]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.50.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:121) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:218) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:212) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183) ~[spring-security-web-5.5.1.jar:5.5.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.9.jar:5.3.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630) ~[na:na]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.50.jar:9.0.50]\n    at java.base/java.lang.Thread.run(Thread.java:831) ~[na:na]\n</code></pre>\n<p>I am trying to show these contacts on my view page. While I run my application if i comment the code of my controller method it shows the view. But if i don't comment it, it give me this error. Please try to solve me this error.\nThanks in advance!</p>\n"},{"tags":["java","jsp","tomcat"],"comments":[{"owner":{"account_id":12344423,"reputation":555,"user_id":9006088,"display_name":"Hari Prasandh"},"score":0,"creation_date":1657258068,"post_id":72906785,"comment_id":128772578,"body_markdown":"@ScaryWombat JSP i have added is not a controller. it is just a view. \n\nMy question is even when run time compilation is disabled, How class file is created inside &#39;tomcat/work&#39; folder?","body":"@ScaryWombat JSP i have added is not a controller. it is just a view.   My question is even when run time compilation is disabled, How class file is created inside &#39;tomcat/work&#39; folder?"},{"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"score":0,"creation_date":1657258885,"post_id":72906785,"comment_id":128772731,"body_markdown":"Tomcat compiles JSP files at runtime, it can&#39;t even execute a JSP without compiling it first. Can you clarify what do you mean by &quot;compilation is disabled&quot;?","body":"Tomcat compiles JSP files at runtime, it can&#39;t even execute a JSP without compiling it first. Can you clarify what do you mean by &quot;compilation is disabled&quot;?"},{"owner":{"account_id":12344423,"reputation":555,"user_id":9006088,"display_name":"Hari Prasandh"},"score":0,"creation_date":1657259777,"post_id":72906785,"comment_id":128772874,"body_markdown":"@Sergei I removed \n\n&lt;servlet-name&gt;jsp&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet-class&gt;\n\nconfiguration in $CATALINA\\conf\\web.xml\n\nSo that runtime compilation does not work","body":"@Sergei I removed   &lt;servlet-name&gt;jsp&lt;/servlet-name&gt;     &lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet&zwnj;&#8203;-class&gt;  configuration in $CATALINA\\conf\\web.xml  So that runtime compilation does not work"}],"owner":{"account_id":12344423,"reputation":555,"user_id":9006088,"display_name":"Hari Prasandh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1657258231,"answer_count":0,"score":0,"last_activity_date":1674472908,"creation_date":1657256027,"question_id":72906785,"body_markdown":"How does jsp compilation work for the below configuration. Even when run time compilation is disabled. Tomcat compiles the file &#39;/jsp/myjsp.jsp&#39; at runtime.\r\n\r\n```\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;S1&lt;/servlet-name&gt;\r\n        &lt;jsp-file&gt;/jsp/myjsp.jsp&lt;/jsp-file&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;S1&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/myjsp&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n```\r\n\r\nEdit: \r\n\r\nI removed &lt;servlet-name&gt;jsp&lt;/servlet-name&gt; &lt;servlet-class&gt;org.apache.jasper.servlet.JspServlet&lt;/servlet-class&gt; configuration in $CATALINA\\conf\\web.xml So that runtime compilation does not work\r\n\r\nEdit2:\r\nBefore closing the question, read the question properly. I have disabled runtime compilation. Still tomcat compiles the jsp at runtime when it is mentioned in servlet mapping, Question is how does this occur\r\n\r\nNote: JSP placed  inside any folder is not compiled when accessed using absolute path\r\n\r\nWhen run time compilation is removed, following cases occurs.\r\n\r\n```\r\nJSP 1: Accessed directly without servlet-mapping in web.xml\r\nEx: http://localhost:8080/jsp/notcomplied.jsp\r\n```\r\n\r\nIt just prints the java code when url is loaded\r\n```\r\nJSP 2: JSP is configured in servlet-mapping mentioned above in question.\r\nEx: http://localhost:8080/msjsp\r\n```\r\nJava code is compiled and output is printed.\r\n\r\nExpected output for JSP 2: Print the java code in the file.","title":"JSP compilation in servlet mapping during runtime","body":"<p>How does jsp compilation work for the below configuration. Even when run time compilation is disabled. Tomcat compiles the file '/jsp/myjsp.jsp' at runtime.</p>\n<pre><code>    &lt;servlet&gt;\n        &lt;servlet-name&gt;S1&lt;/servlet-name&gt;\n        &lt;jsp-file&gt;/jsp/myjsp.jsp&lt;/jsp-file&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;S1&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/myjsp&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n</code></pre>\n<p>Edit:</p>\n<p>I removed jsp org.apache.jasper.servlet.JspServlet configuration in $CATALINA\\conf\\web.xml So that runtime compilation does not work</p>\n<p>Edit2:\nBefore closing the question, read the question properly. I have disabled runtime compilation. Still tomcat compiles the jsp at runtime when it is mentioned in servlet mapping, Question is how does this occur</p>\n<p>Note: JSP placed  inside any folder is not compiled when accessed using absolute path</p>\n<p>When run time compilation is removed, following cases occurs.</p>\n<pre><code>JSP 1: Accessed directly without servlet-mapping in web.xml\nEx: http://localhost:8080/jsp/notcomplied.jsp\n</code></pre>\n<p>It just prints the java code when url is loaded</p>\n<pre><code>JSP 2: JSP is configured in servlet-mapping mentioned above in question.\nEx: http://localhost:8080/msjsp\n</code></pre>\n<p>Java code is compiled and output is printed.</p>\n<p>Expected output for JSP 2: Print the java code in the file.</p>\n"},{"tags":["java","spring","annotations","spring-annotations","spring-profiles"],"answers":[{"tags":[],"owner":{"account_id":1351713,"reputation":33846,"user_id":1291150,"display_name":"Bohuslav Burghardt"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1417371317,"creation_date":1417371317,"answer_id":27216503,"question_id":27216388,"body_markdown":"If you look at the JavaDoc of [`ActiveProfiles`][1] annotation, it contains this text:\r\n\r\n&gt; ActiveProfiles is a class-level annotation that is used to declare which active bean definition profiles should be used when loading an ApplicationContext **for test classes**. \r\n\r\nMeaning it is only supposed to be used to declare active Spring profiles for **test classes**. So If put it on a Configuration class it should have no effect.\r\n\r\nAnd as for the `@Profile` annotation, it can be used on both method and class level. If you use it on method annotated with `@Bean` in configuration class, only that bean will belong to the profile. If you use it on configuration class, it will be applied to all the beans within the configuration class, if you use it on `@Component` class, the profile will be applied to the bean represented by that class.\r\n\r\n[`@Profile` annotation JavaDoc][2] provides more detailed explanation of these rules.\r\n\r\n&gt; Why I have to use the @Profile annotation on a **configuration class* instead annotate directly my beans?\r\n\r\nWell if all beans in given configuration class should be active only for certain profile(s) then it makes sense to declare that globally on the configuration class to avoid having to individually specify the profile on all beans. But If you were to annotate all indiviudal beans it would work as well.\r\n\r\n  [1]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html\r\n  [2]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html","title":"What happens in Spring if I use the @ActiveProfiles annotation on a configuration class instead use it on the class that defines my beans?","body":"<p>If you look at the JavaDoc of <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/test/context/ActiveProfiles.html\" rel=\"noreferrer\"><code>ActiveProfiles</code></a> annotation, it contains this text:</p>\n\n<blockquote>\n  <p>ActiveProfiles is a class-level annotation that is used to declare which active bean definition profiles should be used when loading an ApplicationContext <strong>for test classes</strong>. </p>\n</blockquote>\n\n<p>Meaning it is only supposed to be used to declare active Spring profiles for <strong>test classes</strong>. So If put it on a Configuration class it should have no effect.</p>\n\n<p>And as for the <code>@Profile</code> annotation, it can be used on both method and class level. If you use it on method annotated with <code>@Bean</code> in configuration class, only that bean will belong to the profile. If you use it on configuration class, it will be applied to all the beans within the configuration class, if you use it on <code>@Component</code> class, the profile will be applied to the bean represented by that class.</p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/annotation/Profile.html\" rel=\"noreferrer\"><code>@Profile</code> annotation JavaDoc</a> provides more detailed explanation of these rules.</p>\n\n<blockquote>\n  <p>Why I have to use the @Profile annotation on a **configuration class* instead annotate directly my beans?</p>\n</blockquote>\n\n<p>Well if all beans in given configuration class should be active only for certain profile(s) then it makes sense to declare that globally on the configuration class to avoid having to individually specify the profile on all beans. But If you were to annotate all indiviudal beans it would work as well.</p>\n"},{"tags":[],"owner":{"account_id":10968388,"reputation":34405,"user_id":8059459,"accept_rate":90,"display_name":"Willem van der Veen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674472847,"creation_date":1674472847,"answer_id":75208775,"question_id":27216388,"body_markdown":"The `@ActiveProfiles` notation is a way of specifying which Spring profiles should be active in a particular context. It is useful for declaring which beans should be created and which configurations should be applied. An example of using the `@ActiveProfiles` notation would be:\r\n\r\n    @ActiveProfiles(&quot;test&quot;)\r\n    public class MyTestClass {\r\n        //test methods here\r\n    }\r\n\r\nIn this example, the &quot;test&quot; profile is active for the class MyTestClass. This means that any beans or configurations associated with the &quot;test&quot; profile will be applied when running any tests in this class.\r\n","title":"What happens in Spring if I use the @ActiveProfiles annotation on a configuration class instead use it on the class that defines my beans?","body":"<p>The <code>@ActiveProfiles</code> notation is a way of specifying which Spring profiles should be active in a particular context. It is useful for declaring which beans should be created and which configurations should be applied. An example of using the <code>@ActiveProfiles</code> notation would be:</p>\n<pre><code>@ActiveProfiles(&quot;test&quot;)\npublic class MyTestClass {\n    //test methods here\n}\n</code></pre>\n<p>In this example, the &quot;test&quot; profile is active for the class MyTestClass. This means that any beans or configurations associated with the &quot;test&quot; profile will be applied when running any tests in this class.</p>\n"}],"owner":{"account_id":2056257,"reputation":41415,"user_id":1833945,"accept_rate":65,"display_name":"AndreaNobili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22477,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":27216503,"answer_count":2,"score":13,"last_activity_date":1674472847,"creation_date":1417370511,"question_id":27216388,"body_markdown":"I am studying for the **Spring Core** certification and I have some doubts related to the use of **profiles** into **JUnit tests**.\r\n\r\nSo I know that if I annote a class in the following way:\r\n\r\n    @Profile(&quot;stub&quot;)\r\n    @Repository\r\n    public class StubAccountRepository implements AccountRepository {\r\n    \r\n    \tprivate Logger logger = Logger.getLogger(StubAccountRepository.class);\r\n    \r\n    \tprivate Map&lt;String, Account&gt; accountsByCreditCard = new HashMap&lt;String, Account&gt;();\r\n    \r\n    \t/**\r\n    \t * Creates a single test account with two beneficiaries. Also logs creation\r\n    \t * so we know which repository we are using.\r\n    \t */\r\n    \tpublic StubAccountRepository() {\r\n    \t\tlogger.info(&quot;Creating &quot; + getClass().getSimpleName());\r\n    \t\tAccount account = new Account(&quot;123456789&quot;, &quot;Keith and Keri Donald&quot;);\r\n    \t\taccount.addBeneficiary(&quot;Annabelle&quot;, Percentage.valueOf(&quot;50%&quot;));\r\n    \t\taccount.addBeneficiary(&quot;Corgan&quot;, Percentage.valueOf(&quot;50%&quot;));\r\n    \t\taccountsByCreditCard.put(&quot;1234123412341234&quot;, account);\r\n    \t}\r\n    \r\n    \tpublic Account findByCreditCard(String creditCardNumber) {\r\n    \t\tAccount account = accountsByCreditCard.get(creditCardNumber);\r\n    \t\tif (account == null) {\r\n    \t\t\tthrow new EmptyResultDataAccessException(1);\r\n    \t\t}\r\n    \t\treturn account;\r\n    \t}\r\n    \r\n    \tpublic void updateBeneficiaries(Account account) {\r\n    \t\t// nothing to do, everything is in memory\r\n    \t}\r\n    }\r\n\r\nI am declaring a **service bean** that belongs to the **stub** profile.\r\n\r\nSo, if my **test class** is something like this:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @ContextConfiguration(classes=TestInfrastructureConfig.class)\r\n    @ActiveProfiles(&quot;stub&quot;)\r\n    public class RewardNetworkTests {\r\n        .....................................\r\n        .....................................\r\n        .....................................\r\n    }\r\n\r\nit means that it will be used the beans bean that belong to the **stub** profile and the bean that not have a profile. Is it right or am I missing something?\r\n\r\nWhat happens if instead use the **@ActiveProfiles** annotation on a class (whose instance will be a Spring bean) I use it on a **Java Configuration Class**?\r\n\r\nSomething like it:\r\n\r\n    @Configuration\r\n    @Profile(&quot;jdbc-dev&quot;)\r\n    public class TestInfrastructureDevConfig {\r\n    \r\n    \t/**\r\n    \t * Creates an in-memory &quot;rewards&quot; database populated \r\n    \t * with test data for fast testing\r\n    \t */\r\n    \t@Bean\r\n    \tpublic DataSource dataSource(){\r\n    \t\treturn\r\n    \t\t\t(new EmbeddedDatabaseBuilder())\r\n    \t\t\t.addScript(&quot;classpath:rewards/testdb/schema.sql&quot;)\r\n    \t\t\t.addScript(&quot;classpath:rewards/testdb/test-data.sql&quot;)\r\n    \t\t\t.build();\r\n    \t}\t\r\n    }\r\n\r\nWhat exactly do? I think that all the beans configured in this class will belong to the **jdbc-dev** profile, but I am not sure about it. Can you give me more information about this thing?\r\n\r\nWhy I have to use the **@Profile** annotation on a **configuration class* instead annotate directly my beans?\r\n\r\nTnx\r\n","title":"What happens in Spring if I use the @ActiveProfiles annotation on a configuration class instead use it on the class that defines my beans?","body":"<p>I am studying for the <strong>Spring Core</strong> certification and I have some doubts related to the use of <strong>profiles</strong> into <strong>JUnit tests</strong>.</p>\n\n<p>So I know that if I annote a class in the following way:</p>\n\n<pre><code>@Profile(\"stub\")\n@Repository\npublic class StubAccountRepository implements AccountRepository {\n\n    private Logger logger = Logger.getLogger(StubAccountRepository.class);\n\n    private Map&lt;String, Account&gt; accountsByCreditCard = new HashMap&lt;String, Account&gt;();\n\n    /**\n     * Creates a single test account with two beneficiaries. Also logs creation\n     * so we know which repository we are using.\n     */\n    public StubAccountRepository() {\n        logger.info(\"Creating \" + getClass().getSimpleName());\n        Account account = new Account(\"123456789\", \"Keith and Keri Donald\");\n        account.addBeneficiary(\"Annabelle\", Percentage.valueOf(\"50%\"));\n        account.addBeneficiary(\"Corgan\", Percentage.valueOf(\"50%\"));\n        accountsByCreditCard.put(\"1234123412341234\", account);\n    }\n\n    public Account findByCreditCard(String creditCardNumber) {\n        Account account = accountsByCreditCard.get(creditCardNumber);\n        if (account == null) {\n            throw new EmptyResultDataAccessException(1);\n        }\n        return account;\n    }\n\n    public void updateBeneficiaries(Account account) {\n        // nothing to do, everything is in memory\n    }\n}\n</code></pre>\n\n<p>I am declaring a <strong>service bean</strong> that belongs to the <strong>stub</strong> profile.</p>\n\n<p>So, if my <strong>test class</strong> is something like this:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes=TestInfrastructureConfig.class)\n@ActiveProfiles(\"stub\")\npublic class RewardNetworkTests {\n    .....................................\n    .....................................\n    .....................................\n}\n</code></pre>\n\n<p>it means that it will be used the beans bean that belong to the <strong>stub</strong> profile and the bean that not have a profile. Is it right or am I missing something?</p>\n\n<p>What happens if instead use the <strong>@ActiveProfiles</strong> annotation on a class (whose instance will be a Spring bean) I use it on a <strong>Java Configuration Class</strong>?</p>\n\n<p>Something like it:</p>\n\n<pre><code>@Configuration\n@Profile(\"jdbc-dev\")\npublic class TestInfrastructureDevConfig {\n\n    /**\n     * Creates an in-memory \"rewards\" database populated \n     * with test data for fast testing\n     */\n    @Bean\n    public DataSource dataSource(){\n        return\n            (new EmbeddedDatabaseBuilder())\n            .addScript(\"classpath:rewards/testdb/schema.sql\")\n            .addScript(\"classpath:rewards/testdb/test-data.sql\")\n            .build();\n    }   \n}\n</code></pre>\n\n<p>What exactly do? I think that all the beans configured in this class will belong to the <strong>jdbc-dev</strong> profile, but I am not sure about it. Can you give me more information about this thing?</p>\n\n<p>Why I have to use the <strong>@Profile</strong> annotation on a **configuration class* instead annotate directly my beans?</p>\n\n<p>Tnx</p>\n"},{"tags":["java","spring","spring-mvc","parallel-processing","spring-batch"],"comments":[{"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"score":0,"creation_date":1402504315,"post_id":23357024,"comment_id":37301575,"body_markdown":"Hi, See this post which outlines how to use the flow and split elem elements. I&#39;m trying to do exactly the same as you but am still stuck with it. http://javaetmoi.com/2012/12/parallelisation-de-traitements-batchs-spring-batch","body":"Hi, See this post which outlines how to use the flow and split elem elements. I&#39;m trying to do exactly the same as you but am still stuck with it. <a href=\"http://javaetmoi.com/2012/12/parallelisation-de-traitements-batchs-spring-batch\" rel=\"nofollow noreferrer\">javaetmoi.com/2012/12/&hellip;</a>"},{"owner":{"account_id":22565,"reputation":11004,"user_id":55794,"accept_rate":54,"display_name":"emeraldjava"},"score":0,"creation_date":1402504448,"post_id":23357024,"comment_id":37301640,"body_markdown":"This is a second post i found related to this topic. http://forum.spring.io/forum/spring-projects/batch/80527-defining-a-flow-inside-a-partitionstep","body":"This is a second post i found related to this topic. <a href=\"http://forum.spring.io/forum/spring-projects/batch/80527-defining-a-flow-inside-a-partitionstep\" rel=\"nofollow noreferrer\">forum.spring.io/forum/spring-projects/batch/&hellip;</a>"},{"owner":{"account_id":2283656,"reputation":36,"user_id":2008215,"display_name":"mremond"},"score":0,"creation_date":1444826048,"post_id":23357024,"comment_id":54063215,"body_markdown":"I had a similar issue, please take a look at http://stackoverflow.com/questions/33121176/spring-batch-flowstep-in-partitioner-restart-issue/33125360#33125360","body":"I had a similar issue, please take a look at <a href=\"http://stackoverflow.com/questions/33121176/spring-batch-flowstep-in-partitioner-restart-issue/33125360#33125360\" title=\"spring batch flowstep in partitioner restart issue\">stackoverflow.com/questions/33121176/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3607248,"reputation":71,"user_id":3009150,"display_name":"Arun Duraisamy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1408117007,"creation_date":1408117007,"answer_id":25329449,"question_id":23357024,"body_markdown":"**You can try the following.**\r\n\r\n     &lt;batch:job id=&quot;myJob&quot; restartable=&quot;true&quot; job-repository=&quot;jobRepository&quot; &gt;\r\n            &lt;batch:listeners&gt;\r\n                &lt;batch:listener ref=&quot;myJoblistener&quot;&gt;&lt;/batch:listener&gt;\r\n            &lt;/batch:listeners&gt;\r\n    \r\n            &lt;batch:step id=&quot;my-master-step&quot;&gt;\r\n                &lt;batch:partition step=&quot;my-step&quot; partitioner=&quot;my-step-partitioner&quot; handler=&quot;my-partitioner-handler&quot;&gt;\r\n                &lt;/batch:partition&gt;\r\n            &lt;/batch:step&gt;\r\n        &lt;/batch:job&gt;\r\n    \r\n        &lt;batch:step id=&quot;my-step&quot; &gt;\r\n         \t&lt;batch:job ref=&quot;MyChildJob&quot; job-launcher=&quot;jobLauncher&quot;\r\n    \t\t\t\tjob-parameters-extractor=&quot;jobParametersExtractor&quot; /&gt;\r\n            &lt;batch:listeners&gt;\r\n                &lt;batch:listener ref=&quot;myStepListener&quot;&gt;&lt;/batch:listener&gt;\r\n            &lt;/batch:listeners&gt; \r\n        &lt;/batch:step&gt;\r\n    \t\r\n    \t&lt;batch:job id=&quot;MyChildJob&quot; restartable=&quot;false&quot;\r\n    \t\txmlns=&quot;http://www.springframework.org/schema/batch&quot;&gt;\r\n    \t\t&lt;batch:step id=&quot;MyChildStep1&quot; next=&quot;MyChildStep2&quot;&gt;\r\n    \t\t\t&lt;batch:tasklet ref=&quot;MyChildStep1Tasklet&quot; transaction-manager=&quot;transactionManager&quot; &gt;\r\n    \t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    \t\t\r\n    \t\t&lt;batch:step id=&quot;MyChildStep2&quot; next=&quot;MyChildStep3&quot;&gt;\r\n    \t\t\t&lt;batch:tasklet ref=&quot;MyChildStep2Tasklet&quot; transaction-manager=&quot;transactionManager&quot; &gt;\r\n    \t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    \t\t\r\n    \t\t&lt;batch:step id=&quot;MyChildStep3&quot;&gt;\r\n    \t\t\t&lt;batch:tasklet ref=&quot;MyChildStep3Tasklet&quot; transaction-manager=&quot;transactionManager&quot; &gt;\r\n    \t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    \r\n    \t&lt;/batch:job&gt;","title":"Spring batch Partitioning with multiple steps in parallel?","body":"<p><strong>You can try the following.</strong></p>\n\n<pre><code> &lt;batch:job id=\"myJob\" restartable=\"true\" job-repository=\"jobRepository\" &gt;\n        &lt;batch:listeners&gt;\n            &lt;batch:listener ref=\"myJoblistener\"&gt;&lt;/batch:listener&gt;\n        &lt;/batch:listeners&gt;\n\n        &lt;batch:step id=\"my-master-step\"&gt;\n            &lt;batch:partition step=\"my-step\" partitioner=\"my-step-partitioner\" handler=\"my-partitioner-handler\"&gt;\n            &lt;/batch:partition&gt;\n        &lt;/batch:step&gt;\n    &lt;/batch:job&gt;\n\n    &lt;batch:step id=\"my-step\" &gt;\n        &lt;batch:job ref=\"MyChildJob\" job-launcher=\"jobLauncher\"\n                job-parameters-extractor=\"jobParametersExtractor\" /&gt;\n        &lt;batch:listeners&gt;\n            &lt;batch:listener ref=\"myStepListener\"&gt;&lt;/batch:listener&gt;\n        &lt;/batch:listeners&gt; \n    &lt;/batch:step&gt;\n\n    &lt;batch:job id=\"MyChildJob\" restartable=\"false\"\n        xmlns=\"http://www.springframework.org/schema/batch\"&gt;\n        &lt;batch:step id=\"MyChildStep1\" next=\"MyChildStep2\"&gt;\n            &lt;batch:tasklet ref=\"MyChildStep1Tasklet\" transaction-manager=\"transactionManager\" &gt;\n            &lt;/batch:tasklet&gt;\n        &lt;/batch:step&gt;\n\n        &lt;batch:step id=\"MyChildStep2\" next=\"MyChildStep3\"&gt;\n            &lt;batch:tasklet ref=\"MyChildStep2Tasklet\" transaction-manager=\"transactionManager\" &gt;\n            &lt;/batch:tasklet&gt;\n        &lt;/batch:step&gt;\n\n        &lt;batch:step id=\"MyChildStep3\"&gt;\n            &lt;batch:tasklet ref=\"MyChildStep3Tasklet\" transaction-manager=\"transactionManager\" &gt;\n            &lt;/batch:tasklet&gt;\n        &lt;/batch:step&gt;\n\n    &lt;/batch:job&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2029599,"reputation":3268,"user_id":1813696,"accept_rate":33,"display_name":"Debopam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1460123441,"creation_date":1460123441,"answer_id":36501351,"question_id":23357024,"body_markdown":"I had similar requirement and solved it using below requirement\r\n\r\n    &lt;batch:job id=&quot;cycleJob&quot;&gt;\r\n    \t\t&lt;batch:step id=&quot;zStep&quot; next=&quot;gStep&quot;&gt;\r\n    \t\t\t&lt;batch:partition partitioner=&quot;zPartitioner&quot;&gt;\r\n    \t\t\t\t&lt;batch:step&gt;\r\n    \t\t\t\t\t&lt;batch:tasklet throttle-limit=&quot;1&quot;&gt;\r\n    \t\t\t\t\t\t&lt;batch:chunk processor=&quot;itemProcessor&quot; reader=&quot;zReader&quot; writer=&quot;itemWriter&quot; commit-interval=&quot;1&quot;&gt;\r\n    \t\t\t\t\t\t&lt;/batch:chunk&gt;\r\n    \t\t\t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t\t\t&lt;/batch:step&gt;\r\n    \t\t\t\t&lt;batch:handler task-executor=&quot;taskExecutor&quot; grid-size=&quot;${maxThreads}&quot; /&gt;\r\n    \t\t\t&lt;/batch:partition&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    \t\t&lt;batch:step id=&quot;gStep&quot; parent=&quot;zStep&quot; next=&quot;yStep&quot;&gt;\r\n    \t\t\t&lt;batch:partition partitioner=&quot;gPartitioner&quot;&gt;\r\n    \t\t\t\t&lt;batch:step&gt;\r\n    \t\t\t\t\t&lt;batch:tasklet throttle-limit=&quot;1&quot;&gt;\r\n    \t\t\t\t\t\t&lt;batch:chunk processor=&quot;itemProcessor&quot; reader=&quot;gReader&quot; writer=&quot;itemWriter&quot; commit-interval=&quot;1&quot;&gt;\r\n    \t\t\t\t\t\t&lt;/batch:chunk&gt;\r\n    \t\t\t\t\t&lt;/batch:tasklet&gt;\r\n    \t\t\t\t&lt;/batch:step&gt;\r\n    \t\t\t\t&lt;batch:handler task-executor=&quot;taskExecutor&quot; grid-size=&quot;${maxThreads}&quot; /&gt;\r\n    \t\t\t&lt;/batch:partition&gt;\r\n    \t\t&lt;/batch:step&gt;\r\n    &lt;/batch:job&gt;","title":"Spring batch Partitioning with multiple steps in parallel?","body":"<p>I had similar requirement and solved it using below requirement</p>\n\n<pre><code>&lt;batch:job id=\"cycleJob\"&gt;\n        &lt;batch:step id=\"zStep\" next=\"gStep\"&gt;\n            &lt;batch:partition partitioner=\"zPartitioner\"&gt;\n                &lt;batch:step&gt;\n                    &lt;batch:tasklet throttle-limit=\"1\"&gt;\n                        &lt;batch:chunk processor=\"itemProcessor\" reader=\"zReader\" writer=\"itemWriter\" commit-interval=\"1\"&gt;\n                        &lt;/batch:chunk&gt;\n                    &lt;/batch:tasklet&gt;\n                &lt;/batch:step&gt;\n                &lt;batch:handler task-executor=\"taskExecutor\" grid-size=\"${maxThreads}\" /&gt;\n            &lt;/batch:partition&gt;\n        &lt;/batch:step&gt;\n        &lt;batch:step id=\"gStep\" parent=\"zStep\" next=\"yStep\"&gt;\n            &lt;batch:partition partitioner=\"gPartitioner\"&gt;\n                &lt;batch:step&gt;\n                    &lt;batch:tasklet throttle-limit=\"1\"&gt;\n                        &lt;batch:chunk processor=\"itemProcessor\" reader=\"gReader\" writer=\"itemWriter\" commit-interval=\"1\"&gt;\n                        &lt;/batch:chunk&gt;\n                    &lt;/batch:tasklet&gt;\n                &lt;/batch:step&gt;\n                &lt;batch:handler task-executor=\"taskExecutor\" grid-size=\"${maxThreads}\" /&gt;\n            &lt;/batch:partition&gt;\n        &lt;/batch:step&gt;\n&lt;/batch:job&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4937900,"reputation":196,"user_id":3975522,"display_name":"slax57"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605187720,"creation_date":1605187720,"answer_id":64804802,"question_id":23357024,"body_markdown":"Late answer, but I finally found the solution I was originally looking for when coming here, using a **flow** instead of a child job. So I figured I should post it here as well.\r\n\r\n```xml\r\n    &lt;job id=&quot;myJob&quot;&gt;\r\n        &lt;step id=&quot;my-master-step&quot;&gt;\r\n            &lt;partition partitioner=&quot;my-step-partitioner&quot;&gt;\r\n                &lt;handler task-executor=&quot;my-partitioner-handler&quot; /&gt;\r\n                &lt;step&gt;\r\n                    &lt;!-- For each partition, we run the complete flow --&gt;\r\n                    &lt;flow parent=&quot;mainFlow&quot; /&gt;\r\n                &lt;/step&gt;\r\n            &lt;/partition&gt;\r\n        &lt;/step&gt;\r\n    &lt;/job&gt;\r\n\t\r\n    &lt;!-- The flow consists of several sequential steps (2 here) --&gt;\r\n    &lt;flow id=&quot;mainFlow&quot;&gt;\r\n        &lt;step id=&quot;MyChildStep1&quot; next=&quot;MyChildStep2&quot;&gt;\r\n            &lt;!-- Here you can have a tasklet or a chunk of course --&gt;\r\n            &lt;tasklet ref=&quot;MyChildStep1Tasklet&quot; /&gt;\r\n        &lt;/step&gt;\r\n        &lt;step id=&quot;MyChildStep2&quot;&gt;\r\n            &lt;!-- Same here --&gt;\r\n            &lt;tasklet ref=&quot;MyChildStep2Tasklet&quot; /&gt;\r\n        &lt;/step&gt;\r\n    &lt;/flow&gt;\r\n    \r\n    &lt;bean id=&quot;MyChildStep1Tasklet&quot; class=&quot;...&quot; /&gt;\r\n\t\r\n    &lt;bean id=&quot;MyChildStep1Tasklet&quot; class=&quot;...&quot; /&gt;\r\n```\r\n\r\nI have not tested running it in parallel but I see no reason why it shouldn&#39;t work.","title":"Spring batch Partitioning with multiple steps in parallel?","body":"<p>Late answer, but I finally found the solution I was originally looking for when coming here, using a <strong>flow</strong> instead of a child job. So I figured I should post it here as well.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;job id=&quot;myJob&quot;&gt;\n        &lt;step id=&quot;my-master-step&quot;&gt;\n            &lt;partition partitioner=&quot;my-step-partitioner&quot;&gt;\n                &lt;handler task-executor=&quot;my-partitioner-handler&quot; /&gt;\n                &lt;step&gt;\n                    &lt;!-- For each partition, we run the complete flow --&gt;\n                    &lt;flow parent=&quot;mainFlow&quot; /&gt;\n                &lt;/step&gt;\n            &lt;/partition&gt;\n        &lt;/step&gt;\n    &lt;/job&gt;\n    \n    &lt;!-- The flow consists of several sequential steps (2 here) --&gt;\n    &lt;flow id=&quot;mainFlow&quot;&gt;\n        &lt;step id=&quot;MyChildStep1&quot; next=&quot;MyChildStep2&quot;&gt;\n            &lt;!-- Here you can have a tasklet or a chunk of course --&gt;\n            &lt;tasklet ref=&quot;MyChildStep1Tasklet&quot; /&gt;\n        &lt;/step&gt;\n        &lt;step id=&quot;MyChildStep2&quot;&gt;\n            &lt;!-- Same here --&gt;\n            &lt;tasklet ref=&quot;MyChildStep2Tasklet&quot; /&gt;\n        &lt;/step&gt;\n    &lt;/flow&gt;\n    \n    &lt;bean id=&quot;MyChildStep1Tasklet&quot; class=&quot;...&quot; /&gt;\n    \n    &lt;bean id=&quot;MyChildStep1Tasklet&quot; class=&quot;...&quot; /&gt;\n</code></pre>\n<p>I have not tested running it in parallel but I see no reason why it shouldn't work.</p>\n"},{"tags":[],"owner":{"account_id":4079333,"reputation":457,"user_id":3350164,"accept_rate":25,"display_name":"Claudio Tasso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674472757,"creation_date":1674472757,"answer_id":75208761,"question_id":23357024,"body_markdown":"As @arunkumar-pushparaj asked, here you can find a simple example using Java configuration:\r\n\r\n    public class ParallelFlowConfiguration {\r\n\tprotected static final int GRID_SIZE = 4;\r\n\r\n\t@Autowired\r\n\tprivate StepBuilderFactory stepBuilderFactory;\r\n\r\n\t@Autowired\r\n\tprivate JobBuilderFactory jobBuilderFactory;\r\n\r\n\r\n\t@Bean\r\n\tpublic Job producerProcess() {\t\t\r\n\t\treturn this.jobBuilderFactory.get(&quot;partitionedJob&quot;).incrementer(new RunIdIncrementer())\r\n\t\t\t\t.start(step1(null,null))\t\t\t\t\r\n\t\t\t\t.build();\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Step step1(PartitionHandler partitionHandler,Partitioner  partitioner) {\r\n\t\treturn this.stepBuilderFactory.get(&quot;step1&quot;).partitioner(myStepFlow().getName(), partitioner)\r\n\t\t\t\t.step(myStepFlow()).partitionHandler(partitionHandler)\r\n\t\t\t\t.build();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Step step2() {\r\n\t\treturn this.stepBuilderFactory.get(&quot;step2&quot;).tasklet((contribution, chunkContext) -&gt; {\r\n\t\t\tExecutionContext executionContext = chunkContext.getStepContext().getStepExecution()\r\n\t\t\t\t\t.getExecutionContext();\r\n\r\n\t\t\tInteger partitionNumber = executionContext.getInt(&quot;partitionNumber&quot;);\r\n\r\n\t\t\t\r\n\t\t\tlog.info(&quot;Eseguo Step DUE: {}&quot;,partitionNumber);\r\n\t\t\treturn RepeatStatus.FINISHED;\r\n\t\t}).build();\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Partitioner partitioner() {\r\n\t\treturn new Partitioner() {\r\n\t\t\t@Override\r\n\t\t\tpublic Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\r\n\r\n\t\t\t\tMap&lt;String, ExecutionContext&gt; partitions = new HashMap&lt;&gt;(gridSize);\r\n\r\n\t\t\t\tfor (int i = 0; i &lt; GRID_SIZE; i++) {\r\n\t\t\t\t\tExecutionContext context1 = new ExecutionContext();\r\n\t\t\t\t\tcontext1.put(&quot;partitionNumber&quot;, i);\r\n\r\n\t\t\t\t\tpartitions.put(&quot;partition&quot; + i, context1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn partitions;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic Flow myFlow() {\r\n\t\treturn new FlowBuilder&lt;Flow&gt;(&quot;myFlow1&quot;).start(step2()).build();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic Step myStepFlow() {\r\n\t\treturn stepBuilderFactory.get(&quot;stepFlow&quot;)\r\n\t\t\t\t\r\n\t\t\t\t.flow(myFlow()).build();\r\n\t}\r\n\t\r\n\t@Bean \r\n\tpublic PartitionHandler partitionHandler() {\r\n\t\tTaskExecutorPartitionHandler partitionHandler = new TaskExecutorPartitionHandler();\r\n\t\tpartitionHandler.setTaskExecutor(new SimpleAsyncTaskExecutor());\r\n\t\tpartitionHandler.setStep(myStepFlow());\r\n\t\treturn partitionHandler;\r\n\t}\r\n\r\n\t\r\n}","title":"Spring batch Partitioning with multiple steps in parallel?","body":"<p>As @arunkumar-pushparaj asked, here you can find a simple example using Java configuration:</p>\n<pre><code>public class ParallelFlowConfiguration {\nprotected static final int GRID_SIZE = 4;\n\n@Autowired\nprivate StepBuilderFactory stepBuilderFactory;\n\n@Autowired\nprivate JobBuilderFactory jobBuilderFactory;\n\n\n@Bean\npublic Job producerProcess() {      \n    return this.jobBuilderFactory.get(&quot;partitionedJob&quot;).incrementer(new RunIdIncrementer())\n            .start(step1(null,null))                \n            .build();\n\n}\n\n@Bean\npublic Step step1(PartitionHandler partitionHandler,Partitioner  partitioner) {\n    return this.stepBuilderFactory.get(&quot;step1&quot;).partitioner(myStepFlow().getName(), partitioner)\n            .step(myStepFlow()).partitionHandler(partitionHandler)\n            .build();\n}\n\n@Bean\npublic Step step2() {\n    return this.stepBuilderFactory.get(&quot;step2&quot;).tasklet((contribution, chunkContext) -&gt; {\n        ExecutionContext executionContext = chunkContext.getStepContext().getStepExecution()\n                .getExecutionContext();\n\n        Integer partitionNumber = executionContext.getInt(&quot;partitionNumber&quot;);\n\n        \n        log.info(&quot;Eseguo Step DUE: {}&quot;,partitionNumber);\n        return RepeatStatus.FINISHED;\n    }).build();\n\n}\n\n@Bean\npublic Partitioner partitioner() {\n    return new Partitioner() {\n        @Override\n        public Map&lt;String, ExecutionContext&gt; partition(int gridSize) {\n\n            Map&lt;String, ExecutionContext&gt; partitions = new HashMap&lt;&gt;(gridSize);\n\n            for (int i = 0; i &lt; GRID_SIZE; i++) {\n                ExecutionContext context1 = new ExecutionContext();\n                context1.put(&quot;partitionNumber&quot;, i);\n\n                partitions.put(&quot;partition&quot; + i, context1);\n            }\n\n            return partitions;\n        }\n    };\n}\n\n@Bean\npublic Flow myFlow() {\n    return new FlowBuilder&lt;Flow&gt;(&quot;myFlow1&quot;).start(step2()).build();\n}\n\n@Bean\npublic Step myStepFlow() {\n    return stepBuilderFactory.get(&quot;stepFlow&quot;)\n            \n            .flow(myFlow()).build();\n}\n\n@Bean \npublic PartitionHandler partitionHandler() {\n    TaskExecutorPartitionHandler partitionHandler = new TaskExecutorPartitionHandler();\n    partitionHandler.setTaskExecutor(new SimpleAsyncTaskExecutor());\n    partitionHandler.setStep(myStepFlow());\n    return partitionHandler;\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1334876,"reputation":3668,"user_id":1277864,"accept_rate":70,"display_name":"Dangling Piyush"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14556,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1674472757,"creation_date":1398752594,"question_id":23357024,"body_markdown":"I have implemented spring batch partitioning for a single steps where a master step delegates its work to several slave threads which than gets executed in parallel. As shown in following image.(Reference [Spring docs][1])\r\n![enter image description here][2]\r\nNow what if I have multiple steps which are to be executed in parallel? How to configure them in  batch configuration? My current configuration is\r\n\r\n     &lt;batch:job id=&quot;myJob&quot; restartable=&quot;true&quot; job-repository=&quot;jobRepository&quot; &gt;\r\n            &lt;batch:listeners&gt;\r\n                &lt;batch:listener ref=&quot;myJoblistener&quot;&gt;&lt;/batch:listener&gt;\r\n            &lt;/batch:listeners&gt;\r\n            \r\n            &lt;batch:step id=&quot;my-master-step&quot;&gt;\r\n                &lt;batch:partition step=&quot;my-step&quot; partitioner=&quot;my-step-partitioner&quot; handler=&quot;my-partitioner-handler&quot;&gt;\r\n                &lt;/batch:partition&gt;\r\n            &lt;/batch:step&gt;\r\n        &lt;/batch:job&gt;\r\n        \r\n        &lt;batch:step id=&quot;my-step&quot; &gt;\r\n            &lt;batch:tasklet ref=&quot;myTasklet&quot; transaction-manager=&quot;transactionManager&quot; &gt;\r\n            &lt;/batch:tasklet&gt;\r\n            &lt;batch:listeners&gt;\r\n                &lt;batch:listener ref=&quot;myStepListener&quot;&gt;&lt;/batch:listener&gt;\r\n            &lt;/batch:listeners&gt; \r\n        &lt;/batch:step&gt;\r\n\r\nMy architecture diagrams should be like following image:\r\n![enter image description here][3]\r\n\r\nI am not sure even if it is possible using spring batch.Any ideas or I am way over my head to implement it.Thank you.\r\n          \r\n\r\n\r\n  [1]: http://docs.spring.io/spring-batch/reference/html/scalability.html\r\n  [2]: http://i.stack.imgur.com/5OruH.png\r\n  [3]: http://i.stack.imgur.com/nwGPy.jpg","title":"Spring batch Partitioning with multiple steps in parallel?","body":"<p>I have implemented spring batch partitioning for a single steps where a master step delegates its work to several slave threads which than gets executed in parallel. As shown in following image.(Reference <a href=\"http://docs.spring.io/spring-batch/reference/html/scalability.html\" rel=\"noreferrer\">Spring docs</a>)\n<img src=\"https://i.stack.imgur.com/5OruH.png\" alt=\"enter image description here\">\nNow what if I have multiple steps which are to be executed in parallel? How to configure them in  batch configuration? My current configuration is</p>\n\n<pre><code> &lt;batch:job id=\"myJob\" restartable=\"true\" job-repository=\"jobRepository\" &gt;\n        &lt;batch:listeners&gt;\n            &lt;batch:listener ref=\"myJoblistener\"&gt;&lt;/batch:listener&gt;\n        &lt;/batch:listeners&gt;\n\n        &lt;batch:step id=\"my-master-step\"&gt;\n            &lt;batch:partition step=\"my-step\" partitioner=\"my-step-partitioner\" handler=\"my-partitioner-handler\"&gt;\n            &lt;/batch:partition&gt;\n        &lt;/batch:step&gt;\n    &lt;/batch:job&gt;\n\n    &lt;batch:step id=\"my-step\" &gt;\n        &lt;batch:tasklet ref=\"myTasklet\" transaction-manager=\"transactionManager\" &gt;\n        &lt;/batch:tasklet&gt;\n        &lt;batch:listeners&gt;\n            &lt;batch:listener ref=\"myStepListener\"&gt;&lt;/batch:listener&gt;\n        &lt;/batch:listeners&gt; \n    &lt;/batch:step&gt;\n</code></pre>\n\n<p>My architecture diagrams should be like following image:\n<img src=\"https://i.stack.imgur.com/nwGPy.jpg\" alt=\"enter image description here\"></p>\n\n<p>I am not sure even if it is possible using spring batch.Any ideas or I am way over my head to implement it.Thank you.</p>\n"},{"tags":["java","directory"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":9,"creation_date":1270235586,"post_id":2568621,"comment_id":2573516,"body_markdown":"For very large values of &quot;one&quot;...","body":"For very large values of &quot;one&quot;..."}],"answers":[{"tags":[],"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1270236008,"creation_date":1270235695,"answer_id":2568647,"question_id":2568621,"body_markdown":"    import java.io.File;\r\n    import java.io.FileFilter;\r\n    ...\r\n    files = dir.listFiles(new FileFilter() { \r\n           public boolean accept(File pathname) { \r\n                return pathname.isDirectory();\r\n           } \r\n        });\r\n\r\nNote the use of [`listFiles(FileFilter)`][1] rather than [`listFiles(FilenameFilter)`][2].\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/File.html#listFiles(java.io.FileFilter)\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/io/File.html#listFiles(java.io.FilenameFilter)","title":"Java: one-liner to list Dirs in a directory?","body":"<pre><code>import java.io.File;\nimport java.io.FileFilter;\n...\nfiles = dir.listFiles(new FileFilter() { \n       public boolean accept(File pathname) { \n            return pathname.isDirectory();\n       } \n    });\n</code></pre>\n\n<p>Note the use of <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#listFiles(java.io.FileFilter)\" rel=\"nofollow noreferrer\"><code>listFiles(FileFilter)</code></a> rather than <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#listFiles(java.io.FilenameFilter)\" rel=\"nofollow noreferrer\"><code>listFiles(FilenameFilter)</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":81675,"reputation":4290,"user_id":230188,"accept_rate":80,"display_name":"Wajdy Essam"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1270235950,"creation_date":1270235950,"answer_id":2568680,"question_id":2568621,"body_markdown":"    public static void main (String[] args)  throws Exception {\r\n    \tFile dir = new File(&quot;yourDir&quot;);\r\n    \r\n    \tFileFilter fileFilter = new FileFilter() {\r\n    \t\tpublic boolean accept(File file) {\r\n    \t\t\treturn file.isDirectory();\r\n    \t\t}\r\n    \t};\r\n    \r\n    \tFile[] files  = dir.listFiles(fileFilter);\r\n    \t\t\r\n    \tfor (File f : files)\r\n    \t\tSystem.out.println( f.getName() );\r\n    }","title":"Java: one-liner to list Dirs in a directory?","body":"<pre><code>public static void main (String[] args)  throws Exception {\n    File dir = new File(\"yourDir\");\n\n    FileFilter fileFilter = new FileFilter() {\n        public boolean accept(File file) {\n            return file.isDirectory();\n        }\n    };\n\n    File[] files  = dir.listFiles(fileFilter);\n\n    for (File f : files)\n        System.out.println( f.getName() );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30387,"reputation":62460,"user_id":82865,"accept_rate":71,"display_name":"Jonathan Holloway"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1270244866,"creation_date":1270244866,"answer_id":2569385,"question_id":2568621,"body_markdown":"This uses Commons IO, but really is the simplest way to list all the directory names.  It also has a way more powerful set of filters that you can use for other purposes:\r\n\r\n    String[] dirNames = new File(&quot;/Users/jonathan&quot;).list(DirectoryFileFilter.INSTANCE);\r\n    for (String dirName: dirNames) \r\n        System.out.println(&quot;Directory Name: &quot; + dirName);","title":"Java: one-liner to list Dirs in a directory?","body":"<p>This uses Commons IO, but really is the simplest way to list all the directory names.  It also has a way more powerful set of filters that you can use for other purposes:</p>\n\n<pre><code>String[] dirNames = new File(\"/Users/jonathan\").list(DirectoryFileFilter.INSTANCE);\nfor (String dirName: dirNames) \n    System.out.println(\"Directory Name: \" + dirName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27579010,"reputation":1,"user_id":21048605,"display_name":"juantan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674472694,"creation_date":1674206060,"answer_id":75181906,"question_id":2568621,"body_markdown":"You will need to import java.nio.file.Files and java.nio.file.Paths, which are available since Java 1.7. Then using streams, which were introduced in Java 1.8, you can do something like the following:\r\n\r\n```\r\nFiles.list(Paths.get(&quot;.&quot;)).filter(x -&gt; Files.isDirectory(x)).forEach(System.out::println);\r\n```\r\nThis gets files in the current directory &quot;.&quot;, lists them, and filters them so only directories are included, then iterates over the directories stream to print them out using a println method reference.\r\n\r\nActually you could use a method reference for the filter as well like so:\r\n\r\nFiles.list(Paths.get(&quot;.&quot;)).filter(Files::isDirectory).forEach(System.out::println);\r\n","title":"Java: one-liner to list Dirs in a directory?","body":"<p>You will need to import java.nio.file.Files and java.nio.file.Paths, which are available since Java 1.7. Then using streams, which were introduced in Java 1.8, you can do something like the following:</p>\n<pre><code>Files.list(Paths.get(&quot;.&quot;)).filter(x -&gt; Files.isDirectory(x)).forEach(System.out::println);\n</code></pre>\n<p>This gets files in the current directory &quot;.&quot;, lists them, and filters them so only directories are included, then iterates over the directories stream to print them out using a println method reference.</p>\n<p>Actually you could use a method reference for the filter as well like so:</p>\n<p>Files.list(Paths.get(&quot;.&quot;)).filter(Files::isDirectory).forEach(System.out::println);</p>\n"}],"owner":{"account_id":54832,"reputation":51238,"user_id":164148,"accept_rate":82,"display_name":"hhh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":2568680,"answer_count":4,"score":5,"last_activity_date":1674472694,"creation_date":1270235496,"question_id":2568621,"body_markdown":"**One-Liner to list TXT-files.**\r\n\r\n    import java.io.File;\r\n    import java.io.FilenameFilter;\r\n    ...\r\n    files = dir.listFiles(new FilenameFilter() {\r\n               public boolean accept(File dir, String name) {\r\n                    return name.toLowerCase().endsWith(&quot;.txt&quot;);\r\n                    }\r\n               }\r\n            );\r\n\r\n[Source.][1]\r\n\r\n**Is there an one-liner to list dirs in a dir?**\r\n\r\n  [1]: http://www.rgagnon.com/javadetails/java-0055.html","title":"Java: one-liner to list Dirs in a directory?","body":"<p><strong>One-Liner to list TXT-files.</strong></p>\n\n<pre><code>import java.io.File;\nimport java.io.FilenameFilter;\n...\nfiles = dir.listFiles(new FilenameFilter() {\n           public boolean accept(File dir, String name) {\n                return name.toLowerCase().endsWith(\".txt\");\n                }\n           }\n        );\n</code></pre>\n\n<p><a href=\"http://www.rgagnon.com/javadetails/java-0055.html\" rel=\"noreferrer\">Source.</a></p>\n\n<p><strong>Is there an one-liner to list dirs in a dir?</strong></p>\n"},{"tags":["java","jvm-hotspot","compare-and-swap"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1674388875,"post_id":75200188,"comment_id":132700013,"body_markdown":"There&#39;s two hints in that signature: `native` means that the code isn&#39;t implemented in Java (it can&#39;t be), but in native (C++) code instead. And `@HotSpotIntrinsicCandidate` means it isn&#39;t even a regular native method, but one that&#39;s implemented with a deep integration into the JVM.","body":"There&#39;s two hints in that signature: <code>native</code> means that the code isn&#39;t implemented in Java (it can&#39;t be), but in native (C++) code instead. And <code>@HotSpotIntrinsicCandidate</code> means it isn&#39;t even a regular native method, but one that&#39;s implemented with a deep integration into the JVM."}],"answers":[{"tags":[],"owner":{"account_id":497130,"reputation":1166,"user_id":1885085,"display_name":"Gilles D."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674464586,"creation_date":1674464586,"answer_id":75207346,"question_id":75200188,"body_markdown":"Note that JNI and Unsafe are unrelated: Unsafe is not part of JNI and, as already pointed out, despite the native methods, Unsafe is not implemented with JNI.\r\n\r\nIt&#39;s directly [linked](https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/prims/unsafe.cpp#L886) in the [VM](https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/prims/unsafe.cpp#L748) to some generic [`Atomic::cmpxchg`](https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/runtime/atomic.hpp#L747) which you then have to trace through some [layers](https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/runtime/atomic.hpp#L768) of templates to the appropriate [implementation](https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/os_cpu/linux_x86/atomic_linux_x86.hpp#L126) depending on your platform (here linux-amd64).","title":"How does Unsafe library help atomic variables to achieve thread safety?","body":"<p>Note that JNI and Unsafe are unrelated: Unsafe is not part of JNI and, as already pointed out, despite the native methods, Unsafe is not implemented with JNI.</p>\n<p>It's directly <a href=\"https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/prims/unsafe.cpp#L886\" rel=\"nofollow noreferrer\">linked</a> in the <a href=\"https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/prims/unsafe.cpp#L748\" rel=\"nofollow noreferrer\">VM</a> to some generic <a href=\"https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/runtime/atomic.hpp#L747\" rel=\"nofollow noreferrer\"><code>Atomic::cmpxchg</code></a> which you then have to trace through some <a href=\"https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/share/runtime/atomic.hpp#L768\" rel=\"nofollow noreferrer\">layers</a> of templates to the appropriate <a href=\"https://github.com/openjdk/jdk/blob/jdk-21+6/src/hotspot/os_cpu/linux_x86/atomic_linux_x86.hpp#L126\" rel=\"nofollow noreferrer\">implementation</a> depending on your platform (here linux-amd64).</p>\n"},{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674466122,"creation_date":1674466122,"answer_id":75207593,"question_id":75200188,"body_markdown":"The implementation is rather straightforward.\r\nThere are two parts to it: a JNI method that makes the instruction available as part of bytecode-interpreted evaluation, and an intrinsic that makes it available when the JIT compiler generates native code.\r\n\r\n# JNI method\r\nunsafe.cpp shows the [implementation as a JNI method](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/prims/unsafe.cpp#L748-L752):\r\n```\r\nUNSAFE_ENTRY(jboolean, Unsafe_CompareAndSetLong(JNIEnv *env, jobject unsafe, jobject obj, jlong offset, jlong e, jlong x)) {\r\n  oop p = JNIHandles::resolve(obj);\r\n  volatile jlong* addr = (volatile jlong*)index_oop_from_field_offset_long(p, offset);\r\n  return Atomic::cmpxchg(addr, e, x) == e;\r\n} UNSAFE_END\r\n```\r\n\r\nAtomic::cmpxchg [dispatches](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/atomic.hpp#L744-L842) to various strategies for doing a CAS, and you find the actual implementation  in terms of assembly instructions in an [OS+CPU specific file](https://github.com/openjdk/jdk/blob/master/src/hotspot/os_cpu/linux_x86/atomic_linux_x86.hpp):\r\n```\r\ntemplate&lt;&gt;\r\ntemplate&lt;typename T&gt;\r\ninline T Atomic::PlatformCmpxchg&lt;4&gt;::operator()(T volatile* dest,\r\n                                                T compare_value,\r\n                                                T exchange_value,\r\n                                                atomic_memory_order /* order */) const {\r\n  STATIC_ASSERT(4 == sizeof(T));\r\n  __asm__ volatile (&quot;lock cmpxchgl %1,(%3)&quot;\r\n                    : &quot;=a&quot; (exchange_value)\r\n                    : &quot;r&quot; (exchange_value), &quot;a&quot; (compare_value), &quot;r&quot; (dest)\r\n                    : &quot;cc&quot;, &quot;memory&quot;);\r\n  return exchange_value;\r\n}\r\n```\r\nThere are also implementations for 1-byte and 8-byte CAS, but the only difference is `cmpxchgb` and `cmpxchgq`, respectively.\r\n\r\n# JVM Intrinsic\r\nAs remarked in the comments to your question, the method is also tagged with `@HotspotIntrinsicCandidate`. (`@IntrinsicCandidate` in recent JVMs).\r\nThe JVM keeps a [list of all intrinsic candidates](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/classfile/vmIntrinsics.hpp) by class and method name. The [class file parser](https://github.com/openjdk/jdk/blob/master/src/hotspot/share/classfile/classFileParser.cpp#L5161-L5254) associates the method with the declared intrinsic. From there, the JIT compiler can detect calls to methods with intrinsics and replace them with inlined versions or assembly fragments for just that instruction.","title":"How does Unsafe library help atomic variables to achieve thread safety?","body":"<p>The implementation is rather straightforward.\nThere are two parts to it: a JNI method that makes the instruction available as part of bytecode-interpreted evaluation, and an intrinsic that makes it available when the JIT compiler generates native code.</p>\n<h1>JNI method</h1>\n<p>unsafe.cpp shows the <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/prims/unsafe.cpp#L748-L752\" rel=\"nofollow noreferrer\">implementation as a JNI method</a>:</p>\n<pre><code>UNSAFE_ENTRY(jboolean, Unsafe_CompareAndSetLong(JNIEnv *env, jobject unsafe, jobject obj, jlong offset, jlong e, jlong x)) {\n  oop p = JNIHandles::resolve(obj);\n  volatile jlong* addr = (volatile jlong*)index_oop_from_field_offset_long(p, offset);\n  return Atomic::cmpxchg(addr, e, x) == e;\n} UNSAFE_END\n</code></pre>\n<p>Atomic::cmpxchg <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/runtime/atomic.hpp#L744-L842\" rel=\"nofollow noreferrer\">dispatches</a> to various strategies for doing a CAS, and you find the actual implementation  in terms of assembly instructions in an <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/os_cpu/linux_x86/atomic_linux_x86.hpp\" rel=\"nofollow noreferrer\">OS+CPU specific file</a>:</p>\n<pre><code>template&lt;&gt;\ntemplate&lt;typename T&gt;\ninline T Atomic::PlatformCmpxchg&lt;4&gt;::operator()(T volatile* dest,\n                                                T compare_value,\n                                                T exchange_value,\n                                                atomic_memory_order /* order */) const {\n  STATIC_ASSERT(4 == sizeof(T));\n  __asm__ volatile (&quot;lock cmpxchgl %1,(%3)&quot;\n                    : &quot;=a&quot; (exchange_value)\n                    : &quot;r&quot; (exchange_value), &quot;a&quot; (compare_value), &quot;r&quot; (dest)\n                    : &quot;cc&quot;, &quot;memory&quot;);\n  return exchange_value;\n}\n</code></pre>\n<p>There are also implementations for 1-byte and 8-byte CAS, but the only difference is <code>cmpxchgb</code> and <code>cmpxchgq</code>, respectively.</p>\n<h1>JVM Intrinsic</h1>\n<p>As remarked in the comments to your question, the method is also tagged with <code>@HotspotIntrinsicCandidate</code>. (<code>@IntrinsicCandidate</code> in recent JVMs).\nThe JVM keeps a <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/classfile/vmIntrinsics.hpp\" rel=\"nofollow noreferrer\">list of all intrinsic candidates</a> by class and method name. The <a href=\"https://github.com/openjdk/jdk/blob/master/src/hotspot/share/classfile/classFileParser.cpp#L5161-L5254\" rel=\"nofollow noreferrer\">class file parser</a> associates the method with the declared intrinsic. From there, the JIT compiler can detect calls to methods with intrinsics and replace them with inlined versions or assembly fragments for just that instruction.</p>\n"}],"owner":{"account_id":3077183,"reputation":71,"user_id":2606235,"display_name":"user2606235"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674472571,"creation_date":1674388515,"question_id":75200188,"body_markdown":"I&#39;ve been reading web articles about how Compare and Swap (CAS) works under the hood. Since AtomicInteger, AtomicLong and other atomic variables all use JNI&#39;s &quot;Unsafe&quot; library&#39;s compareAndSet() method, but when you go to the actual implementation, you&#39;ll get a blank, abstract-like method below which does not tell you how compareAndSet() is actually thread-safe.\r\n\r\n    @HotSpotIntrinsicCandidate\r\n    public final native boolean compareAndSetLong(Object o, long offset,\r\n                                                  long expected,\r\n                                                  long x);\r\n\r\nHas anyone wondered how JNI&#39;s Unsafe library guarantees thread safety for atomic variables?","title":"How does Unsafe library help atomic variables to achieve thread safety?","body":"<p>I've been reading web articles about how Compare and Swap (CAS) works under the hood. Since AtomicInteger, AtomicLong and other atomic variables all use JNI's &quot;Unsafe&quot; library's compareAndSet() method, but when you go to the actual implementation, you'll get a blank, abstract-like method below which does not tell you how compareAndSet() is actually thread-safe.</p>\n<pre><code>@HotSpotIntrinsicCandidate\npublic final native boolean compareAndSetLong(Object o, long offset,\n                                              long expected,\n                                              long x);\n</code></pre>\n<p>Has anyone wondered how JNI's Unsafe library guarantees thread safety for atomic variables?</p>\n"},{"tags":["java","json","spring"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1674472259,"post_id":75208583,"comment_id":132713687,"body_markdown":"Why you do not try it?","body":"Why you do not try it?"}],"owner":{"account_id":11146423,"reputation":39,"user_id":8181008,"display_name":"Nausheen Khan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674472494,"creation_date":1674471852,"question_id":75208583,"body_markdown":"When @JsonIgnore is used at the field level and @JsonIgnoreProperties is used at the class level, which one will override?","title":"When @JsonIgnore used in field level and @JsonIgnoreProperties is used in class level","body":"<p>When @JsonIgnore is used at the field level and @JsonIgnoreProperties is used at the class level, which one will override?</p>\n"},{"tags":["java","classloader"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":2,"creation_date":1674461047,"post_id":75206840,"comment_id":132710623,"body_markdown":"Does the application class loader have tobeloaded-1.0-SNAPSHOT.jar in its classpath?","body":"Does the application class loader have tobeloaded-1.0-SNAPSHOT.jar in its classpath?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1674462283,"post_id":75206840,"comment_id":132710922,"body_markdown":"I got two `false` when testing that code... but I am sure that `Main.class.getClassLoader().loadClass(&quot;example.ToBeLoaded&quot;)` is throwing a `ClassNotFoundException` - [screenshot](https://i.stack.imgur.com/103uG.png)","body":"I got two <code>false</code> when testing that code... but I am sure that <code>Main.class.getClassLoader().loadClass(&quot;example.ToBeLoaded&quot;)</code> is throwing a <code>ClassNotFoundException</code> - <a href=\"https://i.stack.imgur.com/103uG.png\" rel=\"nofollow noreferrer\">screenshot</a>"},{"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"score":0,"creation_date":1674462344,"post_id":75206840,"comment_id":132710941,"body_markdown":"@TimMoore No. tobeloaded-1.0-SNAPSHOT.jar is compiled seperately and locates in another path.","body":"@TimMoore No. tobeloaded-1.0-SNAPSHOT.jar is compiled seperately and locates in another path."},{"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"score":0,"creation_date":1674462586,"post_id":75206840,"comment_id":132710997,"body_markdown":"@user16320675 Two false is the correct result. But Why? The tobeloaded.jar should be loaded by Application ClassLoader because of parent delegation principle. Both the UrlClassLoader cl1 and cl2 should delegate the loading task to their parent, which is Application ClassLoader.","body":"@user16320675 Two false is the correct result. But Why? The tobeloaded.jar should be loaded by Application ClassLoader because of parent delegation principle. Both the UrlClassLoader cl1 and cl2 should delegate the loading task to their parent, which is Application ClassLoader."},{"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"score":0,"creation_date":1674463009,"post_id":75206840,"comment_id":132711112,"body_markdown":"@user16320675 A little weird. Parent Delegation Principle only works for classes in class path. How did classloader distingguish classes loaded from class path or not. Need more investigation.","body":"@user16320675 A little weird. Parent Delegation Principle only works for classes in class path. How did classloader distingguish classes loaded from class path or not. Need more investigation."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1674463289,"post_id":75206840,"comment_id":132711181,"body_markdown":"Each class loader has its classpath - a list of URLs that it searches for classes to load. If the parent classloader doesn&#39;t have a class in its classpath it cannot load it (it cannot find the class file). Your `cl1` and `cl2` class loaders have a very specific classpath containing an URL that is not in the application class loaders classpath.","body":"Each class loader has its classpath - a list of URLs that it searches for classes to load. If the parent classloader doesn&#39;t have a class in its classpath it cannot load it (it cannot find the class file). Your <code>cl1</code> and <code>cl2</code> class loaders have a very specific classpath containing an URL that is not in the application class loaders classpath."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1674472327,"post_id":75206840,"comment_id":132713722,"body_markdown":"The term classpath used in this discussion, is an unnecessary distraction. [This comment](https://stackoverflow.com/questions/75206840/why-this-class-can-be-loaded-twice-by-java-classloader#comment132710922_75206840) points into the right direction. All that matters, is whether `Main.class.getClassLoader() .loadClass(&quot;example.ToBeLoaded&quot;)` will successfully load a class of that name. If so, it wouldnt matter whether it has been loaded from this specific jar file, through a classpath, or by some other means.","body":"The term classpath used in this discussion, is an unnecessary distraction. <a href=\"https://stackoverflow.com/questions/75206840/why-this-class-can-be-loaded-twice-by-java-classloader#comment132710922_75206840\">This comment</a> points into the right direction. All that matters, is whether <code>Main.class.getClassLoader() .loadClass(&quot;example.ToBeLoaded&quot;)</code> will successfully load a class of that name. If so, it wouldnt matter whether it has been loaded from this specific jar file, through a classpath, or by some other means."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674472468,"creation_date":1674461995,"answer_id":75207018,"question_id":75206840,"body_markdown":"If the parent delegation principle is in effect you are right. But that is not always the desired behaviour.\r\n\r\nIn JEE containers this is per design different. Just imagine two different applications refer to the same class (named mypackage.MyClass). But for some reason one application expects the library &#39;mypackage&#39; in version 1, while the other in version two. And both of them are incompatible.\r\n\r\nThus JEE containers assign one classloader for each of the applications, and each of them will load that specific version of the class. They reside in memory in parallel, and they are distinct different types, so if you try to cast one into the other you will see an exception raised.\r\n\r\nSo to really know whether two classes are the same, not only compare their fully qualified class names but also compare the classloader they belong to. I am not aware that at runtime the JVM would check if two classes are the same (content-wise), as it might pop up in your example.","title":"Why this class can be loaded twice by Java classloader?","body":"<p>If the parent delegation principle is in effect you are right. But that is not always the desired behaviour.</p>\n<p>In JEE containers this is per design different. Just imagine two different applications refer to the same class (named mypackage.MyClass). But for some reason one application expects the library 'mypackage' in version 1, while the other in version two. And both of them are incompatible.</p>\n<p>Thus JEE containers assign one classloader for each of the applications, and each of them will load that specific version of the class. They reside in memory in parallel, and they are distinct different types, so if you try to cast one into the other you will see an exception raised.</p>\n<p>So to really know whether two classes are the same, not only compare their fully qualified class names but also compare the classloader they belong to. I am not aware that at runtime the JVM would check if two classes are the same (content-wise), as it might pop up in your example.</p>\n"}],"owner":{"account_id":18103108,"reputation":405,"user_id":13160706,"display_name":"Machi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":209,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75207018,"answer_count":1,"score":2,"last_activity_date":1674472468,"creation_date":1674460563,"question_id":75206840,"body_markdown":"This code can load the same class twice by two distinct Classloader.\r\n```\r\nimport java.net.URL;\r\nimport java.net.URLClassLoader;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) throws Exception {\r\n        URL childAndParentClassesLocation = new URL(&quot;file:///C:\\\\Users\\\\Machi\\\\Desktop\\\\tobeloaded-1.0-SNAPSHOT.jar&quot;);\r\n        ClassLoader cl1 = new URLClassLoader(new URL[]{childAndParentClassesLocation}, Main.class.getClassLoader());\r\n        ClassLoader cl2 = new URLClassLoader(new URL[]{childAndParentClassesLocation}, Main.class.getClassLoader());\r\n        Class child1 = cl1.loadClass(&quot;example.ToBeLoaded&quot;);\r\n        Class child2 = cl2.loadClass(&quot;example.ToBeLoaded&quot;);\r\n        System.out.println(child2 == child1);\r\n        System.out.println(child2.equals(child1));\r\n\r\n    }\r\n}\r\n```\r\n\r\nBut a URLClassLoader has the Application ClassLoader as a parent. According to the parent delegation principle, should not the ToBeLoaded class be loaded by the Application ClassLoader once and only once?\r\n","title":"Why this class can be loaded twice by Java classloader?","body":"<p>This code can load the same class twice by two distinct Classloader.</p>\n<pre><code>import java.net.URL;\nimport java.net.URLClassLoader;\n\npublic class Main {\n    public static void main(String[] args) throws Exception {\n        URL childAndParentClassesLocation = new URL(&quot;file:///C:\\\\Users\\\\Machi\\\\Desktop\\\\tobeloaded-1.0-SNAPSHOT.jar&quot;);\n        ClassLoader cl1 = new URLClassLoader(new URL[]{childAndParentClassesLocation}, Main.class.getClassLoader());\n        ClassLoader cl2 = new URLClassLoader(new URL[]{childAndParentClassesLocation}, Main.class.getClassLoader());\n        Class child1 = cl1.loadClass(&quot;example.ToBeLoaded&quot;);\n        Class child2 = cl2.loadClass(&quot;example.ToBeLoaded&quot;);\n        System.out.println(child2 == child1);\n        System.out.println(child2.equals(child1));\n\n    }\n}\n</code></pre>\n<p>But a URLClassLoader has the Application ClassLoader as a parent. According to the parent delegation principle, should not the ToBeLoaded class be loaded by the Application ClassLoader once and only once?</p>\n"},{"tags":["java","mockito","junit5","dao"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1674472440,"post_id":75202554,"comment_id":132713755,"body_markdown":"`ps.execute()` will return `false` when using an actual JDBC driver, because its return value means true: first result is a result set, false: first result is an update count or there are no results. An insert **does not produce a result set**, so `ps.execute()` returns false. In other words, your expectation is wrong. Also, you really should mock things like this. If you want to test it, use an actual database, e.g. with testcontainers-java.","body":"<code>ps.execute()</code> will return <code>false</code> when using an actual JDBC driver, because its return value means true: first result is a result set, false: first result is an update count or there are no results. An insert <b>does not produce a result set</b>, so <code>ps.execute()</code> returns false. In other words, your expectation is wrong. Also, you really should mock things like this. If you want to test it, use an actual database, e.g. with testcontainers-java."}],"answers":[{"tags":[],"owner":{"account_id":25659196,"reputation":1,"user_id":19425149,"display_name":"newenpoi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674466388,"creation_date":1674466388,"answer_id":75207637,"question_id":75202554,"body_markdown":"Since *mockDataBaseTestConfig.getConnection()* always returned null, it obviously could not work.\r\n\r\nAfter reviewing, I ended making it working by only mocking the dao (careful the test has been renamed to testSavingTicket_shouldReturnTrue).\r\n\r\n```\r\nprivate Ticket t;\r\n\r\n@Test\r\npublic void testSavingTicket_shouldReturnTrue() throws SQLException, ClassNotFoundException {\r\n\t// Given.\r\n\tTicketDAO mockTicketDao = mock(TicketDAO.class);\r\n\t\r\n\tt = new Ticket();\r\n\t\r\n\tt.setVehicleRegNumber(&quot;ABCDEF&quot;);\r\n\tt.setPrice(0);\r\n\tt.setInTime(new Date());\r\n\tt.setOutTime(null);\r\n\t\r\n\twhen(mockTicketDao.saveTicket(t)).thenReturn(true);\r\n\t\r\n\t// When.\r\n\tfinal boolean saved = mockTicketDao.saveTicket(t);\r\n\t\r\n\t// Then.\r\n\tassertEquals(true, saved);\r\n\tassertThat(saved).isEqualTo(true);\r\n}\r\n```","title":"Mocked dao returns false when saving an object","body":"<p>Since <em>mockDataBaseTestConfig.getConnection()</em> always returned null, it obviously could not work.</p>\n<p>After reviewing, I ended making it working by only mocking the dao (careful the test has been renamed to testSavingTicket_shouldReturnTrue).</p>\n<pre><code>private Ticket t;\n\n@Test\npublic void testSavingTicket_shouldReturnTrue() throws SQLException, ClassNotFoundException {\n    // Given.\n    TicketDAO mockTicketDao = mock(TicketDAO.class);\n    \n    t = new Ticket();\n    \n    t.setVehicleRegNumber(&quot;ABCDEF&quot;);\n    t.setPrice(0);\n    t.setInTime(new Date());\n    t.setOutTime(null);\n    \n    when(mockTicketDao.saveTicket(t)).thenReturn(true);\n    \n    // When.\n    final boolean saved = mockTicketDao.saveTicket(t);\n    \n    // Then.\n    assertEquals(true, saved);\n    assertThat(saved).isEqualTo(true);\n}\n</code></pre>\n"}],"owner":{"account_id":25659196,"reputation":1,"user_id":19425149,"display_name":"newenpoi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674472303,"creation_date":1674409162,"question_id":75202554,"body_markdown":"I am new to test driven development. I am trying to test if an object has been successfully saved into my db. My code so far:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\npublic class ParkingDataBaseIT {\r\n    @Mock\r\n\tprivate TicketDAO mockTicketDAO;\r\n\t\r\n\t@Mock\r\n    public static DataBaseTestConfig mockDataBaseTestConfig = new DataBaseTestConfig();\r\n\t\r\n\t@Mock\r\n\tprivate static Connection mockConnection;\r\n\r\n    @BeforeEach\r\n    public void setup() throws SQLException, ClassNotFoundException {\r\n    \t// Connection attempt.\r\n    \twhen(mockDataBaseTestConfig.getConnection()).thenReturn(mockConnection);\r\n    }\r\n\r\n    @AfterAll\r\n    public static void tearDown() {\r\n    \t// ...\r\n    }\r\n\r\n    @DisplayName(&quot;Tests if saving a ticket is successful.&quot;)\r\n    @Test\r\n    public void testParkingACarAlpha() throws SQLException, ClassNotFoundException {\r\n\t\t// Given.\r\n\t\tDate inTime = new Date();\r\n\t\tTicket ticket = new Ticket();\r\n\t\t\r\n\t\tticket.setVehicleRegNumber(&quot;ABCDEF&quot;);\r\n        ticket.setPrice(0);\r\n        ticket.setInTime(inTime);\r\n        ticket.setOutTime(null);\r\n        \r\n    \t// When.\r\n        // MockDao always returning false when saving.\r\n        final boolean saved = mockTicketDAO.saveTicket(ticket, mockDataBaseTestConfig.getConnection());\r\n        \r\n    \t// Then.\r\n        assertEquals(true, saved);\r\n        assertThat(saved).isEqualTo(true);\r\n    }\r\n}\r\n```\r\n\r\nThis is the method that makes the connection to MySQL:\r\n\r\n```\r\npublic Connection getConnection() throws ClassNotFoundException, SQLException {\r\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n    return DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/testing&quot;, &quot;root&quot;, &quot;&quot;);\r\n}\r\n```\r\n\r\nAnd finally this is how I save my ticket:\r\n\r\n```\r\npublic boolean saveTicket(Ticket ticket, Connection con) {\r\n    try {\r\n        PreparedStatement ps = con.prepareStatement(&quot;insert into ticket(vehicleRegNumber, price, inTime, outTime) values(?, ?, ?, ?, ?)&quot;);\r\n        \r\n        ps.setInt(1, ticket.getParkingSpot().getId());\r\n        ps.setString(2, ticket.getVehicleRegNumber());\r\n        ps.setDouble(3, ticket.getPrice());\r\n        ps.setTimestamp(4, new Timestamp(ticket.getInTime().getTime()));\r\n        ps.setTimestamp(5, (ticket.getOutTime() == null) ? null: (new Timestamp(ticket.getOutTime().getTime())));\r\n        \r\n        return ps.execute();\r\n    } catch (Exception e) {\r\n        logger.error(&quot;Cannot fetch available slot.&quot;, e);\r\n    } finally {\r\n        dataBaseConfig.closeConnection(con);\r\n    }\r\n    \r\n    return false;\r\n}\r\n```\r\n\r\nThe request using MySQL works, but while saving the object, I get a false from ps.execute(); instead of true, but I am certainly doing something wrong.\r\n\r\nI noticed that `ps` is null in `saveTicket(Ticket ticket, Connection con)` (Cannot invoke &quot;java.sql.PreparedStatement.setInt(int, int)&quot; because &quot;ps&quot; is null), but `con` has mockConnection when I sysout the value.","title":"Mocked dao returns false when saving an object","body":"<p>I am new to test driven development. I am trying to test if an object has been successfully saved into my db. My code so far:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\npublic class ParkingDataBaseIT {\n    @Mock\n    private TicketDAO mockTicketDAO;\n    \n    @Mock\n    public static DataBaseTestConfig mockDataBaseTestConfig = new DataBaseTestConfig();\n    \n    @Mock\n    private static Connection mockConnection;\n\n    @BeforeEach\n    public void setup() throws SQLException, ClassNotFoundException {\n        // Connection attempt.\n        when(mockDataBaseTestConfig.getConnection()).thenReturn(mockConnection);\n    }\n\n    @AfterAll\n    public static void tearDown() {\n        // ...\n    }\n\n    @DisplayName(&quot;Tests if saving a ticket is successful.&quot;)\n    @Test\n    public void testParkingACarAlpha() throws SQLException, ClassNotFoundException {\n        // Given.\n        Date inTime = new Date();\n        Ticket ticket = new Ticket();\n        \n        ticket.setVehicleRegNumber(&quot;ABCDEF&quot;);\n        ticket.setPrice(0);\n        ticket.setInTime(inTime);\n        ticket.setOutTime(null);\n        \n        // When.\n        // MockDao always returning false when saving.\n        final boolean saved = mockTicketDAO.saveTicket(ticket, mockDataBaseTestConfig.getConnection());\n        \n        // Then.\n        assertEquals(true, saved);\n        assertThat(saved).isEqualTo(true);\n    }\n}\n</code></pre>\n<p>This is the method that makes the connection to MySQL:</p>\n<pre><code>public Connection getConnection() throws ClassNotFoundException, SQLException {\n    Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n    return DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/testing&quot;, &quot;root&quot;, &quot;&quot;);\n}\n</code></pre>\n<p>And finally this is how I save my ticket:</p>\n<pre><code>public boolean saveTicket(Ticket ticket, Connection con) {\n    try {\n        PreparedStatement ps = con.prepareStatement(&quot;insert into ticket(vehicleRegNumber, price, inTime, outTime) values(?, ?, ?, ?, ?)&quot;);\n        \n        ps.setInt(1, ticket.getParkingSpot().getId());\n        ps.setString(2, ticket.getVehicleRegNumber());\n        ps.setDouble(3, ticket.getPrice());\n        ps.setTimestamp(4, new Timestamp(ticket.getInTime().getTime()));\n        ps.setTimestamp(5, (ticket.getOutTime() == null) ? null: (new Timestamp(ticket.getOutTime().getTime())));\n        \n        return ps.execute();\n    } catch (Exception e) {\n        logger.error(&quot;Cannot fetch available slot.&quot;, e);\n    } finally {\n        dataBaseConfig.closeConnection(con);\n    }\n    \n    return false;\n}\n</code></pre>\n<p>The request using MySQL works, but while saving the object, I get a false from ps.execute(); instead of true, but I am certainly doing something wrong.</p>\n<p>I noticed that <code>ps</code> is null in <code>saveTicket(Ticket ticket, Connection con)</code> (Cannot invoke &quot;java.sql.PreparedStatement.setInt(int, int)&quot; because &quot;ps&quot; is null), but <code>con</code> has mockConnection when I sysout the value.</p>\n"},{"tags":["java","spring","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":1605502,"reputation":49,"user_id":1485685,"display_name":"msbgnr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674471699,"creation_date":1674471699,"answer_id":75208554,"question_id":72941805,"body_markdown":"We probably have same issue in different setup but I&#39;ll tell what I have done to solve this startup connection exception, maybe it&#39;ll help somebody. \r\n\r\nI am using ES 7.17.8 and spring boot 2.7.3 and spring-boot-starter-data-elasticsearch.\r\n\r\nI used `@Document(createIndex = false)` in document class and with this stopped try to create index on startup. Application doesn&#39;t try to connect Elasticsearch server on startup anymore. (I handle indexing with logstash to sync relational db so I don&#39;t need in spring boot to handle that)\r\n\r\nAn then I put a try catch around `elasticsearchOperation.search` method call, with this at runtime app doesn&#39;t crash while elasticsearch server down but keep working. Any point of application running if elasticsearch server up, search method call will auto connect ES and get search result.","title":"Spring boot app doesn&#39;t start if elasticsearch server is down","body":"<p>We probably have same issue in different setup but I'll tell what I have done to solve this startup connection exception, maybe it'll help somebody.</p>\n<p>I am using ES 7.17.8 and spring boot 2.7.3 and spring-boot-starter-data-elasticsearch.</p>\n<p>I used <code>@Document(createIndex = false)</code> in document class and with this stopped try to create index on startup. Application doesn't try to connect Elasticsearch server on startup anymore. (I handle indexing with logstash to sync relational db so I don't need in spring boot to handle that)</p>\n<p>An then I put a try catch around <code>elasticsearchOperation.search</code> method call, with this at runtime app doesn't crash while elasticsearch server down but keep working. Any point of application running if elasticsearch server up, search method call will auto connect ES and get search result.</p>\n"}],"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674471699,"creation_date":1657557248,"question_id":72941805,"body_markdown":"I&#39;m using spring boot app (2.5.x), which among other thigns integrates elasticsearch. If elastic search is down, my spring boot app doesnt&#39; start. I want the integration to work such that if elasticsearch is down, the API returns null or some sort of exception but let the app work normally for other things. \r\n\r\n```\r\n@Configuration\r\n@EnableElasticsearchRepositories(basePackages = { &quot;com.search.repository&quot; })\r\npublic class ElasticSearchConfig extends AbstractElasticsearchConfiguration {\r\n\r\n\tprivate static final Logger log = LoggerFactory.getLogger(ElasticSearchConfig.class);\r\n\r\n\t/**\r\n\t * the name of the cluster for the client to connect to\r\n\t */\r\n\t@Value(&quot;#{${es.hosts}}&quot;)\r\n\tprivate Map&lt;String, Integer&gt; esHosts;\r\n\r\n\t@Override\r\n\t@Bean\r\n\tpublic RestHighLevelClient elasticsearchClient() {\r\n\t\tString[] esHostWithPortArray = new String[esHosts.size()];\r\n\t\tint tracker = 0;\r\n\t\tfor (Entry&lt;String, Integer&gt; entry : esHosts.entrySet()) {\r\n\t\t\tlog.info(&quot;Adding the elastic search host configuration, server:{}, port:{}&quot;, entry.getKey(), entry.getValue());\r\n\t\t\tesHostWithPortArray[tracker] = entry.getKey() + &quot;:&quot; + entry.getValue();\r\n\t\t\ttracker++;\r\n\t\t}\r\n\t\t\r\n\t\t\tClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(esHostWithPortArray).build();\r\n\t\t\tlog.info(\r\n\t\t\t\t\t&quot;Done creating the elasticsearch RestHighClient, no basic authentication has been provided or es.auth.basic.enabled has not been set to true&quot;);\r\n\t\t\treturn RestClients.create(clientConfiguration).rest();\r\n\t\t}\r\n\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ElasticsearchOperations elasticsearchTemplate() {\r\n\t\treturn new ElasticsearchRestTemplate(elasticsearchClient());\r\n\t}\r\n```\r\n\r\nOne option I have considered is to create a separate rest spring boot app which only deals with elasticsearch but wondering if there are any other option. I tried putting @lazy annotation above this configuration file but the code still tries to connect to ElasticSearch. ","title":"Spring boot app doesn&#39;t start if elasticsearch server is down","body":"<p>I'm using spring boot app (2.5.x), which among other thigns integrates elasticsearch. If elastic search is down, my spring boot app doesnt' start. I want the integration to work such that if elasticsearch is down, the API returns null or some sort of exception but let the app work normally for other things.</p>\n<pre><code>@Configuration\n@EnableElasticsearchRepositories(basePackages = { &quot;com.search.repository&quot; })\npublic class ElasticSearchConfig extends AbstractElasticsearchConfiguration {\n\n    private static final Logger log = LoggerFactory.getLogger(ElasticSearchConfig.class);\n\n    /**\n     * the name of the cluster for the client to connect to\n     */\n    @Value(&quot;#{${es.hosts}}&quot;)\n    private Map&lt;String, Integer&gt; esHosts;\n\n    @Override\n    @Bean\n    public RestHighLevelClient elasticsearchClient() {\n        String[] esHostWithPortArray = new String[esHosts.size()];\n        int tracker = 0;\n        for (Entry&lt;String, Integer&gt; entry : esHosts.entrySet()) {\n            log.info(&quot;Adding the elastic search host configuration, server:{}, port:{}&quot;, entry.getKey(), entry.getValue());\n            esHostWithPortArray[tracker] = entry.getKey() + &quot;:&quot; + entry.getValue();\n            tracker++;\n        }\n        \n            ClientConfiguration clientConfiguration = ClientConfiguration.builder().connectedTo(esHostWithPortArray).build();\n            log.info(\n                    &quot;Done creating the elasticsearch RestHighClient, no basic authentication has been provided or es.auth.basic.enabled has not been set to true&quot;);\n            return RestClients.create(clientConfiguration).rest();\n        }\n\n    }\n\n    @Bean\n    public ElasticsearchOperations elasticsearchTemplate() {\n        return new ElasticsearchRestTemplate(elasticsearchClient());\n    }\n</code></pre>\n<p>One option I have considered is to create a separate rest spring boot app which only deals with elasticsearch but wondering if there are any other option. I tried putting @lazy annotation above this configuration file but the code still tries to connect to ElasticSearch.</p>\n"},{"tags":["java","swagger"],"answers":[{"tags":[],"owner":{"account_id":8436158,"reputation":700,"user_id":6395007,"display_name":"Ionut Alexandru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674471519,"creation_date":1674471519,"answer_id":75208527,"question_id":75206690,"body_markdown":"    @ApiResponses(value = {\r\n        @ApiResponse(\r\n            responseCode = &quot;200&quot;,\r\n            content = @Content(\r\n                mediaType = MediaType.APPLICATION_JSON_VALUE,\r\n                schema = @Schema(implementation = PageFoo.class)\r\n            ),\r\n            description = &quot;The request has succeeded&quot;\r\n        )\r\n    })\r\n\r\n\r\n    class PageFoo {\r\n        @Schema(name = &quot;data&quot;, implementation = Foo.class, type = SchemaType.ARRAY)\r\n        List&lt;Foo&gt; data;\r\n        //...\r\n    }","title":"How to annotate Page&lt;Foo&gt; for generate correct response","body":"<pre><code>@ApiResponses(value = {\n    @ApiResponse(\n        responseCode = &quot;200&quot;,\n        content = @Content(\n            mediaType = MediaType.APPLICATION_JSON_VALUE,\n            schema = @Schema(implementation = PageFoo.class)\n        ),\n        description = &quot;The request has succeeded&quot;\n    )\n})\n\n\nclass PageFoo {\n    @Schema(name = &quot;data&quot;, implementation = Foo.class, type = SchemaType.ARRAY)\n    List&lt;Foo&gt; data;\n    //...\n}\n</code></pre>\n"}],"owner":{"account_id":25486631,"reputation":101,"user_id":19282140,"display_name":"java developer 111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75208527,"answer_count":1,"score":0,"last_activity_date":1674471519,"creation_date":1674459284,"question_id":75206690,"body_markdown":"RestController return response \r\n\r\n    Page&lt;Foo&gt;\r\n\r\nI annotate like this \r\n\r\n    @ApiResponses(value = {\r\n        @ApiResponse(\r\n                responseCode = &quot;200&quot;,\r\n\r\n                content = @Content(\r\n                        mediaType = MediaType.APPLICATION_JSON_VALUE,\r\n                        array = @ArraySchema(\r\n                                schema = @Schema(implementation = Foo.class)\r\n                        )),\r\n                description = &quot;The request has succeeded&quot;)\r\n\r\nbut i need to generate page instead of array.\r\n\r\nIs there any way to do this \r\n\r\nif should be look like this \r\n\r\n    schema PageFoo-&gt;data-&gt; [{Foo}]\r\n\r\nif i remove annotation it will generate right schema but without  content-type\r\n","title":"How to annotate Page&lt;Foo&gt; for generate correct response","body":"<p>RestController return response</p>\n<pre><code>Page&lt;Foo&gt;\n</code></pre>\n<p>I annotate like this</p>\n<pre><code>@ApiResponses(value = {\n    @ApiResponse(\n            responseCode = &quot;200&quot;,\n\n            content = @Content(\n                    mediaType = MediaType.APPLICATION_JSON_VALUE,\n                    array = @ArraySchema(\n                            schema = @Schema(implementation = Foo.class)\n                    )),\n            description = &quot;The request has succeeded&quot;)\n</code></pre>\n<p>but i need to generate page instead of array.</p>\n<p>Is there any way to do this</p>\n<p>if should be look like this</p>\n<pre><code>schema PageFoo-&gt;data-&gt; [{Foo}]\n</code></pre>\n<p>if i remove annotation it will generate right schema but without  content-type</p>\n"},{"tags":["java","intellij-idea","server","glassfish"],"answers":[{"tags":[],"owner":{"account_id":6398908,"reputation":3023,"user_id":4962355,"display_name":"Christoph John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624015205,"creation_date":1624015205,"answer_id":68034248,"question_id":68028876,"body_markdown":"You got the error message wrong.\r\n\r\n```\r\n... has been compiled by a more recent version of the Java Runtime (class file version 55.0),\r\nthis version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\n\r\nIt does not tell you that you need Java 8 but instead that Java 8 (class version `52`) is too old to run classes compiled by version `55` (i.e. Java 11).\r\n\r\nSo you need to install JDK 11.","title":"enter java.lang.UnsupportedClassVersionError in IDEA running glassfish 6.2.0","body":"<p>You got the error message wrong.</p>\n<pre><code>... has been compiled by a more recent version of the Java Runtime (class file version 55.0),\nthis version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>It does not tell you that you need Java 8 but instead that Java 8 (class version <code>52</code>) is too old to run classes compiled by version <code>55</code> (i.e. Java 11).</p>\n<p>So you need to install JDK 11.</p>\n"}],"owner":{"account_id":21189436,"reputation":1,"user_id":15582181,"display_name":"dogking"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2806,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674471430,"creation_date":1623986272,"question_id":68028876,"body_markdown":"I&#39;m using the IDEA to do some assignment about the JSF.\r\nAnd I&#39;m just running a simple project with glassfish, and the output is like this:\r\n\r\n[the out put][1]\r\n    \r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/glassfish/admin/cli/AsadminMain has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n    \tat java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.lang.ClassLoader.defineClass(Unknown Source)\r\n    \tat java.security.SecureClassLoader.defineClass(Unknown Source)\r\n    \tat java.net.URLClassLoader.defineClass(Unknown Source)\r\n    \tat java.net.URLClassLoader.access$100(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.net.URLClassLoader$1.run(Unknown Source)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat java.net.URLClassLoader.findClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n    \tat java.lang.ClassLoader.loadClass(Unknown Source)\r\n    \tat sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n\r\nI searched on the google, and know that version 52 means jdk 8, so I delete all the other jdk, and only leave the jdk8, and the version is indeed 1.8:\r\n\r\n[the java version][2]\r\n\r\n    C:\\Users\\42173&gt;java -version\r\n    java version &quot;1.8.0_291&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_291-b10)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.291-b10, mixed mode)\r\n    \r\n    C:\\Users\\42173&gt;javac -version\r\n    javac 1.8.0_291\r\n\r\nBut it still shows the same error, I don&#39;t know what to do.\r\n\r\nAnd I have tried glassfish5, but the output still has error:\r\n\r\n[exception with glassfish5][3]\r\n\r\n    [2021-06-18 11:14:13,323] Artifact untitled1:war exploded: Artifact is being deployed, please wait...\r\n    [2021-06-18 11:14:13,818] Artifact untitled1:war exploded: Error during artifact deployment. See server log for details.\r\n    [2021-06-18 11:14:13,818] Artifact untitled1:war exploded: java.io.IOException: com.sun.enterprise.admin.remote.RemoteFailureException: Error occurred during deployment: Exception while deploying the app [untitled1_war_exploded] : A MultiException has 4 exceptions.  They are:\r\n    1. java.lang.IllegalAccessError: tried to access class sun.security.provider.SunEntries from class com.sun.crypto.provider.SunJCE\r\n    2. java.lang.IllegalStateException: Unable to perform operation: post construct on com.sun.enterprise.security.ssl.SSLUtils\r\n    3. java.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.sun.enterprise.security.SecurityLifecycle errors were found\r\n    4. java.lang.IllegalStateException: Unable to perform operation: resolve on com.sun.enterprise.security.SecurityLifecycle\r\n    . Please see server.log for more details.\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DdciX.png\r\n  [2]: https://i.stack.imgur.com/XvS0y.png\r\n  [3]: https://i.stack.imgur.com/1ujVD.png","title":"enter java.lang.UnsupportedClassVersionError in IDEA running glassfish 6.2.0","body":"<p>I'm using the IDEA to do some assignment about the JSF.\nAnd I'm just running a simple project with glassfish, and the output is like this:</p>\n<p><a href=\"https://i.stack.imgur.com/DdciX.png\" rel=\"nofollow noreferrer\">the out put</a></p>\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/glassfish/admin/cli/AsadminMain has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(Unknown Source)\n    at java.security.SecureClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.defineClass(Unknown Source)\n    at java.net.URLClassLoader.access$100(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\n</code></pre>\n<p>I searched on the google, and know that version 52 means jdk 8, so I delete all the other jdk, and only leave the jdk8, and the version is indeed 1.8:</p>\n<p><a href=\"https://i.stack.imgur.com/XvS0y.png\" rel=\"nofollow noreferrer\">the java version</a></p>\n<pre><code>C:\\Users\\42173&gt;java -version\njava version &quot;1.8.0_291&quot;\nJava(TM) SE Runtime Environment (build 1.8.0_291-b10)\nJava HotSpot(TM) 64-Bit Server VM (build 25.291-b10, mixed mode)\n\nC:\\Users\\42173&gt;javac -version\njavac 1.8.0_291\n</code></pre>\n<p>But it still shows the same error, I don't know what to do.</p>\n<p>And I have tried glassfish5, but the output still has error:</p>\n<p><a href=\"https://i.stack.imgur.com/1ujVD.png\" rel=\"nofollow noreferrer\">exception with glassfish5</a></p>\n<pre><code>[2021-06-18 11:14:13,323] Artifact untitled1:war exploded: Artifact is being deployed, please wait...\n[2021-06-18 11:14:13,818] Artifact untitled1:war exploded: Error during artifact deployment. See server log for details.\n[2021-06-18 11:14:13,818] Artifact untitled1:war exploded: java.io.IOException: com.sun.enterprise.admin.remote.RemoteFailureException: Error occurred during deployment: Exception while deploying the app [untitled1_war_exploded] : A MultiException has 4 exceptions.  They are:\n1. java.lang.IllegalAccessError: tried to access class sun.security.provider.SunEntries from class com.sun.crypto.provider.SunJCE\n2. java.lang.IllegalStateException: Unable to perform operation: post construct on com.sun.enterprise.security.ssl.SSLUtils\n3. java.lang.IllegalArgumentException: While attempting to resolve the dependencies of com.sun.enterprise.security.SecurityLifecycle errors were found\n4. java.lang.IllegalStateException: Unable to perform operation: resolve on com.sun.enterprise.security.SecurityLifecycle\n. Please see server.log for more details.\n</code></pre>\n"},{"tags":["java","intellij-idea","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1670136452,"post_id":74642864,"comment_id":131800602,"body_markdown":"You seem to have an an object of type `Object[]` in the execution context, do you confirm? If yes, the error means that Jackson is not able to deserialize it because `Object[]` is not a trusted class by default, in which case you would need to add that type to the list of trusted types (similar to `Properties[]`: https://github.com/spring-projects/spring-batch/blob/main/spring-batch-core/src/main/java/org/springframework/batch/core/repository/dao/Jackson2ExecutionContextStringSerializer.java#L298).","body":"You seem to have an an object of type <code>Object[]</code> in the execution context, do you confirm? If yes, the error means that Jackson is not able to deserialize it because <code>Object[]</code> is not a trusted class by default, in which case you would need to add that type to the list of trusted types (similar to <code>Properties[]</code>: <a href=\"https://github.com/spring-projects/spring-batch/blob/main/spring-batch-core/src/main/java/org/springframework/batch/core/repository/dao/Jackson2ExecutionContextStringSerializer.java#L298\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-batch/blob/main/&hellip;</a>)."}],"answers":[{"tags":[],"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674471091,"creation_date":1674471091,"answer_id":75208444,"question_id":74642864,"body_markdown":"Finally, it was only an old code that was stored in the `spring-batch` context and that was reused each time the batch was restarted. I delete my job in database so i wouldnt have to worry about it.","title":"Why jackson can&#39;t cast long to long into my spring-batch?","body":"<p>Finally, it was only an old code that was stored in the <code>spring-batch</code> context and that was reused each time the batch was restarted. I delete my job in database so i wouldnt have to worry about it.</p>\n"}],"owner":{"account_id":11320426,"reputation":403,"user_id":8300911,"display_name":"J&#233;r&#233;my"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75208444,"answer_count":1,"score":0,"last_activity_date":1674471091,"creation_date":1669902358,"question_id":74642864,"body_markdown":"I&#39;m trying to read datas from database into my spring-batch application.\r\n\r\nI have one oracle table with a lot of fields and i just want to get a list of id (primary key).\r\n\r\nSo i have created a simple job with 2 steps (reader and writer).\r\n\r\n```java\r\n@Configuration\r\n@EnableBatchProcessing\r\npublic class BatchConfiguration {\r\n  @Bean\r\n  public Job importPurchase(\r\n      JobBuilderFactory jobBuilderFactory, Step findProSellerAccountStep, Step importPurchaseStep) {\r\n    return jobBuilderFactory\r\n        .get(&quot;importJob&quot;)\r\n        .incrementer(new RunIdIncrementer())\r\n        .start(findProSellerAccountStep)\r\n        // .next(importPurchaseStep)\r\n        .build();\r\n  }\r\n\r\n  @Bean\r\n  @JobScope\r\n  public Step findProSellerAccountStep(\r\n      StepBuilderFactory stepBuilderFactory,\r\n      ItemReader&lt;Long&gt; accountItemReader,\r\n      ItemWriter&lt;Long&gt; accountItemWriter) {\r\n    return stepBuilderFactory\r\n        .get(&quot;findProSellersStep&quot;)\r\n        .&lt;Long, Long&gt;chunk(10)\r\n        .reader(accountItemReader)\r\n        .writer(accountItemWriter)\r\n        .build();\r\n  }\r\n}\r\n```\r\n\r\nAnd i have also created an item reader :\r\n\r\n```java\r\n@Component\r\n@JobScope\r\n@Scope(proxyMode = ScopedProxyMode.DEFAULT)\r\npublic class AccountItemReader extends RepositoryItemReader&lt;Long&gt; {\r\n  public AccountItemReader(AccountEntityRepository accountRepository) {\r\n    // Get all elements\r\n    this.setMethodName(&quot;findAllAccount&quot;);\r\n\r\n    HashMap&lt;String, Direction&gt; sorts = new HashMap&lt;&gt;();\r\n    sorts.put(&quot;userAccountId&quot;, Sort.Direction.ASC);\r\n\r\n    this.setSort(sorts);\r\n    this.setPageSize(10);\r\n    this.setRepository(accountRepository);\r\n  }\r\n}\r\n```\r\n\r\nFinally i have created a repository :\r\n\r\n```java\r\n@Repository\r\npublic interface AccountEntityRepository extends PagingAndSortingRepository&lt;AccountEntity, Long&gt; {\r\n  @Query(\r\n      value =\r\n          &quot;&quot;&quot;\r\n                    SELECT userAccountId\r\n                    FROM AccountEntity\r\n                    WHERE myparam = 30 and anotherparam = 20&quot;&quot;&quot;,\r\n      countQuery =\r\n          &quot;&quot;&quot;\r\n                    SELECT COUNT(userAccountId)\r\n                    FROM AccountEntity\r\n                    WHERE myparam = 30 and anotherparam = 20&quot;&quot;&quot;)\r\n  Page&lt;Long&gt; findAllActiveAccount(Pageable page);\r\n}\r\n\r\n```\r\n\r\nBut when i try to execute my program with Intellij IDEA, i have got a big error :\r\n\r\n```shell\r\n2022-12-01 14:35:30.655 ERROR [o.s.b.SpringApplication  ] - Application run failed\r\njava.lang.IllegalStateException: Failed to execute ApplicationRunner\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:765)\r\n\tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n\tat com.rakuten.merchant_index.MerchantIndexApplication.main(MerchantIndexApplication.java:10)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\r\nCaused by: java.lang.IllegalArgumentException: Unable to deserialize the execution context\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:328)\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:312)\r\n\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)\r\n\tat org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)\r\n\tat org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:815)\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.getExecutionContext(JdbcExecutionContextDao.java:114)\r\n\tat org.springframework.batch.core.explore.support.SimpleJobExplorer.getJobExecutionDependencies(SimpleJobExplorer.java:239)\r\n\tat org.springframework.batch.core.explore.support.SimpleJobExplorer.getLastJobExecution(SimpleJobExplorer.java:104)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\r\n\tat jdk.proxy4/jdk.proxy4.$Proxy107.getLastJobExecution(Unknown Source)\r\n\tat org.springframework.batch.core.JobParametersBuilder.getNextJobParameters(JobParametersBuilder.java:265)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.getNextJobParameters(JobLauncherApplicationRunner.java:213)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:198)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\r\n\tat org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\r\n\tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762)\r\n\t... 10 common frames omitted\r\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: The class with [Ljava.lang.Object; and name of [Ljava.lang.Object; is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing. (through reference chain: java.util.HashMap[&quot;accountIds&quot;]-&gt;java.util.ArrayList[0])\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:392)\r\n\tat com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:363)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:371)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDelegatingDeserializer.deserialize(StdDelegatingDeserializer.java:175)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:120)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211)\r\n\tat com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:611)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:437)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)\r\n\tat com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:482)\r\n\tat com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674)\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:133)\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:104)\r\n\tat org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:325)\r\n\t... 41 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: The class with [Ljava.lang.Object; and name of [Ljava.lang.Object; is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing.\r\n\tat org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer$TrustedTypeIdResolver.typeFromId(Jackson2ExecutionContextStringSerializer.java:353)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:97)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53)\r\n\tat com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211)\r\n\tat com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:357)\r\n\t... 61 common frames omitted\r\n```\r\n\r\nI don&#39;t understand because there is no &quot;HashMap[&quot;accountIds&quot;]&quot; into my actual java program.\r\n\r\nSo why jackson try to create this Map ? Is it an old cache ?","title":"Why jackson can&#39;t cast long to long into my spring-batch?","body":"<p>I'm trying to read datas from database into my spring-batch application.</p>\n<p>I have one oracle table with a lot of fields and i just want to get a list of id (primary key).</p>\n<p>So i have created a simple job with 2 steps (reader and writer).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableBatchProcessing\npublic class BatchConfiguration {\n  @Bean\n  public Job importPurchase(\n      JobBuilderFactory jobBuilderFactory, Step findProSellerAccountStep, Step importPurchaseStep) {\n    return jobBuilderFactory\n        .get(&quot;importJob&quot;)\n        .incrementer(new RunIdIncrementer())\n        .start(findProSellerAccountStep)\n        // .next(importPurchaseStep)\n        .build();\n  }\n\n  @Bean\n  @JobScope\n  public Step findProSellerAccountStep(\n      StepBuilderFactory stepBuilderFactory,\n      ItemReader&lt;Long&gt; accountItemReader,\n      ItemWriter&lt;Long&gt; accountItemWriter) {\n    return stepBuilderFactory\n        .get(&quot;findProSellersStep&quot;)\n        .&lt;Long, Long&gt;chunk(10)\n        .reader(accountItemReader)\n        .writer(accountItemWriter)\n        .build();\n  }\n}\n</code></pre>\n<p>And i have also created an item reader :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@JobScope\n@Scope(proxyMode = ScopedProxyMode.DEFAULT)\npublic class AccountItemReader extends RepositoryItemReader&lt;Long&gt; {\n  public AccountItemReader(AccountEntityRepository accountRepository) {\n    // Get all elements\n    this.setMethodName(&quot;findAllAccount&quot;);\n\n    HashMap&lt;String, Direction&gt; sorts = new HashMap&lt;&gt;();\n    sorts.put(&quot;userAccountId&quot;, Sort.Direction.ASC);\n\n    this.setSort(sorts);\n    this.setPageSize(10);\n    this.setRepository(accountRepository);\n  }\n}\n</code></pre>\n<p>Finally i have created a repository :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface AccountEntityRepository extends PagingAndSortingRepository&lt;AccountEntity, Long&gt; {\n  @Query(\n      value =\n          &quot;&quot;&quot;\n                    SELECT userAccountId\n                    FROM AccountEntity\n                    WHERE myparam = 30 and anotherparam = 20&quot;&quot;&quot;,\n      countQuery =\n          &quot;&quot;&quot;\n                    SELECT COUNT(userAccountId)\n                    FROM AccountEntity\n                    WHERE myparam = 30 and anotherparam = 20&quot;&quot;&quot;)\n  Page&lt;Long&gt; findAllActiveAccount(Pageable page);\n}\n\n</code></pre>\n<p>But when i try to execute my program with Intellij IDEA, i have got a big error :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>2022-12-01 14:35:30.655 ERROR [o.s.b.SpringApplication  ] - Application run failed\njava.lang.IllegalStateException: Failed to execute ApplicationRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:765)\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:752)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\n    at com.rakuten.merchant_index.MerchantIndexApplication.main(MerchantIndexApplication.java:10)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49)\nCaused by: java.lang.IllegalArgumentException: Unable to deserialize the execution context\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:328)\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:312)\n    at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:94)\n    at org.springframework.jdbc.core.RowMapperResultSetExtractor.extractData(RowMapperResultSetExtractor.java:61)\n    at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:723)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:815)\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao.getExecutionContext(JdbcExecutionContextDao.java:114)\n    at org.springframework.batch.core.explore.support.SimpleJobExplorer.getJobExecutionDependencies(SimpleJobExplorer.java:239)\n    at org.springframework.batch.core.explore.support.SimpleJobExplorer.getLastJobExecution(SimpleJobExplorer.java:104)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:128)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)\n    at jdk.proxy4/jdk.proxy4.$Proxy107.getLastJobExecution(Unknown Source)\n    at org.springframework.batch.core.JobParametersBuilder.getNextJobParameters(JobParametersBuilder.java:265)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.getNextJobParameters(JobLauncherApplicationRunner.java:213)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.execute(JobLauncherApplicationRunner.java:198)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.executeLocalJobs(JobLauncherApplicationRunner.java:173)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.launchJobFromProperties(JobLauncherApplicationRunner.java:160)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:155)\n    at org.springframework.boot.autoconfigure.batch.JobLauncherApplicationRunner.run(JobLauncherApplicationRunner.java:150)\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:762)\n    ... 10 common frames omitted\nCaused by: com.fasterxml.jackson.databind.JsonMappingException: The class with [Ljava.lang.Object; and name of [Ljava.lang.Object; is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing. (through reference chain: java.util.HashMap[&quot;accountIds&quot;]-&gt;java.util.ArrayList[0])\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:392)\n    at com.fasterxml.jackson.databind.JsonMappingException.wrapWithPath(JsonMappingException.java:363)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:371)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\n    at com.fasterxml.jackson.databind.deser.std.StdDelegatingDeserializer.deserialize(StdDelegatingDeserializer.java:175)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:120)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211)\n    at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer._readAndBindStringKeyMap(MapDeserializer.java:611)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:437)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserialize(MapDeserializer.java:32)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer._deserializeTypedForId(AsPropertyTypeDeserializer.java:144)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromObject(AsPropertyTypeDeserializer.java:110)\n    at com.fasterxml.jackson.databind.deser.std.MapDeserializer.deserializeWithType(MapDeserializer.java:482)\n    at com.fasterxml.jackson.databind.deser.impl.TypeWrappedDeserializer.deserialize(TypeWrappedDeserializer.java:74)\n    at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674)\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:133)\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer.deserialize(Jackson2ExecutionContextStringSerializer.java:104)\n    at org.springframework.batch.core.repository.dao.JdbcExecutionContextDao$ExecutionContextRowMapper.mapRow(JdbcExecutionContextDao.java:325)\n    ... 41 common frames omitted\nCaused by: java.lang.IllegalArgumentException: The class with [Ljava.lang.Object; and name of [Ljava.lang.Object; is not trusted. If you believe this class is safe to deserialize, you can add it to the base set of trusted classes at construction time or provide an explicit mapping using Jackson annotations or a custom ObjectMapper. If the serialization is only done by a trusted source, you can also enable default typing.\n    at org.springframework.batch.core.repository.dao.Jackson2ExecutionContextStringSerializer$TrustedTypeIdResolver.typeFromId(Jackson2ExecutionContextStringSerializer.java:353)\n    at com.fasterxml.jackson.databind.jsontype.impl.TypeDeserializerBase._findDeserializer(TypeDeserializerBase.java:159)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer._deserialize(AsArrayTypeDeserializer.java:97)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsArrayTypeDeserializer.deserializeTypedFromArray(AsArrayTypeDeserializer.java:53)\n    at com.fasterxml.jackson.databind.jsontype.impl.AsPropertyTypeDeserializer.deserializeTypedFromAny(AsPropertyTypeDeserializer.java:211)\n    at com.fasterxml.jackson.databind.deser.std.UntypedObjectDeserializer$Vanilla.deserializeWithType(UntypedObjectDeserializer.java:781)\n    at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:357)\n    ... 61 common frames omitted\n</code></pre>\n<p>I don't understand because there is no &quot;HashMap[&quot;accountIds&quot;]&quot; into my actual java program.</p>\n<p>So why jackson try to create this Map ? Is it an old cache ?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":3,"creation_date":1674469651,"post_id":75208169,"comment_id":132712971,"body_markdown":"Your JRE is java 15, but class is compiled with java 17","body":"Your JRE is java 15, but class is compiled with java 17"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1674470401,"post_id":75208169,"comment_id":132713184,"body_markdown":"Spring boot 3 requires Java 17","body":"Spring boot 3 requires Java 17"}],"answers":[{"tags":[],"owner":{"account_id":24546611,"reputation":174,"user_id":18456370,"display_name":"Yanni2"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1674470183,"creation_date":1674470183,"answer_id":75208273,"question_id":75208169,"body_markdown":"You need to have the right runtime for your class files installed. In your case are you using java 17 to compile it but are trying to run it on java 15. So you can change your `pom.xml`file or install the right JRE\r\n```\r\n45 = Java 1.1\r\n46 = Java 1.2\r\n47 = Java 1.3\r\n48 = Java 1.4\r\n49 = Java 5\r\n50 = Java 6\r\n51 = Java 7\r\n52 = Java 8\r\n53 = Java 9\r\n54 = Java 10\r\n55 = Java 11\r\n56 = Java 12\r\n57 = Java 13\r\n58 = Java 14\r\n59 = Java 15\r\n60 = Java 16\r\n61 = Java 17\r\n62 = Java 18\r\n63 = Java 19\r\n```\r\n\r\nPom.xml that should work:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.csmtech&lt;/groupId&gt;\r\n    &lt;artifactId&gt;ExcelDataBase&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;ExcelDataBase&lt;/name&gt;\r\n    &lt;description&gt;Excel To DB Convert&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;15&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5.13&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\nAll I have done is changing the `java.version` to `15` &lt;br/&gt;\r\n\r\nWhat you are trying is like write an app and build it for `Windows 11` but then run it on `Windows XP`","title":"Spring Boot Project Is Not Running Due To Version Issues","body":"<p>You need to have the right runtime for your class files installed. In your case are you using java 17 to compile it but are trying to run it on java 15. So you can change your <code>pom.xml</code>file or install the right JRE</p>\n<pre><code>45 = Java 1.1\n46 = Java 1.2\n47 = Java 1.3\n48 = Java 1.4\n49 = Java 5\n50 = Java 6\n51 = Java 7\n52 = Java 8\n53 = Java 9\n54 = Java 10\n55 = Java 11\n56 = Java 12\n57 = Java 13\n58 = Java 14\n59 = Java 15\n60 = Java 16\n61 = Java 17\n62 = Java 18\n63 = Java 19\n</code></pre>\n<p>Pom.xml that should work:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.csmtech&lt;/groupId&gt;\n    &lt;artifactId&gt;ExcelDataBase&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ExcelDataBase&lt;/name&gt;\n    &lt;description&gt;Excel To DB Convert&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>All I have done is changing the <code>java.version</code> to <code>15</code> <br/></p>\n<p>What you are trying is like write an app and build it for <code>Windows 11</code> but then run it on <code>Windows XP</code></p>\n"},{"tags":[],"owner":{"account_id":27594691,"reputation":1,"user_id":21061169,"display_name":"ASIT KUMAR OJHA"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1674471018,"creation_date":1674471018,"answer_id":75208431,"question_id":75208169,"body_markdown":"Change The version of Spring 2.7.7 like below, it will work \r\n\r\n    &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.7.7&lt;/version&gt;\r\n    &lt;relativePath/&gt; \r\n    &lt;/parent&gt;","title":"Spring Boot Project Is Not Running Due To Version Issues","body":"<p>Change The version of Spring 2.7.7 like below, it will work</p>\n<pre><code>&lt;parent&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n&lt;version&gt;2.7.7&lt;/version&gt;\n&lt;relativePath/&gt; \n&lt;/parent&gt;\n</code></pre>\n"}],"owner":{"account_id":27599304,"reputation":3,"user_id":21064870,"display_name":"Megha Kumari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":740,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1674495051,"accepted_answer_id":75208273,"answer_count":2,"score":0,"last_activity_date":1674471018,"creation_date":1674469568,"question_id":75208169,"body_markdown":"This is my pom xml\r\n\r\n\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.csmtech&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;ExcelDataBase&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;ExcelDataBase&lt;/name&gt;\r\n    \t&lt;description&gt;Excel To DB Convert&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jstl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.5.13&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.1.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis is The Exception\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 59.0\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:825)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:723)\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOr\r\n\r\n","title":"Spring Boot Project Is Not Running Due To Version Issues","body":"<p>This is my pom xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.csmtech&lt;/groupId&gt;\n    &lt;artifactId&gt;ExcelDataBase&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ExcelDataBase&lt;/name&gt;\n    &lt;description&gt;Excel To DB Convert&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;itextpdf&lt;/artifactId&gt;\n            &lt;version&gt;5.5.13&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.itextpdf&lt;/groupId&gt;\n            &lt;artifactId&gt;html2pdf&lt;/artifactId&gt;\n            &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;4.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is The Exception</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/springframework/boot/SpringApplication has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 59.0\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:151)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:825)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:723)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOr\n</code></pre>\n"},{"tags":["java","spring","spring-boot","aws-lambda","aws-api-gateway"],"answers":[{"tags":[],"owner":{"account_id":27599470,"reputation":11,"user_id":21064998,"display_name":"Prime171"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674470513,"creation_date":1674470513,"answer_id":75208344,"question_id":74884930,"body_markdown":"You can achieve a similar result using an approach with this library:\r\nhttps://github.com/MelonProjectCom/lambda-http-router\r\n\r\n     @PathPostMapping(&quot;/example/test&quot;)\r\n     public String example(@Body String body) {\r\n        return &quot;Hello World! - body: &quot; + body;\r\n     }","title":"Multiple Spring Cloud Functions in one project for deployment on AWS Lambda","body":"<p>You can achieve a similar result using an approach with this library:\n<a href=\"https://github.com/MelonProjectCom/lambda-http-router\" rel=\"nofollow noreferrer\">https://github.com/MelonProjectCom/lambda-http-router</a></p>\n<pre><code> @PathPostMapping(&quot;/example/test&quot;)\n public String example(@Body String body) {\n    return &quot;Hello World! - body: &quot; + body;\n }\n</code></pre>\n"}],"owner":{"account_id":27235913,"reputation":1,"user_id":20762825,"display_name":"akki_moote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674470513,"creation_date":1671691082,"question_id":74884930,"body_markdown":"I am currently using Spring Cloud Function, and I want to deploy my functions on AWS Lambda, using the adapter for AWS.\r\n\r\nTill now all the Spring Cloud Function implemented was a single function with the following structure.\r\n\r\n```\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = &quot;com.demo&quot;)\r\npublic class Application {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nHandler for lamda:\r\n\r\nimport org.springframework.cloud.function.adapter.aws.SpringBootRequestHandler;\r\n\r\n\r\npublic class DemoHandler extends SpringBootRequestHandler&lt;DemoRequest, DemoResponse&gt; {\r\n}\r\n\r\nI understand that this part of the code is Depricated.\r\n\r\nInterface to define the Endpoint:\r\n\r\n\r\n```\r\n@SuppressWarnings(&quot;hiding&quot;)\r\n@FunctionalInterface\r\npublic interface Demoapi&lt;DemoRequest, DemoResponse&gt;{\r\n\t@PostMapping(value = &quot;/v1/demo&quot;)\r\n\tpublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo);\r\n\r\n}\r\n\r\n```\r\nFollowed by the controller where the @RestController was defined\r\n\r\nPart of the controller:\r\n```\r\n@RestController\r\npublic class Democontroller implements Demoapi&lt;DemoRequest, DemoResponse&gt;{\r\n\t\tstatic final Logger LOGGER = LogManager.getLogger(Democontroller.class);\r\n\t\t\r\n@Autowired\r\nprivate DemoService demoService;\r\n\r\n@Override\r\npublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo) {\r\n\tDemoResponse demoResponse=new DemoResponse();\r\n    try {\r\n        demoResponse = demoService.demofun(demoInfo);\r\n  ........\r\n.........\r\n.........\r\n```\r\n\r\n\r\n\r\nThis setup works perfectly. When deploying to Lambda, I provide Handler as com.demo.DemoHandler in the AWS console, and in the Environment Variable under FUNCTION_NAME I give the DemoController class with the Starting letter in small caps i.e demoController and the lamda works fine when tested in the console as well as directed from an API Gateway.\r\n\r\nCurrently I am working on a project where it is required to perform all the CRUD operations within one Spring Boot Application and deploy it as a single lambda.\r\n\r\nI want to know how this can be achieved using similar structure within the application.\r\n\r\n\r\nAll help is highly appreciated! ","title":"Multiple Spring Cloud Functions in one project for deployment on AWS Lambda","body":"<p>I am currently using Spring Cloud Function, and I want to deploy my functions on AWS Lambda, using the adapter for AWS.</p>\n<p>Till now all the Spring Cloud Function implemented was a single function with the following structure.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.demo&quot;)\npublic class Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n\n</code></pre>\n<p>Handler for lamda:</p>\n<p>import org.springframework.cloud.function.adapter.aws.SpringBootRequestHandler;</p>\n<p>public class DemoHandler extends SpringBootRequestHandler&lt;DemoRequest, DemoResponse&gt; {\n}</p>\n<p>I understand that this part of the code is Depricated.</p>\n<p>Interface to define the Endpoint:</p>\n<pre><code>@SuppressWarnings(&quot;hiding&quot;)\n@FunctionalInterface\npublic interface Demoapi&lt;DemoRequest, DemoResponse&gt;{\n    @PostMapping(value = &quot;/v1/demo&quot;)\n    public ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo);\n\n}\n\n</code></pre>\n<p>Followed by the controller where the @RestController was defined</p>\n<p>Part of the controller:</p>\n<pre><code>@RestController\npublic class Democontroller implements Demoapi&lt;DemoRequest, DemoResponse&gt;{\n        static final Logger LOGGER = LogManager.getLogger(Democontroller.class);\n        \n@Autowired\nprivate DemoService demoService;\n\n@Override\npublic ResponseEntity&lt;DemoResponse&gt; demo(@RequestBody DemoRequest demoInfo) {\n    DemoResponse demoResponse=new DemoResponse();\n    try {\n        demoResponse = demoService.demofun(demoInfo);\n  ........\n.........\n.........\n</code></pre>\n<p>This setup works perfectly. When deploying to Lambda, I provide Handler as com.demo.DemoHandler in the AWS console, and in the Environment Variable under FUNCTION_NAME I give the DemoController class with the Starting letter in small caps i.e demoController and the lamda works fine when tested in the console as well as directed from an API Gateway.</p>\n<p>Currently I am working on a project where it is required to perform all the CRUD operations within one Spring Boot Application and deploy it as a single lambda.</p>\n<p>I want to know how this can be achieved using similar structure within the application.</p>\n<p>All help is highly appreciated!</p>\n"},{"tags":["java","selenium","cucumber-java"],"answers":[{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674466615,"creation_date":1674466615,"answer_id":75207681,"question_id":75205860,"body_markdown":"You have declared &#39;driver&#39; variable 2 times, at line number 15 and at line number 22. Line number 15&#39;s &#39;driver&#39; has access at class level and line number 22&#39;s &#39;driver&#39; has access only at method level.\r\nAt line number 30, the &#39;driver&#39; used is class variable which has not been instantiated. Simple solution to make it work is use only one driver variable.\r\n\r\nChange the code at line number 22 as below:\r\n\r\n    driver = new FirefoxDriver();\r\n\r\nGood luck, try this and if it solves your issue, upvote and accept the answer.  ","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.getTitle()&quot; because &quot;this.driver&quot; is null","body":"<p>You have declared 'driver' variable 2 times, at line number 15 and at line number 22. Line number 15's 'driver' has access at class level and line number 22's 'driver' has access only at method level.\nAt line number 30, the 'driver' used is class variable which has not been instantiated. Simple solution to make it work is use only one driver variable.</p>\n<p>Change the code at line number 22 as below:</p>\n<pre><code>driver = new FirefoxDriver();\n</code></pre>\n<p>Good luck, try this and if it solves your issue, upvote and accept the answer.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674469324,"creation_date":1674469324,"answer_id":75208129,"question_id":75205860,"body_markdown":"You have got one instance of WebDriver at class level as:\r\n\r\n    WebDriver driver;\r\n\r\nand another instance of Firefox driver at method level as:\r\n\r\n    FirefoxDriver driver = new FirefoxDriver();\r\n\r\ninitialized in your program by the same name.\r\n\r\nHence you see the error.\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nAn ideal solution would be to use the same _`driver`_ variable created from WebDriver at class level, which can be accesed from any method. So effectively you have to:\r\n\r\n    driver = new FirefoxDriver();","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.getTitle()&quot; because &quot;this.driver&quot; is null","body":"<p>You have got one instance of WebDriver at class level as:</p>\n<pre><code>WebDriver driver;\n</code></pre>\n<p>and another instance of Firefox driver at method level as:</p>\n<pre><code>FirefoxDriver driver = new FirefoxDriver();\n</code></pre>\n<p>initialized in your program by the same name.</p>\n<p>Hence you see the error.</p>\n<hr />\n<h2>Solution</h2>\n<p>An ideal solution would be to use the same <em><code>driver</code></em> variable created from WebDriver at class level, which can be accesed from any method. So effectively you have to:</p>\n<pre><code>driver = new FirefoxDriver();\n</code></pre>\n"}],"owner":{"account_id":27160385,"reputation":9,"user_id":20698569,"display_name":"shalini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1674469669,"answer_count":2,"score":0,"last_activity_date":1674469324,"creation_date":1674451018,"question_id":75205860,"body_markdown":"learning BDD cucumber Framework project and trying to run this code in Junit 4 and getting this error. getting failed at line 31 and then all other test is going skipped\r\n[code ](https://i.stack.imgur.com/Rd7Vi.jpg)\r\n\r\n","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.getTitle()&quot; because &quot;this.driver&quot; is null","body":"<p>learning BDD cucumber Framework project and trying to run this code in Junit 4 and getting this error. getting failed at line 31 and then all other test is going skipped\n<a href=\"https://i.stack.imgur.com/Rd7Vi.jpg\" rel=\"nofollow noreferrer\">code </a></p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":2404468,"reputation":1017,"user_id":2101348,"display_name":"Jason Fulghum"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1367884284,"creation_date":1367884284,"answer_id":16409073,"question_id":16354966,"body_markdown":"Each client in the AWS SDK for Java (including the Amazon S3 client) currently maintains it&#39;s own HTTP connection pool.  You can tune the maximum size of the HTTP connection pool through [the ClientConfiguration class](http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/ClientConfiguration.html) that can be passed into client object constructors.\r\n\r\nWe recommend sharing client objects, because of the expense and overhead of having too many HTTP connection pools that aren&#39;t being utilized effectively.  You should see better performance when you share client objects across threads like this.","title":"Does Amazon S3 have a connection pool?","body":"<p>Each client in the AWS SDK for Java (including the Amazon S3 client) currently maintains it's own HTTP connection pool.  You can tune the maximum size of the HTTP connection pool through <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/ClientConfiguration.html\" rel=\"noreferrer\">the ClientConfiguration class</a> that can be passed into client object constructors.</p>\n\n<p>We recommend sharing client objects, because of the expense and overhead of having too many HTTP connection pools that aren't being utilized effectively.  You should see better performance when you share client objects across threads like this.</p>\n"},{"tags":[],"owner":{"account_id":201558,"reputation":20189,"user_id":448078,"accept_rate":61,"display_name":"Mike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671443548,"creation_date":1671443548,"answer_id":74848798,"question_id":16354966,"body_markdown":"Copy and run example\r\n\r\n    ClientConfiguration clientConfiguration = new ClientConfiguration().withMaxErrorRetry(10).withMaxConnections(350);\r\n    AmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(Regions.EU_WEST_1).withClientConfiguration(clientConfiguration).build();\r\n","title":"Does Amazon S3 have a connection pool?","body":"<p>Copy and run example</p>\n<pre><code>ClientConfiguration clientConfiguration = new ClientConfiguration().withMaxErrorRetry(10).withMaxConnections(350);\nAmazonS3 s3 = AmazonS3ClientBuilder.standard().withRegion(Regions.EU_WEST_1).withClientConfiguration(clientConfiguration).build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9992410,"reputation":460,"user_id":8710383,"display_name":"Oleksandr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674469250,"creation_date":1674469250,"answer_id":75208117,"question_id":16354966,"body_markdown":"Here is the solution for AWS SDK V2:\r\n\r\n1. Add the following dependencies:\r\n```\r\nimplementation &#39;software.amazon.awssdk:s3&#39;\r\nimplementation &#39;software.amazon.awssdk:apache-client&#39;\r\n```\r\n2. S3Client use ApacheHttpClient by default. So override the following configuration:\r\n```\r\nvar config = ApacheHttpClient.builder().maxConnections(100);\r\nreturn S3Client.builder().httpClientBuilder(config).build();\r\n```\r\n\r\nMore details are described in [AWS Docs][1]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-apache.html","title":"Does Amazon S3 have a connection pool?","body":"<p>Here is the solution for AWS SDK V2:</p>\n<ol>\n<li>Add the following dependencies:</li>\n</ol>\n<pre><code>implementation 'software.amazon.awssdk:s3'\nimplementation 'software.amazon.awssdk:apache-client'\n</code></pre>\n<ol start=\"2\">\n<li>S3Client use ApacheHttpClient by default. So override the following configuration:</li>\n</ol>\n<pre><code>var config = ApacheHttpClient.builder().maxConnections(100);\nreturn S3Client.builder().httpClientBuilder(config).build();\n</code></pre>\n<p>More details are described in <a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration-apache.html\" rel=\"nofollow noreferrer\">AWS Docs</a></p>\n"}],"owner":{"account_id":2436593,"reputation":770,"user_id":2126346,"accept_rate":77,"display_name":"Mark_H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34471,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":16409073,"answer_count":3,"score":24,"last_activity_date":1674469250,"creation_date":1367571198,"question_id":16354966,"body_markdown":"I ever used the code \r\n\r\n    public static AmazonS3Client s3 = null;\r\n    ...\r\n    BasicAWSCredentials c = new BasicAWSCredentials(&quot;absadgwslkjlsdjgflwa&quot;);\r\n    s3 =  new AmazonS3Client(c);\r\n\r\nOnly one instance s3 is created while dozens of threads will upload images by s3.putObject(). In the dump info, I could see that one thread would lock the only instance s3 while the others were waiting.\r\n\r\nSo I think maybe it will be faster if I use the code below:\r\n\r\n    BasicAWSCredentials c = new BasicAWSCredentials(&quot;absadgwslkjlsdjgflwa&quot;);\r\n    for(int i = 0; i &lt; 10; i++)\r\n        amazonS3[i] = new AmazonS3Client(c);\r\n\r\nEverytime the system will get a random s3 instance and then upload the image.\r\n\t\r\n    private static AmazonS3 getS3(){\r\n\t\tint i = (int)(Math.random() * 10); \r\n\t\treturn amazonS3[i];\r\n\t}\r\n\r\nBut it seems that the system slow down. Why that happened? \r\nMaybe the only instance s3 has already used connection pool? I am confused.","title":"Does Amazon S3 have a connection pool?","body":"<p>I ever used the code </p>\n\n<pre><code>public static AmazonS3Client s3 = null;\n...\nBasicAWSCredentials c = new BasicAWSCredentials(\"absadgwslkjlsdjgflwa\");\ns3 =  new AmazonS3Client(c);\n</code></pre>\n\n<p>Only one instance s3 is created while dozens of threads will upload images by s3.putObject(). In the dump info, I could see that one thread would lock the only instance s3 while the others were waiting.</p>\n\n<p>So I think maybe it will be faster if I use the code below:</p>\n\n<pre><code>BasicAWSCredentials c = new BasicAWSCredentials(\"absadgwslkjlsdjgflwa\");\nfor(int i = 0; i &lt; 10; i++)\n    amazonS3[i] = new AmazonS3Client(c);\n</code></pre>\n\n<p>Everytime the system will get a random s3 instance and then upload the image.</p>\n\n<pre><code>private static AmazonS3 getS3(){\n    int i = (int)(Math.random() * 10); \n    return amazonS3[i];\n}\n</code></pre>\n\n<p>But it seems that the system slow down. Why that happened? \nMaybe the only instance s3 has already used connection pool? I am confused.</p>\n"},{"tags":["java","asynchronous","completable-future"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":4,"creation_date":1674466442,"post_id":75207519,"comment_id":132712082,"body_markdown":"You can get rid off that loop by using `CompletableFuture.allOf(completableFutures).get()`. This will create a new `CompletableFuture` that will only end when all given `CompletableFutures` end; the `get()` will return `null` because that&#39;s the only valid value for its generic type - `Void`. Just ignore it.","body":"You can get rid off that loop by using <code>CompletableFuture.allOf(completableFutures).get()</code>. This will create a new <code>CompletableFuture</code> that will only end when all given <code>CompletableFutures</code> end; the <code>get()</code> will return <code>null</code> because that&#39;s the only valid value for its generic type - <code>Void</code>. Just ignore it."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1674467300,"post_id":75207519,"comment_id":132712337,"body_markdown":"This is really strange. Why do you iterate over the files but you dont&#39; do anything with the file you&#39;re getting? You should not use a forEach if you&#39;re going to stuff the results into another collection, you should stream/collect. You could probably use a forEach and a parallel stream though, and never use a completable future at all.","body":"This is really strange. Why do you iterate over the files but you dont&#39; do anything with the file you&#39;re getting? You should not use a forEach if you&#39;re going to stuff the results into another collection, you should stream/collect. You could probably use a forEach and a parallel stream though, and never use a completable future at all."},{"owner":{"account_id":4073072,"reputation":43,"user_id":3345426,"display_name":"sharad"},"score":0,"creation_date":1674468079,"post_id":75207519,"comment_id":132712550,"body_markdown":"Hi Matt, I am not iterating over files but only the metadata of files, filename, creation date, etc.","body":"Hi Matt, I am not iterating over files but only the metadata of files, filename, creation date, etc."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1674468287,"post_id":75207519,"comment_id":132712610,"body_markdown":"@sharad You&#39;re iterating over something called &quot;file&quot; but you never use it in your processor.processFiles().","body":"@sharad You&#39;re iterating over something called &quot;file&quot; but you never use it in your processor.processFiles()."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":2,"creation_date":1674479205,"post_id":75207519,"comment_id":132715829,"body_markdown":"If `processor.processFiles()` is `@Async`, then it returns instantly and runs something in background, but your code is never checking for that background task.","body":"If <code>processor.processFiles()</code> is <code>@Async</code>, then it returns instantly and runs something in background, but your code is never checking for that background task."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1674484868,"post_id":75207519,"comment_id":132717909,"body_markdown":"So it&#39;s async within async? Change `processFiles` to return a future, wait for that future to complete. Don&#39;t use a future to start dispatch another future","body":"So it&#39;s async within async? Change <code>processFiles</code> to return a future, wait for that future to complete. Don&#39;t use a future to start dispatch another future"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1674558717,"post_id":75207519,"comment_id":132734819,"body_markdown":"Are you using Spring? It seems like your `CompletableFuture.runAsync` is a bit of a red herring. You probably shouldn&#39;t be using that at all.","body":"Are you using Spring? It seems like your <code>CompletableFuture.runAsync</code> is a bit of a red herring. You probably shouldn&#39;t be using that at all."}],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674469190,"creation_date":1674467807,"answer_id":75207885,"question_id":75207519,"body_markdown":"I think you&#39;ve overcomplicated things.\r\n\r\n    fileList.flatMap(List::stream).parallel().forEach(file -&gt; processor.processFiles());\r\n\r\nThe forEach will run in parallel, and return when all of the files have been processed.\r\n\r\nAt the very least, don&#39;t use side effects to populate a `List`.\r\n\r\n    List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures  = files.stream().map(\r\n        file -&gt;  CompletableFuture.runAsync(() -&gt; processor.processFiles());\r\n    ).collect( Collectors.toList());\r\n\r\nI agree with the comment.\r\n\r\n    CompletableFuture&lt;Void&gt; all = CompletableFuture.allOf( completableFutures );\r\n\r\nThen you can use `get` which will wait until the tasks are completed.\r\n\r\nAnother way to do this, that would skip the List + CompletableFuture.allOf and just return a single completable future.\r\n\r\n    CompletableFuture&lt;Void&gt; all = files.stream().map(\r\n            file -&gt;  CompletableFuture.runAsync(\r\n                () -&gt; processor.processFiles()\r\n            )\r\n        ).collect( \r\n            Collectors.reducing( \r\n               CompletableFuture.completedFuture(null), CompletableFuture::allOf\r\n            )\r\n        );\r\n\r\nThat will map `file` to a CompletableFuture then merge all of the resulting completable futures into a single completable future. You can call .get on it and it will return when everything is finished. ","title":"CompletableFuture is Not waiting for child threads","body":"<p>I think you've overcomplicated things.</p>\n<pre><code>fileList.flatMap(List::stream).parallel().forEach(file -&gt; processor.processFiles());\n</code></pre>\n<p>The forEach will run in parallel, and return when all of the files have been processed.</p>\n<p>At the very least, don't use side effects to populate a <code>List</code>.</p>\n<pre><code>List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures  = files.stream().map(\n    file -&gt;  CompletableFuture.runAsync(() -&gt; processor.processFiles());\n).collect( Collectors.toList());\n</code></pre>\n<p>I agree with the comment.</p>\n<pre><code>CompletableFuture&lt;Void&gt; all = CompletableFuture.allOf( completableFutures );\n</code></pre>\n<p>Then you can use <code>get</code> which will wait until the tasks are completed.</p>\n<p>Another way to do this, that would skip the List + CompletableFuture.allOf and just return a single completable future.</p>\n<pre><code>CompletableFuture&lt;Void&gt; all = files.stream().map(\n        file -&gt;  CompletableFuture.runAsync(\n            () -&gt; processor.processFiles()\n        )\n    ).collect( \n        Collectors.reducing( \n           CompletableFuture.completedFuture(null), CompletableFuture::allOf\n        )\n    );\n</code></pre>\n<p>That will map <code>file</code> to a CompletableFuture then merge all of the resulting completable futures into a single completable future. You can call .get on it and it will return when everything is finished.</p>\n"}],"owner":{"account_id":4073072,"reputation":43,"user_id":3345426,"display_name":"sharad"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674469190,"creation_date":1674465679,"question_id":75207519,"body_markdown":"I am trying to wait for `processor.processFiles()` to complete, the method returns void and it is an @Async method. The busy wait logic does not cause the process to wait for method to complete. \r\nCan anybody please point out what am i missing?\r\n\r\n```\r\ntry{\r\n\r\n    filesList.forEach(files -&gt; {\r\n        List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures  = new ArrayList&lt;&gt;();\r\n\r\n        files.forEach(file-&gt; {\r\n            CompletableFuture&lt;Void&gt; completableFuture = CompletableFuture.runAsync(() -&gt; \r\n                processor.processFiles());\r\n            completableFutures.add(completableFuture);\r\n        });\r\n        while(true) {\r\n\r\n            Thread.sleep(5000);\r\n            boolean isComplete = completableFutures.stream().allMatch(result -&gt; result.isDone() == true);\r\n\r\n            if(isComplete){\r\n                break;\r\n            }\r\n            LOGGER.info(&quot;processing the file...&quot;);\r\n        }\r\n    });\r\n} \r\ncatch(Exception e){\r\n\r\n}\r\nfinally{\r\n    closeConnections();\r\n}\r\n```","title":"CompletableFuture is Not waiting for child threads","body":"<p>I am trying to wait for <code>processor.processFiles()</code> to complete, the method returns void and it is an @Async method. The busy wait logic does not cause the process to wait for method to complete.\nCan anybody please point out what am i missing?</p>\n<pre><code>try{\n\n    filesList.forEach(files -&gt; {\n        List&lt;CompletableFuture&lt;Void&gt;&gt; completableFutures  = new ArrayList&lt;&gt;();\n\n        files.forEach(file-&gt; {\n            CompletableFuture&lt;Void&gt; completableFuture = CompletableFuture.runAsync(() -&gt; \n                processor.processFiles());\n            completableFutures.add(completableFuture);\n        });\n        while(true) {\n\n            Thread.sleep(5000);\n            boolean isComplete = completableFutures.stream().allMatch(result -&gt; result.isDone() == true);\n\n            if(isComplete){\n                break;\n            }\n            LOGGER.info(&quot;processing the file...&quot;);\n        }\n    });\n} \ncatch(Exception e){\n\n}\nfinally{\n    closeConnections();\n}\n</code></pre>\n"},{"tags":["java","design-patterns","oop","architecture"],"answers":[{"tags":[],"owner":{"account_id":1079,"reputation":27949,"user_id":1432,"accept_rate":66,"display_name":"jsight"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1248067878,"creation_date":1248067878,"answer_id":1151836,"question_id":1151756,"body_markdown":"I like the basic design.  If the classes are simple enough, I might consider consolidating the A/B/C factories into a single class, as it seems there could be some sharing in behavior at that level.  I&#39;m assuming that these are really more complex than they appear, though, and that&#39;s why that is undesirable.\r\n\r\nThe basic approach of using Factories to reduce coupling between components is sound, imo.","title":"Architecture/Design of a pipeline-based system. How to improve this code?","body":"<p>I like the basic design.  If the classes are simple enough, I might consider consolidating the A/B/C factories into a single class, as it seems there could be some sharing in behavior at that level.  I'm assuming that these are really more complex than they appear, though, and that's why that is undesirable.</p>\n\n<p>The basic approach of using Factories to reduce coupling between components is sound, imo.</p>\n"},{"tags":[],"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1248133719,"creation_date":1248133719,"answer_id":1156581,"question_id":1151756,"body_markdown":"If I&#39;m not mistaken, What you are calling a factory is actually a very nice form of dependency injection.  You are selecting an object instance that is best able to meet the needs of your parameters and return it.\r\n\r\nIf I&#39;m right about that, you might want to look into DI platforms.  They do what you did (which is pretty simple, right?) then they add a few more abilities that you may not need now but you may find would help you later.\r\n\r\nI&#39;m just suggesting you look at what problems are solved now.  DI is so easy to do yourself that you hardly need any other tools, but they might have found situations you haven&#39;t considered yet.  [Google][1] finds many great looking links right off the bat.\r\n\r\nFrom what I&#39;ve seen of DI, it&#39;s likely that you&#39;ll want to move the entire creation of your &quot;Pipe&quot; into the factory, having it do the linking for you and just handing you what you need to solve a specific problem, but now I&#39;m really reaching--my knowledge of DI is just a little better than my knowledge of your code (in other words, I&#39;m pulling most of this out of my butt).\r\n\r\n\r\n  [1]: http://www.google.com/search?rlz=1C1GGLS_enUS309US309&amp;aq=0&amp;oq=java+dependancy&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java+dependency+injection","title":"Architecture/Design of a pipeline-based system. How to improve this code?","body":"<p>If I'm not mistaken, What you are calling a factory is actually a very nice form of dependency injection.  You are selecting an object instance that is best able to meet the needs of your parameters and return it.</p>\n\n<p>If I'm right about that, you might want to look into DI platforms.  They do what you did (which is pretty simple, right?) then they add a few more abilities that you may not need now but you may find would help you later.</p>\n\n<p>I'm just suggesting you look at what problems are solved now.  DI is so easy to do yourself that you hardly need any other tools, but they might have found situations you haven't considered yet.  <a href=\"http://www.google.com/search?rlz=1C1GGLS_enUS309US309&amp;aq=0&amp;oq=java+dependancy&amp;sourceid=chrome&amp;ie=UTF-8&amp;q=java+dependency+injection\" rel=\"nofollow noreferrer\">Google</a> finds many great looking links right off the bat.</p>\n\n<p>From what I've seen of DI, it's likely that you'll want to move the entire creation of your \"Pipe\" into the factory, having it do the linking for you and just handing you what you need to solve a specific problem, but now I'm really reaching--my knowledge of DI is just a little better than my knowledge of your code (in other words, I'm pulling most of this out of my butt).</p>\n"},{"tags":[],"owner":{"account_id":36166,"reputation":38839,"user_id":103043,"display_name":"akf"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1248142372,"creation_date":1248137919,"answer_id":1156788,"question_id":1151756,"body_markdown":"The factory idea is good, as is the idea, if feasible, to encapsulate the A, B, &amp; C components into single classes for each language.  One thing that I would urge you to consider is to use `Interface` inheritance instead of `Class` inheritance.  You could then incorporate an engine that would do the `runPipeline` process for you.  This is similar to the [Builder/Director pattern][1]. The steps in this process would be as follows:\r\n\r\n1. get input\r\n2. use factory method to get correct interface (english/chinese)\r\n3. pass interface into your engine\r\n4. runPipeline and get result\r\n\r\n\r\nOn the `extends` vs `implements` topic, [Allen Holub goes a bit over the top][2] to explain the preference for `Interfaces`.\r\n\r\n\r\n----------\r\nFollow up to you comments:\r\n\r\nMy interpretation of the application of the Builder pattern here would be that you have a `Factory` that would return a `PipelineBuilder`.  The `PipelineBuilder` in my design is one that encompases A, B, &amp; C, but you could have separate builders for each if you like.  This builder then is given to your `PipelineEngine` which uses the `Builder` to generate your results.\r\n\r\nAs this makes use of a Factory to provide the Builders, your idea above for a Factory remains in tact, replete with its caching mechanism.\r\n\r\nWith regard to your choice of `abstract` extension, you do have the choice of giving your `PipelineEngine` ownership of the heavy objects.  However, if you do go the `abstract` way, note that the shared fields that you have declared are `private` and therefore would not be available to your subclasses.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Builder_pattern\r\n  [2]: http://www.javaworld.com/javaworld/jw-08-2003/jw-0801-toolbox.html","title":"Architecture/Design of a pipeline-based system. How to improve this code?","body":"<p>The factory idea is good, as is the idea, if feasible, to encapsulate the A, B, &amp; C components into single classes for each language.  One thing that I would urge you to consider is to use <code>Interface</code> inheritance instead of <code>Class</code> inheritance.  You could then incorporate an engine that would do the <code>runPipeline</code> process for you.  This is similar to the <a href=\"http://en.wikipedia.org/wiki/Builder_pattern\" rel=\"nofollow noreferrer\">Builder/Director pattern</a>. The steps in this process would be as follows:</p>\n\n<ol>\n<li>get input</li>\n<li>use factory method to get correct interface (english/chinese)</li>\n<li>pass interface into your engine</li>\n<li>runPipeline and get result</li>\n</ol>\n\n<p>On the <code>extends</code> vs <code>implements</code> topic, <a href=\"http://www.javaworld.com/javaworld/jw-08-2003/jw-0801-toolbox.html\" rel=\"nofollow noreferrer\">Allen Holub goes a bit over the top</a> to explain the preference for <code>Interfaces</code>.</p>\n\n<hr>\n\n<p>Follow up to you comments:</p>\n\n<p>My interpretation of the application of the Builder pattern here would be that you have a <code>Factory</code> that would return a <code>PipelineBuilder</code>.  The <code>PipelineBuilder</code> in my design is one that encompases A, B, &amp; C, but you could have separate builders for each if you like.  This builder then is given to your <code>PipelineEngine</code> which uses the <code>Builder</code> to generate your results.</p>\n\n<p>As this makes use of a Factory to provide the Builders, your idea above for a Factory remains in tact, replete with its caching mechanism.</p>\n\n<p>With regard to your choice of <code>abstract</code> extension, you do have the choice of giving your <code>PipelineEngine</code> ownership of the heavy objects.  However, if you do go the <code>abstract</code> way, note that the shared fields that you have declared are <code>private</code> and therefore would not be available to your subclasses.</p>\n"}],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":1156788,"answer_count":3,"score":1,"last_activity_date":1674469090,"creation_date":1248065707,"question_id":1151756,"body_markdown":"I have a pipeline-based application that analyzes text in **different** languages (say, English and Chinese). My **goal** is to have a system that can work in both languages, in a **transparent** way. **NOTE**: This question is long because it has many simple code snippets.\r\n\r\nThe pipeline is composed of three components (let&#39;s call them A, B, and C), and I&#39;ve created them in the following way so that the components are not tightly coupled:\r\n\r\n    public class Pipeline {\r\n        private A componentA;\r\n        private B componentB;\r\n        private C componentC;\r\n   \r\n        // I really just need the language attribute of Locale,\r\n        // but I use it because it&#39;s useful to load language specific ResourceBundles.\r\n        public Pipeline(Locale locale) {\r\n            componentA = new A();\r\n            componentB = new B();\r\n            componentC = new C();\r\n        }\r\n    \r\n        public Output runPipeline(Input) {\r\n            Language lang = LanguageIdentifier.identify(Input);\r\n            //\r\n            ResultOfA resultA = componentA.doSomething(Input);\r\n            ResultOfB resultB = componentB.doSomethingElse(resultA); // uses result of A\r\n            return componentC.doFinal(resultA, resultB); // uses result of A and B\r\n        }\r\n    }\r\n\r\nNow, every component of the pipeline has something inside which is language specific. For example, in order to analyze Chinese text, I need one lib, and for analyzing English text, I need another different lib. \r\n\r\nMoreover, some tasks can be done in one language and cannot be done in the other. One solution to this problem is to make every pipeline component abstract (to implement some common methods), and then have a concrete language-specific implementation. Exemplifying with component A, I&#39;d have the following:\r\n\r\n    public abstract class A {\r\n        private CommonClass x;  // common to all languages\r\n        private AnotherCommonClass y; // common to all languages\r\n\r\n        abstract SomeTemporaryResult getTemp(input); // language specific\r\n        abstract AnotherTemporaryResult getAnotherTemp(input); // language specific\r\n\r\n        public ResultOfA doSomething(input) {\r\n              // template method\r\n              SomeTemporaryResult t = getTemp(input); // language specific\r\n              AnotherTemporaryResult tt = getAnotherTemp(input); // language specific\r\n              return ResultOfA(t, tt, x.get(), y.get());\r\n        }\r\n    }\r\n\r\n    public class EnglishA extends A {\r\n        private EnglishSpecificClass something;\r\n        // implementation of the abstract methods ... \r\n    }\r\n\r\nIn addition, since each pipeline component is very heavy and I need to reuse them, I thought of creating a **factory** that caches up the component for further use, using a map that uses the language as the key, like so (the other components would work in the same manner):\r\n\r\n    public Enum AFactory {\r\n        SINGLETON;\r\n        \r\n        private Map&lt;String, A&gt; cache; // this map will only have one or two keys, is there anything more efficient that I can use, instead of HashMap?\r\n        \r\n        public A getA(Locale locale) {\r\n            // lookup by locale.language, and insert if it doesn&#39;t exist, et cetera\r\n            return cache.get(locale.getLanguage());\r\n        }\r\n    }\r\n\r\nSo, my **question** is: What do you think of this design? How can it be **improved**? I need the &quot;transparency&quot; because the language can be changed dynamically, based on the text that it&#39;s being analyzed. As you can see from the `runPipeline` method, I first identify the language of the Input, and then, based on this, I need to change the pipeline components to the identified language. So, instead of invoking the components directly, maybe I should get them from the factory, like so:\r\n\r\n    public Output runPipeline(Input) {\r\n        Language lang = LanguageIdentifier.identify(Input);\r\n        ResultOfA resultA = AFactory.getA(lang).doSomething(Input);\r\n        ResultOfB resultB = BFactory.getB(lang).doSomethingElse(resultA);\r\n        return CFactory.getC(lang).doFinal(resultA, resultB);\r\n    }\r\n\r\nThank you for reading this far. I very much appreciate every suggestion that you can make on this question.","title":"Architecture/Design of a pipeline-based system. How to improve this code?","body":"<p>I have a pipeline-based application that analyzes text in <strong>different</strong> languages (say, English and Chinese). My <strong>goal</strong> is to have a system that can work in both languages, in a <strong>transparent</strong> way. <strong>NOTE</strong>: This question is long because it has many simple code snippets.</p>\n<p>The pipeline is composed of three components (let's call them A, B, and C), and I've created them in the following way so that the components are not tightly coupled:</p>\n<pre><code>public class Pipeline {\n    private A componentA;\n    private B componentB;\n    private C componentC;\n\n    // I really just need the language attribute of Locale,\n    // but I use it because it's useful to load language specific ResourceBundles.\n    public Pipeline(Locale locale) {\n        componentA = new A();\n        componentB = new B();\n        componentC = new C();\n    }\n\n    public Output runPipeline(Input) {\n        Language lang = LanguageIdentifier.identify(Input);\n        //\n        ResultOfA resultA = componentA.doSomething(Input);\n        ResultOfB resultB = componentB.doSomethingElse(resultA); // uses result of A\n        return componentC.doFinal(resultA, resultB); // uses result of A and B\n    }\n}\n</code></pre>\n<p>Now, every component of the pipeline has something inside which is language specific. For example, in order to analyze Chinese text, I need one lib, and for analyzing English text, I need another different lib.</p>\n<p>Moreover, some tasks can be done in one language and cannot be done in the other. One solution to this problem is to make every pipeline component abstract (to implement some common methods), and then have a concrete language-specific implementation. Exemplifying with component A, I'd have the following:</p>\n<pre><code>public abstract class A {\n    private CommonClass x;  // common to all languages\n    private AnotherCommonClass y; // common to all languages\n\n    abstract SomeTemporaryResult getTemp(input); // language specific\n    abstract AnotherTemporaryResult getAnotherTemp(input); // language specific\n\n    public ResultOfA doSomething(input) {\n          // template method\n          SomeTemporaryResult t = getTemp(input); // language specific\n          AnotherTemporaryResult tt = getAnotherTemp(input); // language specific\n          return ResultOfA(t, tt, x.get(), y.get());\n    }\n}\n\npublic class EnglishA extends A {\n    private EnglishSpecificClass something;\n    // implementation of the abstract methods ... \n}\n</code></pre>\n<p>In addition, since each pipeline component is very heavy and I need to reuse them, I thought of creating a <strong>factory</strong> that caches up the component for further use, using a map that uses the language as the key, like so (the other components would work in the same manner):</p>\n<pre><code>public Enum AFactory {\n    SINGLETON;\n    \n    private Map&lt;String, A&gt; cache; // this map will only have one or two keys, is there anything more efficient that I can use, instead of HashMap?\n    \n    public A getA(Locale locale) {\n        // lookup by locale.language, and insert if it doesn't exist, et cetera\n        return cache.get(locale.getLanguage());\n    }\n}\n</code></pre>\n<p>So, my <strong>question</strong> is: What do you think of this design? How can it be <strong>improved</strong>? I need the &quot;transparency&quot; because the language can be changed dynamically, based on the text that it's being analyzed. As you can see from the <code>runPipeline</code> method, I first identify the language of the Input, and then, based on this, I need to change the pipeline components to the identified language. So, instead of invoking the components directly, maybe I should get them from the factory, like so:</p>\n<pre><code>public Output runPipeline(Input) {\n    Language lang = LanguageIdentifier.identify(Input);\n    ResultOfA resultA = AFactory.getA(lang).doSomething(Input);\n    ResultOfB resultB = BFactory.getB(lang).doSomethingElse(resultA);\n    return CFactory.getC(lang).doFinal(resultA, resultB);\n}\n</code></pre>\n<p>Thank you for reading this far. I very much appreciate every suggestion that you can make on this question.</p>\n"},{"tags":["java","hana","eclipse-neon"],"answers":[{"tags":[],"owner":{"account_id":10455012,"reputation":217,"user_id":7707413,"display_name":"Abdel Dadouche"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531219149,"creation_date":1531219149,"answer_id":51263116,"question_id":51231508,"body_markdown":"If your computer is behind a proxy and you get this type of error, this is most likely due to the current Eclipse proxy configuration being set to **Direct** in **Windows -&gt; Preferences -&gt; General -&gt; Network Connections -&gt; Active Provider**.\r\n\r\nIf your proxy is configured at the system level (in the **Windows Setting -&gt; Network &amp; Internet -&gt; Proxy**), then you should be able to set the **Active Provider** to **Native**.\r\n\r\nIf this still fails, you can set the **Active Provider** to **Manual** and fill the details for each connection type.\r\n\r\nWhen using either **Direct** or **Native**, the entries for HTTP, HTTPS and SOCKS will be read only. Only the **Manual** option allows to enter the details for each connection type.\r\n\r\nHowever, as far as I know only HTTP/HTTPS are used by the Eclipse software update feature.\r\n\r\n\r\n&gt;If you need to get your proxy details, the Chrome browser provide a way to get your current proxy config when accessing the following url: `chrome://net-internals/#proxy` (but there are many alternative options to get the proxy details)","title":"Unable to install SAP Cloud HANA tools in Eclipse Neon 3","body":"<p>If your computer is behind a proxy and you get this type of error, this is most likely due to the current Eclipse proxy configuration being set to <strong>Direct</strong> in <strong>Windows -> Preferences -> General -> Network Connections -> Active Provider</strong>.</p>\n\n<p>If your proxy is configured at the system level (in the <strong>Windows Setting -> Network &amp; Internet -> Proxy</strong>), then you should be able to set the <strong>Active Provider</strong> to <strong>Native</strong>.</p>\n\n<p>If this still fails, you can set the <strong>Active Provider</strong> to <strong>Manual</strong> and fill the details for each connection type.</p>\n\n<p>When using either <strong>Direct</strong> or <strong>Native</strong>, the entries for HTTP, HTTPS and SOCKS will be read only. Only the <strong>Manual</strong> option allows to enter the details for each connection type.</p>\n\n<p>However, as far as I know only HTTP/HTTPS are used by the Eclipse software update feature.</p>\n\n<blockquote>\n  <p>If you need to get your proxy details, the Chrome browser provide a way to get your current proxy config when accessing the following url: <code>chrome://net-internals/#proxy</code> (but there are many alternative options to get the proxy details)</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":244435,"reputation":675,"user_id":3016392,"accept_rate":40,"display_name":"Vinod Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531304700,"creation_date":1531304700,"answer_id":51283078,"question_id":51231508,"body_markdown":"I found solution to it. There was some version issue in the plugins so what I did to resolve this issue is by deleting .eclipse folder which is located at c:\\users\\&lt;userid&gt;\\.**eclipse**.\r\n\r\nIt resolved my problem.","title":"Unable to install SAP Cloud HANA tools in Eclipse Neon 3","body":"<p>I found solution to it. There was some version issue in the plugins so what I did to resolve this issue is by deleting .eclipse folder which is located at c:\\users\\.<strong>eclipse</strong>.</p>\n\n<p>It resolved my problem.</p>\n"}],"owner":{"account_id":244435,"reputation":675,"user_id":3016392,"accept_rate":40,"display_name":"Vinod Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1402,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674469017,"creation_date":1531049124,"question_id":51231508,"body_markdown":"I&#39;m trying to install the SAP HANA Tools (https://tools.hana.ondemand.com/neon) in Eclipse Neon 3 using the path **Eclipse -&gt; Help -&gt; Install New Software** and adding this link. \r\n\r\nPlease refer attached screenshots.\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhen I check the &#39;SAP HANA Tools&#39; from the list and click on &#39;Next&#39; button in Eclipse, I get nothing...the Eclipse starts saying **&quot;Cannot perform operation. Computing alternate solutions..&quot;** in the end it fails. This always happens when I&#39;m trying to install tools in Office network. \r\n\r\nI believe this is something to do with Proxy in office network. I tried setting the proxy configuration in Eclipse as well like **Eclipse -&gt; Windows -&gt; Preferences -&gt; Network Connections -&gt; Action Provider to Manual and HTTP/HTTPS** but still getting the same error.\r\n\r\nI can easily install SAP HANA Tools in my personal laptop in home network but not in office network. Please assist to suggest me what could be the root cause as I tried really hard to figure it out but nothing worked. `\r\n\r\nAlso would like to know in my Eclipse Neon 3 (in office laptop), in proxy entries, `SOCKS` is continued to be checked along with `HTTP` and `HTTPS`. Is this the reason behind it? How can I uncheck `SOCKS` but not `HTTP` &amp; `HTTPS`? I tried unchecking SOCKS but nothing worked.\r\n\r\n  [1]: https://i.stack.imgur.com/o48bM.png\r\n  [2]: https://i.stack.imgur.com/blRmD.png\r\n  [3]: https://i.stack.imgur.com/WTLQ8.png\r\n","title":"Unable to install SAP Cloud HANA tools in Eclipse Neon 3","body":"<p>I'm trying to install the SAP HANA Tools (<a href=\"https://tools.hana.ondemand.com/neon\" rel=\"nofollow noreferrer\">https://tools.hana.ondemand.com/neon</a>) in Eclipse Neon 3 using the path <strong>Eclipse -&gt; Help -&gt; Install New Software</strong> and adding this link.</p>\n<p>Please refer attached screenshots.\n<a href=\"https://i.stack.imgur.com/o48bM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o48bM.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/blRmD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/blRmD.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/WTLQ8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WTLQ8.png\" alt=\"enter image description here\" /></a></p>\n<p>When I check the 'SAP HANA Tools' from the list and click on 'Next' button in Eclipse, I get nothing...the Eclipse starts saying <strong>&quot;Cannot perform operation. Computing alternate solutions..&quot;</strong> in the end it fails. This always happens when I'm trying to install tools in Office network.</p>\n<p>I believe this is something to do with Proxy in office network. I tried setting the proxy configuration in Eclipse as well like <strong>Eclipse -&gt; Windows -&gt; Preferences -&gt; Network Connections -&gt; Action Provider to Manual and HTTP/HTTPS</strong> but still getting the same error.</p>\n<p>I can easily install SAP HANA Tools in my personal laptop in home network but not in office network. Please assist to suggest me what could be the root cause as I tried really hard to figure it out but nothing worked. `</p>\n<p>Also would like to know in my Eclipse Neon 3 (in office laptop), in proxy entries, <code>SOCKS</code> is continued to be checked along with <code>HTTP</code> and <code>HTTPS</code>. Is this the reason behind it? How can I uncheck <code>SOCKS</code> but not <code>HTTP</code> &amp; <code>HTTPS</code>? I tried unchecking SOCKS but nothing worked.</p>\n"},{"tags":["java","rounding"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":18,"up_vote_count":6,"is_accepted":false,"score":-12,"last_activity_date":1316987948,"creation_date":1316987220,"answer_id":7548850,"question_id":7548841,"body_markdown":"I usually don&#39;t round the *number* itself but round the String representation of the number when I need to display it because usually it&#39;s the display that matters, that needs the rounding (although this may not be true in situations, and perhaps yours, but you need to elaborate on this if so).  This way, my number retains its accuracy, but it&#39;s display is simplified and easier to read. To do this, one can use a DecimalFormat object, say initialzed with a &quot;0.000&quot; String (`new DecimalFormat(&quot;0.000&quot;)`), or use `String.format(&quot;%.3f&quot;, myDouble)`, or several other ways.\r\n\r\nFor example:\r\n\r\n    // yeah, I know this is just Math.PI.\r\n    double myDouble = 3.141592653589793;\r\n    DecimalFormat myFormat = new DecimalFormat(&quot;0.000&quot;);\r\n    String myDoubleString = myFormat.format(myDouble);\r\n    System.out.println(&quot;My number is: &quot; + myDoubleString);\r\n\r\n    // or you can use printf which works like String.format:\r\n    System.out.printf(&quot;My number is: %.3f%n&quot;, myDouble);\r\n","title":"Round a double to 3 significant figures","body":"<p>I usually don't round the <em>number</em> itself but round the String representation of the number when I need to display it because usually it's the display that matters, that needs the rounding (although this may not be true in situations, and perhaps yours, but you need to elaborate on this if so).  This way, my number retains its accuracy, but it's display is simplified and easier to read. To do this, one can use a DecimalFormat object, say initialzed with a \"0.000\" String (<code>new DecimalFormat(\"0.000\")</code>), or use <code>String.format(\"%.3f\", myDouble)</code>, or several other ways.</p>\n\n<p>For example:</p>\n\n<pre><code>// yeah, I know this is just Math.PI.\ndouble myDouble = 3.141592653589793;\nDecimalFormat myFormat = new DecimalFormat(\"0.000\");\nString myDoubleString = myFormat.format(myDouble);\nSystem.out.println(\"My number is: \" + myDoubleString);\n\n// or you can use printf which works like String.format:\nSystem.out.printf(\"My number is: %.3f%n\", myDouble);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25066,"reputation":66292,"user_id":64174,"accept_rate":100,"display_name":"Sean Owen"},"down_vote_count":1,"up_vote_count":80,"is_accepted":true,"score":79,"last_activity_date":1316987495,"creation_date":1316987495,"answer_id":7548871,"question_id":7548841,"body_markdown":"    double d = ...;\r\n    BigDecimal bd = new BigDecimal(d);\r\n    bd = bd.round(new MathContext(3));\r\n    double rounded = bd.doubleValue();","title":"Round a double to 3 significant figures","body":"<pre><code>double d = ...;\nBigDecimal bd = new BigDecimal(d);\nbd = bd.round(new MathContext(3));\ndouble rounded = bd.doubleValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":6,"up_vote_count":3,"is_accepted":false,"score":-3,"last_activity_date":1317118863,"creation_date":1317033480,"answer_id":7553827,"question_id":7548841,"body_markdown":"&gt; how I can round a double value to 3 significant figures\r\n\r\nYou can&#39;t. Doubles are representing in binary. They do not have decimal places to be rounded to. The only way you can get a specific number of decimal places is to convert it to a decimal radix *and leave it there.* The moment you convert it back to double you have lost the decimal precision again.\r\n\r\nFor all the fans, here and elsewhere, of converting to other radixes and back, or multiplying and dividing by powers of ten, please display the resulting double value % 0.001 or whatever the required precision dictates, and explain the result.\r\n\r\nEDIT: Specifically, the proponents of those techniques need to explain the 92% failure rate of the following code:\r\n\r\n    public class RoundingCounterExample\r\n    {\r\n    \tstatic float roundOff(float x, int position)\r\n    \t{\r\n    \t\tfloat a = x;\r\n    \t\tdouble temp = Math.pow(10.0, position);\r\n    \t\ta *= temp;\r\n    \t\ta = Math.round(a);\r\n    \t\treturn (a / (float)temp);\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tfloat a = roundOff(0.0009434f,3);\r\n    \t\tSystem.out.println(&quot;a=&quot;+a+&quot; (a % .0001)=&quot;+(a % 0.001));\r\n    \t\tint count = 0, errors = 0;\r\n    \t\tfor (double x = 0.0; x &lt; 1; x += 0.0001)\r\n    \t\t{\r\n    \t\t\tcount++;\r\n    \t\t\tdouble d = x;\r\n    \t\t\tint scale = 2;\r\n    \t\t\tdouble factor = Math.pow(10, scale);\r\n    \t\t\td = Math.round(d * factor) / factor;\r\n    \t\t\tif ((d % 0.01) != 0.0)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(d + &quot; &quot; + (d % 0.01));\r\n    \t\t\t\terrors++;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(count + &quot; trials &quot; + errors + &quot; errors&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"Round a double to 3 significant figures","body":"<blockquote>\n  <p>how I can round a double value to 3 significant figures</p>\n</blockquote>\n\n<p>You can't. Doubles are representing in binary. They do not have decimal places to be rounded to. The only way you can get a specific number of decimal places is to convert it to a decimal radix <em>and leave it there.</em> The moment you convert it back to double you have lost the decimal precision again.</p>\n\n<p>For all the fans, here and elsewhere, of converting to other radixes and back, or multiplying and dividing by powers of ten, please display the resulting double value % 0.001 or whatever the required precision dictates, and explain the result.</p>\n\n<p>EDIT: Specifically, the proponents of those techniques need to explain the 92% failure rate of the following code:</p>\n\n<pre><code>public class RoundingCounterExample\n{\n    static float roundOff(float x, int position)\n    {\n        float a = x;\n        double temp = Math.pow(10.0, position);\n        a *= temp;\n        a = Math.round(a);\n        return (a / (float)temp);\n    }\n\n    public static void main(String[] args)\n    {\n        float a = roundOff(0.0009434f,3);\n        System.out.println(\"a=\"+a+\" (a % .0001)=\"+(a % 0.001));\n        int count = 0, errors = 0;\n        for (double x = 0.0; x &lt; 1; x += 0.0001)\n        {\n            count++;\n            double d = x;\n            int scale = 2;\n            double factor = Math.pow(10, scale);\n            d = Math.round(d * factor) / factor;\n            if ((d % 0.01) != 0.0)\n            {\n                System.out.println(d + \" \" + (d % 0.01));\n                errors++;\n            }\n        }\n        System.out.println(count + \" trials \" + errors + \" errors\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1209619,"reputation":480,"user_id":1178424,"accept_rate":60,"display_name":"heights1976"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1454624022,"creation_date":1454624022,"answer_id":35212687,"question_id":7548841,"body_markdown":"    \tpublic String toSignificantFiguresString(BigDecimal bd, int significantFigures ){\r\n\t    String test = String.format(&quot;%.&quot;+significantFigures+&quot;G&quot;, bd);\r\n\t    if (test.contains(&quot;E+&quot;)){\r\n\t    \ttest = String.format(Locale.US, &quot;%.0f&quot;, Double.valueOf(String.format(&quot;%.&quot;+significantFigures+&quot;G&quot;, bd)));\r\n\t    }\r\n\t    return test;\r\n\t}\r\n","title":"Round a double to 3 significant figures","body":"<pre><code>    public String toSignificantFiguresString(BigDecimal bd, int significantFigures ){\n    String test = String.format(\"%.\"+significantFigures+\"G\", bd);\n    if (test.contains(\"E+\")){\n        test = String.format(Locale.US, \"%.0f\", Double.valueOf(String.format(\"%.\"+significantFigures+\"G\", bd)));\n    }\n    return test;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3497823,"reputation":1349,"user_id":2925434,"accept_rate":83,"display_name":"awwsmm"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1510237560,"creation_date":1508339836,"answer_id":46813655,"question_id":7548841,"body_markdown":"If you want to do it by hand:\r\n\r\n    import java.lang.Math;\r\n\r\n    public class SigDig {\r\n\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;   -123.456   rounded up   to 2 sig figures is &quot; + sigDigRounder(-123.456, 2,  1));\r\n        System.out.println(&quot;     -0.03394 rounded down to 3 sig figures is &quot; + sigDigRounder(-0.03394, 3, -1));\r\n        System.out.println(&quot;    474       rounded up   to 2 sig figures is &quot; + sigDigRounder(474, 2,  1));\r\n        System.out.println(&quot;3004001       rounded down to 4 sig figures is &quot; + sigDigRounder(3004001, 4, -1));\r\n      }\r\n    \r\n      public static double sigDigRounder(double value, int nSigDig, int dir) {\r\n\r\n        double intermediate = value/Math.pow(10,Math.floor(Math.log10(Math.abs(value)))-(nSigDig-1));\r\n\r\n        if(dir &gt; 0)      intermediate = Math.ceil(intermediate);\r\n        else if (dir&lt; 0) intermediate = Math.floor(intermediate);\r\n        else             intermediate = Math.round(intermediate);\r\n\r\n        double result = intermediate * Math.pow(10,Math.floor(Math.log10(Math.abs(value)))-(nSigDig-1));\r\n    \r\n        return(result);\r\n    \r\n      }\r\n    }\r\n\r\nThe above method rounds a double to a desired number of significant figures, handles negative numbers, and can be explicitly told to round up or down","title":"Round a double to 3 significant figures","body":"<p>If you want to do it by hand:</p>\n\n<pre><code>import java.lang.Math;\n\npublic class SigDig {\n\n  public static void main(String[] args) {\n    System.out.println(\"   -123.456   rounded up   to 2 sig figures is \" + sigDigRounder(-123.456, 2,  1));\n    System.out.println(\"     -0.03394 rounded down to 3 sig figures is \" + sigDigRounder(-0.03394, 3, -1));\n    System.out.println(\"    474       rounded up   to 2 sig figures is \" + sigDigRounder(474, 2,  1));\n    System.out.println(\"3004001       rounded down to 4 sig figures is \" + sigDigRounder(3004001, 4, -1));\n  }\n\n  public static double sigDigRounder(double value, int nSigDig, int dir) {\n\n    double intermediate = value/Math.pow(10,Math.floor(Math.log10(Math.abs(value)))-(nSigDig-1));\n\n    if(dir &gt; 0)      intermediate = Math.ceil(intermediate);\n    else if (dir&lt; 0) intermediate = Math.floor(intermediate);\n    else             intermediate = Math.round(intermediate);\n\n    double result = intermediate * Math.pow(10,Math.floor(Math.log10(Math.abs(value)))-(nSigDig-1));\n\n    return(result);\n\n  }\n}\n</code></pre>\n\n<p>The above method rounds a double to a desired number of significant figures, handles negative numbers, and can be explicitly told to round up or down</p>\n"},{"tags":[],"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1571432561,"creation_date":1571418051,"answer_id":58455258,"question_id":7548841,"body_markdown":"There&#39;s nothing wrong with the answer given by Sean Owen (https://stackoverflow.com/a/7548871/274677). However depending on your use case you might want to arrive at a String representation. In that case, IMO it is best to convert while still in BigDecimal space using:\r\n\r\n    bd.toPlainString();\r\n\r\n... if that&#39;s your use case then you might be frustrated that the code adapted from Owen&#39;s answer will produce the following:\r\n\r\n    d = 0.99, significantDigits = 3 ==&gt; 0.99\r\n\r\n... instead of the strictly more accurate `0.990`.\r\n\r\nIf such things are important in your use case then I suggest the following adaptation to Owen&#39;s answer ; you can obviously also return the BigDecimal itself instead of calling `toPlainString()` &amp;mdash; I just provide it this way for completeness.\r\n\r\n    public static String setSignificanDigits(double value, int significantDigits) {\r\n        if (significantDigits &lt; 0) throw new IllegalArgumentException();\r\n\r\n        // this is more precise than simply doing &quot;new BigDecimal(value);&quot;\r\n        BigDecimal bd = new BigDecimal(value, MathContext.DECIMAL64);\r\n        bd = bd.round(new MathContext(significantDigits, RoundingMode.HALF_UP));\r\n        final int precision = bd.precision();\r\n        if (precision &lt; significantDigits)\r\n        bd = bd.setScale(bd.scale() + (significantDigits-precision));\r\n        return bd.toPlainString();\r\n    }    \r\n","title":"Round a double to 3 significant figures","body":"<p>There's nothing wrong with the answer given by Sean Owen (<a href=\"https://stackoverflow.com/a/7548871/274677\">https://stackoverflow.com/a/7548871/274677</a>). However depending on your use case you might want to arrive at a String representation. In that case, IMO it is best to convert while still in BigDecimal space using:</p>\n\n<pre><code>bd.toPlainString();\n</code></pre>\n\n<p>... if that's your use case then you might be frustrated that the code adapted from Owen's answer will produce the following:</p>\n\n<pre><code>d = 0.99, significantDigits = 3 ==&gt; 0.99\n</code></pre>\n\n<p>... instead of the strictly more accurate <code>0.990</code>.</p>\n\n<p>If such things are important in your use case then I suggest the following adaptation to Owen's answer ; you can obviously also return the BigDecimal itself instead of calling <code>toPlainString()</code> &mdash; I just provide it this way for completeness.</p>\n\n<pre><code>public static String setSignificanDigits(double value, int significantDigits) {\n    if (significantDigits &lt; 0) throw new IllegalArgumentException();\n\n    // this is more precise than simply doing \"new BigDecimal(value);\"\n    BigDecimal bd = new BigDecimal(value, MathContext.DECIMAL64);\n    bd = bd.round(new MathContext(significantDigits, RoundingMode.HALF_UP));\n    final int precision = bd.precision();\n    if (precision &lt; significantDigits)\n    bd = bd.setScale(bd.scale() + (significantDigits-precision));\n    return bd.toPlainString();\n}    \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17879640,"reputation":79,"user_id":12988797,"display_name":"Gaurav Verma"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1640759804,"creation_date":1640759804,"answer_id":70515926,"question_id":7548841,"body_markdown":"\r\ndouble d=3.142568;\r\nSystem.out.printf(&quot;Answer : %.3f&quot;, d);","title":"Round a double to 3 significant figures","body":"<p>double d=3.142568;\nSystem.out.printf(&quot;Answer : %.3f&quot;, d);</p>\n"}],"owner":{"account_id":114811,"reputation":1718,"user_id":301757,"accept_rate":83,"display_name":"mh377"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60913,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":7548871,"answer_count":7,"score":28,"last_activity_date":1674468461,"creation_date":1316987080,"question_id":7548841,"body_markdown":"Does anybody know how I can round a double value to 3 significant figures like the examples on this website\r\n\r\nhttp://www.purplemath.com/modules/rounding2.htm\r\n\r\nNote: significant figures are not the same as decimal places","title":"Round a double to 3 significant figures","body":"<p>Does anybody know how I can round a double value to 3 significant figures like the examples on this website</p>\n<p><a href=\"http://www.purplemath.com/modules/rounding2.htm\" rel=\"nofollow noreferrer\">http://www.purplemath.com/modules/rounding2.htm</a></p>\n<p>Note: significant figures are not the same as decimal places</p>\n"},{"tags":["java","annotations","aop","aspectj","aspectj-maven-plugin"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1674664547,"post_id":75204450,"comment_id":132764105,"body_markdown":"It is absolutely impossible that the code you posted here does anything meaningful, because it is full of both syntax errors and logical errors. For example, your `NavigationBar` constructor has one `class` keyword too many. And all your aspect advices have a method parameter which is not bound in your pointcut. Like this, the aspects will not do anything. Please edit your sample code in order to be a full, minimal example reproducing your problem, not just pseudo code. Then I will be happy to help you. Thank you.","body":"It is absolutely impossible that the code you posted here does anything meaningful, because it is full of both syntax errors and logical errors. For example, your <code>NavigationBar</code> constructor has one <code>class</code> keyword too many. And all your aspect advices have a method parameter which is not bound in your pointcut. Like this, the aspects will not do anything. Please edit your sample code in order to be a full, minimal example reproducing your problem, not just pseudo code. Then I will be happy to help you. Thank you."}],"owner":{"account_id":10126809,"reputation":15,"user_id":7481823,"display_name":"gamelover"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674468455,"creation_date":1674427667,"question_id":75204450,"body_markdown":"I have two different aspects in my Selenium test automation project and I am using load time weaving with AspectJ. Both aspects run fine when running under test methods in that class.\r\n\r\nThe case where `AspectA` running on `@Before(&quot;@annotation(ChangeToIFrameA)&quot;)` on a `method1` that is under a `method0` that is already annotated with `@Before` class it overrides the second aspect call `AspectB` on `method2` that is called under `method1`.\r\n\r\nAspect A class\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.stackoverfow.FrameHandling;\r\n    @Aspect\r\n    public class AspectA {\r\n    \r\n        @Before(&quot;@annotation(com.stackoverfow.FrameHandling.ChangeToIFrameA)&quot;)\r\n        public void switchIFrameA(WebDriver driver)) {\r\n          driver.switchTo().frame(&quot;IFrameA name&quot;);   \r\n        }\r\n    }\r\n\r\nCustom Annotated class for Aspect A to run\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.stackoverfow.FrameHandling;\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Documented\r\n    public @interface ChangeToIFrameA {\r\n    }\r\n\r\nAspect B class\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.stackoverfow.FrameHandling;\r\n    @Aspect\r\n    public class AspectB {\r\n        \r\n        @Before(&quot;execution(com.stackoverfow.NavigationBar.*(..))&quot;)\r\n        public void switchIFrameB(WebDriver driver)) {\r\n          driver.switchTo().frame(&quot;IFrameB name&quot;);   \r\n        }\r\n        \r\n      \r\n        @After(&quot;execution(com.stackoverfow.NavigationBar.*(..))&quot;)\r\n        public void switchIFrameA(WebDriver driver)) {\r\n          driver.switchTo().frame(&quot;IFrameA name&quot;);   \r\n        }\r\n    }\r\n\r\nNavigation Bar Class\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.stackoverfow.Navigation;\r\n    class NavigationBar{\r\n    \r\n    class NavigationBar(){}\r\n    \r\n    public void goToHomePage(){\r\n      //Navigates to Home Page\r\n    }\r\n    \r\n    public void goToHelpPage(){\r\n      //Navigates to Help Page\r\n    }\r\n    \r\n    public void goToUserAccount(){\r\n      //Navigates to User Account Page\r\n    }\r\n    \r\n    }\r\n\r\nTest Class that uses TestNG\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    package com.stackoverfow.NavigationTests;\r\n    public class AppBasicTests {\r\n    \r\n    @BeforeClass(alwaysRun = true)\r\n        public void login(ITestContext context) {\r\n            //logs into the application\r\n            takeCareOfNavigationToHomePage();\r\n        }\r\n    \r\n     @BeforeMethod(alwaysRun = true)\r\n        public void openSecondTab(ITestContext context) {\r\n            //Open a new tab\r\n        }\r\n    \r\n    @AfterMethod(alwaysRun = true)\r\n        public void closeSecondTab() {\r\n            //closes the secondary tab\r\n        }\r\n    \r\n    @AfterClass(alwaysRun = true)\r\n        public void logout() {\r\n            //logs out from the app\r\n        }\r\n    \r\n    //Annotated to private method that is called inside login() method which is annotated by @Before class\r\n    @ChangeToIFrameA       \r\n    private void takeCareOfNavigationToHomePage(){\r\n             NavigationBar navigationBar = new NavigationBar();\r\n              navigationBar.goToHomePage();// Assuming AspectB runs before and after this method call for switching frames\r\n    }\r\n    \r\n    //Assuming it switches to FrameA before running the test\r\n    \r\n    @ChangeToIFrameA         \r\n    @Test(enabled = true)\r\n    public void testNavigation(){\r\n          \r\n          NavigationBar navigationBar = new NavigationBar();\r\n          navigationBar.goToHelpPage();// Assuming AspectB runs \r\n          before and after this method call for switching frames\r\n        }\r\n    }\r\n\r\naop.xml\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;aspectj&gt;\r\n        &lt;aspects&gt;\r\n            &lt;aspect name=&quot;com.stackoverfow.FrameHandling.AspectA&quot;/&gt;\r\n        &lt;/aspects&gt;\r\n        &lt;aspects&gt;\r\n            &lt;aspect name=&quot;com.stackoverfow.FrameHandling.AspectB&quot;/&gt;\r\n        &lt;/aspects&gt;\r\n    &lt;/aspectj&gt;\r\n\r\npom.xml \r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;UiTestAutomation&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \t&lt;name&gt;UiTestAutomation&lt;/name&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;!-- Maven Plugins --&gt;\r\n    \t\t&lt;maven-compiler-version&gt;3.6.0&lt;/maven-compiler-version&gt;\r\n    \t\t&lt;maven-surefire-version&gt;2.22.2&lt;/maven-surefire-version&gt;\r\n    \t\t&lt;selenium-version&gt;3.14.0&lt;/selenium-version&gt;\r\n            &lt;testng-version&gt;7.4.0&lt;/testng-version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;build&gt;\r\n    \t\t\t&lt;plugins&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${maven-compiler-version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t\t\t&lt;useIncrementalCompilation&gt;${useIncrementalCompilation} &lt;/useIncrementalCompilation&gt;\r\n    \t\t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;${maven-surefire-version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t\t&lt;argLine&gt;-javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/1.9.8/aspectjweaver-1.9.8.jar&quot;&lt;/argLine&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                                 &lt;/execution&gt;\r\n                     &lt;/executions&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;1.9.8&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t\t\t&lt;plugin&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n    \t\t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencyManagement&gt;\r\n         &lt;/dependencies&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${htmlunit-version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${selenium-version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;${testng-version}&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\r\n    \t\t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;1.9.8&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n                 &lt;dependency&gt;\r\n                         &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                         &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                         &lt;version&gt;1.9.5&lt;/version&gt;\r\n                         &lt;scope&gt;runtime&lt;/scope&gt;\r\n                     &lt;/dependency&gt;\r\n    \t\t&lt;/dependencies&gt;\r\n    \t&lt;/dependencyManagement&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nHere `AspectA` runs fine on method `testNavigation()`\r\n\r\n`AspectB` runs fine on inner method call of `NavigationBar.goToHelpPage()` that is present under `testNavigation()` method.\r\n\r\nWhen private method `takeCareOfNavigationToHomePage()` that is annotated  `@ChangeToIFrameA` is called `AspectA` runs on that method and during the inner method call `NavigationBar.goToHomePage()` again `AspectA` is called instead of `AspectB`. `AspectA` call happens twice looks like an overriding is happen. \r\n\r\nI see its happening because the private method `takeCareOfNavigationToHomePage` is called under login method that is already annotated with TestNG annotation `@BeforeClass`. Any idea how to overcome this? Please suggest a solution.\r\n","title":"Avoid aspects overriding in AspectJ","body":"<p>I have two different aspects in my Selenium test automation project and I am using load time weaving with AspectJ. Both aspects run fine when running under test methods in that class.</p>\n<p>The case where <code>AspectA</code> running on <code>@Before(&quot;@annotation(ChangeToIFrameA)&quot;)</code> on a <code>method1</code> that is under a <code>method0</code> that is already annotated with <code>@Before</code> class it overrides the second aspect call <code>AspectB</code> on <code>method2</code> that is called under <code>method1</code>.</p>\n<p>Aspect A class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverfow.FrameHandling;\n@Aspect\npublic class AspectA {\n\n    @Before(&quot;@annotation(com.stackoverfow.FrameHandling.ChangeToIFrameA)&quot;)\n    public void switchIFrameA(WebDriver driver)) {\n      driver.switchTo().frame(&quot;IFrameA name&quot;);   \n    }\n}\n</code></pre>\n<p>Custom Annotated class for Aspect A to run</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverfow.FrameHandling;\n@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface ChangeToIFrameA {\n}\n</code></pre>\n<p>Aspect B class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverfow.FrameHandling;\n@Aspect\npublic class AspectB {\n    \n    @Before(&quot;execution(com.stackoverfow.NavigationBar.*(..))&quot;)\n    public void switchIFrameB(WebDriver driver)) {\n      driver.switchTo().frame(&quot;IFrameB name&quot;);   \n    }\n    \n  \n    @After(&quot;execution(com.stackoverfow.NavigationBar.*(..))&quot;)\n    public void switchIFrameA(WebDriver driver)) {\n      driver.switchTo().frame(&quot;IFrameA name&quot;);   \n    }\n}\n</code></pre>\n<p>Navigation Bar Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverfow.Navigation;\nclass NavigationBar{\n\nclass NavigationBar(){}\n\npublic void goToHomePage(){\n  //Navigates to Home Page\n}\n\npublic void goToHelpPage(){\n  //Navigates to Help Page\n}\n\npublic void goToUserAccount(){\n  //Navigates to User Account Page\n}\n\n}\n</code></pre>\n<p>Test Class that uses TestNG</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.stackoverfow.NavigationTests;\npublic class AppBasicTests {\n\n@BeforeClass(alwaysRun = true)\n    public void login(ITestContext context) {\n        //logs into the application\n        takeCareOfNavigationToHomePage();\n    }\n\n @BeforeMethod(alwaysRun = true)\n    public void openSecondTab(ITestContext context) {\n        //Open a new tab\n    }\n\n@AfterMethod(alwaysRun = true)\n    public void closeSecondTab() {\n        //closes the secondary tab\n    }\n\n@AfterClass(alwaysRun = true)\n    public void logout() {\n        //logs out from the app\n    }\n\n//Annotated to private method that is called inside login() method which is annotated by @Before class\n@ChangeToIFrameA       \nprivate void takeCareOfNavigationToHomePage(){\n         NavigationBar navigationBar = new NavigationBar();\n          navigationBar.goToHomePage();// Assuming AspectB runs before and after this method call for switching frames\n}\n\n//Assuming it switches to FrameA before running the test\n\n@ChangeToIFrameA         \n@Test(enabled = true)\npublic void testNavigation(){\n      \n      NavigationBar navigationBar = new NavigationBar();\n      navigationBar.goToHelpPage();// Assuming AspectB runs \n      before and after this method call for switching frames\n    }\n}\n</code></pre>\n<p>aop.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;aspectj&gt;\n    &lt;aspects&gt;\n        &lt;aspect name=&quot;com.stackoverfow.FrameHandling.AspectA&quot;/&gt;\n    &lt;/aspects&gt;\n    &lt;aspects&gt;\n        &lt;aspect name=&quot;com.stackoverfow.FrameHandling.AspectB&quot;/&gt;\n    &lt;/aspects&gt;\n&lt;/aspectj&gt;\n</code></pre>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.stackoverflow&lt;/groupId&gt;\n    &lt;artifactId&gt;UiTestAutomation&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;name&gt;UiTestAutomation&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;!-- Maven Plugins --&gt;\n        &lt;maven-compiler-version&gt;3.6.0&lt;/maven-compiler-version&gt;\n        &lt;maven-surefire-version&gt;2.22.2&lt;/maven-surefire-version&gt;\n        &lt;selenium-version&gt;3.14.0&lt;/selenium-version&gt;\n        &lt;testng-version&gt;7.4.0&lt;/testng-version&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-compiler-version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;source&gt;1.8&lt;/source&gt;\n                        &lt;target&gt;1.8&lt;/target&gt;\n                        &lt;useIncrementalCompilation&gt;${useIncrementalCompilation} &lt;/useIncrementalCompilation&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;${maven-surefire-version}&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;argLine&gt;-javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/1.9.8/aspectjweaver-1.9.8.jar&quot;&lt;/argLine&gt;\n                &lt;/configuration&gt;\n                 &lt;executions&gt;\n                            &lt;execution&gt;\n                            &lt;phase&gt;process-sources&lt;/phase&gt;\n                             &lt;/execution&gt;\n                 &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;1.9.8&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-report-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencyManagement&gt;\n     &lt;/dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n                &lt;version&gt;${selenium-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-firefox-driver&lt;/artifactId&gt;\n                &lt;version&gt;${selenium-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-htmlunit-driver&lt;/artifactId&gt;\n                &lt;version&gt;${htmlunit-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n                &lt;artifactId&gt;selenium-support&lt;/artifactId&gt;\n                &lt;version&gt;${selenium-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;dependency&gt;\n                &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;version&gt;${testng-version}&lt;/version&gt;\n            &lt;/dependency&gt;\n            \n            &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjrt --&gt;\n                        &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;1.9.8&lt;/version&gt;\n                    &lt;/dependency&gt;\n             &lt;dependency&gt;\n                     &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                     &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                     &lt;version&gt;1.9.5&lt;/version&gt;\n                     &lt;scope&gt;runtime&lt;/scope&gt;\n                 &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Here <code>AspectA</code> runs fine on method <code>testNavigation()</code></p>\n<p><code>AspectB</code> runs fine on inner method call of <code>NavigationBar.goToHelpPage()</code> that is present under <code>testNavigation()</code> method.</p>\n<p>When private method <code>takeCareOfNavigationToHomePage()</code> that is annotated  <code>@ChangeToIFrameA</code> is called <code>AspectA</code> runs on that method and during the inner method call <code>NavigationBar.goToHomePage()</code> again <code>AspectA</code> is called instead of <code>AspectB</code>. <code>AspectA</code> call happens twice looks like an overriding is happen.</p>\n<p>I see its happening because the private method <code>takeCareOfNavigationToHomePage</code> is called under login method that is already annotated with TestNG annotation <code>@BeforeClass</code>. Any idea how to overcome this? Please suggest a solution.</p>\n"},{"tags":["java","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674468178,"creation_date":1674466135,"answer_id":75207594,"question_id":75205865,"body_markdown":"Problem was my implementation of `allPrimes` here&#39;s the fixed version\r\n\r\n    public Flux&lt;Integer&gt; allPrimes(int low, int high) {\r\n        return Flux.range(low, high - low)\r\n                .flatMap(it -&gt;\r\n                        isPrime(it).flatMap(result -&gt;\r\n                                result == 1 ? Mono.just(it) : Mono.empty()))\r\n                .doOnNext(m -&gt; System.out.println(&quot;Publishing new prime &quot; + m + &quot; for range &quot; + low + &quot;-&quot; + high));\r\n    }","title":"creating a flux from a method returning mono","body":"<p>Problem was my implementation of <code>allPrimes</code> here's the fixed version</p>\n<pre><code>public Flux&lt;Integer&gt; allPrimes(int low, int high) {\n    return Flux.range(low, high - low)\n            .flatMap(it -&gt;\n                    isPrime(it).flatMap(result -&gt;\n                            result == 1 ? Mono.just(it) : Mono.empty()))\n            .doOnNext(m -&gt; System.out.println(&quot;Publishing new prime &quot; + m + &quot; for range &quot; + low + &quot;-&quot; + high));\n}\n</code></pre>\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75207594,"answer_count":1,"score":1,"last_activity_date":1674468178,"creation_date":1674451069,"question_id":75205865,"body_markdown":"I learning how to change non-reactive code to reactive. As part of the exercise I took this sample code for finding primes in a range \r\n\r\n    public class FindPrime {\r\n    \r\n        private List&lt;Integer&gt; primes;\r\n    \r\n        public FindPrime() {\r\n            primes = new ArrayList&lt;&gt;();\r\n        }\r\n    \r\n        public List&lt;Integer&gt; allPrimes(int low, int high) {\r\n            for (int i = low; i &lt;= high; i++) {\r\n                // skip is the number is 1\r\n                // As 1 is neither prime nor composite\r\n                if (i == 1) continue;\r\n    \r\n                // if the number is prime add the number to list\r\n                if (isPrime(i) == 1) {\r\n                    primes.add(i);\r\n                }\r\n            }\r\n            return primes;\r\n        }\r\n    \r\n        private int isPrime(int n) {\r\n            // for loop from 2 to sqrt(n)\r\n            for (int i = 2; i &lt;= Math.sqrt(n); i++) {\r\n                // if the number is divisible return -1\r\n                if (n % i == 0) {\r\n                    return -1;\r\n                }\r\n            }\r\n            // return 1 if number is prime\r\n            return 1;\r\n        }\r\n    }\r\n\r\nWhile rewriting it to reactive code I started with using `Flux.fromIterbale` on the List produced to return a flux, but then the code essentially is still blocking? specially the `isPrime` method. Hence I turned it into the following\r\n\r\n    public Mono&lt;Integer&gt; isPrime(int n) {\r\n        for (int i = 2; i &lt;= Math.sqrt(n); i++) {\r\n            // if the number is divisible return -1\r\n            if (n % i == 0) {\r\n                return Mono.just(-1);\r\n            }\r\n        }\r\n        // return 1 if number is prime\r\n        return Mono.just(1);\r\n    }\r\n\r\nWhich works as expected for me if I access the Mono, `JitteryPrimesEmitter` being the class where I have the new method\r\n\r\n    JitteryPrimesEmitter emitter = new JitteryPrimesEmitter();\r\n    // One Value at a time\r\n    int input = 97;\r\n    new JitteryPrimesEmitter().isPrime(input)\r\n                .filter(x -&gt; x == 1)\r\n                .subscribe(x -&gt; System.out.println(&quot;Got a Prime &quot; + input));\r\n\r\n\r\nThe next step was to emit a flux of primes, using this `isPrime` method, so I wrote the `allPrimes` method as follows\r\n\r\n\r\n    public Flux&lt;Integer&gt; allPrimes(int low, int high) {\r\n        return Flux.create((FluxSink&lt;Integer&gt; sink) -&gt; {\r\n            for (int i = low; i &lt;= high; i++) {\r\n                // skip is the number is 1\r\n                // As 1 is neither prime nor composite\r\n                if (i == 1) continue;\r\n\r\n                isPrime(i).filter(n -&gt; n == 1)\r\n                        .delayElement(Duration.ofMillis(new Random().nextInt(20) + 1))\r\n                        .doOnNext(m -&gt; System.out.println(&quot;Publishing new prime &quot; + m + &quot;for range &quot; + low + &quot;-&quot; + high))\r\n                        .doOnNext(sink::next);\r\n            }\r\n        });\r\n    }\r\n\r\nThe random delay is how I&#39;m making it *jittery* to stimulate data flow from a slow I/O upstream. This doesn&#39;t work as if I call `allPrimes` with 10, 100 as input I see no results, here&#39;s the downstream call\r\n\r\n    // Flux of values\r\n    AtomicInteger sum = new AtomicInteger();\r\n    AtomicInteger highest = new AtomicInteger(0);\r\n    Flux&lt;Integer&gt; primesFlux = emitter.allPrimes(10, 100);\r\n    primesFlux.doOnSubscribe(s -&gt; System.out.println(&quot;Subscribed downstream operation to primes flux&quot;));\r\n\r\n    ConnectableFlux&lt;Integer&gt; primes = primesFlux.publish();\r\n    primes.doOnComplete(() -&gt; System.out.println(&quot;Sum of Primes = &quot; + sum.get()))\r\n            .subscribe(i -&gt; {\r\n                sum.addAndGet(i);\r\n                System.out.println(&quot;Adding emitted prime &quot; + i + &quot; to sum &quot; + sum);\r\n            });\r\n\r\n    primes.doOnComplete(() -&gt; System.out.println(&quot;Highest Prime = &quot; + highest.get()))\r\n            .subscribe(i -&gt; {\r\n                System.out.println(&quot;Checking if &quot; + i + &quot; is highest prime in the range 10-100&quot;);\r\n                highest.set(i);\r\n            });\r\n\r\n    primes.connect();\r\n    System.out.println(&quot;Done Subscribing to Primes Flux&quot;);\r\n\r\nNeither `sum` nor `highest` is populated, nor do I see any of the messages I&#39;m printing in the downstream Flux pipelines, I do see that the `isPrime` mono method emits values as and when it&#39;s called from the `allPrimes` method. \r\n\r\n\r\n\r\n","title":"creating a flux from a method returning mono","body":"<p>I learning how to change non-reactive code to reactive. As part of the exercise I took this sample code for finding primes in a range</p>\n<pre><code>public class FindPrime {\n\n    private List&lt;Integer&gt; primes;\n\n    public FindPrime() {\n        primes = new ArrayList&lt;&gt;();\n    }\n\n    public List&lt;Integer&gt; allPrimes(int low, int high) {\n        for (int i = low; i &lt;= high; i++) {\n            // skip is the number is 1\n            // As 1 is neither prime nor composite\n            if (i == 1) continue;\n\n            // if the number is prime add the number to list\n            if (isPrime(i) == 1) {\n                primes.add(i);\n            }\n        }\n        return primes;\n    }\n\n    private int isPrime(int n) {\n        // for loop from 2 to sqrt(n)\n        for (int i = 2; i &lt;= Math.sqrt(n); i++) {\n            // if the number is divisible return -1\n            if (n % i == 0) {\n                return -1;\n            }\n        }\n        // return 1 if number is prime\n        return 1;\n    }\n}\n</code></pre>\n<p>While rewriting it to reactive code I started with using <code>Flux.fromIterbale</code> on the List produced to return a flux, but then the code essentially is still blocking? specially the <code>isPrime</code> method. Hence I turned it into the following</p>\n<pre><code>public Mono&lt;Integer&gt; isPrime(int n) {\n    for (int i = 2; i &lt;= Math.sqrt(n); i++) {\n        // if the number is divisible return -1\n        if (n % i == 0) {\n            return Mono.just(-1);\n        }\n    }\n    // return 1 if number is prime\n    return Mono.just(1);\n}\n</code></pre>\n<p>Which works as expected for me if I access the Mono, <code>JitteryPrimesEmitter</code> being the class where I have the new method</p>\n<pre><code>JitteryPrimesEmitter emitter = new JitteryPrimesEmitter();\n// One Value at a time\nint input = 97;\nnew JitteryPrimesEmitter().isPrime(input)\n            .filter(x -&gt; x == 1)\n            .subscribe(x -&gt; System.out.println(&quot;Got a Prime &quot; + input));\n</code></pre>\n<p>The next step was to emit a flux of primes, using this <code>isPrime</code> method, so I wrote the <code>allPrimes</code> method as follows</p>\n<pre><code>public Flux&lt;Integer&gt; allPrimes(int low, int high) {\n    return Flux.create((FluxSink&lt;Integer&gt; sink) -&gt; {\n        for (int i = low; i &lt;= high; i++) {\n            // skip is the number is 1\n            // As 1 is neither prime nor composite\n            if (i == 1) continue;\n\n            isPrime(i).filter(n -&gt; n == 1)\n                    .delayElement(Duration.ofMillis(new Random().nextInt(20) + 1))\n                    .doOnNext(m -&gt; System.out.println(&quot;Publishing new prime &quot; + m + &quot;for range &quot; + low + &quot;-&quot; + high))\n                    .doOnNext(sink::next);\n        }\n    });\n}\n</code></pre>\n<p>The random delay is how I'm making it <em>jittery</em> to stimulate data flow from a slow I/O upstream. This doesn't work as if I call <code>allPrimes</code> with 10, 100 as input I see no results, here's the downstream call</p>\n<pre><code>// Flux of values\nAtomicInteger sum = new AtomicInteger();\nAtomicInteger highest = new AtomicInteger(0);\nFlux&lt;Integer&gt; primesFlux = emitter.allPrimes(10, 100);\nprimesFlux.doOnSubscribe(s -&gt; System.out.println(&quot;Subscribed downstream operation to primes flux&quot;));\n\nConnectableFlux&lt;Integer&gt; primes = primesFlux.publish();\nprimes.doOnComplete(() -&gt; System.out.println(&quot;Sum of Primes = &quot; + sum.get()))\n        .subscribe(i -&gt; {\n            sum.addAndGet(i);\n            System.out.println(&quot;Adding emitted prime &quot; + i + &quot; to sum &quot; + sum);\n        });\n\nprimes.doOnComplete(() -&gt; System.out.println(&quot;Highest Prime = &quot; + highest.get()))\n        .subscribe(i -&gt; {\n            System.out.println(&quot;Checking if &quot; + i + &quot; is highest prime in the range 10-100&quot;);\n            highest.set(i);\n        });\n\nprimes.connect();\nSystem.out.println(&quot;Done Subscribing to Primes Flux&quot;);\n</code></pre>\n<p>Neither <code>sum</code> nor <code>highest</code> is populated, nor do I see any of the messages I'm printing in the downstream Flux pipelines, I do see that the <code>isPrime</code> mono method emits values as and when it's called from the <code>allPrimes</code> method.</p>\n"},{"tags":["java","eclipse","while-loop","xtend"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1634142151,"post_id":69545045,"comment_id":122948438,"body_markdown":"I see that extend has while loops here:[Xtend while loop](https://www.eclipse.org/xtend/documentation/203_xtend_expressions.html#while-expression).","body":"I see that extend has while loops here:<a href=\"https://www.eclipse.org/xtend/documentation/203_xtend_expressions.html#while-expression\" rel=\"nofollow noreferrer\">Xtend while loop</a>."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1634225297,"post_id":69545045,"comment_id":122973495,"body_markdown":"What progress have you made on this?","body":"What progress have you made on this?"}],"answers":[{"tags":[],"owner":{"account_id":6457401,"reputation":583,"user_id":5002324,"display_name":"Christoph S."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674467658,"creation_date":1674467658,"answer_id":75207852,"question_id":69545045,"body_markdown":"For me it works fine\r\n\r\n```\r\nval String[] refin = #[&quot;1&quot;, &quot;a&quot;, &quot;2&quot;, &quot;b&quot;, &quot;3&quot;, &quot;c&quot;]\r\nvar index = refin.size - 1\r\nwhile(index &gt; 0) {\r\n\tprintln(refin.get(index) + &quot;::=&quot; + refin.get(index -1))\r\n\tindex -= 2\r\n}\r\n\r\n// c::=3\r\n// b::=2\r\n// a::=1\r\n```","title":"While loop in Xtend","body":"<p>For me it works fine</p>\n<pre><code>val String[] refin = #[&quot;1&quot;, &quot;a&quot;, &quot;2&quot;, &quot;b&quot;, &quot;3&quot;, &quot;c&quot;]\nvar index = refin.size - 1\nwhile(index &gt; 0) {\n    println(refin.get(index) + &quot;::=&quot; + refin.get(index -1))\n    index -= 2\n}\n\n// c::=3\n// b::=2\n// a::=1\n</code></pre>\n"}],"owner":{"account_id":12618205,"reputation":9,"user_id":9174846,"display_name":"programming_QA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674467658,"creation_date":1634061658,"question_id":69545045,"body_markdown":"I have written a code in java and now I have to convert it to Xtend templates. However I have the following written with a while loop.\r\n```\r\nindex = refin.size()-1\r\n     \t        \twhile (index &gt; 0){\r\n     \t        \t\t  System.out.println(refin.get(index) + &quot;::=&quot; + refin.get(index-1))\r\n     \t        \t\t  index-=2\r\n     \t        \t\t}\r\n```\r\nNow I see that Xtend templates do not support WHILE, and also I cannot write the following: \r\n```\r\n&#171;FOR index : refin.size()-1 ; index &gt;= 0 ; index -=2&#187;\r\n```\r\n\r\nAny ideas on how I could use that while loop (or something similar) to do the same thing that I am doing there, in Xtend templates? \r\n\r\nMany thanks! ","title":"While loop in Xtend","body":"<p>I have written a code in java and now I have to convert it to Xtend templates. However I have the following written with a while loop.</p>\n<pre><code>index = refin.size()-1\n                    while (index &gt; 0){\n                          System.out.println(refin.get(index) + &quot;::=&quot; + refin.get(index-1))\n                          index-=2\n                        }\n</code></pre>\n<p>Now I see that Xtend templates do not support WHILE, and also I cannot write the following:</p>\n<pre><code>FOR index : refin.size()-1 ; index &gt;= 0 ; index -=2\n</code></pre>\n<p>Any ideas on how I could use that while loop (or something similar) to do the same thing that I am doing there, in Xtend templates?</p>\n<p>Many thanks!</p>\n"},{"tags":["java","intellij-idea","dependencies","physics","vtk"],"comments":[{"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"score":0,"creation_date":1674366000,"post_id":75197098,"comment_id":132697225,"body_markdown":"One possible solution would be to create a JAR file containing the VTK library and then add that JAR file as a dependency to your project.","body":"One possible solution would be to create a JAR file containing the VTK library and then add that JAR file as a dependency to your project."},{"owner":{"account_id":14989739,"reputation":3527,"user_id":10821284,"display_name":"Compiler v2"},"score":0,"creation_date":1674410669,"post_id":75197098,"comment_id":132703986,"body_markdown":"@SANN3 I created the jar file using https://stackoverflow.com/a/18146453/10821284 and then I added it to my project as a module and a library and even restarted, but it still doesn&#39;t recognize VTK.","body":"@SANN3 I created the jar file using <a href=\"https://stackoverflow.com/a/18146453/10821284\">stackoverflow.com/a/18146453/10821284</a> and then I added it to my project as a module and a library and even restarted, but it still doesn&#39;t recognize VTK."}],"answers":[{"tags":[],"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674467445,"creation_date":1674467445,"answer_id":75207817,"question_id":75197098,"body_markdown":"VTK is [available as a Maven dependency](https://discourse.vtk.org/t/vtk-9-1-available-as-maven-dependency/9371). You can add Maven support for your project and include VTK in your pom.xml into dependencies section.\r\n\r\n- Right-click on a project root in [Project View](https://www.jetbrains.com/help/idea/project-tool-window.html) and select `Add Framework Support... | Maven`\r\n\r\n- Add the content below into pom.xml\r\n\r\n```\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jzy3d-snapshots&lt;/id&gt;\r\n            &lt;name&gt;Jzy3d Snapshots&lt;/name&gt;\r\n            &lt;url&gt;https://maven.jzy3d.org/snapshots/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;jzy3d-releases&lt;/id&gt;\r\n            &lt;name&gt;Jzy3d Releases&lt;/name&gt;\r\n            &lt;url&gt;https://maven.jzy3d.org/releases/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jzy3d&lt;/groupId&gt;\r\n            &lt;artifactId&gt;vtk-java-all&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n```\r\n\r\n- Click on `Reload All Maven Projects` in Maven tool window:\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7h3IZ.png\r\n\r\nNow imports to the VTK library should be resolved properly.","title":"Intellij not adding VTK library .dll dependency to Java project","body":"<p>VTK is <a href=\"https://discourse.vtk.org/t/vtk-9-1-available-as-maven-dependency/9371\" rel=\"nofollow noreferrer\">available as a Maven dependency</a>. You can add Maven support for your project and include VTK in your pom.xml into dependencies section.</p>\n<ul>\n<li><p>Right-click on a project root in <a href=\"https://www.jetbrains.com/help/idea/project-tool-window.html\" rel=\"nofollow noreferrer\">Project View</a> and select <code>Add Framework Support... | Maven</code></p>\n</li>\n<li><p>Add the content below into pom.xml</p>\n</li>\n</ul>\n<pre><code>    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jzy3d-snapshots&lt;/id&gt;\n            &lt;name&gt;Jzy3d Snapshots&lt;/name&gt;\n            &lt;url&gt;https://maven.jzy3d.org/snapshots/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jzy3d-releases&lt;/id&gt;\n            &lt;name&gt;Jzy3d Releases&lt;/name&gt;\n            &lt;url&gt;https://maven.jzy3d.org/releases/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jzy3d&lt;/groupId&gt;\n            &lt;artifactId&gt;vtk-java-all&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<ul>\n<li>Click on <code>Reload All Maven Projects</code> in Maven tool window:\n<a href=\"https://i.stack.imgur.com/7h3IZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7h3IZ.png\" alt=\"enter image description here\" /></a></li>\n</ul>\n<p>Now imports to the VTK library should be resolved properly.</p>\n"}],"owner":{"account_id":14989739,"reputation":3527,"user_id":10821284,"display_name":"Compiler v2"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75207817,"answer_count":1,"score":0,"last_activity_date":1674467445,"creation_date":1674341105,"question_id":75197098,"body_markdown":"I have installed [VTK][1] for a physics simulation program called [Starfish][2] with its [Github][3]. But I am **not asking for any physics help**, but rather **I am trying to add VTK as a library dependency** to Starfish so that it can be run on Intellij.\r\n\r\nStarfish is written in Java and when I [installed VTK][4], and tried to add it in my IDE, but it doesn&#39;t work no matter what I do. The project throws: `java: package vtk does not exist` whenever I run the project&#39;s main or try to build it. The whole VTK dependency is not recognized. The VTK library is composed of `dll` type files and there are no JAR files for it. Also, there does not seem to be a Maven dependency for it as well, and Starfish is not a Maven project.\r\n\r\n**I have VTK version 9.2.2.**\r\n\r\nI have tried:\r\n\r\n1. Adding VTK as a module dependency under the project structure &gt; project settings &gt; modules &gt; dependencies &gt; choosing the path of the VTK installation\r\n\r\n2. Adding VTK as a library under project structure &gt; project settings &gt; libraries\r\n\r\n3. Adding the path to VTK `/bin` via `-Djava.library.path=&quot;C:/path/to/VTK` as a VM option in the run config of Intellij\r\n\r\n4. Adding VTK to the global libraries under project structure &gt; Platform settings &gt; global libraries\r\n\r\n5. Restarting and invalidating the cache\r\n\r\n6. Deleting the `.idea` directory and restarting\r\n\r\n7. Searching online for many days like stackoverflow, VTK forums, IntelliJ&#39;s forums, etc\r\n\r\nI am out of ideas on what to try next. Any suggestions would be greatly appreciated. Thanks.\r\n\r\n\r\n  [1]: https://vtk.org/\r\n  [2]: https://www.particleincell.com/starfish/\r\n  [3]: https://github.com/particleincell/Starfish\r\n  [4]: https://gitlab.kitware.com/vtk/vtk/-/blob/master/Documentation/dev/build.md#windows","title":"Intellij not adding VTK library .dll dependency to Java project","body":"<p>I have installed <a href=\"https://vtk.org/\" rel=\"nofollow noreferrer\">VTK</a> for a physics simulation program called <a href=\"https://www.particleincell.com/starfish/\" rel=\"nofollow noreferrer\">Starfish</a> with its <a href=\"https://github.com/particleincell/Starfish\" rel=\"nofollow noreferrer\">Github</a>. But I am <strong>not asking for any physics help</strong>, but rather <strong>I am trying to add VTK as a library dependency</strong> to Starfish so that it can be run on Intellij.</p>\n<p>Starfish is written in Java and when I <a href=\"https://gitlab.kitware.com/vtk/vtk/-/blob/master/Documentation/dev/build.md#windows\" rel=\"nofollow noreferrer\">installed VTK</a>, and tried to add it in my IDE, but it doesn't work no matter what I do. The project throws: <code>java: package vtk does not exist</code> whenever I run the project's main or try to build it. The whole VTK dependency is not recognized. The VTK library is composed of <code>dll</code> type files and there are no JAR files for it. Also, there does not seem to be a Maven dependency for it as well, and Starfish is not a Maven project.</p>\n<p><strong>I have VTK version 9.2.2.</strong></p>\n<p>I have tried:</p>\n<ol>\n<li><p>Adding VTK as a module dependency under the project structure &gt; project settings &gt; modules &gt; dependencies &gt; choosing the path of the VTK installation</p>\n</li>\n<li><p>Adding VTK as a library under project structure &gt; project settings &gt; libraries</p>\n</li>\n<li><p>Adding the path to VTK <code>/bin</code> via <code>-Djava.library.path=&quot;C:/path/to/VTK</code> as a VM option in the run config of Intellij</p>\n</li>\n<li><p>Adding VTK to the global libraries under project structure &gt; Platform settings &gt; global libraries</p>\n</li>\n<li><p>Restarting and invalidating the cache</p>\n</li>\n<li><p>Deleting the <code>.idea</code> directory and restarting</p>\n</li>\n<li><p>Searching online for many days like stackoverflow, VTK forums, IntelliJ's forums, etc</p>\n</li>\n</ol>\n<p>I am out of ideas on what to try next. Any suggestions would be greatly appreciated. Thanks.</p>\n"},{"tags":["java","package","subclass","protected","modifier"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1384333249,"post_id":19949327,"comment_id":29690594,"body_markdown":"This code does not produce this error. The method tryMeProtected() doesn&#39;t exist at all.","body":"This code does not produce this error. The method tryMeProtected() doesn&#39;t exist at all."},{"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"score":1,"creation_date":1384333562,"post_id":19949327,"comment_id":29690764,"body_markdown":"Did you test this with the exact code you posted? if yes it can not work as EJP saied, you have two different names: tryMePublic and tryMeProtected","body":"Did you test this with the exact code you posted? if yes it can not work as EJP saied, you have two different names: tryMePublic and tryMeProtected"}],"answers":[{"tags":[],"owner":{"account_id":1920143,"reputation":7756,"user_id":1731862,"accept_rate":71,"display_name":"Ankur Shanbhag"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1384333345,"creation_date":1384332963,"answer_id":19949354,"question_id":19949327,"body_markdown":"Protected methods can only be **accessible through inheritance in subclasses outside the package**. And hence the second approach `tryMeProtected();` works.\r\n\r\nThe code below wont compile because we are not calling the inherited version of protected method. \r\n\r\n     Class1 c = new Class1();\r\n     c.tryMeProtected(); // ERROR: tryMeProtected() has protected access in Class1\r\n\r\n\r\n\r\nFollow this [stackoverflow][1] link for more explaination.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/14404260/call-protected-method-from-a-subclass-of-another-instance-of-different-packages\r\n","title":"Why subclass in another package cannot access a protected method?","body":"<p>Protected methods can only be <strong>accessible through inheritance in subclasses outside the package</strong>. And hence the second approach <code>tryMeProtected();</code> works.</p>\n\n<p>The code below wont compile because we are not calling the inherited version of protected method. </p>\n\n<pre><code> Class1 c = new Class1();\n c.tryMeProtected(); // ERROR: tryMeProtected() has protected access in Class1\n</code></pre>\n\n<p>Follow this <a href=\"https://stackoverflow.com/questions/14404260/call-protected-method-from-a-subclass-of-another-instance-of-different-packages\">stackoverflow</a> link for more explaination.</p>\n"},{"tags":[],"owner":{"account_id":961739,"reputation":21941,"user_id":985949,"accept_rate":87,"display_name":"Mik378"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1384333365,"creation_date":1384333024,"answer_id":19949375,"question_id":19949327,"body_markdown":"You use two different packages and you don&#39;t access your parent attributes by direct inheritance, but by an intermediate parent instance declared in the child class (similar to composition). =&gt; that&#39;s the not the way `protected` works.    \r\n\r\nOnly direct inheritance allows protected parent&#39;s attributes to be reach.\r\n\r\nThus, you can do this:\r\n\r\n    public class Class2 extends Class1 {\r\n        doNow() {\r\n            tryMeProtected();  // No error since direct inheritance \r\n        }    \r\n    }\r\n\r\nbut never this:\r\n\r\n    public class Class2 extends Class1 {\r\n        doNow() {\r\n            Class1 c = new Class1();\r\n            c.tryMeProtected(); // this is not a direct inheritance! since `c`, although a parent one is an intermediate instance created in the child instance. =&gt; bad\r\n        }    \r\n    }\r\n\r\nIndeed, this is a particularity of `protected`keyword often misunderstood.","title":"Why subclass in another package cannot access a protected method?","body":"<p>You use two different packages and you don't access your parent attributes by direct inheritance, but by an intermediate parent instance declared in the child class (similar to composition). => that's the not the way <code>protected</code> works.    </p>\n\n<p>Only direct inheritance allows protected parent's attributes to be reach.</p>\n\n<p>Thus, you can do this:</p>\n\n<pre><code>public class Class2 extends Class1 {\n    doNow() {\n        tryMeProtected();  // No error since direct inheritance \n    }    \n}\n</code></pre>\n\n<p>but never this:</p>\n\n<pre><code>public class Class2 extends Class1 {\n    doNow() {\n        Class1 c = new Class1();\n        c.tryMeProtected(); // this is not a direct inheritance! since `c`, although a parent one is an intermediate instance created in the child instance. =&gt; bad\n    }    \n}\n</code></pre>\n\n<p>Indeed, this is a particularity of <code>protected</code>keyword often misunderstood.</p>\n"},{"tags":[],"owner":{"account_id":1923670,"reputation":68,"user_id":1734605,"display_name":"Tushar D"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384333705,"creation_date":1384333705,"answer_id":19949596,"question_id":19949327,"body_markdown":"As per Java Protected Access modifier definition  methods which are declared protected in a superclass can be accessed only by the subclasses in other package or any class within the package of the protected members&#39; class.\r\n\r\nyou can&#39;t access protected  method by creating object of class.\r\nSo for accessing Protected  method you have to extend the superclass.(this explains your 2nd call is correct)","title":"Why subclass in another package cannot access a protected method?","body":"<p>As per Java Protected Access modifier definition  methods which are declared protected in a superclass can be accessed only by the subclasses in other package or any class within the package of the protected members' class.</p>\n\n<p>you can't access protected  method by creating object of class.\nSo for accessing Protected  method you have to extend the superclass.(this explains your 2nd call is correct)</p>\n"},{"tags":[],"owner":{"account_id":2594798,"reputation":74,"user_id":2248728,"display_name":"Satyam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1436264354,"creation_date":1391512180,"answer_id":21550787,"question_id":19949327,"body_markdown":"It can be acheived by two ways\r\n\r\n**1. Either by making an object of Child class and then accessing the protected method of Parent class.**\r\n\r\nPACKAGE 1\r\n\r\n    public class Class1 {\r\n        protected void m1() {\r\n            System.out.println(&quot;m1 called&quot;);\r\n        }\r\n    }\r\n\r\nPACKAGE2\r\n\r\n    public class Class2 extends Class1 {\r\n\r\n        public static void main(String[] args) {\r\n            Class2 class2 = new Class2();\r\n            class2.m1();\r\n        }\r\n    }\r\n\r\n**2. Or by directly calling the method from the Child class**\r\n\r\n`eg tryMeProtected();` ","title":"Why subclass in another package cannot access a protected method?","body":"<p>It can be acheived by two ways</p>\n\n<p><strong>1. Either by making an object of Child class and then accessing the protected method of Parent class.</strong></p>\n\n<p>PACKAGE 1</p>\n\n<pre><code>public class Class1 {\n    protected void m1() {\n        System.out.println(\"m1 called\");\n    }\n}\n</code></pre>\n\n<p>PACKAGE2</p>\n\n<pre><code>public class Class2 extends Class1 {\n\n    public static void main(String[] args) {\n        Class2 class2 = new Class2();\n        class2.m1();\n    }\n}\n</code></pre>\n\n<p><strong>2. Or by directly calling the method from the Child class</strong></p>\n\n<p><code>eg tryMeProtected();</code> </p>\n"},{"tags":[],"owner":{"account_id":2629478,"reputation":7484,"user_id":2275818,"accept_rate":100,"display_name":"Anthony Raymond"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1534767108,"creation_date":1461839266,"answer_id":36911915,"question_id":19949327,"body_markdown":"I believe you misunderstand the difference between `package` and `protected` visibility.\r\n\r\n\r\n    package package1;\r\n    \r\n    public class MyClass1 {\r\n        public void tryMePublic() { System.out.println(&quot;I&#39;m public&quot;); }\r\n        protected void tryMeProtected() { System.out.println(&quot;I&#39;m protected&quot;); }\r\n        void tryMePackage() { System.out.println(&quot;I&#39;m package&quot;); }\r\n    }\r\n\r\n- `tryMePublic` will be accessible wherever you are.\r\n- `tryMeProtected` will be accessible to every subclass AND every class in the same package.\r\n- `tryMePackage` will be accessible to every class in the same package (not available in children class if they are in a different package)\r\n\r\n### Children class in the same package\r\n    package package1;\r\n        \r\n    public class Class2 extends MyClass1 {\r\n        public void doNow() {\r\n            tryMePublic(); // OK\r\n            tryMeProtected(); // OK\r\n            tryMePackage(); // OK\r\n        }    \r\n    }\r\n\r\n### Children class in different package\r\n\r\n    package package2;\r\n\r\n    import package1.MyClass1;\r\n        \r\n    public class Class3 extends MyClass1 {\r\n        public void doNow() {\r\n            MyClass1 c = new MyClass1();\r\n            c.tryMeProtected() // ERROR, because only public methods are allowed to be called on class instance, whereever you are\r\n            tryMePublic(); // OK\r\n            tryMeProtected(); // OK\r\n            tryMePackage(); // ERROR\r\n        }    \r\n    }","title":"Why subclass in another package cannot access a protected method?","body":"<p>I believe you misunderstand the difference between <code>package</code> and <code>protected</code> visibility.</p>\n\n<pre><code>package package1;\n\npublic class MyClass1 {\n    public void tryMePublic() { System.out.println(\"I'm public\"); }\n    protected void tryMeProtected() { System.out.println(\"I'm protected\"); }\n    void tryMePackage() { System.out.println(\"I'm package\"); }\n}\n</code></pre>\n\n<ul>\n<li><code>tryMePublic</code> will be accessible wherever you are.</li>\n<li><code>tryMeProtected</code> will be accessible to every subclass AND every class in the same package.</li>\n<li><code>tryMePackage</code> will be accessible to every class in the same package (not available in children class if they are in a different package)</li>\n</ul>\n\n<h3>Children class in the same package</h3>\n\n<pre><code>package package1;\n\npublic class Class2 extends MyClass1 {\n    public void doNow() {\n        tryMePublic(); // OK\n        tryMeProtected(); // OK\n        tryMePackage(); // OK\n    }    \n}\n</code></pre>\n\n<h3>Children class in different package</h3>\n\n<pre><code>package package2;\n\nimport package1.MyClass1;\n\npublic class Class3 extends MyClass1 {\n    public void doNow() {\n        MyClass1 c = new MyClass1();\n        c.tryMeProtected() // ERROR, because only public methods are allowed to be called on class instance, whereever you are\n        tryMePublic(); // OK\n        tryMeProtected(); // OK\n        tryMePackage(); // ERROR\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14099328,"reputation":19,"user_id":10185073,"display_name":"Dewansh Nigam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533541197,"creation_date":1533536381,"answer_id":51701585,"question_id":19949327,"body_markdown":"First of all, you need to understand two things:\r\n \r\n1) The `protected` member functions of a class &#39;X&#39; in package &#39;Y&#39; can be accessed by the subclass i.e. a class that extends it (even if the subclass is in the package other than &#39;Y&#39;). That is why,\r\n\r\n    tryMeProtected(); // Showed no error because this was called by class 2 that is the subclass.\r\n\r\n2) A `protected` member function of a class &#39;X&#39; in package &#39;Y&#39; cannot be accessed by itself if it is in other packages.\r\n\r\n[ A simple analogy: A bird that has its eggs kept in a nest 1 has flown to a nest 2. From the nest 2, it cannot access its egg kept in nest 1.] \r\nSimilarly, a class cannot access its member function (unless public declared.) if it is in the other package.\r\n\r\nThat is why :\r\n\r\n    c.tryMeProtected();  // Showed error because this was called by class 1 reference.\r\n                         //  You can also think of it as class 1 cannot inherit itself.\r\n\r\n","title":"Why subclass in another package cannot access a protected method?","body":"<p>First of all, you need to understand two things:</p>\n\n<p>1) The <code>protected</code> member functions of a class 'X' in package 'Y' can be accessed by the subclass i.e. a class that extends it (even if the subclass is in the package other than 'Y'). That is why,</p>\n\n<pre><code>tryMeProtected(); // Showed no error because this was called by class 2 that is the subclass.\n</code></pre>\n\n<p>2) A <code>protected</code> member function of a class 'X' in package 'Y' cannot be accessed by itself if it is in other packages.</p>\n\n<p>[ A simple analogy: A bird that has its eggs kept in a nest 1 has flown to a nest 2. From the nest 2, it cannot access its egg kept in nest 1.] \nSimilarly, a class cannot access its member function (unless public declared.) if it is in the other package.</p>\n\n<p>That is why :</p>\n\n<pre><code>c.tryMeProtected();  // Showed error because this was called by class 1 reference.\n                     //  You can also think of it as class 1 cannot inherit itself.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16534695,"reputation":11,"user_id":11947053,"display_name":"Nora alshareef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585518589,"creation_date":1585518589,"answer_id":60921176,"question_id":19949327,"body_markdown":"the protected modifier is 1.Package Private  2.can be seen by subclasses from other packages. \r\nnow the key difference between : \r\n    \r\n    MyClass1 c = new MyClass1();\r\n        c.tryMeProtected();\r\n and \r\n      \r\n    tryMyProtected(); \r\n\r\nis that the MyClass1 reference is used rather than inheritance. MyClass1 is in a different package and this code is not inheriting from MyClass1. ","title":"Why subclass in another package cannot access a protected method?","body":"<p>the protected modifier is 1.Package Private  2.can be seen by subclasses from other packages. \nnow the key difference between : </p>\n\n<pre><code>MyClass1 c = new MyClass1();\n    c.tryMeProtected();\n</code></pre>\n\n<p>and </p>\n\n<pre><code>tryMyProtected(); \n</code></pre>\n\n<p>is that the MyClass1 reference is used rather than inheritance. MyClass1 is in a different package and this code is not inheriting from MyClass1. </p>\n"},{"tags":[],"owner":{"account_id":20534694,"reputation":1,"user_id":15071084,"display_name":"tech kid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674467320,"creation_date":1674467320,"answer_id":75207790,"question_id":19949327,"body_markdown":"You Try like this :-\r\n\r\n    public class Class2 extends Class1 {\r\n        doNow() {\r\n            \r\n    Class2 c = new Class2();\r\n           \r\n    c.tryMeProtected(); // No error\r\n    \r\n    tryMeProtected();  //  error\r\n        }    \r\n\r\n}","title":"Why subclass in another package cannot access a protected method?","body":"<p>You Try like this :-</p>\n<pre><code>public class Class2 extends Class1 {\n    doNow() {\n        \nClass2 c = new Class2();\n       \nc.tryMeProtected(); // No error\n\ntryMeProtected();  //  error\n    }    \n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":3578053,"reputation":217,"user_id":2986848,"display_name":"user2986848"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39483,"favorite_count":0,"down_vote_count":2,"up_vote_count":22,"answer_count":8,"score":20,"last_activity_date":1674467320,"creation_date":1384332850,"question_id":19949327,"body_markdown":"I have two classes in two different packages:\r\n\r\n    package package1;\r\n\r\n    public class Class1 {\r\n        public void tryMePublic() {\r\n        }\r\n\r\n        protected void tryMeProtected() {\r\n        }\r\n    }\r\n\r\n\r\n    package package2;\r\n\r\n    import package1.Class1;\r\n\r\n    public class Class2 extends Class1 {\r\n        doNow() {\r\n            Class1 c = new Class1();\r\n            c.tryMeProtected(); // ERROR: tryMeProtected() has protected access in Class1\r\n            tryMeProtected();  // No error\r\n        }    \r\n    }\r\n\r\nI can understand why there is no error in calling `tryMeProtected()` since `Class2` sees this method as it inherits from `Class1`.\r\n\r\nBut why isn&#39;t it possible for an object of `Class2` to access this method on an object of `Class1` using   `c.tryMeProtected();`   ?\r\n\r\n\r\n\r\n","title":"Why subclass in another package cannot access a protected method?","body":"<p>I have two classes in two different packages:</p>\n\n<pre><code>package package1;\n\npublic class Class1 {\n    public void tryMePublic() {\n    }\n\n    protected void tryMeProtected() {\n    }\n}\n\n\npackage package2;\n\nimport package1.Class1;\n\npublic class Class2 extends Class1 {\n    doNow() {\n        Class1 c = new Class1();\n        c.tryMeProtected(); // ERROR: tryMeProtected() has protected access in Class1\n        tryMeProtected();  // No error\n    }    \n}\n</code></pre>\n\n<p>I can understand why there is no error in calling <code>tryMeProtected()</code> since <code>Class2</code> sees this method as it inherits from <code>Class1</code>.</p>\n\n<p>But why isn't it possible for an object of <code>Class2</code> to access this method on an object of <code>Class1</code> using   <code>c.tryMeProtected();</code>   ?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":5823420,"reputation":785,"user_id":6656833,"display_name":"Pavel"},"score":1,"creation_date":1674383405,"post_id":75199588,"comment_id":132699199,"body_markdown":"I&#39;d suggest you to use Maven, package your project A as a maven library and import the dependency in project B. If you are learning Java, you need to learn Maven anyway. I don&#39;t think doing the dependency management manually is worth it","body":"I&#39;d suggest you to use Maven, package your project A as a maven library and import the dependency in project B. If you are learning Java, you need to learn Maven anyway. I don&#39;t think doing the dependency management manually is worth it"},{"owner":{"account_id":19181148,"reputation":31,"user_id":14012812,"display_name":"k1m2njun"},"score":0,"creation_date":1674464228,"post_id":75199588,"comment_id":132711435,"body_markdown":"Thank you, I will watching the lectures and remember &#39;Maven&#39;.","body":"Thank you, I will watching the lectures and remember &#39;Maven&#39;."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1674384851,"creation_date":1674384851,"answer_id":75199814,"question_id":75199588,"body_markdown":"In the &#39;build path&#39; settings of your new project (as per the screenshot you posted for item 3), add the other project in the &#39;project...&#39; tab.\r\n\r\nYou don&#39;t need to make a jar, you don&#39;t need to add that jar via &#39;external libraries..&#39;. You don&#39;t want to do that - you want the project dependency. That way, you can edit a file in either project, just save the file, and run, and see the updates, without having to go through the routine of making another jar. In debug mode, any change that doesn&#39;t affect signatures will even be instantly applied, no need to restart (only applies to long-running apps, of course).\r\n\r\nWhy doesn&#39;t your current approach work? Your question doesn&#39;t include enough information to be sure. A few options, based on the fact that key error message is &#39;not accessible&#39;:\r\n\r\n* You&#39;ve explicitly told eclipse you don&#39;t want the package recipe_nomodule to be considered accessible by anything except the project that created it. I doubt you&#39;ve done this.\r\n* It&#39;s set up as a module-based jar (with a module-info file), in which case, you&#39;d have to export the package in the module-info.java file.\r\n* The class wasn&#39;t marked `public` at the time you made the jar file, even if it is now (this gets back to: Don&#39;t go via jar files, that way any updates won&#39;t propagate and that&#39;s very annoying).\r\n\r\nMore generally if you want to ship these concepts completely separately, you need to start answering questions about how you&#39;d like your jar file to be distributed, you need to sign up with sonatype/mavencentral or some other entity that distributes open source, you need to learn maven, and more. Probably not worth getting into that, especially given that &#39;for fun&#39; / &#39;for exercise&#39; projects wouldn&#39;t be accepted.\r\n","title":"I&#39;d like to import class for another project in Java","body":"<p>In the 'build path' settings of your new project (as per the screenshot you posted for item 3), add the other project in the 'project...' tab.</p>\n<p>You don't need to make a jar, you don't need to add that jar via 'external libraries..'. You don't want to do that - you want the project dependency. That way, you can edit a file in either project, just save the file, and run, and see the updates, without having to go through the routine of making another jar. In debug mode, any change that doesn't affect signatures will even be instantly applied, no need to restart (only applies to long-running apps, of course).</p>\n<p>Why doesn't your current approach work? Your question doesn't include enough information to be sure. A few options, based on the fact that key error message is 'not accessible':</p>\n<ul>\n<li>You've explicitly told eclipse you don't want the package recipe_nomodule to be considered accessible by anything except the project that created it. I doubt you've done this.</li>\n<li>It's set up as a module-based jar (with a module-info file), in which case, you'd have to export the package in the module-info.java file.</li>\n<li>The class wasn't marked <code>public</code> at the time you made the jar file, even if it is now (this gets back to: Don't go via jar files, that way any updates won't propagate and that's very annoying).</li>\n</ul>\n<p>More generally if you want to ship these concepts completely separately, you need to start answering questions about how you'd like your jar file to be distributed, you need to sign up with sonatype/mavencentral or some other entity that distributes open source, you need to learn maven, and more. Probably not worth getting into that, especially given that 'for fun' / 'for exercise' projects wouldn't be accepted.</p>\n"}],"owner":{"account_id":19181148,"reputation":31,"user_id":14012812,"display_name":"k1m2njun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75199814,"answer_count":1,"score":0,"last_activity_date":1674467241,"creation_date":1674382187,"question_id":75199588,"body_markdown":"(Thank you @MarkRotteveel !)\r\nI&#39;m learning Java. I want to import class of another project. &#39;a&#39; class(&#39;MySoup&#39;) in project A(&#39;recipe_nomodule&#39;) to project B(&#39;test&#39;)\r\n\r\nHowever, there is no JRE System Library and it doesn&#39;t work. And I can&#39;t find posts about this problem\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ayZ6U.jpg)](https://i.stack.imgur.com/ayZ6U.jpg)\r\n 1. I created another project. (recipe_nomodule)\r\n- and a package(recipe_nomodule) and also a class(MySoup)\r\n\r\n[![enter image description here](https://i.stack.imgur.com/vZKzN.png)](https://i.stack.imgur.com/vZKzN.png)\r\n 2. I created recipe.jar\r\n\r\n[![enter image description here](https://i.stack.imgur.com/8iQ2V.jpg)](https://i.stack.imgur.com/8iQ2V.jpg)\r\n 3. Java Build Path - Libraries - Add External JARs... (in Properties)\r\n\r\n\r\n[![enter image description here](https://i.stack.imgur.com/ySiis.jpg)](https://i.stack.imgur.com/ySiis.jpg)\r\n 4. result.\r\n- &quot;MySoup cannot be resolved to a type&quot;\r\n- &quot;The type recipe_nomodule.MySoup is not accessible&quot;\r\n\r\n----------\r\n(23/01/2023 Thank you for the answers)\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QsUly.png\r\n  [2]: https://i.stack.imgur.com/j4AoD.jpg\r\n\r\n","title":"I&#39;d like to import class for another project in Java","body":"<p>(Thank you @MarkRotteveel !)\nI'm learning Java. I want to import class of another project. 'a' class('MySoup') in project A('recipe_nomodule') to project B('test')</p>\n<p>However, there is no JRE System Library and it doesn't work. And I can't find posts about this problem</p>\n<p><a href=\"https://i.stack.imgur.com/ayZ6U.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ayZ6U.jpg\" alt=\"enter image description here\" /></a>\n 1. I created another project. (recipe_nomodule)</p>\n<ul>\n<li>and a package(recipe_nomodule) and also a class(MySoup)</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/vZKzN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vZKzN.png\" alt=\"enter image description here\" /></a>\n 2. I created recipe.jar</p>\n<p><a href=\"https://i.stack.imgur.com/8iQ2V.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8iQ2V.jpg\" alt=\"enter image description here\" /></a>\n 3. Java Build Path - Libraries - Add External JARs... (in Properties)</p>\n<p><a href=\"https://i.stack.imgur.com/ySiis.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ySiis.jpg\" alt=\"enter image description here\" /></a>\n 4. result.</p>\n<ul>\n<li>&quot;MySoup cannot be resolved to a type&quot;</li>\n<li>&quot;The type recipe_nomodule.MySoup is not accessible&quot;</li>\n</ul>\n<hr />\n<p>(23/01/2023 Thank you for the answers)\n<a href=\"https://i.stack.imgur.com/QsUly.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QsUly.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/j4AoD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j4AoD.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jersey-2.0","jersey-1.0"],"answers":[{"tags":[],"owner":{"account_id":9527169,"reputation":115,"user_id":7080065,"accept_rate":55,"display_name":"user7080065"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674466549,"creation_date":1674466549,"answer_id":75207669,"question_id":75201194,"body_markdown":"The issue was that the package was not registered.","title":"PerRequestTypeInjectableProvider equivalent in Jersey2","body":"<p>The issue was that the package was not registered.</p>\n"}],"owner":{"account_id":9527169,"reputation":115,"user_id":7080065,"accept_rate":55,"display_name":"user7080065"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674466549,"creation_date":1674397531,"question_id":75201194,"body_markdown":"What is the equivalent of PerRequestTypeInjectableProvider in Jersey2?\r\n\r\nI&#39;ve tries to use AbstractBinder but it doesn&#39;t seem to work.\r\nThe Seesion I&#39;m trying to inject is always null.\r\n\r\nI tried to replace jersey-1 old code\r\n```\r\npublic class UserSessionProvider extends PerRequestTypeInjectableProvider&lt;Context, Session&gt; {\r\n\r\n  @Context HttpServletRequest request;\r\n\r\n  public UserSessionProvider() {\r\n    super(Session.class);\r\n  }\r\n\r\n  @Override\r\n  public Injectable&lt;Session&gt; getInjectable(ComponentContext cc, Context context) {\r\n    return new Injectable&lt;Session&gt;() {\r\n\r\n      @Override\r\n      public Session getValue() {\r\n        Session session = SessionUtils.createSession(request);\r\n        request.setAttribute(WebSessionConfig.s.servlet_attribute_name, session);\r\n        return session;\r\n      }\r\n    };\r\n  }\r\n}\r\n```\r\n\r\nwith jersey-2 new code, replacing PerRequestTypeInjectableProvider with AbstractBinder:\r\n\r\n```\r\npublic class UserSessionProvider extends AbstractBinder {\r\n\r\n  private static final Logger logger = Logger.getLogger(UserSessionProvider.class);\r\n\r\n  @Context HttpServletRequest request;\r\n\r\n  @Override\r\n  protected void configure() {\r\n    bind(SessionResolver.class).to(Session.class);\r\n  }\r\n\r\n  public class SessionResolver implements InjectionResolver&lt;Session&gt; {\r\n\r\n    @Override\r\n    public Object resolve(Injectee injectee, ServiceHandle&lt;?&gt; root) {\r\n\r\n      Session session = SessionUtils.createSession(request);\r\n      request.setAttribute(WebSessionConfig.s.servlet_attribute_name, session);\r\n      return session;\r\n    }\r\n\r\n    @Override\r\n    public boolean isConstructorParameterIndicator() {\r\n      return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isMethodParameterIndicator() {\r\n      return true;\r\n    }\r\n  }\r\n}\r\n```","title":"PerRequestTypeInjectableProvider equivalent in Jersey2","body":"<p>What is the equivalent of PerRequestTypeInjectableProvider in Jersey2?</p>\n<p>I've tries to use AbstractBinder but it doesn't seem to work.\nThe Seesion I'm trying to inject is always null.</p>\n<p>I tried to replace jersey-1 old code</p>\n<pre><code>public class UserSessionProvider extends PerRequestTypeInjectableProvider&lt;Context, Session&gt; {\n\n  @Context HttpServletRequest request;\n\n  public UserSessionProvider() {\n    super(Session.class);\n  }\n\n  @Override\n  public Injectable&lt;Session&gt; getInjectable(ComponentContext cc, Context context) {\n    return new Injectable&lt;Session&gt;() {\n\n      @Override\n      public Session getValue() {\n        Session session = SessionUtils.createSession(request);\n        request.setAttribute(WebSessionConfig.s.servlet_attribute_name, session);\n        return session;\n      }\n    };\n  }\n}\n</code></pre>\n<p>with jersey-2 new code, replacing PerRequestTypeInjectableProvider with AbstractBinder:</p>\n<pre><code>public class UserSessionProvider extends AbstractBinder {\n\n  private static final Logger logger = Logger.getLogger(UserSessionProvider.class);\n\n  @Context HttpServletRequest request;\n\n  @Override\n  protected void configure() {\n    bind(SessionResolver.class).to(Session.class);\n  }\n\n  public class SessionResolver implements InjectionResolver&lt;Session&gt; {\n\n    @Override\n    public Object resolve(Injectee injectee, ServiceHandle&lt;?&gt; root) {\n\n      Session session = SessionUtils.createSession(request);\n      request.setAttribute(WebSessionConfig.s.servlet_attribute_name, session);\n      return session;\n    }\n\n    @Override\n    public boolean isConstructorParameterIndicator() {\n      return true;\n    }\n\n    @Override\n    public boolean isMethodParameterIndicator() {\n      return true;\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":1827218,"reputation":8097,"user_id":1659588,"accept_rate":89,"display_name":"Dodge"},"down_vote_count":0,"up_vote_count":536,"is_accepted":true,"score":536,"last_activity_date":1548747280,"creation_date":1470149841,"answer_id":38723930,"question_id":38723833,"body_markdown":"These files are from [Maven wrapper](https://github.com/takari/maven-wrapper). It works similarly to the [Gradle wrapper](https://docs.gradle.org/current/userguide/gradle_wrapper.html).\r\n\r\nThis allows you to run the Maven project without having Maven installed and present on the path. It downloads the correct Maven version if it&#39;s not found (as far as I know by default in your user home directory).\r\n\r\nThe `mvnw` file is for Linux (bash) and the `mvnw.cmd` is for the Windows environment.\r\n\r\n---\r\nTo create or update all necessary Maven Wrapper files execute the following command:\r\n\r\n\r\n    mvn -N io.takari:maven:wrapper\r\n\r\nTo use a different version of maven you can specify the version as follows:\r\n\r\n    mvn -N io.takari:maven:wrapper -Dmaven=3.3.3\r\n\r\n\r\nBoth commands require maven on `PATH` (add the path to maven `bin` to `Path` on System Variables) if you already have mvnw in your project you can use `./mvnw` instead of `mvn` in the commands.","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>These files are from <a href=\"https://github.com/takari/maven-wrapper\" rel=\"noreferrer\">Maven wrapper</a>. It works similarly to the <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html\" rel=\"noreferrer\">Gradle wrapper</a>.</p>\n\n<p>This allows you to run the Maven project without having Maven installed and present on the path. It downloads the correct Maven version if it's not found (as far as I know by default in your user home directory).</p>\n\n<p>The <code>mvnw</code> file is for Linux (bash) and the <code>mvnw.cmd</code> is for the Windows environment.</p>\n\n<hr>\n\n<p>To create or update all necessary Maven Wrapper files execute the following command:</p>\n\n<pre><code>mvn -N io.takari:maven:wrapper\n</code></pre>\n\n<p>To use a different version of maven you can specify the version as follows:</p>\n\n<pre><code>mvn -N io.takari:maven:wrapper -Dmaven=3.3.3\n</code></pre>\n\n<p>Both commands require maven on <code>PATH</code> (add the path to maven <code>bin</code> to <code>Path</code> on System Variables) if you already have mvnw in your project you can use <code>./mvnw</code> instead of <code>mvn</code> in the commands.</p>\n"},{"tags":[],"owner":{"account_id":5906169,"reputation":10565,"user_id":4647853,"accept_rate":74,"display_name":"Michal Kordas"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1489998476,"creation_date":1482228093,"answer_id":41239572,"question_id":38723833,"body_markdown":"Command `mvnw` uses Maven that is by default downloaded to `~/.m2/wrapper` on the first use.\r\n\r\nURL with Maven is specified in each project at `.mvn/wrapper/maven-wrapper.properties`:\r\n\r\n    distributionUrl=https://repo1.maven.org/maven2/org/apache/maven/apache-maven/3.3.9/apache-maven-3.3.9-bin.zip\r\n\r\nTo update or change Maven version invoke the following (remember about `--non-recursive` for multi-module projects):\r\n\r\n    ./mvnw io.takari:maven:wrapper -Dmaven=3.3.9 \r\nor just modify `.mvn/wrapper/maven-wrapper.properties` manually.\r\n\r\nTo generate wrapper from scratch using Maven (you need to have it already in `PATH` run:\r\n    \r\n    mvn io.takari:maven:wrapper -Dmaven=3.3.9 ","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>Command <code>mvnw</code> uses Maven that is by default downloaded to <code>~/.m2/wrapper</code> on the first use.</p>\n\n<p>URL with Maven is specified in each project at <code>.mvn/wrapper/maven-wrapper.properties</code>:</p>\n\n<pre><code>distributionUrl=https://repo1.maven.org/maven2/org/apache/maven/apache-maven/3.3.9/apache-maven-3.3.9-bin.zip\n</code></pre>\n\n<p>To update or change Maven version invoke the following (remember about <code>--non-recursive</code> for multi-module projects):</p>\n\n<pre><code>./mvnw io.takari:maven:wrapper -Dmaven=3.3.9 \n</code></pre>\n\n<p>or just modify <code>.mvn/wrapper/maven-wrapper.properties</code> manually.</p>\n\n<p>To generate wrapper from scratch using Maven (you need to have it already in <code>PATH</code> run:</p>\n\n<pre><code>mvn io.takari:maven:wrapper -Dmaven=3.3.9 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":8458888,"reputation":85,"user_id":6345281,"display_name":"Andr&#233;"},"down_vote_count":8,"up_vote_count":5,"is_accepted":false,"score":-3,"last_activity_date":1521233769,"creation_date":1521233769,"answer_id":49329376,"question_id":38723833,"body_markdown":"By far the best option nowadays would be using a maven container as a builder tool. A `mvn.sh` script like this would be enough:\r\n\r\n    #!/bin/bash\r\n    docker run --rm -ti \\\r\n     -v $(pwd):/opt/app \\\r\n     -w /opt/app \\\r\n     -e TERM=xterm \\\r\n     -v $HOME/.m2:/root/.m2 \\\r\n     maven mvn &quot;$@&quot;\r\n\r\n","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>By far the best option nowadays would be using a maven container as a builder tool. A <code>mvn.sh</code> script like this would be enough:</p>\n\n<pre><code>#!/bin/bash\ndocker run --rm -ti \\\n -v $(pwd):/opt/app \\\n -w /opt/app \\\n -e TERM=xterm \\\n -v $HOME/.m2:/root/.m2 \\\n maven mvn \"$@\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15190407,"reputation":13077,"user_id":10961238,"display_name":"Romil Patel"},"down_vote_count":1,"up_vote_count":31,"is_accepted":false,"score":30,"last_activity_date":1608097182,"creation_date":1573658769,"answer_id":58840346,"question_id":38723833,"body_markdown":"The [Maven Wrapper][1] is an excellent choice for projects that need a specific version of Maven (or for users that don&#39;t want to install Maven at all). **Instead of installing many versions of it in the operating system, we can just use the project-specific wrapper script.**\r\n\r\n**mvnw:** it&#39;s an executable Unix shell script used in place of a fully installed Maven\r\n\r\n**mvnw.cmd**: it&#39;s for Windows environment\r\n\r\n----------\r\n\r\n**Use Cases**\r\n\r\nThe wrapper should work with different operating systems such as:\r\n\r\n- Linux\r\n- OSX\r\n- Windows\r\n- Solaris\r\n\r\n\r\nAfter that, we can run our goals like this for the Unix system:\r\n\r\n\r\n    ./mvnw clean install\r\n\r\nAnd the following command for Batch:\r\n\r\n\r\n    ./mvnw.cmd clean install\r\n\r\nIf we don&#39;t have the specified Maven in the wrapper properties, it&#39;ll be downloaded and installed in the folder `$USER_HOME/.m2/wrapper/dists` of the system.\r\n\r\n\r\n----------\r\n**Maven Wrapper plugin**\r\n\r\n[Maven Wrapper plugin][2] to make auto installation in a simple Spring Boot project.\r\n\r\nFirst, we need to go in the main folder of the project and run this command:\r\n\r\n    mvn -N io.takari:maven:wrapper\r\n\r\nWe can also specify the version of Maven:\r\n\r\n\r\n    mvn -N io.takari:maven:wrapper -Dmaven=3.5.2\r\n\r\nThe option -N means non-recursive so that the wrapper will only be applied to the main project of the current directory, not in any submodules.\r\n\r\n----------\r\n\r\n&lt;b&gt;Source 1 (further reading):&lt;/b&gt; https://www.baeldung.com/maven-wrapper\r\n\r\n\r\n  [1]: https://github.com/takari/maven-wrapper\r\n  [2]: https://github.com/takari/takari-maven-plugin","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>The <a href=\"https://github.com/takari/maven-wrapper\" rel=\"noreferrer\">Maven Wrapper</a> is an excellent choice for projects that need a specific version of Maven (or for users that don't want to install Maven at all). <strong>Instead of installing many versions of it in the operating system, we can just use the project-specific wrapper script.</strong></p>\n<p><strong>mvnw:</strong> it's an executable Unix shell script used in place of a fully installed Maven</p>\n<p><strong>mvnw.cmd</strong>: it's for Windows environment</p>\n<hr />\n<p><strong>Use Cases</strong></p>\n<p>The wrapper should work with different operating systems such as:</p>\n<ul>\n<li>Linux</li>\n<li>OSX</li>\n<li>Windows</li>\n<li>Solaris</li>\n</ul>\n<p>After that, we can run our goals like this for the Unix system:</p>\n<pre><code>./mvnw clean install\n</code></pre>\n<p>And the following command for Batch:</p>\n<pre><code>./mvnw.cmd clean install\n</code></pre>\n<p>If we don't have the specified Maven in the wrapper properties, it'll be downloaded and installed in the folder <code>$USER_HOME/.m2/wrapper/dists</code> of the system.</p>\n<hr />\n<p><strong>Maven Wrapper plugin</strong></p>\n<p><a href=\"https://github.com/takari/takari-maven-plugin\" rel=\"noreferrer\">Maven Wrapper plugin</a> to make auto installation in a simple Spring Boot project.</p>\n<p>First, we need to go in the main folder of the project and run this command:</p>\n<pre><code>mvn -N io.takari:maven:wrapper\n</code></pre>\n<p>We can also specify the version of Maven:</p>\n<pre><code>mvn -N io.takari:maven:wrapper -Dmaven=3.5.2\n</code></pre>\n<p>The option -N means non-recursive so that the wrapper will only be applied to the main project of the current directory, not in any submodules.</p>\n<hr />\n<p><b>Source 1 (further reading):</b> <a href=\"https://www.baeldung.com/maven-wrapper\" rel=\"noreferrer\">https://www.baeldung.com/maven-wrapper</a></p>\n"},{"tags":[],"owner":{"account_id":5418168,"reputation":1454,"user_id":4312720,"display_name":"Jorge Tovar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1636060741,"creation_date":1636060741,"answer_id":69845961,"question_id":38723833,"body_markdown":"**short answer**: to run Maven and Gradle in the terminal without following manual installation processes.\r\n\r\nGradle example:\r\n\r\n    ./gradlew clean build\r\n    ./gradlew bootRun\r\n\r\nMaven example:\r\n\r\n    ./mvnw clean install\r\n    ./mvnw spring-boot:run\r\n\r\n&quot;*The **recommended way to execute any Gradle build is with the help of the Gradle Wrapper** (in short just Wrapper). The Wrapper is a script that invokes a declared version of Gradle, downloading it beforehand if necessary. As a result, developers can get up and running with a Gradle project quickly without having to follow manual installation processes **saving your company time and money**.*&quot;\r\n\r\nGradle would also add some specific files corresponding to the Maven files **Gradlew** and **Gradle.bat**\r\n\r\n\r\n[![Initializer][2]][2]\r\n\r\n\r\n  [1]: https://start.spring.io\r\n  [2]: https://i.stack.imgur.com/n6VGb.png","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p><strong>short answer</strong>: to run Maven and Gradle in the terminal without following manual installation processes.</p>\n<p>Gradle example:</p>\n<pre><code>./gradlew clean build\n./gradlew bootRun\n</code></pre>\n<p>Maven example:</p>\n<pre><code>./mvnw clean install\n./mvnw spring-boot:run\n</code></pre>\n<p>&quot;<em>The <strong>recommended way to execute any Gradle build is with the help of the Gradle Wrapper</strong> (in short just Wrapper). The Wrapper is a script that invokes a declared version of Gradle, downloading it beforehand if necessary. As a result, developers can get up and running with a Gradle project quickly without having to follow manual installation processes <strong>saving your company time and money</strong>.</em>&quot;</p>\n<p>Gradle would also add some specific files corresponding to the Maven files <strong>Gradlew</strong> and <strong>Gradle.bat</strong></p>\n<p><a href=\"https://i.stack.imgur.com/n6VGb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n6VGb.png\" alt=\"Initializer\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1673319233,"creation_date":1665329263,"answer_id":74006052,"question_id":38723833,"body_markdown":"In the windows OS, `mvnw clean install` is used for the maven clean and install activity, and `mvnw spring-boot:run` is used to run the Spring boot application from Command Prompt.\r\n\r\nFor Eaxmple:\r\n\r\n    C:\\SamplesSpringBoot\\demo&gt;mvnw clean install\r\n    C:\\SamplesSpringBoot\\demo&gt;mvnw spring-boot:run","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>In the windows OS, <code>mvnw clean install</code> is used for the maven clean and install activity, and <code>mvnw spring-boot:run</code> is used to run the Spring boot application from Command Prompt.</p>\n<p>For Eaxmple:</p>\n<pre><code>C:\\SamplesSpringBoot\\demo&gt;mvnw clean install\nC:\\SamplesSpringBoot\\demo&gt;mvnw spring-boot:run\n</code></pre>\n"}],"owner":{"account_id":449860,"reputation":5594,"user_id":844890,"accept_rate":61,"display_name":"shaunthomas999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":222669,"favorite_count":0,"down_vote_count":1,"up_vote_count":430,"accepted_answer_id":38723930,"answer_count":6,"score":429,"last_activity_date":1674466455,"creation_date":1470149600,"question_id":38723833,"body_markdown":"When I created a Spring Boot application I could see `mvnw` and `mvnw.cmd` files in the root of the project. What is the purpose of these two files?","title":"What is the purpose of mvnw and mvnw.cmd files?","body":"<p>When I created a Spring Boot application I could see <code>mvnw</code> and <code>mvnw.cmd</code> files in the root of the project. What is the purpose of these two files?</p>\n"},{"tags":["java","spring","spring-boot","file-upload","application.properties"],"answers":[{"tags":[],"owner":{"account_id":15190407,"reputation":13077,"user_id":10961238,"display_name":"Romil Patel"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1558413909,"creation_date":1558371098,"answer_id":56225175,"question_id":56222833,"body_markdown":"They had changed the property names in different versions.\r\n\r\n**Spring Boot 1.3.x and earlier**\r\n\r\n    multipart.max-file-size\r\n    multipart.max-request-size\r\n\r\n**After Spring Boot 1.3.x:**\r\n\r\n    spring.http.multipart.max-file-size=-1\r\n    spring.http.multipart.max-request-size=-1\r\n\r\n**After Spring Boot 2.0:**\r\n\r\n    spring.servlet.multipart.max-file-size=-1\r\n    spring.servlet.multipart.max-request-size=-1\r\n\r\n\r\n----------\r\n\r\n\r\n&gt; max-file-size Vs max-request-size\r\n\r\n spring.servlet.multipart.max-file-size = 2MB\r\n\r\n**Max size per file the upload supports is 2MB;** \r\n\r\nalso supports the MB or KB suffixes; \r\nby default 1MB\r\n\r\n\r\n----------\r\n\r\n\r\n    spring.servlet.multipart.max-request-size=10MB \r\n\r\n**max size of the whole request is 10MB;** \r\n\r\nalso supports the MB or KB suffixes\r\n\r\nFor unlimited upload file size, It seems setting `-1` will make it for infinite file size.\r\n\r\n\r\n----------\r\n**UPDATE:**\r\nYou don&#39;t need to specify any `spring.** property` at Controller Level (expect headers Content-Type in some case). You can set these properties in `appilcation.properties` file as below.\r\n\r\n    # MULTIPART (MultipartProperties)\r\n    spring.servlet.multipart.enabled=true # Whether to enable support of multipart uploads.\r\n    spring.servlet.multipart.file-size-threshold=0B # Threshold after which files are written to disk.\r\n    spring.servlet.multipart.location= # Intermediate location of uploaded files.\r\n    spring.servlet.multipart.max-file-size=1MB # Max file size.\r\n    spring.servlet.multipart.max-request-size=10MB # Max request size.\r\n    spring.servlet.multipart.resolve-lazily=false # Whether to resolve the multipart request lazily at the time of file or parameter access.\r\n\r\n","title":"Confusion regarding spring.http.multipart.max-file-size vs spring.servlet.multipart.max-file-size","body":"<p>They had changed the property names in different versions.</p>\n\n<p><strong>Spring Boot 1.3.x and earlier</strong></p>\n\n<pre><code>multipart.max-file-size\nmultipart.max-request-size\n</code></pre>\n\n<p><strong>After Spring Boot 1.3.x:</strong></p>\n\n<pre><code>spring.http.multipart.max-file-size=-1\nspring.http.multipart.max-request-size=-1\n</code></pre>\n\n<p><strong>After Spring Boot 2.0:</strong></p>\n\n<pre><code>spring.servlet.multipart.max-file-size=-1\nspring.servlet.multipart.max-request-size=-1\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>max-file-size Vs max-request-size</p>\n</blockquote>\n\n<p>spring.servlet.multipart.max-file-size = 2MB</p>\n\n<p><strong>Max size per file the upload supports is 2MB;</strong> </p>\n\n<p>also supports the MB or KB suffixes; \nby default 1MB</p>\n\n<hr>\n\n<pre><code>spring.servlet.multipart.max-request-size=10MB \n</code></pre>\n\n<p><strong>max size of the whole request is 10MB;</strong> </p>\n\n<p>also supports the MB or KB suffixes</p>\n\n<p>For unlimited upload file size, It seems setting <code>-1</code> will make it for infinite file size.</p>\n\n<hr>\n\n<p><strong>UPDATE:</strong>\nYou don't need to specify any <code>spring.** property</code> at Controller Level (expect headers Content-Type in some case). You can set these properties in <code>appilcation.properties</code> file as below.</p>\n\n<pre><code># MULTIPART (MultipartProperties)\nspring.servlet.multipart.enabled=true # Whether to enable support of multipart uploads.\nspring.servlet.multipart.file-size-threshold=0B # Threshold after which files are written to disk.\nspring.servlet.multipart.location= # Intermediate location of uploaded files.\nspring.servlet.multipart.max-file-size=1MB # Max file size.\nspring.servlet.multipart.max-request-size=10MB # Max request size.\nspring.servlet.multipart.resolve-lazily=false # Whether to resolve the multipart request lazily at the time of file or parameter access.\n</code></pre>\n"}],"owner":{"account_id":1701977,"reputation":513,"user_id":1561783,"accept_rate":44,"display_name":"user1561783"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10981,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":56225175,"answer_count":1,"score":11,"last_activity_date":1674466381,"creation_date":1558361844,"question_id":56222833,"body_markdown":"I have spent days wasted getting Spring Boot Upload file to work but, as is always with Spring you have no clue how the magic works and even after years of working with this framework - you have to google tonnes of times to unravel what has gone wrong and solve things like as if you are going thru a maze,it&#39;s a maintainability nightmare.\r\n\r\nUsing Spring Boot 2.2.0.M3 for file uploads what is the difference between the 2 pair&#39;s of settings ? Which is right ?\r\n\r\n    spring.http.multipart.max-file-size=-1\r\n    spring.http.multipart.max-request-size=-1\r\n\r\n***Is the above &quot;http&quot; used with Spring REST controller methods namely like this ...\r\n@GetMapping(&quot;/files/{filename:.+}&quot;)\r\n@ResponseBody\r\npublic ModelAndView yourMethod(.....)\r\nOr is this not needed at all and is a complete red-herring and it is the setting below that does all the work for files bigger than the default of 1MB for both REST http or Servlet requests.***\r\n\r\n    spring.servlet.multipart.max-file-size=-1\r\n    spring.servlet.multipart.max-request-size=-1\r\n\r\nException on uploading\r\n======================\r\nMaximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.","title":"Confusion regarding spring.http.multipart.max-file-size vs spring.servlet.multipart.max-file-size","body":"<p>I have spent days wasted getting Spring Boot Upload file to work but, as is always with Spring you have no clue how the magic works and even after years of working with this framework - you have to google tonnes of times to unravel what has gone wrong and solve things like as if you are going thru a maze,it's a maintainability nightmare.</p>\n\n<p>Using Spring Boot 2.2.0.M3 for file uploads what is the difference between the 2 pair's of settings ? Which is right ?</p>\n\n<pre><code>spring.http.multipart.max-file-size=-1\nspring.http.multipart.max-request-size=-1\n</code></pre>\n\n<p><strong><em>Is the above \"http\" used with Spring REST controller methods namely like this ...\n@GetMapping(\"/files/{filename:.+}\")\n@ResponseBody\npublic ModelAndView yourMethod(.....)\nOr is this not needed at all and is a complete red-herring and it is the setting below that does all the work for files bigger than the default of 1MB for both REST http or Servlet requests.</em></strong></p>\n\n<pre><code>spring.servlet.multipart.max-file-size=-1\nspring.servlet.multipart.max-request-size=-1\n</code></pre>\n\n<h1>Exception on uploading</h1>\n\n<p>Maximum upload size exceeded; nested exception is java.lang.IllegalStateException: org.apache.tomcat.util.http.fileupload.FileUploadBase$FileSizeLimitExceededException: The field file exceeds its maximum permitted size of 1048576 bytes.</p>\n"},{"tags":["java","validation","datetime"],"comments":[{"owner":{"account_id":329906,"reputation":12891,"user_id":653708,"accept_rate":90,"display_name":"8bitjunkie"},"score":2,"creation_date":1386940701,"post_id":14194290,"comment_id":30762558,"body_markdown":"Your question has attracted a lot of answers which recommend the SimpleDateFormat class. Be careful with this. To give two examples, the parse() method cannot detect errornous months (i.e. 13th month) and the format for year can be burst with longer years. You can&#39;t *just validate* a Date with this class. It depends on *what* you want to validate.","body":"Your question has attracted a lot of answers which recommend the SimpleDateFormat class. Be careful with this. To give two examples, the parse() method cannot detect errornous months (i.e. 13th month) and the format for year can be burst with longer years. You can&#39;t <i>just validate</i> a Date with this class. It depends on <i>what</i> you want to validate."},{"owner":{"account_id":406441,"reputation":32619,"user_id":775954,"accept_rate":85,"display_name":"Matthias Braun"},"score":0,"creation_date":1674466101,"post_id":14194290,"comment_id":132711972,"body_markdown":"See also [this answer](https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java) for more ways to validate a date in Java.","body":"See also <a href=\"https://stackoverflow.com/questions/226910/how-to-sanity-check-a-date-in-java\">this answer</a> for more ways to validate a date in Java."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1626179767,"creation_date":1357555591,"answer_id":14194315,"question_id":14194290,"body_markdown":"Like this:\r\n\r\n    Date date = null;\r\n    String inputDate = &quot;07-01-2013&quot;;\r\n    try {\r\n        DateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n        formatter.setLenient(false);\r\n        date = formatter.parse(inputDate);\r\n    } catch (ParseException e) { \r\n        e.printStackTrace();\r\n    }\r\n\r\nUpdated on 13-Jul-2021:\r\n\r\nI heartily agree with Ole V.V.&#39;s comment below.  All Java and Kotlin developers should prefer the java.time package.\r\n\r\nI&#39;ll add a more modern example when time permits.\r\n\r\n","title":"Validating a date in Java","body":"<p>Like this:</p>\n<pre><code>Date date = null;\nString inputDate = &quot;07-01-2013&quot;;\ntry {\n    DateFormat formatter = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\n    formatter.setLenient(false);\n    date = formatter.parse(inputDate);\n} catch (ParseException e) { \n    e.printStackTrace();\n}\n</code></pre>\n<p>Updated on 13-Jul-2021:</p>\n<p>I heartily agree with Ole V.V.'s comment below.  All Java and Kotlin developers should prefer the java.time package.</p>\n<p>I'll add a more modern example when time permits.</p>\n"},{"tags":[],"owner":{"account_id":351195,"reputation":15829,"user_id":687514,"display_name":"Anders R. Bystrup"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411091417,"creation_date":1357555614,"answer_id":14194323,"question_id":14194290,"body_markdown":"Have a look at [`SimpleDateFormat.parse(...)`][1] and do remember to surround with try-catch.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29","title":"Validating a date in Java","body":"<p>Have a look at <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29\" rel=\"nofollow\"><code>SimpleDateFormat.parse(...)</code></a> and do remember to surround with try-catch.</p>\n"},{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1357555719,"creation_date":1357555719,"answer_id":14194348,"question_id":14194290,"body_markdown":"You should use [`SimpleDateFormat.parse(String)`][1] method. if the passed date is of wrong format it throws an exception in which case you return false.\r\n\r\n    public boolean validateDate(String date) {\r\n    \tSimpleDateFormat sdf = new SimpleDateFormat(&quot;dd-MM-yyyy&quot;);\r\n    \ttry {\r\n    \t\tsdf.parse(date);\r\n    \t\treturn true;\r\n    \t}\r\n    \tcatch(ParseException ex) {\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29","title":"Validating a date in Java","body":"<p>You should use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/text/SimpleDateFormat.html#parse%28java.lang.String,%20java.text.ParsePosition%29\" rel=\"nofollow\"><code>SimpleDateFormat.parse(String)</code></a> method. if the passed date is of wrong format it throws an exception in which case you return false.</p>\n\n<pre><code>public boolean validateDate(String date) {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"dd-MM-yyyy\");\n    try {\n        sdf.parse(date);\n        return true;\n    }\n    catch(ParseException ex) {\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357555743,"creation_date":1357555743,"answer_id":14194353,"question_id":14194290,"body_markdown":"The standard JDK class for that is [SimpleDateFormat][1]:\r\n\r\n    DateFormat fmt = new SimpleDateFormat(&quot;yourformathere&quot;);\r\n\r\n    // use fmt.parse() to check for validity\r\n\r\nAlternatively, I&#39;d recommend using [Joda Time][2]&#39;s `DateTimeFormat`.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: http://joda-time.sourceforge.net","title":"Validating a date in Java","body":"<p>The standard JDK class for that is <a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow\">SimpleDateFormat</a>:</p>\n\n<pre><code>DateFormat fmt = new SimpleDateFormat(\"yourformathere\");\n\n// use fmt.parse() to check for validity\n</code></pre>\n\n<p>Alternatively, I'd recommend using <a href=\"http://joda-time.sourceforge.net\" rel=\"nofollow\">Joda Time</a>'s <code>DateTimeFormat</code>.</p>\n"},{"tags":[],"owner":{"account_id":132618,"reputation":44018,"user_id":333426,"display_name":"Roy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1357557295,"creation_date":1357557295,"answer_id":14194772,"question_id":14194290,"body_markdown":"Rather than relying on exceptions which tend to have a small performance overhead, you can also use the [DateValidator][1] from the Apache commons routines package like this:\r\n\r\n    if (DateValidator.getInstance().validate(inputDate, &quot;dd-MM-yyyy&quot;) != null) {\r\n      // Date is valid\r\n    }\r\n    else {\r\n      // Date is invalid\r\n    }\r\n\r\nSmall disclaimer though, I haven&#39;t looked at the implementation of the validate method and I&#39;m not sure if it uses for instance the SimpleDateFormat...\r\n\r\n  [1]: http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/DateValidator.html","title":"Validating a date in Java","body":"<p>Rather than relying on exceptions which tend to have a small performance overhead, you can also use the <a href=\"http://commons.apache.org/validator/apidocs/org/apache/commons/validator/routines/DateValidator.html\" rel=\"nofollow\">DateValidator</a> from the Apache commons routines package like this:</p>\n\n<pre><code>if (DateValidator.getInstance().validate(inputDate, \"dd-MM-yyyy\") != null) {\n  // Date is valid\n}\nelse {\n  // Date is invalid\n}\n</code></pre>\n\n<p>Small disclaimer though, I haven't looked at the implementation of the validate method and I'm not sure if it uses for instance the SimpleDateFormat...</p>\n"},{"tags":[],"owner":{"account_id":1590496,"reputation":1304,"user_id":1473907,"accept_rate":73,"display_name":"mcacorner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544677726,"creation_date":1544677726,"answer_id":53755304,"question_id":14194290,"body_markdown":"One can use [joda-time][1].\r\n\r\n    DateTimeFormat.forPattern(INPUTED_DATE_FORMAT);\r\n    //one can also use it with locale\r\n    DateTimeFormat.forPattern(USER_DATE_FORMAT).withLocale(locale);\r\n    fmt.parseDateTime(INPUTED_DATE);\r\n\r\nIf `parseDateTime` throw `IllegalArgumentException` then date is not valid.\r\n\r\n  [1]: https://www.joda.org/joda-time/userguide.html","title":"Validating a date in Java","body":"<p>One can use <a href=\"https://www.joda.org/joda-time/userguide.html\" rel=\"nofollow noreferrer\">joda-time</a>.</p>\n\n<pre><code>DateTimeFormat.forPattern(INPUTED_DATE_FORMAT);\n//one can also use it with locale\nDateTimeFormat.forPattern(USER_DATE_FORMAT).withLocale(locale);\nfmt.parseDateTime(INPUTED_DATE);\n</code></pre>\n\n<p>If <code>parseDateTime</code> throw <code>IllegalArgumentException</code> then date is not valid.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626185112,"creation_date":1626178538,"answer_id":68362223,"question_id":14194290,"body_markdown":"## java.time\r\n\r\nI recommend that you use java.time, the modern Java date and time API, for your date work. It also gives you much preciser validation than the old `SimpleDateFormat` class used in some of the other answers.\r\n\r\n\t\tString[] exampleInputStrings = { &quot;07-01-2013&quot;, &quot;07-01-017&quot;,\r\n\t\t\t\t&quot;07-01-2ooo&quot;, &quot;32-01-2017&quot;, &quot;7-1-2013&quot;, &quot;07-01-2013 blabla&quot; };\r\n\t\t\r\n\t\tfor (String inputDate : exampleInputStrings) {\r\n\t\t\ttry {\r\n\t\t\t\tLocalDate date = LocalDate.parse(inputDate, DATE_FORMATTER);\r\n\t\t\t\tSystem.out.println(inputDate + &quot;: valid date: &quot; + date );\r\n\t\t\t} catch (DateTimeParseException dtpe) {\r\n\t\t\t\tSystem.out.println(inputDate + &quot;: invalid date: &quot; + dtpe.getMessage());\r\n\t\t\t}\r\n\t\t}\r\n\r\nOutput from my example code is:\r\n\r\n&gt;     07-01-2013: valid date: 2013-01-07\r\n&gt;     07-01-017: invalid date: Text &#39;07-01-017&#39; could not be parsed at index 6\r\n&gt;     07-01-2ooo: invalid date: Text &#39;07-01-2ooo&#39; could not be parsed at index 6\r\n&gt;     32-01-2017: invalid date: Text &#39;32-01-2017&#39; could not be parsed: Invalid value for DayOfMonth (valid values 1 - 28/31): 32\r\n&gt;     7-1-2013: invalid date: Text &#39;7-1-2013&#39; could not be parsed at index 0\r\n&gt;     07-01-2013 blabla: invalid date: Text &#39;07-01-2013 blabla&#39; could not be parsed, unparsed text found at index 10\r\n\r\nFor a good validation you should probably add a range check. Use the `isBefore` and/or the `isAfter` method of `LocalDate`.\r\n\r\nAlso if you are going to do anything with the date more than validating it, you should keep the `LocalDate` from the parsing around in your program (not the string).\r\n\r\n## Link\r\n\r\n[Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n","title":"Validating a date in Java","body":"<h2 id=\"java.time-kn09\">java.time</h2>\n<p>I recommend that you use java.time, the modern Java date and time API, for your date work. It also gives you much preciser validation than the old <code>SimpleDateFormat</code> class used in some of the other answers.</p>\n<pre><code>    String[] exampleInputStrings = { &quot;07-01-2013&quot;, &quot;07-01-017&quot;,\n            &quot;07-01-2ooo&quot;, &quot;32-01-2017&quot;, &quot;7-1-2013&quot;, &quot;07-01-2013 blabla&quot; };\n    \n    for (String inputDate : exampleInputStrings) {\n        try {\n            LocalDate date = LocalDate.parse(inputDate, DATE_FORMATTER);\n            System.out.println(inputDate + &quot;: valid date: &quot; + date );\n        } catch (DateTimeParseException dtpe) {\n            System.out.println(inputDate + &quot;: invalid date: &quot; + dtpe.getMessage());\n        }\n    }\n</code></pre>\n<p>Output from my example code is:</p>\n<blockquote>\n<pre><code>07-01-2013: valid date: 2013-01-07\n07-01-017: invalid date: Text '07-01-017' could not be parsed at index 6\n07-01-2ooo: invalid date: Text '07-01-2ooo' could not be parsed at index 6\n32-01-2017: invalid date: Text '32-01-2017' could not be parsed: Invalid value for DayOfMonth (valid values 1 - 28/31): 32\n7-1-2013: invalid date: Text '7-1-2013' could not be parsed at index 0\n07-01-2013 blabla: invalid date: Text '07-01-2013 blabla' could not be parsed, unparsed text found at index 10\n</code></pre>\n</blockquote>\n<p>For a good validation you should probably add a range check. Use the <code>isBefore</code> and/or the <code>isAfter</code> method of <code>LocalDate</code>.</p>\n<p>Also if you are going to do anything with the date more than validating it, you should keep the <code>LocalDate</code> from the parsing around in your program (not the string).</p>\n<h2 id=\"link-eaub\">Link</h2>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</p>\n"}],"owner":{"account_id":2213537,"reputation":41,"user_id":1954746,"display_name":"user1954746"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48917,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":7,"score":4,"last_activity_date":1674466217,"creation_date":1357555467,"question_id":14194290,"body_markdown":"I am using NetBeans IDE 7.2.\r\nI have two separate classes `newDateTest.java` and `newDateMethod.java`, I am currently using my method class to validate a date from a user input which I have used in my test class.\r\n\r\nSo far in my test class I have the following:\r\n\r\n    try\r\n    {\r\n        Prompt =&quot;please enter a date in the format dd-mm-yyyy&quot;;\r\n        System.out.println(Prompt);\r\n        String inputDate = in.next();\r\n        isValid = newDateMethod.validDate(input, input, input);\r\n        if (isValid){\r\n            System.out.println(&quot;VALID DATE&quot;);\r\n            \r\n        } else {\r\n            System.out.println(&quot;INVALID DATE&quot;);\r\n        \r\n        }\r\n        \r\n    } catch (ArrayIndexOutOfBoundsException oob) {\r\n        System.out.println(oob);\r\n    }\r\n    \r\n\r\nHowever I have no idea how to validate the date in my method class as I am fairly new to Java.\r\n\r\nCan anyone come to a solution? The sort of thing I&#39;ve been taught to use is Date Formatter but I&#39;m not sure whether this is appropriate here? If so, I wouldn&#39;t know how to use it\r\n","title":"Validating a date in Java","body":"<p>I am using NetBeans IDE 7.2.\nI have two separate classes <code>newDateTest.java</code> and <code>newDateMethod.java</code>, I am currently using my method class to validate a date from a user input which I have used in my test class.</p>\n<p>So far in my test class I have the following:</p>\n<pre><code>try\n{\n    Prompt =&quot;please enter a date in the format dd-mm-yyyy&quot;;\n    System.out.println(Prompt);\n    String inputDate = in.next();\n    isValid = newDateMethod.validDate(input, input, input);\n    if (isValid){\n        System.out.println(&quot;VALID DATE&quot;);\n        \n    } else {\n        System.out.println(&quot;INVALID DATE&quot;);\n    \n    }\n    \n} catch (ArrayIndexOutOfBoundsException oob) {\n    System.out.println(oob);\n}\n</code></pre>\n<p>However I have no idea how to validate the date in my method class as I am fairly new to Java.</p>\n<p>Can anyone come to a solution? The sort of thing I've been taught to use is Date Formatter but I'm not sure whether this is appropriate here? If so, I wouldn't know how to use it</p>\n"},{"tags":["java","twilio","twilio-functions","twilio-programmable-voice"],"answers":[{"tags":[],"owner":{"account_id":4723783,"reputation":2524,"user_id":3821022,"display_name":"IObert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674465858,"creation_date":1674465858,"answer_id":75207544,"question_id":75196704,"body_markdown":"The code block in your question triggers an outgoing call, which is why it doesn&#39;t work to handle incoming calls (and because the third parameter should contain TwiML and not a phone number).\r\n\r\nTo handle incoming calls with business logic, you need to implement a webhook that returns TwiML. Use the [`&lt;Dial&gt;` Tag](https://www.twilio.com/docs/voice/twiml/dial) in this TwiML response to initiate the call forwarding. Check out [this tutorial](https://www.twilio.com/docs/voice/tutorials/how-to-respond-to-incoming-phone-calls/java) to learn more about this.\r\n\r\nThe proper code should go like this:\r\n```java\r\nimport com.twilio.twiml.voice.Dial;\r\nimport com.twilio.twiml.VoiceResponse;\r\nimport com.twilio.twiml.voice.Say;\r\nimport com.twilio.twiml.TwiMLException;\r\n\r\n\r\npublic class Example {\r\n    public static void main(String[] args) {\r\n        Dial dial = new Dial.Builder(&quot;415-123-4567&quot;).build();\r\n        Say say = new Say.Builder(&quot;Goodbye&quot;).build();\r\n        VoiceResponse response = new VoiceResponse.Builder().dial(dial)\r\n            .say(say).build();\r\n\r\n        try {\r\n            System.out.println(response.toXml());\r\n        } catch (TwiMLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How to forward an incoming call to a Twilio number to another number?","body":"<p>The code block in your question triggers an outgoing call, which is why it doesn't work to handle incoming calls (and because the third parameter should contain TwiML and not a phone number).</p>\n<p>To handle incoming calls with business logic, you need to implement a webhook that returns TwiML. Use the <a href=\"https://www.twilio.com/docs/voice/twiml/dial\" rel=\"nofollow noreferrer\"><code>&lt;Dial&gt;</code> Tag</a> in this TwiML response to initiate the call forwarding. Check out <a href=\"https://www.twilio.com/docs/voice/tutorials/how-to-respond-to-incoming-phone-calls/java\" rel=\"nofollow noreferrer\">this tutorial</a> to learn more about this.</p>\n<p>The proper code should go like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.twilio.twiml.voice.Dial;\nimport com.twilio.twiml.VoiceResponse;\nimport com.twilio.twiml.voice.Say;\nimport com.twilio.twiml.TwiMLException;\n\n\npublic class Example {\n    public static void main(String[] args) {\n        Dial dial = new Dial.Builder(&quot;415-123-4567&quot;).build();\n        Say say = new Say.Builder(&quot;Goodbye&quot;).build();\n        VoiceResponse response = new VoiceResponse.Builder().dial(dial)\n            .say(say).build();\n\n        try {\n            System.out.println(response.toXml());\n        } catch (TwiMLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14980452,"reputation":65,"user_id":11817022,"display_name":"Tech Guy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75207544,"answer_count":1,"score":1,"last_activity_date":1674465858,"creation_date":1674336710,"question_id":75196704,"body_markdown":"I need to forward incoming calls to my Twilio number to a personal number. I need to do this by Java code because I have a few other Business logic executing when TwiMl App redirect the request and because of that, I can&#39;t use Twilio Studio.\r\n\r\nI tried a few ways but didn&#39;t work and can&#39;t make the following method work. I think these are deprecated now,\r\n\r\n    Call call = Call.creator(\r\n    \tnew PhoneNumber(TWILIO_NUMBER),\r\n    \tnew PhoneNumber(FORWARD_TO),\r\n    \tnew PhoneNumber(TWILIO_NUMBER)\r\n    ).create();\r\n\r\nAnd even following `redirect()` method is also not there now.\r\n\r\n    Call.updater(&quot;call-sid&quot;)\r\n    \t.redirect(FORWARD_TO).update();\r\n\t\r\nSo what I need is when a call comes to my Twilio number then that call should be forwarded to my personal number. So how to do this? Can anybody help me? Thanks in advance.","title":"How to forward an incoming call to a Twilio number to another number?","body":"<p>I need to forward incoming calls to my Twilio number to a personal number. I need to do this by Java code because I have a few other Business logic executing when TwiMl App redirect the request and because of that, I can't use Twilio Studio.</p>\n<p>I tried a few ways but didn't work and can't make the following method work. I think these are deprecated now,</p>\n<pre><code>Call call = Call.creator(\n    new PhoneNumber(TWILIO_NUMBER),\n    new PhoneNumber(FORWARD_TO),\n    new PhoneNumber(TWILIO_NUMBER)\n).create();\n</code></pre>\n<p>And even following <code>redirect()</code> method is also not there now.</p>\n<pre><code>Call.updater(&quot;call-sid&quot;)\n    .redirect(FORWARD_TO).update();\n</code></pre>\n<p>So what I need is when a call comes to my Twilio number then that call should be forwarded to my personal number. So how to do this? Can anybody help me? Thanks in advance.</p>\n"},{"tags":["java","ruby","jar","weblogic","jruby"],"comments":[{"owner":{"account_id":178805,"reputation":49349,"user_id":411022,"display_name":"Ilmari Karonen"},"score":1,"creation_date":1674500358,"post_id":75207537,"comment_id":132722941,"body_markdown":"The `gem &#39;jruby-jars&#39;, &#39;1.7.4&#39;` looks just wrong to me, if you&#39;re trying to run JRuby 9.4. But I have no idea if the error you&#39;re getting has anything to do with that. (Also, as a tangential warning, I&#39;d recommend either sticking with JRuby 9.3.9.0 for now or waiting for 9.4.1.0, which should fix a bunch of bugs still present in 9.4.0.0 such as random ArgumentErrors due to [a JIT bug](https://github.com/jruby/jruby/commit/129bd6312839fed1e7054af22607bbcd09b8ec21).)","body":"The <code>gem &#39;jruby-jars&#39;, &#39;1.7.4&#39;</code> looks just wrong to me, if you&#39;re trying to run JRuby 9.4. But I have no idea if the error you&#39;re getting has anything to do with that. (Also, as a tangential warning, I&#39;d recommend either sticking with JRuby 9.3.9.0 for now or waiting for 9.4.1.0, which should fix a bunch of bugs still present in 9.4.0.0 such as random ArgumentErrors due to <a href=\"https://github.com/jruby/jruby/commit/129bd6312839fed1e7054af22607bbcd09b8ec21\" rel=\"nofollow noreferrer\">a JIT bug</a>.)"}],"owner":{"account_id":25603254,"reputation":27,"user_id":19377836,"display_name":"Antonino Scarpelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1674465820,"creation_date":1674465820,"question_id":75207537,"body_markdown":"When i deploy a war with JRuby 9.4.0.0 on Weblogic **12.2.1.4** i get the following error:\r\n\r\n&gt; resetting rack response due exception: org.jruby.rack.RackInitializationException: No such file or directory - C:/logs/oracle/wls/app/app.log from org/jruby/RubyIO.java:1255:in &#39;sysopen&#39; from org/jruby/RubyFile.java:362:in &#39;initialize&#39; from org/jruby/RubyClass.java:931:in &#39;new&#39; from org/jruby/RubyIO.java:1174:in &#39;open&#39; from...\r\n\r\nIs it a problem of compatibility between jar files? It works with JRuby 1.7.4 and Weblogic 12.1.3.\r\n\r\nVersions in **Gemfile**:\r\n\r\n    ruby &#39;3.1.0&#39;\r\n    \r\n    #hardcoded version for Weblogic joda-time bug\r\n    gem &#39;jruby-jars&#39;, &#39;1.7.4&#39;\r\n\r\n**Jar Files** in my *WEB-INF/lib* folder:\r\n\r\n - jruby-complete-9.4.0.0.jar\r\n - jruby-rack-1.1.22.jar\r\n - kryptcore.jar\r\n - kryptproviderjdk.jar\r\n - ojdbc6.jar\r\n\r\nI **removed** the following jars, moving from Weblogic 12.1.3 (it works with this old version of the server):\r\n\r\n - jruby-rack-1.1.14\r\n - jruby-core-1.7.4\r\n - bcprov-jdk15on-1.47\r\n - bcpkix-jdk15on-1.47\r\n - jopenssl\r\n\r\nBecause of issues with bouncycastle (bcprov and bcpkix jars), and i added *jruby-complete* that should include *jruby-core* and *jopenssl* libs.","title":"JRuby and Weblogic 12.2.1.4 compatibility issues","body":"<p>When i deploy a war with JRuby 9.4.0.0 on Weblogic <strong>12.2.1.4</strong> i get the following error:</p>\n<blockquote>\n<p>resetting rack response due exception: org.jruby.rack.RackInitializationException: No such file or directory - C:/logs/oracle/wls/app/app.log from org/jruby/RubyIO.java:1255:in 'sysopen' from org/jruby/RubyFile.java:362:in 'initialize' from org/jruby/RubyClass.java:931:in 'new' from org/jruby/RubyIO.java:1174:in 'open' from...</p>\n</blockquote>\n<p>Is it a problem of compatibility between jar files? It works with JRuby 1.7.4 and Weblogic 12.1.3.</p>\n<p>Versions in <strong>Gemfile</strong>:</p>\n<pre><code>ruby '3.1.0'\n\n#hardcoded version for Weblogic joda-time bug\ngem 'jruby-jars', '1.7.4'\n</code></pre>\n<p><strong>Jar Files</strong> in my <em>WEB-INF/lib</em> folder:</p>\n<ul>\n<li>jruby-complete-9.4.0.0.jar</li>\n<li>jruby-rack-1.1.22.jar</li>\n<li>kryptcore.jar</li>\n<li>kryptproviderjdk.jar</li>\n<li>ojdbc6.jar</li>\n</ul>\n<p>I <strong>removed</strong> the following jars, moving from Weblogic 12.1.3 (it works with this old version of the server):</p>\n<ul>\n<li>jruby-rack-1.1.14</li>\n<li>jruby-core-1.7.4</li>\n<li>bcprov-jdk15on-1.47</li>\n<li>bcpkix-jdk15on-1.47</li>\n<li>jopenssl</li>\n</ul>\n<p>Because of issues with bouncycastle (bcprov and bcpkix jars), and i added <em>jruby-complete</em> that should include <em>jruby-core</em> and <em>jopenssl</em> libs.</p>\n"},{"tags":["java","windows","java-print","windows-driver"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1674209505,"post_id":75182561,"comment_id":132669714,"body_markdown":"can you show the entire stacktrace?","body":"can you show the entire stacktrace?"},{"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"score":0,"creation_date":1674210223,"post_id":75182561,"comment_id":132669939,"body_markdown":"i have shown everything appering on the console","body":"i have shown everything appering on the console"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1674210530,"post_id":75182561,"comment_id":132670045,"body_markdown":"that &#39;s only a very small part of a stacktrace ... how did you get it to print only that?","body":"that &#39;s only a very small part of a stacktrace ... how did you get it to print only that?"},{"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"score":0,"creation_date":1674210873,"post_id":75182561,"comment_id":132670165,"body_markdown":"i have edited the code including my catch clauses, but really, everything i get is the exception i have shared in the question","body":"i have edited the code including my catch clauses, but really, everything i get is the exception i have shared in the question"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1674210961,"post_id":75182561,"comment_id":132670195,"body_markdown":"Its not surprising that the error doesnt happen on Linux, since it is triggered in Win32PrintJob.  The source is at https://github.com/frohoff/jdk8u-jdk/blob/master/src/windows/classes/sun/print/Win32PrintJob.java  , with that message at line 478.  Unfortunately theres no clue as to the cause beyond that the native method `printRawData` failed.","body":"Its not surprising that the error doesnt happen on Linux, since it is triggered in Win32PrintJob.  The source is at <a href=\"https://github.com/frohoff/jdk8u-jdk/blob/master/src/windows/classes/sun/print/Win32PrintJob.java\" rel=\"nofollow noreferrer\">github.com/frohoff/jdk8u-jdk/blob/master/src/windows/classes&zwnj;&#8203;/&hellip;</a>  , with that message at line 478.  Unfortunately theres no clue as to the cause beyond that the native method <code>printRawData</code> failed."},{"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"score":0,"creation_date":1674211173,"post_id":75182561,"comment_id":132670275,"body_markdown":"That&#39;s exactly the point i reached, seeing the problem is in a native method of Win32PrintJob. But how can i success i printing what i must print? I can use some tools to print pdf e ps files, like Ghostscript but what about file written in specific languages like PCL or other printer specific language?","body":"That&#39;s exactly the point i reached, seeing the problem is in a native method of Win32PrintJob. But how can i success i printing what i must print? I can use some tools to print pdf e ps files, like Ghostscript but what about file written in specific languages like PCL or other printer specific language?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1674212203,"post_id":75182561,"comment_id":132670607,"body_markdown":"I wonder if there might be something recorded in the Windows Event Viewer? https://www.digitalcitizen.life/how-start-event-viewer-windows-all-versions/","body":"I wonder if there might be something recorded in the Windows Event Viewer? <a href=\"https://www.digitalcitizen.life/how-start-event-viewer-windows-all-versions/\" rel=\"nofollow noreferrer\">digitalcitizen.life/how-start-event-viewer-windows-all-versi&zwnj;&#8203;ons</a>"},{"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"score":0,"creation_date":1674212863,"post_id":75182561,"comment_id":132670782,"body_markdown":"I did not know this tool, however i checked using your link, the error is indeed registered:   &quot;Impossibile stampare il documento Stampa documento di propriet&#224; di darmon sulla stampante hp4015. Provare di nuovo a stampare il documento o riavviare lo spooler di stampa. \nTipo di dati: RAW. Dimensione del file di spooling in byte: 70. Numero di byte stampati: 70. Numero totale di pagine nel documento: 1. Numero di pagine stampate: 0. Computer client: \\\\BLPC156. Codice di errore Win32 restituito dal processore di stampa: 2152796175&quot; sorry, language is Italian","body":"I did not know this tool, however i checked using your link, the error is indeed registered:   &quot;Impossibile stampare il documento Stampa documento di propriet&#224; di darmon sulla stampante hp4015. Provare di nuovo a stampare il documento o riavviare lo spooler di stampa.  Tipo di dati: RAW. Dimensione del file di spooling in byte: 70. Numero di byte stampati: 70. Numero totale di pagine nel documento: 1. Numero di pagine stampate: 0. Computer client: \\\\BLPC156. Codice di errore Win32 restituito dal processore di stampa: 2152796175&quot; sorry, language is Italian"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1674213931,"post_id":75182561,"comment_id":132671099,"body_markdown":"Fortunately Google Translate was up to the job :D.   I then found that someone else had a chat with Microsoft about this exact error  so I hope it helps but I will have to leave it there - best of luck :) https://social.technet.microsoft.com/Forums/windowsserver/en-US/0e72ba1d-8c80-4e76-88a7-8d48335f78d5/windows-server-2012-printing-error?forum=winserverprint","body":"Fortunately Google Translate was up to the job :D.   I then found that someone else had a chat with Microsoft about this exact error  so I hope it helps but I will have to leave it there - best of luck :) <a href=\"https://social.technet.microsoft.com/Forums/windowsserver/en-US/0e72ba1d-8c80-4e76-88a7-8d48335f78d5/windows-server-2012-printing-error?forum=winserverprint\" rel=\"nofollow noreferrer\">social.technet.microsoft.com/Forums/windowsserver/en-US/&hellip;</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":1,"creation_date":1674214411,"post_id":75182561,"comment_id":132671249,"body_markdown":"Oh, of you have questions about installing the right driver, probably the best place to ask would be at StackOverflows sister site https://superuser.com/","body":"Oh, of you have questions about installing the right driver, probably the best place to ask would be at StackOverflows sister site <a href=\"https://superuser.com/\">superuser.com</a>"},{"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"score":0,"creation_date":1674220641,"post_id":75182561,"comment_id":132673147,"body_markdown":"My program must be able to print PDF files and file containing printer specific languages. In the first case i am using PDFBox to print, for the second one i have to find some solution because the raw printing is not working. I don&#39;t know Ghostscript PDL, i am using Ghostscript through Ghost4J Java wrapper, i don&#39;t know if i can use Ghostscript PDL the same way","body":"My program must be able to print PDF files and file containing printer specific languages. In the first case i am using PDFBox to print, for the second one i have to find some solution because the raw printing is not working. I don&#39;t know Ghostscript PDL, i am using Ghostscript through Ghost4J Java wrapper, i don&#39;t know if i can use Ghostscript PDL the same way"}],"answers":[{"tags":[],"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1674464919,"creation_date":1674464919,"answer_id":75207395,"question_id":75182561,"body_markdown":"I found out something really interesting.\r\n\r\nThe problem was linked to the HP driver i was using. My PC uses a driver called &quot;HP Laser\\Jet P4014/4015 PCL6 Class Driver&quot;.\r\n\r\nRepeating the test from an other Windows PC, i found out that the exact same code successfully printed. Exploring Printer configuration i found out that the second PC was using driver &quot;HP Universal Printing PCL6&quot;.\r\n\r\nAnd there is more, considering that my code just raw prints data, i tried setting a generic driver like &quot;Generic Text/Only&quot; (that is unsuitable for PCL5 file i guess) and the print is succefull, on both PCs \r\n\r\nSo, in conclusion, i think my original driver was probably something other than sending raw file data to the printer, something that broke the mechanism.\r\n\r\nUsing other drivers, the file is correctly sent to printer in raw mode and everything works fine.","title":"Java program to print raw data in Windows fails","body":"<p>I found out something really interesting.</p>\n<p>The problem was linked to the HP driver i was using. My PC uses a driver called &quot;HP Laser\\Jet P4014/4015 PCL6 Class Driver&quot;.</p>\n<p>Repeating the test from an other Windows PC, i found out that the exact same code successfully printed. Exploring Printer configuration i found out that the second PC was using driver &quot;HP Universal Printing PCL6&quot;.</p>\n<p>And there is more, considering that my code just raw prints data, i tried setting a generic driver like &quot;Generic Text/Only&quot; (that is unsuitable for PCL5 file i guess) and the print is succefull, on both PCs</p>\n<p>So, in conclusion, i think my original driver was probably something other than sending raw file data to the printer, something that broke the mechanism.</p>\n<p>Using other drivers, the file is correctly sent to printer in raw mode and everything works fine.</p>\n"}],"owner":{"account_id":25126031,"reputation":63,"user_id":18973819,"display_name":"Mirai"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75207395,"answer_count":1,"score":0,"last_activity_date":1674464919,"creation_date":1674209463,"question_id":75182561,"body_markdown":"i have been stuck with this problem for a long time.\r\n\r\nI am trying to print a file in Windows sending its raw bytes to printer. Here is the code i am using\r\n\r\n```\r\nPrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\r\n            PrintService defaultPrintService = PrintServiceLookup.lookupDefaultPrintService();\r\n            \r\n            PrintService ps = ServiceUI.printDialog(null, 150, 150,\r\n             printServices, defaultPrintService, null, null);\r\n            if(ps!=null) System.out.println(&quot;selected printer:&quot; +ps.getName());\r\n            else\r\n               System.exit(0);\r\n\r\n            try {\r\n             File test = new File(filename);\r\n             byte[] file_bytes = Files.readAllBytes(test.toPath());\r\n                          \r\n             DocFlavor flavor = DocFlavor.BYTE_ARRAY.AUTOSENSE;\r\n             PrintRequestAttributeSet aset = new HashPrintRequestAttributeSet();\r\n             aset.add(new Copies(1));\r\n\r\n             Doc doc = new SimpleDoc(file_bytes,\r\n                                  flavor, null);\r\n\r\n             DocPrintJob job = ps.createPrintJob();\r\n\r\n             job.print(doc, aset);\r\n} catch(IOException e) {\r\n            e.priprintStackTrace();\r\n         }   catch (PrintException ex) {\r\n                \r\n                ex.printStackTrace();\r\n             }\r\n\r\n```\r\n\r\nHowever, the print gets stuck in status &quot;sent to printer&quot; (checking from windows Printers view). \r\n\r\nIn addition, trying to print with a different printer, i get the following exception\r\n\r\n&gt; javax.print.PrintException: Problem while spooling data\r\n\tat java.desktop/sun.print.Win32PrintJob.print(Win32PrintJob.java:460)\r\n\tat directportprintingtest.DirectPortPrintingTest.&lt;init&gt;(DirectPortPrintingTest.java:91)\r\n\tat directportprintingtest.DirectPortPrintingTest.main(DirectPortPrintingTest.java:45) \r\n\r\n I am having this problem only on Windows, when running same code from my Linux PC the print is succefull (with same printers!) . \r\n\r\nThe files i am trying to print are PDF, PS and file containing specific printer language like PCL5. All of them are printed correctly in Linux/MAC, failing on Windows.\r\n\r\nI really can&#39;t undestand what i am missing, has anyone any clue about this problem and how i can solve it? \r\n\r\n","title":"Java program to print raw data in Windows fails","body":"<p>i have been stuck with this problem for a long time.</p>\n<p>I am trying to print a file in Windows sending its raw bytes to printer. Here is the code i am using</p>\n<pre><code>PrintService[] printServices = PrintServiceLookup.lookupPrintServices(null, null);\n            PrintService defaultPrintService = PrintServiceLookup.lookupDefaultPrintService();\n            \n            PrintService ps = ServiceUI.printDialog(null, 150, 150,\n             printServices, defaultPrintService, null, null);\n            if(ps!=null) System.out.println(&quot;selected printer:&quot; +ps.getName());\n            else\n               System.exit(0);\n\n            try {\n             File test = new File(filename);\n             byte[] file_bytes = Files.readAllBytes(test.toPath());\n                          \n             DocFlavor flavor = DocFlavor.BYTE_ARRAY.AUTOSENSE;\n             PrintRequestAttributeSet aset = new HashPrintRequestAttributeSet();\n             aset.add(new Copies(1));\n\n             Doc doc = new SimpleDoc(file_bytes,\n                                  flavor, null);\n\n             DocPrintJob job = ps.createPrintJob();\n\n             job.print(doc, aset);\n} catch(IOException e) {\n            e.priprintStackTrace();\n         }   catch (PrintException ex) {\n                \n                ex.printStackTrace();\n             }\n\n</code></pre>\n<p>However, the print gets stuck in status &quot;sent to printer&quot; (checking from windows Printers view).</p>\n<p>In addition, trying to print with a different printer, i get the following exception</p>\n<blockquote>\n<p>javax.print.PrintException: Problem while spooling data\nat java.desktop/sun.print.Win32PrintJob.print(Win32PrintJob.java:460)\nat directportprintingtest.DirectPortPrintingTest.(DirectPortPrintingTest.java:91)\nat directportprintingtest.DirectPortPrintingTest.main(DirectPortPrintingTest.java:45)</p>\n</blockquote>\n<p>I am having this problem only on Windows, when running same code from my Linux PC the print is succefull (with same printers!) .</p>\n<p>The files i am trying to print are PDF, PS and file containing specific printer language like PCL5. All of them are printed correctly in Linux/MAC, failing on Windows.</p>\n<p>I really can't undestand what i am missing, has anyone any clue about this problem and how i can solve it?</p>\n"},{"tags":["java","android","snapshot","ip-camera"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1674288833,"post_id":75191277,"comment_id":132686535,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":5183569,"reputation":1,"user_id":4148519,"display_name":"SIK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1674464639,"creation_date":1674278101,"question_id":75191277,"body_markdown":"I have few PTZ Camera, each with it&#39;s own RTSP url.I want to get snapshot from the Camera Stream using the streaming url.\r\n\r\nI have used Glide library to extract the thumbnail from url, but I had no luck so far.it says failed to load resources error.\r\n\r\n        Glide.with(context)\r\n             .load(rtsp_url)\r\n             .asBitmap()\r\n             .override(50,50)\r\n             .into(imageView);","title":"Android get snapshot of the PTZ Camera Stream","body":"<p>I have few PTZ Camera, each with it's own RTSP url.I want to get snapshot from the Camera Stream using the streaming url.</p>\n<p>I have used Glide library to extract the thumbnail from url, but I had no luck so far.it says failed to load resources error.</p>\n<pre><code>    Glide.with(context)\n         .load(rtsp_url)\n         .asBitmap()\n         .override(50,50)\n         .into(imageView);\n</code></pre>\n"},{"tags":["java","security","ssl","htmlunit"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":2,"creation_date":1674420193,"post_id":75203437,"comment_id":132705711,"body_markdown":"[That server is broken](https://www.ssllabs.com/ssltest/analyze.html?d=eagletw.mohavecounty.us) -- it does not provide the intermediate aka chain cert as required by standards but instead a useless second copy of the leaf cert. Browsers like Firefox can _sometimes_ work-around this, probably using AIA, but Java doesn&#39;t. ...","body":"<a href=\"https://www.ssllabs.com/ssltest/analyze.html?d=eagletw.mohavecounty.us\" rel=\"nofollow noreferrer\">That server is broken</a> -- it does not provide the intermediate aka chain cert as required by standards but instead a useless second copy of the leaf cert. Browsers like Firefox can <i>sometimes</i> work-around this, probably using AIA, but Java doesn&#39;t. ..."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1674420249,"post_id":75203437,"comment_id":132705725,"body_markdown":"... That said putting it in the default truststore should work (although it&#39;s not very secure) IF your code (i.e. htmlunit) uses the default truststore, which I don&#39;t know; however openjdk on most Linux distros, if that is what you are using, links `cacerts` to a package-supplied file in something like /etc/pki so any writes to it may be replaced automatically by system data, then you need to use a different file and `-Djavax.net.ssl.trustStore` or equivalent.","body":"... That said putting it in the default truststore should work (although it&#39;s not very secure) IF your code (i.e. htmlunit) uses the default truststore, which I don&#39;t know; however openjdk on most Linux distros, if that is what you are using, links <code>cacerts</code> to a package-supplied file in something like /etc/pki so any writes to it may be replaced automatically by system data, then you need to use a different file and <code>-Djavax.net.ssl.trustStore</code> or equivalent."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674419157,"creation_date":1674419157,"answer_id":75203656,"question_id":75203437,"body_markdown":"For some reason your Java runtime environment does not trust that certificate.\r\nThere are two things you can try:\r\n\r\n- add that website&#39;s certificate to your truststore manually\r\n- upgrade to the latest JVM and see if the truststore in that version already solves your problem\r\n\r\nI&#39;d go first for upgrade, if that does not work check how to add certificates to Java&#39;s truststore. See also\r\n\r\n- https://www.tutorialworks.com/java-trust-ssl/\r\n- https://stackoverflow.com/questions/5871279/ssl-and-cert-keystore\r\n- https://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html","title":"How do I get Java/HtmlUnit to accept an old or bad website certificate?","body":"<p>For some reason your Java runtime environment does not trust that certificate.\nThere are two things you can try:</p>\n<ul>\n<li>add that website's certificate to your truststore manually</li>\n<li>upgrade to the latest JVM and see if the truststore in that version already solves your problem</li>\n</ul>\n<p>I'd go first for upgrade, if that does not work check how to add certificates to Java's truststore. See also</p>\n<ul>\n<li><a href=\"https://www.tutorialworks.com/java-trust-ssl/\" rel=\"nofollow noreferrer\">https://www.tutorialworks.com/java-trust-ssl/</a></li>\n<li><a href=\"https://stackoverflow.com/questions/5871279/ssl-and-cert-keystore\">SSL and cert keystore</a></li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/security/toolsign/rstep2.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6163228,"reputation":2754,"user_id":4804091,"display_name":"RBRi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674464578,"creation_date":1674464578,"answer_id":75207344,"question_id":75203437,"body_markdown":"You can disable the SSL check by\r\n\r\n    webClient.getOptions().setUseInsecureSSL(true);\r\n\r\nThis might also help if you use a proxy like Charles Web Proxy to inspect the traffic.","title":"How do I get Java/HtmlUnit to accept an old or bad website certificate?","body":"<p>You can disable the SSL check by</p>\n<pre><code>webClient.getOptions().setUseInsecureSSL(true);\n</code></pre>\n<p>This might also help if you use a proxy like Charles Web Proxy to inspect the traffic.</p>\n"}],"owner":{"account_id":15275556,"reputation":49,"user_id":11021382,"display_name":"God&#39;s Gift To Java"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674464578,"creation_date":1674417076,"question_id":75203437,"body_markdown":"If you go to https://eagletw.mohavecounty.us/treasurer/treasurerweb/search.jsp using Firefox on Linux, you will see that you can browse the website just fine.\r\n\r\nBut when I compile and run the following program:\r\n```import com.gargoylesoftware.htmlunit.*;\r\nimport com.gargoylesoftware.htmlunit.html.*;\r\nimport com.gargoylesoftware.htmlunit.javascript.*;\r\nimport java.io.*;\r\n\r\npublic class BadWebsiteCertificate {\r\n    public static void BadWebsiteCertificate () {\r\n        try (final WebClient webClient = new WebClient()) {\r\n            System.getProperties().put(&quot;org.apache.commons.logging.simplelog.defaultlog&quot;, &quot;fatal&quot;);\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n            webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\r\n\r\n            webClient.getOptions().setCssEnabled(false);\r\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\r\n            webClient.setCssErrorHandler(new SilentCssErrorHandler());\r\n            webClient.setAjaxController(new NicelyResynchronizingAjaxController());\r\n            HtmlPage page = webClient.getPage(&quot;https://eagletw.mohavecounty.us/treasurer/treasurerweb/search.jsp&quot;);\r\n            webClient.waitForBackgroundJavaScriptStartingBefore(10000);\r\n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\r\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\r\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\r\n            HtmlTable grdTaxHistory = (HtmlTable) page.getElementById(&quot;grdTaxHistory&quot;);\r\n            HtmlTableDataCell cpCell = (HtmlTableDataCell) grdTaxHistory.getCellAt(4,6);\r\n            ((HtmlAnchor) cpCell.getFirstChild().getNextSibling()).click();\r\n\r\n            webClient.waitForBackgroundJavaScriptStartingBefore(1_000);\r\n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\r\n        }\r\n\r\n        catch (Exception e) {\r\n            System.out.println(&quot;Error: &quot;+ e);\r\n        }\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        File file = new File(&quot;validParcelIDs.txt&quot;);\r\n        BadWebsiteCertificate();\r\n    }\r\n\r\n}\r\n```\r\nusing the following commands:\r\n```\r\njavac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot; BadWebsiteCertificate.java\r\njava -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot; BadWebsiteCertificate\r\n```\r\n\r\nI get the following runtime error message:\r\n```\r\nError: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\n\r\nI tried the following solution proposed at\r\n&lt;https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore&gt;\r\n```\r\necho -n | openssl s_client -connect eagletw.mohavecounty.us:443 | sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; ~/eagletw.mohavecounty.us.crt\r\nsudo keytool -import -v -trustcacerts -alias eagletw.mohavecounty.us -file ~/eagletw.mohavecounty.us.crt -keystore /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts -keypass changeit -storepass changeit\r\n```\r\n\r\nBut that didn&#39;t fix the problem. I am still getting the same runtime error message.\r\n\r\nAny ideas of what else I can try?\r\n\r\n","title":"How do I get Java/HtmlUnit to accept an old or bad website certificate?","body":"<p>If you go to <a href=\"https://eagletw.mohavecounty.us/treasurer/treasurerweb/search.jsp\" rel=\"nofollow noreferrer\">https://eagletw.mohavecounty.us/treasurer/treasurerweb/search.jsp</a> using Firefox on Linux, you will see that you can browse the website just fine.</p>\n<p>But when I compile and run the following program:</p>\n<pre><code>import com.gargoylesoftware.htmlunit.html.*;\nimport com.gargoylesoftware.htmlunit.javascript.*;\nimport java.io.*;\n\npublic class BadWebsiteCertificate {\n    public static void BadWebsiteCertificate () {\n        try (final WebClient webClient = new WebClient()) {\n            System.getProperties().put(&quot;org.apache.commons.logging.simplelog.defaultlog&quot;, &quot;fatal&quot;);\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\n            webClient.getOptions().setThrowExceptionOnFailingStatusCode(false);\n\n            webClient.getOptions().setCssEnabled(false);\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\n            webClient.setCssErrorHandler(new SilentCssErrorHandler());\n            webClient.setAjaxController(new NicelyResynchronizingAjaxController());\n            HtmlPage page = webClient.getPage(&quot;https://eagletw.mohavecounty.us/treasurer/treasurerweb/search.jsp&quot;);\n            webClient.waitForBackgroundJavaScriptStartingBefore(10000);\n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\n            webClient.getOptions().setThrowExceptionOnScriptError(false);\n            webClient.setJavaScriptErrorListener(new SilentJavaScriptErrorListener());\n            HtmlTable grdTaxHistory = (HtmlTable) page.getElementById(&quot;grdTaxHistory&quot;);\n            HtmlTableDataCell cpCell = (HtmlTableDataCell) grdTaxHistory.getCellAt(4,6);\n            ((HtmlAnchor) cpCell.getFirstChild().getNextSibling()).click();\n\n            webClient.waitForBackgroundJavaScriptStartingBefore(1_000);\n            page = (HtmlPage) page.getEnclosingWindow().getEnclosedPage();\n        }\n\n        catch (Exception e) {\n            System.out.println(&quot;Error: &quot;+ e);\n        }\n\n    }\n\n    public static void main(String[] args) {\n        File file = new File(&quot;validParcelIDs.txt&quot;);\n        BadWebsiteCertificate();\n    }\n\n}\n</code></pre>\n<p>using the following commands:</p>\n<pre><code>javac -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot; BadWebsiteCertificate.java\njava -classpath &quot;.:/opt/htmlunit_2.69.0/*&quot; BadWebsiteCertificate\n</code></pre>\n<p>I get the following runtime error message:</p>\n<pre><code>Error: javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I tried the following solution proposed at\n<a href=\"https://stackoverflow.com/questions/9619030/resolving-javax-net-ssl-sslhandshakeexception-sun-security-validator-validatore\">Resolving javax.net.ssl.SSLHandshakeException: sun.security.validator.ValidatorException: PKIX path building failed Error?</a></p>\n<pre><code>echo -n | openssl s_client -connect eagletw.mohavecounty.us:443 | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; ~/eagletw.mohavecounty.us.crt\nsudo keytool -import -v -trustcacerts -alias eagletw.mohavecounty.us -file ~/eagletw.mohavecounty.us.crt -keystore /usr/lib/jvm/java-11-openjdk-amd64/lib/security/cacerts -keypass changeit -storepass changeit\n</code></pre>\n<p>But that didn't fix the problem. I am still getting the same runtime error message.</p>\n<p>Any ideas of what else I can try?</p>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":11460099,"reputation":45,"user_id":8400001,"display_name":"fluse1367"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674464534,"creation_date":1674464534,"answer_id":75207339,"question_id":75206680,"body_markdown":"The error tells everything you need to know. The JSON standard *does not allow more than one top level element*.\r\n\r\nA common practice ive seen is to use an array as the top level element and add your json objects to that array.\r\n\r\n`example.json`\r\n```json\r\n[\r\n    {\r\n        result: {\r\n            percentage: &quot;0%&quot;,\r\n            result: &quot;started movie download&quot;\r\n        }\r\n    },\r\n    {\r\n        result: {\r\n            percentage: &quot;65%&quot;,\r\n            result: &quot;downloading movie in progress&quot;\r\n        }\r\n    },\r\n    {\r\n        result: {\r\n            percentage: &quot;100%&quot;,\r\n            result: &quot;finished download movie&quot;\r\n        }\r\n    }\r\n]\r\n```\r\nIf you are using multiple workers make sure to synchronize the file access.\r\n\r\nWhen dealing with many responses and the json file gets very large, and if your method of handling the json object (i.e. the library you use) holds *all* json data you might end up with a lot of memory used.\r\n\r\nAlso when working with continuous responses from the server, you most probably end up with re-writing the whole json file every time you add a new response to it (again, depends on your library).\r\n\r\nMaybe consider using database or flat file storage (e.g. bundling responses into their own file) instead of a single file.","title":"Processing multiple continuous json responses","body":"<p>The error tells everything you need to know. The JSON standard <em>does not allow more than one top level element</em>.</p>\n<p>A common practice ive seen is to use an array as the top level element and add your json objects to that array.</p>\n<p><code>example.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        result: {\n            percentage: &quot;0%&quot;,\n            result: &quot;started movie download&quot;\n        }\n    },\n    {\n        result: {\n            percentage: &quot;65%&quot;,\n            result: &quot;downloading movie in progress&quot;\n        }\n    },\n    {\n        result: {\n            percentage: &quot;100%&quot;,\n            result: &quot;finished download movie&quot;\n        }\n    }\n]\n</code></pre>\n<p>If you are using multiple workers make sure to synchronize the file access.</p>\n<p>When dealing with many responses and the json file gets very large, and if your method of handling the json object (i.e. the library you use) holds <em>all</em> json data you might end up with a lot of memory used.</p>\n<p>Also when working with continuous responses from the server, you most probably end up with re-writing the whole json file every time you add a new response to it (again, depends on your library).</p>\n<p>Maybe consider using database or flat file storage (e.g. bundling responses into their own file) instead of a single file.</p>\n"}],"owner":{"account_id":6751992,"reputation":101,"user_id":5201748,"accept_rate":83,"display_name":"BlueTree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1674464534,"creation_date":1674459235,"question_id":75206680,"body_markdown":"I am currently working on a java client implementation which is able to communicate to a server by sending requests and receive responses via restful api to retrieve movie responses. \r\n\r\nI am simulating tests where the client will be receiving responses after a successful request sent to the server. \r\n\r\nSo for features that responds with a single individual response, it is straightforward to store into a single file and read from it directly. \r\n\r\nFor example, **single-response.json** file below represents a response where I am able to retrieve a movie detail. \r\n\r\n\t{\r\n\t\tresult: {\r\n\t\t\tfirstName: &quot;John&quot;,\r\n\t\t\tlastName: &quot;Wick&quot;,\r\n\t\t\tmovie: &quot;John Wick&quot;\r\n\t\t}\r\n\t}\r\n\r\nHowever, I am facing difficulties when handling continuous json responses where I am receiving. And I receive an error &quot;**JSON standard allows only one top level value**&quot;. And the below response is not even a list of responses but rather sent individually and periodically as seen below by the server . \r\n\r\n**continuous-response.json file**\r\n\r\n\t{\r\n\t\tresult: {\r\n\t\t    percentage: &quot;0%&quot;,\r\n\t\t\tresult: &quot;started movie download&quot;\r\n\t\t}\r\n\t}\r\n\r\n\t{\r\n\t\tresult: {\r\n\t\t\tpercentage: &quot;65%&quot;,\r\n\t\t\tresult: &quot;downloading movie in progress&quot;\r\n\t\t}\r\n\t}\r\n\r\n\t{\r\n\t\tresult: {\r\n\t\t\tpercentage: &quot;100%&quot;,\r\n\t\t\tresult: &quot;finished download movie&quot;\r\n\t\t}\r\n\t}\r\n\r\nSo how can I read and process the continous json response during a movie download progress from a file? Or do I have to read it in different separate files instead?\r\n","title":"Processing multiple continuous json responses","body":"<p>I am currently working on a java client implementation which is able to communicate to a server by sending requests and receive responses via restful api to retrieve movie responses.</p>\n<p>I am simulating tests where the client will be receiving responses after a successful request sent to the server.</p>\n<p>So for features that responds with a single individual response, it is straightforward to store into a single file and read from it directly.</p>\n<p>For example, <strong>single-response.json</strong> file below represents a response where I am able to retrieve a movie detail.</p>\n<pre><code>{\n    result: {\n        firstName: &quot;John&quot;,\n        lastName: &quot;Wick&quot;,\n        movie: &quot;John Wick&quot;\n    }\n}\n</code></pre>\n<p>However, I am facing difficulties when handling continuous json responses where I am receiving. And I receive an error &quot;<strong>JSON standard allows only one top level value</strong>&quot;. And the below response is not even a list of responses but rather sent individually and periodically as seen below by the server .</p>\n<p><strong>continuous-response.json file</strong></p>\n<pre><code>{\n    result: {\n        percentage: &quot;0%&quot;,\n        result: &quot;started movie download&quot;\n    }\n}\n\n{\n    result: {\n        percentage: &quot;65%&quot;,\n        result: &quot;downloading movie in progress&quot;\n    }\n}\n\n{\n    result: {\n        percentage: &quot;100%&quot;,\n        result: &quot;finished download movie&quot;\n    }\n}\n</code></pre>\n<p>So how can I read and process the continous json response during a movie download progress from a file? Or do I have to read it in different separate files instead?</p>\n"},{"tags":["java","hibernate","jsp","struts2"],"answers":[{"tags":[],"owner":{"account_id":3314029,"reputation":76,"user_id":2786784,"display_name":"P.C.DING"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379925445,"creation_date":1379903725,"answer_id":18950996,"question_id":18950435,"body_markdown":"If your List like that: `List&lt;Student&gt;` studentList, and Student is \r\n\r\n    public class Student {\r\n        private Long id;\r\n        private String name;\r\n        private String age;\r\n        ...\r\n        getter and setter...\r\n    }\r\n    request.setAttribute(&quot;studentList&quot;, studentList);\r\n\r\nYou can implement the studentpage.jsp:\r\n\r\n    &lt;table&gt;\r\n    &lt;s:iterator value=&quot;#request.studentList&quot; status=&quot;status&quot;&gt;\r\n    &lt;tr&gt;\r\n        &lt;td&gt;\r\n            &lt;s:property value=&quot;name&quot;&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n            &lt;s:property value=&quot;age&quot;&gt;\r\n        &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/s:iterator&gt;\r\n    &lt;/table&gt;\r\n\r\nIf you return List like that: `List&lt;List&lt;String&gt;&gt;`, you can do :\r\n\r\n    &lt;table&gt;\r\n    &lt;s:iterator value=&quot;#request.studentList&quot; status=&quot;status&quot; id=&quot;list&quot;&gt;\r\n    &lt;tr&gt;\r\n        &lt;td&gt;\r\n            name:&lt;s:property value=&quot;#list[#status.index][1]&quot;/&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n            age:&lt;s:property value=&quot;#list[#status.index][2]&quot;/&gt;\r\n        &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/s:iterator&gt;\r\n    &lt;/table&gt;\r\n\r\n","title":"How to show all rows from database to jsp page using struts 2?","body":"<p>If your List like that: <code>List&lt;Student&gt;</code> studentList, and Student is </p>\n\n<pre><code>public class Student {\n    private Long id;\n    private String name;\n    private String age;\n    ...\n    getter and setter...\n}\nrequest.setAttribute(\"studentList\", studentList);\n</code></pre>\n\n<p>You can implement the studentpage.jsp:</p>\n\n<pre><code>&lt;table&gt;\n&lt;s:iterator value=\"#request.studentList\" status=\"status\"&gt;\n&lt;tr&gt;\n    &lt;td&gt;\n        &lt;s:property value=\"name\"&gt;\n    &lt;/td&gt;\n    &lt;td&gt;\n        &lt;s:property value=\"age\"&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/s:iterator&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>If you return List like that: <code>List&lt;List&lt;String&gt;&gt;</code>, you can do :</p>\n\n<pre><code>&lt;table&gt;\n&lt;s:iterator value=\"#request.studentList\" status=\"status\" id=\"list\"&gt;\n&lt;tr&gt;\n    &lt;td&gt;\n        name:&lt;s:property value=\"#list[#status.index][1]\"/&gt;\n    &lt;/td&gt;\n    &lt;td&gt;\n        age:&lt;s:property value=\"#list[#status.index][2]\"/&gt;\n    &lt;/td&gt;\n&lt;/tr&gt;\n&lt;/s:iterator&gt;\n&lt;/table&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820003,"reputation":49625,"user_id":1654265,"accept_rate":93,"display_name":"Andrea Ligios"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379939439,"creation_date":1379939439,"answer_id":18959269,"question_id":18950435,"body_markdown":"That is **not** the way Struts2 works.\r\n\r\nWhen you call a method, that method must return a String result only. That String result is mapped in your struts.xml to return a specific result (in your case, a JSP).\r\n\r\nTo access Action data from the JSP, you need to access the Getters of the fields you want to read.\r\nAny IDE out there is able to write the Getters and Setters for you. If you are using Eclipse, &lt;kbd&gt;ALT&lt;/kbd&gt;&lt;kbd&gt;SHIFT&lt;/kbd&gt;&lt;kbd&gt;S&lt;/kbd&gt; and then &lt;kbd&gt;R&lt;/kbd&gt; will surely help.\r\n\r\nAlso, like OOP (Object Oriented Programming) suggests, you should use an object to carry / transmit the data, with a method like `findStudents()` (instead of `findIds()` and then making a call for each `id`).\r\n\r\nAssuming then a Student object like this\r\n\r\n    public class Student {        \r\n        private Long id; \r\n        private String name;\r\n        private Integer age;\r\n        \r\n        /* GETTERS (or ACCESSORS) */\r\n        public Long getId() {\r\n\t\t\treturn id;\r\n\t\t}\r\n\t\tpublic void setId(Long id) {\r\n\t\t\tthis.id = id;\r\n\t\t}\r\n\t\tpublic String getName() {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n        /* SETTERS (or MUTATORS) */\r\n\t\tpublic void setName(String name) {\r\n\t\t\tthis.name = name;\r\n\t\t}\r\n\t\tpublic Integer getAge() {\r\n\t\t\treturn age;\r\n\t\t}\r\n\t\tpublic void setAge(Integer age) {\r\n\t\t\tthis.age = age;\r\n\t\t}\r\n    }\r\n\r\nin your Action you should declare a private list of them , with getter/setters of course, and evaluate it in the method called:\r\n\r\n    private List&lt;Student&gt; students;\r\n\r\n    public List&lt;Student&gt; getStudents(){\r\n        return students;\r\n    } \r\n    public void setStudents(List&lt;Students&gt; students){\r\n        this.students = students;\r\n    } \r\n\r\n    public String findStudents(){\r\n         students = getMyServiceDaoOrSomething().findAllStudents();\r\n         return &quot;success&quot;;\r\n    }\r\n\r\nwith a config like\r\n\r\n    &lt;action name=&quot;students&quot; class=&quot;...&quot; method=&quot;findStudents&quot;&gt;\r\n        &lt;result&gt;studentpage.jsp&lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nNote that `&lt;result&gt;` is equal to `&lt;result name=&quot;success&quot;&gt;` (it is called Intelligent Default), and when `method` is not specified, the `execute()` method will be executed.\r\n\r\n\r\nThen in JSP, iterate the result and print each `Student` object at once:\r\n\r\n\r\n    &lt;s:iterator value=&quot;students&quot;&gt;\r\n        &lt;s:hidden name=&quot;id&quot; /&gt;\r\n        &lt;s:textfield name=&quot;name&quot; /&gt;\r\n        &lt;s:property value=&quot;age&quot; /&gt;\r\n    &lt;/s:iterator&gt;\r\n","title":"How to show all rows from database to jsp page using struts 2?","body":"<p>That is <strong>not</strong> the way Struts2 works.</p>\n\n<p>When you call a method, that method must return a String result only. That String result is mapped in your struts.xml to return a specific result (in your case, a JSP).</p>\n\n<p>To access Action data from the JSP, you need to access the Getters of the fields you want to read.\nAny IDE out there is able to write the Getters and Setters for you. If you are using Eclipse, <kbd>ALT</kbd><kbd>SHIFT</kbd><kbd>S</kbd> and then <kbd>R</kbd> will surely help.</p>\n\n<p>Also, like OOP (Object Oriented Programming) suggests, you should use an object to carry / transmit the data, with a method like <code>findStudents()</code> (instead of <code>findIds()</code> and then making a call for each <code>id</code>).</p>\n\n<p>Assuming then a Student object like this</p>\n\n<pre><code>public class Student {        \n    private Long id; \n    private String name;\n    private Integer age;\n\n    /* GETTERS (or ACCESSORS) */\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n\n    /* SETTERS (or MUTATORS) */\n    public void setName(String name) {\n        this.name = name;\n    }\n    public Integer getAge() {\n        return age;\n    }\n    public void setAge(Integer age) {\n        this.age = age;\n    }\n}\n</code></pre>\n\n<p>in your Action you should declare a private list of them , with getter/setters of course, and evaluate it in the method called:</p>\n\n<pre><code>private List&lt;Student&gt; students;\n\npublic List&lt;Student&gt; getStudents(){\n    return students;\n} \npublic void setStudents(List&lt;Students&gt; students){\n    this.students = students;\n} \n\npublic String findStudents(){\n     students = getMyServiceDaoOrSomething().findAllStudents();\n     return \"success\";\n}\n</code></pre>\n\n<p>with a config like</p>\n\n<pre><code>&lt;action name=\"students\" class=\"...\" method=\"findStudents\"&gt;\n    &lt;result&gt;studentpage.jsp&lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>Note that <code>&lt;result&gt;</code> is equal to <code>&lt;result name=\"success\"&gt;</code> (it is called Intelligent Default), and when <code>method</code> is not specified, the <code>execute()</code> method will be executed.</p>\n\n<p>Then in JSP, iterate the result and print each <code>Student</code> object at once:</p>\n\n<pre><code>&lt;s:iterator value=\"students\"&gt;\n    &lt;s:hidden name=\"id\" /&gt;\n    &lt;s:textfield name=\"name\" /&gt;\n    &lt;s:property value=\"age\" /&gt;\n&lt;/s:iterator&gt;\n</code></pre>\n"}],"owner":{"account_id":1548165,"reputation":371,"user_id":1682657,"accept_rate":15,"display_name":"adarksun"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7712,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1674464510,"creation_date":1379898558,"question_id":18950435,"body_markdown":"I am new in Struts2 and Hibernate. I want to create a drop-down list like the following [ using hibernate and struts] which pops up a menu dynamically and when an id will be selected, it shows all the information of that id:\r\n\r\nI tried much to do this. but failed. can anybody help me please:\r\n\r\nI have a &#39;Student&#39; table like this:\r\n\r\n    id  name  age\r\n    1...a.....20\r\n    2...b.....24\r\n    3...c.....22\r\n\r\nUsing Hibernate I create model and dao like... StudentModel and StudentDAO \r\n\r\nin DAO, i implement a method which returns the lists of the ids like this: \r\n\r\n    // StudentDAO.java\r\n    public List&lt;String&gt; findId(String id) {\r\n    \t.....\r\n    \treturn ...\r\n    }\r\n\r\nNow, I define action into struts.xml file like this:\r\n\r\n    // Struts.xml\r\n    &lt;action name=&quot;idSelection&quot; class=&quot;...&quot; method=&quot;findId&quot;&gt;\r\n    \t&lt;result&gt; studentpage.jsp &lt;/result&gt;\r\n    &lt;/action&gt;\r\n\r\nso, now how can i implement the studentpage.jsp. Would you please give tell me the necessary code or reference to do this\r\n\r\n\r\nThank you.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/sF3cz.png","title":"How to show all rows from database to jsp page using struts 2?","body":"<p>I am new in Struts2 and Hibernate. I want to create a drop-down list like the following [ using hibernate and struts] which pops up a menu dynamically and when an id will be selected, it shows all the information of that id:</p>\n\n<p>I tried much to do this. but failed. can anybody help me please:</p>\n\n<p>I have a 'Student' table like this:</p>\n\n<pre><code>id  name  age\n1...a.....20\n2...b.....24\n3...c.....22\n</code></pre>\n\n<p>Using Hibernate I create model and dao like... StudentModel and StudentDAO </p>\n\n<p>in DAO, i implement a method which returns the lists of the ids like this: </p>\n\n<pre><code>// StudentDAO.java\npublic List&lt;String&gt; findId(String id) {\n    .....\n    return ...\n}\n</code></pre>\n\n<p>Now, I define action into struts.xml file like this:</p>\n\n<pre><code>// Struts.xml\n&lt;action name=\"idSelection\" class=\"...\" method=\"findId\"&gt;\n    &lt;result&gt; studentpage.jsp &lt;/result&gt;\n&lt;/action&gt;\n</code></pre>\n\n<p>so, now how can i implement the studentpage.jsp. Would you please give tell me the necessary code or reference to do this</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","jts"],"answers":[{"tags":[],"owner":{"account_id":210412,"reputation":63,"user_id":462013,"display_name":"BayerMeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1674463949,"creation_date":1674164261,"answer_id":75178543,"question_id":75158397,"body_markdown":"The problem is a misunderstanding what a `Polygon` and a `MultiPolygon` is and therefore how it&#39;s content should be retreived and rendered.\r\n\r\nA `MultiPolygon` is simply a collection of `Polygons`. Calling `getNumGeometries()` and `getGeometryN(int)` is used to get those one by one. That is however not used to store holes next to the polygon&#39;s shell. That&#39;s what I got wrong.\r\n\r\nA `Polygon` is not only a closed line as I thought (or does not have to be). The `Polygon` contains a `LinearRing` of the shell (get by calling `getExteriorRing()`) and can hold a number of holes which are also `LinearRing`s (get the amount of holes with `getNumInteriorRing()` and then each with `getInteriorRingN(int)`).\r\n\r\nCalling `getCoordinates()` on the `Polygon` will give the coordinates of all `LinearRing`s concatenated into a single array, not making much sense by itself as demonstrated by the picture in the question. To use the data right one would call `getCoordinates()` on each of the rings instead. Rendering the buffer as a shell and a triangle-shaped hole (Interior ring) is the way to go.\r\n\r\nThe first image (inner buffer) worked well from the beginning, because the output of `buffer(-1)` was a `MultiPolygon` comprised of two `Polygon`s without holes.\r\n\r\nHere a happy image:\r\n\r\n[![Outer buffer with a hole][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/yQj9I.png\r\n\r\n**Edit:**\r\n\r\nThe `CoordianteSequence` class is your friend. Using getCoordiantes() which returns a possibly constructed array of possibly constructed copies of coordinates at any place might be wasteful, creating garbage in the rendering loop.\r\n\r\nYou can access the Xs and Ys of each LinearRing easily without using these Coordiante arrays:\r\n\r\n    CoordinateSequence cs = somePolygon.getExteriorRing().getCoordinateSequence();\r\n    for (int i = 0; i &lt; cs.size(); i++) {\r\n        double x = cs.getX(i), y = cs.getY(i);\r\n        //Use...\r\n    }\r\n    //The same for each interior ring\r\n\r\nSince `Polygon`s in normal form have shell points in clockwise orientation and holes in couter-clockwise orientation, rendering using JavaFX Canvas is very easy:\r\n\r\n    //GraphicsContext gc from your Canvas, assuming you&#39;ve set a fill Paint etc.\r\n    //Polygon somePolygon made with JTS in normal form\r\n    gc.beginPath();\r\n    CoordinateSequence cs = somePolygon.getExteriorRing().getCoordinateSequence();\r\n    gc.moveTo(cs.getX(0), cs.getY(0));\r\n    for (int i = 1; i &lt; cs.size(); i++) {\r\n        double x = cs.getX(i), y = cs.getY(i);\r\n        gc.lineTo(x, y);\r\n    }\r\n    //LinearRings (as other closed structures) in JTS repeat the first point\r\n    //as the last, so the last lineTo will close the rendered loop\r\n\r\n    for (int holeIdx = 0; holeIdx &lt; somePolygon.getNumInteriorRing(); holeIdx++) {\r\n        //exactly the same code as above, just for each hole\r\n        cs = somePolygon.getInteriorRingN(holeIdx).getCoordinateSequence();\r\n        gc.moveTo(cs.getX(0), cs.getY(0));\r\n        for (int i = 1; i &lt; cs.size(); i++) {\r\n            double x = cs.getX(i), y = cs.getY(i);\r\n            gc.lineTo(x, y);\r\n        }\r\n    }\r\n    gc.closePath();\r\n    gc.fill();\r\n    //Even with the default FillRule.NON_ZERO fill() will result in filling only\r\n    //the &quot;inside&quot; of the Polygon, leaving the holes untouched\r\n    //(because Exterior is oriented Clockwise and Interior Counter-Clockwise","title":"JTS polygon buffer produces a MultiPolygon when there are self-intersections, but only with inner buffer, not outer. Why?","body":"<p>The problem is a misunderstanding what a <code>Polygon</code> and a <code>MultiPolygon</code> is and therefore how it's content should be retreived and rendered.</p>\n<p>A <code>MultiPolygon</code> is simply a collection of <code>Polygons</code>. Calling <code>getNumGeometries()</code> and <code>getGeometryN(int)</code> is used to get those one by one. That is however not used to store holes next to the polygon's shell. That's what I got wrong.</p>\n<p>A <code>Polygon</code> is not only a closed line as I thought (or does not have to be). The <code>Polygon</code> contains a <code>LinearRing</code> of the shell (get by calling <code>getExteriorRing()</code>) and can hold a number of holes which are also <code>LinearRing</code>s (get the amount of holes with <code>getNumInteriorRing()</code> and then each with <code>getInteriorRingN(int)</code>).</p>\n<p>Calling <code>getCoordinates()</code> on the <code>Polygon</code> will give the coordinates of all <code>LinearRing</code>s concatenated into a single array, not making much sense by itself as demonstrated by the picture in the question. To use the data right one would call <code>getCoordinates()</code> on each of the rings instead. Rendering the buffer as a shell and a triangle-shaped hole (Interior ring) is the way to go.</p>\n<p>The first image (inner buffer) worked well from the beginning, because the output of <code>buffer(-1)</code> was a <code>MultiPolygon</code> comprised of two <code>Polygon</code>s without holes.</p>\n<p>Here a happy image:</p>\n<p><a href=\"https://i.stack.imgur.com/yQj9I.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yQj9I.png\" alt=\"Outer buffer with a hole\" /></a></p>\n<p><strong>Edit:</strong></p>\n<p>The <code>CoordianteSequence</code> class is your friend. Using getCoordiantes() which returns a possibly constructed array of possibly constructed copies of coordinates at any place might be wasteful, creating garbage in the rendering loop.</p>\n<p>You can access the Xs and Ys of each LinearRing easily without using these Coordiante arrays:</p>\n<pre><code>CoordinateSequence cs = somePolygon.getExteriorRing().getCoordinateSequence();\nfor (int i = 0; i &lt; cs.size(); i++) {\n    double x = cs.getX(i), y = cs.getY(i);\n    //Use...\n}\n//The same for each interior ring\n</code></pre>\n<p>Since <code>Polygon</code>s in normal form have shell points in clockwise orientation and holes in couter-clockwise orientation, rendering using JavaFX Canvas is very easy:</p>\n<pre><code>//GraphicsContext gc from your Canvas, assuming you've set a fill Paint etc.\n//Polygon somePolygon made with JTS in normal form\ngc.beginPath();\nCoordinateSequence cs = somePolygon.getExteriorRing().getCoordinateSequence();\ngc.moveTo(cs.getX(0), cs.getY(0));\nfor (int i = 1; i &lt; cs.size(); i++) {\n    double x = cs.getX(i), y = cs.getY(i);\n    gc.lineTo(x, y);\n}\n//LinearRings (as other closed structures) in JTS repeat the first point\n//as the last, so the last lineTo will close the rendered loop\n\nfor (int holeIdx = 0; holeIdx &lt; somePolygon.getNumInteriorRing(); holeIdx++) {\n    //exactly the same code as above, just for each hole\n    cs = somePolygon.getInteriorRingN(holeIdx).getCoordinateSequence();\n    gc.moveTo(cs.getX(0), cs.getY(0));\n    for (int i = 1; i &lt; cs.size(); i++) {\n        double x = cs.getX(i), y = cs.getY(i);\n        gc.lineTo(x, y);\n    }\n}\ngc.closePath();\ngc.fill();\n//Even with the default FillRule.NON_ZERO fill() will result in filling only\n//the &quot;inside&quot; of the Polygon, leaving the holes untouched\n//(because Exterior is oriented Clockwise and Interior Counter-Clockwise\n</code></pre>\n"}],"owner":{"account_id":210412,"reputation":63,"user_id":462013,"display_name":"BayerMeister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75178543,"answer_count":1,"score":2,"last_activity_date":1674464404,"creation_date":1674040592,"question_id":75158397,"body_markdown":"I need a buffer sometimes around a polygon and sometimes inside a polygon. I had an own naive solution in the past but decided to use something more robust this time: Here comes my first attempt with JTS.\r\n\r\nHere is my observation. It might be my bug, but most likely I&#39;m doing something wrong.\r\n\r\nIf you make the inner buffer self-intersect, the buffer algorithm gives you (correctly) a `MultiPolygon`. See picture below, the buffer is the rounded shape, the source polygon is filled.\r\n\r\n[![inner buffer with self-intersection](https://i.stack.imgur.com/4v3J4.png)](https://i.stack.imgur.com/4v3J4.png)\r\n\r\nHowewer, if you have an outer buffer and make a C-shaped polygon so that the buffer self-intersects, only a `Polygon` is produced, IMO not ok. Here:\r\n\r\n[![outer buffer with self-intersection](https://i.stack.imgur.com/6e4o6.png)](https://i.stack.imgur.com/6e4o6.png)\r\n\r\nIt looks like the algorithm did most of the work, but the path did not get split. If there was an index, where in the list of coordinates the second ring begins, one would split the list and have the right result. These two splits would make the correct two `Polygons` of a `MultiPolygon` I would like to have as an outcome.\r\n\r\nFrom other experience I assumed the orientation of the source polygon might be an issue. I tried reversing them, but that had no effect.\r\n\r\nI followed the debugger into the sources of JTS (1.19.0) to see what was going on, but that is above my head for now. I might go back and try that again with more coffee, but hopefully someone gives me some insight here.\r\n\r\nI&#39;m rendering with JavaFX Canvas, I&#39;m sure that has nothing to do with it. Because: It&#39;s the `Geometry.buffer()` method (called on a `Polygon` class), that produces `MultiPolygon` or `Polygon` respectively in these two scenarios.\r\n\r\nA simplified code would be:\r\n\r\n```\r\nPolygon polygon = (new GeometryFactory()).createPolygon(new Coordinate[]{\r\n    new Coordinate(0,0),\r\n    new Coordinate(10,0),\r\n    new Coordinate(10,10),\r\n    new Coordinate(0,10)/*, ...a lot loaded from file*/\r\n});\r\n//optionally here check if Orientation.isCCW(polygon.getCoordinates())\r\n//then polygon = polygon.reverse()\r\n\r\n//would produce a MultiPolygon if buffer self-intersected like in the 1st picture\r\nGeometry innerPadding = polygon.buffer(-1);\r\n\r\n//would produce a malformed Polyon if buffer self-intersected like in the 2nd picture\r\nGeometry outerMargins = polygon.buffer(1);\r\n\r\n//to get simple Polygons from a MultiPolygon\r\nfor (int n = 0; n &lt; innerPadding.getNumGeometries(); n++) {\r\n    Geometry part = innerPadding.getGeometryN(n);\r\n    //here &quot;part&quot; would be a Polygon instance\r\n    //render using a loop over part.getCoordiantes()\r\n}\r\n```","title":"JTS polygon buffer produces a MultiPolygon when there are self-intersections, but only with inner buffer, not outer. Why?","body":"<p>I need a buffer sometimes around a polygon and sometimes inside a polygon. I had an own naive solution in the past but decided to use something more robust this time: Here comes my first attempt with JTS.</p>\n<p>Here is my observation. It might be my bug, but most likely I'm doing something wrong.</p>\n<p>If you make the inner buffer self-intersect, the buffer algorithm gives you (correctly) a <code>MultiPolygon</code>. See picture below, the buffer is the rounded shape, the source polygon is filled.</p>\n<p><a href=\"https://i.stack.imgur.com/4v3J4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4v3J4.png\" alt=\"inner buffer with self-intersection\" /></a></p>\n<p>Howewer, if you have an outer buffer and make a C-shaped polygon so that the buffer self-intersects, only a <code>Polygon</code> is produced, IMO not ok. Here:</p>\n<p><a href=\"https://i.stack.imgur.com/6e4o6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6e4o6.png\" alt=\"outer buffer with self-intersection\" /></a></p>\n<p>It looks like the algorithm did most of the work, but the path did not get split. If there was an index, where in the list of coordinates the second ring begins, one would split the list and have the right result. These two splits would make the correct two <code>Polygons</code> of a <code>MultiPolygon</code> I would like to have as an outcome.</p>\n<p>From other experience I assumed the orientation of the source polygon might be an issue. I tried reversing them, but that had no effect.</p>\n<p>I followed the debugger into the sources of JTS (1.19.0) to see what was going on, but that is above my head for now. I might go back and try that again with more coffee, but hopefully someone gives me some insight here.</p>\n<p>I'm rendering with JavaFX Canvas, I'm sure that has nothing to do with it. Because: It's the <code>Geometry.buffer()</code> method (called on a <code>Polygon</code> class), that produces <code>MultiPolygon</code> or <code>Polygon</code> respectively in these two scenarios.</p>\n<p>A simplified code would be:</p>\n<pre><code>Polygon polygon = (new GeometryFactory()).createPolygon(new Coordinate[]{\n    new Coordinate(0,0),\n    new Coordinate(10,0),\n    new Coordinate(10,10),\n    new Coordinate(0,10)/*, ...a lot loaded from file*/\n});\n//optionally here check if Orientation.isCCW(polygon.getCoordinates())\n//then polygon = polygon.reverse()\n\n//would produce a MultiPolygon if buffer self-intersected like in the 1st picture\nGeometry innerPadding = polygon.buffer(-1);\n\n//would produce a malformed Polyon if buffer self-intersected like in the 2nd picture\nGeometry outerMargins = polygon.buffer(1);\n\n//to get simple Polygons from a MultiPolygon\nfor (int n = 0; n &lt; innerPadding.getNumGeometries(); n++) {\n    Geometry part = innerPadding.getGeometryN(n);\n    //here &quot;part&quot; would be a Polygon instance\n    //render using a loop over part.getCoordiantes()\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9285,"page":707,"page_size":100}
