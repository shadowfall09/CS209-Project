{"items":[{"tags":["java","spring-boot","maven","h2","application.properties"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1598450041,"post_id":63599165,"comment_id":112463266,"body_markdown":"Does it work with /console instead of /h2-console? I faced a similar problem and that did it for me. Also if you are using Spring Security you might need to allow unrestricted access to that endpoint.","body":"Does it work with /console instead of /h2-console? I faced a similar problem and that did it for me. Also if you are using Spring Security you might need to allow unrestricted access to that endpoint."},{"owner":{"account_id":6410644,"reputation":51,"user_id":4970527,"display_name":"LuXuS"},"score":0,"creation_date":1598450192,"post_id":63599165,"comment_id":112463339,"body_markdown":"@JustAnotherDeveloper No it&#39;s not working with &quot;/console&quot; only.I am not using Spring Security.","body":"@JustAnotherDeveloper No it&#39;s not working with &quot;/console&quot; only.I am not using Spring Security."}],"answers":[{"tags":[],"owner":{"account_id":14942280,"reputation":335,"user_id":10788569,"display_name":"Deusimar Ferreira"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1598450549,"creation_date":1598450549,"answer_id":63599361,"question_id":63599165,"body_markdown":"You access H2 console with port and context that defined in your application.propiertes.\r\n\r\nExample, if you defined:\r\n\r\n    server.port=8090\r\n    server.servlet.context-path=api\r\n\r\n\r\nYou access h2-console in: http://localhost:8090/api/h2-console\r\n\r\nRegards.","title":"Can&#39;t access the H2 database console using SpringBoot","body":"<p>You access H2 console with port and context that defined in your application.propiertes.</p>\n<p>Example, if you defined:</p>\n<pre><code>server.port=8090\nserver.servlet.context-path=api\n</code></pre>\n<p>You access h2-console in: http://localhost:8090/api/h2-console</p>\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":15948987,"reputation":429,"user_id":11508787,"display_name":"Taras"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598452531,"creation_date":1598452091,"answer_id":63599843,"question_id":63599165,"body_markdown":"Probably you don&#39;t have server so you can&#39;t open any localhost page. \r\n\r\n**pom.xml**\r\n\r\n     &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.20.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n\r\n**application.properties:**\r\n\r\n    spring.datasource.url=jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n\r\nhttp://localhost:8080/h2-console/\r\nall works fine, checked","title":"Can&#39;t access the H2 database console using SpringBoot","body":"<p>Probably you don't have server so you can't open any localhost page.</p>\n<p><strong>pom.xml</strong></p>\n<pre><code> &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.20.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>\n<p><strong>application.properties:</strong></p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\n</code></pre>\n<p>http://localhost:8080/h2-console/\nall works fine, checked</p>\n"},{"tags":[],"owner":{"account_id":10459290,"reputation":161,"user_id":7710577,"display_name":"Efren Robles"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1638826994,"creation_date":1638826994,"answer_id":70252326,"question_id":63599165,"body_markdown":"I was in the same issue, and the way that I solve this was, to add the dev tools for spring boot, just add this in your pom.xml above of com.h2database.\r\n\r\n  \t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nFor a strange reason, I just added the &quot;devtools&quot; and that works.\r\n\r\nIf I remove it and do Project-&gt;clean the issue happens again.","title":"Can&#39;t access the H2 database console using SpringBoot","body":"<p>I was in the same issue, and the way that I solve this was, to add the dev tools for spring boot, just add this in your pom.xml above of com.h2database.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>For a strange reason, I just added the &quot;devtools&quot; and that works.</p>\n<p>If I remove it and do Project-&gt;clean the issue happens again.</p>\n"},{"tags":[],"owner":{"account_id":21305520,"reputation":5,"user_id":15680824,"display_name":"Manish Zacharias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641481050,"creation_date":1641478575,"answer_id":70608485,"question_id":63599165,"body_markdown":"I had the same problem too. This was what I had to add to my `pom.xml` to access the H2 console:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nDon&#39;t forget to add `spring.h2.console.enabled=true` in your `application.properties`.\r\n\r\nMake sure you access the H2 database from your browser using the URL: http://localhost:8080/h2-console/\r\n\r\nMake sure you are running the Spring application.\r\n\r\nNote: I don&#39;t have Spring Boot Dev Tools dependecy in my `pom.xml`.","title":"Can&#39;t access the H2 database console using SpringBoot","body":"<p>I had the same problem too. This was what I had to add to my <code>pom.xml</code> to access the H2 console:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Don't forget to add <code>spring.h2.console.enabled=true</code> in your <code>application.properties</code>.</p>\n<p>Make sure you access the H2 database from your browser using the URL: http://localhost:8080/h2-console/</p>\n<p>Make sure you are running the Spring application.</p>\n<p>Note: I don't have Spring Boot Dev Tools dependecy in my <code>pom.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":9603898,"reputation":396,"user_id":7130482,"display_name":"Einstein_AB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649700407,"creation_date":1649700407,"answer_id":71832386,"question_id":63599165,"body_markdown":"For me I was missing (As mentioned by @Manish Zacharias.)\r\n\r\n&gt; Don&#39;t forget to add spring.h2.console.enabled=true in your application.properties.\r\n\r\n","title":"Can&#39;t access the H2 database console using SpringBoot","body":"<p>For me I was missing (As mentioned by @Manish Zacharias.)</p>\n<blockquote>\n<p>Don't forget to add spring.h2.console.enabled=true in your application.properties.</p>\n</blockquote>\n"}],"owner":{"account_id":6410644,"reputation":51,"user_id":4970527,"display_name":"LuXuS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1649700407,"creation_date":1598449881,"question_id":63599165,"body_markdown":"I have basic SpringBoot application. And i follow this tutorial: https://www.baeldung.com/spring-boot-h2-database for creating all from scratch, but when i finish all the steps and try to access the h2-console. It shows me &quot;This site can’t be reached&quot;. Firstly i&#39;ve tried the default path: http://localhost:8080/h2-console, then i added to my application.properties file- server.contextPath=&quot;api&quot; and server.port=8090, to be sure that the port is not used but still doesn&#39;t have access to the h2 console. \r\n\r\nHere is my pom.xml file:\r\n\r\n    &lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;gtech&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;agriculturerent&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n\t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.4.20.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\nThis is my application.properties file:\r\n\r\n    spring.datasource.url=jdbc:h2:file:./TestDb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=&quot;&quot;\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    \r\n    spring.h2.console.enabled=true\r\n\r\nAnd the main class is default one:\r\n\r\n\r\n    @SpringBootApplication\r\n    public class AgriculturerentApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(AgriculturerentApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\nCould you please tell me where i am wrong with accessing the h2 console?\r\n\r\nThanks in advance.\r\n","title":"Can&#39;t access the H2 database console using SpringBoot","body":"<p>I have basic SpringBoot application. And i follow this tutorial: <a href=\"https://www.baeldung.com/spring-boot-h2-database\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-h2-database</a> for creating all from scratch, but when i finish all the steps and try to access the h2-console. It shows me &quot;This site can’t be reached&quot;. Firstly i've tried the default path: http://localhost:8080/h2-console, then i added to my application.properties file- server.contextPath=&quot;api&quot; and server.port=8090, to be sure that the port is not used but still doesn't have access to the h2 console.</p>\n<p>Here is my pom.xml file:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n\n&lt;/parent&gt;\n\n&lt;groupId&gt;gtech&lt;/groupId&gt;\n&lt;artifactId&gt;agriculturerent&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.4.20.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>This is my application.properties file:</p>\n<pre><code>spring.datasource.url=jdbc:h2:file:./TestDb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=&quot;&quot;\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\n\nspring.h2.console.enabled=true\n</code></pre>\n<p>And the main class is default one:</p>\n<pre><code>@SpringBootApplication\npublic class AgriculturerentApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(AgriculturerentApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Could you please tell me where i am wrong with accessing the h2 console?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","jpa","junction-table"],"comments":[{"owner":{"account_id":18829226,"reputation":223,"user_id":13733426,"display_name":"tstdplt"},"score":0,"creation_date":1649675998,"post_id":71794061,"comment_id":126928389,"body_markdown":"sorry for the unnecessary post; it was pretty easy by just saving the first entity and wait &#39;till the junction table is filled. then I just created a repository for the junction table and updating the database record with the repo ;)","body":"sorry for the unnecessary post; it was pretty easy by just saving the first entity and wait &#39;till the junction table is filled. then I just created a repository for the junction table and updating the database record with the repo ;)"}],"owner":{"account_id":18829226,"reputation":223,"user_id":13733426,"display_name":"tstdplt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649700109,"creation_date":1649407175,"question_id":71794061,"body_markdown":"So I&#39;ve been recently creating a ManyToMany Table with custom attributes in Spring Boot.\r\nThere are the usual 2 foreign keys in it and extra simple attributes as two Longs.\r\nThe middle table is getting filled as it should, but how do I also manually/programmically set these values.\r\n\r\nMy ManyToMany Table looks as following:\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@Entity(name = &quot;StudentCourseEntity&quot;)\r\n@Table(name = &quot;student_courses&quot;)\r\npublic class StudentCourses implements Serializable {\r\n\r\n    @EmbeddedId\r\n    private StudentCourseId studentCourseId;\r\n\r\n    @Column\r\n    private Long level;\r\n\r\n    @Column\r\n    private Long position;\r\n}\r\n```\r\nThe @EmbeddedId -&gt; StudentCourseId class just has both foreign keys in it.\r\nIs it even possible with this ManyToMany variation of just &quot;overwriting&quot; the auto generated ManyToMany table as I did in the example above?\r\n\r\nMy Student and Course entities don&#39;t have a reference on this StudentCourses class, they still have the @ManyToMany implementation to each other.\r\n\r\nI&#39;m looking forward for useful answers, thanks guys!","title":"Spring Boot | How do I update / save extra attributes in a ManyToMany junction table?","body":"<p>So I've been recently creating a ManyToMany Table with custom attributes in Spring Boot.\nThere are the usual 2 foreign keys in it and extra simple attributes as two Longs.\nThe middle table is getting filled as it should, but how do I also manually/programmically set these values.</p>\n<p>My ManyToMany Table looks as following:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@Entity(name = &quot;StudentCourseEntity&quot;)\n@Table(name = &quot;student_courses&quot;)\npublic class StudentCourses implements Serializable {\n\n    @EmbeddedId\n    private StudentCourseId studentCourseId;\n\n    @Column\n    private Long level;\n\n    @Column\n    private Long position;\n}\n</code></pre>\n<p>The @EmbeddedId -&gt; StudentCourseId class just has both foreign keys in it.\nIs it even possible with this ManyToMany variation of just &quot;overwriting&quot; the auto generated ManyToMany table as I did in the example above?</p>\n<p>My Student and Course entities don't have a reference on this StudentCourses class, they still have the @ManyToMany implementation to each other.</p>\n<p>I'm looking forward for useful answers, thanks guys!</p>\n"},{"tags":["java","android","android-recyclerview","android-chips"],"owner":{"account_id":22157379,"reputation":328,"user_id":16404907,"display_name":"D&#250;ver Cruz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649700080,"creation_date":1649697652,"question_id":71831872,"body_markdown":"What is the best way to implement a filtering ChipGroup on a recyclerview?\r\nI have an EditText that user can put a value for filtering, after press Enter key a chip is added on the ChipGroup. How I can filter all the users put to the group? \r\n\r\nCode\r\n     \r\n     //txtBuscarULD is an Edittext field\r\n     public void onTextChanged(CharSequence s, int i, int i1, int i2) {\r\n            if(txtBuscarULD.getText().length()&gt;0){\r\n                if (s.length()&gt;0 &amp;&amp; s.subSequence(s.length()-1, s.length()).toString().equalsIgnoreCase(&quot;\\n&quot;)) {\r\n                    chip = new Chip(PlanchasActivity.this);\r\n                    chip.setText(txtBuscarULD.getText().toString().replace(&quot;\\n&quot;,&quot;&quot;));\r\n\r\n                    chip.setCloseIconVisible(true);\r\n                    chip.setCheckable(true);\r\n                    chip.setChecked(true);\r\n                    chip.setOnCloseIconClickListener(new View.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(View view) {\r\n                            grupoChip.removeView(view);\r\n                        }\r\n                    });\r\n\r\n                    grupoChip.addView(chip);\r\n                    txtBuscarULD.setText(&quot;&quot;);\r\n                    filterChips();\r\n             }\r\n           }\r\n\r\n      private void filterChips() {\r\n        ArrayList&lt;ItemULD&gt; arrayFiltrada = new ArrayList&lt;&gt;();\r\n        List&lt;Integer&gt; ids = grupoChip.getCheckedChipIds();\r\n        List&lt;String&gt; lista = new ArrayList&lt;&gt;();\r\n        for (Integer id:ids){\r\n            Chip chip = grupoChip.findViewById(id);\r\n            lista.add(chip.getText().toString());\r\n        }\r\n        for (ItemULD uld : arrayULD) {\r\n            for (String str : lista) {\r\n                if (uld.getContorno().toUpperCase().contains(str.toUpperCase())\r\n                || uld.getNumULD().toUpperCase().contains(str.toUpperCase())) {\r\n                    arrayFiltrada.add(uld);\r\n                }\r\n            }\r\n\r\n        }\r\n        adapter.filterList(arrayFiltrada);\r\n        recyclerULD.setAdapter(adapter);\r\n    }\r\n\r\nThis is not working as I expect, (image) (ignore &quot;Red&quot;):\r\n\r\n[![Image of app][1]]\r\n\r\nThis repeat the &quot;EK&quot; item cause it has the 2 conditions.\r\nAnd the item &quot;AF&quot; should not appear cause is not like &quot;EK&quot;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6lOwU.png","title":"Sorting or filtering Recyclerview with Chips in Android","body":"<p>What is the best way to implement a filtering ChipGroup on a recyclerview?\nI have an EditText that user can put a value for filtering, after press Enter key a chip is added on the ChipGroup. How I can filter all the users put to the group?</p>\n<p>Code</p>\n<pre><code> //txtBuscarULD is an Edittext field\n public void onTextChanged(CharSequence s, int i, int i1, int i2) {\n        if(txtBuscarULD.getText().length()&gt;0){\n            if (s.length()&gt;0 &amp;&amp; s.subSequence(s.length()-1, s.length()).toString().equalsIgnoreCase(&quot;\\n&quot;)) {\n                chip = new Chip(PlanchasActivity.this);\n                chip.setText(txtBuscarULD.getText().toString().replace(&quot;\\n&quot;,&quot;&quot;));\n\n                chip.setCloseIconVisible(true);\n                chip.setCheckable(true);\n                chip.setChecked(true);\n                chip.setOnCloseIconClickListener(new View.OnClickListener() {\n                    @Override\n                    public void onClick(View view) {\n                        grupoChip.removeView(view);\n                    }\n                });\n\n                grupoChip.addView(chip);\n                txtBuscarULD.setText(&quot;&quot;);\n                filterChips();\n         }\n       }\n\n  private void filterChips() {\n    ArrayList&lt;ItemULD&gt; arrayFiltrada = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; ids = grupoChip.getCheckedChipIds();\n    List&lt;String&gt; lista = new ArrayList&lt;&gt;();\n    for (Integer id:ids){\n        Chip chip = grupoChip.findViewById(id);\n        lista.add(chip.getText().toString());\n    }\n    for (ItemULD uld : arrayULD) {\n        for (String str : lista) {\n            if (uld.getContorno().toUpperCase().contains(str.toUpperCase())\n            || uld.getNumULD().toUpperCase().contains(str.toUpperCase())) {\n                arrayFiltrada.add(uld);\n            }\n        }\n\n    }\n    adapter.filterList(arrayFiltrada);\n    recyclerULD.setAdapter(adapter);\n}\n</code></pre>\n<p>This is not working as I expect, (image) (ignore &quot;Red&quot;):</p>\n<p>[<img src=\"https://i.stack.imgur.com/6lOwU.png\" alt=\"Image of app\" />]</p>\n<p>This repeat the &quot;EK&quot; item cause it has the 2 conditions.\nAnd the item &quot;AF&quot; should not appear cause is not like &quot;EK&quot;</p>\n"},{"tags":["java","spring","java-9"],"comments":[{"owner":{"account_id":6878179,"reputation":4548,"user_id":5285908,"display_name":"Amith Kumar"},"score":0,"creation_date":1531513613,"post_id":51332334,"comment_id":89640270,"body_markdown":"please post your pom.xml ? And are you facing this issue at startup ?","body":"please post your pom.xml ? And are you facing this issue at startup ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1531593410,"post_id":51332334,"comment_id":89658033,"body_markdown":"Which Spring version are you using? Spring 5 and Spring boot 2 are tested and usable with java9. Older versions probably aren&#39;t.","body":"Which Spring version are you using? Spring 5 and Spring boot 2 are tested and usable with java9. Older versions probably aren&#39;t."}],"answers":[{"tags":[],"owner":{"account_id":8652429,"reputation":938,"user_id":6477644,"display_name":"Maxim Kasyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531513818,"creation_date":1531513818,"answer_id":51332425,"question_id":51332334,"body_markdown":" You need to use a couple of `--add-opens` to your runtime JVM arguments and be prepared to add `opens ...` just about everywhere in your application that exposes something to the Spring context that isn’t exported yet.\r\n[More information][1]\r\n\r\n\r\n  [1]: https://blog.sourced-bvba.be/article/2017/12/17/java9-spring/","title":"NoSuchMethodException: springframework.boot.autoconfigure.http.HttpMessageConverters","body":"<p>You need to use a couple of <code>--add-opens</code> to your runtime JVM arguments and be prepared to add <code>opens ...</code> just about everywhere in your application that exposes something to the Spring context that isn’t exported yet.\n<a href=\"https://blog.sourced-bvba.be/article/2017/12/17/java9-spring/\" rel=\"nofollow noreferrer\">More information</a></p>\n"},{"tags":[],"owner":{"account_id":15617854,"reputation":281,"user_id":11267586,"display_name":"Jarrett Munton"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1572443955,"creation_date":1553723805,"answer_id":55387096,"question_id":51332334,"body_markdown":"I came across the same error when trying to deploy a Spring Boot 2 application to Wildfly 13. This is the only Stack Overflow question that came up when I was searching for answers, so I thought I&#39;d leave my findings here in case anyone else has the same issue, because my solution was very different from the only other answer here right now.\n\nMy application would run just fine using the embedded Tomcat server, but deploying to Wildfly would fail with the same AopConfigException asked about in this question. I also noticed in the root cause of the exception that Spring was looking for a no-arg constructor, and when I added no-arg constructors in all my autowired Spring components, the service actually deployed to Wildfly and ran with no problems. But this seemed like a hacky workaround that felt wrong, so I looked for a better solution.\n\nI learned from [this github issue][1] that this exception happens in Wildfly because Jboss Modules are not exposing some dependencies needed by Objenesis to do constructor injection. The suggested solution they give is to add the dependencies by simply updating the project build as follows:\n\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifestEntries&gt;\n                    &lt;Dependencies&gt;jdk.unsupported&lt;/Dependencies&gt;\n                &lt;/manifestEntries&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n    \nIf this works for you, congratulations. I pieced together from [this JBoss issue][2] that the above solution is simply a way of adding &quot;jdk.unsupported&quot; as a &quot;Dependency&quot; in the MANIFEST.MF file. Unfortunately for me, this is part of a Maven pom, and my team uses Gradle for build management, so I had to find another solution.\n\n# Solution that works in Gradle OR Maven #\nAlthough there is probably a Gradle specific way to accomplish the above, I found from [this JBoss development guide][3] that you can add a dependency into the MANIFEST.MF using the jboss-deployment-structure.xml with the following contents:\n\n    &lt;jboss-deployment-structure&gt;\n        &lt;deployment&gt;\n            &lt;dependencies&gt;\n                &lt;module name=&quot;jdk.unsupported&quot;/&gt;\n            &lt;/dependencies&gt;\n        &lt;/deployment&gt;\n    &lt;/jboss-deployment-structure&gt;\n\n&lt;!----&gt;\nThis seems like the preferred solution even if you do use Maven because it will work the same if you switch to Gradle down the road. Of course, this solution only works if the issue is isolated to JBoss/Wildfly.\n\n*Note (in case the link to the JBoss guide goes down): jboss-deployment-structure.xml file goes in the WEB-INF or META-INF directory for a war/jar application respectively.\n\nAlso worth noting, I am seeing this issue on Java 11 and Wildfly 13, but I very strongly suspect that the same issue exists on Java 9 and 10 and on other versions of JBoss/Wildfly as well.\n\n\n  [1]: https://github.com/spring-projects/spring-framework/issues/21528\n  [2]: https://issues.jboss.org/browse/MODULES-373\n  [3]: https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform/6/html/development_guide/add_an_explicit_module_dependency_to_a_deployment1","title":"NoSuchMethodException: springframework.boot.autoconfigure.http.HttpMessageConverters","body":"<p>I came across the same error when trying to deploy a Spring Boot 2 application to Wildfly 13. This is the only Stack Overflow question that came up when I was searching for answers, so I thought I'd leave my findings here in case anyone else has the same issue, because my solution was very different from the only other answer here right now.</p>\n<p>My application would run just fine using the embedded Tomcat server, but deploying to Wildfly would fail with the same AopConfigException asked about in this question. I also noticed in the root cause of the exception that Spring was looking for a no-arg constructor, and when I added no-arg constructors in all my autowired Spring components, the service actually deployed to Wildfly and ran with no problems. But this seemed like a hacky workaround that felt wrong, so I looked for a better solution.</p>\n<p>I learned from <a href=\"https://github.com/spring-projects/spring-framework/issues/21528\" rel=\"noreferrer\">this github issue</a> that this exception happens in Wildfly because Jboss Modules are not exposing some dependencies needed by Objenesis to do constructor injection. The suggested solution they give is to add the dependencies by simply updating the project build as follows:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;archive&gt;\n            &lt;manifestEntries&gt;\n                &lt;Dependencies&gt;jdk.unsupported&lt;/Dependencies&gt;\n            &lt;/manifestEntries&gt;\n        &lt;/archive&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>If this works for you, congratulations. I pieced together from <a href=\"https://issues.jboss.org/browse/MODULES-373\" rel=\"noreferrer\">this JBoss issue</a> that the above solution is simply a way of adding &quot;jdk.unsupported&quot; as a &quot;Dependency&quot; in the MANIFEST.MF file. Unfortunately for me, this is part of a Maven pom, and my team uses Gradle for build management, so I had to find another solution.</p>\n<h1>Solution that works in Gradle OR Maven</h1>\n<p>Although there is probably a Gradle specific way to accomplish the above, I found from <a href=\"https://access.redhat.com/documentation/en-us/jboss_enterprise_application_platform/6/html/development_guide/add_an_explicit_module_dependency_to_a_deployment1\" rel=\"noreferrer\">this JBoss development guide</a> that you can add a dependency into the MANIFEST.MF using the jboss-deployment-structure.xml with the following contents:</p>\n<pre><code>&lt;jboss-deployment-structure&gt;\n    &lt;deployment&gt;\n        &lt;dependencies&gt;\n            &lt;module name=&quot;jdk.unsupported&quot;/&gt;\n        &lt;/dependencies&gt;\n    &lt;/deployment&gt;\n&lt;/jboss-deployment-structure&gt;\n</code></pre>\n\n<p>This seems like the preferred solution even if you do use Maven because it will work the same if you switch to Gradle down the road. Of course, this solution only works if the issue is isolated to JBoss/Wildfly.</p>\n<p>*Note (in case the link to the JBoss guide goes down): jboss-deployment-structure.xml file goes in the WEB-INF or META-INF directory for a war/jar application respectively.</p>\n<p>Also worth noting, I am seeing this issue on Java 11 and Wildfly 13, but I very strongly suspect that the same issue exists on Java 9 and 10 and on other versions of JBoss/Wildfly as well.</p>\n"},{"tags":[],"owner":{"account_id":17824705,"reputation":41,"user_id":12946200,"display_name":"Hazeh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1582426303,"creation_date":1582416253,"answer_id":60358021,"question_id":51332334,"body_markdown":"In my case VM argument `--add-modules=jdk.unsupported` helped. In this case `ObjenesisCglibAopProxy` creates a proxy using `sun.reflect.ReflectionFactory` and doesn&#39;t look for the absent constructor.","title":"NoSuchMethodException: springframework.boot.autoconfigure.http.HttpMessageConverters","body":"<p>In my case VM argument <code>--add-modules=jdk.unsupported</code> helped. In this case <code>ObjenesisCglibAopProxy</code> creates a proxy using <code>sun.reflect.ReflectionFactory</code> and doesn't look for the absent constructor.</p>\n"},{"tags":[],"owner":{"account_id":235896,"reputation":1859,"user_id":503025,"accept_rate":21,"display_name":"weberjn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583750216,"creation_date":1583750216,"answer_id":60598781,"question_id":51332334,"body_markdown":"if you add jdk.unsupported as global module, you need not change the applications:\r\n\r\n    &lt;global-modules&gt;\r\n          &lt;module name=&quot;jdk.unsupported&quot;/&gt;","title":"NoSuchMethodException: springframework.boot.autoconfigure.http.HttpMessageConverters","body":"<p>if you add jdk.unsupported as global module, you need not change the applications:</p>\n\n<pre><code>&lt;global-modules&gt;\n      &lt;module name=\"jdk.unsupported\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8562441,"reputation":1,"user_id":6416068,"display_name":"srinivas muthyam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649700080,"creation_date":1649700080,"answer_id":71832330,"question_id":51332334,"body_markdown":"The issue seem to be with the java compiler version. I got this error when the compiled code was java version 11 and if I change the compiler to 8 I didn&#39;t see th","title":"NoSuchMethodException: springframework.boot.autoconfigure.http.HttpMessageConverters","body":"<p>The issue seem to be with the java compiler version. I got this error when the compiled code was java version 11 and if I change the compiler to 8 I didn't see th</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9117,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1649700080,"creation_date":1531513354,"question_id":51332334,"body_markdown":"I want to use Java 9 with Spring. But I get exception:\r\n\r\n\r\n    Caused by: org.springframework.aop.framework.AopConfigException: Unable to instantiate proxy using Objenesis, and regular proxy instantiation via default constructor fails as well; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.autoconfigure.http.HttpMessageConverters$$EnhancerBySpringCGLIB$$1d90bff9.&lt;init&gt;()\r\n    \tat deployment.datalis_gateway.war//org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:82)\r\n    \tat deployment.datalis_gateway.war//org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:205)\r\n    \t... 62 more\r\n    Caused by: java.lang.NoSuchMethodException: org.springframework.boot.autoconfigure.http.HttpMessageConverters$$EnhancerBySpringCGLIB$$1d90bff9.&lt;init&gt;()\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3302)\r\n    \tat java.base/java.lang.Class.getDeclaredConstructor(Class.java:2512)\r\n    \tat deployment.datalis_gateway.war//org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:76)\r\n    \t... 63 more\r\n\r\nDo you know how I can configure Java 9 to find this restricted Java package?","title":"NoSuchMethodException: springframework.boot.autoconfigure.http.HttpMessageConverters","body":"<p>I want to use Java 9 with Spring. But I get exception:</p>\n\n<pre><code>Caused by: org.springframework.aop.framework.AopConfigException: Unable to instantiate proxy using Objenesis, and regular proxy instantiation via default constructor fails as well; nested exception is java.lang.NoSuchMethodException: org.springframework.boot.autoconfigure.http.HttpMessageConverters$$EnhancerBySpringCGLIB$$1d90bff9.&lt;init&gt;()\n    at deployment.datalis_gateway.war//org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:82)\n    at deployment.datalis_gateway.war//org.springframework.aop.framework.CglibAopProxy.getProxy(CglibAopProxy.java:205)\n    ... 62 more\nCaused by: java.lang.NoSuchMethodException: org.springframework.boot.autoconfigure.http.HttpMessageConverters$$EnhancerBySpringCGLIB$$1d90bff9.&lt;init&gt;()\n    at java.base/java.lang.Class.getConstructor0(Class.java:3302)\n    at java.base/java.lang.Class.getDeclaredConstructor(Class.java:2512)\n    at deployment.datalis_gateway.war//org.springframework.aop.framework.ObjenesisCglibAopProxy.createProxyClassAndInstance(ObjenesisCglibAopProxy.java:76)\n    ... 63 more\n</code></pre>\n\n<p>Do you know how I can configure Java 9 to find this restricted Java package?</p>\n"},{"tags":["java","scala","jvm"],"comments":[{"owner":{"account_id":10391539,"reputation":26838,"user_id":7662670,"display_name":"Tim"},"score":3,"creation_date":1649695740,"post_id":71831294,"comment_id":126936177,"body_markdown":"A busy wait for 1ms will take millions of instructions on a modern processor, so very unlikely to be more efficient than an OS wait.","body":"A busy wait for 1ms will take millions of instructions on a modern processor, so very unlikely to be more efficient than an OS wait."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":2,"creation_date":1649696134,"post_id":71831294,"comment_id":126936311,"body_markdown":"Do you need millisecond accuracy for housekeeping threads?","body":"Do you need millisecond accuracy for housekeeping threads?"},{"owner":{"account_id":5131293,"reputation":21831,"user_id":4111404,"accept_rate":80,"display_name":"Luis Miguel Mej&#237;a Su&#225;rez"},"score":0,"creation_date":1649699314,"post_id":71831294,"comment_id":126937413,"body_markdown":"This sounds like a good use case for a higher level library like **cats-effect** instead of sleeping thread directly you would use fibers.","body":"This sounds like a good use case for a higher level library like <b>cats-effect</b> instead of sleeping thread directly you would use fibers."},{"owner":{"account_id":1217449,"reputation":4099,"user_id":1184752,"accept_rate":43,"display_name":"Juraj Martinka"},"score":0,"creation_date":1649752314,"post_id":71831294,"comment_id":126949513,"body_markdown":"Also look at LockSupport#parkNanos which has more fine-grained resolution and minimizes the stress put on the system.","body":"Also look at LockSupport#parkNanos which has more fine-grained resolution and minimizes the stress put on the system."}],"answers":[{"tags":[],"owner":{"account_id":61566,"reputation":68924,"user_id":183406,"accept_rate":74,"display_name":"meriton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649700029,"creation_date":1649699491,"answer_id":71832226,"question_id":71831294,"body_markdown":"That&#39;s easy to test:\r\n\r\n```\r\npublic class Test {\r\n\r\n\tstatic int i = 0;\r\n\tstatic long[] measurements = new long[0x100];\r\n\t\r\n\tstatic void report(long value) {\r\n\t\tmeasurements[i++ &amp; 0xff] = value;\r\n\t\tif (i &gt; 10_000) {\r\n\t\t\tfor (long m : measurements) {\r\n\t\t\t\tSystem.out.println(m);\r\n\t\t\t}\r\n\t\t\tSystem.exit(0);\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic void sleepyWait() throws Exception {\r\n\t\twhile (true) {\r\n\t\t\tlong before = System.nanoTime();\r\n\t\t\tThread.sleep(1);\r\n\t\t\tlong now = System.nanoTime();\r\n\t\t\treport(now - before);\r\n\t\t}\t\t\t\t\t\r\n\t}\r\n\t\r\n\tstatic void busyWait() {\r\n\t\twhile (true) {\r\n\t\t\tlong before = System.nanoTime();\r\n\t\t\tlong now;\r\n\t\t\tdo {\r\n\t\t\t\tnow = System.nanoTime();\r\n\t\t\t} while (before + 1_000_000 &gt;= now);\r\n\t\t\treport(now - before);\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tbusyWait();\r\n\t}\r\n}\r\n```\r\n\r\nRun on my windows system, this shows that busyWait has microsecond accuracy, but fully uses one CPU core.\r\n\r\nIn contrast, sleepyWait causes no measurable CPU load, but only achieves millisecond accuracy (often taking as much as 2 ms to fire, rather than the 1 ms requested).\r\n\r\nAt least on windows, this is therefore a straightforward tradeoff between accuracy and CPU use.\r\n\r\nIt&#39;s also worth noting that there are often alternatives to running a CPU at full speed obsessively checking the time. In many cases, there is some other signal you could be waiting for, and offering an API that focuses on time-based resolution may steer the users of your API in a bad direction.","title":"Thread.sleep() optimization for small sleep intervals","body":"<p>That's easy to test:</p>\n<pre><code>public class Test {\n\n    static int i = 0;\n    static long[] measurements = new long[0x100];\n    \n    static void report(long value) {\n        measurements[i++ &amp; 0xff] = value;\n        if (i &gt; 10_000) {\n            for (long m : measurements) {\n                System.out.println(m);\n            }\n            System.exit(0);\n        }\n    }\n    \n    static void sleepyWait() throws Exception {\n        while (true) {\n            long before = System.nanoTime();\n            Thread.sleep(1);\n            long now = System.nanoTime();\n            report(now - before);\n        }                   \n    }\n    \n    static void busyWait() {\n        while (true) {\n            long before = System.nanoTime();\n            long now;\n            do {\n                now = System.nanoTime();\n            } while (before + 1_000_000 &gt;= now);\n            report(now - before);\n        }\n    }\n    \n    \n    public static void main(String[] args) throws Exception {\n        busyWait();\n    }\n}\n</code></pre>\n<p>Run on my windows system, this shows that busyWait has microsecond accuracy, but fully uses one CPU core.</p>\n<p>In contrast, sleepyWait causes no measurable CPU load, but only achieves millisecond accuracy (often taking as much as 2 ms to fire, rather than the 1 ms requested).</p>\n<p>At least on windows, this is therefore a straightforward tradeoff between accuracy and CPU use.</p>\n<p>It's also worth noting that there are often alternatives to running a CPU at full speed obsessively checking the time. In many cases, there is some other signal you could be waiting for, and offering an API that focuses on time-based resolution may steer the users of your API in a bad direction.</p>\n"}],"owner":{"account_id":8476974,"reputation":777,"user_id":6357920,"display_name":"Igor Urisman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71832226,"answer_count":1,"score":1,"last_activity_date":1649700029,"creation_date":1649694718,"question_id":71831294,"body_markdown":"I am writing a library that involves a caller-defined temporal resolution. In the implementation, this value ends up being an interval some background thread will sleep before doing some housekeeping and going back to sleep again. I am allowing this resolution to be as small as 1 millisecond, which translates to `Thread.sleep(1)`. My hunch is that that may be more wasteful and less precise than busy-waiting for 1 ms. If that&#39;s the case; \r\n\r\n 1. Should I fall back to busy-waiting for small enough (how small) time intervals? \r\n 2. Does anyone know if the JVM is already doing this optimization anyway and I don&#39;t need to do anything at all?","title":"Thread.sleep() optimization for small sleep intervals","body":"<p>I am writing a library that involves a caller-defined temporal resolution. In the implementation, this value ends up being an interval some background thread will sleep before doing some housekeeping and going back to sleep again. I am allowing this resolution to be as small as 1 millisecond, which translates to <code>Thread.sleep(1)</code>. My hunch is that that may be more wasteful and less precise than busy-waiting for 1 ms. If that's the case;</p>\n<ol>\n<li>Should I fall back to busy-waiting for small enough (how small) time intervals?</li>\n<li>Does anyone know if the JVM is already doing this optimization anyway and I don't need to do anything at all?</li>\n</ol>\n"},{"tags":["java","unit-testing","cdi","apache-tomee","openejb"],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649699601,"creation_date":1649699601,"answer_id":71832246,"question_id":71825174,"body_markdown":"I&#39;m not positive this will work, but can you try an abstract parent test class?\r\n\r\nIf that doesn&#39;t work, the other thing I thought of was to make a dummy bean that injects all 20 classes, then you just put that one in the Classes section:\r\n\r\n```\r\n@ApplicationScoped\r\npublic class TestClassesConfigurationBean {\r\n @Inject private A a;\r\n @Inject private B b;\r\n.... 20x\r\n}\r\n\r\n@RunWithApplicationComposer(mode = ExtensionMode.PER_EACH)\r\n@Classes(cdi = true, value = { TestClassesConfigurationBean.class }\r\n})\r\npublic class ExampleTest {\r\n```","title":"Resuable CDI-Beans in Unit-Tests","body":"<p>I'm not positive this will work, but can you try an abstract parent test class?</p>\n<p>If that doesn't work, the other thing I thought of was to make a dummy bean that injects all 20 classes, then you just put that one in the Classes section:</p>\n<pre><code>@ApplicationScoped\npublic class TestClassesConfigurationBean {\n @Inject private A a;\n @Inject private B b;\n.... 20x\n}\n\n@RunWithApplicationComposer(mode = ExtensionMode.PER_EACH)\n@Classes(cdi = true, value = { TestClassesConfigurationBean.class }\n})\npublic class ExampleTest {\n</code></pre>\n"}],"owner":{"account_id":15989423,"reputation":33,"user_id":11538986,"display_name":"elefant1000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649699601,"creation_date":1649667739,"question_id":71825174,"body_markdown":"I have an JavaEE-Application and want to use CDI in the unit-test.\r\nCurrently i use `org.apache.openejb.junit5.RunWithApplicationComposer` and my unit tests look like this:\r\n\r\n```\r\n@RunWithApplicationComposer(mode = ExtensionMode.PER_EACH)\r\n@Classes(cdi = true, value = {\r\n    A.class,\r\n    B.class,\r\n    C.class,\r\n    ...\r\n    Example.class\r\n})\r\npublic class ExampleTest {\r\n\r\n    @Inject\r\n    private Example testInstance;\r\n\r\n    @Produces\r\n    public A produceA() {\r\n        ...\r\n    }\r\n\r\n    @Test\r\n    public void test() {\r\n        assertEquals(4, testInstance.add(2, 2));\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere I only want to test `Example.class`, but for `Example.class` to run, `A,B,C` must be injectable beans.\r\n\r\nMy problem is the re-usability of the `@Classes`-Annotation.\r\nIn my case its not only `A,B,C`, but about 20 classes that i need for a lot of unit tests. I don&#39;t want a `@Classes` annotation with 20 classes again and again at every unit-test.\r\n\r\nI already tried a SuperClass with the `@Classes`-Annotation that gets extended by my unit-tests, but this doesn&#39;t work.\r\n\r\nDo you know a more generic and reusable way to make this 20 Classes injectable beans in a unit-test?\r\n\r\n\r\n\r\nThanks for your help :)\r\n","title":"Resuable CDI-Beans in Unit-Tests","body":"<p>I have an JavaEE-Application and want to use CDI in the unit-test.\nCurrently i use <code>org.apache.openejb.junit5.RunWithApplicationComposer</code> and my unit tests look like this:</p>\n<pre><code>@RunWithApplicationComposer(mode = ExtensionMode.PER_EACH)\n@Classes(cdi = true, value = {\n    A.class,\n    B.class,\n    C.class,\n    ...\n    Example.class\n})\npublic class ExampleTest {\n\n    @Inject\n    private Example testInstance;\n\n    @Produces\n    public A produceA() {\n        ...\n    }\n\n    @Test\n    public void test() {\n        assertEquals(4, testInstance.add(2, 2));\n    }\n\n}\n</code></pre>\n<p>Here I only want to test <code>Example.class</code>, but for <code>Example.class</code> to run, <code>A,B,C</code> must be injectable beans.</p>\n<p>My problem is the re-usability of the <code>@Classes</code>-Annotation.\nIn my case its not only <code>A,B,C</code>, but about 20 classes that i need for a lot of unit tests. I don't want a <code>@Classes</code> annotation with 20 classes again and again at every unit-test.</p>\n<p>I already tried a SuperClass with the <code>@Classes</code>-Annotation that gets extended by my unit-tests, but this doesn't work.</p>\n<p>Do you know a more generic and reusable way to make this 20 Classes injectable beans in a unit-test?</p>\n<p>Thanks for your help :)</p>\n"},{"tags":["java","design-patterns","abstract-class","observer-pattern"],"comments":[{"owner":{"account_id":1744680,"reputation":2038,"user_id":1595165,"accept_rate":55,"display_name":"Sajith"},"score":0,"creation_date":1347093514,"post_id":12329267,"comment_id":16548624,"body_markdown":"check the example http://www.coderanch.com/t/380786/java/java/Observable-class-Observer-interface","body":"check the example <a href=\"http://www.coderanch.com/t/380786/java/java/Observable-class-Observer-interface\" rel=\"nofollow noreferrer\">coderanch.com/t/380786/java/java/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5539,"reputation":43971,"user_id":8969,"accept_rate":67,"display_name":"Tom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1347093425,"creation_date":1347093425,"answer_id":12329289,"question_id":12329267,"body_markdown":"Rather than using an interface for your interface use an abstract class that extends Observable.\r\n\r\n    public abstract class MyType extends Observable {\r\n        public abstract void doSomething();\r\n        ...\r\n    }","title":"An interface for classes which extend Observable","body":"<p>Rather than using an interface for your interface use an abstract class that extends Observable.</p>\n\n<pre><code>public abstract class MyType extends Observable {\n    public abstract void doSomething();\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1347093660,"creation_date":1347093660,"answer_id":12329319,"question_id":12329267,"body_markdown":"    public abstract class MyObservable extends Observable implements MyInterface {}","title":"An interface for classes which extend Observable","body":"<pre><code>public abstract class MyObservable extends Observable implements MyInterface {}\n</code></pre>\n"}],"owner":{"account_id":1822745,"reputation":11,"user_id":1656393,"display_name":"Hessu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649699411,"creation_date":1347093187,"question_id":12329267,"body_markdown":"I want to keep my business logic behind an interface (which is a good practice, I understand). I also want the business logic to be Observable, and Observable is a concrete class.\r\n\r\nThe other parts of the program need to know that the business logic both 1) implements my own interface, and 2) extends the Observable. And I need both, every time.\r\n\r\nHow do I do that?","title":"An interface for classes which extend Observable","body":"<p>I want to keep my business logic behind an interface (which is a good practice, I understand). I also want the business logic to be Observable, and Observable is a concrete class.</p>\n<p>The other parts of the program need to know that the business logic both 1) implements my own interface, and 2) extends the Observable. And I need both, every time.</p>\n<p>How do I do that?</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1649150942,"post_id":71749204,"comment_id":126797272,"body_markdown":"Not really, since now it&#39;s only usable by your application. I would use a native JSON type in the DB instead.","body":"Not really, since now it&#39;s only usable by your application. I would use a native JSON type in the DB instead."}],"owner":{"account_id":19534415,"reputation":539,"user_id":14293486,"display_name":"Marcin_S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1649699395,"creation_date":1649150510,"question_id":71749204,"body_markdown":"I have following json :\r\n\r\n    {\r\n      &quot;name&quot; : &quot;John&quot;,\r\n      &quot;message&quot; : {\r\n        &quot;slack&quot; : &quot;channel&quot;,\r\n        &quot;email&quot; : &quot;mymail&quot; ,\r\n        &quot;msteam&quot; : &quot;myteam&quot;,\r\n        &quot;kafka&quot; &quot; {&quot;broker&quot; : &quot;url&quot;, &quot;topic&quot;: &quot;sds&quot;}\r\n         // this list flexiable can have many attribute can have nested json also\r\n    \r\n     }\r\n    }\r\n\r\nMy Entity Look like this :\r\n\r\n    @Entity\r\n    @Data\r\n    @Getter\r\n    @Setter\r\n    public class Data\r\n    {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private long id;\r\n    \r\n        @Column(nullable = false, columnDefinition=&quot;TEXT&quot;)\r\n        private String name;\r\n    \r\n        private HashMap&lt;String, Object&gt; message;\r\n    }\r\n\r\nI am able to store the above json, but in my db it&#39;s not human readable it&#39;s serialised, Is this correct way to store the data when we are not sure about the size ?","title":"Spring Store Nested Json To DB","body":"<p>I have following json :</p>\n<pre><code>{\n  &quot;name&quot; : &quot;John&quot;,\n  &quot;message&quot; : {\n    &quot;slack&quot; : &quot;channel&quot;,\n    &quot;email&quot; : &quot;mymail&quot; ,\n    &quot;msteam&quot; : &quot;myteam&quot;,\n    &quot;kafka&quot; &quot; {&quot;broker&quot; : &quot;url&quot;, &quot;topic&quot;: &quot;sds&quot;}\n     // this list flexiable can have many attribute can have nested json also\n\n }\n}\n</code></pre>\n<p>My Entity Look like this :</p>\n<pre><code>@Entity\n@Data\n@Getter\n@Setter\npublic class Data\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n\n    @Column(nullable = false, columnDefinition=&quot;TEXT&quot;)\n    private String name;\n\n    private HashMap&lt;String, Object&gt; message;\n}\n</code></pre>\n<p>I am able to store the above json, but in my db it's not human readable it's serialised, Is this correct way to store the data when we are not sure about the size ?</p>\n"},{"tags":["java","junit"],"answers":[{"tags":[],"owner":{"account_id":1376,"reputation":61117,"user_id":1836,"accept_rate":90,"display_name":"Matthew Farwell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1351156440,"creation_date":1351156440,"answer_id":13065303,"question_id":13061511,"body_markdown":"If you really area doing the same thing each time, it&#39;s just the data that varies, then look at [@Parameterized][1].\r\n\r\nYou could then have something like (untested and uncompiled):\r\n\r\n    @RunWith(Parameterized.class)\r\n    public class MyTestClass {\r\n      @Parameters\r\n      public static List&lt;Object[]&gt; data() {\r\n          return Arrays.asList(new Object[][] {\r\n              { &quot;A&quot;, 1, &quot;M&quot;, 1, &quot;value1&quot;, &quot;value2&quot; },\r\n              { &quot;Q&quot;, 5, &quot;Z&quot;, 10, &quot;value3&quot;, &quot;value4&quot; },\r\n          });\r\n      }\r\n    \r\n      private String xValue;\r\n      private int yValue;\r\n      private String zValueString;\r\n      private int zValueInt;\r\n      private String expected1;\r\n      private String expected2;\r\n    \r\n      public MyTestClass(String xValue, int yValue, String zValueString, int zValueInt, String expected1, String expected2) {\r\n        this.xValue = xValue;\r\n        this.yValue = yValue;\r\n        this.zValueString = zValueString;\r\n        this.zValueInt = zValueInt;\r\n        this.expected1 = expected1;\r\n        this.expected2 = expected2;\r\n      }\r\n    \r\n      @Test\r\n      public void test() {\r\n        mockObjectX(xValue);\r\n        mockObjectY(yValue);\r\n        mockObjectZ(zValueString, zValueInt);\r\n    \r\n        myService.validate(expected1, expected2);\r\n      }\r\n    }\r\n\r\nYou are then only defining your test once.\r\n\r\n\r\n  [1]: http://kentbeck.github.com/junit/javadoc/latest/org/junit/runners/Parameterized.html","title":"Designing junit test cases - predefined steps for each test case","body":"<p>If you really area doing the same thing each time, it's just the data that varies, then look at <a href=\"http://kentbeck.github.com/junit/javadoc/latest/org/junit/runners/Parameterized.html\" rel=\"nofollow\">@Parameterized</a>.</p>\n\n<p>You could then have something like (untested and uncompiled):</p>\n\n<pre><code>@RunWith(Parameterized.class)\npublic class MyTestClass {\n  @Parameters\n  public static List&lt;Object[]&gt; data() {\n      return Arrays.asList(new Object[][] {\n          { \"A\", 1, \"M\", 1, \"value1\", \"value2\" },\n          { \"Q\", 5, \"Z\", 10, \"value3\", \"value4\" },\n      });\n  }\n\n  private String xValue;\n  private int yValue;\n  private String zValueString;\n  private int zValueInt;\n  private String expected1;\n  private String expected2;\n\n  public MyTestClass(String xValue, int yValue, String zValueString, int zValueInt, String expected1, String expected2) {\n    this.xValue = xValue;\n    this.yValue = yValue;\n    this.zValueString = zValueString;\n    this.zValueInt = zValueInt;\n    this.expected1 = expected1;\n    this.expected2 = expected2;\n  }\n\n  @Test\n  public void test() {\n    mockObjectX(xValue);\n    mockObjectY(yValue);\n    mockObjectZ(zValueString, zValueInt);\n\n    myService.validate(expected1, expected2);\n  }\n}\n</code></pre>\n\n<p>You are then only defining your test once.</p>\n"}],"owner":{"account_id":256642,"reputation":6092,"user_id":537503,"accept_rate":42,"display_name":"Andy Dufresne"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1025,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13065303,"answer_count":1,"score":0,"last_activity_date":1649699383,"creation_date":1351138723,"question_id":13061511,"body_markdown":"I am interested in getting ideas on how can I design my junit test cases so that they are more readable and maintainable. Here is the problem - In all my junit test cases I have some predefined steps to be executed like below\r\n\r\n    public class MyTestClass {\r\n    \r\n    private Service myService;\r\n    \r\n    @Test\r\n    public void testCase1() {\r\n        mockObjectX(&quot;A&quot;);\r\n        mockObjectY(1);\r\n        mockObjectZ(&quot;M&quot;, 1);\r\n        \r\n        myService.validate(&quot;value1&quot;, &quot;value2&quot;);\r\n        \r\n    }\r\n\r\n    @Test\r\n    public void testCase2() {\r\n        mockObjectX(&quot;Q&quot;);\r\n        mockObjectY(5);\r\n        mockObjectZ(&quot;Z&quot;, 10);\r\n\r\n        myService.validate(&quot;value3&quot;, &quot;value4&quot;);\r\n\r\n    }\r\n\r\n\r\n    private void mockObjectZ(String value1, int value2) {\r\n        //mock object Z\r\n    }\r\n\r\n    private void mockObjectY(Integer value) {\r\n        //mock object Y\r\n    }\r\n\r\n    private void mockObjectX(String value) {\r\n        //mock object X\r\n    }\r\n    }\r\n\r\nThe issue is if I were to add a new test case I need make sure that the new test case calls mockObjectX(), mockObjectY(), mockObjectZ(). Is there a better way (a more maintainable way) of designing my test cases such that adding new testcases becomes simpler?\r\n\r\nI think that @Before cannot be used since the mock* methods accept parameters. \r\n\r\nOne way I could think of is having a class containing methods for each parameter value required to mock object X, Y and Z\r\n\r\n    public class MyTestClass {\r\n\r\n    private Service myService;\r\n\r\n    @Test\r\n    public void testCase1() {\r\n        mockObjects(new TestCase1());\r\n        myService.validate(&quot;value1&quot;, &quot;value2&quot;);\r\n\r\n    }\r\n\r\n    @Test\r\n    public void testCase2() {\r\n        mockObjects(new TestCase2());\r\n        myService.validate(&quot;value3&quot;, &quot;value4&quot;);\r\n\r\n    }\r\n\r\n    private void mockObjects(ServiceObjectMocker serviceObjectMocker) {\r\n        //mock object x, y and z by calling respective methods from serviceObjectMocker   \r\n    }  \r\n               \r\n    private class ServiceObjectMocker {\r\n\r\n        protected Object[] getValuesForObjectZ() {\r\n            //pass default values\r\n            return new Object[] {};     \r\n        }\r\n\r\n        protected Integer getValuesForObjectY() {\r\n            //pass default values\r\n            return 1;\r\n        }\r\n\r\n        protected String getValuesForObjectX() {\r\n            //pass default values\r\n            return &quot;A&quot;;\r\n        }\r\n\r\n    }\r\n    \r\n    private class TestCase1 extends ServiceObjectMocker {\r\n        @Override\r\n        protected String getValuesForObjectX() {\r\n            return &quot;B&quot;;    \r\n        }  \r\n    }\r\n\r\n    private class TestCase2 extends ServiceObjectMocker {\r\n        @Override\r\n        protected String getValuesForObjectX() {\r\n            //pass different values\r\n            return &quot;Q&quot;;\r\n        }\r\n\r\n        @Override\r\n        protected Integer getValuesForObjectY() {\r\n            //pass default values\r\n            return 10;\r\n        }\r\n\r\n    }\r\n    }\r\n\r\nThis reduces the no. of method calls each test case needs to make. Any better ideas?\r\n\r\n","title":"Designing junit test cases - predefined steps for each test case","body":"<p>I am interested in getting ideas on how can I design my junit test cases so that they are more readable and maintainable. Here is the problem - In all my junit test cases I have some predefined steps to be executed like below</p>\n\n<pre><code>public class MyTestClass {\n\nprivate Service myService;\n\n@Test\npublic void testCase1() {\n    mockObjectX(\"A\");\n    mockObjectY(1);\n    mockObjectZ(\"M\", 1);\n\n    myService.validate(\"value1\", \"value2\");\n\n}\n\n@Test\npublic void testCase2() {\n    mockObjectX(\"Q\");\n    mockObjectY(5);\n    mockObjectZ(\"Z\", 10);\n\n    myService.validate(\"value3\", \"value4\");\n\n}\n\n\nprivate void mockObjectZ(String value1, int value2) {\n    //mock object Z\n}\n\nprivate void mockObjectY(Integer value) {\n    //mock object Y\n}\n\nprivate void mockObjectX(String value) {\n    //mock object X\n}\n}\n</code></pre>\n\n<p>The issue is if I were to add a new test case I need make sure that the new test case calls mockObjectX(), mockObjectY(), mockObjectZ(). Is there a better way (a more maintainable way) of designing my test cases such that adding new testcases becomes simpler?</p>\n\n<p>I think that @Before cannot be used since the mock* methods accept parameters. </p>\n\n<p>One way I could think of is having a class containing methods for each parameter value required to mock object X, Y and Z</p>\n\n<pre><code>public class MyTestClass {\n\nprivate Service myService;\n\n@Test\npublic void testCase1() {\n    mockObjects(new TestCase1());\n    myService.validate(\"value1\", \"value2\");\n\n}\n\n@Test\npublic void testCase2() {\n    mockObjects(new TestCase2());\n    myService.validate(\"value3\", \"value4\");\n\n}\n\nprivate void mockObjects(ServiceObjectMocker serviceObjectMocker) {\n    //mock object x, y and z by calling respective methods from serviceObjectMocker   \n}  \n\nprivate class ServiceObjectMocker {\n\n    protected Object[] getValuesForObjectZ() {\n        //pass default values\n        return new Object[] {};     \n    }\n\n    protected Integer getValuesForObjectY() {\n        //pass default values\n        return 1;\n    }\n\n    protected String getValuesForObjectX() {\n        //pass default values\n        return \"A\";\n    }\n\n}\n\nprivate class TestCase1 extends ServiceObjectMocker {\n    @Override\n    protected String getValuesForObjectX() {\n        return \"B\";    \n    }  \n}\n\nprivate class TestCase2 extends ServiceObjectMocker {\n    @Override\n    protected String getValuesForObjectX() {\n        //pass different values\n        return \"Q\";\n    }\n\n    @Override\n    protected Integer getValuesForObjectY() {\n        //pass default values\n        return 10;\n    }\n\n}\n}\n</code></pre>\n\n<p>This reduces the no. of method calls each test case needs to make. Any better ideas?</p>\n"},{"tags":["java","spring","spring-boot","kotlin","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":15786105,"reputation":131,"user_id":11390838,"display_name":"rham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649699363,"creation_date":1649699363,"answer_id":71832200,"question_id":71750550,"body_markdown":"Basically just remove &quot;Mongo&quot; on your repository custom interface name\r\n\r\nRename \r\n`ProfileMongoRepositoryCustom` to `ProfileRepositoryCustom`\r\n\r\nalso\r\n`ProfileMongoRepositoryCustomImpl` to `ProfileRepositoryCustomImpl`\r\n\r\nReference from https://docs.spring.io/spring-data/jpa/docs/1.6.0.RELEASE/reference/html/repositories.html (section: Adding custom behavior to single repositories)\r\n","title":"Spring boot mongo repository custom implementation not working","body":"<p>Basically just remove &quot;Mongo&quot; on your repository custom interface name</p>\n<p>Rename\n<code>ProfileMongoRepositoryCustom</code> to <code>ProfileRepositoryCustom</code></p>\n<p>also\n<code>ProfileMongoRepositoryCustomImpl</code> to <code>ProfileRepositoryCustomImpl</code></p>\n<p>Reference from <a href=\"https://docs.spring.io/spring-data/jpa/docs/1.6.0.RELEASE/reference/html/repositories.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/1.6.0.RELEASE/reference/html/repositories.html</a> (section: Adding custom behavior to single repositories)</p>\n"}],"owner":{"account_id":3496652,"reputation":1352,"user_id":2924643,"accept_rate":38,"display_name":"Mamen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649699363,"creation_date":1649156197,"question_id":71750550,"body_markdown":"hi i followed [this][1] instruction, and i have custom method implementation like this:\r\n\r\ninterface\r\n\r\n    interface ProfileMongoRepositoryCustom  {\r\n      fun addCourse(id: String)\r\n    }\r\n\r\nImplementation\r\n\r\n    class ProfileMongoRepositoryCustomImpl(\r\n      @Autowired val mongoOperations: MongoOperations,\r\n    \r\n      ) : ProfileMongoRepositoryCustom {\r\n      override fun addCourse(id: String) {\r\n       // some implementation\r\n      }\r\n    }\r\n\r\nmongo repo\r\n\r\n    @Repository\r\n    interface ProfileMongoRepository : MongoRepository&lt;Profile, String&gt;, ProfileMongoRepositoryCustom {\r\n      fun findByEmail(email: String): Profile?\r\n      fun findByPhoneNumber(phoneNumber: String): Profile?\r\n    }\r\n\r\nwhen i run the program, it shows an error:\r\n``` No property addCourse found for type Profile!```\r\n\r\nit seems like the implementation is not read by the application because if i put the implementation in the same module and package with the interface it worked, my module structure is:\r\n\r\n - -- project-app (main class)\r\n - -- project-repo (this is where mongo repo and custom interface belong)\r\n - -- project-repo-impl (this is where my custom implementaion belong)\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#repositories.custom-implementations\r\n\r\n","title":"Spring boot mongo repository custom implementation not working","body":"<p>hi i followed <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">this</a> instruction, and i have custom method implementation like this:</p>\n<p>interface</p>\n<pre><code>interface ProfileMongoRepositoryCustom  {\n  fun addCourse(id: String)\n}\n</code></pre>\n<p>Implementation</p>\n<pre><code>class ProfileMongoRepositoryCustomImpl(\n  @Autowired val mongoOperations: MongoOperations,\n\n  ) : ProfileMongoRepositoryCustom {\n  override fun addCourse(id: String) {\n   // some implementation\n  }\n}\n</code></pre>\n<p>mongo repo</p>\n<pre><code>@Repository\ninterface ProfileMongoRepository : MongoRepository&lt;Profile, String&gt;, ProfileMongoRepositoryCustom {\n  fun findByEmail(email: String): Profile?\n  fun findByPhoneNumber(phoneNumber: String): Profile?\n}\n</code></pre>\n<p>when i run the program, it shows an error:\n<code> No property addCourse found for type Profile!</code></p>\n<p>it seems like the implementation is not read by the application because if i put the implementation in the same module and package with the interface it worked, my module structure is:</p>\n<ul>\n<li>-- project-app (main class)</li>\n<li>-- project-repo (this is where mongo repo and custom interface belong)</li>\n<li>-- project-repo-impl (this is where my custom implementaion belong)</li>\n</ul>\n"},{"tags":["java","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":19840634,"reputation":1,"user_id":14533296,"display_name":"Ayush Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649699290,"creation_date":1649698461,"answer_id":71832024,"question_id":71831906,"body_markdown":"The **@JsonProperty** annotation is used to map property names with JSON keys during serialization and deserialization. By default, if you try to serialize a POJO, the generated JSON will have keys mapped to the fields of the POJO. If you want to override this behavior, you can use the @JsonProperty annotation on the fields. It takes a String attribute that specifies the name that should be mapped to the field during serialization.\r\n\r\nTry using this and create a POJO class Student like this :\r\n\r\n    @Document(collection=&quot;students&quot;)\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    class Student{\r\n    \r\n        @JsonPropertyOrder({\r\n                &quot;id&quot;,\r\n                &quot;major&quot;,\r\n                &quot;phNo&quot;,\r\n                &quot;dob&quot;\r\n        })\r\n    \r\n        @Id\r\n        @JsonProperty(&quot;id&quot;)\r\n        private String id;\r\n\r\n        @JsonProperty(&quot;major&quot;)\r\n        private String major;\r\n\r\n        @JsonProperty(&quot;phNo&quot;)\r\n        private int phNo;\r\n\r\n        @JsonProperty(&quot;dob&quot;)\r\n        private long dob;\r\n    }","title":"How to change Data type of a column in Mongo collection using Spring Boot","body":"<p>The <strong>@JsonProperty</strong> annotation is used to map property names with JSON keys during serialization and deserialization. By default, if you try to serialize a POJO, the generated JSON will have keys mapped to the fields of the POJO. If you want to override this behavior, you can use the @JsonProperty annotation on the fields. It takes a String attribute that specifies the name that should be mapped to the field during serialization.</p>\n<p>Try using this and create a POJO class Student like this :</p>\n<pre><code>@Document(collection=&quot;students&quot;)\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\nclass Student{\n\n    @JsonPropertyOrder({\n            &quot;id&quot;,\n            &quot;major&quot;,\n            &quot;phNo&quot;,\n            &quot;dob&quot;\n    })\n\n    @Id\n    @JsonProperty(&quot;id&quot;)\n    private String id;\n\n    @JsonProperty(&quot;major&quot;)\n    private String major;\n\n    @JsonProperty(&quot;phNo&quot;)\n    private int phNo;\n\n    @JsonProperty(&quot;dob&quot;)\n    private long dob;\n}\n</code></pre>\n"}],"owner":{"account_id":14433225,"reputation":303,"user_id":10425982,"display_name":"amar2108"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649699290,"creation_date":1649697827,"question_id":71831906,"body_markdown":"I have a pojo class Student for which i made a collection students\r\n```\r\n@Document(collection=&quot;students&quot;)\r\n@Data\r\n@Builder\r\nclass Student{\r\n\r\n@Id\r\nprivate String id;\r\nprivate String major;\r\nprivate int phNo;\r\nprivate Date dob;\r\n}\r\n```\r\n\r\nI had to change the dob to type ```long dob``` to convert it to epoch but after that all the repo operations stopped working. I am assuming we have to change the type in db too when we change the datatype in collection.\r\n\r\nI had changed the name of the field too I used one of the suggested approach using **mongoTemplate**\r\n```\r\n    BasicDBObject searchQuery = new BasicDBObject();\r\n    BasicDBObject updateQuery = new BasicDBObject();\r\n    updateQuery.append(&quot;$rename&quot;,new BasicDBObject().append(&quot;field1&quot;, &quot;field11&quot;));  \r\n mongoTemplate.getCollection(&quot;students&quot;).updateMany(searchQuery,updateQuery);\r\n         }\r\n```\r\n\r\n\r\nhow do i do this for changing the field type using **mongoTemplate**.\r\n","title":"How to change Data type of a column in Mongo collection using Spring Boot","body":"<p>I have a pojo class Student for which i made a collection students</p>\n<pre><code>@Document(collection=&quot;students&quot;)\n@Data\n@Builder\nclass Student{\n\n@Id\nprivate String id;\nprivate String major;\nprivate int phNo;\nprivate Date dob;\n}\n</code></pre>\n<p>I had to change the dob to type <code>long dob</code> to convert it to epoch but after that all the repo operations stopped working. I am assuming we have to change the type in db too when we change the datatype in collection.</p>\n<p>I had changed the name of the field too I used one of the suggested approach using <strong>mongoTemplate</strong></p>\n<pre><code>    BasicDBObject searchQuery = new BasicDBObject();\n    BasicDBObject updateQuery = new BasicDBObject();\n    updateQuery.append(&quot;$rename&quot;,new BasicDBObject().append(&quot;field1&quot;, &quot;field11&quot;));  \n mongoTemplate.getCollection(&quot;students&quot;).updateMany(searchQuery,updateQuery);\n         }\n</code></pre>\n<p>how do i do this for changing the field type using <strong>mongoTemplate</strong>.</p>\n"},{"tags":["java","memory-management","linked-list","heap-memory","breadth-first-search"],"comments":[{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1649650850,"post_id":71822673,"comment_id":126920876,"body_markdown":"Get rid of your `String[][]` graph. Replace it with an `int` or `enum GridPosition` array.","body":"Get rid of your <code>String[][]</code> graph. Replace it with an <code>int</code> or <code>enum GridPosition</code> array."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":1,"creation_date":1649651138,"post_id":71822673,"comment_id":126920922,"body_markdown":"Does this answer your question? [How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?](https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/37335/how-to-deal-with-java-lang-outofmemoryerror-java-heap-space-error\">How to deal with &quot;java.lang.OutOfMemoryError: Java heap space&quot; error?</a>"},{"owner":{"account_id":24865023,"reputation":13,"user_id":18740236,"display_name":"rhlcreations rhl"},"score":0,"creation_date":1649651279,"post_id":71822673,"comment_id":126920937,"body_markdown":"used int array before error still comes. I think the problem is queue stores a large number of points do u know how to fix that?","body":"used int array before error still comes. I think the problem is queue stores a large number of points do u know how to fix that?"},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1649651318,"post_id":71822673,"comment_id":126920947,"body_markdown":"Ohhh, you don&#39;t keep track of visited points. That causes the memory usage to be nearly exponential based on grid size.","body":"Ohhh, you don&#39;t keep track of visited points. That causes the memory usage to be nearly exponential based on grid size."},{"owner":{"account_id":24865023,"reputation":13,"user_id":18740236,"display_name":"rhlcreations rhl"},"score":0,"creation_date":1649652296,"post_id":71822673,"comment_id":126921089,"body_markdown":"how can i fix it? @Locke","body":"how can i fix it? @Locke"}],"answers":[{"tags":[],"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649655457,"creation_date":1649653380,"answer_id":71822889,"question_id":71822673,"body_markdown":"The issue is you need to keep track of visited points so you don&#39;t add them to the queue again. To do that you first need to add `equals` and `hashCode` methods to your `Point` so we can keep a set of them. Without going too much into the details, here is what that would look like (generated by Intellij):\r\n```java\r\n@Override\r\npublic boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (o == null || getClass() != o.getClass()) return false;\r\n    Point point = (Point) o;\r\n    return x == point.x &amp;&amp; y == point.y;\r\n}\r\n\r\n@Override\r\npublic int hashCode() {\r\n    return Objects.hash(x, y);\r\n}\r\n```\r\nThe main idea is that in addition to your queue, you also keep a set of visited nodes so you don&#39;t re-add them to the queue.\r\n```java\r\nSet&lt;Point&gt; visited = new HashSet&lt;&gt;();\r\n\r\nwhile (queue has points left) {\r\n   Point next = pop back of queue\r\n   // Add this point so we don&#39;t visit it again later\r\n   visited.add(next);\r\n   \r\n   for (Point x adjacent to next) {\r\n       if (visited.contains(x)) continue;\r\n       queue.add(x);\r\n   }\r\n}\r\n```\r\n\r\nNow here is an example of how that might look. This might look a little weird, but I decided to keep it generic for re-usability since you may not always want to use `Point`.\r\n\r\n```java\r\n@FunctionalInterface\r\npublic interface ExpandNode&lt;T&gt; {\r\n    Stream&lt;T&gt; expand(T position);\r\n}\r\n\r\n@FunctionalInterface\r\npublic interface EndCondition&lt;T&gt; {\r\n    boolean isEndPoint(T position);\r\n}\r\n\r\nprivate static class NodePath&lt;T&gt; {\r\n    final T node;\r\n    final NodePath&lt;T&gt; previous;\r\n\r\n    NodePath(T node, NodePath&lt;T&gt; previous) {\r\n        this.node = node;\r\n        this.previous = previous;\r\n    }\r\n}\r\n\r\npublic static &lt;T&gt; List&lt;T&gt; performBFS(T initial, EndCondition&lt;T&gt; endCondition, ExpandNode&lt;T&gt; expander) {\r\n    // Keep queue as a local variable to prevent weird side effects from multiple threads using performBFS\r\n    Deque&lt;NodePath&lt;T&gt;&gt; queue = new ArrayDeque&lt;&gt;();\r\n    queue.push(new NodePath&lt;&gt;(initial, null));\r\n\r\n    // Keep set of visited nodes so we don&#39;t revisit locations\r\n    Set&lt;T&gt; visited = new HashSet&lt;&gt;();\r\n\r\n    while (!queue.isEmpty()) {\r\n        NodePath&lt;T&gt; next = queue.getFirst();\r\n        visited.add(next.node);\r\n\r\n        // If we are at the end unwind the path to get the list of nodes\r\n        if (endCondition.isEndPoint(next.node)) {\r\n            List&lt;T&gt; nodes = new ArrayList&lt;&gt;();\r\n            nodes.add(next.node);\r\n\r\n            while (next.previous != null) {\r\n                next = next.previous;\r\n                nodes.add(next.node);\r\n            }\r\n\r\n            Collections.reverse(nodes);\r\n            return nodes;\r\n        }\r\n\r\n\r\n        NodePath&lt;T&gt; finalNext = next;\r\n        expander.expand(next.node)\r\n                .filter(node -&gt; !visited.contains(node))\r\n                .forEach(node -&gt; queue.addLast(new NodePath&lt;&gt;(node, finalNext)));\r\n    }\r\n\r\n    return null;\r\n}\r\n```\r\n\r\nFrom there it isn&#39;t too difficult to make an adapter for any BFS problem you might have. For example:\r\n```java\r\npublic static List&lt;Point&gt; getPathBFS(Point start, String[][] graph) {\r\n    Point[] offsets = {\r\n            new Point(-1, 0),\r\n            new Point(0, -1),\r\n            new Point(1, 0),\r\n            new Point(0, 1)\r\n    };\r\n    \r\n    EndCondition&lt;Point&gt; endCondition = position -&gt; graph[position.x][position.y].equals(&quot;F&quot;);\r\n    \r\n    ExpandNode&lt;Point&gt; expander = position -&gt; Stream.of(offsets)\r\n            .filter(offset -&gt; isValid(position.x + offset.x, position.y + offset.y, graph))\r\n            .map(offset -&gt; new Point(position.x + offset.x, position.y + offset.y));\r\n    \r\n    return performBFS(start, endCondition, expander)\r\n}\r\n```","title":"How to solve Java heap space error for large inputs","body":"<p>The issue is you need to keep track of visited points so you don't add them to the queue again. To do that you first need to add <code>equals</code> and <code>hashCode</code> methods to your <code>Point</code> so we can keep a set of them. Without going too much into the details, here is what that would look like (generated by Intellij):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Point point = (Point) o;\n    return x == point.x &amp;&amp; y == point.y;\n}\n\n@Override\npublic int hashCode() {\n    return Objects.hash(x, y);\n}\n</code></pre>\n<p>The main idea is that in addition to your queue, you also keep a set of visited nodes so you don't re-add them to the queue.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Point&gt; visited = new HashSet&lt;&gt;();\n\nwhile (queue has points left) {\n   Point next = pop back of queue\n   // Add this point so we don't visit it again later\n   visited.add(next);\n   \n   for (Point x adjacent to next) {\n       if (visited.contains(x)) continue;\n       queue.add(x);\n   }\n}\n</code></pre>\n<p>Now here is an example of how that might look. This might look a little weird, but I decided to keep it generic for re-usability since you may not always want to use <code>Point</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FunctionalInterface\npublic interface ExpandNode&lt;T&gt; {\n    Stream&lt;T&gt; expand(T position);\n}\n\n@FunctionalInterface\npublic interface EndCondition&lt;T&gt; {\n    boolean isEndPoint(T position);\n}\n\nprivate static class NodePath&lt;T&gt; {\n    final T node;\n    final NodePath&lt;T&gt; previous;\n\n    NodePath(T node, NodePath&lt;T&gt; previous) {\n        this.node = node;\n        this.previous = previous;\n    }\n}\n\npublic static &lt;T&gt; List&lt;T&gt; performBFS(T initial, EndCondition&lt;T&gt; endCondition, ExpandNode&lt;T&gt; expander) {\n    // Keep queue as a local variable to prevent weird side effects from multiple threads using performBFS\n    Deque&lt;NodePath&lt;T&gt;&gt; queue = new ArrayDeque&lt;&gt;();\n    queue.push(new NodePath&lt;&gt;(initial, null));\n\n    // Keep set of visited nodes so we don't revisit locations\n    Set&lt;T&gt; visited = new HashSet&lt;&gt;();\n\n    while (!queue.isEmpty()) {\n        NodePath&lt;T&gt; next = queue.getFirst();\n        visited.add(next.node);\n\n        // If we are at the end unwind the path to get the list of nodes\n        if (endCondition.isEndPoint(next.node)) {\n            List&lt;T&gt; nodes = new ArrayList&lt;&gt;();\n            nodes.add(next.node);\n\n            while (next.previous != null) {\n                next = next.previous;\n                nodes.add(next.node);\n            }\n\n            Collections.reverse(nodes);\n            return nodes;\n        }\n\n\n        NodePath&lt;T&gt; finalNext = next;\n        expander.expand(next.node)\n                .filter(node -&gt; !visited.contains(node))\n                .forEach(node -&gt; queue.addLast(new NodePath&lt;&gt;(node, finalNext)));\n    }\n\n    return null;\n}\n</code></pre>\n<p>From there it isn't too difficult to make an adapter for any BFS problem you might have. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Point&gt; getPathBFS(Point start, String[][] graph) {\n    Point[] offsets = {\n            new Point(-1, 0),\n            new Point(0, -1),\n            new Point(1, 0),\n            new Point(0, 1)\n    };\n    \n    EndCondition&lt;Point&gt; endCondition = position -&gt; graph[position.x][position.y].equals(&quot;F&quot;);\n    \n    ExpandNode&lt;Point&gt; expander = position -&gt; Stream.of(offsets)\n            .filter(offset -&gt; isValid(position.x + offset.x, position.y + offset.y, graph))\n            .map(offset -&gt; new Point(position.x + offset.x, position.y + offset.y));\n    \n    return performBFS(start, endCondition, expander)\n}\n</code></pre>\n"}],"owner":{"account_id":24865023,"reputation":13,"user_id":18740236,"display_name":"rhlcreations rhl"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649699224,"creation_date":1649650671,"question_id":71822673,"body_markdown":"Hi im implementing shortest path maze solver algorithm using breadth first search. when i input large scale puzzle 320x320 it gives exeption error. please help.(Heap space allocated to 2gb)                                         \r\n                                                                                                    \r\nthis is the error,\r\n\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n    \tat Maze.getPathBFS(Maze.java:58)\r\n    \tat Maze.main(Maze.java:132)\r\n\r\nthis is part of my code,\r\n\r\n \r\n\r\n    //data structure to store matrix cell coordinates\r\n        private static class Point {\r\n            int x;\r\n            int y;\r\n            Point parent;\r\n    \r\n            public Point(int x, int y, Point parent) {\r\n                this.x = x;\r\n                this.y = y;\r\n                this.parent = parent;\r\n            }\r\n    \r\n            public Point getParent() {\r\n                return this.parent;\r\n            }\r\n    \r\n            public String toString() {\r\n                return &quot;x = &quot; + x + &quot; y = &quot; + y;\r\n            }\r\n        }   \r\n    //queue to store cells\r\n        public static Queue&lt;Point&gt; path = new LinkedList&lt;&gt;();\r\n    \r\n        // BFS algorithm to acquire the shortest path to destination\r\n        public static Point getPathBFS(int x, int y, String[][] graph) {\r\n    \r\n            //start point\r\n            path.add(new Point(x, y, null));\r\n    \r\n            while (!path.isEmpty()) {\r\n                Point point = path.remove();\r\n    \r\n    \r\n                //finding destination coordinate\r\n                if (graph[point.x][point.y].equals(&quot;F&quot;)) {\r\n                    return point;\r\n                }\r\n    \r\n                //checking neighbour cells for path and add path to the queue\r\n                if (isValid(point.x + 1, point.y, graph)) { //checking down cell is valid to visit\r\n                    graph[point.x][point.y] = &quot;-1&quot;; // mark reached cell\r\n                    Point nextP = new Point(point.x + 1, point.y, point);\r\n                    path.add(nextP);\r\n                }\r\n    \r\n                if (isValid(point.x - 1, point.y, graph)) {//checking Up cell is valid to visit\r\n                    graph[point.x][point.y] = &quot;-1&quot;;\r\n                    Point nextP = new Point(point.x - 1, point.y, point);\r\n                    path.add(nextP);\r\n                }\r\n    \r\n                if (isValid(point.x, point.y + 1, graph)) { //checking Right cell is valid to visit\r\n                    graph[point.x][point.y] = &quot;-1&quot;;\r\n                    Point nextP = new Point(point.x, point.y + 1, point);\r\n                    path.add(nextP);\r\n                }\r\n    \r\n                if (isValid(point.x, point.y - 1, graph)) { //checking left cell is valid to visit\r\n                    graph[point.x][point.y] = &quot;-1&quot;;\r\n                    Point nextP = new Point(point.x, point.y - 1, point);\r\n                    path.add(nextP);\r\n                }\r\n    \r\n            }\r\n            return null;\r\n        }\r\n\r\nis there any code change must be done to reduce memory consumption in the code?  \r\n    ","title":"How to solve Java heap space error for large inputs","body":"<p>Hi im implementing shortest path maze solver algorithm using breadth first search. when i input large scale puzzle 320x320 it gives exeption error. please help.(Heap space allocated to 2gb)</p>\n<p>this is the error,</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\n    at Maze.getPathBFS(Maze.java:58)\n    at Maze.main(Maze.java:132)\n</code></pre>\n<p>this is part of my code,</p>\n<pre><code>//data structure to store matrix cell coordinates\n    private static class Point {\n        int x;\n        int y;\n        Point parent;\n\n        public Point(int x, int y, Point parent) {\n            this.x = x;\n            this.y = y;\n            this.parent = parent;\n        }\n\n        public Point getParent() {\n            return this.parent;\n        }\n\n        public String toString() {\n            return &quot;x = &quot; + x + &quot; y = &quot; + y;\n        }\n    }   \n//queue to store cells\n    public static Queue&lt;Point&gt; path = new LinkedList&lt;&gt;();\n\n    // BFS algorithm to acquire the shortest path to destination\n    public static Point getPathBFS(int x, int y, String[][] graph) {\n\n        //start point\n        path.add(new Point(x, y, null));\n\n        while (!path.isEmpty()) {\n            Point point = path.remove();\n\n\n            //finding destination coordinate\n            if (graph[point.x][point.y].equals(&quot;F&quot;)) {\n                return point;\n            }\n\n            //checking neighbour cells for path and add path to the queue\n            if (isValid(point.x + 1, point.y, graph)) { //checking down cell is valid to visit\n                graph[point.x][point.y] = &quot;-1&quot;; // mark reached cell\n                Point nextP = new Point(point.x + 1, point.y, point);\n                path.add(nextP);\n            }\n\n            if (isValid(point.x - 1, point.y, graph)) {//checking Up cell is valid to visit\n                graph[point.x][point.y] = &quot;-1&quot;;\n                Point nextP = new Point(point.x - 1, point.y, point);\n                path.add(nextP);\n            }\n\n            if (isValid(point.x, point.y + 1, graph)) { //checking Right cell is valid to visit\n                graph[point.x][point.y] = &quot;-1&quot;;\n                Point nextP = new Point(point.x, point.y + 1, point);\n                path.add(nextP);\n            }\n\n            if (isValid(point.x, point.y - 1, graph)) { //checking left cell is valid to visit\n                graph[point.x][point.y] = &quot;-1&quot;;\n                Point nextP = new Point(point.x, point.y - 1, point);\n                path.add(nextP);\n            }\n\n        }\n        return null;\n    }\n</code></pre>\n<p>is there any code change must be done to reduce memory consumption in the code?</p>\n"},{"tags":["java","ajax","jsf","jakarta-ee"],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649699029,"creation_date":1649699029,"answer_id":71832133,"question_id":71831308,"body_markdown":"Try `keyup` instead of `change`. The list of supported events are: `blur`, `change`, `click`, `action`, `dblclick`, `focus`, `keydown`, `keypress`, `keyup`, `mousedown`, `mousemove`, `mouseout`, `mouseover`, `mouseup`, and `select`.\r\n\r\nThis will likely fire a very large amount of ajax events to your server though, so be prepared for that. You&#39;ll get an event for _every_ keystroke.\r\n\r\nsource: https://www.beyondjava.net/a-comprehensive-guide-to-jsf-ajax","title":"How to render outputText when inputText is focused or changes value?","body":"<p>Try <code>keyup</code> instead of <code>change</code>. The list of supported events are: <code>blur</code>, <code>change</code>, <code>click</code>, <code>action</code>, <code>dblclick</code>, <code>focus</code>, <code>keydown</code>, <code>keypress</code>, <code>keyup</code>, <code>mousedown</code>, <code>mousemove</code>, <code>mouseout</code>, <code>mouseover</code>, <code>mouseup</code>, and <code>select</code>.</p>\n<p>This will likely fire a very large amount of ajax events to your server though, so be prepared for that. You'll get an event for <em>every</em> keystroke.</p>\n<p>source: <a href=\"https://www.beyondjava.net/a-comprehensive-guide-to-jsf-ajax\" rel=\"nofollow noreferrer\">https://www.beyondjava.net/a-comprehensive-guide-to-jsf-ajax</a></p>\n"}],"owner":{"account_id":18331697,"reputation":105,"user_id":13350075,"display_name":"Catalin Mares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71832133,"answer_count":1,"score":0,"last_activity_date":1649699029,"creation_date":1649694789,"question_id":71831308,"body_markdown":"I am learning Java EE and I a ran into an issue I can&#39;t figure out. I have this xhtml:\r\n\r\n```html\r\n&lt;h:form&gt;\r\n            &lt;fieldset&gt;\r\n                &lt;legend&gt;Random Number (with execute=&quot;someId&quot;)&lt;/legend&gt;\r\n                Range:\r\n                &lt;h:inputText value=&quot;#{numberGenerator.range}&quot;\r\n                             id=&quot;rangeField&quot;&gt;\r\n                    &lt;f:ajax event=&quot;change&quot; execute=&quot;@this&quot;\r\n                            render=&quot;numField3&quot;/&gt;\r\n                    &lt;f:ajax event=&quot;focus&quot; execute=&quot;@this&quot;\r\n                            render=&quot;numField3&quot;/&gt;\r\n                &lt;/h:inputText&gt;&lt;br/&gt;\r\n                &lt;h:commandButton value=&quot;Show Number&quot;\r\n                                 action=&quot;#{numberGenerator.randomize}&quot;&gt;\r\n                &lt;/h:commandButton&gt;&lt;br/&gt;\r\n                &lt;h2&gt;&lt;h:outputText value=&quot;#{numberGenerator.number}&quot;\r\n                                  id=&quot;numField3&quot;/&gt;&lt;/h2&gt;\r\n            &lt;/fieldset&gt;\r\n        &lt;/h:form&gt;\r\n```\r\n\r\nand here is the bean:\r\n\r\n```java\r\npackage javaeetutorial.ajaxguessnumber;\r\nimport javax.faces.bean.*;\r\n@ManagedBean\r\n\r\n    public class NumberGenerator  {\r\n        private double number = Math.random();\r\n        private double range = 1.0;\r\n\r\n        public double getRange() {\r\n            return(range);\r\n        }\r\n\r\n        public void setRange(double range) {\r\n            this.range = range;\r\n        }\r\n\r\n        public double getNumber() {\r\n            return(number);\r\n        }\r\n\r\n        public double getNumber2() {\r\n            return(Math.random() * range);\r\n        }\r\n\r\n        public String randomize() {\r\n            number = range * Math.random();\r\n            return(null);\r\n        }\r\n    }\r\n```\r\n\r\nMy question is how can I manage to make the value rendered in outputText whenever the inputText is focused or changes value? So far I only managed to update it when the inputText is focused, but on value change nothing happens.","title":"How to render outputText when inputText is focused or changes value?","body":"<p>I am learning Java EE and I a ran into an issue I can't figure out. I have this xhtml:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h:form&gt;\n            &lt;fieldset&gt;\n                &lt;legend&gt;Random Number (with execute=&quot;someId&quot;)&lt;/legend&gt;\n                Range:\n                &lt;h:inputText value=&quot;#{numberGenerator.range}&quot;\n                             id=&quot;rangeField&quot;&gt;\n                    &lt;f:ajax event=&quot;change&quot; execute=&quot;@this&quot;\n                            render=&quot;numField3&quot;/&gt;\n                    &lt;f:ajax event=&quot;focus&quot; execute=&quot;@this&quot;\n                            render=&quot;numField3&quot;/&gt;\n                &lt;/h:inputText&gt;&lt;br/&gt;\n                &lt;h:commandButton value=&quot;Show Number&quot;\n                                 action=&quot;#{numberGenerator.randomize}&quot;&gt;\n                &lt;/h:commandButton&gt;&lt;br/&gt;\n                &lt;h2&gt;&lt;h:outputText value=&quot;#{numberGenerator.number}&quot;\n                                  id=&quot;numField3&quot;/&gt;&lt;/h2&gt;\n            &lt;/fieldset&gt;\n        &lt;/h:form&gt;\n</code></pre>\n<p>and here is the bean:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package javaeetutorial.ajaxguessnumber;\nimport javax.faces.bean.*;\n@ManagedBean\n\n    public class NumberGenerator  {\n        private double number = Math.random();\n        private double range = 1.0;\n\n        public double getRange() {\n            return(range);\n        }\n\n        public void setRange(double range) {\n            this.range = range;\n        }\n\n        public double getNumber() {\n            return(number);\n        }\n\n        public double getNumber2() {\n            return(Math.random() * range);\n        }\n\n        public String randomize() {\n            number = range * Math.random();\n            return(null);\n        }\n    }\n</code></pre>\n<p>My question is how can I manage to make the value rendered in outputText whenever the inputText is focused or changes value? So far I only managed to update it when the inputText is focused, but on value change nothing happens.</p>\n"},{"tags":["java","json","parsing","jackson","gson"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1649698681,"post_id":71831929,"comment_id":126937193,"body_markdown":"That is just regular JSON. Numbers look like that. Any JSON library will be able to parse it.","body":"That is just regular JSON. Numbers look like that. Any JSON library will be able to parse it."},{"owner":{"account_id":7705665,"reputation":137,"user_id":6801747,"display_name":"Vladislav  Solopov"},"score":0,"creation_date":1649698854,"post_id":71831929,"comment_id":126937261,"body_markdown":"but when I try to convert to object - it doesn&#39;t work except first attribute","body":"but when I try to convert to object - it doesn&#39;t work except first attribute"},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":1,"creation_date":1649698893,"post_id":71831929,"comment_id":126937275,"body_markdown":"what do you mean by &quot;when I try to convert to object&quot;?","body":"what do you mean by &quot;when I try to convert to object&quot;?"},{"owner":{"account_id":7705665,"reputation":137,"user_id":6801747,"display_name":"Vladislav  Solopov"},"score":0,"creation_date":1649699507,"post_id":71831929,"comment_id":126937474,"body_markdown":"I mean, deserealization when use:\ngson.fromJson(jsonString, MyDTO.class);","body":"I mean, deserealization when use: gson.fromJson(jsonString, MyDTO.class);"},{"owner":{"account_id":2141010,"reputation":118229,"user_id":1899640,"display_name":"that other guy"},"score":0,"creation_date":1649700323,"post_id":71831929,"comment_id":126937762,"body_markdown":"I&#39;m unable to reproduce this problem. What I did was 1. Copy your DTO class to a new file, 2. Write a driver that calls `gson.fromJson(jsonString, MyDTO.class);` with the JSON you include, and prints out each field in the file, 3. Build it with gson-2.8.6 and jackson-annotations-2.10.0, 4. Run it and see each field being populated just fine. How do I reproduce this?","body":"I&#39;m unable to reproduce this problem. What I did was 1. Copy your DTO class to a new file, 2. Write a driver that calls <code>gson.fromJson(jsonString, MyDTO.class);</code> with the JSON you include, and prints out each field in the file, 3. Build it with gson-2.8.6 and jackson-annotations-2.10.0, 4. Run it and see each field being populated just fine. How do I reproduce this?"},{"owner":{"account_id":16914570,"reputation":1532,"user_id":12232870,"display_name":"terrorrussia-keeps-killing"},"score":0,"creation_date":1649740711,"post_id":71831929,"comment_id":126946241,"body_markdown":"&quot;Doesn&#39;t work except first attribute&quot; -- It works as regular JSON just like all the others tell you, and not how you imagine it would work, right? Why do you think that JSON number literals must be enclosed in `&quot;` and what made you think it? Next, if it &quot;doesn&#39;t&quot; work like you want it to, why not post an error you&#39;re getting not making anybody else waste their time trying to guess if you really encountering a real issue or you haven&#39;t read the JSON basics? Why have you tagged it with both Gson and Jackson?  Too many why&#39;s. Downvoted.","body":"&quot;Doesn&#39;t work except first attribute&quot; -- It works as regular JSON just like all the others tell you, and not how you imagine it would work, right? Why do you think that JSON number literals must be enclosed in <code>&quot;</code> and what made you think it? Next, if it &quot;doesn&#39;t&quot; work like you want it to, why not post an error you&#39;re getting not making anybody else waste their time trying to guess if you really encountering a real issue or you haven&#39;t read the JSON basics? Why have you tagged it with both Gson and Jackson?  Too many why&#39;s. Downvoted."}],"answers":[{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1649698138,"creation_date":1649698138,"answer_id":71831959,"question_id":71831929,"body_markdown":"You mention Gson. To parse the above String with Gson you would do the following:\r\n\r\n    String jsonString = &quot;{...}&quot;;\r\n    JsonObject result = JsonParser.parseString(jsonString).getAsJsonObject();\r\n\r\nThere is nothing special about unquoted numeric values. All the JSON parsing libraries will support that.","title":"How to parse unquoted numeric json values in java?","body":"<p>You mention Gson. To parse the above String with Gson you would do the following:</p>\n<pre><code>String jsonString = &quot;{...}&quot;;\nJsonObject result = JsonParser.parseString(jsonString).getAsJsonObject();\n</code></pre>\n<p>There is nothing special about unquoted numeric values. All the JSON parsing libraries will support that.</p>\n"}],"owner":{"account_id":7705665,"reputation":137,"user_id":6801747,"display_name":"Vladislav  Solopov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1649698968,"creation_date":1649697947,"question_id":71831929,"body_markdown":"How to parse numeric unquoted values? \r\nActually, I see only the option to parse using regex and wrap digit values into quotes. Is it possible to parse that in another way? Thanks for your time.\r\n\r\n    {\r\n      &quot;field1&quot;:&quot;Some string value&quot;,\r\n      &quot;field2&quot;: 0.5,\r\n      &quot;field3&quot;:3\r\n    }\r\n\r\n\r\nMy DTO class:\r\n\r\n \r\n\r\n    public class MyDTO{\r\n        @JsonProperty(&quot;field1&quot;)\r\n        private String field1;\r\n    \r\n        @JsonProperty(&quot;field2&quot;)\r\n        private Float field2;\r\n    \r\n        @JsonProperty(&quot;field3&quot;)\r\n        private Integer field3;\r\n\r\n        //getters, setters\r\n    }","title":"How to parse unquoted numeric json values in java?","body":"<p>How to parse numeric unquoted values?\nActually, I see only the option to parse using regex and wrap digit values into quotes. Is it possible to parse that in another way? Thanks for your time.</p>\n<pre><code>{\n  &quot;field1&quot;:&quot;Some string value&quot;,\n  &quot;field2&quot;: 0.5,\n  &quot;field3&quot;:3\n}\n</code></pre>\n<p>My DTO class:</p>\n<pre><code>public class MyDTO{\n    @JsonProperty(&quot;field1&quot;)\n    private String field1;\n\n    @JsonProperty(&quot;field2&quot;)\n    private Float field2;\n\n    @JsonProperty(&quot;field3&quot;)\n    private Integer field3;\n\n    //getters, setters\n}\n</code></pre>\n"},{"tags":["java","file","encryption","aes"],"comments":[{"owner":{"account_id":13294099,"reputation":49274,"user_id":9597706,"display_name":"Richard Heap"},"score":1,"creation_date":1649699375,"post_id":71832117,"comment_id":126937431,"body_markdown":"You aren&#39;t actually reading anything into `inputBytes` before calling `doFinal` - so you are trying to decrypt garbage (all zeros) instead of the contents of the file. (You have the same error on the encrypt side.) For simplicity, assuming reasonably sized files for now, check out: https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllBytes-java.nio.file.Path-","body":"You aren&#39;t actually reading anything into <code>inputBytes</code> before calling <code>doFinal</code> - so you are trying to decrypt garbage (all zeros) instead of the contents of the file. (You have the same error on the encrypt side.) For simplicity, assuming reasonably sized files for now, check out: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Files.html#readAllBytes-java.nio.file.Path-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/nio/file/&hellip;</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1649700400,"post_id":71832117,"comment_id":126937792,"body_markdown":"Your &quot;encrypt&quot; method encrypts an `inputBytes` array full of zeros and throws away the result. It the copies the (unencrypted) input stream into the output stream.","body":"Your &quot;encrypt&quot; method encrypts an <code>inputBytes</code> array full of zeros and throws away the result. It the copies the (unencrypted) input stream into the output stream."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1649700600,"post_id":71832117,"comment_id":126937856,"body_markdown":"Does this answer your question? [Encrypting a large file with AES using JAVA](https://stackoverflow.com/questions/34447037/encrypting-a-large-file-with-aes-using-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34447037/encrypting-a-large-file-with-aes-using-java\">Encrypting a large file with AES using JAVA</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1649700653,"post_id":71832117,"comment_id":126937872,"body_markdown":"The possible duplicate has an answer to the encryption problem. Decryption works similarly.","body":"The possible duplicate has an answer to the encryption problem. Decryption works similarly."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1649709182,"post_id":71832117,"comment_id":126940585,"body_markdown":"One thing that is often overlooked is the new IO, where you can map a file into memory. Note that &quot;coincidentally&quot; you can also use `ByteArray` buffers in the implementations of `Cipher`.","body":"One thing that is often overlooked is the new IO, where you can map a file into memory. Note that &quot;coincidentally&quot; you can also use <code>ByteArray</code> buffers in the implementations of <code>Cipher</code>."}],"owner":{"account_id":24785048,"reputation":11,"user_id":18668341,"display_name":"SOFsomeonenew1015"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649698944,"creation_date":1649698944,"question_id":71832117,"body_markdown":"I&#39;m trying to encrypt a file using AES and Java Crypto Library. But this is the error Which happens while I&#39;m decrypting the file: &quot;Error while decrypting: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.&quot;\r\n\r\nThis is my code so far:\r\n  \r\n\r\n      public static void encrypt(File input, String key, File output) {\r\n            try \r\n            {\r\n                byte[] iv = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\r\n                IvParameterSpec ivspec = new IvParameterSpec(iv);\r\n    \r\n                SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n                KeySpec spec = new PBEKeySpec(key.toCharArray(), key.getBytes(), 65536, 256);\r\n                SecretKey tmp = factory.generateSecret(spec);\r\n                SecretKeySpec secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\r\n    \r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n                cipher.init(Cipher.ENCRYPT_MODE, secretKey, ivspec);\r\n                \r\n                FileInputStream inputStream = new FileInputStream(input);\r\n                byte[] inputBytes = new byte[(int) input.length()];\r\n                int count;\r\n                 \r\n                byte[] outputBytes = cipher.doFinal(inputBytes);\r\n                 \r\n                FileOutputStream outputStream = new FileOutputStream(output);\r\n    \r\n    \t        while ((count = inputStream.read(inputBytes, 0, inputBytes.length)) &gt; 0)\r\n    \t        {\r\n    \t          outputStream.write(inputBytes, 0, count);\r\n    \t        }\r\n                 \r\n                inputStream.close();\r\n                outputStream.close();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                System.out.println(&quot;Error while encrypting: &quot; + e.toString());\r\n            }\r\n            }\r\n    \r\n        public static void decrypt(File input, String key, File output)\r\n        {\r\n            try\r\n            {\r\n            \t\r\n                byte[] iv = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\r\n                IvParameterSpec ivspec = new IvParameterSpec(iv);\r\n    \r\n                SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n                KeySpec spec = new PBEKeySpec(key.toCharArray(), key.getBytes(), 65536, 256);\r\n                SecretKey tmp = factory.generateSecret(spec);\r\n                SecretKeySpec secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\r\n    \r\n                Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n                cipher.init(Cipher.DECRYPT_MODE, secretKey);\r\n                 \r\n                FileInputStream inputStream = new FileInputStream(input);\r\n                byte[] inputBytes = new byte[(int) input.length()];\r\n                \r\n                int count;\r\n                 \r\n                byte[] outputBytes = cipher.doFinal(inputBytes);\r\n                 \r\n                FileOutputStream outputStream = new FileOutputStream(output);\r\n    \r\n    \t        while ((count = inputStream.read(inputBytes, 0, inputBytes.length)) &gt; 0)\r\n    \t        {\r\n    \t          outputStream.write(inputBytes, 0, count);\r\n    \t        }\r\n                 \r\n                inputStream.close();\r\n                outputStream.close();\r\n            }\r\n            catch (Exception e)\r\n            {\r\n                System.out.println(&quot;Error while decrypting: &quot; + e.toString());\r\n            }\r\n        }\r\nWhat could be the problem?\r\nThanks in advance!","title":"File Encryption/Decryption Java","body":"<p>I'm trying to encrypt a file using AES and Java Crypto Library. But this is the error Which happens while I'm decrypting the file: &quot;Error while decrypting: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.&quot;</p>\n<p>This is my code so far:</p>\n<pre><code>  public static void encrypt(File input, String key, File output) {\n        try \n        {\n            byte[] iv = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\n            IvParameterSpec ivspec = new IvParameterSpec(iv);\n\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n            KeySpec spec = new PBEKeySpec(key.toCharArray(), key.getBytes(), 65536, 256);\n            SecretKey tmp = factory.generateSecret(spec);\n            SecretKeySpec secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\n\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, secretKey, ivspec);\n            \n            FileInputStream inputStream = new FileInputStream(input);\n            byte[] inputBytes = new byte[(int) input.length()];\n            int count;\n             \n            byte[] outputBytes = cipher.doFinal(inputBytes);\n             \n            FileOutputStream outputStream = new FileOutputStream(output);\n\n            while ((count = inputStream.read(inputBytes, 0, inputBytes.length)) &gt; 0)\n            {\n              outputStream.write(inputBytes, 0, count);\n            }\n             \n            inputStream.close();\n            outputStream.close();\n        }\n        catch (Exception e)\n        {\n            System.out.println(&quot;Error while encrypting: &quot; + e.toString());\n        }\n        }\n\n    public static void decrypt(File input, String key, File output)\n    {\n        try\n        {\n            \n            byte[] iv = {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0};\n            IvParameterSpec ivspec = new IvParameterSpec(iv);\n\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n            KeySpec spec = new PBEKeySpec(key.toCharArray(), key.getBytes(), 65536, 256);\n            SecretKey tmp = factory.generateSecret(spec);\n            SecretKeySpec secretKey = new SecretKeySpec(tmp.getEncoded(), &quot;AES&quot;);\n\n            Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, secretKey);\n             \n            FileInputStream inputStream = new FileInputStream(input);\n            byte[] inputBytes = new byte[(int) input.length()];\n            \n            int count;\n             \n            byte[] outputBytes = cipher.doFinal(inputBytes);\n             \n            FileOutputStream outputStream = new FileOutputStream(output);\n\n            while ((count = inputStream.read(inputBytes, 0, inputBytes.length)) &gt; 0)\n            {\n              outputStream.write(inputBytes, 0, count);\n            }\n             \n            inputStream.close();\n            outputStream.close();\n        }\n        catch (Exception e)\n        {\n            System.out.println(&quot;Error while decrypting: &quot; + e.toString());\n        }\n    }\n</code></pre>\n<p>What could be the problem?\nThanks in advance!</p>\n"},{"tags":["java","api","io"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1470199093,"post_id":38734465,"comment_id":64844526,"body_markdown":"&quot;*...  provides default methods ...*&quot;","body":"&quot;<i>...  provides default methods ...</i>&quot;"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1470200618,"post_id":38734465,"comment_id":64845020,"body_markdown":"It isn&#39;t an exact copy of `Writer`. See the Javadoc. See specifically the constructors, and what it *says* about the methods in the Javadoc.","body":"It isn&#39;t an exact copy of <code>Writer</code>. See the Javadoc. See specifically the constructors, and what it <i>says</i> about the methods in the Javadoc."}],"answers":[{"tags":[],"owner":{"display_name":"user6458249"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470199174,"creation_date":1470199040,"answer_id":38734519,"question_id":38734465,"body_markdown":"The `FilterWriter` class is the superclass of all of the writer classes that filter output. A subclass of `FilterWriter` works by wrapping an existing writer, called the underlying writer, and providing additional functionality. The methods of `FilterWriter` simply override the methods of `Writer` with versions that call the corresponding methods of the underlying writer.\r\n\r\n`FilterWriter` cannot be instantiated directly; it must be subclassed. An instance of a subclass of `FilterWriter` is constructed with another `Writer` object. The methods of a subclass of `FilterWriter` should override some methods in order to extend their behavior or provide some sort of filtering.\r\n\r\n`FilterWriter` is like `FilterOutputStream`, except that it deals with a character stream instead of a byte stream. ","title":"What&#39;s the difference between FilterWriter and Writer in Java?","body":"<p>The <code>FilterWriter</code> class is the superclass of all of the writer classes that filter output. A subclass of <code>FilterWriter</code> works by wrapping an existing writer, called the underlying writer, and providing additional functionality. The methods of <code>FilterWriter</code> simply override the methods of <code>Writer</code> with versions that call the corresponding methods of the underlying writer.</p>\n\n<p><code>FilterWriter</code> cannot be instantiated directly; it must be subclassed. An instance of a subclass of <code>FilterWriter</code> is constructed with another <code>Writer</code> object. The methods of a subclass of <code>FilterWriter</code> should override some methods in order to extend their behavior or provide some sort of filtering.</p>\n\n<p><code>FilterWriter</code> is like <code>FilterOutputStream</code>, except that it deals with a character stream instead of a byte stream. </p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1470199510,"creation_date":1470199510,"answer_id":38734587,"question_id":38734465,"body_markdown":"&gt; 1. What is the rationale to define `FilterWriter` as an exact copy of `Writer`?\r\n\r\n`FilterWriter` is *not* an exact copy of `Writer`.  Although declared `abstract`, it provides implementations of all of `Writer`&#39;s abstract methods, and it overrides some of the concrete methods.  These implementations serve `FilterWriter`&#39;s specific purpose, as described in its API docs:\r\n\r\n&gt; The abstract class FilterWriter itself provides default methods that pass all requests to the contained stream. Subclasses of FilterWriter should override some of these methods and may also provide additional methods and fields.\r\n\r\nThe class is abstract, despite having no abstract methods, because the functionality described is not directly useful by itself.  It is intended to serve as a base class for classes that monitor or modify the character stream as it is written to the underlying `Writer`.\r\n\r\n&gt; 2. What&#39;s the difference between `FilterWriter` and `Writer`?\r\n\r\nFunctionally, `FilterWriter` provides concrete implementations for `Writer`&#39;s abstract methods, and it overrides a few others.  Type-wise, `Writer` is a superclass of a bunch of classes that `FilterWriter` is not a superclass of, including `FilterWriter` itself.\r\n","title":"What&#39;s the difference between FilterWriter and Writer in Java?","body":"<blockquote>\n  <ol>\n  <li>What is the rationale to define <code>FilterWriter</code> as an exact copy of <code>Writer</code>?</li>\n  </ol>\n</blockquote>\n\n<p><code>FilterWriter</code> is <em>not</em> an exact copy of <code>Writer</code>.  Although declared <code>abstract</code>, it provides implementations of all of <code>Writer</code>'s abstract methods, and it overrides some of the concrete methods.  These implementations serve <code>FilterWriter</code>'s specific purpose, as described in its API docs:</p>\n\n<blockquote>\n  <p>The abstract class FilterWriter itself provides default methods that pass all requests to the contained stream. Subclasses of FilterWriter should override some of these methods and may also provide additional methods and fields.</p>\n</blockquote>\n\n<p>The class is abstract, despite having no abstract methods, because the functionality described is not directly useful by itself.  It is intended to serve as a base class for classes that monitor or modify the character stream as it is written to the underlying <code>Writer</code>.</p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>What's the difference between <code>FilterWriter</code> and <code>Writer</code>?</li>\n  </ol>\n</blockquote>\n\n<p>Functionally, <code>FilterWriter</code> provides concrete implementations for <code>Writer</code>'s abstract methods, and it overrides a few others.  Type-wise, <code>Writer</code> is a superclass of a bunch of classes that <code>FilterWriter</code> is not a superclass of, including <code>FilterWriter</code> itself.</p>\n"}],"owner":{"account_id":239034,"reputation":40094,"user_id":508343,"accept_rate":78,"display_name":"xmllmx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"accepted_answer_id":38734587,"answer_count":2,"score":-3,"last_activity_date":1649698868,"creation_date":1470198752,"question_id":38734465,"body_markdown":"From [https://docs.oracle.com/javase/7/docs/api/java/io/Writer.html][1] and [https://docs.oracle.com/javase/7/docs/api/java/io/FilterWriter.html][2], I find that `FilterWriter` is an abstract class, which extends `Writer` and has no extra mothods.\r\n\r\nI just wonder: \r\n\r\n 1. **What is the rationale to define** `FilterWriter` **as an exact copy of** `Writer`?\r\n 2. **What&#39;s the difference between** `FilterWriter` and `Writer` **?**\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/io/Writer.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/FilterWriter.html","title":"What&#39;s the difference between FilterWriter and Writer in Java?","body":"<p>From <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/Writer.html\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/io/Writer.html</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/FilterWriter.html\" rel=\"nofollow\">https://docs.oracle.com/javase/7/docs/api/java/io/FilterWriter.html</a>, I find that <code>FilterWriter</code> is an abstract class, which extends <code>Writer</code> and has no extra mothods.</p>\n\n<p>I just wonder: </p>\n\n<ol>\n<li><strong>What is the rationale to define</strong> <code>FilterWriter</code> <strong>as an exact copy of</strong> <code>Writer</code>?</li>\n<li><strong>What's the difference between</strong> <code>FilterWriter</code> and <code>Writer</code> <strong>?</strong></li>\n</ol>\n"},{"tags":["java","regex","swing","tablerowsorter","patternsyntaxexception"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1649680644,"post_id":71826741,"comment_id":126930137,"body_markdown":"If you can get this to work in a console app., it would work in `Swing`/`JTable`/`RowSorter`. Therefore none of those are relevant to the question. Tags removed, Java tag(1) added. 1) Which, as an aside, is likely followed by more people than the other 3 tags *combined*.","body":"If you can get this to work in a console app., it would work in <code>Swing</code>/<code>JTable</code>/<code>RowSorter</code>. Therefore none of those are relevant to the question. Tags removed, Java tag(1) added. 1) Which, as an aside, is likely followed by more people than the other 3 tags <i>combined</i>."}],"answers":[{"tags":[],"owner":{"account_id":20306478,"reputation":11,"user_id":14894593,"display_name":"Apurva Dhok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649698773,"creation_date":1649698773,"answer_id":71832085,"question_id":71826741,"body_markdown":"    \t\t\tpublic void keyReleased(KeyEvent e) {\r\n\t\t\t\tString query = filterField.getText().trim();\r\n\t\t\t\tTableRowSorter&lt;DefaultTableModel&gt; sorter = new TableRowSorter&lt;DefaultTableModel&gt;(model);\r\n\t\t\t\tString rquery = null;\r\n\t\t\t\tif (query.length() == 0) {\r\n\t\t\t\t\tsorter.setRowFilter(null);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttable.setRowSorter(sorter);\r\n\r\n\t\t\t\t\tif (query.contains(&quot;+&quot;)) {\r\n\t\t\t\t\t\tint idx = query.indexOf(&quot;+&quot;);\r\n\t\t\t\t\t\trquery = new StringBuilder(query).insert(idx, &quot;\\\\&quot;).toString();\r\n\t\t\t\t\t\tquery = rquery;\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\tArrayList&lt;RowFilter&lt;Object, Object&gt;&gt; filters = new ArrayList&lt;RowFilter&lt;Object, Object&gt;&gt;(1);\r\n\t\t\t\t\tfilters.add(RowFilter.regexFilter(&quot;(?i)&quot; + query, 0));\r\n\t\t\t\t\tfilters.add(RowFilter.regexFilter(&quot;(?i)&quot; + query, 1));\r\n\t\t\t\t\tsorter.setRowFilter(RowFilter.orFilter(filters));\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n","title":"java.util.regex.PatternSyntaxException while using RowFilter in java swing","body":"<pre><code>            public void keyReleased(KeyEvent e) {\n            String query = filterField.getText().trim();\n            TableRowSorter&lt;DefaultTableModel&gt; sorter = new TableRowSorter&lt;DefaultTableModel&gt;(model);\n            String rquery = null;\n            if (query.length() == 0) {\n                sorter.setRowFilter(null);\n            } else {\n                table.setRowSorter(sorter);\n\n                if (query.contains(&quot;+&quot;)) {\n                    int idx = query.indexOf(&quot;+&quot;);\n                    rquery = new StringBuilder(query).insert(idx, &quot;\\\\&quot;).toString();\n                    query = rquery;\n\n                }\n                ArrayList&lt;RowFilter&lt;Object, Object&gt;&gt; filters = new ArrayList&lt;RowFilter&lt;Object, Object&gt;&gt;(1);\n                filters.add(RowFilter.regexFilter(&quot;(?i)&quot; + query, 0));\n                filters.add(RowFilter.regexFilter(&quot;(?i)&quot; + query, 1));\n                sorter.setRowFilter(RowFilter.orFilter(filters));\n\n            }\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":20306478,"reputation":11,"user_id":14894593,"display_name":"Apurva Dhok"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649698773,"creation_date":1649675237,"question_id":71826741,"body_markdown":"```java\r\nfilterField.addKeyListener(new KeyAdapter() {\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t\tString query = filterField.getText().trim();\r\n\t\tTableRowSorter&lt;DefaultTableModel&gt; sorter = new TableRowSorter&lt;DefaultTableModel&gt;(model);\r\n\t\tif (query.length() == 0) {\r\n\t\t\tsorter.setRowFilter(null);\r\n\t\t} else {\r\n\t\t\ttable.setRowSorter(sorter);\r\n\t\t\tArrayList&lt;RowFilter&lt;Object, Object&gt;&gt; filters = new ArrayList&lt;RowFilter&lt;Object, Object&gt;&gt;(5);\r\n\t\t\tfilters.add(RowFilter.regexFilter(&quot;(?i)&quot; + query, 0));\r\n\t\t\tfilters.add(RowFilter.regexFilter(&quot;(?i)&quot; + query, 1));\r\n\t\t\tsorter.setRowFilter(RowFilter.orFilter(filters));\r\n\t\t}\r\n\t}\r\n});\r\n```\r\nThere is a column which contains `+` and `-` signs which I want to filter but I am getting this error while filtering row\r\n&gt; [filter.java.util.regex.PatternSyntaxException: Dangling meta character &#39;+&#39; near index 4 (?i)+ ]","title":"java.util.regex.PatternSyntaxException while using RowFilter in java swing","body":"<pre class=\"lang-java prettyprint-override\"><code>filterField.addKeyListener(new KeyAdapter() {\n    @Override\n    public void keyReleased(KeyEvent e) {\n        String query = filterField.getText().trim();\n        TableRowSorter&lt;DefaultTableModel&gt; sorter = new TableRowSorter&lt;DefaultTableModel&gt;(model);\n        if (query.length() == 0) {\n            sorter.setRowFilter(null);\n        } else {\n            table.setRowSorter(sorter);\n            ArrayList&lt;RowFilter&lt;Object, Object&gt;&gt; filters = new ArrayList&lt;RowFilter&lt;Object, Object&gt;&gt;(5);\n            filters.add(RowFilter.regexFilter(&quot;(?i)&quot; + query, 0));\n            filters.add(RowFilter.regexFilter(&quot;(?i)&quot; + query, 1));\n            sorter.setRowFilter(RowFilter.orFilter(filters));\n        }\n    }\n});\n</code></pre>\n<p>There is a column which contains <code>+</code> and <code>-</code> signs which I want to filter but I am getting this error while filtering row</p>\n<blockquote>\n<p>[filter.java.util.regex.PatternSyntaxException: Dangling meta character '+' near index 4 (?i)+ ]</p>\n</blockquote>\n"},{"tags":["java","web-scraping","url","http-headers"],"comments":[{"owner":{"account_id":20016512,"reputation":3080,"user_id":14672383,"display_name":"AminMal"},"score":1,"creation_date":1649703383,"post_id":71832005,"comment_id":126938704,"body_markdown":"What do you exactly mean by `not working?`. maybe you&#39;re just not getting 200 (not satisfying if condition). I tried the link and got 404 status code.","body":"What do you exactly mean by <code>not working?</code>. maybe you&#39;re just not getting 200 (not satisfying if condition). I tried the link and got 404 status code."},{"owner":{"account_id":24904237,"reputation":1,"user_id":18774532,"display_name":"Kenzo LECOINDRE"},"score":0,"creation_date":1649714112,"post_id":71832005,"comment_id":126941873,"body_markdown":"Hi thanks to tryning to help me ! I mean that the code is supposed to print the body of the webpage. It works with the s1 String (we tsee the html code). when I launch the s2 String in google chrome, it display a json that I want to use. In my code, it return a code &quot;200&quot; so it is supposed to work but the InputStream seems to be void because it never goes into the while condition ...","body":"Hi thanks to tryning to help me ! I mean that the code is supposed to print the body of the webpage. It works with the s1 String (we tsee the html code). when I launch the s2 String in google chrome, it display a json that I want to use. In my code, it return a code &quot;200&quot; so it is supposed to work but the InputStream seems to be void because it never goes into the while condition ..."},{"owner":{"account_id":24904237,"reputation":1,"user_id":18774532,"display_name":"Kenzo LECOINDRE"},"score":0,"creation_date":1649714164,"post_id":71832005,"comment_id":126941885,"body_markdown":"It is weird that you got a 404 status code ...","body":"It is weird that you got a 404 status code ..."}],"owner":{"account_id":24904237,"reputation":1,"user_id":18774532,"display_name":"Kenzo LECOINDRE"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649698757,"creation_date":1649698389,"question_id":71832005,"body_markdown":"I&#39;m trying to write a bot that scrap my tiktok liked videos to repost it in a private twitter account. I&#39;m trying the following code but it is not working on the link that I give (*the String s2 in the code*). But the following code is working with other website (*like the String s1 in the code*).\r\n\r\nThere is the code :\r\n\r\n    \tString s1 = &quot;https://stackoverflow.com/questions/9856195/how-to-read-an-http-input-stream&quot;;\r\n    \tString s2 = &quot;https://m.tiktok.com/api/favorite/item_list/?aid=1988&amp;app_language=fr&amp;app_name=tiktok_web&amp;battery_info=0.98&amp;browser_language=fr-FR&amp;browser_name=Mozilla&amp;browser_online=true&amp;browser_platform=Win32&amp;browser_version=5.0%20%28Windows%20NT%2010.0%3B%20Win64%3B%20x64%29%20AppleWebKit%2F537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome%2F100.0.4896.75%20Safari%2F537.36&amp;channel=tiktok_web&amp;cookie_enabled=true&amp;count=30&amp;cursor=0&amp;device_id=7063036855931487750&amp;device_platform=web_pc&amp;focus_state=true&amp;from_page=user&amp;history_len=1&amp;is_fullscreen=false&amp;is_page_visible=true&amp;language=fr&amp;os=windows&amp;priority_region=&amp;referer=https%3A%2F%2Fwww.tiktok.com%2Fforyou%3Fis_copy_url%3D1%26is_from_webapp%3Dv1&amp;region=FR&amp;root_referer=https%3A%2F%2Fwww.tiktok.com%2Fforyou%3Fis_copy_url%3D1%26is_from_webapp%3Dv1&amp;screen_height=1080&amp;screen_width=1920&amp;secUid=MS4wLjABAAAAVgmocO2icsccM7sWbsOrGVbtLWI95ckuqchBV6Xp4EB1TpNCQDRBdZ-sMnItg-ZK&amp;tz_name=Europe%2FParis&amp;verifyFp=verify_l1td19sm_5DseUBXr_J8Sh_4D3W_BkHD_l4QBi8kzyjXQ&amp;webcast_language=fr&amp;msToken=gcc7oLzFW46KbibjEdg_IpuKIflUWj0zNMrcdirXpbZskFJgO8eNab4IRArRABhorlOTWSZRGpxpsMhWyvxGJMTR7T1xzldFmKVCRyX5boPcmZh5hcw9XjbmDJSgbyppR371tq9G&amp;X-Bogus=DFSzswVOf3bANtliSAdqKQYklTIX&amp;_signature=_02B4Z6wo00001dSv8PgAAIDACtmoX.I3hl3Ur.RAABeBd6&quot;;\r\n    \t\r\n    \tURL url = new URL(s2);\r\n\t\tHttpURLConnection conn = (HttpURLConnection)url.openConnection();\r\n\t\tconn.setRequestMethod(&quot;GET&quot;);\r\n\t\tconn.setInstanceFollowRedirects(true);\r\n\t\tconn.connect();\r\n\t\tif(conn.getResponseCode() == 200) {\r\n\t\t\tScanner scan = new Scanner(url.openStream());\r\n\t\t\twhile(scan.hasNext()) {\r\n\t\t\t\tString temp = scan.nextLine();\r\n\t\t\t\tSystem.out.println(temp);\r\n            }\r\n        }\r\n\r\nIs someone able to explain me why it is not working please ?\r\nThanks so much to your answers ;)\r\n\r\n(PS : the information returned by s2 are from the first account I found that configure to public her liked videos)","title":"Can&#39;t read a specific website page content","body":"<p>I'm trying to write a bot that scrap my tiktok liked videos to repost it in a private twitter account. I'm trying the following code but it is not working on the link that I give (<em>the String s2 in the code</em>). But the following code is working with other website (<em>like the String s1 in the code</em>).</p>\n<p>There is the code :</p>\n<pre><code>    String s1 = &quot;https://stackoverflow.com/questions/9856195/how-to-read-an-http-input-stream&quot;;\n    String s2 = &quot;https://m.tiktok.com/api/favorite/item_list/?aid=1988&amp;app_language=fr&amp;app_name=tiktok_web&amp;battery_info=0.98&amp;browser_language=fr-FR&amp;browser_name=Mozilla&amp;browser_online=true&amp;browser_platform=Win32&amp;browser_version=5.0%20%28Windows%20NT%2010.0%3B%20Win64%3B%20x64%29%20AppleWebKit%2F537.36%20%28KHTML%2C%20like%20Gecko%29%20Chrome%2F100.0.4896.75%20Safari%2F537.36&amp;channel=tiktok_web&amp;cookie_enabled=true&amp;count=30&amp;cursor=0&amp;device_id=7063036855931487750&amp;device_platform=web_pc&amp;focus_state=true&amp;from_page=user&amp;history_len=1&amp;is_fullscreen=false&amp;is_page_visible=true&amp;language=fr&amp;os=windows&amp;priority_region=&amp;referer=https%3A%2F%2Fwww.tiktok.com%2Fforyou%3Fis_copy_url%3D1%26is_from_webapp%3Dv1&amp;region=FR&amp;root_referer=https%3A%2F%2Fwww.tiktok.com%2Fforyou%3Fis_copy_url%3D1%26is_from_webapp%3Dv1&amp;screen_height=1080&amp;screen_width=1920&amp;secUid=MS4wLjABAAAAVgmocO2icsccM7sWbsOrGVbtLWI95ckuqchBV6Xp4EB1TpNCQDRBdZ-sMnItg-ZK&amp;tz_name=Europe%2FParis&amp;verifyFp=verify_l1td19sm_5DseUBXr_J8Sh_4D3W_BkHD_l4QBi8kzyjXQ&amp;webcast_language=fr&amp;msToken=gcc7oLzFW46KbibjEdg_IpuKIflUWj0zNMrcdirXpbZskFJgO8eNab4IRArRABhorlOTWSZRGpxpsMhWyvxGJMTR7T1xzldFmKVCRyX5boPcmZh5hcw9XjbmDJSgbyppR371tq9G&amp;X-Bogus=DFSzswVOf3bANtliSAdqKQYklTIX&amp;_signature=_02B4Z6wo00001dSv8PgAAIDACtmoX.I3hl3Ur.RAABeBd6&quot;;\n    \n    URL url = new URL(s2);\n    HttpURLConnection conn = (HttpURLConnection)url.openConnection();\n    conn.setRequestMethod(&quot;GET&quot;);\n    conn.setInstanceFollowRedirects(true);\n    conn.connect();\n    if(conn.getResponseCode() == 200) {\n        Scanner scan = new Scanner(url.openStream());\n        while(scan.hasNext()) {\n            String temp = scan.nextLine();\n            System.out.println(temp);\n        }\n    }\n</code></pre>\n<p>Is someone able to explain me why it is not working please ?\nThanks so much to your answers ;)</p>\n<p>(PS : the information returned by s2 are from the first account I found that configure to public her liked videos)</p>\n"},{"tags":["java","multithreading","keyboard","lag"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1649697083,"post_id":71831660,"comment_id":126936651,"body_markdown":"When reading input from t he console, you are in a mess because of the console. If you want to do this in a reliable way, you&#39;re better off making a swing or JavaFX gui. Then you can read from then keyboard in a precise manner. But if this is school work and your not allowed to, this is harder.","body":"When reading input from t he console, you are in a mess because of the console. If you want to do this in a reliable way, you&#39;re better off making a swing or JavaFX gui. Then you can read from then keyboard in a precise manner. But if this is school work and your not allowed to, this is harder."},{"owner":{"account_id":21865121,"reputation":1,"user_id":16155423,"display_name":"fermitanio"},"score":0,"creation_date":1649698721,"post_id":71831660,"comment_id":126937207,"body_markdown":"Thank you, I&#39;ve solved the issue according your suggestion, as I show below.","body":"Thank you, I&#39;ve solved the issue according your suggestion, as I show below."}],"answers":[{"tags":[],"owner":{"account_id":21865121,"reputation":1,"user_id":16155423,"display_name":"fermitanio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649698662,"creation_date":1649698662,"answer_id":71832058,"question_id":71831660,"body_markdown":"Thank you, I&#39;ve solved it according your suggestion. I&#39;ve replaced \r\n\r\n    Scanner keyboard = new Scanner(System.in);\r\n    String s = keyboard.nextLine();\r\n\r\nwith\r\n\r\n    Object[] options = {&quot;Yes&quot;, &quot;No&quot;};\r\n    int oo = JOptionPane.showOptionDialog(null,\r\n                    &quot;&#191;Question?&quot;, &quot;Questions&quot;,\r\n                    JOptionPane.YES_OPTION,\r\n                    JOptionPane.NO_OPTION,\r\n                    null, options, options[0]);","title":"How fix keyboard input lag?","body":"<p>Thank you, I've solved it according your suggestion. I've replaced</p>\n<pre><code>Scanner keyboard = new Scanner(System.in);\nString s = keyboard.nextLine();\n</code></pre>\n<p>with</p>\n<pre><code>Object[] options = {&quot;Yes&quot;, &quot;No&quot;};\nint oo = JOptionPane.showOptionDialog(null,\n                &quot;¿Question?&quot;, &quot;Questions&quot;,\n                JOptionPane.YES_OPTION,\n                JOptionPane.NO_OPTION,\n                null, options, options[0]);\n</code></pre>\n"}],"owner":{"account_id":21865121,"reputation":1,"user_id":16155423,"display_name":"fermitanio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649698662,"creation_date":1649696501,"question_id":71831660,"body_markdown":"I&#39;ve written a program to accept user answers to some questions, like &quot;A&quot;, &quot;B&quot; or &quot;C&quot;. If user answers them late, the program make different questions, like &quot;D&quot;, &quot;E&quot; of &quot;F&quot;. When user answer to these &quot;D&quot;, &quot;E&quot;, or &quot;F&quot;, the program should restart to answer with &quot;A&quot;, &quot;B&quot; or &quot;C&quot;. However, sometimes this does not work, the program still continue asking with &quot;D&quot;, &quot;E&quot; of &quot;F&quot;. Why?\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            Latency latency = new Latency();\r\n            latency.start();\r\n        }\r\n    \r\n        private static String choosePhrase(int seconds, int average) {\r\n            if (seconds &gt; average + 10) {\r\n                return &quot;&#191;D?&quot;;\r\n            } else if (seconds &gt; average + 5) {\r\n                return &quot;&#191;E?&quot;;\r\n            } else {\r\n                return &quot;&#191;F?&quot;;\r\n            }\r\n        }\r\n    }\r\n    \r\n    class Latency {\r\n    \r\n        int seconds = 0, average = 5;\r\n        MyThread myThread;\r\n        MyThread_r myThread_r;\r\n    //    public volatile boolean answered = true;\r\n        ObjectToPass o = new ObjectToPass();\r\n    \r\n        public void start() {\r\n            String s = &quot;&quot;;\r\n            while (!s.equalsIgnoreCase(&quot;q&quot;)) {\r\n    \r\n                seconds = 0;\r\n                if (myThread_r != null) {\r\n                    myThread_r.shutdown();\r\n                }\r\n    \r\n                if (o.answered) {\r\n                    o.answered = false;\r\n                    myThread = null;\r\n                    myThread = new MyThread(o);\r\n                    Thread t = new Thread(myThread);\r\n                    t.start();\r\n                } else {\r\n                    if (myThread != null) {\r\n                        myThread.shutdown();\r\n                    }\r\n    \r\n                    myThread_r = null;\r\n                    myThread_r = new MyThread_r(o);\r\n                    Thread t = new Thread(myThread_r);\r\n                    t.start();\r\n                }\r\n    \r\n                long createdMillis = System.currentTimeMillis();\r\n    \r\n                while (!this.o.getPlay() &amp;&amp; seconds &lt; average) {\r\n                    long nowMillis = System.currentTimeMillis();\r\n                    seconds = (int) ((nowMillis - createdMillis) / 1000);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    class ObjectToPass {\r\n    \r\n        boolean answered = true;\r\n    \r\n        public synchronized boolean getPlay() {\r\n            return answered;\r\n        }\r\n    \r\n        public synchronized void setPlay(boolean answered) {\r\n            this.answered = answered;\r\n        }\r\n    }\r\n    \r\n    class MyThread implements Runnable {\r\n    \r\n        ObjectToPass o;\r\n        static String[] questions = {&quot;&#191;A?&quot;, &quot;&#191;B?&quot;, &quot;&#191;C?&quot;};\r\n    //    public volatile boolean answered = true;\r\n    \r\n        public MyThread(ObjectToPass o) {\r\n            this.o = o;\r\n        }\r\n    \r\n        public void run() {\r\n            System.out.println(&quot;MyThread running&quot;);\r\n            Double d = Math.random() * 100;\r\n            int n = (int) (Math.ceil(d) % 3);\r\n            String question = questions[n];\r\n    \r\n            System.out.println(question);\r\n    \r\n            Scanner keyboard = new Scanner(System.in);\r\n            String s = keyboard.nextLine();\r\n            this.o.setPlay(true);\r\n    //        stop();\r\n        }\r\n    \r\n        public void shutdown() {\r\n            Thread.currentThread().interrupt();\r\n            return;\r\n        }\r\n    }\r\n    \r\n    class MyThread_r implements Runnable {\r\n    \r\n        ObjectToPass o;\r\n        static String[] questions = {&quot;&#191;D?&quot;, &quot;&#191;E?&quot;, &quot;&#191;F?&quot;};\r\n    //    public volatile boolean answered = true;\r\n    \r\n        public MyThread_r(ObjectToPass o) {\r\n            this.o = o;\r\n        }\r\n    \r\n        public void run() {\r\n            System.out.println(&quot;MyThread running&quot;);\r\n            Double d = Math.random() * 100;\r\n            int n = (int) (Math.ceil(d) % 3);\r\n            String question = questions[n];\r\n    \r\n            System.out.println(question);\r\n    \r\n            Scanner keyboard = new Scanner(System.in);\r\n            String s = keyboard.nextLine();\r\n            this.o.setPlay(true);\r\n    //        stop();\r\n        }\r\n    \r\n        public void shutdown() {\r\n            Thread.currentThread().interrupt();\r\n            return;\r\n        }\r\n    }\r\n\r\n","title":"How fix keyboard input lag?","body":"<p>I've written a program to accept user answers to some questions, like &quot;A&quot;, &quot;B&quot; or &quot;C&quot;. If user answers them late, the program make different questions, like &quot;D&quot;, &quot;E&quot; of &quot;F&quot;. When user answer to these &quot;D&quot;, &quot;E&quot;, or &quot;F&quot;, the program should restart to answer with &quot;A&quot;, &quot;B&quot; or &quot;C&quot;. However, sometimes this does not work, the program still continue asking with &quot;D&quot;, &quot;E&quot; of &quot;F&quot;. Why?</p>\n<pre><code>import java.util.Scanner;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        Latency latency = new Latency();\n        latency.start();\n    }\n\n    private static String choosePhrase(int seconds, int average) {\n        if (seconds &gt; average + 10) {\n            return &quot;¿D?&quot;;\n        } else if (seconds &gt; average + 5) {\n            return &quot;¿E?&quot;;\n        } else {\n            return &quot;¿F?&quot;;\n        }\n    }\n}\n\nclass Latency {\n\n    int seconds = 0, average = 5;\n    MyThread myThread;\n    MyThread_r myThread_r;\n//    public volatile boolean answered = true;\n    ObjectToPass o = new ObjectToPass();\n\n    public void start() {\n        String s = &quot;&quot;;\n        while (!s.equalsIgnoreCase(&quot;q&quot;)) {\n\n            seconds = 0;\n            if (myThread_r != null) {\n                myThread_r.shutdown();\n            }\n\n            if (o.answered) {\n                o.answered = false;\n                myThread = null;\n                myThread = new MyThread(o);\n                Thread t = new Thread(myThread);\n                t.start();\n            } else {\n                if (myThread != null) {\n                    myThread.shutdown();\n                }\n\n                myThread_r = null;\n                myThread_r = new MyThread_r(o);\n                Thread t = new Thread(myThread_r);\n                t.start();\n            }\n\n            long createdMillis = System.currentTimeMillis();\n\n            while (!this.o.getPlay() &amp;&amp; seconds &lt; average) {\n                long nowMillis = System.currentTimeMillis();\n                seconds = (int) ((nowMillis - createdMillis) / 1000);\n            }\n        }\n    }\n}\n\nclass ObjectToPass {\n\n    boolean answered = true;\n\n    public synchronized boolean getPlay() {\n        return answered;\n    }\n\n    public synchronized void setPlay(boolean answered) {\n        this.answered = answered;\n    }\n}\n\nclass MyThread implements Runnable {\n\n    ObjectToPass o;\n    static String[] questions = {&quot;¿A?&quot;, &quot;¿B?&quot;, &quot;¿C?&quot;};\n//    public volatile boolean answered = true;\n\n    public MyThread(ObjectToPass o) {\n        this.o = o;\n    }\n\n    public void run() {\n        System.out.println(&quot;MyThread running&quot;);\n        Double d = Math.random() * 100;\n        int n = (int) (Math.ceil(d) % 3);\n        String question = questions[n];\n\n        System.out.println(question);\n\n        Scanner keyboard = new Scanner(System.in);\n        String s = keyboard.nextLine();\n        this.o.setPlay(true);\n//        stop();\n    }\n\n    public void shutdown() {\n        Thread.currentThread().interrupt();\n        return;\n    }\n}\n\nclass MyThread_r implements Runnable {\n\n    ObjectToPass o;\n    static String[] questions = {&quot;¿D?&quot;, &quot;¿E?&quot;, &quot;¿F?&quot;};\n//    public volatile boolean answered = true;\n\n    public MyThread_r(ObjectToPass o) {\n        this.o = o;\n    }\n\n    public void run() {\n        System.out.println(&quot;MyThread running&quot;);\n        Double d = Math.random() * 100;\n        int n = (int) (Math.ceil(d) % 3);\n        String question = questions[n];\n\n        System.out.println(question);\n\n        Scanner keyboard = new Scanner(System.in);\n        String s = keyboard.nextLine();\n        this.o.setPlay(true);\n//        stop();\n    }\n\n    public void shutdown() {\n        Thread.currentThread().interrupt();\n        return;\n    }\n}\n</code></pre>\n"},{"tags":["java","google-sheets","salesforce","google-sheets-api","salesforce-lightning"],"comments":[{"owner":{"account_id":120915,"reputation":18591,"user_id":313628,"display_name":"eyescream"},"score":0,"creation_date":1649703894,"post_id":71831829,"comment_id":126938856,"body_markdown":"Correct, Events don&#39;t have Status. Tasks can be not started/in progress/completed but events... &quot;just are&quot;? they&#39;re completed when End Date is in the past. Unless you created a custom field the question is unclear, what exactly are you trying to do.","body":"Correct, Events don&#39;t have Status. Tasks can be not started/in progress/completed but events... &quot;just are&quot;? they&#39;re completed when End Date is in the past. Unless you created a custom field the question is unclear, what exactly are you trying to do."},{"owner":{"account_id":24904179,"reputation":19,"user_id":18774485,"display_name":"Ruby Khan"},"score":0,"creation_date":1649716207,"post_id":71831829,"comment_id":126942348,"body_markdown":"I am trying to get events where status  = show/no show/meeting scheduled. I can do this in report. There is a status field but i need to write a soql query to do this","body":"I am trying to get events where status  = show/no show/meeting scheduled. I can do this in report. There is a status field but i need to write a soql query to do this"},{"owner":{"account_id":120915,"reputation":18591,"user_id":313628,"display_name":"eyescream"},"score":0,"creation_date":1649744815,"post_id":71831829,"comment_id":126947120,"body_markdown":"What&#39;s the report type. &quot;Tasks and Events&quot;, &quot;Events with Invitees&quot; or if something custom - can you check it in Setup -&gt; Report Types? &quot;Tasks and Events&quot; will show a Status column but it&#39;ll be Task-related, for Event rows it&#39;s should be empty. Unless you added custom `Status__c` field I guess. If you&#39;re using &quot;Events with Invitees&quot; - check https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_eventattendee.htm out","body":"What&#39;s the report type. &quot;Tasks and Events&quot;, &quot;Events with Invitees&quot; or if something custom - can you check it in Setup -&gt; Report Types? &quot;Tasks and Events&quot; will show a Status column but it&#39;ll be Task-related, for Event rows it&#39;s should be empty. Unless you added custom <code>Status__c</code> field I guess. If you&#39;re using &quot;Events with Invitees&quot; - check <a href=\"https://developer.salesforce.com/docs/atlas.en-us.api.meta/api/sforce_api_objects_eventattendee.htm\" rel=\"nofollow noreferrer\">developer.salesforce.com/docs/atlas.en-us.api.meta/api/&hellip;</a> out"},{"owner":{"account_id":120915,"reputation":18591,"user_id":313628,"display_name":"eyescream"},"score":0,"creation_date":1649745006,"post_id":71831829,"comment_id":126947170,"body_markdown":"What do you get with `SELECT FIELDS(ALL) FROM Event LIMIT 200`? Or `FIELDS(CUSTOM)`? https://developer.salesforce.com/docs/atlas.en-us.236.0.soql_sosl.meta/soql_sosl/sforce_api_calls_soql_select_fields.htm","body":"What do you get with <code>SELECT FIELDS(ALL) FROM Event LIMIT 200</code>? Or <code>FIELDS(CUSTOM)</code>? <a href=\"https://developer.salesforce.com/docs/atlas.en-us.236.0.soql_sosl.meta/soql_sosl/sforce_api_calls_soql_select_fields.htm\" rel=\"nofollow noreferrer\">developer.salesforce.com/docs/atlas.en-us.236.0.soql_sosl.me&zwnj;&#8203;ta/&hellip;</a>"}],"owner":{"account_id":24904179,"reputation":19,"user_id":18774485,"display_name":"Ruby Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649698470,"creation_date":1649697375,"question_id":71831829,"body_markdown":"I am using the extension Salesforce connect to connect google sheets to Salesforce. I have to write a SOQL query to get all events grouped by event owner and import it ti google sheet using Salesforce connect. Its hard to write a query on event, some fields like status are in activities. Please advice how to get events from salesforce using SOQL query and including fields like status in the query","title":"Salesforce connector in google sheets to get all events","body":"<p>I am using the extension Salesforce connect to connect google sheets to Salesforce. I have to write a SOQL query to get all events grouped by event owner and import it ti google sheet using Salesforce connect. Its hard to write a query on event, some fields like status are in activities. Please advice how to get events from salesforce using SOQL query and including fields like status in the query</p>\n"},{"tags":["java","arrays","sorting","multidimensional-array","file-io"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1649695924,"post_id":71831514,"comment_id":126936247,"body_markdown":"`myArr[r][c]=in.next();` seems to be trying to store a string in an `int[][]`; `myArr[r][c]=in.nextDouble();` seems to be trying to store a double in an `int[][]`. You can&#39;t store heterogeneous data in an array: create a class to represent a player.","body":"<code>myArr[r][c]=in.next();</code> seems to be trying to store a string in an <code>int[][]</code>; <code>myArr[r][c]=in.nextDouble();</code> seems to be trying to store a double in an <code>int[][]</code>. You can&#39;t store heterogeneous data in an array: create a class to represent a player."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1649696046,"post_id":71831514,"comment_id":126936283,"body_markdown":"(Note that you also don&#39;t print out the sorted array).","body":"(Note that you also don&#39;t print out the sorted array)."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1649696091,"post_id":71831514,"comment_id":126936296,"body_markdown":"(And I think you should be comparing like-for-like array elements, e.g. `Integer.compare(a[3], b[3])`, not `a[0], b[3]`).","body":"(And I think you should be comparing like-for-like array elements, e.g. <code>Integer.compare(a[3], b[3])</code>, not <code>a[0], b[3]</code>)."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1649697278,"post_id":71831514,"comment_id":126936713,"body_markdown":"Is there any requirement to use arrays for this ? Sorry, but this is not the Java-way to do this.","body":"Is there any requirement to use arrays for this ? Sorry, but this is not the Java-way to do this."},{"owner":{"account_id":24864074,"reputation":13,"user_id":18739420,"display_name":"Jaceg22"},"score":0,"creation_date":1650404052,"post_id":71831514,"comment_id":127106480,"body_markdown":"No. What other way should I try?","body":"No. What other way should I try?"}],"answers":[{"tags":[],"owner":{"account_id":9795689,"reputation":1259,"user_id":7258827,"display_name":"AppleCiderGuy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649698401,"creation_date":1649697848,"answer_id":71831910,"question_id":71831514,"body_markdown":"in the nested for loop that you are reading, you keep overwriting the same index over and over again.\r\n\r\nyour code:\r\n\r\n    for(int r=0; r&lt;myArr.length; r++) { //lets say r = 0\r\n      for(int c=0; c&lt;myArr[r].length; c++) { //lets say c = 1\r\n        for (int i = 0; i &lt;= 1; i++) {\r\n          myArr[r][c]= in.next(); //myArr[0][1] getting the value of in.next() twice\r\n        }\r\n        for (int j = 0; j &lt;= 4; j++) {\r\n          myArr[r][c]=in.nextInt(); //myArr[0][1] getting the value of in.next() 5 times\r\n        }\r\n          myArr[r][c]=in.nextDouble(); //myArr[0][1] finally ending up with the value read on this line.\r\n      }\r\n    }\r\n\r\nI would reather:\r\n\r\n    for(int r=0; r&lt;myArr.length; r++) { //lets say r = 0\r\n      for(int c=0; c&lt;myArr[r].length; c++) { //lets say c = 1\r\n        if(!in.hasNext()) break; //safeguard for broken data.\r\n        if (c &lt;= 1) {\r\n          myArr[r][c]= in.next(); //myArr[0][1] get&#39;s the read done here. \r\n        } else if(c &lt;= 6) {\r\n          myArr[r][c]=in.nextInt(); \r\n        } else {\r\n          myArr[r][c]=in.nextDouble(); \r\n        }\r\n      }\r\n    }\r\n\r\n\r\nnow, this program will work strictly for data set of size 20 x 8. if you rather want to dynamically read the file, I would suggest using `LinkedList&lt;LinkedList&lt;Object&gt;&gt;` (or of type String) as your 2D array. while reading the file, I would read on line at a time using `i.nextLine()`. then, I would split each line by de-limiter (perhaps space).\r\n\r\nrefer to oracle docs on scanner to identify capabilities that you can leverage: https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html","title":"How do I sort lines of a text file in Java?","body":"<p>in the nested for loop that you are reading, you keep overwriting the same index over and over again.</p>\n<p>your code:</p>\n<pre><code>for(int r=0; r&lt;myArr.length; r++) { //lets say r = 0\n  for(int c=0; c&lt;myArr[r].length; c++) { //lets say c = 1\n    for (int i = 0; i &lt;= 1; i++) {\n      myArr[r][c]= in.next(); //myArr[0][1] getting the value of in.next() twice\n    }\n    for (int j = 0; j &lt;= 4; j++) {\n      myArr[r][c]=in.nextInt(); //myArr[0][1] getting the value of in.next() 5 times\n    }\n      myArr[r][c]=in.nextDouble(); //myArr[0][1] finally ending up with the value read on this line.\n  }\n}\n</code></pre>\n<p>I would reather:</p>\n<pre><code>for(int r=0; r&lt;myArr.length; r++) { //lets say r = 0\n  for(int c=0; c&lt;myArr[r].length; c++) { //lets say c = 1\n    if(!in.hasNext()) break; //safeguard for broken data.\n    if (c &lt;= 1) {\n      myArr[r][c]= in.next(); //myArr[0][1] get's the read done here. \n    } else if(c &lt;= 6) {\n      myArr[r][c]=in.nextInt(); \n    } else {\n      myArr[r][c]=in.nextDouble(); \n    }\n  }\n}\n</code></pre>\n<p>now, this program will work strictly for data set of size 20 x 8. if you rather want to dynamically read the file, I would suggest using <code>LinkedList&lt;LinkedList&lt;Object&gt;&gt;</code> (or of type String) as your 2D array. while reading the file, I would read on line at a time using <code>i.nextLine()</code>. then, I would split each line by de-limiter (perhaps space).</p>\n<p>refer to oracle docs on scanner to identify capabilities that you can leverage: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html</a></p>\n"}],"owner":{"account_id":24864074,"reputation":13,"user_id":18739420,"display_name":"Jaceg22"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649698401,"creation_date":1649695782,"question_id":71831514,"body_markdown":"I have a text file with hockey players names and stats, and I&#39;m trying to sort their stats from greatest to least. (Text file: https://i.stack.imgur.com/H8sVg.png)\r\n\r\nI’m having trouble placing the players stats into a 2D-array\r\n\r\nHere is my code so far:\r\n\r\n    import java.util.*; \r\n    import java.io.*; \r\n    public class Main { \r\n      public static void main(String[] args) throws Exception{\r\n    Scanner in = new Scanner(new File(&quot;mapleleafscoring.txt~~&quot;));\r\n    int[][] myArr = new int[20][8];\r\n    \r\n    for(int r=0; r&lt;myArr.length; r++) {\r\n        for(int c=0; c&lt;myArr[r].length; c++) {\r\n            for (int i = 0; i &lt;= 1; i++) {\r\n              myArr[r][c]=in.next();\r\n            }\r\n          for (int j = 0; j &lt;= 4; j++) {\r\n          myArr[r][c]=in.nextInt();\r\n            }\r\n          myArr[r][c]=in.nextDouble();\r\n            }\r\n        }\r\n    \r\n        System.out.println(&quot;Player Name        GP  G  A  P  S   S%&quot;);\r\n        Scanner choice = new Scanner(System.in); \r\n        System.out.println(&quot;Would you like to sort by Games Played, Goals, Assists, Points, Shots, or Shot percentage?&quot;); \r\n        String sort = choice.next(); \r\n        if (sort.equalsIgnoreCase(&quot;goals&quot;)){\r\n          Arrays.sort(myArr, (a, b) -&gt; Integer.compare(a[0], b[3]));;\r\n        } \r\n        else if (sort.equalsIgnoreCase(&quot;games played&quot;)){\r\n          Arrays.sort(myArr, (a, b) -&gt; Integer.compare(a[0], b[2]));\r\n        } \r\n        else if (sort.equalsIgnoreCase(&quot;assists&quot;)){\r\n          Arrays.sort(myArr, (a, b) -&gt; Integer.compare(a[0], b[4]));\r\n        } \r\n        else if (sort.equalsIgnoreCase(&quot;points&quot;)){\r\n          Arrays.sort(myArr, (a, b) -&gt; Integer.compare(a[0], b[5]));\r\n        } \r\n        else if (sort.equalsIgnoreCase(&quot;shots&quot;)){\r\n          Arrays.sort(myArr, (a, b) -&gt; Integer.compare(a[0], b[6]));\r\n        } \r\n        else if (sort.equalsIgnoreCase(&quot;shot percentage&quot;)){\r\n          Arrays.sort(myArr, (a, b) -&gt; Double.compare(a[0], b[7]));\r\n        } \r\n        else {System.out.println(&quot;Invalid input&quot;);} \r\n        in.close(); \r\n        choice.close();\r\n        } \r\n    }\r\n\r\n","title":"How do I sort lines of a text file in Java?","body":"<p>I have a text file with hockey players names and stats, and I'm trying to sort their stats from greatest to least. (Text file: <a href=\"https://i.stack.imgur.com/H8sVg.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/H8sVg.png</a>)</p>\n<p>I’m having trouble placing the players stats into a 2D-array</p>\n<p>Here is my code so far:</p>\n<pre><code>import java.util.*; \nimport java.io.*; \npublic class Main { \n  public static void main(String[] args) throws Exception{\nScanner in = new Scanner(new File(&quot;mapleleafscoring.txt~~&quot;));\nint[][] myArr = new int[20][8];\n\nfor(int r=0; r&lt;myArr.length; r++) {\n    for(int c=0; c&lt;myArr[r].length; c++) {\n        for (int i = 0; i &lt;= 1; i++) {\n          myArr[r][c]=in.next();\n        }\n      for (int j = 0; j &lt;= 4; j++) {\n      myArr[r][c]=in.nextInt();\n        }\n      myArr[r][c]=in.nextDouble();\n        }\n    }\n\n    System.out.println(&quot;Player Name        GP  G  A  P  S   S%&quot;);\n    Scanner choice = new Scanner(System.in); \n    System.out.println(&quot;Would you like to sort by Games Played, Goals, Assists, Points, Shots, or Shot percentage?&quot;); \n    String sort = choice.next(); \n    if (sort.equalsIgnoreCase(&quot;goals&quot;)){\n      Arrays.sort(myArr, (a, b) -&gt; Integer.compare(a[0], b[3]));;\n    } \n    else if (sort.equalsIgnoreCase(&quot;games played&quot;)){\n      Arrays.sort(myArr, (a, b) -&gt; Integer.compare(a[0], b[2]));\n    } \n    else if (sort.equalsIgnoreCase(&quot;assists&quot;)){\n      Arrays.sort(myArr, (a, b) -&gt; Integer.compare(a[0], b[4]));\n    } \n    else if (sort.equalsIgnoreCase(&quot;points&quot;)){\n      Arrays.sort(myArr, (a, b) -&gt; Integer.compare(a[0], b[5]));\n    } \n    else if (sort.equalsIgnoreCase(&quot;shots&quot;)){\n      Arrays.sort(myArr, (a, b) -&gt; Integer.compare(a[0], b[6]));\n    } \n    else if (sort.equalsIgnoreCase(&quot;shot percentage&quot;)){\n      Arrays.sort(myArr, (a, b) -&gt; Double.compare(a[0], b[7]));\n    } \n    else {System.out.println(&quot;Invalid input&quot;);} \n    in.close(); \n    choice.close();\n    } \n}\n</code></pre>\n"},{"tags":["java","javafx","intersection"],"comments":[{"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"score":1,"creation_date":1649699377,"post_id":71831877,"comment_id":126937432,"body_markdown":"What do you mean by &quot;it doesn&#39;t seem like it would work&quot;?","body":"What do you mean by &quot;it doesn&#39;t seem like it would work&quot;?"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1649708847,"post_id":71831877,"comment_id":126940482,"body_markdown":"Perhaps, [`Shape.intersect(shape1, shape2)`](https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/shape/Shape.html#intersect(javafx.scene.shape.Shape,javafx.scene.shape.Shape)), then check the bounding box of the resultant shape.  See [Checking Collision of Shapes with JavaFX](https://stackoverflow.com/questions/15013913/checking-collision-of-shapes-with-javafx).  Whether that is applicable or something like the topology library suggested me mipa is appropriate depends on your requirements.","body":"Perhaps, <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/shape/Shape.html#intersect(javafx.scene.shape.Shape,javafx.scene.shape.Shape)\" rel=\"nofollow noreferrer\"><code>Shape.intersect(shape1, shape2)</code></a>, then check the bounding box of the resultant shape.  See <a href=\"https://stackoverflow.com/questions/15013913/checking-collision-of-shapes-with-javafx\">Checking Collision of Shapes with JavaFX</a>.  Whether that is applicable or something like the topology library suggested me mipa is appropriate depends on your requirements."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1649739125,"post_id":71831877,"comment_id":126945975,"body_markdown":"Mipa’s link to [jts](https://github.com/locationtech/jts) was unfortunately deleted by mods, so reposted here.","body":"Mipa’s link to <a href=\"https://github.com/locationtech/jts\" rel=\"nofollow noreferrer\">jts</a> was unfortunately deleted by mods, so reposted here."}],"owner":{"account_id":23432358,"reputation":5,"user_id":17490980,"display_name":"protocol_1903"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649698388,"creation_date":1649697673,"question_id":71831877,"body_markdown":"Is there a way to check if two irregularly shaped objects intersect? Both would be using a coordinate system with each vertex logged. For example, I&#39;d like to know if a triangle is poking into a square, or vice-versa. Is this possible? I&#39;ve looked into the JavaFX `Node.intersects()` but it doesn&#39;t seem like it would work.","title":"checking if irregularly shaped objects intersect","body":"<p>Is there a way to check if two irregularly shaped objects intersect? Both would be using a coordinate system with each vertex logged. For example, I'd like to know if a triangle is poking into a square, or vice-versa. Is this possible? I've looked into the JavaFX <code>Node.intersects()</code> but it doesn't seem like it would work.</p>\n"},{"tags":["java","spring","static-methods"],"answers":[{"tags":[],"owner":{"account_id":251932,"reputation":37692,"user_id":529630,"accept_rate":86,"display_name":"Dunes"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649698160,"creation_date":1649698160,"answer_id":71831964,"question_id":71831121,"body_markdown":"There is a special value that produces random values. `random.value` will produce random alphanumeric strings. So your bean might look like:\r\n\r\n```xml\r\n&lt;bean class=&quot;com.example.ClassA&quot;\r\n    p:name=&quot;${random.value}&quot;\r\n    p:age=&quot;33&quot;\r\n/&gt;\r\n```\r\n\r\nIf there is extra logic going on in your `getRandomName()`, then you can use Spring Expression Language ([SpEL]) to execute expressions. For example:\r\n\r\n```xml\r\n&lt;bean class=&quot;com.example.ClassA&quot;\r\n    p:name=&quot;#{ T(com.example.Utils).getRandomName() }&quot;\r\n    p:age=&quot;33&quot;\r\n/&gt;\r\n```\r\n\r\n[SpEL]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions","title":"How to populate property of spring bean from static method","body":"<p>There is a special value that produces random values. <code>random.value</code> will produce random alphanumeric strings. So your bean might look like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean class=&quot;com.example.ClassA&quot;\n    p:name=&quot;${random.value}&quot;\n    p:age=&quot;33&quot;\n/&gt;\n</code></pre>\n<p>If there is extra logic going on in your <code>getRandomName()</code>, then you can use Spring Expression Language (<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#expressions\" rel=\"nofollow noreferrer\">SpEL</a>) to execute expressions. For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean class=&quot;com.example.ClassA&quot;\n    p:name=&quot;#{ T(com.example.Utils).getRandomName() }&quot;\n    p:age=&quot;33&quot;\n/&gt;\n</code></pre>\n"}],"owner":{"account_id":16634092,"reputation":798,"user_id":12804925,"display_name":"Jakub Znamen&#225;ček"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":683,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71831964,"answer_count":1,"score":0,"last_activity_date":1649698160,"creation_date":1649693966,"question_id":71831121,"body_markdown":"I would like to know, how can I populate spring bean property from static method. This is my example. I have ClassA and Utils with static method:\r\n\r\n```java\r\n    public class ClassA{\r\n        private String name;\r\n        private int age;\r\n        \r\n        //getters setters\r\n    }\r\n    \r\n    public class Utils{\r\n        static String getRandomName(){\r\n            return &quot;someRandomName&quot;; //here is some logic returning random string\r\n        }\r\n    }\r\n```\r\nI would like to create bean from ClassA with usage of the Utils static method getRandomName. Like this:\r\n\r\n```xml\r\n&lt;bean class=&quot;com.example.ClassA&quot;\r\n\tp:name=//Utils.getRandomName()\r\n\tp:age=&quot;33&quot;\r\n/&gt;\r\n```\r\n,but I do not know how to call static method from the application-context.xml\r\n\r\n","title":"How to populate property of spring bean from static method","body":"<p>I would like to know, how can I populate spring bean property from static method. This is my example. I have ClassA and Utils with static method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public class ClassA{\n        private String name;\n        private int age;\n        \n        //getters setters\n    }\n    \n    public class Utils{\n        static String getRandomName(){\n            return &quot;someRandomName&quot;; //here is some logic returning random string\n        }\n    }\n</code></pre>\n<p>I would like to create bean from ClassA with usage of the Utils static method getRandomName. Like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;bean class=&quot;com.example.ClassA&quot;\n    p:name=//Utils.getRandomName()\n    p:age=&quot;33&quot;\n/&gt;\n</code></pre>\n<p>,but I do not know how to call static method from the application-context.xml</p>\n"},{"tags":["java","math","bitwise-operators"],"answers":[{"tags":[],"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649697847,"creation_date":1649697847,"answer_id":71831909,"question_id":71831830,"body_markdown":"Use an [`EnumSet`][1].The EnumSet can hold each item only once (it&#39;s a set). Have a look [here][2] for storing values in a database. There are solutions for decoding manually, or you can use Apache Commons for that.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html\r\n  [2]: https://stackoverflow.com/questions/2199399/storing-enumset-in-a-database","title":"Calculating number bonds to value in Java","body":"<p>Use an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a>.The EnumSet can hold each item only once (it's a set). Have a look <a href=\"https://stackoverflow.com/questions/2199399/storing-enumset-in-a-database\">here</a> for storing values in a database. There are solutions for decoding manually, or you can use Apache Commons for that.</p>\n"},{"tags":[],"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649697976,"creation_date":1649697976,"answer_id":71831934,"question_id":71831830,"body_markdown":"Lets try something like this:\r\n\r\n```\r\npublic enum BADGES {SUPPORTER, ALPHA, BETA_OWNER, BOOSTER, ONE_MONTH, THREE_MONTH, SIX_MONTH, ONE_YEAR, TWO_YEAR};\r\n\r\npublic HashMap&lt;BADGES, Integer&gt; badgesToIntegerMap = /* initialize map where integers are mapped to badges */\r\n\r\npublic HashMap&lt;Integer, BADGES&gt; integerToBadgesMap = /* initialize map where badges are mapped to their integers */\r\n\r\npublic List&lt;BADGES&gt; getUserBadges(int userStatus) {\r\n    List&lt;BADGES&gt; retVal = new ArrayList&lt;BADGES&gt;();\r\n    // Start from highest one, being TWO_YEAR at time of writing\r\n    int currentBadge = 1 &lt;&lt; 8;  //\r\n    while (currentBadge &gt; 0) {  // These two should be replaced by iterating the badgesToIntegerMap&#39;s values\r\n        if (userStatus &amp;&amp; currentBadge == 1) {\r\n            retVal.add(integerToBadgesMap.get(currentBadge));\r\n        }\r\n        currentBadge = currentBadge &gt;&gt; 1;\r\n    }\r\n    \r\n    return retVal;\r\n}\r\n```\r\n\r\nOr you know, just pass these integers into a constructor of each individual badge, and you can avoid one lookup. ","title":"Calculating number bonds to value in Java","body":"<p>Lets try something like this:</p>\n<pre><code>public enum BADGES {SUPPORTER, ALPHA, BETA_OWNER, BOOSTER, ONE_MONTH, THREE_MONTH, SIX_MONTH, ONE_YEAR, TWO_YEAR};\n\npublic HashMap&lt;BADGES, Integer&gt; badgesToIntegerMap = /* initialize map where integers are mapped to badges */\n\npublic HashMap&lt;Integer, BADGES&gt; integerToBadgesMap = /* initialize map where badges are mapped to their integers */\n\npublic List&lt;BADGES&gt; getUserBadges(int userStatus) {\n    List&lt;BADGES&gt; retVal = new ArrayList&lt;BADGES&gt;();\n    // Start from highest one, being TWO_YEAR at time of writing\n    int currentBadge = 1 &lt;&lt; 8;  //\n    while (currentBadge &gt; 0) {  // These two should be replaced by iterating the badgesToIntegerMap's values\n        if (userStatus &amp;&amp; currentBadge == 1) {\n            retVal.add(integerToBadgesMap.get(currentBadge));\n        }\n        currentBadge = currentBadge &gt;&gt; 1;\n    }\n    \n    return retVal;\n}\n</code></pre>\n<p>Or you know, just pass these integers into a constructor of each individual badge, and you can avoid one lookup.</p>\n"}],"owner":{"account_id":19859805,"reputation":13,"user_id":14548365,"display_name":"hanatic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":71831909,"answer_count":2,"score":-1,"last_activity_date":1649697976,"creation_date":1649697381,"question_id":71831830,"body_markdown":"As part of my application, the database stores &quot;badges&quot; in a user&#39;s record in the database. I use the bitwise operator as (as far as I know) no two additions of them can have the same solution. Here are the values:\r\n```java\r\nenum Badge {\r\n        SUPPORTER(1),\r\n        ALPHA(1 &lt;&lt; 1),\r\n        BETA_OWNER(1 &lt;&lt; 2),\r\n        BOOSTER(1 &lt;&lt; 3),\r\n        ONE_MONTH(1 &lt;&lt; 4),\r\n        THREE_MONTH(1 &lt;&lt; 5),\r\n        SIX_MONTH(1 &lt;&lt; 6),\r\n        ONE_YEAR(1 &lt;&lt; 7),\r\n        TWO_YEAR(1 &lt;&lt; 8),\r\n        ;\r\n\r\n        public int value;\r\n        \r\n        public int resolve() {\r\n            return value;\r\n        }\r\n\r\n        Badge(int i) {\r\n            value = i;\r\n        }\r\n    }\r\n```\r\n\r\nThe method of storing them is as simple as adding up the values of each badge corresponding to the user. However, decoding this value is more tricky.\r\n\r\nHow would I go about decoding the value from the database into a list of badges that I can manipulate?","title":"Calculating number bonds to value in Java","body":"<p>As part of my application, the database stores &quot;badges&quot; in a user's record in the database. I use the bitwise operator as (as far as I know) no two additions of them can have the same solution. Here are the values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Badge {\n        SUPPORTER(1),\n        ALPHA(1 &lt;&lt; 1),\n        BETA_OWNER(1 &lt;&lt; 2),\n        BOOSTER(1 &lt;&lt; 3),\n        ONE_MONTH(1 &lt;&lt; 4),\n        THREE_MONTH(1 &lt;&lt; 5),\n        SIX_MONTH(1 &lt;&lt; 6),\n        ONE_YEAR(1 &lt;&lt; 7),\n        TWO_YEAR(1 &lt;&lt; 8),\n        ;\n\n        public int value;\n        \n        public int resolve() {\n            return value;\n        }\n\n        Badge(int i) {\n            value = i;\n        }\n    }\n</code></pre>\n<p>The method of storing them is as simple as adding up the values of each badge corresponding to the user. However, decoding this value is more tricky.</p>\n<p>How would I go about decoding the value from the database into a list of badges that I can manipulate?</p>\n"},{"tags":["java","unit-testing","intellij-idea"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1649424645,"post_id":71797805,"comment_id":126878846,"body_markdown":"&quot;When unit testing in IntelliJ IDEA Education Edition, the console does not support System.in input&quot; - Is that definitely true?  That does not sound right.","body":"&quot;When unit testing in IntelliJ IDEA Education Edition, the console does not support System.in input&quot; - Is that definitely true?  That does not sound right."},{"owner":{"account_id":350114,"reputation":12119,"user_id":685796,"display_name":"Meo"},"score":0,"creation_date":1649435795,"post_id":71797805,"comment_id":126883392,"body_markdown":"Does this answer your question? [JUnit: How to simulate System.in testing?](https://stackoverflow.com/questions/1647907/junit-how-to-simulate-system-in-testing)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1647907/junit-how-to-simulate-system-in-testing\">JUnit: How to simulate System.in testing?</a>"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1649447271,"post_id":71797805,"comment_id":126886863,"body_markdown":"Normally tests are supposed to be automatic and do not expect input from console. Please see https://youtrack.jetbrains.com/issue/IDEA-148698#comment=27-2257633 for a way to workaround this but please also note that there are side effects.","body":"Normally tests are supposed to be automatic and do not expect input from console. Please see <a href=\"https://youtrack.jetbrains.com/issue/IDEA-148698#comment=27-2257633\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-148698#comment=27-2257633</a> for a way to workaround this but please also note that there are side effects."}],"answers":[{"tags":[],"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649697875,"creation_date":1649622448,"answer_id":71820307,"question_id":71797805,"body_markdown":"When doing unittest you have two components: The **unittest** itself and the **code under test** (cut).\r\n\r\nYour example looks like as if you try to build a unittest by simply adding the `@Test` annotation to the tested code. This does not work.\r\n\r\nAs a start you should create a class containing you *production code* (the cut) and another class with the same name appended with `Test`:\r\n\r\n    class ProductionCode {\r\n      // something to test\r\n    }\r\n    \r\nand\r\n\r\n    class ProductionCodeTest {\r\n      // the tests for the production code\r\n    }\r\n\r\nThe responsibility of the `*Test` class is to set up a *test environment* for the cut. In your case this involves to replace any *dependencies* (as `System.in` or the `Scanner` object wrapping it and `System.out`) with *test doubles*. The best way to do this it to use a *mocking framework* like `Mockito`:\r\n \r\n    @ExtendWith(MockitoExtension.class)\r\n    class ProductionCodeTest {\r\n       @Mock \r\n       private Scanner input;\r\n       @Mock \r\n       private PrintWriter output;\r\n       \r\n       private ProductionCode cut;\r\n\r\n       @BeforeEach\r\n       void setup(){\r\n          cut = new ProductionCode(input,output);\r\n       }\r\n    }\r\n\r\nBut this raises the problem that you need a possibility to replace the real dependency in your cut. This is done preferably via *constructor injection:\r\n\r\n\r\n    class ProductionCode {\r\n       private final Scanner scanner;\r\n       private final PrintWriter output;\r\n       ProductionCode(Scanner scanner, PrintWriter output){\r\n         this.scanner = scanner;\r\n         this.output = output;\r\n       }\r\n\r\n       void main(){\r\n         int judge = 1;\r\n         while (judge == 1)\r\n         {\r\n            int n = scanner.nextInt();\r\n            output.println(&quot;输入的数为：&quot; + n);\r\n            if (n == 0)\r\n                judge = 0;\r\n         }\r\n       }\r\n    }\r\n\r\nNow you can verify the expected behavior of your cut which is the *return value* (which you don&#39;t have) and/or communication with its dependencies, which is the methods called and parameters passed:\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class ProductionCodeTest {\r\n       @Mock \r\n       private Scanner input;\r\n       @Mock \r\n       private PrintWriter output;\r\n       private ProductionCode cut;\r\n\r\n       @BeforeEach\r\n       void setup(){\r\n          cut = new ProductionCode(input,output);\r\n       }\r\n\r\n       @Test(name=&quot;returns when user entered &#39;0&#39;&quot;)\r\n       void test(){\r\n         // arrange / given\r\n         Mockito.when(input.nextInt()).thenReturn(1,2,3,4,5,0);\r\n         \r\n         // act / when\r\n         cut.main();\r\n\r\n         // assert / then\r\n         Mockito.verify(output, Mockito.times(6))\r\n                .println(Mockito.anyString());\r\n       }\r\n    }\r\n\r\n### Conclusion\r\nUnittesting is more that just writing a random annotation to some code written. Your example became complex very quickly because you choose a rather hard to test scenario to start. I&#39;d suggest a *pure function* like a method that adds two numbers and returns the result as a better starting point and deal with the dependency stuff later.","title":"How to have the console support input for System.in in Idea unit tests","body":"<p>When doing unittest you have two components: The <strong>unittest</strong> itself and the <strong>code under test</strong> (cut).</p>\n<p>Your example looks like as if you try to build a unittest by simply adding the <code>@Test</code> annotation to the tested code. This does not work.</p>\n<p>As a start you should create a class containing you <em>production code</em> (the cut) and another class with the same name appended with <code>Test</code>:</p>\n<pre><code>class ProductionCode {\n  // something to test\n}\n</code></pre>\n<p>and</p>\n<pre><code>class ProductionCodeTest {\n  // the tests for the production code\n}\n</code></pre>\n<p>The responsibility of the <code>*Test</code> class is to set up a <em>test environment</em> for the cut. In your case this involves to replace any <em>dependencies</em> (as <code>System.in</code> or the <code>Scanner</code> object wrapping it and <code>System.out</code>) with <em>test doubles</em>. The best way to do this it to use a <em>mocking framework</em> like <code>Mockito</code>:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ProductionCodeTest {\n   @Mock \n   private Scanner input;\n   @Mock \n   private PrintWriter output;\n   \n   private ProductionCode cut;\n\n   @BeforeEach\n   void setup(){\n      cut = new ProductionCode(input,output);\n   }\n}\n</code></pre>\n<p>But this raises the problem that you need a possibility to replace the real dependency in your cut. This is done preferably via *constructor injection:</p>\n<pre><code>class ProductionCode {\n   private final Scanner scanner;\n   private final PrintWriter output;\n   ProductionCode(Scanner scanner, PrintWriter output){\n     this.scanner = scanner;\n     this.output = output;\n   }\n\n   void main(){\n     int judge = 1;\n     while (judge == 1)\n     {\n        int n = scanner.nextInt();\n        output.println(&quot;输入的数为：&quot; + n);\n        if (n == 0)\n            judge = 0;\n     }\n   }\n}\n</code></pre>\n<p>Now you can verify the expected behavior of your cut which is the <em>return value</em> (which you don't have) and/or communication with its dependencies, which is the methods called and parameters passed:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ProductionCodeTest {\n   @Mock \n   private Scanner input;\n   @Mock \n   private PrintWriter output;\n   private ProductionCode cut;\n\n   @BeforeEach\n   void setup(){\n      cut = new ProductionCode(input,output);\n   }\n\n   @Test(name=&quot;returns when user entered '0'&quot;)\n   void test(){\n     // arrange / given\n     Mockito.when(input.nextInt()).thenReturn(1,2,3,4,5,0);\n     \n     // act / when\n     cut.main();\n\n     // assert / then\n     Mockito.verify(output, Mockito.times(6))\n            .println(Mockito.anyString());\n   }\n}\n</code></pre>\n<h3>Conclusion</h3>\n<p>Unittesting is more that just writing a random annotation to some code written. Your example became complex very quickly because you choose a rather hard to test scenario to start. I'd suggest a <em>pure function</em> like a method that adds two numbers and returns the result as a better starting point and deal with the dependency stuff later.</p>\n"}],"owner":{"account_id":24850949,"reputation":1,"user_id":18727896,"display_name":"IMWBY"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649697875,"creation_date":1649424132,"question_id":71797805,"body_markdown":"When unit testing in IntelliJ IDEA Education Edition, the console does not support System.in input.\r\n\r\nThe code I wrote is as follows:\r\n\r\n ```java \r\n @Test\r\n void main() {\r\n     Scanner scanner = new Scanner(System.in);\r\n     int judge = 1;\r\n     while (judge == 1)\r\n     {\r\n         int n = scanner.nextInt();\r\n         System.out.println(&quot;输入的数为：&quot; + n);\r\n         if (n == 0)\r\n             judge = 0;\r\n     }\r\n } \r\n```\r\n\r\nWhen I run the test, I cannot enter it from the console and show that the test passed. I knew that unit tests didn&#39;t need input from the console to complete the test, but I happened to find out about the problem and wondered how to fix it. Just start learning unit tests, teach us a lot!\r\n\r\n","title":"How to have the console support input for System.in in Idea unit tests","body":"<p>When unit testing in IntelliJ IDEA Education Edition, the console does not support System.in input.</p>\n<p>The code I wrote is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid main() {\n    Scanner scanner = new Scanner(System.in);\n    int judge = 1;\n    while (judge == 1)\n    {\n        int n = scanner.nextInt();\n        System.out.println(&quot;输入的数为：&quot; + n);\n        if (n == 0)\n            judge = 0;\n    }\n} \n</code></pre>\n<p>When I run the test, I cannot enter it from the console and show that the test passed. I knew that unit tests didn't need input from the console to complete the test, but I happened to find out about the problem and wondered how to fix it. Just start learning unit tests, teach us a lot!</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":2,"creation_date":1649694175,"post_id":71830878,"comment_id":126935646,"body_markdown":"https://stackoverflow.com/questions/12526310/returning-decimal-instead-of-string-poi-jar","body":"<a href=\"https://stackoverflow.com/questions/12526310/returning-decimal-instead-of-string-poi-jar\" title=\"returning decimal instead of string poi jar\">stackoverflow.com/questions/12526310/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":17015788,"reputation":278,"user_id":12309729,"display_name":"acornTime"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649697460,"creation_date":1649697460,"answer_id":71831843,"question_id":71830878,"body_markdown":"If you are getting a decimal number you can simply parse it to an int using \r\n```\r\nMath.round(floatNum);\r\n```","title":"An Integer number in Excel returns a double number","body":"<p>If you are getting a decimal number you can simply parse it to an int using</p>\n<pre><code>Math.round(floatNum);\n</code></pre>\n"}],"owner":{"account_id":1025551,"reputation":162,"user_id":1034934,"display_name":"kimchoky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649697460,"creation_date":1649692777,"question_id":71830878,"body_markdown":"\r\n[![wierd displaying][1]][1]\r\n\r\n\r\n[Check out excel file][2]\r\n\r\nYellow colored cells does not return values as it displayed. It seems that the value is integer in excel, but actual value in POI is a double number. There&#39;s no formula, displaying options in the cell at all. \r\n\r\nHere&#39;s the code that verifies acutal value.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n   &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n   &lt;version&gt;4.1.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```java\r\nFile file = new File(&quot;newSCIS.xlsx&quot;);\r\nWorkbook workbook = WorkbookFactory.create(file);\r\nSheet sheet = workbook.getSheetAt(0);\r\n\r\nfor (int i = 1; i &lt;= 6; i++) {\r\n    Row row = sheet.getRow(i);\r\n    Cell cell = row.getCell(1);\r\n    cell.setCellType(CellType.STRING);\r\n    String value = cell.getStringCellValue();\r\n\r\n    System.out.printf(&quot;%20s \\n&quot;, value);\r\n}\r\n```\r\n\r\n\r\n\r\nWhy is this happening?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/P4Rwj.png\r\n  [2]: https://docs.google.com/spreadsheets/d/1b8vgfYp4EodcJqLdm4EoskwzamrENc7i/edit?usp=sharing&amp;ouid=113760476310824788078&amp;rtpof=true&amp;sd=true","title":"An Integer number in Excel returns a double number","body":"<p><a href=\"https://i.stack.imgur.com/P4Rwj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P4Rwj.png\" alt=\"wierd displaying\" /></a></p>\n<p><a href=\"https://docs.google.com/spreadsheets/d/1b8vgfYp4EodcJqLdm4EoskwzamrENc7i/edit?usp=sharing&amp;ouid=113760476310824788078&amp;rtpof=true&amp;sd=true\" rel=\"nofollow noreferrer\">Check out excel file</a></p>\n<p>Yellow colored cells does not return values as it displayed. It seems that the value is integer in excel, but actual value in POI is a double number. There's no formula, displaying options in the cell at all.</p>\n<p>Here's the code that verifies acutal value.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n   &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n   &lt;version&gt;4.1.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;newSCIS.xlsx&quot;);\nWorkbook workbook = WorkbookFactory.create(file);\nSheet sheet = workbook.getSheetAt(0);\n\nfor (int i = 1; i &lt;= 6; i++) {\n    Row row = sheet.getRow(i);\n    Cell cell = row.getCell(1);\n    cell.setCellType(CellType.STRING);\n    String value = cell.getStringCellValue();\n\n    System.out.printf(&quot;%20s \\n&quot;, value);\n}\n</code></pre>\n<p>Why is this happening?</p>\n"},{"tags":["java","spring","rest","jsf","primefaces"],"comments":[{"owner":{"account_id":9641278,"reputation":1707,"user_id":7155432,"display_name":"VaibS"},"score":0,"creation_date":1649692756,"post_id":71830111,"comment_id":126935180,"body_markdown":"You can map the response into Map or custom DTO using Jackson object mapper and then get message","body":"You can map the response into Map or custom DTO using Jackson object mapper and then get message"}],"answers":[{"tags":[],"owner":{"account_id":6155088,"reputation":226,"user_id":4798347,"display_name":"Zephyr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649692822,"creation_date":1649692822,"answer_id":71830891,"question_id":71830111,"body_markdown":"I don&#39;t see any built-in way to access the *message* property. However, since the response body is in JSON, you could parse the body to a JSON object and then get the field value from that object.","title":"Rest Template Response Body","body":"<p>I don't see any built-in way to access the <em>message</em> property. However, since the response body is in JSON, you could parse the body to a JSON object and then get the field value from that object.</p>\n"},{"tags":[],"owner":{"account_id":24889844,"reputation":1,"user_id":18761969,"display_name":"cesarmontero.dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649693286,"creation_date":1649693286,"answer_id":71830988,"question_id":71830111,"body_markdown":"You can parse the responseBody to a JsonNode and use the function findValue to get the property you want.\r\n\r\n```\r\nJsonNode node = mapper.readValue(e.getResponseBodyAsString(), JsonNode.class);\r\nmapper.convertValue(node.findValue(&quot;message&quot;), String.class);\r\n```","title":"Rest Template Response Body","body":"<p>You can parse the responseBody to a JsonNode and use the function findValue to get the property you want.</p>\n<pre><code>JsonNode node = mapper.readValue(e.getResponseBodyAsString(), JsonNode.class);\nmapper.convertValue(node.findValue(&quot;message&quot;), String.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15786105,"reputation":131,"user_id":11390838,"display_name":"rham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649697140,"creation_date":1649697140,"answer_id":71831798,"question_id":71830111,"body_markdown":"Use this as an example: \r\n    \r\n    val msg = &quot;&quot;\r\n    val response = restTemplate.exchange(\r\n      &quot;http://localhost:8030/addCustomer&quot;,\r\n      HttpMethod.POST,\r\n      HttpEntity&lt;T&gt;(headers),\r\n      Array&lt;Any&gt;::class.java\r\n    )\r\n    response.body?.forEach { it -&gt;\r\n      val data = it as LinkedHashMap&lt;String,Any&gt;\r\n      msg = data[&quot;message&quot;].toString()\r\n    }\r\n    return msg\r\n\r\nPS: I&#39;m sorry the example is in kotlin code","title":"Rest Template Response Body","body":"<p>Use this as an example:</p>\n<pre><code>val msg = &quot;&quot;\nval response = restTemplate.exchange(\n  &quot;http://localhost:8030/addCustomer&quot;,\n  HttpMethod.POST,\n  HttpEntity&lt;T&gt;(headers),\n  Array&lt;Any&gt;::class.java\n)\nresponse.body?.forEach { it -&gt;\n  val data = it as LinkedHashMap&lt;String,Any&gt;\n  msg = data[&quot;message&quot;].toString()\n}\nreturn msg\n</code></pre>\n<p>PS: I'm sorry the example is in kotlin code</p>\n"}],"owner":{"account_id":16785211,"reputation":73,"user_id":12134382,"display_name":"Mortadha BOUALLAGUI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1649697140,"creation_date":1649689409,"question_id":71830111,"body_markdown":"I have a method that calls an endpoint to post a customer How can i get only the message &quot;EMAIL ALREADY EXISTS&quot; from the ResponseBody of Rest Template in order to show it in the FacesContext\r\n\r\n             try {\r\n            return restTemplate.exchange(&quot;http://localhost:8030/addCustomer&quot;, HttpMethod.POST, entity, String.class);\r\n               catch (HttpStatusCodeException e) {\r\n\r\n            var facesContext = FacesContext.getCurrentInstance();\r\n            facesContext.addMessage(null, new FacesMessage(FacesMessage.SEVERITY_INFO, &quot;Sorry&quot;, e.getResponseBodyAsString()));\r\n            return \r\n                            ResponseEntity.status(e.getRawStatusCode()).headers(e.getResponseHeaders())\r\n                    .body(e.getResponseBodyAsString());\r\n        }\r\n\r\n    \r\nThis is the response Body\r\n\r\n      {&quot;httpStatusCode&quot;:400,&quot;httpStatus&quot;:&quot;BAD_REQUEST&quot;,&quot;reason&quot;:&quot;BAD REQUEST&quot;,&quot;message&quot;:&quot;EMAIL ALREADY EXISTS&quot;,&quot;timestamp&quot;:&quot;11-04-2022 03:52:43&quot;}\r\n","title":"Rest Template Response Body","body":"<p>I have a method that calls an endpoint to post a customer How can i get only the message &quot;EMAIL ALREADY EXISTS&quot; from the ResponseBody of Rest Template in order to show it in the FacesContext</p>\n<pre><code>         try {\n        return restTemplate.exchange(&quot;http://localhost:8030/addCustomer&quot;, HttpMethod.POST, entity, String.class);\n           catch (HttpStatusCodeException e) {\n\n        var facesContext = FacesContext.getCurrentInstance();\n        facesContext.addMessage(null, new FacesMessage(FacesMessage.SEVERITY_INFO, &quot;Sorry&quot;, e.getResponseBodyAsString()));\n        return \n                        ResponseEntity.status(e.getRawStatusCode()).headers(e.getResponseHeaders())\n                .body(e.getResponseBodyAsString());\n    }\n</code></pre>\n<p>This is the response Body</p>\n<pre><code>  {&quot;httpStatusCode&quot;:400,&quot;httpStatus&quot;:&quot;BAD_REQUEST&quot;,&quot;reason&quot;:&quot;BAD REQUEST&quot;,&quot;message&quot;:&quot;EMAIL ALREADY EXISTS&quot;,&quot;timestamp&quot;:&quot;11-04-2022 03:52:43&quot;}\n</code></pre>\n"},{"tags":["java","xpages","clone"],"answers":[{"tags":[],"owner":{"account_id":2358279,"reputation":30910,"user_id":2065611,"display_name":"Knut Herrmann"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649696569,"creation_date":1649691682,"answer_id":71830631,"question_id":71829537,"body_markdown":"As you recycle **every** document in while loop your MiscDoc is also recycled and null after loop.\r\n\r\nJust don&#39;t recycle this certain document and it will be available after while loop. \r\n\r\nEasiest way is to add `break;` if you are just looking for the first document that matches if(...) condition:\r\n\r\n    while (wdoc != null) {       \r\n        if(...){\r\n            MiscDoc = wdoc;\r\n            break;\r\n        }\r\n","title":"How to clone a NotesDocument java object","body":"<p>As you recycle <strong>every</strong> document in while loop your MiscDoc is also recycled and null after loop.</p>\n<p>Just don't recycle this certain document and it will be available after while loop.</p>\n<p>Easiest way is to add <code>break;</code> if you are just looking for the first document that matches if(...) condition:</p>\n<pre><code>while (wdoc != null) {       \n    if(...){\n        MiscDoc = wdoc;\n        break;\n    }\n</code></pre>\n"}],"owner":{"account_id":1195952,"reputation":3553,"user_id":1167687,"accept_rate":60,"display_name":"Thomas Adrian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1649696569,"creation_date":1649687080,"question_id":71829537,"body_markdown":"I have the following java code and when I try to access the MiscDoc object later it seem to be null.  I could not find a .clone() method on NotesDocument. \r\n\r\nthe if statement is only accessed once\r\n\r\n    Document MiscDoc = null;\r\n    wdoc = dcAll.getFirstDocument();\r\n    while (wdoc != null){\t\t\r\n                if(...){\r\n\t\t\t\t\tMiscDoc = wdoc;\r\n\t\t\t\t}\r\n        \t\tDocument tmpdoc = dcAll.getNextDocument();\r\n        \t\twdoc.recycle();\r\n        \t\twdoc = tmpdoc;\r\n    }\r\n\r\n\r\nhow can I resolve this","title":"How to clone a NotesDocument java object","body":"<p>I have the following java code and when I try to access the MiscDoc object later it seem to be null.  I could not find a .clone() method on NotesDocument.</p>\n<p>the if statement is only accessed once</p>\n<pre><code>Document MiscDoc = null;\nwdoc = dcAll.getFirstDocument();\nwhile (wdoc != null){       \n            if(...){\n                MiscDoc = wdoc;\n            }\n            Document tmpdoc = dcAll.getNextDocument();\n            wdoc.recycle();\n            wdoc = tmpdoc;\n}\n</code></pre>\n<p>how can I resolve this</p>\n"},{"tags":["java","spring-boot","javax.validation"],"answers":[{"tags":[],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649694956,"creation_date":1649694956,"answer_id":71831341,"question_id":71831089,"body_markdown":"The object you are trying to create is of the abstract class, as we know Abstract classes cannot be instantiated the whole idea of abstraction is to refrain from access of that class itself, instead if you pass the class object which has implemented the abstract class would solve your issue\r\n\r\neg to pass RED\r\n```\r\n public ResponseEntity&lt;Void&gt; createApple(@Valid @RequestBody RedApple apple) {\r\n        return ResponseEntity.created(URI.create(&quot;/foo&quot;)).build();\r\n    }\r\n```\r\n","title":"SpringBoot @RequestBody validation of abstract class","body":"<p>The object you are trying to create is of the abstract class, as we know Abstract classes cannot be instantiated the whole idea of abstraction is to refrain from access of that class itself, instead if you pass the class object which has implemented the abstract class would solve your issue</p>\n<p>eg to pass RED</p>\n<pre><code> public ResponseEntity&lt;Void&gt; createApple(@Valid @RequestBody RedApple apple) {\n        return ResponseEntity.created(URI.create(&quot;/foo&quot;)).build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14450502,"reputation":314,"user_id":10438187,"display_name":"Poklakni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649696232,"creation_date":1649696232,"answer_id":71831616,"question_id":71831089,"body_markdown":"adding ```visible = true``` as parameter to the JsonTypeInfo solved the issue\r\n```@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, visible = true, property = &quot;color&quot;)```","title":"SpringBoot @RequestBody validation of abstract class","body":"<p>adding <code>visible = true</code> as parameter to the JsonTypeInfo solved the issue\n<code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, visible = true, property = &quot;color&quot;)</code></p>\n"}],"owner":{"account_id":14450502,"reputation":314,"user_id":10438187,"display_name":"Poklakni"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71831616,"answer_count":2,"score":1,"last_activity_date":1649696232,"creation_date":1649693778,"question_id":71831089,"body_markdown":"I am trying to simulate the *oneOf* construct from OpenAPI spec in my spring-boot application.\r\nI have an abstract class Apple\r\n```\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;color&quot;)\r\n@JsonSubTypes({\r\n        @JsonSubTypes.Type(value = RedApple.class, name = &quot;RED&quot;),\r\n        @JsonSubTypes.Type(value = GreenApple.class, name = &quot;GREEN&quot;)\r\n})\r\npublic abstract class Apple {\r\n\r\n    @NotNull\r\n    private Color color;\r\n\r\n    public Color getColor() {\r\n        return color;\r\n    }\r\n\r\n    public void setColor(Color color) {\r\n        this.color = color;\r\n    }\r\n\r\n    public enum Color {\r\n        RED, GREEN\r\n    }\r\n}\r\n```\r\n\r\nand two subclasses\r\n```\r\npublic class RedApple extends Apple {\r\n\r\n}\r\n\r\npublic class GreenApple extends Apple {\r\n\r\n}\r\n```\r\n\r\nAlso here is my rest controller\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/apples&quot;)\r\npublic class AppleController {\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Void&gt; createApple(@Valid @RequestBody Apple apple) {\r\n        return ResponseEntity.created(URI.create(&quot;/foo&quot;)).build();\r\n    }\r\n}\r\n```\r\n\r\nThe problem is that @Valid does not validate the enum field correctly.\r\nEven if I send {&quot;color&quot;: &quot;RED&quot;} as a body, the validation fails with a message saying that *color* must not be null\r\n\r\nWhen I do the exact same thing with a non-abstract class and without JsonSubTypes &amp; JsonTypeInfo annotations everything works like a charm.\r\nWhat am I missing here?\r\n\r\nThanks","title":"SpringBoot @RequestBody validation of abstract class","body":"<p>I am trying to simulate the <em>oneOf</em> construct from OpenAPI spec in my spring-boot application.\nI have an abstract class Apple</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.NAME, property = &quot;color&quot;)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = RedApple.class, name = &quot;RED&quot;),\n        @JsonSubTypes.Type(value = GreenApple.class, name = &quot;GREEN&quot;)\n})\npublic abstract class Apple {\n\n    @NotNull\n    private Color color;\n\n    public Color getColor() {\n        return color;\n    }\n\n    public void setColor(Color color) {\n        this.color = color;\n    }\n\n    public enum Color {\n        RED, GREEN\n    }\n}\n</code></pre>\n<p>and two subclasses</p>\n<pre><code>public class RedApple extends Apple {\n\n}\n\npublic class GreenApple extends Apple {\n\n}\n</code></pre>\n<p>Also here is my rest controller</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/apples&quot;)\npublic class AppleController {\n\n    @PostMapping\n    public ResponseEntity&lt;Void&gt; createApple(@Valid @RequestBody Apple apple) {\n        return ResponseEntity.created(URI.create(&quot;/foo&quot;)).build();\n    }\n}\n</code></pre>\n<p>The problem is that @Valid does not validate the enum field correctly.\nEven if I send {&quot;color&quot;: &quot;RED&quot;} as a body, the validation fails with a message saying that <em>color</em> must not be null</p>\n<p>When I do the exact same thing with a non-abstract class and without JsonSubTypes &amp; JsonTypeInfo annotations everything works like a charm.\nWhat am I missing here?</p>\n<p>Thanks</p>\n"},{"tags":["java","linux","centos7","speech-to-text","azure-speech"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649679243,"post_id":71827218,"comment_id":126929557,"body_markdown":"`System.out.println(System.getProperty(&quot;java.library.path&quot;));` at your Java entry point prints what? Make sure all required native libraries are on it","body":"<code>System.out.println(System.getProperty(&quot;java.library.path&quot;));</code> at your Java entry point prints what? Make sure all required native libraries are on it"},{"owner":{"account_id":21712358,"reputation":3,"user_id":16023826,"display_name":"meresipere"},"score":0,"creation_date":1649687484,"post_id":71827218,"comment_id":126933043,"body_markdown":"@g00se It seemed like the project refused to read the libs located in /usr/local/lib64. I mananged to add them with -Djava.library.path, but it still doesn&#39;t seem to use them. I&#39;ve also tried setting another -Djava.io.tmpdir, didn&#39;t help.","body":"@g00se It seemed like the project refused to read the libs located in /usr/local/lib64. I mananged to add them with -Djava.library.path, but it still doesn&#39;t seem to use them. I&#39;ve also tried setting another -Djava.io.tmpdir, didn&#39;t help."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649690027,"post_id":71827218,"comment_id":126934070,"body_markdown":"*It seemed like the project refused to read the libs located in /usr/local/lib64* What&#39;s in there btw? Can you do `find /usr/local/lib64` and show us?","body":"<i>It seemed like the project refused to read the libs located in /usr/local/lib64</i> What&#39;s in there btw? Can you do <code>find &#47;usr&#47;local&#47;lib64</code> and show us?"},{"owner":{"account_id":21712358,"reputation":3,"user_id":16023826,"display_name":"meresipere"},"score":0,"creation_date":1649694191,"post_id":71827218,"comment_id":126935655,"body_markdown":"@g00se Added edit to OP with folder contents.","body":"@g00se Added edit to OP with folder contents."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649695163,"post_id":71827218,"comment_id":126935996,"body_markdown":"Can I see the exact command used to launch with the `-D` options?","body":"Can I see the exact command used to launch with the <code>-D</code> options?"},{"owner":{"account_id":21712358,"reputation":3,"user_id":16023826,"display_name":"meresipere"},"score":0,"creation_date":1649696116,"post_id":71827218,"comment_id":126936304,"body_markdown":"@g00se included in op edit","body":"@g00se included in op edit"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649696317,"post_id":71827218,"comment_id":126936371,"body_markdown":"Ah OK. That seems OK. I think you could get an error like that with a missing file or a partially failed compilation","body":"Ah OK. That seems OK. I think you could get an error like that with a missing file or a partially failed compilation"}],"owner":{"account_id":21712358,"reputation":3,"user_id":16023826,"display_name":"meresipere"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649696099,"creation_date":1649677352,"question_id":71827218,"body_markdown":"My application is a spring boot java project connecting to the azure services for converting speech to text, analyzing sentiment and translating. I am trying to deploy my application to a centos 7 VM, but I get the error in the title when calling my endpoint converting speech to text. I have no problem running the application from my local windows 10 machine. Here are my logs:\r\n\r\n```Log\r\n:: Spring Boot ::                (v2.5.2)\r\n\r\n2022-04-08 13:35:27.482  INFO 30261 --- [           main] .e.t.f.m.ExtractTextFromMediaApplication : Starting ExtractTextFromMediaApplication v0.0.1-SNAPSHOT using Java 11.0.14.1 on speech2text..net with PID 30261 (/usr/local/speech2text/extractTextFromMedia-0.0.1-SNAPSHOT.jar started by root in /export/home/fos)\r\n2022-04-08 13:35:27.497  INFO 30261 --- [           main] .e.t.f.m.ExtractTextFromMediaApplication : No active profile set, falling back to default profiles: default\r\n2022-04-08 13:35:29.701  INFO 30261 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https) 8080 (http)\r\n2022-04-08 13:35:29.724  INFO 30261 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2022-04-08 13:35:29.725  INFO 30261 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.48]\r\n2022-04-08 13:35:29.792  INFO 30261 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n2022-04-08 13:35:29.792  INFO 30261 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2186 ms\r\n2022-04-08 13:35:30.925  INFO 30261 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path &#39;/actuator&#39;\r\n2022-04-08 13:35:31.336  INFO 30261 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) 8080 (http) with context path &#39;&#39;\r\n2022-04-08 13:35:31.363  INFO 30261 --- [           main] .e.t.f.m.ExtractTextFromMediaApplication : Started ExtractTextFromMediaApplication in 4.656 seconds (JVM running for 5.295)\r\n2022-04-08 13:35:36.283  INFO 30261 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2022-04-08 13:35:36.284  INFO 30261 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2022-04-08 13:35:36.285  INFO 30261 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\r\n2022-04-08 13:35:36.821  INFO 30261 --- [nio-8080-exec-1] c.r.c.e.t.f.m.s.TextFromMediaService     : 20220408133536_videoplayback.mp4 video file was coppied on disk.\r\n2022-04-08 13:35:36.995  INFO 30261 --- [nio-8080-exec-1] c.r.c.e.t.f.m.s.TextFromMediaService     : Audio file created in path: /tmp/temp_audio/20220408133536_videoplayback_20220408133536.wav\r\n2022-04-08 13:35:37.077 ERROR 30261 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.UnsatisfiedLinkError: &#39;void com.microsoft.cognitiveservices.speech.SpeechConfig.setTempDirectory(java.lang.String)&#39;] with root cause\r\n \r\njava.lang.UnsatisfiedLinkError: &#39;void com.microsoft.cognitiveservices.speech.SpeechConfig.setTempDirectory(java.lang.String)&#39;\r\n        at com.microsoft.cognitiveservices.speech.SpeechConfig.setTempDirectory(Native Method) ~[client-sdk-1.19.0.jar!/:na]\r\n        at com.microsoft.cognitiveservices.speech.SpeechConfig.&lt;clinit&gt;(SpeechConfig.java:77) ~[client-sdk-1.19.0.jar!/:na]\r\n        at com...extract.text.from.media.service.ExtractTextFromAudioService.getSpeechConfig(ExtractTextFromAudioService.java:102) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at com...extract.text.from.media.service.ExtractTextFromAudioService.continuousRecognitionWithFileWithPhraseListAsync(ExtractTextFromAudioService.java:32) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at com...extract.text.from.media.service.TextFromMediaService.getTextFromMediaFile(TextFromMediaService.java:89) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at com...extract.text.from.media.service.TextFromMediaService.getTextFromMedia(TextFromMediaService.java:72) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at com...extract.text.from.media.controller.MediaToTextMultipartController.extractTextFromMedia(MediaToTextMultipartController.java:28) ~[classes!/:0.0.1-SNAPSHOT]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar!/:5.3.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar!/:5.3.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.2.jar!/:2.5.2]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar!/:5.3.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.8.jar!/:5.3.8]\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar!/:5.3.8]\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.48.jar!/:na]\r\n        at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n\r\n```\r\n\r\nThis is my pom file:\r\n```xml\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=http://maven.apache.org/POM/4.0.0\r\n   xmlns:xsi=http://www.w3.org/2001/XMLSchema-instance\r\n   xsi:schemaLocation=http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&gt;\r\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n   &lt;parent&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;2.5.2&lt;/version&gt;\r\n      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n   &lt;/parent&gt;\r\n   &lt;groupId&gt;com..&lt;/groupId&gt;\r\n   &lt;artifactId&gt;extractTextFromMedia&lt;/artifactId&gt;\r\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n   &lt;name&gt;extractTextFromMedia&lt;/name&gt;\r\n   &lt;description&gt;Project for extracting the text from media files&lt;/description&gt;\r\n   &lt;properties&gt;\r\n      &lt;java.version&gt;11&lt;/java.version&gt;\r\n   &lt;/properties&gt;\r\n   &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\r\n         &lt;optional&gt;true&lt;/optional&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n         &lt;optional&gt;true&lt;/optional&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n         &lt;scope&gt;test&lt;/scope&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- video to audio --&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;ws.schild&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jave-all-deps&lt;/artifactId&gt;\r\n         &lt;version&gt;3.2.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- azure --&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.microsoft.cognitiveservices.speech&lt;/groupId&gt;\r\n         &lt;artifactId&gt;client-sdk&lt;/artifactId&gt;\r\n         &lt;version&gt;1.20.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;!-- sentiment analysis --&gt;\r\n      &lt;!-- https://mvnrepository.com/artifact/com.azure/azure-ai-textanalytics --&gt;\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n         &lt;artifactId&gt;azure-ai-textanalytics&lt;/artifactId&gt;\r\n         &lt;version&gt;5.1.7&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n         &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n      &lt;dependency&gt;\r\n         &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n         &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n      &lt;/dependency&gt;\r\n\r\n\r\n   &lt;/dependencies&gt;\r\n\r\n   &lt;repositories&gt;\r\n      &lt;repository&gt;\r\n         &lt;id&gt;maven-cognitiveservices-speech&lt;/id&gt;\r\n         &lt;name&gt;Microsoft Cognitive Services Speech Maven Repository&lt;/name&gt;\r\n         &lt;url&gt;https://csspeechstorage.blob.core.windows.net/maven/&lt;/url&gt;\r\n      &lt;/repository&gt;\r\n   &lt;/repositories&gt;\r\n\r\n   &lt;build&gt;\r\n      &lt;plugins&gt;\r\n         &lt;plugin&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n               &lt;requiresUnpack&gt;\r\n                  &lt;dependency&gt;\r\n                     &lt;groupId&gt;com.microsoft.cognitiveservices.speech&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;client-sdk&lt;/artifactId&gt;\r\n                     &lt;version&gt;1.20.0&lt;/version&gt;\r\n                  &lt;/dependency&gt;\r\n               &lt;/requiresUnpack&gt;\r\n               &lt;excludes&gt;\r\n                  &lt;exclude&gt;\r\n                     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                     &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                  &lt;/exclude&gt;\r\n               &lt;/excludes&gt;\r\n            &lt;/configuration&gt;\r\n         &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n   &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nI run my program by building it into a fat .jar file with mvn clean package, transfer the jar to my VM and run it through a service there (with java -jar).\r\n\r\nI have installed the packages indicated here: https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/how-to-configure-rhel-centos-7\r\nAlthrough, I don&#39;t entirely understand how my environmental variable should look like there.\r\n\r\nI have also tried transferring the whole project folder in the VM and running it there, but I get the same error. I am unsure what to try next.\r\n\r\nI&#39;ve opened a similar issue on github - https://github.com/Azure-Samples/cognitive-services-speech-sdk/issues/1461\r\n\r\nL.E: I&#39;ve managed to run the sample java program in the above github with no problems, so it seems like I have all the required dependencies on the machine. My spring project just doesn&#39;t use them for whatever reason.\r\n\r\nLE2: find /usr/local/lib64 result:\r\n```\r\n/usr/local/lib64/\r\n\r\n/usr/local/lib64/libstdc++fs.a\r\n\r\n/usr/local/lib64/libstdc++.so.6.0.24\r\n\r\n/usr/local/lib64/libstdc++.so.6\r\n\r\n/usr/local/lib64/libstdc++.so\r\n\r\n/usr/local/lib64/libstdc++.la\r\n\r\n/usr/local/lib64/libstdc++.a\r\n\r\n/usr/local/lib64/libstdc++.so.6.0.24-gdb.py\r\n\r\n/usr/local/lib64/liblsan.so.0.0.0\r\n\r\n/usr/local/lib64/liblsan.so.0\r\n\r\n/usr/local/lib64/liblsan.so\r\n\r\n/usr/local/lib64/liblsan.la\r\n\r\n/usr/local/lib64/liblsan.a\r\n\r\n/usr/local/lib64/libasan_preinit.o\r\n\r\n/usr/local/lib64/libasan.so.4.0.0\r\n\r\n/usr/local/lib64/libasan.so.4\r\n\r\n/usr/local/lib64/libasan.so\r\n\r\n/usr/local/lib64/libasan.la\r\n\r\n/usr/local/lib64/libasan.a\r\n\r\n/usr/local/lib64/libubsan.so.0.0.0\r\n\r\n/usr/local/lib64/libubsan.so.0\r\n\r\n/usr/local/lib64/libubsan.so\r\n\r\n/usr/local/lib64/libubsan.la\r\n\r\n/usr/local/lib64/libubsan.a\r\n\r\n/usr/local/lib64/libtsan_preinit.o\r\n\r\n/usr/local/lib64/libtsan.so.0.0.0\r\n\r\n/usr/local/lib64/libtsan.so.0\r\n\r\n/usr/local/lib64/libtsan.so\r\n\r\n/usr/local/lib64/libtsan.la\r\n\r\n/usr/local/lib64/libtsan.a\r\n\r\n/usr/local/lib64/libsanitizer.spec\r\n\r\n/usr/local/lib64/libmpx.so.2.0.1\r\n\r\n/usr/local/lib64/libmpx.so.2\r\n\r\n/usr/local/lib64/libmpx.so\r\n\r\n/usr/local/lib64/libmpx.la\r\n\r\n/usr/local/lib64/libmpx.a\r\n\r\n/usr/local/lib64/libmpxwrappers.so.2.0.1\r\n\r\n/usr/local/lib64/libmpxwrappers.so.2\r\n\r\n/usr/local/lib64/libmpxwrappers.so\r\n\r\n/usr/local/lib64/libmpxwrappers.la\r\n\r\n/usr/local/lib64/libmpxwrappers.a\r\n\r\n/usr/local/lib64/libmpx.spec\r\n\r\n/usr/local/lib64/libcilkrts.spec\r\n\r\n/usr/local/lib64/libcilkrts.so.5.0.0\r\n\r\n/usr/local/lib64/libcilkrts.so.5\r\n\r\n/usr/local/lib64/libcilkrts.so\r\n\r\n/usr/local/lib64/libcilkrts.la\r\n\r\n/usr/local/lib64/libcilkrts.a\r\n\r\n/usr/local/lib64/libssp.so.0.0.0\r\n\r\n/usr/local/lib64/libssp.so.0\r\n\r\n/usr/local/lib64/libssp.so\r\n\r\n/usr/local/lib64/libssp.la\r\n\r\n/usr/local/lib64/libssp_nonshared.la\r\n\r\n/usr/local/lib64/libssp.a\r\n\r\n/usr/local/lib64/libssp_nonshared.a\r\n\r\n/usr/local/lib64/libgcc_s.so.1\r\n\r\n/usr/local/lib64/libgcc_s.so\r\n\r\n/usr/local/lib64/libquadmath.so.0.0.0\r\n\r\n/usr/local/lib64/libquadmath.so.0\r\n\r\n/usr/local/lib64/libquadmath.so\r\n\r\n/usr/local/lib64/libquadmath.la\r\n\r\n/usr/local/lib64/libquadmath.a\r\n\r\n/usr/local/lib64/libgomp.spec\r\n\r\n/usr/local/lib64/libgomp.so.1.0.0\r\n\r\n/usr/local/lib64/libgomp.so.1\r\n\r\n/usr/local/lib64/libgomp.so\r\n\r\n/usr/local/lib64/libgomp.la\r\n\r\n/usr/local/lib64/libgomp.a\r\n\r\n/usr/local/lib64/libitm.spec\r\n\r\n/usr/local/lib64/libitm.so.1.0.0\r\n\r\n/usr/local/lib64/libitm.so.1\r\n\r\n/usr/local/lib64/libitm.so\r\n\r\n/usr/local/lib64/libitm.la\r\n\r\n/usr/local/lib64/libitm.a\r\n\r\n/usr/local/lib64/libatomic.so.1.2.0\r\n\r\n/usr/local/lib64/libatomic.so.1\r\n\r\n/usr/local/lib64/libatomic.so\r\n\r\n/usr/local/lib64/libatomic.la\r\n\r\n/usr/local/lib64/libatomic.a\r\n\r\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.core.so\r\n\r\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.extension.audio.sys.so\r\n\r\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.extension.codec.so\r\n\r\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.extension.kws.so\r\n\r\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.extension.lu.so\r\n\r\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.extension.mas.so\r\n\r\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.java.bindings.so\r\n\r\n/usr/local/lib64/libcc1.so.0.0.0\r\n\r\n/usr/local/lib64/libcc1.so.0\r\n\r\n/usr/local/lib64/libcc1.so\r\n\r\n/usr/local/lib64/libcc1.la\r\n\r\n/usr/local/lib64/libsupc++.la\r\n\r\n/usr/local/lib64/libsupc++.a\r\n\r\n/usr/local/lib64/libstdc++fs.la\r\n```\r\n\r\nI&#39;ve transferred the files located in speechSDK.jar - /lib/centos7-x64 here as well. (I&#39;ve tried including them separately in -Djava.library.path too) \r\n\r\nLE3: This is the last iteration of the commands I used to try to get it to work:\r\n\r\n```\r\nsudo java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Djava.io.tmpdir=/export/home/fos/tmpDir -Djava.library.path=/usr/local/speech2text/speechSDK-1.20/ASSETS/linux-x64:/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib:/usr/local/lib64:/usr/local/speech2text/speechSDK-1.20/ASSETS/centos7-x64 -jar extract-text-from-media-0.0.1-SNAPSHOT.jar\r\n```\r\n","title":"java.lang.UnsatisfiedLinkError: &#39;void com.microsoft.cognitiveservices.speech.SpeechConfig.setTempDirectory(java.lang.String)&#39; - Java CentOS 7","body":"<p>My application is a spring boot java project connecting to the azure services for converting speech to text, analyzing sentiment and translating. I am trying to deploy my application to a centos 7 VM, but I get the error in the title when calling my endpoint converting speech to text. I have no problem running the application from my local windows 10 machine. Here are my logs:</p>\n<pre><code>:: Spring Boot ::                (v2.5.2)\n\n2022-04-08 13:35:27.482  INFO 30261 --- [           main] .e.t.f.m.ExtractTextFromMediaApplication : Starting ExtractTextFromMediaApplication v0.0.1-SNAPSHOT using Java 11.0.14.1 on speech2text..net with PID 30261 (/usr/local/speech2text/extractTextFromMedia-0.0.1-SNAPSHOT.jar started by root in /export/home/fos)\n2022-04-08 13:35:27.497  INFO 30261 --- [           main] .e.t.f.m.ExtractTextFromMediaApplication : No active profile set, falling back to default profiles: default\n2022-04-08 13:35:29.701  INFO 30261 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8443 (https) 8080 (http)\n2022-04-08 13:35:29.724  INFO 30261 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-04-08 13:35:29.725  INFO 30261 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.48]\n2022-04-08 13:35:29.792  INFO 30261 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-04-08 13:35:29.792  INFO 30261 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2186 ms\n2022-04-08 13:35:30.925  INFO 30261 --- [           main] o.s.b.a.e.web.EndpointLinksResolver      : Exposing 1 endpoint(s) beneath base path '/actuator'\n2022-04-08 13:35:31.336  INFO 30261 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8443 (https) 8080 (http) with context path ''\n2022-04-08 13:35:31.363  INFO 30261 --- [           main] .e.t.f.m.ExtractTextFromMediaApplication : Started ExtractTextFromMediaApplication in 4.656 seconds (JVM running for 5.295)\n2022-04-08 13:35:36.283  INFO 30261 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-04-08 13:35:36.284  INFO 30261 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-04-08 13:35:36.285  INFO 30261 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms\n2022-04-08 13:35:36.821  INFO 30261 --- [nio-8080-exec-1] c.r.c.e.t.f.m.s.TextFromMediaService     : 20220408133536_videoplayback.mp4 video file was coppied on disk.\n2022-04-08 13:35:36.995  INFO 30261 --- [nio-8080-exec-1] c.r.c.e.t.f.m.s.TextFromMediaService     : Audio file created in path: /tmp/temp_audio/20220408133536_videoplayback_20220408133536.wav\n2022-04-08 13:35:37.077 ERROR 30261 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Handler dispatch failed; nested exception is java.lang.UnsatisfiedLinkError: 'void com.microsoft.cognitiveservices.speech.SpeechConfig.setTempDirectory(java.lang.String)'] with root cause\n \njava.lang.UnsatisfiedLinkError: 'void com.microsoft.cognitiveservices.speech.SpeechConfig.setTempDirectory(java.lang.String)'\n        at com.microsoft.cognitiveservices.speech.SpeechConfig.setTempDirectory(Native Method) ~[client-sdk-1.19.0.jar!/:na]\n        at com.microsoft.cognitiveservices.speech.SpeechConfig.&lt;clinit&gt;(SpeechConfig.java:77) ~[client-sdk-1.19.0.jar!/:na]\n        at com...extract.text.from.media.service.ExtractTextFromAudioService.getSpeechConfig(ExtractTextFromAudioService.java:102) ~[classes!/:0.0.1-SNAPSHOT]\n        at com...extract.text.from.media.service.ExtractTextFromAudioService.continuousRecognitionWithFileWithPhraseListAsync(ExtractTextFromAudioService.java:32) ~[classes!/:0.0.1-SNAPSHOT]\n        at com...extract.text.from.media.service.TextFromMediaService.getTextFromMediaFile(TextFromMediaService.java:89) ~[classes!/:0.0.1-SNAPSHOT]\n        at com...extract.text.from.media.service.TextFromMediaService.getTextFromMedia(TextFromMediaService.java:72) ~[classes!/:0.0.1-SNAPSHOT]\n        at com...extract.text.from.media.controller.MediaToTextMultipartController.extractTextFromMedia(MediaToTextMultipartController.java:28) ~[classes!/:0.0.1-SNAPSHOT]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197) ~[spring-web-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141) ~[spring-web-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1063) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.8.jar!/:5.3.8]\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.48.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar!/:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar!/:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.5.2.jar!/:2.5.2]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar!/:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.8.jar!/:5.3.8]\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119) ~[spring-web-5.3.8.jar!/:5.3.8]\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[na:na]\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[na:na]\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.48.jar!/:na]\n        at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\n\n</code></pre>\n<p>This is my pom file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=http://maven.apache.org/POM/4.0.0\n   xmlns:xsi=http://www.w3.org/2001/XMLSchema-instance\n   xsi:schemaLocation=http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&gt;\n   &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n   &lt;parent&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n      &lt;version&gt;2.5.2&lt;/version&gt;\n      &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n   &lt;/parent&gt;\n   &lt;groupId&gt;com..&lt;/groupId&gt;\n   &lt;artifactId&gt;extractTextFromMedia&lt;/artifactId&gt;\n   &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n   &lt;name&gt;extractTextFromMedia&lt;/name&gt;\n   &lt;description&gt;Project for extracting the text from media files&lt;/description&gt;\n   &lt;properties&gt;\n      &lt;java.version&gt;11&lt;/java.version&gt;\n   &lt;/properties&gt;\n   &lt;dependencies&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-configuration-processor&lt;/artifactId&gt;\n         &lt;optional&gt;true&lt;/optional&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n         &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n         &lt;optional&gt;true&lt;/optional&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n         &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n         &lt;scope&gt;test&lt;/scope&gt;\n      &lt;/dependency&gt;\n\n      &lt;!-- video to audio --&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;ws.schild&lt;/groupId&gt;\n         &lt;artifactId&gt;jave-all-deps&lt;/artifactId&gt;\n         &lt;version&gt;3.2.0&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;!-- azure --&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.microsoft.cognitiveservices.speech&lt;/groupId&gt;\n         &lt;artifactId&gt;client-sdk&lt;/artifactId&gt;\n         &lt;version&gt;1.20.0&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;!-- sentiment analysis --&gt;\n      &lt;!-- https://mvnrepository.com/artifact/com.azure/azure-ai-textanalytics --&gt;\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.azure&lt;/groupId&gt;\n         &lt;artifactId&gt;azure-ai-textanalytics&lt;/artifactId&gt;\n         &lt;version&gt;5.1.7&lt;/version&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n         &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n      &lt;dependency&gt;\n         &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n         &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n      &lt;/dependency&gt;\n\n\n   &lt;/dependencies&gt;\n\n   &lt;repositories&gt;\n      &lt;repository&gt;\n         &lt;id&gt;maven-cognitiveservices-speech&lt;/id&gt;\n         &lt;name&gt;Microsoft Cognitive Services Speech Maven Repository&lt;/name&gt;\n         &lt;url&gt;https://csspeechstorage.blob.core.windows.net/maven/&lt;/url&gt;\n      &lt;/repository&gt;\n   &lt;/repositories&gt;\n\n   &lt;build&gt;\n      &lt;plugins&gt;\n         &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n               &lt;requiresUnpack&gt;\n                  &lt;dependency&gt;\n                     &lt;groupId&gt;com.microsoft.cognitiveservices.speech&lt;/groupId&gt;\n                     &lt;artifactId&gt;client-sdk&lt;/artifactId&gt;\n                     &lt;version&gt;1.20.0&lt;/version&gt;\n                  &lt;/dependency&gt;\n               &lt;/requiresUnpack&gt;\n               &lt;excludes&gt;\n                  &lt;exclude&gt;\n                     &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                     &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                  &lt;/exclude&gt;\n               &lt;/excludes&gt;\n            &lt;/configuration&gt;\n         &lt;/plugin&gt;\n      &lt;/plugins&gt;\n   &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I run my program by building it into a fat .jar file with mvn clean package, transfer the jar to my VM and run it through a service there (with java -jar).</p>\n<p>I have installed the packages indicated here: <a href=\"https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/how-to-configure-rhel-centos-7\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/azure/cognitive-services/speech-service/how-to-configure-rhel-centos-7</a>\nAlthrough, I don't entirely understand how my environmental variable should look like there.</p>\n<p>I have also tried transferring the whole project folder in the VM and running it there, but I get the same error. I am unsure what to try next.</p>\n<p>I've opened a similar issue on github - <a href=\"https://github.com/Azure-Samples/cognitive-services-speech-sdk/issues/1461\" rel=\"nofollow noreferrer\">https://github.com/Azure-Samples/cognitive-services-speech-sdk/issues/1461</a></p>\n<p>L.E: I've managed to run the sample java program in the above github with no problems, so it seems like I have all the required dependencies on the machine. My spring project just doesn't use them for whatever reason.</p>\n<p>LE2: find /usr/local/lib64 result:</p>\n<pre><code>/usr/local/lib64/\n\n/usr/local/lib64/libstdc++fs.a\n\n/usr/local/lib64/libstdc++.so.6.0.24\n\n/usr/local/lib64/libstdc++.so.6\n\n/usr/local/lib64/libstdc++.so\n\n/usr/local/lib64/libstdc++.la\n\n/usr/local/lib64/libstdc++.a\n\n/usr/local/lib64/libstdc++.so.6.0.24-gdb.py\n\n/usr/local/lib64/liblsan.so.0.0.0\n\n/usr/local/lib64/liblsan.so.0\n\n/usr/local/lib64/liblsan.so\n\n/usr/local/lib64/liblsan.la\n\n/usr/local/lib64/liblsan.a\n\n/usr/local/lib64/libasan_preinit.o\n\n/usr/local/lib64/libasan.so.4.0.0\n\n/usr/local/lib64/libasan.so.4\n\n/usr/local/lib64/libasan.so\n\n/usr/local/lib64/libasan.la\n\n/usr/local/lib64/libasan.a\n\n/usr/local/lib64/libubsan.so.0.0.0\n\n/usr/local/lib64/libubsan.so.0\n\n/usr/local/lib64/libubsan.so\n\n/usr/local/lib64/libubsan.la\n\n/usr/local/lib64/libubsan.a\n\n/usr/local/lib64/libtsan_preinit.o\n\n/usr/local/lib64/libtsan.so.0.0.0\n\n/usr/local/lib64/libtsan.so.0\n\n/usr/local/lib64/libtsan.so\n\n/usr/local/lib64/libtsan.la\n\n/usr/local/lib64/libtsan.a\n\n/usr/local/lib64/libsanitizer.spec\n\n/usr/local/lib64/libmpx.so.2.0.1\n\n/usr/local/lib64/libmpx.so.2\n\n/usr/local/lib64/libmpx.so\n\n/usr/local/lib64/libmpx.la\n\n/usr/local/lib64/libmpx.a\n\n/usr/local/lib64/libmpxwrappers.so.2.0.1\n\n/usr/local/lib64/libmpxwrappers.so.2\n\n/usr/local/lib64/libmpxwrappers.so\n\n/usr/local/lib64/libmpxwrappers.la\n\n/usr/local/lib64/libmpxwrappers.a\n\n/usr/local/lib64/libmpx.spec\n\n/usr/local/lib64/libcilkrts.spec\n\n/usr/local/lib64/libcilkrts.so.5.0.0\n\n/usr/local/lib64/libcilkrts.so.5\n\n/usr/local/lib64/libcilkrts.so\n\n/usr/local/lib64/libcilkrts.la\n\n/usr/local/lib64/libcilkrts.a\n\n/usr/local/lib64/libssp.so.0.0.0\n\n/usr/local/lib64/libssp.so.0\n\n/usr/local/lib64/libssp.so\n\n/usr/local/lib64/libssp.la\n\n/usr/local/lib64/libssp_nonshared.la\n\n/usr/local/lib64/libssp.a\n\n/usr/local/lib64/libssp_nonshared.a\n\n/usr/local/lib64/libgcc_s.so.1\n\n/usr/local/lib64/libgcc_s.so\n\n/usr/local/lib64/libquadmath.so.0.0.0\n\n/usr/local/lib64/libquadmath.so.0\n\n/usr/local/lib64/libquadmath.so\n\n/usr/local/lib64/libquadmath.la\n\n/usr/local/lib64/libquadmath.a\n\n/usr/local/lib64/libgomp.spec\n\n/usr/local/lib64/libgomp.so.1.0.0\n\n/usr/local/lib64/libgomp.so.1\n\n/usr/local/lib64/libgomp.so\n\n/usr/local/lib64/libgomp.la\n\n/usr/local/lib64/libgomp.a\n\n/usr/local/lib64/libitm.spec\n\n/usr/local/lib64/libitm.so.1.0.0\n\n/usr/local/lib64/libitm.so.1\n\n/usr/local/lib64/libitm.so\n\n/usr/local/lib64/libitm.la\n\n/usr/local/lib64/libitm.a\n\n/usr/local/lib64/libatomic.so.1.2.0\n\n/usr/local/lib64/libatomic.so.1\n\n/usr/local/lib64/libatomic.so\n\n/usr/local/lib64/libatomic.la\n\n/usr/local/lib64/libatomic.a\n\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.core.so\n\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.extension.audio.sys.so\n\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.extension.codec.so\n\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.extension.kws.so\n\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.extension.lu.so\n\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.extension.mas.so\n\n/usr/local/lib64/libMicrosoft.CognitiveServices.Speech.java.bindings.so\n\n/usr/local/lib64/libcc1.so.0.0.0\n\n/usr/local/lib64/libcc1.so.0\n\n/usr/local/lib64/libcc1.so\n\n/usr/local/lib64/libcc1.la\n\n/usr/local/lib64/libsupc++.la\n\n/usr/local/lib64/libsupc++.a\n\n/usr/local/lib64/libstdc++fs.la\n</code></pre>\n<p>I've transferred the files located in speechSDK.jar - /lib/centos7-x64 here as well. (I've tried including them separately in -Djava.library.path too)</p>\n<p>LE3: This is the last iteration of the commands I used to try to get it to work:</p>\n<pre><code>sudo java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Djava.io.tmpdir=/export/home/fos/tmpDir -Djava.library.path=/usr/local/speech2text/speechSDK-1.20/ASSETS/linux-x64:/usr/java/packages/lib:/usr/lib64:/lib64:/lib:/usr/lib:/usr/local/lib64:/usr/local/speech2text/speechSDK-1.20/ASSETS/centos7-x64 -jar extract-text-from-media-0.0.1-SNAPSHOT.jar\n</code></pre>\n"},{"tags":["java","glsl","rendering","game-engine","lwjgl"],"comments":[{"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1649624749,"post_id":71820301,"comment_id":126917139,"body_markdown":"Are you trying to render from a thread? The [OpenGL Context](https://www.khronos.org/opengl/wiki/OpenGL_Context) is thread-local.","body":"Are you trying to render from a thread? The <a href=\"https://www.khronos.org/opengl/wiki/OpenGL_Context\" rel=\"nofollow noreferrer\">OpenGL Context</a> is thread-local."},{"owner":{"account_id":14804993,"reputation":65,"user_id":10692258,"display_name":"David Petriashvili"},"score":0,"creation_date":1649627670,"post_id":71820301,"comment_id":126917643,"body_markdown":"Oh yes thats true. So If I pass the window ID(the long) to the renderer, and just before rendering I `glMakeCurrentContext` it may work? Do you suggest this?","body":"Oh yes thats true. So If I pass the window ID(the long) to the renderer, and just before rendering I <code>glMakeCurrentContext</code> it may work? Do you suggest this?"},{"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"score":2,"creation_date":1649650902,"post_id":71820301,"comment_id":126920887,"body_markdown":"I do not know. Way too much code. Narrow it down to a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"I do not know. Way too much code. Narrow it down to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>"},{"owner":{"account_id":4799359,"reputation":1558,"user_id":3876382,"display_name":"michaeak"},"score":0,"creation_date":1684314996,"post_id":71820301,"comment_id":134499044,"body_markdown":"Always keep in mind that the order of vertices for a mesh is important. There is only one front visible unless you turn on front and back face culling. If the mesh you created is correct and the setup is fine in principle (camera looking at the mesh) changing 0, 1, 2 to 0, 2, 1 could do the trick","body":"Always keep in mind that the order of vertices for a mesh is important. There is only one front visible unless you turn on front and back face culling. If the mesh you created is correct and the setup is fine in principle (camera looking at the mesh) changing 0, 1, 2 to 0, 2, 1 could do the trick"}],"answers":[{"tags":[],"owner":{"account_id":7322082,"reputation":205321,"user_id":5577765,"display_name":"Rabbid76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649622821,"creation_date":1649622821,"answer_id":71820352,"question_id":71820301,"body_markdown":"The vertex shader color output name is `fragment`, but the fragment shader input name is `fColor`. The interface is linked by name. You must use the same name on both sides of the interface. Change the vertex shader:\r\n\r\n```glsl\r\n#version 330\r\nlayout (location=0) in vec3 aPos;\r\nlayout (location=1) in vec4 aColor;\r\n\r\nout vec4 fColor;\r\n\r\nvoid main(){\r\n    fColor = aColor;\r\n    gl_Position = vec4(aPos,1.0);\r\n}\r\n```","title":"LWJGL 3 - After the shader is compiled and mesh is made, the triangle still doesn&#39;t draw","body":"<p>The vertex shader color output name is <code>fragment</code>, but the fragment shader input name is <code>fColor</code>. The interface is linked by name. You must use the same name on both sides of the interface. Change the vertex shader:</p>\n<pre class=\"lang-c prettyprint-override\"><code>#version 330\nlayout (location=0) in vec3 aPos;\nlayout (location=1) in vec4 aColor;\n\nout vec4 fColor;\n\nvoid main(){\n    fColor = aColor;\n    gl_Position = vec4(aPos,1.0);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7228798,"reputation":162,"user_id":5516452,"accept_rate":100,"display_name":"Tefek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649695921,"creation_date":1649695921,"answer_id":71831547,"question_id":71820301,"body_markdown":"You seem to be clearing the buffer right after rendering the triangle and before swapping the buffer&#39;s contents to screen.\r\n\r\nIn your window code:\r\n    \r\n    ...\r\n    renderer.render();\r\n\r\n    clear();\r\n    glfwSwapBuffers(window);\r\n    ...\r\nYou clear the buffer&#39;s contents right before swapping it to the window instead of clearing before rendering:\r\n\r\n    ...\r\n    clear();\r\n    \r\n    renderer.render();\r\n\r\n    glfwSwapBuffers(window);\r\n    ...","title":"LWJGL 3 - After the shader is compiled and mesh is made, the triangle still doesn&#39;t draw","body":"<p>You seem to be clearing the buffer right after rendering the triangle and before swapping the buffer's contents to screen.</p>\n<p>In your window code:</p>\n<pre><code>...\nrenderer.render();\n\nclear();\nglfwSwapBuffers(window);\n...\n</code></pre>\n<p>You clear the buffer's contents right before swapping it to the window instead of clearing before rendering:</p>\n<pre><code>...\nclear();\n\nrenderer.render();\n\nglfwSwapBuffers(window);\n...\n</code></pre>\n"}],"owner":{"account_id":14804993,"reputation":65,"user_id":10692258,"display_name":"David Petriashvili"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649695921,"creation_date":1649622318,"question_id":71820301,"body_markdown":"I am currently trying to make an engine by using LWJGL3, and I am having issues trying to render a triangle.\r\n\r\nI first make the window, make the window current context.\r\nThen I make the renderer, which has the meshes.\r\nMeshes have shaders attached to them. By `init()` the shaders compile and link.\r\nShader file (I have a parser, which takes fragment/vertex separately. The compilation completes without error, I do have error checking if it fails to compile).\r\n```//type vertex\r\n#version 330\r\nlayout (location=0) in vec3 aPos;\r\nlayout (location=1) in vec4 aColor;\r\n\r\nout vec4 fragment;\r\n\r\nvoid main(){\r\n    fragment = aColor;\r\n    gl_Position = vec4(aPos,1.0);\r\n}\r\n//type fragment\r\n#version 330\r\n\r\nin vec4 fColor;\r\n\r\nout vec4 color;\r\n\r\nvoid main(){\r\n    color = fColor;\r\n}\r\n```\r\nAfter this, I try to draw the mesh, it succeeds so, but in the window, I only get a gray color, which is a color I passed as an argument to start the window by that color.\r\n\r\nWhere could I be going wrong?\r\n\r\nMesh code:\r\n```\r\npackage graphics;\r\n\r\nimport java.nio.FloatBuffer;\r\nimport java.nio.IntBuffer;\r\n\r\nimport static org.lwjgl.opengl.GL33.*;\r\n\r\npublic class Mesh {\r\n    int positionSize = 3;\r\n    int colorSize = 4;\r\n    int floatSizeInBytes = 4;\r\n    int vertexSizeInBytes = (positionSize + colorSize) * floatSizeInBytes;\r\n\r\n    private final Vertex[] vertices;\r\n    private final int[] indices;\r\n\r\n    private int vertexArrayObject;\r\n    private int vertexBufferObject;\r\n    private int elementArrayObject;\r\n    private int vertexCount;\r\n    private Shader shader;\r\n\r\n    public Mesh(Vertex[] vertices, int[] indices, Shader shader) {\r\n        this.shader = shader;\r\n        this.vertices = vertices;\r\n        this.indices = indices;\r\n    }\r\n\r\n    public void init(){\r\n        this.shader.compileAndLink();\r\n        this.shader.bind();\r\n\r\n        vertexCount = indices.length;\r\n\r\n        vertexArrayObject = glGenVertexArrays();\r\n        vertexBufferObject = glGenBuffers();\r\n        elementArrayObject = glGenBuffers();\r\n\r\n        glBindVertexArray(vertexArrayObject);\r\n        glBindBuffer(GL_ARRAY_BUFFER, vertexBufferObject);\r\n        glBufferData(GL_ARRAY_BUFFER, flippedBuffer(vertices), GL_STATIC_DRAW);\r\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, elementArrayObject);\r\n        glBufferData(GL_ELEMENT_ARRAY_BUFFER, flippedBuffer(indices), GL_STATIC_DRAW);\r\n        glVertexAttribPointer(0, positionSize, GL_FLOAT, false, vertexSizeInBytes, 0);\r\n        glVertexAttribPointer(1, colorSize, GL_FLOAT, false, vertexSizeInBytes, (long) positionSize * floatSizeInBytes);\r\n        glEnableVertexAttribArray(0);\r\n        glEnableVertexAttribArray(1);\r\n\r\n        glBindVertexArray(0);\r\n    }\r\n\r\n    public void render() {\r\n        bind();\r\n\r\n        glDrawElements(GL_TRIANGLES, vertexCount, GL_UNSIGNED_INT, 0);\r\n\r\n        unbind();\r\n        System.out.println(&quot;Rendered&quot;);\r\n    }\r\n\r\n    public void clear() {\r\n        glDeleteBuffers(vertexBufferObject);\r\n        glDeleteVertexArrays(vertexArrayObject);\r\n\r\n        shader.unbind();\r\n    }\r\n\r\n    public void bind() {\r\n        glBindVertexArray(vertexArrayObject);\r\n\r\n        glBindBuffer(GL_ARRAY_BUFFER, vertexBufferObject);\r\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, elementArrayObject);\r\n    }\r\n\r\n    public void unbind() {\r\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\r\n\r\n        glBindVertexArray(0);\r\n    }\r\n\r\n    public void stop() {\r\n        glDisableVertexAttribArray(0);\r\n        glDisableVertexAttribArray(1);\r\n\r\n        glBindVertexArray(0);\r\n        shader.unbind();\r\n    }\r\n\r\n    public void setShader(Shader shader) {\r\n        try {\r\n            stop();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Shader could not be stopped or not running&quot;);\r\n            e.printStackTrace();\r\n        }\r\n        this.shader = shader;\r\n        this.shader.bind();\r\n    }\r\n\r\n    public int getVertexArrayObject() {\r\n        return vertexArrayObject;\r\n    }\r\n\r\n    public int getVertexBufferObject() {\r\n        return vertexBufferObject;\r\n    }\r\n\r\n    public int getVertexCount() {\r\n        return vertexCount;\r\n    }\r\n\r\n    public int getElementArrayObject() {\r\n        return elementArrayObject;\r\n    }\r\n\r\n    public FloatBuffer flippedBuffer(Vertex[] vertices) {\r\n        FloatBuffer buffer = FloatBuffer.allocate(vertices.length * 7);\r\n        for (Vertex vertex : vertices) {\r\n            buffer.put(vertex.getPosition().coordinateArray());\r\n            buffer.put(vertex.getColor().coordinateArray());\r\n        }\r\n        buffer.flip();\r\n        return buffer;\r\n    }\r\n\r\n    public IntBuffer flippedBuffer(int[] elements) {\r\n        IntBuffer buffer = IntBuffer.allocate(elements.length);\r\n        for (int element : elements) {\r\n            buffer.put(element);\r\n        }\r\n        buffer.flip();\r\n        return buffer;\r\n    }\r\n}\r\n```\r\nShader code:\r\n```\r\npackage graphics;\r\n\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n\r\nimport static org.lwjgl.opengl.GL33.*;\r\n\r\npublic class Shader {\r\n\r\n    private int shaderProgrammeID;\r\n\r\n    private String vertexSource;\r\n    private String fragmentSource;\r\n    private final String filePath;\r\n\r\n    public Shader(String filePath) {\r\n        this.filePath = filePath;\r\n        try {\r\n            String source = new String(Files.readAllBytes(Paths.get(filePath)));\r\n            String[] splitString = source.split(&quot;(//type)( )+([a-zA-Z]+)&quot;);\r\n\r\n            int index = source.indexOf(&quot;//type&quot;) + 6;\r\n            int endOfLine = source.indexOf(&quot;\\r\\n&quot;, index);\r\n            String firstPattern = source.substring(index, endOfLine).trim();\r\n\r\n            index = source.indexOf(&quot;//type&quot;, endOfLine) + 6;\r\n            endOfLine = source.indexOf(&quot;\\r\\n&quot;, index);\r\n            String secondPattern = source.substring(index, endOfLine).trim();\r\n\r\n            if (firstPattern.equals(&quot;vertex&quot;)) {\r\n                vertexSource = splitString[1];\r\n            } else if (firstPattern.equals(&quot;fragment&quot;)) {\r\n                fragmentSource = splitString[1];\r\n            } else {\r\n                throw new IOException(&quot;Unexpected shader type &quot; + firstPattern + &quot;&#39;&quot;);\r\n            }\r\n\r\n            if (secondPattern.equals(&quot;vertex&quot;)) {\r\n                vertexSource = splitString[2];\r\n            } else if (secondPattern.equals(&quot;fragment&quot;)) {\r\n                fragmentSource = splitString[2];\r\n            } else {\r\n                throw new IOException(&quot;Unexpected shader type &quot; + secondPattern + &quot;&#39;&quot;);\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            assert false : &quot;Error: Could not Open Shader&quot; + filePath + &quot;&#39;&quot;;\r\n        }\r\n    }\r\n\r\n    public void compileAndLink() {\r\n        int vertexID;\r\n        int fragmentID;\r\n\r\n        vertexID = glCreateShader(GL_VERTEX_SHADER);\r\n        glShaderSource(vertexID, vertexSource);\r\n        glCompileShader(vertexID);\r\n\r\n        if (glGetShaderi(vertexID, GL_COMPILE_STATUS) == GL_FALSE) {\r\n            System.out.println(&quot;ERROR: vertex shader - &quot; + filePath + &quot;could not be be compiled&quot;);\r\n            System.out.println(glGetShaderInfoLog(vertexID, glGetShaderi(vertexID, GL_INFO_LOG_LENGTH)));\r\n            assert false : &quot;&quot;;\r\n        }\r\n\r\n        fragmentID = glCreateShader(GL_FRAGMENT_SHADER);\r\n        glShaderSource(fragmentID, fragmentSource);\r\n        glCompileShader(fragmentID);\r\n\r\n        if (glGetShaderi(fragmentID, GL_COMPILE_STATUS) == GL_FALSE) {\r\n            System.out.println(&quot;ERROR: fragment shader - &quot; + filePath + &quot;could not be be compiled&quot;);\r\n            System.out.println(glGetShaderInfoLog(fragmentID, glGetShaderi(fragmentID, GL_INFO_LOG_LENGTH)));\r\n            assert false : &quot;&quot;;\r\n        }\r\n\r\n        this.shaderProgrammeID = glCreateProgram();\r\n        glAttachShader(this.shaderProgrammeID, vertexID);\r\n        glAttachShader(this.shaderProgrammeID, fragmentID);\r\n        glLinkProgram(this.shaderProgrammeID);\r\n\r\n        if (glGetProgrami(this.shaderProgrammeID, GL_LINK_STATUS) == GL_FALSE) {\r\n            System.out.println(&quot;ERROR: &quot; + filePath + &quot; shaders could not be linked&quot;);\r\n            System.out.println(glGetProgramInfoLog(this.shaderProgrammeID, glGetProgrami(fragmentID, GL_INFO_LOG_LENGTH)));\r\n            assert false : &quot;&quot;;\r\n        }\r\n        System.out.println(&quot;Shader &quot; + filePath + &quot; compiled and linked successfully&quot;);\r\n    }\r\n\r\n    public void bind() {\r\n        glUseProgram(shaderProgrammeID);\r\n    }\r\n\r\n    public void unbind() {\r\n        glUseProgram(0);\r\n    }\r\n}\r\n\r\n```\r\nHere is the renderer object, I use this to encapsulate Meshes to render them.\r\n```\r\npackage graphics;\r\n\r\nimport java.util.HashSet;\r\n\r\nimport static org.lwjgl.opengl.GL33.*;\r\n\r\npublic class Renderer {\r\n\r\n    private final HashSet&lt;Mesh&gt; meshes;\r\n\r\n    public Renderer() {\r\n        meshes = new HashSet&lt;&gt;();\r\n    }\r\n\r\n    public void init() {\r\n        glEnable(GL_DEPTH_TEST);\r\n        glEnable(GL_CULL_FACE);\r\n        glCullFace(GL_BACK);\r\n        glFrontFace(GL_CW);\r\n        glEnable(GL_BLEND);\r\n        glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\r\n        for (Mesh mesh : meshes) {\r\n            mesh.init();\r\n        }\r\n    }\r\n\r\n    public void render() {\r\n        clear();\r\n        for (Mesh mesh : meshes) {\r\n            mesh.render();\r\n        }\r\n    }\r\n\r\n    public void addMesh(Mesh mesh) {\r\n        meshes.add(mesh);\r\n    }\r\n\r\n    public void removeMesh(Mesh mesh) {\r\n        meshes.remove(mesh);\r\n    }\r\n\r\n    public void clear() {\r\n        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\r\n    }\r\n\r\n    public void destroy() {\r\n        for (Mesh mesh : meshes) {\r\n            mesh.unbind();\r\n            mesh.clear();\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nEngine code:\r\n```\r\npackage core;\r\n\r\nimport graphics.Mesh;\r\nimport graphics.Renderer;\r\nimport io.Input;\r\nimport math.Vector4f;\r\nimport utils.Time;\r\n\r\npublic class Engine implements Runnable {\r\n\r\n\r\n    public static final int TARGET_FPS = 30;\r\n\r\n    private final Thread thread;\r\n    private final MainBehaviour behaviour;\r\n    private final Window window;\r\n\r\n\r\n    public Engine(Window window, MainBehaviour mainBehaviour) {\r\n        this.thread = new Thread(this, &quot;loop&quot;);\r\n        this.window = window;\r\n        this.behaviour = mainBehaviour;\r\n    }\r\n\r\n    public void init() throws Exception {\r\n        Time.init(TARGET_FPS);\r\n        window.init();\r\n        behaviour.init();\r\n    }\r\n\r\n    public void start() {\r\n        thread.start();\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        try {\r\n            init();\r\n            loop();\r\n            clear();\r\n        } catch (Exception exception) {\r\n            exception.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public void clear() {\r\n        behaviour.clear();\r\n        window.destroy();\r\n    }\r\n\r\n    private void update() {\r\n        behaviour.update();\r\n\r\n        /*Updating Time */\r\n        Time.updateFps();\r\n        Time.updateCycle();\r\n\r\n        /* Input handling */\r\n        Input.update();\r\n        window.update();\r\n    }\r\n\r\n    private void render() {\r\n        behaviour.render(window);\r\n    }\r\n\r\n    public void loop() {\r\n        while (window.isRunning()) {\r\n\r\n            /* Updating delta Time for correct interval Calculation */\r\n            Time.updateDeltaTime();\r\n\r\n            /* Rendering and actually updating Game */\r\n            while (Time.checkCycle()) {\r\n                update();\r\n            }\r\n\r\n            render();\r\n\r\n            System.out.println(Time.getFps());\r\n\r\n            if (!window.isVSync()) {\r\n                Time.sync();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nWindow code:\r\n```\r\npackage core;\r\n\r\nimport graphics.Renderer;\r\nimport io.Input;\r\nimport math.Vector4f;\r\nimport org.lwjgl.glfw.GLFWErrorCallback;\r\nimport org.lwjgl.glfw.GLFWVidMode;\r\nimport org.lwjgl.opengl.GL;\r\n\r\nimport static org.lwjgl.glfw.Callbacks.glfwFreeCallbacks;\r\nimport static org.lwjgl.glfw.GLFW.*;\r\nimport static org.lwjgl.opengl.GL11.GL_DEPTH_BUFFER_BIT;\r\nimport static org.lwjgl.opengl.GL11C.*;\r\nimport static org.lwjgl.system.MemoryUtil.NULL;\r\n\r\n\r\npublic class Window {\r\n    private final Vector4f color;\r\n    private int height;\r\n    private int width;\r\n    private long window;\r\n    private long monitor;\r\n    private boolean isFullScreen;\r\n    private boolean isVSync;\r\n    private String name;\r\n    private GLFWVidMode mode;\r\n    private final Renderer renderer;\r\n\r\n\r\n    public Window(int width, int height, String name, Vector4f color, boolean isVSync, Renderer renderer) {\r\n        this.height = height;\r\n        this.width = width;\r\n        this.name = name;\r\n        this.color = color;\r\n        this.isVSync = isVSync;\r\n        this.renderer = renderer;\r\n    }\r\n\r\n    public Window(int width, int height, String name, String monitor, Vector4f color, Renderer renderer) {\r\n        this.height = height;\r\n        this.width = width;\r\n        this.name = name;\r\n        this.color = color;\r\n        if (monitor.equals(&quot;primary&quot;)) {\r\n            this.monitor = glfwGetPrimaryMonitor();\r\n            mode = glfwGetVideoMode(glfwGetPrimaryMonitor());\r\n        }\r\n        this.renderer = renderer;\r\n    }\r\n\r\n    public Renderer getRenderer() {\r\n        return renderer;\r\n    }\r\n\r\n    public boolean isVSync() {\r\n        return isVSync;\r\n    }\r\n\r\n    public void setVSync(boolean vSync) {\r\n        this.isVSync = vSync;\r\n    }\r\n\r\n    public boolean isFullScreen() {\r\n        return isFullScreen;\r\n    }\r\n\r\n    public void setFullScreen(boolean fullScreen) {\r\n        isFullScreen = fullScreen;\r\n    }\r\n\r\n    public int getHeight() {\r\n        return height;\r\n    }\r\n\r\n    public void setHeight(int height) {\r\n        this.height = height;\r\n    }\r\n\r\n    public int getWidth() {\r\n        return width;\r\n    }\r\n\r\n    public void setWidth(int width) {\r\n        this.width = width;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void init() {\r\n        if (!glfwInit()) {\r\n            throw new IllegalStateException(&quot;GLFW not initialized or initialization failed&quot;);\r\n        } else {\r\n            GLFWErrorCallback.createPrint(System.err).set();\r\n            try {\r\n                if (monitor != NULL) {\r\n                    this.monitor = glfwGetPrimaryMonitor();\r\n                    mode = glfwGetVideoMode(glfwGetPrimaryMonitor());\r\n                    window = glfwCreateWindow(width, height, name, glfwGetPrimaryMonitor(), NULL);\r\n                    isFullScreen = true;\r\n                } else {\r\n                    window = glfwCreateWindow(width, height, name, NULL, NULL);\r\n                }\r\n                if (window == NULL) {\r\n                    throw new IllegalStateException(&quot;Failed to create the GLFW window&quot;);\r\n                }\r\n            } catch (RuntimeException e) {\r\n                System.out.println(e.getMessage());\r\n            }\r\n        }\r\n\r\n        GLFWErrorCallback.createPrint(System.err).set();\r\n\r\n        glfwDefaultWindowHints();\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 2);\r\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\r\n        glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n        glfwMakeContextCurrent(this.window);\r\n        GL.createCapabilities();\r\n        glfwShowWindow(window);\r\n\r\n        Input.init();\r\n        setupCallback();\r\n\r\n        renderer.init();\r\n    }\r\n\r\n    private void setupCallback() {\r\n        glfwSetKeyCallback(window, Input.getKeyboard());\r\n        glfwSetMouseButtonCallback(window, Input.getMbtn());\r\n        glfwSetCursorPosCallback(window, Input.getMouse());\r\n    }\r\n\r\n    public void destroy() {\r\n        renderer.destroy();\r\n        glfwFreeCallbacks(window);\r\n        glfwDestroyWindow(window);\r\n        glfwTerminate();\r\n    }\r\n\r\n    public void setWindowed(int width, int height, int x, int y) {\r\n        glfwSetWindowMonitor(window, NULL, x, y, width, height, mode.refreshRate());\r\n    }\r\n\r\n    public void fullScreenWindow() {\r\n        glfwSetWindowMonitor(window, NULL, 0, 0, mode.width(), mode.height(), mode.refreshRate());\r\n    }\r\n\r\n    public void fullScreen() {\r\n        glfwSetWindowMonitor(window, monitor, 0, 0, mode.width(), mode.height(), 0);\r\n    }\r\n\r\n    public void update() {\r\n        if (!isRunning()) {\r\n            destroy();\r\n            return;\r\n        }\r\n\r\n        renderer.render();\r\n\r\n        clear();\r\n        glfwSwapBuffers(window);\r\n        glfwPollEvents();\r\n\r\n    }\r\n\r\n    public void clear() {\r\n        glClearColor(color.x, color.y, color.z, color.w);\r\n        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\r\n    }\r\n\r\n    public boolean isRunning() {\r\n        return !glfwWindowShouldClose(window);\r\n    }\r\n\r\n}\r\n\r\n```\r\nI render in `update()`\r\n\r\nAnd the main class where I call the whole thing to run:\r\n```\r\nimport core.Engine;\r\nimport core.MainBehaviour;\r\nimport core.Window;\r\nimport graphics.Mesh;\r\nimport graphics.Renderer;\r\nimport graphics.Shader;\r\nimport graphics.Vertex;\r\nimport io.Input;\r\nimport math.Vector3f;\r\nimport math.Vector4f;\r\n\r\nimport static org.lwjgl.glfw.GLFW.GLFW_KEY_SPACE;\r\n\r\npublic class Preview {\r\n    public static void main(String[] args) {\r\n                MainBehaviour game = new MainBehaviour() {\r\n            @Override\r\n            public void init() throws Exception {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void update() {\r\n                if (Input.isKeyDown(GLFW_KEY_SPACE))\r\n                    System.out.println(&quot;Space button pushed&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void render(Window window) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void clear() {\r\n\r\n            }\r\n        };\r\n\r\n        Vertex[] vertices = new Vertex[]{\r\n                new Vertex(new Vector3f(-1f, -1f, 0f), new Vector4f(1f, 0f, 0f, 1f)),\r\n                new Vertex(new Vector3f(0f, 1f, 0f), new Vector4f(0f, 1f, 0f, 1f)),\r\n                new Vertex(new Vector3f(1f, -1f, 0f), new Vector4f(0f, 0f, 1f, 1f)),\r\n        };\r\n        int[] indices = new int[]{\r\n                0, 1, 2\r\n        };\r\n        Shader shader = new Shader(&quot;res/shaders/default.glsl&quot;);\r\n        Mesh mesh = new Mesh(vertices, indices, shader);\r\n        Renderer renderer = new Renderer();\r\n        renderer.addMesh(mesh);\r\n        Window window = new Window(500, 500, &quot;Preview&quot;, new Vector4f(0.5f, 0.5f, 0.5f, 1f), false, renderer);\r\n        Engine engine = new Engine(window, game);\r\n        engine.run();\r\n    }\r\n\r\n}\r\n```","title":"LWJGL 3 - After the shader is compiled and mesh is made, the triangle still doesn&#39;t draw","body":"<p>I am currently trying to make an engine by using LWJGL3, and I am having issues trying to render a triangle.</p>\n<p>I first make the window, make the window current context.\nThen I make the renderer, which has the meshes.\nMeshes have shaders attached to them. By <code>init()</code> the shaders compile and link.\nShader file (I have a parser, which takes fragment/vertex separately. The compilation completes without error, I do have error checking if it fails to compile).</p>\n<pre><code>#version 330\nlayout (location=0) in vec3 aPos;\nlayout (location=1) in vec4 aColor;\n\nout vec4 fragment;\n\nvoid main(){\n    fragment = aColor;\n    gl_Position = vec4(aPos,1.0);\n}\n//type fragment\n#version 330\n\nin vec4 fColor;\n\nout vec4 color;\n\nvoid main(){\n    color = fColor;\n}\n</code></pre>\n<p>After this, I try to draw the mesh, it succeeds so, but in the window, I only get a gray color, which is a color I passed as an argument to start the window by that color.</p>\n<p>Where could I be going wrong?</p>\n<p>Mesh code:</p>\n<pre><code>package graphics;\n\nimport java.nio.FloatBuffer;\nimport java.nio.IntBuffer;\n\nimport static org.lwjgl.opengl.GL33.*;\n\npublic class Mesh {\n    int positionSize = 3;\n    int colorSize = 4;\n    int floatSizeInBytes = 4;\n    int vertexSizeInBytes = (positionSize + colorSize) * floatSizeInBytes;\n\n    private final Vertex[] vertices;\n    private final int[] indices;\n\n    private int vertexArrayObject;\n    private int vertexBufferObject;\n    private int elementArrayObject;\n    private int vertexCount;\n    private Shader shader;\n\n    public Mesh(Vertex[] vertices, int[] indices, Shader shader) {\n        this.shader = shader;\n        this.vertices = vertices;\n        this.indices = indices;\n    }\n\n    public void init(){\n        this.shader.compileAndLink();\n        this.shader.bind();\n\n        vertexCount = indices.length;\n\n        vertexArrayObject = glGenVertexArrays();\n        vertexBufferObject = glGenBuffers();\n        elementArrayObject = glGenBuffers();\n\n        glBindVertexArray(vertexArrayObject);\n        glBindBuffer(GL_ARRAY_BUFFER, vertexBufferObject);\n        glBufferData(GL_ARRAY_BUFFER, flippedBuffer(vertices), GL_STATIC_DRAW);\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, elementArrayObject);\n        glBufferData(GL_ELEMENT_ARRAY_BUFFER, flippedBuffer(indices), GL_STATIC_DRAW);\n        glVertexAttribPointer(0, positionSize, GL_FLOAT, false, vertexSizeInBytes, 0);\n        glVertexAttribPointer(1, colorSize, GL_FLOAT, false, vertexSizeInBytes, (long) positionSize * floatSizeInBytes);\n        glEnableVertexAttribArray(0);\n        glEnableVertexAttribArray(1);\n\n        glBindVertexArray(0);\n    }\n\n    public void render() {\n        bind();\n\n        glDrawElements(GL_TRIANGLES, vertexCount, GL_UNSIGNED_INT, 0);\n\n        unbind();\n        System.out.println(&quot;Rendered&quot;);\n    }\n\n    public void clear() {\n        glDeleteBuffers(vertexBufferObject);\n        glDeleteVertexArrays(vertexArrayObject);\n\n        shader.unbind();\n    }\n\n    public void bind() {\n        glBindVertexArray(vertexArrayObject);\n\n        glBindBuffer(GL_ARRAY_BUFFER, vertexBufferObject);\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, elementArrayObject);\n    }\n\n    public void unbind() {\n        glBindBuffer(GL_ARRAY_BUFFER, 0);\n        glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, 0);\n\n        glBindVertexArray(0);\n    }\n\n    public void stop() {\n        glDisableVertexAttribArray(0);\n        glDisableVertexAttribArray(1);\n\n        glBindVertexArray(0);\n        shader.unbind();\n    }\n\n    public void setShader(Shader shader) {\n        try {\n            stop();\n        } catch (Exception e) {\n            System.out.println(&quot;Shader could not be stopped or not running&quot;);\n            e.printStackTrace();\n        }\n        this.shader = shader;\n        this.shader.bind();\n    }\n\n    public int getVertexArrayObject() {\n        return vertexArrayObject;\n    }\n\n    public int getVertexBufferObject() {\n        return vertexBufferObject;\n    }\n\n    public int getVertexCount() {\n        return vertexCount;\n    }\n\n    public int getElementArrayObject() {\n        return elementArrayObject;\n    }\n\n    public FloatBuffer flippedBuffer(Vertex[] vertices) {\n        FloatBuffer buffer = FloatBuffer.allocate(vertices.length * 7);\n        for (Vertex vertex : vertices) {\n            buffer.put(vertex.getPosition().coordinateArray());\n            buffer.put(vertex.getColor().coordinateArray());\n        }\n        buffer.flip();\n        return buffer;\n    }\n\n    public IntBuffer flippedBuffer(int[] elements) {\n        IntBuffer buffer = IntBuffer.allocate(elements.length);\n        for (int element : elements) {\n            buffer.put(element);\n        }\n        buffer.flip();\n        return buffer;\n    }\n}\n</code></pre>\n<p>Shader code:</p>\n<pre><code>package graphics;\n\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\nimport static org.lwjgl.opengl.GL33.*;\n\npublic class Shader {\n\n    private int shaderProgrammeID;\n\n    private String vertexSource;\n    private String fragmentSource;\n    private final String filePath;\n\n    public Shader(String filePath) {\n        this.filePath = filePath;\n        try {\n            String source = new String(Files.readAllBytes(Paths.get(filePath)));\n            String[] splitString = source.split(&quot;(//type)( )+([a-zA-Z]+)&quot;);\n\n            int index = source.indexOf(&quot;//type&quot;) + 6;\n            int endOfLine = source.indexOf(&quot;\\r\\n&quot;, index);\n            String firstPattern = source.substring(index, endOfLine).trim();\n\n            index = source.indexOf(&quot;//type&quot;, endOfLine) + 6;\n            endOfLine = source.indexOf(&quot;\\r\\n&quot;, index);\n            String secondPattern = source.substring(index, endOfLine).trim();\n\n            if (firstPattern.equals(&quot;vertex&quot;)) {\n                vertexSource = splitString[1];\n            } else if (firstPattern.equals(&quot;fragment&quot;)) {\n                fragmentSource = splitString[1];\n            } else {\n                throw new IOException(&quot;Unexpected shader type &quot; + firstPattern + &quot;'&quot;);\n            }\n\n            if (secondPattern.equals(&quot;vertex&quot;)) {\n                vertexSource = splitString[2];\n            } else if (secondPattern.equals(&quot;fragment&quot;)) {\n                fragmentSource = splitString[2];\n            } else {\n                throw new IOException(&quot;Unexpected shader type &quot; + secondPattern + &quot;'&quot;);\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n            assert false : &quot;Error: Could not Open Shader&quot; + filePath + &quot;'&quot;;\n        }\n    }\n\n    public void compileAndLink() {\n        int vertexID;\n        int fragmentID;\n\n        vertexID = glCreateShader(GL_VERTEX_SHADER);\n        glShaderSource(vertexID, vertexSource);\n        glCompileShader(vertexID);\n\n        if (glGetShaderi(vertexID, GL_COMPILE_STATUS) == GL_FALSE) {\n            System.out.println(&quot;ERROR: vertex shader - &quot; + filePath + &quot;could not be be compiled&quot;);\n            System.out.println(glGetShaderInfoLog(vertexID, glGetShaderi(vertexID, GL_INFO_LOG_LENGTH)));\n            assert false : &quot;&quot;;\n        }\n\n        fragmentID = glCreateShader(GL_FRAGMENT_SHADER);\n        glShaderSource(fragmentID, fragmentSource);\n        glCompileShader(fragmentID);\n\n        if (glGetShaderi(fragmentID, GL_COMPILE_STATUS) == GL_FALSE) {\n            System.out.println(&quot;ERROR: fragment shader - &quot; + filePath + &quot;could not be be compiled&quot;);\n            System.out.println(glGetShaderInfoLog(fragmentID, glGetShaderi(fragmentID, GL_INFO_LOG_LENGTH)));\n            assert false : &quot;&quot;;\n        }\n\n        this.shaderProgrammeID = glCreateProgram();\n        glAttachShader(this.shaderProgrammeID, vertexID);\n        glAttachShader(this.shaderProgrammeID, fragmentID);\n        glLinkProgram(this.shaderProgrammeID);\n\n        if (glGetProgrami(this.shaderProgrammeID, GL_LINK_STATUS) == GL_FALSE) {\n            System.out.println(&quot;ERROR: &quot; + filePath + &quot; shaders could not be linked&quot;);\n            System.out.println(glGetProgramInfoLog(this.shaderProgrammeID, glGetProgrami(fragmentID, GL_INFO_LOG_LENGTH)));\n            assert false : &quot;&quot;;\n        }\n        System.out.println(&quot;Shader &quot; + filePath + &quot; compiled and linked successfully&quot;);\n    }\n\n    public void bind() {\n        glUseProgram(shaderProgrammeID);\n    }\n\n    public void unbind() {\n        glUseProgram(0);\n    }\n}\n\n</code></pre>\n<p>Here is the renderer object, I use this to encapsulate Meshes to render them.</p>\n<pre><code>package graphics;\n\nimport java.util.HashSet;\n\nimport static org.lwjgl.opengl.GL33.*;\n\npublic class Renderer {\n\n    private final HashSet&lt;Mesh&gt; meshes;\n\n    public Renderer() {\n        meshes = new HashSet&lt;&gt;();\n    }\n\n    public void init() {\n        glEnable(GL_DEPTH_TEST);\n        glEnable(GL_CULL_FACE);\n        glCullFace(GL_BACK);\n        glFrontFace(GL_CW);\n        glEnable(GL_BLEND);\n        glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);\n        for (Mesh mesh : meshes) {\n            mesh.init();\n        }\n    }\n\n    public void render() {\n        clear();\n        for (Mesh mesh : meshes) {\n            mesh.render();\n        }\n    }\n\n    public void addMesh(Mesh mesh) {\n        meshes.add(mesh);\n    }\n\n    public void removeMesh(Mesh mesh) {\n        meshes.remove(mesh);\n    }\n\n    public void clear() {\n        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n    }\n\n    public void destroy() {\n        for (Mesh mesh : meshes) {\n            mesh.unbind();\n            mesh.clear();\n        }\n    }\n}\n\n</code></pre>\n<p>Engine code:</p>\n<pre><code>package core;\n\nimport graphics.Mesh;\nimport graphics.Renderer;\nimport io.Input;\nimport math.Vector4f;\nimport utils.Time;\n\npublic class Engine implements Runnable {\n\n\n    public static final int TARGET_FPS = 30;\n\n    private final Thread thread;\n    private final MainBehaviour behaviour;\n    private final Window window;\n\n\n    public Engine(Window window, MainBehaviour mainBehaviour) {\n        this.thread = new Thread(this, &quot;loop&quot;);\n        this.window = window;\n        this.behaviour = mainBehaviour;\n    }\n\n    public void init() throws Exception {\n        Time.init(TARGET_FPS);\n        window.init();\n        behaviour.init();\n    }\n\n    public void start() {\n        thread.start();\n    }\n\n    @Override\n    public void run() {\n        try {\n            init();\n            loop();\n            clear();\n        } catch (Exception exception) {\n            exception.printStackTrace();\n        }\n    }\n\n    public void clear() {\n        behaviour.clear();\n        window.destroy();\n    }\n\n    private void update() {\n        behaviour.update();\n\n        /*Updating Time */\n        Time.updateFps();\n        Time.updateCycle();\n\n        /* Input handling */\n        Input.update();\n        window.update();\n    }\n\n    private void render() {\n        behaviour.render(window);\n    }\n\n    public void loop() {\n        while (window.isRunning()) {\n\n            /* Updating delta Time for correct interval Calculation */\n            Time.updateDeltaTime();\n\n            /* Rendering and actually updating Game */\n            while (Time.checkCycle()) {\n                update();\n            }\n\n            render();\n\n            System.out.println(Time.getFps());\n\n            if (!window.isVSync()) {\n                Time.sync();\n            }\n        }\n    }\n}\n</code></pre>\n<p>Window code:</p>\n<pre><code>package core;\n\nimport graphics.Renderer;\nimport io.Input;\nimport math.Vector4f;\nimport org.lwjgl.glfw.GLFWErrorCallback;\nimport org.lwjgl.glfw.GLFWVidMode;\nimport org.lwjgl.opengl.GL;\n\nimport static org.lwjgl.glfw.Callbacks.glfwFreeCallbacks;\nimport static org.lwjgl.glfw.GLFW.*;\nimport static org.lwjgl.opengl.GL11.GL_DEPTH_BUFFER_BIT;\nimport static org.lwjgl.opengl.GL11C.*;\nimport static org.lwjgl.system.MemoryUtil.NULL;\n\n\npublic class Window {\n    private final Vector4f color;\n    private int height;\n    private int width;\n    private long window;\n    private long monitor;\n    private boolean isFullScreen;\n    private boolean isVSync;\n    private String name;\n    private GLFWVidMode mode;\n    private final Renderer renderer;\n\n\n    public Window(int width, int height, String name, Vector4f color, boolean isVSync, Renderer renderer) {\n        this.height = height;\n        this.width = width;\n        this.name = name;\n        this.color = color;\n        this.isVSync = isVSync;\n        this.renderer = renderer;\n    }\n\n    public Window(int width, int height, String name, String monitor, Vector4f color, Renderer renderer) {\n        this.height = height;\n        this.width = width;\n        this.name = name;\n        this.color = color;\n        if (monitor.equals(&quot;primary&quot;)) {\n            this.monitor = glfwGetPrimaryMonitor();\n            mode = glfwGetVideoMode(glfwGetPrimaryMonitor());\n        }\n        this.renderer = renderer;\n    }\n\n    public Renderer getRenderer() {\n        return renderer;\n    }\n\n    public boolean isVSync() {\n        return isVSync;\n    }\n\n    public void setVSync(boolean vSync) {\n        this.isVSync = vSync;\n    }\n\n    public boolean isFullScreen() {\n        return isFullScreen;\n    }\n\n    public void setFullScreen(boolean fullScreen) {\n        isFullScreen = fullScreen;\n    }\n\n    public int getHeight() {\n        return height;\n    }\n\n    public void setHeight(int height) {\n        this.height = height;\n    }\n\n    public int getWidth() {\n        return width;\n    }\n\n    public void setWidth(int width) {\n        this.width = width;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void init() {\n        if (!glfwInit()) {\n            throw new IllegalStateException(&quot;GLFW not initialized or initialization failed&quot;);\n        } else {\n            GLFWErrorCallback.createPrint(System.err).set();\n            try {\n                if (monitor != NULL) {\n                    this.monitor = glfwGetPrimaryMonitor();\n                    mode = glfwGetVideoMode(glfwGetPrimaryMonitor());\n                    window = glfwCreateWindow(width, height, name, glfwGetPrimaryMonitor(), NULL);\n                    isFullScreen = true;\n                } else {\n                    window = glfwCreateWindow(width, height, name, NULL, NULL);\n                }\n                if (window == NULL) {\n                    throw new IllegalStateException(&quot;Failed to create the GLFW window&quot;);\n                }\n            } catch (RuntimeException e) {\n                System.out.println(e.getMessage());\n            }\n        }\n\n        GLFWErrorCallback.createPrint(System.err).set();\n\n        glfwDefaultWindowHints();\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 2);\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\n        glfwWindowHint(GLFW_OPENGL_FORWARD_COMPAT, GLFW_TRUE);\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        glfwMakeContextCurrent(this.window);\n        GL.createCapabilities();\n        glfwShowWindow(window);\n\n        Input.init();\n        setupCallback();\n\n        renderer.init();\n    }\n\n    private void setupCallback() {\n        glfwSetKeyCallback(window, Input.getKeyboard());\n        glfwSetMouseButtonCallback(window, Input.getMbtn());\n        glfwSetCursorPosCallback(window, Input.getMouse());\n    }\n\n    public void destroy() {\n        renderer.destroy();\n        glfwFreeCallbacks(window);\n        glfwDestroyWindow(window);\n        glfwTerminate();\n    }\n\n    public void setWindowed(int width, int height, int x, int y) {\n        glfwSetWindowMonitor(window, NULL, x, y, width, height, mode.refreshRate());\n    }\n\n    public void fullScreenWindow() {\n        glfwSetWindowMonitor(window, NULL, 0, 0, mode.width(), mode.height(), mode.refreshRate());\n    }\n\n    public void fullScreen() {\n        glfwSetWindowMonitor(window, monitor, 0, 0, mode.width(), mode.height(), 0);\n    }\n\n    public void update() {\n        if (!isRunning()) {\n            destroy();\n            return;\n        }\n\n        renderer.render();\n\n        clear();\n        glfwSwapBuffers(window);\n        glfwPollEvents();\n\n    }\n\n    public void clear() {\n        glClearColor(color.x, color.y, color.z, color.w);\n        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);\n    }\n\n    public boolean isRunning() {\n        return !glfwWindowShouldClose(window);\n    }\n\n}\n\n</code></pre>\n<p>I render in <code>update()</code></p>\n<p>And the main class where I call the whole thing to run:</p>\n<pre><code>import core.Engine;\nimport core.MainBehaviour;\nimport core.Window;\nimport graphics.Mesh;\nimport graphics.Renderer;\nimport graphics.Shader;\nimport graphics.Vertex;\nimport io.Input;\nimport math.Vector3f;\nimport math.Vector4f;\n\nimport static org.lwjgl.glfw.GLFW.GLFW_KEY_SPACE;\n\npublic class Preview {\n    public static void main(String[] args) {\n                MainBehaviour game = new MainBehaviour() {\n            @Override\n            public void init() throws Exception {\n\n            }\n\n            @Override\n            public void update() {\n                if (Input.isKeyDown(GLFW_KEY_SPACE))\n                    System.out.println(&quot;Space button pushed&quot;);\n            }\n\n            @Override\n            public void render(Window window) {\n\n            }\n\n            @Override\n            public void clear() {\n\n            }\n        };\n\n        Vertex[] vertices = new Vertex[]{\n                new Vertex(new Vector3f(-1f, -1f, 0f), new Vector4f(1f, 0f, 0f, 1f)),\n                new Vertex(new Vector3f(0f, 1f, 0f), new Vector4f(0f, 1f, 0f, 1f)),\n                new Vertex(new Vector3f(1f, -1f, 0f), new Vector4f(0f, 0f, 1f, 1f)),\n        };\n        int[] indices = new int[]{\n                0, 1, 2\n        };\n        Shader shader = new Shader(&quot;res/shaders/default.glsl&quot;);\n        Mesh mesh = new Mesh(vertices, indices, shader);\n        Renderer renderer = new Renderer();\n        renderer.addMesh(mesh);\n        Window window = new Window(500, 500, &quot;Preview&quot;, new Vector4f(0.5f, 0.5f, 0.5f, 1f), false, renderer);\n        Engine engine = new Engine(window, game);\n        engine.run();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jpa","h2"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1649694888,"post_id":71831258,"comment_id":126935898,"body_markdown":"Please add you TaxOfficeService definition also.","body":"Please add you TaxOfficeService definition also."},{"owner":{"account_id":4481977,"reputation":31,"user_id":3645803,"display_name":"Kayris"},"score":0,"creation_date":1649695221,"post_id":71831258,"comment_id":126936013,"body_markdown":"Added at the end of post","body":"Added at the end of post"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1649695442,"post_id":71831258,"comment_id":126936068,"body_markdown":"TaxOfficeRepository  is mocked in the test? if yes, then you have to say what happen.","body":"TaxOfficeRepository  is mocked in the test? if yes, then you have to say what happen."},{"owner":{"account_id":4481977,"reputation":31,"user_id":3645803,"display_name":"Kayris"},"score":0,"creation_date":1649695947,"post_id":71831258,"comment_id":126936254,"body_markdown":"It&#39;s not. There is only TaxOfficeService autowired in the test, but i tried to mock TaxOfficeRepository and there is no difference.","body":"It&#39;s not. There is only TaxOfficeService autowired in the test, but i tried to mock TaxOfficeRepository and there is no difference."}],"answers":[{"tags":[],"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649695659,"creation_date":1649695659,"answer_id":71831490,"question_id":71831258,"body_markdown":"Hibernate and Spring by default having naming strategies, which decide how the entity class must be compiled and the table and column names be generated. This can be customized as per use through application properties or hibernate configuration file.\r\n\r\neg\r\n```\r\nspring:\r\n  jpa:\r\n    hibernate:\r\n      naming:\r\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n        implicit-strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\r\n```","title":"Spring JPA H2 database get org.h2.jdbc.JdbcSQLSyntaxErrorException Table not found","body":"<p>Hibernate and Spring by default having naming strategies, which decide how the entity class must be compiled and the table and column names be generated. This can be customized as per use through application properties or hibernate configuration file.</p>\n<p>eg</p>\n<pre><code>spring:\n  jpa:\n    hibernate:\n      naming:\n        physical-strategy: org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n        implicit-strategy: org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl\n</code></pre>\n"}],"owner":{"account_id":4481977,"reputation":31,"user_id":3645803,"display_name":"Kayris"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71831490,"answer_count":1,"score":0,"last_activity_date":1649695659,"creation_date":1649694574,"question_id":71831258,"body_markdown":"I have a Spring boot Entity defined as :\r\n\r\n```lang-java\r\n@Data\r\n@Entity\r\n@Table(name = &quot;TaxOffice&quot;)\r\npublic class TaxOffice {\r\n\r\n    public TaxOffice(){}\r\n\r\n    public TaxOffice(int id, String name, int voivodeship_id){\r\n        this.id = id;\r\n        this.name = name;\r\n        this.voivodeship_id = voivodeship_id;\r\n      \r\n    }\r\n\r\n    @Id\r\n    private int id;\r\n\r\n    @Column(name=&quot;name&quot;)\r\n    private String name;\r\n\r\n    @Column(name=&quot;voivodeship_id&quot;)\r\n    private int voivodeship_id;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;city_id&quot;)\r\n    private City city;\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;details_id&quot;)\r\n    private TaxOffice_Detail taxOffice_details;\r\n}\r\n```\r\n\r\nIn application-test.properties, I have following settings:\r\n```\r\nspring.datasource.url=jdbc:h2:mem:TestDB;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\r\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\nspring.h2.console.enabled=true\r\nspring.jpa.hibernate.ddl-auto=none\r\nspring.jpa.defer-datasource-initialization=true\r\n```\r\n\r\nWhen I run this Test\r\n```lang-java\r\n    @Test\r\n    void  findAllByCity_idTest(){\r\n        assertEquals(1, taxOfficeService.findAllByCity_id(48).size());\r\n    }\r\n```\r\n\r\ni recieve this error:\r\n```\r\norg.h2.jdbc.JdbcSQLSyntaxErrorException: \r\nTable &quot;TAX_OFFICE&quot; not found; SQL statement:\r\n/* select t from TaxOffice t where t.city.id = :id */ select taxoffice0_.id as id1_1_, taxoffice0_.city_id as city_id4_1_, taxoffice0_.name as name2_1_, taxoffice0_.details_id as details_5_1_, taxoffice0_.voivodeship_id as voivodes3_1_ from tax_office taxoffice0_ where taxoffice0_.city_id=? [42102-210]\r\n```\r\n\r\nThere is no Table &quot;TAX_OFFICE&quot;, but there is &quot;TaxOffice&quot;, so why is it looking for &quot;TAX_OFFICE&quot;?\r\nWhy is this happening and how can i fix this?\r\n\r\n\r\nEdit: TaxService.java\r\n```lang-java\r\n@Transactional\r\n@Service\r\npublic class TaxOfficeService {\r\n\r\n    @Autowired\r\n    TaxOfficeRepository taxOfficeRepository;\r\n\r\n    public List&lt;TaxOffice&gt; findAllByCity_id(int id){\r\n        return taxOfficeRepository.findAllByCity_id(id);\r\n    }\r\n\r\n}\r\n```\r\n\r\nTaxOfficeRepository\r\n```lang-java\r\n@Repository(&quot;taxOfficeRepository&quot;)\r\npublic interface TaxOfficeRepository extends JpaRepository&lt;TaxOffice,Integer&gt; {\r\n\r\n    @Query(&quot;select t from TaxOffice t where t.city.id = :id&quot;)\r\n    List&lt;TaxOffice&gt; findAllByCity_id(int id);\r\n}\r\n```","title":"Spring JPA H2 database get org.h2.jdbc.JdbcSQLSyntaxErrorException Table not found","body":"<p>I have a Spring boot Entity defined as :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@Entity\n@Table(name = &quot;TaxOffice&quot;)\npublic class TaxOffice {\n\n    public TaxOffice(){}\n\n    public TaxOffice(int id, String name, int voivodeship_id){\n        this.id = id;\n        this.name = name;\n        this.voivodeship_id = voivodeship_id;\n      \n    }\n\n    @Id\n    private int id;\n\n    @Column(name=&quot;name&quot;)\n    private String name;\n\n    @Column(name=&quot;voivodeship_id&quot;)\n    private int voivodeship_id;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;city_id&quot;)\n    private City city;\n\n    @OneToOne\n    @JoinColumn(name = &quot;details_id&quot;)\n    private TaxOffice_Detail taxOffice_details;\n}\n</code></pre>\n<p>In application-test.properties, I have following settings:</p>\n<pre><code>spring.datasource.url=jdbc:h2:mem:TestDB;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nspring.jpa.hibernate.ddl-auto=none\nspring.jpa.defer-datasource-initialization=true\n</code></pre>\n<p>When I run this Test</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Test\n    void  findAllByCity_idTest(){\n        assertEquals(1, taxOfficeService.findAllByCity_id(48).size());\n    }\n</code></pre>\n<p>i recieve this error:</p>\n<pre><code>org.h2.jdbc.JdbcSQLSyntaxErrorException: \nTable &quot;TAX_OFFICE&quot; not found; SQL statement:\n/* select t from TaxOffice t where t.city.id = :id */ select taxoffice0_.id as id1_1_, taxoffice0_.city_id as city_id4_1_, taxoffice0_.name as name2_1_, taxoffice0_.details_id as details_5_1_, taxoffice0_.voivodeship_id as voivodes3_1_ from tax_office taxoffice0_ where taxoffice0_.city_id=? [42102-210]\n</code></pre>\n<p>There is no Table &quot;TAX_OFFICE&quot;, but there is &quot;TaxOffice&quot;, so why is it looking for &quot;TAX_OFFICE&quot;?\nWhy is this happening and how can i fix this?</p>\n<p>Edit: TaxService.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\n@Service\npublic class TaxOfficeService {\n\n    @Autowired\n    TaxOfficeRepository taxOfficeRepository;\n\n    public List&lt;TaxOffice&gt; findAllByCity_id(int id){\n        return taxOfficeRepository.findAllByCity_id(id);\n    }\n\n}\n</code></pre>\n<p>TaxOfficeRepository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository(&quot;taxOfficeRepository&quot;)\npublic interface TaxOfficeRepository extends JpaRepository&lt;TaxOffice,Integer&gt; {\n\n    @Query(&quot;select t from TaxOffice t where t.city.id = :id&quot;)\n    List&lt;TaxOffice&gt; findAllByCity_id(int id);\n}\n</code></pre>\n"},{"tags":["java","ssl","tls1.2","wireshark","activemq-artemis"],"comments":[{"owner":{"account_id":2674000,"reputation":103,"user_id":2310790,"display_name":"Sai Prasad Sabeson"},"score":0,"creation_date":1648928298,"post_id":71717739,"comment_id":126748816,"body_markdown":"Have you tried adding the Public Key to your java truststore ?","body":"Have you tried adding the Public Key to your java truststore ?"},{"owner":{"account_id":11457577,"reputation":920,"user_id":8398116,"display_name":"Abhilash Gopalakrishna"},"score":0,"creation_date":1648929570,"post_id":71717739,"comment_id":126749059,"body_markdown":"@SaiPrasadSabeson yes it is added. Also curl is going through. If the issues was an invalid cert , curl would also fail.","body":"@SaiPrasadSabeson yes it is added. Also curl is going through. If the issues was an invalid cert , curl would also fail."},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1648930244,"post_id":71717739,"comment_id":126749209,"body_markdown":"Have you tried your setup against a local instance of ActiveMQ Artemis that would be simpler to configure and inspect?","body":"Have you tried your setup against a local instance of ActiveMQ Artemis that would be simpler to configure and inspect?"},{"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1648930262,"post_id":71717739,"comment_id":126749213,"body_markdown":"What version of ActiveMQ Artemis are you using?","body":"What version of ActiveMQ Artemis are you using?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1648948062,"post_id":71717739,"comment_id":126751678,"body_markdown":"Can you temporarily turn on SSL logging on the server side?  That will give you the server&#39;s reasons for breaking off the negotiation.  See https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html","body":"Can you temporarily turn on SSL logging on the server side?  That will give you the server&#39;s reasons for breaking off the negotiation.  See <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/security/jsse/ReadDebug.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/technotes/guides/security/jsse&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":1,"creation_date":1648970078,"post_id":71717739,"comment_id":126754030,"body_markdown":"&quot;Sequence tag error&quot; speaks to an ASN.1 parsing error, so it could be worth trying to parse the HSM certificate in a standalone Java program. BTW do you have the full stack trace for that IOException?","body":"&quot;Sequence tag error&quot; speaks to an ASN.1 parsing error, so it could be worth trying to parse the HSM certificate in a standalone Java program. BTW do you have the full stack trace for that IOException?"},{"owner":{"account_id":11457577,"reputation":920,"user_id":8398116,"display_name":"Abhilash Gopalakrishna"},"score":0,"creation_date":1648971804,"post_id":71717739,"comment_id":126754312,"body_markdown":"@StephenC will do this and update the question","body":"@StephenC will do this and update the question"},{"owner":{"account_id":11457577,"reputation":920,"user_id":8398116,"display_name":"Abhilash Gopalakrishna"},"score":0,"creation_date":1648971822,"post_id":71717739,"comment_id":126754314,"body_markdown":"@PeterDettman unfortunately no, but I will try to get all the above logs and update the question","body":"@PeterDettman unfortunately no, but I will try to get all the above logs and update the question"},{"owner":{"account_id":11457577,"reputation":920,"user_id":8398116,"display_name":"Abhilash Gopalakrishna"},"score":0,"creation_date":1648976630,"post_id":71717739,"comment_id":126755134,"body_markdown":"@PeterDettman I tried parsing the x509 certs through a standalone java app, have updated the results in the question if it helps.","body":"@PeterDettman I tried parsing the x509 certs through a standalone java app, have updated the results in the question if it helps."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1648979249,"post_id":71717739,"comment_id":126755587,"body_markdown":"Your &#39;parsing&#39; app shows only the subject name. That&#39;s not the cert, that&#39;s a small fraction of it -- probably less than a tenth, maybe less than a twentieth. Get at least the suspect (HSM) cert in a file if it isn&#39;t already and try `keytool -printcert -file $filename` which will display _all_ the fixed fields and at least most extensions. However (@PeterDettman) this might be instead the encoding of the protocol signature in the CertVerify message, which should be DER (a sequence of two integers) but an HSM might do as P1363; the javax.net.debug trace would show that (as would the stack)","body":"Your &#39;parsing&#39; app shows only the subject name. That&#39;s not the cert, that&#39;s a small fraction of it -- probably less than a tenth, maybe less than a twentieth. Get at least the suspect (HSM) cert in a file if it isn&#39;t already and try <code>keytool -printcert -file $filename</code> which will display <i>all</i> the fixed fields and at least most extensions. However (@PeterDettman) this might be instead the encoding of the protocol signature in the CertVerify message, which should be DER (a sequence of two integers) but an HSM might do as P1363; the javax.net.debug trace would show that (as would the stack)"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1648979548,"post_id":71717739,"comment_id":126755631,"body_markdown":"@SaiPrasadSabeson There is no such thing as adding a public key to a truststore. Do you mean adding the *certificate?*","body":"@SaiPrasadSabeson There is no such thing as adding a public key to a truststore. Do you mean adding the <i>certificate?</i>"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1648981706,"post_id":71717739,"comment_id":126756039,"body_markdown":"What Java versions do you use on client and server side?","body":"What Java versions do you use on client and server side?"},{"owner":{"account_id":11457577,"reputation":920,"user_id":8398116,"display_name":"Abhilash Gopalakrishna"},"score":0,"creation_date":1648982624,"post_id":71717739,"comment_id":126756202,"body_markdown":"@Robert using Java 11 on server side. Client is not Java, it&#39;s a rust client.","body":"@Robert using Java 11 on server side. Client is not Java, it&#39;s a rust client."},{"owner":{"account_id":11457577,"reputation":920,"user_id":8398116,"display_name":"Abhilash Gopalakrishna"},"score":0,"creation_date":1648982653,"post_id":71717739,"comment_id":126756211,"body_markdown":"@dave_thompson_085 got it, I have the HSM cert in a file and able to see the cert as well. The public key is ecdsa sha256. The CN appears same when I use openssl to display the cert, but only wireshark shows the teletextstring and utf-8 encoding difference.","body":"@dave_thompson_085 got it, I have the HSM cert in a file and able to see the cert as well. The public key is ecdsa sha256. The CN appears same when I use openssl to display the cert, but only wireshark shows the teletextstring and utf-8 encoding difference."},{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":0,"creation_date":1648984900,"post_id":71717739,"comment_id":126756609,"body_markdown":"I think @dave_thompson_085 may be onto something; what is the rust client software (rustls?) and what code are you using to generate the client authentication signature from your HSM? Also, is this done in a callback from the TLS software somehow? - give details, please.","body":"I think @dave_thompson_085 may be onto something; what is the rust client software (rustls?) and what code are you using to generate the client authentication signature from your HSM? Also, is this done in a callback from the TLS software somehow? - give details, please."},{"owner":{"account_id":11457577,"reputation":920,"user_id":8398116,"display_name":"Abhilash Gopalakrishna"},"score":0,"creation_date":1649281482,"post_id":71717739,"comment_id":126839428,"body_markdown":"@dave_thompson_085 your hunch looks to be right, have added detailed server logs, I am not really sure what this implies, I understand I am using ecdsa , but not sure what the sequence tag error means.","body":"@dave_thompson_085 your hunch looks to be right, have added detailed server logs, I am not really sure what this implies, I understand I am using ecdsa , but not sure what the sequence tag error means."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649305765,"creation_date":1649305765,"answer_id":71776351,"question_id":71717739,"body_markdown":"&gt; The signing is handed over to the rustls library. There is a custom function that uses the HSM private key to sign the digest as required.  \r\nexample signature: 0349003046022100838bde8a902f9ebb18cdd9bc5af263dc978a670d95770c11e2e8d29e3c7b2c28022100d345fa7245fb34c8cf710958da80a638c598c44e2cbd724571dfd9e9ade95008\r\n\r\nAssuming you are displaying hex for data that is actually binary, that is _almost_ correct. Dehexed it is actually a valid (or at least validly formatted) [Ecdsa-Sig](https://datatracker.ietf.org/doc/html/rfc3279#section-2.2.3) for a 256-bit curve such as P-256, _embedded in a (ASN.1) BITSTRING_. \r\nSpecifically 03 49 00 is the tag and length for a BITSTRING containing 72 bytes with no unused/extra bits. Those 72 bytes consist of 30 46 02 21 (33bytes) 02 21 (33bytes) which is the correct encoding of: a constructed SEQUENCE (tag 0x10 plus 0x20) with value length 70 bytes, containing two primitive INTEGER items (tag 0x02) each with value length 33 bytes.\r\n\r\n**Whatever code is building the CertificateVerify message should remove the first 3 bytes and use the rest.** It needs to handle varying lengths; at _most_ the DER signature will be 72 bytes as in this example, but often it will be 71 or 70 bytes instead, and occasionally but rarely even less.\r\nCompare https://stackoverflow.com/questions/71621259/openssl-rust-crate-ecdsa-signature-size-is-not-64-bytes and (as linked there) https://stackoverflow.com/questions/48177791/how-to-specify-signature-length-for-java-security-signature-sign-method also (my) https://stackoverflow.com/questions/52134521/javas-bouncycastle-doesnt-always-verify-openssl-ecdsa-signature .\r\n\r\n(PS: the ClientKeyExchange message is irrelevant here. Client signature is always in the CertVerify message. For _server_ below TLS1.3, the signature does go in ServerKeyExchange, but that&#39;s not relevant to your case.) \r\n","title":"TLS 1.2 handhsake failing with Handshake failure error","body":"<blockquote>\n<p>The signing is handed over to the rustls library. There is a custom function that uses the HSM private key to sign the digest as required.<br />\nexample signature: 0349003046022100838bde8a902f9ebb18cdd9bc5af263dc978a670d95770c11e2e8d29e3c7b2c28022100d345fa7245fb34c8cf710958da80a638c598c44e2cbd724571dfd9e9ade95008</p>\n</blockquote>\n<p>Assuming you are displaying hex for data that is actually binary, that is <em>almost</em> correct. Dehexed it is actually a valid (or at least validly formatted) <a href=\"https://datatracker.ietf.org/doc/html/rfc3279#section-2.2.3\" rel=\"nofollow noreferrer\">Ecdsa-Sig</a> for a 256-bit curve such as P-256, <em>embedded in a (ASN.1) BITSTRING</em>.\nSpecifically 03 49 00 is the tag and length for a BITSTRING containing 72 bytes with no unused/extra bits. Those 72 bytes consist of 30 46 02 21 (33bytes) 02 21 (33bytes) which is the correct encoding of: a constructed SEQUENCE (tag 0x10 plus 0x20) with value length 70 bytes, containing two primitive INTEGER items (tag 0x02) each with value length 33 bytes.</p>\n<p><strong>Whatever code is building the CertificateVerify message should remove the first 3 bytes and use the rest.</strong> It needs to handle varying lengths; at <em>most</em> the DER signature will be 72 bytes as in this example, but often it will be 71 or 70 bytes instead, and occasionally but rarely even less.\nCompare <a href=\"https://stackoverflow.com/questions/71621259/openssl-rust-crate-ecdsa-signature-size-is-not-64-bytes\">openssl rust crate: ECDSA signature size is not 64 bytes?</a> and (as linked there) <a href=\"https://stackoverflow.com/questions/48177791/how-to-specify-signature-length-for-java-security-signature-sign-method\">how to specify signature length for java.security.Signature sign method</a> also (my) <a href=\"https://stackoverflow.com/questions/52134521/javas-bouncycastle-doesnt-always-verify-openssl-ecdsa-signature\">Java&#39;s BouncyCastle doesn&#39;t always verify OpenSSL ECDSA signature</a> .</p>\n<p>(PS: the ClientKeyExchange message is irrelevant here. Client signature is always in the CertVerify message. For <em>server</em> below TLS1.3, the signature does go in ServerKeyExchange, but that's not relevant to your case.)</p>\n"}],"owner":{"account_id":11457577,"reputation":920,"user_id":8398116,"display_name":"Abhilash Gopalakrishna"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3985,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71776351,"answer_count":1,"score":0,"last_activity_date":1649695472,"creation_date":1648904258,"question_id":71717739,"body_markdown":"I am trying to establish a TLSV1.2 connection to a Java-based MQTT broker (Active MQ).  \r\nMy client has the private key in an HSM module and hence inaccessible to me.  \r\nx509 cert is available.  \r\nCA is self-signed.\r\n\r\n**Cert details:**  \r\n    **Signature Algorithm:** ecdsa-with-SHA256  \r\n    **Public Key Algorithm:** id-ecPublicKey (256bit)  \r\n    **curve:** prime256v1  \r\n  \r\n**Behavior observed:**\r\n\r\nThe server is throwing the following error:\r\n\r\n```43\t2022-04-01 23:22:26.772084\tserverip\tclientip\tTLSv1.2\t73\tAlert (Level: Fatal, Description: Handshake Failure)```\r\n\r\nThis is happening right after Client key exchange\r\n\r\n```41\t2022-04-01 23:22:26.739193\tclientip\tserverip\tTLSv1.2\t303\tClient Key Exchange, Certificate Verify, Change Cipher Spec, Encrypted Handshake Message```\r\n\r\n**What I have tried so far:**\r\n\r\nI tried establishing a connection through curl to the same broker using an x509 cert signed by the same CA. This is being accepted. Hence I have concluded this is not a bad certificate issue. \r\n \r\n**Note:** I am using --insecure in the curl command, I am okay with this as client side auth is something I am not concerned about, given that server is throwing an error.\r\n\r\n**Observations/Assumptions:**\r\n\r\nThe handshake failure is coming from the server after:\r\n\r\n```none\r\nClient Hello  \r\nServer Hello  \r\nServer Hello, Certificate, Server Key Exchange, Certificate Request, ServerHelloDone\r\nCertificate\r\nClient Key Exchange, Certificate Verify, Change Cipher Spec, Encrypted Handshake Message  \r\nAlert (Level: Fatal, Description: Handshake Failure) ( from server)\r\n```\r\n\r\nBy this I am concluding there is no issue with the cipher suite /protocol compatibility.\r\n\r\nThe only difference I see between the X509 cert generated by HSM and the cert I generated for verification is in the common name format.  \r\nWireshark says:\r\n\r\n- HSM generated cert CN is **DirectoryString: teletexString (0)**\r\n- Manually generated cert CN is **utf-8**  \r\nThe CN is the same, the format as shown by wireshark differs.  \r\n\r\nI have never looked at a handshake so in depth and know just basics of a TLS handshake.\r\n\r\nThe server is a managed Kubernetes deployment and hence really difficult currently to associate logs with clients.\r\n\r\nBut, based on observation , I see this message ```(activemq-netty-threads)&quot;,&quot;message&quot;:&quot;AMQ222208: SSL handshake failed for client. java.io.IOException: Sequence tag error.&quot;```\r\n\r\nI think this is the corresponding broker logs.  \r\nAny way forward/ opinions appreciated.\r\n\r\n**Results of parsing x509 certs**\r\n 1. HSM cert \r\n    ```CN=A_00000066,OU=AA,O=Organisation Limited,L=Place,ST=State,C=C```\r\n 2. FS certs \r\n \r\n```\r\n1.2.840.113549.1.9.1=#160a726f6f74406174686572,CN=A_00000066,OU=AA,O=O,L=Place,ST=State,C=C\r\n```\r\n\r\n**Adding relevant Server logs**\r\n\r\nSSL logs on the server:\r\n\r\n```Fatal (HANDSHAKE_FAILURE): Cannot verify CertificateVerify signature (\r\n&quot;throwable&quot; : {\r\n  java.security.SignatureException: Invalid encoding for signature\r\n  \tat java.base/sun.security.util.ECUtil.decodeSignature(ECUtil.java:279)\r\n  \tat jdk.crypto.ec/sun.security.ec.ECDSASignature.engineVerify(ECDSASignature.java:477)\r\n  \tat java.base/java.security.Signature$Delegate.engineVerify(Signature.java:1247)\r\n  \tat java.base/java.security.Signature.verify(Signature.java:675)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:651)\r\n  \tat java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyConsumer.consume(CertificateVerify.java:771)\r\n  \tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n  \tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1074)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1061)\r\n  \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:689)\r\n  \tat java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1008)\r\n  \tat io.netty.handler.ssl.SslHandler.runAllDelegatedTasks(SslHandler.java:1542)\r\n  \tat io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1556)\r\n  \tat io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1440)\r\n  \tat io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1267)\r\n  \tat io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1314)\r\n  \tat io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n  \tat io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n  \tat io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n  \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n  \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n  \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n  \tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792)\r\n  \tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:475)\r\n  \tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\r\n  \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n  \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n  \tat org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\r\n  Caused by: java.io.IOException: Sequence tag error\r\n  \tat java.base/sun.security.util.DerInputStream.getSequence(DerInputStream.java:336)\r\n  \tat java.base/sun.security.util.ECUtil.decodeSignature(ECUtil.java:255)\r\n  \t... 32 more}\r\n\r\n)\r\njavax.net.ssl|WARNING|32|Thread-4 (activemq-netty-threads)|2022-04-06 10:01:32.559 UTC|SSLEngineOutputRecord.java:168|outbound has closed, ignore outbound application data\r\n```\r\n\r\n**Update 2:**\r\n\r\nThe signing is handed over to the rustls library.\r\nThere is a custom function that uses the HSM private key to sign the digest as required.\r\n\r\nexample signature:\r\n0349003046022100838bde8a902f9ebb18cdd9bc5af263dc978a670d95770c11e2e8d29e3c7b2c28022100d345fa7245fb34c8cf710958da80a638c598c44e2cbd724571dfd9e9ade95008\r\n\r\nActual Client encrypted handshake message after which failure happens:\r\n\r\n    Consuming ECDHE ClientKeyExchange handshake message (\r\n    &quot;ECDH ClientKeyExchange&quot;: {\r\n      &quot;ecdh public&quot;: {\r\n        0000: 04 EB B8 76 96 C5 E0 C6   20 73 F0 4C AB 93 F1 A6  ...v.... s.L....\r\n        0010: E9 6C 64 B0 BB 72 64 A4   74 75 26 4B E2 79 C0 26  .ld..rd.tu&amp;K.y.&amp;\r\n        0020: 42 C8 C8 8F D4 C5 CA EC   22 DA B5 3B 03 E8 E8 19  B.......&quot;..;....\r\n        0030: 28 28 EF C6 9D EE 80 3A   CD A1 60 2B 62 83 52 8F  ((.....:..`+b.R.\r\n        0040: 23 B4 5B 46 1F 76 86 00   0D DF F3 1E 6B 86 01 A4  #.[F.v......k...\r\n        0050: 64 09 C9 80 0A 03 C6 EE   A4 AA 36 05 F4 45 7A 91  d.........6..Ez.\r\n        0060: A5                                                 .\r\n      },\r\n    }\r\n\r\n\r\nUpdate 2:\r\n**Updated stack trace**\r\n\t\r\n    javax.net.ssl|ERROR|41|Thread-16 (activemq-netty-threads)|2022-04-11 10:39:02.983 UTC|TransportContext.java:312|Fatal (HANDSHAKE_FAILURE): Invalid CertificateVerify signature (\r\n    &quot;throwable&quot; : {\r\n      javax.net.ssl.SSLHandshakeException: Invalid CertificateVerify signature\r\n          at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\r\n          at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\r\n          at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:307)\r\n          at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:263)\r\n          at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:254)\r\n          at java.base/sun.security.ssl.CertificateVerify$T13CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:978)\r\n          at java.base/sun.security.ssl.CertificateVerify$T13CertificateVerifyConsumer.consume(CertificateVerify.java:1125)\r\n          at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\r\n          at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\r\n          at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1074)\r\n          at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1061)\r\n          at java.base/java.security.AccessController.doPrivileged(AccessController.java:689)\r\n          at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1008)\r\n          at io.netty.handler.ssl.SslHandler.runAllDelegatedTasks(SslHandler.java:1542)\r\n          at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1556)\r\n          at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1440)\r\n          at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1267)\r\n          at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1314)\r\n          at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n          at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n          at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n          at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n          at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n          at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n          at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n          at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n          at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n          at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n          at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792)\r\n          at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:475)\r\n          at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\r\n          at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n          at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n          at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)}\r\n\r\n","title":"TLS 1.2 handhsake failing with Handshake failure error","body":"<p>I am trying to establish a TLSV1.2 connection to a Java-based MQTT broker (Active MQ).<br />\nMy client has the private key in an HSM module and hence inaccessible to me.<br />\nx509 cert is available.<br />\nCA is self-signed.</p>\n<p><strong>Cert details:</strong><br />\n<strong>Signature Algorithm:</strong> ecdsa-with-SHA256<br />\n<strong>Public Key Algorithm:</strong> id-ecPublicKey (256bit)<br />\n<strong>curve:</strong> prime256v1</p>\n<p><strong>Behavior observed:</strong></p>\n<p>The server is throwing the following error:</p>\n<p><code>43   2022-04-01 23:22:26.772084  serverip    clientip    TLSv1.2 73  Alert (Level: Fatal, Description: Handshake Failure)</code></p>\n<p>This is happening right after Client key exchange</p>\n<p><code>41   2022-04-01 23:22:26.739193  clientip    serverip    TLSv1.2 303 Client Key Exchange, Certificate Verify, Change Cipher Spec, Encrypted Handshake Message</code></p>\n<p><strong>What I have tried so far:</strong></p>\n<p>I tried establishing a connection through curl to the same broker using an x509 cert signed by the same CA. This is being accepted. Hence I have concluded this is not a bad certificate issue.</p>\n<p><strong>Note:</strong> I am using --insecure in the curl command, I am okay with this as client side auth is something I am not concerned about, given that server is throwing an error.</p>\n<p><strong>Observations/Assumptions:</strong></p>\n<p>The handshake failure is coming from the server after:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Client Hello  \nServer Hello  \nServer Hello, Certificate, Server Key Exchange, Certificate Request, ServerHelloDone\nCertificate\nClient Key Exchange, Certificate Verify, Change Cipher Spec, Encrypted Handshake Message  \nAlert (Level: Fatal, Description: Handshake Failure) ( from server)\n</code></pre>\n<p>By this I am concluding there is no issue with the cipher suite /protocol compatibility.</p>\n<p>The only difference I see between the X509 cert generated by HSM and the cert I generated for verification is in the common name format.<br />\nWireshark says:</p>\n<ul>\n<li>HSM generated cert CN is <strong>DirectoryString: teletexString (0)</strong></li>\n<li>Manually generated cert CN is <strong>utf-8</strong><br />\nThe CN is the same, the format as shown by wireshark differs.</li>\n</ul>\n<p>I have never looked at a handshake so in depth and know just basics of a TLS handshake.</p>\n<p>The server is a managed Kubernetes deployment and hence really difficult currently to associate logs with clients.</p>\n<p>But, based on observation , I see this message <code>(activemq-netty-threads)&quot;,&quot;message&quot;:&quot;AMQ222208: SSL handshake failed for client. java.io.IOException: Sequence tag error.&quot;</code></p>\n<p>I think this is the corresponding broker logs.<br />\nAny way forward/ opinions appreciated.</p>\n<p><strong>Results of parsing x509 certs</strong></p>\n<ol>\n<li>HSM cert\n<code>CN=A_00000066,OU=AA,O=Organisation Limited,L=Place,ST=State,C=C</code></li>\n<li>FS certs</li>\n</ol>\n<pre><code>1.2.840.113549.1.9.1=#160a726f6f74406174686572,CN=A_00000066,OU=AA,O=O,L=Place,ST=State,C=C\n</code></pre>\n<p><strong>Adding relevant Server logs</strong></p>\n<p>SSL logs on the server:</p>\n<pre><code>&quot;throwable&quot; : {\n  java.security.SignatureException: Invalid encoding for signature\n    at java.base/sun.security.util.ECUtil.decodeSignature(ECUtil.java:279)\n    at jdk.crypto.ec/sun.security.ec.ECDSASignature.engineVerify(ECDSASignature.java:477)\n    at java.base/java.security.Signature$Delegate.engineVerify(Signature.java:1247)\n    at java.base/java.security.Signature.verify(Signature.java:675)\n    at java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:651)\n    at java.base/sun.security.ssl.CertificateVerify$T12CertificateVerifyConsumer.consume(CertificateVerify.java:771)\n    at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n    at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\n    at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1074)\n    at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1061)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:689)\n    at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1008)\n    at io.netty.handler.ssl.SslHandler.runAllDelegatedTasks(SslHandler.java:1542)\n    at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1556)\n    at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1440)\n    at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1267)\n    at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1314)\n    at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\n    at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n    at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792)\n    at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:475)\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)\n  Caused by: java.io.IOException: Sequence tag error\n    at java.base/sun.security.util.DerInputStream.getSequence(DerInputStream.java:336)\n    at java.base/sun.security.util.ECUtil.decodeSignature(ECUtil.java:255)\n    ... 32 more}\n\n)\njavax.net.ssl|WARNING|32|Thread-4 (activemq-netty-threads)|2022-04-06 10:01:32.559 UTC|SSLEngineOutputRecord.java:168|outbound has closed, ignore outbound application data\n</code></pre>\n<p><strong>Update 2:</strong></p>\n<p>The signing is handed over to the rustls library.\nThere is a custom function that uses the HSM private key to sign the digest as required.</p>\n<p>example signature:\n0349003046022100838bde8a902f9ebb18cdd9bc5af263dc978a670d95770c11e2e8d29e3c7b2c28022100d345fa7245fb34c8cf710958da80a638c598c44e2cbd724571dfd9e9ade95008</p>\n<p>Actual Client encrypted handshake message after which failure happens:</p>\n<pre><code>Consuming ECDHE ClientKeyExchange handshake message (\n&quot;ECDH ClientKeyExchange&quot;: {\n  &quot;ecdh public&quot;: {\n    0000: 04 EB B8 76 96 C5 E0 C6   20 73 F0 4C AB 93 F1 A6  ...v.... s.L....\n    0010: E9 6C 64 B0 BB 72 64 A4   74 75 26 4B E2 79 C0 26  .ld..rd.tu&amp;K.y.&amp;\n    0020: 42 C8 C8 8F D4 C5 CA EC   22 DA B5 3B 03 E8 E8 19  B.......&quot;..;....\n    0030: 28 28 EF C6 9D EE 80 3A   CD A1 60 2B 62 83 52 8F  ((.....:..`+b.R.\n    0040: 23 B4 5B 46 1F 76 86 00   0D DF F3 1E 6B 86 01 A4  #.[F.v......k...\n    0050: 64 09 C9 80 0A 03 C6 EE   A4 AA 36 05 F4 45 7A 91  d.........6..Ez.\n    0060: A5                                                 .\n  },\n}\n</code></pre>\n<p>Update 2:\n<strong>Updated stack trace</strong></p>\n<pre><code>javax.net.ssl|ERROR|41|Thread-16 (activemq-netty-threads)|2022-04-11 10:39:02.983 UTC|TransportContext.java:312|Fatal (HANDSHAKE_FAILURE): Invalid CertificateVerify signature (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLHandshakeException: Invalid CertificateVerify signature\n      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:131)\n      at java.base/sun.security.ssl.Alert.createSSLException(Alert.java:117)\n      at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:307)\n      at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:263)\n      at java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:254)\n      at java.base/sun.security.ssl.CertificateVerify$T13CertificateVerifyMessage.&lt;init&gt;(CertificateVerify.java:978)\n      at java.base/sun.security.ssl.CertificateVerify$T13CertificateVerifyConsumer.consume(CertificateVerify.java:1125)\n      at java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:392)\n      at java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:443)\n      at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1074)\n      at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask$DelegatedAction.run(SSLEngineImpl.java:1061)\n      at java.base/java.security.AccessController.doPrivileged(AccessController.java:689)\n      at java.base/sun.security.ssl.SSLEngineImpl$DelegatedTask.run(SSLEngineImpl.java:1008)\n      at io.netty.handler.ssl.SslHandler.runAllDelegatedTasks(SslHandler.java:1542)\n      at io.netty.handler.ssl.SslHandler.runDelegatedTasks(SslHandler.java:1556)\n      at io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1440)\n      at io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1267)\n      at io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1314)\n      at io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\n      at io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n      at io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n      at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n      at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n      at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n      at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n      at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n      at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n      at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n      at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:792)\n      at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:475)\n      at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:378)\n      at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n      at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n      at org.apache.activemq.artemis.utils.ActiveMQThreadFactory$1.run(ActiveMQThreadFactory.java:118)}\n</code></pre>\n"},{"tags":["java","security","ldap","weblogic12c"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1649697256,"post_id":71831428,"comment_id":126936703,"body_markdown":"Is it efficient? Have you measured it?","body":"Is it efficient? Have you measured it?"},{"owner":{"account_id":9722759,"reputation":656,"user_id":7210927,"display_name":"Hussain Akbar"},"score":0,"creation_date":1649741231,"post_id":71831428,"comment_id":126946333,"body_markdown":"No, as I am not conversant with alternate methods to be able to compare.","body":"No, as I am not conversant with alternate methods to be able to compare."}],"owner":{"account_id":9722759,"reputation":656,"user_id":7210927,"display_name":"Hussain Akbar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649695338,"creation_date":1649695338,"question_id":71831428,"body_markdown":"I built a couple of apps in Java that run on Weblogic 12C with authentication from an OpenLDAP server. The OpenLDAP authenticator is defined in Weblogic security realm. Pages / URL&#39;s are secured by role-based authorization. The setup is similar to that given [here][1].\r\n\r\nHowever, is such a setup efficient? At login, a call would be sent to the LDAP server to authenticate users, of course. But if I use ````if(request.isUserInRole(&quot;Member_admin&quot;)){```` extensively within JSP pages and servlets, would a call be sent each time, or are the results cached? If each triggers a call, that would slow things down tremendously when the app is under load.\r\n\r\n\r\n  [1]: https://www.developer.com/open-source/introduction-to-securing-web-applications-with-jboss-and-ldap/","title":"Efficiency of form based authentication against LDAP in Java apps","body":"<p>I built a couple of apps in Java that run on Weblogic 12C with authentication from an OpenLDAP server. The OpenLDAP authenticator is defined in Weblogic security realm. Pages / URL's are secured by role-based authorization. The setup is similar to that given <a href=\"https://www.developer.com/open-source/introduction-to-securing-web-applications-with-jboss-and-ldap/\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>However, is such a setup efficient? At login, a call would be sent to the LDAP server to authenticate users, of course. But if I use <code>if(request.isUserInRole(&quot;Member_admin&quot;)){</code> extensively within JSP pages and servlets, would a call be sent each time, or are the results cached? If each triggers a call, that would slow things down tremendously when the app is under load.</p>\n"},{"tags":["java","android","arrays","byte"],"comments":[{"owner":{"account_id":7160763,"reputation":161,"user_id":6378051,"display_name":"JVic"},"score":0,"creation_date":1649695715,"post_id":71831409,"comment_id":126936165,"body_markdown":"try this `byteBuffer.put(wavData, 44, wavData.length - 44)`","body":"try this <code>byteBuffer.put(wavData, 44, wavData.length - 44)</code>"},{"owner":{"account_id":21558009,"reputation":58,"user_id":15892949,"display_name":"Inomie"},"score":0,"creation_date":1649695903,"post_id":71831409,"comment_id":126936239,"body_markdown":"@JVic Thanks it works now did miss that little thing.","body":"@JVic Thanks it works now did miss that little thing."}],"owner":{"account_id":21558009,"reputation":58,"user_id":15892949,"display_name":"Inomie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649695260,"creation_date":1649695260,"question_id":71831409,"body_markdown":"I trying to combine 3 byte arrays to one big. I use bytebuffer to make it work. It works when I dont use the offset.\r\n\r\nSo I have 3 bytearrays and want to skip the first 44 bytes in the first byte array. The size of it is 48044. The code works when I dont uses offset, as soon as I use it it fails to do the first put. I cant see what I miss here.\r\n\r\n```\r\n    byte[] combined = new byte[wavData.length - 44 + gap.length + toneArray.length];\r\n    ByteBuffer byteBuffer = ByteBuffer.wrap(combined);\r\n    byteBuffer.put(wavData, 44, wavData.length);\r\n    byteBuffer.put(gap);\r\n    byteBuffer.put(toneArray, 0, toneArray.length);\r\n```","title":"Trying to combine 3 byte[] with bytebuffer but fails with offset","body":"<p>I trying to combine 3 byte arrays to one big. I use bytebuffer to make it work. It works when I dont use the offset.</p>\n<p>So I have 3 bytearrays and want to skip the first 44 bytes in the first byte array. The size of it is 48044. The code works when I dont uses offset, as soon as I use it it fails to do the first put. I cant see what I miss here.</p>\n<pre><code>    byte[] combined = new byte[wavData.length - 44 + gap.length + toneArray.length];\n    ByteBuffer byteBuffer = ByteBuffer.wrap(combined);\n    byteBuffer.put(wavData, 44, wavData.length);\n    byteBuffer.put(gap);\n    byteBuffer.put(toneArray, 0, toneArray.length);\n</code></pre>\n"},{"tags":["java","boolean"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":2,"creation_date":1649690614,"post_id":71830354,"comment_id":126934298,"body_markdown":"`if (secondsLess10 = true) {` is assigning the value of `true` to the variable `secondsLess`, not checking its value.  To avoid this sort of typo is why it&#39;s recommended to always just write `if (secondsLess10) {` instead.","body":"<code>if (secondsLess10 = true) {</code> is assigning the value of <code>true</code> to the variable <code>secondsLess</code>, not checking its value.  To avoid this sort of typo is why it&#39;s recommended to always just write <code>if (secondsLess10) {</code> instead."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1649690790,"post_id":71830354,"comment_id":126934366,"body_markdown":"note that `if (hours &lt; 10) { hoursLess10 = true; } else { hoursLess10 = false; }` can be simplified as `hoursLess10 = ( hours &lt; 10 );` (parenthesis not needed) (same true for minutes and seconds) || and all of them are not necessary if using `System.out.printf()`","body":"note that <code>if (hours &lt; 10) { hoursLess10 = true; } else { hoursLess10 = false; }</code> can be simplified as <code>hoursLess10 = ( hours &lt; 10 );</code> (parenthesis not needed) (same true for minutes and seconds) || and all of them are not necessary if using <code>System.out.printf()</code>"},{"owner":{"account_id":24902895,"reputation":1,"user_id":18773355,"display_name":"HaimarR"},"score":0,"creation_date":1649691375,"post_id":71830354,"comment_id":126934621,"body_markdown":"Ok thanks! What @azurefrog said worked perfectly, although I don&#39;t really understand what the difference is. I haven&#39;t learned what printf does yet, but I&#39;ll try it out. Again, thanks!","body":"Ok thanks! What @azurefrog said worked perfectly, although I don&#39;t really understand what the difference is. I haven&#39;t learned what printf does yet, but I&#39;ll try it out. Again, thanks!"}],"answers":[{"tags":[],"owner":{"display_name":"user18773012"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649695036,"creation_date":1649691184,"answer_id":71830527,"question_id":71830354,"body_markdown":"In `displayHours`, `displayMinutes` and `displaySeconds` methods, there are mistakes in `if` condition.\r\n\r\nWhen you want to check the boolean variable, you can do it in 2 ways.\r\n\r\n    // == ... check if there are the same\r\n    \r\n    // 1) != ... check if there are not the same\r\n    \r\n    if (minutesLess == 10){\r\n        //To Do Things\r\n        }\r\n        \r\n    // 2) if the boolean variable is true, for false it should be !minutesLess\r\n    \r\n    if (minutesLess){\r\n        //To Do Things\r\n        }","title":"Java Booleans not updating","body":"<p>In <code>displayHours</code>, <code>displayMinutes</code> and <code>displaySeconds</code> methods, there are mistakes in <code>if</code> condition.</p>\n<p>When you want to check the boolean variable, you can do it in 2 ways.</p>\n<pre><code>// == ... check if there are the same\n\n// 1) != ... check if there are not the same\n\nif (minutesLess == 10){\n    //To Do Things\n    }\n    \n// 2) if the boolean variable is true, for false it should be !minutesLess\n\nif (minutesLess){\n    //To Do Things\n    }\n</code></pre>\n"}],"owner":{"account_id":24902895,"reputation":1,"user_id":18773355,"display_name":"HaimarR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649695036,"creation_date":1649690416,"question_id":71830354,"body_markdown":"First of all, sorry if I mess up, it&#39;s my first question here. Second, sorry for my messy code, I just started learning java at school.\r\n\r\nSo, I coded a timer that goes up from 00:00:00 to 23:59:59. The seconds, minutes, and hours go up using inner and outer for loops and are then printed every second in the console. I got a boolean that checks if the values are less than 10. If the number is less than 10, it adds a 0 before the number so that it&#39;s printed as 01:02:03 instead of 1:2:3. The problem is that the program doesn&#39;t update the value of the booleans once the values are equal or greater than 10, printing 010:011:012 instead of 10:11:12. Any ideas?\r\n\r\n```java\r\npublic class Clock {\r\n\t\r\n\tint seconds = 0;\r\n\tint minutes = 0;\r\n\tint hours = 0;\r\n\tboolean hoursLess10;\r\n\tboolean minutesLess10;\r\n\tboolean secondsLess10;\r\n\tString secondDisplay;\r\n\tString minuteDisplay;\r\n\tString hourDisplay;\r\n\tString timeDisplay;\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tClock m = new Clock();\r\n\t\tm.startClock();\r\n\t}\r\n\t\r\n\tpublic void startClock() {\r\n\t\ttry {\r\n\t\t\tfor (int hourElapse = 0; hourElapse &lt; 24; hourElapse++) {\r\n\t\t\t\tif (hours &lt; 10) {\r\n\t\t\t\t\thoursLess10 = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\thoursLess10 = false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tfor (int minuteElapse = 0; minuteElapse &lt; 60; minuteElapse++) {\r\n\t\t\t\t\tif (minutes &lt; 10) {\r\n\t\t\t\t\t\tminutesLess10 = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tminutesLess10 = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tfor (int secondElapse = 0; secondElapse &lt; 60; secondElapse++) {\r\n\t\t\t\t\t\tif (seconds &lt; 10) {\r\n\t\t\t\t\t\t\tsecondsLess10 = true;\r\n\t\t\t\t\t\t} else if (seconds &gt;= 10) {\r\n\t\t\t\t\t\t\tsecondsLess10 = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdisplayTime();\r\n\t\t\t\t\t\tThread.sleep(1000);\r\n\t\t\t\t\t\tseconds++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tseconds = 0;\r\n\t\t\t\t\tminutes++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tminutes = 0;\r\n\t\t\t\thours ++;\r\n\t\t\t}\r\n\t\t\thours = 0;\r\n\t\t} catch (Exception e) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;error&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tSystem.out.println(hoursLess10);\r\n\t\tSystem.out.println(minutesLess10);\r\n\t\tSystem.out.println(secondsLess10);\r\n\t}\r\n\t\r\n\tpublic boolean displaySeconds() {\r\n\t\tif (secondsLess10 = true) {\r\n\t\t\t/*secondDisplay = (String) &quot;0&quot; + seconds;*/\r\n\t\t\tSystem.out.println(&quot;0&quot; + seconds);\r\n\t\t} else {\r\n\t\t\t/*secondDisplay = (String) &quot;&quot; + seconds;*/\r\n\t\t\tSystem.out.print(seconds);\r\n\t\t}\r\n\t\t\r\n\t\treturn secondsLess10;\r\n\t}\r\n\t\r\n\tpublic boolean displayMinutes() {\r\n\t\tif (minutesLess10 = true) {\r\n\t\t\t/*minuteDisplay = (String) &quot;0&quot; + minutes;*/\r\n\t\t\tSystem.out.print(&quot;0&quot; + minutes);\r\n\t\t\tSystem.out.print(&quot;:&quot;);\r\n\t\t} else {\r\n\t\t\t/*minuteDisplay = (String) &quot;&quot; + minutes;*/\r\n\t\t\tSystem.out.print(minutes);\r\n\t\t\tSystem.out.print(&quot;:&quot;);\r\n\t\t}\r\n\t\t\r\n\t\treturn minutesLess10;\r\n\t}\r\n\r\n\tpublic boolean displayHours() {\r\n\t\tif (hoursLess10 = true) {\r\n\t\t\t/*hourDisplay = (String) &quot;0&quot; + hours;*/\r\n\t\t\tSystem.out.print(&quot;0&quot; + hours);\r\n\t\t\tSystem.out.print(&quot;:&quot;);\r\n\t\t} else {\r\n\t\t\t/*hourDisplay = (String) &quot;&quot; + hours;*/\r\n\t\t\tSystem.out.print(hours);\r\n\t\t\tSystem.out.print(&quot;:&quot;);\r\n\t\t}\r\n\t\t\r\n\t\treturn hoursLess10;\r\n\t}\r\n\t\r\n\tpublic void displayTime() {\r\n\t\tdisplayHours();\r\n\t\tdisplayMinutes();\r\n\t\tdisplaySeconds();\r\n\t}\r\n}\r\n```","title":"Java Booleans not updating","body":"<p>First of all, sorry if I mess up, it's my first question here. Second, sorry for my messy code, I just started learning java at school.</p>\n<p>So, I coded a timer that goes up from 00:00:00 to 23:59:59. The seconds, minutes, and hours go up using inner and outer for loops and are then printed every second in the console. I got a boolean that checks if the values are less than 10. If the number is less than 10, it adds a 0 before the number so that it's printed as 01:02:03 instead of 1:2:3. The problem is that the program doesn't update the value of the booleans once the values are equal or greater than 10, printing 010:011:012 instead of 10:11:12. Any ideas?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Clock {\n    \n    int seconds = 0;\n    int minutes = 0;\n    int hours = 0;\n    boolean hoursLess10;\n    boolean minutesLess10;\n    boolean secondsLess10;\n    String secondDisplay;\n    String minuteDisplay;\n    String hourDisplay;\n    String timeDisplay;\n    \n    public static void main(String[] args) {\n        Clock m = new Clock();\n        m.startClock();\n    }\n    \n    public void startClock() {\n        try {\n            for (int hourElapse = 0; hourElapse &lt; 24; hourElapse++) {\n                if (hours &lt; 10) {\n                    hoursLess10 = true;\n                } else {\n                    hoursLess10 = false;\n                }\n                \n                for (int minuteElapse = 0; minuteElapse &lt; 60; minuteElapse++) {\n                    if (minutes &lt; 10) {\n                        minutesLess10 = true;\n                    } else {\n                        minutesLess10 = false;\n                    }\n                    \n                    for (int secondElapse = 0; secondElapse &lt; 60; secondElapse++) {\n                        if (seconds &lt; 10) {\n                            secondsLess10 = true;\n                        } else if (seconds &gt;= 10) {\n                            secondsLess10 = false;\n                        }\n                        displayTime();\n                        Thread.sleep(1000);\n                        seconds++;\n                    }\n                    \n                    seconds = 0;\n                    minutes++;\n                }\n\n                minutes = 0;\n                hours ++;\n            }\n            hours = 0;\n        } catch (Exception e) {\n            \n            System.out.println(&quot;error&quot;);\n        }\n        \n        System.out.println(hoursLess10);\n        System.out.println(minutesLess10);\n        System.out.println(secondsLess10);\n    }\n    \n    public boolean displaySeconds() {\n        if (secondsLess10 = true) {\n            /*secondDisplay = (String) &quot;0&quot; + seconds;*/\n            System.out.println(&quot;0&quot; + seconds);\n        } else {\n            /*secondDisplay = (String) &quot;&quot; + seconds;*/\n            System.out.print(seconds);\n        }\n        \n        return secondsLess10;\n    }\n    \n    public boolean displayMinutes() {\n        if (minutesLess10 = true) {\n            /*minuteDisplay = (String) &quot;0&quot; + minutes;*/\n            System.out.print(&quot;0&quot; + minutes);\n            System.out.print(&quot;:&quot;);\n        } else {\n            /*minuteDisplay = (String) &quot;&quot; + minutes;*/\n            System.out.print(minutes);\n            System.out.print(&quot;:&quot;);\n        }\n        \n        return minutesLess10;\n    }\n\n    public boolean displayHours() {\n        if (hoursLess10 = true) {\n            /*hourDisplay = (String) &quot;0&quot; + hours;*/\n            System.out.print(&quot;0&quot; + hours);\n            System.out.print(&quot;:&quot;);\n        } else {\n            /*hourDisplay = (String) &quot;&quot; + hours;*/\n            System.out.print(hours);\n            System.out.print(&quot;:&quot;);\n        }\n        \n        return hoursLess10;\n    }\n    \n    public void displayTime() {\n        displayHours();\n        displayMinutes();\n        displaySeconds();\n    }\n}\n</code></pre>\n"},{"tags":["java","bash","macos"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1649686794,"post_id":71829402,"comment_id":126932740,"body_markdown":"Are you running this in a terminal, from the directory that contains your source file? If not, then you have to [`cd`](https://en.wikipedia.org/wiki/Cd_(command)) to that directory first.","body":"Are you running this in a terminal, from the directory that contains your source file? If not, then you have to <a href=\"https://en.wikipedia.org/wiki/Cd_(command)\" rel=\"nofollow noreferrer\"><code>cd</code></a> to that directory first."},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":1,"creation_date":1649686857,"post_id":71829402,"comment_id":126932768,"body_markdown":"Please post *real* commands and error messages along with a snippet of code","body":"Please post <i>real</i> commands and error messages along with a snippet of code"},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649686912,"post_id":71829402,"comment_id":126932795,"body_markdown":"Yes, I do @Jesper","body":"Yes, I do @Jesper"},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649687037,"post_id":71829402,"comment_id":126932861,"body_markdown":"Done @Gyro Gearless! &#128077;&#128521;","body":"Done @Gyro Gearless! 👍😉"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":2,"creation_date":1649687070,"post_id":71829402,"comment_id":126932871,"body_markdown":"Did you compile your code first? `javac HelloWorld.java` and then run it with `java HelloWorld` or `java -cp . HelloWorld` or `java -classpath . HelloWorld`","body":"Did you compile your code first? <code>javac HelloWorld.java</code> and then run it with <code>java HelloWorld</code> or <code>java -cp . HelloWorld</code> or <code>java -classpath . HelloWorld</code>"},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649687100,"post_id":71829402,"comment_id":126932883,"body_markdown":"Permissions should be good as well, as I get the same result running with `sudo` in front of `java`","body":"Permissions should be good as well, as I get the same result running with <code>sudo</code> in front of <code>java</code>"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":3,"creation_date":1649687137,"post_id":71829402,"comment_id":126932902,"body_markdown":"There are two ways of running a java class: A) you do javac + java B) you go `java SomeClass.java` directly. You are mixing those two ways ... in a way that doesn&#39;t work.","body":"There are two ways of running a java class: A) you do javac + java B) you go <code>java SomeClass.java</code> directly. You are mixing those two ways ... in a way that doesn&#39;t work."},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":1,"creation_date":1649687151,"post_id":71829402,"comment_id":126932913,"body_markdown":"Sudo could have created a class file with permissions that don&#39;t allow the un-sudo user to access it.","body":"Sudo could have created a class file with permissions that don&#39;t allow the un-sudo user to access it."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1649687206,"post_id":71829402,"comment_id":126932935,"body_markdown":"Meaning: when you have a SINGLE class that is self contained, and can be compiled on its own, then `java ThatClass.java` compiles and runs from JAVA source. Otherwise, as said, you first need to run javac, then you invoke `java` with the CLASS name.","body":"Meaning: when you have a SINGLE class that is self contained, and can be compiled on its own, then <code>java ThatClass.java</code> compiles and runs from JAVA source. Otherwise, as said, you first need to run javac, then you invoke <code>java</code> with the CLASS name."},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649687264,"post_id":71829402,"comment_id":126932959,"body_markdown":"Didn&#39;t work before and after the sudo command was added. Permissions are `-rw-r--r--`owner: my local username","body":"Didn&#39;t work before and after the sudo command was added. Permissions are <code>-rw-r--r--</code>owner: my local username"},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649687328,"post_id":71829402,"comment_id":126932982,"body_markdown":"@Ghostcat: I did compile with javac HelloWorld.java before running java HelloWorld","body":"@Ghostcat: I did compile with javac HelloWorld.java before running java HelloWorld"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1649687432,"post_id":71829402,"comment_id":126933024,"body_markdown":"Then you want to ensure that you have that file `HelloWorld.class` sitting in the directory you are invoking `java -classpath . HelloWorld`","body":"Then you want to ensure that you have that file <code>HelloWorld.class</code> sitting in the directory you are invoking <code>java -classpath . HelloWorld</code>"},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649688167,"post_id":71829402,"comment_id":126933320,"body_markdown":"@GhostCat: yes, Hello world.class is in the same folder - after compiling with javac.","body":"@GhostCat: yes, Hello world.class is in the same folder - after compiling with javac."},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649688352,"post_id":71829402,"comment_id":126933415,"body_markdown":"I don&#39;t think I am mixing A &amp; B @GhostCat. I&#39;m only doing A. It was the spell checker, that removed the c here from javac. I&#39;ve edited the question accordingly. &#128521;","body":"I don&#39;t think I am mixing A &amp; B @GhostCat. I&#39;m only doing A. It was the spell checker, that removed the c here from javac. I&#39;ve edited the question accordingly. 😉"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1649689412,"post_id":71829402,"comment_id":126933835,"body_markdown":"Maybe you are mixing letter case? (e.g. `java helloworld` will not work because the class is called HelloWorld?)","body":"Maybe you are mixing letter case? (e.g. <code>java helloworld</code> will not work because the class is called HelloWorld?)"},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649690424,"post_id":71829402,"comment_id":126934217,"body_markdown":"@k314159 I&#39;ve double checked this one multiple times. Looks good to me.","body":"@k314159 I&#39;ve double checked this one multiple times. Looks good to me."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1649690576,"post_id":71829402,"comment_id":126934280,"body_markdown":"`src=HelloWorld.java;ls $src &amp;&amp; cat $src &amp;&amp; javac $src &amp;&amp; java -classpath . $src` Please paste that into your terminal, execute it and post the output","body":"<code>src=HelloWorld.java;ls $src &amp;&amp; cat $src &amp;&amp; javac $src &amp;&amp; java -classpath . $src</code> Please paste that into your terminal, execute it and post the output"},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649690750,"post_id":71829402,"comment_id":126934353,"body_markdown":"HelloWorld.java\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n\t\n\tSystem.out.println(&quot;Hello World!&quot;);\n\t\n    }\n    \n}\nerror: file not found: HelloWorld.java","body":"HelloWorld.java public class HelloWorld {      public static void main(String[] args) { \t \tSystem.out.println(&quot;Hello World!&quot;); \t     }      } error: file not found: HelloWorld.java"},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649690871,"post_id":71829402,"comment_id":126934411,"body_markdown":"@g00se: I guess it should have been:\nsrc=HelloWorld.java;ls $src &amp;&amp; cat $src &amp;&amp; javac $src &amp;&amp; java HelloWorld","body":"@g00se: I guess it should have been: src=HelloWorld.java;ls $src &amp;&amp; cat $src &amp;&amp; javac $src &amp;&amp; java HelloWorld"},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649690893,"post_id":71829402,"comment_id":126934423,"body_markdown":"Which results in:\nHelloWorld.java\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n\t\n\tSystem.out.println(&quot;Hello World!&quot;);\n\t\n    }\n    \n}\nError: Could not find or load main class HelloWorld\nCaused by: java.lang.ClassNotFoundException: HelloWorld","body":"Which results in: HelloWorld.java public class HelloWorld {      public static void main(String[] args) { \t \tSystem.out.println(&quot;Hello World!&quot;); \t     }      } Error: Could not find or load main class HelloWorld Caused by: java.lang.ClassNotFoundException: HelloWorld"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1649690978,"post_id":71829402,"comment_id":126934457,"body_markdown":"Actually no. java executable now will execute source files. Try instead `src=HelloWorld.java;ls $src &amp;&amp; cat $src &amp;&amp; javac -verbose $src &amp;&amp; java -classpath . $src`","body":"Actually no. java executable now will execute source files. Try instead <code>src=HelloWorld.java;ls $src &amp;&amp; cat $src &amp;&amp; javac -verbose $src &amp;&amp; java -classpath . $src</code>"},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649691450,"post_id":71829402,"comment_id":126934645,"body_markdown":"Yes, but $src is actually referring to the source file - not the compiled HelloWorld.class file","body":"Yes, but $src is actually referring to the source file - not the compiled HelloWorld.class file"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1649691919,"post_id":71829402,"comment_id":126934861,"body_markdown":"Yes, sorry you&#39;re right. So the last command just `java -classpath . HelloWorld`","body":"Yes, sorry you&#39;re right. So the last command just <code>java -classpath . HelloWorld</code>"},{"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"score":0,"creation_date":1649692437,"post_id":71829402,"comment_id":126935045,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/243791/discussion-between-aknott-and-g00se).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/243791/discussion-between-aknott-and-g00se\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649694978,"creation_date":1649694978,"answer_id":71831346,"question_id":71829402,"body_markdown":"With the help of @g00se in the comments, I&#39;ve figured it out:\r\n\r\nMy source code `HelloWorld.java` and the compiled code `HelloWorld.class` was located in a subdirectory of `/Users/&lt;myLocalUserName&gt;/Documents/`. Moving the code above the level of the `Documents` directory works.\r\n\r\nSo, I&#39;ve created an appropriate directory ABOVE this level (=*source diretory*) and a symbolic link (=*target*) in my existing file structure UNDER my `Documents` directory with\r\n\r\n```bash\r\nln -s &lt;pathToSource&gt; &lt;pathToTarget&gt;\r\n```\r\n\r\nMy best guess right now is, that this relates to the combination of *MacOS* versions and *java* versions, as stated above in the question.\r\n\r\nHope that can be helpful for anybody else, feeling like a **NOOP**. &#129318;&#128521;","title":"java 11 on MacOS not working as it cannot find main class","body":"<p>With the help of @g00se in the comments, I've figured it out:</p>\n<p>My source code <code>HelloWorld.java</code> and the compiled code <code>HelloWorld.class</code> was located in a subdirectory of <code>/Users/&lt;myLocalUserName&gt;/Documents/</code>. Moving the code above the level of the <code>Documents</code> directory works.</p>\n<p>So, I've created an appropriate directory ABOVE this level (=<em>source diretory</em>) and a symbolic link (=<em>target</em>) in my existing file structure UNDER my <code>Documents</code> directory with</p>\n<pre class=\"lang-sh prettyprint-override\"><code>ln -s &lt;pathToSource&gt; &lt;pathToTarget&gt;\n</code></pre>\n<p>My best guess right now is, that this relates to the combination of <em>MacOS</em> versions and <em>java</em> versions, as stated above in the question.</p>\n<p>Hope that can be helpful for anybody else, feeling like a <strong>NOOP</strong>. 🤦😉</p>\n"}],"owner":{"account_id":10869232,"reputation":206,"user_id":12693853,"display_name":"aknott"},"comment_count":24,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649694978,"creation_date":1649686592,"question_id":71829402,"body_markdown":"I went through all of [this][1], but still run into the\r\n\r\n```bash\r\njava -classpath . HelloWorld\r\n&gt; Error: Could not find or load main class HelloWorld\r\n&gt; Caused by: java.lang.ClassNotFoundException: HelloWorld\r\n```\r\n\r\n```java\r\npublic class HelloWorld {\r\n\r\n    public static void main(String[] args) {\r\n\t\r\n       \tSystem.out.println(&quot;Hello World!&quot;);\r\n\t\r\n    }\r\n    \r\n}\r\n```\r\n\r\n`javac HelloWorld.java` runs without problems (before calling `java HelloWorld`)\r\n\r\nJava version:\r\n```bash\r\njava --version\r\n&gt; java 11.0.1 2018-10-16 LTS\r\n&gt; Java(TM) SE Runtime Environment 18.9 (build 11.0.1+13-LTS)\r\n&gt; Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.1+13-LTS, mixed mode)\r\n```\r\n\r\nall commands executed in terminal from the directory, where the code is.\r\n\r\nOperating System: _MacOS Monterey 12.3.1 (21E258)_\r\n\r\n**What can I do to get java up and running from command line?**\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean","title":"java 11 on MacOS not working as it cannot find main class","body":"<p>I went through all of <a href=\"https://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean\">this</a>, but still run into the</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java -classpath . HelloWorld\n&gt; Error: Could not find or load main class HelloWorld\n&gt; Caused by: java.lang.ClassNotFoundException: HelloWorld\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class HelloWorld {\n\n    public static void main(String[] args) {\n    \n        System.out.println(&quot;Hello World!&quot;);\n    \n    }\n    \n}\n</code></pre>\n<p><code>javac HelloWorld.java</code> runs without problems (before calling <code>java HelloWorld</code>)</p>\n<p>Java version:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>java --version\n&gt; java 11.0.1 2018-10-16 LTS\n&gt; Java(TM) SE Runtime Environment 18.9 (build 11.0.1+13-LTS)\n&gt; Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.1+13-LTS, mixed mode)\n</code></pre>\n<p>all commands executed in terminal from the directory, where the code is.</p>\n<p>Operating System: <em>MacOS Monterey 12.3.1 (21E258)</em></p>\n<p><strong>What can I do to get java up and running from command line?</strong></p>\n"},{"tags":["java","reactive-programming","spring-webflux"],"comments":[{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1649695486,"post_id":71831017,"comment_id":126936081,"body_markdown":"AFAIK, it depends on what `service#getObject` does exactly, but if it runs blocking operations like synchronous IOs for example, then it defeats the whole purpose of a Netty/WebFlux-based architecture, where request threads shouldn&#39;t be blocked.","body":"AFAIK, it depends on what <code>service#getObject</code> does exactly, but if it runs blocking operations like synchronous IOs for example, then it defeats the whole purpose of a Netty/WebFlux-based architecture, where request threads shouldn&#39;t be blocked."},{"owner":{"account_id":23768567,"reputation":192,"user_id":17782982,"display_name":"turbofood"},"score":0,"creation_date":1649696564,"post_id":71831017,"comment_id":126936464,"body_markdown":"@sp00m Say it just does things like object/string manipulation ? That would still be non-blocking ? But, if it were to do database calls, or repository calls, or database insertions then, i&#39;m guessing that would be blocking ?","body":"@sp00m Say it just does things like object/string manipulation ? That would still be non-blocking ? But, if it were to do database calls, or repository calls, or database insertions then, i&#39;m guessing that would be blocking ?"},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":0,"creation_date":1649697139,"post_id":71831017,"comment_id":126936674,"body_markdown":"It depends on the string manipulation I suppose, but if it isn&#39;t too computationally intensive (unlike passphrase hashing for example), then you should be fine with the above code. As for database calls, it depends on the driver you&#39;re using: JDBC/JPA will block indeed, Spring R2DBC allows not to for example. See this other answer of mine which relates I believe: https://stackoverflow.com/a/65185737/1225328.","body":"It depends on the string manipulation I suppose, but if it isn&#39;t too computationally intensive (unlike passphrase hashing for example), then you should be fine with the above code. As for database calls, it depends on the driver you&#39;re using: JDBC/JPA will block indeed, Spring R2DBC allows not to for example. See this other answer of mine which relates I believe: <a href=\"https://stackoverflow.com/a/65185737/1225328\">stackoverflow.com/a/65185737/1225328</a>."},{"owner":{"account_id":23768567,"reputation":192,"user_id":17782982,"display_name":"turbofood"},"score":0,"creation_date":1649698903,"post_id":71831017,"comment_id":126937279,"body_markdown":"Yea jdbc/jpa in WebFlux doesn&#39;t even make sense; those are inherently blocking in nature. But, I guess what I want to say or ask is that making items in your flow Monos &amp; Fluxes can only help with the non-blocking flow &amp; not introduce other unexpected issues","body":"Yea jdbc/jpa in WebFlux doesn&#39;t even make sense; those are inherently blocking in nature. But, I guess what I want to say or ask is that making items in your flow Monos &amp; Fluxes can only help with the non-blocking flow &amp; not introduce other unexpected issues"},{"owner":{"account_id":8023174,"reputation":9194,"user_id":6051176,"display_name":"Martin Tarj&#225;nyi"},"score":0,"creation_date":1649875314,"post_id":71831017,"comment_id":126989112,"body_markdown":"It doesn&#39;t really make sense to wrap things like String manipulation into reactive types. It doesn&#39;t give you any benefit, on the contrary, it could cause confusion for the reader of the code.","body":"It doesn&#39;t really make sense to wrap things like String manipulation into reactive types. It doesn&#39;t give you any benefit, on the contrary, it could cause confusion for the reader of the code."}],"owner":{"account_id":23768567,"reputation":192,"user_id":17782982,"display_name":"turbofood"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649694944,"creation_date":1649693429,"question_id":71831017,"body_markdown":"Consider the following example,\r\n\r\n```\r\n@RestController\r\npublic class MyController {\r\n\r\n  private final MyService service;\r\n\r\n  public MyController(MyService service) {\r\n    this.service = service;\r\n  }\r\n\r\n  @GetMapping\r\n  public Mono&lt;MyObject&gt; endpoint(String id) {\r\n    String newId = String.toLowerCase()\r\n    Mono.just(service.getObject(newId));\r\n  }\r\n}\r\n```\r\n\r\nAll of the logic from the repository, to the service, &amp; to any another class interactions don&#39;t deal with Mono&#39;s or Flux&#39;s. In this example, the service method `getObject` returns a MyObject data type which isn&#39;t wrapped in a Mono. \r\n\r\nSo, is there really a purpose to using webflux or a reactive approach in general with this setup or are we actually still getting benefit from using this Mono publisher type ?","title":"WebFlux Does wrapping a Mono in a Controllor&#39;s endpoint really give us a non-blocking flow?","body":"<p>Consider the following example,</p>\n<pre><code>@RestController\npublic class MyController {\n\n  private final MyService service;\n\n  public MyController(MyService service) {\n    this.service = service;\n  }\n\n  @GetMapping\n  public Mono&lt;MyObject&gt; endpoint(String id) {\n    String newId = String.toLowerCase()\n    Mono.just(service.getObject(newId));\n  }\n}\n</code></pre>\n<p>All of the logic from the repository, to the service, &amp; to any another class interactions don't deal with Mono's or Flux's. In this example, the service method <code>getObject</code> returns a MyObject data type which isn't wrapped in a Mono.</p>\n<p>So, is there really a purpose to using webflux or a reactive approach in general with this setup or are we actually still getting benefit from using this Mono publisher type ?</p>\n"},{"tags":["java","android","file"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1649695373,"post_id":71831320,"comment_id":126936048,"body_markdown":"You can create files in Download folder with the usual WRITE permission. On Android 10 devices requestLegacyExternalStorage=&quot;true&quot;. Your code looks ok.","body":"You can create files in Download folder with the usual WRITE permission. On Android 10 devices requestLegacyExternalStorage=&quot;true&quot;. Your code looks ok."},{"owner":{"account_id":20963911,"reputation":11,"user_id":15402722,"display_name":"l1can"},"score":0,"creation_date":1649696383,"post_id":71831320,"comment_id":126936394,"body_markdown":"Yes, I have this permission, but for some reason it still throws an exception: java.io.FileNotFoundException: /storage/emulated/0/Download/800px-University_of_Manchester_Atlas,_January_1963.jpg: open failed: EACCES (Permission denied)","body":"Yes, I have this permission, but for some reason it still throws an exception: java.io.FileNotFoundException: /storage/emulated/0/Download/800px-University_of_Manchester_&zwnj;&#8203;Atlas,_January_1963.&zwnj;&#8203;jpg: open failed: EACCES (Permission denied)"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1649712188,"post_id":71831320,"comment_id":126941405,"body_markdown":"Try on more emulators. Try on devices. Tell of all the Android version.","body":"Try on more emulators. Try on devices. Tell of all the Android version."}],"owner":{"account_id":20963911,"reputation":11,"user_id":15402722,"display_name":"l1can"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":355,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649694828,"creation_date":1649694828,"question_id":71831320,"body_markdown":"I am trying to download a file from an FTP server and save it to a file in the Downloads folder. In the emulator (since there is an AndroidAPI 30) it gives a Permission Denied, apparently because\r\n```\r\ngetExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\r\n``` \r\nis outdated. How else can I save the file to the Downloads folder?\r\nHere is the code to create the file:\r\n```\r\npublic void downloadFile() {\r\n        String filename = this.filename;\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                FTPClient client = new FTPClient();\r\n                File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), filename);\r\n                try {\r\n                    OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(file));\r\n                    client.connect(&quot;backup-storage5.hostiman.ru&quot;);\r\n                    client.enterLocalPassiveMode();\r\n                    client.login(&quot;*********&quot;, &quot;********&quot;);\r\n                    client.retrieveFile(&quot;/&quot; + filename, outputStream);\r\n                    client.logout();\r\n                    client.disconnect();\r\n                    System.out.println(&quot;ALL GOOD!&quot;);\r\n                } catch (IOException e) {\r\n                    System.out.println(&quot;FAILED TO DOWNLOAD FILE FROM SERVER!{n&quot; + e);\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n```","title":"How do I create a file in the Downloads folder on android?","body":"<p>I am trying to download a file from an FTP server and save it to a file in the Downloads folder. In the emulator (since there is an AndroidAPI 30) it gives a Permission Denied, apparently because</p>\n<pre><code>getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\n</code></pre>\n<p>is outdated. How else can I save the file to the Downloads folder?\nHere is the code to create the file:</p>\n<pre><code>public void downloadFile() {\n        String filename = this.filename;\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                FTPClient client = new FTPClient();\n                File file = new File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), filename);\n                try {\n                    OutputStream outputStream = new BufferedOutputStream(new FileOutputStream(file));\n                    client.connect(&quot;backup-storage5.hostiman.ru&quot;);\n                    client.enterLocalPassiveMode();\n                    client.login(&quot;*********&quot;, &quot;********&quot;);\n                    client.retrieveFile(&quot;/&quot; + filename, outputStream);\n                    client.logout();\n                    client.disconnect();\n                    System.out.println(&quot;ALL GOOD!&quot;);\n                } catch (IOException e) {\n                    System.out.println(&quot;FAILED TO DOWNLOAD FILE FROM SERVER!{n&quot; + e);\n                }\n            }\n        }).start();\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":13275834,"reputation":29,"user_id":9585226,"display_name":"Rahul Gupta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649680649,"creation_date":1649680649,"answer_id":71827979,"question_id":71827594,"body_markdown":"This query might help you to get the right result.\r\n```\r\n@Query(nativeQuery = true, value=&quot;select  from Order o where o.date between :startDate and :endDate&quot;)\r\nList&lt;Order&gt; getOrderById(@Param(&quot;startDate&quot;) LocalDate date1, @Param(&quot;endDate&quot;) LocalDate date2);\r\n```","title":"How to fetch data from database by using Date in Spring boot?","body":"<p>This query might help you to get the right result.</p>\n<pre><code>@Query(nativeQuery = true, value=&quot;select  from Order o where o.date between :startDate and :endDate&quot;)\nList&lt;Order&gt; getOrderById(@Param(&quot;startDate&quot;) LocalDate date1, @Param(&quot;endDate&quot;) LocalDate date2);\n</code></pre>\n"}],"owner":{"account_id":24778837,"reputation":1,"user_id":18662351,"display_name":"Sachin Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1339,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649694796,"creation_date":1649678919,"question_id":71827594,"body_markdown":"I create a project on spring boot and project connected with H2 database .\r\nSave the data in a database through the post Mapping rest API but parameter of our class `name`,`id`,`address` and `LocalDate` date.\r\n\r\nI fetch the data data through using `getOrderById` method but i can&#39;t fetch the data between two dates.\r\n\r\nHelp me to fetch the data between two dates by using spring boot REST API.\r\n\r\nEntity Class Order","title":"How to fetch data from database by using Date in Spring boot?","body":"<p>I create a project on spring boot and project connected with H2 database .\nSave the data in a database through the post Mapping rest API but parameter of our class <code>name</code>,<code>id</code>,<code>address</code> and <code>LocalDate</code> date.</p>\n<p>I fetch the data data through using <code>getOrderById</code> method but i can't fetch the data between two dates.</p>\n<p>Help me to fetch the data between two dates by using spring boot REST API.</p>\n<p>Entity Class Order</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6897165,"reputation":7367,"user_id":5298696,"display_name":"CollinD"},"score":1,"creation_date":1649361226,"post_id":71788174,"comment_id":126862790,"body_markdown":"What have you tried so far? It would be helpful to have some code to help fix.","body":"What have you tried so far? It would be helpful to have some code to help fix."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1649365831,"post_id":71788174,"comment_id":126864121,"body_markdown":"This sounds like homework. Do you know how to use a loop? Do you know how to get values from a list?  This is pretty basic so perhaps you should discuss this with your instructor.","body":"This sounds like homework. Do you know how to use a loop? Do you know how to get values from a list?  This is pretty basic so perhaps you should discuss this with your instructor."},{"owner":{"account_id":3063445,"reputation":3948,"user_id":2595658,"accept_rate":64,"display_name":"Paco Abato"},"score":0,"creation_date":1649511208,"post_id":71788174,"comment_id":126896846,"body_markdown":"Add two other System.out.println to see the values of i and j for each iteration. This will help you to understande what is going wrong with your code.","body":"Add two other System.out.println to see the values of i and j for each iteration. This will help you to understande what is going wrong with your code."}],"answers":[{"tags":[],"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649659118,"creation_date":1649658215,"answer_id":71823427,"question_id":71788174,"body_markdown":"You can do it as below (assuming both the array lists has same no of elements):\r\n\r\n\tStringBuilder strinBuilder = new StringBuilder();\r\n\tdouble total = 0.0;\r\n\tfor (int i = 0; i &lt; quantitiyArrayList.size(); i++) {\r\n\t\t\ttry {\r\n\t\t\t\tstrinBuilder.append(quantitiyArrayList.get(i) + &quot; * &quot; + priceArrayList.get(i) + &quot; + &quot;);\r\n\r\n\t\t\t\ttotal = total + (quantitiyArrayList.get(i) * priceArrayList.get(i));\r\n\t\t\t} catch (IndexOutOfBoundsException e) {\r\n\t\t\t\ttotal = total + 0.0;\r\n\t\t\t}\r\n\t}\r\n\tCharSequence output = &quot;(&quot; + strinBuilder.toString().subSequence(0, strinBuilder.toString().length() - 3) + &quot;) = &quot; + total;\r\n\tSystem.out.println(output);\r\n\tSystem.out.println(&quot;Total is: &quot; + total);","title":"How do I multiply the values in two array list, in order to find the total?","body":"<p>You can do it as below (assuming both the array lists has same no of elements):</p>\n<pre><code>StringBuilder strinBuilder = new StringBuilder();\ndouble total = 0.0;\nfor (int i = 0; i &lt; quantitiyArrayList.size(); i++) {\n        try {\n            strinBuilder.append(quantitiyArrayList.get(i) + &quot; * &quot; + priceArrayList.get(i) + &quot; + &quot;);\n\n            total = total + (quantitiyArrayList.get(i) * priceArrayList.get(i));\n        } catch (IndexOutOfBoundsException e) {\n            total = total + 0.0;\n        }\n}\nCharSequence output = &quot;(&quot; + strinBuilder.toString().subSequence(0, strinBuilder.toString().length() - 3) + &quot;) = &quot; + total;\nSystem.out.println(output);\nSystem.out.println(&quot;Total is: &quot; + total);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23908738,"reputation":55,"user_id":17905960,"display_name":"Teerexmixdoodlejump"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649694584,"creation_date":1649694584,"answer_id":71831260,"question_id":71788174,"body_markdown":"I did it like this:\r\n\r\n     //do calculations.\r\n            double sum = 0.0;\r\n            for (int i = 0; i &lt; quantityArrayDouble.length; i++) {\r\n                sum += quantityArrayDouble[i] * priceArrayDouble[i];\r\n            }\r\n            Log.i(&quot;sum&quot;, sum + &quot;&quot;);\r\n\r\n","title":"How do I multiply the values in two array list, in order to find the total?","body":"<p>I did it like this:</p>\n<pre><code> //do calculations.\n        double sum = 0.0;\n        for (int i = 0; i &lt; quantityArrayDouble.length; i++) {\n            sum += quantityArrayDouble[i] * priceArrayDouble[i];\n        }\n        Log.i(&quot;sum&quot;, sum + &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":23908738,"reputation":55,"user_id":17905960,"display_name":"Teerexmixdoodlejump"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71831260,"answer_count":2,"score":1,"last_activity_date":1649694584,"creation_date":1649361170,"question_id":71788174,"body_markdown":"I am trying to calculate the total cost of items in the users cart. My approach to this is to store the item cost as well as the quantity in an `ArrayList` and then multiply the value then add it. For example this is my `ArrayList`. I would like to do\r\n```none\r\n2.00 * 5.00 + 3.00 * 6.00 + 4.00 * 7.00 + 5.00 * 8.00\r\n```\r\nWhat I have done so far multiplies the first number in the `ArrayList` by every item in the `ArrayList`. This is not what I am trying to do. Can someone help with this?\r\n\r\n    quaninityArrayList [2.0, 3.0, 4.0, 5.0]\r\n    priceArraListy[5.0, 6.0, 7.0, 8.0]\r\n\r\n--------------------\r\n\r\n    ArrayList&lt;Double&gt;  priceArrayList = new ArrayList&lt;&gt;();\r\n    ArrayList&lt;Double&gt;  quantitiyArrayList = new ArrayList&lt;&gt;();\r\n\r\n    quantitiyArrayList.add(2.00);\r\n    quantitiyArrayList.add(3.00);\r\n    quantitiyArrayList.add(4.00);\r\n    quantitiyArrayList.add(5.00);\r\n\r\n    priceArrayList.add(5.00 );\r\n    priceArrayList.add(6.00 );\r\n    priceArrayList.add(7.00 );\r\n    priceArrayList.add(8.00 );\r\n\r\n    for(int i = 0; i&lt;quantitiyArrayList.size(); i++){\r\n        for(int j = 0; j&lt; priceArrayList.size(); j++){\r\n                  System.out.println(quantitiyArrayList.get(i)*priceArrayList.get(j));\r\n        }\r\n    }\r\n","title":"How do I multiply the values in two array list, in order to find the total?","body":"<p>I am trying to calculate the total cost of items in the users cart. My approach to this is to store the item cost as well as the quantity in an <code>ArrayList</code> and then multiply the value then add it. For example this is my <code>ArrayList</code>. I would like to do</p>\n<pre class=\"lang-none prettyprint-override\"><code>2.00 * 5.00 + 3.00 * 6.00 + 4.00 * 7.00 + 5.00 * 8.00\n</code></pre>\n<p>What I have done so far multiplies the first number in the <code>ArrayList</code> by every item in the <code>ArrayList</code>. This is not what I am trying to do. Can someone help with this?</p>\n<pre><code>quaninityArrayList [2.0, 3.0, 4.0, 5.0]\npriceArraListy[5.0, 6.0, 7.0, 8.0]\n</code></pre>\n<hr />\n<pre><code>ArrayList&lt;Double&gt;  priceArrayList = new ArrayList&lt;&gt;();\nArrayList&lt;Double&gt;  quantitiyArrayList = new ArrayList&lt;&gt;();\n\nquantitiyArrayList.add(2.00);\nquantitiyArrayList.add(3.00);\nquantitiyArrayList.add(4.00);\nquantitiyArrayList.add(5.00);\n\npriceArrayList.add(5.00 );\npriceArrayList.add(6.00 );\npriceArrayList.add(7.00 );\npriceArrayList.add(8.00 );\n\nfor(int i = 0; i&lt;quantitiyArrayList.size(); i++){\n    for(int j = 0; j&lt; priceArrayList.size(); j++){\n              System.out.println(quantitiyArrayList.get(i)*priceArrayList.get(j));\n    }\n}\n</code></pre>\n"},{"tags":["java","javers"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1649567609,"post_id":71813835,"comment_id":126905766,"body_markdown":"If you mean can you store a LocalDateTime object in mongo, no. You can serialize one to a String and save that, and deserialize it back when reading from mongo.","body":"If you mean can you store a LocalDateTime object in mongo, no. You can serialize one to a String and save that, and deserialize it back when reading from mongo."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649625256,"post_id":71813835,"comment_id":126917230,"body_markdown":"By the way, `LocalDateTime` is exactly the *wrong* data type to record a moment. That class purposely lacks a time zone or offset from UTC. With only a date and a time of day, we do not know if a `LocalDateTime` was meant for that time on that date in Tokyo, or in Toulouse, or in Toledo — these would all be different moments, several hours apart. Use `Instant` instead, or if going through JDBC, `OffsetDateTime`.","body":"By the way, <code>LocalDateTime</code> is exactly the <i>wrong</i> data type to record a moment. That class purposely lacks a time zone or offset from UTC. With only a date and a time of day, we do not know if a <code>LocalDateTime</code> was meant for that time on that date in Tokyo, or in Toulouse, or in Toledo — these would all be different moments, several hours apart. Use <code>Instant</code> instead, or if going through JDBC, <code>OffsetDateTime</code>."}],"owner":{"account_id":12475322,"reputation":1,"user_id":9081912,"display_name":"showkot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649694572,"creation_date":1649566104,"question_id":71813835,"body_markdown":"I am storing the entity audit log to mongodb using javers. Each time I make a commit to mongodb, Javers saves the timestamp as String. But I want to save it as LocalDateTime Object. Is there any way to do this?\r\n\r\n```java     \r\n    public &lt;T&gt; void saveAuditLog(T entity) throws TokenDecryptionException {\r\n            LogMetaDataDTO logMetaDataDTO = this.logFactory.createApplicationLogMetaData();\r\n    \r\n            try {\r\n                String author = this.logHelperService.getCurrentUserIdFromRequestContext();\r\n                this.javers.commit(author == null ? &quot;&quot; : author, entity, this.auditLogUtils.convertObjectToMap(logMetaDataDTO));\r\n                logger.debug(&quot;Saved to audit log!&quot;);\r\n            } catch (Exception var4) {\r\n                throw var4;\r\n            }\r\n        }\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/NvBHj.png","title":"Javers saves commitDate and commitDateInstant as String. How to set them as LocalDateTime?","body":"<p>I am storing the entity audit log to mongodb using javers. Each time I make a commit to mongodb, Javers saves the timestamp as String. But I want to save it as LocalDateTime Object. Is there any way to do this?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public &lt;T&gt; void saveAuditLog(T entity) throws TokenDecryptionException {\n            LogMetaDataDTO logMetaDataDTO = this.logFactory.createApplicationLogMetaData();\n    \n            try {\n                String author = this.logHelperService.getCurrentUserIdFromRequestContext();\n                this.javers.commit(author == null ? &quot;&quot; : author, entity, this.auditLogUtils.convertObjectToMap(logMetaDataDTO));\n                logger.debug(&quot;Saved to audit log!&quot;);\n            } catch (Exception var4) {\n                throw var4;\n            }\n        }\n</code></pre>\n"},{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1649697529,"post_id":71827508,"comment_id":126936799,"body_markdown":"Probably you need to decode the image : https://stackoverflow.com/questions/33571520/how-can-i-use-base64-as-image-source-in-a-jasper-report-template","body":"Probably you need to decode the image : <a href=\"https://stackoverflow.com/questions/33571520/how-can-i-use-base64-as-image-source-in-a-jasper-report-template\" title=\"how can i use base64 as image source in a jasper report template\">stackoverflow.com/questions/33571520/&hellip;</a>"},{"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"score":0,"creation_date":1649748656,"post_id":71827508,"comment_id":126948323,"body_markdown":"@PeterMmm your solutonions not works","body":"@PeterMmm your solutonions not works"}],"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1649747627,"answer_count":0,"score":0,"last_activity_date":1649693977,"creation_date":1649678589,"question_id":71827508,"body_markdown":"my spring boot application uses jasper report to view the report below, but it does not load me a base64 image in the report, how can I solve? the parameters is LogoBase64\r\n\r\n\r\n**Spring Boot Java App:**\r\n  \r\n\r\n    Preventivo ptemp = p;\r\n            try {\r\n                List&lt;TableReportPreventivo&gt; tablevaluesList = new ArrayList&lt;&gt;();\r\n                //Recupero valori setup reporty\r\n                //boolean ris = Support.decodeBase64JPG(repoAzienda.getInfo().getLogo()) == false ? false : true;\r\n                ptemp = repoPreventivo.getInfo(p.getIdPreventivo());\r\n                p = ptemp;\r\n                Cliente c = repoCliente.getOne(ptemp.getIdCliente());\r\n                String base64image = &quot;data:image/jpeg;base64,&quot; + repoAzienda.getInfo().getLogo();\r\n                //Carico le informazioni del preventivo del Preventivo\r\n                Date dt = ptemp.getDataInserimento();\r\n                Date dat = java.sql.Date.valueOf(String.valueOf(dt));\r\n                Calendar cal = Calendar.getInstance();\r\n                cal.setTime(dat);\r\n                TableReportPreventivo tablevalues = new TableReportPreventivo(dt.toString(), ptemp.getIdPreventivo() + &quot;/&quot; + cal.get(Calendar.YEAR), ptemp.getRiferimentoInterno(), ptemp.getVostroRiferimento(), c.getTitolo(), c.getRagioneSociale(), c.getIndirizzo(), c.getCap() + &quot; &quot; + c.getCitta() + &quot; &quot; + c.getProvincia(), ptemp.getOggetto(), ptemp.getTestata(), &quot;&quot;);\r\n                ClassPathResource reportResource = new ClassPathResource(&quot;templates/reportpreventivo.jasper&quot;);\r\n                Map&lt;String, Object&gt; reportParameters = new HashMap&lt;&gt;();\r\n                tablevaluesList.add(tablevalues);\r\n                JRBeanCollectionDataSource itemsJRBean = new JRBeanCollectionDataSource(tablevaluesList);\r\n                reportParameters.put(&quot;Data&quot;, ptemp.getDataInserimento().toString());\r\n                reportParameters.put(&quot;NRPreventivo&quot;, ptemp.getIdPreventivo() + &quot;/&quot; + cal.get(Calendar.YEAR));\r\n                reportParameters.put(&quot;NSRif&quot;, ptemp.getRiferimentoInterno());\r\n                reportParameters.put(&quot;VSRif&quot;, ptemp.getVostroRiferimento());\r\n                reportParameters.put(&quot;Titolo&quot;, c.getTitolo());\r\n                reportParameters.put(&quot;RagioneSociale&quot;, c.getRagioneSociale());\r\n                reportParameters.put(&quot;Indirizzo&quot;, c.getIndirizzo());\r\n                reportParameters.put(&quot;Citta&quot;, c.getCitta());\r\n                reportParameters.put(&quot;Testata&quot;, p.getTestata());\r\n                reportParameters.put(&quot;Oggetto&quot;, p.getOggetto());\r\n                reportParameters.put(&quot;LogoBase64&quot;, base64image);\r\n                ReportService.exportReportToPDF(reportResource.getInputStream(), reportParameters, &quot;report&quot;);\r\n                if (rp.name().equals(&quot;STAMPAPREVENTIVOCOMPLETO&quot;)) {\r\n                    System.out.println(&quot;Stampa preventivo completo&quot;);\r\n                } else {\r\n                    System.out.println(&quot;NO &#232; Stampa preventivo completo&quot;);\r\n                }\r\n    \r\n            } catch (Exception ex) {\r\n                System.out.println(&quot;Errore: &quot; + ex);\r\n    \r\n            }\r\n            return ptemp;\r\n\r\n\r\n**Jasper jrxml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!-- Created with Jaspersoft Studio version 6.17.0.final using JasperReports Library version 6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd  --&gt;\r\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;reportpreventivo&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;3c08ffac-5031-449c-a58f-007dffeebf2f&quot;&gt;\r\n    \t&lt;import value=&quot;org.apache.commons.codec.binary.Base64&quot;/&gt;\r\n    \t&lt;subDataset name=&quot;DataSetHeader&quot; uuid=&quot;db6131ae-8b7b-429e-aaca-42479bc8befd&quot;&gt;\r\n    \t\t&lt;parameter name=&quot;Data&quot; class=&quot;java.lang.String&quot;&gt;\r\n    \t\t\t&lt;parameterDescription&gt;&lt;![CDATA[Data del preventivo]]&gt;&lt;/parameterDescription&gt;\r\n    \t\t&lt;/parameter&gt;\r\n    \t\t&lt;parameter name=&quot;NRPreventivo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;parameter name=&quot;NSRif&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;parameter name=&quot;Titolo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;parameter name=&quot;RagioneSociale&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;parameter name=&quot;Oggetto&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;parameter name=&quot;Testata&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;parameter name=&quot;LogoBase64&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;queryString&gt;\r\n    \t\t\t&lt;![CDATA[]]&gt;\r\n    \t\t&lt;/queryString&gt;\r\n    \t\t&lt;field name=&quot;Data&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;field name=&quot;NSRif&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;field name=&quot;VSRif&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;field name=&quot;NRPreventivo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;field name=&quot;Titolo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;field name=&quot;RagioneSociale&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;field name=&quot;Testata&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;field name=&quot;Oggetto&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;field name=&quot;LogoBase64&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t\t&lt;variable name=&quot;Logo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;/subDataset&gt;\r\n    \t&lt;parameter name=&quot;Data&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;parameter name=&quot;NRPreventivo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;parameter name=&quot;NSRif&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;parameter name=&quot;VSRif&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;parameter name=&quot;Titolo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;parameter name=&quot;RagioneSociale&quot; class=&quot;java.lang.String&quot;&gt;\r\n    \t\t&lt;parameterDescription&gt;&lt;![CDATA[]]&gt;&lt;/parameterDescription&gt;\r\n    \t&lt;/parameter&gt;\r\n    \t&lt;parameter name=&quot;Indirizzo&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;parameter name=&quot;Citta&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;parameter name=&quot;Oggetto&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;parameter name=&quot;Testata&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;parameter name=&quot;LogoBase64&quot; class=&quot;java.lang.String&quot;/&gt;\r\n    \t&lt;queryString&gt;\r\n    \t\t&lt;![CDATA[]]&gt;\r\n    \t&lt;/queryString&gt;\r\n    \t&lt;background&gt;\r\n    \t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/background&gt;\r\n    \t&lt;title&gt;\r\n    \t\t&lt;band height=&quot;79&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;image scaleImage=&quot;FillFrame&quot;&gt;\r\n    \t\t\t\t&lt;reportElement positionType=&quot;Float&quot; stretchType=&quot;RelativeToTallestObject&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;560&quot; height=&quot;79&quot; uuid=&quot;7fe6f2e0-3ba7-4424-9383-8d78bfe1cc21&quot;/&gt;\r\n    \t\t\t\t&lt;imageExpression&gt;&lt;![CDATA[$P{LogoBase64}]]&gt;&lt;/imageExpression&gt;\r\n    \t\t\t&lt;/image&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/title&gt;\r\n    \t&lt;columnHeader&gt;\r\n    \t\t&lt;band height=&quot;430&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;50&quot; y=&quot;15&quot; width=&quot;40&quot; height=&quot;30&quot; uuid=&quot;801816f2-1988-4b9e-9291-88d5a200d238&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Data:]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;90&quot; y=&quot;15&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;29f6924b-5bd2-42f1-bd98-0090aed0d3eb&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{Data}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;50&quot; y=&quot;50&quot; width=&quot;90&quot; height=&quot;30&quot; uuid=&quot;c59e786f-e907-4bcd-93f3-a14d0b777d5c&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Nr Preventivo:]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;140&quot; y=&quot;50&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;b0632e23-c54a-4edc-a264-23055af446a5&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{NRPreventivo}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;50&quot; y=&quot;80&quot; width=&quot;90&quot; height=&quot;30&quot; uuid=&quot;c5dbd3b3-7263-43d5-a804-1a797635fe8a&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Nf.Rif:]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;140&quot; y=&quot;80&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;1a11a6cc-5d1b-4994-bf10-3cc1de504d07&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{NSRif}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;staticText&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;50&quot; y=&quot;110&quot; width=&quot;90&quot; height=&quot;30&quot; uuid=&quot;dc708ab1-3286-479d-ad0b-aaea351652b4&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;text&gt;&lt;![CDATA[Vs.Rif:]]&gt;&lt;/text&gt;\r\n    \t\t\t&lt;/staticText&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;140&quot; y=&quot;110&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;aac1e4b6-da6a-4e46-aa0f-c026896a3b86&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{VSRif}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;380&quot; y=&quot;15&quot; width=&quot;100&quot; height=&quot;25&quot; uuid=&quot;7231c72c-d715-4bbe-8906-a27173f77220&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{Titolo}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;380&quot; y=&quot;50&quot; width=&quot;170&quot; height=&quot;30&quot; uuid=&quot;caf5fd23-70c3-46d3-9de0-c5765c1ec5fc&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{RagioneSociale}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;380&quot; y=&quot;80&quot; width=&quot;170&quot; height=&quot;30&quot; uuid=&quot;ec9b01f4-bcb2-495f-9a54-efc48bb452c8&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{Indirizzo}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;380&quot; y=&quot;110&quot; width=&quot;170&quot; height=&quot;30&quot; uuid=&quot;9174f886-5c23-4f99-9c97-86fb50f6eeb3&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{Citta}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;50&quot; y=&quot;180&quot; width=&quot;500&quot; height=&quot;30&quot; uuid=&quot;089a3b80-f7df-461b-be75-bcad575bf4e9&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{Oggetto}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;50&quot; y=&quot;220&quot; width=&quot;500&quot; height=&quot;210&quot; uuid=&quot;a5a724e9-c81f-470a-8a83-9dd6bfbd823d&quot;/&gt;\r\n    \t\t\t\t&lt;textElement&gt;\r\n    \t\t\t\t\t&lt;font size=&quot;12&quot;/&gt;\r\n    \t\t\t\t&lt;/textElement&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$P{Testata}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/columnHeader&gt;\r\n    \t&lt;detail&gt;\r\n    \t\t&lt;band height=&quot;125&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/detail&gt;\r\n    \t&lt;columnFooter&gt;\r\n    \t\t&lt;band height=&quot;45&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/columnFooter&gt;\r\n    \t&lt;pageFooter&gt;\r\n    \t\t&lt;band height=&quot;69&quot; splitType=&quot;Stretch&quot;&gt;\r\n    \t\t\t&lt;textField&gt;\r\n    \t\t\t\t&lt;reportElement x=&quot;470&quot; y=&quot;30&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;980219d2-fe09-46a6-ad45-44b5a5d955dd&quot;/&gt;\r\n    \t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$V{PAGE_NUMBER}]]&gt;&lt;/textFieldExpression&gt;\r\n    \t\t\t&lt;/textField&gt;\r\n    \t\t&lt;/band&gt;\r\n    \t&lt;/pageFooter&gt;\r\n    \t&lt;summary&gt;\r\n    \t\t&lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\r\n    \t&lt;/summary&gt;\r\n    &lt;/jasperReport&gt;\r\n\r\n","title":"Jasper report spring boot app does not load base64 image","body":"<p>my spring boot application uses jasper report to view the report below, but it does not load me a base64 image in the report, how can I solve? the parameters is LogoBase64</p>\n<p><strong>Spring Boot Java App:</strong></p>\n<pre><code>Preventivo ptemp = p;\n        try {\n            List&lt;TableReportPreventivo&gt; tablevaluesList = new ArrayList&lt;&gt;();\n            //Recupero valori setup reporty\n            //boolean ris = Support.decodeBase64JPG(repoAzienda.getInfo().getLogo()) == false ? false : true;\n            ptemp = repoPreventivo.getInfo(p.getIdPreventivo());\n            p = ptemp;\n            Cliente c = repoCliente.getOne(ptemp.getIdCliente());\n            String base64image = &quot;data:image/jpeg;base64,&quot; + repoAzienda.getInfo().getLogo();\n            //Carico le informazioni del preventivo del Preventivo\n            Date dt = ptemp.getDataInserimento();\n            Date dat = java.sql.Date.valueOf(String.valueOf(dt));\n            Calendar cal = Calendar.getInstance();\n            cal.setTime(dat);\n            TableReportPreventivo tablevalues = new TableReportPreventivo(dt.toString(), ptemp.getIdPreventivo() + &quot;/&quot; + cal.get(Calendar.YEAR), ptemp.getRiferimentoInterno(), ptemp.getVostroRiferimento(), c.getTitolo(), c.getRagioneSociale(), c.getIndirizzo(), c.getCap() + &quot; &quot; + c.getCitta() + &quot; &quot; + c.getProvincia(), ptemp.getOggetto(), ptemp.getTestata(), &quot;&quot;);\n            ClassPathResource reportResource = new ClassPathResource(&quot;templates/reportpreventivo.jasper&quot;);\n            Map&lt;String, Object&gt; reportParameters = new HashMap&lt;&gt;();\n            tablevaluesList.add(tablevalues);\n            JRBeanCollectionDataSource itemsJRBean = new JRBeanCollectionDataSource(tablevaluesList);\n            reportParameters.put(&quot;Data&quot;, ptemp.getDataInserimento().toString());\n            reportParameters.put(&quot;NRPreventivo&quot;, ptemp.getIdPreventivo() + &quot;/&quot; + cal.get(Calendar.YEAR));\n            reportParameters.put(&quot;NSRif&quot;, ptemp.getRiferimentoInterno());\n            reportParameters.put(&quot;VSRif&quot;, ptemp.getVostroRiferimento());\n            reportParameters.put(&quot;Titolo&quot;, c.getTitolo());\n            reportParameters.put(&quot;RagioneSociale&quot;, c.getRagioneSociale());\n            reportParameters.put(&quot;Indirizzo&quot;, c.getIndirizzo());\n            reportParameters.put(&quot;Citta&quot;, c.getCitta());\n            reportParameters.put(&quot;Testata&quot;, p.getTestata());\n            reportParameters.put(&quot;Oggetto&quot;, p.getOggetto());\n            reportParameters.put(&quot;LogoBase64&quot;, base64image);\n            ReportService.exportReportToPDF(reportResource.getInputStream(), reportParameters, &quot;report&quot;);\n            if (rp.name().equals(&quot;STAMPAPREVENTIVOCOMPLETO&quot;)) {\n                System.out.println(&quot;Stampa preventivo completo&quot;);\n            } else {\n                System.out.println(&quot;NO è Stampa preventivo completo&quot;);\n            }\n\n        } catch (Exception ex) {\n            System.out.println(&quot;Errore: &quot; + ex);\n\n        }\n        return ptemp;\n</code></pre>\n<p><strong>Jasper jrxml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- Created with Jaspersoft Studio version 6.17.0.final using JasperReports Library version 6.17.0-6d93193241dd8cc42629e188b94f9e0bc5722efd  --&gt;\n&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;reportpreventivo&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; uuid=&quot;3c08ffac-5031-449c-a58f-007dffeebf2f&quot;&gt;\n    &lt;import value=&quot;org.apache.commons.codec.binary.Base64&quot;/&gt;\n    &lt;subDataset name=&quot;DataSetHeader&quot; uuid=&quot;db6131ae-8b7b-429e-aaca-42479bc8befd&quot;&gt;\n        &lt;parameter name=&quot;Data&quot; class=&quot;java.lang.String&quot;&gt;\n            &lt;parameterDescription&gt;&lt;![CDATA[Data del preventivo]]&gt;&lt;/parameterDescription&gt;\n        &lt;/parameter&gt;\n        &lt;parameter name=&quot;NRPreventivo&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;parameter name=&quot;NSRif&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;parameter name=&quot;Titolo&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;parameter name=&quot;RagioneSociale&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;parameter name=&quot;Oggetto&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;parameter name=&quot;Testata&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;parameter name=&quot;LogoBase64&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;queryString&gt;\n            &lt;![CDATA[]]&gt;\n        &lt;/queryString&gt;\n        &lt;field name=&quot;Data&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;field name=&quot;NSRif&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;field name=&quot;VSRif&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;field name=&quot;NRPreventivo&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;field name=&quot;Titolo&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;field name=&quot;RagioneSociale&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;field name=&quot;Testata&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;field name=&quot;Oggetto&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;field name=&quot;LogoBase64&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;variable name=&quot;Logo&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;/subDataset&gt;\n    &lt;parameter name=&quot;Data&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;NRPreventivo&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;NSRif&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;VSRif&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;Titolo&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;RagioneSociale&quot; class=&quot;java.lang.String&quot;&gt;\n        &lt;parameterDescription&gt;&lt;![CDATA[]]&gt;&lt;/parameterDescription&gt;\n    &lt;/parameter&gt;\n    &lt;parameter name=&quot;Indirizzo&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;Citta&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;Oggetto&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;Testata&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;parameter name=&quot;LogoBase64&quot; class=&quot;java.lang.String&quot;/&gt;\n    &lt;queryString&gt;\n        &lt;![CDATA[]]&gt;\n    &lt;/queryString&gt;\n    &lt;background&gt;\n        &lt;band splitType=&quot;Stretch&quot;/&gt;\n    &lt;/background&gt;\n    &lt;title&gt;\n        &lt;band height=&quot;79&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;image scaleImage=&quot;FillFrame&quot;&gt;\n                &lt;reportElement positionType=&quot;Float&quot; stretchType=&quot;RelativeToTallestObject&quot; x=&quot;0&quot; y=&quot;0&quot; width=&quot;560&quot; height=&quot;79&quot; uuid=&quot;7fe6f2e0-3ba7-4424-9383-8d78bfe1cc21&quot;/&gt;\n                &lt;imageExpression&gt;&lt;![CDATA[$P{LogoBase64}]]&gt;&lt;/imageExpression&gt;\n            &lt;/image&gt;\n        &lt;/band&gt;\n    &lt;/title&gt;\n    &lt;columnHeader&gt;\n        &lt;band height=&quot;430&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=&quot;50&quot; y=&quot;15&quot; width=&quot;40&quot; height=&quot;30&quot; uuid=&quot;801816f2-1988-4b9e-9291-88d5a200d238&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Data:]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=&quot;90&quot; y=&quot;15&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;29f6924b-5bd2-42f1-bd98-0090aed0d3eb&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{Data}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=&quot;50&quot; y=&quot;50&quot; width=&quot;90&quot; height=&quot;30&quot; uuid=&quot;c59e786f-e907-4bcd-93f3-a14d0b777d5c&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Nr Preventivo:]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=&quot;140&quot; y=&quot;50&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;b0632e23-c54a-4edc-a264-23055af446a5&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{NRPreventivo}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=&quot;50&quot; y=&quot;80&quot; width=&quot;90&quot; height=&quot;30&quot; uuid=&quot;c5dbd3b3-7263-43d5-a804-1a797635fe8a&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Nf.Rif:]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=&quot;140&quot; y=&quot;80&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;1a11a6cc-5d1b-4994-bf10-3cc1de504d07&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{NSRif}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;staticText&gt;\n                &lt;reportElement x=&quot;50&quot; y=&quot;110&quot; width=&quot;90&quot; height=&quot;30&quot; uuid=&quot;dc708ab1-3286-479d-ad0b-aaea351652b4&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;text&gt;&lt;![CDATA[Vs.Rif:]]&gt;&lt;/text&gt;\n            &lt;/staticText&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=&quot;140&quot; y=&quot;110&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;aac1e4b6-da6a-4e46-aa0f-c026896a3b86&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{VSRif}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=&quot;380&quot; y=&quot;15&quot; width=&quot;100&quot; height=&quot;25&quot; uuid=&quot;7231c72c-d715-4bbe-8906-a27173f77220&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{Titolo}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=&quot;380&quot; y=&quot;50&quot; width=&quot;170&quot; height=&quot;30&quot; uuid=&quot;caf5fd23-70c3-46d3-9de0-c5765c1ec5fc&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{RagioneSociale}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=&quot;380&quot; y=&quot;80&quot; width=&quot;170&quot; height=&quot;30&quot; uuid=&quot;ec9b01f4-bcb2-495f-9a54-efc48bb452c8&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{Indirizzo}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=&quot;380&quot; y=&quot;110&quot; width=&quot;170&quot; height=&quot;30&quot; uuid=&quot;9174f886-5c23-4f99-9c97-86fb50f6eeb3&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{Citta}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=&quot;50&quot; y=&quot;180&quot; width=&quot;500&quot; height=&quot;30&quot; uuid=&quot;089a3b80-f7df-461b-be75-bcad575bf4e9&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{Oggetto}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=&quot;50&quot; y=&quot;220&quot; width=&quot;500&quot; height=&quot;210&quot; uuid=&quot;a5a724e9-c81f-470a-8a83-9dd6bfbd823d&quot;/&gt;\n                &lt;textElement&gt;\n                    &lt;font size=&quot;12&quot;/&gt;\n                &lt;/textElement&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$P{Testata}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/columnHeader&gt;\n    &lt;detail&gt;\n        &lt;band height=&quot;125&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/detail&gt;\n    &lt;columnFooter&gt;\n        &lt;band height=&quot;45&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/columnFooter&gt;\n    &lt;pageFooter&gt;\n        &lt;band height=&quot;69&quot; splitType=&quot;Stretch&quot;&gt;\n            &lt;textField&gt;\n                &lt;reportElement x=&quot;470&quot; y=&quot;30&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;980219d2-fe09-46a6-ad45-44b5a5d955dd&quot;/&gt;\n                &lt;textFieldExpression&gt;&lt;![CDATA[$V{PAGE_NUMBER}]]&gt;&lt;/textFieldExpression&gt;\n            &lt;/textField&gt;\n        &lt;/band&gt;\n    &lt;/pageFooter&gt;\n    &lt;summary&gt;\n        &lt;band height=&quot;42&quot; splitType=&quot;Stretch&quot;/&gt;\n    &lt;/summary&gt;\n&lt;/jasperReport&gt;\n</code></pre>\n"},{"tags":["javascript","java","hash","sha512"],"comments":[{"owner":{"account_id":6814678,"reputation":25,"user_id":5243861,"display_name":"Adenfr Aden"},"score":0,"creation_date":1564915253,"post_id":57345761,"comment_id":101179537,"body_markdown":"i just need to convert the keygen function to java but i don&#39;t know how to...","body":"i just need to convert the keygen function to java but i don&#39;t know how to..."},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1564915419,"post_id":57345761,"comment_id":101179568,"body_markdown":"which part don&#39;t you understand? also, what is `$mat` ... seems to be a variable not declared anywhere ... and what are the `base64_encode` and `pack` and `sha1` functions - they aren&#39;t &quot;standard&quot; javascript functions, so must be declared elsewhere in your code","body":"which part don&#39;t you understand? also, what is <code>$mat</code> ... seems to be a variable not declared anywhere ... and what are the <code>base64_encode</code> and <code>pack</code> and <code>sha1</code> functions - they aren&#39;t &quot;standard&quot; javascript functions, so must be declared elsewhere in your code"},{"owner":{"account_id":6814678,"reputation":25,"user_id":5243861,"display_name":"Adenfr Aden"},"score":0,"creation_date":1564915783,"post_id":57345761,"comment_id":101179667,"body_markdown":"$mat :meanes the serial number of student\nbase64_encode : it&#39;s base64 crypto \nin global i generate sha512 function then my problem start from here:\n  var p1 = Math.floor(Math.random() * (l+1)) ;\n        var p2 = Math.floor(Math.random() * (l+1)) ;\n        var p3 = Math.floor(Math.random() * (l+1)) ;\n        var motif1 = obj.hash.substr(p1, 4) ;\n        var motif2 = obj.hash.substr(p2, 4) ;\n        var motif3 = obj.hash.substr(p3, 4) ;\nhow to do this from starting from  get_SHA_512_SecurePassword function","body":"$mat :meanes the serial number of student base64_encode : it&#39;s base64 crypto  in global i generate sha512 function then my problem start from here:   var p1 = Math.floor(Math.random() * (l+1)) ;         var p2 = Math.floor(Math.random() * (l+1)) ;         var p3 = Math.floor(Math.random() * (l+1)) ;         var motif1 = obj.hash.substr(p1, 4) ;         var motif2 = obj.hash.substr(p2, 4) ;         var motif3 = obj.hash.substr(p3, 4) ; how to do this from starting from  get_SHA_512_SecurePassword function"},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1564915980,"post_id":57345761,"comment_id":101179713,"body_markdown":"yes, but why is there an argument called `mat` that is never used. Why do you create a `var hash` that is never used. What is `obj` whose `hash` property you are using in the rest of the code? ... see the answer for the code that I can explain","body":"yes, but why is there an argument called <code>mat</code> that is never used. Why do you create a <code>var hash</code> that is never used. What is <code>obj</code> whose <code>hash</code> property you are using in the rest of the code? ... see the answer for the code that I can explain"},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1564916086,"post_id":57345761,"comment_id":101179746,"body_markdown":"`get_SHA_512_SecurePassword` seems to be written in a language other than Javascript - so, how is it at all relevant to your problem?","body":"<code>get_SHA_512_SecurePassword</code> seems to be written in a language other than Javascript - so, how is it at all relevant to your problem?"},{"owner":{"account_id":6814678,"reputation":25,"user_id":5243861,"display_name":"Adenfr Aden"},"score":0,"creation_date":1564921178,"post_id":57345761,"comment_id":101180796,"body_markdown":"yes i want to creat all the code in java languge\nso in first code of javascript he make hash for mat veriable than he create rendom number\nand substring  ....","body":"yes i want to creat all the code in java languge so in first code of javascript he make hash for mat veriable than he create rendom number and substring  ...."},{"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"score":0,"creation_date":1564958084,"post_id":57345761,"comment_id":101189087,"body_markdown":"sure, but what is `$met`, what is `obj` - you have the code, you haven&#39;t shown what those two things are in the question, I keep saying it, and you keep ignoring these two very important details","body":"sure, but what is <code>$met</code>, what is <code>obj</code> - you have the code, you haven&#39;t shown what those two things are in the question, I keep saying it, and you keep ignoring these two very important details"}],"answers":[{"tags":[],"owner":{"account_id":6532198,"reputation":54701,"user_id":5053002,"display_name":"Jaromanda X"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564915842,"creation_date":1564915842,"answer_id":57345948,"question_id":57345761,"body_markdown":"    function keyGen(mat) {\r\n        // seems to get the sha1 of $mat (whatever that is), \r\n        // converts this sha1 into HEX string\r\n        // encode the hex string into into base64\r\n        // the above is a GUESS, as I don&#39;t know what library you are using for these functions\r\n        var hash = base64_encode(pack(&quot;H*&quot;, sha1($mat)));\r\n\r\n        // length of `obj.hash` - whatever that is\r\n        var l = obj.hash.length - 4;\r\n\r\n        // random number between 0 and l + 1\r\n        var p1 = Math.floor(Math.random() * (l+1)) ;\r\n        // random number between 0 and l + 1\r\n        var p2 = Math.floor(Math.random() * (l+1)) ;\r\n        // random number between 0 and l + 1\r\n        var p3 = Math.floor(Math.random() * (l+1)) ;\r\n\r\n        // a substring of whatever obj.hash is, from position p1 length 4\r\n        var motif1 = obj.hash.substr(p1, 4) ;\r\n        // a substring of whatever obj.hash is, from position p2 length 4\r\n        var motif2 = obj.hash.substr(p2, 4) ;\r\n        // a substring of whatever obj.hash is, from position p3 length 4\r\n        var motif3 = obj.hash.substr(p3, 4) ;\r\n\r\n        // the string concatenation of the above three strings\r\n        var cle = motif1+motif2+motif3 ;\r\n        // returns this 12 character string\r\n        return cle ;\r\n    }\r\n\r\nNow, all you need to figure out is\r\n\r\n- What is `base64_encode`\r\n- what is `pack`\r\n- what is `sha1`\r\n- what is `$mat`\r\n- what is `obj` that you use `obj.hash` from\r\n- why you are creating `hash` and never using it\r\n- why you never use the `mat` argument","title":"how to convert this code in javascript to java","body":"<pre><code>function keyGen(mat) {\n    // seems to get the sha1 of $mat (whatever that is), \n    // converts this sha1 into HEX string\n    // encode the hex string into into base64\n    // the above is a GUESS, as I don't know what library you are using for these functions\n    var hash = base64_encode(pack(\"H*\", sha1($mat)));\n\n    // length of `obj.hash` - whatever that is\n    var l = obj.hash.length - 4;\n\n    // random number between 0 and l + 1\n    var p1 = Math.floor(Math.random() * (l+1)) ;\n    // random number between 0 and l + 1\n    var p2 = Math.floor(Math.random() * (l+1)) ;\n    // random number between 0 and l + 1\n    var p3 = Math.floor(Math.random() * (l+1)) ;\n\n    // a substring of whatever obj.hash is, from position p1 length 4\n    var motif1 = obj.hash.substr(p1, 4) ;\n    // a substring of whatever obj.hash is, from position p2 length 4\n    var motif2 = obj.hash.substr(p2, 4) ;\n    // a substring of whatever obj.hash is, from position p3 length 4\n    var motif3 = obj.hash.substr(p3, 4) ;\n\n    // the string concatenation of the above three strings\n    var cle = motif1+motif2+motif3 ;\n    // returns this 12 character string\n    return cle ;\n}\n</code></pre>\n\n<p>Now, all you need to figure out is</p>\n\n<ul>\n<li>What is <code>base64_encode</code></li>\n<li>what is <code>pack</code></li>\n<li>what is <code>sha1</code></li>\n<li>what is <code>$mat</code></li>\n<li>what is <code>obj</code> that you use <code>obj.hash</code> from</li>\n<li>why you are creating <code>hash</code> and never using it</li>\n<li>why you never use the <code>mat</code> argument</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":6814678,"reputation":25,"user_id":5243861,"display_name":"Adenfr Aden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564994347,"creation_date":1564994347,"answer_id":57354923,"question_id":57345761,"body_markdown":"here is the full code : i found it ..... thanks all\r\n\r\n    public static String get_SHA_512_SecurePassword(String passwordToHash, String   salt){\r\n    \t\tString generatedPassword = null;\r\n    \t\t    try {\r\n    \t\t         MessageDigest md = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n    \t\t         md.update(salt.getBytes(StandardCharsets.UTF_8));\r\n    \t\t         byte[] bytes = md.digest(passwordToHash.getBytes(StandardCharsets.UTF_8));\r\n    \t\t         StringBuilder sb = new StringBuilder();\r\n    \t\t         for(int i=0; i&lt; bytes.length ;i++){\r\n    \t\t            sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n    \t\t         }\r\n    \t\t    //     String base64 = Base64.encodeBase64(sb.toString());\r\n    \t\t         generatedPassword = sb.toString();\r\n    \t\t        } \r\n    \t\t       catch (NoSuchAlgorithmException e){\r\n    \t\t        e.printStackTrace();\r\n    \t\t       }\r\n    \t\t    return generatedPassword;\r\n    \t\t}\r\n    \t\r\n    \tpublic static String keyGen(String Studentpass,String SaltCrypter) {\r\n    \t\tString hash=get_SHA_512_SecurePassword(Studentpass,SaltCrypter);\r\n    \t\t\r\n    \t\tint  l = hash.length() - 4;\r\n    \t\tnew Random().nextInt();\r\n    \t\t\r\n    \t\tint p1 =  new  Random().nextInt(l) ; \r\n    \t\tint p2 =  new  Random().nextInt(l) ; \r\n    \t\tint p3 =  new  Random().nextInt(l) ; \r\n    \t\t\r\n    \t\tString motif1 = hash.substring(p1, p1+4);\r\n    \t\tString motif2 = hash.substring(p2, p2+4);\r\n    \t\tString motif3 = hash.substring(p3, p3+4);\r\n    \t\tString cle =(motif1+motif2+motif3);\r\n    \t\tcle.replace(&quot;l&quot;, &quot;L&quot;).replace(&quot;O&quot;, &quot;o&quot;).replace(&quot;I&quot;, &quot;i&quot;);\r\n    \t\treturn cle;\r\n    \t}\r\n\t","title":"how to convert this code in javascript to java","body":"<p>here is the full code : i found it ..... thanks all</p>\n\n<pre><code>public static String get_SHA_512_SecurePassword(String passwordToHash, String   salt){\n        String generatedPassword = null;\n            try {\n                 MessageDigest md = MessageDigest.getInstance(\"SHA-512\");\n                 md.update(salt.getBytes(StandardCharsets.UTF_8));\n                 byte[] bytes = md.digest(passwordToHash.getBytes(StandardCharsets.UTF_8));\n                 StringBuilder sb = new StringBuilder();\n                 for(int i=0; i&lt; bytes.length ;i++){\n                    sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\n                 }\n            //     String base64 = Base64.encodeBase64(sb.toString());\n                 generatedPassword = sb.toString();\n                } \n               catch (NoSuchAlgorithmException e){\n                e.printStackTrace();\n               }\n            return generatedPassword;\n        }\n\n    public static String keyGen(String Studentpass,String SaltCrypter) {\n        String hash=get_SHA_512_SecurePassword(Studentpass,SaltCrypter);\n\n        int  l = hash.length() - 4;\n        new Random().nextInt();\n\n        int p1 =  new  Random().nextInt(l) ; \n        int p2 =  new  Random().nextInt(l) ; \n        int p3 =  new  Random().nextInt(l) ; \n\n        String motif1 = hash.substring(p1, p1+4);\n        String motif2 = hash.substring(p2, p2+4);\n        String motif3 = hash.substring(p3, p3+4);\n        String cle =(motif1+motif2+motif3);\n        cle.replace(\"l\", \"L\").replace(\"O\", \"o\").replace(\"I\", \"i\");\n        return cle;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24900699,"reputation":1,"user_id":18771409,"display_name":"mounika"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649693929,"creation_date":1649677281,"answer_id":71827202,"question_id":57345761,"body_markdown":"    let arr = [\r\n        {url: &#39;http://172.25.38.138:4000/moservice/create1&#39;, startTime: &#39;04/11/2022 16:04:15&#39;, endTime: &#39;04/11/2022 16:24:15&#39;},\r\n        {url: &#39;http://172.25.38.138:4000/moservice/create2&#39;, startTime: &#39;04/11/2022 16:24:15&#39;, endTime: &#39;04/11/2022 16:34:15&#39;},\r\n        {url: &#39;http://172.25.38.138:4000/moservice/create3&#39;, startTime: &#39;04/11/2022 16:34:15&#39;, endTime: &#39;04/11/2022 16:54:15&#39;},\r\n        {url: &#39;http://172.25.38.138:4000/moservice/create4&#39;, startTime: &#39;04/11/2022 17:04:15&#39;, endTime: &#39;04/11/2022 17:14:15&#39;}\r\n    ];\r\n    let curntTime = new Date()\r\n    function getUrl(arr) {\r\n        for (let i = 0; i &lt; arr.length; i++) {\r\n            let startTime = new Date(arr[i].startTime)\r\n            let endTime = new Date(arr[i].endTime)\r\n    \r\n            if (curntTime &gt; startTime &amp;&amp; curntTime &lt; endTime) {\r\n                console.log(arr[i].url)\r\n            }\r\n        }\r\n    }\r\n    getUrl(arr)\r\n\r\nB","title":"how to convert this code in javascript to java","body":"<pre><code>let arr = [\n    {url: 'http://172.25.38.138:4000/moservice/create1', startTime: '04/11/2022 16:04:15', endTime: '04/11/2022 16:24:15'},\n    {url: 'http://172.25.38.138:4000/moservice/create2', startTime: '04/11/2022 16:24:15', endTime: '04/11/2022 16:34:15'},\n    {url: 'http://172.25.38.138:4000/moservice/create3', startTime: '04/11/2022 16:34:15', endTime: '04/11/2022 16:54:15'},\n    {url: 'http://172.25.38.138:4000/moservice/create4', startTime: '04/11/2022 17:04:15', endTime: '04/11/2022 17:14:15'}\n];\nlet curntTime = new Date()\nfunction getUrl(arr) {\n    for (let i = 0; i &lt; arr.length; i++) {\n        let startTime = new Date(arr[i].startTime)\n        let endTime = new Date(arr[i].endTime)\n\n        if (curntTime &gt; startTime &amp;&amp; curntTime &lt; endTime) {\n            console.log(arr[i].url)\n        }\n    }\n}\ngetUrl(arr)\n</code></pre>\n<p>B</p>\n"}],"owner":{"account_id":6814678,"reputation":25,"user_id":5243861,"display_name":"Adenfr Aden"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1649693929,"creation_date":1564914329,"question_id":57345761,"body_markdown":"i have this code in javascript and i need to convert it to java\r\nbut im not expert in javascript.\r\n\r\nhere the code:\r\n\r\n    function keyGen(mat)\r\n    {\r\n            var hash = base64_encode(pack(&quot;H*&quot;, sha1($mat)));\r\n          \tvar l = obj.hash.length - 4;\r\n            var p1 = Math.floor(Math.random() * (l+1)) ;\r\n            var p2 = Math.floor(Math.random() * (l+1)) ;\r\n            var p3 = Math.floor(Math.random() * (l+1)) ;\r\n            var motif1 = obj.hash.substr(p1, 4) ;\r\n            var motif2 = obj.hash.substr(p2, 4) ;\r\n            var motif3 = obj.hash.substr(p3, 4) ;\r\n            var cle = motif1+motif2+motif3 ;\r\n    \treturn cle ;\r\n    }\r\n\r\nfor the hash i use the function but i can&#39;t to modify it:\r\n\r\n    public static String get_SHA_512_SecurePassword(String passwordToHash, String   salt){\r\n    \t\tString generatedPassword = null;\r\n    \t\t    try {\r\n    \t\t         MessageDigest md = MessageDigest.getInstance(&quot;SHA-512&quot;);\r\n    \t\t         md.update(salt.getBytes(StandardCharsets.UTF_8));\r\n    \t\t         byte[] bytes = md.digest(passwordToHash.getBytes(StandardCharsets.UTF_8));\r\n    \t\t         StringBuilder sb = new StringBuilder();\r\n    \t\t         for(int i=0; i&lt; bytes.length ;i++){\r\n    \t\t            sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\r\n    \t\t         }\r\n    \t\t         generatedPassword = sb.toString();\r\n    \t\t        } \r\n    \t\t       catch (NoSuchAlgorithmException e){\r\n    \t\t        e.printStackTrace();\r\n    \t\t       }\r\n    \t\t    return generatedPassword;\r\n    \t\t}","title":"how to convert this code in javascript to java","body":"<p>i have this code in javascript and i need to convert it to java\nbut im not expert in javascript.</p>\n\n<p>here the code:</p>\n\n<pre><code>function keyGen(mat)\n{\n        var hash = base64_encode(pack(\"H*\", sha1($mat)));\n        var l = obj.hash.length - 4;\n        var p1 = Math.floor(Math.random() * (l+1)) ;\n        var p2 = Math.floor(Math.random() * (l+1)) ;\n        var p3 = Math.floor(Math.random() * (l+1)) ;\n        var motif1 = obj.hash.substr(p1, 4) ;\n        var motif2 = obj.hash.substr(p2, 4) ;\n        var motif3 = obj.hash.substr(p3, 4) ;\n        var cle = motif1+motif2+motif3 ;\n    return cle ;\n}\n</code></pre>\n\n<p>for the hash i use the function but i can't to modify it:</p>\n\n<pre><code>public static String get_SHA_512_SecurePassword(String passwordToHash, String   salt){\n        String generatedPassword = null;\n            try {\n                 MessageDigest md = MessageDigest.getInstance(\"SHA-512\");\n                 md.update(salt.getBytes(StandardCharsets.UTF_8));\n                 byte[] bytes = md.digest(passwordToHash.getBytes(StandardCharsets.UTF_8));\n                 StringBuilder sb = new StringBuilder();\n                 for(int i=0; i&lt; bytes.length ;i++){\n                    sb.append(Integer.toString((bytes[i] &amp; 0xff) + 0x100, 16).substring(1));\n                 }\n                 generatedPassword = sb.toString();\n                } \n               catch (NoSuchAlgorithmException e){\n                e.printStackTrace();\n               }\n            return generatedPassword;\n        }\n</code></pre>\n"},{"tags":["java","powershell","wmi","powershell-2.0"],"answers":[{"tags":[],"owner":{"account_id":235911,"reputation":23311,"user_id":503046,"display_name":"vonPryz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649693732,"creation_date":1398717340,"answer_id":23350696,"question_id":23350392,"body_markdown":"Your main method only calls `executePSCommand`, which returns a string. You never do anything with the return value, so no output is likely to appear.\r\n\r\nHow about something like so,\r\n\r\n    String s = executePSCommand(&quot;Get-WmiObject Win32_Processor&quot;);\r\n    System.out.println(s);\r\n\r\n","title":"Execute WQL with Java using PowerShell","body":"<p>Your main method only calls <code>executePSCommand</code>, which returns a string. You never do anything with the return value, so no output is likely to appear.</p>\n<p>How about something like so,</p>\n<pre><code>String s = executePSCommand(&quot;Get-WmiObject Win32_Processor&quot;);\nSystem.out.println(s);\n</code></pre>\n"}],"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":23350696,"answer_count":1,"score":0,"last_activity_date":1649693732,"creation_date":1398716185,"question_id":23350392,"body_markdown":"I tested this Java code which executed WQL query into PowerShell:\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.File;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    \r\n    /**\r\n     * Operations for executing Windows Powershell Scripts from Java.\r\n     *\r\n     * @author Brian Thorne\r\n     */\r\n    public class Sample\r\n    {\r\n    \r\n        public static void main(String[] args) throws Exception\r\n        {\r\n            executePSCommand(&quot;Get-WmiObject Win32_Processor&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Executes a Powershell command.\r\n         *\r\n         * @param command the command\r\n         * @return the result as String.\r\n         * @throws Exception if an error occurs\r\n         */\r\n        public static String executePSCommand(String command) throws Exception\r\n        {\r\n            String cmd = &quot;cmd /c powershell -ExecutionPolicy RemoteSigned -noprofile -noninteractive &quot; + command;\r\n            return exec(cmd);\r\n        }\r\n    \r\n        /**\r\n         * Executes a Powershell script.\r\n         *\r\n         * @param scriptFilename the filename of the script\r\n         * @param args any arguments to pass to the script\r\n         * @return the result as String.\r\n         * @throws Exception if an error occurs\r\n         */\r\n        public static String executePSScript(String scriptFilename, String args) throws Exception\r\n        {\r\n            if (!new File(scriptFilename).exists())\r\n                throw new Exception(&quot;Script file doesn&#39;t exist: &quot; + scriptFilename);\r\n    \r\n            String cmd = &quot;cmd /c powershell -ExecutionPolicy RemoteSigned -noprofile -noninteractive -file \\&quot;&quot; + scriptFilename + &quot;\\&quot;&quot;;\r\n            if (args != null &amp;&amp; args.length() &gt; 0)\r\n                cmd += &quot; &quot; + args;\r\n            return exec(cmd);\r\n        }\r\n    \r\n        /**\r\n         * Executes a batch file. If you want to call Powershell from the batch file you need to do it using this syntax: powershell -ExecutionPolicy RemoteSigned -NoProfile\r\n         * -NonInteractive -File c:/temp/script.ps1\r\n         *\r\n         * @param batchFilename the filename of the batch file\r\n         * @param params any parameters to pass to the batch file\r\n         * @return the result as String.\r\n         * @throws Exception if an error occurs\r\n         */\r\n        public static String executeBatchFile(String batchFilename, String params) throws Exception\r\n        {\r\n            if (!new File(batchFilename).exists())\r\n                throw new Exception(&quot;Batch file doesn&#39;t exist: &quot; + batchFilename);\r\n    \r\n            String cmd = &quot;cmd /c \\&quot;&quot; + batchFilename + &quot;\\&quot;&quot;;\r\n            if (params != null &amp;&amp; params.length() &gt; 0)\r\n                cmd += &quot; &quot; + params;\r\n            return exec(cmd);\r\n        }\r\n    \r\n        private static String exec(String command) throws Exception\r\n        {\r\n            StringBuffer sbInput = new StringBuffer();\r\n            StringBuffer sbError = new StringBuffer();\r\n    \r\n            Runtime runtime = Runtime.getRuntime();\r\n            Process proc = runtime.exec(command);\r\n            proc.getOutputStream().close();\r\n            InputStream inputstream = proc.getInputStream();\r\n            InputStreamReader inputstreamreader = new InputStreamReader(inputstream);\r\n            BufferedReader bufferedreader = new BufferedReader(inputstreamreader);\r\n    \r\n            String line;\r\n            while ((line = bufferedreader.readLine()) != null)\r\n            {\r\n                sbInput.append(line + &quot;\\n&quot;);\r\n            }\r\n    \r\n            inputstream = proc.getErrorStream();\r\n            inputstreamreader = new InputStreamReader(inputstream);\r\n            bufferedreader = new BufferedReader(inputstreamreader);\r\n            while ((line = bufferedreader.readLine()) != null)\r\n            {\r\n                sbError.append(line + &quot;\\n&quot;);\r\n            }\r\n    \r\n            if (sbError.length() &gt; 0)\r\n                throw new Exception(&quot;The command [&quot; + command + &quot;] failed to execute!\\n\\nResult returned:\\n&quot; + sbError.toString());\r\n    \r\n            return &quot;The command [&quot; + command + &quot;] executed successfully!\\n\\nResult returned:\\n&quot; + sbInput.toString();\r\n        }\r\n    }\r\n\r\nFoe some reason when I run the code I don&#39;t get any output. Can you help to fix this code?\r\n\r\n","title":"Execute WQL with Java using PowerShell","body":"<p>I tested this Java code which executed WQL query into PowerShell:</p>\n\n<pre><code>import java.io.BufferedReader;\nimport java.io.File;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\n/**\n * Operations for executing Windows Powershell Scripts from Java.\n *\n * @author Brian Thorne\n */\npublic class Sample\n{\n\n    public static void main(String[] args) throws Exception\n    {\n        executePSCommand(\"Get-WmiObject Win32_Processor\");\n    }\n\n    /**\n     * Executes a Powershell command.\n     *\n     * @param command the command\n     * @return the result as String.\n     * @throws Exception if an error occurs\n     */\n    public static String executePSCommand(String command) throws Exception\n    {\n        String cmd = \"cmd /c powershell -ExecutionPolicy RemoteSigned -noprofile -noninteractive \" + command;\n        return exec(cmd);\n    }\n\n    /**\n     * Executes a Powershell script.\n     *\n     * @param scriptFilename the filename of the script\n     * @param args any arguments to pass to the script\n     * @return the result as String.\n     * @throws Exception if an error occurs\n     */\n    public static String executePSScript(String scriptFilename, String args) throws Exception\n    {\n        if (!new File(scriptFilename).exists())\n            throw new Exception(\"Script file doesn't exist: \" + scriptFilename);\n\n        String cmd = \"cmd /c powershell -ExecutionPolicy RemoteSigned -noprofile -noninteractive -file \\\"\" + scriptFilename + \"\\\"\";\n        if (args != null &amp;&amp; args.length() &gt; 0)\n            cmd += \" \" + args;\n        return exec(cmd);\n    }\n\n    /**\n     * Executes a batch file. If you want to call Powershell from the batch file you need to do it using this syntax: powershell -ExecutionPolicy RemoteSigned -NoProfile\n     * -NonInteractive -File c:/temp/script.ps1\n     *\n     * @param batchFilename the filename of the batch file\n     * @param params any parameters to pass to the batch file\n     * @return the result as String.\n     * @throws Exception if an error occurs\n     */\n    public static String executeBatchFile(String batchFilename, String params) throws Exception\n    {\n        if (!new File(batchFilename).exists())\n            throw new Exception(\"Batch file doesn't exist: \" + batchFilename);\n\n        String cmd = \"cmd /c \\\"\" + batchFilename + \"\\\"\";\n        if (params != null &amp;&amp; params.length() &gt; 0)\n            cmd += \" \" + params;\n        return exec(cmd);\n    }\n\n    private static String exec(String command) throws Exception\n    {\n        StringBuffer sbInput = new StringBuffer();\n        StringBuffer sbError = new StringBuffer();\n\n        Runtime runtime = Runtime.getRuntime();\n        Process proc = runtime.exec(command);\n        proc.getOutputStream().close();\n        InputStream inputstream = proc.getInputStream();\n        InputStreamReader inputstreamreader = new InputStreamReader(inputstream);\n        BufferedReader bufferedreader = new BufferedReader(inputstreamreader);\n\n        String line;\n        while ((line = bufferedreader.readLine()) != null)\n        {\n            sbInput.append(line + \"\\n\");\n        }\n\n        inputstream = proc.getErrorStream();\n        inputstreamreader = new InputStreamReader(inputstream);\n        bufferedreader = new BufferedReader(inputstreamreader);\n        while ((line = bufferedreader.readLine()) != null)\n        {\n            sbError.append(line + \"\\n\");\n        }\n\n        if (sbError.length() &gt; 0)\n            throw new Exception(\"The command [\" + command + \"] failed to execute!\\n\\nResult returned:\\n\" + sbError.toString());\n\n        return \"The command [\" + command + \"] executed successfully!\\n\\nResult returned:\\n\" + sbInput.toString();\n    }\n}\n</code></pre>\n\n<p>Foe some reason when I run the code I don't get any output. Can you help to fix this code?</p>\n"},{"tags":["java","maven","appassembler"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649710247,"post_id":71831063,"comment_id":126940858,"body_markdown":"Creating an archive you should use maven-assembly-plugin for that...","body":"Creating an archive you should use maven-assembly-plugin for that..."},{"owner":{"account_id":10025566,"reputation":1,"user_id":7413833,"display_name":"Jose Velaz"},"score":0,"creation_date":1649748703,"post_id":71831063,"comment_id":126948341,"body_markdown":"The scripts are created as expected, as the dependency jars are copied into the lib directory of the assembly path, but the only one remaining to be copied is the proper jar from my project.","body":"The scripts are created as expected, as the dependency jars are copied into the lib directory of the assembly path, but the only one remaining to be copied is the proper jar from my project."}],"owner":{"account_id":10025566,"reputation":1,"user_id":7413833,"display_name":"Jose Velaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649693660,"creation_date":1649693660,"question_id":71831063,"body_markdown":"I&#39;m using Maven with the plugin AppAssembler from CodeHaus to auto-generate my launching scripts both for Win and Unix (maybe there is a better solution??), everything works fine but the copy of the proper jar into the lib dir. Note the assemble directory is customized, but I&#39;d like to have a &quot;final&quot; compiled directory that I can just tar/zip and deploy on the different installations.\r\n\r\nI run the usual mvn clean package appassembler:assemble\r\n\r\nThe plugin conf in my pom.xml:\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.1.0&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;configurationSourceDirectory&gt;${project.basedir}/config&lt;/configurationSourceDirectory&gt;\r\n\t\t&lt;configurationDirectory&gt;bin/config&lt;/configurationDirectory&gt;\r\n\t\t&lt;logsDirectory&gt;bin/logs&lt;/logsDirectory&gt;\r\n\t\t&lt;copyConfigurationDirectory&gt;true&lt;/copyConfigurationDirectory&gt;\r\n\t\t&lt;includeConfigurationDirectoryInClasspath&gt;true&lt;/includeConfigurationDirectoryInClasspath&gt;\r\n\t\t&lt;assembleDirectory&gt;${project.build.directory}/Report-assemble&lt;/assembleDirectory&gt;\r\n\t\t&lt;extraJvmArguments&gt;-Xms256M&lt;/extraJvmArguments&gt;\r\n\t\t&lt;binFolder&gt;bin&lt;/binFolder&gt;\r\n\t\t&lt;repositoryLayout&gt;flat&lt;/repositoryLayout&gt;\r\n\t\t&lt;repositoryName&gt;lib&lt;/repositoryName&gt;\r\n\t\t&lt;platforms&gt;\r\n\t\t\t&lt;platform&gt;windows&lt;/platform&gt;\r\n\t\t\t&lt;platform&gt;unix&lt;/platform&gt;\r\n\t\t&lt;/platforms&gt;\r\n\t\t&lt;programs&gt;\r\n\t\t\t&lt;program&gt;\r\n\t\t\t\t&lt;mainClass&gt;my.class.to.the.ReportApplication&lt;/mainClass&gt;\r\n\t\t\t\t&lt;id&gt;Report&lt;/id&gt;\r\n\t\t\t\t&lt;!-- Only generate windows bat script for this application --&gt;\r\n\t\t\t\t&lt;platforms&gt;\r\n\t\t\t\t\t&lt;platform&gt;windows&lt;/platform&gt;\r\n\t\t\t\t\t&lt;platform&gt;unix&lt;/platform&gt;\r\n\t\t\t\t&lt;/platforms&gt;\r\n\t\t\t&lt;/program&gt;\r\n\t\t&lt;/programs&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nIs there a way to do so automatically when running the assemble? The idea is to have it use my pipelines and through Jenkins-CloudBees automatically deploy everything each time an improvement or modification is done on the code.\r\n\r\nThanks in advance","title":"Maven AppAssembler not copying the own jar","body":"<p>I'm using Maven with the plugin AppAssembler from CodeHaus to auto-generate my launching scripts both for Win and Unix (maybe there is a better solution??), everything works fine but the copy of the proper jar into the lib dir. Note the assemble directory is customized, but I'd like to have a &quot;final&quot; compiled directory that I can just tar/zip and deploy on the different installations.</p>\n<p>I run the usual mvn clean package appassembler:assemble</p>\n<p>The plugin conf in my pom.xml:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n    &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;configurationSourceDirectory&gt;${project.basedir}/config&lt;/configurationSourceDirectory&gt;\n        &lt;configurationDirectory&gt;bin/config&lt;/configurationDirectory&gt;\n        &lt;logsDirectory&gt;bin/logs&lt;/logsDirectory&gt;\n        &lt;copyConfigurationDirectory&gt;true&lt;/copyConfigurationDirectory&gt;\n        &lt;includeConfigurationDirectoryInClasspath&gt;true&lt;/includeConfigurationDirectoryInClasspath&gt;\n        &lt;assembleDirectory&gt;${project.build.directory}/Report-assemble&lt;/assembleDirectory&gt;\n        &lt;extraJvmArguments&gt;-Xms256M&lt;/extraJvmArguments&gt;\n        &lt;binFolder&gt;bin&lt;/binFolder&gt;\n        &lt;repositoryLayout&gt;flat&lt;/repositoryLayout&gt;\n        &lt;repositoryName&gt;lib&lt;/repositoryName&gt;\n        &lt;platforms&gt;\n            &lt;platform&gt;windows&lt;/platform&gt;\n            &lt;platform&gt;unix&lt;/platform&gt;\n        &lt;/platforms&gt;\n        &lt;programs&gt;\n            &lt;program&gt;\n                &lt;mainClass&gt;my.class.to.the.ReportApplication&lt;/mainClass&gt;\n                &lt;id&gt;Report&lt;/id&gt;\n                &lt;!-- Only generate windows bat script for this application --&gt;\n                &lt;platforms&gt;\n                    &lt;platform&gt;windows&lt;/platform&gt;\n                    &lt;platform&gt;unix&lt;/platform&gt;\n                &lt;/platforms&gt;\n            &lt;/program&gt;\n        &lt;/programs&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Is there a way to do so automatically when running the assemble? The idea is to have it use my pipelines and through Jenkins-CloudBees automatically deploy everything each time an improvement or modification is done on the code.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","spring-boot","logging","spring-boot-actuator"],"answers":[{"tags":[],"owner":{"account_id":1215944,"reputation":2026,"user_id":1183542,"accept_rate":4,"display_name":"gigi2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649693628,"creation_date":1649693628,"answer_id":71831060,"question_id":71712545,"body_markdown":"we have \r\nspring-boot-starter-security\r\nand\r\nspring-boot-starter-oauth2-client\r\n\r\nto use oauth 2 to protect most endpoints.\r\n\r\nEven though I have configured spring security with \r\n```\r\nhttp.\r\n                .authorizeRequests(a -&gt; a\r\n                .antMatchers(&quot;/actuator/**&quot;).permitAll()\r\n                ....\r\n```\r\nto allow actuator endpoints to go through, it is only good for GET.\r\n\r\nI need to add\r\n```\r\nhttp.csrf().ignoringAntMatchers(&quot;/actuator/loggers/**&quot;).and()\r\n                .authorizeRequests(a -&gt; a\r\n                .antMatchers(&quot;/actuator/**&quot;).permitAll()\r\n......\r\n\r\n```\r\nto allow POST. Once I added the above line, I can POST to \r\n/actuator/loggers/**\r\nto change logging level","title":"405 when POST to change logging level using actuator in spring boot 2.2/4.*","body":"<p>we have\nspring-boot-starter-security\nand\nspring-boot-starter-oauth2-client</p>\n<p>to use oauth 2 to protect most endpoints.</p>\n<p>Even though I have configured spring security with</p>\n<pre><code>http.\n                .authorizeRequests(a -&gt; a\n                .antMatchers(&quot;/actuator/**&quot;).permitAll()\n                ....\n</code></pre>\n<p>to allow actuator endpoints to go through, it is only good for GET.</p>\n<p>I need to add</p>\n<pre><code>http.csrf().ignoringAntMatchers(&quot;/actuator/loggers/**&quot;).and()\n                .authorizeRequests(a -&gt; a\n                .antMatchers(&quot;/actuator/**&quot;).permitAll()\n......\n\n</code></pre>\n<p>to allow POST. Once I added the above line, I can POST to\n/actuator/loggers/**\nto change logging level</p>\n"}],"owner":{"account_id":1215944,"reputation":2026,"user_id":1183542,"accept_rate":4,"display_name":"gigi2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649693628,"creation_date":1648845603,"question_id":71712545,"body_markdown":"We have a spring boot app using spring boot 2.2.7. Saw from spring boot&#39;s documentation that the logging level of loggers can be dynamically changed using actuator endpoints, https://docs.spring.io/spring-boot/docs/current/actuator-api/htmlsingle/#loggers\r\n\r\nthis is my pom,\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.7.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nand as suggested, in my application.properties\r\n```\r\nmanagement.endpoints.web.exposure.include=loggers\r\nmanagement.endpoint.loggers.enabled=true\r\nmanagement.endpoint.loggers.post.enabled=true\r\n```\r\n\r\nthen I make a GET to the actuator loggers endpoint that works fine  \r\n```\r\ncurl -ik  -H &#39;Content-Type: application/json&#39; http://localhost:8080/actuator/loggers/org.springframework\r\nHTTP/2 200\r\ndate: Fri, 01 Apr 2022 15:46:34 GMT\r\ncontent-type: application/vnd.spring-boot.actuator.v3+json\r\ncontent-disposition: inline;filename=f.txt\r\nx-content-type-options: nosniff\r\nx-xss-protection: 1; mode=block\r\ncache-control: no-cache, no-store, max-age=0, must-revalidate\r\npragma: no-cache\r\nexpires: 0\r\nstrict-transport-security: max-age=31536000 ; includeSubDomains\r\nx-frame-options: DENY\r\n\r\n{&quot;configured_level&quot;:&quot;INFO&quot;,&quot;effective_level&quot;:&quot;INFO&quot;}\r\n```\r\n\r\nbut when I POST, I got 405,\r\n```\r\ncurl -i -X POST -H &#39;Content-Type: application/json&#39; -d &#39;{&quot;configuredLevel&quot;: &quot;debug&quot;}&#39; http://localhost:8080/actuator/loggers/org.springframework\r\nHTTP/2 405\r\ndate: Fri, 01 Apr 2022 15:47:01 GMT\r\ncontent-type: text/html;charset=utf-8\r\ncontent-length: 449\r\nset-cookie: JSESSIONID=4435480C10E16A53F466C51EC95DFF80; Path=/; Secure; HttpOnly\r\nx-content-type-options: nosniff\r\nx-xss-protection: 1; mode=block\r\ncache-control: no-cache, no-store, max-age=0, must-revalidate\r\npragma: no-cache\r\nexpires: 0\r\nstrict-transport-security: max-age=31536000 ; includeSubDomains\r\nx-frame-options: DENY\r\nallow: GET\r\ncontent-language: en\r\n\r\n&lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 405 – Method Not Allowed&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 405 – Method Not Allowed&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\r\n```\r\n\r\nI have been looking around to get tricks, changing spring boot version to 2.4.0. None works. Can someone please shed some light into this? Many thanks","title":"405 when POST to change logging level using actuator in spring boot 2.2/4.*","body":"<p>We have a spring boot app using spring boot 2.2.7. Saw from spring boot's documentation that the logging level of loggers can be dynamically changed using actuator endpoints, <a href=\"https://docs.spring.io/spring-boot/docs/current/actuator-api/htmlsingle/#loggers\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/actuator-api/htmlsingle/#loggers</a></p>\n<p>this is my pom,</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;2.2.7.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>and as suggested, in my application.properties</p>\n<pre><code>management.endpoints.web.exposure.include=loggers\nmanagement.endpoint.loggers.enabled=true\nmanagement.endpoint.loggers.post.enabled=true\n</code></pre>\n<p>then I make a GET to the actuator loggers endpoint that works fine</p>\n<pre><code>curl -ik  -H 'Content-Type: application/json' http://localhost:8080/actuator/loggers/org.springframework\nHTTP/2 200\ndate: Fri, 01 Apr 2022 15:46:34 GMT\ncontent-type: application/vnd.spring-boot.actuator.v3+json\ncontent-disposition: inline;filename=f.txt\nx-content-type-options: nosniff\nx-xss-protection: 1; mode=block\ncache-control: no-cache, no-store, max-age=0, must-revalidate\npragma: no-cache\nexpires: 0\nstrict-transport-security: max-age=31536000 ; includeSubDomains\nx-frame-options: DENY\n\n{&quot;configured_level&quot;:&quot;INFO&quot;,&quot;effective_level&quot;:&quot;INFO&quot;}\n</code></pre>\n<p>but when I POST, I got 405,</p>\n<pre><code>curl -i -X POST -H 'Content-Type: application/json' -d '{&quot;configuredLevel&quot;: &quot;debug&quot;}' http://localhost:8080/actuator/loggers/org.springframework\nHTTP/2 405\ndate: Fri, 01 Apr 2022 15:47:01 GMT\ncontent-type: text/html;charset=utf-8\ncontent-length: 449\nset-cookie: JSESSIONID=4435480C10E16A53F466C51EC95DFF80; Path=/; Secure; HttpOnly\nx-content-type-options: nosniff\nx-xss-protection: 1; mode=block\ncache-control: no-cache, no-store, max-age=0, must-revalidate\npragma: no-cache\nexpires: 0\nstrict-transport-security: max-age=31536000 ; includeSubDomains\nx-frame-options: DENY\nallow: GET\ncontent-language: en\n\n&lt;!doctype html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt;&lt;title&gt;HTTP Status 405 – Method Not Allowed&lt;/title&gt;&lt;style type=&quot;text/css&quot;&gt;body {font-family:Tahoma,Arial,sans-serif;} h1, h2, h3, b {color:white;background-color:#525D76;} h1 {font-size:22px;} h2 {font-size:16px;} h3 {font-size:14px;} p {font-size:12px;} a {color:black;} .line {height:1px;background-color:#525D76;border:none;}&lt;/style&gt;&lt;/head&gt;&lt;body&gt;&lt;h1&gt;HTTP Status 405 – Method Not Allowed&lt;/h1&gt;&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>I have been looking around to get tricks, changing spring boot version to 2.4.0. None works. Can someone please shed some light into this? Many thanks</p>\n"},{"tags":["java","xml","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":10768105,"reputation":21,"user_id":9414327,"display_name":"Mehdi Lamine"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649693604,"creation_date":1649659562,"answer_id":71823645,"question_id":71820883,"body_markdown":"As I mentioned that I have a problem with the send SMS part so I figured it out that I put the same `seviceactivator` name for tow publish subscribe element as shown below so corrected it by changing one of them\r\n\r\n      &lt;!-- SMS Send Task --&gt;\r\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueSmsChannel&quot; task-executor=&quot;smsRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n        &lt;int:service-activator id=&quot;sendSmsServiceActivator&quot;\r\n                               ref=&quot;sendSmsServiceImpl&quot; method=&quot;sendSms&quot;\r\n                               input-channel=&quot;requestQueueSmsChannel&quot;\r\n                               output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n        &lt;!-- SMS Send Task --&gt;\r\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueSmsSimulateChannel&quot; task-executor=&quot;smsRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n        &lt;int:service-activator id=&quot;sendSmsServiceActivator&quot;\r\n                               ref=&quot;sendSmsServiceImpl&quot; method=&quot;simulateSendSms&quot;\r\n                               input-channel=&quot;requestQueueSmsSimulateChannel&quot;\r\n                               output-channel=&quot;requestQueueResponseChannel&quot;/&gt;","title":"Spring Integration :My Task Exutor don&#39;t lunch directly after the publish-subscribe-channel","body":"<p>As I mentioned that I have a problem with the send SMS part so I figured it out that I put the same <code>seviceactivator</code> name for tow publish subscribe element as shown below so corrected it by changing one of them</p>\n<pre><code>  &lt;!-- SMS Send Task --&gt;\n    &lt;int:publish-subscribe-channel id=&quot;requestQueueSmsChannel&quot; task-executor=&quot;smsRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n    &lt;int:service-activator id=&quot;sendSmsServiceActivator&quot;\n                           ref=&quot;sendSmsServiceImpl&quot; method=&quot;sendSms&quot;\n                           input-channel=&quot;requestQueueSmsChannel&quot;\n                           output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- SMS Send Task --&gt;\n    &lt;int:publish-subscribe-channel id=&quot;requestQueueSmsSimulateChannel&quot; task-executor=&quot;smsRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n    &lt;int:service-activator id=&quot;sendSmsServiceActivator&quot;\n                           ref=&quot;sendSmsServiceImpl&quot; method=&quot;simulateSendSms&quot;\n                           input-channel=&quot;requestQueueSmsSimulateChannel&quot;\n                           output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":10768105,"reputation":21,"user_id":9414327,"display_name":"Mehdi Lamine"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649693604,"creation_date":1649628038,"question_id":71820883,"body_markdown":"So i have an xml Base Config fro Spring integration I Read from databse with some specific values and i treat the data with a header-enricher after that i use a header-value-router.\r\n\r\nso i have a publish-subscribe-channel element for evry header value.\r\nMy problem heare that i want the service activator to be lunched with every pool in the channel and it&#39;s not the case i took at least 4 hours to lunch and i don&#39;t know why.\r\nThe issue i have is with Send Sms Service activator\r\n\r\nCan somone Help.\r\nThis is my code:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!-- ============================================================== --&gt;\r\n    &lt;!-- fichier de config spring-integration (module core-application) --&gt;\r\n    &lt;!--                                                                --&gt;\r\n    &lt;!-- * polling de la request queue                                  --&gt;\r\n    &lt;!-- ============================================================== --&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n    \txmlns:int=&quot;http://www.springframework.org/schema/integration&quot;\r\n    \txmlns:task=&quot;http://www.springframework.org/schema/task&quot;\r\n    \txmlns:int-jpa=&quot;http://www.springframework.org/schema/integration/jpa&quot;\r\n    \txsi:schemaLocation=&quot;http://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd\r\n    \t\thttp://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/integration/jpa http://www.springframework.org/schema/integration/jpa/spring-integration-jpa-3.0.xsd\r\n    \t\thttp://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd&quot;&gt;\r\n    \t\r\n    &lt;!-- Beans definitions --&gt;\r\n    \t\t&lt;task:executor id=&quot;imfRequestTaskExecutor&quot; pool-size=&quot;${imf.request.queue.polling.pool.size}&quot; keep-alive=&quot;5&quot;/&gt;\r\n    \t\t&lt;task:executor id=&quot;pilproRequestTaskExecutor&quot; pool-size=&quot;${pilpro.request.queue.polling.pool.size}&quot; keep-alive=&quot;5&quot;/&gt;\r\n    \t\t&lt;task:executor id=&quot;artemisRequestTaskExecutor&quot; pool-size=&quot;${artemis.request.queue.polling.pool.size}&quot; keep-alive=&quot;5&quot;/&gt;\r\n    \t    &lt;task:executor id=&quot;smsRequestTaskExecutor&quot; pool-size=&quot;${sms.request.queue.polling.pool.size}&quot; keep-alive=&quot;5&quot;/&gt;\r\n    \r\n    \r\n    \r\n    \t&lt;!--\r\n        toutes les x secondes on scrute la table core_request_queue, on prend les y premi&#232;res lignes dont la colonne status vaut &#39;IMMEDIATE&#39;\r\n                x = request.queue.polling.immediate.fixed.rate\r\n                y = request.queue.polling.immediate.rows.max\r\n        --&gt;\r\n    \t  \t&lt;bean id=&quot;requestQueueImmediatePollerTrigger&quot; parent=&quot;triggerExcludingWeeklyBlackout&quot;\r\n    \t\t\tclass=&quot;com.orange.cochise.core.application.schedulers.support.PeriodicTriggerExcludingWeeklyBlackout&quot;&gt;\r\n    \t\t\t&lt;constructor-arg name=&quot;period&quot; value=&quot;${request.queue.polling.immediate.fixed.rate}&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;initialDelay&quot; value=&quot;${request.queue.polling.immediate.initial.delay}&quot;&gt;&lt;/property&gt;\r\n    \t\t\t&lt;property name=&quot;fixedRate&quot; value=&quot;false&quot;/&gt;\r\n    \t\t&lt;/bean&gt;\r\n    \r\n    \t\t&lt;int-jpa:inbound-channel-adapter id=&quot;requestQueueImmediateInbound&quot;\r\n    \t\t\tjpa-query=&quot;SELECT r\r\n    \t\t\t\tFROM RequestQueue r\r\n    \t\t\t\tLEFT JOIN FETCH r.data\r\n    \t\t\t\tWHERE r.id IN (\r\n    \t\t\t\t\tSELECT MIN(sub.id)\r\n    \t\t\t\t\tFROM RequestQueue sub\r\n    \t\t\t\t\tWHERE sub.status = &#39;IMMEDIATE&#39;\r\n    \t\t\t\t\tAND sub.creationDate = (SELECT MIN(oldest.creationDate) FROM RequestQueue oldest WHERE oldest.orderId=sub.orderId AND oldest.status=&#39;IMMEDIATE&#39;)\r\n    \t\t\t\t\tAND NOT EXISTS (SELECT runningWithSameOrderId FROM RequestQueue runningWithSameOrderId WHERE runningWithSameOrderId.status=&#39;RUNNING&#39; AND sub.orderId=runningWithSameOrderId.orderId)\r\n    \t\t\t\t\tGROUP BY sub.orderId\r\n    \t\t\t\t)\r\n    \t\t\t\tORDER BY r.creationDate&quot;\r\n    \t\t\tentity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\r\n    \t\t\tdelete-after-poll=&quot;false&quot;\r\n    \t\t\tchannel=&quot;requestQueuesChannel&quot;\r\n    \t\t\tmax-results=&quot;${request.queue.polling.immediate.rows.max}&quot; &gt;\r\n    \t\t    &lt;int:poller trigger=&quot;requestQueueImmediatePollerTrigger&quot; error-channel=&quot;requestQueueLockErrorChannel&quot;/&gt;\r\n            &lt;/int-jpa:inbound-channel-adapter&gt;\r\n    \r\n    \t    &lt;!-- max-results specifies the number of rows returned for each execution,\r\n           \t\t whereas max-messages-per-poll (on int:poller) specifies the number of times the query is executed per polling interval\r\n           \t     Under normal circumstances, you would likely not want to set the Poller&#39;s max-messages-per-poll property when\r\n           \t     using the JDBC Inbound Channel Adapter. Its default value is 1, which means that the JDBC Inbound\r\n           \t     Channel Adapter&#39;s receive() method is executed exactly once for each poll interval. --&gt;\r\n    \r\n    \t\t&lt;!--\r\n    \t\t&#224; heure fixe (voir request.queue.polling.periodical.cron) on scrute la table core_request_queue, on prend toutes les lignes dont la colonne status vaut &#39;PERIODICAL&#39;\r\n    \t\t\t\t- pas de max : tous les soirs on traite tout\r\n    \t\t--&gt;\r\n    \t\t&lt;bean id=&quot;requestQueuePeriodicalPollerTrigger&quot; parent=&quot;triggerExcludingWeeklyBlackout&quot;\r\n    \t  \t\tclass=&quot;com.orange.cochise.core.application.schedulers.support.CronTriggerExcludingWeeklyBlackout&quot;&gt;\r\n    \t  \t\t&lt;constructor-arg name=&quot;cronExpression&quot; value=&quot;${request.queue.polling.periodical.cron}&quot; /&gt;\r\n    \t\t&lt;/bean&gt;\r\n    \t\t&lt;int-jpa:inbound-channel-adapter id=&quot;requestQueuePeriodicalInbound&quot;\r\n    \t\t\tjpa-query=&quot;SELECT r\r\n    \t\t\t\tFROM RequestQueue r\r\n    \t\t\t\tLEFT JOIN FETCH r.data\r\n    \t\t\t\tWHERE r.id IN (\r\n    \t\t\t\t\tSELECT MIN(sub.id)\r\n    \t\t\t\t\tFROM RequestQueue sub\r\n    \t\t\t\t\tWHERE sub.status = &#39;PERIODICAL&#39;\r\n    \t\t\t\t\tAND sub.creationDate = (SELECT MIN(oldest.creationDate) FROM RequestQueue oldest WHERE oldest.orderId=sub.orderId AND oldest.status=&#39;PERIODICAL&#39;)\r\n    \t\t\t\t\tAND NOT EXISTS (SELECT runningWithSameOrderId FROM RequestQueue runningWithSameOrderId WHERE runningWithSameOrderId.status=&#39;RUNNING&#39; AND sub.orderId=runningWithSameOrderId.orderId)\r\n    \t\t\t\t\tGROUP BY sub.orderId\r\n    \t\t\t\t)\r\n    \t\t\t\tORDER BY r.creationDate&quot;\r\n    \t\t\tentity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\r\n    \t\t\tdelete-after-poll=&quot;false&quot;\r\n    \t\t\tchannel=&quot;requestQueuesChannel&quot;&gt;\r\n    \t\t    &lt;int:poller trigger=&quot;requestQueuePeriodicalPollerTrigger&quot; error-channel=&quot;requestQueueLockErrorChannel&quot;/&gt;\r\n            &lt;/int-jpa:inbound-channel-adapter&gt;\r\n    \r\n    \t\t&lt;int:channel id=&quot;requestQueuesChannel&quot;&gt;\r\n    \t\t\t&lt;int:interceptors&gt;\r\n    \t\t\t\t&lt;int:wire-tap channel=&quot;requestQueuesLogChannel&quot;/&gt;\r\n    \t\t\t&lt;/int:interceptors&gt;\r\n    \t\t&lt;/int:channel&gt;\r\n    \r\n    \t\t&lt;!-- note : en G1R1C2, version du 15/04, on avait eu la mauvaise id&#233;e d&#39;&#233;crire dans la log &quot;traitement de X lignes de la RequestQueue&quot; avant d&#39;avoir fait le lock de ces lignes --&gt;\r\n    \t\t&lt;!--&lt;int:logging-channel-adapter id=&quot;requestQueuesLogChannel&quot;\r\n    \t\t\t\t\tlogger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot;\r\n    \t\t\t\t\texpression=&quot;&#39;traitement &#39;+payload.size()+&#39; lignes de la RequestQueue&#39;&quot;\r\n    \t\t\t\t\tlevel=&quot;INFO&quot; /&gt;--&gt;\r\n    \t\t&lt;int:logging-channel-adapter id=&quot;requestQueuesLogChannel&quot;\r\n    \t\t\t\t\tlogger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot;\r\n    \t\t\t\t\texpression=&quot;&#39;tentative de traitement de &#39;+payload.size()+&#39; lignes de la RequestQueue&#39;&quot;\r\n    \t\t\t\t\tlevel=&quot;INFO&quot; /&gt;\r\n    \r\n    \t\t&lt;!-- LOCK BDD : on passe le status des liens &#224; RUNNING (pour s&#39;assurer que l&#39;autre serveur ne va pas traiter ces memes lignes\r\n    \t\t\t\tdans le cas ou l&#39;autre serveur aurait fait le select en meme temps, un seule des 2 serveurs pourra passer &#224;\r\n    \t\t\t\tRUNNING, l&#39;autre serveur recevra une OptimisticLockException (qui sera envoy&#233;, par d&#233;faut, vers errorChannel)\r\n    \t\t --&gt;\r\n    \t&lt;!-- update status -&gt; RUNNING (NEW_TX_REQUIRE) --&gt;\r\n    \t\t&lt;int:service-activator id=&quot;requestQueueLockService&quot;\r\n    \t\t\tref=&quot;requestQueueServiceImpl&quot;\r\n    \t\t\tmethod=&quot;lock&quot;\r\n    \t\t\tinput-channel=&quot;requestQueuesChannel&quot;\r\n    \t\t\toutput-channel=&quot;requestQueuesRunningChannel&quot;/&gt;\r\n    \r\n    \t\t&lt;int:channel id=&quot;requestQueuesRunningChannel&quot;&gt;\r\n    \t\t\t&lt;int:interceptors&gt;\r\n    \t\t\t\t&lt;int:wire-tap channel=&quot;requestQueuesRunningLogChannel&quot;/&gt;\r\n    \t\t\t&lt;/int:interceptors&gt;\r\n    \t\t&lt;/int:channel&gt;\r\n    \r\n    \t\t&lt;int:logging-channel-adapter id=&quot;requestQueuesRunningLogChannel&quot;\r\n    \t\t\t\t\tlogger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot;\r\n    \t\t\t\t\texpression=&quot;&#39;traitement &#39;+payload.size()+&#39; lignes de la RequestQueue&#39;&quot;\r\n    \t\t\t\t\tlevel=&quot;INFO&quot; /&gt;\r\n    \r\n    \t\t&lt;int:splitter input-channel=&quot;requestQueuesRunningChannel&quot; output-channel=&quot;requestQueueRunningChannel&quot; /&gt;\r\n    \r\n    \t\t&lt;int:header-enricher id=&quot;requestQueueRunningEnricher&quot; input-channel=&quot;requestQueueRunningChannel&quot; output-channel=&quot;requestQueueHeaderChannel&quot; &gt;\r\n    \t\t\t&lt;int:error-channel ref=&quot;requestQueueErrorChannel&quot; /&gt; &lt;!-- on d&#233;finit ici le channel d&#39;error a utilis&#233; (&#224; la place de errorChannel) --&gt;\r\n    \t\t\t&lt;int:header name=&quot;queueId&quot; expression=&quot;payload.id&quot;/&gt;\r\n    \t\t\t&lt;int:header name=&quot;orderId&quot; expression=&quot;payload.orderId&quot;/&gt;\r\n    \t\t\t&lt;int:header name=&quot;requestType&quot; expression=&quot;payload.requestType&quot;/&gt;\r\n    \t\t\t&lt;int:header name=&quot;requestMode&quot; expression=&quot;payload.requestMode&quot;/&gt;\r\n    \t\t&lt;/int:header-enricher&gt;\r\n    \r\n    \t&lt;!-- default error channel --&gt;\r\n    \t\t&lt;int:channel id=&quot;requestQueueErrorChannel&quot;&gt;\r\n    \t\t    &lt;int:interceptors&gt;\r\n    \t\t        &lt;int:wire-tap channel=&quot;errorChannel&quot;/&gt; &lt;!-- LOG SUPPORT --&gt;\r\n    \t\t    &lt;/int:interceptors&gt;\r\n    \t\t&lt;/int:channel&gt;\r\n    \t\t&lt;int:header-enricher input-channel=&quot;requestQueueErrorChannel&quot; output-channel=&quot;requestQueueToFail&quot;&gt;\r\n    \t\t\t&lt;int:header name=&quot;queueId&quot; expression=&quot;payload.failedMessage.headers[queueId]&quot;&gt;&lt;/int:header&gt;\r\n    \t\t\t&lt;int:header name=&quot;orderId&quot; expression=&quot;payload.failedMessage.headers[orderId]&quot;&gt;&lt;/int:header&gt;\r\n    \t\t\t&lt;int:header name=&quot;requestType&quot; expression=&quot;payload.failedMessage.headers[requestType]&quot;&gt;&lt;/int:header&gt;\r\n    \t\t&lt;/int:header-enricher&gt;\r\n    \r\n    \t&lt;!-- request queue to FAILED --&gt;\r\n    \t\t&lt;int:channel id=&quot;requestQueueToFail&quot;/&gt;\r\n    \r\n    \t\t&lt;!-- &lt;int-jpa:outbound-channel-adapter id=&quot;requestFailedJpaOutboundChannelAdapter&quot;\r\n    \t\t\tchannel=&quot;requestQueueToFail&quot;\r\n    \t\t\tentity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\r\n    \t\t\tjpa-query=&quot;update RequestQueue set status=&#39;FAILED&#39;, lastModified = NOW(), VERSION=(VERSION+1) where status = &#39;RUNNING&#39; and requestType = :requestType and orderId = :orderId&quot; &gt;\r\n    \t\t\t&lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; propagation=&quot;REQUIRES_NEW&quot;/&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;requestType&quot; expression=&quot;headers[requestType]&quot; /&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;orderId&quot; expression=&quot;headers[orderId]&quot;/&gt;\r\n    \t\t&lt;/int-jpa:outbound-channel-adapter&gt;\t--&gt;\r\n    \t\t&lt;int-jpa:outbound-channel-adapter id=&quot;requestFailedJpaOutboundChannelAdapter&quot;\r\n    \t\t\tchannel=&quot;requestQueueToFail&quot;\r\n    \t\t\tentity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\r\n    \t\t\tjpa-query=&quot;update RequestQueue set status=&#39;FAILED&#39;, lastModified = NOW(), VERSION=(VERSION+1) where id = :id&quot; &gt;\r\n    \t\t\t&lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; propagation=&quot;REQUIRES_NEW&quot;/&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;id&quot; expression=&quot;headers[queueId]&quot; /&gt;\r\n    \t\t&lt;/int-jpa:outbound-channel-adapter&gt;\r\n    \r\n    \t&lt;!-- routeur IMF  --&gt;\r\n    \r\n    \t\t&lt;int:channel id=&quot;requestQueueHeaderChannel&quot;&gt;\r\n    \t\t\t&lt;int:interceptors&gt;\r\n    \t\t\t\t&lt;int:wire-tap channel=&quot;requestQueueRunningLogChannel&quot;/&gt;\r\n    \t\t\t&lt;/int:interceptors&gt;\r\n    \t\t&lt;/int:channel&gt;\r\n    \r\n    \t\t&lt;int:logging-channel-adapter id=&quot;requestQueueRunningLogChannel&quot; logger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot; expression=&quot;&#39;traitement RequestQueue orderId (TODO id=) = &#39;+  payload.orderId +&#39; &#39;&quot; level=&quot;INFO&quot; /&gt;\r\n    \r\n    \t\t&lt;!-- /!\\ ATTENTION: le param&#232;tre &#39;resolution-required&#39; doit &#234;tre valoris&#233; &#224; &#39;false&#39; pour que le param&#232;tre &#39;default-output-channel&#39; soit pris en compte --&gt;\r\n    \t\t&lt;int:header-value-router input-channel=&quot;requestQueueHeaderChannel&quot; header-name=&quot;requestType&quot; default-output-channel=&quot;requestQueueToFail&quot; resolution-required=&quot;false&quot;&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;IMF_FAGAN_1&quot; channel=&quot;requestQueueFagan1Channel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;IMF_FAGAN_5&quot; channel=&quot;requestQueueFagan5Channel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;IMF_FAGCIB_2&quot; channel=&quot;requestQueueFagcib2Channel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;PILPRO_CREER_RELANCE&quot; channel=&quot;requestQueueCreerRelanceChannel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;PILPRO_CREER_TICKET&quot; channel=&quot;requestQueueCreerTicketChannel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;ARTEMIS_CANCEL_ORDER&quot; channel=&quot;requestQueueCancelOrderChannel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;ARTEMIS_CLOSE_AVP&quot; channel=&quot;requestQueueCloseAvpChannel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;ARTEMIS_CREATE_NOTE&quot; channel=&quot;requestQueueCreateNoteChannel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;ARTEMIS_RELEASE_RDV&quot; channel=&quot;requestQueueReleaseRdvChannel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;ARTEMIS_REASSIGN_ROLE&quot; channel=&quot;requestQueueReassignRoleChannel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;ARTEMIS_GET_TASK&quot; channel=&quot;requestQueueGetTaskChannel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;SEND_SMS&quot; channel=&quot;requestQueueSmsChannel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;SIMULATE_SEND_SMS&quot; channel=&quot;requestQueueSmsSimulateChannel&quot;/&gt;\r\n    \t\t&lt;/int:header-value-router&gt;\r\n    \r\n    \t&lt;!-- FAGAN 1 --&gt;\r\n    \t\t&lt;!-- PublishSubscribeChannel : new Thread Tx START --&gt;\r\n    \t\t&lt;int:publish-subscribe-channel id=&quot;requestQueueFagan1Channel&quot; task-executor=&quot;imfRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t\t&lt;int:service-activator id=&quot;imfFagan1ServiceActivator&quot;\r\n    \t\t\t\t\t\t\t\tref=&quot;importImfFagan1Facade&quot; method=&quot;callWithRetry&quot;\r\n    \t\t\t\t\t\t\t\tinput-channel=&quot;requestQueueFagan1Channel&quot;\r\n    \t\t\t\t\t\t\t\toutput-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- FAGAN 5 --&gt;\r\n    \t\t&lt;!-- PublishSubscribeChannel : new Thread Tx START --&gt;\r\n    \t\t&lt;int:publish-subscribe-channel id=&quot;requestQueueFagan5Channel&quot; task-executor=&quot;imfRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t\t&lt;int:service-activator id=&quot;imfFagan5ServiceActivator&quot;\r\n    \t\t\t\t\t\t\t\tref=&quot;importImfFagan5Facade&quot; method=&quot;callWithRetry&quot;\r\n    \t\t\t\t\t\t\t\tinput-channel=&quot;requestQueueFagan5Channel&quot;\r\n    \t\t\t\t\t\t\t\toutput-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- FAGCIB 2 --&gt;\r\n    \t\t&lt;!-- PublishSubscribeChannel : new Thread Tx START --&gt;\r\n    \t\t&lt;int:publish-subscribe-channel id=&quot;requestQueueFagcib2Channel&quot; task-executor=&quot;imfRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t\t&lt;int:service-activator id=&quot;imfFagcib2ServiceActivator&quot;\r\n    \t\t\t\t\t\t\t\tref=&quot;importImfFagcib2Facade&quot; method=&quot;callWithRetry&quot;\r\n    \t\t\t\t\t\t\t\tinput-channel=&quot;requestQueueFagcib2Channel&quot;\r\n    \t\t\t\t\t\t\t\toutput-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- PILPRO CREER RELANCE --&gt;\r\n    \t\t&lt;!-- PublishSubscribeChannel : new Thread Tx START --&gt;\r\n    \t\t&lt;int:publish-subscribe-channel id=&quot;requestQueueCreerRelanceChannel&quot; task-executor=&quot;pilproRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t\t&lt;int:service-activator id=&quot;createReminderServiceActivator&quot;\r\n    \t\t\t\t\t\t\t\tref=&quot;pilproCreateReminderFacade&quot; method=&quot;callWithRetry&quot;\r\n    \t\t\t\t\t\t\t\tinput-channel=&quot;requestQueueCreerRelanceChannel&quot;\r\n    \t\t\t\t\t\t\t\toutput-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- PILPRO CREER TICKET --&gt;\r\n    \t\t&lt;!-- PublishSubscribeChannel : new Thread Tx START --&gt;\r\n    \t\t&lt;int:publish-subscribe-channel id=&quot;requestQueueCreerTicketChannel&quot; task-executor=&quot;pilproRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t\t&lt;int:service-activator id=&quot;creerTicketServiceActivator&quot;\r\n    \t\t\t\t\t\t\t\tref=&quot;pilproCreateTicketFacade&quot; method=&quot;callWithRetry&quot;\r\n    \t\t\t\t\t\t\t\tinput-channel=&quot;requestQueueCreerTicketChannel&quot;\r\n    \t\t\t\t\t\t\t\toutput-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- ARTEMIS ANNULER COMMANDE --&gt;\r\n    \t\t&lt;int:publish-subscribe-channel id=&quot;requestQueueCancelOrderChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t\t&lt;int:service-activator id=&quot;cancelOrderServiceActivator&quot;\r\n    \t\t\t\t\t\t\t\tref=&quot;artemisCancelOrderFacade&quot; method=&quot;callWithRetry&quot;\r\n    \t\t\t\t\t\t\t\tinput-channel=&quot;requestQueueCancelOrderChannel&quot;\r\n    \t\t\t\t\t\t\t\toutput-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- ARTEMIS CLOTURE AVP --&gt;\r\n    \t\t&lt;int:publish-subscribe-channel id=&quot;requestQueueCloseAvpChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t\t&lt;int:service-activator id=&quot;closeAvpServiceActivator&quot;\r\n    \t\t\t\t\t\t\t\tref=&quot;artemisCloseAVPFacade&quot; method=&quot;callWithRetry&quot;\r\n    \t\t\t\t\t\t\t\tinput-channel=&quot;requestQueueCloseAvpChannel&quot;\r\n    \t\t\t\t\t\t\t\toutput-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- ARTEMIS CREATE NOTE --&gt;\r\n    \t\t&lt;int:publish-subscribe-channel id=&quot;requestQueueCreateNoteChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t\t&lt;int:service-activator id=&quot;createNoteServiceActivator&quot;\r\n    \t\t\t\t\t\t\t\tref=&quot;artemisCreateNoteFacade&quot; method=&quot;callWithRetry&quot;\r\n    \t\t\t\t\t\t\t\tinput-channel=&quot;requestQueueCreateNoteChannel&quot;\r\n    \t\t\t\t\t\t\t\toutput-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- ARTEMIS RELEASE RDV --&gt;\r\n    \t\t&lt;int:publish-subscribe-channel id=&quot;requestQueueReleaseRdvChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t\t&lt;int:service-activator id=&quot;releaseRdvServiceActivator&quot;\r\n    \t\t\t\t\t\t\t\tref=&quot;artemisReleaseRdvFacade&quot; method=&quot;callWithRetry&quot;\r\n    \t\t\t\t\t\t\t\tinput-channel=&quot;requestQueueReleaseRdvChannel&quot;\r\n    \t\t\t\t\t\t\t\toutput-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- ARTEMIS REASSIGN ROLE --&gt;\r\n    \t\t&lt;int:publish-subscribe-channel id=&quot;requestQueueReassignRoleChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t\t&lt;int:service-activator id=&quot;reassignRoleServiceActivator&quot;\r\n    \t\t\t\t\t\t\t\tref=&quot;artemisReassignRoleFacade&quot; method=&quot;callWithRetry&quot;\r\n    \t\t\t\t\t\t\t\tinput-channel=&quot;requestQueueReassignRoleChannel&quot;\r\n    \t\t\t\t\t\t\t\toutput-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- ARTEMIS GET TASK --&gt;\r\n    \t\t&lt;int:publish-subscribe-channel id=&quot;requestQueueGetTaskChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t\t&lt;int:service-activator id=&quot;sendSms&quot;\r\n    \t\t\t\t\t\t\t\tref=&quot;artemisGetTaskFacade&quot; method=&quot;callWithRetry&quot;\r\n    \t\t\t\t\t\t\t\tinput-channel=&quot;requestQueueGetTaskChannel&quot;\r\n    \t\t\t\t\t\t\t\toutput-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \t&lt;!-- SMS Send Task --&gt;\r\n    \t&lt;int:publish-subscribe-channel id=&quot;requestQueueSmsChannel&quot; task-executor=&quot;smsRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t&lt;int:service-activator id=&quot;sendSmsServiceActivator&quot;\r\n    \t\t\t\t\t\t   ref=&quot;sendSmsServiceImpl&quot; method=&quot;sendSms&quot;\r\n    \t\t\t\t\t\t   input-channel=&quot;requestQueueSmsChannel&quot;\r\n    \t\t\t\t\t\t   output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- SMS Send Task --&gt;\r\n    \t&lt;int:publish-subscribe-channel id=&quot;requestQueueSmsSimulateChannel&quot; task-executor=&quot;smsRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\r\n    \t&lt;int:service-activator id=&quot;sendSmsServiceActivator&quot;\r\n    \t\t\t\t\t\t   ref=&quot;sendSmsServiceImpl&quot; method=&quot;simulateSendSms&quot;\r\n    \t\t\t\t\t\t   input-channel=&quot;requestQueueSmsSimulateChannel&quot;\r\n    \t\t\t\t\t\t   output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \r\n    \t&lt;!-- request queue handle response --&gt;\r\n    \t\t&lt;int:channel id=&quot;requestQueueResponseChannel&quot;/&gt;\r\n    \t\t\r\n    \t\t&lt;!-- /!\\ ATTENTION: le param&#232;tre &#39;resolution-required&#39; doit &#234;tre valoris&#233; &#224; &#39;false&#39; pour que le param&#232;tre &#39;default-output-channel&#39; soit pris en compte --&gt;\r\n    \t\t&lt;int:header-value-router input-channel=&quot;requestQueueResponseChannel&quot; header-name=&quot;requestMode&quot; default-output-channel=&quot;requestQueueToDoneChannel&quot; resolution-required=&quot;false&quot;&gt;\r\n    \t\t\t&lt;int:mapping value=&quot;CALL_ONLY_ONE_PERIODICAL&quot; channel=&quot;requestQueueToReplayChannel&quot;/&gt;\t\t\t\r\n    \t\t&lt;/int:header-value-router&gt;\r\n    \t\r\n    \t&lt;!-- Update request queue : PERIODICAL (replay) --&gt;\r\n    \t\t&lt;int:channel id=&quot;requestQueueToReplayChannel&quot;/&gt;\r\n    \t\t\r\n    \t\t&lt;!-- &lt;int-jpa:outbound-channel-adapter id=&quot;requestPeriodicalJpaOutboundChannelAdapter&quot;\r\n    \t\t\tchannel=&quot;requestQueueToReplayChannel&quot;\r\n    \t\t\tentity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\r\n    \t\t\tjpa-query=&quot;update RequestQueue set status=&#39;PERIODICAL&#39;, lastModified = NOW(), VERSION=(VERSION+1) where status = &#39;RUNNING&#39; and requestType = :requestType and orderId = :orderId&quot; &gt;\r\n    \t\t\t&lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; /&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;requestType&quot; expression=&quot;headers[requestType]&quot;/&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;orderId&quot; expression=&quot;headers[orderId]&quot;/&gt;\r\n    \t\t&lt;/int-jpa:outbound-channel-adapter&gt; --&gt;\r\n    \t\t&lt;int-jpa:outbound-channel-adapter id=&quot;requestPeriodicalJpaOutboundChannelAdapter&quot;\r\n    \t\t\tchannel=&quot;requestQueueToReplayChannel&quot;\r\n    \t\t\tentity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\r\n    \t\t\tjpa-query=&quot;update RequestQueue set status=&#39;PERIODICAL&#39;, lastModified = NOW(), VERSION=(VERSION+1) where id = :id&quot; &gt;\r\n    \t\t\t&lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; /&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;id&quot; expression=&quot;headers[queueId]&quot;/&gt;\r\n    \t\t&lt;/int-jpa:outbound-channel-adapter&gt;\r\n    \t\t\r\n    \t&lt;!-- Update request queue : DONE --&gt;\r\n    \t\t&lt;int:channel id=&quot;requestQueueToDoneChannel&quot;/&gt;\r\n    \t\t\r\n    \t\t&lt;!--&lt;int-jpa:outbound-channel-adapter id=&quot;requestDoneJpaOutboundChannelAdapter&quot;\r\n    \t\t\tchannel=&quot;requestQueueToDoneChannel&quot;\r\n    \t\t\tentity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\r\n    \t\t\tjpa-query=&quot;update RequestQueue set status = &#39;DONE&#39;, lastModified = NOW(), VERSION=(VERSION+1) where status = &#39;RUNNING&#39; and requestType = :requestType and orderId = :orderId&quot; &gt;\r\n    \t\t\t&lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; /&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;requestType&quot; expression=&quot;headers[requestType]&quot;/&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;orderId&quot; expression=&quot;headers[orderId]&quot;/&gt;\r\n    \t\t&lt;/int-jpa:outbound-channel-adapter&gt;--&gt;\r\n    \t\t&lt;int-jpa:outbound-channel-adapter id=&quot;requestDoneJpaOutboundChannelAdapter&quot;\r\n    \t\t\tchannel=&quot;requestQueueToDoneChannel&quot;\r\n    \t\t\tentity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\r\n    \t\t\tjpa-query=&quot;update RequestQueue set status = &#39;DONE&#39;, lastModified = NOW(), VERSION=(VERSION+1) where id = :id&quot; &gt;\r\n    \t\t\t&lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; /&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;id&quot; expression=&quot;headers[queueId]&quot;/&gt;\r\n    \t\t&lt;/int-jpa:outbound-channel-adapter&gt;\r\n    \r\n    &lt;!-- LOCK logger --&gt;\t\r\n    \t\t&lt;!-- permet de loguer dans supervisionError (via ErrorChannel) toutes les erreurs sauf LockException --&gt;\r\n    \t    &lt;int:channel id=&quot;requestQueueLockErrorChannel&quot;&gt;&lt;/int:channel&gt;\r\n    \t    &lt;int:logging-channel-adapter id=&quot;requestQueueLockErrorLogChannel&quot; logger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot; expression=&quot;&#39;RequestQueues v&#233;rouill&#233;es par un traitement en cours&#39;&quot; level=&quot;DEBUG&quot; /&gt;\t\t\r\n    \t\t&lt;int:exception-type-router input-channel=&quot;requestQueueLockErrorChannel&quot; default-output-channel=&quot;errorChannel&quot;&gt;\r\n    \t        &lt;int:mapping exception-type=&quot;javax.persistence.OptimisticLockException&quot; channel=&quot;requestQueueLockErrorLogChannel&quot;/&gt;\r\n    \t\t\t&lt;int:mapping exception-type=&quot;org.hibernate.exception.LockAcquisitionException&quot; channel=&quot;requestQueueLockErrorLogChannel&quot;/&gt;\r\n       \t\t&lt;/int:exception-type-router&gt;\r\n    \t\r\n    &lt;!-- Traitement RequestQueue RETRY : RUNNING -&gt; IMMEDIATE --&gt;\r\n    \t\t&lt;!-- \r\n    \t\ttoutes les x secondes on scrute la table core_request_queue, on prend les y premi&#232;res lignes de plus de z heures dont la colonne status vaut &#39;RUNNING&#39;, \r\n    \t\tafin de les re-passer en statut &#39;IMMEDIATE&#39;   \r\n    \t\t\t\tx = request.queue.polling.running.in.error.fixed.rate\r\n    \t\t\t\ty = request.queue.polling.running.in.error.rows.max \r\n    \t\t\t\tz = request.queue.polling.running.in.error.time.limit\r\n    \t\t\t\t\r\n    \t\tremarque : lorsque execut&#233; en tests unitaires (sur base H2) la query ci-dessous renvoi une &quot;Syntax error in SQL statement&quot;\r\n    \t\t--&gt;\r\n    \t  \t&lt;bean id=&quot;requestRunningInErrorPollerTrigger&quot; parent=&quot;triggerExcludingWeeklyBlackout&quot; \r\n    \t\t\tclass=&quot;com.orange.cochise.core.application.schedulers.support.PeriodicTriggerExcludingWeeklyBlackout&quot;&gt;\r\n    \t\t\t&lt;constructor-arg name=&quot;period&quot; value=&quot;${request.queue.polling.running.in.error.fixed.rate}&quot; /&gt;\r\n    \t\t\t&lt;property name=&quot;initialDelay&quot; value=&quot;${request.queue.polling.running.in.error.initial.delay}&quot;&gt;&lt;/property&gt;\r\n    \t\t\t&lt;property name=&quot;fixedRate&quot; value=&quot;false&quot;/&gt;\r\n    \t\t&lt;/bean&gt;\t\t\t\t\r\n    \t\t&lt;int-jpa:inbound-channel-adapter id=&quot;requestQueueRunningToRetryInboud&quot;\r\n    \t\t\tjpa-query=&quot;from RequestQueue where status = &#39;RUNNING&#39; and lastModified &amp;lt; SUBTIME(CURRENT_TIMESTAMP, MAKETIME(${request.queue.polling.running.in.error.time.limit},0,0) ) order by lastModified asc&quot;\r\n    \t\t\tentity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\r\n    \t\t\tchannel=&quot;requestQueuesRunningRetryChannel&quot; \r\n    \t\t\tmax-results=&quot;${request.queue.polling.running.in.error.rows.max}&quot;&gt; \r\n    \t\t    &lt;int:poller trigger=&quot;requestRunningInErrorPollerTrigger&quot;/&gt;\r\n    \t\t&lt;/int-jpa:inbound-channel-adapter&gt;\r\n    \t\t\r\n    \t\t&lt;int:channel id=&quot;requestQueuesRunningRetryChannel&quot;&gt;\r\n    \t\t\t&lt;int:interceptors&gt;\r\n    \t\t\t\t&lt;int:wire-tap channel=&quot;requestQueuesRunningRetryLogChannel&quot;/&gt;\r\n    \t\t\t&lt;/int:interceptors&gt;\t\r\n    \t\t&lt;/int:channel&gt;\r\n    \t\t\r\n    \t\t&lt;int:splitter input-channel=&quot;requestQueuesRunningRetryChannel&quot; output-channel=&quot;requestQueueRunningRetryChannel&quot;/&gt;\r\n    \t\t\r\n    \t\t&lt;int:logging-channel-adapter id=&quot;requestQueuesRunningRetryLogChannel&quot; logger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot; expression=&quot;&#39;rattrapage de &#39;+payload.size()+&#39; lignes de la RequestQueue&#39;&quot; level=&quot;INFO&quot; /&gt;\r\n    \t\t\r\n    \t\t&lt;int:channel id=&quot;requestQueueRunningRetryChannel&quot;&gt;\r\n    \t\t\t&lt;int:interceptors&gt;\r\n    \t\t\t\t&lt;int:wire-tap channel=&quot;requestQueueRunningRetryLogChannel&quot;/&gt;\r\n    \t\t\t&lt;/int:interceptors&gt;\t\r\n    \t\t&lt;/int:channel&gt;\r\n    \t\t\r\n    \t\t&lt;!-- &lt;int-jpa:outbound-channel-adapter id=&quot;requestQueueRunningToImmediateOutbound&quot;\r\n    \t\t\tchannel=&quot;requestQueueRunningRetryChannel&quot;\r\n    \t\t\tentity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\r\n    \t\t\tjpa-query=&quot;update RequestQueue set status = &#39;IMMEDIATE&#39;, lastModified = NOW(), VERSION=(VERSION+1) where requestType = :requestType and orderId = :orderId and status = &#39;RUNNING&#39; &quot;&gt;\r\n    \t\t\t&lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot;  propagation=&quot;REQUIRES_NEW&quot;/&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;requestType&quot; expression=&quot;payload.requestType&quot;/&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;orderId&quot; expression=&quot;payload.orderId&quot;/&gt;\r\n    \t\t&lt;/int-jpa:outbound-channel-adapter&gt; --&gt;\r\n    \t\t&lt;int-jpa:outbound-channel-adapter id=&quot;requestQueueRunningToImmediateOutbound&quot;\r\n    \t\t\tchannel=&quot;requestQueueRunningRetryChannel&quot;\r\n    \t\t\tentity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\r\n    \t\t\tjpa-query=&quot;update RequestQueue set status = &#39;IMMEDIATE&#39;, lastModified = NOW(), VERSION=(VERSION+1) where id = :id&quot;&gt;\r\n    \t\t\t&lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot;  propagation=&quot;REQUIRES_NEW&quot;/&gt;\r\n    \t\t\t&lt;int-jpa:parameter name=&quot;id&quot; expression=&quot;payload.id&quot;/&gt;\r\n    \t\t&lt;/int-jpa:outbound-channel-adapter&gt;\r\n    \r\n    \t\t&lt;int:logging-channel-adapter id=&quot;requestQueueRunningRetryLogChannel&quot; logger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot; expression=&quot;&#39;rattrapage de la ligne : &#39;+payload&quot; level=&quot;INFO&quot; /&gt;\r\n    \t\t\r\n    &lt;/beans&gt;\r\n\r\n","title":"Spring Integration :My Task Exutor don&#39;t lunch directly after the publish-subscribe-channel","body":"<p>So i have an xml Base Config fro Spring integration I Read from databse with some specific values and i treat the data with a header-enricher after that i use a header-value-router.</p>\n<p>so i have a publish-subscribe-channel element for evry header value.\nMy problem heare that i want the service activator to be lunched with every pool in the channel and it's not the case i took at least 4 hours to lunch and i don't know why.\nThe issue i have is with Send Sms Service activator</p>\n<p>Can somone Help.\nThis is my code:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!-- ============================================================== --&gt;\n&lt;!-- fichier de config spring-integration (module core-application) --&gt;\n&lt;!--                                                                --&gt;\n&lt;!-- * polling de la request queue                                  --&gt;\n&lt;!-- ============================================================== --&gt;\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:int=&quot;http://www.springframework.org/schema/integration&quot;\n    xmlns:task=&quot;http://www.springframework.org/schema/task&quot;\n    xmlns:int-jpa=&quot;http://www.springframework.org/schema/integration/jpa&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/integration http://www.springframework.org/schema/integration/spring-integration-3.0.xsd\n        http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.2.xsd\n        http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd\n        http://www.springframework.org/schema/integration/jpa http://www.springframework.org/schema/integration/jpa/spring-integration-jpa-3.0.xsd\n        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd&quot;&gt;\n    \n&lt;!-- Beans definitions --&gt;\n        &lt;task:executor id=&quot;imfRequestTaskExecutor&quot; pool-size=&quot;${imf.request.queue.polling.pool.size}&quot; keep-alive=&quot;5&quot;/&gt;\n        &lt;task:executor id=&quot;pilproRequestTaskExecutor&quot; pool-size=&quot;${pilpro.request.queue.polling.pool.size}&quot; keep-alive=&quot;5&quot;/&gt;\n        &lt;task:executor id=&quot;artemisRequestTaskExecutor&quot; pool-size=&quot;${artemis.request.queue.polling.pool.size}&quot; keep-alive=&quot;5&quot;/&gt;\n        &lt;task:executor id=&quot;smsRequestTaskExecutor&quot; pool-size=&quot;${sms.request.queue.polling.pool.size}&quot; keep-alive=&quot;5&quot;/&gt;\n\n\n\n    &lt;!--\n    toutes les x secondes on scrute la table core_request_queue, on prend les y premières lignes dont la colonne status vaut 'IMMEDIATE'\n            x = request.queue.polling.immediate.fixed.rate\n            y = request.queue.polling.immediate.rows.max\n    --&gt;\n        &lt;bean id=&quot;requestQueueImmediatePollerTrigger&quot; parent=&quot;triggerExcludingWeeklyBlackout&quot;\n            class=&quot;com.orange.cochise.core.application.schedulers.support.PeriodicTriggerExcludingWeeklyBlackout&quot;&gt;\n            &lt;constructor-arg name=&quot;period&quot; value=&quot;${request.queue.polling.immediate.fixed.rate}&quot; /&gt;\n            &lt;property name=&quot;initialDelay&quot; value=&quot;${request.queue.polling.immediate.initial.delay}&quot;&gt;&lt;/property&gt;\n            &lt;property name=&quot;fixedRate&quot; value=&quot;false&quot;/&gt;\n        &lt;/bean&gt;\n\n        &lt;int-jpa:inbound-channel-adapter id=&quot;requestQueueImmediateInbound&quot;\n            jpa-query=&quot;SELECT r\n                FROM RequestQueue r\n                LEFT JOIN FETCH r.data\n                WHERE r.id IN (\n                    SELECT MIN(sub.id)\n                    FROM RequestQueue sub\n                    WHERE sub.status = 'IMMEDIATE'\n                    AND sub.creationDate = (SELECT MIN(oldest.creationDate) FROM RequestQueue oldest WHERE oldest.orderId=sub.orderId AND oldest.status='IMMEDIATE')\n                    AND NOT EXISTS (SELECT runningWithSameOrderId FROM RequestQueue runningWithSameOrderId WHERE runningWithSameOrderId.status='RUNNING' AND sub.orderId=runningWithSameOrderId.orderId)\n                    GROUP BY sub.orderId\n                )\n                ORDER BY r.creationDate&quot;\n            entity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\n            delete-after-poll=&quot;false&quot;\n            channel=&quot;requestQueuesChannel&quot;\n            max-results=&quot;${request.queue.polling.immediate.rows.max}&quot; &gt;\n            &lt;int:poller trigger=&quot;requestQueueImmediatePollerTrigger&quot; error-channel=&quot;requestQueueLockErrorChannel&quot;/&gt;\n        &lt;/int-jpa:inbound-channel-adapter&gt;\n\n        &lt;!-- max-results specifies the number of rows returned for each execution,\n             whereas max-messages-per-poll (on int:poller) specifies the number of times the query is executed per polling interval\n             Under normal circumstances, you would likely not want to set the Poller's max-messages-per-poll property when\n             using the JDBC Inbound Channel Adapter. Its default value is 1, which means that the JDBC Inbound\n             Channel Adapter's receive() method is executed exactly once for each poll interval. --&gt;\n\n        &lt;!--\n        à heure fixe (voir request.queue.polling.periodical.cron) on scrute la table core_request_queue, on prend toutes les lignes dont la colonne status vaut 'PERIODICAL'\n                - pas de max : tous les soirs on traite tout\n        --&gt;\n        &lt;bean id=&quot;requestQueuePeriodicalPollerTrigger&quot; parent=&quot;triggerExcludingWeeklyBlackout&quot;\n            class=&quot;com.orange.cochise.core.application.schedulers.support.CronTriggerExcludingWeeklyBlackout&quot;&gt;\n            &lt;constructor-arg name=&quot;cronExpression&quot; value=&quot;${request.queue.polling.periodical.cron}&quot; /&gt;\n        &lt;/bean&gt;\n        &lt;int-jpa:inbound-channel-adapter id=&quot;requestQueuePeriodicalInbound&quot;\n            jpa-query=&quot;SELECT r\n                FROM RequestQueue r\n                LEFT JOIN FETCH r.data\n                WHERE r.id IN (\n                    SELECT MIN(sub.id)\n                    FROM RequestQueue sub\n                    WHERE sub.status = 'PERIODICAL'\n                    AND sub.creationDate = (SELECT MIN(oldest.creationDate) FROM RequestQueue oldest WHERE oldest.orderId=sub.orderId AND oldest.status='PERIODICAL')\n                    AND NOT EXISTS (SELECT runningWithSameOrderId FROM RequestQueue runningWithSameOrderId WHERE runningWithSameOrderId.status='RUNNING' AND sub.orderId=runningWithSameOrderId.orderId)\n                    GROUP BY sub.orderId\n                )\n                ORDER BY r.creationDate&quot;\n            entity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\n            delete-after-poll=&quot;false&quot;\n            channel=&quot;requestQueuesChannel&quot;&gt;\n            &lt;int:poller trigger=&quot;requestQueuePeriodicalPollerTrigger&quot; error-channel=&quot;requestQueueLockErrorChannel&quot;/&gt;\n        &lt;/int-jpa:inbound-channel-adapter&gt;\n\n        &lt;int:channel id=&quot;requestQueuesChannel&quot;&gt;\n            &lt;int:interceptors&gt;\n                &lt;int:wire-tap channel=&quot;requestQueuesLogChannel&quot;/&gt;\n            &lt;/int:interceptors&gt;\n        &lt;/int:channel&gt;\n\n        &lt;!-- note : en G1R1C2, version du 15/04, on avait eu la mauvaise idée d'écrire dans la log &quot;traitement de X lignes de la RequestQueue&quot; avant d'avoir fait le lock de ces lignes --&gt;\n        &lt;!--&lt;int:logging-channel-adapter id=&quot;requestQueuesLogChannel&quot;\n                    logger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot;\n                    expression=&quot;'traitement '+payload.size()+' lignes de la RequestQueue'&quot;\n                    level=&quot;INFO&quot; /&gt;--&gt;\n        &lt;int:logging-channel-adapter id=&quot;requestQueuesLogChannel&quot;\n                    logger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot;\n                    expression=&quot;'tentative de traitement de '+payload.size()+' lignes de la RequestQueue'&quot;\n                    level=&quot;INFO&quot; /&gt;\n\n        &lt;!-- LOCK BDD : on passe le status des liens à RUNNING (pour s'assurer que l'autre serveur ne va pas traiter ces memes lignes\n                dans le cas ou l'autre serveur aurait fait le select en meme temps, un seule des 2 serveurs pourra passer à\n                RUNNING, l'autre serveur recevra une OptimisticLockException (qui sera envoyé, par défaut, vers errorChannel)\n         --&gt;\n    &lt;!-- update status -&gt; RUNNING (NEW_TX_REQUIRE) --&gt;\n        &lt;int:service-activator id=&quot;requestQueueLockService&quot;\n            ref=&quot;requestQueueServiceImpl&quot;\n            method=&quot;lock&quot;\n            input-channel=&quot;requestQueuesChannel&quot;\n            output-channel=&quot;requestQueuesRunningChannel&quot;/&gt;\n\n        &lt;int:channel id=&quot;requestQueuesRunningChannel&quot;&gt;\n            &lt;int:interceptors&gt;\n                &lt;int:wire-tap channel=&quot;requestQueuesRunningLogChannel&quot;/&gt;\n            &lt;/int:interceptors&gt;\n        &lt;/int:channel&gt;\n\n        &lt;int:logging-channel-adapter id=&quot;requestQueuesRunningLogChannel&quot;\n                    logger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot;\n                    expression=&quot;'traitement '+payload.size()+' lignes de la RequestQueue'&quot;\n                    level=&quot;INFO&quot; /&gt;\n\n        &lt;int:splitter input-channel=&quot;requestQueuesRunningChannel&quot; output-channel=&quot;requestQueueRunningChannel&quot; /&gt;\n\n        &lt;int:header-enricher id=&quot;requestQueueRunningEnricher&quot; input-channel=&quot;requestQueueRunningChannel&quot; output-channel=&quot;requestQueueHeaderChannel&quot; &gt;\n            &lt;int:error-channel ref=&quot;requestQueueErrorChannel&quot; /&gt; &lt;!-- on définit ici le channel d'error a utilisé (à la place de errorChannel) --&gt;\n            &lt;int:header name=&quot;queueId&quot; expression=&quot;payload.id&quot;/&gt;\n            &lt;int:header name=&quot;orderId&quot; expression=&quot;payload.orderId&quot;/&gt;\n            &lt;int:header name=&quot;requestType&quot; expression=&quot;payload.requestType&quot;/&gt;\n            &lt;int:header name=&quot;requestMode&quot; expression=&quot;payload.requestMode&quot;/&gt;\n        &lt;/int:header-enricher&gt;\n\n    &lt;!-- default error channel --&gt;\n        &lt;int:channel id=&quot;requestQueueErrorChannel&quot;&gt;\n            &lt;int:interceptors&gt;\n                &lt;int:wire-tap channel=&quot;errorChannel&quot;/&gt; &lt;!-- LOG SUPPORT --&gt;\n            &lt;/int:interceptors&gt;\n        &lt;/int:channel&gt;\n        &lt;int:header-enricher input-channel=&quot;requestQueueErrorChannel&quot; output-channel=&quot;requestQueueToFail&quot;&gt;\n            &lt;int:header name=&quot;queueId&quot; expression=&quot;payload.failedMessage.headers[queueId]&quot;&gt;&lt;/int:header&gt;\n            &lt;int:header name=&quot;orderId&quot; expression=&quot;payload.failedMessage.headers[orderId]&quot;&gt;&lt;/int:header&gt;\n            &lt;int:header name=&quot;requestType&quot; expression=&quot;payload.failedMessage.headers[requestType]&quot;&gt;&lt;/int:header&gt;\n        &lt;/int:header-enricher&gt;\n\n    &lt;!-- request queue to FAILED --&gt;\n        &lt;int:channel id=&quot;requestQueueToFail&quot;/&gt;\n\n        &lt;!-- &lt;int-jpa:outbound-channel-adapter id=&quot;requestFailedJpaOutboundChannelAdapter&quot;\n            channel=&quot;requestQueueToFail&quot;\n            entity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\n            jpa-query=&quot;update RequestQueue set status='FAILED', lastModified = NOW(), VERSION=(VERSION+1) where status = 'RUNNING' and requestType = :requestType and orderId = :orderId&quot; &gt;\n            &lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; propagation=&quot;REQUIRES_NEW&quot;/&gt;\n            &lt;int-jpa:parameter name=&quot;requestType&quot; expression=&quot;headers[requestType]&quot; /&gt;\n            &lt;int-jpa:parameter name=&quot;orderId&quot; expression=&quot;headers[orderId]&quot;/&gt;\n        &lt;/int-jpa:outbound-channel-adapter&gt; --&gt;\n        &lt;int-jpa:outbound-channel-adapter id=&quot;requestFailedJpaOutboundChannelAdapter&quot;\n            channel=&quot;requestQueueToFail&quot;\n            entity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\n            jpa-query=&quot;update RequestQueue set status='FAILED', lastModified = NOW(), VERSION=(VERSION+1) where id = :id&quot; &gt;\n            &lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; propagation=&quot;REQUIRES_NEW&quot;/&gt;\n            &lt;int-jpa:parameter name=&quot;id&quot; expression=&quot;headers[queueId]&quot; /&gt;\n        &lt;/int-jpa:outbound-channel-adapter&gt;\n\n    &lt;!-- routeur IMF  --&gt;\n\n        &lt;int:channel id=&quot;requestQueueHeaderChannel&quot;&gt;\n            &lt;int:interceptors&gt;\n                &lt;int:wire-tap channel=&quot;requestQueueRunningLogChannel&quot;/&gt;\n            &lt;/int:interceptors&gt;\n        &lt;/int:channel&gt;\n\n        &lt;int:logging-channel-adapter id=&quot;requestQueueRunningLogChannel&quot; logger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot; expression=&quot;'traitement RequestQueue orderId (TODO id=) = '+  payload.orderId +' '&quot; level=&quot;INFO&quot; /&gt;\n\n        &lt;!-- /!\\ ATTENTION: le paramètre 'resolution-required' doit être valorisé à 'false' pour que le paramètre 'default-output-channel' soit pris en compte --&gt;\n        &lt;int:header-value-router input-channel=&quot;requestQueueHeaderChannel&quot; header-name=&quot;requestType&quot; default-output-channel=&quot;requestQueueToFail&quot; resolution-required=&quot;false&quot;&gt;\n            &lt;int:mapping value=&quot;IMF_FAGAN_1&quot; channel=&quot;requestQueueFagan1Channel&quot;/&gt;\n            &lt;int:mapping value=&quot;IMF_FAGAN_5&quot; channel=&quot;requestQueueFagan5Channel&quot;/&gt;\n            &lt;int:mapping value=&quot;IMF_FAGCIB_2&quot; channel=&quot;requestQueueFagcib2Channel&quot;/&gt;\n            &lt;int:mapping value=&quot;PILPRO_CREER_RELANCE&quot; channel=&quot;requestQueueCreerRelanceChannel&quot;/&gt;\n            &lt;int:mapping value=&quot;PILPRO_CREER_TICKET&quot; channel=&quot;requestQueueCreerTicketChannel&quot;/&gt;\n            &lt;int:mapping value=&quot;ARTEMIS_CANCEL_ORDER&quot; channel=&quot;requestQueueCancelOrderChannel&quot;/&gt;\n            &lt;int:mapping value=&quot;ARTEMIS_CLOSE_AVP&quot; channel=&quot;requestQueueCloseAvpChannel&quot;/&gt;\n            &lt;int:mapping value=&quot;ARTEMIS_CREATE_NOTE&quot; channel=&quot;requestQueueCreateNoteChannel&quot;/&gt;\n            &lt;int:mapping value=&quot;ARTEMIS_RELEASE_RDV&quot; channel=&quot;requestQueueReleaseRdvChannel&quot;/&gt;\n            &lt;int:mapping value=&quot;ARTEMIS_REASSIGN_ROLE&quot; channel=&quot;requestQueueReassignRoleChannel&quot;/&gt;\n            &lt;int:mapping value=&quot;ARTEMIS_GET_TASK&quot; channel=&quot;requestQueueGetTaskChannel&quot;/&gt;\n            &lt;int:mapping value=&quot;SEND_SMS&quot; channel=&quot;requestQueueSmsChannel&quot;/&gt;\n            &lt;int:mapping value=&quot;SIMULATE_SEND_SMS&quot; channel=&quot;requestQueueSmsSimulateChannel&quot;/&gt;\n        &lt;/int:header-value-router&gt;\n\n    &lt;!-- FAGAN 1 --&gt;\n        &lt;!-- PublishSubscribeChannel : new Thread Tx START --&gt;\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueFagan1Channel&quot; task-executor=&quot;imfRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n        &lt;int:service-activator id=&quot;imfFagan1ServiceActivator&quot;\n                                ref=&quot;importImfFagan1Facade&quot; method=&quot;callWithRetry&quot;\n                                input-channel=&quot;requestQueueFagan1Channel&quot;\n                                output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- FAGAN 5 --&gt;\n        &lt;!-- PublishSubscribeChannel : new Thread Tx START --&gt;\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueFagan5Channel&quot; task-executor=&quot;imfRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n        &lt;int:service-activator id=&quot;imfFagan5ServiceActivator&quot;\n                                ref=&quot;importImfFagan5Facade&quot; method=&quot;callWithRetry&quot;\n                                input-channel=&quot;requestQueueFagan5Channel&quot;\n                                output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- FAGCIB 2 --&gt;\n        &lt;!-- PublishSubscribeChannel : new Thread Tx START --&gt;\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueFagcib2Channel&quot; task-executor=&quot;imfRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n        &lt;int:service-activator id=&quot;imfFagcib2ServiceActivator&quot;\n                                ref=&quot;importImfFagcib2Facade&quot; method=&quot;callWithRetry&quot;\n                                input-channel=&quot;requestQueueFagcib2Channel&quot;\n                                output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- PILPRO CREER RELANCE --&gt;\n        &lt;!-- PublishSubscribeChannel : new Thread Tx START --&gt;\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueCreerRelanceChannel&quot; task-executor=&quot;pilproRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n        &lt;int:service-activator id=&quot;createReminderServiceActivator&quot;\n                                ref=&quot;pilproCreateReminderFacade&quot; method=&quot;callWithRetry&quot;\n                                input-channel=&quot;requestQueueCreerRelanceChannel&quot;\n                                output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- PILPRO CREER TICKET --&gt;\n        &lt;!-- PublishSubscribeChannel : new Thread Tx START --&gt;\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueCreerTicketChannel&quot; task-executor=&quot;pilproRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n        &lt;int:service-activator id=&quot;creerTicketServiceActivator&quot;\n                                ref=&quot;pilproCreateTicketFacade&quot; method=&quot;callWithRetry&quot;\n                                input-channel=&quot;requestQueueCreerTicketChannel&quot;\n                                output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- ARTEMIS ANNULER COMMANDE --&gt;\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueCancelOrderChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n        &lt;int:service-activator id=&quot;cancelOrderServiceActivator&quot;\n                                ref=&quot;artemisCancelOrderFacade&quot; method=&quot;callWithRetry&quot;\n                                input-channel=&quot;requestQueueCancelOrderChannel&quot;\n                                output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- ARTEMIS CLOTURE AVP --&gt;\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueCloseAvpChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n        &lt;int:service-activator id=&quot;closeAvpServiceActivator&quot;\n                                ref=&quot;artemisCloseAVPFacade&quot; method=&quot;callWithRetry&quot;\n                                input-channel=&quot;requestQueueCloseAvpChannel&quot;\n                                output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- ARTEMIS CREATE NOTE --&gt;\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueCreateNoteChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n        &lt;int:service-activator id=&quot;createNoteServiceActivator&quot;\n                                ref=&quot;artemisCreateNoteFacade&quot; method=&quot;callWithRetry&quot;\n                                input-channel=&quot;requestQueueCreateNoteChannel&quot;\n                                output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- ARTEMIS RELEASE RDV --&gt;\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueReleaseRdvChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n        &lt;int:service-activator id=&quot;releaseRdvServiceActivator&quot;\n                                ref=&quot;artemisReleaseRdvFacade&quot; method=&quot;callWithRetry&quot;\n                                input-channel=&quot;requestQueueReleaseRdvChannel&quot;\n                                output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- ARTEMIS REASSIGN ROLE --&gt;\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueReassignRoleChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n        &lt;int:service-activator id=&quot;reassignRoleServiceActivator&quot;\n                                ref=&quot;artemisReassignRoleFacade&quot; method=&quot;callWithRetry&quot;\n                                input-channel=&quot;requestQueueReassignRoleChannel&quot;\n                                output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- ARTEMIS GET TASK --&gt;\n        &lt;int:publish-subscribe-channel id=&quot;requestQueueGetTaskChannel&quot; task-executor=&quot;artemisRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n        &lt;int:service-activator id=&quot;sendSms&quot;\n                                ref=&quot;artemisGetTaskFacade&quot; method=&quot;callWithRetry&quot;\n                                input-channel=&quot;requestQueueGetTaskChannel&quot;\n                                output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n    &lt;!-- SMS Send Task --&gt;\n    &lt;int:publish-subscribe-channel id=&quot;requestQueueSmsChannel&quot; task-executor=&quot;smsRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n    &lt;int:service-activator id=&quot;sendSmsServiceActivator&quot;\n                           ref=&quot;sendSmsServiceImpl&quot; method=&quot;sendSms&quot;\n                           input-channel=&quot;requestQueueSmsChannel&quot;\n                           output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- SMS Send Task --&gt;\n    &lt;int:publish-subscribe-channel id=&quot;requestQueueSmsSimulateChannel&quot; task-executor=&quot;smsRequestTaskExecutor&quot; datatype=&quot;com.orange.cochise.core.model.queue.RequestQueue&quot;/&gt;\n    &lt;int:service-activator id=&quot;sendSmsServiceActivator&quot;\n                           ref=&quot;sendSmsServiceImpl&quot; method=&quot;simulateSendSms&quot;\n                           input-channel=&quot;requestQueueSmsSimulateChannel&quot;\n                           output-channel=&quot;requestQueueResponseChannel&quot;/&gt;\n\n    &lt;!-- request queue handle response --&gt;\n        &lt;int:channel id=&quot;requestQueueResponseChannel&quot;/&gt;\n        \n        &lt;!-- /!\\ ATTENTION: le paramètre 'resolution-required' doit être valorisé à 'false' pour que le paramètre 'default-output-channel' soit pris en compte --&gt;\n        &lt;int:header-value-router input-channel=&quot;requestQueueResponseChannel&quot; header-name=&quot;requestMode&quot; default-output-channel=&quot;requestQueueToDoneChannel&quot; resolution-required=&quot;false&quot;&gt;\n            &lt;int:mapping value=&quot;CALL_ONLY_ONE_PERIODICAL&quot; channel=&quot;requestQueueToReplayChannel&quot;/&gt;           \n        &lt;/int:header-value-router&gt;\n    \n    &lt;!-- Update request queue : PERIODICAL (replay) --&gt;\n        &lt;int:channel id=&quot;requestQueueToReplayChannel&quot;/&gt;\n        \n        &lt;!-- &lt;int-jpa:outbound-channel-adapter id=&quot;requestPeriodicalJpaOutboundChannelAdapter&quot;\n            channel=&quot;requestQueueToReplayChannel&quot;\n            entity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\n            jpa-query=&quot;update RequestQueue set status='PERIODICAL', lastModified = NOW(), VERSION=(VERSION+1) where status = 'RUNNING' and requestType = :requestType and orderId = :orderId&quot; &gt;\n            &lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; /&gt;\n            &lt;int-jpa:parameter name=&quot;requestType&quot; expression=&quot;headers[requestType]&quot;/&gt;\n            &lt;int-jpa:parameter name=&quot;orderId&quot; expression=&quot;headers[orderId]&quot;/&gt;\n        &lt;/int-jpa:outbound-channel-adapter&gt; --&gt;\n        &lt;int-jpa:outbound-channel-adapter id=&quot;requestPeriodicalJpaOutboundChannelAdapter&quot;\n            channel=&quot;requestQueueToReplayChannel&quot;\n            entity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\n            jpa-query=&quot;update RequestQueue set status='PERIODICAL', lastModified = NOW(), VERSION=(VERSION+1) where id = :id&quot; &gt;\n            &lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; /&gt;\n            &lt;int-jpa:parameter name=&quot;id&quot; expression=&quot;headers[queueId]&quot;/&gt;\n        &lt;/int-jpa:outbound-channel-adapter&gt;\n        \n    &lt;!-- Update request queue : DONE --&gt;\n        &lt;int:channel id=&quot;requestQueueToDoneChannel&quot;/&gt;\n        \n        &lt;!--&lt;int-jpa:outbound-channel-adapter id=&quot;requestDoneJpaOutboundChannelAdapter&quot;\n            channel=&quot;requestQueueToDoneChannel&quot;\n            entity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\n            jpa-query=&quot;update RequestQueue set status = 'DONE', lastModified = NOW(), VERSION=(VERSION+1) where status = 'RUNNING' and requestType = :requestType and orderId = :orderId&quot; &gt;\n            &lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; /&gt;\n            &lt;int-jpa:parameter name=&quot;requestType&quot; expression=&quot;headers[requestType]&quot;/&gt;\n            &lt;int-jpa:parameter name=&quot;orderId&quot; expression=&quot;headers[orderId]&quot;/&gt;\n        &lt;/int-jpa:outbound-channel-adapter&gt;--&gt;\n        &lt;int-jpa:outbound-channel-adapter id=&quot;requestDoneJpaOutboundChannelAdapter&quot;\n            channel=&quot;requestQueueToDoneChannel&quot;\n            entity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\n            jpa-query=&quot;update RequestQueue set status = 'DONE', lastModified = NOW(), VERSION=(VERSION+1) where id = :id&quot; &gt;\n            &lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot; /&gt;\n            &lt;int-jpa:parameter name=&quot;id&quot; expression=&quot;headers[queueId]&quot;/&gt;\n        &lt;/int-jpa:outbound-channel-adapter&gt;\n\n&lt;!-- LOCK logger --&gt;    \n        &lt;!-- permet de loguer dans supervisionError (via ErrorChannel) toutes les erreurs sauf LockException --&gt;\n        &lt;int:channel id=&quot;requestQueueLockErrorChannel&quot;&gt;&lt;/int:channel&gt;\n        &lt;int:logging-channel-adapter id=&quot;requestQueueLockErrorLogChannel&quot; logger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot; expression=&quot;'RequestQueues vérouillées par un traitement en cours'&quot; level=&quot;DEBUG&quot; /&gt;        \n        &lt;int:exception-type-router input-channel=&quot;requestQueueLockErrorChannel&quot; default-output-channel=&quot;errorChannel&quot;&gt;\n            &lt;int:mapping exception-type=&quot;javax.persistence.OptimisticLockException&quot; channel=&quot;requestQueueLockErrorLogChannel&quot;/&gt;\n            &lt;int:mapping exception-type=&quot;org.hibernate.exception.LockAcquisitionException&quot; channel=&quot;requestQueueLockErrorLogChannel&quot;/&gt;\n        &lt;/int:exception-type-router&gt;\n    \n&lt;!-- Traitement RequestQueue RETRY : RUNNING -&gt; IMMEDIATE --&gt;\n        &lt;!-- \n        toutes les x secondes on scrute la table core_request_queue, on prend les y premières lignes de plus de z heures dont la colonne status vaut 'RUNNING', \n        afin de les re-passer en statut 'IMMEDIATE'   \n                x = request.queue.polling.running.in.error.fixed.rate\n                y = request.queue.polling.running.in.error.rows.max \n                z = request.queue.polling.running.in.error.time.limit\n                \n        remarque : lorsque executé en tests unitaires (sur base H2) la query ci-dessous renvoi une &quot;Syntax error in SQL statement&quot;\n        --&gt;\n        &lt;bean id=&quot;requestRunningInErrorPollerTrigger&quot; parent=&quot;triggerExcludingWeeklyBlackout&quot; \n            class=&quot;com.orange.cochise.core.application.schedulers.support.PeriodicTriggerExcludingWeeklyBlackout&quot;&gt;\n            &lt;constructor-arg name=&quot;period&quot; value=&quot;${request.queue.polling.running.in.error.fixed.rate}&quot; /&gt;\n            &lt;property name=&quot;initialDelay&quot; value=&quot;${request.queue.polling.running.in.error.initial.delay}&quot;&gt;&lt;/property&gt;\n            &lt;property name=&quot;fixedRate&quot; value=&quot;false&quot;/&gt;\n        &lt;/bean&gt;             \n        &lt;int-jpa:inbound-channel-adapter id=&quot;requestQueueRunningToRetryInboud&quot;\n            jpa-query=&quot;from RequestQueue where status = 'RUNNING' and lastModified &amp;lt; SUBTIME(CURRENT_TIMESTAMP, MAKETIME(${request.queue.polling.running.in.error.time.limit},0,0) ) order by lastModified asc&quot;\n            entity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\n            channel=&quot;requestQueuesRunningRetryChannel&quot; \n            max-results=&quot;${request.queue.polling.running.in.error.rows.max}&quot;&gt; \n            &lt;int:poller trigger=&quot;requestRunningInErrorPollerTrigger&quot;/&gt;\n        &lt;/int-jpa:inbound-channel-adapter&gt;\n        \n        &lt;int:channel id=&quot;requestQueuesRunningRetryChannel&quot;&gt;\n            &lt;int:interceptors&gt;\n                &lt;int:wire-tap channel=&quot;requestQueuesRunningRetryLogChannel&quot;/&gt;\n            &lt;/int:interceptors&gt; \n        &lt;/int:channel&gt;\n        \n        &lt;int:splitter input-channel=&quot;requestQueuesRunningRetryChannel&quot; output-channel=&quot;requestQueueRunningRetryChannel&quot;/&gt;\n        \n        &lt;int:logging-channel-adapter id=&quot;requestQueuesRunningRetryLogChannel&quot; logger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot; expression=&quot;'rattrapage de '+payload.size()+' lignes de la RequestQueue'&quot; level=&quot;INFO&quot; /&gt;\n        \n        &lt;int:channel id=&quot;requestQueueRunningRetryChannel&quot;&gt;\n            &lt;int:interceptors&gt;\n                &lt;int:wire-tap channel=&quot;requestQueueRunningRetryLogChannel&quot;/&gt;\n            &lt;/int:interceptors&gt; \n        &lt;/int:channel&gt;\n        \n        &lt;!-- &lt;int-jpa:outbound-channel-adapter id=&quot;requestQueueRunningToImmediateOutbound&quot;\n            channel=&quot;requestQueueRunningRetryChannel&quot;\n            entity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\n            jpa-query=&quot;update RequestQueue set status = 'IMMEDIATE', lastModified = NOW(), VERSION=(VERSION+1) where requestType = :requestType and orderId = :orderId and status = 'RUNNING' &quot;&gt;\n            &lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot;  propagation=&quot;REQUIRES_NEW&quot;/&gt;\n            &lt;int-jpa:parameter name=&quot;requestType&quot; expression=&quot;payload.requestType&quot;/&gt;\n            &lt;int-jpa:parameter name=&quot;orderId&quot; expression=&quot;payload.orderId&quot;/&gt;\n        &lt;/int-jpa:outbound-channel-adapter&gt; --&gt;\n        &lt;int-jpa:outbound-channel-adapter id=&quot;requestQueueRunningToImmediateOutbound&quot;\n            channel=&quot;requestQueueRunningRetryChannel&quot;\n            entity-manager-factory=&quot;cochiseCoreEntityManagerFactory&quot;\n            jpa-query=&quot;update RequestQueue set status = 'IMMEDIATE', lastModified = NOW(), VERSION=(VERSION+1) where id = :id&quot;&gt;\n            &lt;int-jpa:transactional transaction-manager=&quot;coreTransactionManager&quot;  propagation=&quot;REQUIRES_NEW&quot;/&gt;\n            &lt;int-jpa:parameter name=&quot;id&quot; expression=&quot;payload.id&quot;/&gt;\n        &lt;/int-jpa:outbound-channel-adapter&gt;\n\n        &lt;int:logging-channel-adapter id=&quot;requestQueueRunningRetryLogChannel&quot; logger-name=&quot;com.orange.cochise.core.application.integration.request.logger.RequestQueue&quot; expression=&quot;'rattrapage de la ligne : '+payload&quot; level=&quot;INFO&quot; /&gt;\n        \n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":303420,"reputation":10129,"user_id":2378643,"display_name":"Anon Coward"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649693440,"creation_date":1649693440,"answer_id":71831021,"question_id":71825491,"body_markdown":"[The documentation states](https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectVersions.html):\r\n\r\n&gt; **key-marker**\r\n&gt; \r\n&gt; Specifies the key to start with when listing objects in a bucket.\r\n\r\nThis means by specifying key-marker, you&#39;re just *starting* listing objects at the specified key.  ListObjectVersions can and will continue listing objects past the specified key.\r\n\r\nFurther in the documentation:\r\n\r\n&gt; **prefix**\r\n&gt; \r\n&gt; Use this parameter to select only those keys that begin with the specified prefix.\r\n\r\nIn other words, if you pass a prefix of only the object name, it will return the versions for that object, along with all objects that start with that prefix.\r\n\r\nSo, you can specify either the prefix of the target object key, or the key marker, but you will need still need to filter in either event to ensure you don&#39;t include other objects.","title":"How to use key marker in ListObjectVersions, AWS S3 Java SDK","body":"<p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectVersions.html\" rel=\"nofollow noreferrer\">The documentation states</a>:</p>\n<blockquote>\n<p><strong>key-marker</strong></p>\n<p>Specifies the key to start with when listing objects in a bucket.</p>\n</blockquote>\n<p>This means by specifying key-marker, you're just <em>starting</em> listing objects at the specified key.  ListObjectVersions can and will continue listing objects past the specified key.</p>\n<p>Further in the documentation:</p>\n<blockquote>\n<p><strong>prefix</strong></p>\n<p>Use this parameter to select only those keys that begin with the specified prefix.</p>\n</blockquote>\n<p>In other words, if you pass a prefix of only the object name, it will return the versions for that object, along with all objects that start with that prefix.</p>\n<p>So, you can specify either the prefix of the target object key, or the key marker, but you will need still need to filter in either event to ensure you don't include other objects.</p>\n"}],"owner":{"account_id":5071729,"reputation":157,"user_id":4070318,"display_name":"Niteesh Bhargava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649693440,"creation_date":1649669344,"question_id":71825491,"body_markdown":"I am working on a task to delete all the PDF document versions given their document key(Unique for each PDF) using AWS Java SDK.\r\n\r\nOther developers have integrated the download code like below\r\n\r\n    final GetObjectRequest request = GetObjectRequest.builder().bucket(bucketName).key(documentKey).versionId(version).build();\r\n                return client.getObject(request);\r\n\r\n\r\n\r\nAfter searching a bit I found this code to delete single version :-\r\n\r\n    DeleteObjectRequest request = DeleteObjectRequest.builder().bucket(bucketName)\r\n                    .key(documentKey).versionId(version).build();\r\n    \r\n            DeleteObjectResponse resp = client.deleteObject(request);\r\n\r\n\r\n**Main question** :- How do I get all versions of single documentKey ?\r\n\r\nI found ListObjectVersions on \r\nbelow URL but It accepts a key-marker and not the actual key\r\n\r\n&gt; key-marker Specifies the key to start with when listing objects in a\r\n&gt; bucket.\r\n&gt; https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectVersions.html\r\n\r\nI am just worried if I don&#39;t use this properly I might end up deleting something else in Prod.\r\n\r\nEdit :- All the PDFs are stored at root level in S3 bucket.\r\n","title":"How to use key marker in ListObjectVersions, AWS S3 Java SDK","body":"<p>I am working on a task to delete all the PDF document versions given their document key(Unique for each PDF) using AWS Java SDK.</p>\n<p>Other developers have integrated the download code like below</p>\n<pre><code>final GetObjectRequest request = GetObjectRequest.builder().bucket(bucketName).key(documentKey).versionId(version).build();\n            return client.getObject(request);\n</code></pre>\n<p>After searching a bit I found this code to delete single version :-</p>\n<pre><code>DeleteObjectRequest request = DeleteObjectRequest.builder().bucket(bucketName)\n                .key(documentKey).versionId(version).build();\n\n        DeleteObjectResponse resp = client.deleteObject(request);\n</code></pre>\n<p><strong>Main question</strong> :- How do I get all versions of single documentKey ?</p>\n<p>I found ListObjectVersions on\nbelow URL but It accepts a key-marker and not the actual key</p>\n<blockquote>\n<p>key-marker Specifies the key to start with when listing objects in a\nbucket.\n<a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectVersions.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/API/API_ListObjectVersions.html</a></p>\n</blockquote>\n<p>I am just worried if I don't use this properly I might end up deleting something else in Prod.</p>\n<p>Edit :- All the PDFs are stored at root level in S3 bucket.</p>\n"},{"tags":["java","android","android-edittext","spinner"],"answers":[{"tags":[],"owner":{"account_id":5457239,"reputation":462,"user_id":4340273,"display_name":"Vikas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649693281,"creation_date":1649693281,"answer_id":71830984,"question_id":71828484,"body_markdown":"Better you create a HashMap with key value like \r\n\r\n**HashMap map = new HashMap&lt;String,EditText&gt;();\r\nmap.put(&quot;edit_text_type&quot;,editText Object Reference)**\r\n\r\nso whenever you create a new dynamic edit text add also inside this hash map and when you want fo retrieve the value of particular HashMap same key you need to get from map like\r\n\r\n**map.get(&quot;edit_text_type&quot;).gettext().toString();**\r\n\r\nBelow is the reference example \r\n\r\n  public void addInput(EditText field, String hint) {\r\n      \r\n        neutralInput = new EditText(this);\r\n        neutralInput.setHint(hint);\r\n        layout.addView(neutralInput);\r\n\r\n       **map.put(hint,field);**\r\n    }","title":"Get the text from an EditText created dynamically by a function","body":"<p>Better you create a HashMap with key value like</p>\n<p><strong>HashMap map = new HashMap&lt;String,EditText&gt;();\nmap.put(&quot;edit_text_type&quot;,editText Object Reference)</strong></p>\n<p>so whenever you create a new dynamic edit text add also inside this hash map and when you want fo retrieve the value of particular HashMap same key you need to get from map like</p>\n<p><strong>map.get(&quot;edit_text_type&quot;).gettext().toString();</strong></p>\n<p>Below is the reference example</p>\n<p>public void addInput(EditText field, String hint) {</p>\n<pre><code>    neutralInput = new EditText(this);\n    neutralInput.setHint(hint);\n    layout.addView(neutralInput);\n\n   **map.put(hint,field);**\n}\n</code></pre>\n"}],"owner":{"account_id":19533512,"reputation":73,"user_id":14292765,"display_name":"Lucas Slepetys"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71830984,"answer_count":1,"score":0,"last_activity_date":1649693281,"creation_date":1649682712,"question_id":71828484,"body_markdown":"I am working on an Android application using Java. I&#39;m using a spinner where it offers different options for a user to select and then I try to update the UI according to the selection, adding more user input for additional information or removing some of it. Everything works until I call the saveInfo() function which is supposed to print the text inside this new text input field that has been created with the addInput() function. Every time I print it, it returns null (&quot;java.lang.NullPointerException&quot;). Would anyone have an idea on how I can use a function to create a new EditText input and at the same time be able to retrieve information from it? If not, is there another solution someone would recommend to dynamically add multiple EditTexts to the screen? Thank you!\r\n\r\nHere is my code:\r\n\r\n``` \r\npublic class UserInfo extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\r\n\r\n    private String[] bankNames={&quot;Teacher&quot;,&quot;Student&quot;,&quot;Parent&quot;,&quot;Worker&quot;,&quot;Another&quot;};\r\n    //Commum variables:\r\n    private EditText nameInput;\r\n    //Teacher:\r\n    private EditText inSchoolTitleInput;\r\n    //Parent:\r\n    //...\r\n\r\n    private EditText neutralInput;\r\n    private String neutralInputText;\r\n\r\n    //String from spinner:\r\n    private String selectedName;\r\n\r\n    private LinearLayout layout;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_user_info);\r\n\r\n        //Getting the instance of Spinner and applying OnItemSelectedListener on it\r\n        Spinner spin = (Spinner) findViewById(R.id.simpleSpinner);\r\n        layout = findViewById(R.id.linearLayout);\r\n        spin.setOnItemSelectedListener(this);\r\n\r\n        //Creating the ArrayAdapter instance having the bank name list\r\n        ArrayAdapter aa = new ArrayAdapter(this,android.R.layout.simple_spinner_item,bankNames);\r\n        aa.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        //Setting the ArrayAdapter data on the Spinner\r\n        spin.setAdapter(aa);\r\n    }\r\n\r\n     @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\r\n        selectedName = bankNames[position];\r\n        addFields();\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {}\r\n\r\n    //Checks what was selected from spinner and updates the screen\r\n    public void addFields() {\r\n        addCommonFields();\r\n        switch (selectedName) {\r\n            case &quot;Teacher&quot;: addTeacherFields();\r\n                            break;\r\n            //...\r\n        }\r\n    }\r\n\r\n    public void addCommonFields() {\r\n        layout.removeAllViewsInLayout();\r\n        addInput(nameInput, &quot;Lucas Slepetys&quot;);\r\n    }\r\n\r\n    private void addTeacherFields() {\r\n        addInput(inSchoolTitleInput, &quot;Math&quot;);\r\n    }\r\n\r\n    public void addInput(EditText field, String hint) {\r\n        neutralInput = field;\r\n        neutralInput = new EditText(this);\r\n        neutralInput.setHint(hint);\r\n        layout.addView(neutralInput);\r\n    }\r\n    \r\n    public void saveInfo(View v) {\r\n        switch (selectedName) {\r\n            case &quot;Teacher&quot;:\r\n                System.out.println(neutralInput.getText().toString());\r\n                break;\r\n            //...\r\n        }\r\n     }\r\n}\r\n\r\n``` \r\n\r\nThank you!","title":"Get the text from an EditText created dynamically by a function","body":"<p>I am working on an Android application using Java. I'm using a spinner where it offers different options for a user to select and then I try to update the UI according to the selection, adding more user input for additional information or removing some of it. Everything works until I call the saveInfo() function which is supposed to print the text inside this new text input field that has been created with the addInput() function. Every time I print it, it returns null (&quot;java.lang.NullPointerException&quot;). Would anyone have an idea on how I can use a function to create a new EditText input and at the same time be able to retrieve information from it? If not, is there another solution someone would recommend to dynamically add multiple EditTexts to the screen? Thank you!</p>\n<p>Here is my code:</p>\n<pre><code>public class UserInfo extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\n\n    private String[] bankNames={&quot;Teacher&quot;,&quot;Student&quot;,&quot;Parent&quot;,&quot;Worker&quot;,&quot;Another&quot;};\n    //Commum variables:\n    private EditText nameInput;\n    //Teacher:\n    private EditText inSchoolTitleInput;\n    //Parent:\n    //...\n\n    private EditText neutralInput;\n    private String neutralInputText;\n\n    //String from spinner:\n    private String selectedName;\n\n    private LinearLayout layout;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_user_info);\n\n        //Getting the instance of Spinner and applying OnItemSelectedListener on it\n        Spinner spin = (Spinner) findViewById(R.id.simpleSpinner);\n        layout = findViewById(R.id.linearLayout);\n        spin.setOnItemSelectedListener(this);\n\n        //Creating the ArrayAdapter instance having the bank name list\n        ArrayAdapter aa = new ArrayAdapter(this,android.R.layout.simple_spinner_item,bankNames);\n        aa.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        //Setting the ArrayAdapter data on the Spinner\n        spin.setAdapter(aa);\n    }\n\n     @Override\n    public void onItemSelected(AdapterView&lt;?&gt; parent, View view, int position, long id) {\n        selectedName = bankNames[position];\n        addFields();\n\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; parent) {}\n\n    //Checks what was selected from spinner and updates the screen\n    public void addFields() {\n        addCommonFields();\n        switch (selectedName) {\n            case &quot;Teacher&quot;: addTeacherFields();\n                            break;\n            //...\n        }\n    }\n\n    public void addCommonFields() {\n        layout.removeAllViewsInLayout();\n        addInput(nameInput, &quot;Lucas Slepetys&quot;);\n    }\n\n    private void addTeacherFields() {\n        addInput(inSchoolTitleInput, &quot;Math&quot;);\n    }\n\n    public void addInput(EditText field, String hint) {\n        neutralInput = field;\n        neutralInput = new EditText(this);\n        neutralInput.setHint(hint);\n        layout.addView(neutralInput);\n    }\n    \n    public void saveInfo(View v) {\n        switch (selectedName) {\n            case &quot;Teacher&quot;:\n                System.out.println(neutralInput.getText().toString());\n                break;\n            //...\n        }\n     }\n}\n\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1649683328,"post_id":71828596,"comment_id":126931350,"body_markdown":"how are you trying to run it? What does your class look like? What does your manifest file look like?","body":"how are you trying to run it? What does your class look like? What does your manifest file look like?"}],"answers":[{"tags":[],"owner":{"account_id":17310457,"reputation":21,"user_id":12538203,"display_name":"Honza Kubala"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1649693268,"creation_date":1649693268,"answer_id":71830981,"question_id":71828596,"body_markdown":"I had same problem with JavaFX exporting. You can export your library with project (fat jar using gradle/maven) or declare path to library in VM options.","title":"Resolve issue with creating and running a jar file in IntelliJ java. Error: Could not find or load main class TestJar","body":"<p>I had same problem with JavaFX exporting. You can export your library with project (fat jar using gradle/maven) or declare path to library in VM options.</p>\n"}],"owner":{"account_id":17945257,"reputation":352,"user_id":13060966,"display_name":"CleanCoder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649693268,"creation_date":1649683248,"question_id":71828596,"body_markdown":"I have created a main class (TestJar) and two addition classes which run from the main. I can run the application from IntelliJ with no issues but when I build and run the jar file if fails.\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\java.exe&quot; -Dfile.encoding=windows-1252 -jar D:\\Data\\JavaPGMS\\TestJar\\out\\artifacts\\TestJar_jar\\TestJar.jar\r\n    Error: Could not find or load main class TestJar\r\n    Caused by: java.lang.ClassNotFoundException: TestJar\r\n    \r\n    Process finished with exit code 1\r\n\r\nI was able to create the jar file and run it up until I added the code in one class file which includes the apache.poi library.","title":"Resolve issue with creating and running a jar file in IntelliJ java. Error: Could not find or load main class TestJar","body":"<p>I have created a main class (TestJar) and two addition classes which run from the main. I can run the application from IntelliJ with no issues but when I build and run the jar file if fails.</p>\n<pre><code>&quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\java.exe&quot; -Dfile.encoding=windows-1252 -jar D:\\Data\\JavaPGMS\\TestJar\\out\\artifacts\\TestJar_jar\\TestJar.jar\nError: Could not find or load main class TestJar\nCaused by: java.lang.ClassNotFoundException: TestJar\n\nProcess finished with exit code 1\n</code></pre>\n<p>I was able to create the jar file and run it up until I added the code in one class file which includes the apache.poi library.</p>\n"},{"tags":["java","generics","syntax"],"comments":[{"owner":{"account_id":6652548,"reputation":1097,"user_id":5134084,"display_name":"ThomasR"},"score":23,"creation_date":1474441323,"post_id":976441,"comment_id":66526805,"body_markdown":"I don&#39;t know why people think the reply by Tetsujin no Oni really answers the question. It basically rephrases OP&#39;s observations using academic wording, but does not give any reasoning. &quot;Why is there no `implements`?&quot; - &quot;Because there is only `extends`&quot;.","body":"I don&#39;t know why people think the reply by Tetsujin no Oni really answers the question. It basically rephrases OP&#39;s observations using academic wording, but does not give any reasoning. &quot;Why is there no <code>implements</code>?&quot; - &quot;Because there is only <code>extends</code>&quot;."},{"owner":{"account_id":33518,"reputation":7300,"user_id":93922,"accept_rate":80,"display_name":"Tetsujin no Oni"},"score":2,"creation_date":1475769196,"post_id":976441,"comment_id":67086603,"body_markdown":"ThomasR: that&#39;s because it&#39;s not a question of &quot;allowed&quot;, but of meaning: there&#39;s no difference in how you would write a generic consuming a type with a constraint whether the constraint is from an interface or an ancestor type.","body":"ThomasR: that&#39;s because it&#39;s not a question of &quot;allowed&quot;, but of meaning: there&#39;s no difference in how you would write a generic consuming a type with a constraint whether the constraint is from an interface or an ancestor type."},{"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"score":0,"creation_date":1558786513,"post_id":976441,"comment_id":99220103,"body_markdown":"Added an answer (https://stackoverflow.com/a/56304595/4922375) with my reasoning why `implements` wouldn&#39;t bring anything new and would complicate things further. I hope it will be helpful for you.","body":"Added an answer (<a href=\"https://stackoverflow.com/a/56304595/4922375\">stackoverflow.com/a/56304595/4922375</a>) with my reasoning why <code>implements</code> wouldn&#39;t bring anything new and would complicate things further. I hope it will be helpful for you."},{"owner":{"account_id":4533970,"reputation":458,"user_id":3683684,"display_name":"sanjeev"},"score":0,"creation_date":1651160486,"post_id":976441,"comment_id":127302945,"body_markdown":"This post can help!\nhttps://veejnas.medium.com/how-to-write-a-generic-comparator-in-java-31605bc854fe","body":"This post can help! <a href=\"https://veejnas.medium.com/how-to-write-a-generic-comparator-in-java-31605bc854fe\" rel=\"nofollow noreferrer\">veejnas.medium.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":33518,"reputation":7300,"user_id":93922,"accept_rate":80,"display_name":"Tetsujin no Oni"},"down_vote_count":7,"up_vote_count":354,"is_accepted":false,"score":347,"last_activity_date":1322805039,"creation_date":1244648751,"answer_id":976458,"question_id":976441,"body_markdown":"There is no semantic difference in the generic constraint language between whether a class &#39;implements&#39; or &#39;extends&#39;. The constraint possibilities are &#39;extends&#39; and &#39;super&#39; - that is, is this class to operate with assignable to that other one (extends), or is this class assignable from that one (super).\r\n\r\n","title":"Why is &quot;extends T&quot; allowed but not &quot;implements T&quot;?","body":"<p>There is no semantic difference in the generic constraint language between whether a class 'implements' or 'extends'. The constraint possibilities are 'extends' and 'super' - that is, is this class to operate with assignable to that other one (extends), or is this class assignable from that one (super).</p>\n"},{"tags":[],"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1244648930,"creation_date":1244648930,"answer_id":976470,"question_id":976441,"body_markdown":"It may be that the base type is a generic parameter, so the actual type may be an interface of a class. Consider:\r\n\r\n    class MyGen&lt;T, U extends T&gt; {\r\n\r\nAlso from client code perspective interfaces are almost indistinguishable from classes, whereas for subtype it is important.\r\n\r\n","title":"Why is &quot;extends T&quot; allowed but not &quot;implements T&quot;?","body":"<p>It may be that the base type is a generic parameter, so the actual type may be an interface of a class. Consider:</p>\n\n<pre><code>class MyGen&lt;T, U extends T&gt; {\n</code></pre>\n\n<p>Also from client code perspective interfaces are almost indistinguishable from classes, whereas for subtype it is important.</p>\n"},{"tags":[],"owner":{"account_id":24884,"reputation":7952,"user_id":63548,"display_name":"beetstra"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1244650095,"creation_date":1244650095,"answer_id":976601,"question_id":976441,"body_markdown":"Probably because for both sides (B and C) only the type is relevant, not the implementation. \r\nIn your example\r\n\r\n    public class A&lt;B extends C&gt;{}\r\nB can be an interface as well. &quot;extends&quot; is used to define sub-interfaces as well as sub-classes.\r\n\r\n    interface IntfSub extends IntfSuper {}\r\n    class ClzSub extends ClzSuper {}\r\n\r\nI usually think of &#39;Sub extends Super&#39; as &#39;*Sub* is like *Super*, but with additional capabilities&#39;, and &#39;Clz implements Intf&#39; as &#39;*Clz* is a realization of *Intf*&#39;. In your example, this would match: *B* is like *C*, but with additional capabilities. The capabilities are relevant here, not the realization.","title":"Why is &quot;extends T&quot; allowed but not &quot;implements T&quot;?","body":"<p>Probably because for both sides (B and C) only the type is relevant, not the implementation. \nIn your example</p>\n\n<pre><code>public class A&lt;B extends C&gt;{}\n</code></pre>\n\n<p>B can be an interface as well. \"extends\" is used to define sub-interfaces as well as sub-classes.</p>\n\n<pre><code>interface IntfSub extends IntfSuper {}\nclass ClzSub extends ClzSuper {}\n</code></pre>\n\n<p>I usually think of 'Sub extends Super' as '<em>Sub</em> is like <em>Super</em>, but with additional capabilities', and 'Clz implements Intf' as '<em>Clz</em> is a realization of <em>Intf</em>'. In your example, this would match: <em>B</em> is like <em>C</em>, but with additional capabilities. The capabilities are relevant here, not the realization.</p>\n"},{"tags":[],"owner":{"account_id":239367,"reputation":13178,"user_id":508907,"accept_rate":62,"display_name":"ntg"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1402591896,"creation_date":1343742537,"answer_id":11741660,"question_id":976441,"body_markdown":"Here is a more involved example of where extends is allowed and possibly what you want:\r\n\r\n`public class A&lt;T1 extends Comparable&lt;T1&gt;&gt;`","title":"Why is &quot;extends T&quot; allowed but not &quot;implements T&quot;?","body":"<p>Here is a more involved example of where extends is allowed and possibly what you want:</p>\n\n<p><code>public class A&lt;T1 extends Comparable&lt;T1&gt;&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1453455308,"creation_date":1453453363,"answer_id":34942695,"question_id":976441,"body_markdown":"It&#39;s sort of arbitrary which of the terms to use. It could have been either way. Perhaps the language designers thought of &quot;extends&quot; as the most fundamental term, and &quot;implements&quot; as the special case for interfaces.\r\n\r\nBut I think `implements` would make slightly more sense. I think that communicates more that the parameter types don&#39;t have to be in an inheritance relationship, they can be in *any* kind of subtype relationship.\r\n\r\nThe Java Glossary expresses a [similar view](http://www.mindprod.com/jgloss/generics.html#INFERENCE).","title":"Why is &quot;extends T&quot; allowed but not &quot;implements T&quot;?","body":"<p>It's sort of arbitrary which of the terms to use. It could have been either way. Perhaps the language designers thought of \"extends\" as the most fundamental term, and \"implements\" as the special case for interfaces.</p>\n\n<p>But I think <code>implements</code> would make slightly more sense. I think that communicates more that the parameter types don't have to be in an inheritance relationship, they can be in <em>any</em> kind of subtype relationship.</p>\n\n<p>The Java Glossary expresses a <a href=\"http://www.mindprod.com/jgloss/generics.html#INFERENCE\" rel=\"noreferrer\">similar view</a>.</p>\n"},{"tags":[],"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"down_vote_count":0,"up_vote_count":117,"is_accepted":false,"score":117,"last_activity_date":1478138504,"creation_date":1478138504,"answer_id":40392671,"question_id":976441,"body_markdown":"The answer is in [here][1]&#160;: \r\n\r\n&gt;To declare a bounded type parameter, list the type parameter&#39;s name, followed by the &lt;code&gt;extends&lt;/code&gt; keyword, followed by its *upper bound* […]. Note that, in this context, extends is used in a general sense to mean either &lt;code&gt;extends&lt;/code&gt; (as in classes) or &lt;code&gt;implements&lt;/code&gt; (as in interfaces).\r\n\r\nSo there you have it, it&#39;s a bit confusing, and Oracle knows it.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/bounded.html","title":"Why is &quot;extends T&quot; allowed but not &quot;implements T&quot;?","body":"<p>The answer is in <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/bounded.html\" rel=\"noreferrer\">here</a> : </p>\n\n<blockquote>\n  <p>To declare a bounded type parameter, list the type parameter's name, followed by the <code>extends</code> keyword, followed by its <em>upper bound</em> […]. Note that, in this context, extends is used in a general sense to mean either <code>extends</code> (as in classes) or <code>implements</code> (as in interfaces).</p>\n</blockquote>\n\n<p>So there you have it, it's a bit confusing, and Oracle knows it.</p>\n"},{"tags":[],"owner":{"account_id":6340208,"reputation":48515,"user_id":4922375,"accept_rate":96,"display_name":"Andrew Tobilko"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1558786196,"creation_date":1558785237,"answer_id":56304595,"question_id":976441,"body_markdown":"We are used to \r\n\r\n    class ClassTypeA implements InterfaceTypeA {}\r\n    class ClassTypeB extends ClassTypeA {}\r\n\r\nand any slight deviation from these rules greatly confuses us.\r\n\r\nThe syntax of a type bound is defined as \r\n\r\n    TypeBound:\r\n        extends TypeVariable \r\n        extends ClassOrInterfaceType {AdditionalBound}\r\n&lt;sup&gt;([JLS 12 &gt; 4.4. Type Variables &gt; `TypeBound`](https://docs.oracle.com/javase/specs/jls/se12/html/jls-4.html#jls-TypeBound))&lt;/sup&gt;\r\n\r\nIf we were to change it, we would surely add the `implements` case\r\n\r\n    TypeBound:\r\n        extends TypeVariable \r\n        extends ClassType {AdditionalBound}\r\n        implements InterfaceType {AdditionalBound}\r\n\r\nand end up with two identically processed clauses \r\n\r\n    ClassOrInterfaceType:\r\n        ClassType \r\n        InterfaceType\r\n\r\n&lt;sup&gt;([JLS 12 &gt; 4.3. Reference Types and Values &gt; `ClassOrInterfaceType`](https://docs.oracle.com/javase/specs/jls/se12/html/jls-4.html#jls-ClassOrInterfaceType))&lt;/sup&gt;\r\n\r\nexcept we would also need to take care of `implements`, which would complicate things further. \r\n\r\nI believe it&#39;s the main reason why `extends ClassOrInterfaceType` is used instead of `extends ClassType` and `implements InterfaceType` - to keep things simple within the complicated concept. The problem is we don&#39;t have the right word to cover both `extends` and `implements` and we definitely don&#39;t want to introduce one. \r\n\r\n&lt;strike&gt;`&lt;T is ClassTypeA&gt;`&lt;/strike&gt;  \r\n&lt;strike&gt;`&lt;T is InterfaceTypeA&gt;`&lt;/strike&gt;\r\n\r\n\r\nAlthough `extends` brings some mess when it goes along with an interface, it&#39;s a broader term and it can be used to describe both cases. Try to tune your mind to the concept of **extending a type** (not &lt;strike&gt;extending a class&lt;/strike&gt;, not &lt;strike&gt;implementing an interface&lt;/strike&gt;). You restrict a type parameter by **another type** and it doesn&#39;t matter what that type actually is. It only matters that it&#39;s its **upper bound** and it&#39;s its **supertype**.","title":"Why is &quot;extends T&quot; allowed but not &quot;implements T&quot;?","body":"<p>We are used to </p>\n\n<pre><code>class ClassTypeA implements InterfaceTypeA {}\nclass ClassTypeB extends ClassTypeA {}\n</code></pre>\n\n<p>and any slight deviation from these rules greatly confuses us.</p>\n\n<p>The syntax of a type bound is defined as </p>\n\n<pre><code>TypeBound:\n    extends TypeVariable \n    extends ClassOrInterfaceType {AdditionalBound}\n</code></pre>\n\n<p><sup>(<a href=\"https://docs.oracle.com/javase/specs/jls/se12/html/jls-4.html#jls-TypeBound\" rel=\"noreferrer\">JLS 12 > 4.4. Type Variables > <code>TypeBound</code></a>)</sup></p>\n\n<p>If we were to change it, we would surely add the <code>implements</code> case</p>\n\n<pre><code>TypeBound:\n    extends TypeVariable \n    extends ClassType {AdditionalBound}\n    implements InterfaceType {AdditionalBound}\n</code></pre>\n\n<p>and end up with two identically processed clauses </p>\n\n<pre><code>ClassOrInterfaceType:\n    ClassType \n    InterfaceType\n</code></pre>\n\n<p><sup>(<a href=\"https://docs.oracle.com/javase/specs/jls/se12/html/jls-4.html#jls-ClassOrInterfaceType\" rel=\"noreferrer\">JLS 12 > 4.3. Reference Types and Values > <code>ClassOrInterfaceType</code></a>)</sup></p>\n\n<p>except we would also need to take care of <code>implements</code>, which would complicate things further. </p>\n\n<p>I believe it's the main reason why <code>extends ClassOrInterfaceType</code> is used instead of <code>extends ClassType</code> and <code>implements InterfaceType</code> - to keep things simple within the complicated concept. The problem is we don't have the right word to cover both <code>extends</code> and <code>implements</code> and we definitely don't want to introduce one. </p>\n\n<p><strike><code>&lt;T is ClassTypeA&gt;</code></strike><br>\n<strike><code>&lt;T is InterfaceTypeA&gt;</code></strike></p>\n\n<p>Although <code>extends</code> brings some mess when it goes along with an interface, it's a broader term and it can be used to describe both cases. Try to tune your mind to the concept of <strong>extending a type</strong> (not <strike>extending a class</strike>, not <strike>implementing an interface</strike>). You restrict a type parameter by <strong>another type</strong> and it doesn't matter what that type actually is. It only matters that it's its <strong>upper bound</strong> and it's its <strong>supertype</strong>.</p>\n"},{"tags":[],"owner":{"account_id":7990772,"reputation":74,"user_id":6250232,"display_name":"zhangde"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1578409079,"creation_date":1578409079,"answer_id":59630893,"question_id":976441,"body_markdown":"In fact, when using generic on interface, the keyword is also **extends**. Here is the code example: \r\n\r\nThere are 2 classes that implements the Greeting interface: \r\n\r\n    interface Greeting {\r\n        void sayHello();\r\n    }\r\n\r\n    class Dog implements Greeting {\r\n        @Override\r\n        public void sayHello() {\r\n            System.out.println(&quot;Greeting from Dog: Hello &quot;);\r\n        }\r\n    }\r\n\r\n    class Cat implements Greeting {\r\n        @Override\r\n        public void sayHello() {\r\n            System.out.println(&quot;Greeting from Cat: Hello &quot;);\r\n        }\r\n    }\r\n\r\nAnd the test code: \r\n\r\n    @Test\r\n    public void testGeneric() {\r\n        Collection&lt;? extends Greeting&gt; animals;\r\n\r\n        List&lt;Dog&gt; dogs = Arrays.asList(new Dog(), new Dog(), new Dog());\r\n        List&lt;Cat&gt; cats = Arrays.asList(new Cat(), new Cat(), new Cat());\r\n\r\n        animals = dogs;\r\n        for(Greeting g: animals) g.sayHello();\r\n\r\n        animals = cats;\r\n        for(Greeting g: animals) g.sayHello();\r\n    }\r\n\r\n","title":"Why is &quot;extends T&quot; allowed but not &quot;implements T&quot;?","body":"<p>In fact, when using generic on interface, the keyword is also <strong>extends</strong>. Here is the code example: </p>\n\n<p>There are 2 classes that implements the Greeting interface: </p>\n\n<pre><code>interface Greeting {\n    void sayHello();\n}\n\nclass Dog implements Greeting {\n    @Override\n    public void sayHello() {\n        System.out.println(\"Greeting from Dog: Hello \");\n    }\n}\n\nclass Cat implements Greeting {\n    @Override\n    public void sayHello() {\n        System.out.println(\"Greeting from Cat: Hello \");\n    }\n}\n</code></pre>\n\n<p>And the test code: </p>\n\n<pre><code>@Test\npublic void testGeneric() {\n    Collection&lt;? extends Greeting&gt; animals;\n\n    List&lt;Dog&gt; dogs = Arrays.asList(new Dog(), new Dog(), new Dog());\n    List&lt;Cat&gt; cats = Arrays.asList(new Cat(), new Cat(), new Cat());\n\n    animals = dogs;\n    for(Greeting g: animals) g.sayHello();\n\n    animals = cats;\n    for(Greeting g: animals) g.sayHello();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12216645,"reputation":1,"user_id":18773144,"display_name":"David Hedin-Abreu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649693035,"creation_date":1649688963,"answer_id":71830001,"question_id":976441,"body_markdown":"Using “extends” in \\&lt;T extends Comparable\\&gt; is a promise that the data type will either itself directly implement Comparable, or else will extend a class implementing Comparable.  You might have written a subclass B of another class A that implements Comparable, and if you declare your data type \\&lt;T extends Comparable\\&gt;, then you may use either A or B as your data type when instantiating the class.","title":"Why is &quot;extends T&quot; allowed but not &quot;implements T&quot;?","body":"<p>Using “extends” in &lt;T extends Comparable&gt; is a promise that the data type will either itself directly implement Comparable, or else will extend a class implementing Comparable.  You might have written a subclass B of another class A that implements Comparable, and if you declare your data type &lt;T extends Comparable&gt;, then you may use either A or B as your data type when instantiating the class.</p>\n"}],"owner":{"account_id":41487,"reputation":3651,"user_id":120623,"display_name":"user120623"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":235112,"favorite_count":0,"down_vote_count":0,"up_vote_count":365,"answer_count":9,"score":365,"last_activity_date":1649693035,"creation_date":1244648553,"question_id":976441,"body_markdown":"Is there a special reason in Java for using always &quot;`extends`&quot; rather than &quot;`implements`&quot; for defining bounds of type parameters?\r\n\r\nFor example: \r\n\r\n    public interface C {}\r\n    public class A&lt;B implements C&gt;{} \r\n\r\nis prohibited, but \r\n\r\n    public class A&lt;B extends C&gt;{} \r\n\r\nis correct. What is the reason for that?","title":"Why is &quot;extends T&quot; allowed but not &quot;implements T&quot;?","body":"<p>Is there a special reason in Java for using always &quot;<code>extends</code>&quot; rather than &quot;<code>implements</code>&quot; for defining bounds of type parameters?</p>\n<p>For example:</p>\n<pre><code>public interface C {}\npublic class A&lt;B implements C&gt;{} \n</code></pre>\n<p>is prohibited, but</p>\n<pre><code>public class A&lt;B extends C&gt;{} \n</code></pre>\n<p>is correct. What is the reason for that?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":95417,"reputation":4933,"user_id":259889,"accept_rate":76,"display_name":"Sid"},"score":1,"creation_date":1649585924,"post_id":71815640,"comment_id":126908622,"body_markdown":"Can you add some samples of expected input and output?  Also share what code you have tried.  Else see if this helps:  https://stackoverflow.com/questions/15299312/checking-if-array-is-symmetric","body":"Can you add some samples of expected input and output?  Also share what code you have tried.  Else see if this helps:  <a href=\"https://stackoverflow.com/questions/15299312/checking-if-array-is-symmetric\" title=\"checking if array is symmetric\">stackoverflow.com/questions/15299312/&hellip;</a>"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1649711707,"post_id":71815640,"comment_id":126941294,"body_markdown":"Having provided an answer I realized that I may not understand what you mean by symmetric.  is `123123` consider symmetric or is it `1234321`?  If it is the former I might point out that numbers with an odd number of digits can&#39;t be symmetric.","body":"Having provided an answer I realized that I may not understand what you mean by symmetric.  is <code>123123</code> consider symmetric or is it <code>1234321</code>?  If it is the former I might point out that numbers with an odd number of digits can&#39;t be symmetric."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649586603,"creation_date":1649586603,"answer_id":71815727,"question_id":71815640,"body_markdown":"The easiest way to check if number symmetric or not is to map it to String::class, just like this: \r\n\r\n    // Your input number\r\n    Integer maybeSymmetricNumber = 12321;\r\n\r\n    String str = String.valueOf(maybeSymmetricNumber), reverseStr = &quot;&quot;;\r\n    \r\n    int strLength = str.length();\r\n\r\n    for (int i = (strLength - 1); i &gt;=0; --i) {\r\n      reverseStr = reverseStr + str.charAt(i);\r\n    }\r\n\r\n    if (str.toLowerCase().equals(reverseStr.toLowerCase())) {\r\n      System.out.println(str + &quot; is a symmetric number.&quot;);\r\n    }\r\n    else {\r\n      System.out.println(str + &quot; is not a symmetric number.&quot;);\r\n    }\r\n","title":"Java method to check if a given number is symmetric","body":"<p>The easiest way to check if number symmetric or not is to map it to String::class, just like this:</p>\n<pre><code>// Your input number\nInteger maybeSymmetricNumber = 12321;\n\nString str = String.valueOf(maybeSymmetricNumber), reverseStr = &quot;&quot;;\n\nint strLength = str.length();\n\nfor (int i = (strLength - 1); i &gt;=0; --i) {\n  reverseStr = reverseStr + str.charAt(i);\n}\n\nif (str.toLowerCase().equals(reverseStr.toLowerCase())) {\n  System.out.println(str + &quot; is a symmetric number.&quot;);\n}\nelse {\n  System.out.println(str + &quot; is not a symmetric number.&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649693000,"creation_date":1649612940,"answer_id":71819161,"question_id":71815640,"body_markdown":"First, here is a method to convert your number to an array of ints.\r\n- it works by using the `Math.log10` to compute the exponent of `10` for that number.\r\n   - e.g. `Math.log10(1234) = 3.xxx`.  So convert to an `int` and add `1` to get 4.\r\n   - e.g. `Math.log10(1000) = 3` so do the same thing.\r\n- then use that number to create an array of proper size.\r\n- and use the remainder(`%`) and division(`/`) operators to populate it.\r\n- then return the array.\r\n```\r\n\r\npublic static int[] toArray(int number) {\r\n\tnumber = Math.abs(number);\r\n\tint[] arr = new int[(int) Math.log10(number)+1];\r\n\tint i = 0;\r\n\twhile (number &gt; 0) {\r\n\t\tarr[i++] = number%10;\r\n\t\tnumber/=10;\r\n\t}\r\n\treturn arr;\r\n}\r\n```\r\nUnfortunately, your method doesn&#39;t work properly as it always returns false.  This is because of missing `{}` around the following.\r\n```\r\nelse  \r\n     System.out.println(&quot;number is not symmetric&quot;);\r\n     return false;\r\n```\r\nBut it still doesn&#39;t process all values properly.  Try `1234321 and 112211`. They both return `false` but are symmetric. This is because `pointer1` starts at `0` and `pointer2` starts at `mid` and they are both incremented by `1`. \r\n\r\nI suggest you start `pointer2` at `length-1`, going from outside in toward `mid`.  This should then solve the issue (with a little debugging of course).\r\n\r\n","title":"Java method to check if a given number is symmetric","body":"<p>First, here is a method to convert your number to an array of ints.</p>\n<ul>\n<li>it works by using the <code>Math.log10</code> to compute the exponent of <code>10</code> for that number.\n<ul>\n<li>e.g. <code>Math.log10(1234) = 3.xxx</code>.  So convert to an <code>int</code> and add <code>1</code> to get 4.</li>\n<li>e.g. <code>Math.log10(1000) = 3</code> so do the same thing.</li>\n</ul>\n</li>\n<li>then use that number to create an array of proper size.</li>\n<li>and use the remainder(<code>%</code>) and division(<code>/</code>) operators to populate it.</li>\n<li>then return the array.</li>\n</ul>\n<pre><code>\npublic static int[] toArray(int number) {\n    number = Math.abs(number);\n    int[] arr = new int[(int) Math.log10(number)+1];\n    int i = 0;\n    while (number &gt; 0) {\n        arr[i++] = number%10;\n        number/=10;\n    }\n    return arr;\n}\n</code></pre>\n<p>Unfortunately, your method doesn't work properly as it always returns false.  This is because of missing <code>{}</code> around the following.</p>\n<pre><code>else  \n     System.out.println(&quot;number is not symmetric&quot;);\n     return false;\n</code></pre>\n<p>But it still doesn't process all values properly.  Try <code>1234321 and 112211</code>. They both return <code>false</code> but are symmetric. This is because <code>pointer1</code> starts at <code>0</code> and <code>pointer2</code> starts at <code>mid</code> and they are both incremented by <code>1</code>.</p>\n<p>I suggest you start <code>pointer2</code> at <code>length-1</code>, going from outside in toward <code>mid</code>.  This should then solve the issue (with a little debugging of course).</p>\n"}],"owner":{"account_id":24889161,"reputation":1,"user_id":18761372,"display_name":"OriG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1649693000,"creation_date":1649585817,"question_id":71815640,"body_markdown":"iv made a method to check if a given number is symmetric or not. \r\n\r\n-the method is based on the idea that the given number is an array .\r\n\r\n-i gave the methood 4 deifferent parameters- numberLength , middle , point1,point2(both pointing at a certain digit in the number(as an array))\r\n\r\n-although wrote the code correctly , and it works when im initializing a specific array ,\r\ni dont know how to use the method for a given number .\r\n\r\nHow can i set this Method - with parameter (int number) , so i can chek on the given number.\r\n\r\n\r\nThank you A lot\r\n\r\nupdate** i added the code :\r\n  \r\n\r\n    public boolean isSymmetric(int num){    \t   \r\n        \tint digits;\r\n            int[] number;\r\n        \tnumber = new int[num];\r\n        \tint length = number.length;\r\n        \tint mid;\r\n        \tif(length%2 == 0) // \r\n        \t{\r\n        \t\tmid = length/2;\r\n        \t}else {\r\n        \t\tmid = length/2+1;\r\n        \t}\r\n        \tint pointer1 =0;\r\n        \tint pointer2 = mid;\r\n        \twhile(pointer1&lt;mid &amp;&amp; pointer2 &lt; length)\r\n        \t{\r\n        \t\tif(number[pointer1] == number[pointer2])\r\n        \t\t{\r\n        \t\t\tpointer1=pointer1+1;\r\n        \t\t\tpointer2=pointer2+1;\r\n        \t\t}\r\n        \t\telse  \r\n        \t\t\tSystem.out.println(&quot;number is not symmetric&quot;);\r\n        \t\t\treturn false;\r\n        \t}\r\n        \tSystem.out.println(&quot;number is symmetric&quot;);\r\n        \treturn true;\r\n        }\r\n\r\n","title":"Java method to check if a given number is symmetric","body":"<p>iv made a method to check if a given number is symmetric or not.</p>\n<p>-the method is based on the idea that the given number is an array .</p>\n<p>-i gave the methood 4 deifferent parameters- numberLength , middle , point1,point2(both pointing at a certain digit in the number(as an array))</p>\n<p>-although wrote the code correctly , and it works when im initializing a specific array ,\ni dont know how to use the method for a given number .</p>\n<p>How can i set this Method - with parameter (int number) , so i can chek on the given number.</p>\n<p>Thank you A lot</p>\n<p>update** i added the code :</p>\n<pre><code>public boolean isSymmetric(int num){           \n        int digits;\n        int[] number;\n        number = new int[num];\n        int length = number.length;\n        int mid;\n        if(length%2 == 0) // \n        {\n            mid = length/2;\n        }else {\n            mid = length/2+1;\n        }\n        int pointer1 =0;\n        int pointer2 = mid;\n        while(pointer1&lt;mid &amp;&amp; pointer2 &lt; length)\n        {\n            if(number[pointer1] == number[pointer2])\n            {\n                pointer1=pointer1+1;\n                pointer2=pointer2+1;\n            }\n            else  \n                System.out.println(&quot;number is not symmetric&quot;);\n                return false;\n        }\n        System.out.println(&quot;number is symmetric&quot;);\n        return true;\n    }\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1649685263,"post_id":71828995,"comment_id":126932112,"body_markdown":"If I remember correctly you need to change `Foo.id` from property access (default) to field access. Also don&#39;t use `getFooId()` but `getFoo().getId()` to help Hibernate understand that you&#39;re actually accessing the `foo` reference as well as its ID.","body":"If I remember correctly you need to change <code>Foo.id</code> from property access (default) to field access. Also don&#39;t use <code>getFooId()</code> but <code>getFoo().getId()</code> to help Hibernate understand that you&#39;re actually accessing the <code>foo</code> reference as well as its ID."},{"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"score":0,"creation_date":1649687873,"post_id":71828995,"comment_id":126933195,"body_markdown":"@Thomas Correct me if i&#39;m wrong here, but annotating with \\@Id on a field makes this field access, right? (Sorry for the \\, stackoverflow thinks i trying to notify another person)\nAnd im not sure i understand your second point, could you send a code snippet?","body":"@Thomas Correct me if i&#39;m wrong here, but annotating with \\@Id on a field makes this field access, right? (Sorry for the \\, stackoverflow thinks i trying to notify another person) And im not sure i understand your second point, could you send a code snippet?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1649689128,"post_id":71828995,"comment_id":126933715,"body_markdown":"I actually had the code snippet in the comment :) - `getFooId()` looks to Hibernate like there&#39;s a property &quot;fooId&quot;. Instead use `getFoo()` to return the `foo` reference and then call `getId()` on that. Also `@Id` might make it field access now but it didn&#39;t a couple of years ago. So changing the access type might ne not be necessary anymore - I&#39;d double check though.","body":"I actually had the code snippet in the comment :) - <code>getFooId()</code> looks to Hibernate like there&#39;s a property &quot;fooId&quot;. Instead use <code>getFoo()</code> to return the <code>foo</code> reference and then call <code>getId()</code> on that. Also <code>@Id</code> might make it field access now but it didn&#39;t a couple of years ago. So changing the access type might ne not be necessary anymore - I&#39;d double check though."},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":1,"creation_date":1649692408,"post_id":71828995,"comment_id":126935033,"body_markdown":"@Thomas good catch. It needs just put `@Transient` on the getter.","body":"@Thomas good catch. It needs just put <code>@Transient</code> on the getter."},{"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"score":1,"creation_date":1649692957,"post_id":71828995,"comment_id":126935253,"body_markdown":"@Thomas It can be a lot of weird errors, if mix property and field access.","body":"@Thomas It can be a lot of weird errors, if mix property and field access."}],"answers":[{"tags":[],"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649691411,"creation_date":1649691411,"answer_id":71830579,"question_id":71828995,"body_markdown":"Try mapping the FOO_ID column as a basic mapping instead or in addition to the existing Foo reference mapping:\r\n\r\n    @Entity\r\n    @Table(name=&quot;bar&quot;)\r\n    public class Bar\r\n    {\r\n        @Id\r\n        @Type(type = &quot;pg-uuid&quot;)\r\n        private UUID id;\r\n    \r\n        @ManyToOne(fetch = FetchType.LAZY)\r\n        @JoinColumn(name=&quot;FOO_ID&quot;)\r\n        private Foo foo;\r\n    \r\n        @Column(name=&quot;FOO_ID&quot;, insertable=false, updatable=false)\r\n        private UUID fooId;\r\n    ...\r\n    \r\n        public UUID getFooId(){\r\n            return fooId;\r\n        }\r\n\r\nYou can then decide to use fooId in queries to avoid joins. Because it is read-only, the FK value is still set from the foo reference - there may be some issues with a cache if you set the reference and not the fooId UUID; you can either set it yourself, or force a refresh to have JPA do it for you.","title":"JPA get foreign key without loading related record","body":"<p>Try mapping the FOO_ID column as a basic mapping instead or in addition to the existing Foo reference mapping:</p>\n<pre><code>@Entity\n@Table(name=&quot;bar&quot;)\npublic class Bar\n{\n    @Id\n    @Type(type = &quot;pg-uuid&quot;)\n    private UUID id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;FOO_ID&quot;)\n    private Foo foo;\n\n    @Column(name=&quot;FOO_ID&quot;, insertable=false, updatable=false)\n    private UUID fooId;\n...\n\n    public UUID getFooId(){\n        return fooId;\n    }\n</code></pre>\n<p>You can then decide to use fooId in queries to avoid joins. Because it is read-only, the FK value is still set from the foo reference - there may be some issues with a cache if you set the reference and not the fooId UUID; you can either set it yourself, or force a refresh to have JPA do it for you.</p>\n"},{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649692985,"creation_date":1649692670,"answer_id":71830845,"question_id":71828995,"body_markdown":"Hibernate thinks that `getFooId()` is a method that can potentially use any field of `Bar`. Hibernate can&#39;t check which fields exactly are used by the method, so it loads all lazy associations just in case.\r\n\r\nYou can use `@Transient` to avoid this\r\n\r\n```java\r\n@Transient\r\npublic UUID getFooId(){\r\n    return foo.getId();\r\n}\r\n``` ","title":"JPA get foreign key without loading related record","body":"<p>Hibernate thinks that <code>getFooId()</code> is a method that can potentially use any field of <code>Bar</code>. Hibernate can't check which fields exactly are used by the method, so it loads all lazy associations just in case.</p>\n<p>You can use <code>@Transient</code> to avoid this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transient\npublic UUID getFooId(){\n    return foo.getId();\n}\n</code></pre>\n"}],"owner":{"account_id":19772972,"reputation":324,"user_id":14479601,"display_name":"Bend"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1532,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71830579,"answer_count":2,"score":2,"last_activity_date":1649692985,"creation_date":1649684913,"question_id":71828995,"body_markdown":"I am trying to optomize some reports and am trying to remove the need to load some expensive related records(multiple cascade loads, on each of ~500+ records).\r\n\r\nMy entity&#39;s are something like this:\r\n```\r\n@Entity\r\n@Table(name=&quot;foo&quot;)\r\npublic class Foo\r\n{\r\n\t@Id\r\n\t@Type(type = &quot;pg-uuid&quot;)\r\n\tprivate UUID id;\r\n...\r\n\tpublic UUID getId(){\r\n\t\treturn id;\r\n\t}\r\n```\r\nand:\r\n```\r\n@Entity\r\n@Table(name=&quot;bar&quot;)\r\npublic class Bar\r\n{\r\n\t@Id\r\n\t@Type(type = &quot;pg-uuid&quot;)\r\n\tprivate UUID id;\r\n\r\n\t@ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;FOO_ID&quot;)\r\n\tprivate Foo foo;\r\n...\r\n\r\n\tpublic UUID getFooId(){\r\n\t\treturn foo.getId();\r\n\t}\r\n```\r\n\r\nMy issue is that when i make this call: `return foo.getId();` hibernate goes and instantiates the Foo entity, and loads all related records even though i only want/need the id, which is a foreign key in my Bar table.\r\n\r\nIs there any way to get Foo.Id from Bar without loading the Foo record?\r\nThanks in advance.","title":"JPA get foreign key without loading related record","body":"<p>I am trying to optomize some reports and am trying to remove the need to load some expensive related records(multiple cascade loads, on each of ~500+ records).</p>\n<p>My entity's are something like this:</p>\n<pre><code>@Entity\n@Table(name=&quot;foo&quot;)\npublic class Foo\n{\n    @Id\n    @Type(type = &quot;pg-uuid&quot;)\n    private UUID id;\n...\n    public UUID getId(){\n        return id;\n    }\n</code></pre>\n<p>and:</p>\n<pre><code>@Entity\n@Table(name=&quot;bar&quot;)\npublic class Bar\n{\n    @Id\n    @Type(type = &quot;pg-uuid&quot;)\n    private UUID id;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;FOO_ID&quot;)\n    private Foo foo;\n...\n\n    public UUID getFooId(){\n        return foo.getId();\n    }\n</code></pre>\n<p>My issue is that when i make this call: <code>return foo.getId();</code> hibernate goes and instantiates the Foo entity, and loads all related records even though i only want/need the id, which is a foreign key in my Bar table.</p>\n<p>Is there any way to get Foo.Id from Bar without loading the Foo record?\nThanks in advance.</p>\n"},{"tags":["java","excel","apache-poi","locale","cell"],"comments":[{"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"score":0,"creation_date":1649717168,"post_id":71829029,"comment_id":126942521,"body_markdown":"Have a look at https://poi.apache.org/apidocs/dev/org/apache/poi/util/LocaleUtil.html","body":"Have a look at <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/util/LocaleUtil.html\" rel=\"nofollow noreferrer\">poi.apache.org/apidocs/dev/org/apache/poi/util/LocaleUtil.ht&zwnj;&#8203;ml</a>"}],"answers":[{"tags":[],"owner":{"account_id":14194880,"reputation":1483,"user_id":10254476,"display_name":"GJohannes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649692919,"creation_date":1649692919,"answer_id":71830913,"question_id":71829029,"body_markdown":"As far as I understand you specifically want your Cell to be of type numeric and your display to be something &quot;not Date&quot; ? The only approach that I clould think of would be to define your own cellStyle. This is possible in excel with custom functions. In apache-poi it could be possible when tinkering around with cell Styles:\r\n\r\n     ...\r\n     Cell cell = row.createCell(cellIndex);\r\n     CellStyle cellStyle = workbook.createCellStyle();\r\n     CreationHelper createHelper = workbook.getCreationHelper();\r\n     createHelper.createDataFormat(&quot;some specific custom data format&quot;).\r\n     cell.setCellStyle(cellStyle);\r\n\r\nI am however not sure that there is a way. I am not sure but these cellStyles seem to be limited to the default excel styles https://www.roseindia.net/java/poi/setdataformat.shtml \r\n\r\nThe simplest approach would be to make your cell of Type &quot;Date&quot;. Even if your result from the Database is a number, it can be converted to Date, since Date is only a layer upon a timestamp. I would highly suggest to look at this approch instead of &quot;hacking&quot; your way around number fromats looking similar to Dates. \r\n\r\n","title":"Java Apache POI Excel Numeric Cell value with Locale pt-BR","body":"<p>As far as I understand you specifically want your Cell to be of type numeric and your display to be something &quot;not Date&quot; ? The only approach that I clould think of would be to define your own cellStyle. This is possible in excel with custom functions. In apache-poi it could be possible when tinkering around with cell Styles:</p>\n<pre><code> ...\n Cell cell = row.createCell(cellIndex);\n CellStyle cellStyle = workbook.createCellStyle();\n CreationHelper createHelper = workbook.getCreationHelper();\n createHelper.createDataFormat(&quot;some specific custom data format&quot;).\n cell.setCellStyle(cellStyle);\n</code></pre>\n<p>I am however not sure that there is a way. I am not sure but these cellStyles seem to be limited to the default excel styles <a href=\"https://www.roseindia.net/java/poi/setdataformat.shtml\" rel=\"nofollow noreferrer\">https://www.roseindia.net/java/poi/setdataformat.shtml</a></p>\n<p>The simplest approach would be to make your cell of Type &quot;Date&quot;. Even if your result from the Database is a number, it can be converted to Date, since Date is only a layer upon a timestamp. I would highly suggest to look at this approch instead of &quot;hacking&quot; your way around number fromats looking similar to Dates.</p>\n"}],"owner":{"account_id":16209077,"reputation":389,"user_id":11703579,"display_name":"gbossa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71830913,"answer_count":1,"score":0,"last_activity_date":1649692919,"creation_date":1649685038,"question_id":71829029,"body_markdown":"I want to set the `XSSFCell` in Excel to display the `CellType` as numeric, and need it to diplay the value as `pt-BR Locale` (with `.` for separator instead of `,` (not decimal/fractional - but still `double`). I managed to diplay the correct cell value, but the `CellTyle` only gets `String`. I know that `double` have the US configuration `0.000,00`, and a simple `NumberFormat` with `Locale` do the trick, but the `CellType` gets to `text`, not `number`.\r\n\r\nThe number already comes configured with Locale, which comes straight from Database. (Eg: `412.000`), but double converts it to US (`412,000`).\r\n\r\nSo, how can I format the cell to my `Locale` and still set the `CellType` as `Numeric` ?\r\n\r\nThis is what I got so far:\r\n\r\n        XSSFCell cell = row.createCell(anyCellNumber);\r\n\t\tdouble value = 412.000; //valueThatComesFromDataBaseWithLocaleFormatted\r\n\t\tcell.setCellType(CellType.NUMERIC);\r\n\t\t//At this point, double has already converted the cell value to 412,000 - So, What I did was:\r\n\t\tcell.setCellValue(String.format(&quot;%.3f&quot;, value).replace(&quot;,&quot;, &quot;.&quot;)); // Replaced the , to . to match Locale\r\n\r\nSo, this is the point, the `CellType` is set, but `NumberFormat`, `DecimalFormat`, `Locale`, `String.format`, etc, gets the `cellvalue` to `String`, and thus the `CellType` is `text`.\r\n\r\nCan&#180;t use `Double.parseDouble(valueFormatted.toString())` because it throws `Exception`, if the `String` is `Locale` formatted.\r\n\r\nSo, how (if it is possible), can I have a `CellType.NUMERIC` AND the cell value formatted for my `Locale` (pt-BR)???\r\n\r\nThanks in advance!","title":"Java Apache POI Excel Numeric Cell value with Locale pt-BR","body":"<p>I want to set the <code>XSSFCell</code> in Excel to display the <code>CellType</code> as numeric, and need it to diplay the value as <code>pt-BR Locale</code> (with <code>.</code> for separator instead of <code>,</code> (not decimal/fractional - but still <code>double</code>). I managed to diplay the correct cell value, but the <code>CellTyle</code> only gets <code>String</code>. I know that <code>double</code> have the US configuration <code>0.000,00</code>, and a simple <code>NumberFormat</code> with <code>Locale</code> do the trick, but the <code>CellType</code> gets to <code>text</code>, not <code>number</code>.</p>\n<p>The number already comes configured with Locale, which comes straight from Database. (Eg: <code>412.000</code>), but double converts it to US (<code>412,000</code>).</p>\n<p>So, how can I format the cell to my <code>Locale</code> and still set the <code>CellType</code> as <code>Numeric</code> ?</p>\n<p>This is what I got so far:</p>\n<pre><code>    XSSFCell cell = row.createCell(anyCellNumber);\n    double value = 412.000; //valueThatComesFromDataBaseWithLocaleFormatted\n    cell.setCellType(CellType.NUMERIC);\n    //At this point, double has already converted the cell value to 412,000 - So, What I did was:\n    cell.setCellValue(String.format(&quot;%.3f&quot;, value).replace(&quot;,&quot;, &quot;.&quot;)); // Replaced the , to . to match Locale\n</code></pre>\n<p>So, this is the point, the <code>CellType</code> is set, but <code>NumberFormat</code>, <code>DecimalFormat</code>, <code>Locale</code>, <code>String.format</code>, etc, gets the <code>cellvalue</code> to <code>String</code>, and thus the <code>CellType</code> is <code>text</code>.</p>\n<p>Can´t use <code>Double.parseDouble(valueFormatted.toString())</code> because it throws <code>Exception</code>, if the <code>String</code> is <code>Locale</code> formatted.</p>\n<p>So, how (if it is possible), can I have a <code>CellType.NUMERIC</code> AND the cell value formatted for my <code>Locale</code> (pt-BR)???</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","class","jar"],"comments":[{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1649667399,"post_id":71822299,"comment_id":126925258,"body_markdown":"HI @Iacon1 - your example has `Modules.GenUtils.GenUtils` but the exception is missing the second dot - is that expected??","body":"HI @Iacon1 - your example has <code>Modules.GenUtils.GenUtils</code> but the exception is missing the second dot - is that expected??"},{"owner":{"account_id":18575550,"reputation":1,"user_id":18766980,"display_name":"Iacon1"},"score":0,"creation_date":1649691859,"post_id":71822299,"comment_id":126934842,"body_markdown":"Thanks, that was _an_ error. Unfortunately correcting that did not resolve the issue nor change the error received in a meaningful way. Still, I edited the question to reflect that correction.","body":"Thanks, that was <i>an</i> error. Unfortunately correcting that did not resolve the issue nor change the error received in a meaningful way. Still, I edited the question to reflect that correction."}],"owner":{"account_id":18575550,"reputation":1,"user_id":18766980,"display_name":"Iacon1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649692906,"creation_date":1649646427,"question_id":71822299,"body_markdown":"I&#39;m working on a game project and for modding support my solution is to load a series of jar files from a folder; Each one has one class within with the same name as it - the &quot;module class&quot;. I&#39;m trying to load all of these module classes via a URLClassLoader such that their class names are things like &quot;Modules.GenUtils.GenUtils&quot;. However, my current attempt results in a &quot;ClassNotFoundException&quot;, like this one:\r\n\r\n``` \r\n    java.lang.ClassNotFoundException: Modules.GenUtils.GenUtils\r\n\tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:433)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n\tat GameEngine.Configurables.ModuleManager.loadModule(ModuleManager.java:84)\r\n\tat GameEngine.Configurables.ModuleManager.init(ModuleManager.java:108)\r\n\tat Server.ServerExec.main(ServerExec.java:27)\r\n```\r\n\r\nHere&#39;s a picture of the file structure I&#39;m talking about:\r\n[1]\r\n\r\nAnd here&#39;s the code that loads each module:\r\n\r\n```\r\n    private static void loadModule(String moduleName) throws Exception\r\n    {\r\n\t    Logging.logNotice(&quot;Loading module &quot; + moduleName + &quot;.&quot;);\r\n\t\r\n\t    URL url = new URL(&quot;jar&quot;, &quot;&quot;, &quot;file:&quot; + GameInfo.getServerPackResource(&quot;Modules/&quot; + moduleName + &quot;.jar&quot;));\r\n\t    URLClassLoader classLoader = new URLClassLoader(new URL[] {url});\r\n\t    Class moduleClass = classLoader.loadClass(&quot;Modules.&quot; + moduleName + &quot;.&quot; + moduleName);\r\n\t\r\n\t    Module module = (Module) moduleClass.getDeclaredConstructor().newInstance();\r\n\r\n\t    modules.put(moduleName, module);\r\n\t    modulePriorities.add(moduleName);\r\n\t\r\n\t    Logging.logNotice(&quot;Loaded module &quot; + moduleName + &quot;.&quot;);\r\n\t    module.initModule();\r\n    }\r\n```\r\n  [1]: https://i.stack.imgur.com/hgHkF.png","title":"Loading classes from jars such that they end up with a certain name","body":"<p>I'm working on a game project and for modding support my solution is to load a series of jar files from a folder; Each one has one class within with the same name as it - the &quot;module class&quot;. I'm trying to load all of these module classes via a URLClassLoader such that their class names are things like &quot;Modules.GenUtils.GenUtils&quot;. However, my current attempt results in a &quot;ClassNotFoundException&quot;, like this one:</p>\n<pre><code>    java.lang.ClassNotFoundException: Modules.GenUtils.GenUtils\n    at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:433)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n    at GameEngine.Configurables.ModuleManager.loadModule(ModuleManager.java:84)\n    at GameEngine.Configurables.ModuleManager.init(ModuleManager.java:108)\n    at Server.ServerExec.main(ServerExec.java:27)\n</code></pre>\n<p>Here's a picture of the file structure I'm talking about:\n<a href=\"https://i.stack.imgur.com/hgHkF.png\" rel=\"nofollow noreferrer\">1</a></p>\n<p>And here's the code that loads each module:</p>\n<pre><code>    private static void loadModule(String moduleName) throws Exception\n    {\n        Logging.logNotice(&quot;Loading module &quot; + moduleName + &quot;.&quot;);\n    \n        URL url = new URL(&quot;jar&quot;, &quot;&quot;, &quot;file:&quot; + GameInfo.getServerPackResource(&quot;Modules/&quot; + moduleName + &quot;.jar&quot;));\n        URLClassLoader classLoader = new URLClassLoader(new URL[] {url});\n        Class moduleClass = classLoader.loadClass(&quot;Modules.&quot; + moduleName + &quot;.&quot; + moduleName);\n    \n        Module module = (Module) moduleClass.getDeclaredConstructor().newInstance();\n\n        modules.put(moduleName, module);\n        modulePriorities.add(moduleName);\n    \n        Logging.logNotice(&quot;Loaded module &quot; + moduleName + &quot;.&quot;);\n        module.initModule();\n    }\n</code></pre>\n"},{"tags":["java","junit","mutation-testing"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1649692572,"post_id":71830661,"comment_id":126935096,"body_markdown":"The product of a and b is even if `(a*b)%2==0`. What you are checking is something else.","body":"The product of a and b is even if <code>(a*b)%2==0</code>. What you are checking is something else."},{"owner":{"account_id":23512141,"reputation":39,"user_id":17560591,"display_name":"abc"},"score":0,"creation_date":1649692867,"post_id":71830661,"comment_id":126935217,"body_markdown":"@khelwood well yes the program is wrong. Isn&#39;t that why mutation testing is done?","body":"@khelwood well yes the program is wrong. Isn&#39;t that why mutation testing is done?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1649693766,"post_id":71830661,"comment_id":126935525,"body_markdown":"Well the error message says &quot;Mutation testing requires a green suite.&quot;, which suggests your tests are supposed to pass, which obviously they do not.","body":"Well the error message says &quot;Mutation testing requires a green suite.&quot;, which suggests your tests are supposed to pass, which obviously they do not."},{"owner":{"account_id":23512141,"reputation":39,"user_id":17560591,"display_name":"abc"},"score":0,"creation_date":1649694679,"post_id":71830661,"comment_id":126935835,"body_markdown":"@khelwood What does it mean by green suite? Does that mean I have to remove the failing methods from my Junit test file?","body":"@khelwood What does it mean by green suite? Does that mean I have to remove the failing methods from my Junit test file?"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1649698786,"post_id":71830661,"comment_id":126937231,"body_markdown":"It means all your tests should pass.","body":"It means all your tests should pass."},{"owner":{"account_id":23512141,"reputation":39,"user_id":17560591,"display_name":"abc"},"score":0,"creation_date":1649699344,"post_id":71830661,"comment_id":126937422,"body_markdown":"@khelwood oh alright I will modify the junit test file to all passing test cases then, correct?","body":"@khelwood oh alright I will modify the junit test file to all passing test cases then, correct?"}],"owner":{"account_id":23512141,"reputation":39,"user_id":17560591,"display_name":"abc"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649692466,"creation_date":1649691828,"question_id":71830661,"body_markdown":"I tried to do mutation testing on a program using pitclipse in Java but came across an issue and I do not know how to solve it.\r\n\r\nI am using the Eclipse IDE and Java SE 1.8.\r\n\r\nThis is the code:\r\n```\r\npublic class NewTry {\r\n\t \tboolean productIsEven(int a, int b){\r\n\t\t    \r\n\t        int product = 2 %(a * b);\r\n\t        boolean evenOr = product == 1;\r\n\t        return evenOr;\r\n\t\t}\r\n\t}\r\n```\r\nand this is the Junit Test using Junit 4:\r\n\r\n```\r\nimport static org.junit.Assert.*;\r\nimport org.junit.Before;\r\nimport org.junit.Test;\r\n\r\npublic class NewTryTest {\r\n\r\n\tNewTry obj;\r\n\t@Before\r\n\tpublic void setUp()\r\n\t{\r\n\t\tobj=new NewTry();\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testTrue1() {\r\n\t\t \r\n\t\tassertEquals(true, obj.productIsEven(10, 20));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testTrue2() {\r\n\t\t \r\n\t\tassertEquals(true, obj.productIsEven(2, 17));\r\n\t}\r\n\t\r\n\r\n\t@Test\r\n\tpublic void testTrue3() {\r\n\t\t \r\n\t\tassertEquals(true, obj.productIsEven(0, 0));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testTrue4() {\r\n\t\t \r\n\t\tassertEquals(true, obj.productIsEven(0, 1));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testTrue5() {\r\n\t\t \r\n\t\tassertEquals(true, obj.productIsEven(2, 15));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testTrue6() {\r\n\t\t \r\n\t\tassertEquals(true, obj.productIsEven(2, 13));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testFalse1() {\r\n\t\t \r\n\t\tassertEquals(false, obj.productIsEven(5, 5));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testFalse2() {\r\n\t\t \r\n\t\tassertEquals(false, obj.productIsEven(1, 13));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testFalse3() {\r\n\t\t \r\n\t\tassertEquals(false, obj.productIsEven(1, 15));\r\n\t}\r\n\t\r\n\t@Test\r\n\tpublic void testFalse4() {\r\n\t\t \r\n\t\tassertEquals(false, obj.productIsEven(1, 17));\r\n\t}\r\n}\r\n```\r\nI receive the following issue when I run pitclilpse on the junit:\r\n\r\n```none\r\n18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue1(NewTryTest)] did not pass without mutation.\r\n18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue2(NewTryTest)] did not pass without mutation.\r\n18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue3(NewTryTest)] did not pass without mutation.\r\n18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue4(NewTryTest)] did not pass without mutation.\r\n18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue5(NewTryTest)] did not pass without mutation.\r\n18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue6(NewTryTest)] did not pass without mutation.\r\n18:26:31 PIT &gt;&gt; FINE : Coverage generator Minion exited ok\r\n18:26:31 PIT &gt;&gt; INFO : Calculated coverage in 5 seconds.\r\n18:26:31 PIT &gt;&gt; SEVERE : Tests failing without mutation: \r\nDescription [testClass=NewTryTest, name=testTrue1(NewTryTest)]\r\nDescription [testClass=NewTryTest, name=testTrue2(NewTryTest)]\r\nDescription [testClass=NewTryTest, name=testTrue3(NewTryTest)]\r\nDescription [testClass=NewTryTest, name=testTrue4(NewTryTest)]\r\nDescription [testClass=NewTryTest, name=testTrue5(NewTryTest)]\r\nDescription [testClass=NewTryTest, name=testTrue6(NewTryTest)]\r\nException in thread &quot;main&quot; org.pitest.help.PitHelpError: 6 tests did not pass without mutation when calculating line coverage. Mutation testing requires a green suite.\r\nSee http://pitest.org for more details.\r\n\tat org.pitest.coverage.execute.DefaultCoverageGenerator.verifyBuildSuitableForMutationTesting(DefaultCoverageGenerator.java:114)\r\n\tat org.pitest.coverage.execute.DefaultCoverageGenerator.calculateCoverage(DefaultCoverageGenerator.java:96)\r\n\tat org.pitest.coverage.execute.DefaultCoverageGenerator.calculateCoverage(DefaultCoverageGenerator.java:51)\r\n\tat org.pitest.mutationtest.tooling.MutationCoverage.runReport(MutationCoverage.java:115)\r\n\tat org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:120)\r\n\tat org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:50)\r\n\tat org.pitest.mutationtest.commandline.MutationCoverageReport.runReport(MutationCoverageReport.java:87)\r\n\tat org.pitest.mutationtest.commandline.MutationCoverageReport.main(MutationCoverageReport.java:45)\r\n\tat org.pitest.pitclipse.runner.PitRunner.lambda$1(PitRunner.java:59)\r\n\tat com.google.common.base.Present.transform(Present.java:75)\r\n\tat org.pitest.pitclipse.runner.PitRunner.main(PitRunner.java:46)\r\n```\r\n","title":"I tried to do a Java mutation test using Pitclipse and the result did not show","body":"<p>I tried to do mutation testing on a program using pitclipse in Java but came across an issue and I do not know how to solve it.</p>\n<p>I am using the Eclipse IDE and Java SE 1.8.</p>\n<p>This is the code:</p>\n<pre><code>public class NewTry {\n        boolean productIsEven(int a, int b){\n            \n            int product = 2 %(a * b);\n            boolean evenOr = product == 1;\n            return evenOr;\n        }\n    }\n</code></pre>\n<p>and this is the Junit Test using Junit 4:</p>\n<pre><code>import static org.junit.Assert.*;\nimport org.junit.Before;\nimport org.junit.Test;\n\npublic class NewTryTest {\n\n    NewTry obj;\n    @Before\n    public void setUp()\n    {\n        obj=new NewTry();\n    }\n    \n    @Test\n    public void testTrue1() {\n         \n        assertEquals(true, obj.productIsEven(10, 20));\n    }\n    \n    @Test\n    public void testTrue2() {\n         \n        assertEquals(true, obj.productIsEven(2, 17));\n    }\n    \n\n    @Test\n    public void testTrue3() {\n         \n        assertEquals(true, obj.productIsEven(0, 0));\n    }\n    \n    @Test\n    public void testTrue4() {\n         \n        assertEquals(true, obj.productIsEven(0, 1));\n    }\n    \n    @Test\n    public void testTrue5() {\n         \n        assertEquals(true, obj.productIsEven(2, 15));\n    }\n    \n    @Test\n    public void testTrue6() {\n         \n        assertEquals(true, obj.productIsEven(2, 13));\n    }\n    \n    @Test\n    public void testFalse1() {\n         \n        assertEquals(false, obj.productIsEven(5, 5));\n    }\n    \n    @Test\n    public void testFalse2() {\n         \n        assertEquals(false, obj.productIsEven(1, 13));\n    }\n    \n    @Test\n    public void testFalse3() {\n         \n        assertEquals(false, obj.productIsEven(1, 15));\n    }\n    \n    @Test\n    public void testFalse4() {\n         \n        assertEquals(false, obj.productIsEven(1, 17));\n    }\n}\n</code></pre>\n<p>I receive the following issue when I run pitclilpse on the junit:</p>\n<pre class=\"lang-none prettyprint-override\"><code>18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue1(NewTryTest)] did not pass without mutation.\n18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue2(NewTryTest)] did not pass without mutation.\n18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue3(NewTryTest)] did not pass without mutation.\n18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue4(NewTryTest)] did not pass without mutation.\n18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue5(NewTryTest)] did not pass without mutation.\n18:26:31 PIT &gt;&gt; SEVERE : Description [testClass=NewTryTest, name=testTrue6(NewTryTest)] did not pass without mutation.\n18:26:31 PIT &gt;&gt; FINE : Coverage generator Minion exited ok\n18:26:31 PIT &gt;&gt; INFO : Calculated coverage in 5 seconds.\n18:26:31 PIT &gt;&gt; SEVERE : Tests failing without mutation: \nDescription [testClass=NewTryTest, name=testTrue1(NewTryTest)]\nDescription [testClass=NewTryTest, name=testTrue2(NewTryTest)]\nDescription [testClass=NewTryTest, name=testTrue3(NewTryTest)]\nDescription [testClass=NewTryTest, name=testTrue4(NewTryTest)]\nDescription [testClass=NewTryTest, name=testTrue5(NewTryTest)]\nDescription [testClass=NewTryTest, name=testTrue6(NewTryTest)]\nException in thread &quot;main&quot; org.pitest.help.PitHelpError: 6 tests did not pass without mutation when calculating line coverage. Mutation testing requires a green suite.\nSee http://pitest.org for more details.\n    at org.pitest.coverage.execute.DefaultCoverageGenerator.verifyBuildSuitableForMutationTesting(DefaultCoverageGenerator.java:114)\n    at org.pitest.coverage.execute.DefaultCoverageGenerator.calculateCoverage(DefaultCoverageGenerator.java:96)\n    at org.pitest.coverage.execute.DefaultCoverageGenerator.calculateCoverage(DefaultCoverageGenerator.java:51)\n    at org.pitest.mutationtest.tooling.MutationCoverage.runReport(MutationCoverage.java:115)\n    at org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:120)\n    at org.pitest.mutationtest.tooling.EntryPoint.execute(EntryPoint.java:50)\n    at org.pitest.mutationtest.commandline.MutationCoverageReport.runReport(MutationCoverageReport.java:87)\n    at org.pitest.mutationtest.commandline.MutationCoverageReport.main(MutationCoverageReport.java:45)\n    at org.pitest.pitclipse.runner.PitRunner.lambda$1(PitRunner.java:59)\n    at com.google.common.base.Present.transform(Present.java:75)\n    at org.pitest.pitclipse.runner.PitRunner.main(PitRunner.java:46)\n</code></pre>\n"},{"tags":["java","maven","pom.xml"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1649682790,"post_id":71828480,"comment_id":126931115,"body_markdown":"Please read: [Can I ask only one question per post?](https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post)","body":"Please read: <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">Can I ask only one question per post?</a>"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649690101,"post_id":71828480,"comment_id":126934106,"body_markdown":"This most important question which comes to my mind is: Why do you need to change the life cycle? For what purpose? What problem are you trying to solve?","body":"This most important question which comes to my mind is: Why do you need to change the life cycle? For what purpose? What problem are you trying to solve?"},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1649719869,"post_id":71828480,"comment_id":126942951,"body_markdown":"It is not actually needed right now. But I just want to find out how the lifecycle is defined and what phases are there. As right now I can only view some of these phases in intellj maven project and not all phases of default lifecycle are there @khmarbaise","body":"It is not actually needed right now. But I just want to find out how the lifecycle is defined and what phases are there. As right now I can only view some of these phases in intellj maven project and not all phases of default lifecycle are there @khmarbaise"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649764659,"post_id":71828480,"comment_id":126954047,"body_markdown":"So if you don&#39;t need it why do you think about it? The question must have a background (some kind of problem?)... Technically the life cycle is defined (https://maven.apache.org/ref/3.8.5/maven-core/lifecycles.html). The phases are documented here: https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html What you see in IDEA is something different (the plugins bound to particular phases not really related)...","body":"So if you don&#39;t need it why do you think about it? The question must have a background (some kind of problem?)... Technically the life cycle is defined (<a href=\"https://maven.apache.org/ref/3.8.5/maven-core/lifecycles.html\" rel=\"nofollow noreferrer\">maven.apache.org/ref/3.8.5/maven-core/lifecycles.html</a>). The phases are documented here: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html\" rel=\"nofollow noreferrer\">maven.apache.org/guides/introduction/&hellip;</a> What you see in IDEA is something different (the plugins bound to particular phases not really related)..."},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1649814616,"post_id":71828480,"comment_id":126969236,"body_markdown":"@khmarbaise what do you mean by:\nthe plugins bound to particular phases not really related","body":"@khmarbaise what do you mean by: the plugins bound to particular phases not really related"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649833105,"post_id":71828480,"comment_id":126972561,"body_markdown":"The plugins you are using are bound to life cycle phases which IDEA is showing... that&#39;s it... The phases which currently do not have any bindings are not shown...","body":"The plugins you are using are bound to life cycle phases which IDEA is showing... that&#39;s it... The phases which currently do not have any bindings are not shown..."},{"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"score":0,"creation_date":1649856943,"post_id":71828480,"comment_id":126981831,"body_markdown":"@khmarbaise but check a empty project here without any plugins: https://prnt.sc/SqtSCuOCaXGn. The phases are same for all projects","body":"@khmarbaise but check a empty project here without any plugins: <a href=\"https://prnt.sc/SqtSCuOCaXGn\" rel=\"nofollow noreferrer\">prnt.sc/SqtSCuOCaXGn</a>. The phases are same for all projects"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1649861344,"post_id":71828480,"comment_id":126983888,"body_markdown":"First there a missing a lot of phases for example `generate-test-sources`, `pre-integration-test` just to mention a few... see the reference of the maven docs... That means IDEA is showing always the same which is not correct as well... apart from that `clean` as well as `site` are life cycles on their own...","body":"First there a missing a lot of phases for example <code>generate-test-sources</code>, <code>pre-integration-test</code> just to mention a few... see the reference of the maven docs... That means IDEA is showing always the same which is not correct as well... apart from that <code>clean</code> as well as <code>site</code> are life cycles on their own..."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649692315,"creation_date":1649692315,"answer_id":71830780,"question_id":71828480,"body_markdown":"The lifecycle is triggered by the chosen `&lt;packaging&gt;`.\r\n\r\nYou can write your own lifecycles.\r\n\r\nBut it is rarely useful.","title":"Where can I specify or change the Maven build lifecycle","body":"<p>The lifecycle is triggered by the chosen <code>&lt;packaging&gt;</code>.</p>\n<p>You can write your own lifecycles.</p>\n<p>But it is rarely useful.</p>\n"}],"owner":{"account_id":18094497,"reputation":702,"user_id":13153117,"display_name":"Stan"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649692315,"creation_date":1649682691,"question_id":71828480,"body_markdown":"As far as I know,there are three lifecycles in Maven: Clean, Default Build, Site.\r\n\r\nThe weird thing is there is no configuration file specifying lifecycle the project uses,  the sequence of phases needed for a project. I can only find out a few plugins in the pom file.\r\n\r\nI can understand something is probably defined by default? Maybe it is defined in the XML namespaces?:\r\n\r\n`&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;`\r\n\r\nMy question is:\r\nWhat if I want to customize a lifecycle (such as change the order of phase or include one more phase) for my project? How can I do it in pom file? A phase can contain multiple goals. How can I specify the order of the goals in the phase when writing a pom file?\r\n\r\n  [1]: https://i.stack.imgur.com/32Y8o.png","title":"Where can I specify or change the Maven build lifecycle","body":"<p>As far as I know,there are three lifecycles in Maven: Clean, Default Build, Site.</p>\n<p>The weird thing is there is no configuration file specifying lifecycle the project uses,  the sequence of phases needed for a project. I can only find out a few plugins in the pom file.</p>\n<p>I can understand something is probably defined by default? Maybe it is defined in the XML namespaces?:</p>\n<p><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;</code></p>\n<p>My question is:\nWhat if I want to customize a lifecycle (such as change the order of phase or include one more phase) for my project? How can I do it in pom file? A phase can contain multiple goals. How can I specify the order of the goals in the phase when writing a pom file?</p>\n"},{"tags":["java","swing","compiler-errors","final"],"comments":[{"owner":{"account_id":22880973,"reputation":698,"user_id":17022570,"display_name":"Arsh Coder"},"score":0,"creation_date":1649681259,"post_id":71828100,"comment_id":126930418,"body_markdown":"Do you have two variables named row?","body":"Do you have two variables named row?"},{"owner":{"account_id":23288888,"reputation":3,"user_id":17371266,"display_name":"Minimum"},"score":0,"creation_date":1649682029,"post_id":71828100,"comment_id":126930753,"body_markdown":"@JFan No only one in the for loop","body":"@JFan No only one in the for loop"}],"answers":[{"tags":[],"owner":{"account_id":18021593,"reputation":316,"user_id":13098656,"display_name":"Steffi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649692102,"creation_date":1649692102,"answer_id":71830722,"question_id":71828100,"body_markdown":"Try something like this:\r\n\r\n        private int row;\r\n        private int col;\r\n        \r\n        public void Panel(){\r\n            for(row=0; row&lt;3; ++row) {\r\n                for(col=0; col&lt;3; ++col) {\r\n                    JPanel panel = new JPanel();\r\n                    panel.addMouseListener((MouseListener) new MouseAdapter() {\r\n                        @Override\r\n                        public void mouseClicked(MouseEvent e) {\r\n                            System.out.println(String.valueOf(row) + &quot; &quot; + String.valueOf(col));\r\n                        }\r\n                    });\r\n                    this.add(panel);\r\n                }\r\n            }\r\n        }\r\n\r\nSteffi","title":"How to set multiple JPanel Click Events in a for loop?","body":"<p>Try something like this:</p>\n<pre><code>    private int row;\n    private int col;\n    \n    public void Panel(){\n        for(row=0; row&lt;3; ++row) {\n            for(col=0; col&lt;3; ++col) {\n                JPanel panel = new JPanel();\n                panel.addMouseListener((MouseListener) new MouseAdapter() {\n                    @Override\n                    public void mouseClicked(MouseEvent e) {\n                        System.out.println(String.valueOf(row) + &quot; &quot; + String.valueOf(col));\n                    }\n                });\n                this.add(panel);\n            }\n        }\n    }\n</code></pre>\n<p>Steffi</p>\n"}],"owner":{"account_id":23288888,"reputation":3,"user_id":17371266,"display_name":"Minimum"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71830722,"answer_count":1,"score":0,"last_activity_date":1649692102,"creation_date":1649681164,"question_id":71828100,"body_markdown":"\tfor(int row=0; row&lt;3; ++row) {\r\n\t\tfor(int col=0; col&lt;3; ++col) {\r\n\t\t\tJPanel panel = new JPanel();\r\n\t\t\tpanel.addMouseListener((MouseListener) new MouseAdapter() {\r\n\t\t\t    @Override\r\n\t\t\t    public void mouseClicked(MouseEvent e) {\r\n\t\t\t    \tSystem.out.println(String.valueOf(row) + &quot; &quot; + String.valueOf(col));\r\n\t\t\t    }\r\n            });\r\n            this.add(panel);\r\n\t\t}\r\n\t}\r\n\r\nI want something like this but it complains that row is not final variable\r\n\r\n    Local variable row defined in an enclosing scope must be final or effectively final\r\nI&#39;ve tried other ways but I can&#39;t find how to pass those parameters(row, col) without error messages.","title":"How to set multiple JPanel Click Events in a for loop?","body":"<pre><code>for(int row=0; row&lt;3; ++row) {\n    for(int col=0; col&lt;3; ++col) {\n        JPanel panel = new JPanel();\n        panel.addMouseListener((MouseListener) new MouseAdapter() {\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                System.out.println(String.valueOf(row) + &quot; &quot; + String.valueOf(col));\n            }\n        });\n        this.add(panel);\n    }\n}\n</code></pre>\n<p>I want something like this but it complains that row is not final variable</p>\n<pre><code>Local variable row defined in an enclosing scope must be final or effectively final\n</code></pre>\n<p>I've tried other ways but I can't find how to pass those parameters(row, col) without error messages.</p>\n"},{"tags":["java","arrays","algorithm","matrix"],"answers":[{"tags":[],"owner":{"account_id":4400377,"reputation":178,"user_id":3586257,"display_name":"jese_moriarty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649674423,"creation_date":1649630434,"answer_id":71821076,"question_id":71820549,"body_markdown":"Keep an extra space for highest positions and lowest positions as there may be multiples of them. Later just traverse the positions and print out the row col values.\r\n\r\n```\r\nTime Complexity : O(row*col)\r\nSpace Complexity : O(row*col) \r\n```\r\n\r\n    private void foo(){\r\n        int[][] mat = {{1,2,3,4,5,6,},{1,12,13,14,15,16},{1,22,23,24,25,26}};\r\n        int rows = mat.length;\r\n        int cols = mat[0].length;\r\n        int lowest=Integer.MAX_VALUE;\r\n        int highest=Integer.MIN_VALUE;\r\n        List&lt;int[]&gt; highestPos = new ArrayList&lt;&gt;();\r\n        List&lt;int[]&gt; lowestPos = new ArrayList&lt;&gt;();\r\n\r\n        System.out.println(&quot;informed values: &quot;);\r\n        for(int i=0; i&lt;rows; i++){\r\n            for(int j=0; j&lt;cols; j++){\r\n                highest = Math.max(mat[i][j], highest);\r\n                lowest = Math.min(mat[i][j], lowest);\r\n                System.out.print(mat[i][j]+&quot;\\t&quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n\r\n        for(int i=0; i&lt;rows; i++){\r\n            for(int j=0; j&lt;cols; j++){\r\n                if(mat[i][j] == highest){\r\n                    highestPos.add(new int[]{i, j});\r\n                }\r\n                else if(mat[i][j] == lowest){\r\n                    lowestPos.add(new int[]{i, j});\r\n                }\r\n            }\r\n        }\r\n\r\n        System.out.println(&quot;highest is : &quot; + mat[highestPos.get(0)[0]][highestPos.get(0)[1]]);\r\n        for(int[] h : highestPos){\r\n            System.out.println(&quot;located in : &quot; + &quot;row : &quot; + (h[0] + 1) + &quot; col : &quot; + (h[1] + 1));\r\n        }\r\n\r\n        System.out.println(&quot;\\n&quot;);\r\n        System.out.println(&quot;lowest is : &quot; + mat[lowestPos.get(0)[0]][lowestPos.get(0)[1]]);\r\n        for(int[] l : lowestPos){\r\n            System.out.println(&quot;located in : &quot; + &quot;row : &quot; + (l[0] + 1) + &quot; col : &quot; + (l[1] + 1));\r\n        }\r\n    }\r\n\r\n`output :`\r\n```\r\ninformed values: \r\n1\t2\t3\t4\t5\t6\t\r\n1\t12\t13\t14\t15\t16\t\r\n1\t22\t23\t24\t25\t26\t\r\n\r\nhighest is : 26\r\nlocated in : row : 3 col : 6\r\n\r\n\r\nlowest is : 1\r\nlocated in : row : 1 col : 1\r\nlocated in : row : 2 col : 1\r\nlocated in : row : 3 col : 1\r\n```","title":"How to find Lowest and Highest values and their coordinates in a Matrix that can contain Duplicates","body":"<p>Keep an extra space for highest positions and lowest positions as there may be multiples of them. Later just traverse the positions and print out the row col values.</p>\n<pre><code>Time Complexity : O(row*col)\nSpace Complexity : O(row*col) \n</code></pre>\n<pre><code>private void foo(){\n    int[][] mat = {{1,2,3,4,5,6,},{1,12,13,14,15,16},{1,22,23,24,25,26}};\n    int rows = mat.length;\n    int cols = mat[0].length;\n    int lowest=Integer.MAX_VALUE;\n    int highest=Integer.MIN_VALUE;\n    List&lt;int[]&gt; highestPos = new ArrayList&lt;&gt;();\n    List&lt;int[]&gt; lowestPos = new ArrayList&lt;&gt;();\n\n    System.out.println(&quot;informed values: &quot;);\n    for(int i=0; i&lt;rows; i++){\n        for(int j=0; j&lt;cols; j++){\n            highest = Math.max(mat[i][j], highest);\n            lowest = Math.min(mat[i][j], lowest);\n            System.out.print(mat[i][j]+&quot;\\t&quot;);\n        }\n        System.out.println(&quot;&quot;);\n    }\n\n    for(int i=0; i&lt;rows; i++){\n        for(int j=0; j&lt;cols; j++){\n            if(mat[i][j] == highest){\n                highestPos.add(new int[]{i, j});\n            }\n            else if(mat[i][j] == lowest){\n                lowestPos.add(new int[]{i, j});\n            }\n        }\n    }\n\n    System.out.println(&quot;highest is : &quot; + mat[highestPos.get(0)[0]][highestPos.get(0)[1]]);\n    for(int[] h : highestPos){\n        System.out.println(&quot;located in : &quot; + &quot;row : &quot; + (h[0] + 1) + &quot; col : &quot; + (h[1] + 1));\n    }\n\n    System.out.println(&quot;\\n&quot;);\n    System.out.println(&quot;lowest is : &quot; + mat[lowestPos.get(0)[0]][lowestPos.get(0)[1]]);\n    for(int[] l : lowestPos){\n        System.out.println(&quot;located in : &quot; + &quot;row : &quot; + (l[0] + 1) + &quot; col : &quot; + (l[1] + 1));\n    }\n}\n</code></pre>\n<p><code>output :</code></p>\n<pre><code>informed values: \n1   2   3   4   5   6   \n1   12  13  14  15  16  \n1   22  23  24  25  26  \n\nhighest is : 26\nlocated in : row : 3 col : 6\n\n\nlowest is : 1\nlocated in : row : 1 col : 1\nlocated in : row : 2 col : 1\nlocated in : row : 3 col : 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649690951,"creation_date":1649647784,"answer_id":71822440,"question_id":71820549,"body_markdown":"You can do spot both **max** and **min** values and their coordinates in a single pass through the given matrix.\r\n\r\nIt would be far more continent to store the data related to a particular element (value, row, column) grouped as an object. And or in order to handle the case when highest and lowest values can be encountered multiple times, you can create two collection of elements.\r\n\r\nThere are two of representing the element. It can be defined either as a `class`, or as a `record`. [Record](https://docs.oracle.com/en/java/javase/17/language/records.html) is a special kind of class introduced with Java 16 which serves as a transparent carrier of data.\r\n\r\nSyntax for defining a record is very concise:\r\n```\r\npublic record Element(int row, int col, int value) {}\r\n```\r\nThat is the equivalent of a class with a constructor, getters, `equals/hasCode` and `toString()` (*all this code will be generated by the compiler for you*).\r\n\r\nWhile iterating over the matrix if the next encountered item is greater then items is the list of highest element, then all previously added elements need to be removed and new one has to be added. If the value of the next item is equal to the value of items in list, or the list is empty, then the next element need to be added to the list (no more actions required). Values lower than existing will be ignored.\r\n\r\nSimilarly, with the lowest values.\r\n\r\n    public static void main(String[] args) {\r\n        int mat[][] = {{1, 2, 3, 4, 5, 6},\r\n                        {1, 12, 13, 14, 15, 16},\r\n                        {1, 22, 23, 24, 25, 26}};\r\n    \r\n        List&lt;Element&gt; lowestElements = new ArrayList&lt;&gt;();\r\n        List&lt;Element&gt; highestElements = new ArrayList&lt;&gt;();\r\n    \r\n        for (int row = 0; row &lt; mat.length; row++) {\r\n            for (int col = 0; col &lt; mat[row].length; col++) {\r\n                if (highestElements.isEmpty() || mat[row][col] == highestElements.get(0).value()) {\r\n                    highestElements.add(new Element(row, col, mat[row][col]));\r\n                    \r\n                } else if (mat[row][col] &gt; highestElements.get(0).value()) {\r\n                    \r\n                    highestElements.clear();\r\n                    highestElements.add(new Element(row, col, mat[row][col]));\r\n                }\r\n                if (lowestElements.isEmpty() || mat[row][col] == lowestElements.get(0).value()) {\r\n                    lowestElements.add(new Element(row, col, mat[row][col]));\r\n                    \r\n                } else if (mat[row][col] &lt; lowestElements.get(0).value()) {\r\n    \r\n                    highestElements.clear();\r\n                    lowestElements.add(new Element(row, col, mat[row][col]));\r\n                }\r\n            }\r\n        }\r\n    \r\n        for (Element next : lowestElements) {\r\n            System.out.printf(&quot;lowest is : %d located in row %d and column %d\\n&quot;, next.value(), next.row(), next.col());\r\n        }\r\n        for (Element next : highestElements) {\r\n            System.out.printf(&quot;highest is : %d located in row %d and column %d\\n&quot;, next.value(), next.row(), next.col());\r\n        }\r\n    }\r\n\r\n**Output**\r\n```\r\nlowest is : 1 located in row 0 and column 0\r\nlowest is : 1 located in row 1 and column 0\r\nlowest is : 1 located in row 2 and column 0\r\nhighest is : 26 located in row 2 and column 5\r\n```","title":"How to find Lowest and Highest values and their coordinates in a Matrix that can contain Duplicates","body":"<p>You can do spot both <strong>max</strong> and <strong>min</strong> values and their coordinates in a single pass through the given matrix.</p>\n<p>It would be far more continent to store the data related to a particular element (value, row, column) grouped as an object. And or in order to handle the case when highest and lowest values can be encountered multiple times, you can create two collection of elements.</p>\n<p>There are two of representing the element. It can be defined either as a <code>class</code>, or as a <code>record</code>. <a href=\"https://docs.oracle.com/en/java/javase/17/language/records.html\" rel=\"nofollow noreferrer\">Record</a> is a special kind of class introduced with Java 16 which serves as a transparent carrier of data.</p>\n<p>Syntax for defining a record is very concise:</p>\n<pre><code>public record Element(int row, int col, int value) {}\n</code></pre>\n<p>That is the equivalent of a class with a constructor, getters, <code>equals/hasCode</code> and <code>toString()</code> (<em>all this code will be generated by the compiler for you</em>).</p>\n<p>While iterating over the matrix if the next encountered item is greater then items is the list of highest element, then all previously added elements need to be removed and new one has to be added. If the value of the next item is equal to the value of items in list, or the list is empty, then the next element need to be added to the list (no more actions required). Values lower than existing will be ignored.</p>\n<p>Similarly, with the lowest values.</p>\n<pre><code>public static void main(String[] args) {\n    int mat[][] = {{1, 2, 3, 4, 5, 6},\n                    {1, 12, 13, 14, 15, 16},\n                    {1, 22, 23, 24, 25, 26}};\n\n    List&lt;Element&gt; lowestElements = new ArrayList&lt;&gt;();\n    List&lt;Element&gt; highestElements = new ArrayList&lt;&gt;();\n\n    for (int row = 0; row &lt; mat.length; row++) {\n        for (int col = 0; col &lt; mat[row].length; col++) {\n            if (highestElements.isEmpty() || mat[row][col] == highestElements.get(0).value()) {\n                highestElements.add(new Element(row, col, mat[row][col]));\n                \n            } else if (mat[row][col] &gt; highestElements.get(0).value()) {\n                \n                highestElements.clear();\n                highestElements.add(new Element(row, col, mat[row][col]));\n            }\n            if (lowestElements.isEmpty() || mat[row][col] == lowestElements.get(0).value()) {\n                lowestElements.add(new Element(row, col, mat[row][col]));\n                \n            } else if (mat[row][col] &lt; lowestElements.get(0).value()) {\n\n                highestElements.clear();\n                lowestElements.add(new Element(row, col, mat[row][col]));\n            }\n        }\n    }\n\n    for (Element next : lowestElements) {\n        System.out.printf(&quot;lowest is : %d located in row %d and column %d\\n&quot;, next.value(), next.row(), next.col());\n    }\n    for (Element next : highestElements) {\n        System.out.printf(&quot;highest is : %d located in row %d and column %d\\n&quot;, next.value(), next.row(), next.col());\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>lowest is : 1 located in row 0 and column 0\nlowest is : 1 located in row 1 and column 0\nlowest is : 1 located in row 2 and column 0\nhighest is : 26 located in row 2 and column 5\n</code></pre>\n"}],"owner":{"account_id":17008797,"reputation":11,"user_id":12304389,"display_name":"Nath&#225;lia Ara&#250;jo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1649690951,"creation_date":1649624609,"question_id":71820549,"body_markdown":"*Problem statement:*\r\n\r\n&gt; Write a 3 x 6 matrix program, calculate and show:\r\n&gt; * The largest element of the matrix and its respective position;\r\n&gt; * The smallest element of the matrix and its respective position.\r\n\r\nFor example, the lowest number `1` repeats `3` times:\r\n* located in row `1` and column `1`; \r\n* row `2` and column `1`;\r\n* and row `3` and column `1`.\r\n\r\nBut how can I find and print all tree values?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Code:**\r\n\r\n\r\n    import java.util.*;\r\n    public class ex04 {\r\n        public static void main(String[]args ){\r\n    \r\n            int mat[][] = {{1,2,3,4,5,6,},{1,12,13,14,15,16},{1,22,23,24,25,26}};\r\n            int i,j;\r\n            int lowest=0, highest=0;\r\n    \r\n            System.out.println(&quot;informed values: &quot;);\r\n        \t\tfor(i=0;i&lt;mat.length;i++){ \r\n    \t    \t\tfor(j=0;j&lt;mat[i].length;j++){ \r\n                        if (mat[i][j] &gt; highest) {\r\n                            highest = mat[i][j];\r\n                    }\r\n    \t       \t \t\tSystem.out.print(mat[i][j]+&quot;\\t&quot;);\r\n        \t\t\t}\r\n          \t \t\tSystem.out.println(&quot;&quot;);\r\n    \t\t}\r\n    \r\n            lowest = highest;\r\n        \r\n            for (i = 0; i &lt; mat.length; i++) {\r\n                for (j = 0; j &lt; mat[i].length; j++) {\r\n                    if (mat[i][j] &lt; lowest) {\r\n                        lowest = mat[i][j];\r\n            } } }\r\n            System.out.println(&quot;\\n&quot;);\r\n            for (i = 0; i &lt; mat.length; i++) {\r\n                for (j = 0; j &lt; mat[i].length; j++) {\r\n                    if(mat[i][j] == highest){\r\n                         System.out.println(&quot; highest is : &quot; + highest + &quot; located in row &quot; + \r\n                         (i+1) + &quot; and column &quot; + (j+1) );\r\n            }\r\n                    if(mat[i][j] == lowest){\r\n                System.out.println(&quot; lowest is : &quot; + lowest + &quot; located in row &quot; + (i+1) + \r\n                &quot; and column &quot; + (j+1));\r\n            } } }\r\n        }    \r\n    }\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7ZyPXm.png","title":"How to find Lowest and Highest values and their coordinates in a Matrix that can contain Duplicates","body":"<p><em>Problem statement:</em></p>\n<blockquote>\n<p>Write a 3 x 6 matrix program, calculate and show:</p>\n<ul>\n<li>The largest element of the matrix and its respective position;</li>\n<li>The smallest element of the matrix and its respective position.</li>\n</ul>\n</blockquote>\n<p>For example, the lowest number <code>1</code> repeats <code>3</code> times:</p>\n<ul>\n<li>located in row <code>1</code> and column <code>1</code>;</li>\n<li>row <code>2</code> and column <code>1</code>;</li>\n<li>and row <code>3</code> and column <code>1</code>.</li>\n</ul>\n<p>But how can I find and print all tree values?</p>\n<p><a href=\"https://i.stack.imgur.com/7ZyPXm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7ZyPXm.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Code:</strong></p>\n<pre><code>import java.util.*;\npublic class ex04 {\n    public static void main(String[]args ){\n\n        int mat[][] = {{1,2,3,4,5,6,},{1,12,13,14,15,16},{1,22,23,24,25,26}};\n        int i,j;\n        int lowest=0, highest=0;\n\n        System.out.println(&quot;informed values: &quot;);\n            for(i=0;i&lt;mat.length;i++){ \n                for(j=0;j&lt;mat[i].length;j++){ \n                    if (mat[i][j] &gt; highest) {\n                        highest = mat[i][j];\n                }\n                    System.out.print(mat[i][j]+&quot;\\t&quot;);\n                }\n                System.out.println(&quot;&quot;);\n        }\n\n        lowest = highest;\n    \n        for (i = 0; i &lt; mat.length; i++) {\n            for (j = 0; j &lt; mat[i].length; j++) {\n                if (mat[i][j] &lt; lowest) {\n                    lowest = mat[i][j];\n        } } }\n        System.out.println(&quot;\\n&quot;);\n        for (i = 0; i &lt; mat.length; i++) {\n            for (j = 0; j &lt; mat[i].length; j++) {\n                if(mat[i][j] == highest){\n                     System.out.println(&quot; highest is : &quot; + highest + &quot; located in row &quot; + \n                     (i+1) + &quot; and column &quot; + (j+1) );\n        }\n                if(mat[i][j] == lowest){\n            System.out.println(&quot; lowest is : &quot; + lowest + &quot; located in row &quot; + (i+1) + \n            &quot; and column &quot; + (j+1));\n        } } }\n    }    \n}\n</code></pre>\n"},{"tags":["java","maven","opencv","homebrew"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1649661390,"post_id":71821119,"comment_id":126923144,"body_markdown":"What makes you say _&quot;I’ve chosen Java 11 because it’s the the last Java version with LTS&quot;_? [Java 17 has LTS](https://www.oracle.com/news/announcement/oracle-releases-java-17-2021-09-14/).","body":"What makes you say <i>&quot;I’ve chosen Java 11 because it’s the the last Java version with LTS&quot;</i>? <a href=\"https://www.oracle.com/news/announcement/oracle-releases-java-17-2021-09-14/\" rel=\"nofollow noreferrer\">Java 17 has LTS</a>."},{"owner":{"account_id":12988125,"reputation":139,"user_id":9388282,"display_name":"David Papp"},"score":0,"creation_date":1649690797,"post_id":71821119,"comment_id":126934367,"body_markdown":"Oh wow! I didn&#39;t even realize that was the case. Regardless, the question still stands.","body":"Oh wow! I didn&#39;t even realize that was the case. Regardless, the question still stands."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1649698388,"post_id":71821119,"comment_id":126937092,"body_markdown":"Taking your error _&quot;target release 11 conflicts with default source release 18&quot;_ at face value, it looks like you have managed to specify that your target release is 11, but you haven&#39;t _explicitly_ specified that your source release is also 11, so you get stuck with the default of 18. Try adding the parameter `-DOPENCV_JAVA_SOURCE_VERSION=11`. See [OpenCV issue 13435](https://github.com/opencv/opencv/pull/13435).","body":"Taking your error <i>&quot;target release 11 conflicts with default source release 18&quot;</i> at face value, it looks like you have managed to specify that your target release is 11, but you haven&#39;t <i>explicitly</i> specified that your source release is also 11, so you get stuck with the default of 18. Try adding the parameter <code>-DOPENCV_JAVA_SOURCE_VERSION=11</code>. See <a href=\"https://github.com/opencv/opencv/pull/13435\" rel=\"nofollow noreferrer\">OpenCV issue 13435</a>."},{"owner":{"account_id":12988125,"reputation":139,"user_id":9388282,"display_name":"David Papp"},"score":0,"creation_date":1649740002,"post_id":71821119,"comment_id":126946120,"body_markdown":"Holy! That solved it! I guess the key is to set the -DOPENCV_JAVA_SOURCE_VERSION=11 flag. Thank you so much!","body":"Holy! That solved it! I guess the key is to set the -DOPENCV_JAVA_SOURCE_VERSION=11 flag. Thank you so much!"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1649740879,"post_id":71821119,"comment_id":126946271,"body_markdown":"That&#39;s good. In that case could you update your own answer with what you did to fix your problem, and also accept it. Having accepted answers is much more helpful to the SO community.","body":"That&#39;s good. In that case could you update your own answer with what you did to fix your problem, and also accept it. Having accepted answers is much more helpful to the SO community."}],"answers":[{"tags":[],"owner":{"account_id":12988125,"reputation":139,"user_id":9388282,"display_name":"David Papp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649690924,"creation_date":1649690924,"answer_id":71830468,"question_id":71821119,"body_markdown":"I partially figured out what&#39;s going on here.\r\n\r\nAs a prereq for running `brew install opencv`, I ran `brew install ant`. `brew install ant` installs the latest OpenJDK (OpenJDK 18 at the time of writing) and ignores the Java home path set on my machine. This causes `brew install opencv` to try to install OpenCV with Java 18 while the target is set to 11, which throws an error.","title":"OpenCV build from source fails with Java 11: warning: target release 11 conflicts with default source release 18","body":"<p>I partially figured out what's going on here.</p>\n<p>As a prereq for running <code>brew install opencv</code>, I ran <code>brew install ant</code>. <code>brew install ant</code> installs the latest OpenJDK (OpenJDK 18 at the time of writing) and ignores the Java home path set on my machine. This causes <code>brew install opencv</code> to try to install OpenCV with Java 18 while the target is set to 11, which throws an error.</p>\n"}],"owner":{"account_id":12988125,"reputation":139,"user_id":9388282,"display_name":"David Papp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":704,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1649690924,"creation_date":1649630879,"question_id":71821119,"body_markdown":"I’m working on a Java application that runs Java 11. I’ve chosen Java 11 because it’s the the last Java version with LTS.\r\nI’m using OpenCV in this Java application and am using libraries from the contrib modules. I’m using Homebrew to install OpenCV with the Java bindings and the contrib modules.\r\n\r\nThe first thing I tried was to install OpenCV from source without specifying the Java target version. When I did this, OpenCV installed correctly, but when I tried to use it in code, I got the following error:\r\n\r\n`class file has wrong version 61.0, should be 55.0`\r\n\r\nI take this to mean that because OpenCV was compiled via Java 17, I can’t use it in my Java 11 code. It’s also worth mentioning that because I’m using Maven with my Java project, I first export the OpenCV JAR into a local Maven module via something like `mvn install:install-file -Dfile=/usr/local/Cellar/opencv/4.5.5_1/share/java/opencv4/opencv-455.jar`. I’m using OpenJDK 11 as my JRE for this export.\r\n\r\nI’m also using OpenJDK 11 as my default JDK on my Mac (`java -version` and `javac -version` both return OpenJDK 11). So I was a bit surprised to see this error.\r\nSo to solve it, I’ve been trying to install OpenCV with the flag -DOPENCV_JAVA_TARGET_VERSION=11. However, when I do this, I get the following error:\r\n\r\n```\r\n[ 11%] Generating opencv-455.jar\r\ncd /tmp/opencv-20220410-81173-p3o3uo/opencv-4.5.5/build/modules/java/jar/opencv &amp;&amp; /usr/local/bin/ant -noinput -k jar\r\nPicked up _JAVA_OPTIONS: -Duser.home=/Users/dpapp/Library/Caches/Homebrew/java_cache\r\nBuildfile: /private/tmp/opencv-20220410-81173-p3o3uo/opencv-4.5.5/build/modules/java/jar/opencv/build.xml\r\n   [tstamp] Honouring environment variable SOURCE_DATE_EPOCH which has been set to 1640404407\r\n\r\njar:\r\n    [javac] Compiling 280 source files to /private/tmp/opencv-20220410-81173-p3o3uo/opencv-4.5.5/build/modules/java/jar/opencv/build/classes\r\n    [javac] warning: target release 11 conflicts with default source release 18\r\nTarget &#39;jar&#39; failed with message &#39;Compile failed; see the compiler error output for details.&#39;.\r\n\r\nBUILD FAILED\r\n/private/tmp/opencv-20220410-81173-p3o3uo/opencv-4.5.5/build/modules/java/jar/opencv/build.xml:14: Compile failed; see the compiler error output for details\r\n```\r\nThis error makes it sound like OpenCV requires at least JDK 18, which doesn’t sound right to me. Is there a minimum JDK for each OpenCV version? Should I be using OpenCV 3 instead? Any help is greatly appreciated, thank you!","title":"OpenCV build from source fails with Java 11: warning: target release 11 conflicts with default source release 18","body":"<p>I’m working on a Java application that runs Java 11. I’ve chosen Java 11 because it’s the the last Java version with LTS.\nI’m using OpenCV in this Java application and am using libraries from the contrib modules. I’m using Homebrew to install OpenCV with the Java bindings and the contrib modules.</p>\n<p>The first thing I tried was to install OpenCV from source without specifying the Java target version. When I did this, OpenCV installed correctly, but when I tried to use it in code, I got the following error:</p>\n<p><code>class file has wrong version 61.0, should be 55.0</code></p>\n<p>I take this to mean that because OpenCV was compiled via Java 17, I can’t use it in my Java 11 code. It’s also worth mentioning that because I’m using Maven with my Java project, I first export the OpenCV JAR into a local Maven module via something like <code>mvn install:install-file -Dfile=/usr/local/Cellar/opencv/4.5.5_1/share/java/opencv4/opencv-455.jar</code>. I’m using OpenJDK 11 as my JRE for this export.</p>\n<p>I’m also using OpenJDK 11 as my default JDK on my Mac (<code>java -version</code> and <code>javac -version</code> both return OpenJDK 11). So I was a bit surprised to see this error.\nSo to solve it, I’ve been trying to install OpenCV with the flag -DOPENCV_JAVA_TARGET_VERSION=11. However, when I do this, I get the following error:</p>\n<pre><code>[ 11%] Generating opencv-455.jar\ncd /tmp/opencv-20220410-81173-p3o3uo/opencv-4.5.5/build/modules/java/jar/opencv &amp;&amp; /usr/local/bin/ant -noinput -k jar\nPicked up _JAVA_OPTIONS: -Duser.home=/Users/dpapp/Library/Caches/Homebrew/java_cache\nBuildfile: /private/tmp/opencv-20220410-81173-p3o3uo/opencv-4.5.5/build/modules/java/jar/opencv/build.xml\n   [tstamp] Honouring environment variable SOURCE_DATE_EPOCH which has been set to 1640404407\n\njar:\n    [javac] Compiling 280 source files to /private/tmp/opencv-20220410-81173-p3o3uo/opencv-4.5.5/build/modules/java/jar/opencv/build/classes\n    [javac] warning: target release 11 conflicts with default source release 18\nTarget 'jar' failed with message 'Compile failed; see the compiler error output for details.'.\n\nBUILD FAILED\n/private/tmp/opencv-20220410-81173-p3o3uo/opencv-4.5.5/build/modules/java/jar/opencv/build.xml:14: Compile failed; see the compiler error output for details\n</code></pre>\n<p>This error makes it sound like OpenCV requires at least JDK 18, which doesn’t sound right to me. Is there a minimum JDK for each OpenCV version? Should I be using OpenCV 3 instead? Any help is greatly appreciated, thank you!</p>\n"},{"tags":["java","android","android-activity","weak-references"],"comments":[{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":1,"creation_date":1649686077,"post_id":71829255,"comment_id":126932448,"body_markdown":"`I haven&#39;t seen methods being called this way` start here. what are you hoping to achieve by doing this ?","body":"<code>I haven&#39;t seen methods being called this way</code> start here. what are you hoping to achieve by doing this ?"},{"owner":{"account_id":8704143,"reputation":1153,"user_id":6512857,"display_name":"Will"},"score":1,"creation_date":1649686171,"post_id":71829255,"comment_id":126932484,"body_markdown":"@a_local_nobody I&#39;m using static methods to be called throughout the app, in different activities and fragments.","body":"@a_local_nobody I&#39;m using static methods to be called throughout the app, in different activities and fragments."},{"owner":{"account_id":6023206,"reputation":7989,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1649686203,"post_id":71829255,"comment_id":126932503,"body_markdown":"i get that, i&#39;m asking why ? what do they do that you can&#39;t achieve within the actual activity or fragment","body":"i get that, i&#39;m asking why ? what do they do that you can&#39;t achieve within the actual activity or fragment"},{"owner":{"account_id":8704143,"reputation":1153,"user_id":6512857,"display_name":"Will"},"score":0,"creation_date":1649686384,"post_id":71829255,"comment_id":126932579,"body_markdown":"@a_local_nobody they can be done within each activity, but I would need to copy-paste the code in every one of them. Instead, I use a global &quot;utility&quot; class that includes methods to be called from anywhere. It allows the maintenance of the code in one unique place.","body":"@a_local_nobody they can be done within each activity, but I would need to copy-paste the code in every one of them. Instead, I use a global &quot;utility&quot; class that includes methods to be called from anywhere. It allows the maintenance of the code in one unique place."}],"answers":[{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649688530,"creation_date":1649688530,"answer_id":71829888,"question_id":71829255,"body_markdown":"There is absolutely no reason to use `WeakReference` in a parameter passed to a method, unless this parameter is being **stored**. If the parameter is only used in the method, you can just pass in the `Activity` reference.","title":"Best practice: weak reference to activity in static method","body":"<p>There is absolutely no reason to use <code>WeakReference</code> in a parameter passed to a method, unless this parameter is being <strong>stored</strong>. If the parameter is only used in the method, you can just pass in the <code>Activity</code> reference.</p>\n"},{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649690893,"creation_date":1649690563,"answer_id":71830383,"question_id":71829255,"body_markdown":"No, it doesn&#39;t make a difference.  Garbage collection in Java works on the idea of GC roots.  If a variable is a GC root or references by a GC root (including transitively) it cannot be garbage collected.  Parameters to a function are a GC root-  until the function returns none of its parameters can be collected.  Since Activity is a parameter to your function, it will be uncollectable as long as that function is in the call stack.  Using a WeakReference won&#39;t speed it up.\r\n\r\nThreads and AsyncTasks (which are just wrappers around Thread really) are slightly different.  Every running thread is also a GC root.  But threads can have a long lifetime and exist beyond the lifecycle of the object.   Here, using a WeakReference does possibly help because there isn&#39;t another reason it needs to be kept around (like the parameter in your sample).\r\n\r\nYour example 2 is a bit better, it isn&#39;t blatantly unnecessary. But I question why its needed.  In general when doing a Thread the pattern should be:\r\n\r\n    run() {\r\n       do_async_work()\r\n       update_ui()\r\n    }\r\n    \r\n    update_ui() {\r\n      Activity activity = weakReference.get()\r\n      if(activity == null) {\r\n         return\r\n      }\r\n    \r\n      //update the UI\r\n    }\r\n\r\nDoing it like this will prevent a lot of problems like needing to check the weak reference a dozen times.","title":"Best practice: weak reference to activity in static method","body":"<p>No, it doesn't make a difference.  Garbage collection in Java works on the idea of GC roots.  If a variable is a GC root or references by a GC root (including transitively) it cannot be garbage collected.  Parameters to a function are a GC root-  until the function returns none of its parameters can be collected.  Since Activity is a parameter to your function, it will be uncollectable as long as that function is in the call stack.  Using a WeakReference won't speed it up.</p>\n<p>Threads and AsyncTasks (which are just wrappers around Thread really) are slightly different.  Every running thread is also a GC root.  But threads can have a long lifetime and exist beyond the lifecycle of the object.   Here, using a WeakReference does possibly help because there isn't another reason it needs to be kept around (like the parameter in your sample).</p>\n<p>Your example 2 is a bit better, it isn't blatantly unnecessary. But I question why its needed.  In general when doing a Thread the pattern should be:</p>\n<pre><code>run() {\n   do_async_work()\n   update_ui()\n}\n\nupdate_ui() {\n  Activity activity = weakReference.get()\n  if(activity == null) {\n     return\n  }\n\n  //update the UI\n}\n</code></pre>\n<p>Doing it like this will prevent a lot of problems like needing to check the weak reference a dozen times.</p>\n"}],"owner":{"account_id":8704143,"reputation":1153,"user_id":6512857,"display_name":"Will"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":623,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71830383,"answer_count":2,"score":1,"last_activity_date":1649690893,"creation_date":1649685941,"question_id":71829255,"body_markdown":"I need to reference an activity in several static methods. I&#39;m curious to know the best practices to avoid memory leaks. Let&#39;s use examples:\r\n\r\nExample 1:\r\n``` java\r\nstatic void hideKeyboard(Activity activity) {\r\n   WeakReference&lt;Activity&gt; activityReference = new WeakReference&lt;&gt;(activity);\r\n   // ... Call activityReference.get() when needed, check if null...\r\n}\r\n```\r\nExample 2:\r\n``` java\r\nstatic void hideKeyboard(WeakReference&lt;Activity&gt; activityReference) {\r\n   // ... Call activityReference.get() when needed, check if null...\r\n}\r\n```\r\n\r\nSo three questions:\r\n1. Do example 1 or 2 make any difference?\r\n2. I haven&#39;t seen methods being called this way much outside of subclasses of `Thread` or `AsyncTask`. Any reason why? Am I missing something?\r\n3. If the weak reference is used in a `Thread` or `AsyncTask` inside one of those methods, could memory still leak?","title":"Best practice: weak reference to activity in static method","body":"<p>I need to reference an activity in several static methods. I'm curious to know the best practices to avoid memory leaks. Let's use examples:</p>\n<p>Example 1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void hideKeyboard(Activity activity) {\n   WeakReference&lt;Activity&gt; activityReference = new WeakReference&lt;&gt;(activity);\n   // ... Call activityReference.get() when needed, check if null...\n}\n</code></pre>\n<p>Example 2:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void hideKeyboard(WeakReference&lt;Activity&gt; activityReference) {\n   // ... Call activityReference.get() when needed, check if null...\n}\n</code></pre>\n<p>So three questions:</p>\n<ol>\n<li>Do example 1 or 2 make any difference?</li>\n<li>I haven't seen methods being called this way much outside of subclasses of <code>Thread</code> or <code>AsyncTask</code>. Any reason why? Am I missing something?</li>\n<li>If the weak reference is used in a <code>Thread</code> or <code>AsyncTask</code> inside one of those methods, could memory still leak?</li>\n</ol>\n"},{"tags":["java","image","javafx","imageview","transparency"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1649691000,"post_id":71830459,"comment_id":126934468,"body_markdown":"Nothing built in; you would just have to create a new `WritableImage` and copy the pixels over, replacing the ones with the background color with transparent pixels. Wouldn&#39;t it be better to have the underlying images with transparent backgrounds in the first place, and just place them over different colored backgrounds?","body":"Nothing built in; you would just have to create a new <code>WritableImage</code> and copy the pixels over, replacing the ones with the background color with transparent pixels. Wouldn&#39;t it be better to have the underlying images with transparent backgrounds in the first place, and just place them over different colored backgrounds?"},{"owner":{"account_id":23152606,"reputation":11,"user_id":17254363,"display_name":"Jinger Jesus"},"score":0,"creation_date":1649691134,"post_id":71830459,"comment_id":126934528,"body_markdown":"The issue is getting the transparent background in the first place - But I think I have found a solution. I&#39;ll use a full color image and adjust the transparency as a whole.\n\nThank you!","body":"The issue is getting the transparent background in the first place - But I think I have found a solution. I&#39;ll use a full color image and adjust the transparency as a whole.  Thank you!"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1649691199,"post_id":71830459,"comment_id":126934549,"body_markdown":"You can always just programmatically create transparent-background images as I suggested in the first comment and save those, then use them in your app. Not really sure what the problem is.","body":"You can always just programmatically create transparent-background images as I suggested in the first comment and save those, then use them in your app. Not really sure what the problem is."}],"owner":{"account_id":23152606,"reputation":11,"user_id":17254363,"display_name":"Jinger Jesus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649690868,"creation_date":1649690868,"question_id":71830459,"body_markdown":"I am looking for a way to set a background color of a PNG image to a transparent setting in my Java program. I want to do this because I am making a chess engine and want to highlight a tile on the board without drawing a new sprite for every highlighted tile. Is there another way? There doesn&#39;t seem to be any method or functionality in IntelliJ or within the Image/ImageView classes to allow for this.\r\n\r\nAny input would be greatly appreciated.\r\n\r\nThank you in advance!","title":"Is there a way to set one color in a JavaFX Image/ImageView to transparent?","body":"<p>I am looking for a way to set a background color of a PNG image to a transparent setting in my Java program. I want to do this because I am making a chess engine and want to highlight a tile on the board without drawing a new sprite for every highlighted tile. Is there another way? There doesn't seem to be any method or functionality in IntelliJ or within the Image/ImageView classes to allow for this.</p>\n<p>Any input would be greatly appreciated.</p>\n<p>Thank you in advance!</p>\n"},{"tags":["java","spring","javabeans"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1649662648,"post_id":71824144,"comment_id":126923557,"body_markdown":"Also in singleton you create new object, but once, as spring singleton, so what is the question?","body":"Also in singleton you create new object, but once, as spring singleton, so what is the question?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1649663555,"post_id":71824144,"comment_id":126923852,"body_markdown":"Well, it depends a lot on the circumstances. Creating an object on every call isn&#39;t necessarily resulting in a memory leak - in fact many libraries do this, e.g. anytime you call math operations on `java.math.BigDecimal`. In Java memory leaks are typically called by live code holding onto objects that are no longer needed or that code being held alive unnecessarily (i.e. accessible by a live thread). If you use Spring as it is intended and don&#39;t interfere with its thread handling etc. you very likely won&#39;t get any memory leaks.","body":"Well, it depends a lot on the circumstances. Creating an object on every call isn&#39;t necessarily resulting in a memory leak - in fact many libraries do this, e.g. anytime you call math operations on <code>java.math.BigDecimal</code>. In Java memory leaks are typically called by live code holding onto objects that are no longer needed or that code being held alive unnecessarily (i.e. accessible by a live thread). If you use Spring as it is intended and don&#39;t interfere with its thread handling etc. you very likely won&#39;t get any memory leaks."},{"owner":{"account_id":24898013,"reputation":1,"user_id":18769028,"display_name":"sylph"},"score":0,"creation_date":1649663674,"post_id":71824144,"comment_id":126923898,"body_markdown":"@user7294900\nThanks for quick comment.\n\nI was thinking Bean method is on memory once, but there is &quot;new&quot; keyword which mean creating new object every time ( allocating memory ). so i was wondering &quot;new&quot; keyword cause  memory leak or not.","body":"@user7294900 Thanks for quick comment.  I was thinking Bean method is on memory once, but there is &quot;new&quot; keyword which mean creating new object every time ( allocating memory ). so i was wondering &quot;new&quot; keyword cause  memory leak or not."},{"owner":{"account_id":12842085,"reputation":101,"user_id":9289813,"display_name":"Hassan Liasu"},"score":0,"creation_date":1649663811,"post_id":71824144,"comment_id":126923949,"body_markdown":"since it&#39;s created as singleton by default, it only recreate if its instance doesn&#39;t exist or has been garbage collected.","body":"since it&#39;s created as singleton by default, it only recreate if its instance doesn&#39;t exist or has been garbage collected."},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":1,"creation_date":1649663861,"post_id":71824144,"comment_id":126923968,"body_markdown":"Spring will call the requestInterceptor() method only once to create the bean, not for every request.","body":"Spring will call the requestInterceptor() method only once to create the bean, not for every request."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1649664182,"post_id":71824144,"comment_id":126924061,"body_markdown":"In Java, you don&#39;t get a memory leak from simply creating or returning an object.  No matter how often you do it.  The GC will deal with that.  Problems arise if something keeps a reference to the object so that it never becomes *unreachable*.   And even then, it is only a *problem*  if the number or size of the objects that are leaked is unbounded.","body":"In Java, you don&#39;t get a memory leak from simply creating or returning an object.  No matter how often you do it.  The GC will deal with that.  Problems arise if something keeps a reference to the object so that it never becomes <i>unreachable</i>.   And even then, it is only a <i>problem</i>  if the number or size of the objects that are leaked is unbounded."}],"owner":{"account_id":24898013,"reputation":1,"user_id":18769028,"display_name":"sylph"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649690801,"creation_date":1649662450,"question_id":71824144,"body_markdown":"I have java code like this.\r\n    \r\n    public class feignConfiguration {\r\n    \r\n        @Bean\r\n        public RequestInterceptor requestInterceptor() {\r\n            return new HeaderInterceptor();\r\n        }\r\n    }\r\n\r\n\r\nI know that Spring container holds all the beans and the scope of all the beans is &quot;singleton&quot; by default.\r\n\r\nBut the code looks like every time request intercepts, object creates.\r\n\r\nSo I should know whether it causes memory leak or something else.\r\n","title":"if @bean method return new Object, it cause memory leak?","body":"<p>I have java code like this.</p>\n<pre><code>public class feignConfiguration {\n\n    @Bean\n    public RequestInterceptor requestInterceptor() {\n        return new HeaderInterceptor();\n    }\n}\n</code></pre>\n<p>I know that Spring container holds all the beans and the scope of all the beans is &quot;singleton&quot; by default.</p>\n<p>But the code looks like every time request intercepts, object creates.</p>\n<p>So I should know whether it causes memory leak or something else.</p>\n"},{"tags":["java","spring","hibernate","persistence"],"answers":[{"tags":[],"owner":{"account_id":4153318,"reputation":19445,"user_id":3405171,"display_name":"v.ladynev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649690702,"creation_date":1649690702,"answer_id":71830408,"question_id":71829937,"body_markdown":"It is not Hibernate. You have `fetch=FetchType.LAZY` for `dettagliordine`. Hibernate doesn&#39;t have to fetch the lazy association with the parent.\r\n\r\nThe problem can be here\r\n```java\r\nresult = new OrdineDMO().unmarshall(res);\r\n```\r\n\r\nif the code inside `unmarshall()` method touches `dettagliordine` or invoke a method, that differs from get, set methods (like `toString()` method), Hibernate will fetch `dettagliordine` association.\r\n\r\nYou can enable Hibernate logging and debug the code. You will see when fetching actually happens. Also keep in mind, if you debug persistent classes, the debugger can cause invoking of `toString()` method and the association will be fetched too.\r\n\r\nBetter to move this line outside session/@Transactional block of code.  \r\n```java\r\nresult = new OrdineDMO().unmarshall(res);\r\n```\r\nYou will have `LazyInitializationExcepton`, with any unwanted access to lazy associations.","title":"Hibernate 5 and JPA: select table without his children but maintain persistence on save","body":"<p>It is not Hibernate. You have <code>fetch=FetchType.LAZY</code> for <code>dettagliordine</code>. Hibernate doesn't have to fetch the lazy association with the parent.</p>\n<p>The problem can be here</p>\n<pre class=\"lang-java prettyprint-override\"><code>result = new OrdineDMO().unmarshall(res);\n</code></pre>\n<p>if the code inside <code>unmarshall()</code> method touches <code>dettagliordine</code> or invoke a method, that differs from get, set methods (like <code>toString()</code> method), Hibernate will fetch <code>dettagliordine</code> association.</p>\n<p>You can enable Hibernate logging and debug the code. You will see when fetching actually happens. Also keep in mind, if you debug persistent classes, the debugger can cause invoking of <code>toString()</code> method and the association will be fetched too.</p>\n<p>Better to move this line outside session/@Transactional block of code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>result = new OrdineDMO().unmarshall(res);\n</code></pre>\n<p>You will have <code>LazyInitializationExcepton</code>, with any unwanted access to lazy associations.</p>\n"}],"owner":{"account_id":2263815,"reputation":99,"user_id":1993141,"accept_rate":50,"display_name":"smanulla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71830408,"answer_count":1,"score":1,"last_activity_date":1649690702,"creation_date":1649688719,"question_id":71829937,"body_markdown":"I have two models: Ordine and DettaglioOrdine. \r\nI would like that, when I save an object of type &quot;Ordine&quot;, hibernate also save his child &quot;DettaglioOrdine&quot; (and this works).\r\nBut, if I do a select query, the query is very very slow because hibernate retrieve also DettaglioOrdine. So, I would like the &quot;Ordine&quot; object without &quot;DettaglioOrdine&quot; object.\r\n\r\n&quot;Ordine&quot; model:\r\n\r\n    @Entity\r\n    @Table(name=&quot;ordini&quot;)\r\n    @NamedQuery(name=&quot;Ordine.findAll&quot;, query=&quot;SELECT o FROM Ordine o&quot;)\r\n    public class Ordine extends DataObject&lt;Integer&gt; {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \tprivate Integer id;\r\n    [...]\r\n    \tprivate List&lt;Dettagliordine&gt; dettagliordine;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n    \t@Column(unique=true, nullable=false)\r\n    \tpublic Integer getId() {\r\n    \t\treturn this.id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Integer id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \t//bi-directional many-to-one association to Dettagliordine\r\n    \t@Column(insertable = true, updatable = true)\r\n    \t@OneToMany(cascade=CascadeType.ALL, fetch=FetchType.LAZY, mappedBy=&quot;ordine&quot;)\r\n    \tpublic List&lt;Dettagliordine&gt; getDettagliordine() {\r\n    \t\treturn this.dettagliordine;\r\n    \t}\r\n    \r\n    \tpublic void setDettagliordine(List&lt;Dettagliordine&gt; dettagliordine) {\r\n    \t\tthis.dettagliordine = dettagliordine;\r\n    \t}\r\n    \r\n    \tpublic Dettagliordine addDettagliordine(Dettagliordine dettaglioordine) {\r\n    \t\tdettaglioordine.setOrdine(this);\r\n    \t\tthis.dettagliordine.add(dettaglioordine);\r\n    \r\n    \t\treturn dettaglioordine;\r\n    \t}\r\n    \r\n    \tpublic Dettagliordine removeDettagliordine(Dettagliordine dettagliordine) {\r\n    \t\tdettagliordine.setOrdine(null);\r\n    \t\tthis.dettagliordine.remove(dettagliordine);\r\n    \t\t\r\n    \t\treturn dettagliordine;\r\n    \t\r\n    \r\n        }\r\n    }\r\n\r\nDettaglioOrdine Model:\r\n\r\n    @Entity\r\n    @Table(name=&quot;dettagliordine&quot;)\r\n    @NamedQuery(name=&quot;Dettagliordine.findAll&quot;, query=&quot;SELECT d FROM Dettagliordine d&quot;)\r\n    public class Dettagliordine extends DataObject&lt;Integer&gt; {\r\n        private static final long serialVersionUID = 1L;\r\n        private Integer id;\r\n        \r\n            [...]\r\n            \r\n        public Dettagliordine() {\r\n        }\r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        @Column(unique=true, nullable=false)\r\n        public Integer getId() {\r\n            return this.id;\r\n        }\r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        [...]\r\n        \r\n        //bi-directional many-to-one association to Ordini\r\n        @ManyToOne(fetch=FetchType.LAZY)\r\n        @JoinColumn(name=&quot;idOrdine&quot;, nullable=false)\r\n        public Ordine getOrdine() {\r\n            return this.ordine;\r\n        }\r\n        public void setOrdine(Ordine ordine) {\r\n            this.ordine = ordine;\r\n        }\r\n    }\r\n\r\nAnd this is my query:\r\n\r\n    SessionFactory sessionFactory = getSessionFactory();\r\n    \t\tSession session = sessionFactory.getCurrentSession();\r\n    \t\tList&lt;OrdineDTO&gt; result = null;\r\n    \t\ttry{\r\n    \t\t\tString hql = &quot;select d.ordine from Dettagliordine d &quot;\r\n    \t\t\t\t\t+ &quot;group by d.ordine.id&quot;;\r\n    \t\t\tQuery&lt;Ordine&gt; query = session.createQuery(hql,Ordine.class);\r\n    \t\t\tList&lt;Ordine&gt; res = query.getResultList();\r\n    \t\t\tresult = new OrdineDMO().unmarshall(res);\r\n    \t\t}catch (DMOException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}","title":"Hibernate 5 and JPA: select table without his children but maintain persistence on save","body":"<p>I have two models: Ordine and DettaglioOrdine.\nI would like that, when I save an object of type &quot;Ordine&quot;, hibernate also save his child &quot;DettaglioOrdine&quot; (and this works).\nBut, if I do a select query, the query is very very slow because hibernate retrieve also DettaglioOrdine. So, I would like the &quot;Ordine&quot; object without &quot;DettaglioOrdine&quot; object.</p>\n<p>&quot;Ordine&quot; model:</p>\n<pre><code>@Entity\n@Table(name=&quot;ordini&quot;)\n@NamedQuery(name=&quot;Ordine.findAll&quot;, query=&quot;SELECT o FROM Ordine o&quot;)\npublic class Ordine extends DataObject&lt;Integer&gt; {\n    private static final long serialVersionUID = 1L;\n    private Integer id;\n[...]\n    private List&lt;Dettagliordine&gt; dettagliordine;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(unique=true, nullable=false)\n    public Integer getId() {\n        return this.id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    //bi-directional many-to-one association to Dettagliordine\n    @Column(insertable = true, updatable = true)\n    @OneToMany(cascade=CascadeType.ALL, fetch=FetchType.LAZY, mappedBy=&quot;ordine&quot;)\n    public List&lt;Dettagliordine&gt; getDettagliordine() {\n        return this.dettagliordine;\n    }\n\n    public void setDettagliordine(List&lt;Dettagliordine&gt; dettagliordine) {\n        this.dettagliordine = dettagliordine;\n    }\n\n    public Dettagliordine addDettagliordine(Dettagliordine dettaglioordine) {\n        dettaglioordine.setOrdine(this);\n        this.dettagliordine.add(dettaglioordine);\n\n        return dettaglioordine;\n    }\n\n    public Dettagliordine removeDettagliordine(Dettagliordine dettagliordine) {\n        dettagliordine.setOrdine(null);\n        this.dettagliordine.remove(dettagliordine);\n        \n        return dettagliordine;\n    \n\n    }\n}\n</code></pre>\n<p>DettaglioOrdine Model:</p>\n<pre><code>@Entity\n@Table(name=&quot;dettagliordine&quot;)\n@NamedQuery(name=&quot;Dettagliordine.findAll&quot;, query=&quot;SELECT d FROM Dettagliordine d&quot;)\npublic class Dettagliordine extends DataObject&lt;Integer&gt; {\n    private static final long serialVersionUID = 1L;\n    private Integer id;\n    \n        [...]\n        \n    public Dettagliordine() {\n    }\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(unique=true, nullable=false)\n    public Integer getId() {\n        return this.id;\n    }\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    [...]\n    \n    //bi-directional many-to-one association to Ordini\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;idOrdine&quot;, nullable=false)\n    public Ordine getOrdine() {\n        return this.ordine;\n    }\n    public void setOrdine(Ordine ordine) {\n        this.ordine = ordine;\n    }\n}\n</code></pre>\n<p>And this is my query:</p>\n<pre><code>SessionFactory sessionFactory = getSessionFactory();\n        Session session = sessionFactory.getCurrentSession();\n        List&lt;OrdineDTO&gt; result = null;\n        try{\n            String hql = &quot;select d.ordine from Dettagliordine d &quot;\n                    + &quot;group by d.ordine.id&quot;;\n            Query&lt;Ordine&gt; query = session.createQuery(hql,Ordine.class);\n            List&lt;Ordine&gt; res = query.getResultList();\n            result = new OrdineDMO().unmarshall(res);\n        }catch (DMOException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":1597231,"reputation":837,"user_id":1479019,"accept_rate":28,"display_name":"chucknor"},"score":0,"creation_date":1649683574,"post_id":71789554,"comment_id":126931446,"body_markdown":"I am wondering if I could use the preceding-sibling attribute to get count of pre-ceding siblings and use this as the index. But not sure how I can assign this to a variable.","body":"I am wondering if I could use the preceding-sibling attribute to get count of pre-ceding siblings and use this as the index. But not sure how I can assign this to a variable."}],"answers":[{"tags":[],"owner":{"account_id":24871395,"reputation":11,"user_id":18745859,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649414793,"creation_date":1649414793,"answer_id":71795669,"question_id":71789554,"body_markdown":"For your second question, use equals() instead of ==, then you should get inside the if statement.","title":"Customer Selenium webdriver java method for validating table search results","body":"<p>For your second question, use equals() instead of ==, then you should get inside the if statement.</p>\n"},{"tags":[],"owner":{"account_id":1597231,"reputation":837,"user_id":1479019,"accept_rate":28,"display_name":"chucknor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649690351,"creation_date":1649690351,"answer_id":71830341,"question_id":71789554,"body_markdown":"I was able to come up with the below method, which seems to work, although perhaps won&#39;t work for every table I try to use it with ..\r\n\r\n    public void validateTableData2(WebElement table,String columnName, String expectedSearchResult){\r\n        List&lt;WebElement&gt; tableRows = table.findElements(By.xpath(&quot;.//tr&quot;));\r\n        System.out.println(&quot;Col name is &quot; +columnName);\r\n        int searchedColIndex = table.findElements(By.xpath(&quot;//thead/tr/th/a[text()=&#39;&quot;+columnName+&quot;&#39;]/../preceding-sibling::th&quot;)).size()+1;\r\n        List&lt;String&gt; returnedVals = new ArrayList&lt;String&gt;();\r\n    \r\n        for (int i = 1; i &lt; tableRows.size(); i++) {\r\n            String returnedVal = table.findElement(By.xpath(&quot;./tbody/tr[&quot;+i+&quot;]/td[&quot;+searchedColIndex+&quot;]&quot;)).getText();\r\n            System.out.println(&quot;Returned val is &quot;+returnedVal);\r\n            returnedVals.add(returnedVal);\r\n        }\r\n        Assert.assertTrue(returnedVals.contains(expectedSearchResult));\r\n    }","title":"Customer Selenium webdriver java method for validating table search results","body":"<p>I was able to come up with the below method, which seems to work, although perhaps won't work for every table I try to use it with ..</p>\n<pre><code>public void validateTableData2(WebElement table,String columnName, String expectedSearchResult){\n    List&lt;WebElement&gt; tableRows = table.findElements(By.xpath(&quot;.//tr&quot;));\n    System.out.println(&quot;Col name is &quot; +columnName);\n    int searchedColIndex = table.findElements(By.xpath(&quot;//thead/tr/th/a[text()='&quot;+columnName+&quot;']/../preceding-sibling::th&quot;)).size()+1;\n    List&lt;String&gt; returnedVals = new ArrayList&lt;String&gt;();\n\n    for (int i = 1; i &lt; tableRows.size(); i++) {\n        String returnedVal = table.findElement(By.xpath(&quot;./tbody/tr[&quot;+i+&quot;]/td[&quot;+searchedColIndex+&quot;]&quot;)).getText();\n        System.out.println(&quot;Returned val is &quot;+returnedVal);\n        returnedVals.add(returnedVal);\n    }\n    Assert.assertTrue(returnedVals.contains(expectedSearchResult));\n}\n</code></pre>\n"}],"owner":{"account_id":1597231,"reputation":837,"user_id":1479019,"accept_rate":28,"display_name":"chucknor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":653,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71830341,"answer_count":2,"score":0,"last_activity_date":1649690351,"creation_date":1649369898,"question_id":71789554,"body_markdown":"I am wanting to create a custom method in a Base page object that will allow me to validate the results returned in a dynamic table after searching.\r\n\r\nI have the below method ..\r\n\r\nIt takes as arguments the WebElement table, a column name that I want to validate against and and expected value that I expect to be returned by a row of that column.\r\n\r\nI am trying to find the column index of the column with name that I pass in as columnName and assign it to a variable called searchedColIndex then use this to get all values returned under that column and then validate whether the expected result was in the list.\r\n\r\nHowever I am not sure how to get the index of the column.\r\n\r\nAlso I never seem to get inside the if statement, even though when I print both column.getText() and columnName to console the values are correct and should match for one of columns, but that if statement is never evaluated as true.\r\n\r\n    public void validateTableData2(WebElement table,String columnName, String expectedSearchResult){\r\n        List&lt;WebElement&gt; tableRows = table.findElements(By.xpath(&quot;.//tr&quot;));\r\n        List&lt;WebElement&gt; tableColumns = table.findElements(By.tagName(&quot;th&quot;));\r\n        int searchedColIndex = 1;\r\n        for (WebElement column : tableColumns) {\r\n            if(column.getText().trim() == columnName.trim()){\r\n                System.out.println(&quot;We don&#39;t get in this if statement&quot;);\r\n                System.out.println(&quot;The values in column headers are available as if I print column.getText() then it does return correct column headings&quot;);\r\n                //Not sure how I can assign the index of the column I am interested in\r\n                //column.getText() does \r\n            }\r\n        }\r\n        List&lt;String&gt; returnedVals = new ArrayList&lt;String&gt;();\r\n    \r\n        for (int i = 1; i &lt; tableRows.size(); i++) {\r\n            String returnedVal = table.findElement(By.xpath(&quot;./tbody/tr[&quot;+i+&quot;]/td[&quot;+searchedColIndex+&quot;]&quot;)).getText();\r\n            returnedVals.add(returnedVal);\r\n        }\r\n        Assert.assertTrue(returnedVals.contains(expectedSearchResult));\r\n    }\r\n\r\nAny help would be much appreciated. ","title":"Customer Selenium webdriver java method for validating table search results","body":"<p>I am wanting to create a custom method in a Base page object that will allow me to validate the results returned in a dynamic table after searching.</p>\n<p>I have the below method ..</p>\n<p>It takes as arguments the WebElement table, a column name that I want to validate against and and expected value that I expect to be returned by a row of that column.</p>\n<p>I am trying to find the column index of the column with name that I pass in as columnName and assign it to a variable called searchedColIndex then use this to get all values returned under that column and then validate whether the expected result was in the list.</p>\n<p>However I am not sure how to get the index of the column.</p>\n<p>Also I never seem to get inside the if statement, even though when I print both column.getText() and columnName to console the values are correct and should match for one of columns, but that if statement is never evaluated as true.</p>\n<pre><code>public void validateTableData2(WebElement table,String columnName, String expectedSearchResult){\n    List&lt;WebElement&gt; tableRows = table.findElements(By.xpath(&quot;.//tr&quot;));\n    List&lt;WebElement&gt; tableColumns = table.findElements(By.tagName(&quot;th&quot;));\n    int searchedColIndex = 1;\n    for (WebElement column : tableColumns) {\n        if(column.getText().trim() == columnName.trim()){\n            System.out.println(&quot;We don't get in this if statement&quot;);\n            System.out.println(&quot;The values in column headers are available as if I print column.getText() then it does return correct column headings&quot;);\n            //Not sure how I can assign the index of the column I am interested in\n            //column.getText() does \n        }\n    }\n    List&lt;String&gt; returnedVals = new ArrayList&lt;String&gt;();\n\n    for (int i = 1; i &lt; tableRows.size(); i++) {\n        String returnedVal = table.findElement(By.xpath(&quot;./tbody/tr[&quot;+i+&quot;]/td[&quot;+searchedColIndex+&quot;]&quot;)).getText();\n        returnedVals.add(returnedVal);\n    }\n    Assert.assertTrue(returnedVals.contains(expectedSearchResult));\n}\n</code></pre>\n<p>Any help would be much appreciated.</p>\n"},{"tags":["java","json","httprequest","httpresponse","rest-assured"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":1,"creation_date":1649676630,"post_id":71826809,"comment_id":126928561,"body_markdown":"You can use `HttpClient`  if its possible within your application.  With HttpClient you can set http timeout , set number of http connections via connection pooling.","body":"You can use <code>HttpClient</code>  if its possible within your application.  With HttpClient you can set http timeout , set number of http connections via connection pooling."}],"owner":{"account_id":24859659,"reputation":19,"user_id":18735590,"display_name":"Pavithra Sudhakaran"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649690293,"creation_date":1649675583,"question_id":71826809,"body_markdown":"I am using below code for passing JSON request to an API service.\r\nIt is working fine and getting request and response properly. Due to some server issues or network connection error , some times the opened connection is not closing automatically. \r\nIs it possible to close the connection once the response created to avoid connection leakage. please advice.\r\n\r\n**source code:**\r\n\r\n    io.restassured.response.Response \r\n        response\r\n          = given()\r\n              .auth()\r\n                .none()\r\n                  .header(&quot;Content-Type&quot;,&quot;application/json&quot;)\r\n        \t\t    .contentType(ContentType.JSON)\r\n        \t\t\t  .when()\r\n                        .body(requestJson)\r\n                          .post(Endpoint);\r\n\r\nThanks in Advance.","title":"Is It possible to close the rest assured connection once the response generated using java","body":"<p>I am using below code for passing JSON request to an API service.\nIt is working fine and getting request and response properly. Due to some server issues or network connection error , some times the opened connection is not closing automatically.\nIs it possible to close the connection once the response created to avoid connection leakage. please advice.</p>\n<p><strong>source code:</strong></p>\n<pre><code>io.restassured.response.Response \n    response\n      = given()\n          .auth()\n            .none()\n              .header(&quot;Content-Type&quot;,&quot;application/json&quot;)\n                .contentType(ContentType.JSON)\n                  .when()\n                    .body(requestJson)\n                      .post(Endpoint);\n</code></pre>\n<p>Thanks in Advance.</p>\n"},{"tags":["java","data-structures","linked-list","insert","sortedlist"],"comments":[{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1649186530,"post_id":71757291,"comment_id":126811091,"body_markdown":"You can use `Comparator` to compare your node&#39;s data","body":"You can use <code>Comparator</code> to compare your node&#39;s data"},{"owner":{"account_id":21180675,"reputation":23,"user_id":15575136,"display_name":"Lutfi"},"score":0,"creation_date":1649186850,"post_id":71757291,"comment_id":126811185,"body_markdown":"Do you mean implementing Comparator to my node&#39;s class","body":"Do you mean implementing Comparator to my node&#39;s class"},{"owner":{"account_id":5916600,"reputation":2324,"user_id":4655217,"display_name":"geobreze"},"score":0,"creation_date":1649187174,"post_id":71757291,"comment_id":126811297,"body_markdown":"Not actually, `Node`. You can implement it for your `T` class which is class of the data","body":"Not actually, <code>Node</code>. You can implement it for your <code>T</code> class which is class of the data"}],"answers":[{"tags":[],"owner":{"account_id":21037987,"reputation":1,"user_id":15460991,"display_name":"mfawaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649690277,"creation_date":1649689914,"answer_id":71830243,"question_id":71757291,"body_markdown":"Your `Node` class needs to properly implement the [`Comparable`][1] interface. Your `compareTo()` method inside of the Node class should then look something like this:\r\n\r\n    public int compareTo(Node other) {\r\n        return this.data - other.data;\r\n    }\r\n\r\nOr otherwise be defined such that if `this.data` comes before `other.data` in the intended ordering then the function returns a negative value.\r\n\r\n\r\nEdit: `compareTo()` is from the **Comparable** interface, **not the [`Comparator`][2] interface** which uses `compare()`\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"How to insert a sorted node into a generic Linked list using java","body":"<p>Your <code>Node</code> class needs to properly implement the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a> interface. Your <code>compareTo()</code> method inside of the Node class should then look something like this:</p>\n<pre><code>public int compareTo(Node other) {\n    return this.data - other.data;\n}\n</code></pre>\n<p>Or otherwise be defined such that if <code>this.data</code> comes before <code>other.data</code> in the intended ordering then the function returns a negative value.</p>\n<p>Edit: <code>compareTo()</code> is from the <strong>Comparable</strong> interface, <strong>not the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\"><code>Comparator</code></a> interface</strong> which uses <code>compare()</code></p>\n"}],"owner":{"account_id":21180675,"reputation":23,"user_id":15575136,"display_name":"Lutfi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649690277,"creation_date":1649186323,"question_id":71757291,"body_markdown":"I have encountered a problem while comparing the generic type data in which the compare to method isn&#39;t declared for comparing for example I used this to find the current and previous nodes in which the new node will be inserted between before or after them\r\n\r\n```\r\nfor(prev =null,current = head; current !=null&amp;&amp; newNode.getData().compareTo(current.getData)&lt;0;prev =current,current =current.getNext());\r\n```\r\n\r\nAnd I tried implementing comparable inside the Node class but I couldn&#39;t figure out a way to make it work since it doesn&#39;t define the greater than and less than operations.\r\n\\`public class LinkedLists1\\&lt;T\\&gt; {\r\nNode\\&lt;T\\&gt; head;\r\n\r\n    public LinkedLists1() {\r\n    \tthis.head = null;\r\n    }\r\n    \r\n    public LinkedLists1(T data) {\r\n    \tNode&lt;T&gt; temp = new Node&lt;T&gt;(data);\r\n    \thead = temp;\r\n    }\r\n    \r\n    public void insert(T data) {\r\n    \tNode&lt;T&gt; newNode = new Node&lt;T&gt;(data);\r\n    \tif (head == null) {\r\n    \t\thead = newNode;\r\n    \t} else {\r\n    \t\tNode&lt;T&gt; prev = null;\r\n    \t\tNode&lt;T&gt; current = new Node&lt;T&gt;(head.getData());\r\n    \t\timplement this for loop\r\n    \t\tfor (prev = null, current = head; current != null\r\n    \t\t\t\t&amp;&amp; newNode.compareTo(current) &lt; 0; prev = current, current = current.getNext());\r\n    \t\tif (current != null) {\r\n    \t\t\tif (head == current) {\r\n    \t\t\t\tnewNode.setNext(head);\r\n    \t\t\t\thead = newNode;\r\n    \t\t\t} else if (current.getNext() == null) {\r\n    \t\t\t\tcurrent.setNext(newNode);\r\n    \t\t\t} else {\r\n    \t\t\t\tnewNode.setNext(current.getNext());\r\n    \t\t\t\tcurrent.setNext(newNode);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n}\\`\r\n\r\nSo I tried using the compare to method but as I said it&#39;s not defined or that&#39;s what I got.","title":"How to insert a sorted node into a generic Linked list using java","body":"<p>I have encountered a problem while comparing the generic type data in which the compare to method isn't declared for comparing for example I used this to find the current and previous nodes in which the new node will be inserted between before or after them</p>\n<pre><code>for(prev =null,current = head; current !=null&amp;&amp; newNode.getData().compareTo(current.getData)&lt;0;prev =current,current =current.getNext());\n</code></pre>\n<p>And I tried implementing comparable inside the Node class but I couldn't figure out a way to make it work since it doesn't define the greater than and less than operations.\n`public class LinkedLists1&lt;T&gt; {\nNode&lt;T&gt; head;</p>\n<pre><code>public LinkedLists1() {\n    this.head = null;\n}\n\npublic LinkedLists1(T data) {\n    Node&lt;T&gt; temp = new Node&lt;T&gt;(data);\n    head = temp;\n}\n\npublic void insert(T data) {\n    Node&lt;T&gt; newNode = new Node&lt;T&gt;(data);\n    if (head == null) {\n        head = newNode;\n    } else {\n        Node&lt;T&gt; prev = null;\n        Node&lt;T&gt; current = new Node&lt;T&gt;(head.getData());\n        implement this for loop\n        for (prev = null, current = head; current != null\n                &amp;&amp; newNode.compareTo(current) &lt; 0; prev = current, current = current.getNext());\n        if (current != null) {\n            if (head == current) {\n                newNode.setNext(head);\n                head = newNode;\n            } else if (current.getNext() == null) {\n                current.setNext(newNode);\n            } else {\n                newNode.setNext(current.getNext());\n                current.setNext(newNode);\n            }\n        }\n    }\n}\n</code></pre>\n<p>}`</p>\n<p>So I tried using the compare to method but as I said it's not defined or that's what I got.</p>\n"},{"tags":["java","user-input","irc","control-flow"],"answers":[{"tags":[],"owner":{"account_id":256855,"reputation":1942,"user_id":537846,"accept_rate":47,"display_name":"vinga"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1296627483,"creation_date":1296625937,"answer_id":4871225,"question_id":4871188,"body_markdown":"A good way to ommit if-else is to use switch-case ;)\r\n\r\nYou could use map with the command strings as a keys and a command object for the action. This is called the [Command Pattern][1].\r\n\r\n    Map&lt;String,Action&gt; m=new Map&lt;String,Action&gt;();\r\n    m.put(&quot;NICK&quot;, new Action() { public void execute() {... } });\r\n    m.put(&quot;PASS&quot;, new Action() { public void execute() {... } });\r\n\r\nand then:\r\n\r\n     m.get(command_from_irc).execute();\r\n\r\nAnother approach is to use reflection.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Command_pattern","title":"Determining methods to call from user input in Java","body":"<p>A good way to ommit if-else is to use switch-case ;)</p>\n\n<p>You could use map with the command strings as a keys and a command object for the action. This is called the <a href=\"http://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow\">Command Pattern</a>.</p>\n\n<pre><code>Map&lt;String,Action&gt; m=new Map&lt;String,Action&gt;();\nm.put(\"NICK\", new Action() { public void execute() {... } });\nm.put(\"PASS\", new Action() { public void execute() {... } });\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code> m.get(command_from_irc).execute();\n</code></pre>\n\n<p>Another approach is to use reflection.</p>\n"}],"owner":{"account_id":703218,"reputation":11,"user_id":599511,"display_name":"Spud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649690033,"creation_date":1296625619,"question_id":4871188,"body_markdown":"So I&#39;m coding a simple IRC client in Java. As of now, I&#39;m trying to determine what commands the user is typing in. I know I can use a bunch of if-else statements, but that&#39;s not very good practice. I thought of using a switch, but I&#39;m trying to find an alternative to that.\r\n\r\nFor example: I have some commands, PASS, NICK, USER, JOIN, PART, MODE\r\n\r\nand some example input from the user: NICK John\r\n\r\nI can retrieve the input, but I want a clean, efficient way to be able to tell the program to call the method_nick(John), which would then send that to the server. \r\n\r\nJust a point in the right direction would be appreciated. I&#39;m just at a loss as to how to handle this without a switch/if-elses.","title":"Determining methods to call from user input in Java","body":"<p>So I'm coding a simple IRC client in Java. As of now, I'm trying to determine what commands the user is typing in. I know I can use a bunch of if-else statements, but that's not very good practice. I thought of using a switch, but I'm trying to find an alternative to that.</p>\n\n<p>For example: I have some commands, PASS, NICK, USER, JOIN, PART, MODE</p>\n\n<p>and some example input from the user: NICK John</p>\n\n<p>I can retrieve the input, but I want a clean, efficient way to be able to tell the program to call the method_nick(John), which would then send that to the server. </p>\n\n<p>Just a point in the right direction would be appreciated. I'm just at a loss as to how to handle this without a switch/if-elses.</p>\n"},{"tags":["java","cobol","visualize"],"comments":[{"owner":{"account_id":1610686,"reputation":766,"user_id":1489700,"display_name":"Mitch Connor"},"score":1,"creation_date":1342725626,"post_id":11567697,"comment_id":15302782,"body_markdown":"Why is this tagged Java? You could port it to python and use something like Light Table to get the output as you write it. If nothing else, for all intents and purposes, the IF ELSE logic works the same in any language so you can interpret it as-is.","body":"Why is this tagged Java? You could port it to python and use something like Light Table to get the output as you write it. If nothing else, for all intents and purposes, the IF ELSE logic works the same in any language so you can interpret it as-is."},{"owner":{"account_id":267053,"reputation":29694,"user_id":554988,"accept_rate":86,"display_name":"Garrett Hall"},"score":0,"creation_date":1342727066,"post_id":11567697,"comment_id":15303355,"body_markdown":"Can you post the code please?  Are you porting this to Java?","body":"Can you post the code please?  Are you porting this to Java?"},{"owner":{"account_id":534975,"reputation":5561,"user_id":904692,"accept_rate":83,"display_name":"ioreskovic"},"score":0,"creation_date":1342730894,"post_id":11567697,"comment_id":15304982,"body_markdown":"@TylerHeiks: I don&#39;t think he wants to translate COBOL If-Else statemens to Java If-Else statements, but use modern OOP design to rewrite the application (he needs to know things about the domain in order to do so)","body":"@TylerHeiks: I don&#39;t think he wants to translate COBOL If-Else statemens to Java If-Else statements, but use modern OOP design to rewrite the application (he needs to know things about the domain in order to do so)"}],"answers":[{"tags":[],"owner":{"account_id":534975,"reputation":5561,"user_id":904692,"accept_rate":83,"display_name":"ioreskovic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1342730549,"creation_date":1342730549,"answer_id":11568969,"question_id":11567697,"body_markdown":"I found this using our beloved Google:  \r\n  \r\nhttp://www.aivosto.com/visustin.html  \r\nhttp://www.aivosto.com/visustin/help/cobol.html  \r\nhttp://www.usflowchart.com/  \r\n\r\nAlso, I suggest you search StackOverflow before asking questions:  \r\nhttps://stackoverflow.com/questions/3597331/migrate-cobol-code","title":"Program to visualize logic flow","body":"<p>I found this using our beloved Google:  </p>\n\n<p><a href=\"http://www.aivosto.com/visustin.html\" rel=\"nofollow noreferrer\">http://www.aivosto.com/visustin.html</a><br>\n<a href=\"http://www.aivosto.com/visustin/help/cobol.html\" rel=\"nofollow noreferrer\">http://www.aivosto.com/visustin/help/cobol.html</a><br>\n<a href=\"http://www.usflowchart.com/\" rel=\"nofollow noreferrer\">http://www.usflowchart.com/</a>  </p>\n\n<p>Also, I suggest you search StackOverflow before asking questions:<br>\n<a href=\"https://stackoverflow.com/questions/3597331/migrate-cobol-code\">migrate COBOL code</a></p>\n"},{"tags":[],"owner":{"account_id":138967,"reputation":4238,"user_id":344249,"accept_rate":71,"display_name":"Joe Zitzelberger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346336206,"creation_date":1346336206,"answer_id":12198956,"question_id":11567697,"body_markdown":"IBM&#39;s Rational Developer for z/OS has a number of helpful things for this -- it will format and indent your source files for easier human understanding; it will provide you with a tree-line outline view; there are some reporting and UML extensions available, though I&#39;ve never used them with Cobol and I don&#39;t know the level of support there.\r\n\r\nThere are a number of tools that will visualize Cobol code into flow charts or other representations.  Plugging &quot;visualize cobol&quot; into the google will give you a number of other options.\r\n\r\n","title":"Program to visualize logic flow","body":"<p>IBM's Rational Developer for z/OS has a number of helpful things for this -- it will format and indent your source files for easier human understanding; it will provide you with a tree-line outline view; there are some reporting and UML extensions available, though I've never used them with Cobol and I don't know the level of support there.</p>\n\n<p>There are a number of tools that will visualize Cobol code into flow charts or other representations.  Plugging \"visualize cobol\" into the google will give you a number of other options.</p>\n"}],"owner":{"display_name":"user1073616"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3417,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1649689369,"creation_date":1342725067,"question_id":11567697,"body_markdown":"I work in an enterprise system and we just received an old COBOL file full of business rules. It&#39;s a large collection of IF ELSE statements that assign a value to a variable. Is there a program where I can enter all these IF ELSE logic statements and see the overall flow at the end?\r\n\r\nThanks!","title":"Program to visualize logic flow","body":"<p>I work in an enterprise system and we just received an old COBOL file full of business rules. It's a large collection of IF ELSE statements that assign a value to a variable. Is there a program where I can enter all these IF ELSE logic statements and see the overall flow at the end?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","group-by"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1649689193,"post_id":71829871,"comment_id":126933738,"body_markdown":"A `Breweries` is an object that can refer to one ore more `Province`? Is there a reference to `Breweries` in a `Province`? a `Map` of what would you eventually like to get?","body":"A <code>Breweries</code> is an object that can refer to one ore more <code>Province</code>? Is there a reference to <code>Breweries</code> in a <code>Province</code>? a <code>Map</code> of what would you eventually like to get?"},{"owner":{"account_id":23010547,"reputation":55,"user_id":17133127,"display_name":"Marco Cor"},"score":0,"creation_date":1649690463,"post_id":71829871,"comment_id":126934231,"body_markdown":"@AlexeyR. my map should looks  like this Map&lt;String,String&gt; -where first string is Names and secound is Province. Now, I grouping Object of breweries by Name. Objects are reading from table -one row, one objects, one column- one object’s field - using openCsv reader.","body":"@AlexeyR. my map should looks  like this Map&lt;String,String&gt; -where first string is Names and secound is Province. Now, I grouping Object of breweries by Name. Objects are reading from table -one row, one objects, one column- one object’s field - using openCsv reader."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1649691385,"post_id":71829871,"comment_id":126934625,"body_markdown":"Can you give a sample input (csv) and the expected output?","body":"Can you give a sample input (csv) and the expected output?"}],"answers":[{"tags":[],"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649689236,"creation_date":1649689236,"answer_id":71830065,"question_id":71829871,"body_markdown":"Your example is not correct you have a `HashMap&lt;String, List&lt;Breweries&gt;&gt;` but you expect `hashMap.entrySet()` to return `Set&lt;Map.Entry&lt;String, List&lt;BreweriesPOJO&gt;&gt;`. It should be `Set&lt;Map.Entry&lt;String, List&lt;Breweries&gt;&gt;`. when you do `Map.Entry#getKey` it will return the key in your case the `String` return by `Breweries::getProvince`. If you want the list of the `Breweries` for the current entry use `Map.Entry#getValue`\r\n\r\n```java\r\nMap&lt;String, List&lt;Breweries&gt;&gt; hashMap = list.stream().collect(Collectors.groupingBy(Breweries::getProvince));\r\nfor (Map.Entry&lt;String, List&lt;Breweries&gt;&gt; stringListEntry : hashMap.entrySet()) {\r\n    List&lt;Breweries&gt; breweries = stringListEntry.getValue();\r\n}\r\n```\r\n\r\nBut if you just want the number of Breweries per province you can do this directly like:\r\n\r\n```java\r\nMap&lt;String, Long&gt; hashMap = list.stream().collect(Collectors.groupingBy(Breweries::getProvince, Collectors.counting()));\r\nfor (Map.Entry&lt;String, Long&gt; entry : hashMap.entrySet()){\r\n    System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue() + &quot; Breweries&quot;);\r\n}\r\n```","title":"Group By one attribute by another attribute of Object","body":"<p>Your example is not correct you have a <code>HashMap&lt;String, List&lt;Breweries&gt;&gt;</code> but you expect <code>hashMap.entrySet()</code> to return <code>Set&lt;Map.Entry&lt;String, List&lt;BreweriesPOJO&gt;&gt;</code>. It should be <code>Set&lt;Map.Entry&lt;String, List&lt;Breweries&gt;&gt;</code>. when you do <code>Map.Entry#getKey</code> it will return the key in your case the <code>String</code> return by <code>Breweries::getProvince</code>. If you want the list of the <code>Breweries</code> for the current entry use <code>Map.Entry#getValue</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;Breweries&gt;&gt; hashMap = list.stream().collect(Collectors.groupingBy(Breweries::getProvince));\nfor (Map.Entry&lt;String, List&lt;Breweries&gt;&gt; stringListEntry : hashMap.entrySet()) {\n    List&lt;Breweries&gt; breweries = stringListEntry.getValue();\n}\n</code></pre>\n<p>But if you just want the number of Breweries per province you can do this directly like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, Long&gt; hashMap = list.stream().collect(Collectors.groupingBy(Breweries::getProvince, Collectors.counting()));\nfor (Map.Entry&lt;String, Long&gt; entry : hashMap.entrySet()){\n    System.out.println(entry.getKey() + &quot;: &quot; + entry.getValue() + &quot; Breweries&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":23010547,"reputation":55,"user_id":17133127,"display_name":"Marco Cor"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649689236,"creation_date":1649688424,"question_id":71829871,"body_markdown":"can anyone help me. I have a list of Objects - in my case there are breweries.\r\nEach brewerie has some attributes(fields) like name, adress, id, province(the state where is situated) etc... One brewerie (name) can be situated in many provinces. Now i need solve the problem: how to take number of breweries in each state? So, grouping Names by Provinces.  All data is reading from csv file. I&#39;ve created the Reader which return List od Breweries.\r\nWhen i try this:\r\n\r\n    Map&lt;String, List&lt;Breweries&gt;&gt; hashMap = new HashMap&lt;&gt;();\r\n        hashMap = list.stream().collect(Collectors.groupingBy(Breweries::getProvince));\r\n        for (Map.Entry&lt;String, List&lt;BreweriesPOJO&gt;&gt; stringListEntry : hashMap.entrySet()) {\r\n            System.out.println(stringListEntry.getKey());\r\n        }\r\n\r\nthis returns me key(Province) and whole object as a value.\r\n\r\nI&#39;ve been sitting on it for a few hours. I&#39;m out of ideas.\r\n\r\n","title":"Group By one attribute by another attribute of Object","body":"<p>can anyone help me. I have a list of Objects - in my case there are breweries.\nEach brewerie has some attributes(fields) like name, adress, id, province(the state where is situated) etc... One brewerie (name) can be situated in many provinces. Now i need solve the problem: how to take number of breweries in each state? So, grouping Names by Provinces.  All data is reading from csv file. I've created the Reader which return List od Breweries.\nWhen i try this:</p>\n<pre><code>Map&lt;String, List&lt;Breweries&gt;&gt; hashMap = new HashMap&lt;&gt;();\n    hashMap = list.stream().collect(Collectors.groupingBy(Breweries::getProvince));\n    for (Map.Entry&lt;String, List&lt;BreweriesPOJO&gt;&gt; stringListEntry : hashMap.entrySet()) {\n        System.out.println(stringListEntry.getKey());\n    }\n</code></pre>\n<p>this returns me key(Province) and whole object as a value.</p>\n<p>I've been sitting on it for a few hours. I'm out of ideas.</p>\n"},{"tags":["java","apache-kafka","spring-integration","spring-integration-dsl"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1649505655,"post_id":71806313,"comment_id":126895757,"body_markdown":"Would you mind to share the whole stacktrace?","body":"Would you mind to share the whole stacktrace?"},{"owner":{"display_name":"user3132096"},"score":0,"creation_date":1649513646,"post_id":71806313,"comment_id":126897313,"body_markdown":"@ArtemBilan I have added stacktrace in question.","body":"@ArtemBilan I have added stacktrace in question."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1649520779,"post_id":71806313,"comment_id":126898950,"body_markdown":"This cannot be. The `KafkaMessageSource` is a `MessageSource` impl and together with those annotation it has to be all good to produce a result of the `KafkaMessageSource.receive()`. Any chances you can share with us a simple project to reproduce? Is it really expected by your logic that `com.kafka.response.service.MessageConsumerQueue.consume()` has to be called as a service activator on the `inputchannel`? Don&#39;t you have anything else in your configuration?","body":"This cannot be. The <code>KafkaMessageSource</code> is a <code>MessageSource</code> impl and together with those annotation it has to be all good to produce a result of the <code>KafkaMessageSource.receive()</code>. Any chances you can share with us a simple project to reproduce? Is it really expected by your logic that <code>com.kafka.response.service.MessageConsumerQueue.consume()</code> has to be called as a service activator on the <code>inputchannel</code>? Don&#39;t you have anything else in your configuration?"},{"owner":{"display_name":"user3132096"},"score":0,"creation_date":1649525823,"post_id":71806313,"comment_id":126900073,"body_markdown":"I dont have any other configuration apart from this. @ArtemBilan If this should work then when i put sysout  for kafkamessagesource then it print object of type KafkaMessageSource and not of type CreateResponse.class.","body":"I dont have any other configuration apart from this. @ArtemBilan If this should work then when i put sysout  for kafkamessagesource then it print object of type KafkaMessageSource and not of type CreateResponse.class."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1649526108,"post_id":71806313,"comment_id":126900134,"body_markdown":"Yeah… that’s why I’m asking for a project to reproduce and play with . Otherwise I’ll try something on Monday .","body":"Yeah… that’s why I’m asking for a project to reproduce and play with . Otherwise I’ll try something on Monday ."},{"owner":{"display_name":"user3132096"},"score":0,"creation_date":1649529866,"post_id":71806313,"comment_id":126900898,"body_markdown":"@ArtemBilan I would have given you full code but this code is for organization where i am working.. Please let me know any error if you try this on Monday.","body":"@ArtemBilan I would have given you full code but this code is for organization where i am working.. Please let me know any error if you try this on Monday."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1649555840,"post_id":71806313,"comment_id":126904658,"body_markdown":"I only think about this kind of error only if you don’t have a `@Bean` alongside with the `@InboundChannelAdapter` for the `KafkaMessageSource`, but you show it in your question… so, I’m confused so far and will come back to you on Monday when I code a simple sample for you","body":"I only think about this kind of error only if you don’t have a <code>@Bean</code> alongside with the <code>@InboundChannelAdapter</code> for the <code>KafkaMessageSource</code>, but you show it in your question… so, I’m confused so far and will come back to you on Monday when I code a simple sample for you"},{"owner":{"display_name":"user3132096"},"score":0,"creation_date":1649583963,"post_id":71806313,"comment_id":126908256,"body_markdown":"Yes it will be helpful for me if this issues gets fix.@ArtemBilan","body":"Yes it will be helpful for me if this issues gets fix.@ArtemBilan"}],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649688990,"creation_date":1649688990,"answer_id":71830004,"question_id":71806313,"body_markdown":"Here is a simple Spring Boot app which demonstrates that intention of the mentioned configuration is correct:\r\n\r\n    @SpringBootApplication\r\n    public class So71806313Application {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(So71806313Application.class, args);\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tRecordMessageConverter messageConverter(){\r\n    \t\treturn new StringJsonMessageConverter();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@InboundChannelAdapter(channel = &quot;inputChannel&quot;, poller=@Poller(fixedDelay = &quot;5000&quot;))\r\n    \tpublic KafkaMessageSource&lt;String, String&gt; consumeMsg(ConsumerFactory&lt;String, String&gt; consumerFactory,\r\n    \t\t\tRecordMessageConverter messageConverter) {\r\n    \r\n    \t\tKafkaMessageSource&lt;String, String&gt; kafkaMessageSource = new KafkaMessageSource&lt;&gt;(consumerFactory,\r\n    \t\t\t\tnew ConsumerProperties(&quot;Kafka_Topic&quot;));\r\n    \t\tkafkaMessageSource.getConsumerProperties().setGroupId(&quot;group_id&quot;);\r\n    \t\tkafkaMessageSource.getConsumerProperties().setClientId(&quot;clientid&quot;);\r\n    \t\tkafkaMessageSource.setMessageConverter(messageConverter);\r\n    \t\tkafkaMessageSource.setPayloadType(CreateResponse.class);\r\n    \t\treturn kafkaMessageSource;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tQueueChannel inputChannel() {\r\n    \t\treturn new QueueChannel();\r\n    \t}\r\n    \r\n    }\r\n\r\nI&#39;m not sure what is your `CreateResponse`, so I have it as simple as this:\r\n\r\n    public class CreateResponse {\r\n    \r\n    \tprivate String name;\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    }\r\n\r\nThen I have a integration test to verify it against an embedded Kafka:\r\n\r\n    @SpringBootTest\r\n    @DirtiesContext\r\n    @EmbeddedKafka(bootstrapServersProperty = &quot;spring.kafka.bootstrap-servers&quot;, topics = &quot;Kafka_Topic&quot;)\r\n    class So71806313ApplicationTests {\r\n    \r\n    \t@Autowired\r\n    \tQueueChannel inputChannel;\r\n    \r\n    \t@Autowired\r\n    \tKafkaTemplate&lt;String, String&gt; kafkaTemplate;\r\n    \r\n    \t@Test\r\n    \tvoid contextLoads() {\r\n    \t\tthis.kafkaTemplate.send(&quot;Kafka_Topic&quot;, &quot;{\\&quot;name\\&quot; : \\&quot;foo\\&quot;}&quot;);\r\n    \r\n    \t\tMessage&lt;?&gt; receive = this.inputChannel.receive(10_000);\r\n    \t\tassertThat(receive).isNotNull();\r\n    \t\tassertThat(receive.getPayload())\r\n    \t\t\t\t.isInstanceOf(CreateResponse.class)\r\n    \t\t\t\t.extracting(&quot;name&quot;)\r\n    \t\t\t\t.isEqualTo(&quot;foo&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\nIf I change that `consumeMsg()` to this (pay attention to the commented `@Bean`):\r\n\r\n\r\n\t@Autowired\r\n\tConsumerFactory&lt;String, String&gt; consumerFactory;\r\n\r\n//\t@Bean\r\n\t@InboundChannelAdapter(channel = &quot;inputChannel&quot;, poller=@Poller(fixedDelay = &quot;5000&quot;))\r\n\tpublic KafkaMessageSource consumeMsg() {\r\n\r\n\t\tKafkaMessageSource kafkaMessageSource = new KafkaMessageSource(consumerFactory,\r\n\t\t\t\tnew ConsumerProperties(&quot;Kafka_Topic&quot;));\r\n\t\tkafkaMessageSource.getConsumerProperties().setGroupId(&quot;group_id&quot;);\r\n\t\tkafkaMessageSource.getConsumerProperties().setClientId(&quot;clientid&quot;);\r\n\t\tkafkaMessageSource.setMessageConverter(new StringJsonMessageConverter());\r\n\t\tkafkaMessageSource.setPayloadType(CreateResponse.class);\r\n\t\treturn kafkaMessageSource;\r\n\t}\r\n\r\nThen it indeed fails with the:\r\n\r\n    java.lang.AssertionError: \r\n    Expecting actual:\r\n      org.springframework.integration.kafka.inbound.KafkaMessageSource@305289b3\r\n    to be an instance of:\r\n      org.springframework.integration.stackoverflow.so71806313.CreateResponse\r\n    but was instance of:\r\n      org.springframework.integration.kafka.inbound.KafkaMessageSource\r\n\r\nSo, please, revise the configuration on your side.","title":"Spring Integration with Kafka throwing ClassCastException","body":"<p>Here is a simple Spring Boot app which demonstrates that intention of the mentioned configuration is correct:</p>\n<pre><code>@SpringBootApplication\npublic class So71806313Application {\n\n    public static void main(String[] args) {\n        SpringApplication.run(So71806313Application.class, args);\n    }\n\n    @Bean\n    RecordMessageConverter messageConverter(){\n        return new StringJsonMessageConverter();\n    }\n\n    @Bean\n    @InboundChannelAdapter(channel = &quot;inputChannel&quot;, poller=@Poller(fixedDelay = &quot;5000&quot;))\n    public KafkaMessageSource&lt;String, String&gt; consumeMsg(ConsumerFactory&lt;String, String&gt; consumerFactory,\n            RecordMessageConverter messageConverter) {\n\n        KafkaMessageSource&lt;String, String&gt; kafkaMessageSource = new KafkaMessageSource&lt;&gt;(consumerFactory,\n                new ConsumerProperties(&quot;Kafka_Topic&quot;));\n        kafkaMessageSource.getConsumerProperties().setGroupId(&quot;group_id&quot;);\n        kafkaMessageSource.getConsumerProperties().setClientId(&quot;clientid&quot;);\n        kafkaMessageSource.setMessageConverter(messageConverter);\n        kafkaMessageSource.setPayloadType(CreateResponse.class);\n        return kafkaMessageSource;\n    }\n\n    @Bean\n    QueueChannel inputChannel() {\n        return new QueueChannel();\n    }\n\n}\n</code></pre>\n<p>I'm not sure what is your <code>CreateResponse</code>, so I have it as simple as this:</p>\n<pre><code>public class CreateResponse {\n\n    private String name;\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n}\n</code></pre>\n<p>Then I have a integration test to verify it against an embedded Kafka:</p>\n<pre><code>@SpringBootTest\n@DirtiesContext\n@EmbeddedKafka(bootstrapServersProperty = &quot;spring.kafka.bootstrap-servers&quot;, topics = &quot;Kafka_Topic&quot;)\nclass So71806313ApplicationTests {\n\n    @Autowired\n    QueueChannel inputChannel;\n\n    @Autowired\n    KafkaTemplate&lt;String, String&gt; kafkaTemplate;\n\n    @Test\n    void contextLoads() {\n        this.kafkaTemplate.send(&quot;Kafka_Topic&quot;, &quot;{\\&quot;name\\&quot; : \\&quot;foo\\&quot;}&quot;);\n\n        Message&lt;?&gt; receive = this.inputChannel.receive(10_000);\n        assertThat(receive).isNotNull();\n        assertThat(receive.getPayload())\n                .isInstanceOf(CreateResponse.class)\n                .extracting(&quot;name&quot;)\n                .isEqualTo(&quot;foo&quot;);\n    }\n\n}\n</code></pre>\n<p>If I change that <code>consumeMsg()</code> to this (pay attention to the commented <code>@Bean</code>):</p>\n<pre><code>@Autowired\nConsumerFactory&lt;String, String&gt; consumerFactory;\n</code></pre>\n<p>//  @Bean\n@InboundChannelAdapter(channel = &quot;inputChannel&quot;, poller=@Poller(fixedDelay = &quot;5000&quot;))\npublic KafkaMessageSource consumeMsg() {</p>\n<pre><code>    KafkaMessageSource kafkaMessageSource = new KafkaMessageSource(consumerFactory,\n            new ConsumerProperties(&quot;Kafka_Topic&quot;));\n    kafkaMessageSource.getConsumerProperties().setGroupId(&quot;group_id&quot;);\n    kafkaMessageSource.getConsumerProperties().setClientId(&quot;clientid&quot;);\n    kafkaMessageSource.setMessageConverter(new StringJsonMessageConverter());\n    kafkaMessageSource.setPayloadType(CreateResponse.class);\n    return kafkaMessageSource;\n}\n</code></pre>\n<p>Then it indeed fails with the:</p>\n<pre><code>java.lang.AssertionError: \nExpecting actual:\n  org.springframework.integration.kafka.inbound.KafkaMessageSource@305289b3\nto be an instance of:\n  org.springframework.integration.stackoverflow.so71806313.CreateResponse\nbut was instance of:\n  org.springframework.integration.kafka.inbound.KafkaMessageSource\n</code></pre>\n<p>So, please, revise the configuration on your side.</p>\n"}],"owner":{"display_name":"user3132096"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71830004,"answer_count":1,"score":0,"last_activity_date":1649688990,"creation_date":1649491851,"question_id":71806313,"body_markdown":"I have a case where i want to publish message from Kafka Producer, My message is just a POJO object e.g CreateRequest. So for consuming I have added  below code \t\r\n```\r\n@Bean\r\n@InboundChannelAdapter(channel = &quot;inputchannel&quot;, poller=@Poller(fixedDelay = &quot;5000&quot;,errorChannel = &quot;errorChannel&quot;))\r\n\tpublic KafkaMessageSource consumeMsg() {\r\n\r\n\t\tConsumerFactory&lt;String, String&gt; cf = consumerFactory();\r\n\t\tKafkaMessageSource kafkaMessageSource = new KafkaMessageSource (cf, new ConsumerProperties(&quot;Kafka_Topic&quot;));\r\n\t\tkafkaMessageSource.getConsumerProperties().setGroupId(&quot;group_id&quot;);\r\n\t\tkafkaMessageSource.getConsumerProperties().setClientId(&quot;clientid&quot;);\r\n\t\tkafkaMessageSource.setMessageConverter(messageConverter());\r\n\t\tkafkaMessageSource.setPayloadType(CreateResponse.class);\r\n\t\treturn kafkaMessageSource;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConsumerFactory consumerFactory() {\r\n\t\tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\t\tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, this.bootstrapServers);\r\n\t\tprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tprops.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG,60000);\r\n\t\tprops.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,10);\r\n\t\tprops.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG,false);\r\n\t\tprops.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG,&quot;30000&quot;);\r\n\t\tprops.put(ConsumerConfig.GROUP_ID_CONFIG, GROUP_ID);\r\n\t\tprops.put(JsonDeserializer.VALUE_DEFAULT_TYPE, CreateResponse.class);\r\n\t\treturn new DefaultKafkaConsumerFactory(props);\r\n\t}\r\n\r\n  @Bean\r\n\tRecordMessageConverter messageConverter(){\r\n\t\treturn new StringJsonMessageConverter();\r\n\t}\r\n\r\n```\r\nAlso,I have added setMessageConverter and setPayloadType to get response of type CreateResponse but still i am getting response of type KafkaMessageSource which is throwing java.lang.ClassCastException cannot cast KafkaMessageSource  to type CreateResponse \r\n\r\n```\r\nkafkaMessageSource.setMessageConverter(messageConverter());\r\nkafkaMessageSource.setPayloadType(CreateResponse.class);\r\n```\r\n**Stacktrace:-**\r\n```\r\norg.springframework.messaging.MessageHandlingException: error occurred during processing message in &#39;MethodInvokingMessageProcessor&#39; [org.springframework.integration.handler.MethodInvokingMessageProcessor@6e6d85cd]; nested exception is java.lang.ClassCastException: org.springframework.integration.kafka.inbound.KafkaMessageSource cannot be cast to com.kafka.response.domain.CreateResponse\r\n        at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:192) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:111) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:104) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:134) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:62) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:570) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:520) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.integration.endpoint.SourcePollingChannelAdapter.handleMessage(SourcePollingChannelAdapter.java:196) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:444) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:428) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:376) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$null$3(AbstractPollingEndpoint.java:323) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-5.2.19.RELEASE.jar!/:5.2.19.RELEASE]\r\n        at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:320) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93) [spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_311]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_311]\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_311]\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_311]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_311]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_311]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_311]\r\nCaused by: java.lang.ClassCastException: org.springframework.integration.kafka.inbound.KafkaMessageSource cannot be cast to com.kafka.response.domain.CreateResponse\r\n        at com.kafka.response.service.MessageConsumerQueue.consume(MessageConsumerQueue.java:55) ~[classes!/:1.0-SNAPSHOT]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_311]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_311]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_311]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_311]\r\n        at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:129) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:112) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:55) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:387) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:375) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\r\n        at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:171) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:156) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeExpression(MessagingMethodInvokerHelper.java:637) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.fallbackToInvokeExpression(MessagingMethodInvokerHelper.java:630) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInvokeExceptionAndFallbackToExpressionIfAny(MessagingMethodInvokerHelper.java:614) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeHandlerMethod(MessagingMethodInvokerHelper.java:585) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:477) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:355) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:108) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\r\n        ... 31 more\r\n```\r\n\r\nCan somebody tell where i am going wrong?","title":"Spring Integration with Kafka throwing ClassCastException","body":"<p>I have a case where i want to publish message from Kafka Producer, My message is just a POJO object e.g CreateRequest. So for consuming I have added  below code</p>\n<pre><code>@Bean\n@InboundChannelAdapter(channel = &quot;inputchannel&quot;, poller=@Poller(fixedDelay = &quot;5000&quot;,errorChannel = &quot;errorChannel&quot;))\n    public KafkaMessageSource consumeMsg() {\n\n        ConsumerFactory&lt;String, String&gt; cf = consumerFactory();\n        KafkaMessageSource kafkaMessageSource = new KafkaMessageSource (cf, new ConsumerProperties(&quot;Kafka_Topic&quot;));\n        kafkaMessageSource.getConsumerProperties().setGroupId(&quot;group_id&quot;);\n        kafkaMessageSource.getConsumerProperties().setClientId(&quot;clientid&quot;);\n        kafkaMessageSource.setMessageConverter(messageConverter());\n        kafkaMessageSource.setPayloadType(CreateResponse.class);\n        return kafkaMessageSource;\n    }\n\n    @Bean\n    public ConsumerFactory consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, this.bootstrapServers);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG,60000);\n        props.put(ConsumerConfig.MAX_POLL_RECORDS_CONFIG,10);\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG,false);\n        props.put(ConsumerConfig.SESSION_TIMEOUT_MS_CONFIG,&quot;30000&quot;);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, GROUP_ID);\n        props.put(JsonDeserializer.VALUE_DEFAULT_TYPE, CreateResponse.class);\n        return new DefaultKafkaConsumerFactory(props);\n    }\n\n  @Bean\n    RecordMessageConverter messageConverter(){\n        return new StringJsonMessageConverter();\n    }\n\n</code></pre>\n<p>Also,I have added setMessageConverter and setPayloadType to get response of type CreateResponse but still i am getting response of type KafkaMessageSource which is throwing java.lang.ClassCastException cannot cast KafkaMessageSource  to type CreateResponse</p>\n<pre><code>kafkaMessageSource.setMessageConverter(messageConverter());\nkafkaMessageSource.setPayloadType(CreateResponse.class);\n</code></pre>\n<p><strong>Stacktrace:-</strong></p>\n<pre><code>org.springframework.messaging.MessageHandlingException: error occurred during processing message in 'MethodInvokingMessageProcessor' [org.springframework.integration.handler.MethodInvokingMessageProcessor@6e6d85cd]; nested exception is java.lang.ClassCastException: org.springframework.integration.kafka.inbound.KafkaMessageSource cannot be cast to com.kafka.response.domain.CreateResponse\n        at org.springframework.integration.support.utils.IntegrationUtils.wrapInHandlingExceptionIfNecessary(IntegrationUtils.java:192) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:111) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.handler.ServiceActivatingHandler.handleRequestMessage(ServiceActivatingHandler.java:104) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:134) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:62) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:570) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:520) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187) ~[spring-messaging-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166) ~[spring-messaging-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47) ~[spring-messaging-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109) ~[spring-messaging-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.integration.endpoint.SourcePollingChannelAdapter.handleMessage(SourcePollingChannelAdapter.java:196) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:444) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:428) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:376) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$null$3(AbstractPollingEndpoint.java:323) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50) ~[spring-core-5.2.19.RELEASE.jar!/:5.2.19.RELEASE]\n        at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:320) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) [spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:93) [spring-context-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_311]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_311]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180) [?:1.8.0_311]\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293) [?:1.8.0_311]\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_311]\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_311]\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_311]\nCaused by: java.lang.ClassCastException: org.springframework.integration.kafka.inbound.KafkaMessageSource cannot be cast to com.kafka.response.domain.CreateResponse\n        at com.kafka.response.service.MessageConsumerQueue.consume(MessageConsumerQueue.java:55) ~[classes!/:1.0-SNAPSHOT]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_311]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_311]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_311]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[?:1.8.0_311]\n        at org.springframework.expression.spel.support.ReflectiveMethodExecutor.execute(ReflectiveMethodExecutor.java:129) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.expression.spel.ast.MethodReference.getValueInternal(MethodReference.java:112) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.expression.spel.ast.MethodReference.access$000(MethodReference.java:55) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.expression.spel.ast.MethodReference$MethodValueRef.getValue(MethodReference.java:387) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:92) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.expression.spel.ast.SpelNodeImpl.getTypedValue(SpelNodeImpl.java:117) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:375) ~[spring-expression-5.2.9.RELEASE.jar!/:5.2.9.RELEASE]\n        at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:171) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.util.AbstractExpressionEvaluator.evaluateExpression(AbstractExpressionEvaluator.java:156) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeExpression(MessagingMethodInvokerHelper.java:637) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.fallbackToInvokeExpression(MessagingMethodInvokerHelper.java:630) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInvokeExceptionAndFallbackToExpressionIfAny(MessagingMethodInvokerHelper.java:614) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.invokeHandlerMethod(MessagingMethodInvokerHelper.java:585) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.processInternal(MessagingMethodInvokerHelper.java:477) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.handler.support.MessagingMethodInvokerHelper.process(MessagingMethodInvokerHelper.java:355) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        at org.springframework.integration.handler.MethodInvokingMessageProcessor.processMessage(MethodInvokingMessageProcessor.java:108) ~[spring-integration-core-5.3.2.RELEASE.jar!/:5.3.2.RELEASE]\n        ... 31 more\n</code></pre>\n<p>Can somebody tell where i am going wrong?</p>\n"},{"tags":["java","audio","javafx","javafx-1"],"answers":[{"tags":[],"owner":{"account_id":5804,"reputation":683,"user_id":9520,"accept_rate":67,"display_name":"GuyWithDogs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1225299891,"creation_date":1225299891,"answer_id":247606,"question_id":241453,"body_markdown":"Just a guess, but is that file &quot;hornpipe.mp3&quot; and not &quot;hormpipe.mp3&quot; (with an m)?","title":"How to play sound in JavaFX?","body":"<p>Just a guess, but is that file \"hornpipe.mp3\" and not \"hormpipe.mp3\" (with an m)?</p>\n"},{"tags":[],"owner":{"display_name":"Mauro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649688889,"creation_date":1229345047,"answer_id":368256,"question_id":241453,"body_markdown":"```\r\nvar player = javafx.scene.media.MediaPlayer {\r\n    repeatCount: javafx.scene.media.MediaPlayer.REPEAT_FOREVER\r\n    media: Media { source: &quot;{\\_\\_DIR\\_\\_}clip.wav&quot;\r\n    };\r\n};\r\nplayer.play();\r\n```\r\n\r\nYou have to incluye the audio file in the build/compiled directory so Netbeans can pack it into the jar file.","title":"How to play sound in JavaFX?","body":"<pre><code>var player = javafx.scene.media.MediaPlayer {\n    repeatCount: javafx.scene.media.MediaPlayer.REPEAT_FOREVER\n    media: Media { source: &quot;{\\_\\_DIR\\_\\_}clip.wav&quot;\n    };\n};\nplayer.play();\n</code></pre>\n<p>You have to incluye the audio file in the build/compiled directory so Netbeans can pack it into the jar file.</p>\n"},{"tags":[],"owner":{"account_id":1075,"reputation":34774,"user_id":1428,"accept_rate":64,"display_name":"lindelof"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1275478088,"creation_date":1275478088,"answer_id":2957187,"question_id":241453,"body_markdown":"Just a guess, but I think your `{__FILE__}` will expand to the name of your file. Try replacing it with `{__DIR__}`.","title":"How to play sound in JavaFX?","body":"<p>Just a guess, but I think your <code>{__FILE__}</code> will expand to the name of your file. Try replacing it with <code>{__DIR__}</code>.</p>\n"},{"tags":[],"owner":{"account_id":154848,"reputation":73,"user_id":371074,"display_name":"MKA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1277067614,"creation_date":1276961690,"answer_id":3076042,"question_id":241453,"body_markdown":"Also note that `{__DIR__}` includes the trailing /, so try this instead:\r\n\r\n    attribute media = Media{\r\n    source: &quot;{__DIR__}sound/hormpipe.mp3&quot;}\r\n\r\nEDIT: I did some digging, and apparently, the source of a Media object has to be either a remote URL, or an absolute file path, since media files aren&#39;t allowed in JARs (something I hope gets changed with future releases, since I really like JavaFX and want to be able to make desktop apps with it). See: &lt;a href=&quot;http://javafx.com/faq/#5.3&quot;&gt;JavaFX FAQs&lt;/a&gt;.","title":"How to play sound in JavaFX?","body":"<p>Also note that <code>{__DIR__}</code> includes the trailing /, so try this instead:</p>\n\n<pre><code>attribute media = Media{\nsource: \"{__DIR__}sound/hormpipe.mp3\"}\n</code></pre>\n\n<p>EDIT: I did some digging, and apparently, the source of a Media object has to be either a remote URL, or an absolute file path, since media files aren't allowed in JARs (something I hope gets changed with future releases, since I really like JavaFX and want to be able to make desktop apps with it). See: <a href=\"http://javafx.com/faq/#5.3\" rel=\"nofollow noreferrer\">JavaFX FAQs</a>.</p>\n"},{"tags":[],"owner":{"account_id":2511382,"reputation":17,"user_id":2624587,"accept_rate":100,"display_name":"daevon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1388691140,"creation_date":1388691140,"answer_id":20890384,"question_id":241453,"body_markdown":"This worked for me:\r\n\r\n    MediaPlayer audio = new MediaPlayer(\r\n        new Media(\r\n            new File(&quot;file.mp3&quot;).toURI().toString()));\r\n\r\nSource file should be in project&#39;s root directory (not src, not dist).","title":"How to play sound in JavaFX?","body":"<p>This worked for me:</p>\n\n<pre><code>MediaPlayer audio = new MediaPlayer(\n    new Media(\n        new File(\"file.mp3\").toURI().toString()));\n</code></pre>\n\n<p>Source file should be in project's root directory (not src, not dist).</p>\n"},{"tags":[],"owner":{"account_id":9245404,"reputation":2155,"user_id":6867430,"display_name":"ivanivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1475033146,"creation_date":1475033146,"answer_id":39737525,"question_id":241453,"body_markdown":"OK, having used this question to get MP3 audio working (kinda), I&#39;ve learned the following (not much).\r\n\r\n1) Audio for compressed formats is very platform dependent. My continually upgraded Mint 17.1-&gt;18 machine plays mp3 fine using Media and MediaPlayer.  Fresh installs of Mint 18 won&#39;t (with the dev tools).\r\n\r\nSo use .wav files.\r\n\r\n    Media sound=new Media(new File(&quot;noises/roll.wav&quot;).toURI().toString());\r\n    MediaPlayer mediaPlayer=new MediaPlayer(sound);\r\n    mediaPlayer.play();\r\n\r\n2) One of the things you need to be aware of with Media/MediaPlayer is that in order to play multiple times (repeatedly or all at once ie, on a button press/whatever in a game) you have to spawn N number of MediaPlayer objects, and each one will play once and then stop. \r\n\r\nSo use javafx.scene.media.AudioClip \r\n\r\n    AudioClip soundMyNoise = new AudioClip(new File(&quot;noises/roll.wav&quot;).toURI().toString());\r\n    soundMyNoise.play();\r\n\r\nAudioClip also has its issues, which include storing the raw audio data in RAM all at once instead of buffering.  So there is the possibility of excessive memory use. \r\n\r\nNo matter which method you end up going with, one thing to be critically aware of was mentioned by **daevon** earlier - the path issue.  With NetBeans, you have NetBeansProjects/yourproject/src/yourproject/foo.java.  The sounds in the example above go in NetBeansProjects/yourproject/noises/roll.wav\r\n\r\n\r\n\r\n","title":"How to play sound in JavaFX?","body":"<p>OK, having used this question to get MP3 audio working (kinda), I've learned the following (not much).</p>\n\n<p>1) Audio for compressed formats is very platform dependent. My continually upgraded Mint 17.1->18 machine plays mp3 fine using Media and MediaPlayer.  Fresh installs of Mint 18 won't (with the dev tools).</p>\n\n<p>So use .wav files.</p>\n\n<pre><code>Media sound=new Media(new File(\"noises/roll.wav\").toURI().toString());\nMediaPlayer mediaPlayer=new MediaPlayer(sound);\nmediaPlayer.play();\n</code></pre>\n\n<p>2) One of the things you need to be aware of with Media/MediaPlayer is that in order to play multiple times (repeatedly or all at once ie, on a button press/whatever in a game) you have to spawn N number of MediaPlayer objects, and each one will play once and then stop. </p>\n\n<p>So use javafx.scene.media.AudioClip </p>\n\n<pre><code>AudioClip soundMyNoise = new AudioClip(new File(\"noises/roll.wav\").toURI().toString());\nsoundMyNoise.play();\n</code></pre>\n\n<p>AudioClip also has its issues, which include storing the raw audio data in RAM all at once instead of buffering.  So there is the possibility of excessive memory use. </p>\n\n<p>No matter which method you end up going with, one thing to be critically aware of was mentioned by <strong>daevon</strong> earlier - the path issue.  With NetBeans, you have NetBeansProjects/yourproject/src/yourproject/foo.java.  The sounds in the example above go in NetBeansProjects/yourproject/noises/roll.wav</p>\n"}],"owner":{"account_id":12280,"reputation":2054,"user_id":1514822,"accept_rate":83,"display_name":"Chobicus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8888,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":6,"score":0,"last_activity_date":1649688889,"creation_date":1225142683,"question_id":241453,"body_markdown":"I&#39;m experimenting with JavaFX making a small game. \r\n\r\nI want to add sound.\r\nHow?\r\n\r\nI tried `MediaPlayer` with `media` defined with relative `source` attribute like:\r\n\r\n    attribute media = Media{\r\n        source: &quot;{__FILE__}/sound/hormpipe.mp3&quot;        \r\n    }\r\n    attribute player = MediaPlayer{\r\n        autoPlay:true\r\n        media:media\r\n    }\r\n\r\n\r\nIt doesn&#39;t play.\r\nI get \r\n\r\n&gt;`FX Media Object caught Exception com.sun.media.jmc.MediaUnavailableException: Media unavailable: file: ... Sound.class/sound/hormpipe.mp3`\r\n","title":"How to play sound in JavaFX?","body":"<p>I'm experimenting with JavaFX making a small game. </p>\n\n<p>I want to add sound.\nHow?</p>\n\n<p>I tried <code>MediaPlayer</code> with <code>media</code> defined with relative <code>source</code> attribute like:</p>\n\n<pre><code>attribute media = Media{\n    source: \"{__FILE__}/sound/hormpipe.mp3\"        \n}\nattribute player = MediaPlayer{\n    autoPlay:true\n    media:media\n}\n</code></pre>\n\n<p>It doesn't play.\nI get </p>\n\n<blockquote>\n  <p><code>FX Media Object caught Exception com.sun.media.jmc.MediaUnavailableException: Media unavailable: file: ... Sound.class/sound/hormpipe.mp3</code></p>\n</blockquote>\n"},{"tags":["java","spring-boot","trace","jstack"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1649688739,"post_id":71829551,"comment_id":126933580,"body_markdown":"Remote debugging? AOP (Aspect Oriented Programming) - it would change the byte code.? Simplest and best remains logging.","body":"Remote debugging? AOP (Aspect Oriented Programming) - it would change the byte code.? Simplest and best remains logging."},{"owner":{"account_id":19235586,"reputation":264,"user_id":14056614,"display_name":"Deb Das"},"score":0,"creation_date":1649696186,"post_id":71829551,"comment_id":126936332,"body_markdown":"i would suggest to write unit or integration test and verify if your objects are getting called at runtime","body":"i would suggest to write unit or integration test and verify if your objects are getting called at runtime"},{"owner":{"account_id":18531470,"reputation":11,"user_id":13502142,"display_name":"Ayoub DEV"},"score":0,"creation_date":1649700761,"post_id":71829551,"comment_id":126937913,"body_markdown":"Thanks for the insights, but I cannot change the code in my case. I need something in jstack style","body":"Thanks for the insights, but I cannot change the code in my case. I need something in jstack style"}],"answers":[{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649687865,"creation_date":1649687865,"answer_id":71829737,"question_id":71829551,"body_markdown":"You can either add log statements in your code, which write information to a log file or System.out for example, or you can run the application in debug mode and add a breakpoint in the code from where you want to start tracking what happens. When the code execution reaches the breakpoint, the debugger will pause execution and you can step through/in/out the statements one by one.","title":"Trace Java method execution","body":"<p>You can either add log statements in your code, which write information to a log file or System.out for example, or you can run the application in debug mode and add a breakpoint in the code from where you want to start tracking what happens. When the code execution reaches the breakpoint, the debugger will pause execution and you can step through/in/out the statements one by one.</p>\n"}],"owner":{"account_id":18531470,"reputation":11,"user_id":13502142,"display_name":"Ayoub DEV"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1649688364,"creation_date":1649687133,"question_id":71829551,"body_markdown":"I am having a hard time finding a way to trace a method execution (ex: methods being called at execution..)\r\n\r\nHere is the code snippet I want to trace: \r\n```\r\n@GetMapping(&quot;/test&quot;)\r\n        public String test(){\r\n\r\n            String jsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;value1\\&quot;,\\&quot;type\\&quot;:\\&quot;Booking\\&quot;,\\&quot;sid\\&quot;:\\&quot;A43521\\&quot;,\\&quot;region\\&quot;:\\&quot;ASIA\\&quot;,&quot;\r\n\t\t\t\t+ &quot;\\&quot;fetchFromFile\\&quot;:\\&quot;false\\&quot;,\\&quot;service\\&quot;:\\&quot;true\\&quot;,\\&quot;isEom\\&quot;:\\&quot;true\\&quot;,*#@!}&quot;;\r\n            String response = JsonSanitizer.sanitize(jsonString);\r\n            return response;\r\n        }\r\n```\r\nI&#39;d like to know that the method **sanitize** of **JsonSanitizer** class has been called .. \r\n\r\nI tried running jstack, but I don&#39;t see any occurences of JsonSanitizer.sanitize method in the stack traces. \r\n\r\nThanks in advance","title":"Trace Java method execution","body":"<p>I am having a hard time finding a way to trace a method execution (ex: methods being called at execution..)</p>\n<p>Here is the code snippet I want to trace:</p>\n<pre><code>@GetMapping(&quot;/test&quot;)\n        public String test(){\n\n            String jsonString = &quot;{\\&quot;key1\\&quot;:\\&quot;value1\\&quot;,\\&quot;type\\&quot;:\\&quot;Booking\\&quot;,\\&quot;sid\\&quot;:\\&quot;A43521\\&quot;,\\&quot;region\\&quot;:\\&quot;ASIA\\&quot;,&quot;\n                + &quot;\\&quot;fetchFromFile\\&quot;:\\&quot;false\\&quot;,\\&quot;service\\&quot;:\\&quot;true\\&quot;,\\&quot;isEom\\&quot;:\\&quot;true\\&quot;,*#@!}&quot;;\n            String response = JsonSanitizer.sanitize(jsonString);\n            return response;\n        }\n</code></pre>\n<p>I'd like to know that the method <strong>sanitize</strong> of <strong>JsonSanitizer</strong> class has been called ..</p>\n<p>I tried running jstack, but I don't see any occurences of JsonSanitizer.sanitize method in the stack traces.</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","hibernate","jdbc","java-time","java.time.instant"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1649169351,"post_id":71752973,"comment_id":126804679,"body_markdown":"What database product? What version of that database product? What *exactly* is the data type of that database column (show the `CREATE TABLE` code)?","body":"What database product? What version of that database product? What <i>exactly</i> is the data type of that database column (show the <code>CREATE TABLE</code> code)?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649169492,"post_id":71752973,"comment_id":126804743,"body_markdown":"Are you aware that many database query tools and DB admin tools unfortunately have an anti-feature of applying a default time zone to the date-time value *after* retrieval from the database server?","body":"Are you aware that many database query tools and DB admin tools unfortunately have an anti-feature of applying a default time zone to the date-time value <i>after</i> retrieval from the database server?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649169604,"post_id":71752973,"comment_id":126804795,"body_markdown":"What is the default time zone of your database session used during your native query? What is the default time zone of your JVM?","body":"What is the default time zone of your database session used during your native query? What is the default time zone of your JVM?"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1649170882,"post_id":71752973,"comment_id":126805317,"body_markdown":"@BasilBourque I&#39;m using H2 (as specified in the `pom.xml`), and letting Hibernate create the database (`hbm2ddl.auto`). It&#39;s an in-memory database created when the example is run.\nMy timezone is `Europe/London`","body":"@BasilBourque I&#39;m using H2 (as specified in the <code>pom.xml</code>), and letting Hibernate create the database (<code>hbm2ddl.auto</code>). It&#39;s an in-memory database created when the example is run. My timezone is <code>Europe&#47;London</code>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649171357,"post_id":71752973,"comment_id":126805522,"body_markdown":"Those details need to go into your Question rather than a Comment.","body":"Those details need to go into your Question rather than a Comment."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1649171755,"post_id":71752973,"comment_id":126805706,"body_markdown":"@BasilBourque i&#39;ve made that clearer in the question.","body":"@BasilBourque i&#39;ve made that clearer in the question."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649172008,"post_id":71752973,"comment_id":126805806,"body_markdown":"You still need to show the data type of the column. That fact is crucial to understanding your issue. There is a world of difference between `TIMESTAMP WITH TIME ZONE` and `TIMESTAMP WITHOUT TIME ZONE `.","body":"You still need to show the data type of the column. That fact is crucial to understanding your issue. There is a world of difference between <code>TIMESTAMP WITH TIME ZONE</code> and <code>TIMESTAMP WITHOUT TIME ZONE </code>."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1649173244,"post_id":71752973,"comment_id":126806362,"body_markdown":"@BasilBourque the datatype Hibernate v5 has used is `TIMESTAMP`. v6 has used `TIMESTAMP WITH TIMEZONE`.","body":"@BasilBourque the datatype Hibernate v5 has used is <code>TIMESTAMP</code>. v6 has used <code>TIMESTAMP WITH TIMEZONE</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1649173560,"post_id":71752973,"comment_id":126806504,"body_markdown":"Wow, that is an unfathomably radical change between versions. That justifies my mistrust of such code generators. Which is in use in your particular case?","body":"Wow, that is an unfathomably radical change between versions. That justifies my mistrust of such code generators. Which is in use in your particular case?"},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1649175029,"post_id":71752973,"comment_id":126807147,"body_markdown":"@BasilBourque I&#39;m using Hibernate v5. I&#39;m not able to test this in my example application, but I&#39;m not sure the only difference in the Hibernate versions - if I change the column definition in my actual application I get the same behaviour either way.","body":"@BasilBourque I&#39;m using Hibernate v5. I&#39;m not able to test this in my example application, but I&#39;m not sure the only difference in the Hibernate versions - if I change the column definition in my actual application I get the same behaviour either way."}],"answers":[{"tags":[],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649688058,"creation_date":1649686724,"answer_id":71829436,"question_id":71752973,"body_markdown":"I&#39;ve got this working by setting the `AvailableSettings.JDBC_TIME_ZONE` to `UTC` and changing the column type to `TIMEZONE`.\r\n\r\nI *believe* this to be an incompatibility between Hibernate v5 &amp; H2&#39;s driver.","title":"Hibernate not parsing values around DST transitions correctly","body":"<p>I've got this working by setting the <code>AvailableSettings.JDBC_TIME_ZONE</code> to <code>UTC</code> and changing the column type to <code>TIMEZONE</code>.</p>\n<p>I <em>believe</em> this to be an incompatibility between Hibernate v5 &amp; H2's driver.</p>\n"}],"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71829436,"answer_count":1,"score":2,"last_activity_date":1649688058,"creation_date":1649166595,"question_id":71752973,"body_markdown":"I&#39;ve got a problem where an `Instant` that occurs during the DST transition is being persisted correctly to the database, but when read back is returning a different value.\r\n\r\nSpecifically, I am in `Europe/London` and am having a problem with `2021-10-31T01:04:00Z` - the instant I get back is `2021-10-31T00:04:00Z`.\r\n\r\nI&#39;ve created a simple application to demonstrate this - it persists three events, one before the DST transition, the only previously mentioned thats during the DST transition, and then one after. I would expect the input and output data to always be the same.\r\n\r\nIt outputs the following:\r\n\r\n    ZoneId=Europe/London\r\n    \r\n    Persisting:\r\n    2021-10-30T01:04:00Z\r\n    2021-10-31T01:04:00Z\r\n    2021-11-01T01:04:00Z\r\n    \r\n    Native Query:\r\n    clob1: &#39;2021-10-30 02:04:00+01&#39;\r\n    clob2: &#39;2021-10-31 01:04:00+01&#39;\r\n    clob3: &#39;2021-11-01 01:04:00+00&#39;\r\n    \r\n    Hibernate Object:\r\n    2021-10-30T01:04:00Z\r\n    2021-10-31T00:04:00Z\r\n    2021-11-01T01:04:00Z\r\n\r\n:\r\n\r\n    import java.text.MessageFormat;\r\n    import java.time.Instant;\r\n    import java.time.ZoneId;\r\n    import java.util.Properties;\r\n    import java.util.stream.Stream;    \r\n    import org.h2.Driver;\r\n    import org.hibernate.Session;\r\n    import org.hibernate.Transaction;\r\n    import org.hibernate.cfg.AvailableSettings;\r\n    import org.hibernate.cfg.Configuration;\r\n    import org.hibernate.dialect.H2Dialect;\r\n    \r\n    public class StoreData {\r\n      public static void main(final String[] args) {\r\n        System.out.println(MessageFormat.format(&quot;ZoneId={0}&quot;, ZoneId.systemDefault()));\r\n    \r\n        final Properties properties = new Properties();\r\n        properties.setProperty(AvailableSettings.DIALECT, H2Dialect.class.getName());\r\n        properties.setProperty(AvailableSettings.URL, &quot;jdbc:h2:mem:test&quot;);\r\n        properties.setProperty(AvailableSettings.DRIVER, Driver.class.getName());\r\n    \r\n        try (Session session = new Configuration().setProperties(properties).addAnnotatedClass(Event.class)\r\n          .buildSessionFactory().openSession()) {\r\n          final Transaction transaction = session.beginTransaction();\r\n    \r\n          // Table creation done explicitly to show types used\r\n          session.createSQLQuery(&quot;CREATE TABLE EVENT(ID BIGINT, DATE TIMESTAMP WITH TIME ZONE)&quot;).executeUpdate();\r\n    \r\n          System.out.println(&quot;Persisting:&quot;);\r\n          Stream.of(&quot;2021-10-30T01:04:00Z&quot;, &quot;2021-10-31T01:04:00Z&quot;, &quot;2021-11-01T01:04:00Z&quot;).map(Instant::parse)\r\n            .forEach(instant -&gt; {\r\n              System.out.println(instant);\r\n              final Event e = new Event();\r\n              e.setDate(instant);\r\n              e.setId(instant.toEpochMilli());\r\n              session.persist(e);\r\n            });\r\n    \r\n          transaction.commit();\r\n          System.out.println();\r\n    \r\n          System.out.println(&quot;Native Query:&quot;);\r\n          session.createNativeQuery(&quot;SELECT CAST(date as TEXT) FROM event&quot;).getResultList()\r\n            .forEach(System.out::println);\r\n    \r\n          System.out.println();\r\n    \r\n          System.out.println(&quot;Hibernate Objects:&quot;);\r\n          session.getEntityManagerFactory().createEntityManager().createQuery(&quot;FROM Event&quot;, Event.class)\r\n            .getResultList().stream().map(Event::getDate).forEach(System.out::println);\r\n        }\r\n      }\r\n    }\r\n\r\n:\r\n\r\n    import java.time.Instant;    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    \r\n    @Entity\r\n    public class Event {\r\n        @Id\r\n        private long id;\r\n        private Instant date;\r\n    \r\n        public long getId() {\r\n    \treturn id;\r\n        }\r\n    \r\n        public void setId(final long id) {\r\n    \tthis.id = id;\r\n        }\r\n    \r\n        public Instant getDate() {\r\n    \treturn date;\r\n        }\r\n    \r\n        public void setDate(final Instant date) {\r\n    \tthis.date = date;\r\n        }\r\n    }\r\n\r\n`pom.xml`:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.me&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;help&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.6.7.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.1.210&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nInterestingly if I move to Hibernate v6, it looks to work correctly?\r\n\r\n    ZoneId=Europe/London\r\n    \r\n    Persisting:\r\n    2021-10-30T01:04:00Z\r\n    2021-10-31T01:04:00Z\r\n    2021-11-01T01:04:00Z\r\n    \r\n    Native Query:\r\n    clob1: &#39;2021-10-30 01:04:00+00&#39;\r\n    clob2: &#39;2021-10-31 01:04:00+00&#39;\r\n    clob3: &#39;2021-11-01 01:04:00+00&#39;\r\n    \r\n    Hibernate Objects:\r\n    2021-10-30T01:04:00Z\r\n    2021-10-31T01:04:00Z\r\n    2021-11-01T01:04:00Z\r\n\r\nTo be explicit:\r\n`Europe/London` timezone,\r\nH2 in-memory database.","title":"Hibernate not parsing values around DST transitions correctly","body":"<p>I've got a problem where an <code>Instant</code> that occurs during the DST transition is being persisted correctly to the database, but when read back is returning a different value.</p>\n<p>Specifically, I am in <code>Europe/London</code> and am having a problem with <code>2021-10-31T01:04:00Z</code> - the instant I get back is <code>2021-10-31T00:04:00Z</code>.</p>\n<p>I've created a simple application to demonstrate this - it persists three events, one before the DST transition, the only previously mentioned thats during the DST transition, and then one after. I would expect the input and output data to always be the same.</p>\n<p>It outputs the following:</p>\n<pre><code>ZoneId=Europe/London\n\nPersisting:\n2021-10-30T01:04:00Z\n2021-10-31T01:04:00Z\n2021-11-01T01:04:00Z\n\nNative Query:\nclob1: '2021-10-30 02:04:00+01'\nclob2: '2021-10-31 01:04:00+01'\nclob3: '2021-11-01 01:04:00+00'\n\nHibernate Object:\n2021-10-30T01:04:00Z\n2021-10-31T00:04:00Z\n2021-11-01T01:04:00Z\n</code></pre>\n<p>:</p>\n<pre><code>import java.text.MessageFormat;\nimport java.time.Instant;\nimport java.time.ZoneId;\nimport java.util.Properties;\nimport java.util.stream.Stream;    \nimport org.h2.Driver;\nimport org.hibernate.Session;\nimport org.hibernate.Transaction;\nimport org.hibernate.cfg.AvailableSettings;\nimport org.hibernate.cfg.Configuration;\nimport org.hibernate.dialect.H2Dialect;\n\npublic class StoreData {\n  public static void main(final String[] args) {\n    System.out.println(MessageFormat.format(&quot;ZoneId={0}&quot;, ZoneId.systemDefault()));\n\n    final Properties properties = new Properties();\n    properties.setProperty(AvailableSettings.DIALECT, H2Dialect.class.getName());\n    properties.setProperty(AvailableSettings.URL, &quot;jdbc:h2:mem:test&quot;);\n    properties.setProperty(AvailableSettings.DRIVER, Driver.class.getName());\n\n    try (Session session = new Configuration().setProperties(properties).addAnnotatedClass(Event.class)\n      .buildSessionFactory().openSession()) {\n      final Transaction transaction = session.beginTransaction();\n\n      // Table creation done explicitly to show types used\n      session.createSQLQuery(&quot;CREATE TABLE EVENT(ID BIGINT, DATE TIMESTAMP WITH TIME ZONE)&quot;).executeUpdate();\n\n      System.out.println(&quot;Persisting:&quot;);\n      Stream.of(&quot;2021-10-30T01:04:00Z&quot;, &quot;2021-10-31T01:04:00Z&quot;, &quot;2021-11-01T01:04:00Z&quot;).map(Instant::parse)\n        .forEach(instant -&gt; {\n          System.out.println(instant);\n          final Event e = new Event();\n          e.setDate(instant);\n          e.setId(instant.toEpochMilli());\n          session.persist(e);\n        });\n\n      transaction.commit();\n      System.out.println();\n\n      System.out.println(&quot;Native Query:&quot;);\n      session.createNativeQuery(&quot;SELECT CAST(date as TEXT) FROM event&quot;).getResultList()\n        .forEach(System.out::println);\n\n      System.out.println();\n\n      System.out.println(&quot;Hibernate Objects:&quot;);\n      session.getEntityManagerFactory().createEntityManager().createQuery(&quot;FROM Event&quot;, Event.class)\n        .getResultList().stream().map(Event::getDate).forEach(System.out::println);\n    }\n  }\n}\n</code></pre>\n<p>:</p>\n<pre><code>import java.time.Instant;    \nimport javax.persistence.Entity;\nimport javax.persistence.Id;\n\n@Entity\npublic class Event {\n    @Id\n    private long id;\n    private Instant date;\n\n    public long getId() {\n    return id;\n    }\n\n    public void setId(final long id) {\n    this.id = id;\n    }\n\n    public Instant getDate() {\n    return date;\n    }\n\n    public void setDate(final Instant date) {\n    this.date = date;\n    }\n}\n</code></pre>\n<p><code>pom.xml</code>:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.me&lt;/groupId&gt;\n    &lt;artifactId&gt;help&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;version&gt;2.1.210&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Interestingly if I move to Hibernate v6, it looks to work correctly?</p>\n<pre><code>ZoneId=Europe/London\n\nPersisting:\n2021-10-30T01:04:00Z\n2021-10-31T01:04:00Z\n2021-11-01T01:04:00Z\n\nNative Query:\nclob1: '2021-10-30 01:04:00+00'\nclob2: '2021-10-31 01:04:00+00'\nclob3: '2021-11-01 01:04:00+00'\n\nHibernate Objects:\n2021-10-30T01:04:00Z\n2021-10-31T01:04:00Z\n2021-11-01T01:04:00Z\n</code></pre>\n<p>To be explicit:\n<code>Europe/London</code> timezone,\nH2 in-memory database.</p>\n"},{"tags":["java","macos","swing","macos-monterey"],"answers":[{"tags":[],"owner":{"account_id":22353547,"reputation":88,"user_id":16571212,"display_name":"rushabhvg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649685110,"creation_date":1649685110,"answer_id":71829053,"question_id":71828814,"body_markdown":"To use colors (or background color specifically), import the awt, and then swing library:\r\n\r\n        import java.awt.*;\r\n        import javax.swing.*;\r\n\r\nAnd, set color as:\r\n\r\n        JProgressBar b = new JProgressBar();\r\n        b.setForeground(Color.pink);\r\n        b.setBackground(Color.white);\r\n\r\n\r\nI know this might not be the best way but, it works! We import awt because the Color library is in awt package, and not present in swing.\r\n\r\nNote: Don&#39;t blame me for bad color combo!","title":"How to change the style (color) of the swing ProgressBar?","body":"<p>To use colors (or background color specifically), import the awt, and then swing library:</p>\n<pre><code>    import java.awt.*;\n    import javax.swing.*;\n</code></pre>\n<p>And, set color as:</p>\n<pre><code>    JProgressBar b = new JProgressBar();\n    b.setForeground(Color.pink);\n    b.setBackground(Color.white);\n</code></pre>\n<p>I know this might not be the best way but, it works! We import awt because the Color library is in awt package, and not present in swing.</p>\n<p>Note: Don't blame me for bad color combo!</p>\n"}],"owner":{"account_id":11404155,"reputation":9,"user_id":8360154,"display_name":"Mrproex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649687770,"creation_date":1649684133,"question_id":71828814,"body_markdown":"I searched the web and Stack Overflow for two hours straight and I wasn&#39;t able to find an answer to my question, I did find answers but they where not working in my case:\r\n\r\n&lt;https://stackoverflow.com/questions/10773978/how-to-change-jprogressbar-color&gt;\r\n\r\nIt seems that this solution does not work on macOS-monterey using javaSE-17 the program just want to use the default UI.\r\nThe only thing I managed to edit using UiManger as recommended in this answer is the border of the progressBar.\r\n\r\nI also tried to use the conventional method which is ```progressBar.setForeground(Color);``` it did not work, no change at all.\r\n\r\nAccording to the rgb output I get on the default color for the progressBar foreground it should be red... Meaning the java program don&#39;t even use the predefined style it&#39;s like if it was using an os defined style.\r\n\r\n[![Progress Bar with only border style.][1]][1]\r\n\r\nThanks for your help.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bdqz4.png","title":"How to change the style (color) of the swing ProgressBar?","body":"<p>I searched the web and Stack Overflow for two hours straight and I wasn't able to find an answer to my question, I did find answers but they where not working in my case:</p>\n<p><a href=\"https://stackoverflow.com/questions/10773978/how-to-change-jprogressbar-color\">How to change JProgressBar color?</a></p>\n<p>It seems that this solution does not work on macOS-monterey using javaSE-17 the program just want to use the default UI.\nThe only thing I managed to edit using UiManger as recommended in this answer is the border of the progressBar.</p>\n<p>I also tried to use the conventional method which is <code>progressBar.setForeground(Color);</code> it did not work, no change at all.</p>\n<p>According to the rgb output I get on the default color for the progressBar foreground it should be red... Meaning the java program don't even use the predefined style it's like if it was using an os defined style.</p>\n<p><a href=\"https://i.stack.imgur.com/bdqz4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bdqz4.png\" alt=\"Progress Bar with only border style.\" /></a></p>\n<p>Thanks for your help.</p>\n"},{"tags":["java","apache-kafka","cassandra","apache-flink"],"answers":[{"tags":[],"owner":{"account_id":5357170,"reputation":14233,"user_id":4269535,"display_name":"Erick Ramirez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643955202,"creation_date":1643955202,"answer_id":70982143,"question_id":70959753,"body_markdown":"You&#39;ll need to verify the format of the `time_id` in the source as it might not be compatible with the CQL column.\r\n\r\nIn your POJO, you&#39;ve mapped it to `java.util.Date` and if the field from the source does contain a date then it might be the reason it&#39;s not working.\r\n\r\nCQL `timestamp` is a 64-bit signed int that represents the number of milliseconds since Unix epoch. The value of the field from the source can either be (a) an integer, or (b) a literal string that looks like `yyyy-mm-dd HH:mm`. The list of valid ISO 8601 formats is available here -- [CQL timestamp][1]. Cheers!\r\n\r\n\r\n  [1]: https://docs.datastax.com/en/cql-oss/3.x/cql/cql_reference/timestamp_type_r.html","title":"Flink 1.11.1 Cassandra Sink does not save when a timestamp is present","body":"<p>You'll need to verify the format of the <code>time_id</code> in the source as it might not be compatible with the CQL column.</p>\n<p>In your POJO, you've mapped it to <code>java.util.Date</code> and if the field from the source does contain a date then it might be the reason it's not working.</p>\n<p>CQL <code>timestamp</code> is a 64-bit signed int that represents the number of milliseconds since Unix epoch. The value of the field from the source can either be (a) an integer, or (b) a literal string that looks like <code>yyyy-mm-dd HH:mm</code>. The list of valid ISO 8601 formats is available here -- <a href=\"https://docs.datastax.com/en/cql-oss/3.x/cql/cql_reference/timestamp_type_r.html\" rel=\"nofollow noreferrer\">CQL timestamp</a>. Cheers!</p>\n"},{"tags":[],"owner":{"account_id":3356942,"reputation":11,"user_id":2819656,"display_name":"R Kelly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649687630,"creation_date":1649687630,"answer_id":71829683,"question_id":70959753,"body_markdown":"Found the answer after much fighting. Flink and Cassandra is a very strict and tenuous connection. Everything must be perfectly aligned, decimal in Cassandra requires Decimal in Java, and more confusingly, the timestamp in Cassandra would only work with a long value in Java.\r\n\r\nHopefully this helps others who come across this same issue.","title":"Flink 1.11.1 Cassandra Sink does not save when a timestamp is present","body":"<p>Found the answer after much fighting. Flink and Cassandra is a very strict and tenuous connection. Everything must be perfectly aligned, decimal in Cassandra requires Decimal in Java, and more confusingly, the timestamp in Cassandra would only work with a long value in Java.</p>\n<p>Hopefully this helps others who come across this same issue.</p>\n"}],"owner":{"account_id":3356942,"reputation":11,"user_id":2819656,"display_name":"R Kelly"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649687630,"creation_date":1643821451,"question_id":70959753,"body_markdown":"I&#39;m not sure what the root issue is but this is the most basic I can make the problem. When I run something through kafka, and my streaming job picks it up, it runs through the entire process up until it&#39;s time to save it out to Cassandra, at which point it hangs. Any and all help is appreciated, been banging my head against this for too long\r\n\r\nSnippets showing the basic problem below.\r\n\r\nStreamingJob.java:\r\n\r\n    final DataStream&lt;Pojo&gt; stream = env.addSource(source)\r\n        .process(new MyProcess());\r\n    CassandraSink.addSink(stream).setClusterBuilder(new ClusterBuilder() {\r\n        @Override\r\n        protected Cluster buildCluster(Cluster.Builder builder) {\r\n            return builder.withCredentials(&quot;&quot;,&quot;&quot;)\r\n                .addContactPoint(&quot;127.0.0.1&quot;).withPort(9042).build();\r\n            }\r\n        })\r\n        .setMapperOptions(() -&gt; new Mapper.Option[]{Mapper.Option.saveNullFields(false)})\r\n        .setDefaultKeyspace(&quot;my_keyspace&quot;).build();\r\n\r\n    env.execute(jobConfig.getName());\r\n\r\nMyProcess.java\r\n\r\n    @Override\r\n    Pojo myPojo = doSomethingtoMyInput();\r\n    out.collect(myPojo);\r\n    //Debugging this proves it works to this point\r\n\r\nMyPojo.java\r\n\r\n    @Table(keyspace = &quot;my_keyspace&quot;, name=&quot;my_table&quot;)\r\n    public class MyPojo {\r\n        @PartitionKey(0)\r\n        @Column\r\n        String user_id;\r\n        @PartitionKey(1)\r\n        @Column\r\n        String other_id;\r\n        @ClusteringColumn\r\n        @Column\r\n        java.util.Date time_id;\r\n    \r\n        //Getters and setters using standard notation\r\n    }\r\n\r\nMy cassandra schema\r\n\r\n    CREATE TABLE my_table (user_id text,\r\n        other_id text,\r\n        time_idtimestamp,\r\n        PRIMARY KEY ((user_id, other_id), time_id)\r\n    ) WITH CLUSTERING ORDER BY (time_id DESC)","title":"Flink 1.11.1 Cassandra Sink does not save when a timestamp is present","body":"<p>I'm not sure what the root issue is but this is the most basic I can make the problem. When I run something through kafka, and my streaming job picks it up, it runs through the entire process up until it's time to save it out to Cassandra, at which point it hangs. Any and all help is appreciated, been banging my head against this for too long</p>\n<p>Snippets showing the basic problem below.</p>\n<p>StreamingJob.java:</p>\n<pre><code>final DataStream&lt;Pojo&gt; stream = env.addSource(source)\n    .process(new MyProcess());\nCassandraSink.addSink(stream).setClusterBuilder(new ClusterBuilder() {\n    @Override\n    protected Cluster buildCluster(Cluster.Builder builder) {\n        return builder.withCredentials(&quot;&quot;,&quot;&quot;)\n            .addContactPoint(&quot;127.0.0.1&quot;).withPort(9042).build();\n        }\n    })\n    .setMapperOptions(() -&gt; new Mapper.Option[]{Mapper.Option.saveNullFields(false)})\n    .setDefaultKeyspace(&quot;my_keyspace&quot;).build();\n\nenv.execute(jobConfig.getName());\n</code></pre>\n<p>MyProcess.java</p>\n<pre><code>@Override\nPojo myPojo = doSomethingtoMyInput();\nout.collect(myPojo);\n//Debugging this proves it works to this point\n</code></pre>\n<p>MyPojo.java</p>\n<pre><code>@Table(keyspace = &quot;my_keyspace&quot;, name=&quot;my_table&quot;)\npublic class MyPojo {\n    @PartitionKey(0)\n    @Column\n    String user_id;\n    @PartitionKey(1)\n    @Column\n    String other_id;\n    @ClusteringColumn\n    @Column\n    java.util.Date time_id;\n\n    //Getters and setters using standard notation\n}\n</code></pre>\n<p>My cassandra schema</p>\n<pre><code>CREATE TABLE my_table (user_id text,\n    other_id text,\n    time_idtimestamp,\n    PRIMARY KEY ((user_id, other_id), time_id)\n) WITH CLUSTERING ORDER BY (time_id DESC)\n</code></pre>\n"},{"tags":["java","swagger","generator","documentation","openapi"],"owner":{"account_id":11253290,"reputation":1289,"user_id":9167731,"display_name":"Semyon Kirekov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1649687600,"creation_date":1649687600,"question_id":71829673,"body_markdown":"I have a vanilla Java project (no frameworks). And here is a simple Java class.\r\n\r\n```java\r\n@AllArgsConstructor\r\n@Getter\r\npublic class Person {\r\n    private final String firstName;\r\n    private final String lastName;\r\n}\r\n```\r\n\r\nI want to generate Open API JSON for the specified classes during the build time. For example, I could write a unit test that calls the required functions and write the result JSON file to the `build` folder.\r\n\r\nI searched the Internet and I haven&#39;t found solution for a regular Java project. In the [Swagger-Core](https://github.com/swagger-api/swagger-core) repository there are examples for JAX-RS and Spring Boot projects. The thing is that I don&#39;t have any endpoints. There are just some data classes that I want to document.\r\n\r\nHas anybody solved similar problem? What is the possible approach?","title":"Vanilla Java - Generate Swagger JSON","body":"<p>I have a vanilla Java project (no frameworks). And here is a simple Java class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@AllArgsConstructor\n@Getter\npublic class Person {\n    private final String firstName;\n    private final String lastName;\n}\n</code></pre>\n<p>I want to generate Open API JSON for the specified classes during the build time. For example, I could write a unit test that calls the required functions and write the result JSON file to the <code>build</code> folder.</p>\n<p>I searched the Internet and I haven't found solution for a regular Java project. In the <a href=\"https://github.com/swagger-api/swagger-core\" rel=\"nofollow noreferrer\">Swagger-Core</a> repository there are examples for JAX-RS and Spring Boot projects. The thing is that I don't have any endpoints. There are just some data classes that I want to document.</p>\n<p>Has anybody solved similar problem? What is the possible approach?</p>\n"},{"tags":["java","loops","conditional-operator","control-flow"],"comments":[{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":1,"creation_date":1534872522,"post_id":51953875,"comment_id":90858108,"body_markdown":"how about using  `while`？ https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html","body":"how about using  <code>while</code>？ <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/nutsandbolts/while.html</a>"},{"owner":{"account_id":14196991,"reputation":9,"user_id":10256010,"display_name":"E.Canberk"},"score":0,"creation_date":1534873713,"post_id":51953875,"comment_id":90858643,"body_markdown":"I did but it started an infinite loop and I couldn&#39;t fixed it.","body":"I did but it started an infinite loop and I couldn&#39;t fixed it."},{"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"score":0,"creation_date":1534873782,"post_id":51953875,"comment_id":90858682,"body_markdown":"Please read the content in the link. It will help.","body":"Please read the content in the link. It will help."}],"answers":[{"tags":[],"owner":{"account_id":3188477,"reputation":111,"user_id":2693415,"display_name":"Mohamed Fouad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534874037,"creation_date":1534874037,"answer_id":51954215,"question_id":51953875,"body_markdown":"check the updated code and try to read about while loops\r\n\r\n        \r\n    import java.util.Scanner;\r\n    \r\n    public class OddsAndEvens {\r\n    \r\n    public static void main(String[] args) {\r\n    \tScanner input = new Scanner(System.in);\r\n    \tSystem.out.println(&quot;Let’s play a game called “Odds and Evens”&quot;);\r\n    \tSystem.out.println(&quot;What is your name?&quot;);\r\n    \tString name = input.next();\r\n\t\tdo {\r\n\t\t\tSystem.out.println(&quot;Hello &quot; + name + &quot; which one do you choose? (O)dds or (E)vens?&quot;);\r\n\r\n\t\t\tString oe = input.next();\r\n\r\n\t\t\tif (oe.equalsIgnoreCase(&quot;e&quot;)) {\r\n\t\t\t\tSystem.out.println(name + &quot; has picked evens! The computer will be odds.&quot;);\r\n\t\t\t\tbreak; // after any valid input we will break it\r\n\t\t\t} else if (oe.equalsIgnoreCase(&quot;o&quot;)) {\r\n\t\t\t\tSystem.out.println(name + &quot; has picked odds! The computer will be evens.&quot;);\r\n\t\t\t\tbreak;// after any valid input we will break it\r\n\t\t\t} else {\r\n\t\t\t\tSystem.out.println(&quot;You have typed an invalid answer.&quot;);\r\n\t\t\t}\r\n\t\t} while (true); // this OO loop\r\n\r\n\t}\r\n\r\n    }\r\n","title":"Redirecting the flow of the code for an Error Message","body":"<p>check the updated code and try to read about while loops</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class OddsAndEvens {\n\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n    System.out.println(\"Let’s play a game called “Odds and Evens”\");\n    System.out.println(\"What is your name?\");\n    String name = input.next();\n    do {\n        System.out.println(\"Hello \" + name + \" which one do you choose? (O)dds or (E)vens?\");\n\n        String oe = input.next();\n\n        if (oe.equalsIgnoreCase(\"e\")) {\n            System.out.println(name + \" has picked evens! The computer will be odds.\");\n            break; // after any valid input we will break it\n        } else if (oe.equalsIgnoreCase(\"o\")) {\n            System.out.println(name + \" has picked odds! The computer will be evens.\");\n            break;// after any valid input we will break it\n        } else {\n            System.out.println(\"You have typed an invalid answer.\");\n        }\n    } while (true); // this OO loop\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":230460,"reputation":23832,"user_id":494074,"accept_rate":76,"display_name":"Ankur Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1534874392,"creation_date":1534874392,"answer_id":51954304,"question_id":51953875,"body_markdown":"The fix is simple, see below\r\n\r\n        import java.util.Scanner;\r\n        \r\n        public class OddsAndEvens {\r\n            public static void main(String[] args) {\r\n                Scanner input = new Scanner(System.in);\r\n                System.out.println(&quot;Let’s play a game called “Odds and Evens”&quot;);\r\n                System.out.println(&quot;What is your name?&quot;);\r\n                String name = input.next();\r\n                while(true) {\r\n                // 1 &lt;------------------------\r\n        \r\n                System.out.println(&quot;Hello &quot; + name + &quot; which one do you choose? (O)dds or (E)vens?&quot;); \r\n        \r\n                String oe = input.next();\r\n        \r\n                if (oe.equalsIgnoreCase(&quot;e&quot;)) {\r\n                    System.out.println(name + &quot; has picked evens! The computer will be odds.&quot;);\r\n                    //do even logic here\r\n                    break;\r\n                }\r\n                if (oe.equalsIgnoreCase(&quot;o&quot;)) {\r\n                    System.out.println(name + &quot; has picked odds! The computer will be evens.&quot;);\r\n                    //do odd logic here\r\n                    break;\r\n                }\r\n        \r\n                else {\r\n                    System.out.println(&quot;You have typed an invalid answer, lets try again&quot;);\r\n        \r\n                }\r\n            }\r\n            \r\n        \r\n            }\r\n        \r\n        }\r\n\r\n","title":"Redirecting the flow of the code for an Error Message","body":"<p>The fix is simple, see below</p>\n\n<pre><code>    import java.util.Scanner;\n\n    public class OddsAndEvens {\n        public static void main(String[] args) {\n            Scanner input = new Scanner(System.in);\n            System.out.println(\"Let’s play a game called “Odds and Evens”\");\n            System.out.println(\"What is your name?\");\n            String name = input.next();\n            while(true) {\n            // 1 &lt;------------------------\n\n            System.out.println(\"Hello \" + name + \" which one do you choose? (O)dds or (E)vens?\"); \n\n            String oe = input.next();\n\n            if (oe.equalsIgnoreCase(\"e\")) {\n                System.out.println(name + \" has picked evens! The computer will be odds.\");\n                //do even logic here\n                break;\n            }\n            if (oe.equalsIgnoreCase(\"o\")) {\n                System.out.println(name + \" has picked odds! The computer will be evens.\");\n                //do odd logic here\n                break;\n            }\n\n            else {\n                System.out.println(\"You have typed an invalid answer, lets try again\");\n\n            }\n        }\n\n\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":14196991,"reputation":9,"user_id":10256010,"display_name":"E.Canberk"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":51954304,"answer_count":2,"score":-1,"last_activity_date":1649687561,"creation_date":1534872444,"question_id":51953875,"body_markdown":"I want to redirect the flow of code to &quot;1&quot; part after the `else` statement. \r\n\r\nI have tried to achieve it by creating loops and different methods but I couldn&#39;t make it. \r\n\r\nThe thing that I want is, it will give an error when an invalid answer is given and will ask the questions again.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class OddsAndEvens {\r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;Let’s play a game called “Odds and Evens”&quot;);\r\n            System.out.println(&quot;What is your name?&quot;);\r\n            String name = input.next();\r\n            \r\n            // 1 &lt;------------------------\r\n\r\n            System.out.println(&quot;Hello &quot; + name + &quot; which one do you choose? (O)dds or (E)vens?&quot;); \r\n\r\n            String oe = input.next();\r\n\r\n            if (oe.equalsIgnoreCase(&quot;e&quot;)) {\r\n                System.out.println(name + &quot; has picked evens! The computer will be odds.&quot;);\r\n            }\r\n            if (oe.equalsIgnoreCase(&quot;o&quot;)) {\r\n                System.out.println(name + &quot; has picked odds! The computer will be evens.&quot;);\r\n            }\r\n\r\n            else {\r\n                System.out.println(&quot;You have typed an invalid answer.&quot;);\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n","title":"Redirecting the flow of the code for an Error Message","body":"<p>I want to redirect the flow of code to \"1\" part after the <code>else</code> statement. </p>\n\n<p>I have tried to achieve it by creating loops and different methods but I couldn't make it. </p>\n\n<p>The thing that I want is, it will give an error when an invalid answer is given and will ask the questions again.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class OddsAndEvens {\n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(\"Let’s play a game called “Odds and Evens”\");\n        System.out.println(\"What is your name?\");\n        String name = input.next();\n\n        // 1 &lt;------------------------\n\n        System.out.println(\"Hello \" + name + \" which one do you choose? (O)dds or (E)vens?\"); \n\n        String oe = input.next();\n\n        if (oe.equalsIgnoreCase(\"e\")) {\n            System.out.println(name + \" has picked evens! The computer will be odds.\");\n        }\n        if (oe.equalsIgnoreCase(\"o\")) {\n            System.out.println(name + \" has picked odds! The computer will be evens.\");\n        }\n\n        else {\n            System.out.println(\"You have typed an invalid answer.\");\n\n        }\n\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","deserialization"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1649674364,"post_id":71826006,"comment_id":126927853,"body_markdown":"*I get into problems with deserializing response data from device.* Which are..?","body":"<i>I get into problems with deserializing response data from device.</i> Which are..?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1649680044,"post_id":71826006,"comment_id":126929877,"body_markdown":"No, I don’t think there is any automatic way. I wouldn’t find it too hard to write a parser, though.","body":"No, I don’t think there is any automatic way. I wouldn’t find it too hard to write a parser, though."},{"owner":{"account_id":19424396,"reputation":11,"user_id":16562822,"display_name":"Duy Nguyễn"},"score":0,"creation_date":1649687624,"post_id":71826006,"comment_id":126933092,"body_markdown":"Cause I got to work with giant data. if I have to parse every single field to a Java object, It does not make sense. By the way, do you have any suggestions for me to write a parser","body":"Cause I got to work with giant data. if I have to parse every single field to a Java object, It does not make sense. By the way, do you have any suggestions for me to write a parser"}],"owner":{"account_id":19424396,"reputation":11,"user_id":16562822,"display_name":"Duy Nguyễn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1649687342,"creation_date":1649671747,"question_id":71826006,"body_markdown":"I am using Java core to build an adapter that connects to the device to get the data. I get into problems with ***deserializing response data*** from device. I am wondering if we have any way to auto deserialize these data to Java objects in an automatic way?\r\n\r\n**Here is the response data**\r\n\r\n``` Card Type              : &quot;Mankata MF&quot;\r\nPart Number            : B-292D-HD2\r\nSerial Number          : DAK-031428016165\r\nFirmware Version       : 2.5.6\r\nFirmware Date          : &quot;Feb 28 2020&quot;\r\nFirmware Time          : &quot;15:53:30&quot;\r\nFirmware Options       : &quot;KLV, SRT&quot;\r\nHardware Version       : --\r\nHardware Compatibility : -001G\r\nCPLD Version           : 9 (Official, Internal flash)\r\nBoot Version           : &quot;U-Boot 2010.06 (Mar 19 2014 - 10:37:19)-Mankata MF 0.9.14&quot; ```\r\n","title":"How to deserialize response from CLI command?","body":"<p>I am using Java core to build an adapter that connects to the device to get the data. I get into problems with <em><strong>deserializing response data</strong></em> from device. I am wondering if we have any way to auto deserialize these data to Java objects in an automatic way?</p>\n<p><strong>Here is the response data</strong></p>\n<pre><code>Part Number            : B-292D-HD2\nSerial Number          : DAK-031428016165\nFirmware Version       : 2.5.6\nFirmware Date          : &quot;Feb 28 2020&quot;\nFirmware Time          : &quot;15:53:30&quot;\nFirmware Options       : &quot;KLV, SRT&quot;\nHardware Version       : --\nHardware Compatibility : -001G\nCPLD Version           : 9 (Official, Internal flash)\nBoot Version           : &quot;U-Boot 2010.06 (Mar 19 2014 - 10:37:19)-Mankata MF 0.9.14&quot; ```\n</code></pre>\n"},{"tags":["java","spring","rest","hyperlink","hateoas"],"comments":[{"owner":{"account_id":2221015,"reputation":173,"user_id":1960374,"display_name":"nitarshs"},"score":0,"creation_date":1557409747,"post_id":56058882,"comment_id":98762077,"body_markdown":"Is this a generic question or is it intended for a particular use-case? Because the answers will vary accordingly.","body":"Is this a generic question or is it intended for a particular use-case? Because the answers will vary accordingly."}],"answers":[{"tags":[],"owner":{"account_id":3787373,"reputation":447,"user_id":3144881,"accept_rate":100,"display_name":"CodeFox"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1557403317,"creation_date":1557403317,"answer_id":56059002,"question_id":56058882,"body_markdown":"Limit and offset are a little easier to use in code if you don&#39;t use spring for example, you can pass these values directly to the dbms.\r\n\r\nIn case of page and size you have to calculate the values offset and limit. In case of a framework it will do the work for you.\r\n\r\nBut in my opinion, there is no &quot;best way&quot; of doing it. Both solutions works fine for multiple cases.","title":"What pagination method is better for rest api&#39;s (page, size) or (limit, offset)","body":"<p>Limit and offset are a little easier to use in code if you don't use spring for example, you can pass these values directly to the dbms.</p>\n\n<p>In case of page and size you have to calculate the values offset and limit. In case of a framework it will do the work for you.</p>\n\n<p>But in my opinion, there is no \"best way\" of doing it. Both solutions works fine for multiple cases.</p>\n"},{"tags":[],"owner":{"account_id":15787984,"reputation":317,"user_id":11392112,"display_name":"admly"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1557403387,"creation_date":1557403387,"answer_id":56059021,"question_id":56058882,"body_markdown":"I use the page&amp;limit approach. IMHO those are the best names for params. So it would go like this:\r\n\r\n    https://somewhere.com/results?page=1&amp;limit=10\r\n\r\nI couldn&#39;t find any clear answers on &#39;how to do it&#39; question.","title":"What pagination method is better for rest api&#39;s (page, size) or (limit, offset)","body":"<p>I use the page&amp;limit approach. IMHO those are the best names for params. So it would go like this:</p>\n\n<pre><code>https://somewhere.com/results?page=1&amp;limit=10\n</code></pre>\n\n<p>I couldn't find any clear answers on 'how to do it' question.</p>\n"},{"tags":[],"owner":{"account_id":210642,"reputation":8430,"user_id":1347816,"accept_rate":78,"display_name":"LEMUEL  ADANE"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1636482929,"creation_date":1589753724,"answer_id":61859519,"question_id":56058882,"body_markdown":"In Page/PageSize vs Offset/Limit, using Page/PageSize is simpler, because PageSize is the same for all Pages ; but using Offset/Limit gives you more precise data if you are targeting specific range of items, and you cannot do this using Page/PageSize method. Image below shows you the relationship between the two:\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kzGxJ.png\r\n\r\nOn the first block if you are targeting for the item 6 to item 8, your PageSize is 3:\r\n\r\n    Limit = PageSize = 3\r\n    Page = 3 // from the first block above, item 6 to item 8 sits on Page 3\r\n    Offset = (Page * PageSize) - PageSize\r\n    Offset = (3 * 3) - 3\r\n    Offset = 6\r\n\r\nOn the second block if you are targeting for the item 7 to item 9, so your PageSize is 3 again:\r\n    \r\n    Limit = PageSize = 3\r\n    Page = 3.3333 // from the 2nd block, item 7 to item 9 sits exactly in Page = 3.3333, and not in Page = 3\r\n    Offset = (Page * PageSize) - PageSize\r\n    Offset = (3.3333 * 3) - 3\r\n    Offset = 9.9999 - 3\r\n    Offset = 7 \r\n\r\nOn the 3rd block you are targeting for item 7 to item 10, so your PageSize = 4:\r\n    \r\n    Limit = PageSize = 4\r\n    Page = 2.75 // from the 3rd block, item 7 to item 9 sits exactly in Page = 2.75, and not in Page 3, if the PageSize is 4\r\n    Offset = (Page * PageSize) - PageSize\r\n    Offset = (2.75 * 4) - 4\r\n    Offset = 11 - 4\r\n    Offset = 7 \r\n\r\nOvbiously the Offset is the starting index of your target items and the Limit is the count of the items you are targeting. I&#39;m just showing you the relationship of the 2 methods.","title":"What pagination method is better for rest api&#39;s (page, size) or (limit, offset)","body":"<p>In Page/PageSize vs Offset/Limit, using Page/PageSize is simpler, because PageSize is the same for all Pages ; but using Offset/Limit gives you more precise data if you are targeting specific range of items, and you cannot do this using Page/PageSize method. Image below shows you the relationship between the two:</p>\n<p><a href=\"https://i.stack.imgur.com/kzGxJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kzGxJ.png\" alt=\"enter image description here\" /></a></p>\n<p>On the first block if you are targeting for the item 6 to item 8, your PageSize is 3:</p>\n<pre><code>Limit = PageSize = 3\nPage = 3 // from the first block above, item 6 to item 8 sits on Page 3\nOffset = (Page * PageSize) - PageSize\nOffset = (3 * 3) - 3\nOffset = 6\n</code></pre>\n<p>On the second block if you are targeting for the item 7 to item 9, so your PageSize is 3 again:</p>\n<pre><code>Limit = PageSize = 3\nPage = 3.3333 // from the 2nd block, item 7 to item 9 sits exactly in Page = 3.3333, and not in Page = 3\nOffset = (Page * PageSize) - PageSize\nOffset = (3.3333 * 3) - 3\nOffset = 9.9999 - 3\nOffset = 7 \n</code></pre>\n<p>On the 3rd block you are targeting for item 7 to item 10, so your PageSize = 4:</p>\n<pre><code>Limit = PageSize = 4\nPage = 2.75 // from the 3rd block, item 7 to item 9 sits exactly in Page = 2.75, and not in Page 3, if the PageSize is 4\nOffset = (Page * PageSize) - PageSize\nOffset = (2.75 * 4) - 4\nOffset = 11 - 4\nOffset = 7 \n</code></pre>\n<p>Ovbiously the Offset is the starting index of your target items and the Limit is the count of the items you are targeting. I'm just showing you the relationship of the 2 methods.</p>\n"},{"tags":[],"owner":{"account_id":907672,"reputation":668,"user_id":942223,"accept_rate":50,"display_name":"tiriana"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649687257,"creation_date":1649687257,"answer_id":71829578,"question_id":56058882,"body_markdown":"I think **limit/size** is better because it gives the client more options. They can request any set of results. The downside is that the client needs to calculate the offset.\r\n\r\nThe **page/size** is tempting, because it is more natural for ppl, and easier for clients to implement. \r\nAnd as long as you don&#39;t need to get 50 results, but omit the first 25 of them it is fine. But if you do - that&#39;s a bummer.","title":"What pagination method is better for rest api&#39;s (page, size) or (limit, offset)","body":"<p>I think <strong>limit/size</strong> is better because it gives the client more options. They can request any set of results. The downside is that the client needs to calculate the offset.</p>\n<p>The <strong>page/size</strong> is tempting, because it is more natural for ppl, and easier for clients to implement.\nAnd as long as you don't need to get 50 results, but omit the first 25 of them it is fine. But if you do - that's a bummer.</p>\n"}],"owner":{"account_id":5489172,"reputation":1997,"user_id":4363046,"accept_rate":67,"display_name":"MaxExplode"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17718,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":4,"score":9,"last_activity_date":1649687257,"creation_date":1557402912,"question_id":56058882,"body_markdown":"I searched many stack overflow answers,articles and could&#39;t get an concrete idea about this and that is why i&#39;m asking this question,\r\n\r\nReferences : [10 Best Practices for Better RESTful API][1]\r\n\r\nI am just wondering what should we need to use when we do pagination in rest apis,\r\nIn spring framework they are providing `(page,size)` by default to implement paging in apis and i think using `(page, size)` is more human readable and make sense rather than `(limit, offset)`, Is there any reason why spring is providing `(page,size)` by default rather than limit,offset and many answers are to justify that `(limit,offset)` is better than `(page,size)`.\r\n\r\n&gt; https://somewhere.com/results?page=1&amp;size=20\r\n&gt; \r\n&gt; https://somewhere.com/results?limit=20&amp;offset=0\r\n\r\n  [1]: http://web.archive.org/web/20190117150929/https://blog.mwaysolutions.com/2014/06/05/10-best-practices-for-better-restful-api/","title":"What pagination method is better for rest api&#39;s (page, size) or (limit, offset)","body":"<p>I searched many stack overflow answers,articles and could't get an concrete idea about this and that is why i'm asking this question,</p>\n<p>References : <a href=\"http://web.archive.org/web/20190117150929/https://blog.mwaysolutions.com/2014/06/05/10-best-practices-for-better-restful-api/\" rel=\"noreferrer\">10 Best Practices for Better RESTful API</a></p>\n<p>I am just wondering what should we need to use when we do pagination in rest apis,\nIn spring framework they are providing <code>(page,size)</code> by default to implement paging in apis and i think using <code>(page, size)</code> is more human readable and make sense rather than <code>(limit, offset)</code>, Is there any reason why spring is providing <code>(page,size)</code> by default rather than limit,offset and many answers are to justify that <code>(limit,offset)</code> is better than <code>(page,size)</code>.</p>\n<blockquote>\n<p><a href=\"https://somewhere.com/results?page=1&amp;size=20\" rel=\"noreferrer\">https://somewhere.com/results?page=1&amp;size=20</a></p>\n<p><a href=\"https://somewhere.com/results?limit=20&amp;offset=0\" rel=\"noreferrer\">https://somewhere.com/results?limit=20&amp;offset=0</a></p>\n</blockquote>\n"},{"tags":["java","input","control-flow"],"comments":[{"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"score":0,"creation_date":1419661943,"post_id":27664950,"comment_id":43745305,"body_markdown":"Sorry its not clear what you want from Question 1.","body":"Sorry its not clear what you want from Question 1."},{"owner":{"account_id":2202379,"reputation":68,"user_id":1946469,"accept_rate":25,"display_name":"karthick"},"score":0,"creation_date":1419662091,"post_id":27664950,"comment_id":43745317,"body_markdown":"wherever i put the statement before try or after try it executes in the sameway//(1) BufferedReader ageInput = new BufferedReader (new InputStreamReader (System.in));","body":"wherever i put the statement before try or after try it executes in the sameway//(1) BufferedReader ageInput = new BufferedReader (new InputStreamReader (System.in));"},{"owner":{"account_id":3329749,"reputation":8669,"user_id":2798955,"accept_rate":28,"display_name":"Bruce"},"score":0,"creation_date":1419662923,"post_id":27664950,"comment_id":43745437,"body_markdown":"what type of different you expect from these two","body":"what type of different you expect from these two"}],"answers":[{"tags":[],"owner":{"account_id":3329749,"reputation":8669,"user_id":2798955,"accept_rate":28,"display_name":"Bruce"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419663328,"creation_date":1419661974,"answer_id":27664992,"question_id":27664950,"body_markdown":"Simply use Trim function to remove spaces before and after a input\r\n\r\n    ageInput.readLine().trim()\r\n\r\nThis is the definition of `trim()` method\r\n\r\n    public String trim() {\r\n            int len = value.length;\r\n            int st = 0;\r\n            char[] val = value;    /* avoid getfield opcode */\r\n    \r\n            while ((st &lt; len) &amp;&amp; (val[st] &lt;= &#39; &#39;)) {\r\n                st++;\r\n            }\r\n            while ((st &lt; len) &amp;&amp; (val[len - 1] &lt;= &#39; &#39;)) {\r\n                len--;\r\n            }\r\n            return ((st &gt; 0) || (len &lt; value.length)) ? substring(st, len) : this;\r\n        }\r\n\r\nif you only want to remove first part remove second one\r\n\r\n    while ((st &lt; len) &amp;&amp; (val[len - 1] &lt;= &#39; &#39;)) {\r\n        len--;\r\n    }\r\n\r\n\r\n\r\nFor Question 2 `readline()` is responsible for get the input. you can create `buffered` `reader` object anywhere before `readline`","title":"Simple java input Strings","body":"<p>Simply use Trim function to remove spaces before and after a input</p>\n\n<pre><code>ageInput.readLine().trim()\n</code></pre>\n\n<p>This is the definition of <code>trim()</code> method</p>\n\n<pre><code>public String trim() {\n        int len = value.length;\n        int st = 0;\n        char[] val = value;    /* avoid getfield opcode */\n\n        while ((st &lt; len) &amp;&amp; (val[st] &lt;= ' ')) {\n            st++;\n        }\n        while ((st &lt; len) &amp;&amp; (val[len - 1] &lt;= ' ')) {\n            len--;\n        }\n        return ((st &gt; 0) || (len &lt; value.length)) ? substring(st, len) : this;\n    }\n</code></pre>\n\n<p>if you only want to remove first part remove second one</p>\n\n<pre><code>while ((st &lt; len) &amp;&amp; (val[len - 1] &lt;= ' ')) {\n    len--;\n}\n</code></pre>\n\n<p>For Question 2 <code>readline()</code> is responsible for get the input. you can create <code>buffered</code> <code>reader</code> object anywhere before <code>readline</code></p>\n"},{"tags":[],"owner":{"account_id":4686595,"reputation":5802,"user_id":3793867,"accept_rate":29,"display_name":"Darshan Lila"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1419661998,"creation_date":1419661998,"answer_id":27664996,"question_id":27664950,"body_markdown":"&gt;Question2:While executing by 999 if i type 999 without giving space it is execute it gives some output .how to avoid whitespaces in the beginning like whatever i am giving whether 999 or 999 i need same output. I need method to avoid whitespaces in the input.\r\n\r\nTo avoid white spaces simply remove them from strings like following:\r\n\r\n    userInput = ageInput.readLine().replaceAll(&quot; &quot;,&quot;&quot;);\r\n    intInput = Integer.parseInt (userInput);\r\n\r\n&gt;Question 1: Above line works fine (1) when we change it into other place which i marked as (2). // but while executing &quot;Please enter your age&quot;line comes first though i create bufferedreader object before that statement in case (1).I expect compiler should wait for user input but it prints the statement. Though i create ageInput before try.\r\n\r\nThis is too ambiguous.","title":"Simple java input Strings","body":"<blockquote>\n  <p>Question2:While executing by 999 if i type 999 without giving space it is execute it gives some output .how to avoid whitespaces in the beginning like whatever i am giving whether 999 or 999 i need same output. I need method to avoid whitespaces in the input.</p>\n</blockquote>\n\n<p>To avoid white spaces simply remove them from strings like following:</p>\n\n<pre><code>userInput = ageInput.readLine().replaceAll(\" \",\"\");\nintInput = Integer.parseInt (userInput);\n</code></pre>\n\n<blockquote>\n  <p>Question 1: Above line works fine (1) when we change it into other place which i marked as (2). // but while executing \"Please enter your age\"line comes first though i create bufferedreader object before that statement in case (1).I expect compiler should wait for user input but it prints the statement. Though i create ageInput before try.</p>\n</blockquote>\n\n<p>This is too ambiguous.</p>\n"},{"tags":[],"owner":{"account_id":121840,"reputation":36551,"user_id":315228,"accept_rate":100,"display_name":"SMA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419662545,"creation_date":1419662213,"answer_id":27665017,"question_id":27664950,"body_markdown":"Answer #1:  \r\n\r\nYou are asking for user input after line 2 i.e. after print statement and hence it wait&#39;s after asking the question. If you move statement `userInput = ageInput.readLine();` before print statement (keeping Buffered reader&#39;s instantiation at line 1) then it will wait for user input and then will print the statement.\r\n\r\nAnswer #2:\r\n\r\nYou could use String&#39;s `trim()` [method](http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim%28%29) as below:\r\n\r\n    userInput = ageInput.readLine().trim();\r\n\r\nIf you need user defined function (which i would avoid), you could do something like:\r\n\r\n    public String myStringTrimmer() {\r\n        int len = value.length;\r\n        int st = 0;\r\n        char[] val = userInput.toCharArray();\r\n        while ((st &lt; len) &amp;&amp; (val[st] &lt;= &#39; &#39;)) {\r\n            st++;\r\n        }\r\n        while ((st &lt; len) &amp;&amp; (val[len - 1] &lt;= &#39; &#39;)) {\r\n            len--;\r\n        }\r\n        return ((st &gt; 0) || (len &lt; value.length)) ? userInput.substring(st, len) : userInput;\r\n    }","title":"Simple java input Strings","body":"<p>Answer #1:  </p>\n\n<p>You are asking for user input after line 2 i.e. after print statement and hence it wait's after asking the question. If you move statement <code>userInput = ageInput.readLine();</code> before print statement (keeping Buffered reader's instantiation at line 1) then it will wait for user input and then will print the statement.</p>\n\n<p>Answer #2:</p>\n\n<p>You could use String's <code>trim()</code> <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#trim%28%29\" rel=\"nofollow\">method</a> as below:</p>\n\n<pre><code>userInput = ageInput.readLine().trim();\n</code></pre>\n\n<p>If you need user defined function (which i would avoid), you could do something like:</p>\n\n<pre><code>public String myStringTrimmer() {\n    int len = value.length;\n    int st = 0;\n    char[] val = userInput.toCharArray();\n    while ((st &lt; len) &amp;&amp; (val[st] &lt;= ' ')) {\n        st++;\n    }\n    while ((st &lt; len) &amp;&amp; (val[len - 1] &lt;= ' ')) {\n        len--;\n    }\n    return ((st &gt; 0) || (len &lt; value.length)) ? userInput.substring(st, len) : userInput;\n}\n</code></pre>\n"}],"owner":{"account_id":2202379,"reputation":68,"user_id":1946469,"accept_rate":25,"display_name":"karthick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":27664996,"answer_count":3,"score":-2,"last_activity_date":1649687193,"creation_date":1419661442,"question_id":27664950,"body_markdown":"    import java.io.*;\r\n\r\n    public class ManyTickets\r\n     {\r\n\r\n      public static void main (String [] args) throws IOException\r\n      {\r\n       String userInput;\r\n       String userInput2;\r\n       int intInput = 0;\r\n       int intInput2 = 0;\r\n       double total = 0.00;\r\n       //(1) BufferedReader ageInput = new BufferedReader (new InputStreamReader (System.in));\r\n       \r\nQuestion 1: Above line works fine (1) when we change it into other place which i marked as (2).\r\n // but while executing  &quot;Please enter your age&quot;line  comes first though i create   bufferedreader object before that statement in case (1).I expect compiler  should wait for user input but it prints the statement. Though i create ageInput before try.\r\n\r\n        \r\n        \r\n    try{\r\n        System.out.println(&quot;Please enter your age, or press &#39;999&#39; to exit.&quot;);\r\n      \r\n       //(2) BufferedReader ageInput = new BufferedReader (new InputStreamReader (System.in));\r\n\r\n        userInput = ageInput.readLine();\r\n        intInput = Integer.parseInt (userInput);\r\n        while (intInput != 999)\r\n//Question2:While executing by 999 if i type 999 without giving space it is execute it gives some output but not exit.how to avoid whitespaces in the beginning like whatever i am giving whether 999 or      999 or999 i need same output.I need exit but not for input like 99 9; I need method to avoid whitespaces in the input(beginning).\r\n        \r\n    {\r\n         if (intInput &lt; 0 || intInput &gt; 110)\r\n         System.out.println(&quot;Invalid entry, or your age seems a bit too high to enter buy\r\n         tickets);\r\n         else if (intInput &lt;= 12)\r\n         {\r\n          total = total + 6;\r\n          System.out.println(&quot;The ticket cost for 1 ticket is &quot; + total);\r\n         }\r\n          else if (intInput &lt;= 64)\r\n         {\r\n          total = total + 11;\r\n          System.out.println(&quot;The ticket cost for 1 ticket is &quot; + total);  \r\n          }\r\n           else\r\n          {\r\n           total = total + 8;\r\n           System.out.println(&quot;The ticket cost for 1 ticket is $&quot; + total);\r\n           }\r\n           System.out.println(&quot;So far, your tickets cost is: $&quot; + total  );\r\n           System.out.print(&quot;Would you like to buy more tickets? You can buy up to 1 more ticket    per customer! If no press 999to exit&quot;);\r\n           userInput = ageInput.readLine();\r\n           intInput2 = Integer.parseInt (userInput);  \r\n            }\r\n           }catch (NumberFormatException e){\r\n           System.out.println(&quot;Please restart the program, and enter an integer instead!&quot;);\r\n            }\r\n            } \r\n           {\r\n            double total = 0.0;\r\n            System.out.println(&quot;Thank you,  The total cost for the ticket is: $&quot; + total);\r\n            System.out.println(&quot;Have a nice day!&quot;);\r\n           }\r\n           }","title":"Simple java input Strings","body":"<pre><code>import java.io.*;\n\npublic class ManyTickets\n {\n\n  public static void main (String [] args) throws IOException\n  {\n   String userInput;\n   String userInput2;\n   int intInput = 0;\n   int intInput2 = 0;\n   double total = 0.00;\n   //(1) BufferedReader ageInput = new BufferedReader (new InputStreamReader (System.in));\n</code></pre>\n\n<p>Question 1: Above line works fine (1) when we change it into other place which i marked as (2).\n // but while executing  \"Please enter your age\"line  comes first though i create   bufferedreader object before that statement in case (1).I expect compiler  should wait for user input but it prints the statement. Though i create ageInput before try.</p>\n\n<pre><code>try{\n    System.out.println(\"Please enter your age, or press '999' to exit.\");\n\n   //(2) BufferedReader ageInput = new BufferedReader (new InputStreamReader (System.in));\n\n    userInput = ageInput.readLine();\n    intInput = Integer.parseInt (userInput);\n    while (intInput != 999)\n</code></pre>\n\n<p>//Question2:While executing by 999 if i type 999 without giving space it is execute it gives some output but not exit.how to avoid whitespaces in the beginning like whatever i am giving whether 999 or      999 or999 i need same output.I need exit but not for input like 99 9; I need method to avoid whitespaces in the input(beginning).</p>\n\n<pre><code>{\n     if (intInput &lt; 0 || intInput &gt; 110)\n     System.out.println(\"Invalid entry, or your age seems a bit too high to enter buy\n     tickets);\n     else if (intInput &lt;= 12)\n     {\n      total = total + 6;\n      System.out.println(\"The ticket cost for 1 ticket is \" + total);\n     }\n      else if (intInput &lt;= 64)\n     {\n      total = total + 11;\n      System.out.println(\"The ticket cost for 1 ticket is \" + total);  \n      }\n       else\n      {\n       total = total + 8;\n       System.out.println(\"The ticket cost for 1 ticket is $\" + total);\n       }\n       System.out.println(\"So far, your tickets cost is: $\" + total  );\n       System.out.print(\"Would you like to buy more tickets? You can buy up to 1 more ticket    per customer! If no press 999to exit\");\n       userInput = ageInput.readLine();\n       intInput2 = Integer.parseInt (userInput);  \n        }\n       }catch (NumberFormatException e){\n       System.out.println(\"Please restart the program, and enter an integer instead!\");\n        }\n        } \n       {\n        double total = 0.0;\n        System.out.println(\"Thank you,  The total cost for the ticket is: $\" + total);\n        System.out.println(\"Have a nice day!\");\n       }\n       }\n</code></pre>\n"},{"tags":["java","android","storage","android-11"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1644556669,"post_id":71074332,"comment_id":125643512,"body_markdown":"`/Android/data/com.www.wwwwww/files/` ? You mean `/storage/emulated/0/Android/data/com.www.wwwwww/files` ? You do not need any permission for your app specific path and getExternalFilesDir(null) will give it to you. Please edit your post.","body":"<code>&#47;Android&#47;data&#47;com.www.wwwwww&#47;files&#47;</code> ? You mean <code>&#47;storage&#47;emulated&#47;0&#47;Android&#47;data&#47;com.www.wwwwww&#47;files</code> ? You do not need any permission for your app specific path and getExternalFilesDir(null) will give it to you. Please edit your post."},{"owner":{"account_id":14396846,"reputation":123,"user_id":10399876,"display_name":"Pakz"},"score":0,"creation_date":1644562553,"post_id":71074332,"comment_id":125644350,"body_markdown":"@blackapps I mean. I need to access another application folder.","body":"@blackapps I mean. I need to access another application folder."},{"owner":{"account_id":14396846,"reputation":123,"user_id":10399876,"display_name":"Pakz"},"score":0,"creation_date":1644563130,"post_id":71074332,"comment_id":125644475,"body_markdown":"@blackapps Sorry, i forgot. Updated already. Any suggestions?","body":"@blackapps Sorry, i forgot. Updated already. Any suggestions?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1644563346,"post_id":71074332,"comment_id":125644518,"body_markdown":"Well as you have seen that is not allowed on 11+. And you did not even use File.exists() and File canRead() before you tried to read.","body":"Well as you have seen that is not allowed on 11+. And you did not even use File.exists() and File canRead() before you tried to read."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1644563462,"post_id":71074332,"comment_id":125644544,"body_markdown":"`//You&#39;ll need to add proper error handling here` Yes. Why didnt you? The printed stacktrace in the logcat would have told you why.","body":"<code>&#47;&#47;You&#39;ll need to add proper error handling here</code> Yes. Why didnt you? The printed stacktrace in the logcat would have told you why."},{"owner":{"account_id":14396846,"reputation":123,"user_id":10399876,"display_name":"Pakz"},"score":0,"creation_date":1644563491,"post_id":71074332,"comment_id":125644551,"body_markdown":"@blackapps Its functional on Android 10 below but in Android 11 it wont.","body":"@blackapps Its functional on Android 10 below but in Android 11 it wont."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1644564275,"post_id":71074332,"comment_id":125644741,"body_markdown":"Also that you should have told at the first line of your post.","body":"Also that you should have told at the first line of your post."},{"owner":{"account_id":14396846,"reputation":123,"user_id":10399876,"display_name":"Pakz"},"score":0,"creation_date":1644565073,"post_id":71074332,"comment_id":125644958,"body_markdown":"@blackapps Here is the Error -----&gt; E/Error:: java.io.FileNotFoundException: /storage/emulated/0/Android/data/com.www.wwwwww/files/www.txt: open failed: EACCES (Permission denied)","body":"@blackapps Here is the Error -----&gt; E/Error:: java.io.FileNotFoundException: /storage/emulated/0/Android/data/com.www.wwwwww/files/www.tx&zwnj;&#8203;t: open failed: EACCES (Permission denied)"}],"answers":[{"tags":[],"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644566443,"creation_date":1644566443,"answer_id":71076814,"question_id":71074332,"body_markdown":"Your app can request **All files access** from the user by doing the following:\r\n\r\n- Declare the `MANAGE_EXTERNAL_STORAGE` permission in the manifest.\r\n- Use the `ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION` intent action to direct users to a system settings page where they can enable the following option for your app: **Allow access to manage all files**.\r\n\r\n\r\nSee more details at https://developer.android.com/training/data-storage/manage-all-files","title":"Unable to read internal storage textfile in Android 11 using Android Java","body":"<p>Your app can request <strong>All files access</strong> from the user by doing the following:</p>\n<ul>\n<li>Declare the <code>MANAGE_EXTERNAL_STORAGE</code> permission in the manifest.</li>\n<li>Use the <code>ACTION_MANAGE_ALL_FILES_ACCESS_PERMISSION</code> intent action to direct users to a system settings page where they can enable the following option for your app: <strong>Allow access to manage all files</strong>.</li>\n</ul>\n<p>See more details at <a href=\"https://developer.android.com/training/data-storage/manage-all-files\" rel=\"nofollow noreferrer\">https://developer.android.com/training/data-storage/manage-all-files</a></p>\n"}],"owner":{"account_id":14396846,"reputation":123,"user_id":10399876,"display_name":"Pakz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1867,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1649687164,"creation_date":1644542942,"question_id":71074332,"body_markdown":"**Hi Guys, i tried to access a textfile in the other application in my /Android/data/com.xxx.xxxxxx/files/ in internal storage using Android 11 but unfortunately in won`t. It works in Android 10 below. It has an error at BufferedReader. Here is the error &quot;open failed: EACCES (Permission denied)&quot;. Any Answers please? Thanks in advance:)**\r\n\r\n&gt; Here is my gradle.\r\n\r\n    android {\r\n    compileSdkVersion 31\r\n    buildToolsVersion &quot;30.0.3&quot;\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.myapplication&quot;\r\n        minSdkVersion 15\r\n        targetSdkVersion 30\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n&gt; Here is my AndroidManifest.xml\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:requestLegacyExternalStorage=&quot;true&quot;\r\n        android:allowBackup=&quot;false&quot;\r\n        android:icon=&quot;@drawable/ic_launcher_background&quot;\r\n        android:label=&quot;My Application&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n\r\n&gt; Here is my MainActivity.java\r\n\r\n        public void read_file(){\r\n        String state = Environment.getExternalStorageState();\r\n        if (Environment.MEDIA_MOUNTED.equals(state)) {\r\n            if (SDK_INT &gt;= 23) {\r\n                if (checkPermission()) {\r\n                    File sdcard = Environment.getExternalStorageDirectory();\r\n                    File dir = new File(sdcard.getAbsolutePath() + &quot;/Android/data/com.xxx.xxxxxx/files/&quot;);\r\n\r\n                    if(dir.exists()) {\r\n                        File file = new File(dir, &quot;xxx.txt&quot;);\r\n                        StringBuilder text = new StringBuilder();\r\n                        try {\r\n                            BufferedReader br = new BufferedReader(new FileReader(file));\r\n                            String line;\r\n                            while ((line = br.readLine()) != null) {\r\n                                text.append(line);\r\n                            }\r\n                            br.close();\r\n                        }catch (IOException e) {\r\n                            //You&#39;ll need to add proper error handling here\r\n                        }\r\n                        finally {\r\n                        }\r\n                    }\r\n                } else {\r\n                    showPermissionDialog(); // Code for permission\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/KZNn6.png\r\n  [2]: https://i.stack.imgur.com/4ZfYp.png\r\n  [3]: https://i.stack.imgur.com/Pq5hf.png","title":"Unable to read internal storage textfile in Android 11 using Android Java","body":"<p><strong>Hi Guys, i tried to access a textfile in the other application in my /Android/data/com.xxx.xxxxxx/files/ in internal storage using Android 11 but unfortunately in won`t. It works in Android 10 below. It has an error at BufferedReader. Here is the error &quot;open failed: EACCES (Permission denied)&quot;. Any Answers please? Thanks in advance:)</strong></p>\n<blockquote>\n<p>Here is my gradle.</p>\n</blockquote>\n<pre><code>android {\ncompileSdkVersion 31\nbuildToolsVersion &quot;30.0.3&quot;\n\ndefaultConfig {\n    applicationId &quot;com.example.myapplication&quot;\n    minSdkVersion 15\n    targetSdkVersion 30\n    versionCode 1\n    versionName &quot;1.0&quot;\n\n    testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n}\n</code></pre>\n<blockquote>\n<p>Here is my AndroidManifest.xml</p>\n</blockquote>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_INTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_INTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n\n&lt;application\n    android:requestLegacyExternalStorage=&quot;true&quot;\n    android:allowBackup=&quot;false&quot;\n    android:icon=&quot;@drawable/ic_launcher_background&quot;\n    android:label=&quot;My Application&quot;\n    android:theme=&quot;@style/AppTheme&quot;&gt;\n</code></pre>\n<blockquote>\n<p>Here is my MainActivity.java</p>\n</blockquote>\n<pre><code>    public void read_file(){\n    String state = Environment.getExternalStorageState();\n    if (Environment.MEDIA_MOUNTED.equals(state)) {\n        if (SDK_INT &gt;= 23) {\n            if (checkPermission()) {\n                File sdcard = Environment.getExternalStorageDirectory();\n                File dir = new File(sdcard.getAbsolutePath() + &quot;/Android/data/com.xxx.xxxxxx/files/&quot;);\n\n                if(dir.exists()) {\n                    File file = new File(dir, &quot;xxx.txt&quot;);\n                    StringBuilder text = new StringBuilder();\n                    try {\n                        BufferedReader br = new BufferedReader(new FileReader(file));\n                        String line;\n                        while ((line = br.readLine()) != null) {\n                            text.append(line);\n                        }\n                        br.close();\n                    }catch (IOException e) {\n                        //You'll need to add proper error handling here\n                    }\n                    finally {\n                    }\n                }\n            } else {\n                showPermissionDialog(); // Code for permission\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1402992,"reputation":33392,"user_id":1331415,"accept_rate":57,"display_name":"Simon Dorociak"},"score":0,"creation_date":1386024077,"post_id":20339331,"comment_id":30358774,"body_markdown":"Because student names are not initialised. This is reason why your values are null.","body":"Because student names are not initialised. This is reason why your values are null."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1386024184,"post_id":20339331,"comment_id":30358815,"body_markdown":"This shouldn&#39;t compile...You defined your class as `Student` but have a constructor defined as `public StudentData(String name)`...","body":"This shouldn&#39;t compile...You defined your class as <code>Student</code> but have a constructor defined as <code>public StudentData(String name)</code>..."}],"answers":[{"tags":[],"owner":{"account_id":2706912,"reputation":15827,"user_id":2336315,"accept_rate":90,"display_name":"user2336315"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1386024033,"creation_date":1386024033,"answer_id":20339350,"question_id":20339331,"body_markdown":"You&#39;re creating a student but didn&#39;t set the name :\r\n\r\n                String name = in.next();\r\n                Student s = new Student();   \r\n                studentList.add(s);\r\n\r\nTry with :\r\n\r\n            String name = in.next();\r\n            Student s = new Student();   \r\n            s.setName(name);\r\n            studentList.add(s);\r\n\r\nAlso replace your constructor. I.e :\r\n\r\n    public StudentData(String name){\r\n            setName(name);\r\n    }\r\n\r\nshould be\r\n\r\n    public Student(String name) {\r\n            setName(name);\r\n    }\r\n\r\nThen you will be able to do `Student s = new Student(name);`   \r\n","title":"String ArrayList returning null values","body":"<p>You're creating a student but didn't set the name :</p>\n\n<pre><code>            String name = in.next();\n            Student s = new Student();   \n            studentList.add(s);\n</code></pre>\n\n<p>Try with :</p>\n\n<pre><code>        String name = in.next();\n        Student s = new Student();   \n        s.setName(name);\n        studentList.add(s);\n</code></pre>\n\n<p>Also replace your constructor. I.e :</p>\n\n<pre><code>public StudentData(String name){\n        setName(name);\n}\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>public Student(String name) {\n        setName(name);\n}\n</code></pre>\n\n<p>Then you will be able to do <code>Student s = new Student(name);</code>   </p>\n"}],"owner":{"account_id":3660341,"reputation":359,"user_id":3050340,"accept_rate":40,"display_name":"user3050340"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":20339350,"answer_count":1,"score":0,"last_activity_date":1649686880,"creation_date":1386023976,"question_id":20339331,"body_markdown":"I am new to java and doing some arraylist work, and when compiling my lists just return null values instead of names I have typed in. \r\n\r\nI don&#39;t understand why this is so, so if anyone could advise/help me that would be great.\r\n\r\nHere is my main code\r\n\r\n    import java.util.*;\r\n    \r\n    public class StudentData \r\n    {\r\n    \tpublic static void main(String[] args) \r\n    \t{\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tArrayList&lt;Student&gt; studentList = new ArrayList&lt;Student&gt;();\r\n    \t\tString yesNo = &quot;true&quot;;\r\n    \t\tdo\r\n    \t\t{\r\n    \t\t\tSystem.out.println(&quot;Enter student&#39;s name: &quot;);\r\n    \t\t\tString name = in.next();\r\n    \t\t\tStudent s = new Student();   \r\n    \t\t\tstudentList.add(s);\r\n    \t\t\tString input;\r\n    \t\t\tdo\r\n    \t\t\t{\t\r\n    \t\t\t\tSystem.out.println(&quot;Would you like to enter data for another student? Yes/No &quot;);\r\n    \t\t\t\tyesNo = in.next();\r\n    \t\t\t\t}\r\n    \t\t\twhile (!yesNo.equalsIgnoreCase(&quot;YES&quot;) &amp;&amp; !yesNo.equalsIgnoreCase(&quot;NO&quot;));\r\n    \t\t\t}\t\r\n    \t\twhile (yesNo.equalsIgnoreCase(&quot;YES&quot;));\r\n    \t\t\t\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; studentList.size(); i++)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(studentList.get(i).getName());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n\r\n\r\nAnd \r\n\r\n    class Student \r\n    {\r\n    \tprivate String studentName;\r\n    \t\r\n    \tpublic StudentData(String name)\r\n    \t{\r\n    \t\tsetName(name);\r\n    \t}\r\n    \tpublic String getName()\r\n    \t{\r\n    \t\treturn studentName;\r\n    \t\t}\r\n    \tpublic void setName(String name)\r\n    \t{\r\n    \t\tstudentName = name;\r\n    \t\t}\r\n    \t}","title":"String ArrayList returning null values","body":"<p>I am new to java and doing some arraylist work, and when compiling my lists just return null values instead of names I have typed in.</p>\n<p>I don't understand why this is so, so if anyone could advise/help me that would be great.</p>\n<p>Here is my main code</p>\n<pre><code>import java.util.*;\n\npublic class StudentData \n{\n    public static void main(String[] args) \n    {\n        Scanner in = new Scanner(System.in);\n        ArrayList&lt;Student&gt; studentList = new ArrayList&lt;Student&gt;();\n        String yesNo = &quot;true&quot;;\n        do\n        {\n            System.out.println(&quot;Enter student's name: &quot;);\n            String name = in.next();\n            Student s = new Student();   \n            studentList.add(s);\n            String input;\n            do\n            {   \n                System.out.println(&quot;Would you like to enter data for another student? Yes/No &quot;);\n                yesNo = in.next();\n                }\n            while (!yesNo.equalsIgnoreCase(&quot;YES&quot;) &amp;&amp; !yesNo.equalsIgnoreCase(&quot;NO&quot;));\n            }   \n        while (yesNo.equalsIgnoreCase(&quot;YES&quot;));\n            \n        \n        for(int i = 0; i &lt; studentList.size(); i++)\n        {\n            System.out.println(studentList.get(i).getName());\n            }\n        }\n    }\n</code></pre>\n<p>And</p>\n<pre><code>class Student \n{\n    private String studentName;\n    \n    public StudentData(String name)\n    {\n        setName(name);\n    }\n    public String getName()\n    {\n        return studentName;\n        }\n    public void setName(String name)\n    {\n        studentName = name;\n        }\n    }\n</code></pre>\n"},{"tags":["java","opencv","face-detection"],"comments":[{"owner":{"account_id":6467478,"reputation":41095,"user_id":5008845,"display_name":"Miki"},"score":0,"creation_date":1488447640,"post_id":42551082,"comment_id":72238562,"body_markdown":"`ImgCodecs.imencode`","body":"<code>ImgCodecs.imencode</code>"},{"owner":{"display_name":"user5599592"},"score":0,"creation_date":1488461194,"post_id":42551082,"comment_id":72247653,"body_markdown":"Thanks a lot, it worked **Miki**","body":"Thanks a lot, it worked <b>Miki</b>"}],"answers":[{"tags":[],"owner":{"account_id":5527341,"reputation":83,"user_id":4388449,"accept_rate":60,"display_name":"d91"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488453497,"creation_date":1488453497,"answer_id":42553978,"question_id":42551082,"body_markdown":"first i am not aware about the new version of opencv and have no experience with java. But try putting lib files  from &quot;\\opencv\\build\\x86\\vc12\\bin&quot; into your application folder(where your compiled exe is) and rebuilding your application. This is for windows os and do find a work around if you are working on ubuntu.","title":"Highgui cannot be resolved, what is its replacement in the new version of opencv?","body":"<p>first i am not aware about the new version of opencv and have no experience with java. But try putting lib files  from \"\\opencv\\build\\x86\\vc12\\bin\" into your application folder(where your compiled exe is) and rebuilding your application. This is for windows os and do find a work around if you are working on ubuntu.</p>\n"},{"tags":[],"owner":{"account_id":11164827,"reputation":385,"user_id":8193813,"display_name":"Bimal Gangawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500102822,"creation_date":1500102822,"answer_id":45115553,"question_id":42551082,"body_markdown":"`import org.opencv.imgcodecs.Imgcodecs;\r\nImgcodecs.imencode(&quot;.bmp&quot;, frame, mem);\r\n`\r\ninstead of using HighGUI you can use imgcodecs for opencv &gt;3.0.\r\n","title":"Highgui cannot be resolved, what is its replacement in the new version of opencv?","body":"<p><code>import org.opencv.imgcodecs.Imgcodecs;\nImgcodecs.imencode(\".bmp\", frame, mem);\n</code>\ninstead of using HighGUI you can use imgcodecs for opencv >3.0.</p>\n"}],"owner":{"display_name":"user5599592"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1464,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649686773,"creation_date":1488445830,"question_id":42551082,"body_markdown":"I have this piece of code which I was trying to run it and test it, but unfortunately I couldn&#39;t:\r\n\r\n    package gui;\r\n    \r\n    import java.awt.Graphics;\r\n    import java.awt.Image;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.ByteArrayInputStream;\r\n    import javax.imageio.ImageIO;\r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.MatOfByte;\r\n    import org.opencv.core.MatOfRect;\r\n    import org.opencv.core.Point;\r\n    import org.opencv.core.Rect;\r\n    import org.opencv.core.Scalar;\r\n    import org.opencv.core.Size;\r\n    import org.opencv.imgproc.Imgproc;\r\n    import org.opencv.objdetect.CascadeClassifier;\r\n    import org.opencv.videoio.VideoCapture;\r\n    \r\n    public class FaceDetection extends javax.swing.JFrame {\r\n    ///\r\n    \r\n        private DaemonThread myThread = null;\r\n        int count = 0;\r\n        VideoCapture webSource = null;\r\n        Mat frame = new Mat();\r\n        MatOfByte mem = new MatOfByte();\r\n        CascadeClassifier faceDetector = new CascadeClassifier(FaceDetection.class.getResource(&quot;haarcascade_frontalface_alt.xml&quot;).getPath().substring(1));\r\n        MatOfRect faceDetections = new MatOfRect();\r\n    ///    \r\n    \r\n        class DaemonThread implements Runnable {\r\n    \r\n            protected volatile boolean runnable = false;\r\n    \r\n            public void run() {\r\n                synchronized (this) {\r\n                    while (runnable) {\r\n                        if (webSource.grab()) {\r\n                            try {\r\n                                webSource.retrieve(frame);\r\n                                Graphics g = jPanel1.getGraphics();\r\n                                faceDetector.detectMultiScale(frame, faceDetections);\r\n                                for (Rect rect : faceDetections.toArray()) {\r\n                                   // System.out.println(&quot;ttt&quot;);\r\n                                    Imgproc.rectangle(frame, new Point(rect.x, rect.y), new Point(rect.x + rect.width, rect.y + rect.height),\r\n                                            new Scalar(0, 255,0));\r\n                                }\r\n                                Highgui.imencode(&quot;.bmp&quot;, frame, mem);\r\n                                Image im = ImageIO.read(new ByteArrayInputStream(mem.toArray()));\r\n                                BufferedImage buff = (BufferedImage) im;\r\n                                if (g.drawImage(buff, 0, 0, getWidth(), getHeight()-150 , 0, 0, buff.getWidth(), buff.getHeight(), null)) {\r\n                                    if (runnable == false) {\r\n                                        System.out.println(&quot;Paused ..... &quot;);\r\n                                        this.wait();\r\n                                    }\r\n                                }\r\n                            } catch (Exception ex) {\r\n                                System.out.println(&quot;Error&quot;);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    /////////\r\n        /**\r\n         * Creates new form FaceDetection\r\n         */\r\n        public FaceDetection() {\r\n            initComponents();\r\n            System.out.println(FaceDetection.class.getResource(&quot;haarcascade_frontalface_alt.xml&quot;).getPath().substring(1));\r\n        }\r\n    \r\n        /**\r\n         * This method is called from within the constructor to initialize the form.\r\n         * WARNING: Do NOT modify this code. The content of this method is always\r\n         * regenerated by the Form Editor.\r\n         */\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents\r\n        private void initComponents() {\r\n    \r\n            jPanel1 = new javax.swing.JPanel();\r\n            jButton1 = new javax.swing.JButton();\r\n            jButton2 = new javax.swing.JButton();\r\n    \r\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n    \r\n            javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\r\n            jPanel1.setLayout(jPanel1Layout);\r\n            jPanel1Layout.setHorizontalGroup(\r\n                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGap(0, 0, Short.MAX_VALUE)\r\n            );\r\n            jPanel1Layout.setVerticalGroup(\r\n                jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGap(0, 376, Short.MAX_VALUE)\r\n            );\r\n    \r\n            jButton1.setText(&quot;Start&quot;);\r\n            jButton1.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    jButton1ActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            jButton2.setText(&quot;Pause&quot;);\r\n            jButton2.addActionListener(new java.awt.event.ActionListener() {\r\n                public void actionPerformed(java.awt.event.ActionEvent evt) {\r\n                    jButton2ActionPerformed(evt);\r\n                }\r\n            });\r\n    \r\n            javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n            getContentPane().setLayout(layout);\r\n            layout.setHorizontalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(24, 24, 24)\r\n                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\r\n                    .addContainerGap())\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addGap(255, 255, 255)\r\n                    .addComponent(jButton1)\r\n                    .addGap(86, 86, 86)\r\n                    .addComponent(jButton2)\r\n                    .addContainerGap(258, Short.MAX_VALUE))\r\n            );\r\n            layout.setVerticalGroup(\r\n                layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n                .addGroup(layout.createSequentialGroup()\r\n                    .addContainerGap()\r\n                    .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\r\n                    .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\r\n                        .addComponent(jButton1)\r\n                        .addComponent(jButton2))\r\n                    .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\r\n            );\r\n    \r\n            pack();\r\n        }// &lt;/editor-fold&gt;//GEN-END:initComponents\r\n    \r\n        private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed\r\n            myThread.runnable = false;            // stop thread\r\n            jButton2.setEnabled(false);   // activate start button \r\n            jButton1.setEnabled(true);     // deactivate stop button\r\n    \r\n            webSource.release();  // stop caturing fron cam\r\n    \r\n    \r\n        }//GEN-LAST:event_jButton2ActionPerformed\r\n    \r\n        private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed\r\n    \r\n            webSource = new VideoCapture(0); // video capture from default cam\r\n            myThread = new DaemonThread(); //create object of threat class\r\n            Thread t = new Thread(myThread);\r\n            t.setDaemon(true);\r\n            myThread.runnable = true;\r\n            t.start();                 //start thrad\r\n            jButton1.setEnabled(false);  // deactivate start button\r\n            jButton2.setEnabled(true);  //  activate stop button\r\n    \r\n    \r\n        }//GEN-LAST:event_jButton1ActionPerformed\r\n    \r\n        /**\r\n         * @param args the command line arguments\r\n         */\r\n        public static void main(String args[]) {\r\n            System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n            /* Set the Nimbus look and feel */\r\n            //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\r\n            /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\r\n             * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \r\n             */\r\n            try {\r\n                for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\r\n                    if (&quot;Nimbus&quot;.equals(info.getName())) {\r\n                        javax.swing.UIManager.setLookAndFeel(info.getClassName());\r\n                        break;\r\n                    }\r\n                }\r\n            } catch (ClassNotFoundException ex) {\r\n                java.util.logging.Logger.getLogger(FaceDetection.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (InstantiationException ex) {\r\n                java.util.logging.Logger.getLogger(FaceDetection.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (IllegalAccessException ex) {\r\n                java.util.logging.Logger.getLogger(FaceDetection.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            } catch (javax.swing.UnsupportedLookAndFeelException ex) {\r\n                java.util.logging.Logger.getLogger(FaceDetection.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\r\n            }\r\n            //&lt;/editor-fold&gt;\r\n    \r\n            /* Create and display the form */\r\n            java.awt.EventQueue.invokeLater(new Runnable() {\r\n                public void run() {\r\n                    new FaceDetection().setVisible(true);\r\n                }\r\n            });\r\n        }\r\n        // Variables declaration - do not modify//GEN-BEGIN:variables\r\n        private javax.swing.JButton jButton1;\r\n        private javax.swing.JButton jButton2;\r\n        private javax.swing.JPanel jPanel1;\r\n        // End of variables declaration//GEN-END:variables\r\n    }\r\n\r\nI got from the internet and I was modifying some of its parts\r\n\r\n    Exception in thread &quot;Thread-2&quot; java.lang.Error: Unresolved compilation problem: \r\n    \tHighgui cannot be resolved","title":"Highgui cannot be resolved, what is its replacement in the new version of opencv?","body":"<p>I have this piece of code which I was trying to run it and test it, but unfortunately I couldn't:</p>\n<pre><code>package gui;\n\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport java.awt.image.BufferedImage;\nimport java.io.ByteArrayInputStream;\nimport javax.imageio.ImageIO;\nimport org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.MatOfByte;\nimport org.opencv.core.MatOfRect;\nimport org.opencv.core.Point;\nimport org.opencv.core.Rect;\nimport org.opencv.core.Scalar;\nimport org.opencv.core.Size;\nimport org.opencv.imgproc.Imgproc;\nimport org.opencv.objdetect.CascadeClassifier;\nimport org.opencv.videoio.VideoCapture;\n\npublic class FaceDetection extends javax.swing.JFrame {\n///\n\n    private DaemonThread myThread = null;\n    int count = 0;\n    VideoCapture webSource = null;\n    Mat frame = new Mat();\n    MatOfByte mem = new MatOfByte();\n    CascadeClassifier faceDetector = new CascadeClassifier(FaceDetection.class.getResource(&quot;haarcascade_frontalface_alt.xml&quot;).getPath().substring(1));\n    MatOfRect faceDetections = new MatOfRect();\n///    \n\n    class DaemonThread implements Runnable {\n\n        protected volatile boolean runnable = false;\n\n        public void run() {\n            synchronized (this) {\n                while (runnable) {\n                    if (webSource.grab()) {\n                        try {\n                            webSource.retrieve(frame);\n                            Graphics g = jPanel1.getGraphics();\n                            faceDetector.detectMultiScale(frame, faceDetections);\n                            for (Rect rect : faceDetections.toArray()) {\n                               // System.out.println(&quot;ttt&quot;);\n                                Imgproc.rectangle(frame, new Point(rect.x, rect.y), new Point(rect.x + rect.width, rect.y + rect.height),\n                                        new Scalar(0, 255,0));\n                            }\n                            Highgui.imencode(&quot;.bmp&quot;, frame, mem);\n                            Image im = ImageIO.read(new ByteArrayInputStream(mem.toArray()));\n                            BufferedImage buff = (BufferedImage) im;\n                            if (g.drawImage(buff, 0, 0, getWidth(), getHeight()-150 , 0, 0, buff.getWidth(), buff.getHeight(), null)) {\n                                if (runnable == false) {\n                                    System.out.println(&quot;Paused ..... &quot;);\n                                    this.wait();\n                                }\n                            }\n                        } catch (Exception ex) {\n                            System.out.println(&quot;Error&quot;);\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n/////////\n    /**\n     * Creates new form FaceDetection\n     */\n    public FaceDetection() {\n        initComponents();\n        System.out.println(FaceDetection.class.getResource(&quot;haarcascade_frontalface_alt.xml&quot;).getPath().substring(1));\n    }\n\n    /**\n     * This method is called from within the constructor to initialize the form.\n     * WARNING: Do NOT modify this code. The content of this method is always\n     * regenerated by the Form Editor.\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;//GEN-BEGIN:initComponents\n    private void initComponents() {\n\n        jPanel1 = new javax.swing.JPanel();\n        jButton1 = new javax.swing.JButton();\n        jButton2 = new javax.swing.JButton();\n\n        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);\n        jPanel1.setLayout(jPanel1Layout);\n        jPanel1Layout.setHorizontalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGap(0, 0, Short.MAX_VALUE)\n        );\n        jPanel1Layout.setVerticalGroup(\n            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGap(0, 376, Short.MAX_VALUE)\n        );\n\n        jButton1.setText(&quot;Start&quot;);\n        jButton1.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton1ActionPerformed(evt);\n            }\n        });\n\n        jButton2.setText(&quot;Pause&quot;);\n        jButton2.addActionListener(new java.awt.event.ActionListener() {\n            public void actionPerformed(java.awt.event.ActionEvent evt) {\n                jButton2ActionPerformed(evt);\n            }\n        });\n\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n        getContentPane().setLayout(layout);\n        layout.setHorizontalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addGap(24, 24, 24)\n                .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)\n                .addContainerGap())\n            .addGroup(layout.createSequentialGroup()\n                .addGap(255, 255, 255)\n                .addComponent(jButton1)\n                .addGap(86, 86, 86)\n                .addComponent(jButton2)\n                .addContainerGap(258, Short.MAX_VALUE))\n        );\n        layout.setVerticalGroup(\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n            .addGroup(layout.createSequentialGroup()\n                .addContainerGap()\n                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)\n                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)\n                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)\n                    .addComponent(jButton1)\n                    .addComponent(jButton2))\n                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))\n        );\n\n        pack();\n    }// &lt;/editor-fold&gt;//GEN-END:initComponents\n\n    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed\n        myThread.runnable = false;            // stop thread\n        jButton2.setEnabled(false);   // activate start button \n        jButton1.setEnabled(true);     // deactivate stop button\n\n        webSource.release();  // stop caturing fron cam\n\n\n    }//GEN-LAST:event_jButton2ActionPerformed\n\n    private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton1ActionPerformed\n\n        webSource = new VideoCapture(0); // video capture from default cam\n        myThread = new DaemonThread(); //create object of threat class\n        Thread t = new Thread(myThread);\n        t.setDaemon(true);\n        myThread.runnable = true;\n        t.start();                 //start thrad\n        jButton1.setEnabled(false);  // deactivate start button\n        jButton2.setEnabled(true);  //  activate stop button\n\n\n    }//GEN-LAST:event_jButton1ActionPerformed\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String args[]) {\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        /* Set the Nimbus look and feel */\n        //&lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Look and feel setting code (optional) &quot;&gt;\n        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.\n         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html \n         */\n        try {\n            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {\n                if (&quot;Nimbus&quot;.equals(info.getName())) {\n                    javax.swing.UIManager.setLookAndFeel(info.getClassName());\n                    break;\n                }\n            }\n        } catch (ClassNotFoundException ex) {\n            java.util.logging.Logger.getLogger(FaceDetection.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (InstantiationException ex) {\n            java.util.logging.Logger.getLogger(FaceDetection.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (IllegalAccessException ex) {\n            java.util.logging.Logger.getLogger(FaceDetection.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        } catch (javax.swing.UnsupportedLookAndFeelException ex) {\n            java.util.logging.Logger.getLogger(FaceDetection.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);\n        }\n        //&lt;/editor-fold&gt;\n\n        /* Create and display the form */\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new FaceDetection().setVisible(true);\n            }\n        });\n    }\n    // Variables declaration - do not modify//GEN-BEGIN:variables\n    private javax.swing.JButton jButton1;\n    private javax.swing.JButton jButton2;\n    private javax.swing.JPanel jPanel1;\n    // End of variables declaration//GEN-END:variables\n}\n</code></pre>\n<p>I got from the internet and I was modifying some of its parts</p>\n<pre><code>Exception in thread &quot;Thread-2&quot; java.lang.Error: Unresolved compilation problem: \n    Highgui cannot be resolved\n</code></pre>\n"},{"tags":["java","maven","war"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1649685235,"post_id":71829026,"comment_id":126932094,"body_markdown":"Can you reproduce this behavior with two toy projects you can share?","body":"Can you reproduce this behavior with two toy projects you can share?"},{"owner":{"account_id":22333868,"reputation":15,"user_id":16554773,"display_name":"Javier Vilarroig"},"score":0,"creation_date":1649685681,"post_id":71829026,"comment_id":126932299,"body_markdown":"I will try. Will take some time. :)","body":"I will try. Will take some time. :)"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649686739,"creation_date":1649686739,"answer_id":71829441,"question_id":71829026,"body_markdown":"You are misusing `&lt;dependencies&gt;` here. \r\n\r\nIf you want to make sure that other WARs are deployed on the same server, then you need to manage that outside of Maven, e.g. with Puppet/Chef/... or through a docker container.\r\n\r\nMaven dependencies are only meant for the build itself.","title":"Hot to add a war dependency in maven without having it overlayed","body":"<p>You are misusing <code>&lt;dependencies&gt;</code> here.</p>\n<p>If you want to make sure that other WARs are deployed on the same server, then you need to manage that outside of Maven, e.g. with Puppet/Chef/... or through a docker container.</p>\n<p>Maven dependencies are only meant for the build itself.</p>\n"}],"owner":{"account_id":22333868,"reputation":15,"user_id":16554773,"display_name":"Javier Vilarroig"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71829441,"answer_count":1,"score":0,"last_activity_date":1649686739,"creation_date":1649685033,"question_id":71829026,"body_markdown":"We are developing a Java web application to be deployed as a war file in Tomcat9.\r\n\r\nWe want to have some other war files that need to be deployed separate war files due to the system architecture. They are commercial and out of my control.\r\n\r\nI want to have this separate wars added in the pom as runtime, so pom we use to deploy the application knows that they are needed and deploys also any war dependency i the webapps dir.\r\n\r\nThe problem I have is that in the moment I include this war runtime dependencies, the package phase add them as overlays to our war application file.\r\n\r\nWhat I want is to avoid having this war files added as overlays to our war file.\r\n\r\nI have found no reference on how to avoid that maven behavior.\r\n\r\nI can&#39;t share the real pom files due to NDA constraints. This is a incomplete example of what I have build now.\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;myOrg&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;myApp&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;artifactId&gt;myApp-war&lt;/artifactId&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;internal-app-war&lt;/name&gt;\r\n\t&lt;version&gt;2.8&lt;/version&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.exampleorg&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ExampleA&lt;/artifactId&gt;\r\n\t\t\t&lt;type&gt;war&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.exampleorg&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ExampleB&lt;/artifactId&gt;\r\n\t\t\t&lt;type&gt;war&lt;/type&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n            All jar dependencies with compile scope\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nCan any one propose a way to achieve that?\r\n\r\nThanks in advance.","title":"Hot to add a war dependency in maven without having it overlayed","body":"<p>We are developing a Java web application to be deployed as a war file in Tomcat9.</p>\n<p>We want to have some other war files that need to be deployed separate war files due to the system architecture. They are commercial and out of my control.</p>\n<p>I want to have this separate wars added in the pom as runtime, so pom we use to deploy the application knows that they are needed and deploys also any war dependency i the webapps dir.</p>\n<p>The problem I have is that in the moment I include this war runtime dependencies, the package phase add them as overlays to our war application file.</p>\n<p>What I want is to avoid having this war files added as overlays to our war file.</p>\n<p>I have found no reference on how to avoid that maven behavior.</p>\n<p>I can't share the real pom files due to NDA constraints. This is a incomplete example of what I have build now.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;myOrg&lt;/groupId&gt;\n        &lt;artifactId&gt;myApp&lt;/artifactId&gt;\n        &lt;version&gt;1.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;myApp-war&lt;/artifactId&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;internal-app-war&lt;/name&gt;\n    &lt;version&gt;2.8&lt;/version&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.exampleorg&lt;/groupId&gt;\n            &lt;artifactId&gt;ExampleA&lt;/artifactId&gt;\n            &lt;type&gt;war&lt;/type&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.exampleorg&lt;/groupId&gt;\n            &lt;artifactId&gt;ExampleB&lt;/artifactId&gt;\n            &lt;type&gt;war&lt;/type&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            All jar dependencies with compile scope\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Can any one propose a way to achieve that?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","database","testing","scala","dbunit"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":8,"creation_date":1287250958,"post_id":3950002,"comment_id":4219198,"body_markdown":"Instead of writing a new just fix what&#39;s broken...","body":"Instead of writing a new just fix what&#39;s broken..."},{"owner":{"account_id":131437,"reputation":22402,"user_id":331439,"accept_rate":71,"display_name":"egervari"},"score":0,"creation_date":1287251121,"post_id":3950002,"comment_id":4219213,"body_markdown":"I was thinking of just doing it in scala with backwards compatibility in mind, since that&#39;s pretty much the way of the future anyway.","body":"I was thinking of just doing it in scala with backwards compatibility in mind, since that&#39;s pretty much the way of the future anyway."}],"answers":[{"tags":[],"owner":{"account_id":32433,"reputation":5697,"user_id":90042,"accept_rate":98,"display_name":"Joseph Weissman"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1287261648,"creation_date":1287251926,"answer_id":3950096,"question_id":3950002,"body_markdown":"Here&#39;s a short list of a few tools in this vein (besides DBunit) that I particularly like, or find interesting. At the very least they may offer some inspiration:\r\n\r\n  * [Incanto][1]\r\n  * [SQLunit][2]\r\n  * [Cactus][3]\r\n  * [Liquibase][4]\r\n  * [ORMUnit][5]\r\n  * [JMock][6]\r\n\r\nNote that none of these are really competitors to DBunit in terms of scope or feature sets. However, there are some interesting ideas there that might be worth taking a look at. Good luck!\r\n\r\n  [1]: http://incanto.sourceforge.net/\r\n  [2]: http://sqlunit.sourceforge.net/\r\n  [3]: http://jakarta.apache.org/cactus/\r\n  [4]: http://www.liquibase.org/\r\n  [5]: http://www.chrisrichardson.net/kb/testing/ormunit/ORMUnitCookbook.html\r\n  [6]: http://www.jmock.org/","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>Here's a short list of a few tools in this vein (besides DBunit) that I particularly like, or find interesting. At the very least they may offer some inspiration:</p>\n\n<ul>\n<li><a href=\"http://incanto.sourceforge.net/\" rel=\"nofollow\">Incanto</a></li>\n<li><a href=\"http://sqlunit.sourceforge.net/\" rel=\"nofollow\">SQLunit</a></li>\n<li><a href=\"http://jakarta.apache.org/cactus/\" rel=\"nofollow\">Cactus</a></li>\n<li><a href=\"http://www.liquibase.org/\" rel=\"nofollow\">Liquibase</a></li>\n<li><a href=\"http://www.chrisrichardson.net/kb/testing/ormunit/ORMUnitCookbook.html\" rel=\"nofollow\">ORMUnit</a></li>\n<li><a href=\"http://www.jmock.org/\" rel=\"nofollow\">JMock</a></li>\n</ul>\n\n<p>Note that none of these are really competitors to DBunit in terms of scope or feature sets. However, there are some interesting ideas there that might be worth taking a look at. Good luck!</p>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":1,"up_vote_count":106,"is_accepted":true,"score":105,"last_activity_date":1605611775,"creation_date":1287256709,"answer_id":3950381,"question_id":3950002,"body_markdown":"I&#39;m not aware of any real alternative to DbUnit and none of the tools mentioned by [@Joe][1] are in my eyes:\r\n\r\n- [Incanto][2]: not DB agnostic\r\n- [SQLUnit][3]: a regression and unit testing harness for testing database stored procedures (that&#39;s not what DbUnit is about)\r\n- [Cactus][4]: a tool for In-container testing (I fail to see where it helps with databases)\r\n- [Liquibase][5]: a database migration tool (doesn&#39;t load/verify data)\r\n- [ORMUnit][6]: can initialize a database but that&#39;s all\r\n- [JMock][7]: doesn&#39;t compete with DbUnit at all\r\n\r\nThat being said, I&#39;ve personally used DbUnit successfully several times, on small and huge projects, and I find it pretty usable, especially when using [Unitils][8] and its DbUnit module. This doesn&#39;t mean it&#39;s perfect and can&#39;t be improved but with decent tooling (either custom made or something like Unitils), using it has been a decent experience.\r\n\r\nSo let me answer some of your points:\r\n\r\n&gt; 1) The simplest format to write and get started is deprecated. They want you to use formats that are bloated. Some even require xml schemas. Yeah, whatever.\r\n\r\nDbUnit supports flat or structured XML, XLS, CSV. What revolutionary format would you like to use? By the way, a DTD or schema is not mandatory when using XML. But it gives you nice things like validation and auto-completion, how is that bad? And Unitils can generate it easily for you, see [Generate an XSD or DTD of the database structure][9].\r\n\r\n&gt; It could be better if dbunit helped in disabling foreign key constraints as part of their framework automatically, but they don&#39;t do this. They do keep track of dialects... so why not use them for this? Ultimately, all of this does is force the programmer to waste time and not get up and testing quickly.\r\n\r\nThey are waiting for your patch. \r\n\r\nMeanwhile, Unitils provides support to handle constraints transparently, see [Disabling constraints and updating sequences][10]. \r\n\r\n&gt; 3) XML is a pain to write. I don&#39;t need to say more about this. They also offer so many ways to do it, that I think it just complicates matters. Just offer one really solid way and be done with it.\r\n\r\nI guess pain is subjective but I don&#39;t find it painful, especially when using a schema and autocompletion. What is the silver bullet you&#39;re suggesting?\r\n\r\n&gt; 4) When your data gets large, keeping track of the ids and their consistent/correct relationships is a royal pain. \r\n\r\nKeep them small, that&#39;s a know [best practice][11]. You&#39;re going against a known best practice and then complain... \r\n\r\n&gt; Also, if you don&#39;t work on a project for a month, how are you to remember that user_id 1 was an admin, user_id 2 was a business user, user_id 3 was an engineer and user_id 4 was something else? Going back to check this is wasting more time. There should be a meaningful way to retrieve it other than an arbitrary number.\r\n\r\nYes, task switching is counter productive. But since you&#39;re working with low level data, you have to know how they are represented, there is no magic solution unless you use a higher level API of course (but that&#39;s not the purpose of DbUnit).\r\n\r\n&gt; 5) It&#39;s slow. I&#39;ve found that unless hsqldb is used, it is painfully slow. It doesn&#39;t have to be. There are also numerous ways to mess up its configuration as it is not easy to do &quot;out of the box&quot;. There is a hump that you must go through to get it working right. All this does is encourage people to not use it, or be pissed of when they do start to use it.\r\n\r\nThat&#39;s inherent to databases and JDBC, not DbUnit. Use a fast database like H2 if you want things to be as fast as possible (if you have a better agnostic way to do things, I&#39;d be glad to learn about it).\r\n\r\n&gt; 6) Probably the most annoying thing is that the first entry must include ALL the values - even null placeholders - or future rows won&#39;t pick the columns that you actually specified.\r\n\r\nNot when using Unitils as mentioned in presentations like [Unitils - Home - JavaPolis 2008][12] or [Unit testing: unitils &amp; dbmaintain][13]. \r\n\r\n&gt; Anything out there to satisfy me, or should I become the next framework developer of a much better database testing framework?\r\n\r\nIf you think you can make things better, maybe contribute to existing solutions. If that&#39;s not possible and if you think you can create the killer database testing framework, what can I say, do it. But don&#39;t forget, ranting is easy, coming up with solutions using your own solutions is less so.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3950002/is-there-a-dbunit-like-framework-that-doesnt-suck-for-java-scala/3950096#3950096\r\n  [2]: http://incanto.sourceforge.net/\r\n  [3]: http://sqlunit.sourceforge.net/\r\n  [4]: https://jakarta.apache.org/cactus/ &quot;Retired&quot;\r\n  [5]: http://www.liquibase.org/\r\n  [6]: https://code.google.com/p/ormunit/\r\n  [7]: http://jmock.org/\r\n  [8]: http://www.unitils.org/summary.html\r\n  [9]: http://www.unitils.org/tutorial.html#Generate_an_XSD_or_DTD_of_the_database_structure\r\n  [10]: http://www.unitils.org/tutorial.html#Disabling_constraints_and_updating_sequences\r\n  [11]: http://dbunit.sourceforge.net/bestpractices.html#smalldatasets\r\n  [12]: http://www.javapolis.com/confluence/download/attachments/32918/C_14_09_04.pdf\r\n  [13]: http://www.slideshare.net/nevenfi/unit-testing-unitils-dbmaintain","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>I'm not aware of any real alternative to DbUnit and none of the tools mentioned by <a href=\"https://stackoverflow.com/questions/3950002/is-there-a-dbunit-like-framework-that-doesnt-suck-for-java-scala/3950096#3950096\">@Joe</a> are in my eyes:</p>\n<ul>\n<li><a href=\"http://incanto.sourceforge.net/\" rel=\"nofollow noreferrer\">Incanto</a>: not DB agnostic</li>\n<li><a href=\"http://sqlunit.sourceforge.net/\" rel=\"nofollow noreferrer\">SQLUnit</a>: a regression and unit testing harness for testing database stored procedures (that's not what DbUnit is about)</li>\n<li><a href=\"https://jakarta.apache.org/cactus/\" rel=\"nofollow noreferrer\" title=\"Retired\">Cactus</a>: a tool for In-container testing (I fail to see where it helps with databases)</li>\n<li><a href=\"http://www.liquibase.org/\" rel=\"nofollow noreferrer\">Liquibase</a>: a database migration tool (doesn't load/verify data)</li>\n<li><a href=\"https://code.google.com/p/ormunit/\" rel=\"nofollow noreferrer\">ORMUnit</a>: can initialize a database but that's all</li>\n<li><a href=\"http://jmock.org/\" rel=\"nofollow noreferrer\">JMock</a>: doesn't compete with DbUnit at all</li>\n</ul>\n<p>That being said, I've personally used DbUnit successfully several times, on small and huge projects, and I find it pretty usable, especially when using <a href=\"http://www.unitils.org/summary.html\" rel=\"nofollow noreferrer\">Unitils</a> and its DbUnit module. This doesn't mean it's perfect and can't be improved but with decent tooling (either custom made or something like Unitils), using it has been a decent experience.</p>\n<p>So let me answer some of your points:</p>\n<blockquote>\n<ol>\n<li>The simplest format to write and get started is deprecated. They want you to use formats that are bloated. Some even require xml schemas. Yeah, whatever.</li>\n</ol>\n</blockquote>\n<p>DbUnit supports flat or structured XML, XLS, CSV. What revolutionary format would you like to use? By the way, a DTD or schema is not mandatory when using XML. But it gives you nice things like validation and auto-completion, how is that bad? And Unitils can generate it easily for you, see <a href=\"http://www.unitils.org/tutorial.html#Generate_an_XSD_or_DTD_of_the_database_structure\" rel=\"nofollow noreferrer\">Generate an XSD or DTD of the database structure</a>.</p>\n<blockquote>\n<p>It could be better if dbunit helped in disabling foreign key constraints as part of their framework automatically, but they don't do this. They do keep track of dialects... so why not use them for this? Ultimately, all of this does is force the programmer to waste time and not get up and testing quickly.</p>\n</blockquote>\n<p>They are waiting for your patch.</p>\n<p>Meanwhile, Unitils provides support to handle constraints transparently, see <a href=\"http://www.unitils.org/tutorial.html#Disabling_constraints_and_updating_sequences\" rel=\"nofollow noreferrer\">Disabling constraints and updating sequences</a>.</p>\n<blockquote>\n<ol start=\"3\">\n<li>XML is a pain to write. I don't need to say more about this. They also offer so many ways to do it, that I think it just complicates matters. Just offer one really solid way and be done with it.</li>\n</ol>\n</blockquote>\n<p>I guess pain is subjective but I don't find it painful, especially when using a schema and autocompletion. What is the silver bullet you're suggesting?</p>\n<blockquote>\n<ol start=\"4\">\n<li>When your data gets large, keeping track of the ids and their consistent/correct relationships is a royal pain.</li>\n</ol>\n</blockquote>\n<p>Keep them small, that's a know <a href=\"http://dbunit.sourceforge.net/bestpractices.html#smalldatasets\" rel=\"nofollow noreferrer\">best practice</a>. You're going against a known best practice and then complain...</p>\n<blockquote>\n<p>Also, if you don't work on a project for a month, how are you to remember that user_id 1 was an admin, user_id 2 was a business user, user_id 3 was an engineer and user_id 4 was something else? Going back to check this is wasting more time. There should be a meaningful way to retrieve it other than an arbitrary number.</p>\n</blockquote>\n<p>Yes, task switching is counter productive. But since you're working with low level data, you have to know how they are represented, there is no magic solution unless you use a higher level API of course (but that's not the purpose of DbUnit).</p>\n<blockquote>\n<ol start=\"5\">\n<li>It's slow. I've found that unless hsqldb is used, it is painfully slow. It doesn't have to be. There are also numerous ways to mess up its configuration as it is not easy to do &quot;out of the box&quot;. There is a hump that you must go through to get it working right. All this does is encourage people to not use it, or be pissed of when they do start to use it.</li>\n</ol>\n</blockquote>\n<p>That's inherent to databases and JDBC, not DbUnit. Use a fast database like H2 if you want things to be as fast as possible (if you have a better agnostic way to do things, I'd be glad to learn about it).</p>\n<blockquote>\n<ol start=\"6\">\n<li>Probably the most annoying thing is that the first entry must include ALL the values - even null placeholders - or future rows won't pick the columns that you actually specified.</li>\n</ol>\n</blockquote>\n<p>Not when using Unitils as mentioned in presentations like <a href=\"http://www.javapolis.com/confluence/download/attachments/32918/C_14_09_04.pdf\" rel=\"nofollow noreferrer\">Unitils - Home - JavaPolis 2008</a> or <a href=\"http://www.slideshare.net/nevenfi/unit-testing-unitils-dbmaintain\" rel=\"nofollow noreferrer\">Unit testing: unitils &amp; dbmaintain</a>.</p>\n<blockquote>\n<p>Anything out there to satisfy me, or should I become the next framework developer of a much better database testing framework?</p>\n</blockquote>\n<p>If you think you can make things better, maybe contribute to existing solutions. If that's not possible and if you think you can create the killer database testing framework, what can I say, do it. But don't forget, ranting is easy, coming up with solutions using your own solutions is less so.</p>\n"},{"tags":[],"owner":{"account_id":53637,"reputation":54848,"user_id":160378,"accept_rate":80,"display_name":"retronym"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1287266965,"creation_date":1287266965,"answer_id":3951019,"question_id":3950002,"body_markdown":"I use DBUnit, with a few wrappers to smooth over the rough edges. A nice tool that can either complement or overlap the functionality is [Jailer][1]. It can extract subsets of data from a reference database, and store this as either DBUnit compatible XML files, or as &quot;topologically sorted DML files&quot;, which respect the foreign key constraints.\r\n\r\n\r\n  [1]: http://jailer.sourceforge.net/","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>I use DBUnit, with a few wrappers to smooth over the rough edges. A nice tool that can either complement or overlap the functionality is <a href=\"http://jailer.sourceforge.net/\" rel=\"nofollow\">Jailer</a>. It can extract subsets of data from a reference database, and store this as either DBUnit compatible XML files, or as \"topologically sorted DML files\", which respect the foreign key constraints.</p>\n"},{"tags":[],"owner":{"account_id":120286,"reputation":730,"user_id":312629,"display_name":"Roberto Lo Giacco"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1393847277,"creation_date":1288822739,"answer_id":4092164,"question_id":3950002,"body_markdown":"As a DbUnit developer I&#39;m grateful for criticism and I must partially agree with you. We are currently starting the design of the next DbUnit major release and I wish to invite you to participate both in the discussion and development.\r\n\r\nI&#39;m not going to answer your points as your question is not really related to DbUnit, but to DbUnit alternatives. Anyway, I just want to highlight your point 7 is completely false: you do not need to specify all the columns on first row any more, the feature is called column sensing. I&#39;m not going to tell you why it&#39;s not enabled by default as you are surely smart enough to understand it by yourself.\r\n\r\nI&#39;ll give scaladbtest a deep examination in the hope we can integrate their ideas.","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>As a DbUnit developer I'm grateful for criticism and I must partially agree with you. We are currently starting the design of the next DbUnit major release and I wish to invite you to participate both in the discussion and development.</p>\n\n<p>I'm not going to answer your points as your question is not really related to DbUnit, but to DbUnit alternatives. Anyway, I just want to highlight your point 7 is completely false: you do not need to specify all the columns on first row any more, the feature is called column sensing. I'm not going to tell you why it's not enabled by default as you are surely smart enough to understand it by yourself.</p>\n\n<p>I'll give scaladbtest a deep examination in the hope we can integrate their ideas.</p>\n"},{"tags":[],"owner":{"account_id":1107577,"reputation":21,"user_id":1098677,"display_name":"carrion"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1352024723,"creation_date":1323895457,"answer_id":8511390,"question_id":3950002,"body_markdown":"You&#39;re making excellent point.   \r\n\r\nI&#39;ve been working for a lot of web portals over the last years, mostly with PHP, but also some Java now and then.  \r\nAnd like you I don&#39;t get that after all these years framework and unittesting developers don&#39;t seem to realize how much storage handling has changed in the last decade.\r\nIt&#39;s not enough to just send create/insert/truncate statements to some database!\r\nIf you&#39;re operating at large scale you end up employing all sorts of storage backends, organized in layers to push hot content out fast. Plus on the Database front there&#39;s the issue of data partitioning. If you don&#39;t have a proper foreign key abstraction provided you will certainly go nuts when your storage setup changes. And while we&#39;re at it: fixture ordering by foreign key precedence has many pitfalls and I have yet to see a real solution for that with `DBUnit`.  \r\n\r\nAnyway, the point is having just a basic database storage in place for unittesting is not enough for complex storage setups, since they often fail to reproduce problems in the live environment and are a pain in the ass to maintain.  \r\n\r\nWithout wanting to sound like a fanboy: one place where things are okay is `ruby on rails`.\r\nThat has a persistent model concept that people seem to have actually put some thought into. If you&#39;re dealing in `PHP`, `Symfony` is the place to go. It is limited via the default inclusion of `Doctrine`, with is also quite DB-centric, but it has clean interfaces and great extensibility and copied the rails fixture system completely. Professionally I need to stick to homebrew solutions for now, but they work okay.","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>You're making excellent point.   </p>\n\n<p>I've been working for a lot of web portals over the last years, mostly with PHP, but also some Java now and then.<br>\nAnd like you I don't get that after all these years framework and unittesting developers don't seem to realize how much storage handling has changed in the last decade.\nIt's not enough to just send create/insert/truncate statements to some database!\nIf you're operating at large scale you end up employing all sorts of storage backends, organized in layers to push hot content out fast. Plus on the Database front there's the issue of data partitioning. If you don't have a proper foreign key abstraction provided you will certainly go nuts when your storage setup changes. And while we're at it: fixture ordering by foreign key precedence has many pitfalls and I have yet to see a real solution for that with <code>DBUnit</code>.  </p>\n\n<p>Anyway, the point is having just a basic database storage in place for unittesting is not enough for complex storage setups, since they often fail to reproduce problems in the live environment and are a pain in the ass to maintain.  </p>\n\n<p>Without wanting to sound like a fanboy: one place where things are okay is <code>ruby on rails</code>.\nThat has a persistent model concept that people seem to have actually put some thought into. If you're dealing in <code>PHP</code>, <code>Symfony</code> is the place to go. It is limited via the default inclusion of <code>Doctrine</code>, with is also quite DB-centric, but it has clean interfaces and great extensibility and copied the rails fixture system completely. Professionally I need to stick to homebrew solutions for now, but they work okay.</p>\n"},{"tags":[],"owner":{"account_id":28266,"reputation":489,"user_id":75371,"accept_rate":80,"display_name":"Lars"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1346439134,"creation_date":1346439134,"answer_id":12221053,"question_id":3950002,"body_markdown":"We are writing [Daleq][1] as a wrapper around DbUnit to address some of the mentioned concerns. It allows populating a DB just within your unit test rather than relying on editing XML files. \r\n\r\n\r\n  [1]: https://github.com/brands4friends/daleq","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>We are writing <a href=\"https://github.com/brands4friends/daleq\" rel=\"nofollow\">Daleq</a> as a wrapper around DbUnit to address some of the mentioned concerns. It allows populating a DB just within your unit test rather than relying on editing XML files. </p>\n"},{"tags":[],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1365436590,"creation_date":1365436590,"answer_id":15883720,"question_id":3950002,"body_markdown":"Faced with similar concerns using DBUnit I have found this : http://dbsetup.ninja-squad.com/index.html which may address concerns. Such as instead of representing test data in separate files all DB content is contained within the java class itself.","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>Faced with similar concerns using DBUnit I have found this : <a href=\"http://dbsetup.ninja-squad.com/index.html\" rel=\"noreferrer\">http://dbsetup.ninja-squad.com/index.html</a> which may address concerns. Such as instead of representing test data in separate files all DB content is contained within the java class itself.</p>\n"},{"tags":[],"owner":{"account_id":1283997,"reputation":7333,"user_id":1237450,"display_name":"pagoda_5b"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365439371,"creation_date":1365439371,"answer_id":15884518,"question_id":3950002,"body_markdown":"An alternative using *Spring* configuration and *Specs2* testing can be found [here][1]\r\n\r\n\r\n  [1]: https://github.com/janm399/specs2-spring#readme","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>An alternative using <em>Spring</em> configuration and <em>Specs2</em> testing can be found <a href=\"https://github.com/janm399/specs2-spring#readme\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":524735,"reputation":114,"user_id":4237827,"display_name":"Jeff S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415669754,"creation_date":1415669754,"answer_id":26856086,"question_id":3950002,"body_markdown":"I too had similar issues with DBUnit. Especially for using it to populate local development data and exporting data from a real database. I ran into several cases where it would export a dataset that it couldn&#39;t then import.\r\n\r\nThis inspired me to write a new library for it: https://github.com/jeffskj/phonydata\r\n\r\nThis uses a groovy DSL to define the datasets which makes for a very compact representation of the data and makes it possible to do cool things like generate random data since it&#39;s just groovy code.","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>I too had similar issues with DBUnit. Especially for using it to populate local development data and exporting data from a real database. I ran into several cases where it would export a dataset that it couldn't then import.</p>\n\n<p>This inspired me to write a new library for it: <a href=\"https://github.com/jeffskj/phonydata\" rel=\"nofollow\">https://github.com/jeffskj/phonydata</a></p>\n\n<p>This uses a groovy DSL to define the datasets which makes for a very compact representation of the data and makes it possible to do cool things like generate random data since it's just groovy code.</p>\n"},{"tags":[],"owner":{"account_id":2008878,"reputation":15778,"user_id":1797912,"accept_rate":60,"display_name":"Chriki"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1416306749,"creation_date":1416306749,"answer_id":26992095,"question_id":3950002,"body_markdown":"If you use the Spring Framework (or don’t mind using it at least for testing), then [**Spring DBUnit**][1] is currently the best (maintained) alternative to plain DBUnit that I know and use. Quoting their website:\r\n\r\n&gt; Spring DBUnit provides integration between the Spring testing\r\n&gt; framework and the popular DBUnit project. It allows you to setup and\r\n&gt; teardown database tables using simple annotations as well as checking\r\n&gt; expected table contents once a test completes.\r\n\r\nSpring DBUnit appears to be the ‘somewhat official’ Spring solution for DB unit testing (with DBUnit); at least the author/maintainer of the library, Phil Webb, is working at SpringSource/Pivotal.\r\n\r\n  [1]: https://github.com/springtestdbunit/spring-test-dbunit","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>If you use the Spring Framework (or don’t mind using it at least for testing), then <a href=\"https://github.com/springtestdbunit/spring-test-dbunit\" rel=\"nofollow\"><strong>Spring DBUnit</strong></a> is currently the best (maintained) alternative to plain DBUnit that I know and use. Quoting their website:</p>\n\n<blockquote>\n  <p>Spring DBUnit provides integration between the Spring testing\n  framework and the popular DBUnit project. It allows you to setup and\n  teardown database tables using simple annotations as well as checking\n  expected table contents once a test completes.</p>\n</blockquote>\n\n<p>Spring DBUnit appears to be the ‘somewhat official’ Spring solution for DB unit testing (with DBUnit); at least the author/maintainer of the library, Phil Webb, is working at SpringSource/Pivotal.</p>\n"},{"tags":[],"owner":{"account_id":81564,"reputation":3843,"user_id":229896,"accept_rate":93,"display_name":"Καrτhικ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420212177,"creation_date":1420212177,"answer_id":27744379,"question_id":3950002,"body_markdown":"I just released a groovy DSL based framework called pedal-loader available via [github](http://github.com/eclecticlogic/pedal-loader). Documentation [here](http://www.eclecticlogic.com/pedal-loader).\r\n\r\nIt allows you to work with JPA entity level abstraction directly. Since it is a groovy script, you can use all of the groovy constructs. \r\n\r\nTo insert rows into a table backed by a JPA entity called Student, with fields (not database columns, but mapped fields) called id, name and grade, you would do something like this:\r\n\r\n    allStudents = table(Student, [&#39;id&#39;, &#39;name&#39;, &#39;grade&#39;]) {\r\n        row 1, &#39;Joe&#39;, Grade.A\r\n        rowOfInterest = row 2, &#39;John&#39;, Grade.B\r\n    }\r\n\r\nGrade is an enum in the Student class that is mapped to the database column (perhaps using JPA 2.1 @Convert annotation). allStudents is a list that will hold the rows and rowOfInterest is a reference to a particular row. These properties (allStudents and rowOfInterest) become available to your unit test.\r\n\r\n","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>I just released a groovy DSL based framework called pedal-loader available via <a href=\"http://github.com/eclecticlogic/pedal-loader\" rel=\"nofollow\">github</a>. Documentation <a href=\"http://www.eclecticlogic.com/pedal-loader\" rel=\"nofollow\">here</a>.</p>\n\n<p>It allows you to work with JPA entity level abstraction directly. Since it is a groovy script, you can use all of the groovy constructs. </p>\n\n<p>To insert rows into a table backed by a JPA entity called Student, with fields (not database columns, but mapped fields) called id, name and grade, you would do something like this:</p>\n\n<pre><code>allStudents = table(Student, ['id', 'name', 'grade']) {\n    row 1, 'Joe', Grade.A\n    rowOfInterest = row 2, 'John', Grade.B\n}\n</code></pre>\n\n<p>Grade is an enum in the Student class that is mapped to the database column (perhaps using JPA 2.1 @Convert annotation). allStudents is a list that will hold the rows and rowOfInterest is a reference to a particular row. These properties (allStudents and rowOfInterest) become available to your unit test.</p>\n"},{"tags":[],"owner":{"account_id":191505,"reputation":7321,"user_id":432115,"accept_rate":64,"display_name":"niels"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1452337138,"creation_date":1452337138,"answer_id":34692614,"question_id":3950002,"body_markdown":"The situation of DBUnit is indeed sometimes frustrating. Some of the problem are solved from [Marc Philipp](http://www.marcphilipp.de/blog/2012/03/19/using-dbunit-without-xml/) with [dbunit-datasetbuilder](https://github.com/opensource21/dbunit-datasetbuilder), specially if you combine it with the [validator](https://github.com/opensource21/dbunit-validation), which is in a very early stage. You can see it in action at [SZE](https://github.com/opensource21/sze/tree/develop/src/test/java/net/sf/sze/dbunit).\r\n\r\nDisclaimer: All referenced github-resources are maintained by me.","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>The situation of DBUnit is indeed sometimes frustrating. Some of the problem are solved from <a href=\"http://www.marcphilipp.de/blog/2012/03/19/using-dbunit-without-xml/\" rel=\"nofollow\">Marc Philipp</a> with <a href=\"https://github.com/opensource21/dbunit-datasetbuilder\" rel=\"nofollow\">dbunit-datasetbuilder</a>, specially if you combine it with the <a href=\"https://github.com/opensource21/dbunit-validation\" rel=\"nofollow\">validator</a>, which is in a very early stage. You can see it in action at <a href=\"https://github.com/opensource21/sze/tree/develop/src/test/java/net/sf/sze/dbunit\" rel=\"nofollow\">SZE</a>.</p>\n\n<p>Disclaimer: All referenced github-resources are maintained by me.</p>\n"},{"tags":[],"owner":{"account_id":1364974,"reputation":133,"user_id":1301612,"accept_rate":100,"display_name":"edrdo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1471023973,"creation_date":1471023973,"answer_id":38923755,"question_id":3950002,"body_markdown":"I just released a library called JDBDT (Java Database Delta Testing) that\r\nyou may use for database setup and validation in software tests.\r\n\r\nHave a look at http://jdbdt.org \r\n\r\nBest,\r\nEduardo\r\n\r\n","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>I just released a library called JDBDT (Java Database Delta Testing) that\nyou may use for database setup and validation in software tests.</p>\n\n<p>Have a look at <a href=\"http://jdbdt.org\" rel=\"nofollow\">http://jdbdt.org</a> </p>\n\n<p>Best,\nEduardo</p>\n"},{"tags":[],"owner":{"account_id":324442,"reputation":2438,"user_id":645016,"accept_rate":62,"display_name":"sxc731"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1581857185,"creation_date":1581702753,"answer_id":60231286,"question_id":3950002,"body_markdown":"Another vote for wrapping DBUnit with a modern library to improve usability and conciseness.  My choice is [database-rider][1], which makes DBUnit a breeze to use and even supports JUnit 5 as demonstrated in the following example:\r\n\r\n    @RunWith(JUnitPlatform.class)\r\n    @ExtendWith(DBUnitExtension.class)\r\n    @DBUnit(cacheConnection = true, cacheTableNames = true)\r\n    class TestInstrumentQueryService {\r\n\r\n        private ConnectionHolder connHolder = () -&gt; EntityManagerProvider.instance(&quot;my-jta-unit&quot;).connection();\r\n\r\n\t    @DBRider\r\n    \t@DataSet(&quot;datasets/instrumentIds.yml&quot;)\r\n    \tvoid testFindInstrumentById() {\r\n\t\t\r\n        \tInstrumentQueryService iqs = new InstrumentQueryService(EntityManagerProvider.em());\r\n\t\t\r\n\t\t    Instrument instr = iqs.findInstrumentById(InstrumentIdType.TICKER_BBG, &quot;AAPL&quot;);\r\n\t\t    assertEquals(100, instr.getId());\r\n\t    }\r\n    }\r\n\r\nNotice how this allows leveraging (concise) YAML testing data sets seamlessly (YAML not XML, though I&#39;m lead to believe that DBUnit actually supports those natively).\r\n\r\n  [1]: https://github.com/database-rider/database-rider","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>Another vote for wrapping DBUnit with a modern library to improve usability and conciseness.  My choice is <a href=\"https://github.com/database-rider/database-rider\" rel=\"nofollow noreferrer\">database-rider</a>, which makes DBUnit a breeze to use and even supports JUnit 5 as demonstrated in the following example:</p>\n\n<pre><code>@RunWith(JUnitPlatform.class)\n@ExtendWith(DBUnitExtension.class)\n@DBUnit(cacheConnection = true, cacheTableNames = true)\nclass TestInstrumentQueryService {\n\n    private ConnectionHolder connHolder = () -&gt; EntityManagerProvider.instance(\"my-jta-unit\").connection();\n\n    @DBRider\n    @DataSet(\"datasets/instrumentIds.yml\")\n    void testFindInstrumentById() {\n\n        InstrumentQueryService iqs = new InstrumentQueryService(EntityManagerProvider.em());\n\n        Instrument instr = iqs.findInstrumentById(InstrumentIdType.TICKER_BBG, \"AAPL\");\n        assertEquals(100, instr.getId());\n    }\n}\n</code></pre>\n\n<p>Notice how this allows leveraging (concise) YAML testing data sets seamlessly (YAML not XML, though I'm lead to believe that DBUnit actually supports those natively).</p>\n"}],"owner":{"account_id":131437,"reputation":22402,"user_id":331439,"accept_rate":71,"display_name":"egervari"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29456,"favorite_count":0,"down_vote_count":1,"up_vote_count":66,"accepted_answer_id":3950381,"answer_count":14,"score":65,"last_activity_date":1649686643,"creation_date":1287250658,"question_id":3950002,"body_markdown":"I was thinking of making a new, light-weight database population framework. I absolutely hate dbunit. Before I do, I want to know if someone already did it.\r\n\r\nThings i dislike about dbunit:\r\n\r\n1) The simplest format to write and get started is deprecated. They want you to use formats that are bloated. Some even require xml schemas. Yeah, whatever.\r\n\r\n2) They populate rows not in the order you write them, but in the order tables are defined in the xml file. This is really bad because you can&#39;t order your data in such a way that foreign key constraints won&#39;t cause problems. This just forces you to go through the hassle of turning them off altogether. \r\n\r\nThis also wastes time and bloats up your junit base classes to include code to disable the foreign key constraints. You will probably have to test for the database type (hsqldb, etc.) and disable them in database-specific ways. This is way bad.\r\n\r\nIt could be better if dbunit helped in disabling foreign key constraints as part of their framework automatically, but they don&#39;t do this. They do keep track of dialects... so why not use them for this? Ultimately, all of this does is force the programmer to waste time and not get up and testing quickly.\r\n\r\n3) XML is a pain to write. I don&#39;t need to say more about this. They also offer so many ways to do it, that I think it just complicates matters. Just offer one really solid way and be done with it.\r\n\r\n4) When your data gets large, keeping track of the ids and their consistent/correct relationships is a royal pain. \r\n\r\nAlso, if you don&#39;t work on a project for a month, how are you to remember that user_id 1 was an admin, user_id 2 was a business user, user_id 3 was an engineer and user_id 4 was something else? Going back to check this is wasting more time. There should be a meaningful way to retrieve it other than an arbitrary number.\r\n\r\n5) It&#39;s slow. I&#39;ve found that unless hsqldb is used, it is painfully slow. It doesn&#39;t have to be. There are also numerous ways to mess up its configuration as it is not easy to do &quot;out of the box&quot;. There is a hump that you must go through to get it working right. All this does is encourage people to not use it, or be pissed of when they do start to use it.\r\n\r\n6) Some values tend to repeat a lot, likes dates. It&#39;d be nice to specify defaults, or even have the framework put defaults in automatically, even without you telling it to put defaults in there. That way you can create objects just with the values you want, and leave the rest off. This sure beats specifying every nook and cranny of a column if it&#39;s not required.\r\n\r\n7) Probably the most annoying thing is that the first entry must include ALL the values - even null placeholders - or future rows won&#39;t pick the columns that you actually specified.\r\n\r\nDBunit doesn&#39;t have a sensible default for translating [NULL] to a real null value either. You have to manually add it. Tell me, who hasn&#39;t done this with dbunit? Everyone has. It shouldn&#39;t be like this!\r\n\r\nWhat this means is that if you have a polymorphic object, you must declare all the foreign keys to the joining tables of each subclass in the first row, even though they are null. If you do a table for all subclasses pattern, you still have to specify all the fields on the first row. This is just awful.\r\n\r\nAnything out there to satisfy me, or should I become the next framework developer of a much better database testing framework?","title":"Is there a dbunit-like framework that doesn&#39;t suck for java/scala?","body":"<p>I was thinking of making a new, light-weight database population framework. I absolutely hate dbunit. Before I do, I want to know if someone already did it.</p>\n\n<p>Things i dislike about dbunit:</p>\n\n<p>1) The simplest format to write and get started is deprecated. They want you to use formats that are bloated. Some even require xml schemas. Yeah, whatever.</p>\n\n<p>2) They populate rows not in the order you write them, but in the order tables are defined in the xml file. This is really bad because you can't order your data in such a way that foreign key constraints won't cause problems. This just forces you to go through the hassle of turning them off altogether. </p>\n\n<p>This also wastes time and bloats up your junit base classes to include code to disable the foreign key constraints. You will probably have to test for the database type (hsqldb, etc.) and disable them in database-specific ways. This is way bad.</p>\n\n<p>It could be better if dbunit helped in disabling foreign key constraints as part of their framework automatically, but they don't do this. They do keep track of dialects... so why not use them for this? Ultimately, all of this does is force the programmer to waste time and not get up and testing quickly.</p>\n\n<p>3) XML is a pain to write. I don't need to say more about this. They also offer so many ways to do it, that I think it just complicates matters. Just offer one really solid way and be done with it.</p>\n\n<p>4) When your data gets large, keeping track of the ids and their consistent/correct relationships is a royal pain. </p>\n\n<p>Also, if you don't work on a project for a month, how are you to remember that user_id 1 was an admin, user_id 2 was a business user, user_id 3 was an engineer and user_id 4 was something else? Going back to check this is wasting more time. There should be a meaningful way to retrieve it other than an arbitrary number.</p>\n\n<p>5) It's slow. I've found that unless hsqldb is used, it is painfully slow. It doesn't have to be. There are also numerous ways to mess up its configuration as it is not easy to do \"out of the box\". There is a hump that you must go through to get it working right. All this does is encourage people to not use it, or be pissed of when they do start to use it.</p>\n\n<p>6) Some values tend to repeat a lot, likes dates. It'd be nice to specify defaults, or even have the framework put defaults in automatically, even without you telling it to put defaults in there. That way you can create objects just with the values you want, and leave the rest off. This sure beats specifying every nook and cranny of a column if it's not required.</p>\n\n<p>7) Probably the most annoying thing is that the first entry must include ALL the values - even null placeholders - or future rows won't pick the columns that you actually specified.</p>\n\n<p>DBunit doesn't have a sensible default for translating [NULL] to a real null value either. You have to manually add it. Tell me, who hasn't done this with dbunit? Everyone has. It shouldn't be like this!</p>\n\n<p>What this means is that if you have a polymorphic object, you must declare all the foreign keys to the joining tables of each subclass in the first row, even though they are null. If you do a table for all subclasses pattern, you still have to specify all the fields on the first row. This is just awful.</p>\n\n<p>Anything out there to satisfy me, or should I become the next framework developer of a much better database testing framework?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1649686468,"post_id":71829238,"comment_id":126932616,"body_markdown":"`double result = Util.getAccumulatedArea(shapes);` instead of a loop with `Shape[p].getAccumulatedArea();` in the body. An array is just a variable, which you can pass to a method in the same way as any other variable. Look at the `getAccumulatedArea` method. It expects you to pass an array of `Shape` objects as an argument.","body":"<code>double result = Util.getAccumulatedArea(shapes);</code> instead of a loop with <code>Shape[p].getAccumulatedArea();</code> in the body. An array is just a variable, which you can pass to a method in the same way as any other variable. Look at the <code>getAccumulatedArea</code> method. It expects you to pass an array of <code>Shape</code> objects as an argument."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1649686470,"post_id":71829238,"comment_id":126932617,"body_markdown":"Please don&#39;t listen to those &quot;some people&quot;. While learning, use `ArrayList`, it&#39;s much easier to work with.","body":"Please don&#39;t listen to those &quot;some people&quot;. While learning, use <code>ArrayList</code>, it&#39;s much easier to work with."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1649687969,"post_id":71829238,"comment_id":126933245,"body_markdown":"Note that `Util.getAccumluatedArea(Shape[])` should not have a `return` inside the loop.  This will result in returning the area of the first Shape in the array rather than the sum of the areas of all the Shapes in that array.","body":"Note that <code>Util.getAccumluatedArea(Shape[])</code> should not have a <code>return</code> inside the loop.  This will result in returning the area of the first Shape in the array rather than the sum of the areas of all the Shapes in that array."},{"owner":{"account_id":24901997,"reputation":3,"user_id":18772568,"display_name":"Satoc4n"},"score":0,"creation_date":1649688859,"post_id":71829238,"comment_id":126933625,"body_markdown":"Thank you all finally figurued it out thanks to you all!","body":"Thank you all finally figurued it out thanks to you all!"}],"answers":[{"tags":[],"owner":{"account_id":17255430,"reputation":609,"user_id":12494637,"display_name":"Nicholas Weston"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649686581,"creation_date":1649686581,"answer_id":71829400,"question_id":71829238,"body_markdown":"The methods in your `Util` class are `static`. A static method should be invoked on the _class_ it is declared as part of. Both of your methods you have declared to take a parameter of type `Shape[]`. So you should invoke them like so:\r\n\r\n```\r\nUtil.getAccumulatedArea(shapes)\r\n```\r\n\r\n…where `shapes` is a value of type `Shape[]`.","title":"How To Use Methods With Array In Java?","body":"<p>The methods in your <code>Util</code> class are <code>static</code>. A static method should be invoked on the <em>class</em> it is declared as part of. Both of your methods you have declared to take a parameter of type <code>Shape[]</code>. So you should invoke them like so:</p>\n<pre><code>Util.getAccumulatedArea(shapes)\n</code></pre>\n<p>…where <code>shapes</code> is a value of type <code>Shape[]</code>.</p>\n"}],"owner":{"account_id":24901997,"reputation":3,"user_id":18772568,"display_name":"Satoc4n"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71829400,"answer_count":1,"score":-1,"last_activity_date":1649686581,"creation_date":1649685872,"question_id":71829238,"body_markdown":"My first question here so please point out my mistakes. And to be honest I couldn&#39;t find any similar questions. \r\n\r\nSo I am trying to write something very basic and I really can&#39;t figure why I can&#39;t call a method from my Util Class in my Main class.\r\n\r\n**Util class**\r\n\r\n``` public class Util {\r\n\r\n    private double accumulatedArea;\r\n    private double accumulatedCircumference;\r\n\r\n\r\n    public static double getAccumulatedArea(Shape[] shapes) {\r\n        double accumulatedArea = 0;\r\n        for (Shape s : shapes) {\r\n            accumulatedArea = accumulatedArea + s.area();\r\n            return accumulatedArea;\r\n        }\r\n        return accumulatedArea;\r\n    }\r\n\r\n\r\n    public static double getAccumulatedCircumference(Shape[] shapes) {\r\n        double accumulatedCircumference = 0;\r\n        for (Shape q : shapes) {\r\n            accumulatedCircumference = accumulatedCircumference + q.circumference();\r\n            return accumulatedCircumference;\r\n        }\r\n        return accumulatedCircumference;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;Number: &quot;;\r\n     }\r\n\r\n}\r\n ```\r\n\r\nand **Main class**\r\n\r\n```public class App {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Shape[] shapes = new Shape[4];\r\n\r\n        shapes[0] = new Circle(100);\r\n        shapes[1] = new Circle(23);\r\n\r\n        shapes[2] = new Rectangle(10, 20);\r\n        shapes[3] = new Rectangle(8, 12);\r\n\r\n        System.out.println(&quot;Area of the circle 1: &quot; + shapes[0].area() + &quot; and its circumference is: &quot; + shapes[0].circumference());\r\n        System.out.println(&quot;Area of the circle 2: &quot; + shapes[1].area() + &quot; and its circumference is: &quot; + shapes[1].circumference());\r\n\r\n        System.out.println(&quot;Area of the rectangle 1: &quot; + shapes[2].area() + &quot; and its circumference is: &quot; + shapes[2].circumference());\r\n        System.out.println(&quot;Area of the rectangle 2: &quot; + shapes[3].area() + &quot; and its circumference is: &quot; + shapes[3].circumference());\r\n        //Small test\r\n        System.out.println(&quot;Number of shapes are in the system: &quot; + shapes.length);\r\n\r\n        //????? What to do here??\r\n        for (int p = 0; p &lt; shapes.length; p++) {\r\n            Shape[p].getAccumulatedArea();\r\n        }\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nHow can I call my ```getAccumulatedArea``` and ```getAccumulatedCircumference``` methods??\r\n\r\nBeen searching for couple of days now and I really don&#39;t have any idea how.\r\n\r\nJust in case there is also 2 Rectangle and Circle classes that I use. They are very similar so I am only putting one.\r\n\r\n```public class Circle implements Shape{\r\n    private double radius;\r\n    private double circumference;\r\n    private double area;\r\n    private ArrayList&lt;Circle&gt; circles;\r\n\r\n\r\n    //throws Exception gives error! learn how to do exceptions!\r\n    public Circle(double radius) {\r\n        super();\r\n        if(radius &gt; 0) {\r\n            this.radius = radius;\r\n        }\r\n        else {\r\n            System.out.println(&quot;Throw new Exception!!&quot;);\r\n        }\r\n    }\r\n\r\n    public void setRadius(double radius) throws Exception {\r\n        if (radius &lt; 0) {\r\n            throw new Exception();\r\n        }\r\n        else {\r\n            this.radius = radius;\r\n        }\r\n    }\r\n    public void setCircumference(double circumference) throws Exception {\r\n        if (circumference &lt; 0) {\r\n            throw new Exception();\r\n        }\r\n        else {\r\n            this.circumference = circumference;\r\n        }\r\n    }\r\n\r\n    public void setArea(double area) {\r\n        if (area &lt;= 0) {\r\n            System.out.println(&quot;Please check your input!&quot;);\r\n        }\r\n        else {\r\n            this.area = area;\r\n        }\r\n    }\r\n\r\n    public double getRadius() {\r\n        return radius;\r\n    }\r\n\r\n    public double getCircumference() throws Exception{\r\n        if (radius &lt; 0) {\r\n            throw new Exception();\r\n        }\r\n        else {\r\n            return circumference;\r\n        }\r\n    }\r\n\r\n    public double getArea() throws Exception{\r\n        if (radius &lt; 0) {\r\n            throw new Exception();\r\n        }\r\n        else {\r\n            return area;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public double circumference() {\r\n        return 2 * Math.PI * radius;\r\n    }\r\n\r\n    @Override\r\n    public double area() {\r\n        return radius * radius * Math.PI;\r\n    }\r\n}\r\n```\r\n\r\nThe code seems kinda messy but that&#39;s because I&#39;ve been trying everything :) Any advice is welcome. Btw I was using Arraylist but according to some people I know, using Array is much better in this circumstance.\r\n","title":"How To Use Methods With Array In Java?","body":"<p>My first question here so please point out my mistakes. And to be honest I couldn't find any similar questions.</p>\n<p>So I am trying to write something very basic and I really can't figure why I can't call a method from my Util Class in my Main class.</p>\n<p><strong>Util class</strong></p>\n<pre><code>\n    private double accumulatedArea;\n    private double accumulatedCircumference;\n\n\n    public static double getAccumulatedArea(Shape[] shapes) {\n        double accumulatedArea = 0;\n        for (Shape s : shapes) {\n            accumulatedArea = accumulatedArea + s.area();\n            return accumulatedArea;\n        }\n        return accumulatedArea;\n    }\n\n\n    public static double getAccumulatedCircumference(Shape[] shapes) {\n        double accumulatedCircumference = 0;\n        for (Shape q : shapes) {\n            accumulatedCircumference = accumulatedCircumference + q.circumference();\n            return accumulatedCircumference;\n        }\n        return accumulatedCircumference;\n    }\n\n    public String toString() {\n        return &quot;Number: &quot;;\n     }\n\n}\n</code></pre>\n<p>and <strong>Main class</strong></p>\n<pre><code>\n    public static void main(String[] args) {\n\n        Shape[] shapes = new Shape[4];\n\n        shapes[0] = new Circle(100);\n        shapes[1] = new Circle(23);\n\n        shapes[2] = new Rectangle(10, 20);\n        shapes[3] = new Rectangle(8, 12);\n\n        System.out.println(&quot;Area of the circle 1: &quot; + shapes[0].area() + &quot; and its circumference is: &quot; + shapes[0].circumference());\n        System.out.println(&quot;Area of the circle 2: &quot; + shapes[1].area() + &quot; and its circumference is: &quot; + shapes[1].circumference());\n\n        System.out.println(&quot;Area of the rectangle 1: &quot; + shapes[2].area() + &quot; and its circumference is: &quot; + shapes[2].circumference());\n        System.out.println(&quot;Area of the rectangle 2: &quot; + shapes[3].area() + &quot; and its circumference is: &quot; + shapes[3].circumference());\n        //Small test\n        System.out.println(&quot;Number of shapes are in the system: &quot; + shapes.length);\n\n        //????? What to do here??\n        for (int p = 0; p &lt; shapes.length; p++) {\n            Shape[p].getAccumulatedArea();\n        }\n\n\n    }\n}\n</code></pre>\n<p>How can I call my <code>getAccumulatedArea</code> and <code>getAccumulatedCircumference</code> methods??</p>\n<p>Been searching for couple of days now and I really don't have any idea how.</p>\n<p>Just in case there is also 2 Rectangle and Circle classes that I use. They are very similar so I am only putting one.</p>\n<pre><code>    private double radius;\n    private double circumference;\n    private double area;\n    private ArrayList&lt;Circle&gt; circles;\n\n\n    //throws Exception gives error! learn how to do exceptions!\n    public Circle(double radius) {\n        super();\n        if(radius &gt; 0) {\n            this.radius = radius;\n        }\n        else {\n            System.out.println(&quot;Throw new Exception!!&quot;);\n        }\n    }\n\n    public void setRadius(double radius) throws Exception {\n        if (radius &lt; 0) {\n            throw new Exception();\n        }\n        else {\n            this.radius = radius;\n        }\n    }\n    public void setCircumference(double circumference) throws Exception {\n        if (circumference &lt; 0) {\n            throw new Exception();\n        }\n        else {\n            this.circumference = circumference;\n        }\n    }\n\n    public void setArea(double area) {\n        if (area &lt;= 0) {\n            System.out.println(&quot;Please check your input!&quot;);\n        }\n        else {\n            this.area = area;\n        }\n    }\n\n    public double getRadius() {\n        return radius;\n    }\n\n    public double getCircumference() throws Exception{\n        if (radius &lt; 0) {\n            throw new Exception();\n        }\n        else {\n            return circumference;\n        }\n    }\n\n    public double getArea() throws Exception{\n        if (radius &lt; 0) {\n            throw new Exception();\n        }\n        else {\n            return area;\n        }\n    }\n\n    @Override\n    public double circumference() {\n        return 2 * Math.PI * radius;\n    }\n\n    @Override\n    public double area() {\n        return radius * radius * Math.PI;\n    }\n}\n</code></pre>\n<p>The code seems kinda messy but that's because I've been trying everything :) Any advice is welcome. Btw I was using Arraylist but according to some people I know, using Array is much better in this circumstance.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"comments":[{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1649685972,"post_id":71829209,"comment_id":126932412,"body_markdown":"This question needs a lots of formatting","body":"This question needs a lots of formatting"}],"answers":[{"tags":[],"owner":{"account_id":9966524,"reputation":575,"user_id":7374068,"display_name":"Alireza Nezami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649686536,"creation_date":1649686536,"answer_id":71829385,"question_id":71829209,"body_markdown":"You can easily use the `substring(0,5)` extension function of Kotlin standard library. \r\n\r\n        textoHora.text = abastecimento.hodomDm.toString().substring(0,5)","title":"How to fix string size selection error in kotlin?","body":"<p>You can easily use the <code>substring(0,5)</code> extension function of Kotlin standard library.</p>\n<pre><code>    textoHora.text = abastecimento.hodomDm.toString().substring(0,5)\n</code></pre>\n"}],"owner":{"account_id":24902121,"reputation":51,"user_id":18772676,"display_name":"ldPr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71829385,"answer_count":1,"score":0,"last_activity_date":1649686536,"creation_date":1649685750,"question_id":71829209,"body_markdown":"   val textoData = itemView.findViewById&lt;TextView&gt;(R.id.texto_data_abastecimento)\r\n            textoData.text = abastecimento.datam.toString().subSequence(0..10)\r\n\r\n            val textoHora = itemView.findViewById&lt;TextView&gt;(R.id.texto_hora_abastecimento)\r\n            textoHora.text = abastecimento.hodomDm.toString().subSequence(0..5)\r\n\r\nI&#39;m trying to use only the first 5 characters for display on the adapter and I end up getting the following error:\r\n\r\njava.lang.StringIndexOutOfBoundsException: length=0; index=6","title":"How to fix string size selection error in kotlin?","body":"<p>val textoData = itemView.findViewById(R.id.texto_data_abastecimento)\ntextoData.text = abastecimento.datam.toString().subSequence(0..10)</p>\n<pre><code>        val textoHora = itemView.findViewById&lt;TextView&gt;(R.id.texto_hora_abastecimento)\n        textoHora.text = abastecimento.hodomDm.toString().subSequence(0..5)\n</code></pre>\n<p>I'm trying to use only the first 5 characters for display on the adapter and I end up getting the following error:</p>\n<p>java.lang.StringIndexOutOfBoundsException: length=0; index=6</p>\n"},{"tags":["java","kotlin","maya","arcore","sceneform"],"answers":[{"tags":[],"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649686327,"creation_date":1597744604,"answer_id":63466209,"question_id":63391619,"body_markdown":"When you&#39;re building ARCore app with [Augmented Faces][1] functionality you need to use a [canonical face mesh][2] that was saved in `.fbx`, `.obj`, or `.glTF` file format. Import this canonical face into Autodesk Maya and using UV Texture Editor, create a [UV-mapped texture][3] that can be repainted in Adobe Photoshop or Pixelmator.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/54869965/augmented-faces-api-how-facial-landmarks-generated/54875635#54875635\r\n  [2]: https://developers.google.com/ar/develop/developer-guides/creating-assets-for-augmented-faces\r\n  [3]: https://www.youtube.com/watch?v=uH8GcI5czmk\r\n  [4]: https://i.stack.imgur.com/RT7OH.jpg","title":"How to create texture to overlay on Augmented Face mesh?","body":"<p>When you're building ARCore app with <a href=\"https://stackoverflow.com/questions/54869965/augmented-faces-api-how-facial-landmarks-generated/54875635#54875635\">Augmented Faces</a> functionality you need to use a <a href=\"https://developers.google.com/ar/develop/developer-guides/creating-assets-for-augmented-faces\" rel=\"nofollow noreferrer\">canonical face mesh</a> that was saved in <code>.fbx</code>, <code>.obj</code>, or <code>.glTF</code> file format. Import this canonical face into Autodesk Maya and using UV Texture Editor, create a <a href=\"https://www.youtube.com/watch?v=uH8GcI5czmk\" rel=\"nofollow noreferrer\">UV-mapped texture</a> that can be repainted in Adobe Photoshop or Pixelmator.</p>\n<p><a href=\"https://i.stack.imgur.com/RT7OH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RT7OH.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":19287571,"reputation":41,"user_id":14098275,"display_name":"Preethi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1452,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1649686347,"creation_date":1597309126,"question_id":63391619,"body_markdown":"I am working on an AR application using ARCore and Sceneform. I want to add texture to face landmarks like nose, lips, face and eyes. I want to know how to create texture so that I can overlay it on Augmented Face mesh?\r\n\r\n    Texture.builder()\r\n       .setSource(this, R.drawable.makeupforlips)\r\n       .setUsage(Texture.Usage.COLOR)\r\n       .build()\r\n       .thenAccept(texture -&gt; faceMeshTexture = texture);\r\n    \r\naddOnUpdateListener:\r\n\r\n    for (AugmentedFace face: faceList) {\r\n\r\n        if (!faceNodeMap.containsKey(face)) {\r\n\r\n            AugmentedFaceNode faceNode = new AugmentedFaceNode(face);\r\n            faceNode.setParent(scene);\r\n            // faceNode.setFaceRegionsRenderable(faceRegionsRenderable);\r\n            faceNode.setFaceMeshTexture(faceMeshTexture);\r\n            faceNodeMap.put(face, faceNode);\r\n        }\r\n    }\r\n\r\n","title":"How to create texture to overlay on Augmented Face mesh?","body":"<p>I am working on an AR application using ARCore and Sceneform. I want to add texture to face landmarks like nose, lips, face and eyes. I want to know how to create texture so that I can overlay it on Augmented Face mesh?</p>\n<pre><code>Texture.builder()\n   .setSource(this, R.drawable.makeupforlips)\n   .setUsage(Texture.Usage.COLOR)\n   .build()\n   .thenAccept(texture -&gt; faceMeshTexture = texture);\n</code></pre>\n<p>addOnUpdateListener:</p>\n<pre><code>for (AugmentedFace face: faceList) {\n\n    if (!faceNodeMap.containsKey(face)) {\n\n        AugmentedFaceNode faceNode = new AugmentedFaceNode(face);\n        faceNode.setParent(scene);\n        // faceNode.setFaceRegionsRenderable(faceRegionsRenderable);\n        faceNode.setFaceMeshTexture(faceMeshTexture);\n        faceNodeMap.put(face, faceNode);\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","random","while-loop"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1649684538,"post_id":71828857,"comment_id":126931836,"body_markdown":"So your actual question is just how to convert your for loop into a while loop? Because you already did that whole number excluding thing in the code above.","body":"So your actual question is just how to convert your for loop into a while loop? Because you already did that whole number excluding thing in the code above."}],"answers":[{"tags":[],"owner":{"account_id":17255430,"reputation":609,"user_id":12494637,"display_name":"Nicholas Weston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649686265,"creation_date":1649684525,"answer_id":71828896,"question_id":71828857,"body_markdown":"You could generate a random integer between 0 (inclusive) to 10 (exclusive) and then &quot;shift&quot; the values to omit 5.\r\n\r\n```\r\nRandom random = new Random();\r\nfor (int i=0 ; i&lt;10 ; i++) {\r\n    int randomNumber = random.nextInt(10);\r\n    if (randomNumber &lt; 5) {\r\n        tab[i] = randomNumber;\r\n    }\r\n    else {\r\n        tab[i] = randomNumber + 1;\r\n    }\r\n}\r\n```\r\n\r\n(**EDIT**: Show full code including the loop.)\r\n\r\n**EDIT 2**: OP wants a solution that regenerates `randomNumber` until it is not 5:\r\n\r\n```\r\nRandom random = new Random();\r\nfor (int i=0 ; i&lt;10 ; i++) {\r\n    int randomNumber;\r\n    while ((randomNumber.nextInt(11)) != 5) {\r\n        tab[i] = randomNumber;\r\n    }\r\n}\r\n```","title":"How to exclude a specific number from random method while filling array","body":"<p>You could generate a random integer between 0 (inclusive) to 10 (exclusive) and then &quot;shift&quot; the values to omit 5.</p>\n<pre><code>Random random = new Random();\nfor (int i=0 ; i&lt;10 ; i++) {\n    int randomNumber = random.nextInt(10);\n    if (randomNumber &lt; 5) {\n        tab[i] = randomNumber;\n    }\n    else {\n        tab[i] = randomNumber + 1;\n    }\n}\n</code></pre>\n<p>(<strong>EDIT</strong>: Show full code including the loop.)</p>\n<p><strong>EDIT 2</strong>: OP wants a solution that regenerates <code>randomNumber</code> until it is not 5:</p>\n<pre><code>Random random = new Random();\nfor (int i=0 ; i&lt;10 ; i++) {\n    int randomNumber;\n    while ((randomNumber.nextInt(11)) != 5) {\n        tab[i] = randomNumber;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24901785,"reputation":1,"user_id":18772378,"display_name":"Andrzej Czarny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1649686265,"creation_date":1649684348,"question_id":71828857,"body_markdown":"I&#39;m looking for a solution for exclude one number from Random method filling an array. I wrote a following code but instead of using &quot;i--&quot; I would like to use while statement. Does anyone have an idea how to handle it?\r\n\r\n    Random random = new Random();\r\n    int[] tab = new int[10];\r\n        for(int i=0 ; i&lt;10 ; i++) {\r\n        int randomNumber = random.nextInt(11);\r\n            if(randomNumber == 5) {\r\n                i--;\r\n                continue;\r\n            }\r\n            tab[i] = randomNumber;\r\n    }","title":"How to exclude a specific number from random method while filling array","body":"<p>I'm looking for a solution for exclude one number from Random method filling an array. I wrote a following code but instead of using &quot;i--&quot; I would like to use while statement. Does anyone have an idea how to handle it?</p>\n<pre><code>Random random = new Random();\nint[] tab = new int[10];\n    for(int i=0 ; i&lt;10 ; i++) {\n    int randomNumber = random.nextInt(11);\n        if(randomNumber == 5) {\n            i--;\n            continue;\n        }\n        tab[i] = randomNumber;\n}\n</code></pre>\n"},{"tags":["java","apache-spark","streaming"],"answers":[{"tags":[],"owner":{"account_id":36732,"reputation":9400,"user_id":104887,"accept_rate":86,"display_name":"nont"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649686213,"creation_date":1649684890,"answer_id":71828990,"question_id":71728770,"body_markdown":"You want a function that takes a string, and returns a list of strings that include N tokens\r\n\r\n    def splitNum(line: String, count: Int): List[String] = {\r\n        line\r\n          .split(&quot; &quot;)      // break into tokens\r\n          .grouped(count)  // group every COUNT tokens together\r\n          .map { tokens =&gt;\r\n            tokens.mkString(&quot; &quot;) // glue group of tokens back together\r\n      }\r\n     }\r\n\r\nYou can then apply the function to the text that you read in like:\r\n\r\n     distFile.flatMap(line =&gt; splitNum(line, 3))\r\n\r\ndepending on how clean your text file is, you might still have other work to do handling other punctuation, better tokenization, handling multiple spaces, etc","title":"Java: Implementing a sliding window of data over an RDD flatmap","body":"<p>You want a function that takes a string, and returns a list of strings that include N tokens</p>\n<pre><code>def splitNum(line: String, count: Int): List[String] = {\n    line\n      .split(&quot; &quot;)      // break into tokens\n      .grouped(count)  // group every COUNT tokens together\n      .map { tokens =&gt;\n        tokens.mkString(&quot; &quot;) // glue group of tokens back together\n  }\n }\n</code></pre>\n<p>You can then apply the function to the text that you read in like:</p>\n<pre><code> distFile.flatMap(line =&gt; splitNum(line, 3))\n</code></pre>\n<p>depending on how clean your text file is, you might still have other work to do handling other punctuation, better tokenization, handling multiple spaces, etc</p>\n"}],"owner":{"account_id":24812884,"reputation":21,"user_id":18694106,"display_name":"Bruhland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":463,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1649686213,"creation_date":1649010485,"question_id":71728770,"body_markdown":"I need to do the following thing: Using Apache Spark streaming, for each word in a given string located in a file I want to have a string window of a few words that I can use/print to standard output. So far I have the following code: \r\n\r\n```\r\nSparkConf conf = new SparkConf()\r\n                           .setAppName(&quot;SparkApp&quot;)\r\n                           .setMaster(&quot;local[*]&quot;);\r\nJavaSparkContext sc = new JavaSparkContext(conf);\r\nJavaRDD&lt;String&gt; distFile = sc.textFile(&quot;file.txt&quot;);\r\nJavaRDD&lt;String&gt; words = distFile\r\n                           .flatMap(x -&gt; Arrays.asList(\r\n                               x.replaceAll(&quot;,&quot;, &quot; &quot;)\r\n                                   .replaceAll(&quot;\\&quot;&quot;, &quot; &quot;)\r\n                                   .split(&quot; &quot;)).iterator());\r\n\r\nwords.foreach(x -&gt; {\r\n                 System.out.println(x);\r\n             });\r\n\r\n```\r\n\r\nThe file file.txt looks like this:\r\n\r\n```\r\nThe quick brown fox jumps over the lazy dog\r\n```\r\n\r\nThe output of the program is the following:\r\n```\r\nThe\r\nquick\r\nbrown\r\nfox\r\njumps\r\nover\r\nthe\r\nlazy\r\ndog\r\n```\r\n\r\nWhat I want it to do is to, for example, if I pass to some method 3 for it to print three words at a time in the following way:\r\n```\r\nThe quick brown\r\nquick brown fox\r\nbrown fox jumps\r\nfox jumps over\r\n.. etecetera\r\n```\r\n\r\nWhat I&#39;ve tried so far:\r\n1. Implemented a serializable linked list as a queue to add the current word to and remove the last one to while passing through every word with .foreach. It didn&#39;t work out because apparently you can&#39;t change local variables through foreaching an RDD\r\n2. Found something useful and similar to what I&#39;m supposed to do regarding DStreams and sliding windows over data, but it proved extremely difficult and I&#39;d really rather hear you guys&#39; opinion before I delve back into that, if it&#39;s indeed the only way or if there are indeed better ways to do it.","title":"Java: Implementing a sliding window of data over an RDD flatmap","body":"<p>I need to do the following thing: Using Apache Spark streaming, for each word in a given string located in a file I want to have a string window of a few words that I can use/print to standard output. So far I have the following code:</p>\n<pre><code>SparkConf conf = new SparkConf()\n                           .setAppName(&quot;SparkApp&quot;)\n                           .setMaster(&quot;local[*]&quot;);\nJavaSparkContext sc = new JavaSparkContext(conf);\nJavaRDD&lt;String&gt; distFile = sc.textFile(&quot;file.txt&quot;);\nJavaRDD&lt;String&gt; words = distFile\n                           .flatMap(x -&gt; Arrays.asList(\n                               x.replaceAll(&quot;,&quot;, &quot; &quot;)\n                                   .replaceAll(&quot;\\&quot;&quot;, &quot; &quot;)\n                                   .split(&quot; &quot;)).iterator());\n\nwords.foreach(x -&gt; {\n                 System.out.println(x);\n             });\n\n</code></pre>\n<p>The file file.txt looks like this:</p>\n<pre><code>The quick brown fox jumps over the lazy dog\n</code></pre>\n<p>The output of the program is the following:</p>\n<pre><code>The\nquick\nbrown\nfox\njumps\nover\nthe\nlazy\ndog\n</code></pre>\n<p>What I want it to do is to, for example, if I pass to some method 3 for it to print three words at a time in the following way:</p>\n<pre><code>The quick brown\nquick brown fox\nbrown fox jumps\nfox jumps over\n.. etecetera\n</code></pre>\n<p>What I've tried so far:</p>\n<ol>\n<li>Implemented a serializable linked list as a queue to add the current word to and remove the last one to while passing through every word with .foreach. It didn't work out because apparently you can't change local variables through foreaching an RDD</li>\n<li>Found something useful and similar to what I'm supposed to do regarding DStreams and sliding windows over data, but it proved extremely difficult and I'd really rather hear you guys' opinion before I delve back into that, if it's indeed the only way or if there are indeed better ways to do it.</li>\n</ol>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1649685610,"post_id":71828892,"comment_id":126932266,"body_markdown":"Did you walk through your code with a debugger yet?","body":"Did you walk through your code with a debugger yet?"}],"answers":[{"tags":[],"owner":{"account_id":13772027,"reputation":1,"user_id":18772439,"display_name":"Jing Jing Fan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649685599,"creation_date":1649685599,"answer_id":71829175,"question_id":71828892,"body_markdown":"ok nevermind I know why, its because my head node needs to point to null, it was still pointing to the next element instead of null so there was a cycle between my first and second node","title":"Why does my java code for reversing a linked list cause a cycle?","body":"<p>ok nevermind I know why, its because my head node needs to point to null, it was still pointing to the next element instead of null so there was a cycle between my first and second node</p>\n"},{"tags":[],"owner":{"account_id":17255430,"reputation":609,"user_id":12494637,"display_name":"Nicholas Weston"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649685746,"creation_date":1649685746,"answer_id":71829208,"question_id":71828892,"body_markdown":"Let&#39;s suppose we have the following linked list:\r\n\r\n```\r\nA -&gt; B -&gt; C -&gt; null\r\n```\r\n\r\nInitially, `prev = A`, `curr = B`, and `next = C`.\r\n\r\nWe&#39;ll trace out the first iteration of your loop:\r\n\r\n\r\n`curr.next = prev` sets the link of `B` to `A`, so now our list is:\r\n\r\n```\r\nA -&gt; B -&gt; A -&gt; …\r\n```\r\n\r\nThe next two assignments set `prev` to `B` and `curr` to `A`.\r\n\r\n`curr != null` is true. `next = curr.next` sets `next` to `B`.\r\n\r\nWe&#39;ve lost track of the rest of the list (from `C`) entirely, and the cycle will never be resolved.","title":"Why does my java code for reversing a linked list cause a cycle?","body":"<p>Let's suppose we have the following linked list:</p>\n<pre><code>A -&gt; B -&gt; C -&gt; null\n</code></pre>\n<p>Initially, <code>prev = A</code>, <code>curr = B</code>, and <code>next = C</code>.</p>\n<p>We'll trace out the first iteration of your loop:</p>\n<p><code>curr.next = prev</code> sets the link of <code>B</code> to <code>A</code>, so now our list is:</p>\n<pre><code>A -&gt; B -&gt; A -&gt; …\n</code></pre>\n<p>The next two assignments set <code>prev</code> to <code>B</code> and <code>curr</code> to <code>A</code>.</p>\n<p><code>curr != null</code> is true. <code>next = curr.next</code> sets <code>next</code> to <code>B</code>.</p>\n<p>We've lost track of the rest of the list (from <code>C</code>) entirely, and the cycle will never be resolved.</p>\n"}],"owner":{"account_id":13772027,"reputation":1,"user_id":18772439,"display_name":"Jing Jing Fan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1649685746,"creation_date":1649684506,"question_id":71828892,"body_markdown":"so I for when I run this code on leetcode, it tells me Error - Found cycle in the ListNode, but I for the life of me can&#39;t figure out why. Please help, thanks in advance!\r\n\r\n    class Solution {\r\n    public ListNode reverseList(ListNode head) {\r\n        if (head.next == null || head == null) return head;\r\n        \r\n        ListNode curr = head.next;\r\n        ListNode prev = head;\r\n        ListNode next = head.next.next;\r\n        \r\n        while (curr != null) {\r\n        \tcurr.next = prev;\r\n        \tprev = curr;\r\n        \tcurr = next;\r\n        \tif (curr != null) next = curr.next;\r\n        }\r\n        \r\n        return prev;\r\n        \r\n    }\r\n}","title":"Why does my java code for reversing a linked list cause a cycle?","body":"<p>so I for when I run this code on leetcode, it tells me Error - Found cycle in the ListNode, but I for the life of me can't figure out why. Please help, thanks in advance!</p>\n<pre><code>class Solution {\npublic ListNode reverseList(ListNode head) {\n    if (head.next == null || head == null) return head;\n    \n    ListNode curr = head.next;\n    ListNode prev = head;\n    ListNode next = head.next.next;\n    \n    while (curr != null) {\n        curr.next = prev;\n        prev = curr;\n        curr = next;\n        if (curr != null) next = curr.next;\n    }\n    \n    return prev;\n    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","xml","eclipse","element"],"comments":[{"owner":{"account_id":8952186,"reputation":199,"user_id":6677837,"display_name":"Manju"},"score":1,"creation_date":1619512381,"post_id":67279483,"comment_id":118921458,"body_markdown":"It should be like...\n\n\n&lt;?xml version=&quot;1.0&quot; encodingg=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n          xmlnss=&quot;http://java.sun.com/xml/ns/javaee&quot; \n          xsii:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; \n        versionn=&quot;2.5&quot;&gt;\n&lt;display-name&gt;helloweb&lt;/display-name&gt;\n&lt;/web-app&gt;","body":"It should be like...   &lt;?xml version=&quot;1.0&quot; encodingg=&quot;UTF-8&quot;?&gt; &lt;web-app xmlns:xsi=&quot;<a href=\"http://www.w3.org/2001/XMLSchema-instance\" rel=\"nofollow noreferrer\">w3.org/2001/XMLSchema-instance</a>&quot;            xmlnss=&quot;<a href=\"http://java.sun.com/xml/ns/javaee\" rel=\"nofollow noreferrer\">java.sun.com/xml/ns/javaee</a>&quot;            xsii:schemaLocation=&quot;<a href=\"http://java.sun.com/xml/ns/javaee\" rel=\"nofollow noreferrer\">java.sun.com/xml/ns/javaee</a> <a href=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" rel=\"nofollow noreferrer\">java.sun.com/xml/ns/javaee/web-app_2_5.xsd</a>&quot;          versionn=&quot;2.5&quot;&gt; &lt;display-name&gt;helloweb&lt;/display-name&gt; &lt;/web-app&gt;"},{"owner":{"account_id":7397424,"reputation":95,"user_id":5628852,"display_name":"Sh-a-i"},"score":0,"creation_date":1642420874,"post_id":67279483,"comment_id":125058211,"body_markdown":"correcting a typo..\n&lt;?xml version=&quot;1.0&quot; encodingg=&quot;UTF-8&quot;?&gt; &lt;web-app xmlns:xsi=&quot;w3.org/2001/XMLSchema-instance&quot; xmlnss=&quot;java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;java.sun.com/xml/ns/javaee java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; versionn=&quot;2.5&quot;&gt; &lt;display-name&gt;helloweb&lt;/display-name&gt; &lt;/web-app&gt;","body":"correcting a typo.. &lt;?xml version=&quot;1.0&quot; encodingg=&quot;UTF-8&quot;?&gt; &lt;web-app xmlns:xsi=&quot;w3.org/2001/XMLSchema-instance&quot; xmlnss=&quot;java.sun.com/xml/ns/javaee&quot; xsi:schemaLocation=&quot;java.sun.com/xml/ns/javaee java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; versionn=&quot;2.5&quot;&gt; &lt;display-name&gt;helloweb&lt;/display-name&gt; &lt;/web-app&gt;"}],"answers":[{"tags":[],"owner":{"account_id":17203367,"reputation":1,"user_id":12454493,"display_name":"Anass Habi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649685596,"creation_date":1648571013,"answer_id":71665620,"question_id":67279483,"body_markdown":"Just change `xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;` to `xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee&quot;`","title":"Invalid element name:- display-name One of the following is expected:- distributable, context-param , filter, servlet, etc","body":"<p>Just change <code>xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;</code> to <code>xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee&quot;</code></p>\n"}],"owner":{"account_id":21414755,"reputation":11,"user_id":15774184,"display_name":"Krutika Vinchu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4043,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1649685596,"creation_date":1619512042,"question_id":67279483,"body_markdown":"I am trying to solve this error...\r\nThis error is showing by default when I create new project within dynamic web project option..\r\nThe scenario is project creates successfully but when I expand web.xml file inside webapp folder errors are showing....\r\n\r\nPls click the code of web.xml file:-\r\n  \r\n\r\n    &lt;?xml version=&quot;1.0&quot; \r\n    encodingg=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-appxmlns:xsi=&quot;http://\r\n    www.w3.org/2001/XMLSchema-\r\n    instance&quot; \r\n    xmlnss=&quot;http://java.sun.com\r\n    /xml/ns/javaee&quot; \r\n    xsii:schemaLocation=&quot;http:\r\n    //java.sun.com/xml/ns/javaee \r\n    httpp://java.sun.com/xml/\r\n    ns/javaee/web-app_2_5.xsd&quot; \r\n    versionn=&quot;2.5&quot;&gt;\r\n    &lt;display-name&gt;helloweb&lt;/display- \r\n    name&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\n\r\nThis is the error:-\r\n[![https://i.stack.imgur.com/savdu.png][1]][1]\r\n\r\n[1]: https://i.stack.imgur.com/savdu.png","title":"Invalid element name:- display-name One of the following is expected:- distributable, context-param , filter, servlet, etc","body":"<p>I am trying to solve this error...\nThis error is showing by default when I create new project within dynamic web project option..\nThe scenario is project creates successfully but when I expand web.xml file inside webapp folder errors are showing....</p>\n<p>Pls click the code of web.xml file:-</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; \nencodingg=&quot;UTF-8&quot;?&gt;\n&lt;web-appxmlns:xsi=&quot;http://\nwww.w3.org/2001/XMLSchema-\ninstance&quot; \nxmlnss=&quot;http://java.sun.com\n/xml/ns/javaee&quot; \nxsii:schemaLocation=&quot;http:\n//java.sun.com/xml/ns/javaee \nhttpp://java.sun.com/xml/\nns/javaee/web-app_2_5.xsd&quot; \nversionn=&quot;2.5&quot;&gt;\n&lt;display-name&gt;helloweb&lt;/display- \nname&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>This is the error:-\n<a href=\"https://i.stack.imgur.com/savdu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/savdu.png\" alt=\"https://i.stack.imgur.com/savdu.png\" /></a></p>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-lambda","aws-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":6388141,"reputation":1656,"user_id":4955321,"display_name":"Banjo Obayomi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1539264764,"creation_date":1539264764,"answer_id":52761389,"question_id":52757047,"body_markdown":"You should use the AWS SDK as shown [here][1] \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/AmazonS3/latest/dev/UploadObjSingleOpJava.html","title":"How do I upload a file to a pre-signed URL in AWS using Java?","body":"<p>You should use the AWS SDK as shown <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/UploadObjSingleOpJava.html\" rel=\"nofollow noreferrer\">here</a> </p>\n"},{"tags":[],"owner":{"account_id":38977,"reputation":2225,"user_id":112233,"display_name":"jmp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560091099,"creation_date":1540407289,"answer_id":52976125,"question_id":52757047,"body_markdown":"Just to elaborate on my later comment here are two examples how to upload to the pre-signed URL returned by Device Farm&#39;s SDK in java. \r\n\r\n[Jenkins plugin example](https://github.com/awslabs/aws-device-farm-jenkins-plugin/blob/master/src/main/java/org/jenkinsci/plugins/awsdevicefarm/AWSDeviceFarm.java#L610-L658)\r\n\r\n[Generic s3 documentation example about presigned urls](https://docs.aws.amazon.com/AmazonS3/latest/dev/PresignedUrlUploadObjectJavaSDK.html)\r\n\r\n[update]\r\n\r\nHere is an example which uploads a file to the Device Farm s3 presigned URL: \r\n\r\n    package com.jmp.stackoveflow;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.HttpURLConnection;\r\n    \r\n    import com.amazonaws.ClientConfiguration;\r\n    import com.amazonaws.auth.AWSSessionCredentials;\r\n    import com.amazonaws.auth.STSAssumeRoleSessionCredentialsProvider;\r\n    import com.amazonaws.services.devicefarm.*;\r\n    import com.amazonaws.services.devicefarm.model.CreateUploadRequest;\r\n    import com.amazonaws.services.devicefarm.model.Upload;\r\n    \r\n    import org.apache.commons.lang3.RandomStringUtils;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.client.methods.HttpPut;\r\n    import org.apache.http.entity.FileEntity;\r\n    import org.apache.http.impl.client.CloseableHttpClient;\r\n    import org.apache.http.impl.client.HttpClients;\r\n    \r\n    public class App {\r\n    \r\n        public static void main(String[] args) {\r\n            String PROJECT_ARN = &quot;arn:aws:devicefarm:us-west-2:111122223333:project:ffb3d9f2-3dd6-4ab8-93fd-bbb6be67b29b&quot;;\r\n            String ROLE_ARN = &quot;arn:aws:iam::111122223333:role/DeviceFarm_FULL_ACCESS&quot;;\r\n    \r\n            System.out.println(&quot;Creating credentials object&quot;);\r\n            // gettting credentials\r\n            STSAssumeRoleSessionCredentialsProvider sts = new STSAssumeRoleSessionCredentialsProvider.Builder(ROLE_ARN,\r\n                    RandomStringUtils.randomAlphanumeric(8)).build();\r\n            AWSSessionCredentials creds = sts.getCredentials();\r\n            ClientConfiguration clientConfiguration = new ClientConfiguration()\r\n                    .withUserAgent(&quot;AWS Device Farm - stackoverflow example&quot;);\r\n            AWSDeviceFarmClient api = new AWSDeviceFarmClient(creds, clientConfiguration);\r\n            api.setServiceNameIntern(&quot;devicefarm&quot;);\r\n    \r\n            System.out.println(&quot;Creating upload object&quot;);\r\n    \r\n            File app_debug_apk = new File(\r\n                    &quot;PATH_TO_YOUR_FILE_HERE&quot;);\r\n            FileEntity fileEntity = new FileEntity(app_debug_apk);\r\n    \r\n            CreateUploadRequest appUploadRequest = new CreateUploadRequest().withName(app_debug_apk.getName())\r\n                    .withProjectArn(PROJECT_ARN).withContentType(&quot;application/octet-stream&quot;).withType(&quot;ANDROID_APP&quot;);\r\n            Upload upload = api.createUpload(appUploadRequest).getUpload();\r\n    \r\n            // Create the connection and use it to upload the new object using the\r\n            // pre-signed URL.\r\n            CloseableHttpClient httpClient = HttpClients.createSystem();\r\n            HttpPut httpPut = new HttpPut(upload.getUrl());\r\n            httpPut.setHeader(&quot;Content-Type&quot;, upload.getContentType());\r\n            httpPut.setEntity(fileEntity);\r\n            try {\r\n                HttpResponse response = httpClient.execute(httpPut);\r\n                System.out.println(&quot;Response: &quot;+ response.getStatusLine().getStatusCode());\r\n            } catch (IOException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**OUTPUT**\r\n\r\n    Creating credentials object\r\n    Creating upload object\r\n    Response: 200\r\n\r\n","title":"How do I upload a file to a pre-signed URL in AWS using Java?","body":"<p>Just to elaborate on my later comment here are two examples how to upload to the pre-signed URL returned by Device Farm's SDK in java. </p>\n\n<p><a href=\"https://github.com/awslabs/aws-device-farm-jenkins-plugin/blob/master/src/main/java/org/jenkinsci/plugins/awsdevicefarm/AWSDeviceFarm.java#L610-L658\" rel=\"nofollow noreferrer\">Jenkins plugin example</a></p>\n\n<p><a href=\"https://docs.aws.amazon.com/AmazonS3/latest/dev/PresignedUrlUploadObjectJavaSDK.html\" rel=\"nofollow noreferrer\">Generic s3 documentation example about presigned urls</a></p>\n\n<p>[update]</p>\n\n<p>Here is an example which uploads a file to the Device Farm s3 presigned URL: </p>\n\n<pre><code>package com.jmp.stackoveflow;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.net.HttpURLConnection;\n\nimport com.amazonaws.ClientConfiguration;\nimport com.amazonaws.auth.AWSSessionCredentials;\nimport com.amazonaws.auth.STSAssumeRoleSessionCredentialsProvider;\nimport com.amazonaws.services.devicefarm.*;\nimport com.amazonaws.services.devicefarm.model.CreateUploadRequest;\nimport com.amazonaws.services.devicefarm.model.Upload;\n\nimport org.apache.commons.lang3.RandomStringUtils;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.methods.HttpPut;\nimport org.apache.http.entity.FileEntity;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClients;\n\npublic class App {\n\n    public static void main(String[] args) {\n        String PROJECT_ARN = \"arn:aws:devicefarm:us-west-2:111122223333:project:ffb3d9f2-3dd6-4ab8-93fd-bbb6be67b29b\";\n        String ROLE_ARN = \"arn:aws:iam::111122223333:role/DeviceFarm_FULL_ACCESS\";\n\n        System.out.println(\"Creating credentials object\");\n        // gettting credentials\n        STSAssumeRoleSessionCredentialsProvider sts = new STSAssumeRoleSessionCredentialsProvider.Builder(ROLE_ARN,\n                RandomStringUtils.randomAlphanumeric(8)).build();\n        AWSSessionCredentials creds = sts.getCredentials();\n        ClientConfiguration clientConfiguration = new ClientConfiguration()\n                .withUserAgent(\"AWS Device Farm - stackoverflow example\");\n        AWSDeviceFarmClient api = new AWSDeviceFarmClient(creds, clientConfiguration);\n        api.setServiceNameIntern(\"devicefarm\");\n\n        System.out.println(\"Creating upload object\");\n\n        File app_debug_apk = new File(\n                \"PATH_TO_YOUR_FILE_HERE\");\n        FileEntity fileEntity = new FileEntity(app_debug_apk);\n\n        CreateUploadRequest appUploadRequest = new CreateUploadRequest().withName(app_debug_apk.getName())\n                .withProjectArn(PROJECT_ARN).withContentType(\"application/octet-stream\").withType(\"ANDROID_APP\");\n        Upload upload = api.createUpload(appUploadRequest).getUpload();\n\n        // Create the connection and use it to upload the new object using the\n        // pre-signed URL.\n        CloseableHttpClient httpClient = HttpClients.createSystem();\n        HttpPut httpPut = new HttpPut(upload.getUrl());\n        httpPut.setHeader(\"Content-Type\", upload.getContentType());\n        httpPut.setEntity(fileEntity);\n        try {\n            HttpResponse response = httpClient.execute(httpPut);\n            System.out.println(\"Response: \"+ response.getStatusLine().getStatusCode());\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>Creating credentials object\nCreating upload object\nResponse: 200\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user9593800"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606951436,"creation_date":1606951436,"answer_id":65117618,"question_id":52757047,"body_markdown":"This is a bit of an old question. In case anyone else finds this. Here is how I solved the problem for files less than 5mb. For files over 5mb its recommended to use multi-part upload. \r\nNOTE: Using Java&#39;s &quot;try with resources&quot; is convenient. Try Catch makes this a clumsy operation but it ensures that resources are closed in the least amount of code within a method.  \r\n\r\n```\r\n/**\r\n * Serial upload of an array of media files to S3 using a presignedUrl.\r\n */\r\npublic void serialPutMedia(ArrayList&lt;String&gt; signedUrls) {\r\n        long getTime = System.currentTimeMillis();\r\n        LOGGER.debug(&quot;serialPutMedia called&quot;);\r\n\r\n        String toDiskDir = DirectoryMgr.getMediaPath(&#39;M&#39;);\r\n\r\n        try {\r\n            HttpURLConnection connection;\r\n            for (int i = 0; i &lt; signedUrls.size(); i++) {\r\n                URL url = new URL(signedUrls.get(i));\r\n                connection = (HttpURLConnection) url.openConnection();\r\n                connection.setDoOutput(true);\r\n                connection.setRequestMethod(&quot;PUT&quot;);\r\n                localURL = toDiskDir + &quot;/&quot; + fileNames.get(i);\r\n                try (BufferedInputStream bin = new BufferedInputStream(new FileInputStream(new File(localURL)));\r\n                     ObjectOutputStream out = new ObjectOutputStream(new BufferedOutputStream(connection.getOutputStream())))  \r\n                {\r\n                    LOGGER.debug(&quot;S3put request built ... sending to s3...&quot;);\r\n                    \r\n                    byte[] readBuffArr = new byte[4096];\r\n                    int readBytes = 0;\r\n                    while ((readBytes = bin.read(readBuffArr)) &gt;= 0) {\r\n                        out.write(readBuffArr, 0, readBytes);\r\n                    }\r\n                    connection.getResponseCode();\r\n                    LOGGER.debug(&quot;response code: {}&quot;, connection.getResponseCode());\r\n\r\n                } catch (FileNotFoundException e) {\r\n                    LOGGER.warn(&quot;\\tFile Not Found exception&quot;);\r\n                    LOGGER.warn(e.getMessage());\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n        } catch (MalformedURLException e) {\r\n            LOGGER.warn(e.getMessage());\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            LOGGER.warn(e.getMessage());\r\n            e.printStackTrace();\r\n        }\r\n        getTime = (System.currentTimeMillis() - getTime);\r\n        System.out.print(&quot;Total get time in syncCloudMediaAction: {&quot; + getTime + &quot;} milliseconds, numElement: {&quot; + signedUrls.size() + &quot;}&quot;);\r\n    }\r\n\r\n```","title":"How do I upload a file to a pre-signed URL in AWS using Java?","body":"<p>This is a bit of an old question. In case anyone else finds this. Here is how I solved the problem for files less than 5mb. For files over 5mb its recommended to use multi-part upload.\nNOTE: Using Java's &quot;try with resources&quot; is convenient. Try Catch makes this a clumsy operation but it ensures that resources are closed in the least amount of code within a method.</p>\n<pre><code>/**\n * Serial upload of an array of media files to S3 using a presignedUrl.\n */\npublic void serialPutMedia(ArrayList&lt;String&gt; signedUrls) {\n        long getTime = System.currentTimeMillis();\n        LOGGER.debug(&quot;serialPutMedia called&quot;);\n\n        String toDiskDir = DirectoryMgr.getMediaPath('M');\n\n        try {\n            HttpURLConnection connection;\n            for (int i = 0; i &lt; signedUrls.size(); i++) {\n                URL url = new URL(signedUrls.get(i));\n                connection = (HttpURLConnection) url.openConnection();\n                connection.setDoOutput(true);\n                connection.setRequestMethod(&quot;PUT&quot;);\n                localURL = toDiskDir + &quot;/&quot; + fileNames.get(i);\n                try (BufferedInputStream bin = new BufferedInputStream(new FileInputStream(new File(localURL)));\n                     ObjectOutputStream out = new ObjectOutputStream(new BufferedOutputStream(connection.getOutputStream())))  \n                {\n                    LOGGER.debug(&quot;S3put request built ... sending to s3...&quot;);\n                    \n                    byte[] readBuffArr = new byte[4096];\n                    int readBytes = 0;\n                    while ((readBytes = bin.read(readBuffArr)) &gt;= 0) {\n                        out.write(readBuffArr, 0, readBytes);\n                    }\n                    connection.getResponseCode();\n                    LOGGER.debug(&quot;response code: {}&quot;, connection.getResponseCode());\n\n                } catch (FileNotFoundException e) {\n                    LOGGER.warn(&quot;\\tFile Not Found exception&quot;);\n                    LOGGER.warn(e.getMessage());\n                    e.printStackTrace();\n                }\n            }\n\n        } catch (MalformedURLException e) {\n            LOGGER.warn(e.getMessage());\n            e.printStackTrace();\n        } catch (IOException e) {\n            LOGGER.warn(e.getMessage());\n            e.printStackTrace();\n        }\n        getTime = (System.currentTimeMillis() - getTime);\n        System.out.print(&quot;Total get time in syncCloudMediaAction: {&quot; + getTime + &quot;} milliseconds, numElement: {&quot; + signedUrls.size() + &quot;}&quot;);\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22883760,"reputation":101,"user_id":17024974,"display_name":"Vinayak"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1649684662,"creation_date":1649684662,"answer_id":71828929,"question_id":52757047,"body_markdown":"The simplest way is to create an Entity bypassing file\r\n```\r\nimport org.apache.http.client.methods.HttpPut;\r\nimport org.apache.http.entity.mime.MultipartEntityBuilder;\r\nimport org.apache.http.entity.mime.content.FileBody;\r\nimport org.apache.http.impl.client.HttpClients;\r\nimport java.io.IOException;\r\nimport java.io.File;\r\npublic class Test {\r\n    /**\r\n     * Uploading file at pre-signed URL\r\n     *\r\n     * @throws IOException\r\n     */\r\n    private void uploadFileToAWSS3(String preSignedUrl) throws IOException {\r\n        File file = new File(&quot;/Users/vmagadum/SitCopiedFile/temp/details.csv&quot;);\r\n        HttpClient httpClient = HttpClients.custom()\r\n                .setDefaultRequestConfig(\r\n                        RequestConfig.custom().setCookieSpec(CookieSpecs.STANDARD).build()\r\n                ).build();\r\n        HttpPut put = new HttpPut(PRE_SIGNED_URL);\r\n        HttpEntity entity = EntityBuilder.create()\r\n                .setFile(file)\r\n                .build();\r\n        put.setEntity(entity);\r\n        put.setHeader(&quot;Content-Type&quot;,&quot;text/csv&quot;);\r\n\r\n        HttpResponse response = httpClient.execute(put);\r\n\r\n        if (response.getStatusLine().getStatusCode() == 200) {\r\n            System.out.println(&quot;File uploaded successfully at destination.&quot;);\r\n        } else {\r\n            System.out.println(&quot;Error occurred while uploading file.&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nIf you create an entity with MultipartEntityBuilder as below\r\n```\r\nHttpEntity entity = MultipartEntityBuilder.create()\r\n                .addPart(&quot;file&quot;, new FileBody(file))\r\n                .build();\r\n```\r\nThen it will add unnecessary data to the file. Here are the more details\r\n[Link][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/71823751/upload-file-at-pre-signed-url-using-httpput-method-contains-extra-unnecessary-pa","title":"How do I upload a file to a pre-signed URL in AWS using Java?","body":"<p>The simplest way is to create an Entity bypassing file</p>\n<pre><code>import org.apache.http.client.methods.HttpPut;\nimport org.apache.http.entity.mime.MultipartEntityBuilder;\nimport org.apache.http.entity.mime.content.FileBody;\nimport org.apache.http.impl.client.HttpClients;\nimport java.io.IOException;\nimport java.io.File;\npublic class Test {\n    /**\n     * Uploading file at pre-signed URL\n     *\n     * @throws IOException\n     */\n    private void uploadFileToAWSS3(String preSignedUrl) throws IOException {\n        File file = new File(&quot;/Users/vmagadum/SitCopiedFile/temp/details.csv&quot;);\n        HttpClient httpClient = HttpClients.custom()\n                .setDefaultRequestConfig(\n                        RequestConfig.custom().setCookieSpec(CookieSpecs.STANDARD).build()\n                ).build();\n        HttpPut put = new HttpPut(PRE_SIGNED_URL);\n        HttpEntity entity = EntityBuilder.create()\n                .setFile(file)\n                .build();\n        put.setEntity(entity);\n        put.setHeader(&quot;Content-Type&quot;,&quot;text/csv&quot;);\n\n        HttpResponse response = httpClient.execute(put);\n\n        if (response.getStatusLine().getStatusCode() == 200) {\n            System.out.println(&quot;File uploaded successfully at destination.&quot;);\n        } else {\n            System.out.println(&quot;Error occurred while uploading file.&quot;);\n        }\n    }\n}\n</code></pre>\n<p>If you create an entity with MultipartEntityBuilder as below</p>\n<pre><code>HttpEntity entity = MultipartEntityBuilder.create()\n                .addPart(&quot;file&quot;, new FileBody(file))\n                .build();\n</code></pre>\n<p>Then it will add unnecessary data to the file. Here are the more details\n<a href=\"https://stackoverflow.com/questions/71823751/upload-file-at-pre-signed-url-using-httpput-method-contains-extra-unnecessary-pa\">Link</a></p>\n"},{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649685308,"creation_date":1649685308,"answer_id":71829096,"question_id":52757047,"body_markdown":"These answers are all outdated as they are using AWS for Java V1. To perform this use case using  best practice is to use AWS Java V2. Amazon Strongly recommends using V2 over V1. \r\n\r\nHere is the Java V2 example that demonstrates how to use the **S3Presigner** client to create a presigned URL and upload an object to an Amazon Simple Storage Service (Amazon S3) bucket.\r\n\r\n    package com.example.s3;\r\n    \r\n    // snippet-start:[presigned.java2.generatepresignedurl.import]\r\n    import java.io.IOException;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.time.Duration;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.model.PutObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.S3Exception;\r\n    import software.amazon.awssdk.services.s3.presigner.model.PresignedPutObjectRequest;\r\n    import software.amazon.awssdk.services.s3.presigner.S3Presigner;\r\n    import software.amazon.awssdk.services.s3.presigner.model.PutObjectPresignRequest;\r\n    // snippet-end:[presigned.java2.generatepresignedurl.import]\r\n    \r\n    /**\r\n     * To run this AWS code example, ensure that you have setup your development environment, including your AWS credentials.\r\n     *\r\n     * For information, see this documentation topic:\r\n     *\r\n     * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     */\r\n    \r\n    public class GeneratePresignedUrlAndUploadObject {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            final String USAGE = &quot;\\n&quot; +\r\n                    &quot;Usage:\\n&quot; +\r\n                    &quot;    &lt;bucketName&gt; &lt;keyName&gt; \\n\\n&quot; +\r\n                    &quot;Where:\\n&quot; +\r\n                    &quot;    bucketName - the name of the Amazon S3 bucket. \\n\\n&quot; +\r\n                    &quot;    keyName - a key name that represents a text file. \\n&quot; ;\r\n    \r\n            if (args.length != 2) {\r\n                System.out.println(USAGE);\r\n                System.exit(1);\r\n            }\r\n    \r\n            String bucketName = args[0];\r\n            String keyName = args[1];\r\n            Region region = Region.US_EAST_1;\r\n            S3Presigner presigner = S3Presigner.builder()\r\n                    .region(region)\r\n                    .build();\r\n    \r\n            signBucket(presigner, bucketName, keyName);\r\n            presigner.close();\r\n        }\r\n    \r\n        // snippet-start:[presigned.java2.generatepresignedurl.main]\r\n        public static void signBucket(S3Presigner presigner, String bucketName, String keyName) {\r\n    \r\n            try {\r\n                PutObjectRequest objectRequest = PutObjectRequest.builder()\r\n                        .bucket(bucketName)\r\n                        .key(keyName)\r\n                        .contentType(&quot;text/plain&quot;)\r\n                        .build();\r\n    \r\n                PutObjectPresignRequest presignRequest = PutObjectPresignRequest.builder()\r\n                        .signatureDuration(Duration.ofMinutes(10))\r\n                        .putObjectRequest(objectRequest)\r\n                        .build();\r\n    \r\n                PresignedPutObjectRequest presignedRequest = presigner.presignPutObject(presignRequest);\r\n    \r\n    \r\n                String myURL = presignedRequest.url().toString();\r\n                System.out.println(&quot;Presigned URL to upload a file to: &quot; +myURL);\r\n                System.out.println(&quot;Which HTTP method needs to be used when uploading a file: &quot; +\r\n                        presignedRequest.httpRequest().method());\r\n    \r\n                // Upload content to the Amazon S3 bucket by using this URL\r\n                URL url = presignedRequest.url();\r\n    \r\n                // Create the connection and use it to upload the new object by using the presigned URL\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setDoOutput(true);\r\n                connection.setRequestProperty(&quot;Content-Type&quot;,&quot;text/plain&quot;);\r\n                connection.setRequestMethod(&quot;PUT&quot;);\r\n                OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\r\n                out.write(&quot;This text was uploaded as an object by using a presigned URL.&quot;);\r\n                out.close();\r\n    \r\n                connection.getResponseCode();\r\n                System.out.println(&quot;HTTP response code is &quot; + connection.getResponseCode());\r\n    \r\n            } catch (S3Exception e) {\r\n                e.getStackTrace();\r\n            } catch (IOException e) {\r\n                e.getStackTrace();\r\n            }\r\n        }\r\n        // snippet-end:[presigned.java2.generatepresignedurl.main]\r\n    }","title":"How do I upload a file to a pre-signed URL in AWS using Java?","body":"<p>These answers are all outdated as they are using AWS for Java V1. To perform this use case using  best practice is to use AWS Java V2. Amazon Strongly recommends using V2 over V1.</p>\n<p>Here is the Java V2 example that demonstrates how to use the <strong>S3Presigner</strong> client to create a presigned URL and upload an object to an Amazon Simple Storage Service (Amazon S3) bucket.</p>\n<pre><code>package com.example.s3;\n\n// snippet-start:[presigned.java2.generatepresignedurl.import]\nimport java.io.IOException;\nimport java.io.OutputStreamWriter;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.time.Duration;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.model.PutObjectRequest;\nimport software.amazon.awssdk.services.s3.model.S3Exception;\nimport software.amazon.awssdk.services.s3.presigner.model.PresignedPutObjectRequest;\nimport software.amazon.awssdk.services.s3.presigner.S3Presigner;\nimport software.amazon.awssdk.services.s3.presigner.model.PutObjectPresignRequest;\n// snippet-end:[presigned.java2.generatepresignedurl.import]\n\n/**\n * To run this AWS code example, ensure that you have setup your development environment, including your AWS credentials.\n *\n * For information, see this documentation topic:\n *\n * https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n */\n\npublic class GeneratePresignedUrlAndUploadObject {\n\n    public static void main(String[] args) {\n\n        final String USAGE = &quot;\\n&quot; +\n                &quot;Usage:\\n&quot; +\n                &quot;    &lt;bucketName&gt; &lt;keyName&gt; \\n\\n&quot; +\n                &quot;Where:\\n&quot; +\n                &quot;    bucketName - the name of the Amazon S3 bucket. \\n\\n&quot; +\n                &quot;    keyName - a key name that represents a text file. \\n&quot; ;\n\n        if (args.length != 2) {\n            System.out.println(USAGE);\n            System.exit(1);\n        }\n\n        String bucketName = args[0];\n        String keyName = args[1];\n        Region region = Region.US_EAST_1;\n        S3Presigner presigner = S3Presigner.builder()\n                .region(region)\n                .build();\n\n        signBucket(presigner, bucketName, keyName);\n        presigner.close();\n    }\n\n    // snippet-start:[presigned.java2.generatepresignedurl.main]\n    public static void signBucket(S3Presigner presigner, String bucketName, String keyName) {\n\n        try {\n            PutObjectRequest objectRequest = PutObjectRequest.builder()\n                    .bucket(bucketName)\n                    .key(keyName)\n                    .contentType(&quot;text/plain&quot;)\n                    .build();\n\n            PutObjectPresignRequest presignRequest = PutObjectPresignRequest.builder()\n                    .signatureDuration(Duration.ofMinutes(10))\n                    .putObjectRequest(objectRequest)\n                    .build();\n\n            PresignedPutObjectRequest presignedRequest = presigner.presignPutObject(presignRequest);\n\n\n            String myURL = presignedRequest.url().toString();\n            System.out.println(&quot;Presigned URL to upload a file to: &quot; +myURL);\n            System.out.println(&quot;Which HTTP method needs to be used when uploading a file: &quot; +\n                    presignedRequest.httpRequest().method());\n\n            // Upload content to the Amazon S3 bucket by using this URL\n            URL url = presignedRequest.url();\n\n            // Create the connection and use it to upload the new object by using the presigned URL\n            HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n            connection.setDoOutput(true);\n            connection.setRequestProperty(&quot;Content-Type&quot;,&quot;text/plain&quot;);\n            connection.setRequestMethod(&quot;PUT&quot;);\n            OutputStreamWriter out = new OutputStreamWriter(connection.getOutputStream());\n            out.write(&quot;This text was uploaded as an object by using a presigned URL.&quot;);\n            out.close();\n\n            connection.getResponseCode();\n            System.out.println(&quot;HTTP response code is &quot; + connection.getResponseCode());\n\n        } catch (S3Exception e) {\n            e.getStackTrace();\n        } catch (IOException e) {\n            e.getStackTrace();\n        }\n    }\n    // snippet-end:[presigned.java2.generatepresignedurl.main]\n}\n</code></pre>\n"}],"owner":{"account_id":11309288,"reputation":222,"user_id":8292837,"display_name":"Hamza Shahid Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9473,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1649685542,"creation_date":1539251224,"question_id":52757047,"body_markdown":"    URL url = new URL(&quot;https://prod-us-west-2-uploads.s3-us-west-2.amazonaws.com/arn%3Aaws%3Adevicefarm%3Aus-west-2%3A225178842088%3Aproject%3A1e6bbc52-5070-4505-b4aa-592d5e807b15/uploads/arn%3Aaws%3Adevicefarm%3Aus-west-2%3A225178842088%3Aupload%3A1e6bbc52-5070-4505-b4aa-592d5e807b15/501fdfee-877b-42b7-b180-de584309a082/Hamza-test-app.apk?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20181011T092801Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=86400&amp;X-Amz-Credential=AKIAJSORV74ENYFBITRQ%2F20181011%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Signature=f041f2bf43eca1ba993fbf7185ad8bcb8eccec8429f2877bc32ab22a761fa2a&quot;);\r\n            File file = new File(&quot;C:\\\\Users\\\\Hamza\\\\Desktop\\\\Hamza-test-app.apk&quot;);\r\n            //Create Connection\r\n            HttpURLConnection connection =  (HttpURLConnection) url.openConnection();\r\n            connection.setDoOutput(true);\r\n            connection.setRequestMethod(&quot;PUT&quot;);\r\n            BufferedOutputStream bos = new BufferedOutputStream(connection.getOutputStream());\r\n            BufferedInputStream bis = new BufferedInputStream(new FileInputStream(file));\r\n            int i;\r\n            // read byte by byte until end of stream\r\n            while ((i = bis.read()) &gt; 0) {\r\n\t\tbos.write(i);\r\n            }\r\n            bos.flush();\r\n            bis.close();\r\n            bos.close();\r\n            \r\n            \r\n            System.out.println(&quot;HTTP response code: &quot; + connection.getResponseCode());\r\n        }catch(Exception ex){\r\n            System.out.println(&quot;Failed to Upload File&quot;);\r\n        }\r\n\r\n\r\ni want to upload a file to aws farm devices in java but file is not uploading to aws project upload list.","title":"How do I upload a file to a pre-signed URL in AWS using Java?","body":"<pre><code>URL url = new URL(\"https://prod-us-west-2-uploads.s3-us-west-2.amazonaws.com/arn%3Aaws%3Adevicefarm%3Aus-west-2%3A225178842088%3Aproject%3A1e6bbc52-5070-4505-b4aa-592d5e807b15/uploads/arn%3Aaws%3Adevicefarm%3Aus-west-2%3A225178842088%3Aupload%3A1e6bbc52-5070-4505-b4aa-592d5e807b15/501fdfee-877b-42b7-b180-de584309a082/Hamza-test-app.apk?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20181011T092801Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=86400&amp;X-Amz-Credential=AKIAJSORV74ENYFBITRQ%2F20181011%2Fus-west-2%2Fs3%2Faws4_request&amp;X-Amz-Signature=f041f2bf43eca1ba993fbf7185ad8bcb8eccec8429f2877bc32ab22a761fa2a\");\n        File file = new File(\"C:\\\\Users\\\\Hamza\\\\Desktop\\\\Hamza-test-app.apk\");\n        //Create Connection\n        HttpURLConnection connection =  (HttpURLConnection) url.openConnection();\n        connection.setDoOutput(true);\n        connection.setRequestMethod(\"PUT\");\n        BufferedOutputStream bos = new BufferedOutputStream(connection.getOutputStream());\n        BufferedInputStream bis = new BufferedInputStream(new FileInputStream(file));\n        int i;\n        // read byte by byte until end of stream\n        while ((i = bis.read()) &gt; 0) {\n    bos.write(i);\n        }\n        bos.flush();\n        bis.close();\n        bos.close();\n\n\n        System.out.println(\"HTTP response code: \" + connection.getResponseCode());\n    }catch(Exception ex){\n        System.out.println(\"Failed to Upload File\");\n    }\n</code></pre>\n\n<p>i want to upload a file to aws farm devices in java but file is not uploading to aws project upload list.</p>\n"},{"tags":["java","sockets","control-flow"],"comments":[{"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"score":0,"creation_date":1460224966,"post_id":36520590,"comment_id":60646322,"body_markdown":"(1) Please provide full self-contained code snippets so that people answering can be able to test what they are saying is valid.","body":"(1) Please provide full self-contained code snippets so that people answering can be able to test what they are saying is valid."},{"owner":{"account_id":5065740,"reputation":994,"user_id":4065876,"display_name":"Jose Luis"},"score":0,"creation_date":1460224967,"post_id":36520590,"comment_id":60646323,"body_markdown":"First:  11,12,13,14 (at this moment, client could connect).  Second: 1,2,3,4,5 (client send information to server).  Third:  15,16,17,18 (server reads client information and do something).","body":"First:  11,12,13,14 (at this moment, client could connect).  Second: 1,2,3,4,5 (client send information to server).  Third:  15,16,17,18 (server reads client information and do something)."}],"answers":[{"tags":[],"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460225154,"creation_date":1460225154,"answer_id":36520688,"question_id":36520590,"body_markdown":"As Jose Luis said, server must have a properly configuration in order to be connected to a client, \r\n\r\n&gt; 11 --&gt; 12 --&gt; 13 --&gt; 14 then 1--&gt; 2--&gt; 3--&gt; 4--&gt; 5\r\n\r\nafter this the server and the client can exchange information\r\n\r\n\r\ntake a look at this descriptive image:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/wubo6.jpg","title":"Basic flow of control in Socket Programming","body":"<p>As Jose Luis said, server must have a properly configuration in order to be connected to a client, </p>\n\n<blockquote>\n  <p>11 --> 12 --> 13 --> 14 then 1--> 2--> 3--> 4--> 5</p>\n</blockquote>\n\n<p>after this the server and the client can exchange information</p>\n\n<p>take a look at this descriptive image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/wubo6.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wubo6.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":8164709,"reputation":6730,"user_id":6147506,"accept_rate":79,"display_name":"nhouser9"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1460225188,"creation_date":1460225188,"answer_id":36520695,"question_id":36520590,"body_markdown":"The client is pretty simple. It opens a socket to the server and writes to it.\r\n\r\nThe server is more complex. Line 12 creates the socket on the specified port. Line 13 will wait until a client connects to that port and sends a message. Then line 16-18 are fairly straightforward. They read the message from the socket (which was put there by the client) and print it out.","title":"Basic flow of control in Socket Programming","body":"<p>The client is pretty simple. It opens a socket to the server and writes to it.</p>\n\n<p>The server is more complex. Line 12 creates the socket on the specified port. Line 13 will wait until a client connects to that port and sends a message. Then line 16-18 are fairly straightforward. They read the message from the socket (which was put there by the client) and print it out.</p>\n"},{"tags":[],"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1460258558,"creation_date":1460225262,"answer_id":36520703,"question_id":36520590,"body_markdown":"The way I understand it, the regular flow of any server/client application is:\r\n\r\n1. The server socket is established.\r\n\r\n2. The server is listening on port 23456 on incoming connections(blocking wait). Once it unblocks, the connection request that unblocked it is stored inside a Socket.\r\n\r\n3. The client sends a message to the server via a Socket, which the server immediatly stores when it unblocks.\r\n\r\n4. The server wakes up because it got a message (unblocks), and the Socket connection is established.\r\n\r\n5. The server reads the message from the client. (If you skip this step, the client typically gets confused). This is done via the Socket accepted.\r\n\r\n6. The server generates a response to the client and sends it, through a write stream of the Socket accepted.\r\n\r\n7. The server closes the output stream(of the Socket accepted) to indicate end of communication. (This is required).\r\n\r\nFor a related example: \r\n\r\nHere is a relatively simple (not really but I tried to be as explicit as I could) self contained web server that listens on port 80. Once you run it, go to http://127.0.0.1:80 to see the default page. In this program, the client is your web browser(or any other program that tries to listen on localhost 80)\r\n\r\n\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    import java.util.*;\r\n    import java.util.regex.*;\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import jserv.*;\r\n    \r\n    public class JavaServer\r\n    {\r\n        public static void main(String[] args) \r\n            throws Exception\r\n        {\r\n            ServerSocket server = null;\r\n            Socket conn = null;\r\n            BufferedReader in = null;\r\n            PrintWriter out = null;\r\n            String msg = null;\r\n            ArrayList&lt;String&gt; tcp_get = null;\r\n       \r\n            System.out.println(&quot;server&gt; Starting!&quot;);\r\n    \r\n            server = new ServerSocket(80);         \r\n    \r\n            while (true) {\r\n                System.out.println(&quot;server&gt; Waiting on a connection.&quot;);\r\n    \r\n                conn = server.accept();\r\n    \r\n                System.out.println(&quot;server&gt; Obtaining io handles.&quot;);\r\n    \r\n                out = new PrintWriter(conn.getOutputStream(), true);           \r\n                in = new BufferedReader (\r\n                    new InputStreamReader (\r\n                        conn.getInputStream()\r\n                    )\r\n                );\r\n     \r\n                System.out.println(&quot;server&gt; We get signal.&quot;);\r\n    \r\n                while ((msg = in.readLine()) != null) {\r\n                    System.out.println(&quot;        &quot; + msg);\r\n    \r\n                    /* done if empty line or null. */\r\n                    if (msg.isEmpty()) {\r\n                        System.out.println(&quot;-- all client info is read --&quot;);\r\n                        break;\r\n                    }\r\n    \r\n                    /* additional protocol handling. */\r\n                    if (msg.startsWith(&quot;GET&quot;)) {\r\n                        tcp_get = get_decode(msg);\r\n                    }\r\n                }\r\n     \r\n                System.out.println(&quot;server&gt; sending a message to client.&quot;);        \r\n    \r\n                /* send the HTML data. acknowledge? */\r\n                /* header */\r\n                out.write(&quot;HTTP/1.0 200 OK\\r\\n&quot;);\r\n                out.write(&quot;Content-Type: text/html\\r\\n&quot;);\r\n                out.write(&quot;\\r\\n&quot;);\r\n         \r\n                /* response division. */\r\n                System.out.println(&quot;tcp_get empty: &quot; + tcp_get.isEmpty());\r\n                if (!tcp_get.isEmpty()) {\r\n                    String page = tcp_get.get(0);\r\n    \r\n                    /* we have a page request. */\r\n                    if (isValidPage(page)) {\r\n                        File f = new File(page);\r\n    \r\n                        try {\r\n                            Scanner br = new Scanner(new FileInputStream(f));\r\n                            String s;\r\n    \r\n                            while ((s = br.nextLine()) != null) {\r\n                                out.write(s + &quot;\\r\\n&quot;);\r\n                            }\r\n    \r\n                            br.close();\r\n    \r\n                            out.write(&quot;\\r\\n&quot;);\r\n                            System.out.println(&quot;server&gt; closing stream.&quot;);        \r\n                        } catch (FileNotFoundException e) {                \r\n                            out.write(&quot;&lt;p&gt;ERROR 404!&lt;/p&gt;\\r\\n&quot;);\r\n                            out.write(&quot;\\r\\n&quot;);\r\n                            System.out.println(&quot;sent default message.&quot;);\r\n                        } catch (Exception e) {}\r\n                    }\r\n                    /* once the stream is closed, the client will receive the data.&quot;); */\r\n                } else {\r\n                    out.write(&quot;&lt;p&gt;Welcome to the default page!&lt;/p&gt;\\r\\n&quot;);\r\n                    out.write(&quot;\\r\\n&quot;);\r\n                }\r\n                out.close();\r\n    \r\n                System.out.println(&quot;server&gt; end of communication.&quot;);        \r\n            }\r\n        }\r\n    \r\n        private static boolean isValidPage(String page)\r\n        {\r\n            Pattern pat = Pattern.compile(&quot;\\\\w+\\\\.html&quot;);\r\n            Matcher mat = pat.matcher(page);\r\n    \r\n            return mat.matches();\r\n        }\r\n    \r\n        private static ArrayList&lt;String&gt; get_decode(String get) \r\n        {\r\n            ArrayList&lt;String&gt; tmp = new ArrayList&lt;String&gt;();\r\n            Pattern pat;\r\n            Matcher mat;\r\n            String page;\r\n    \r\n            String page_pattern = &quot;\\\\w+\\\\.html&quot;;\r\n            String arg_pattern = &quot;\\\\w+=\\\\w+&quot;;\r\n            String gt = get.replaceFirst(page_pattern, &quot;&quot;);       \r\n      \r\n            /* obtain the page name. */        \r\n            pat = Pattern.compile(page_pattern);\r\n            mat = pat.matcher(get);\r\n    \r\n            if (!mat.find()) {\r\n                System.out.println(&quot;decode&gt; GET invalid.&quot;);    \r\n                return tmp;\r\n            } else {\r\n                page = mat.group();\r\n                System.out.println(&quot;GET requests &quot; + page);            \r\n                tmp.add(page);\r\n            }\r\n    \r\n            /* strip name from get. */\r\n            gt = get.replaceFirst(page_pattern, &quot;&quot;);        \r\n    \r\n            /* obtain the arguments. */\r\n            pat = Pattern.compile(arg_pattern);\r\n            mat = pat.matcher(gt);\r\n            \r\n            while (mat.find()) {\r\n                System.out.println(&quot;argument: &quot; + mat.group());\r\n                tmp.add(mat.group());\r\n            }        \r\n    \r\n            return tmp;\r\n        }\r\n    }\r\n\r\nIn response to your actual code, please look back at this code with respect to the 7 points I listed.\r\n\r\n    import java.net.*;\r\n    import java.io.*;\r\n    \r\n    class Client {\r\n        public static void main(String args[]) throws Exception {        \r\n            System.out.println(&quot;client&gt; started.&quot;);\r\n            Socket s = new Socket(&quot;localhost&quot;, 23456);\r\n            BufferedWriter br = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\r\n            // all messages must end with two linefeeds.\r\n            br.write(&quot;hello, world!\\n\\n&quot;);\r\n            // two linefeeds with no messages indicates end.\r\n            br.write(&quot;\\n\\n&quot;);\r\n\r\n            // see part 7. closing the stream flushes the output.\r\n            br.close();\r\n        }\r\n    }\r\n    \r\n    class Server {\r\n        public static void main(String args[]) throws Exception {\r\n            ServerSocket ser = null;\r\n            Socket s = null;\r\n            BufferedReader br = null;\r\n            String str = null;\r\n            \r\n            System.out.println(&quot;server&gt; started&quot;);\r\n            ser = new ServerSocket(23456);\r\n            s = ser.accept();\r\n            System.out.println(&quot;server&gt; we get signal.&quot;);                \r\n            br = new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n            while ((str = br.readLine()) != null) {\r\n                if (str.isEmpty()) {\r\n                    System.out.println(&quot;server&gt; everything is received.&quot;);\r\n                    break;\r\n                }\r\n                System.out.println(&quot;server&gt; got message: &quot; + str);\r\n            }\r\n            System.out.println(&quot;server&gt; done.&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Basic flow of control in Socket Programming","body":"<p>The way I understand it, the regular flow of any server/client application is:</p>\n\n<ol>\n<li><p>The server socket is established.</p></li>\n<li><p>The server is listening on port 23456 on incoming connections(blocking wait). Once it unblocks, the connection request that unblocked it is stored inside a Socket.</p></li>\n<li><p>The client sends a message to the server via a Socket, which the server immediatly stores when it unblocks.</p></li>\n<li><p>The server wakes up because it got a message (unblocks), and the Socket connection is established.</p></li>\n<li><p>The server reads the message from the client. (If you skip this step, the client typically gets confused). This is done via the Socket accepted.</p></li>\n<li><p>The server generates a response to the client and sends it, through a write stream of the Socket accepted.</p></li>\n<li><p>The server closes the output stream(of the Socket accepted) to indicate end of communication. (This is required).</p></li>\n</ol>\n\n<p>For a related example: </p>\n\n<p>Here is a relatively simple (not really but I tried to be as explicit as I could) self contained web server that listens on port 80. Once you run it, go to <a href=\"http://127.0.0.1:80\" rel=\"nofollow\">http://127.0.0.1:80</a> to see the default page. In this program, the client is your web browser(or any other program that tries to listen on localhost 80)</p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\nimport java.util.*;\nimport java.util.regex.*;\nimport javax.swing.*;\nimport java.awt.*;\nimport jserv.*;\n\npublic class JavaServer\n{\n    public static void main(String[] args) \n        throws Exception\n    {\n        ServerSocket server = null;\n        Socket conn = null;\n        BufferedReader in = null;\n        PrintWriter out = null;\n        String msg = null;\n        ArrayList&lt;String&gt; tcp_get = null;\n\n        System.out.println(\"server&gt; Starting!\");\n\n        server = new ServerSocket(80);         \n\n        while (true) {\n            System.out.println(\"server&gt; Waiting on a connection.\");\n\n            conn = server.accept();\n\n            System.out.println(\"server&gt; Obtaining io handles.\");\n\n            out = new PrintWriter(conn.getOutputStream(), true);           \n            in = new BufferedReader (\n                new InputStreamReader (\n                    conn.getInputStream()\n                )\n            );\n\n            System.out.println(\"server&gt; We get signal.\");\n\n            while ((msg = in.readLine()) != null) {\n                System.out.println(\"        \" + msg);\n\n                /* done if empty line or null. */\n                if (msg.isEmpty()) {\n                    System.out.println(\"-- all client info is read --\");\n                    break;\n                }\n\n                /* additional protocol handling. */\n                if (msg.startsWith(\"GET\")) {\n                    tcp_get = get_decode(msg);\n                }\n            }\n\n            System.out.println(\"server&gt; sending a message to client.\");        \n\n            /* send the HTML data. acknowledge? */\n            /* header */\n            out.write(\"HTTP/1.0 200 OK\\r\\n\");\n            out.write(\"Content-Type: text/html\\r\\n\");\n            out.write(\"\\r\\n\");\n\n            /* response division. */\n            System.out.println(\"tcp_get empty: \" + tcp_get.isEmpty());\n            if (!tcp_get.isEmpty()) {\n                String page = tcp_get.get(0);\n\n                /* we have a page request. */\n                if (isValidPage(page)) {\n                    File f = new File(page);\n\n                    try {\n                        Scanner br = new Scanner(new FileInputStream(f));\n                        String s;\n\n                        while ((s = br.nextLine()) != null) {\n                            out.write(s + \"\\r\\n\");\n                        }\n\n                        br.close();\n\n                        out.write(\"\\r\\n\");\n                        System.out.println(\"server&gt; closing stream.\");        \n                    } catch (FileNotFoundException e) {                \n                        out.write(\"&lt;p&gt;ERROR 404!&lt;/p&gt;\\r\\n\");\n                        out.write(\"\\r\\n\");\n                        System.out.println(\"sent default message.\");\n                    } catch (Exception e) {}\n                }\n                /* once the stream is closed, the client will receive the data.\"); */\n            } else {\n                out.write(\"&lt;p&gt;Welcome to the default page!&lt;/p&gt;\\r\\n\");\n                out.write(\"\\r\\n\");\n            }\n            out.close();\n\n            System.out.println(\"server&gt; end of communication.\");        \n        }\n    }\n\n    private static boolean isValidPage(String page)\n    {\n        Pattern pat = Pattern.compile(\"\\\\w+\\\\.html\");\n        Matcher mat = pat.matcher(page);\n\n        return mat.matches();\n    }\n\n    private static ArrayList&lt;String&gt; get_decode(String get) \n    {\n        ArrayList&lt;String&gt; tmp = new ArrayList&lt;String&gt;();\n        Pattern pat;\n        Matcher mat;\n        String page;\n\n        String page_pattern = \"\\\\w+\\\\.html\";\n        String arg_pattern = \"\\\\w+=\\\\w+\";\n        String gt = get.replaceFirst(page_pattern, \"\");       \n\n        /* obtain the page name. */        \n        pat = Pattern.compile(page_pattern);\n        mat = pat.matcher(get);\n\n        if (!mat.find()) {\n            System.out.println(\"decode&gt; GET invalid.\");    \n            return tmp;\n        } else {\n            page = mat.group();\n            System.out.println(\"GET requests \" + page);            \n            tmp.add(page);\n        }\n\n        /* strip name from get. */\n        gt = get.replaceFirst(page_pattern, \"\");        \n\n        /* obtain the arguments. */\n        pat = Pattern.compile(arg_pattern);\n        mat = pat.matcher(gt);\n\n        while (mat.find()) {\n            System.out.println(\"argument: \" + mat.group());\n            tmp.add(mat.group());\n        }        \n\n        return tmp;\n    }\n}\n</code></pre>\n\n<p>In response to your actual code, please look back at this code with respect to the 7 points I listed.</p>\n\n<pre><code>import java.net.*;\nimport java.io.*;\n\nclass Client {\n    public static void main(String args[]) throws Exception {        \n        System.out.println(\"client&gt; started.\");\n        Socket s = new Socket(\"localhost\", 23456);\n        BufferedWriter br = new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\n        // all messages must end with two linefeeds.\n        br.write(\"hello, world!\\n\\n\");\n        // two linefeeds with no messages indicates end.\n        br.write(\"\\n\\n\");\n\n        // see part 7. closing the stream flushes the output.\n        br.close();\n    }\n}\n\nclass Server {\n    public static void main(String args[]) throws Exception {\n        ServerSocket ser = null;\n        Socket s = null;\n        BufferedReader br = null;\n        String str = null;\n\n        System.out.println(\"server&gt; started\");\n        ser = new ServerSocket(23456);\n        s = ser.accept();\n        System.out.println(\"server&gt; we get signal.\");                \n        br = new BufferedReader(new InputStreamReader(s.getInputStream()));\n        while ((str = br.readLine()) != null) {\n            if (str.isEmpty()) {\n                System.out.println(\"server&gt; everything is received.\");\n                break;\n            }\n            System.out.println(\"server&gt; got message: \" + str);\n        }\n        System.out.println(\"server&gt; done.\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5792358,"reputation":744,"user_id":5116129,"accept_rate":79,"display_name":"Shivam Aggarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1967,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36520703,"answer_count":3,"score":1,"last_activity_date":1649685118,"creation_date":1460224653,"question_id":36520590,"body_markdown":"I&#39;ve made a simple client server program in Java using Socket Programming but I&#39;m unable to understand the basic flow of control of the program.\r\n\r\n**Client file** \r\n\r\n    public static void main(String args[]) throws UnknownHostException, IOException, InterruptedException{\r\n    \t  1. System.out.println(&quot;CLIENT:  &quot;+&quot;client main method started&quot;);\r\n\r\n    \t  2. Socket s=new Socket(&quot;localhost&quot;,23456);\r\n\r\n    \t  3. BufferedWriter br=new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\r\n\r\n    \t  4. br.write(&quot;CLIENT:  &quot;+&quot;here comes the client message&quot;);\r\n\r\n    \t  5.br.flush();\r\n    \t\t\r\n    \t}\r\n&lt;br&gt;&lt;br&gt;**Server File**&lt;br&gt;\r\n\r\n    public static void main(String args[]) throws IOException, InterruptedException{\r\n    \t\r\n    \t\t11. System.out.println(&quot;Server is started&quot;);\r\n    \r\n    \t\t12. ServerSocket ser=new ServerSocket(23456);\r\n    \t\t\r\n    \t\t13. Socket s=ser.accept();\r\n    \t\t\r\n    \t\t14. System.out.println(&quot;SERVER: &quot;+&quot;Server is now accepting connections&quot;);\r\n    \t\t\r\n    \t\t15. System.out.println(&quot;SERVER: &quot;+&quot;client connected&quot;);\r\n    \t\t\r\n    \t\t16. BufferedReader br=new BufferedReader(new InputStreamReader(s.getInputStream()));\r\n    \t\t\r\n    \t\t17. String str=br.readLine();\r\n    \r\n    \t\t18. System.out.println(&quot;SERVER: &quot;+&quot;Client Message: &quot;+str);\r\n    \t}\r\n    \t\r\n&lt;br&gt;It would be really helpful if someone could please explain me the flow of the program with the help of LINE NUMBERS i.e. by statement by statement. &lt;br&gt;\r\nP.S - Line number for server file starts with 11, just for sake of the convenience.&lt;br&gt;Thanks.\r\n        \t","title":"Basic flow of control in Socket Programming","body":"<p>I've made a simple client server program in Java using Socket Programming but I'm unable to understand the basic flow of control of the program.</p>\n\n<p><strong>Client file</strong> </p>\n\n<pre><code>public static void main(String args[]) throws UnknownHostException, IOException, InterruptedException{\n      1. System.out.println(\"CLIENT:  \"+\"client main method started\");\n\n      2. Socket s=new Socket(\"localhost\",23456);\n\n      3. BufferedWriter br=new BufferedWriter(new OutputStreamWriter(s.getOutputStream()));\n\n      4. br.write(\"CLIENT:  \"+\"here comes the client message\");\n\n      5.br.flush();\n\n    }\n</code></pre>\n\n<p><br><br><strong>Server File</strong><br></p>\n\n<pre><code>public static void main(String args[]) throws IOException, InterruptedException{\n\n        11. System.out.println(\"Server is started\");\n\n        12. ServerSocket ser=new ServerSocket(23456);\n\n        13. Socket s=ser.accept();\n\n        14. System.out.println(\"SERVER: \"+\"Server is now accepting connections\");\n\n        15. System.out.println(\"SERVER: \"+\"client connected\");\n\n        16. BufferedReader br=new BufferedReader(new InputStreamReader(s.getInputStream()));\n\n        17. String str=br.readLine();\n\n        18. System.out.println(\"SERVER: \"+\"Client Message: \"+str);\n    }\n</code></pre>\n\n<p><br>It would be really helpful if someone could please explain me the flow of the program with the help of LINE NUMBERS i.e. by statement by statement. <br>\nP.S - Line number for server file starts with 11, just for sake of the convenience.<br>Thanks.</p>\n"},{"tags":["java","android","firebase","flutter","firebase-cloud-messaging"],"comments":[{"owner":{"account_id":11978631,"reputation":344,"user_id":8765076,"display_name":"Anana Aristotle"},"score":0,"creation_date":1567520103,"post_id":54821182,"comment_id":101982191,"body_markdown":"@KENdi i will wan to know if you were able to get result on this, and if you do, i appreciate if you can assist me","body":"@KENdi i will wan to know if you were able to get result on this, and if you do, i appreciate if you can assist me"},{"owner":{"account_id":12602301,"reputation":250,"user_id":9164607,"display_name":"abdul rehman"},"score":0,"creation_date":1618454706,"post_id":54821182,"comment_id":118608148,"body_markdown":"Use rest API instead. https://arkapp.medium.com/flutter-fcm-rest-api-7719925f2e3e","body":"Use rest API instead. <a href=\"https://arkapp.medium.com/flutter-fcm-rest-api-7719925f2e3e\" rel=\"nofollow noreferrer\">arkapp.medium.com/flutter-fcm-rest-api-7719925f2e3e</a>"},{"owner":{"account_id":14299356,"reputation":5476,"user_id":10329023,"display_name":"Kamlesh"},"score":0,"creation_date":1630934812,"post_id":54821182,"comment_id":122082770,"body_markdown":"@abdulrehman I have followed your suggested link https://arkapp.medium.com/flutter-fcm-rest-api-7719925f2e3e but notification does not have any sound. Could you please suggest me what is mean of &#39;default&#39; sound? Can we change it with custom sound line &#39;blink.wav&#39;, &#39;alert.mp3&#39;? Thanks a lot.","body":"@abdulrehman I have followed your suggested link <a href=\"https://arkapp.medium.com/flutter-fcm-rest-api-7719925f2e3e\" rel=\"nofollow noreferrer\">arkapp.medium.com/flutter-fcm-rest-api-7719925f2e3e</a> but notification does not have any sound. Could you please suggest me what is mean of &#39;default&#39; sound? Can we change it with custom sound line &#39;blink.wav&#39;, &#39;alert.mp3&#39;? Thanks a lot."}],"answers":[{"tags":[],"owner":{"account_id":4748150,"reputation":3816,"user_id":3838901,"display_name":"Farid Haq"},"down_vote_count":12,"up_vote_count":1,"is_accepted":false,"score":-11,"last_activity_date":1550816816,"creation_date":1550816816,"answer_id":54821240,"question_id":54821182,"body_markdown":"I am not clear your question though. For FCM you have to extend FirebaseMessagingService. \r\n\r\nExample:\r\n\r\n    class PNPFirebaseMessagingService : FirebaseMessagingService() {\r\n      override fun onNewToken(token: String?) {\r\n         // you can collect token from here\r\n      }\r\n    }\r\n","title":"Firebase (FCM) registration token in Flutter","body":"<p>I am not clear your question though. For FCM you have to extend FirebaseMessagingService. </p>\n\n<p>Example:</p>\n\n<pre><code>class PNPFirebaseMessagingService : FirebaseMessagingService() {\n  override fun onNewToken(token: String?) {\n     // you can collect token from here\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14968351,"reputation":1285,"user_id":10805963,"display_name":"Neha Bhardwaj"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1556102281,"creation_date":1550818717,"answer_id":54821691,"question_id":54821182,"body_markdown":"As you can the use the firebase Messaging Plugin to send the Notification. Through this code you can print the Token in Console. \r\n        \r\n    final FirebaseMessaging _firebaseMessaging = FirebaseMessaging();\r\n    _firebaseMessaging.configure(\r\n        onLaunch: (Map&lt;String, dynamic&gt; message) {\r\n          print(&#39;onLaunch called&#39;);\r\n        },\r\n        onResume: (Map&lt;String, dynamic&gt; message) {\r\n          print(&#39;onResume called&#39;);\r\n        },\r\n        onMessage: (Map&lt;String, dynamic&gt; message) {\r\n          print(&#39;onMessage called&#39;);\r\n        },\r\n      );\r\n      _firebaseMessaging.subscribeToTopic(&#39;all&#39;);\r\n      _firebaseMessaging.requestNotificationPermissions(IosNotificationSettings(\r\n        sound: true,\r\n        badge: true,\r\n        alert: true,\r\n      ));\r\n      _firebaseMessaging.onIosSettingsRegistered\r\n          .listen((IosNotificationSettings settings) {\r\n        print(&#39;Hello&#39;);\r\n      });\r\n      _firebaseMessaging.getToken().then((token) {\r\n        print(token); // Print the Token in Console\r\n      });\r\n    }\r\n\r\n","title":"Firebase (FCM) registration token in Flutter","body":"<p>As you can the use the firebase Messaging Plugin to send the Notification. Through this code you can print the Token in Console. </p>\n\n<pre><code>final FirebaseMessaging _firebaseMessaging = FirebaseMessaging();\n_firebaseMessaging.configure(\n    onLaunch: (Map&lt;String, dynamic&gt; message) {\n      print('onLaunch called');\n    },\n    onResume: (Map&lt;String, dynamic&gt; message) {\n      print('onResume called');\n    },\n    onMessage: (Map&lt;String, dynamic&gt; message) {\n      print('onMessage called');\n    },\n  );\n  _firebaseMessaging.subscribeToTopic('all');\n  _firebaseMessaging.requestNotificationPermissions(IosNotificationSettings(\n    sound: true,\n    badge: true,\n    alert: true,\n  ));\n  _firebaseMessaging.onIosSettingsRegistered\n      .listen((IosNotificationSettings settings) {\n    print('Hello');\n  });\n  _firebaseMessaging.getToken().then((token) {\n    print(token); // Print the Token in Console\n  });\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6111309,"reputation":11786,"user_id":7831045,"display_name":"Rahul Mahadik"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1597144840,"creation_date":1550821672,"answer_id":54822356,"question_id":54821182,"body_markdown":"Add this to your package&#39;s pubspec.yaml file:\r\n\r\n\r\n    dependencies:\r\n      firebase_messaging: ^6.0.16\r\n\r\n\r\n\r\nYou can install packages from the command line:\r\n\r\nwith Flutter:\r\n\r\n\r\n    $ flutter packages get\r\n\r\n\r\nNow in your Dart code, you can use:\r\n\r\n\r\n    import &#39;package:firebase_messaging/firebase_messaging.dart&#39;;\r\n\r\n\r\n\r\n**Implementation:** \r\n\r\n    FirebaseMessaging _firebaseMessaging = FirebaseMessaging();\r\n\r\n  \r\n\r\n    @override\r\n    void initState() {\r\n      super.initState();\r\n      firebaseCloudMessaging_Listeners();\r\n    }\r\n    \r\n    void firebaseCloudMessaging_Listeners() {\r\n      if (Platform.isIOS) iOS_Permission();\r\n    \r\n      _firebaseMessaging.getToken().then((token){\r\n        print(token);\r\n      });\r\n    \r\n      _firebaseMessaging.configure(\r\n        onMessage: (Map&lt;String, dynamic&gt; message) async {\r\n          print(&#39;on message $message&#39;);\r\n        },\r\n        onResume: (Map&lt;String, dynamic&gt; message) async {\r\n          print(&#39;on resume $message&#39;);\r\n        },\r\n        onLaunch: (Map&lt;String, dynamic&gt; message) async {\r\n          print(&#39;on launch $message&#39;);\r\n        },\r\n      );\r\n    }\r\n    \r\n    void iOS_Permission() {\r\n      _firebaseMessaging.requestNotificationPermissions(\r\n          IosNotificationSettings(sound: true, badge: true, alert: true)\r\n      );\r\n      _firebaseMessaging.onIosSettingsRegistered\r\n          .listen((IosNotificationSettings settings)\r\n      {\r\n        print(&quot;Settings registered: $settings&quot;);\r\n      });\r\n    }\r\n\r\n\r\nFor more details step by information please refer [this][1] link\r\n\r\nHope this helps you\r\n\r\n\r\n  [1]: https://medium.com/@SebastianEngel/easy-push-notifications-with-flutter-and-firebase-cloud-messaging-d96084f5954f","title":"Firebase (FCM) registration token in Flutter","body":"<p>Add this to your package's pubspec.yaml file:</p>\n<pre><code>dependencies:\n  firebase_messaging: ^6.0.16\n</code></pre>\n<p>You can install packages from the command line:</p>\n<p>with Flutter:</p>\n<pre><code>$ flutter packages get\n</code></pre>\n<p>Now in your Dart code, you can use:</p>\n<pre><code>import 'package:firebase_messaging/firebase_messaging.dart';\n</code></pre>\n<p><strong>Implementation:</strong></p>\n<pre><code>FirebaseMessaging _firebaseMessaging = FirebaseMessaging();\n\n\n\n@override\nvoid initState() {\n  super.initState();\n  firebaseCloudMessaging_Listeners();\n}\n\nvoid firebaseCloudMessaging_Listeners() {\n  if (Platform.isIOS) iOS_Permission();\n\n  _firebaseMessaging.getToken().then((token){\n    print(token);\n  });\n\n  _firebaseMessaging.configure(\n    onMessage: (Map&lt;String, dynamic&gt; message) async {\n      print('on message $message');\n    },\n    onResume: (Map&lt;String, dynamic&gt; message) async {\n      print('on resume $message');\n    },\n    onLaunch: (Map&lt;String, dynamic&gt; message) async {\n      print('on launch $message');\n    },\n  );\n}\n\nvoid iOS_Permission() {\n  _firebaseMessaging.requestNotificationPermissions(\n      IosNotificationSettings(sound: true, badge: true, alert: true)\n  );\n  _firebaseMessaging.onIosSettingsRegistered\n      .listen((IosNotificationSettings settings)\n  {\n    print(&quot;Settings registered: $settings&quot;);\n  });\n}\n</code></pre>\n<p>For more details step by information please refer <a href=\"https://medium.com/@SebastianEngel/easy-push-notifications-with-flutter-and-firebase-cloud-messaging-d96084f5954f\" rel=\"noreferrer\">this</a> link</p>\n<p>Hope this helps you</p>\n"},{"tags":[],"owner":{"account_id":16455493,"reputation":304,"user_id":11887774,"display_name":"Aman Raj Srivastava"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1583315554,"creation_date":1583315554,"answer_id":60523268,"question_id":54821182,"body_markdown":"We need to add this package in pubspec.yaml file\r\n\r\n    firebase_messaging: ^4.0.0+1\r\n\r\nPerform packages get\r\n\r\nNow import this in your code\r\n\r\n    import &#39;package:firebase_messaging/firebase_messaging.dart&#39;;\r\n\r\nCreate instance of FirebaseMessaging\r\n\r\n      FirebaseMessaging _firebaseMessaging = FirebaseMessaging();\r\n\r\nNow we just to add the function which I have created in the answer in the link below \r\n\r\n &lt;https://stackoverflow.com/a/60523014/11887774&gt;\r\n","title":"Firebase (FCM) registration token in Flutter","body":"<p>We need to add this package in pubspec.yaml file</p>\n\n<pre><code>firebase_messaging: ^4.0.0+1\n</code></pre>\n\n<p>Perform packages get</p>\n\n<p>Now import this in your code</p>\n\n<pre><code>import 'package:firebase_messaging/firebase_messaging.dart';\n</code></pre>\n\n<p>Create instance of FirebaseMessaging</p>\n\n<pre><code>  FirebaseMessaging _firebaseMessaging = FirebaseMessaging();\n</code></pre>\n\n<p>Now we just to add the function which I have created in the answer in the link below </p>\n\n<p><a href=\"https://stackoverflow.com/a/60523014/11887774\">https://stackoverflow.com/a/60523014/11887774</a></p>\n"},{"tags":[],"owner":{"account_id":8862722,"reputation":245364,"user_id":6618622,"display_name":"CopsOnRoad"},"down_vote_count":0,"up_vote_count":83,"is_accepted":false,"score":83,"last_activity_date":1624980397,"creation_date":1624980397,"answer_id":68181656,"question_id":54821182,"body_markdown":"With `firebase_messaging: ^10.0.0`, you can directly get the token using\r\n\r\n\r\n```dart\r\nString? token = await FirebaseMessaging.instance.getToken();\r\n```\r\n\r\nor\r\n\r\n```dart\r\nFirebaseMessaging.instance.getToken().then((value) {\r\n  String? token = value;\r\n});\r\n```","title":"Firebase (FCM) registration token in Flutter","body":"<p>With <code>firebase_messaging: ^10.0.0</code>, you can directly get the token using</p>\n<pre class=\"lang-dart prettyprint-override\"><code>String? token = await FirebaseMessaging.instance.getToken();\n</code></pre>\n<p>or</p>\n<pre class=\"lang-dart prettyprint-override\"><code>FirebaseMessaging.instance.getToken().then((value) {\n  String? token = value;\n});\n</code></pre>\n"}],"owner":{"account_id":13821573,"reputation":703,"user_id":9976864,"display_name":"ajay datla"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92102,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"answer_count":5,"score":52,"last_activity_date":1649684944,"creation_date":1550816544,"question_id":54821182,"body_markdown":"I am trying to send notification from *Java* Rest Api (using ***Firebase Admin sdk***) to my **Flutter application** and it seems it requires device token to send notification and I cannot find how to get that token. I am new to Flutter and android and may be missing any of the crucial step. Please help me if you can. Thanks.","title":"Firebase (FCM) registration token in Flutter","body":"<p>I am trying to send notification from <em>Java</em> Rest Api (using <strong><em>Firebase Admin sdk</em></strong>) to my <strong>Flutter application</strong> and it seems it requires device token to send notification and I cannot find how to get that token. I am new to Flutter and android and may be missing any of the crucial step. Please help me if you can. Thanks.</p>\n"},{"tags":["java","mysql","sql","spring","many-to-one"],"comments":[{"owner":{"account_id":24888944,"reputation":5,"user_id":18761183,"display_name":"Furkan"},"score":0,"creation_date":1649667856,"post_id":71825117,"comment_id":126925445,"body_markdown":"I can find animals with their names and i want to find them with their owner name to.","body":"I can find animals with their names and i want to find them with their owner name to."},{"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"score":0,"creation_date":1649669317,"post_id":71825117,"comment_id":126926012,"body_markdown":"try ilike %:keyword%","body":"try ilike %:keyword%"}],"answers":[{"tags":[],"owner":{"account_id":20436520,"reputation":1120,"user_id":14994239,"display_name":"hakima maarouf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649672569,"creation_date":1649672569,"answer_id":71826187,"question_id":71825117,"body_markdown":"Please try this one\r\n\r\n    @Query(value = &quot;select a.* from animal a inner join users u on u.id=a.user_id where a.name like %:keyword% or u.name like %:keyword%&quot;, nativeQuery = true)\r\n\r\n","title":"How can i use many to one sql query with Java Spring?","body":"<p>Please try this one</p>\n<pre><code>@Query(value = &quot;select a.* from animal a inner join users u on u.id=a.user_id where a.name like %:keyword% or u.name like %:keyword%&quot;, nativeQuery = true)\n</code></pre>\n"}],"owner":{"account_id":24888944,"reputation":5,"user_id":18761183,"display_name":"Furkan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71826187,"answer_count":1,"score":0,"last_activity_date":1649684600,"creation_date":1649667466,"question_id":71825117,"body_markdown":"I am trying to make a search bar .This search bar must find animals with own name or owner name. Animal table have user_id as foreign key . I have to find animals with their owner name for that i think joining users table to animals .I use MySQL. \r\n\r\n\r\nAnimalRepository.java\r\n```\r\npublic interface AnimalRepository extends JpaRepository&lt;Animal,Integer &gt; {\r\n    public Long countById(Integer id);\r\n    \r\n    @Query(value = &quot;select * from animal join users  where name like %:keyword% or where users.name like %:keyword%&quot;, nativeQuery = true)\r\n    List&lt;Animal&gt; findByKeyword(@Param(&quot;keyword&quot;) String keyword);\r\n\r\n}\r\n```\r\nSearchPageController.java\r\n```\r\n    @Autowired\r\n    private AnimalService animalService;\r\n\r\n    @RequestMapping(path = {&quot;/&quot;,&quot;/search&quot;})\r\n    public String home(Animal shop, Model model, String keyword) {\r\n        if(keyword!=null) {\r\n            List&lt;Animal&gt; list = animalService.getByKeyword(keyword);\r\n            model.addAttribute(&quot;list&quot;, list);\r\n        }else {\r\n            List&lt;Animal&gt; list = animalService.getAllAnimals();\r\n            model.addAttribute(&quot;list&quot;, list);}\r\n        return &quot;index&quot;;\r\n    }\r\n```\r\n\r\nAnimalService.java\r\n```\r\n    public List&lt;Animal&gt; getAllAnimals(){\r\n        List&lt;Animal&gt; list =  (List&lt;Animal&gt;)repo.findAll();\r\n        return list;\r\n    }\r\n\r\n    public List&lt;Animal&gt; getByKeyword(String keyword){\r\n        return repo.findByKeyword(keyword);\r\n    }\r\n```\r\n\r\n\r\n[animal table][1]\r\n[users table][2]\r\n\r\nAll code here: **https://github.com/Furkan-Ahmet-Ozdemir/Spring-vet**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dZisG.png\r\n  [2]: https://i.stack.imgur.com/ziQXv.png\r\n\r\n\r\n\r\n\r\n** SOLVED: &quot;select a.* from animals a inner join users u on u.id=a.user_id where a.name like %:keyword% or u.first_name like %:keyword%&quot; **","title":"How can i use many to one sql query with Java Spring?","body":"<p>I am trying to make a search bar .This search bar must find animals with own name or owner name. Animal table have user_id as foreign key . I have to find animals with their owner name for that i think joining users table to animals .I use MySQL.</p>\n<p>AnimalRepository.java</p>\n<pre><code>public interface AnimalRepository extends JpaRepository&lt;Animal,Integer &gt; {\n    public Long countById(Integer id);\n    \n    @Query(value = &quot;select * from animal join users  where name like %:keyword% or where users.name like %:keyword%&quot;, nativeQuery = true)\n    List&lt;Animal&gt; findByKeyword(@Param(&quot;keyword&quot;) String keyword);\n\n}\n</code></pre>\n<p>SearchPageController.java</p>\n<pre><code>    @Autowired\n    private AnimalService animalService;\n\n    @RequestMapping(path = {&quot;/&quot;,&quot;/search&quot;})\n    public String home(Animal shop, Model model, String keyword) {\n        if(keyword!=null) {\n            List&lt;Animal&gt; list = animalService.getByKeyword(keyword);\n            model.addAttribute(&quot;list&quot;, list);\n        }else {\n            List&lt;Animal&gt; list = animalService.getAllAnimals();\n            model.addAttribute(&quot;list&quot;, list);}\n        return &quot;index&quot;;\n    }\n</code></pre>\n<p>AnimalService.java</p>\n<pre><code>    public List&lt;Animal&gt; getAllAnimals(){\n        List&lt;Animal&gt; list =  (List&lt;Animal&gt;)repo.findAll();\n        return list;\n    }\n\n    public List&lt;Animal&gt; getByKeyword(String keyword){\n        return repo.findByKeyword(keyword);\n    }\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dZisG.png\" rel=\"nofollow noreferrer\">animal table</a>\n<a href=\"https://i.stack.imgur.com/ziQXv.png\" rel=\"nofollow noreferrer\">users table</a></p>\n<p>All code here: <strong><a href=\"https://github.com/Furkan-Ahmet-Ozdemir/Spring-vet\" rel=\"nofollow noreferrer\">https://github.com/Furkan-Ahmet-Ozdemir/Spring-vet</a></strong></p>\n<p>** SOLVED: &quot;select a.* from animals a inner join users u on u.id=a.user_id where a.name like %:keyword% or u.first_name like %:keyword%&quot; **</p>\n"},{"tags":["java","java-stream","iteration","collectors"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1649398828,"post_id":71792433,"comment_id":126869731,"body_markdown":"Probably not without making the streams excessively complicated ... defeating the purpose of using streams!  If you want to avoid doing two iterations, use a `for` each loop.","body":"Probably not without making the streams excessively complicated ... defeating the purpose of using streams!  If you want to avoid doing two iterations, use a <code>for</code> each loop."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":3,"creation_date":1649399235,"post_id":71792433,"comment_id":126869809,"body_markdown":"You can extract the code to a method to reuse it, but streams are not meant for branching logic.","body":"You can extract the code to a method to reuse it, but streams are not meant for branching logic."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1649400244,"post_id":71792433,"comment_id":126870066,"body_markdown":"@shmosel - among other things, it is difficult to get the short-circuiting effect of `first()` on a combined stream.  And that could negate any possible benefit of combining the two streams.  As you say ...","body":"@shmosel - among other things, it is difficult to get the short-circuiting effect of <code>first()</code> on a combined stream.  And that could negate any possible benefit of combining the two streams.  As you say ..."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1649406565,"post_id":71792433,"comment_id":126872121,"body_markdown":"&quot;Only difference between two iterations is filter&quot; is not correct, the used setter is also different! (otherwise you could *merge* the conditions in one filter)","body":"&quot;Only difference between two iterations is filter&quot; is not correct, the used setter is also different! (otherwise you could <i>merge</i> the conditions in one filter)"}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649412464,"creation_date":1649399632,"answer_id":71792606,"question_id":71792433,"body_markdown":"IMO, the two streams solution is the most readable.  And it may even be the most efficient solution using streams.\r\n\r\nIMO, the best way to avoid multiple streams is to use a classical loop.  For example:\r\n\r\n    // There may be bugs ...\r\n\r\n    boolean seenCompany = false;\r\n    boolean seenPrivate = false;\r\n    for (Id id: getIds()) {\r\n       if (!seenCompany &amp;&amp; id.getType().equalsIgnoreCase(&quot;Company&quot;)) {\r\n          domainResp.setId(id.getId());\r\n          seenCompany = true;\r\n       } else if (!seenPrivate &amp;&amp; id.getType().equalsIgnoreCase(&quot;Private&quot;)) {\r\n          domainResp.setPrivateId(id.getId());\r\n          seenPrivate = true;\r\n       }\r\n       if (seenCompany &amp;&amp; seenPrivate) {\r\n          break;\r\n       }\r\n    }\r\n\r\nIt is unclear whether that is more efficient to performing one iteration or two iterations.  It will depend on the class returned by `getIds()` and the code of iteration.\r\n\r\nThe complicated stuff with two flags is how you replicate the short circuiting behavior of `findFirst()` in your 2 stream solution.  I don&#39;t know if it is possible to do that *at all* using one stream.  If you can, it will involve something pretty cunning code.\r\n\r\nBut as you can see your original solution with 2 stream is clearly easier to understand than the above.\r\n\r\n---------------\r\n\r\nThe main point of using streams is to make your code simpler.  It is not about efficiency.  When you try to do complicated things to make the streams more efficient, you are probably defeating the (true) purpose of using streams in the first place.  \r\n\r\n\r\n\r\n","title":"How to avoid multiple Streams with Java 8","body":"<p>IMO, the two streams solution is the most readable.  And it may even be the most efficient solution using streams.</p>\n<p>IMO, the best way to avoid multiple streams is to use a classical loop.  For example:</p>\n<pre><code>// There may be bugs ...\n\nboolean seenCompany = false;\nboolean seenPrivate = false;\nfor (Id id: getIds()) {\n   if (!seenCompany &amp;&amp; id.getType().equalsIgnoreCase(&quot;Company&quot;)) {\n      domainResp.setId(id.getId());\n      seenCompany = true;\n   } else if (!seenPrivate &amp;&amp; id.getType().equalsIgnoreCase(&quot;Private&quot;)) {\n      domainResp.setPrivateId(id.getId());\n      seenPrivate = true;\n   }\n   if (seenCompany &amp;&amp; seenPrivate) {\n      break;\n   }\n}\n</code></pre>\n<p>It is unclear whether that is more efficient to performing one iteration or two iterations.  It will depend on the class returned by <code>getIds()</code> and the code of iteration.</p>\n<p>The complicated stuff with two flags is how you replicate the short circuiting behavior of <code>findFirst()</code> in your 2 stream solution.  I don't know if it is possible to do that <em>at all</em> using one stream.  If you can, it will involve something pretty cunning code.</p>\n<p>But as you can see your original solution with 2 stream is clearly easier to understand than the above.</p>\n<hr />\n<p>The main point of using streams is to make your code simpler.  It is not about efficiency.  When you try to do complicated things to make the streams more efficient, you are probably defeating the (true) purpose of using streams in the first place.</p>\n"},{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649401248,"creation_date":1649401248,"answer_id":71792905,"question_id":71792433,"body_markdown":"You can group by type and check the resulting map.\r\nI suppose the type of `ids` is `IdType`.\r\n```java\r\nMap&lt;String, List&lt;IdType&gt;&gt; map = trainResponse.getIds()\r\n                                .stream()\r\n                                .collect(Collectors.groupingBy(\r\n                                                     id -&gt; id.getType().toLowerCase()));\r\n\r\nOptional.ofNullable(map.get(&quot;company&quot;)).ifPresent(ids -&gt; domainResp.setId(ids.get(0).getId()));\r\nOptional.ofNullable(map.get(&quot;private&quot;)).ifPresent(ids -&gt; domainResp.setPrivateId(ids.get(0).getId()));\r\n```","title":"How to avoid multiple Streams with Java 8","body":"<p>You can group by type and check the resulting map.\nI suppose the type of <code>ids</code> is <code>IdType</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;String, List&lt;IdType&gt;&gt; map = trainResponse.getIds()\n                                .stream()\n                                .collect(Collectors.groupingBy(\n                                                     id -&gt; id.getType().toLowerCase()));\n\nOptional.ofNullable(map.get(&quot;company&quot;)).ifPresent(ids -&gt; domainResp.setId(ids.get(0).getId()));\nOptional.ofNullable(map.get(&quot;private&quot;)).ifPresent(ids -&gt; domainResp.setPrivateId(ids.get(0).getId()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2360603,"reputation":1379,"user_id":2067338,"accept_rate":50,"display_name":"Antoine Marques"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649405091,"creation_date":1649401751,"answer_id":71792987,"question_id":71792433,"body_markdown":"I&#39;d recommend a traditionnal for loop. In addition of being easily scalable, this prevents you from traversing the collection multiple times.\r\nYour code looks like something that&#39;ll be generalised in the future, thus my generic approch.\r\n\r\nHere&#39;s some pseudo code (with errors, just for the sake of illustration)\r\n\r\n    Set&lt;String&gt; matches = new TreeSet&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\r\n    for(id : trainResponse.getIds()) {\r\n\r\n        if (! matches.add(id.getType())) {\r\n            continue;\r\n        }\r\n\r\n        switch (id.getType().toLowerCase()) {\r\n\r\n            case &quot;company&quot;:\r\n                domainResp.setId(id.getId());\r\n                break;\r\n\r\n            case &quot;private&quot;:\r\n                ...\r\n        }\r\n    }","title":"How to avoid multiple Streams with Java 8","body":"<p>I'd recommend a traditionnal for loop. In addition of being easily scalable, this prevents you from traversing the collection multiple times.\nYour code looks like something that'll be generalised in the future, thus my generic approch.</p>\n<p>Here's some pseudo code (with errors, just for the sake of illustration)</p>\n<pre><code>Set&lt;String&gt; matches = new TreeSet&lt;&gt;(String.CASE_INSENSITIVE_ORDER);\nfor(id : trainResponse.getIds()) {\n\n    if (! matches.add(id.getType())) {\n        continue;\n    }\n\n    switch (id.getType().toLowerCase()) {\n\n        case &quot;company&quot;:\n            domainResp.setId(id.getId());\n            break;\n\n        case &quot;private&quot;:\n            ...\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4947846,"reputation":9433,"user_id":3982755,"accept_rate":79,"display_name":"Bentaye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649412081,"creation_date":1649412081,"answer_id":71795102,"question_id":71792433,"body_markdown":"Something along these lines can might work, it would go through the whole stream though, and won&#39;t stop at the first occurrence. \r\nBut assuming a small stream and only one Id for each type, why not?\r\n\r\n    Map&lt;String, Consumer&lt;String&gt;&gt; setters = new HashMap&lt;&gt;();\r\n    setters.put(&quot;Company&quot;, domainResp::setId);\r\n    setters.put(&quot;Private&quot;, domainResp::setPrivateId);\r\n\r\n    trainResponse.getIds().forEach(id -&gt; {\r\n        if (setters.containsKey(id.getType())) {\r\n            setters.get(id.getType()).accept(id.getId());\r\n        }\r\n    });","title":"How to avoid multiple Streams with Java 8","body":"<p>Something along these lines can might work, it would go through the whole stream though, and won't stop at the first occurrence.\nBut assuming a small stream and only one Id for each type, why not?</p>\n<pre><code>Map&lt;String, Consumer&lt;String&gt;&gt; setters = new HashMap&lt;&gt;();\nsetters.put(&quot;Company&quot;, domainResp::setId);\nsetters.put(&quot;Private&quot;, domainResp::setPrivateId);\n\ntrainResponse.getIds().forEach(id -&gt; {\n    if (setters.containsKey(id.getType())) {\n        setters.get(id.getType()).accept(id.getId());\n    }\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1649423321,"creation_date":1649422830,"answer_id":71797492,"question_id":71792433,"body_markdown":"You can achieve that with Stream IPA in one pass though the given set of data and without increasing memory consumption (*i.e. the result will contain only* `id`s *having required attributes*).\r\n\r\nFor that, you can create a custom `Collector` that will expect as its parameters a `Collection` attributes to look for and a `Function` responsible for extracting the attribute from the stream element.\r\n\r\nThat&#39;s how this generic collector could be implemented.\r\n```\r\n/** *\r\n * @param &lt;T&gt; - the type of stream elements\r\n * @param &lt;F&gt; - the type of the key (a field of the stream element)\r\n */\r\nclass CollectByKey&lt;T, F&gt; implements Collector&lt;T, Map&lt;F, T&gt;, Map&lt;F, T&gt;&gt; {\r\n    private final Set&lt;F&gt; keys;\r\n    private final Function&lt;T, F&gt; keyExtractor;\r\n    \r\n    public CollectByKey(Collection&lt;F&gt; keys, Function&lt;T, F&gt; keyExtractor) {\r\n        this.keys = new HashSet&lt;&gt;(keys);\r\n        this.keyExtractor = keyExtractor;\r\n    }\r\n    \r\n    @Override\r\n    public Supplier&lt;Map&lt;F, T&gt;&gt; supplier() {\r\n        return HashMap::new;\r\n    }\r\n    \r\n    @Override\r\n    public BiConsumer&lt;Map&lt;F, T&gt;, T&gt; accumulator() {\r\n        return this::tryAdd;\r\n    }\r\n    \r\n    private void tryAdd(Map&lt;F, T&gt; map, T item) {\r\n        F key = keyExtractor.apply(item);\r\n        if (keys.remove(key)) {\r\n            map.put(key, item);\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    public BinaryOperator&lt;Map&lt;F, T&gt;&gt; combiner() {\r\n        return this::tryCombine;\r\n    }\r\n    \r\n    private Map&lt;F, T&gt; tryCombine(Map&lt;F, T&gt; left, Map&lt;F, T&gt; right) {\r\n        right.forEach(left::putIfAbsent);\r\n        return left;\r\n    }\r\n    \r\n    @Override\r\n    public Function&lt;Map&lt;F, T&gt;, Map&lt;F, T&gt;&gt; finisher() {\r\n        return Function.identity();\r\n    }\r\n    \r\n    @Override\r\n    public Set&lt;Characteristics&gt; characteristics() {\r\n        return Collections.emptySet();\r\n    }\r\n}\r\n```\r\n`main()` - demo (dummy `Id` class is not shown)\r\n```\r\npublic class CustomCollectorByGivenAttributes {\r\n    public static void main(String[] args) {\r\n        List&lt;Id&gt; ids = List.of(new Id(1, &quot;Company&quot;), new Id(2, &quot;Fizz&quot;),\r\n                               new Id(3, &quot;Private&quot;), new Id(4, &quot;Buzz&quot;));\r\n        \r\n        Map&lt;String, Id&gt; idByType = ids.stream()\r\n                .collect(new CollectByKey&lt;&gt;(List.of(&quot;Company&quot;, &quot;Private&quot;), Id::getType));\r\n        \r\n        idByType.forEach((k, v) -&gt; {\r\n            if (k.equalsIgnoreCase(&quot;Company&quot;)) domainResp.setId(v);\r\n            if (k.equalsIgnoreCase(&quot;Private&quot;)) domainResp.setPrivateId(v);\r\n        });\r\n    \r\n        System.out.println(idByType.keySet()); // printing keys - added for demo purposes\r\n    }\r\n}\r\n```\r\n**Output**\r\n```\r\n[Company, Private]\r\n```\r\n*Note*, after the set of keys becomes empty (i.e. all resulting data has been fetched) the further elements of the stream will get ignored, but still all remained data is required to be processed.","title":"How to avoid multiple Streams with Java 8","body":"<p>You can achieve that with Stream IPA in one pass though the given set of data and without increasing memory consumption (<em>i.e. the result will contain only</em> <code>id</code>s <em>having required attributes</em>).</p>\n<p>For that, you can create a custom <code>Collector</code> that will expect as its parameters a <code>Collection</code> attributes to look for and a <code>Function</code> responsible for extracting the attribute from the stream element.</p>\n<p>That's how this generic collector could be implemented.</p>\n<pre><code>/** *\n * @param &lt;T&gt; - the type of stream elements\n * @param &lt;F&gt; - the type of the key (a field of the stream element)\n */\nclass CollectByKey&lt;T, F&gt; implements Collector&lt;T, Map&lt;F, T&gt;, Map&lt;F, T&gt;&gt; {\n    private final Set&lt;F&gt; keys;\n    private final Function&lt;T, F&gt; keyExtractor;\n    \n    public CollectByKey(Collection&lt;F&gt; keys, Function&lt;T, F&gt; keyExtractor) {\n        this.keys = new HashSet&lt;&gt;(keys);\n        this.keyExtractor = keyExtractor;\n    }\n    \n    @Override\n    public Supplier&lt;Map&lt;F, T&gt;&gt; supplier() {\n        return HashMap::new;\n    }\n    \n    @Override\n    public BiConsumer&lt;Map&lt;F, T&gt;, T&gt; accumulator() {\n        return this::tryAdd;\n    }\n    \n    private void tryAdd(Map&lt;F, T&gt; map, T item) {\n        F key = keyExtractor.apply(item);\n        if (keys.remove(key)) {\n            map.put(key, item);\n        }\n    }\n    \n    @Override\n    public BinaryOperator&lt;Map&lt;F, T&gt;&gt; combiner() {\n        return this::tryCombine;\n    }\n    \n    private Map&lt;F, T&gt; tryCombine(Map&lt;F, T&gt; left, Map&lt;F, T&gt; right) {\n        right.forEach(left::putIfAbsent);\n        return left;\n    }\n    \n    @Override\n    public Function&lt;Map&lt;F, T&gt;, Map&lt;F, T&gt;&gt; finisher() {\n        return Function.identity();\n    }\n    \n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return Collections.emptySet();\n    }\n}\n</code></pre>\n<p><code>main()</code> - demo (dummy <code>Id</code> class is not shown)</p>\n<pre><code>public class CustomCollectorByGivenAttributes {\n    public static void main(String[] args) {\n        List&lt;Id&gt; ids = List.of(new Id(1, &quot;Company&quot;), new Id(2, &quot;Fizz&quot;),\n                               new Id(3, &quot;Private&quot;), new Id(4, &quot;Buzz&quot;));\n        \n        Map&lt;String, Id&gt; idByType = ids.stream()\n                .collect(new CollectByKey&lt;&gt;(List.of(&quot;Company&quot;, &quot;Private&quot;), Id::getType));\n        \n        idByType.forEach((k, v) -&gt; {\n            if (k.equalsIgnoreCase(&quot;Company&quot;)) domainResp.setId(v);\n            if (k.equalsIgnoreCase(&quot;Private&quot;)) domainResp.setPrivateId(v);\n        });\n    \n        System.out.println(idByType.keySet()); // printing keys - added for demo purposes\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>[Company, Private]\n</code></pre>\n<p><em>Note</em>, after the set of keys becomes empty (i.e. all resulting data has been fetched) the further elements of the stream will get ignored, but still all remained data is required to be processed.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649684479,"creation_date":1649515077,"answer_id":71809025,"question_id":71792433,"body_markdown":"For your list of ids, you could just use a map, then assign them after retrieving, if present.\r\n```\r\nMap&lt;String, Integer&gt; seen = new HashMap&lt;&gt;();\r\n\r\nfor (Id id : ids) {\r\n\tif (seen.size() == 2) {\r\n\t\tbreak;\r\n\t}\r\n\tseen.computeIfAbsent(id.getType().toLowerCase(), v-&gt;id.getId());\r\n}\r\n```\r\nIf you want to test it, you can use the following:\r\n```\r\nrecord Id(String getType, int getId) {\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn String.format(&quot;[%s,%s]&quot;, getType, getId);\r\n\t}\r\n}\r\n\r\nRandom r = new Random();\r\nList&lt;Id&gt; ids = r.ints(20, 1, 100)\r\n\t\t.mapToObj(id -&gt; new Id(\r\n\t\t\t\tr.nextBoolean() ? &quot;Company&quot; : &quot;Private&quot;, id))\r\n\t\t.toList();\r\n```\r\n**Edited to allow only certain types to be checked**\r\n\r\nIf you have more than two types but only want to check on certain ones, you can do it as follows.\r\n- the process is the same except you have a `Set` of allowed types.\r\n- You simply check to see that your are processing one of those types by using `contains`.\r\n```\r\nMap&lt;String, Integer&gt; seen = new HashMap&lt;&gt;();\r\n\r\nSet&lt;String&gt; allowedTypes = Set.of(&quot;company&quot;, &quot;private&quot;);\r\nfor (Id id : ids) {\r\n\tString type = id.getType();\r\n\r\n\tif (allowedTypes.contains(type.toLowerCase())) {\r\n\t\tif (seen.size() == allowedTypes.size()) {\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\tseen.computeIfAbsent(type,\r\n\t\t\t\tv -&gt; id.getId());\r\n\t}\r\n}\r\n```\r\nTesting is similar except that additional types need to be included.\r\n- create a list of some types that could be present.\r\n- and build a list of them as before.\r\n- notice that the size of allowed types replaces the value `2` to permit more than two types to be checked before exiting the loop.\r\n```\r\nList&lt;String&gt; possibleTypes = \r\n      List.of(&quot;Company&quot;, &quot;Type1&quot;, &quot;Private&quot;, &quot;Type2&quot;);\r\nRandom r = new Random();\r\nList&lt;Id&gt; ids =\r\n\t\tr.ints(30, 1, 100)\r\n\t\t\t\t.mapToObj(id -&gt; new Id(possibleTypes.get(\r\n\t\t\t\t\t\tr.nextInt((possibleTypes.size()))),\r\n\t\t\t\t\t\tid))\r\n\t\t\t\t.toList();\r\n\r\n","title":"How to avoid multiple Streams with Java 8","body":"<p>For your list of ids, you could just use a map, then assign them after retrieving, if present.</p>\n<pre><code>Map&lt;String, Integer&gt; seen = new HashMap&lt;&gt;();\n\nfor (Id id : ids) {\n    if (seen.size() == 2) {\n        break;\n    }\n    seen.computeIfAbsent(id.getType().toLowerCase(), v-&gt;id.getId());\n}\n</code></pre>\n<p>If you want to test it, you can use the following:</p>\n<pre><code>record Id(String getType, int getId) {\n    @Override\n    public String toString() {\n        return String.format(&quot;[%s,%s]&quot;, getType, getId);\n    }\n}\n\nRandom r = new Random();\nList&lt;Id&gt; ids = r.ints(20, 1, 100)\n        .mapToObj(id -&gt; new Id(\n                r.nextBoolean() ? &quot;Company&quot; : &quot;Private&quot;, id))\n        .toList();\n</code></pre>\n<p><strong>Edited to allow only certain types to be checked</strong></p>\n<p>If you have more than two types but only want to check on certain ones, you can do it as follows.</p>\n<ul>\n<li>the process is the same except you have a <code>Set</code> of allowed types.</li>\n<li>You simply check to see that your are processing one of those types by using <code>contains</code>.</li>\n</ul>\n<pre><code>Map&lt;String, Integer&gt; seen = new HashMap&lt;&gt;();\n\nSet&lt;String&gt; allowedTypes = Set.of(&quot;company&quot;, &quot;private&quot;);\nfor (Id id : ids) {\n    String type = id.getType();\n\n    if (allowedTypes.contains(type.toLowerCase())) {\n        if (seen.size() == allowedTypes.size()) {\n            break;\n        }\n        seen.computeIfAbsent(type,\n                v -&gt; id.getId());\n    }\n}\n</code></pre>\n<p>Testing is similar except that additional types need to be included.</p>\n<ul>\n<li>create a list of some types that could be present.</li>\n<li>and build a list of them as before.</li>\n<li>notice that the size of allowed types replaces the value <code>2</code> to permit more than two types to be checked before exiting the loop.</li>\n</ul>\n<pre><code>List&lt;String&gt; possibleTypes = \n      List.of(&quot;Company&quot;, &quot;Type1&quot;, &quot;Private&quot;, &quot;Type2&quot;);\nRandom r = new Random();\nList&lt;Id&gt; ids =\n        r.ints(30, 1, 100)\n                .mapToObj(id -&gt; new Id(possibleTypes.get(\n                        r.nextInt((possibleTypes.size()))),\n                        id))\n                .toList();\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649681959,"creation_date":1649681959,"answer_id":71828291,"question_id":71792433,"body_markdown":"We can use the ``` Collectors.filtering ``` from **Java 9** onwards to collect the values based on condition.\r\n\r\nFor this scenario, I have changed code like below \r\n\r\n```\r\nfinal Map&lt;String, String&gt; results = trainResponse.getIds()\r\n            .stream()\r\n            .collect(Collectors.filtering(\r\n                id -&gt; id.getType().equals(&quot;Company&quot;) || id.getIdContext().equals(&quot;Private&quot;),\r\n                Collectors.toMap(Id::getType, Id::getId, (first, second) -&gt; first)));\r\n```\r\nAnd getting the ```id``` from ```results``` Map.","title":"How to avoid multiple Streams with Java 8","body":"<p>We can use the <code>Collectors.filtering</code> from <strong>Java 9</strong> onwards to collect the values based on condition.</p>\n<p>For this scenario, I have changed code like below</p>\n<pre><code>final Map&lt;String, String&gt; results = trainResponse.getIds()\n            .stream()\n            .collect(Collectors.filtering(\n                id -&gt; id.getType().equals(&quot;Company&quot;) || id.getIdContext().equals(&quot;Private&quot;),\n                Collectors.toMap(Id::getType, Id::getId, (first, second) -&gt; first)));\n</code></pre>\n<p>And getting the <code>id</code> from <code>results</code> Map.</p>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":659,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71797492,"answer_count":7,"score":1,"last_activity_date":1649684479,"creation_date":1649398649,"question_id":71792433,"body_markdown":"I am having the below code\r\n\r\n```\r\ntrainResponse.getIds().stream()\r\n        .filter(id -&gt; id.getType().equalsIgnoreCase(&quot;Company&quot;))\r\n        .findFirst()\r\n        .ifPresent(id -&gt; {\r\n            domainResp.setId(id.getId());\r\n        });\r\n\r\ntrainResponse.getIds().stream()\r\n        .filter(id -&gt; id.getType().equalsIgnoreCase(&quot;Private&quot;))\r\n        .findFirst()\r\n        .ifPresent(id -&gt;\r\n            domainResp.setPrivateId(id.getId())\r\n        );\r\n```\r\n\r\nHere I&#39;m iterating/streaming the list of `Id` objects `2` times. \r\n\r\nThe only difference between the two streams is in the `filter()` operation.\r\n\r\nHow to achieve it in ***single iteration***, and what is the best approach (*in terms of **time** and **space complexity***) to do this?\r\n\r\n","title":"How to avoid multiple Streams with Java 8","body":"<p>I am having the below code</p>\n<pre><code>trainResponse.getIds().stream()\n        .filter(id -&gt; id.getType().equalsIgnoreCase(&quot;Company&quot;))\n        .findFirst()\n        .ifPresent(id -&gt; {\n            domainResp.setId(id.getId());\n        });\n\ntrainResponse.getIds().stream()\n        .filter(id -&gt; id.getType().equalsIgnoreCase(&quot;Private&quot;))\n        .findFirst()\n        .ifPresent(id -&gt;\n            domainResp.setPrivateId(id.getId())\n        );\n</code></pre>\n<p>Here I'm iterating/streaming the list of <code>Id</code> objects <code>2</code> times.</p>\n<p>The only difference between the two streams is in the <code>filter()</code> operation.</p>\n<p>How to achieve it in <em><strong>single iteration</strong></em>, and what is the best approach (<em>in terms of <strong>time</strong> and <strong>space complexity</strong></em>) to do this?</p>\n"},{"tags":["java","arrays","function","oop"],"answers":[{"tags":[],"owner":{"account_id":461096,"reputation":59403,"user_id":862594,"accept_rate":83,"display_name":"nickb"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1649559919,"creation_date":1649559919,"answer_id":71813471,"question_id":71813435,"body_markdown":"&gt; it can directly access the function mergeSort right ?\r\n\r\nNo, it can&#39;t, because `mergeSort` isn&#39;t declared as a static function, which means you need an instance of `MergeSort` in order to call it. That&#39;s why you&#39;re able to call `printArray`, because it **is** static, which means you don&#39;t need an instance of the enclosing class to call it.\r\n\r\nMore info on static members and methods: https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html","title":"Why do we initiate an object inside main function","body":"<blockquote>\n<p>it can directly access the function mergeSort right ?</p>\n</blockquote>\n<p>No, it can't, because <code>mergeSort</code> isn't declared as a static function, which means you need an instance of <code>MergeSort</code> in order to call it. That's why you're able to call <code>printArray</code>, because it <strong>is</strong> static, which means you don't need an instance of the enclosing class to call it.</p>\n<p>More info on static members and methods: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html</a></p>\n"},{"tags":[],"owner":{"account_id":4806468,"reputation":3469,"user_id":3881354,"accept_rate":75,"display_name":"Elyas Hadizadeh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649658613,"creation_date":1649658613,"answer_id":71823490,"question_id":71813435,"body_markdown":"First of all, Welcome to Java World ;-)\r\n\r\n&gt; My question is Why are we creating an instance(ob) of MergeSort in void main?\r\n\r\nWell, all applications have got a starting point and usually all **c-based** programming languages start from **Main** function (method). **Java&#39;s** starting point is the `static main method` which is located in a class and as a convention that class is called *Main*.\r\n\r\n*Java* is an *object oriented programming* languages, so Java applications should consist of many classes and these classes can communicate and interact with each other based on object oriented rules. To use a class, you need to create an instance of it and you have no choice to create your first instance from the main method.\r\n\r\n\r\n&gt; main method ..., it can directly access the function mergeSort right ?\r\n\r\nMain method is a static method and you can directly call all static methods from it, but `mergeSort` method is defined as an instance method (not static) and there is no way to call it directly. You need to create an instance of class and then call its methods.\r\n\r\n\r\n    MergeSort ob = new MergeSort();\r\n    ob.mergeSort(arr, 0, arr.length - 1);\r\n\r\n&gt; why are we not using instantiated object of MergeSort to call\r\n&gt; printArray(arr)\r\n\r\nBecause printArray is a static method and you can easily call it from the main method or any other static methods. Read all answers of the relevant [question][1], it can help you.\r\n\r\n\r\n\r\nPlease notice that your code-snippet can be classified as a single-source-code application which means that you have only one. Single file applications are small and utility programs. But real applications are made of various classes and files.\r\n\r\n&gt; please suggest me some sources to learn java better if you have one.\r\n\r\nIt&#39;s not common to suggest learning sources in Stackoverflow, but I would highly recommend to follow an online video tutorial and then books. [Pluralsight][2] and [Linkedin][3] have got very good learning paths.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11993077/difference-between-static-methods-and-instance-methods\r\n  [2]: https://www.pluralsight.com/paths/java-language-fundamentals\r\n  [3]: https://www.linkedin.com/learning/paths/become-a-java-programmer","title":"Why do we initiate an object inside main function","body":"<p>First of all, Welcome to Java World ;-)</p>\n<blockquote>\n<p>My question is Why are we creating an instance(ob) of MergeSort in void main?</p>\n</blockquote>\n<p>Well, all applications have got a starting point and usually all <strong>c-based</strong> programming languages start from <strong>Main</strong> function (method). <strong>Java's</strong> starting point is the <code>static main method</code> which is located in a class and as a convention that class is called <em>Main</em>.</p>\n<p><em>Java</em> is an <em>object oriented programming</em> languages, so Java applications should consist of many classes and these classes can communicate and interact with each other based on object oriented rules. To use a class, you need to create an instance of it and you have no choice to create your first instance from the main method.</p>\n<blockquote>\n<p>main method ..., it can directly access the function mergeSort right ?</p>\n</blockquote>\n<p>Main method is a static method and you can directly call all static methods from it, but <code>mergeSort</code> method is defined as an instance method (not static) and there is no way to call it directly. You need to create an instance of class and then call its methods.</p>\n<pre><code>MergeSort ob = new MergeSort();\nob.mergeSort(arr, 0, arr.length - 1);\n</code></pre>\n<blockquote>\n<p>why are we not using instantiated object of MergeSort to call\nprintArray(arr)</p>\n</blockquote>\n<p>Because printArray is a static method and you can easily call it from the main method or any other static methods. Read all answers of the relevant <a href=\"https://stackoverflow.com/questions/11993077/difference-between-static-methods-and-instance-methods\">question</a>, it can help you.</p>\n<p>Please notice that your code-snippet can be classified as a single-source-code application which means that you have only one. Single file applications are small and utility programs. But real applications are made of various classes and files.</p>\n<blockquote>\n<p>please suggest me some sources to learn java better if you have one.</p>\n</blockquote>\n<p>It's not common to suggest learning sources in Stackoverflow, but I would highly recommend to follow an online video tutorial and then books. <a href=\"https://www.pluralsight.com/paths/java-language-fundamentals\" rel=\"nofollow noreferrer\">Pluralsight</a> and <a href=\"https://www.linkedin.com/learning/paths/become-a-java-programmer\" rel=\"nofollow noreferrer\">Linkedin</a> have got very good learning paths.</p>\n"}],"owner":{"account_id":18349613,"reputation":317,"user_id":13364105,"display_name":"Hackytech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71813471,"answer_count":2,"score":1,"last_activity_date":1649684181,"creation_date":1649559323,"question_id":71813435,"body_markdown":"    class MergeSort {\r\n    \r\n        // Merge two subarrays L and M into arr\r\n        void merge(int arr[], int p, int q, int r) {\r\n        }\r\n      \r\n        // Divide the array into two subarrays, sort them and merge them\r\n        void mergeSort(int arr[], int l, int r) {\r\n        }\r\n      \r\n        // Print the array\r\n        static void printArray(int arr[]) {\r\n        }\r\n      \r\n        // Driver program\r\n        public static void main(String args[]) {\r\n          int arr[] = { 6, 5, 12, 10, 9, 1 };\r\n      \r\n          MergeSort ob = new MergeSort();\r\n          ob.mergeSort(arr, 0, arr.length - 1);\r\n      \r\n          System.out.println(&quot;Sorted array:&quot;);\r\n          printArray(arr);\r\n        }\r\n    }\r\n\r\nI am completely new to Java, I started it from today itself, but I do know basic of OOP&#39;s concepts. **My question is** Why are we creating an instance(ob) of MergeSort in void main? main method is already present inside the class MergeSort, it can directly access the function mergeSort right ? and why are we not using instantiated object of MergeSort to call **printArray(arr)**, we are able to call printArray directly so why not mergeSort method. \r\n\r\nAlso please suggest me some sources to learn java better if you have one.\r\n\r\nThank you for your help.","title":"Why do we initiate an object inside main function","body":"<pre><code>class MergeSort {\n\n    // Merge two subarrays L and M into arr\n    void merge(int arr[], int p, int q, int r) {\n    }\n  \n    // Divide the array into two subarrays, sort them and merge them\n    void mergeSort(int arr[], int l, int r) {\n    }\n  \n    // Print the array\n    static void printArray(int arr[]) {\n    }\n  \n    // Driver program\n    public static void main(String args[]) {\n      int arr[] = { 6, 5, 12, 10, 9, 1 };\n  \n      MergeSort ob = new MergeSort();\n      ob.mergeSort(arr, 0, arr.length - 1);\n  \n      System.out.println(&quot;Sorted array:&quot;);\n      printArray(arr);\n    }\n}\n</code></pre>\n<p>I am completely new to Java, I started it from today itself, but I do know basic of OOP's concepts. <strong>My question is</strong> Why are we creating an instance(ob) of MergeSort in void main? main method is already present inside the class MergeSort, it can directly access the function mergeSort right ? and why are we not using instantiated object of MergeSort to call <strong>printArray(arr)</strong>, we are able to call printArray directly so why not mergeSort method.</p>\n<p>Also please suggest me some sources to learn java better if you have one.</p>\n<p>Thank you for your help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8553,"page":1439,"page_size":100}
