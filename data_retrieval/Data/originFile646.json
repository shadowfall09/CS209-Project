{"items":[{"tags":["java","java.util.scanner"],"owner":{"account_id":27799178,"reputation":9,"user_id":21223937,"display_name":"LF2b2w"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1676555321,"answer_count":0,"score":0,"last_activity_date":1676524225,"creation_date":1676522867,"question_id":75467957,"body_markdown":"My initial run of `main` works fine, but when it is returned from creating a new account it will throw a `NoSuchElementException` for line 21, which is `nextInt()`.\r\n\r\nMy main looks like this:\r\n```Java\r\npackage BankApp;\r\n\r\nimport java.util.Scanner;\r\nimport java.io.IOException;\r\n\r\npublic class App {\r\n    public static void main(String[] args) throws IOException {\r\n        String fname;\r\n        String sname;\r\n        String password;\r\n        long accNum;\r\n        int appChoice = 0;\r\n\r\n        while(true){\r\n            System.out.println(&quot;******Welcome to Bank******&quot;);\r\n\t    \tSystem.out.println(&quot;&quot;);\r\n            System.out.println(&quot;Do you have an account with us?&quot;);\r\n\t\t    System.out.println(&quot;(1) Yes&quot;);\r\n    \t\tSystem.out.println(&quot;(2) No&quot;);\r\n            System.out.print(&quot;Enter Input: &quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            appChoice = sc.nextInt();\r\n            sc.nextLine();\r\n            try {\r\n                switch(appChoice){\r\n                    case 2:\r\n                        try {\r\n                            System.out.println(&quot;Create New Account&quot;);\r\n                            System.out.println(&quot;Enter Full name&quot;);\r\n                            System.out.print(&quot;First name: &quot;);\r\n                            fname = sc.nextLine();\r\n                            System.out.print(&quot;Surname: &quot;);\r\n                            sname = sc.nextLine();\r\n                            System.out.print(&quot;Emter Password: &quot;);\r\n                            password = sc.nextLine();\r\n                            if (BankManagement.createAccount(fname, sname, password)){\r\n                                System.out.println(&quot;Account Created Successfully&quot;);\r\n                            \r\n                            } else {\r\n                                System.out.println(&quot;ERROR: Acount Creation Failed&quot;);\r\n                            }\r\n                        } catch (Exception e) {\r\n                            System.out.println(&quot;Error: Valid Data :: Insertion Error&quot;);\r\n                        }\r\n                        break;\r\n                    case 1:\r\n                        try {\r\n                            System.out.println(&quot;Account Login&quot;);\r\n                            System.out.print(&quot;Enter Account Number: &quot;);\r\n                            accNum = sc.nextLong();\r\n                            sc.nextLine();\r\n                            System.out.print(&quot;Enter Password: &quot;);\r\n                            password = sc.nextLine();\r\n                            if (BankManagement.loginAccount(accNum, password)){\r\n                                System.out.println(&quot;Logoin Successful&quot;);\r\n                            } else {\r\n                                System.out.println(&quot;ERROR: Login Failed&quot;);\r\n                            }\r\n                        } catch (Exception e){\r\n                            System.out.println(&quot;ERROR: Valid Data :: Login Failed&quot;);\r\n                        }\r\n                        break;\r\n                    default:\r\n                        System.out.println(&quot;Invalid Input&quot;);\r\n                }\r\n                if (appChoice == 5){\r\n                    System.out.println(&quot;Exited Successfully&quot;);\r\n                    break;\r\n                }\r\n            } catch (Exception e){\r\n                System.out.println(&quot;Enter Valid Entry&quot;);\r\n            }\r\n            sc.close();  \r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand my `createAccount` looks like this:\r\n\r\n```\r\npackage BankApp;\r\n\r\nimport java.util.Scanner;\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLIntegrityConstraintViolationException;\r\nimport java.sql.Statement;\r\n\r\npublic class BankManagement {\r\n    private static final String NULL = null;\r\n    private static long accnumber = Math.round(1 + Math.random() * 100000000);\r\n\r\n    static Connection con = sqlCon.getConnection();\r\n    static String sql = &quot;&quot;;\r\n    public static boolean createAccount(String fname, String sname, String password){\r\n        try{\r\n            // validating new acc details\r\n            if (fname.equals(&quot;&quot;) || &quot;&quot;.equals(sname) || password.equals(NULL)) {\r\n                System.out.println(&quot;All Fields Required!&quot;);\r\n                return false;\r\n            }\r\n            // query\r\n            Statement st =  con.createStatement();\r\n            sql = &quot;INSERT INTO customer(first_name, surname, balance, password, account_number, created_on, last_login) values (&#39;&quot; + fname + &quot;&#39;, &#39;&quot; + sname +&quot;&#39;,&#39;1000&#39;, &#39;&quot;+ password +&quot;&#39;, &#39;&quot; + accnumber +&quot;&#39;, NOW(), NOW())&quot; ;\r\n            \r\n            if (st.executeUpdate(sql) == 1){ \r\n                PreparedStatement accDetails = con.prepareStatement(&quot;SELECT * FROM customer WHERE first_name = ? AND surname= ? AND password = ?&quot;);\r\n                accDetails.setString(1, fname);\r\n                accDetails.setString(2, sname);\r\n                accDetails.setString(3, password);\r\n                ResultSet rs = accDetails.executeQuery();\r\n                rs.next();\r\n                System.out.println(&quot;Your account number is: &quot; + rs.getInt(&quot;account_number&quot;));\r\n                return true;\r\n            }\r\n        }\r\n        catch (SQLIntegrityConstraintViolationException e){\r\n            System.out.println(&quot;Username not available!&quot;);\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return false;\r\n    }\r\n```\r\n\r\n   \r\nI&#39;ve tried putting it into a try-catch with `hasNextInt()` and refreshing the input with `next()`, as well as changing `Scanner` to `BufferedReader`. If I move `sc.nextInt()` to the uder the `try` it just infinite loops, same with using `BufferedReader`.","title":"NoSuchElement or infinite loop for nextInt()/or next()","body":"<p>My initial run of <code>main</code> works fine, but when it is returned from creating a new account it will throw a <code>NoSuchElementException</code> for line 21, which is <code>nextInt()</code>.</p>\n<p>My main looks like this:</p>\n<pre><code>package BankApp;\n\nimport java.util.Scanner;\nimport java.io.IOException;\n\npublic class App {\n    public static void main(String[] args) throws IOException {\n        String fname;\n        String sname;\n        String password;\n        long accNum;\n        int appChoice = 0;\n\n        while(true){\n            System.out.println(&quot;******Welcome to Bank******&quot;);\n            System.out.println(&quot;&quot;);\n            System.out.println(&quot;Do you have an account with us?&quot;);\n            System.out.println(&quot;(1) Yes&quot;);\n            System.out.println(&quot;(2) No&quot;);\n            System.out.print(&quot;Enter Input: &quot;);\n            Scanner sc = new Scanner(System.in);\n            appChoice = sc.nextInt();\n            sc.nextLine();\n            try {\n                switch(appChoice){\n                    case 2:\n                        try {\n                            System.out.println(&quot;Create New Account&quot;);\n                            System.out.println(&quot;Enter Full name&quot;);\n                            System.out.print(&quot;First name: &quot;);\n                            fname = sc.nextLine();\n                            System.out.print(&quot;Surname: &quot;);\n                            sname = sc.nextLine();\n                            System.out.print(&quot;Emter Password: &quot;);\n                            password = sc.nextLine();\n                            if (BankManagement.createAccount(fname, sname, password)){\n                                System.out.println(&quot;Account Created Successfully&quot;);\n                            \n                            } else {\n                                System.out.println(&quot;ERROR: Acount Creation Failed&quot;);\n                            }\n                        } catch (Exception e) {\n                            System.out.println(&quot;Error: Valid Data :: Insertion Error&quot;);\n                        }\n                        break;\n                    case 1:\n                        try {\n                            System.out.println(&quot;Account Login&quot;);\n                            System.out.print(&quot;Enter Account Number: &quot;);\n                            accNum = sc.nextLong();\n                            sc.nextLine();\n                            System.out.print(&quot;Enter Password: &quot;);\n                            password = sc.nextLine();\n                            if (BankManagement.loginAccount(accNum, password)){\n                                System.out.println(&quot;Logoin Successful&quot;);\n                            } else {\n                                System.out.println(&quot;ERROR: Login Failed&quot;);\n                            }\n                        } catch (Exception e){\n                            System.out.println(&quot;ERROR: Valid Data :: Login Failed&quot;);\n                        }\n                        break;\n                    default:\n                        System.out.println(&quot;Invalid Input&quot;);\n                }\n                if (appChoice == 5){\n                    System.out.println(&quot;Exited Successfully&quot;);\n                    break;\n                }\n            } catch (Exception e){\n                System.out.println(&quot;Enter Valid Entry&quot;);\n            }\n            sc.close();  \n        }\n    }\n}\n</code></pre>\n<p>and my <code>createAccount</code> looks like this:</p>\n<pre><code>package BankApp;\n\nimport java.util.Scanner;\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLIntegrityConstraintViolationException;\nimport java.sql.Statement;\n\npublic class BankManagement {\n    private static final String NULL = null;\n    private static long accnumber = Math.round(1 + Math.random() * 100000000);\n\n    static Connection con = sqlCon.getConnection();\n    static String sql = &quot;&quot;;\n    public static boolean createAccount(String fname, String sname, String password){\n        try{\n            // validating new acc details\n            if (fname.equals(&quot;&quot;) || &quot;&quot;.equals(sname) || password.equals(NULL)) {\n                System.out.println(&quot;All Fields Required!&quot;);\n                return false;\n            }\n            // query\n            Statement st =  con.createStatement();\n            sql = &quot;INSERT INTO customer(first_name, surname, balance, password, account_number, created_on, last_login) values ('&quot; + fname + &quot;', '&quot; + sname +&quot;','1000', '&quot;+ password +&quot;', '&quot; + accnumber +&quot;', NOW(), NOW())&quot; ;\n            \n            if (st.executeUpdate(sql) == 1){ \n                PreparedStatement accDetails = con.prepareStatement(&quot;SELECT * FROM customer WHERE first_name = ? AND surname= ? AND password = ?&quot;);\n                accDetails.setString(1, fname);\n                accDetails.setString(2, sname);\n                accDetails.setString(3, password);\n                ResultSet rs = accDetails.executeQuery();\n                rs.next();\n                System.out.println(&quot;Your account number is: &quot; + rs.getInt(&quot;account_number&quot;));\n                return true;\n            }\n        }\n        catch (SQLIntegrityConstraintViolationException e){\n            System.out.println(&quot;Username not available!&quot;);\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        return false;\n    }\n</code></pre>\n<p>I've tried putting it into a try-catch with <code>hasNextInt()</code> and refreshing the input with <code>next()</code>, as well as changing <code>Scanner</code> to <code>BufferedReader</code>. If I move <code>sc.nextInt()</code> to the uder the <code>try</code> it just infinite loops, same with using <code>BufferedReader</code>.</p>\n"},{"tags":["java","javac","annotation-processing"],"comments":[{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676417740,"post_id":75454080,"comment_id":133132288,"body_markdown":"What does `c.getTypeParameters().get(0).getAnnotationMirrors()` say?","body":"What does <code>c.getTypeParameters().get(0).getAnnotationMirrors()</code> say?"},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1676417836,"post_id":75454080,"comment_id":133132305,"body_markdown":"The method does not declare any type parameters, so the list is (expectedly) empty.","body":"The method does not declare any type parameters, so the list is (expectedly) empty."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1676434351,"post_id":75454080,"comment_id":133134273,"body_markdown":"Interestingly, Jandex (another mechanism that can build and read models from class files) does allow this annotation to surface, and more or less where you would expect it: on the type usage &quot;backing&quot; the `s` parameter. I think this may actually be a bug in `javac`&#39;s annotation processing machinery, as rare as that is. Still looking for answers.","body":"Interestingly, Jandex (another mechanism that can build and read models from class files) does allow this annotation to surface, and more or less where you would expect it: on the type usage &quot;backing&quot; the <code>s</code> parameter. I think this may actually be a bug in <code>javac</code>&#39;s annotation processing machinery, as rare as that is. Still looking for answers."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1676434607,"post_id":75454080,"comment_id":133134303,"body_markdown":"Additionally, in my debugger I can see that the underlying `MethodSymbol` for the `c` method (which should correspond to an `ExecutableElement` in the `javax.lang.model.*` model) has a `type_attributes` field whose zeroth element has a `position` field describing where the type use annotation applies (so I guess the `ExecutableElement` analog (`MethodSymbol`) stores type usage information (?!) in javac).  That is, it appears to have been read by `javac`&#39;s `ClassReader` just fine, but it also seems it did not &quot;make it&quot; into the corresponding `javax.lang.model.*` classes. I can&#39;t think why not.","body":"Additionally, in my debugger I can see that the underlying <code>MethodSymbol</code> for the <code>c</code> method (which should correspond to an <code>ExecutableElement</code> in the <code>javax.lang.model.*</code> model) has a <code>type_attributes</code> field whose zeroth element has a <code>position</code> field describing where the type use annotation applies (so I guess the <code>ExecutableElement</code> analog (<code>MethodSymbol</code>) stores type usage information (?!) in javac).  That is, it appears to have been read by <code>javac</code>&#39;s <code>ClassReader</code> just fine, but it also seems it did not &quot;make it&quot; into the corresponding <code>javax.lang.model.*</code> classes. I can&#39;t think why not."},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676468046,"post_id":75454080,"comment_id":133142094,"body_markdown":"Not sure it should even be allowed. See: https://docs.oracle.com/javase/specs/jls/se14/html/jls-9.html#jls-9.7.4 --&gt; &quot;It is a compile-time error if an annotation of type T is syntactically a modifier for:  * a type parameter declaration of a generic class, interface, method, or constructor, but T is not applicable to type parameter declarations or type contexts.&quot;","body":"Not sure it should even be allowed. See: <a href=\"https://docs.oracle.com/javase/specs/jls/se14/html/jls-9.html#jls-9.7.4\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/specs/jls/se14/html/jls-9.html#jls-9.&zwnj;&#8203;7.4</a> --&gt; &quot;It is a compile-time error if an annotation of type T is syntactically a modifier for:  * a type parameter declaration of a generic class, interface, method, or constructor, but T is not applicable to type parameter declarations or type contexts.&quot;"},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1676478696,"post_id":75454080,"comment_id":133146034,"body_markdown":"There are no type parameters in this method so this section of the specification cannot apply.","body":"There are no type parameters in this method so this section of the specification cannot apply."},{"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"score":0,"creation_date":1676513349,"post_id":75454080,"comment_id":133153782,"body_markdown":"Conversation ongoing on compiler-dev: https://mail.openjdk.org/pipermail/compiler-dev/2023-February/022165.html","body":"Conversation ongoing on compiler-dev: <a href=\"https://mail.openjdk.org/pipermail/compiler-dev/2023-February/022165.html\" rel=\"nofollow noreferrer\">mail.openjdk.org/pipermail/compiler-dev/2023-February/&hellip;</a>"},{"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"score":0,"creation_date":1676531025,"post_id":75454080,"comment_id":133156139,"body_markdown":"Nice find, I hope they manage to fix it quickly for you. Sometimes you&#39;re &quot;I can&#39;t really be the only one doing this&quot; feeling is wrong and you are the only one, I had that once with LDAP and Kerberos :-)","body":"Nice find, I hope they manage to fix it quickly for you. Sometimes you&#39;re &quot;I can&#39;t really be the only one doing this&quot; feeling is wrong and you are the only one, I had that once with LDAP and Kerberos :-)"}],"answers":[{"tags":[],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676522839,"creation_date":1676522839,"answer_id":75467956,"question_id":75454080,"body_markdown":"It is indeed a bug from 2019: https://bugs.openjdk.org/browse/JDK-8225377.","title":"Where in the javax.lang.model.* hierarchy is this type use annotation recorded?","body":"<p>It is indeed a bug from 2019: <a href=\"https://bugs.openjdk.org/browse/JDK-8225377\" rel=\"nofollow noreferrer\">https://bugs.openjdk.org/browse/JDK-8225377</a>.</p>\n"}],"owner":{"account_id":72101,"reputation":15566,"user_id":208288,"accept_rate":67,"display_name":"Laird Nelson"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676522839,"creation_date":1676416158,"question_id":75454080,"body_markdown":"Suppose I have:\r\n```java\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target({ ElementType.TYPE_USE }) // no PARAMETER, note\r\npublic @interface A {}\r\n\r\npublic final class B {\r\n    // @A annotates the use of the type represented by &quot;String&quot;,\r\n    // not the parameter element &quot;s&quot;\r\n    private static final void c(@A String s) {}\r\n}\r\n```\r\n(I have read the raw `.class` file for `B` and can see that `A` is present in there as a runtime-visible type use annotation.)\r\n\r\nSuppose further I do, in preparation for further assertions:\r\n```java\r\njavax.lang.model.element.Element e = elements.getTypeElement(&quot;B&quot;);\r\njavax.lang.model.element.ExecutableElement c = \r\n    (javax.lang.model.element.ExecutableElement)e.getEnclosedElements().get(1);\r\n// (Prove we got the right method.)\r\nassert c.getSimpleName().contentEquals(&quot;c&quot;);\r\n```\r\n\r\nHow do I &quot;get&quot; the `AnnotationMirror` representing the use of `@A` on `String` in that context?\r\n\r\nIt does not surface in:\r\n```java\r\nc.getParameters().get(0).getAnnotationMirrors();\r\n```\r\n\r\n(Not surprising; it shouldn&#39;t. `s` is a parameter element (a `VariableElement`); the annotation is type use only.)\r\n\r\nNor does it appear in:\r\n```java\r\nc.getParameters().get(0).asType().getAnnotationMirrors();\r\n```\r\n安hich surprised me, but OK, maybe that refers to the opaque `DeclaredType` underlying the &quot;`String`&quot; reference, not the usage of it.\r\n\r\nNor does it appear in:\r\n```java\r\n((javax.lang.model.type.ExecutableType)c.asType()).getParameterTypes().get(0).getAnnotationMirrors();\r\n```\r\n安hich also surprised me (if this isn&#39;t what having _both_ `ExecutableType#getParameterTypes()` _and_ `ExecutableElement#getParameters()` (with the ability to call `asType()` on each `VariableElement` returned) is for, what is it all for?).\r\n\r\nIs this annotation unreadable in the `javax.lang.model.*` view of the world?","title":"Where in the javax.lang.model.* hierarchy is this type use annotation recorded?","body":"<p>Suppose I have:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.TYPE_USE }) // no PARAMETER, note\npublic @interface A {}\n\npublic final class B {\n    // @A annotates the use of the type represented by &quot;String&quot;,\n    // not the parameter element &quot;s&quot;\n    private static final void c(@A String s) {}\n}\n</code></pre>\n<p>(I have read the raw <code>.class</code> file for <code>B</code> and can see that <code>A</code> is present in there as a runtime-visible type use annotation.)</p>\n<p>Suppose further I do, in preparation for further assertions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>javax.lang.model.element.Element e = elements.getTypeElement(&quot;B&quot;);\njavax.lang.model.element.ExecutableElement c = \n    (javax.lang.model.element.ExecutableElement)e.getEnclosedElements().get(1);\n// (Prove we got the right method.)\nassert c.getSimpleName().contentEquals(&quot;c&quot;);\n</code></pre>\n<p>How do I &quot;get&quot; the <code>AnnotationMirror</code> representing the use of <code>@A</code> on <code>String</code> in that context?</p>\n<p>It does not surface in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>c.getParameters().get(0).getAnnotationMirrors();\n</code></pre>\n<p>(Not surprising; it shouldn't. <code>s</code> is a parameter element (a <code>VariableElement</code>); the annotation is type use only.)</p>\n<p>Nor does it appear in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>c.getParameters().get(0).asType().getAnnotationMirrors();\n</code></pre>\n<p>安hich surprised me, but OK, maybe that refers to the opaque <code>DeclaredType</code> underlying the &quot;<code>String</code>&quot; reference, not the usage of it.</p>\n<p>Nor does it appear in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>((javax.lang.model.type.ExecutableType)c.asType()).getParameterTypes().get(0).getAnnotationMirrors();\n</code></pre>\n<p>安hich also surprised me (if this isn't what having <em>both</em> <code>ExecutableType#getParameterTypes()</code> <em>and</em> <code>ExecutableElement#getParameters()</code> (with the ability to call <code>asType()</code> on each <code>VariableElement</code> returned) is for, what is it all for?).</p>\n<p>Is this annotation unreadable in the <code>javax.lang.model.*</code> view of the world?</p>\n"},{"tags":["java","amazon-web-services","web-scraping"],"answers":[{"comments":[{"owner":{"account_id":2577658,"reputation":426,"user_id":2234974,"display_name":"Mahesh Gosemath"},"score":0,"creation_date":1364968083,"post_id":15765735,"comment_id":22433319,"body_markdown":"thanks for your response. Amazon doesn&#39;t provide API for importing purchase history. The only solution I can see is screen scraping.","body":"thanks for your response. Amazon doesn&#39;t provide API for importing purchase history. The only solution I can see is screen scraping."},{"owner":{"account_id":2354187,"reputation":11415,"user_id":2062384,"accept_rate":96,"display_name":"Freedom_Ben"},"score":0,"creation_date":1528765553,"post_id":15765735,"comment_id":88621569,"body_markdown":"Any idea if this violates ToS or anything?","body":"Any idea if this violates ToS or anything?"}],"tags":[],"owner":{"account_id":1934329,"reputation":2092,"user_id":1742975,"accept_rate":83,"display_name":"EFeit"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1364910221,"creation_date":1364910221,"answer_id":15765735,"question_id":15758395,"body_markdown":"Doesn&#39;t look like Amazon provides an API to specifically do what you need, however I came across [this thread.](https://webmasters.stackexchange.com/questions/5801/amazon-web-service-to-get-purchase-data) You may have already seen it.","title":"Retrieving amazon order history programmatically using Java","body":"<p>Doesn't look like Amazon provides an API to specifically do what you need, however I came across <a href=\"https://webmasters.stackexchange.com/questions/5801/amazon-web-service-to-get-purchase-data\">this thread.</a> You may have already seen it.</p>\n"},{"comments":[{"owner":{"account_id":6246408,"reputation":752,"user_id":11336985,"display_name":"user42012"},"score":0,"creation_date":1605666055,"post_id":62041709,"comment_id":114719290,"body_markdown":"hi @ElishaKramer your github repo link is invalid, do you still have that code or its being removed?","body":"hi @ElishaKramer your github repo link is invalid, do you still have that code or its being removed?"},{"owner":{"account_id":9961616,"reputation":78,"user_id":7370755,"display_name":"Elisha Kramer"},"score":1,"creation_date":1605784122,"post_id":62041709,"comment_id":114760780,"body_markdown":"Hi @user42012, my bad - I fixed the link now and yes, it&#39;s still open source, plus there&#39;s even a Udemy Course on it:\n\nhttps://www.udemy.com/course/build-a-full-stack-chrome-extension-with-nodejs-and-mongdb","body":"Hi @user42012, my bad - I fixed the link now and yes, it&#39;s still open source, plus there&#39;s even a Udemy Course on it:  <a href=\"https://www.udemy.com/course/build-a-full-stack-chrome-extension-with-nodejs-and-mongdb\" rel=\"nofollow noreferrer\">udemy.com/course/&hellip;</a>"},{"owner":{"account_id":6246408,"reputation":752,"user_id":11336985,"display_name":"user42012"},"score":0,"creation_date":1605877658,"post_id":62041709,"comment_id":114794180,"body_markdown":"Thank you Elisha, appreciate your help and detailed information.","body":"Thank you Elisha, appreciate your help and detailed information."}],"tags":[],"owner":{"account_id":9961616,"reputation":78,"user_id":7370755,"display_name":"Elisha Kramer"},"comment_count":3,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1605784067,"creation_date":1590577935,"answer_id":62041709,"question_id":15758395,"body_markdown":"I had the same problem, and didn&#39;t find a public Amazon API for retrieving purchase history. \r\n\r\nSo, I built a Chrome Extension to solve it. The repo is [open-source and available here][2].\r\n\r\nI also built a Udemy Course which essentially reviews the codebase: https://www.udemy.com/course/build-a-full-stack-chrome-extension-with-nodejs-and-mongdb\r\n\r\nHere&#39;s the Chrome Extension: [Amazon Scraper King][1]\r\n\r\nI also built a web app which enables you to take your Amazon History and [create a Social Shopping Profile][3]. \r\n\r\n\r\n  [1]: https://chrome.google.com/webstore/detail/my-amazon-history/epmjnoajehdombhjonaoifmhbkkflnli\r\n  [2]: https://github.com/ElishaKay/udemy-fullstack-chrome-extension\r\n  [3]: https://myamazonhistory.com","title":"Retrieving amazon order history programmatically using Java","body":"<p>I had the same problem, and didn't find a public Amazon API for retrieving purchase history.</p>\n<p>So, I built a Chrome Extension to solve it. The repo is <a href=\"https://github.com/ElishaKay/udemy-fullstack-chrome-extension\" rel=\"nofollow noreferrer\">open-source and available here</a>.</p>\n<p>I also built a Udemy Course which essentially reviews the codebase: <a href=\"https://www.udemy.com/course/build-a-full-stack-chrome-extension-with-nodejs-and-mongdb\" rel=\"nofollow noreferrer\">https://www.udemy.com/course/build-a-full-stack-chrome-extension-with-nodejs-and-mongdb</a></p>\n<p>Here's the Chrome Extension: <a href=\"https://chrome.google.com/webstore/detail/my-amazon-history/epmjnoajehdombhjonaoifmhbkkflnli\" rel=\"nofollow noreferrer\">Amazon Scraper King</a></p>\n<p>I also built a web app which enables you to take your Amazon History and <a href=\"https://myamazonhistory.com\" rel=\"nofollow noreferrer\">create a Social Shopping Profile</a>.</p>\n"}],"owner":{"account_id":2577658,"reputation":426,"user_id":2234974,"display_name":"Mahesh Gosemath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13017,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":15765735,"answer_count":2,"score":17,"last_activity_date":1676522620,"creation_date":1364887332,"question_id":15758395,"body_markdown":"I want to log into my amazon account and retrieve purchase history programmatically in java.\r\n\r\nI did a lot of research and came across screen scraping. Is this the only way or does amazon provide apis for logging in and retrieving purchase history?\r\n\r\nAlso researched about AWS but its too confusing. There are lot of APIs and I&#39;m not able to figure out which one to use.","title":"Retrieving amazon order history programmatically using Java","body":"<p>I want to log into my amazon account and retrieve purchase history programmatically in java.</p>\n<p>I did a lot of research and came across screen scraping. Is this the only way or does amazon provide apis for logging in and retrieving purchase history?</p>\n<p>Also researched about AWS but its too confusing. There are lot of APIs and I'm not able to figure out which one to use.</p>\n"},{"tags":["java","swing","jtable"],"answers":[{"tags":[],"owner":{"account_id":18379429,"reputation":35,"user_id":13387766,"display_name":"tharinduhd"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676521557,"creation_date":1676521557,"answer_id":75467859,"question_id":75450974,"body_markdown":"After doing few changes I got the expected result.\r\n\r\n     for (int i = 0; i &lt; dataModel.getRowCount(); i++) {\r\n                    if (dataModel.getValueAt(i, 2) != null) {\r\n                        String mark = (String) dataModel.getValueAt(i, 2);\r\n                        if (mark.equals(&quot;R6&quot;)) {\r\n                            BigDecimal weights = new BigDecimal((String) dataModel.getValueAt(i, 3).toString());\r\n                            tWeightRsix = tWeightRsix.add(weights).setScale(2, RoundingMode.HALF_UP);\r\n                        }\r\n                    }\r\n                }","title":"Keep initial data as it is and get sum of JTable column cell values","body":"<p>After doing few changes I got the expected result.</p>\n<pre><code> for (int i = 0; i &lt; dataModel.getRowCount(); i++) {\n                if (dataModel.getValueAt(i, 2) != null) {\n                    String mark = (String) dataModel.getValueAt(i, 2);\n                    if (mark.equals(&quot;R6&quot;)) {\n                        BigDecimal weights = new BigDecimal((String) dataModel.getValueAt(i, 3).toString());\n                        tWeightRsix = tWeightRsix.add(weights).setScale(2, RoundingMode.HALF_UP);\n                    }\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":18379429,"reputation":35,"user_id":13387766,"display_name":"tharinduhd"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75467859,"answer_count":1,"score":-1,"last_activity_date":1676521557,"creation_date":1676393729,"question_id":75450974,"body_markdown":"I added some data to JTable (dataTable), using button click event need to get sum of last column specific values to another JTable (summeryTable). I need to keep dataTable data as it is and get sum to summeryTable .But original data changing during summing process. What is the best way to get sum by keeping original data as it is? \r\n\r\nClass MyApplication\r\n```\r\n`public class MyApplication {\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(new Runnable() {\r\n            public void run() {\r\n                createAndShowGUI();\r\n            }\r\n        });\r\n    }\r\n\r\n    private static void createAndShowGUI() {\r\n        JFrame frame = new JFrame(&quot;My Application&quot;);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.add(new DataPanel());\r\n        frame.pack();\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n}`\r\n```\r\n\r\nClass DataPanel\r\n\r\n```\r\npublic class DataPanel extends JPanel {\r\n    private JButton sumButton = new JButton();\r\n    private JTable dataTable = new JTable();\r\n    private JTable summeryTable = new JTable();\r\n\r\n    public DataPanel() {\r\n        GridBagConstraints gbc = new GridBagConstraints();\r\n        setLayout(new GridBagLayout());\r\n        sumButton.setText(&quot;Get Sum&quot;);\r\n        dataTable.setModel(new javax.swing.table.DefaultTableModel(\r\n                new Object[][]{\r\n                    {&quot;Column&quot;, null, null, null},\r\n                    {null,&quot;01&quot;,&quot;T20&quot;,&quot;500&quot;},\r\n                    {null, &quot;01&quot;, &quot;R6&quot;, &quot;250&quot;},\r\n                    {null, &quot;02&quot;, &quot;R6&quot;, &quot;50&quot;},\r\n                    {&quot;Slab&quot;, null, null, null},\r\n                    {null, &quot;03&quot;, &quot;T10&quot;, &quot;300&quot;},\r\n                    {null, &quot;04&quot;, &quot;T10&quot;, &quot;150&quot;}\r\n                },\r\n                new String[]{\r\n                    &quot;Member&quot;, &quot;Bar mark&quot;, &quot;Type &amp; Size&quot;, &quot;Weight&quot;\r\n                }\r\n        ));\r\n        summeryTable.setModel(new javax.swing.table.DefaultTableModel(\r\n                new Object[][]{},\r\n                new String[]{\r\n                    &quot;Type &amp; Size&quot;, &quot; Total Weight&quot;\r\n                }\r\n        ));\r\n        JScrollPane dTableContainer = new JScrollPane(dataTable);\r\n        JScrollPane sTableContainer = new JScrollPane(summeryTable);\r\n        gbc.insets = new Insets(5, 5, 5, 5);\r\n        gbc.fill = GridBagConstraints.BOTH;\r\n        gbc.weightx = 0.1;\r\n        gbc.weighty = 0.1;\r\n        add(dTableContainer, gbc);\r\n        gbc.insets = new Insets(5, 5, 5, 5);\r\n        gbc.fill = GridBagConstraints.BOTH;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 1;\r\n        gbc.weightx = 0.1;\r\n        gbc.weighty = 0.1;\r\n        add(sTableContainer, gbc);\r\n        gbc.insets = new Insets(5, 5, 5, 5);\r\n        gbc.fill = GridBagConstraints.NONE;\r\n        gbc.gridx = 0;\r\n        gbc.gridy = 2;\r\n        gbc.weightx = 0.1;\r\n        gbc.weighty = 0.1;\r\n        add(sumButton, gbc);\r\n        sumButton.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                DefaultTableModel dataModel = (DefaultTableModel) dataTable.getModel();\r\n                DefaultTableModel summeryModel = (DefaultTableModel) summeryTable.getModel();\r\n                BigDecimal tWeightRsix = BigDecimal.ZERO;\r\n                int rowCount = summeryModel.getRowCount();\r\n                for (int j = rowCount - 1; j &gt;= 0; j--) {\r\n                    summeryModel.removeRow(j);\r\n                }\r\n                for (int i = 0; i &lt; dataModel.getRowCount(); i++) {\r\n                    if (dataModel.getValueAt(i, 2) == null) {\r\n                        dataModel.removeRow(i);\r\n                    }\r\n                    String mark = (String) dataModel.getValueAt(i, 2);\r\n                    if (mark.equals(&quot;R6&quot;)) {\r\n                        BigDecimal weights = new BigDecimal((String) dataModel.getValueAt(i, 3).toString());\r\n                        tWeightRsix = tWeightRsix.add(weights).setScale(2, RoundingMode.HALF_UP);\r\n                    }\r\n                }\r\n                Object data1 = &quot;R6&quot;;\r\n                Object data2 = tWeightRsix;\r\n                summeryModel.addRow(new Object[]{data1, data2});\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n","title":"Keep initial data as it is and get sum of JTable column cell values","body":"<p>I added some data to JTable (dataTable), using button click event need to get sum of last column specific values to another JTable (summeryTable). I need to keep dataTable data as it is and get sum to summeryTable .But original data changing during summing process. What is the best way to get sum by keeping original data as it is?</p>\n<p>Class MyApplication</p>\n<pre><code>`public class MyApplication {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                createAndShowGUI();\n            }\n        });\n    }\n\n    private static void createAndShowGUI() {\n        JFrame frame = new JFrame(&quot;My Application&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(new DataPanel());\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n}`\n</code></pre>\n<p>Class DataPanel</p>\n<pre><code>public class DataPanel extends JPanel {\n    private JButton sumButton = new JButton();\n    private JTable dataTable = new JTable();\n    private JTable summeryTable = new JTable();\n\n    public DataPanel() {\n        GridBagConstraints gbc = new GridBagConstraints();\n        setLayout(new GridBagLayout());\n        sumButton.setText(&quot;Get Sum&quot;);\n        dataTable.setModel(new javax.swing.table.DefaultTableModel(\n                new Object[][]{\n                    {&quot;Column&quot;, null, null, null},\n                    {null,&quot;01&quot;,&quot;T20&quot;,&quot;500&quot;},\n                    {null, &quot;01&quot;, &quot;R6&quot;, &quot;250&quot;},\n                    {null, &quot;02&quot;, &quot;R6&quot;, &quot;50&quot;},\n                    {&quot;Slab&quot;, null, null, null},\n                    {null, &quot;03&quot;, &quot;T10&quot;, &quot;300&quot;},\n                    {null, &quot;04&quot;, &quot;T10&quot;, &quot;150&quot;}\n                },\n                new String[]{\n                    &quot;Member&quot;, &quot;Bar mark&quot;, &quot;Type &amp; Size&quot;, &quot;Weight&quot;\n                }\n        ));\n        summeryTable.setModel(new javax.swing.table.DefaultTableModel(\n                new Object[][]{},\n                new String[]{\n                    &quot;Type &amp; Size&quot;, &quot; Total Weight&quot;\n                }\n        ));\n        JScrollPane dTableContainer = new JScrollPane(dataTable);\n        JScrollPane sTableContainer = new JScrollPane(summeryTable);\n        gbc.insets = new Insets(5, 5, 5, 5);\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.weightx = 0.1;\n        gbc.weighty = 0.1;\n        add(dTableContainer, gbc);\n        gbc.insets = new Insets(5, 5, 5, 5);\n        gbc.fill = GridBagConstraints.BOTH;\n        gbc.gridx = 0;\n        gbc.gridy = 1;\n        gbc.weightx = 0.1;\n        gbc.weighty = 0.1;\n        add(sTableContainer, gbc);\n        gbc.insets = new Insets(5, 5, 5, 5);\n        gbc.fill = GridBagConstraints.NONE;\n        gbc.gridx = 0;\n        gbc.gridy = 2;\n        gbc.weightx = 0.1;\n        gbc.weighty = 0.1;\n        add(sumButton, gbc);\n        sumButton.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent e) {\n                DefaultTableModel dataModel = (DefaultTableModel) dataTable.getModel();\n                DefaultTableModel summeryModel = (DefaultTableModel) summeryTable.getModel();\n                BigDecimal tWeightRsix = BigDecimal.ZERO;\n                int rowCount = summeryModel.getRowCount();\n                for (int j = rowCount - 1; j &gt;= 0; j--) {\n                    summeryModel.removeRow(j);\n                }\n                for (int i = 0; i &lt; dataModel.getRowCount(); i++) {\n                    if (dataModel.getValueAt(i, 2) == null) {\n                        dataModel.removeRow(i);\n                    }\n                    String mark = (String) dataModel.getValueAt(i, 2);\n                    if (mark.equals(&quot;R6&quot;)) {\n                        BigDecimal weights = new BigDecimal((String) dataModel.getValueAt(i, 3).toString());\n                        tWeightRsix = tWeightRsix.add(weights).setScale(2, RoundingMode.HALF_UP);\n                    }\n                }\n                Object data1 = &quot;R6&quot;;\n                Object data2 = tWeightRsix;\n                summeryModel.addRow(new Object[]{data1, data2});\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","floating-point","byte"],"comments":[{"owner":{"account_id":254740,"reputation":2751,"user_id":534347,"accept_rate":80,"display_name":"Steven Magana-Zook"},"score":0,"creation_date":1408047626,"post_id":9346746,"comment_id":39462956,"body_markdown":"Answered nicely here: http://stackoverflow.com/a/19624671/534347","body":"Answered nicely here: <a href=\"http://stackoverflow.com/a/19624671/534347\">stackoverflow.com/a/19624671/534347</a>"}],"answers":[{"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1329626676,"post_id":9346768,"comment_id":11798789,"body_markdown":"But that won&#39;t give you general float values, only those that represent whole numbers between 0 and 255.  A float needs 4 bytes, and the floatValue method of the Byte class only works with one.","body":"But that won&#39;t give you general float values, only those that represent whole numbers between 0 and 255.  A float needs 4 bytes, and the floatValue method of the Byte class only works with one."}],"tags":[],"owner":{"account_id":430437,"reputation":378,"user_id":813874,"accept_rate":93,"display_name":"sriram"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1329626427,"creation_date":1329626427,"answer_id":9346768,"question_id":9346746,"body_markdown":"Byte class has a method floatValue();\r\n\r\nhttp://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Byte.html#floatValue%28%29","title":"Convert float[] to byte[] to float[] again","body":"<p>Byte class has a method floatValue();</p>\n\n<p><a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Byte.html#floatValue%28%29\" rel=\"nofollow\">http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/Byte.html#floatValue%28%29</a></p>\n"},{"comments":[{"owner":{"account_id":335118,"reputation":2659,"user_id":662024,"accept_rate":74,"display_name":"brain56"},"score":0,"creation_date":1329626987,"post_id":9346777,"comment_id":11798843,"body_markdown":"Thanks! I think this is it. I&#39;ll give it a go when I get the time and I&#39;ll let you know what happens.","body":"Thanks! I think this is it. I&#39;ll give it a go when I get the time and I&#39;ll let you know what happens."},{"owner":{"account_id":118410,"reputation":62929,"user_id":309412,"accept_rate":74,"display_name":"Lie Ryan"},"score":1,"creation_date":1329628192,"post_id":9346777,"comment_id":11799006,"body_markdown":"@brain56: just wanted to add that if you&#39;re sending this over a network, you would want to explicitly specify an encoding instead of leaving yourself at the mercy of the platform&#39;s default encoding.","body":"@brain56: just wanted to add that if you&#39;re sending this over a network, you would want to explicitly specify an encoding instead of leaving yourself at the mercy of the platform&#39;s default encoding."},{"owner":{"account_id":254740,"reputation":2751,"user_id":534347,"accept_rate":80,"display_name":"Steven Magana-Zook"},"score":1,"creation_date":1407523918,"post_id":9346777,"comment_id":39263704,"body_markdown":"ByteBuffer also has the asFloatBuffer() method in case you do not want to extract the values individually you can chain the method calls: ByteBuffer.wrap(someByteArray).asFloatBuffer().array() to go from a byte[] to a float[]","body":"ByteBuffer also has the asFloatBuffer() method in case you do not want to extract the values individually you can chain the method calls: ByteBuffer.wrap(someByteArray).asFloatBuffer().array() to go from a byte[] to a float[]"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1407526409,"post_id":9346777,"comment_id":39264889,"body_markdown":"@StevenMagana-Zook You could post that as an answer.","body":"@StevenMagana-Zook You could post that as an answer."}],"tags":[],"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1329626587,"creation_date":1329626587,"answer_id":9346777,"question_id":9346746,"body_markdown":"I think you want to make use of the `ByteBuffer` class, which has `putFloat` and `getFloat` methods.","title":"Convert float[] to byte[] to float[] again","body":"<p>I think you want to make use of the <code>ByteBuffer</code> class, which has <code>putFloat</code> and <code>getFloat</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1329626907,"creation_date":1329626907,"answer_id":9346802,"question_id":9346746,"body_markdown":"Use `Float.floatToIntBits()` to extract the bit-value of the float as an integer, then use `BigInteger.toByteArray()` to make a `byte[]`.  This can be reversed using the `BigInteger` constructor that takes a `byte[]` argument, and then `Float.intBitsToFloat()`.","title":"Convert float[] to byte[] to float[] again","body":"<p>Use <code>Float.floatToIntBits()</code> to extract the bit-value of the float as an integer, then use <code>BigInteger.toByteArray()</code> to make a <code>byte[]</code>.  This can be reversed using the <code>BigInteger</code> constructor that takes a <code>byte[]</code> argument, and then <code>Float.intBitsToFloat()</code>.</p>\n"},{"comments":[{"owner":{"account_id":332247,"reputation":2087,"user_id":657429,"accept_rate":72,"display_name":"pzo"},"score":0,"creation_date":1353109553,"post_id":9346994,"comment_id":18350287,"body_markdown":"there is not such a method as writeFloat - your code simply doesn&#39;t compile","body":"there is not such a method as writeFloat - your code simply doesn&#39;t compile"},{"owner":{"account_id":356246,"reputation":1616,"user_id":695639,"accept_rate":73,"display_name":"ricosrealm"},"score":1,"creation_date":1353184251,"post_id":9346994,"comment_id":18364689,"body_markdown":"thanks for pointing it out, I&#39;ve updated the code with the correct adapter class in place.","body":"thanks for pointing it out, I&#39;ve updated the code with the correct adapter class in place."}],"tags":[],"owner":{"account_id":356246,"reputation":1616,"user_id":695639,"accept_rate":73,"display_name":"ricosrealm"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1353184180,"creation_date":1329629215,"answer_id":9346994,"question_id":9346746,"body_markdown":"Another way... use ByteArrayOutputStream/DataOutputStream for output\r\n\r\n    float fArr[] = ...;\r\n    ByteArrayOutputStream bas = new ByteArrayOutputStream();\r\n    DataOutputStream ds = new DataOutputStream(bas);\r\n    for (float f : fArr) \r\n        ds.writeFloat(f);\r\n    byte[] bytes = bas.toByteArray();\r\n\r\nUse ByteArrayInputStream/DataInputStream for input\r\n\r\n    byte[] buffer = ...;\r\n    ByteArrayInputStream bas = new ByteArrayInputStream(buffer);\r\n    DataInputStream ds = new DataInputStream(bas);\r\n    float[] fArr = new float[buffer.length / 4];  // 4 bytes per float\r\n    for (int i = 0; i &lt; fArr.length; i++)\r\n    {\r\n        fArr[i] = ds.readFloat();\r\n    }\r\n    ","title":"Convert float[] to byte[] to float[] again","body":"<p>Another way... use ByteArrayOutputStream/DataOutputStream for output</p>\n\n<pre><code>float fArr[] = ...;\nByteArrayOutputStream bas = new ByteArrayOutputStream();\nDataOutputStream ds = new DataOutputStream(bas);\nfor (float f : fArr) \n    ds.writeFloat(f);\nbyte[] bytes = bas.toByteArray();\n</code></pre>\n\n<p>Use ByteArrayInputStream/DataInputStream for input</p>\n\n<pre><code>byte[] buffer = ...;\nByteArrayInputStream bas = new ByteArrayInputStream(buffer);\nDataInputStream ds = new DataInputStream(bas);\nfloat[] fArr = new float[buffer.length / 4];  // 4 bytes per float\nfor (int i = 0; i &lt; fArr.length; i++)\n{\n    fArr[i] = ds.readFloat();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1049017,"reputation":623,"user_id":1053362,"accept_rate":100,"display_name":"Antoine Dahan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455898009,"creation_date":1455898009,"answer_id":35509654,"question_id":9346746,"body_markdown":"**Sender**:\r\n\r\n    ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\r\n    // byteBuffer reused for every element in floatArray\r\n    ByteBuffer byteBuffer = ByteBuffer.allocate(4);\r\n    // go through the elements in the float array writing its\r\n    // byte equivalent  to the stream\r\n    for(float element : floatArray) {\r\n      byteBuffer.clear();\r\n      byteBuffer.putFloat(element)\r\n      byteStream.write(byteBuffer.array());\r\n    }\r\n\r\n    // Logic for sending bytestream&#39;s bytes as datagram packet\r\n    // can get byte[] from steam by: byteStream.toByteArray();\r\n\r\n\r\n\r\n\r\n**Receiver**:\r\n\r\n    ArrayList&lt;Float&gt; receivedValues = new ArrayList&lt;Float&gt;();\r\n    ByteBuffer byteBuffer = ByteBuffer.wrap(receivedBytes);\r\n    \r\n    // while there is still 4 bytes left on the byte buffer\r\n    // grab the next float and add it to the received list\r\n    int position = 0;\r\n    while(byteBuffer.capactiy - position &gt;= 4) {\r\n      receivedValues.add(byteBuffer.getFloat(position));\r\n      position += 4;\r\n    }\r\n\r\n    float[] result = new float[receivedValues.count];\r\n    return receivedValues.toArray(new float[receivedValues.size()]);","title":"Convert float[] to byte[] to float[] again","body":"<p><strong>Sender</strong>:</p>\n\n<pre><code>ByteArrayOutputStream byteStream = new ByteArrayOutputStream();\n// byteBuffer reused for every element in floatArray\nByteBuffer byteBuffer = ByteBuffer.allocate(4);\n// go through the elements in the float array writing its\n// byte equivalent  to the stream\nfor(float element : floatArray) {\n  byteBuffer.clear();\n  byteBuffer.putFloat(element)\n  byteStream.write(byteBuffer.array());\n}\n\n// Logic for sending bytestream's bytes as datagram packet\n// can get byte[] from steam by: byteStream.toByteArray();\n</code></pre>\n\n<p><strong>Receiver</strong>:</p>\n\n<pre><code>ArrayList&lt;Float&gt; receivedValues = new ArrayList&lt;Float&gt;();\nByteBuffer byteBuffer = ByteBuffer.wrap(receivedBytes);\n\n// while there is still 4 bytes left on the byte buffer\n// grab the next float and add it to the received list\nint position = 0;\nwhile(byteBuffer.capactiy - position &gt;= 4) {\n  receivedValues.add(byteBuffer.getFloat(position));\n  position += 4;\n}\n\nfloat[] result = new float[receivedValues.count];\nreturn receivedValues.toArray(new float[receivedValues.size()]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":315980,"reputation":10348,"user_id":631911,"display_name":"Tatarize"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1495423855,"creation_date":1495423855,"answer_id":44104232,"question_id":9346746,"body_markdown":"You need to use the getFloat() and putFloat() commands in the FloatBuffer of the ByteBuffer. In fact, you should certainly do this simply because of the sheer speed. And it&#39;s a great thing to understand for byte manipulations. You can also mix and match the data, and put and get it as needed. All of it is backed by the byte buffer. So the common happening of sending an array, you need to send the size of the array too.\r\n\r\n\r\n    public static void writeFloatArray(float[] array, OutputStream stream) throws IOException {\r\n        ByteBuffer buffer = ByteBuffer.allocate(4 * (array.length + 1)).putInt(array.length);\r\n        buffer.asFloatBuffer().put(array,0,array.length);\r\n        stream.write(buffer.array());\r\n    }\r\n\r\nYou just make sure to allocate enough bytes to store everything in the buffer. Write some stuff, write some other stuff etc. Understanding this point makes things way easier. On the flipside we do basically the same thing, though we require an additional read because we don&#39;t know how big the array is, just that there is one:\r\n\r\n\r\n    public static float[] readFloatArray(InputStream in) throws IOException {\r\n        byte[] data = new byte[4];\r\n        if (readFully(in, data) != data.length) return null;\r\n        int length = ByteBuffer.wrap(data).getInt();\r\n        data = new byte[length * 4];\r\n        if (readFully(in,data) != data.length) return null;\r\n        float[] array = new float[length];\r\n        ByteBuffer.wrap(data).asFloatBuffer().get(array,0,array.length);\r\n        return array;\r\n    }\r\n\r\nAnd for full functionality, though not exactly part of this:\r\n\r\n    public static int readFully(InputStream in, byte[] data) throws IOException {\r\n        int offset = 0;\r\n        int bytesRead;\r\n        boolean read = false;\r\n        while ((bytesRead = in.read(data, offset, data.length - offset)) != -1) {\r\n            read = true;\r\n            offset += bytesRead;\r\n            if (offset &gt;= data.length) {\r\n                break;\r\n            }\r\n        }\r\n        return (read) ? offset : -1;\r\n    }","title":"Convert float[] to byte[] to float[] again","body":"<p>You need to use the getFloat() and putFloat() commands in the FloatBuffer of the ByteBuffer. In fact, you should certainly do this simply because of the sheer speed. And it's a great thing to understand for byte manipulations. You can also mix and match the data, and put and get it as needed. All of it is backed by the byte buffer. So the common happening of sending an array, you need to send the size of the array too.</p>\n\n<pre><code>public static void writeFloatArray(float[] array, OutputStream stream) throws IOException {\n    ByteBuffer buffer = ByteBuffer.allocate(4 * (array.length + 1)).putInt(array.length);\n    buffer.asFloatBuffer().put(array,0,array.length);\n    stream.write(buffer.array());\n}\n</code></pre>\n\n<p>You just make sure to allocate enough bytes to store everything in the buffer. Write some stuff, write some other stuff etc. Understanding this point makes things way easier. On the flipside we do basically the same thing, though we require an additional read because we don't know how big the array is, just that there is one:</p>\n\n<pre><code>public static float[] readFloatArray(InputStream in) throws IOException {\n    byte[] data = new byte[4];\n    if (readFully(in, data) != data.length) return null;\n    int length = ByteBuffer.wrap(data).getInt();\n    data = new byte[length * 4];\n    if (readFully(in,data) != data.length) return null;\n    float[] array = new float[length];\n    ByteBuffer.wrap(data).asFloatBuffer().get(array,0,array.length);\n    return array;\n}\n</code></pre>\n\n<p>And for full functionality, though not exactly part of this:</p>\n\n<pre><code>public static int readFully(InputStream in, byte[] data) throws IOException {\n    int offset = 0;\n    int bytesRead;\n    boolean read = false;\n    while ((bytesRead = in.read(data, offset, data.length - offset)) != -1) {\n        read = true;\n        offset += bytesRead;\n        if (offset &gt;= data.length) {\n            break;\n        }\n    }\n    return (read) ? offset : -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":125910,"reputation":1106,"user_id":322017,"accept_rate":67,"display_name":"Nicolas"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538045621,"creation_date":1538045621,"answer_id":52535353,"question_id":9346746,"body_markdown":"This is more for my future reference than anything else. \r\n\r\n    public static byte[] floatToByte(float[] input) {\r\n        byte[] ret = new byte[input.length*4];\r\n        for (int x = 0; x &lt; input.length; x++) {\r\n            ByteBuffer.wrap(ret, x*4, 4).putFloat(input[x]);\r\n        }\r\n        return ret;\r\n    }\r\n    \r\n    public static float[] byteToFloat(byte[] input) {\r\n        float[] ret = new float[input.length/4];\r\n        for (int x = 0; x &lt; input.length; x+=4) {\r\n            ret[x/4] = ByteBuffer.wrap(input, x, 4).getFloat();\r\n        }\r\n        return ret;\r\n    }\r\n\r\nCan be reduced to a single line like https://stackoverflow.com/a/44104399/322017.","title":"Convert float[] to byte[] to float[] again","body":"<p>This is more for my future reference than anything else. </p>\n\n<pre><code>public static byte[] floatToByte(float[] input) {\n    byte[] ret = new byte[input.length*4];\n    for (int x = 0; x &lt; input.length; x++) {\n        ByteBuffer.wrap(ret, x*4, 4).putFloat(input[x]);\n    }\n    return ret;\n}\n\npublic static float[] byteToFloat(byte[] input) {\n    float[] ret = new float[input.length/4];\n    for (int x = 0; x &lt; input.length; x+=4) {\n        ret[x/4] = ByteBuffer.wrap(input, x, 4).getFloat();\n    }\n    return ret;\n}\n</code></pre>\n\n<p>Can be reduced to a single line like <a href=\"https://stackoverflow.com/a/44104399/322017\">https://stackoverflow.com/a/44104399/322017</a>.</p>\n"},{"tags":[],"owner":{"account_id":3558883,"reputation":1652,"user_id":2971851,"accept_rate":100,"display_name":"Steven Chou"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676521003,"creation_date":1598531695,"answer_id":63616130,"question_id":9346746,"body_markdown":"ByteBuffer document: https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\r\n\r\n    final static int nbBytesInFloat = Float.SIZE / Byte.SIZE;\r\n\r\n    public static byte[] toByteArray(float[] floatArray){\r\n        byte[] result = new byte[floatArray.length * nbBytesInFloat];\r\n        ByteBuffer wrappedBytes = ByteBuffer.wrap(result);\r\n        for(int i=0;i&lt;floatArray.length;i++) {\r\n            wrappedBytes.putFloat(floatArray[i]);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    \r\n    public static float[] toFloatArray(byte[] byteArray){\r\n        ByteBuffer buffer = ByteBuffer.wrap(byteArray);\r\n    \r\n        float[] result = new float[byteArray.length / nbBytesInFloat];\r\n        for(int i=0;i&lt;result.length;i++) {\r\n            result[i] = buffer.getFloat();\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\nIf your application is more performance sensitive, then you can consider this solution without creating many objects:\r\n\r\n\r\n    public byte[] floatArrayToByteArray(float[] floatArray) {\r\n    \tbyte[] byteArray = new byte[floatArray.length * 4];\r\n    \tint byteArrayIndex = 0;\r\n    \tfor (int i = 0; i &lt; floatArray.length; i++) {\r\n    \t\tint rawInt = Float.floatToRawIntBits(floatArray[i]);\r\n    \t\tbyteArray[byteArrayIndex] = (byte) (rawInt &gt;&gt;&gt; 24);\r\n    \t\tbyteArray[byteArrayIndex + 1] = (byte) (rawInt &gt;&gt;&gt; 16);\r\n    \t\tbyteArray[byteArrayIndex + 2] = (byte) (rawInt &gt;&gt;&gt; 8);\r\n    \t\tbyteArray[byteArrayIndex + 3] = (byte) (rawInt);\r\n    \t\tbyteArrayIndex += 4;\r\n    \t}\r\n    \treturn byteArray;\r\n    }","title":"Convert float[] to byte[] to float[] again","body":"<p>ByteBuffer document: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html</a></p>\n<pre><code>final static int nbBytesInFloat = Float.SIZE / Byte.SIZE;\n\npublic static byte[] toByteArray(float[] floatArray){\n    byte[] result = new byte[floatArray.length * nbBytesInFloat];\n    ByteBuffer wrappedBytes = ByteBuffer.wrap(result);\n    for(int i=0;i&lt;floatArray.length;i++) {\n        wrappedBytes.putFloat(floatArray[i]);\n    }\n    return result;\n}\n\n\npublic static float[] toFloatArray(byte[] byteArray){\n    ByteBuffer buffer = ByteBuffer.wrap(byteArray);\n\n    float[] result = new float[byteArray.length / nbBytesInFloat];\n    for(int i=0;i&lt;result.length;i++) {\n        result[i] = buffer.getFloat();\n    }\n    return result;\n}\n</code></pre>\n<p>If your application is more performance sensitive, then you can consider this solution without creating many objects:</p>\n<pre><code>public byte[] floatArrayToByteArray(float[] floatArray) {\n    byte[] byteArray = new byte[floatArray.length * 4];\n    int byteArrayIndex = 0;\n    for (int i = 0; i &lt; floatArray.length; i++) {\n        int rawInt = Float.floatToRawIntBits(floatArray[i]);\n        byteArray[byteArrayIndex] = (byte) (rawInt &gt;&gt;&gt; 24);\n        byteArray[byteArrayIndex + 1] = (byte) (rawInt &gt;&gt;&gt; 16);\n        byteArray[byteArrayIndex + 2] = (byte) (rawInt &gt;&gt;&gt; 8);\n        byteArray[byteArrayIndex + 3] = (byte) (rawInt);\n        byteArrayIndex += 4;\n    }\n    return byteArray;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12205927,"reputation":563,"user_id":9691976,"display_name":"Mohammad Kholghi"},"score":0,"creation_date":1632737280,"post_id":69168205,"comment_id":122565019,"body_markdown":"Can use `Float.BYTES` instead of `Float.SIZE / Byte.SIZE`","body":"Can use <code>Float.BYTES</code> instead of <code>Float.SIZE &#47; Byte.SIZE</code>"},{"owner":{"account_id":22683528,"reputation":23,"user_id":16853560,"display_name":"MA90"},"score":1,"creation_date":1632836006,"post_id":69168205,"comment_id":122597196,"body_markdown":"`Float.BYTES` is only available from java 8+. For older version `Float.SIZE / Byte.SIZE` is the way to go","body":"<code>Float.BYTES</code> is only available from java 8+. For older version <code>Float.SIZE &#47; Byte.SIZE</code> is the way to go"}],"tags":[],"owner":{"account_id":22683528,"reputation":23,"user_id":16853560,"display_name":"MA90"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659611552,"creation_date":1631561857,"answer_id":69168205,"question_id":9346746,"body_markdown":"An improvement to [Steven Chou][1]&#39;s answer\r\n\r\n    final static int BYTES_IN_FLOAT = Float.SIZE / Byte.SIZE;\r\n    \r\n    public static byte[] toByteArray(float[] floatArray) {\r\n        ByteBuffer buffer = ByteBuffer.allocate(floatArray.length * BYTES_IN_FLOAT)\r\n        buffer.asFloatBuffer().put(floatArray);\r\n        return buffer.array();\r\n    }\r\n    \r\n    \r\n    public static float[] toFloatArray(byte[] byteArray) {\r\n        float[] result = new float[byteArray.length / BYTES_IN_FLOAT];\r\n        ByteBuffer.wrap(byteArray).asFloatBuffer().get(result, 0, result.length);\r\n        return result;\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2971851/steven-chou","title":"Convert float[] to byte[] to float[] again","body":"<p>An improvement to <a href=\"https://stackoverflow.com/users/2971851/steven-chou\">Steven Chou</a>'s answer</p>\n<pre><code>final static int BYTES_IN_FLOAT = Float.SIZE / Byte.SIZE;\n\npublic static byte[] toByteArray(float[] floatArray) {\n    ByteBuffer buffer = ByteBuffer.allocate(floatArray.length * BYTES_IN_FLOAT)\n    buffer.asFloatBuffer().put(floatArray);\n    return buffer.array();\n}\n\n\npublic static float[] toFloatArray(byte[] byteArray) {\n    float[] result = new float[byteArray.length / BYTES_IN_FLOAT];\n    ByteBuffer.wrap(byteArray).asFloatBuffer().get(result, 0, result.length);\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":335118,"reputation":2659,"user_id":662024,"accept_rate":74,"display_name":"brain56"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24016,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":9346777,"answer_count":9,"score":11,"last_activity_date":1676521003,"creation_date":1329626188,"question_id":9346746,"body_markdown":"So what I&#39;m trying to do here is get a `float[]`, convert it to `byte[]`, send it through the network as a datagram packet and then convert it back to a `byte[]` at the receiving terminal.\r\n\r\nNow I know I can convert `float[]` to `byte[]` by using the `getBytes[]` method. But I don&#39;t know how to reverse the conversion.","title":"Convert float[] to byte[] to float[] again","body":"<p>So what I'm trying to do here is get a <code>float[]</code>, convert it to <code>byte[]</code>, send it through the network as a datagram packet and then convert it back to a <code>byte[]</code> at the receiving terminal.</p>\n\n<p>Now I know I can convert <code>float[]</code> to <code>byte[]</code> by using the <code>getBytes[]</code> method. But I don't know how to reverse the conversion.</p>\n"},{"tags":["java","open-telemetry"],"answers":[{"tags":[],"owner":{"account_id":14812666,"reputation":733,"user_id":10697769,"display_name":"James Moessis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676520395,"creation_date":1676520395,"answer_id":75467750,"question_id":75462381,"body_markdown":"Starting and ending a span does not make the rest of your application aware of the current `Context` - i.e. what span is currently &quot;active&quot;.\r\n\r\nIf you didn&#39;t open the `Scope`, any code in your `//logic` section would not be able to know the `Context`, and so it can&#39;t know what the parent span is. You would end up with a bunch of individual spans that aren&#39;t linked together by a common trace.\r\n\r\nWhen you open a `Scope`, OpenTelemetry sets a `ThreadLocal`, and so any new span started within that scope (the `try` block) will be able to know what its parent span is.\r\n\r\nThere are cases where you may have a `Context` but not an entire `Span`, so those concepts are separated for that reason (and I assume a handful of others reasons).","title":"OpenTelemetry Scope vs. spanBuilder.startSpan() and span.end()","body":"<p>Starting and ending a span does not make the rest of your application aware of the current <code>Context</code> - i.e. what span is currently &quot;active&quot;.</p>\n<p>If you didn't open the <code>Scope</code>, any code in your <code>//logic</code> section would not be able to know the <code>Context</code>, and so it can't know what the parent span is. You would end up with a bunch of individual spans that aren't linked together by a common trace.</p>\n<p>When you open a <code>Scope</code>, OpenTelemetry sets a <code>ThreadLocal</code>, and so any new span started within that scope (the <code>try</code> block) will be able to know what its parent span is.</p>\n<p>There are cases where you may have a <code>Context</code> but not an entire <code>Span</code>, so those concepts are separated for that reason (and I assume a handful of others reasons).</p>\n"}],"owner":{"account_id":7689263,"reputation":789,"user_id":5826061,"accept_rate":57,"display_name":"Johann Heinzelreiter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":880,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1676520395,"creation_date":1676476854,"question_id":75462381,"body_markdown":"When using the OTel Java API, manually instrumented code typically looks like the following:\r\n\r\n```java\r\n@Inject\r\nTracer tracer;\r\n\r\npublic String instrumentedMethod() {\r\n  // ...\r\n  Span span = tracer.spanBuilder(&quot;interesting operation&quot;).startSpan();\r\n  span.setAttribute(&quot;custom.info&quot;, &quot;some info&quot;);\r\n  try (Scope scope = span.makeCurrent()) {\r\n    // logic\r\n  }\r\n  finally {\r\n    span.end();\r\n  }\r\n  // ...\r\n}\r\n```\r\n\r\nFrom my point of view, the lifespan of the `span` is defined twice:\r\n\r\n - `tracer.spanBuilder(&quot;...&quot;).startSpan()` and `span.end()` demarcate the beginning and the end of the span,\r\n - but also the `span.makeCurrent()` and `scope.end()` does this in some way\r\n\r\nWhat&#39;s the purpose of `startSpan()`/`span.end()` in contrast to `span.makeCurrent()`/`scope.end()`. Can `scope` be omitted? Is `span.end()` superfluous when `scope` is used?\r\n\r\n \r\n","title":"OpenTelemetry Scope vs. spanBuilder.startSpan() and span.end()","body":"<p>When using the OTel Java API, manually instrumented code typically looks like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Inject\nTracer tracer;\n\npublic String instrumentedMethod() {\n  // ...\n  Span span = tracer.spanBuilder(&quot;interesting operation&quot;).startSpan();\n  span.setAttribute(&quot;custom.info&quot;, &quot;some info&quot;);\n  try (Scope scope = span.makeCurrent()) {\n    // logic\n  }\n  finally {\n    span.end();\n  }\n  // ...\n}\n</code></pre>\n<p>From my point of view, the lifespan of the <code>span</code> is defined twice:</p>\n<ul>\n<li><code>tracer.spanBuilder(&quot;...&quot;).startSpan()</code> and <code>span.end()</code> demarcate the beginning and the end of the span,</li>\n<li>but also the <code>span.makeCurrent()</code> and <code>scope.end()</code> does this in some way</li>\n</ul>\n<p>What's the purpose of <code>startSpan()</code>/<code>span.end()</code> in contrast to <code>span.makeCurrent()</code>/<code>scope.end()</code>. Can <code>scope</code> be omitted? Is <code>span.end()</code> superfluous when <code>scope</code> is used?</p>\n"},{"tags":["java","flutter","android-studio"],"answers":[{"tags":[],"owner":{"account_id":3619499,"reputation":5613,"user_id":3018627,"display_name":"Subarata Talukder"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676520358,"creation_date":1676520358,"answer_id":75467746,"question_id":75343735,"body_markdown":"Try like below:\r\n\r\n - Go to **wrapper** directory  **android &gt;&gt; gradle** folder.\r\n - Delete ***gradle-wrapper.jar*** file\r\n - Edit ***gradle-wrapper.properties*** file\r\n - Sync project\r\n\r\n        distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip or latest\r\n\r\n","title":"Could not open settings generic class cache for settings","body":"<p>Try like below:</p>\n<ul>\n<li><p>Go to <strong>wrapper</strong> directory  <strong>android &gt;&gt; gradle</strong> folder.</p>\n</li>\n<li><p>Delete <em><strong>gradle-wrapper.jar</strong></em> file</p>\n</li>\n<li><p>Edit <em><strong>gradle-wrapper.properties</strong></em> file</p>\n</li>\n<li><p>Sync project</p>\n<pre><code> distributionUrl=https\\://services.gradle.org/distributions/gradle-7.3.3-all.zip or latest\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":26624525,"reputation":13,"user_id":20242767,"display_name":"sPEER PANSER"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676520358,"creation_date":1675497537,"question_id":75343735,"body_markdown":"hi i&#39;m getting this error in android studion windows 10 any solution?\r\n\r\n\r\n```\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;C:\\Users\\acer\\StudioProjects\\untitled2\\android\\settings.gradle&#39; (C:\\Users\\acer\\.gradle\\caches\\7.5\\scripts\\3d075fs9hjp81ny0sgym4v09w).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 63\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 919ms\r\nException: Gradle task assembleDebug failed with exit code 1\r\n\r\n```","title":"Could not open settings generic class cache for settings","body":"<p>hi i'm getting this error in android studion windows 10 any solution?</p>\n<pre><code>\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not open settings generic class cache for settings file 'C:\\Users\\acer\\StudioProjects\\untitled2\\android\\settings.gradle' (C:\\Users\\acer\\.gradle\\caches\\7.5\\scripts\\3d075fs9hjp81ny0sgym4v09w).\n&gt; BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 63\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 919ms\nException: Gradle task assembleDebug failed with exit code 1\n\n</code></pre>\n"},{"tags":["java","amazon-s3","file-upload"],"answers":[{"comments":[{"owner":{"account_id":159637,"reputation":2203,"user_id":379173,"display_name":"Enrico Giurin"},"score":0,"creation_date":1541761325,"post_id":15094700,"comment_id":93335770,"body_markdown":"The suggested way to get TransferManger is by using  TransferManagerBuilder.defaultTransferManager()","body":"The suggested way to get TransferManger is by using  TransferManagerBuilder.defaultTransferManager()"}],"tags":[],"owner":{"account_id":324511,"reputation":4310,"user_id":645112,"display_name":"Wade Matveyenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1361897351,"creation_date":1361897351,"answer_id":15094700,"question_id":15090437,"body_markdown":"Have you looked at the `TransferManager` in the AWS SDK for Java?  You could use the `uploadDirectory` method for this.  The javadoc is [here][1].  In essence, you could do something like this:\r\n\r\n    transferManager.uploadDirectory(bucketName, &quot;plans/eota7tas0cdlg2ufq5mlke7olf/&quot;, new File(&quot;/home/rmuhamedgaliev/tmp/eota7tas0cdlg2ufq5mlke7olf/&quot;), true);\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html#uploadDirectory%28java.lang.String,%20java.lang.String,%20java.io.File,%20boolean%29","title":"How to upload folder with subfolder to amazon s3?","body":"<p>Have you looked at the <code>TransferManager</code> in the AWS SDK for Java?  You could use the <code>uploadDirectory</code> method for this.  The javadoc is <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html#uploadDirectory%28java.lang.String,%20java.lang.String,%20java.io.File,%20boolean%29\">here</a>.  In essence, you could do something like this:</p>\n\n<pre><code>transferManager.uploadDirectory(bucketName, \"plans/eota7tas0cdlg2ufq5mlke7olf/\", new File(\"/home/rmuhamedgaliev/tmp/eota7tas0cdlg2ufq5mlke7olf/\"), true);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3845739,"reputation":6759,"user_id":3187349,"accept_rate":56,"display_name":"Maheshwar Ligade"},"score":0,"creation_date":1459424945,"post_id":15131610,"comment_id":60287101,"body_markdown":"I want to upload all files which are present in single folder such as suppose I have folder name &quot;TestMech&quot; which contains number of photos that all photo i need to upload with the help of progress indicator is it possible &amp; how","body":"I want to upload all files which are present in single folder such as suppose I have folder name &quot;TestMech&quot; which contains number of photos that all photo i need to upload with the help of progress indicator is it possible &amp; how"}],"tags":[],"owner":{"account_id":1018159,"reputation":5501,"user_id":1029235,"accept_rate":79,"display_name":"Rinat Mukhamedgaliev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1362042871,"creation_date":1362042871,"answer_id":15131610,"question_id":15090437,"body_markdown":"I writen my own way.\r\n\r\n            List&lt;File&gt; files = new LinkedList&lt;File&gt;();\r\n            listFiles(new File(&quot;/home/rmuhamedgaliev/tmp/eota7tas0cdlg2ufq5mlke7olf&quot;), files, true);\r\n            for (File f : files) {\r\n                String key = f.getAbsolutePath().substring(new File(&quot;/home/rmuhamedgaliev/tmp/eota7tas0cdlg2ufq5mlke7olf&quot;).getAbsolutePath().length() + 1)\r\n                    .replaceAll(&quot;\\\\\\\\&quot;, &quot;/&quot;);\r\n                amazonS3Client.putObject(&quot;****&quot;, &quot;plans/eota7tas0cdlg2ufq5mlke7olf/&quot; + key, f);\r\n            }","title":"How to upload folder with subfolder to amazon s3?","body":"<p>I writen my own way.</p>\n\n<pre><code>        List&lt;File&gt; files = new LinkedList&lt;File&gt;();\n        listFiles(new File(\"/home/rmuhamedgaliev/tmp/eota7tas0cdlg2ufq5mlke7olf\"), files, true);\n        for (File f : files) {\n            String key = f.getAbsolutePath().substring(new File(\"/home/rmuhamedgaliev/tmp/eota7tas0cdlg2ufq5mlke7olf\").getAbsolutePath().length() + 1)\n                .replaceAll(\"\\\\\\\\\", \"/\");\n            amazonS3Client.putObject(\"****\", \"plans/eota7tas0cdlg2ufq5mlke7olf/\" + key, f);\n        }\n</code></pre>\n"}],"owner":{"account_id":1018159,"reputation":5501,"user_id":1029235,"accept_rate":79,"display_name":"Rinat Mukhamedgaliev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8217,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":15094700,"answer_count":2,"score":7,"last_activity_date":1676519360,"creation_date":1361885654,"question_id":15090437,"body_markdown":"I need upload folder with subfolders on amazon s3. I try upload with this snipet.\r\n\r\n        for (Path path : directoryWalk(&quot;/home/rmuhamedgaliev/tmp/eota7tas0cdlg2ufq5mlke7olf/&quot;)){\r\n           if (!path.getParent().toString().equals(&quot;eota7tas0cdlg2ufq5mlke7olf&quot;)){\r\n            amazonS3Client.putObject(&quot;*****&quot;, &quot;/plans/eota7tas0cdlg2ufq5mlke7olf/&quot; + path.getParent().toString() + &quot;/&quot; + path.getFileName(), new File(path.toString()));\r\n           } else {\r\n            amazonS3Client.putObject(&quot;*******&quot;, &quot;/plans/eota7tas0cdlg2ufq5mlke7olf/&quot; + path.getFileName(), new File(path.toString()));\r\n           }\r\n        }\r\n\r\nBut this code create full path files with **(&quot;/home/rmuhamedgaliev/tmp/eota7tas0cdlg2ufq5mlke7olf&quot;)**. How to upload it with path **(&quot;/plans/eota7tas0cdlg2ufq5mlke7olf/{subfolders and files}&quot;)**\r\n\r\n        private List&lt;Path&gt; directoryWalk(String path) throws IOException {\r\n            final List&lt;Path&gt; files = new ArrayList&lt;&gt;();\r\n            Files.walkFileTree(Paths.get(path), new SimpleFileVisitor&lt;Path&gt;() {\r\n\r\n                @Override\r\n                public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\r\n                    files.add(file);\r\n                    return FileVisitResult.CONTINUE;\r\n                }\r\n            });\r\n            return files;\r\n        }","title":"How to upload folder with subfolder to amazon s3?","body":"<p>I need upload folder with subfolders on amazon s3. I try upload with this snipet.</p>\n<pre><code>    for (Path path : directoryWalk(&quot;/home/rmuhamedgaliev/tmp/eota7tas0cdlg2ufq5mlke7olf/&quot;)){\n       if (!path.getParent().toString().equals(&quot;eota7tas0cdlg2ufq5mlke7olf&quot;)){\n        amazonS3Client.putObject(&quot;*****&quot;, &quot;/plans/eota7tas0cdlg2ufq5mlke7olf/&quot; + path.getParent().toString() + &quot;/&quot; + path.getFileName(), new File(path.toString()));\n       } else {\n        amazonS3Client.putObject(&quot;*******&quot;, &quot;/plans/eota7tas0cdlg2ufq5mlke7olf/&quot; + path.getFileName(), new File(path.toString()));\n       }\n    }\n</code></pre>\n<p>But this code create full path files with <strong>(&quot;/home/rmuhamedgaliev/tmp/eota7tas0cdlg2ufq5mlke7olf&quot;)</strong>. How to upload it with path <strong>(&quot;/plans/eota7tas0cdlg2ufq5mlke7olf/{subfolders and files}&quot;)</strong></p>\n<pre><code>    private List&lt;Path&gt; directoryWalk(String path) throws IOException {\n        final List&lt;Path&gt; files = new ArrayList&lt;&gt;();\n        Files.walkFileTree(Paths.get(path), new SimpleFileVisitor&lt;Path&gt;() {\n\n            @Override\n            public FileVisitResult visitFile(Path file, BasicFileAttributes attrs) throws IOException {\n                files.add(file);\n                return FileVisitResult.CONTINUE;\n            }\n        });\n        return files;\n    }\n</code></pre>\n"},{"tags":["java","opencsv"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676327196,"post_id":75441052,"comment_id":133111758,"body_markdown":"I find `CSVReader.readNext()` doesn&#39;t complain with uneven number of columns","body":"I find <code>CSVReader.readNext()</code> doesn&#39;t complain with uneven number of columns"},{"owner":{"account_id":19887150,"reputation":3,"user_id":14569935,"display_name":"sven"},"score":0,"creation_date":1676378417,"post_id":75441052,"comment_id":133121349,"body_markdown":"The problem is not the uneven number of columns, but the different count of columns. Some lines are lacking one column. I need 14 columns, but some lines only have 13.","body":"The problem is not the uneven number of columns, but the different count of columns. Some lines are lacking one column. I need 14 columns, but some lines only have 13."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676378574,"post_id":75441052,"comment_id":133121403,"body_markdown":"&quot;Uneven&quot; == differing number","body":"&quot;Uneven&quot; == differing number"}],"answers":[{"comments":[{"owner":{"account_id":19887150,"reputation":3,"user_id":14569935,"display_name":"sven"},"score":0,"creation_date":1676576256,"post_id":75467657,"comment_id":133170068,"body_markdown":"Thank you very much, Tim, for looking into my problem and your detailed answer! The weird thing with the exception is that although its name is `com.opencsv.exceptions.CsvRequiredFieldEmptyException` it is not about required fields but about the completeness of a line and if all header lines do have a value. I retested this several times before writing here.\n\nI will have a look on your kind suggestions and test them!","body":"Thank you very much, Tim, for looking into my problem and your detailed answer! The weird thing with the exception is that although its name is <code>com.opencsv.exceptions.CsvRequiredFieldEmptyException</code> it is not about required fields but about the completeness of a line and if all header lines do have a value. I retested this several times before writing here.  I will have a look on your kind suggestions and test them!"},{"owner":{"account_id":19887150,"reputation":3,"user_id":14569935,"display_name":"sven"},"score":0,"creation_date":1676798193,"post_id":75467657,"comment_id":133206729,"body_markdown":"After reading in all four ways of implementation I decided to implement my own FilterReader as it fit best my needs. I can now perfectly rebuild the whole input file on the go. This is just great! Thank you!","body":"After reading in all four ways of implementation I decided to implement my own FilterReader as it fit best my needs. I can now perfectly rebuild the whole input file on the go. This is just great! Thank you!"}],"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676519120,"creation_date":1676519120,"answer_id":75467657,"question_id":75441052,"body_markdown":"There are a couple of problems here:\r\n\r\nFirst, by the time `buffReader` is used in `new CSVReaderBuilder(buffReader)`, it has already been fully consumed by `buffReader.lines().forEach`. A `BufferedReader` can only be read once, in general. A solution could ordinarily be to create a new `InputStreamReader` and `BufferedReader` on the same file, except in this case, you&#39;ll run into the second problem.\r\n\r\nThe line `t = t.concat(&quot;;&quot;);` does not work the way you expect. All this does is reassign the local variable `t`, which isn&#39;t used again. It does not change the contents of the file or the contents of the reader.\r\n\r\nHow to fix this is less straightforward. As far as I know, this exception will only be thrown when binding the CSV data to a bean, and only if fields are marked as `required = true`. Given that the source data does not always contain data for the last field, it seems like it should not be marked as required.\r\n\r\nIf manipulating the source data really is your only option, I can think of a few possible approaches:\r\n\r\n1. Write the modified data back to a temporary file and then read that file with the CSV parser.\r\n2. If the CSV file is small enough to fit into memory, you could write the modified data to a [`StringWriter`](https://docs.oracle.com/javase/8/docs/api/java/io/StringWriter.html), and then construct a [`StringReader`](https://docs.oracle.com/javase/8/docs/api/java/io/StringReader.html) with the result, and parse that.\r\n3. Do the file content rewriting and CSV parsing in separate threads, using [`PipedOutputStream`](https://docs.oracle.com/javase/8/docs/api/java/io/PipedOutputStream.html) and [`PipedInputStream`](https://docs.oracle.com/javase/8/docs/api/java/io/PipedInputStream.html) to connect them.\r\n4. Write a custom implementation of [`FilterReader`](https://docs.oracle.com/javase/8/docs/api/java/io/FilterReader.html) that transforms the file contents as they are read (not the most straightforward to implement).\r\n\r\nDetails of implementing these approaches would too long and broad for this answer, so I would suggest creating follow up questions if needed.\r\n\r\nThere might be additional options specific to the OpenCSV library that I&#39;m not aware of.","title":"Manipulating BufferedReader before it is read by OpenCSV&#39;s CSVReaderBuilder results in CSVReaderBuilder = null","body":"<p>There are a couple of problems here:</p>\n<p>First, by the time <code>buffReader</code> is used in <code>new CSVReaderBuilder(buffReader)</code>, it has already been fully consumed by <code>buffReader.lines().forEach</code>. A <code>BufferedReader</code> can only be read once, in general. A solution could ordinarily be to create a new <code>InputStreamReader</code> and <code>BufferedReader</code> on the same file, except in this case, you'll run into the second problem.</p>\n<p>The line <code>t = t.concat(&quot;;&quot;);</code> does not work the way you expect. All this does is reassign the local variable <code>t</code>, which isn't used again. It does not change the contents of the file or the contents of the reader.</p>\n<p>How to fix this is less straightforward. As far as I know, this exception will only be thrown when binding the CSV data to a bean, and only if fields are marked as <code>required = true</code>. Given that the source data does not always contain data for the last field, it seems like it should not be marked as required.</p>\n<p>If manipulating the source data really is your only option, I can think of a few possible approaches:</p>\n<ol>\n<li>Write the modified data back to a temporary file and then read that file with the CSV parser.</li>\n<li>If the CSV file is small enough to fit into memory, you could write the modified data to a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/StringWriter.html\" rel=\"nofollow noreferrer\"><code>StringWriter</code></a>, and then construct a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/StringReader.html\" rel=\"nofollow noreferrer\"><code>StringReader</code></a> with the result, and parse that.</li>\n<li>Do the file content rewriting and CSV parsing in separate threads, using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PipedOutputStream.html\" rel=\"nofollow noreferrer\"><code>PipedOutputStream</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/PipedInputStream.html\" rel=\"nofollow noreferrer\"><code>PipedInputStream</code></a> to connect them.</li>\n<li>Write a custom implementation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FilterReader.html\" rel=\"nofollow noreferrer\"><code>FilterReader</code></a> that transforms the file contents as they are read (not the most straightforward to implement).</li>\n</ol>\n<p>Details of implementing these approaches would too long and broad for this answer, so I would suggest creating follow up questions if needed.</p>\n<p>There might be additional options specific to the OpenCSV library that I'm not aware of.</p>\n"}],"owner":{"account_id":19887150,"reputation":3,"user_id":14569935,"display_name":"sven"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75467657,"answer_count":1,"score":0,"last_activity_date":1676519120,"creation_date":1676321405,"question_id":75441052,"body_markdown":"I am reading a CSV file OpenCSV&#39;s CSVReaderBuilder which doesn&#39;t work as the CSV file for some weird reason I cannot change has some lines with a missing column.\r\n\r\nSo I thought it would be a good idea to manipulate the BufferedReader I use as input for the CSVReaderBuilder and add an extra column before it is read by CSVReaderBuilder but unfortunately the CSVReaderBuilder will always return null.\r\n\r\n\r\nThis code results in an `com.opencsv.exceptions.CsvRequiredFieldEmptyException` as the lines have different number of columns, but works with a proper CSV file:\r\n\r\n```\r\n\t\tFileInputStream is;\r\n\t\ttry {\r\n\t\t\tis = new FileInputStream(fileName);\r\n\t\t\tInputStreamReader isr = new InputStreamReader(is, charSet);\r\n\t\t\tBufferedReader buffReader = new BufferedReader(isr);\r\n\r\n\t\t\t// use own CSVParser to set separator\r\n\t\t\tfinal CSVParser parser = new CSVParserBuilder()\r\n\t\t\t\t\t.withSeparator(separator)\r\n\t\t\t\t\t.build();\r\n\r\n\t\t\t// use own CSVReader make use of own CSVParser\r\n\t\t\treader = new CSVReaderBuilder(buffReader)\r\n\t\t\t\t\t.withCSVParser(parser)\r\n\t\t\t\t\t.build();\r\n\r\n\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n\r\n\r\n\r\nSo I added the code to manipulate the BufferedReader to add an extra semicolon if the column count is 13 instead of 14, but this will result in `reader` being null.\r\n\r\n\r\n```\r\n\t\tFileInputStream is;\r\n\t\ttry {\r\n\t\t\tis = new FileInputStream(fileName);\r\n\t\t\tInputStreamReader isr = new InputStreamReader(is, charSet);\r\n\t\t\tBufferedReader buffReader = new BufferedReader(isr);\r\n\r\n\t\t\tbuffReader.lines().forEach(t -&gt; {\r\n\t\t\t\tString a[] = t.split(&quot;;&quot;);\r\n\t\t\t\tint occurence = a.length;\r\n\r\n\t\t\t\tif(occurence == 13) {\r\n\t\t\t\t\tt = t.concat(&quot;;&quot;);\r\n\t\t\t\t}\r\n\t\t\t});\t\t\t\r\n\r\n\t\t\t// use own CSVParser to set separator\r\n\t\t\tfinal CSVParser parser = new CSVParserBuilder()\r\n\t\t\t\t\t.withSeparator(separator)\r\n\t\t\t\t\t.build();\r\n\r\n\t\t\t// use own CSVReader make use of own CSVParser\r\n\t\t\treader = new CSVReaderBuilder(buffReader)\r\n\t\t\t\t\t.withCSVParser(parser)\r\n\t\t\t\t\t.build();\r\n\r\n\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n```\r\n\r\nDoes anyone have an idea what I&#39;m doing wrong here?\r\n","title":"Manipulating BufferedReader before it is read by OpenCSV&#39;s CSVReaderBuilder results in CSVReaderBuilder = null","body":"<p>I am reading a CSV file OpenCSV's CSVReaderBuilder which doesn't work as the CSV file for some weird reason I cannot change has some lines with a missing column.</p>\n<p>So I thought it would be a good idea to manipulate the BufferedReader I use as input for the CSVReaderBuilder and add an extra column before it is read by CSVReaderBuilder but unfortunately the CSVReaderBuilder will always return null.</p>\n<p>This code results in an <code>com.opencsv.exceptions.CsvRequiredFieldEmptyException</code> as the lines have different number of columns, but works with a proper CSV file:</p>\n<pre><code>        FileInputStream is;\n        try {\n            is = new FileInputStream(fileName);\n            InputStreamReader isr = new InputStreamReader(is, charSet);\n            BufferedReader buffReader = new BufferedReader(isr);\n\n            // use own CSVParser to set separator\n            final CSVParser parser = new CSVParserBuilder()\n                    .withSeparator(separator)\n                    .build();\n\n            // use own CSVReader make use of own CSVParser\n            reader = new CSVReaderBuilder(buffReader)\n                    .withCSVParser(parser)\n                    .build();\n\n\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n<p>So I added the code to manipulate the BufferedReader to add an extra semicolon if the column count is 13 instead of 14, but this will result in <code>reader</code> being null.</p>\n<pre><code>        FileInputStream is;\n        try {\n            is = new FileInputStream(fileName);\n            InputStreamReader isr = new InputStreamReader(is, charSet);\n            BufferedReader buffReader = new BufferedReader(isr);\n\n            buffReader.lines().forEach(t -&gt; {\n                String a[] = t.split(&quot;;&quot;);\n                int occurence = a.length;\n\n                if(occurence == 13) {\n                    t = t.concat(&quot;;&quot;);\n                }\n            });         \n\n            // use own CSVParser to set separator\n            final CSVParser parser = new CSVParserBuilder()\n                    .withSeparator(separator)\n                    .build();\n\n            // use own CSVReader make use of own CSVParser\n            reader = new CSVReaderBuilder(buffReader)\n                    .withCSVParser(parser)\n                    .build();\n\n\n        } catch (FileNotFoundException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Does anyone have an idea what I'm doing wrong here?</p>\n"},{"tags":["java","android","eclipse","android-videoview"],"comments":[{"owner":{"account_id":7399800,"reputation":1,"user_id":5630623,"display_name":"Android"},"score":0,"creation_date":1449065186,"post_id":34044708,"comment_id":55843928,"body_markdown":"i have played the video in raw folder, But it not plays from SDcard. I tried http://stackoverflow.com/questions/10869830/how-to-play-videos-from-sd-card,   http://stackoverflow.com/questions/11406603/how-to-play-a-video-file-from-sd-card,  http://android-coding.blogspot.in/2011/03/using-videoview-to-play-mp4-from-sdcard.html,  https://www.youtube.com/watch?v=TsCQUjGEusQ...  I dont know what mistake i have done, and where it will produces the null pointer.. Please help me...","body":"i have played the video in raw folder, But it not plays from SDcard. I tried <a href=\"http://stackoverflow.com/questions/10869830/how-to-play-videos-from-sd-card\" title=\"how to play videos from sd card\">stackoverflow.com/questions/10869830/&hellip;</a>,   <a href=\"http://stackoverflow.com/questions/11406603/how-to-play-a-video-file-from-sd-card\" title=\"how to play a video file from sd card\">stackoverflow.com/questions/11406603/&hellip;</a>,  <a href=\"http://android-coding.blogspot.in/2011/03/using-videoview-to-play-mp4-from-sdcard.html\" rel=\"nofollow noreferrer\">android-coding.blogspot.in/2011/03/&hellip;</a>,  <a href=\"https://www.youtube.com/watch?v=TsCQUjGEusQ\" rel=\"nofollow noreferrer\">youtube.com/watch?v=TsCQUjGEusQ</a>...  I dont know what mistake i have done, and where it will produces the null pointer.. Please help me..."},{"owner":{"account_id":7399800,"reputation":1,"user_id":5630623,"display_name":"Android"},"score":0,"creation_date":1449067464,"post_id":34044708,"comment_id":55845552,"body_markdown":"Oh god... Atleast tell me where is the exception. This task totally damaged me...","body":"Oh god... Atleast tell me where is the exception. This task totally damaged me..."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1449074043,"post_id":34044708,"comment_id":55850586,"body_markdown":"I think your attempts at resizing the view to full screen is causing a problem. Since you didn&#39;t provide your main layout xml, see: http://stackoverflow.com/questions/3776254/android-video-view-in-fullscreen and don&#39;t forget about correctly accessing the SD card rather than the hardcode pathname you have there.","body":"I think your attempts at resizing the view to full screen is causing a problem. Since you didn&#39;t provide your main layout xml, see: <a href=\"http://stackoverflow.com/questions/3776254/android-video-view-in-fullscreen\" title=\"android video view in fullscreen\">stackoverflow.com/questions/3776254/&hellip;</a> and don&#39;t forget about correctly accessing the SD card rather than the hardcode pathname you have there."},{"owner":{"account_id":7399800,"reputation":1,"user_id":5630623,"display_name":"Android"},"score":0,"creation_date":1449138626,"post_id":34044708,"comment_id":55880191,"body_markdown":"@Morrison i have updated my xml file sir. please tell me what is the error in my file... in my case my file path is &quot;/storage/sdcard0/baby.3gp&quot;.","body":"@Morrison i have updated my xml file sir. please tell me what is the error in my file... in my case my file path is &quot;/storage/sdcard0/baby.3gp&quot;."}],"owner":{"account_id":7399800,"reputation":1,"user_id":5630623,"display_name":"Android"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676518840,"creation_date":1449065009,"question_id":34044708,"body_markdown":"I have develop an app which has task for playing video SDcard. But it shows Null pointer Exception... Code below...\r\n\r\n    public class VideoPlayerActivity extends Activity {\r\n\tVideoView video_player_view;\r\n\tDisplayMetrics dm;\r\n\tSurfaceView sur_View;\r\n\tMediaController media_Controller;\r\n\r\n\r\n\t@Override\r\n\tpublic void onCreate(Bundle savedInstanceState) {\r\n\t\tsuper.onCreate(savedInstanceState);\r\n\t\tsetContentView(R.layout.main);\r\n\t\tgetInit();\r\n\t\t}\r\n\r\n\tpublic void getInit() {\r\n\t\ttry {\r\n\t\tvideo_player_view = (VideoView) findViewById(R.id.video_player_view);\r\n\t\tmedia_Controller = new MediaController(getApplicationContext());\r\n\t\tdm = new DisplayMetrics();\r\n\t\tthis.getWindowManager().getDefaultDisplay().getMetrics(dm);\r\n\t\tint height = dm.heightPixels;\r\n\t\tint width = dm.widthPixels;\r\n\t\tvideo_player_view.setMinimumWidth(width);\r\n\t\tvideo_player_view.setMinimumHeight(height);\r\n\t\tvideo_player_view.setMediaController(media_Controller);\r\n\t\tvideo_player_view.setVideoPath(&quot;/storage/sdcard0/baby.3gp&quot;);\r\n\t\tvideo_player_view.start();\r\n\t\t} catch(Exception exp) {\r\n\t\t\tToast.makeText(getApplicationContext(), exp.getMessage(), 2).show();\r\n\t\t}\r\n\t}}\r\n\r\nI have using `Micromax A210` for dispaying output. My Logcat is below   \r\n\r\n    12-02 19:04:52.785: D/OpenGLRenderer(3950): Enabling debug mode 0\r\n    12-02 19:04:52.787: I/SurfaceView(3950): Changes: creating=true format=true size=true visible=true left=true top=true mUpdateWindowNeeded=false mReportDrawNeeded=false redrawNeeded=false forceSizeChanged=true mVisible=false mRequestedVisible=true\r\n    12-02 19:04:52.788: I/SurfaceView(3950): Cur surface: Surface(name=null, identity=-1)\r\n    12-02 19:04:52.791: V/SurfaceView(3950): android.widget.VideoView{41688140 VFE..... .F....ID 0,0-1280,590 #7f06003d app:id/video_player_view} got resized: w=1280 h=590, cur w=-1 h=-1\r\n    12-02 19:04:52.793: I/SurfaceView(3950): New surface: Surface(name=null, identity=33), vis=true, frame=Rect(0, 130 - 1280, 720)\r\n    12-02 19:04:52.793: I/SurfaceView(3950): visibleChanged -- surfaceCreated\r\n    12-02 19:04:52.798: D/MediaPlayer(3950): mPlayerID = 2\r\n    12-02 19:04:52.799: D/MediaPlayer(3950): Don&#39;t notify duration to test.example.videoviewtesting!\r\n    12-02 19:04:52.799: I/SurfaceView(3950): finishedDrawing\r\n    12-02 19:04:52.799: E/MediaPlayer(3950): error (1, -2147483648)\r\n    12-02 19:04:52.802: D/AndroidRuntime(3950): Shutting down VM\r\n    12-02 19:04:52.802: W/dalvikvm(3950): threadid=1: thread exiting with uncaught exception (group=0x4139c9a8)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): FATAL EXCEPTION: main\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): java.lang.NullPointerException\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.widget.VideoView.openVideo(VideoView.java:396)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.widget.VideoView$6.surfaceCreated(VideoView.java:730)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.view.SurfaceView.updateWindow(SurfaceView.java:606)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.view.SurfaceView.access$000(SurfaceView.java:88) \r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.view.SurfaceView$3.onPreDraw(SurfaceView.java:183)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.view.ViewTreeObserver.dispatchOnPreDraw(ViewTreeObserver.java:692)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2123)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1139)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4879)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.view.Choreographer$CallbackRecord.run(Choreographer.java:776)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.view.Choreographer.doCallbacks(Choreographer.java:579)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.view.Choreographer.doFrame(Choreographer.java:548)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:762)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.os.Handler.handleCallback(Handler.java:725)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.os.Handler.dispatchMessage(Handler.java:92)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.os.Looper.loop(Looper.java:153)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat android.app.ActivityThread.main(ActivityThread.java:5297)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat java.lang.reflect.Method.invoke(Method.java:511)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:833)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)\r\n    12-02 19:04:52.804: E/AndroidRuntime(3950): \tat dalvik.system.NativeStart.main(Native Method)\r\n    12-02 19:04:52.814: D/dalvikvm(3950): threadid=11: interp stack at 0x5e220000\r\n\r\nI have updated my main.xml file. Dont know where can i resizing the view...\r\n\r\n    &lt;LinearLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/container&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;video.sample.videosample.MainActivity&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:ignore=&quot;MergeRootFrame&quot; &gt;\r\n\r\n    &lt;LinearLayout\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;fill_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n        &lt;VideoView\r\n            android:id=&quot;@+id/myvideoview&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;","title":"How to play Video from SDcard in Micromax mobile?","body":"<p>I have develop an app which has task for playing video SDcard. But it shows Null pointer Exception... Code below...</p>\n\n<pre><code>public class VideoPlayerActivity extends Activity {\nVideoView video_player_view;\nDisplayMetrics dm;\nSurfaceView sur_View;\nMediaController media_Controller;\n\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n    getInit();\n    }\n\npublic void getInit() {\n    try {\n    video_player_view = (VideoView) findViewById(R.id.video_player_view);\n    media_Controller = new MediaController(getApplicationContext());\n    dm = new DisplayMetrics();\n    this.getWindowManager().getDefaultDisplay().getMetrics(dm);\n    int height = dm.heightPixels;\n    int width = dm.widthPixels;\n    video_player_view.setMinimumWidth(width);\n    video_player_view.setMinimumHeight(height);\n    video_player_view.setMediaController(media_Controller);\n    video_player_view.setVideoPath(\"/storage/sdcard0/baby.3gp\");\n    video_player_view.start();\n    } catch(Exception exp) {\n        Toast.makeText(getApplicationContext(), exp.getMessage(), 2).show();\n    }\n}}\n</code></pre>\n\n<p>I have using <code>Micromax A210</code> for dispaying output. My Logcat is below   </p>\n\n<pre><code>12-02 19:04:52.785: D/OpenGLRenderer(3950): Enabling debug mode 0\n12-02 19:04:52.787: I/SurfaceView(3950): Changes: creating=true format=true size=true visible=true left=true top=true mUpdateWindowNeeded=false mReportDrawNeeded=false redrawNeeded=false forceSizeChanged=true mVisible=false mRequestedVisible=true\n12-02 19:04:52.788: I/SurfaceView(3950): Cur surface: Surface(name=null, identity=-1)\n12-02 19:04:52.791: V/SurfaceView(3950): android.widget.VideoView{41688140 VFE..... .F....ID 0,0-1280,590 #7f06003d app:id/video_player_view} got resized: w=1280 h=590, cur w=-1 h=-1\n12-02 19:04:52.793: I/SurfaceView(3950): New surface: Surface(name=null, identity=33), vis=true, frame=Rect(0, 130 - 1280, 720)\n12-02 19:04:52.793: I/SurfaceView(3950): visibleChanged -- surfaceCreated\n12-02 19:04:52.798: D/MediaPlayer(3950): mPlayerID = 2\n12-02 19:04:52.799: D/MediaPlayer(3950): Don't notify duration to test.example.videoviewtesting!\n12-02 19:04:52.799: I/SurfaceView(3950): finishedDrawing\n12-02 19:04:52.799: E/MediaPlayer(3950): error (1, -2147483648)\n12-02 19:04:52.802: D/AndroidRuntime(3950): Shutting down VM\n12-02 19:04:52.802: W/dalvikvm(3950): threadid=1: thread exiting with uncaught exception (group=0x4139c9a8)\n12-02 19:04:52.804: E/AndroidRuntime(3950): FATAL EXCEPTION: main\n12-02 19:04:52.804: E/AndroidRuntime(3950): java.lang.NullPointerException\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.widget.VideoView.openVideo(VideoView.java:396)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.widget.VideoView$6.surfaceCreated(VideoView.java:730)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.view.SurfaceView.updateWindow(SurfaceView.java:606)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.view.SurfaceView.access$000(SurfaceView.java:88) \n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.view.SurfaceView$3.onPreDraw(SurfaceView.java:183)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.view.ViewTreeObserver.dispatchOnPreDraw(ViewTreeObserver.java:692)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2123)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1139)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:4879)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:776)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.view.Choreographer.doCallbacks(Choreographer.java:579)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.view.Choreographer.doFrame(Choreographer.java:548)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:762)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.os.Handler.handleCallback(Handler.java:725)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.os.Handler.dispatchMessage(Handler.java:92)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.os.Looper.loop(Looper.java:153)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at android.app.ActivityThread.main(ActivityThread.java:5297)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at java.lang.reflect.Method.invokeNative(Native Method)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at java.lang.reflect.Method.invoke(Method.java:511)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:833)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:600)\n12-02 19:04:52.804: E/AndroidRuntime(3950):     at dalvik.system.NativeStart.main(Native Method)\n12-02 19:04:52.814: D/dalvikvm(3950): threadid=11: interp stack at 0x5e220000\n</code></pre>\n\n<p>I have updated my main.xml file. Dont know where can i resizing the view...</p>\n\n<pre><code>&lt;LinearLayout \nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:id=\"@+id/container\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\"video.sample.videosample.MainActivity\"\nandroid:orientation=\"vertical\"\ntools:ignore=\"MergeRootFrame\" &gt;\n\n&lt;LinearLayout\n    android:orientation=\"vertical\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n    &lt;VideoView\n        android:id=\"@+id/myvideoview\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p></p>\n"},{"tags":["java","sql-server","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1676518169,"post_id":75467273,"comment_id":133154302,"body_markdown":"`ProfilesRepository` is an interface - where&#39;s the implementation class?","body":"<code>ProfilesRepository</code> is an interface - where&#39;s the implementation class?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1676519107,"post_id":75467273,"comment_id":133154424,"body_markdown":"@AlwaysLearning Spring creates an implementation in response to the annotation.","body":"@AlwaysLearning Spring creates an implementation in response to the annotation."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676528317,"post_id":75467273,"comment_id":133155628,"body_markdown":"Remove the `javax.persistence-api` as 1 it is the wrong one and 2 it already comes with `spring-boot-starter-data-jpa`. Unrelated but to improve your code, remove the `@Repository` from the repository, the `findAll` method is already provided (remove it as well). On your application class remove the annotations and only leave an empty `@SpringBootApplication`.","body":"Remove the <code>javax.persistence-api</code> as 1 it is the wrong one and 2 it already comes with <code>spring-boot-starter-data-jpa</code>. Unrelated but to improve your code, remove the <code>@Repository</code> from the repository, the <code>findAll</code> method is already provided (remove it as well). On your application class remove the annotations and only leave an empty <code>@SpringBootApplication</code>."}],"answers":[{"tags":[],"owner":{"account_id":14308493,"reputation":1,"user_id":10335612,"display_name":"Hello-Seb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676518677,"creation_date":1676518677,"answer_id":75467620,"question_id":75467273,"body_markdown":"I fixed this by updating my imports from\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.Table;\r\n\r\nto\r\n\r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.Table;\r\n","title":"Spring Boot - Repository bean could not be found - SQL Server/JPA/API","body":"<p>I fixed this by updating my imports from</p>\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n</code></pre>\n<p>to</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.Table;\n</code></pre>\n"}],"owner":{"account_id":14308493,"reputation":1,"user_id":10335612,"display_name":"Hello-Seb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676518677,"creation_date":1676514704,"question_id":75467273,"body_markdown":"I am getting the below error even though such a bean does exist and \\*is in the same package as the Application and Controller\r\n\r\n&gt; Field profilesRepository in com.test.ProfilesController required a bean of type &#39;com.test.ProfilesRepository&#39; that could not be found.\r\n\r\nWhat could be causing this?\r\n\r\nMy file structure:\r\nsrc\r\nmain\r\njava\r\ncom.test\r\nTestApplication.java (class)\r\nProfiles (class)\r\nProfilesController (class)\r\nProfilesRepository (interface)\r\n\r\nProfiles.java:\r\n\r\n```\r\npackage com.test;\r\n\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\n\r\n\r\n@Entity\r\n@Table(name = &quot;Profiles&quot;)\r\npublic class Profiles {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    public int id;\r\n    @Column(name = &quot;Username&quot;)\r\n    public String username;\r\n\r\n    @Column(name = &quot;Name&quot;)\r\n    public String name;\r\n    @Column(name = &quot;EmailAddress&quot;)\r\n    public String emailAddress;\r\n    @Column(name = &quot;HomeAddress&quot;)\r\n    public String homeAddress;\r\n\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmailAddress() {\r\n        return emailAddress;\r\n    }\r\n    public void setEmailAddress(String emailAddress) {\r\n        this.emailAddress = emailAddress;\r\n    }\r\n\r\n    public String getHomeAddress() {\r\n        return homeAddress;\r\n    }\r\n    public void setHomeAddress(String homeAddress) {\r\n        this.homeAddress = homeAddress;\r\n    }\r\n\r\n}\r\n```\r\n\r\nProfilesController.java:\r\n\r\n```\r\npackage com.test;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\npublic class ProfilesController {\r\n\r\n    @Autowired\r\n    public ProfilesRepository profilesRepository;\r\n\r\n    @GetMapping(&quot;/getAllProfiles&quot;)\r\n    public List&lt;Profiles&gt; getAllProfiles() {\r\n        return profilesRepository.findAll();\r\n    }\r\n    @GetMapping(&quot;/helloWorld&quot;)\r\n    public String helloWorld(){\r\n        return &quot;Hello World!&quot;;\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nProfilesRepository.java:\r\n\r\n```\r\npackage com.test;\r\n\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.List;\r\n\r\n@Repository\r\npublic interface ProfilesRepository extends CrudRepository&lt;Profiles, Integer&gt; {\r\n    List&lt;Profiles&gt; findAll();\r\n}\r\n```\r\n\r\nTestApplication.java:\r\n\r\n```\r\npackage com.test;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\r\n\r\n\r\n@SpringBootApplication(scanBasePackages = {&quot;com.test&quot;})\r\n@EnableJpaRepositories(basePackages = {&quot;com.test&quot;})\r\npublic class TestApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(TestApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMy pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.Test&lt;/groupId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;test&lt;/name&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;19&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThe error:\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-02-15T21:21:47.035-05:00 ERROR 32878 --- \\[  restartedMain\\] o.s.b.d.LoggingFailureAnalysisReporter   :\r\n\r\n***************************\r\n\r\nAPPLICATION FAILED TO START\r\n\r\n***************************\r\n\r\nDescription:\r\n\r\nField profilesRepository in com.test.ProfilesController required a bean of type &#39;com.test.ProfilesRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\\- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.Group3.GeekText.ProfilesRepository&#39; in your configuration.\r\n```","title":"Spring Boot - Repository bean could not be found - SQL Server/JPA/API","body":"<p>I am getting the below error even though such a bean does exist and *is in the same package as the Application and Controller</p>\n<blockquote>\n<p>Field profilesRepository in com.test.ProfilesController required a bean of type 'com.test.ProfilesRepository' that could not be found.</p>\n</blockquote>\n<p>What could be causing this?</p>\n<p>My file structure:\nsrc\nmain\njava\ncom.test\nTestApplication.java (class)\nProfiles (class)\nProfilesController (class)\nProfilesRepository (interface)</p>\n<p>Profiles.java:</p>\n<pre><code>package com.test;\n\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\n\n\n@Entity\n@Table(name = &quot;Profiles&quot;)\npublic class Profiles {\n\n    @Id\n    @Column(name = &quot;ID&quot;)\n    public int id;\n    @Column(name = &quot;Username&quot;)\n    public String username;\n\n    @Column(name = &quot;Name&quot;)\n    public String name;\n    @Column(name = &quot;EmailAddress&quot;)\n    public String emailAddress;\n    @Column(name = &quot;HomeAddress&quot;)\n    public String homeAddress;\n\n\n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public String getUsername() {\n        return username;\n    }\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmailAddress() {\n        return emailAddress;\n    }\n    public void setEmailAddress(String emailAddress) {\n        this.emailAddress = emailAddress;\n    }\n\n    public String getHomeAddress() {\n        return homeAddress;\n    }\n    public void setHomeAddress(String homeAddress) {\n        this.homeAddress = homeAddress;\n    }\n\n}\n</code></pre>\n<p>ProfilesController.java:</p>\n<pre><code>package com.test;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\npublic class ProfilesController {\n\n    @Autowired\n    public ProfilesRepository profilesRepository;\n\n    @GetMapping(&quot;/getAllProfiles&quot;)\n    public List&lt;Profiles&gt; getAllProfiles() {\n        return profilesRepository.findAll();\n    }\n    @GetMapping(&quot;/helloWorld&quot;)\n    public String helloWorld(){\n        return &quot;Hello World!&quot;;\n    }\n\n\n}\n</code></pre>\n<p>ProfilesRepository.java:</p>\n<pre><code>package com.test;\n\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.List;\n\n@Repository\npublic interface ProfilesRepository extends CrudRepository&lt;Profiles, Integer&gt; {\n    List&lt;Profiles&gt; findAll();\n}\n</code></pre>\n<p>TestApplication.java:</p>\n<pre><code>package com.test;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.data.jpa.repository.config.EnableJpaRepositories;\n\n\n@SpringBootApplication(scanBasePackages = {&quot;com.test&quot;})\n@EnableJpaRepositories(basePackages = {&quot;com.test&quot;})\npublic class TestApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.Test&lt;/groupId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;test&lt;/name&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;19&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>The error:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-02-15T21:21:47.035-05:00 ERROR 32878 --- \\[  restartedMain\\] o.s.b.d.LoggingFailureAnalysisReporter   :\n\n***************************\n\nAPPLICATION FAILED TO START\n\n***************************\n\nDescription:\n\nField profilesRepository in com.test.ProfilesController required a bean of type 'com.test.ProfilesRepository' that could not be found.\n\nThe injection point has the following annotations:\n\\- @org.springframework.beans.factory.annotation.Autowired(required=true)\n\nAction:\n\nConsider defining a bean of type 'com.Group3.GeekText.ProfilesRepository' in your configuration.\n</code></pre>\n"},{"tags":["java","maven","javafx","jar","executable"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1676391342,"post_id":75450222,"comment_id":133125701,"body_markdown":"Dont create an executable jar, instead use jlink or jpackage. That is my opinion anyway.  Easiest is to use the maven JavaFX plugin to create a zipped jlink image of a modular project, if your app can be fully modularized.","body":"Dont create an executable jar, instead use jlink or jpackage. That is my opinion anyway.  Easiest is to use the maven JavaFX plugin to create a zipped jlink image of a modular project, if your app can be fully modularized."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1676391423,"post_id":75450222,"comment_id":133125722,"body_markdown":"What is meant by `apply all the methods on the Internet includding this forum`?","body":"What is meant by <code>apply all the methods on the Internet includding this forum</code>?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1676404641,"post_id":75450222,"comment_id":133129525,"body_markdown":"For JavaFX desktop applications, the best deployment strategy is `jpackage`, at least in my opinion. Note that tool uses `jlink` behind the scenes, though `jpackage` works with both modular and non-modular applications. But if you insist on creating an executable JAR file, what exactly are you trying to accomplish? A JAR file that has to have its dependencies deployed alongside it? A so-called fat/uber JAR file with all dependencies, including JavaFX? A fat/uber JAR file with all dependencies _except_ JavaFX (because you require your end users to have a JRE-with-JavaFX installed)?","body":"For JavaFX desktop applications, the best deployment strategy is <code>jpackage</code>, at least in my opinion. Note that tool uses <code>jlink</code> behind the scenes, though <code>jpackage</code> works with both modular and non-modular applications. But if you insist on creating an executable JAR file, what exactly are you trying to accomplish? A JAR file that has to have its dependencies deployed alongside it? A so-called fat/uber JAR file with all dependencies, including JavaFX? A fat/uber JAR file with all dependencies <i>except</i> JavaFX (because you require your end users to have a JRE-with-JavaFX installed)?"},{"owner":{"account_id":24954661,"reputation":33,"user_id":18819130,"display_name":"Talib3ilm"},"score":0,"creation_date":1676518179,"post_id":75450222,"comment_id":133154306,"body_markdown":"I have done all the solutions, and I find myself helpless.\nplease, I ask one of the experts to download the project, work on it with IntelliJ idea and get a file that works on Windows Linux and Mac.\nHe tells me the way, and I will be very grateful for him.\nthank you","body":"I have done all the solutions, and I find myself helpless. please, I ask one of the experts to download the project, work on it with IntelliJ idea and get a file that works on Windows Linux and Mac. He tells me the way, and I will be very grateful for him. thank you"},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1676620312,"post_id":75450222,"comment_id":133177474,"body_markdown":"You have already configured to use jlink. [Use the JavaFX maven plugin according to the documentation](https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options): `mvn clean javafx:jlink`. It will create a deployable zip. Or, from idea click the `javafx:jlink` target in the maven panel. For Windows, Linux and Mac (both M and Intel processors), repeat the process on each of those machines.  I realize that could be hard without the machines. If you want a single jar instead, then you will need to do a little more work and follow the instructions in the duplicate question.","body":"You have already configured to use jlink. <a href=\"https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options\" rel=\"nofollow noreferrer\">Use the JavaFX maven plugin according to the documentation</a>: <code>mvn clean javafx:jlink</code>. It will create a deployable zip. Or, from idea click the <code>javafx:jlink</code> target in the maven panel. For Windows, Linux and Mac (both M and Intel processors), repeat the process on each of those machines.  I realize that could be hard without the machines. If you want a single jar instead, then you will need to do a little more work and follow the instructions in the duplicate question."}],"owner":{"account_id":24954661,"reputation":33,"user_id":18819130,"display_name":"Talib3ilm"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676478520,"answer_count":0,"score":0,"last_activity_date":1676518282,"creation_date":1676389815,"question_id":75450222,"body_markdown":"I have searched for the solution everywhere, and my request is very simple.\r\nI am working on the maven project in intellij idea 2022.3.2 community Edition  with javaFX 19 and ikonli dependencies , and I simply want to make an executable Jar, and apply all the methods on the Internet includding this forum, and every time I get a different errors.\r\nIn addition, an simple example of this project is in the link below, I am grateful for those who create an executable jar and tell me the way.\r\nthank you.\r\n\r\nhttps://github.com/MeshkatSoft/Ikonli_Maven\r\n\r\n-----update--------------  \r\nI have done all the solutions, and I find myself helpless.\r\nplease, I ask one of the experts to download the project, work on it with IntelliJ idea and get a file that works on Windows Linux and Mac.\r\nHe tells me the way, and I will be very grateful for him.\r\nthank you","title":"Executable jar with javaFX and maven (ikonli project)","body":"<p>I have searched for the solution everywhere, and my request is very simple.\nI am working on the maven project in intellij idea 2022.3.2 community Edition  with javaFX 19 and ikonli dependencies , and I simply want to make an executable Jar, and apply all the methods on the Internet includding this forum, and every time I get a different errors.\nIn addition, an simple example of this project is in the link below, I am grateful for those who create an executable jar and tell me the way.\nthank you.</p>\n<p><a href=\"https://github.com/MeshkatSoft/Ikonli_Maven\" rel=\"nofollow noreferrer\">https://github.com/MeshkatSoft/Ikonli_Maven</a></p>\n<p>-----update--------------<br />\nI have done all the solutions, and I find myself helpless.\nplease, I ask one of the experts to download the project, work on it with IntelliJ idea and get a file that works on Windows Linux and Mac.\nHe tells me the way, and I will be very grateful for him.\nthank you</p>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":58377,"reputation":247920,"user_id":174777,"display_name":"John Rotenstein"},"comment_count":0,"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1454058955,"creation_date":1454058955,"answer_id":35080765,"question_id":35080393,"body_markdown":"You do not need to create a folder in Amazon S3. In fact, folders do not exist!\r\n\r\nRather, the **Key** (filename) contains the **full path and the object name**.\r\n\r\nFor example, if a file called `cat.jpg` is in the `animals` folder, then the Key (filename) is: `animals/cat.jpg`\r\n\r\nSimply `Put` an object with that Key and the folder is automatically created. (Actually, this isn&#39;t true because there are no folders, but it&#39;s a nice simple way to imagine the concept.)\r\n\r\nAs to which function to use... always use the simplest one that meets your needs. Therefore, just use `PutObjectRequest(bucketName, keyName, file) `.","title":"creating a folder/uploading a file in amazon S3 bucket using API","body":"<p>You do not need to create a folder in Amazon S3. In fact, folders do not exist!</p>\n\n<p>Rather, the <strong>Key</strong> (filename) contains the <strong>full path and the object name</strong>.</p>\n\n<p>For example, if a file called <code>cat.jpg</code> is in the <code>animals</code> folder, then the Key (filename) is: <code>animals/cat.jpg</code></p>\n\n<p>Simply <code>Put</code> an object with that Key and the folder is automatically created. (Actually, this isn't true because there are no folders, but it's a nice simple way to imagine the concept.)</p>\n\n<p>As to which function to use... always use the simplest one that meets your needs. Therefore, just use <code>PutObjectRequest(bucketName, keyName, file)</code>.</p>\n"},{"tags":[],"owner":{"account_id":352422,"reputation":3179,"user_id":689500,"accept_rate":33,"display_name":"Shawn Guo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1454062984,"creation_date":1454062984,"answer_id":35082069,"question_id":35080393,"body_markdown":"Yes, you can use PutObjectRequest(bucketName, keyName, file) to achive both task.\r\n\r\n1, create S3 folder  \r\nWith AWS S3 Java SDK , just add &quot;/&quot; at the end of the key name, it will create empty folder.    \r\n\r\n    var folderKey =  key + &quot;/&quot;; //end the key name with &quot;/&quot;\r\nSample code:\r\n\r\n  \r\n\r\n    final InputStream im = new InputStream() {\r\n          @Override\r\n          public int read() throws IOException {\r\n            return -1;\r\n          }\r\n        };\r\n        final ObjectMetadata om = new ObjectMetadata();\r\n        om.setContentLength(0L);\r\n        PutObjectRequest putObjectRequest = new PutObjectRequest(bucketName, objectName, im, om);\r\n        s3.putObject(putObjectRequest);\r\n\r\n2, Uploading file\r\nJust similar, you can get input stream from your local file.\r\n\r\n","title":"creating a folder/uploading a file in amazon S3 bucket using API","body":"<p>Yes, you can use PutObjectRequest(bucketName, keyName, file) to achive both task.</p>\n\n<p>1, create S3 folder<br>\nWith AWS S3 Java SDK , just add \"/\" at the end of the key name, it will create empty folder.    </p>\n\n<pre><code>var folderKey =  key + \"/\"; //end the key name with \"/\"\n</code></pre>\n\n<p>Sample code:</p>\n\n<pre><code>final InputStream im = new InputStream() {\n      @Override\n      public int read() throws IOException {\n        return -1;\n      }\n    };\n    final ObjectMetadata om = new ObjectMetadata();\n    om.setContentLength(0L);\n    PutObjectRequest putObjectRequest = new PutObjectRequest(bucketName, objectName, im, om);\n    s3.putObject(putObjectRequest);\n</code></pre>\n\n<p>2, Uploading file\nJust similar, you can get input stream from your local file.</p>\n"},{"tags":[],"owner":{"account_id":221274,"reputation":1942,"user_id":2390296,"display_name":"koolhead17"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1454773414,"creation_date":1454773414,"answer_id":35242909,"question_id":35080393,"body_markdown":"Alternatively you can use [\\[minio client\\]][1] java library \r\n\r\nYou can follow [MakeBucket.java][2] example to create a bucket &amp; [PutObject.java][3] example to add an object.\r\n\r\nHope it help.\r\n\r\n  [1]: https://github.com/minio/minio-java\r\n  [2]: https://github.com/minio/minio-java/blob/master/examples/MakeBucket.java\r\n  [3]: https://github.com/minio/minio-java/blob/master/examples/PutObject.java","title":"creating a folder/uploading a file in amazon S3 bucket using API","body":"<p>Alternatively you can use <a href=\"https://github.com/minio/minio-java\" rel=\"nofollow\">[minio client]</a> java library </p>\n\n<p>You can follow <a href=\"https://github.com/minio/minio-java/blob/master/examples/MakeBucket.java\" rel=\"nofollow\">MakeBucket.java</a> example to create a bucket &amp; <a href=\"https://github.com/minio/minio-java/blob/master/examples/PutObject.java\" rel=\"nofollow\">PutObject.java</a> example to add an object.</p>\n\n<p>Hope it help.</p>\n"}],"owner":{"account_id":1445377,"reputation":1607,"user_id":1364073,"accept_rate":64,"display_name":"Shaonline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25259,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":35082069,"answer_count":3,"score":8,"last_activity_date":1676517952,"creation_date":1454057658,"question_id":35080393,"body_markdown":"I am a total newbie to amazon and java trying two things:\r\n\r\n1. I am trying to create a folder in my Amazon S3 bucket that i have already created and have got the credentials for. \r\n\r\n2. I am trying to upload a file to this bucket.\r\n\r\nAs per my understanding i can use putObjectRequest() method for acheiving both of my tasks.  \r\n\r\n    PutObjectRequest(bucketName, keyName, file) \r\n\r\nfor uploading a file. \r\n\r\nI am not sure if i should use this method\r\n\r\n    PutObjectRequest(String bucketName, String key, InputStream input,\r\n            ObjectMetadata metadata) \r\n\r\nfor just creating a folder. I am struggling with InputSteam and ObjectMetadata. I don&#39;t know what exactly is this for and how I can use it. ","title":"creating a folder/uploading a file in amazon S3 bucket using API","body":"<p>I am a total newbie to amazon and java trying two things:</p>\n<ol>\n<li><p>I am trying to create a folder in my Amazon S3 bucket that i have already created and have got the credentials for.</p>\n</li>\n<li><p>I am trying to upload a file to this bucket.</p>\n</li>\n</ol>\n<p>As per my understanding i can use putObjectRequest() method for acheiving both of my tasks.</p>\n<pre><code>PutObjectRequest(bucketName, keyName, file) \n</code></pre>\n<p>for uploading a file.</p>\n<p>I am not sure if i should use this method</p>\n<pre><code>PutObjectRequest(String bucketName, String key, InputStream input,\n        ObjectMetadata metadata) \n</code></pre>\n<p>for just creating a folder. I am struggling with InputSteam and ObjectMetadata. I don't know what exactly is this for and how I can use it.</p>\n"},{"tags":["java","json","csv"],"comments":[{"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"score":1,"creation_date":1676518475,"post_id":75467526,"comment_id":133154348,"body_markdown":"https://stackoverflow.com/questions/20388119/converting-json-to-csv\nhttps://stackoverflow.com/questions/7172158/converting-json-to-xls-csv-in-java","body":"<a href=\"https://stackoverflow.com/questions/20388119/converting-json-to-csv\" title=\"converting json to csv\">stackoverflow.com/questions/20388119/converting-json-to-csv</a> <a href=\"https://stackoverflow.com/questions/7172158/converting-json-to-xls-csv-in-java\" title=\"converting json to xls csv in java\">stackoverflow.com/questions/7172158/&hellip;</a>"},{"owner":{"account_id":26316409,"reputation":71,"user_id":19979114,"display_name":"Nila"},"score":0,"creation_date":1676520443,"post_id":75467526,"comment_id":133154613,"body_markdown":"thank you, but the link given below works on a jsonarray. I dont have a json array, but each of array elements in a different string. I cant construct such an array as mine could be hige and cant cross 1Gb","body":"thank you, but the link given below works on a jsonarray. I dont have a json array, but each of array elements in a different string. I cant construct such an array as mine could be hige and cant cross 1Gb"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1676545519,"post_id":75467526,"comment_id":133160282,"body_markdown":"Why first convert from MyBusinessObj (BO) to JSON and then from JSON to CSV?","body":"Why first convert from MyBusinessObj (BO) to JSON and then from JSON to CSV?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1676546239,"post_id":75467526,"comment_id":133160487,"body_markdown":"Example code, direct write obj to csv ( https://dirask.com/posts/Java-how-to-write-java-object-to-CSV-file-using-Jackson-CSV-library-8pVk0j )","body":"Example code, direct write obj to csv ( <a href=\"https://dirask.com/posts/Java-how-to-write-java-object-to-CSV-file-using-Jackson-CSV-library-8pVk0j\" rel=\"nofollow noreferrer\">dirask.com/posts/&hellip;</a> )"},{"owner":{"account_id":26316409,"reputation":71,"user_id":19979114,"display_name":"Nila"},"score":0,"creation_date":1676560742,"post_id":75467526,"comment_id":133165104,"body_markdown":"life888888 because MyBO contains a huge XML Blob of variable size, so I dont know what the columns are coming out of each of these Blobs from a DB with millions of rows. So I parse it out into a JSON, then flatten it and then create a CSV out of it. Could not find a simpler way to directly convert this XML to CSV. or directly blob to CSV.","body":"life888888 because MyBO contains a huge XML Blob of variable size, so I dont know what the columns are coming out of each of these Blobs from a DB with millions of rows. So I parse it out into a JSON, then flatten it and then create a CSV out of it. Could not find a simpler way to directly convert this XML to CSV. or directly blob to CSV."},{"owner":{"account_id":26316409,"reputation":71,"user_id":19979114,"display_name":"Nila"},"score":0,"creation_date":1676560827,"post_id":75467526,"comment_id":133165129,"body_markdown":"life888888 thanks for the reference link. Will try that out and will post my comments here","body":"life888888 thanks for the reference link. Will try that out and will post my comments here"}],"owner":{"account_id":26316409,"reputation":71,"user_id":19979114,"display_name":"Nila"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676517729,"creation_date":1676517729,"question_id":75467526,"body_markdown":"I need help converting a bunch of json strings to CSVs inside a loop\r\n\r\n\r\n    for (MyBusinessObj obj:MyBusinessObjects){\r\n    String json = convertBOToJson();\r\n    Need to add this to CSV (only one header row)\r\n    }\r\n\r\nEach string looks like below:\r\n\r\n    String1 {&quot;name&quot;:&quot;Ram&quot;,&quot;Age&quot;:&quot;80&quot;,&quot;.....}\r\n    String2  {&quot;name&quot;:&quot;Rick&quot;,&quot;Age&quot;:&quot;67&quot;,&quot;.....}\r\n\r\nI need a CSV like:\r\n\r\n    name    age\r\n    Ram     80\r\n    Rick    67\r\n\r\n\r\n Each string can be close to 50MB, and I could have millions of rows. so I cannot construct one giant JSON string so I can get a JSONArray. How do I add these strings to a CSV file?\r\n\r\nI have to use base Java, or some common library like openCSV\r\n","title":"Convert multiple JSON Strings to CSV","body":"<p>I need help converting a bunch of json strings to CSVs inside a loop</p>\n<pre><code>for (MyBusinessObj obj:MyBusinessObjects){\nString json = convertBOToJson();\nNeed to add this to CSV (only one header row)\n}\n</code></pre>\n<p>Each string looks like below:</p>\n<pre><code>String1 {&quot;name&quot;:&quot;Ram&quot;,&quot;Age&quot;:&quot;80&quot;,&quot;.....}\nString2  {&quot;name&quot;:&quot;Rick&quot;,&quot;Age&quot;:&quot;67&quot;,&quot;.....}\n</code></pre>\n<p>I need a CSV like:</p>\n<pre><code>name    age\nRam     80\nRick    67\n</code></pre>\n<p>Each string can be close to 50MB, and I could have millions of rows. so I cannot construct one giant JSON string so I can get a JSONArray. How do I add these strings to a CSV file?</p>\n<p>I have to use base Java, or some common library like openCSV</p>\n"},{"tags":["java","soap","jax-ws","amazon-product-advertising-api"],"answers":[{"comments":[{"owner":{"account_id":256980,"reputation":3763,"user_id":1071757,"display_name":"davidfrancis"},"score":0,"creation_date":1322736799,"post_id":8336584,"comment_id":10283967,"body_markdown":"Yes, see if you can use tcpmon or similar to check the XML response from Amazon. Then you&#39;d be able to see the full error message in their XML.","body":"Yes, see if you can use tcpmon or similar to check the XML response from Amazon. Then you&#39;d be able to see the full error message in their XML."}],"tags":[],"owner":{"account_id":147727,"reputation":12641,"user_id":359035,"accept_rate":92,"display_name":"BillRobertson42"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322714205,"creation_date":1322714205,"answer_id":8336584,"question_id":8336427,"body_markdown":"It looks like the response object does not override toString(), so if it contains some sort of error response, simply printing it will not tell you what the error response is. You&#39;ll need to look at the api for what fields are returned in the response object and individually print those. Either you&#39;ll get an obvious error message or you&#39;ll have to go back to their documentation to try to figure out what is wrong.","title":"Amazon Product Advertising API through Java/SOAP","body":"<p>It looks like the response object does not override toString(), so if it contains some sort of error response, simply printing it will not tell you what the error response is. You'll need to look at the api for what fields are returned in the response object and individually print those. Either you'll get an obvious error message or you'll have to go back to their documentation to try to figure out what is wrong.</p>\n"},{"comments":[{"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"score":0,"creation_date":1322765581,"post_id":8345493,"comment_id":10293749,"body_markdown":"Thanks for the input, however both the &quot;response.getOperationRequest()&quot; and &quot;itemList.getItem()&quot; are empty, so nothing is being printed out... :-\\","body":"Thanks for the input, however both the &quot;response.getOperationRequest()&quot; and &quot;itemList.getItem()&quot; are empty, so nothing is being printed out... :-\\"},{"owner":{"account_id":1078264,"reputation":11,"user_id":1075950,"display_name":"joe.hamdi"},"score":0,"creation_date":1322778157,"post_id":8345493,"comment_id":10297719,"body_markdown":"It might be because you haven&#39;t specified a response group with the request [(see Amazon Product API Docs)](http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/DG/index.html?CHAP_ResponseGroupsList.html). You can add a response group in your request by doing:\n\n`itemRequest.getResponseGroup().add(&quot;Large&quot;);\nitemRequest.getResponseGroup().add(&quot;Images&quot;);`","body":"It might be because you haven&#39;t specified a response group with the request <a href=\"http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/DG/index.html?CHAP_ResponseGroupsList.html\" rel=\"nofollow noreferrer\">(see Amazon Product API Docs)</a>. You can add a response group in your request by doing:  <code>itemRequest.getResponseGroup().add(&quot;Large&quot;); itemRequest.getResponseGroup().add(&quot;Images&quot;);</code>"}],"tags":[],"owner":{"account_id":1078264,"reputation":11,"user_id":1075950,"display_name":"joe.hamdi"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1322766708,"creation_date":1322759811,"answer_id":8345493,"question_id":8336427,"body_markdown":"You need to call the get methods on the Item object to retrieve its details, e.g.:\r\n\r\n    for (Item item : itemList.getItem()) {\r\n       System.out.println(item.getItemAttributes().getTitle()); //Title of item\r\n       System.out.println(item.getDetailPageURL()); // Amazon URL\r\n       //etc\r\n    }\r\n\r\nIf there are any errors you can get them by calling getErrors()\r\n\r\n    if (response.getOperationRequest().getErrors() != null) { \r\n      System.out.println(response.getOperationRequest().getErrors().getError().get(0).getMessage());\r\n    }\r\n\r\n","title":"Amazon Product Advertising API through Java/SOAP","body":"<p>You need to call the get methods on the Item object to retrieve its details, e.g.:</p>\n\n<pre><code>for (Item item : itemList.getItem()) {\n   System.out.println(item.getItemAttributes().getTitle()); //Title of item\n   System.out.println(item.getDetailPageURL()); // Amazon URL\n   //etc\n}\n</code></pre>\n\n<p>If there are any errors you can get them by calling getErrors()</p>\n\n<pre><code>if (response.getOperationRequest().getErrors() != null) { \n  System.out.println(response.getOperationRequest().getErrors().getError().get(0).getMessage());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"score":1,"creation_date":1323046138,"post_id":8371057,"comment_id":10342546,"body_markdown":"I had to add params.put(&quot;AssociateTag&quot;,&quot;th0426-20&quot;) to get it to work, but thanks.. definitely some progress.","body":"I had to add params.put(&quot;AssociateTag&quot;,&quot;th0426-20&quot;) to get it to work, but thanks.. definitely some progress."},{"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"score":0,"creation_date":1323048980,"post_id":8371057,"comment_id":10342921,"body_markdown":"Not exactly what I wanted, but I&#39;ll give you the points since it set me in the right direction.","body":"Not exactly what I wanted, but I&#39;ll give you the points since it set me in the right direction."},{"owner":{"account_id":448861,"reputation":7682,"user_id":843318,"display_name":"Jonathan Spooner"},"score":0,"creation_date":1323051982,"post_id":8371057,"comment_id":10343328,"body_markdown":"I&#39;d forgotten about the new Associate tag requirement. Glad I could help though.","body":"I&#39;d forgotten about the new Associate tag requirement. Glad I could help though."},{"owner":{"account_id":1999874,"reputation":2995,"user_id":1791184,"accept_rate":77,"display_name":"Timothy Frisch"},"score":0,"creation_date":1399488395,"post_id":8371057,"comment_id":36087335,"body_markdown":"@JonathanSpooner Using this code how could I parse through the output and retrieve individual values? i.e. if I wanted just title and pricing?","body":"@JonathanSpooner Using this code how could I parse through the output and retrieve individual values? i.e. if I wanted just title and pricing?"},{"owner":{"account_id":448861,"reputation":7682,"user_id":843318,"display_name":"Jonathan Spooner"},"score":0,"creation_date":1399528227,"post_id":8371057,"comment_id":36102432,"body_markdown":"@Tukajo Hint: the Document holds all the elements ;)","body":"@Tukajo Hint: the Document holds all the elements ;)"},{"owner":{"account_id":392452,"reputation":844,"user_id":753724,"accept_rate":36,"display_name":"syr"},"score":0,"creation_date":1427531277,"post_id":8371057,"comment_id":46822673,"body_markdown":"I just tried the example, which seems to be OK but I don&#39;t get search results by setting the following params:\n\n        `params.put(&quot;Service&quot;, &quot;AWSECommerceService&quot;);\n        params.put(&quot;Version&quot;, &quot;2009-03-31&quot;);\n        params.put(&quot;Operation&quot;, &quot;ItemSearch&quot;);\n        params.put(&quot;Title&quot;, &quot;Xperia&quot;);\n        params.put(&quot;AssociateTag&quot;,&quot;th0426-20&quot;);`\n\nAny idea why there is no single result?","body":"I just tried the example, which seems to be OK but I don&#39;t get search results by setting the following params:          <code>params.put(&quot;Service&quot;, &quot;AWSECommerceService&quot;);         params.put(&quot;Version&quot;, &quot;2009-03-31&quot;);         params.put(&quot;Operation&quot;, &quot;ItemSearch&quot;);         params.put(&quot;Title&quot;, &quot;Xperia&quot;);         params.put(&quot;AssociateTag&quot;,&quot;th0426-20&quot;);</code>  Any idea why there is no single result?"},{"owner":{"account_id":1010361,"reputation":4702,"user_id":1023060,"accept_rate":99,"display_name":"KyelJmD"},"score":0,"creation_date":1446251406,"post_id":8371057,"comment_id":54681692,"body_markdown":"But how can I loop through the items?","body":"But how can I loop through the items?"}],"tags":[],"owner":{"account_id":448861,"reputation":7682,"user_id":843318,"display_name":"Jonathan Spooner"},"comment_count":7,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1322946585,"creation_date":1322946585,"answer_id":8371057,"question_id":8336427,"body_markdown":"I don&#39;t use the SOAP API but your Bounty requirements didn&#39;t state that it had to use SOAP only that you wanted to call Amazon and get results. So, I&#39;ll post this working example using the REST API which will at least fulfill your stated requirements:\r\n\r\n&gt;I would like some working example code that hits the amazon server and returns results\r\n\r\n\r\nYou&#39;ll need to download the following to fulfill the signature requirements:\r\n\r\nhttp://associates-amazon.s3.amazonaws.com/signed-requests/samples/amazon-product-advt-api-sample-java-query.zip\r\n\r\nUnzip it and grab the `com.amazon.advertising.api.sample.SignedRequestsHelper.java` file and put it directly into your project. This code is used to sign the request.\r\n\r\nYou&#39;ll also need to download Apache Commons Codec 1.3 from the following and add it to your classpath i.e. add it to your project&#39;s library. Note that this is the only version of Codec that will work with the above class (`SignedRequestsHelper`)\r\n\r\nhttp://archive.apache.org/dist/commons/codec/binaries/commons-codec-1.3.zip\r\n\r\nNow you can copy and paste the following making sure to replace `your.pkg.here` with the proper package name and replace the `SECRET` and the `KEY` properties:\r\n\r\n    package your.pkg.here;\r\n\r\n    import java.io.FileNotFoundException;\r\n    import java.io.IOException;\r\n    import java.io.StringWriter;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.xml.parsers.DocumentBuilder;\r\n    import javax.xml.parsers.DocumentBuilderFactory;\r\n    import javax.xml.parsers.ParserConfigurationException;\r\n    import javax.xml.transform.OutputKeys;\r\n    import javax.xml.transform.Transformer;\r\n    import javax.xml.transform.TransformerException;\r\n    import javax.xml.transform.TransformerFactory;\r\n    import javax.xml.transform.dom.DOMSource;\r\n    import javax.xml.transform.stream.StreamResult;\r\n    import org.w3c.dom.Document;\r\n    import org.xml.sax.SAXException;\r\n\r\n    public class Main {\r\n\r\n        private static final String SECRET_KEY = &quot;&lt;YOUR_SECRET_KEY&gt;&quot;;\r\n        private static final String AWS_KEY = &quot;&lt;YOUR_KEY&gt;&quot;;\r\n\r\n        public static void main(String[] args) {\r\n            SignedRequestsHelper helper = SignedRequestsHelper.getInstance(&quot;ecs.amazonaws.com&quot;, AWS_KEY, SECRET_KEY);\r\n\r\n            Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\r\n            params.put(&quot;Service&quot;, &quot;AWSECommerceService&quot;);\r\n            params.put(&quot;Version&quot;, &quot;2009-03-31&quot;);\r\n            params.put(&quot;Operation&quot;, &quot;ItemLookup&quot;);\r\n            params.put(&quot;ItemId&quot;, &quot;1451648537&quot;);\r\n            params.put(&quot;ResponseGroup&quot;, &quot;Large&quot;);\r\n\r\n            String url = helper.sign(params);\r\n            try {\r\n                Document response = getResponse(url);\r\n                printResponse(response);\r\n            } catch (Exception ex) {\r\n                Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n\r\n        private static Document getResponse(String url) throws ParserConfigurationException, IOException, SAXException {\r\n            DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\r\n            Document doc = builder.parse(url);\r\n            return doc;\r\n        }\r\n\r\n        private static void printResponse(Document doc) throws TransformerException, FileNotFoundException {\r\n            Transformer trans = TransformerFactory.newInstance().newTransformer();\r\n            Properties props = new Properties();\r\n            props.put(OutputKeys.INDENT, &quot;yes&quot;);\r\n            trans.setOutputProperties(props);\r\n            StreamResult res = new StreamResult(new StringWriter());\r\n            DOMSource src = new DOMSource(doc);\r\n            trans.transform(src, res);\r\n            String toString = res.getWriter().toString();\r\n            System.out.println(toString);\r\n        }\r\n    }\r\n\r\nAs you can see this is much simpler to setup and use than the SOAP API. If you don&#39;t have a specific requirement for using the SOAP API then I would highly recommend that you use the REST API instead.\r\n\r\nOne of the drawbacks of using the REST API is that the results aren&#39;t unmarshaled into objects for you. This could be remedied by creating the required classes based on the wsdl.\r\n\r\n","title":"Amazon Product Advertising API through Java/SOAP","body":"<p>I don't use the SOAP API but your Bounty requirements didn't state that it had to use SOAP only that you wanted to call Amazon and get results. So, I'll post this working example using the REST API which will at least fulfill your stated requirements:</p>\n\n<blockquote>\n  <p>I would like some working example code that hits the amazon server and returns results</p>\n</blockquote>\n\n<p>You'll need to download the following to fulfill the signature requirements:</p>\n\n<p><a href=\"http://associates-amazon.s3.amazonaws.com/signed-requests/samples/amazon-product-advt-api-sample-java-query.zip\" rel=\"noreferrer\">http://associates-amazon.s3.amazonaws.com/signed-requests/samples/amazon-product-advt-api-sample-java-query.zip</a></p>\n\n<p>Unzip it and grab the <code>com.amazon.advertising.api.sample.SignedRequestsHelper.java</code> file and put it directly into your project. This code is used to sign the request.</p>\n\n<p>You'll also need to download Apache Commons Codec 1.3 from the following and add it to your classpath i.e. add it to your project's library. Note that this is the only version of Codec that will work with the above class (<code>SignedRequestsHelper</code>)</p>\n\n<p><a href=\"http://archive.apache.org/dist/commons/codec/binaries/commons-codec-1.3.zip\" rel=\"noreferrer\">http://archive.apache.org/dist/commons/codec/binaries/commons-codec-1.3.zip</a></p>\n\n<p>Now you can copy and paste the following making sure to replace <code>your.pkg.here</code> with the proper package name and replace the <code>SECRET</code> and the <code>KEY</code> properties:</p>\n\n<pre><code>package your.pkg.here;\n\nimport java.io.FileNotFoundException;\nimport java.io.IOException;\nimport java.io.StringWriter;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Properties;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.xml.parsers.DocumentBuilder;\nimport javax.xml.parsers.DocumentBuilderFactory;\nimport javax.xml.parsers.ParserConfigurationException;\nimport javax.xml.transform.OutputKeys;\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport org.w3c.dom.Document;\nimport org.xml.sax.SAXException;\n\npublic class Main {\n\n    private static final String SECRET_KEY = \"&lt;YOUR_SECRET_KEY&gt;\";\n    private static final String AWS_KEY = \"&lt;YOUR_KEY&gt;\";\n\n    public static void main(String[] args) {\n        SignedRequestsHelper helper = SignedRequestsHelper.getInstance(\"ecs.amazonaws.com\", AWS_KEY, SECRET_KEY);\n\n        Map&lt;String, String&gt; params = new HashMap&lt;String, String&gt;();\n        params.put(\"Service\", \"AWSECommerceService\");\n        params.put(\"Version\", \"2009-03-31\");\n        params.put(\"Operation\", \"ItemLookup\");\n        params.put(\"ItemId\", \"1451648537\");\n        params.put(\"ResponseGroup\", \"Large\");\n\n        String url = helper.sign(params);\n        try {\n            Document response = getResponse(url);\n            printResponse(response);\n        } catch (Exception ex) {\n            Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n\n    private static Document getResponse(String url) throws ParserConfigurationException, IOException, SAXException {\n        DocumentBuilder builder = DocumentBuilderFactory.newInstance().newDocumentBuilder();\n        Document doc = builder.parse(url);\n        return doc;\n    }\n\n    private static void printResponse(Document doc) throws TransformerException, FileNotFoundException {\n        Transformer trans = TransformerFactory.newInstance().newTransformer();\n        Properties props = new Properties();\n        props.put(OutputKeys.INDENT, \"yes\");\n        trans.setOutputProperties(props);\n        StreamResult res = new StreamResult(new StringWriter());\n        DOMSource src = new DOMSource(doc);\n        trans.transform(src, res);\n        String toString = res.getWriter().toString();\n        System.out.println(toString);\n    }\n}\n</code></pre>\n\n<p>As you can see this is much simpler to setup and use than the SOAP API. If you don't have a specific requirement for using the SOAP API then I would highly recommend that you use the REST API instead.</p>\n\n<p>One of the drawbacks of using the REST API is that the results aren't unmarshaled into objects for you. This could be remedied by creating the required classes based on the wsdl.</p>\n"},{"tags":[],"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1323046450,"creation_date":1323046450,"answer_id":8379897,"question_id":8336427,"body_markdown":"This ended up working (I had to add my associateTag to the request):\r\n\r\n\r\n    public class Client {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString secretKey = &quot;&lt;MY_SECRET_KEY&gt;&quot;;\r\n    \t\tString awsKey = &quot;&lt;MY AWS KEY&gt;&quot;;\r\n    \r\n    \t\tSystem.out.println(&quot;API Test started&quot;);\r\n    \t\t\r\n    \r\n    \t\tAWSECommerceService service = new AWSECommerceService();\r\n    \t\tservice.setHandlerResolver(new AwsHandlerResolver(secretKey)); // important\r\n    \t\tAWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n    \r\n    \t\t// Get the operation object:\r\n    \t\tcom.ECS.client.jax.ItemSearchRequest itemRequest = new com.ECS.client.jax.ItemSearchRequest();\r\n    \r\n    \t\t// Fill in the request object:\r\n    \t\titemRequest.setSearchIndex(&quot;Books&quot;);\r\n    \t\titemRequest.setKeywords(&quot;Star Wars&quot;);\r\n    \t\titemRequest.getResponseGroup().add(&quot;Large&quot;);\r\n    //\t\titemRequest.getResponseGroup().add(&quot;Images&quot;);\r\n    \t\t// itemRequest.setVersion(&quot;2011-08-01&quot;);\r\n    \t\tcom.ECS.client.jax.ItemSearch ItemElement = new com.ECS.client.jax.ItemSearch();\r\n    \t\tItemElement.setAWSAccessKeyId(awsKey);\r\n    \t\tItemElement.setAssociateTag(&quot;th0426-20&quot;);\r\n    \t\tItemElement.getRequest().add(itemRequest);\r\n    \r\n    \t\t// Call the Web service operation and store the response\r\n    \t\t// in the response object:\r\n    \t\tcom.ECS.client.jax.ItemSearchResponse response = port\r\n    \t\t\t\t.itemSearch(ItemElement);\r\n    \r\n    \t\tString r = response.toString();\r\n    \t\tSystem.out.println(&quot;response: &quot; + r);\r\n    \r\n    \t\tfor (Items itemList : response.getItems()) {\r\n    \t\t\tSystem.out.println(itemList);\r\n    \r\n    \t\t\tfor (Item itemObj : itemList.getItem()) {\r\n    \r\n    \t\t\t\tSystem.out.println(itemObj.getItemAttributes().getTitle()); // Title\r\n    \t\t\t\tSystem.out.println(itemObj.getDetailPageURL()); // Amazon URL\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;API Test stopped&quot;);\r\n    \r\n    \t}\r\n    }","title":"Amazon Product Advertising API through Java/SOAP","body":"<p>This ended up working (I had to add my associateTag to the request):</p>\n\n<pre><code>public class Client {\n\n    public static void main(String[] args) {\n\n        String secretKey = \"&lt;MY_SECRET_KEY&gt;\";\n        String awsKey = \"&lt;MY AWS KEY&gt;\";\n\n        System.out.println(\"API Test started\");\n\n\n        AWSECommerceService service = new AWSECommerceService();\n        service.setHandlerResolver(new AwsHandlerResolver(secretKey)); // important\n        AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n\n        // Get the operation object:\n        com.ECS.client.jax.ItemSearchRequest itemRequest = new com.ECS.client.jax.ItemSearchRequest();\n\n        // Fill in the request object:\n        itemRequest.setSearchIndex(\"Books\");\n        itemRequest.setKeywords(\"Star Wars\");\n        itemRequest.getResponseGroup().add(\"Large\");\n//      itemRequest.getResponseGroup().add(\"Images\");\n        // itemRequest.setVersion(\"2011-08-01\");\n        com.ECS.client.jax.ItemSearch ItemElement = new com.ECS.client.jax.ItemSearch();\n        ItemElement.setAWSAccessKeyId(awsKey);\n        ItemElement.setAssociateTag(\"th0426-20\");\n        ItemElement.getRequest().add(itemRequest);\n\n        // Call the Web service operation and store the response\n        // in the response object:\n        com.ECS.client.jax.ItemSearchResponse response = port\n                .itemSearch(ItemElement);\n\n        String r = response.toString();\n        System.out.println(\"response: \" + r);\n\n        for (Items itemList : response.getItems()) {\n            System.out.println(itemList);\n\n            for (Item itemObj : itemList.getItem()) {\n\n                System.out.println(itemObj.getItemAttributes().getTitle()); // Title\n                System.out.println(itemObj.getDetailPageURL()); // Amazon URL\n            }\n        }\n\n        System.out.println(\"API Test stopped\");\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15834,"reputation":13713,"user_id":33863,"accept_rate":92,"display_name":"mainstringargs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10008,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":8379897,"answer_count":4,"score":8,"last_activity_date":1676517280,"creation_date":1322712548,"question_id":8336427,"body_markdown":"I have been playing with Amazon&#39;s Product Advertising API, and I cannot get a request to go through and give me data.  I have been working off of this:  http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/GSG/ and this: https://stackoverflow.com/questions/3189979/amazon-product-advertising-api-signed-request-with-java\r\n\r\nHere is my code. I generated the SOAP bindings using this:  http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/GSG/YourDevelopmentEnvironment.html#Java\r\n\r\nOn the Classpath, I only have: [commons-codec.1.5.jar][1]\r\n\r\n    import com.ECS.client.jax.AWSECommerceService;\r\n    import com.ECS.client.jax.AWSECommerceServicePortType;\r\n    import com.ECS.client.jax.Item;\r\n    import com.ECS.client.jax.ItemLookup;\r\n    import com.ECS.client.jax.ItemLookupRequest;\r\n    import com.ECS.client.jax.ItemLookupResponse;\r\n    import com.ECS.client.jax.ItemSearchResponse;\r\n    import com.ECS.client.jax.Items;\r\n    \r\n    public class Client {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tString secretKey = &lt;my-secret-key&gt;;\r\n    \t\tString awsKey = &lt;my-aws-key&gt;;\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;API Test started&quot;);\r\n    \r\n    \t\tAWSECommerceService service = new AWSECommerceService();\r\n    \t\tservice.setHandlerResolver(new AwsHandlerResolver(\r\n    \t\t\t\tsecretKey)); // important\r\n    \t\tAWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n    \r\n    \t\t// Get the operation object:\r\n    \t\tcom.ECS.client.jax.ItemSearchRequest itemRequest = new com.ECS.client.jax.ItemSearchRequest();\r\n    \r\n    \t\t// Fill in the request object:\r\n    \t\titemRequest.setSearchIndex(&quot;Books&quot;);\r\n    \t\titemRequest.setKeywords(&quot;Star Wars&quot;);\r\n    \t\t// itemRequest.setVersion(&quot;2011-08-01&quot;);\r\n    \t\tcom.ECS.client.jax.ItemSearch ItemElement = new com.ECS.client.jax.ItemSearch();\r\n    \t\tItemElement.setAWSAccessKeyId(awsKey);\r\n    \t\tItemElement.getRequest().add(itemRequest);\r\n    \r\n    \t\t// Call the Web service operation and store the response\r\n    \t\t// in the response object:\r\n    \t\tcom.ECS.client.jax.ItemSearchResponse response = port\r\n    \t\t\t\t.itemSearch(ItemElement);\r\n    \r\n    \t\tString r = response.toString();\r\n    \t\tSystem.out.println(&quot;response: &quot; + r);\r\n    \r\n    \t\tfor (Items itemList : response.getItems()) {\r\n    \t\t\tSystem.out.println(itemList);\r\n    \t\t\tfor (Item item : itemList.getItem()) {\r\n    \t\t\t\tSystem.out.println(item);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println(&quot;API Test stopped&quot;);\r\n    \r\n    \t}\r\n    }\r\n\r\nHere is what I get back.. I was hoping to see some Star Wars books available on Amazon dumped out to my console :-/:\r\n\r\n    API Test started\r\n    response: com.ECS.client.jax.ItemSearchResponse@7a6769ea\r\n    com.ECS.client.jax.Items@1b5ac06e\r\n    API Test stopped\r\n\r\nWhat am I doing wrong (Note that no &quot;item&quot; in the second for loop is being printed out, because its empty)?  How can I troubleshoot this or get relevant error information?\r\n\r\n  [1]: http://commons.apache.org/codec/download_codec.cgi","title":"Amazon Product Advertising API through Java/SOAP","body":"<p>I have been playing with Amazon's Product Advertising API, and I cannot get a request to go through and give me data.  I have been working off of this:  <a href=\"http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/GSG/\" rel=\"nofollow noreferrer\">http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/GSG/</a> and this: <a href=\"https://stackoverflow.com/questions/3189979/amazon-product-advertising-api-signed-request-with-java\">Amazon Product Advertising API signed request with Java</a></p>\n<p>Here is my code. I generated the SOAP bindings using this:  <a href=\"http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/GSG/YourDevelopmentEnvironment.html#Java\" rel=\"nofollow noreferrer\">http://docs.amazonwebservices.com/AWSECommerceService/2011-08-01/GSG/YourDevelopmentEnvironment.html#Java</a></p>\n<p>On the Classpath, I only have: <a href=\"http://commons.apache.org/codec/download_codec.cgi\" rel=\"nofollow noreferrer\">commons-codec.1.5.jar</a></p>\n<pre><code>import com.ECS.client.jax.AWSECommerceService;\nimport com.ECS.client.jax.AWSECommerceServicePortType;\nimport com.ECS.client.jax.Item;\nimport com.ECS.client.jax.ItemLookup;\nimport com.ECS.client.jax.ItemLookupRequest;\nimport com.ECS.client.jax.ItemLookupResponse;\nimport com.ECS.client.jax.ItemSearchResponse;\nimport com.ECS.client.jax.Items;\n\npublic class Client {\n\n    public static void main(String[] args) {\n        \n        String secretKey = &lt;my-secret-key&gt;;\n        String awsKey = &lt;my-aws-key&gt;;\n        \n        System.out.println(&quot;API Test started&quot;);\n\n        AWSECommerceService service = new AWSECommerceService();\n        service.setHandlerResolver(new AwsHandlerResolver(\n                secretKey)); // important\n        AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n\n        // Get the operation object:\n        com.ECS.client.jax.ItemSearchRequest itemRequest = new com.ECS.client.jax.ItemSearchRequest();\n\n        // Fill in the request object:\n        itemRequest.setSearchIndex(&quot;Books&quot;);\n        itemRequest.setKeywords(&quot;Star Wars&quot;);\n        // itemRequest.setVersion(&quot;2011-08-01&quot;);\n        com.ECS.client.jax.ItemSearch ItemElement = new com.ECS.client.jax.ItemSearch();\n        ItemElement.setAWSAccessKeyId(awsKey);\n        ItemElement.getRequest().add(itemRequest);\n\n        // Call the Web service operation and store the response\n        // in the response object:\n        com.ECS.client.jax.ItemSearchResponse response = port\n                .itemSearch(ItemElement);\n\n        String r = response.toString();\n        System.out.println(&quot;response: &quot; + r);\n\n        for (Items itemList : response.getItems()) {\n            System.out.println(itemList);\n            for (Item item : itemList.getItem()) {\n                System.out.println(item);\n            }\n        }\n\n        System.out.println(&quot;API Test stopped&quot;);\n\n    }\n}\n</code></pre>\n<p>Here is what I get back.. I was hoping to see some Star Wars books available on Amazon dumped out to my console :-/:</p>\n<pre><code>API Test started\nresponse: com.ECS.client.jax.ItemSearchResponse@7a6769ea\ncom.ECS.client.jax.Items@1b5ac06e\nAPI Test stopped\n</code></pre>\n<p>What am I doing wrong (Note that no &quot;item&quot; in the second for loop is being printed out, because its empty)?  How can I troubleshoot this or get relevant error information?</p>\n"},{"tags":["java","header","docx","tableofcontents"],"answers":[{"tags":[],"owner":{"account_id":10083481,"reputation":488,"user_id":7452933,"accept_rate":87,"display_name":"Sucy"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1491974259,"creation_date":1491974259,"answer_id":43360837,"question_id":43291213,"body_markdown":"    public class App {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      XWPFDocument doc= new XWPFDocument();\r\n      \r\n      doc.createTOC();\r\n      addCustomHeadingStyle(doc, &quot;heading 1&quot;, 1);  \r\n      addCustomHeadingStyle(doc, &quot;heading 2&quot;, 2);  \r\n      \r\n      // the body content\r\n      XWPFParagraph paragraph = doc.createParagraph();\r\n      \r\n      \r\n      CTP ctP = paragraph.getCTP();\r\n      CTSimpleField toc = ctP.addNewFldSimple();\r\n      toc.setInstr(&quot;TOC \\\\h&quot;);\r\n      toc.setDirty(STOnOff.TRUE);\r\n      \r\n      XWPFRun run=paragraph.createRun();  \r\n      run.setText(&quot;The Body:&quot;);\r\n    \r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();  \r\n      run.setText(&quot;Lorem ipsum&quot;);\r\n      paragraph.setStyle(&quot;heading 1&quot;);  \r\n    \r\n    \r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();\r\n      run.addBreak(BreakType.PAGE); \r\n      run.setText(&quot;Lorem ipsum&quot;);\r\n      paragraph.setStyle(&quot;heading 2&quot;);  \r\n    \r\n    \r\n      paragraph = doc.createParagraph();\r\n      run=paragraph.createRun();\r\n      run.addBreak(BreakType.PAGE); \r\n      run.setText(&quot;Lorem ipsum&quot;);\r\n      FileOutputStream fos = new FileOutputStream(&quot;D:\\\\toc.docx&quot;);\r\n    \tdoc.write(fos);\r\n     }\r\n     private static void addCustomHeadingStyle(XWPFDocument docxDocument, String strStyleId, int headingLevel) {  \r\n    \t   \r\n         CTStyle ctStyle = CTStyle.Factory.newInstance();  \r\n         ctStyle.setStyleId(strStyleId);  \r\n    \r\n         CTString styleName = CTString.Factory.newInstance();  \r\n         styleName.setVal(strStyleId);  \r\n         ctStyle.setName(styleName);  \r\n    \r\n         CTDecimalNumber indentNumber = CTDecimalNumber.Factory.newInstance();  \r\n         indentNumber.setVal(BigInteger.valueOf(headingLevel));  \r\n    \r\n         // lower number &gt; style is more prominent in the formats bar  \r\n         ctStyle.setUiPriority(indentNumber);  \r\n    \r\n         CTOnOff onoffnull = CTOnOff.Factory.newInstance();  \r\n         ctStyle.setUnhideWhenUsed(onoffnull);  \r\n    \r\n         // style shows up in the formats bar  \r\n         ctStyle.setQFormat(onoffnull);  \r\n    \r\n         // style defines a heading of the given level  \r\n         CTPPr ppr = CTPPr.Factory.newInstance();  \r\n         ppr.setOutlineLvl(indentNumber);  \r\n         ctStyle.setPPr(ppr);  \r\n    \r\n         XWPFStyle style = new XWPFStyle(ctStyle);  \r\n    \r\n         // is a null op if already defined  \r\n         XWPFStyles styles = docxDocument.createStyles();  \r\n    \r\n         style.setType(STStyleType.PARAGRAPH);  \r\n         styles.addStyle(style);  \r\n    \r\n     }  \r\n    \r\n     }","title":"How to create Table of Content in java using Apache POI?","body":"<pre><code>public class App {\n\n public static void main(String[] args) throws Exception {\n\n  XWPFDocument doc= new XWPFDocument();\n\n  doc.createTOC();\n  addCustomHeadingStyle(doc, \"heading 1\", 1);  \n  addCustomHeadingStyle(doc, \"heading 2\", 2);  \n\n  // the body content\n  XWPFParagraph paragraph = doc.createParagraph();\n\n\n  CTP ctP = paragraph.getCTP();\n  CTSimpleField toc = ctP.addNewFldSimple();\n  toc.setInstr(\"TOC \\\\h\");\n  toc.setDirty(STOnOff.TRUE);\n\n  XWPFRun run=paragraph.createRun();  \n  run.setText(\"The Body:\");\n\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();  \n  run.setText(\"Lorem ipsum\");\n  paragraph.setStyle(\"heading 1\");  \n\n\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();\n  run.addBreak(BreakType.PAGE); \n  run.setText(\"Lorem ipsum\");\n  paragraph.setStyle(\"heading 2\");  \n\n\n  paragraph = doc.createParagraph();\n  run=paragraph.createRun();\n  run.addBreak(BreakType.PAGE); \n  run.setText(\"Lorem ipsum\");\n  FileOutputStream fos = new FileOutputStream(\"D:\\\\toc.docx\");\n    doc.write(fos);\n }\n private static void addCustomHeadingStyle(XWPFDocument docxDocument, String strStyleId, int headingLevel) {  \n\n     CTStyle ctStyle = CTStyle.Factory.newInstance();  \n     ctStyle.setStyleId(strStyleId);  \n\n     CTString styleName = CTString.Factory.newInstance();  \n     styleName.setVal(strStyleId);  \n     ctStyle.setName(styleName);  \n\n     CTDecimalNumber indentNumber = CTDecimalNumber.Factory.newInstance();  \n     indentNumber.setVal(BigInteger.valueOf(headingLevel));  \n\n     // lower number &gt; style is more prominent in the formats bar  \n     ctStyle.setUiPriority(indentNumber);  \n\n     CTOnOff onoffnull = CTOnOff.Factory.newInstance();  \n     ctStyle.setUnhideWhenUsed(onoffnull);  \n\n     // style shows up in the formats bar  \n     ctStyle.setQFormat(onoffnull);  \n\n     // style defines a heading of the given level  \n     CTPPr ppr = CTPPr.Factory.newInstance();  \n     ppr.setOutlineLvl(indentNumber);  \n     ctStyle.setPPr(ppr);  \n\n     XWPFStyle style = new XWPFStyle(ctStyle);  \n\n     // is a null op if already defined  \n     XWPFStyles styles = docxDocument.createStyles();  \n\n     style.setType(STStyleType.PARAGRAPH);  \n     styles.addStyle(style);  \n\n }  \n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20958252,"reputation":3,"user_id":15398234,"display_name":"Ramzan Niazi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676516955,"creation_date":1676516570,"answer_id":75467432,"question_id":43291213,"body_markdown":"I search a lot for Table of Content (toc) and found many answers on the internet but all are out date for me I use \r\n\r\n`poi-ooxml  5.2.3 `\r\n`poi-ooxml-full 5.2.3 `\r\n`xmlbeans 5.1.1 `\r\n`spark-excel_2.10 0.8.3 `\r\nI am not sure that all these libraries are necessary for code. I just mention this because these packages are in my poi.xml file and my code is working. After you create a document using this code when you open the file the first time it shows pop window just press &quot;yes&quot;.\r\n\r\n    \r\n\r\n    import java.io.FileOutputStream;\r\n    import java.math.BigInteger;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    import org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\r\n    \r\n    public class toc02 {\r\n        public static void main(String[] args) throws Exception {\r\n            XWPFDocument doc = new XWPFDocument();\r\n\r\n        doc.createTOC();\r\n        addCustomHeadingStyle(doc, &quot;heading 1&quot;, 1);\r\n        addCustomHeadingStyle(doc, &quot;heading 2&quot;, 2);\r\n\r\n        // the body content\r\n        XWPFParagraph paragraph = doc.createParagraph();\r\n\r\n        CTP ctP = paragraph.getCTP();\r\n        CTSimpleField toc = ctP.addNewFldSimple();\r\n        toc.setInstr(&quot;TOC \\\\h&quot;);\r\n        toc.setDirty(true);\r\n\r\n        XWPFRun run = paragraph.createRun();\r\n        run.setText(&quot;The Body:&quot;);\r\n\r\n        paragraph = doc.createParagraph();\r\n        run = paragraph.createRun();\r\n        run.setText(&quot;Lorem ipsum&quot;);\r\n        paragraph.setStyle(&quot;heading 1&quot;);\r\n\r\n        paragraph = doc.createParagraph();\r\n        run = paragraph.createRun();\r\n        run.addBreak(BreakType.PAGE);\r\n        run.setText(&quot;Lorem ipsum&quot;);\r\n        paragraph.setStyle(&quot;heading 2&quot;);\r\n\r\n        paragraph = doc.createParagraph();\r\n        run = paragraph.createRun();\r\n        run.addBreak(BreakType.PAGE);\r\n        run.setText(&quot;Lorem ipsum&quot;);\r\n        FileOutputStream fos = new FileOutputStream(&quot;D:\\\\toc.docx&quot;);\r\n        doc.write(fos);\r\n    }\r\n\r\n    private static void addCustomHeadingStyle(XWPFDocument docxDocument, String strStyleId, int headingLevel) {\r\n\r\n        CTStyle ctStyle = CTStyle.Factory.newInstance();\r\n        ctStyle.setStyleId(strStyleId);\r\n\r\n        CTString styleName = CTString.Factory.newInstance();\r\n        styleName.setVal(strStyleId);\r\n        ctStyle.setName(styleName);\r\n\r\n        CTDecimalNumber indentNumber = CTDecimalNumber.Factory.newInstance();\r\n        indentNumber.setVal(BigInteger.valueOf(headingLevel));\r\n\r\n        // lower number &gt; style is more prominent in the formats bar\r\n        ctStyle.setUiPriority(indentNumber);\r\n\r\n        CTOnOff onoffnull = CTOnOff.Factory.newInstance();\r\n        ctStyle.setUnhideWhenUsed(onoffnull);\r\n\r\n        // style shows up in the formats bar\r\n        ctStyle.setQFormat(onoffnull);\r\n\r\n        // style defines a heading of the given level\r\n        CTPPrGeneral ppr = CTPPrGeneral.Factory.newInstance();\r\n        ppr.setOutlineLvl(indentNumber);\r\n        ctStyle.setPPr(ppr);\r\n\r\n        XWPFStyle style = new XWPFStyle(ctStyle);\r\n\r\n        // is a null op if already defined\r\n        XWPFStyles styles = docxDocument.createStyles();\r\n\r\n        style.setType(STStyleType.PARAGRAPH);\r\n        styles.addStyle(style);\r\n    }\r\n\r\n    }\r\n\r\n\r\nI just updates a few fields from the above code.\r\nchange from this\r\n\r\n    CTPPr ppr = CTPPr.Factory.newInstance();\r\n\r\nto this\r\n\r\n    CTPPrGeneral ppr = CTPPrGeneral.Factory.newInstance();\r\n \r\nchange from this\r\n\r\n    toc.setDirty(STOnOff.TRUE);\r\nto this\r\n\r\n     toc.setDirty(true);\r\n\r\n","title":"How to create Table of Content in java using Apache POI?","body":"<p>I search a lot for Table of Content (toc) and found many answers on the internet but all are out date for me I use</p>\n<p><code>poi-ooxml  5.2.3 </code>\n<code>poi-ooxml-full 5.2.3 </code>\n<code>xmlbeans 5.1.1 </code>\n<code>spark-excel_2.10 0.8.3 </code>\nI am not sure that all these libraries are necessary for code. I just mention this because these packages are in my poi.xml file and my code is working. After you create a document using this code when you open the file the first time it shows pop window just press &quot;yes&quot;.</p>\n<pre><code>import java.io.FileOutputStream;\nimport java.math.BigInteger;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\nimport org.openxmlformats.schemas.wordprocessingml.x2006.main.*;\n\npublic class toc02 {\n    public static void main(String[] args) throws Exception {\n        XWPFDocument doc = new XWPFDocument();\n\n    doc.createTOC();\n    addCustomHeadingStyle(doc, &quot;heading 1&quot;, 1);\n    addCustomHeadingStyle(doc, &quot;heading 2&quot;, 2);\n\n    // the body content\n    XWPFParagraph paragraph = doc.createParagraph();\n\n    CTP ctP = paragraph.getCTP();\n    CTSimpleField toc = ctP.addNewFldSimple();\n    toc.setInstr(&quot;TOC \\\\h&quot;);\n    toc.setDirty(true);\n\n    XWPFRun run = paragraph.createRun();\n    run.setText(&quot;The Body:&quot;);\n\n    paragraph = doc.createParagraph();\n    run = paragraph.createRun();\n    run.setText(&quot;Lorem ipsum&quot;);\n    paragraph.setStyle(&quot;heading 1&quot;);\n\n    paragraph = doc.createParagraph();\n    run = paragraph.createRun();\n    run.addBreak(BreakType.PAGE);\n    run.setText(&quot;Lorem ipsum&quot;);\n    paragraph.setStyle(&quot;heading 2&quot;);\n\n    paragraph = doc.createParagraph();\n    run = paragraph.createRun();\n    run.addBreak(BreakType.PAGE);\n    run.setText(&quot;Lorem ipsum&quot;);\n    FileOutputStream fos = new FileOutputStream(&quot;D:\\\\toc.docx&quot;);\n    doc.write(fos);\n}\n\nprivate static void addCustomHeadingStyle(XWPFDocument docxDocument, String strStyleId, int headingLevel) {\n\n    CTStyle ctStyle = CTStyle.Factory.newInstance();\n    ctStyle.setStyleId(strStyleId);\n\n    CTString styleName = CTString.Factory.newInstance();\n    styleName.setVal(strStyleId);\n    ctStyle.setName(styleName);\n\n    CTDecimalNumber indentNumber = CTDecimalNumber.Factory.newInstance();\n    indentNumber.setVal(BigInteger.valueOf(headingLevel));\n\n    // lower number &gt; style is more prominent in the formats bar\n    ctStyle.setUiPriority(indentNumber);\n\n    CTOnOff onoffnull = CTOnOff.Factory.newInstance();\n    ctStyle.setUnhideWhenUsed(onoffnull);\n\n    // style shows up in the formats bar\n    ctStyle.setQFormat(onoffnull);\n\n    // style defines a heading of the given level\n    CTPPrGeneral ppr = CTPPrGeneral.Factory.newInstance();\n    ppr.setOutlineLvl(indentNumber);\n    ctStyle.setPPr(ppr);\n\n    XWPFStyle style = new XWPFStyle(ctStyle);\n\n    // is a null op if already defined\n    XWPFStyles styles = docxDocument.createStyles();\n\n    style.setType(STStyleType.PARAGRAPH);\n    styles.addStyle(style);\n}\n\n}\n</code></pre>\n<p>I just updates a few fields from the above code.\nchange from this</p>\n<pre><code>CTPPr ppr = CTPPr.Factory.newInstance();\n</code></pre>\n<p>to this</p>\n<pre><code>CTPPrGeneral ppr = CTPPrGeneral.Factory.newInstance();\n</code></pre>\n<p>change from this</p>\n<pre><code>toc.setDirty(STOnOff.TRUE);\n</code></pre>\n<p>to this</p>\n<pre><code> toc.setDirty(true);\n</code></pre>\n"}],"owner":{"account_id":10641070,"reputation":65,"user_id":7836071,"display_name":"Pawan Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2096,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":43360837,"answer_count":2,"score":-1,"last_activity_date":1676516955,"creation_date":1491635106,"question_id":43291213,"body_markdown":"Anyone please give me a simple example. \r\ni am unable to find example about Table of content using Apache POI Docx.\r\nThank you.\r\n--------------------------------------------------","title":"How to create Table of Content in java using Apache POI?","body":"<p>Anyone please give me a simple example. \ni am unable to find example about Table of content using Apache POI Docx.</p>\n\n<h2>Thank you.</h2>\n"},{"tags":["java","google-cloud-platform","google-cloud-dataflow","apache-beam"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676441586,"post_id":75455778,"comment_id":133135242,"body_markdown":"Apache beam has an &quot;options&quot; configuration file https://beam.apache.org/releases/pydoc/2.0.0/_modules/apache_beam/options/pipeline_options.html   while it is not part of a server there are ways of managing assigning  the individual number of worker threads of the JVM and CPU.   https://cloud.google.com/dataflow/docs/reference/pipeline-options","body":"Apache beam has an &quot;options&quot; configuration file <a href=\"https://beam.apache.org/releases/pydoc/2.0.0/_modules/apache_beam/options/pipeline_options.html\" rel=\"nofollow noreferrer\">beam.apache.org/releases/pydoc/2.0.0/_modules/apache_beam/&hellip;</a>   while it is not part of a server there are ways of managing assigning  the individual number of worker threads of the JVM and CPU.   <a href=\"https://cloud.google.com/dataflow/docs/reference/pipeline-options\" rel=\"nofollow noreferrer\">cloud.google.com/dataflow/docs/reference/pipeline-options</a>"},{"owner":{"account_id":4782420,"reputation":1,"user_id":3863788,"display_name":"user3863788"},"score":0,"creation_date":1676442152,"post_id":75455778,"comment_id":133135333,"body_markdown":"How does this help in solving above suggestion?","body":"How does this help in solving above suggestion?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676442896,"post_id":75455778,"comment_id":133135456,"body_markdown":"You said   ...&quot;tried this documentation ( Google data flow docs ) but could not figure out how to solve this&quot;...  and You also said ...&quot;want to understand what does the suggestion mean and how do I implement parallelism&quot;...   Of &quot;how&quot; , as the others of us do, you can read it!!! And read the java API docs about &quot;concurrency&quot; and worker thread management too!   So it means how you manage JVM threads for the CPU(s) in Apache beam and Google data flow.","body":"You said   ...&quot;tried this documentation ( Google data flow docs ) but could not figure out how to solve this&quot;...  and You also said ...&quot;want to understand what does the suggestion mean and how do I implement parallelism&quot;...   Of &quot;how&quot; , as the others of us do, you can read it!!! And read the java API docs about &quot;concurrency&quot; and worker thread management too!   So it means how you manage JVM threads for the CPU(s) in Apache beam and Google data flow."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676443425,"post_id":75455778,"comment_id":133135543,"body_markdown":"....and if you have some time CPU cores and NUMA Non-uniform memory access and SMP  shared-memory multiprocessing \n may be of some help depending the machines hardware.","body":"....and if you have some time CPU cores and NUMA Non-uniform memory access and SMP  shared-memory multiprocessing   may be of some help depending the machines hardware."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676446448,"post_id":75455778,"comment_id":133136109,"body_markdown":"HEY! did you get &quot;a suggestion message from the runtime&quot;? ( The dataflow pipeline suggests following item... ).  See API docs for static class    org.apache.beam.sdk.transforms.GroupByKey and  static class org.apache.beam.sdk.transforms.GroupByKey.   It&#39;s about not allowing the pipeline to group results and operations together onto the one job by auto optimizing. There appears to be some config setting optional for the runtime also.","body":"HEY! did you get &quot;a suggestion message from the runtime&quot;? ( The dataflow pipeline suggests following item... ).  See API docs for static class    org.apache.beam.sdk.transforms.GroupByKey and  static class org.apache.beam.sdk.transforms.GroupByKey.   It&#39;s about not allowing the pipeline to group results and operations together onto the one job by auto optimizing. There appears to be some config setting optional for the runtime also."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676446636,"post_id":75455778,"comment_id":133136149,"body_markdown":"One final problem, if you are UPDATE into a database it may also be wise to queue the results into a transaction rather than get at the database per job if as you seem to show there are over a million result elements!","body":"One final problem, if you are UPDATE into a database it may also be wise to queue the results into a transaction rather than get at the database per job if as you seem to show there are over a million result elements!"}],"answers":[{"comments":[{"owner":{"account_id":4782420,"reputation":1,"user_id":3863788,"display_name":"user3863788"},"score":0,"creation_date":1676519119,"post_id":75467463,"comment_id":133154425,"body_markdown":"I did try to reshuffle but it did not have any effect\nI am facing same issue.","body":"I did try to reshuffle but it did not have any effect I am facing same issue."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676526320,"post_id":75467463,"comment_id":133155323,"body_markdown":"Apart threadpools and itsAPI , have you checked in the OS how many cores are given over to the JVM? And  are there any direct API controls in beam and data flow. I&#39;ve been noticing to test such heavy concurrent processing   for servlets and pages requires a Dev machine with e.g.  32 cores before any real world test attempt at triggering a bottleneck of concurrent work.","body":"Apart threadpools and itsAPI , have you checked in the OS how many cores are given over to the JVM? And  are there any direct API controls in beam and data flow. I&#39;ve been noticing to test such heavy concurrent processing   for servlets and pages requires a Dev machine with e.g.  32 cores before any real world test attempt at triggering a bottleneck of concurrent work."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676528793,"post_id":75467463,"comment_id":133155737,"body_markdown":"Also, just noticed the typo in early comment should contain.. read about &quot;side inputs&quot; (job fusion by worker threads thread optimizing control) by re feeding into another org.apache.beam.sdk.transforms.ParDo in it&#39;s API doc","body":"Also, just noticed the typo in early comment should contain.. read about &quot;side inputs&quot; (job fusion by worker threads thread optimizing control) by re feeding into another org.apache.beam.sdk.transforms.ParDo in it&#39;s API doc"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676530100,"post_id":75467463,"comment_id":133155952,"body_markdown":"Hazard a guess, Google Data flow belongs on its own separate machine with a minimalist OS for vast job quantities to allow the high level of processing with concurrency to occur rational thread configuration and hardware resource safety! e.g. 32 CPU cores and all software configured from the base up with the machine containing OS and thereabout Google data flow only.","body":"Hazard a guess, Google Data flow belongs on its own separate machine with a minimalist OS for vast job quantities to allow the high level of processing with concurrency to occur rational thread configuration and hardware resource safety! e.g. 32 CPU cores and all software configured from the base up with the machine containing OS and thereabout Google data flow only."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676534407,"post_id":75467463,"comment_id":133156957,"body_markdown":"As the previous comment, I do not believe you will get anywhere until the database call is removed from your code and the database collects through an intermediary program looking for completed separately indexed results stored in a folder. The G dataflow program has a 30gb default disk space requirement and the config suggests a special tempdir and special jobs folder. DB connections require timeout unlike standard read write waitable network or thread streams.","body":"As the previous comment, I do not believe you will get anywhere until the database call is removed from your code and the database collects through an intermediary program looking for completed separately indexed results stored in a folder. The G dataflow program has a 30gb default disk space requirement and the config suggests a special tempdir and special jobs folder. DB connections require timeout unlike standard read write waitable network or thread streams."}],"tags":[],"owner":{"account_id":1874246,"reputation":1390,"user_id":1695821,"display_name":"Bruno Volpato"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676516888,"creation_date":1676516888,"answer_id":75467463,"question_id":75455778,"body_markdown":"Please look at [Fusion Optimization](https://cloud.google.com/dataflow/docs/pipeline-lifecycle#fusion_optimization) for some background information on how to enforce/prevent a fusion.\r\n\r\nA very common way is to have [GroupByKey](https://beam.apache.org/documentation/transforms/java/aggregation/groupbykey/) if there is some natural way to group things, or use operations such as [Reshuffle.ViaRandomKey](https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/transforms/Reshuffle.ViaRandomKey.html) if you want to just spread evenly.","title":"Apache Beam GCP Dataflow Suggestion Implementation","body":"<p>Please look at <a href=\"https://cloud.google.com/dataflow/docs/pipeline-lifecycle#fusion_optimization\" rel=\"nofollow noreferrer\">Fusion Optimization</a> for some background information on how to enforce/prevent a fusion.</p>\n<p>A very common way is to have <a href=\"https://beam.apache.org/documentation/transforms/java/aggregation/groupbykey/\" rel=\"nofollow noreferrer\">GroupByKey</a> if there is some natural way to group things, or use operations such as <a href=\"https://beam.apache.org/releases/javadoc/current/org/apache/beam/sdk/transforms/Reshuffle.ViaRandomKey.html\" rel=\"nofollow noreferrer\">Reshuffle.ViaRandomKey</a> if you want to just spread evenly.</p>\n"}],"owner":{"account_id":4782420,"reputation":1,"user_id":3863788,"display_name":"user3863788"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676516888,"creation_date":1676438777,"question_id":75455778,"body_markdown":"I am running apache beam pipeline on GCP dataflow.\r\nThe dataflow pipeline suggests following item\r\n\r\nA fusion break can be inserted after the following transforms to increase parallelism: ReadFromGCS/Match All/Match filepatterns/ParMultiDo(Match). The transforms had the following output-to-input element count ratio, respectively: 1006307.\r\n\r\nmy pipeline looks something like this\r\n\r\n```python\r\n        PCollection&lt;String&gt; records =  p.apply(&quot;ReadFromGCS&quot;, TextIO.read().from(options.getInput())\r\n                .withHintMatchesManyFiles());\r\n\r\n        PCollection&lt;Document&gt; documents = records.apply(&quot;ConvertToDocument&quot;, ParDo.of(new ProcessJSON(options.getBatch())));\r\n        // Write to MongoDB using ParDo transform sink\r\n        documents.apply(&quot;WriteToMongoDB&quot;, MongoDbIO.write()\r\n                .withUri(&quot;mongodb+srv://&quot;+options.getMongo())\r\n                .withDatabase(options.getDatabase())\r\n                .withCollection(options.getCollection())\r\n                .withBatchSize(options.getBatchSize()));\r\n```\r\n\r\nmy input is a gcs bucket of pattern &#39;gs://test-bucket/test/*.json&#39; which contains million json files\r\nI want to understand what does the suggestion mean and how do I increase parallelism as suggested my dataflow in my case.\r\n\r\nI tried this documentation but could not figure out how to solve this\r\nhttps://cloud.google.com/dataflow/docs/guides/using-dataflow-insights?&amp;_ga=2.162468924.-1096227812.1671933466#high-fan-out\r\n\r\nattaching screenshot \r\n[image ][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pxy7R.png","title":"Apache Beam GCP Dataflow Suggestion Implementation","body":"<p>I am running apache beam pipeline on GCP dataflow.\nThe dataflow pipeline suggests following item</p>\n<p>A fusion break can be inserted after the following transforms to increase parallelism: ReadFromGCS/Match All/Match filepatterns/ParMultiDo(Match). The transforms had the following output-to-input element count ratio, respectively: 1006307.</p>\n<p>my pipeline looks something like this</p>\n<pre class=\"lang-py prettyprint-override\"><code>        PCollection&lt;String&gt; records =  p.apply(&quot;ReadFromGCS&quot;, TextIO.read().from(options.getInput())\n                .withHintMatchesManyFiles());\n\n        PCollection&lt;Document&gt; documents = records.apply(&quot;ConvertToDocument&quot;, ParDo.of(new ProcessJSON(options.getBatch())));\n        // Write to MongoDB using ParDo transform sink\n        documents.apply(&quot;WriteToMongoDB&quot;, MongoDbIO.write()\n                .withUri(&quot;mongodb+srv://&quot;+options.getMongo())\n                .withDatabase(options.getDatabase())\n                .withCollection(options.getCollection())\n                .withBatchSize(options.getBatchSize()));\n</code></pre>\n<p>my input is a gcs bucket of pattern 'gs://test-bucket/test/*.json' which contains million json files\nI want to understand what does the suggestion mean and how do I increase parallelism as suggested my dataflow in my case.</p>\n<p>I tried this documentation but could not figure out how to solve this\n<a href=\"https://cloud.google.com/dataflow/docs/guides/using-dataflow-insights?&amp;_ga=2.162468924.-1096227812.1671933466#high-fan-out\" rel=\"nofollow noreferrer\">https://cloud.google.com/dataflow/docs/guides/using-dataflow-insights?&amp;_ga=2.162468924.-1096227812.1671933466#high-fan-out</a></p>\n<p>attaching screenshot\n<a href=\"https://i.stack.imgur.com/pxy7R.png\" rel=\"nofollow noreferrer\">image </a></p>\n"},{"tags":["java","connection-pooling","ojdbc","apache-commons-dbcp","jdbc-pool"],"answers":[{"tags":[],"owner":{"account_id":11757082,"reputation":69,"user_id":8604431,"display_name":"Anshu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676516643,"creation_date":1676516643,"answer_id":75467437,"question_id":75466522,"body_markdown":"I got the solution for this. below are the changes that I made to my code.\r\n\r\n    CallableStatement stmt;\r\n    Connection connection = stmt.getConnection();\r\n    Connection updatedConnection =((DelegatingConnection) connection).getInnermostDelegate();\r\n    \r\n    OracleConnection nativeConnection = (OracleConnection) updatedConnection;\r\n\r\nI can see the DB transaction now. Let me know If anything I am doing in a wrong way.\r\n","title":"Getting typecast error while creating dbcp2.PoolableConnection with dbcp 2.9 version and Ojdbc8","body":"<p>I got the solution for this. below are the changes that I made to my code.</p>\n<pre><code>CallableStatement stmt;\nConnection connection = stmt.getConnection();\nConnection updatedConnection =((DelegatingConnection) connection).getInnermostDelegate();\n\nOracleConnection nativeConnection = (OracleConnection) updatedConnection;\n</code></pre>\n<p>I can see the DB transaction now. Let me know If anything I am doing in a wrong way.</p>\n"}],"owner":{"account_id":11757082,"reputation":69,"user_id":8604431,"display_name":"Anshu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676516643,"creation_date":1676505235,"question_id":75466522,"body_markdown":"**Background** - I was using commons-dbcp 1.2 in my project and I am trying to upgrade to latest commons-dbcp2 2.9 version with ojdbc8 to achieve the resiliency that comes from newer dpcp2 version.\r\n\r\n**Problem** - Post updating to newer dbcp2 I am getting issue while typecasting java.sql.Connection object to dbcp2.PoolableConnection. It is not allowing typecasting throwing below error.\r\n\r\n     org.apache.commons.dbcp2.PoolingDataSource$PoolGuardConnectionWrapper cannot be cast to org.apache.commons.dbcp2.PoolableConnection\r\n\r\nBelow is my code that I am using.\r\n\r\n            CallableStatement stmt;\r\n            Connection connection = stmt.getConnection();\r\n\r\n\t\t\tPoolableConnection poolConn = (PoolableConnection) connection;\r\n\t\t\tOracleConnection nativeConnection = (OracleConnection) poolConn.getDelegate();\r\n\r\n\r\nI tried to unwrap the connection like below\r\n\r\n    PoolableConnection poolConn =(PoolableConnection)connection.unwrap(Connection.class);\r\n\r\n\r\nBut then I am getting error.\r\n\r\n    oracle.jdbc.driver.T4CConnection cannot be cast to org.apache.commons.dbcp2.PoolableConnection\r\n\r\nCan anyone suggest here what are the changes required to pass through this typecasting issue in order to get Poolable Connection from Pool Guard Connection Wrapper. I am new to dbcp2 and need guidance to proceed further.\r\n\r\nThanks in Adavance.\r\n\r\n\r\nUpdate- I tried a way to unwrap the PoolGuardWrapper \r\n\r\n\r\n\t\t\t\r\n\r\n    Connection connection = stmt.getConnection();\r\n    \t\t\t\r\n    \t\t\tConnection unwarppedConnection= connection.unwrap(Connection.class);\r\n    \r\n    \t\t\tPoolableConnection poolConn = (PoolableConnection)((DelegatingConnection&lt;Connection&gt;) unwarppedConnection).getInnermostDelegate();\r\nOracleConnection nativeConnection = (OracleConnection) poolConn;\r\n\r\n\r\nBut it throwing below error\r\n\r\n    oracle.jdbc.driver.T4CConnection cannot be cast to org.apache.commons.dbcp2.PoolableConnection\r\n\r\n","title":"Getting typecast error while creating dbcp2.PoolableConnection with dbcp 2.9 version and Ojdbc8","body":"<p><strong>Background</strong> - I was using commons-dbcp 1.2 in my project and I am trying to upgrade to latest commons-dbcp2 2.9 version with ojdbc8 to achieve the resiliency that comes from newer dpcp2 version.</p>\n<p><strong>Problem</strong> - Post updating to newer dbcp2 I am getting issue while typecasting java.sql.Connection object to dbcp2.PoolableConnection. It is not allowing typecasting throwing below error.</p>\n<pre><code> org.apache.commons.dbcp2.PoolingDataSource$PoolGuardConnectionWrapper cannot be cast to org.apache.commons.dbcp2.PoolableConnection\n</code></pre>\n<p>Below is my code that I am using.</p>\n<pre><code>        CallableStatement stmt;\n        Connection connection = stmt.getConnection();\n\n        PoolableConnection poolConn = (PoolableConnection) connection;\n        OracleConnection nativeConnection = (OracleConnection) poolConn.getDelegate();\n</code></pre>\n<p>I tried to unwrap the connection like below</p>\n<pre><code>PoolableConnection poolConn =(PoolableConnection)connection.unwrap(Connection.class);\n</code></pre>\n<p>But then I am getting error.</p>\n<pre><code>oracle.jdbc.driver.T4CConnection cannot be cast to org.apache.commons.dbcp2.PoolableConnection\n</code></pre>\n<p>Can anyone suggest here what are the changes required to pass through this typecasting issue in order to get Poolable Connection from Pool Guard Connection Wrapper. I am new to dbcp2 and need guidance to proceed further.</p>\n<p>Thanks in Adavance.</p>\n<p>Update- I tried a way to unwrap the PoolGuardWrapper</p>\n<pre><code>Connection connection = stmt.getConnection();\n            \n            Connection unwarppedConnection= connection.unwrap(Connection.class);\n\n            PoolableConnection poolConn = (PoolableConnection)((DelegatingConnection&lt;Connection&gt;) unwarppedConnection).getInnermostDelegate();\n</code></pre>\n<p>OracleConnection nativeConnection = (OracleConnection) poolConn;</p>\n<p>But it throwing below error</p>\n<pre><code>oracle.jdbc.driver.T4CConnection cannot be cast to org.apache.commons.dbcp2.PoolableConnection\n</code></pre>\n"},{"tags":["java","file","directory","path"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1676515090,"post_id":75467214,"comment_id":133153958,"body_markdown":"It is not required to assign to a path variable. But, you can do that for verification that the path is created as needed (for example, you can do console print of the newly created path). If you are using the path further in the application, you can be assured of the newly created path.","body":"It is not required to assign to a path variable. But, you can do that for verification that the path is created as needed (for example, you can do console print of the newly created path). If you are using the path further in the application, you can be assured of the newly created path."}],"owner":{"account_id":3615835,"reputation":1759,"user_id":3015723,"accept_rate":100,"display_name":"Snappawapa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676516615,"creation_date":1676513977,"question_id":75467214,"body_markdown":"Talking about the Java `java.nio.file.Path` and associated utilities.\r\n\r\nAs the title suggests, is it really necessary for one to set the path they just created?\r\n\r\nI.E,\r\n\r\n```java\r\nPath path = Path.of(&quot;some&quot;, &quot;dir&quot;);\r\n\r\npath = Files.createDirectories(path);\r\n\r\n//continue to use path variable\r\n```\r\n\r\nvs\r\n\r\n```java\r\nPath path = Path.of(&quot;some&quot;, &quot;dir&quot;);\r\n\r\nFiles.createDirectories(path);\r\n\r\n//continue to use path variable\r\n```\r\n\r\nIs the second example adequate, or are there actually changes made that are relevant/ required that are returned in the `Path` object in `createDirectories`?","title":"`java.nio.file.Path`- necessary to `path = Files.createDirectories(path)`?","body":"<p>Talking about the Java <code>java.nio.file.Path</code> and associated utilities.</p>\n<p>As the title suggests, is it really necessary for one to set the path they just created?</p>\n<p>I.E,</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path path = Path.of(&quot;some&quot;, &quot;dir&quot;);\n\npath = Files.createDirectories(path);\n\n//continue to use path variable\n</code></pre>\n<p>vs</p>\n<pre class=\"lang-java prettyprint-override\"><code>Path path = Path.of(&quot;some&quot;, &quot;dir&quot;);\n\nFiles.createDirectories(path);\n\n//continue to use path variable\n</code></pre>\n<p>Is the second example adequate, or are there actually changes made that are relevant/ required that are returned in the <code>Path</code> object in <code>createDirectories</code>?</p>\n"},{"tags":["java","multithreading","java-threads"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676516527,"creation_date":1676516527,"answer_id":75467423,"question_id":75379942,"body_markdown":"When you call `runAsync`, it schedules the `Runnable` passed on the `Executor` passed. This does not necessarily create a new thread, although it might. Typically, it will be run by a thread that has already been created by the `Executor`. Some `Executor` implementations will create new threads when they schedule a task if there are no existing idle threads in their pool, but in general you cannot rely on these threads being a child of the thread scheduling the task for the purposes of inheriting a context class loader, `InheritableThreadLocal` values, etc.\r\n\r\nHowever, objects in general do not &quot;belong&quot; to a thread. Any thread that has access to a reference to an object can use that object.\r\n\r\nThe specific way that this task has a reference to `obj` is through [local variable capture](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#accessing-local-variables). This is a feature of Java that allows lambda expressions to access local variables from the scope where the lambda is defined.\r\n\r\nThe lambda expression above is equivalent to this code using an anonymous inner class:\r\n\r\n     CompletableFuture.runAsync(new Runnable() {\r\n         @Override\r\n         public void run() {\r\n             try {\r\n                 obj.setName(&quot;Async_Thread&quot;);\r\n             } catch (Exception e) {\r\n                 e.printStackTrace();\r\n             }\r\n         }\r\n     }, executor);\r\n\r\nor this code using a named class with a constructor that takes an instance of `MyObject`:\r\n\r\n    class MyRunnable implements Runnable {\r\n        private final MyObject obj;\r\n    \r\n        MyRunnable(MyObject obj) {\r\n            this.obj = obj;\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            try {\r\n                obj.setName(&quot;Async_Thread&quot;);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    // ...\r\n\r\n    CompletableFuture.runAsync(new MyRunnable(obj), executor);\r\n\r\n","title":"Async thread starts with same objects from parent thread","body":"<p>When you call <code>runAsync</code>, it schedules the <code>Runnable</code> passed on the <code>Executor</code> passed. This does not necessarily create a new thread, although it might. Typically, it will be run by a thread that has already been created by the <code>Executor</code>. Some <code>Executor</code> implementations will create new threads when they schedule a task if there are no existing idle threads in their pool, but in general you cannot rely on these threads being a child of the thread scheduling the task for the purposes of inheriting a context class loader, <code>InheritableThreadLocal</code> values, etc.</p>\n<p>However, objects in general do not &quot;belong&quot; to a thread. Any thread that has access to a reference to an object can use that object.</p>\n<p>The specific way that this task has a reference to <code>obj</code> is through <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html#accessing-local-variables\" rel=\"nofollow noreferrer\">local variable capture</a>. This is a feature of Java that allows lambda expressions to access local variables from the scope where the lambda is defined.</p>\n<p>The lambda expression above is equivalent to this code using an anonymous inner class:</p>\n<pre><code> CompletableFuture.runAsync(new Runnable() {\n     @Override\n     public void run() {\n         try {\n             obj.setName(&quot;Async_Thread&quot;);\n         } catch (Exception e) {\n             e.printStackTrace();\n         }\n     }\n }, executor);\n</code></pre>\n<p>or this code using a named class with a constructor that takes an instance of <code>MyObject</code>:</p>\n<pre><code>class MyRunnable implements Runnable {\n    private final MyObject obj;\n\n    MyRunnable(MyObject obj) {\n        this.obj = obj;\n    }\n\n    @Override\n    public void run() {\n        try {\n            obj.setName(&quot;Async_Thread&quot;);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\n// ...\n\nCompletableFuture.runAsync(new MyRunnable(obj), executor);\n</code></pre>\n"}],"owner":{"account_id":24662336,"reputation":504,"user_id":18558424,"display_name":"Abe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75467423,"answer_count":1,"score":0,"last_activity_date":1676516527,"creation_date":1675811858,"question_id":75379942,"body_markdown":"My questions:\r\n1. Is Async thread a child thread? \r\n2. MyObject obj is a local variable in main thread. How can async thread get the same object(reference)? Where does async to get it from?\r\n\r\nMy below code will end up with obj Name is &quot;Async_Thread&quot;\r\n\r\n                MyObject obj;\r\n                obj.setName(&quot;main_Thread&quot;);\r\n    \r\n    \t\t\tExecutor executor = asyncExecutorConfig.getAsyncExecutor();\r\n    \t\t\tCompletableFuture.runAsync(() -&gt; {\r\n    \t\t\t\ttry {\r\n    \r\n                        obj.setName(&quot;Async_Thread&quot;);//Async can access obj??\r\n    \r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}, executor);\r\n    \r\n                Thread.sleep(20000); //to let Async thread run\r\n                obj.getName is &quot;Async_Thread&quot;","title":"Async thread starts with same objects from parent thread","body":"<p>My questions:</p>\n<ol>\n<li>Is Async thread a child thread?</li>\n<li>MyObject obj is a local variable in main thread. How can async thread get the same object(reference)? Where does async to get it from?</li>\n</ol>\n<p>My below code will end up with obj Name is &quot;Async_Thread&quot;</p>\n<pre><code>            MyObject obj;\n            obj.setName(&quot;main_Thread&quot;);\n\n            Executor executor = asyncExecutorConfig.getAsyncExecutor();\n            CompletableFuture.runAsync(() -&gt; {\n                try {\n\n                    obj.setName(&quot;Async_Thread&quot;);//Async can access obj??\n\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n            }, executor);\n\n            Thread.sleep(20000); //to let Async thread run\n            obj.getName is &quot;Async_Thread&quot;\n</code></pre>\n"},{"tags":["java","amazon-s3","file-upload"],"comments":[{"owner":{"account_id":5415663,"reputation":393,"user_id":4310870,"display_name":"Mangesh Bhapkar"},"score":0,"creation_date":1421311910,"post_id":27798825,"comment_id":44313059,"body_markdown":"I found solution for this  problem :\nbecause I&#39;m trying to send same file multiple times.\nThat&#39;s why it gives error :because AmazonS3Client send file in multipart.","body":"I found solution for this  problem : because I&#39;m trying to send same file multiple times. That&#39;s why it gives error :because AmazonS3Client send file in multipart."}],"answers":[{"tags":[],"owner":{"account_id":948888,"reputation":1779,"user_id":975493,"display_name":"lucasddaniel"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1457566425,"creation_date":1457566425,"answer_id":35904801,"question_id":27798825,"body_markdown":"This answer was wrote from the guy of AWS Hanson:\r\n \r\nIs it possible that the input stream that is specified in the request has already been fully read?\r\n\r\nIf the input stream is a file stream, have you tried specifying the original file in the request instead of the input stream of the file?","title":"AmazonClientException: Data read has a different length than the expected","body":"<p>This answer was wrote from the guy of AWS Hanson:</p>\n\n<p>Is it possible that the input stream that is specified in the request has already been fully read?</p>\n\n<p>If the input stream is a file stream, have you tried specifying the original file in the request instead of the input stream of the file?</p>\n"},{"comments":[{"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"score":1,"creation_date":1557942235,"post_id":43978491,"comment_id":98939118,"body_markdown":"That does not solve the problem.   You still loaded the entire file into memory with IOUtils.toByteArray().   This just moves it into your code loading the entire file to memory rather than Amazon&#39;s code.","body":"That does not solve the problem.   You still loaded the entire file into memory with IOUtils.toByteArray().   This just moves it into your code loading the entire file to memory rather than Amazon&#39;s code."}],"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494848225,"creation_date":1494848225,"answer_id":43978491,"question_id":27798825,"body_markdown":"Improving @iucasddaniel answer with sample code.\r\n\r\n&gt; AmazonS3Client putObject: No content length specified for stream data.\r\n&gt; Stream contents will be buffered in memory and could result in out of\r\n&gt; memory errors.\r\n&gt;\r\n&gt; Solution &#171; Specify [Object Metadata content Length][1]\r\n\r\n\tFile tempFile = &quot;D://Test.mp4&quot;;\r\n\tString bucketName = &quot;YashFiles&quot;, filePath = &quot;local/mp4/&quot;;\r\n\r\n\tFileInputStream sampleStream = new FileInputStream( tempFile );\r\n\tbyte[] byteArray = IOUtils.toByteArray( sampleStream );\r\n\tLong contentLength = Long.valueOf(byteArray.length);\r\n\tsampleStream.close();\r\n\r\n\tObjectMetadata objectMetadata = new ObjectMetadata();\r\n\tobjectMetadata.setContentLength(contentLength);\r\n\r\n\tTransferManager tm = new TransferManager(credentials);\r\n\r\n\tFileInputStream stream = new FileInputStream( tempFile );\r\n\tPutObjectRequest putObjectRequest = new PutObjectRequest(bucketName, filePath, stream,objectMetadata);\r\n\tUpload myUpload = tm.upload(putObjectRequest);\r\n\t\tif (myUpload.isDone() == false) {\r\n\t\t\tSystem.out.println(&quot;Transfer: &quot;+ myUpload.getDescription());\r\n\t\t\tSystem.out.println(&quot;&#160; - State: &quot;+ myUpload.getState());\r\n\t\t\tSystem.out.println(&quot;&#160; - Progress: &quot;+ myUpload.getProgress().getBytesTransferred());\r\n\t\t}\r\n\tmyUpload.waitForCompletion();\r\n\r\n\ttm.shutdownNow();\r\n\tstream.close();\r\n\r\n\torg.apache.commons.io.FileUtils.forceDelete( tempFile );\r\n\r\n\r\n----------\r\nAmazon S3: Checking [Key Exists and generating PresignedUrl][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11116119/5081877\r\n  [2]: https://stackoverflow.com/a/36691299/5081877","title":"AmazonClientException: Data read has a different length than the expected","body":"<p>Improving @iucasddaniel answer with sample code.</p>\n\n<blockquote>\n  <p>AmazonS3Client putObject: No content length specified for stream data.\n  Stream contents will be buffered in memory and could result in out of\n  memory errors.</p>\n  \n  <p>Solution 竄 Specify <a href=\"https://stackoverflow.com/a/11116119/5081877\">Object Metadata content Length</a></p>\n</blockquote>\n\n<pre><code>File tempFile = \"D://Test.mp4\";\nString bucketName = \"YashFiles\", filePath = \"local/mp4/\";\n\nFileInputStream sampleStream = new FileInputStream( tempFile );\nbyte[] byteArray = IOUtils.toByteArray( sampleStream );\nLong contentLength = Long.valueOf(byteArray.length);\nsampleStream.close();\n\nObjectMetadata objectMetadata = new ObjectMetadata();\nobjectMetadata.setContentLength(contentLength);\n\nTransferManager tm = new TransferManager(credentials);\n\nFileInputStream stream = new FileInputStream( tempFile );\nPutObjectRequest putObjectRequest = new PutObjectRequest(bucketName, filePath, stream,objectMetadata);\nUpload myUpload = tm.upload(putObjectRequest);\n    if (myUpload.isDone() == false) {\n        System.out.println(\"Transfer: \"+ myUpload.getDescription());\n        System.out.println(\" - State: \"+ myUpload.getState());\n        System.out.println(\" - Progress: \"+ myUpload.getProgress().getBytesTransferred());\n    }\nmyUpload.waitForCompletion();\n\ntm.shutdownNow();\nstream.close();\n\norg.apache.commons.io.FileUtils.forceDelete( tempFile );\n</code></pre>\n\n<hr>\n\n<p>Amazon S3: Checking <a href=\"https://stackoverflow.com/a/36691299/5081877\">Key Exists and generating PresignedUrl</a></p>\n"},{"comments":[{"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"score":1,"creation_date":1557943108,"post_id":55853792,"comment_id":98939542,"body_markdown":"That does not solve the problem. You still had to load the entire data set into memory to get the length. This just moves it into your code loading the entire data set to memory rather than Amazon&#39;s code.","body":"That does not solve the problem. You still had to load the entire data set into memory to get the length. This just moves it into your code loading the entire data set to memory rather than Amazon&#39;s code."},{"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"score":0,"creation_date":1558050563,"post_id":55853792,"comment_id":98982013,"body_markdown":"I don&#39;t follow. Aren&#39;t all objects loaded into memory when they are instantiated?","body":"I don&#39;t follow. Aren&#39;t all objects loaded into memory when they are instantiated?"},{"owner":{"account_id":3801446,"reputation":1793,"user_id":3154987,"display_name":"BrianC"},"score":0,"creation_date":1558117359,"post_id":55853792,"comment_id":99008194,"body_markdown":"Yes, that is my point.  That is why you can not load the data in an object.  If you transfer it as an input or output stream it just passes through and does not get loaded.   If you load the data into an object the entire file is loaded in to memory.","body":"Yes, that is my point.  That is why you can not load the data in an object.  If you transfer it as an input or output stream it just passes through and does not get loaded.   If you load the data into an object the entire file is loaded in to memory."},{"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"score":0,"creation_date":1558160908,"post_id":55853792,"comment_id":99016809,"body_markdown":"What are you seeing in the debugger? I&#39;m not sure why your comment relates to my answer being wrong. If it&#39;s wrong, I&#39;ll delete it. Can you email me what you are seeing or reference material regarding what you are talking about? My email is gc.genechuang@gmail.com","body":"What are you seeing in the debugger? I&#39;m not sure why your comment relates to my answer being wrong. If it&#39;s wrong, I&#39;ll delete it. Can you email me what you are seeing or reference material regarding what you are talking about? My email is gc.genechuang@gmail.com"}],"tags":[],"owner":{"account_id":2347162,"reputation":10955,"user_id":2057089,"display_name":"Gene"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556209631,"creation_date":1556209631,"answer_id":55853792,"question_id":27798825,"body_markdown":"I saw that error message when I was trying to do a S3.putObject(MyObject);\r\n\r\nI had to update objectMetadata.setContentLength( [length of your content]  ); \r\n\r\nFor example: \r\n\r\n    String dataset= &quot;Some value you want to add to S3 Bucket&quot;; \r\n    ObjectMetadata objectMetadata= new ObjectMetadata(); \r\n    InputStream content= new ByteArrayInputStream(dataset.getBytes(&quot;UTF-8&quot;));\r\n    objectMetadata.setContentLength(content.available()); \r\n    objectMetadata.setSSEAlgorithm(ObjectMetadata.AES_256_SERVER_SIDE_ENCRYTION); \r\n\r\n","title":"AmazonClientException: Data read has a different length than the expected","body":"<p>I saw that error message when I was trying to do a S3.putObject(MyObject);</p>\n\n<p>I had to update objectMetadata.setContentLength( [length of your content]  ); </p>\n\n<p>For example: </p>\n\n<pre><code>String dataset= \"Some value you want to add to S3 Bucket\"; \nObjectMetadata objectMetadata= new ObjectMetadata(); \nInputStream content= new ByteArrayInputStream(dataset.getBytes(\"UTF-8\"));\nobjectMetadata.setContentLength(content.available()); \nobjectMetadata.setSSEAlgorithm(ObjectMetadata.AES_256_SERVER_SIDE_ENCRYTION); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":300678,"reputation":786,"user_id":2330196,"accept_rate":50,"display_name":"viniciusalvess"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600061410,"creation_date":1600061410,"answer_id":63878547,"question_id":27798825,"body_markdown":"    ...\r\n    byte[] f = IOUtils.toByteArray(inputStream); // This reads all bytes of the input stream\r\n    ObjectMetadata metadata = new ObjectMetadata();\r\n    metadata.setContentLength(f.length);\r\n    metadata.setContentType(contentType); //Content type of the uploaded file\r\n    metadata.setHeader(&quot;filename&quot;, fileName);\r\n    s3.putObject(bucketName, key, new ByteArrayInputStream(f), metadata); // Here we create a new ByteArrayInputStream so S3 client get happy.","title":"AmazonClientException: Data read has a different length than the expected","body":"<pre><code>...\nbyte[] f = IOUtils.toByteArray(inputStream); // This reads all bytes of the input stream\nObjectMetadata metadata = new ObjectMetadata();\nmetadata.setContentLength(f.length);\nmetadata.setContentType(contentType); //Content type of the uploaded file\nmetadata.setHeader(&quot;filename&quot;, fileName);\ns3.putObject(bucketName, key, new ByteArrayInputStream(f), metadata); // Here we create a new ByteArrayInputStream so S3 client get happy.\n</code></pre>\n"}],"owner":{"account_id":5415663,"reputation":393,"user_id":4310870,"display_name":"Mangesh Bhapkar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23144,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1676516039,"creation_date":1420547707,"question_id":27798825,"body_markdown":"1. When I am using AmazonS3Client to upload file on amazon s3 file store.\r\n2. when I am trying to upload multiple files at a time it gives exceptions: but same file multiple threads.\r\n\r\nI tried out client configure such as :\r\n\r\n1. connectionTimeout=50000 in ms\r\n2. maxConnections=500\r\n3. socketTimeout=50000 in ms\r\n    \r\nException stacktrace:\r\n\r\n    com.amazonaws.AmazonClientException: Data read has a different length than the expected: dataLength=8192; expectedLength=79352; includeSkipped=false; in.getClass()=class com.amazonaws.internal.ResettableInputStream; markedSupported=true; marked=0; resetSinceLastMarked=false; markCount=1; resetCount=0\r\n                        at com.amazonaws.util.LengthCheckInputStream.checkLength(LengthCheckInputStream.java:150)\r\n                        at com.amazonaws.util.LengthCheckInputStream.read(LengthCheckInputStream.java:110)\r\n                        at com.amazonaws.internal.SdkFilterInputStream.read(SdkFilterInputStream.java:73)\r\n                        at com.amazonaws.event.ProgressInputStream.read(ProgressInputStream.java:151)\r\n                        at com.amazonaws.internal.SdkFilterInputStream.read(SdkFilterInputStream.java:73)\r\n                        at org.apache.http.entity.InputStreamEntity.writeTo(InputStreamEntity.java:98)\r\n                        at com.amazonaws.http.RepeatableInputStreamRequestEntity.writeTo(RepeatableInputStreamRequestEntity.java:153)\r\n                        at org.apache.http.entity.HttpEntityWrapper.writeTo(HttpEntityWrapper.java:98)\r\n                        at org.apache.http.impl.client.EntityEnclosingRequestWrapper$EntityWrapper.writeTo(EntityEnclosingRequestWrapper.java:108)\r\n                        at org.apache.http.impl.entity.EntitySerializer.serialize(EntitySerializer.java:122)\r\n                        at org.apache.http.impl.AbstractHttpClientConnection.sendRequestEntity(AbstractHttpClientConnection.java:271)\r\n                        at org.apache.http.impl.conn.ManagedClientConnectionImpl.sendRequestEntity(ManagedClientConnectionImpl.java:197)\r\n                        at org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:257)\r\n                        at com.amazonaws.http.protocol.SdkHttpRequestExecutor.doSendRequest(SdkHttpRequestExecutor.java:47)\r\n                        at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\r\n                \r\n                    at org.apache.http.impl.client.DefaultRequestDirector.tryExecute(DefaultRequestDirector.java:713)\r\n                        at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:518)\r\n                        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\r\n                        at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:805)\r\n                        at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:647)\r\n                        at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:441)\r\n                        at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:292)\r\n                        at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3655)\r\n                        at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1424)\r\n                        at com.amazonaws.services.s3.transfer.internal.UploadCallable.uploadInOneChunk(UploadCallable.java:135)\r\n                        at com.amazonaws.services.s3.transfer.internal.UploadCallable.call(UploadCallable.java:127)\r\n                        at com.amazonaws.services.s3.transfer.internal.UploadMonitor.call(UploadMonitor.java:129)\r\n                        at com.amazonaws.services.s3.transfer.internal.UploadMonitor.call(UploadMonitor.java:50)\r\n                        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n                        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n                        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n                        at java.lang.Thread.run(Thread.java:745)**","title":"AmazonClientException: Data read has a different length than the expected","body":"<ol>\n<li>When I am using AmazonS3Client to upload file on amazon s3 file store.</li>\n<li>when I am trying to upload multiple files at a time it gives exceptions: but same file multiple threads.</li>\n</ol>\n<p>I tried out client configure such as :</p>\n<ol>\n<li>connectionTimeout=50000 in ms</li>\n<li>maxConnections=500</li>\n<li>socketTimeout=50000 in ms</li>\n</ol>\n<p>Exception stacktrace:</p>\n<pre><code>com.amazonaws.AmazonClientException: Data read has a different length than the expected: dataLength=8192; expectedLength=79352; includeSkipped=false; in.getClass()=class com.amazonaws.internal.ResettableInputStream; markedSupported=true; marked=0; resetSinceLastMarked=false; markCount=1; resetCount=0\n                    at com.amazonaws.util.LengthCheckInputStream.checkLength(LengthCheckInputStream.java:150)\n                    at com.amazonaws.util.LengthCheckInputStream.read(LengthCheckInputStream.java:110)\n                    at com.amazonaws.internal.SdkFilterInputStream.read(SdkFilterInputStream.java:73)\n                    at com.amazonaws.event.ProgressInputStream.read(ProgressInputStream.java:151)\n                    at com.amazonaws.internal.SdkFilterInputStream.read(SdkFilterInputStream.java:73)\n                    at org.apache.http.entity.InputStreamEntity.writeTo(InputStreamEntity.java:98)\n                    at com.amazonaws.http.RepeatableInputStreamRequestEntity.writeTo(RepeatableInputStreamRequestEntity.java:153)\n                    at org.apache.http.entity.HttpEntityWrapper.writeTo(HttpEntityWrapper.java:98)\n                    at org.apache.http.impl.client.EntityEnclosingRequestWrapper$EntityWrapper.writeTo(EntityEnclosingRequestWrapper.java:108)\n                    at org.apache.http.impl.entity.EntitySerializer.serialize(EntitySerializer.java:122)\n                    at org.apache.http.impl.AbstractHttpClientConnection.sendRequestEntity(AbstractHttpClientConnection.java:271)\n                    at org.apache.http.impl.conn.ManagedClientConnectionImpl.sendRequestEntity(ManagedClientConnectionImpl.java:197)\n                    at org.apache.http.protocol.HttpRequestExecutor.doSendRequest(HttpRequestExecutor.java:257)\n                    at com.amazonaws.http.protocol.SdkHttpRequestExecutor.doSendRequest(SdkHttpRequestExecutor.java:47)\n                    at org.apache.http.protocol.HttpRequestExecutor.execute(HttpRequestExecutor.java:125)\n            \n                at org.apache.http.impl.client.DefaultRequestDirector.tryExecute(DefaultRequestDirector.java:713)\n                    at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:518)\n                    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:906)\n                    at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:805)\n                    at com.amazonaws.http.AmazonHttpClient.executeOneRequest(AmazonHttpClient.java:647)\n                    at com.amazonaws.http.AmazonHttpClient.executeHelper(AmazonHttpClient.java:441)\n                    at com.amazonaws.http.AmazonHttpClient.execute(AmazonHttpClient.java:292)\n                    at com.amazonaws.services.s3.AmazonS3Client.invoke(AmazonS3Client.java:3655)\n                    at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1424)\n                    at com.amazonaws.services.s3.transfer.internal.UploadCallable.uploadInOneChunk(UploadCallable.java:135)\n                    at com.amazonaws.services.s3.transfer.internal.UploadCallable.call(UploadCallable.java:127)\n                    at com.amazonaws.services.s3.transfer.internal.UploadMonitor.call(UploadMonitor.java:129)\n                    at com.amazonaws.services.s3.transfer.internal.UploadMonitor.call(UploadMonitor.java:50)\n                    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n                    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n                    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n                    at java.lang.Thread.run(Thread.java:745)**\n</code></pre>\n"},{"tags":["java","android","android-studio","kotlin","android-jetpack-compose-ui"],"owner":{"account_id":4680908,"reputation":2104,"user_id":3995941,"accept_rate":75,"display_name":"Deepak Ror"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676515991,"creation_date":1676515991,"question_id":75467379,"body_markdown":"**I have Doughnut chart with dynamic values. If user click on any circle(drawArch). Specific position should be print.**\r\n\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/0iW8h.png\r\n\r\n\r\n\r\n**Here is My Compose Code** \r\n\r\n\r\n    @Composable\r\n    fun DoughnutChart1(\r\n        values: List&lt;Float&gt; = listOf(65f, 40f, 25f, 20f),\r\n        colors: List&lt;Color&gt; = listOf(\r\n            Color(0xFFFF6384),\r\n            Color(0xFFFFCE56),\r\n            Color(0xFF36A2EB),\r\n            Color(0xFF448AFF)\r\n        ),\r\n        legend: List&lt;String&gt; = listOf(&quot;Mango&quot;, &quot;Banana&quot;, &quot;Apple&quot;, &quot;Melon&quot;),\r\n        size: Dp = 200.dp,\r\n        thickness: Dp = 36.dp\r\n    ) {\r\n    \r\n        // Sum of all the values\r\n        val sumOfValues = values.sum()\r\n    \r\n        // Calculate each proportion\r\n        val proportions = values.map {\r\n            it * 100 / sumOfValues\r\n        }\r\n    \r\n        // Convert each proportion to angle\r\n        val sweepAngles = proportions.map {\r\n            360 * it / 100\r\n        }\r\n    \r\n        Canvas(\r\n            modifier = Modifier\r\n                .size(size = size)\r\n        ) {\r\n    \r\n            var startAngle = -90f\r\n    \r\n            for (i in values.indices) {\r\n                drawArc(\r\n                    color = colors[i],\r\n                    startAngle = startAngle,\r\n                    sweepAngle = sweepAngles[i],\r\n                    useCenter = false,\r\n                    style = Stroke(width = thickness.toPx(), cap = StrokeCap.Butt)\r\n                )\r\n                startAngle += sweepAngles[i]\r\n            }\r\n    \r\n        }\r\n    \r\n      \r\n    }\r\n\r\n","title":"Detect Click Event for each Arch in Doughnut : Jetpack ComposeUI Doughnut Chart. Kotlin","body":"<p><strong>I have Doughnut chart with dynamic values. If user click on any circle(drawArch). Specific position should be print.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/0iW8h.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0iW8h.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Here is My Compose Code</strong></p>\n<pre><code>@Composable\nfun DoughnutChart1(\n    values: List&lt;Float&gt; = listOf(65f, 40f, 25f, 20f),\n    colors: List&lt;Color&gt; = listOf(\n        Color(0xFFFF6384),\n        Color(0xFFFFCE56),\n        Color(0xFF36A2EB),\n        Color(0xFF448AFF)\n    ),\n    legend: List&lt;String&gt; = listOf(&quot;Mango&quot;, &quot;Banana&quot;, &quot;Apple&quot;, &quot;Melon&quot;),\n    size: Dp = 200.dp,\n    thickness: Dp = 36.dp\n) {\n\n    // Sum of all the values\n    val sumOfValues = values.sum()\n\n    // Calculate each proportion\n    val proportions = values.map {\n        it * 100 / sumOfValues\n    }\n\n    // Convert each proportion to angle\n    val sweepAngles = proportions.map {\n        360 * it / 100\n    }\n\n    Canvas(\n        modifier = Modifier\n            .size(size = size)\n    ) {\n\n        var startAngle = -90f\n\n        for (i in values.indices) {\n            drawArc(\n                color = colors[i],\n                startAngle = startAngle,\n                sweepAngle = sweepAngles[i],\n                useCenter = false,\n                style = Stroke(width = thickness.toPx(), cap = StrokeCap.Butt)\n            )\n            startAngle += sweepAngles[i]\n        }\n\n    }\n\n  \n}\n</code></pre>\n"},{"tags":["java","android","compilation","amazon-appstore"],"comments":[{"owner":{"account_id":182137,"reputation":8050,"user_id":416627,"accept_rate":83,"display_name":"Dave Rager"},"score":0,"creation_date":1321552992,"post_id":8171717,"comment_id":10035434,"body_markdown":"Is the .settings directory listed in the project pane in Eclipse? If so, you may be able to right click on it and select &quot;Exclude from project&quot; or something similar.","body":"Is the .settings directory listed in the project pane in Eclipse? If so, you may be able to right click on it and select &quot;Exclude from project&quot; or something similar."},{"owner":{"account_id":214848,"reputation":10171,"user_id":469080,"accept_rate":100,"display_name":"Michael Dodd"},"score":0,"creation_date":1321560601,"post_id":8171717,"comment_id":10037734,"body_markdown":"Yes, but there&#39;s no option to exclude it.","body":"Yes, but there&#39;s no option to exclude it."},{"owner":{"account_id":182137,"reputation":8050,"user_id":416627,"accept_rate":83,"display_name":"Dave Rager"},"score":0,"creation_date":1321562107,"post_id":8171717,"comment_id":10038265,"body_markdown":"Ok. I thought there might be something like that but I could be wrong. I don&#39;t have Eclipse on the machine I&#39;m currently using so I can&#39;t check right now.","body":"Ok. I thought there might be something like that but I could be wrong. I don&#39;t have Eclipse on the machine I&#39;m currently using so I can&#39;t check right now."}],"answers":[{"comments":[{"owner":{"account_id":214848,"reputation":10171,"user_id":469080,"accept_rate":100,"display_name":"Michael Dodd"},"score":0,"creation_date":1321560434,"post_id":8171928,"comment_id":10037673,"body_markdown":"Thanks, I&#39;ll try that out. Do you know of any documentation on how to separate workspace files from source files in an existing project?","body":"Thanks, I&#39;ll try that out. Do you know of any documentation on how to separate workspace files from source files in an existing project?"},{"owner":{"account_id":182137,"reputation":8050,"user_id":416627,"accept_rate":83,"display_name":"Dave Rager"},"score":0,"creation_date":1321561970,"post_id":8171928,"comment_id":10038210,"body_markdown":"@Michael, there probably is documentation somewhere though I&#39;m not sure where. What I usually do is after I create the project, I create an empty directory somewhere for the source and link to it in the project settings. In your second screenshot above it would be the &quot;Link Source...&quot; button I believe. Once that link is made I usually remove the default folders from that list so I don&#39;t accidentally create new source files in those folders.","body":"@Michael, there probably is documentation somewhere though I&#39;m not sure where. What I usually do is after I create the project, I create an empty directory somewhere for the source and link to it in the project settings. In your second screenshot above it would be the &quot;Link Source...&quot; button I believe. Once that link is made I usually remove the default folders from that list so I don&#39;t accidentally create new source files in those folders."},{"owner":{"account_id":214848,"reputation":10171,"user_id":469080,"accept_rate":100,"display_name":"Michael Dodd"},"score":0,"creation_date":1321562089,"post_id":8171928,"comment_id":10038257,"body_markdown":"Right, I&#39;ve just created a new test Android project, and the .settings folder isn&#39;t present in that project. It might be a remnant of a previous version of Eclipse or ADT, so I&#39;ve deleted it for now. The .settings folder is under version control in case deleting it causes any complications further down the line.\n\nLet&#39;s just hope that&#39;s enough to float Amazon&#39;s boat!","body":"Right, I&#39;ve just created a new test Android project, and the .settings folder isn&#39;t present in that project. It might be a remnant of a previous version of Eclipse or ADT, so I&#39;ve deleted it for now. The .settings folder is under version control in case deleting it causes any complications further down the line.  Let&#39;s just hope that&#39;s enough to float Amazon&#39;s boat!"},{"owner":{"account_id":214848,"reputation":10171,"user_id":469080,"accept_rate":100,"display_name":"Michael Dodd"},"score":0,"creation_date":1322500609,"post_id":8171928,"comment_id":10224609,"body_markdown":"Didn&#39;t work. Amazon just rejected it for the same reason. I&#39;ll give you the points anyway though since I&#39;d rather just give up on Amazon. Been reading some [rather disturbing](http://www.insidemobileapps.com/2011/04/14/igda-warns-against-amazon-appstores-pricing-terms-but-doesnt-mention-in-app-payments/) things about their T&amp;Cs.","body":"Didn&#39;t work. Amazon just rejected it for the same reason. I&#39;ll give you the points anyway though since I&#39;d rather just give up on Amazon. Been reading some <a href=\"http://www.insidemobileapps.com/2011/04/14/igda-warns-against-amazon-appstores-pricing-terms-but-doesnt-mention-in-app-payments/\" rel=\"nofollow noreferrer\">rather disturbing</a> things about their T&amp;Cs."}],"tags":[],"owner":{"account_id":182137,"reputation":8050,"user_id":416627,"accept_rate":83,"display_name":"Dave Rager"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1321552478,"creation_date":1321552478,"answer_id":8171928,"question_id":8171717,"body_markdown":"From working in a team environment I&#39;ve made it a habit of keeping my application source and resources in a separate directory tree from my workspace and project settings. For example:\r\n\r\n    /home/workspaces/projectname\r\n\r\n    /home/sources/projectname\r\n\r\nI don&#39;t know if this is your exact problem but I think it might help keep Eclipse meta-data from being built with your code.","title":"Amazon Marketplace app rejected for containing Eclipse settings file","body":"<p>From working in a team environment I've made it a habit of keeping my application source and resources in a separate directory tree from my workspace and project settings. For example:</p>\n\n<pre><code>/home/workspaces/projectname\n\n/home/sources/projectname\n</code></pre>\n\n<p>I don't know if this is your exact problem but I think it might help keep Eclipse meta-data from being built with your code.</p>\n"},{"tags":[],"owner":{"account_id":1687779,"reputation":559,"user_id":1550711,"display_name":"Shiva"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349974308,"creation_date":1343197692,"answer_id":11643885,"question_id":8171717,"body_markdown":"To solve this problem, delete the file named `org.eclipse.core.resources.prefs` in your project source folder (lib\\.metadata\\.plugins\\org.eclipse.core.runtime\\.settings\\).\r\n","title":"Amazon Marketplace app rejected for containing Eclipse settings file","body":"<p>To solve this problem, delete the file named <code>org.eclipse.core.resources.prefs</code> in your project source folder (lib.metadata.plugins\\org.eclipse.core.runtime.settings).</p>\n"}],"owner":{"account_id":214848,"reputation":10171,"user_id":469080,"accept_rate":100,"display_name":"Michael Dodd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":8171928,"answer_count":2,"score":10,"last_activity_date":1676515057,"creation_date":1321551548,"question_id":8171717,"body_markdown":"I&#39;m currently trying to submit my app to the Amazon Marketplace. Today I received the following email from the App Testing team:\r\n\r\n&gt; Your recent submission of RSS Alarm is pending due to the following reason(s):\r\n&gt;\r\n&gt;We are having trouble publishing your app to test. Your APK appears to have the following file included in it: .settings/org.eclipse.core.resources.prefs Please remove this file and resubmit your APK. \r\n&gt;\r\n&gt;Please correct the issue(s) we found with your app submission so we may continue working to get it in the Appstore.\r\n\r\nThing is, I can&#39;t see how the .settings folder made it into the APK build in the first place. It&#39;s not listed in either my Android settings nor my Java build path settings. So where am I going wrong with this?\r\n\r\n**Screenshots:**\r\n![enter image description here][1]\r\n![enter image description here][2]\r\n![enter image description here][3]\r\n![enter image description here][4]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Im0lR.png\r\n  [2]: http://i.stack.imgur.com/AjGQW.png\r\n  [3]: http://i.stack.imgur.com/oOqvl.png\r\n  [4]: http://i.stack.imgur.com/3HqML.png","title":"Amazon Marketplace app rejected for containing Eclipse settings file","body":"<p>I'm currently trying to submit my app to the Amazon Marketplace. Today I received the following email from the App Testing team:</p>\n<blockquote>\n<p>Your recent submission of RSS Alarm is pending due to the following reason(s):</p>\n<p>We are having trouble publishing your app to test. Your APK appears to have the following file included in it: .settings/org.eclipse.core.resources.prefs Please remove this file and resubmit your APK.</p>\n<p>Please correct the issue(s) we found with your app submission so we may continue working to get it in the Appstore.</p>\n</blockquote>\n<p>Thing is, I can't see how the .settings folder made it into the APK build in the first place. It's not listed in either my Android settings nor my Java build path settings. So where am I going wrong with this?</p>\n<p><strong>Screenshots:</strong>\n<img src=\"https://i.stack.imgur.com/Im0lR.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/AjGQW.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/oOqvl.png\" alt=\"enter image description here\" />\n<img src=\"https://i.stack.imgur.com/3HqML.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","amazon-web-services","filter","amazon-cloudsearch"],"answers":[{"tags":[],"owner":{"account_id":1306180,"reputation":2681,"user_id":1255142,"display_name":"alexroussos"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1414431083,"creation_date":1414431083,"answer_id":26593341,"question_id":26591773,"body_markdown":"There is no way to cleanly do exactly what you want, but here are two options:\r\n\r\n 1. Index a new field called something like `has_language`, setting its value to `language!=null` at doc submission time.\r\n 2. This is more of a hack because range should only be used with integers, but I have used it successfully on literal fields `(range field=language [0,})`.","title":"Amazon Cloudsearch : Filter if exists","body":"<p>There is no way to cleanly do exactly what you want, but here are two options:</p>\n\n<ol>\n<li>Index a new field called something like <code>has_language</code>, setting its value to <code>language!=null</code> at doc submission time.</li>\n<li>This is more of a hack because range should only be used with integers, but I have used it successfully on literal fields <code>(range field=language [0,})</code>.</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":7449,"reputation":13171,"user_id":12958,"accept_rate":91,"display_name":"justin.m.chase"},"score":0,"creation_date":1554731980,"post_id":26606577,"comment_id":97849198,"body_markdown":"I strongly recommend not doing this. Using magic values like this is always a bad idea. This should not be the accepted answer. The correct answer to detect a null is to use `(not (prefix language=&#39;&#39;))`","body":"I strongly recommend not doing this. Using magic values like this is always a bad idea. This should not be the accepted answer. The correct answer to detect a null is to use <code>(not (prefix language=&#39;&#39;))</code>"},{"owner":{"account_id":1029304,"reputation":24381,"user_id":1037948,"accept_rate":80,"display_name":"drzaus"},"score":0,"creation_date":1602803201,"post_id":26606577,"comment_id":113843213,"body_markdown":"Just to correct @justin.m.chase comment if you don&#39;t see his answer below, should be `(not (prefix field=&#39;language&#39; &#39;&#39;))`","body":"Just to correct @justin.m.chase comment if you don&#39;t see his answer below, should be <code>(not (prefix field=&#39;language&#39; &#39;&#39;))</code>"}],"tags":[],"owner":{"account_id":1787024,"reputation":405,"user_id":1628284,"accept_rate":50,"display_name":"Nyxter"},"comment_count":2,"down_vote_count":2,"up_vote_count":6,"is_accepted":true,"score":4,"last_activity_date":1414493993,"creation_date":1414493993,"answer_id":26606577,"question_id":26591773,"body_markdown":"I looked elsewhere aswell, it seems :\r\n\r\nThe simplest way to do that, is to set a default value for the field, and then use that value for your null.\r\n\r\nFor example, set the default to the string &quot;null&quot;, then you can easily test for that. \r\n\r\nI believe you can add a default value, and re-index, and that should reapply the default.","title":"Amazon Cloudsearch : Filter if exists","body":"<p>I looked elsewhere aswell, it seems :</p>\n\n<p>The simplest way to do that, is to set a default value for the field, and then use that value for your null.</p>\n\n<p>For example, set the default to the string \"null\", then you can easily test for that. </p>\n\n<p>I believe you can add a default value, and re-index, and that should reapply the default.</p>\n"},{"comments":[{"owner":{"account_id":2970681,"reputation":323,"user_id":2522787,"accept_rate":67,"display_name":"Chirag Agrawal"},"score":1,"creation_date":1501403280,"post_id":37173197,"comment_id":77756324,"body_markdown":"This should be the accepted answer for this question.","body":"This should be the accepted answer for this question."}],"tags":[],"owner":{"account_id":5749994,"reputation":86,"user_id":6322355,"display_name":"maxa"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1463000396,"creation_date":1463000396,"answer_id":37173197,"question_id":26591773,"body_markdown":"If you are willing to use the Lucene query parser you can express your query like this:\r\n\r\n`(*:* OR -language:*) OR language:en` \r\n\r\nNote: The funky `(*:* OR ...)` construct is necessary because of the way Lucene treats negated OR clauses. \r\n\r\nIn general, you can filter by existence / non-existence of a field with the Lucene query parser:\r\n\r\nAll documents containing `field`: `field:[* TO *]`\r\n\r\nAll documents not containing `field`: `-field:[* TO *]` \r\n\r\nNote: If `field` is textual (text or literal datatypes) you don&#39;t need range queries and you can shorten the above to:\r\n\r\n`field:*` and `-field:*`\r\n","title":"Amazon Cloudsearch : Filter if exists","body":"<p>If you are willing to use the Lucene query parser you can express your query like this:</p>\n\n<p><code>(*:* OR -language:*) OR language:en</code> </p>\n\n<p>Note: The funky <code>(*:* OR ...)</code> construct is necessary because of the way Lucene treats negated OR clauses. </p>\n\n<p>In general, you can filter by existence / non-existence of a field with the Lucene query parser:</p>\n\n<p>All documents containing <code>field</code>: <code>field:[* TO *]</code></p>\n\n<p>All documents not containing <code>field</code>: <code>-field:[* TO *]</code> </p>\n\n<p>Note: If <code>field</code> is textual (text or literal datatypes) you don't need range queries and you can shorten the above to:</p>\n\n<p><code>field:*</code> and <code>-field:*</code></p>\n"},{"tags":[],"owner":{"account_id":7449,"reputation":13171,"user_id":12958,"accept_rate":91,"display_name":"justin.m.chase"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1504803795,"creation_date":1504803795,"answer_id":46101752,"question_id":26591773,"body_markdown":"You can search for existence by using the `prefix` or `range` operators depending on your field type. If the type is a term or a string then you can use prefix like so:\r\n\r\n    (prefix field=example &#39;&#39;)\r\n\r\n\r\nThis will yield only results that are not null for the field `example`.\r\n\r\nFor dates you can use an inclusive date range:\r\n\r\n    (range field=updated [&#39;0000-01-01T00:00:00.000Z&#39;,})\r\n\r\n\r\nThis will only include items with an `updated` date after the given time, items with a null updated date will not be included. You can do other similar searches for other field types.\r\n\r\nSimilarly you can use the `not` operator to get the set of items with null fields. \r\n\r\nFor example, All items with a null `example` field:\r\n\r\n\r\n    (not (prefix field=example &#39;&#39;))\r\n\r\n","title":"Amazon Cloudsearch : Filter if exists","body":"<p>You can search for existence by using the <code>prefix</code> or <code>range</code> operators depending on your field type. If the type is a term or a string then you can use prefix like so:</p>\n\n<pre><code>(prefix field=example '')\n</code></pre>\n\n<p>This will yield only results that are not null for the field <code>example</code>.</p>\n\n<p>For dates you can use an inclusive date range:</p>\n\n<pre><code>(range field=updated ['0000-01-01T00:00:00.000Z',})\n</code></pre>\n\n<p>This will only include items with an <code>updated</code> date after the given time, items with a null updated date will not be included. You can do other similar searches for other field types.</p>\n\n<p>Similarly you can use the <code>not</code> operator to get the set of items with null fields. </p>\n\n<p>For example, All items with a null <code>example</code> field:</p>\n\n<pre><code>(not (prefix field=example ''))\n</code></pre>\n"}],"owner":{"account_id":1787024,"reputation":405,"user_id":1628284,"accept_rate":50,"display_name":"Nyxter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3679,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":26606577,"answer_count":4,"score":10,"last_activity_date":1676514879,"creation_date":1414425869,"question_id":26591773,"body_markdown":"I have an amazon cloudsearch domain. The aim is to filter if the field &#39;language&#39; exists.\r\nNot all objects have a language, and I want to have the ones which do have a language filtered, but the ones that do not have any language to also be returned.\r\n\r\nI want to filter with\r\n`( or language:&#39;en&#39; language:null )`\r\n\r\nHowever, null cannot be passed within a string.\r\n\r\nIs this possible? If so how would it be done.","title":"Amazon Cloudsearch : Filter if exists","body":"<p>I have an amazon cloudsearch domain. The aim is to filter if the field 'language' exists.\nNot all objects have a language, and I want to have the ones which do have a language filtered, but the ones that do not have any language to also be returned.</p>\n<p>I want to filter with\n<code>( or language:'en' language:null )</code></p>\n<p>However, null cannot be passed within a string.</p>\n<p>Is this possible? If so how would it be done.</p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1676528480,"post_id":75467220,"comment_id":133155662,"body_markdown":"Enable test-on-borrow and reduce the time of the eviction runs as currently it is 1 hour, you probably want to run that every x minutes to detect broken connections (and refresh them). You specified the `maxActive` make sure to also specify the minimum so that your pool can both grow and shrink (which makes it easier to evict/test connections).","body":"Enable test-on-borrow and reduce the time of the eviction runs as currently it is 1 hour, you probably want to run that every x minutes to detect broken connections (and refresh them). You specified the <code>maxActive</code> make sure to also specify the minimum so that your pool can both grow and shrink (which makes it easier to evict/test connections)."}],"owner":{"account_id":12065599,"reputation":35,"user_id":8822795,"display_name":"EthanAlef"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676514079,"creation_date":1676514079,"question_id":75467220,"body_markdown":"Application: Java spring boot + mysql\r\n\r\nStory:\r\n1) application log showed ```&quot;Could not open JDBC Connecton for transaction; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure&quot;```\r\n2) Recovery of the DB instance has been triggered since hardware problem occurred in RDS instance\r\n3) After 10 mins, the recovery is done.\r\n4) application log showed ```&quot;Could not commit JDBC transaction; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.&quot;``` instead of previous exception.\r\n5) After 45 mins, application resumed normal without manual operations.\r\n\r\n\r\nQuestions:\r\n1) Will restarting the application solve the problem instantly?\r\n2) Manual operation might not be the best to resolve such problem. But if I want it be auto resumed shortly, anything I can do to the setting datasource properties? i.e. set ```spring.datasource.justswap.time-between-eviction-runs-millis``` shorter?\r\n\r\nCurrent datasource setting:\r\n```\r\nspring.datasource.xxx.maxActive=700\r\nspring.datasource.xxx.driver-class-name=com.mysql.jdbc.Driver\r\nspring.datasource.xxx.test-on-borrow=false\r\nspring.datasource.xxx.test-while-idle=true\r\nspring.datasource.xxx.time-between-eviction-runs-millis=3600000\r\nspring.datasource.druid.stat-view-servlet.enabled=false\r\n```","title":"Proper setting of application properties for &quot;No operation allowed connection&quot; exception","body":"<p>Application: Java spring boot + mysql</p>\n<p>Story:</p>\n<ol>\n<li>application log showed <code>&quot;Could not open JDBC Connecton for transaction; nested exception is com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure&quot;</code></li>\n<li>Recovery of the DB instance has been triggered since hardware problem occurred in RDS instance</li>\n<li>After 10 mins, the recovery is done.</li>\n<li>application log showed <code>&quot;Could not commit JDBC transaction; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLNonTransientConnectionException: No operations allowed after connection closed.&quot;</code> instead of previous exception.</li>\n<li>After 45 mins, application resumed normal without manual operations.</li>\n</ol>\n<p>Questions:</p>\n<ol>\n<li>Will restarting the application solve the problem instantly?</li>\n<li>Manual operation might not be the best to resolve such problem. But if I want it be auto resumed shortly, anything I can do to the setting datasource properties? i.e. set <code>spring.datasource.justswap.time-between-eviction-runs-millis</code> shorter?</li>\n</ol>\n<p>Current datasource setting:</p>\n<pre><code>spring.datasource.xxx.maxActive=700\nspring.datasource.xxx.driver-class-name=com.mysql.jdbc.Driver\nspring.datasource.xxx.test-on-borrow=false\nspring.datasource.xxx.test-while-idle=true\nspring.datasource.xxx.time-between-eviction-runs-millis=3600000\nspring.datasource.druid.stat-view-servlet.enabled=false\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":4149777,"reputation":276,"user_id":3402585,"display_name":"Jeremy"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1464134605,"creation_date":1464134605,"answer_id":37425835,"question_id":36817170,"body_markdown":"You need to set the provisioned throughput on each secondary index table that will be generated as well. \r\n\r\n    tableRequest.getGlobalSecondaryIndexes().get(0).setProvisionedThroughput(new ProvisionedThroughput(10l, 10l));","title":"Create table with Global secondary index using DynamoMapper and class Annotation","body":"<p>You need to set the provisioned throughput on each secondary index table that will be generated as well. </p>\n\n<pre><code>tableRequest.getGlobalSecondaryIndexes().get(0).setProvisionedThroughput(new ProvisionedThroughput(10l, 10l));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":179953,"reputation":6537,"user_id":412957,"accept_rate":77,"display_name":"Mohammad Adnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1499182622,"creation_date":1499182622,"answer_id":44909847,"question_id":36817170,"body_markdown":"Extension to @Jeremy&#39;s answer. \r\n\r\nIf you have more than one GSI, then you may do it like below. Also you don&#39;t need to create ProvisionedThroughput object all the time if they are of same values.\r\n\r\n     final ProvisionedThroughput provisionedThroughput = new ProvisionedThroughput(5L, 5L);\r\n     createRequest.setProvisionedThroughput(provisionedThroughput);\r\n     createRequest.getGlobalSecondaryIndexes().forEach(v -&gt; v.setProvisionedThroughput(provisionedThroughput));\r\n\r\n","title":"Create table with Global secondary index using DynamoMapper and class Annotation","body":"<p>Extension to @Jeremy's answer. </p>\n\n<p>If you have more than one GSI, then you may do it like below. Also you don't need to create ProvisionedThroughput object all the time if they are of same values.</p>\n\n<pre><code> final ProvisionedThroughput provisionedThroughput = new ProvisionedThroughput(5L, 5L);\n createRequest.setProvisionedThroughput(provisionedThroughput);\n createRequest.getGlobalSecondaryIndexes().forEach(v -&gt; v.setProvisionedThroughput(provisionedThroughput));\n</code></pre>\n"}],"owner":{"account_id":5193288,"reputation":137,"user_id":4155527,"display_name":"Bryan Benauro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8453,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":37425835,"answer_count":2,"score":12,"last_activity_date":1676513854,"creation_date":1461450427,"question_id":36817170,"body_markdown":"I am currently using Java dynamoMapper to create and query the table. When trying to create a table with a global secondary index, I get the following error\r\n\r\n```none\r\nNo provisioned throughput specified for the global secondary index\r\n```\r\n\r\nMy java class representing the table has this attribute for the global secondary index. \r\n\r\n    @DynamoDBIndexHashKey(globalSecondaryIndexName=&quot;sender&quot;)\r\n        public String getSender() {\r\n        return sender;\r\n    }\r\n\r\n\r\nClass to create table looks like this &lt;br&gt;\r\n\r\n    public boolean createTable() {\r\n    try {\r\n    DynamoDBMapper mapper = new DynamoDBMapper(client);\r\n    CreateTableRequest tableRequest =     mapper.generateCreateTableRequest(entityClass); // 1\r\n    tableRequest.setProvisionedThroughput(new ProvisionedThroughput(1000L, 1500L)); // 2\r\n    client.createTable(tableRequest); // 3\r\n\r\n\t\t} catch (Error e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\n\r\nI have searched the Amazon site for additional annotations and configuration but nothing came up for DynamoMapper. Is there anyway to do this using ORM or will i have to manually create by using a lower level API?","title":"Create table with Global secondary index using DynamoMapper and class Annotation","body":"<p>I am currently using Java dynamoMapper to create and query the table. When trying to create a table with a global secondary index, I get the following error</p>\n<pre class=\"lang-none prettyprint-override\"><code>No provisioned throughput specified for the global secondary index\n</code></pre>\n<p>My java class representing the table has this attribute for the global secondary index.</p>\n<pre><code>@DynamoDBIndexHashKey(globalSecondaryIndexName=&quot;sender&quot;)\n    public String getSender() {\n    return sender;\n}\n</code></pre>\n<p>Class to create table looks like this <br></p>\n<pre><code>public boolean createTable() {\ntry {\nDynamoDBMapper mapper = new DynamoDBMapper(client);\nCreateTableRequest tableRequest =     mapper.generateCreateTableRequest(entityClass); // 1\ntableRequest.setProvisionedThroughput(new ProvisionedThroughput(1000L, 1500L)); // 2\nclient.createTable(tableRequest); // 3\n\n    } catch (Error e) {\n        e.printStackTrace();\n        return false;\n\n    } catch (Exception e) {\n        e.printStackTrace();\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>I have searched the Amazon site for additional annotations and configuration but nothing came up for DynamoMapper. Is there anyway to do this using ORM or will i have to manually create by using a lower level API?</p>\n"},{"tags":["java","amazon-web-services","api","web-services","amazon-product-advertising-api"],"comments":[{"owner":{"account_id":98445,"reputation":1222,"user_id":266471,"accept_rate":95,"display_name":"Ian Durkan"},"score":1,"creation_date":1297024470,"post_id":3189979,"comment_id":5476164,"body_markdown":"thanks for posting this summary, just saved me about a day&#39;s effort!","body":"thanks for posting this summary, just saved me about a day&#39;s effort!"},{"owner":{"account_id":98445,"reputation":1222,"user_id":266471,"accept_rate":95,"display_name":"Ian Durkan"},"score":0,"creation_date":1297027649,"post_id":3189979,"comment_id":5476624,"body_markdown":"another thing: the [client-side API generation notes](http://docs.amazonwebservices.com/AWSECommerceService/latest/GSG/YourDevelopmentEnvironment.html) don&#39;t make it explicit that the developer **must** input the jaxws-custom.xml file to wsimport , or examples such as Jens&#39; won&#39;t compile with the code it generates.","body":"another thing: the <a href=\"http://docs.amazonwebservices.com/AWSECommerceService/latest/GSG/YourDevelopmentEnvironment.html\" rel=\"nofollow noreferrer\">client-side API generation notes</a> don&#39;t make it explicit that the developer <b>must</b> input the jaxws-custom.xml file to wsimport , or examples such as Jens&#39; won&#39;t compile with the code it generates."}],"answers":[{"comments":[{"owner":{"account_id":64681,"reputation":20733,"user_id":190823,"accept_rate":81,"display_name":"Jens"},"score":0,"creation_date":1278525663,"post_id":3194598,"comment_id":3294972,"body_markdown":"The WSDL is from April 2010. So its fairly new. Do you use the sample code from google? I once found something there which actually looked very much like what you have. The client generated from the by Amazon provided WSDL didn&#39;t include a class like AwsHandlerResolver. But thank you for your suggestions anyways!","body":"The WSDL is from April 2010. So its fairly new. Do you use the sample code from google? I once found something there which actually looked very much like what you have. The client generated from the by Amazon provided WSDL didn&#39;t include a class like AwsHandlerResolver. But thank you for your suggestions anyways!"},{"owner":{"account_id":64681,"reputation":20733,"user_id":190823,"accept_rate":81,"display_name":"Jens"},"score":0,"creation_date":1278536070,"post_id":3194598,"comment_id":3296356,"body_markdown":"Your answer was great. The linked post on the Amazon forums helped me a lot! I edited my post to incorporate your answer. Thank you very much Jon.","body":"Your answer was great. The linked post on the Amazon forums helped me a lot! I edited my post to incorporate your answer. Thank you very much Jon."},{"owner":{"account_id":30899,"reputation":39200,"user_id":84539,"accept_rate":89,"display_name":"Jon"},"score":0,"creation_date":1278663641,"post_id":3194598,"comment_id":3310409,"body_markdown":"Are you using Windows? I just tried it and I get null response but same code on Mac gets result.","body":"Are you using Windows? I just tried it and I get null response but same code on Mac gets result."}],"tags":[],"owner":{"account_id":30899,"reputation":39200,"user_id":84539,"accept_rate":89,"display_name":"Jon"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1278533372,"creation_date":1278505362,"answer_id":3194598,"question_id":3189979,"body_markdown":"Try this afer you create the service\r\n\r\n    service.setHandlerResolver(new AwsHandlerResolver(my_AWS_SECRET_KEY));\r\n\r\nYou&#39;ll need [this][1] class and [this][2] jar file to add as a reference to your project as AwsHandlerResolver uses Base64 encoding.\r\n\r\nYou&#39;ll need to rename the AwsHandlerResolver file to the name of the class as the file name is all lower case.\r\n\r\nI think the rest of the code you have is fine.\r\n\r\nThe WSDL is http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl\r\n\r\n\r\n  [1]: http://developer.amazonwebservices.com/connect/servlet/JiveServlet/download/53-35999-143146-2680/awshandlerresolver.java\r\n  [2]: http://commons.apache.org/codec/download_codec.cgi","title":"Amazon Product Advertising API signed request with Java","body":"<p>Try this afer you create the service</p>\n\n<pre><code>service.setHandlerResolver(new AwsHandlerResolver(my_AWS_SECRET_KEY));\n</code></pre>\n\n<p>You'll need <a href=\"http://developer.amazonwebservices.com/connect/servlet/JiveServlet/download/53-35999-143146-2680/awshandlerresolver.java\" rel=\"noreferrer\">this</a> class and <a href=\"http://commons.apache.org/codec/download_codec.cgi\" rel=\"noreferrer\">this</a> jar file to add as a reference to your project as AwsHandlerResolver uses Base64 encoding.</p>\n\n<p>You'll need to rename the AwsHandlerResolver file to the name of the class as the file name is all lower case.</p>\n\n<p>I think the rest of the code you have is fine.</p>\n\n<p>The WSDL is <a href=\"http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl\" rel=\"noreferrer\">http://webservices.amazon.com/AWSECommerceService/AWSECommerceService.wsdl</a></p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1332987857,"creation_date":1332987857,"answer_id":9918301,"question_id":3189979,"body_markdown":"This discussion and the related Amazon post helped me get the client working. That being said, I felt that the solution could be improved with regards to the following:\r\n\r\n 1. Setting WebService handlers in code is discouraged. A XML configuration file and a corresponding @HandlerChain annotation are recommended.\r\n 2. A SOAPHandler is not required in this case, LogicalHandler would do just fine. A SOAPHandler has more reach than a LogicalHandler and when it comes to code, more access is not always good. \r\n 3. Stuffing the signature generation, addition of a Node and printing the request in one handler seems like a little too much. These could be separated out for separation of responsibility and ease of testing. One approach would be to add the Node using a XSLT transformation so that the handler could remain oblivious of the transformation logic. Another handler could then be chained which just prints the request. \r\n&lt;a href=&quot;http://www.mediafire.com/?9rdhn1r8na19mft&quot; title=&quot;Example&quot;&gt;Example&lt;/a&gt;","title":"Amazon Product Advertising API signed request with Java","body":"<p>This discussion and the related Amazon post helped me get the client working. That being said, I felt that the solution could be improved with regards to the following:</p>\n\n<ol>\n<li>Setting WebService handlers in code is discouraged. A XML configuration file and a corresponding @HandlerChain annotation are recommended.</li>\n<li>A SOAPHandler is not required in this case, LogicalHandler would do just fine. A SOAPHandler has more reach than a LogicalHandler and when it comes to code, more access is not always good. </li>\n<li>Stuffing the signature generation, addition of a Node and printing the request in one handler seems like a little too much. These could be separated out for separation of responsibility and ease of testing. One approach would be to add the Node using a XSLT transformation so that the handler could remain oblivious of the transformation logic. Another handler could then be chained which just prints the request. \n<a href=\"http://www.mediafire.com/?9rdhn1r8na19mft\" rel=\"nofollow\" title=\"Example\">Example</a></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3891668,"reputation":1,"user_id":3221678,"display_name":"user3221678"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1390391059,"creation_date":1390388908,"answer_id":21281222,"question_id":3189979,"body_markdown":"You could achieve the same monetization outcomes with the IntentBrite API as well ","title":"Amazon Product Advertising API signed request with Java","body":"<p>You could achieve the same monetization outcomes with the IntentBrite API as well </p>\n"},{"comments":[{"owner":{"account_id":445338,"reputation":7451,"user_id":837726,"accept_rate":91,"display_name":"Joel"},"score":1,"creation_date":1433324384,"post_id":30612939,"comment_id":49298956,"body_markdown":"It would be nice to state what the code does, instead of just pasting the code","body":"It would be nice to state what the code does, instead of just pasting the code"}],"tags":[],"owner":{"account_id":6407684,"reputation":1,"user_id":4968352,"display_name":"waqar"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1433332742,"creation_date":1433314642,"answer_id":30612939,"question_id":3189979,"body_markdown":"i did this in spring it&#39;s working fine.\r\n\r\n  \r\n    package com.bookbub.application;\r\n\r\n\r\n    import com.ECS.client.jax.*;\r\n    import com.ECS.client.jax.ItemSearch;\r\n\r\n    import javax.xml.ws.Holder;\r\n    import java.math.BigInteger;\r\n    import java.util.List;\r\n\r\n    public class TestClient {\r\n\r\n    private static final String AWS_ACCESS_KEY_ID = &quot;AI*****2Y7Z****DIHQ&quot;;\r\n    private static final String AWS_SECRET_KEY = &quot;lIm*****dJuiy***YA+g/vnj/Ix*****Oeu&quot;;\r\n    private static final String ASSOCIATE_TAG = &quot;****-**&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        TestClient ist = new TestClient();\r\n        ist.runSearch();\r\n    }\r\n\r\n    public void runSearch()\r\n    {\r\n        AWSECommerceService service = new AWSECommerceService();\r\n        service.setHandlerResolver(new AwsHandlerResolver(AWS_SECRET_KEY));\r\n        AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n\r\n        ItemSearchRequest request = new ItemSearchRequest();\r\n        request.setSearchIndex(&quot;Books&quot;);\r\n        request.setKeywords(&quot;java web services up and running oreilly&quot;);\r\n\r\n        ItemSearch search = new ItemSearch();\r\n        search.getRequest().add(request);\r\n        search.setAWSAccessKeyId(AWS_ACCESS_KEY_ID);\r\n\r\n        Holder&lt;OperationRequest&gt; operation_request =null;\r\n        Holder&lt;List&lt;Items&gt;&gt; items = new Holder&lt;List&lt;Items&gt;&gt;();\r\n\r\n        port.itemSearch(\r\n                search.getMarketplaceDomain(),\r\n                search.getAWSAccessKeyId(),\r\n                search.getAssociateTag(),\r\n                search.getXMLEscaping(),\r\n                search.getValidate(),\r\n                search.getShared(),\r\n                search.getRequest(),\r\n                operation_request,\r\n                items);\r\n\r\n        java.util.List&lt;Items&gt; result = items.value;\r\n        BigInteger totalPages = result.get(0).getTotalResults();\r\n        System.out.println(totalPages);\r\n\r\n        for (int i = 0; i &lt; result.get(0).getItem().size(); ++i)\r\n        {\tItem myItem = result.get(0).getItem().get(i);\r\n            System.out.print(myItem.getASIN());\r\n            System.out.print(&quot;, &quot;);\r\n            System.out.println(myItem.getDetailPageURL());\r\n            System.out.print(&quot;, &quot;);\r\n            System.out.println(myItem.getSmallImage() == null ? &quot;&quot; : myItem.getSmallImage().getURL());\r\n        }\r\n    }\r\n    }\r\n","title":"Amazon Product Advertising API signed request with Java","body":"<p>i did this in spring it's working fine.</p>\n\n<pre><code>package com.bookbub.application;\n\n\nimport com.ECS.client.jax.*;\nimport com.ECS.client.jax.ItemSearch;\n\nimport javax.xml.ws.Holder;\nimport java.math.BigInteger;\nimport java.util.List;\n\npublic class TestClient {\n\nprivate static final String AWS_ACCESS_KEY_ID = \"AI*****2Y7Z****DIHQ\";\nprivate static final String AWS_SECRET_KEY = \"lIm*****dJuiy***YA+g/vnj/Ix*****Oeu\";\nprivate static final String ASSOCIATE_TAG = \"****-**\";\n\npublic static void main(String[] args) {\n    TestClient ist = new TestClient();\n    ist.runSearch();\n}\n\npublic void runSearch()\n{\n    AWSECommerceService service = new AWSECommerceService();\n    service.setHandlerResolver(new AwsHandlerResolver(AWS_SECRET_KEY));\n    AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n\n    ItemSearchRequest request = new ItemSearchRequest();\n    request.setSearchIndex(\"Books\");\n    request.setKeywords(\"java web services up and running oreilly\");\n\n    ItemSearch search = new ItemSearch();\n    search.getRequest().add(request);\n    search.setAWSAccessKeyId(AWS_ACCESS_KEY_ID);\n\n    Holder&lt;OperationRequest&gt; operation_request =null;\n    Holder&lt;List&lt;Items&gt;&gt; items = new Holder&lt;List&lt;Items&gt;&gt;();\n\n    port.itemSearch(\n            search.getMarketplaceDomain(),\n            search.getAWSAccessKeyId(),\n            search.getAssociateTag(),\n            search.getXMLEscaping(),\n            search.getValidate(),\n            search.getShared(),\n            search.getRequest(),\n            operation_request,\n            items);\n\n    java.util.List&lt;Items&gt; result = items.value;\n    BigInteger totalPages = result.get(0).getTotalResults();\n    System.out.println(totalPages);\n\n    for (int i = 0; i &lt; result.get(0).getItem().size(); ++i)\n    {   Item myItem = result.get(0).getItem().get(i);\n        System.out.print(myItem.getASIN());\n        System.out.print(\", \");\n        System.out.println(myItem.getDetailPageURL());\n        System.out.print(\", \");\n        System.out.println(myItem.getSmallImage() == null ? \"\" : myItem.getSmallImage().getURL());\n    }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":64681,"reputation":20733,"user_id":190823,"accept_rate":81,"display_name":"Jens"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9144,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":3194598,"answer_count":4,"score":16,"last_activity_date":1676511850,"creation_date":1278448198,"question_id":3189979,"body_markdown":"After many hours of tinkering and reading the whole internet several times I just can&#39;t figure out how to sign requests for use with the Product Advertising API.\r\n\r\nSo far I managed to generate a client from the provided WSDL file. I used a tutorial by Amazon for this. You can find it here:\r\n\r\n[Tutorial for generating the web service client][1]\r\n\r\nSo far no problems. To test the client I wrote a small piece of code. The code is intended to simply get some information about a product. The product is specified by its ASIN.\r\n\r\nThe code:\r\n\r\n    package client;\r\n\r\n    import com.ECS.client.jax.AWSECommerceService;\r\n    import com.ECS.client.jax.AWSECommerceServicePortType;\r\n    import com.ECS.client.jax.ItemLookup;\r\n    import com.ECS.client.jax.ItemLookupResponse;\r\n    import com.ECS.client.jax.ItemLookupRequest;\r\n\r\n    public class Client {\r\n\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;API Test startet&quot;);\r\n\t\t\r\n        AWSECommerceService service = new AWSECommerceService();\r\n        AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n\t\t\r\n        ItemLookupRequest itemLookup = new ItemLookupRequest();\r\n        itemLookup.setIdType(&quot;ASIN&quot;);\r\n        itemLookup.getItemId().add(&quot;B000RE216U&quot;);\r\n\t\t\r\n        ItemLookup lookup = new ItemLookup();\r\n        lookup.setAWSAccessKeyId(&quot;&lt;mykeyishere&gt;&quot;);\r\n        lookup.getRequest().add(itemLookup);\r\n\t\t\r\n        ItemLookupResponse response = port.itemLookup(lookup);\r\n\t\t\r\n        String r = response.toString();\r\n        System.out.println(&quot;response: &quot; + r);\r\n\t\t\r\n        System.out.println(&quot;API Test stopped&quot;);\r\n      }\r\n    }\r\n\r\nAs you can see there is no part where I sign the request. I have worked my way through a lot of the classes used and found no methods for signing the request.\r\n\r\nSo, how to sign a request?\r\n\r\nI actually found something in the documentation: [request authentication][2]\r\n\r\nBut they don&#39;t use their own API. The proposed solutions are more or less for manual use only. So I looked in the client classes to sort out if I could get the request URL and put all the parts needed for request signing in myself. But there are no such methods.\r\n\r\nI hope someone can point out what I am doing wrong.\r\n\r\n\r\n----------\r\n\r\nThis is what I did to solve the problem. All the credit goes to [Jon][3] and the guys of the Amazon forums.\r\n\r\nBefore I outline what I did, here is a link to the post which helped me to solve the problem: [Forum Post on Amazon forums][4].\r\n\r\nI downloaded the awshandlerresolver.java which is linked in the post. Than I modified my own code so it looks like this:\r\n\r\n    package client;\r\n\r\n    import com.ECS.client.jax.AWSECommerceService;\r\n    import com.ECS.client.jax.AWSECommerceServicePortType;\r\n    import com.ECS.client.jax.ItemLookup;\r\n    import com.ECS.client.jax.ItemLookupResponse;\r\n    import com.ECS.client.jax.ItemLookupRequest;\r\n\r\n    public class Client {\r\n\r\n      public static void main(String[] args) {\r\n        System.out.println(&quot;API Test startet&quot;);\r\n\t\t\r\n        AWSECommerceService service = new AWSECommerceService();\r\n        service.setHandlerResolver(new AwsHandlerResolver(&quot;&lt;Secret Key&gt;&quot;));  // important\r\n        AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\r\n\t\t\r\n        ItemLookupRequest itemLookup = new ItemLookupRequest();\r\n        itemLookup.setIdType(&quot;ASIN&quot;);\r\n        itemLookup.getItemId().add(&quot;B000RE216U&quot;);\r\n\r\n        ItemLookup lookup = new ItemLookup();\r\n        lookup.setAWSAccessKeyId(&quot;&lt;Access Key&gt;&quot;); // important\r\n        lookup.getRequest().add(itemLookup);\r\n\t\r\n        ItemLookupResponse response = port.itemLookup(lookup);\r\n\t\r\n        String r = response.toString();\r\n        System.out.println(&quot;response: &quot; + r);\t\r\n        System.out.println(&quot;API Test stopped&quot;);\r\n      }\r\n    }\r\n\r\nThe `println` on the end are more or less useless. But it works. I also used the WSDL Jon linked to generate a new webservice client. I just changed the URLs in the tutorial I posted in my question.\r\n\r\n  [1]: http://docs.amazonwebservices.com/AWSECommerceService/latest/GSG/index.html?YourDevelopmentEnvironment.html\r\n  [2]: http://docs.amazonwebservices.com/AWSECommerceService/2009-11-01/DG/\r\n  [3]: https://stackoverflow.com/users/84539/jon\r\n  [4]: http://developer.amazonwebservices.com/connect/message.jspa?messageID=143124","title":"Amazon Product Advertising API signed request with Java","body":"<p>After many hours of tinkering and reading the whole internet several times I just can't figure out how to sign requests for use with the Product Advertising API.</p>\n<p>So far I managed to generate a client from the provided WSDL file. I used a tutorial by Amazon for this. You can find it here:</p>\n<p><a href=\"http://docs.amazonwebservices.com/AWSECommerceService/latest/GSG/index.html?YourDevelopmentEnvironment.html\" rel=\"nofollow noreferrer\">Tutorial for generating the web service client</a></p>\n<p>So far no problems. To test the client I wrote a small piece of code. The code is intended to simply get some information about a product. The product is specified by its ASIN.</p>\n<p>The code:</p>\n<pre><code>package client;\n\nimport com.ECS.client.jax.AWSECommerceService;\nimport com.ECS.client.jax.AWSECommerceServicePortType;\nimport com.ECS.client.jax.ItemLookup;\nimport com.ECS.client.jax.ItemLookupResponse;\nimport com.ECS.client.jax.ItemLookupRequest;\n\npublic class Client {\n\n  public static void main(String[] args) {\n    System.out.println(&quot;API Test startet&quot;);\n    \n    AWSECommerceService service = new AWSECommerceService();\n    AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n    \n    ItemLookupRequest itemLookup = new ItemLookupRequest();\n    itemLookup.setIdType(&quot;ASIN&quot;);\n    itemLookup.getItemId().add(&quot;B000RE216U&quot;);\n    \n    ItemLookup lookup = new ItemLookup();\n    lookup.setAWSAccessKeyId(&quot;&lt;mykeyishere&gt;&quot;);\n    lookup.getRequest().add(itemLookup);\n    \n    ItemLookupResponse response = port.itemLookup(lookup);\n    \n    String r = response.toString();\n    System.out.println(&quot;response: &quot; + r);\n    \n    System.out.println(&quot;API Test stopped&quot;);\n  }\n}\n</code></pre>\n<p>As you can see there is no part where I sign the request. I have worked my way through a lot of the classes used and found no methods for signing the request.</p>\n<p>So, how to sign a request?</p>\n<p>I actually found something in the documentation: <a href=\"http://docs.amazonwebservices.com/AWSECommerceService/2009-11-01/DG/\" rel=\"nofollow noreferrer\">request authentication</a></p>\n<p>But they don't use their own API. The proposed solutions are more or less for manual use only. So I looked in the client classes to sort out if I could get the request URL and put all the parts needed for request signing in myself. But there are no such methods.</p>\n<p>I hope someone can point out what I am doing wrong.</p>\n<hr />\n<p>This is what I did to solve the problem. All the credit goes to <a href=\"https://stackoverflow.com/users/84539/jon\">Jon</a> and the guys of the Amazon forums.</p>\n<p>Before I outline what I did, here is a link to the post which helped me to solve the problem: <a href=\"http://developer.amazonwebservices.com/connect/message.jspa?messageID=143124\" rel=\"nofollow noreferrer\">Forum Post on Amazon forums</a>.</p>\n<p>I downloaded the awshandlerresolver.java which is linked in the post. Than I modified my own code so it looks like this:</p>\n<pre><code>package client;\n\nimport com.ECS.client.jax.AWSECommerceService;\nimport com.ECS.client.jax.AWSECommerceServicePortType;\nimport com.ECS.client.jax.ItemLookup;\nimport com.ECS.client.jax.ItemLookupResponse;\nimport com.ECS.client.jax.ItemLookupRequest;\n\npublic class Client {\n\n  public static void main(String[] args) {\n    System.out.println(&quot;API Test startet&quot;);\n    \n    AWSECommerceService service = new AWSECommerceService();\n    service.setHandlerResolver(new AwsHandlerResolver(&quot;&lt;Secret Key&gt;&quot;));  // important\n    AWSECommerceServicePortType port = service.getAWSECommerceServicePort();\n    \n    ItemLookupRequest itemLookup = new ItemLookupRequest();\n    itemLookup.setIdType(&quot;ASIN&quot;);\n    itemLookup.getItemId().add(&quot;B000RE216U&quot;);\n\n    ItemLookup lookup = new ItemLookup();\n    lookup.setAWSAccessKeyId(&quot;&lt;Access Key&gt;&quot;); // important\n    lookup.getRequest().add(itemLookup);\n\n    ItemLookupResponse response = port.itemLookup(lookup);\n\n    String r = response.toString();\n    System.out.println(&quot;response: &quot; + r);   \n    System.out.println(&quot;API Test stopped&quot;);\n  }\n}\n</code></pre>\n<p>The <code>println</code> on the end are more or less useless. But it works. I also used the WSDL Jon linked to generate a new webservice client. I just changed the URLs in the tutorial I posted in my question.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1109511,"reputation":18905,"user_id":1100248,"accept_rate":81,"display_name":"Vova Bilyachat"},"score":0,"creation_date":1620177881,"post_id":67393908,"comment_id":119122154,"body_markdown":"PLease add your json payload","body":"PLease add your json payload"},{"owner":{"account_id":12633379,"reputation":53,"user_id":9183842,"display_name":"north32"},"score":1,"creation_date":1620178182,"post_id":67393908,"comment_id":119122190,"body_markdown":"@VovaBilyachat How can I do this? It&#39;s form from web page. The problem is when I send same enum in right case it donesn&#39;t give me a error.","body":"@VovaBilyachat How can I do this? It&#39;s form from web page. The problem is when I send same enum in right case it donesn&#39;t give me a error."},{"owner":{"account_id":17213890,"reputation":1610,"user_id":12462444,"display_name":"andreoss"},"score":1,"creation_date":1620179615,"post_id":67393908,"comment_id":119122405,"body_markdown":"You don&#39;t need to redefine bean, just edit `application.properties` to enable desired features. See https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonProperties.java#L44","body":"You don&#39;t need to redefine bean, just edit <code>application.properties</code> to enable desired features. See <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jackson/JacksonProperties.java#L44\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/blob/main/&hellip;</a>"},{"owner":{"account_id":12633379,"reputation":53,"user_id":9183842,"display_name":"north32"},"score":0,"creation_date":1620187187,"post_id":67393908,"comment_id":119123636,"body_markdown":"@andreoss ```spring.jackson.mapper.accept-case-insensitive-enums=true``` property also not give any result","body":"@andreoss <code>spring.jackson.mapper.accept-case-insensitive-enums=true</code> property also not give any result"},{"owner":{"account_id":12633379,"reputation":53,"user_id":9183842,"display_name":"north32"},"score":0,"creation_date":1620188391,"post_id":67393908,"comment_id":119123814,"body_markdown":"So I check the problem mb in jackson. Because after I added feature only in ```application.properties``` without adding ObjectMapper bean. And loggin enabled mapper features of autowired ObjectMapper the feaure is enabled but there is still same problem.","body":"So I check the problem mb in jackson. Because after I added feature only in <code>application.properties</code> without adding ObjectMapper bean. And loggin enabled mapper features of autowired ObjectMapper the feaure is enabled but there is still same problem."},{"owner":{"account_id":12633379,"reputation":53,"user_id":9183842,"display_name":"north32"},"score":0,"creation_date":1620189477,"post_id":67393908,"comment_id":119123952,"body_markdown":"Tried to parse json data instead of data from form and it worked. Seems some features work only in json.","body":"Tried to parse json data instead of data from form and it worked. Seems some features work only in json."}],"answers":[{"comments":[{"owner":{"account_id":12633379,"reputation":53,"user_id":9183842,"display_name":"north32"},"score":0,"creation_date":1620187629,"post_id":67394230,"comment_id":119123702,"body_markdown":"I have no @EnableWebMvc annotation in any configuration.","body":"I have no @EnableWebMvc annotation in any configuration."}],"tags":[],"owner":{"account_id":540,"reputation":13430,"user_id":700,"accept_rate":79,"display_name":"Brian"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620179868,"creation_date":1620179868,"answer_id":67394230,"question_id":67393908,"body_markdown":"Check that your letting spring boot auto configure your application.  Less is more in your spring boot application configuration.  If you have added @EnableWebMvc you prevent spring boot from auto configuring your serialization and deserialization.\r\n\r\nhttps://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-spring-mvc-auto-configuration","title":"Why Spring Boot not using custom ObjectMapper bean?","body":"<p>Check that your letting spring boot auto configure your application.  Less is more in your spring boot application configuration.  If you have added @EnableWebMvc you prevent spring boot from auto configuring your serialization and deserialization.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-spring-mvc-auto-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/spring-boot-features.html#boot-features-spring-mvc-auto-configuration</a></p>\n"},{"comments":[{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1620192643,"post_id":67394489,"comment_id":119124574,"body_markdown":"@north32 Remove your Jackson deps please, the web starter will include them. And there are some breaking changes in Jackson 2.12 API. I think Spring Boot 2.4.x will keep with 2.11.x","body":"@north32 Remove your Jackson deps please, the web starter will include them. And there are some breaking changes in Jackson 2.12 API. I think Spring Boot 2.4.x will keep with 2.11.x"},{"owner":{"account_id":12633379,"reputation":53,"user_id":9183842,"display_name":"north32"},"score":0,"creation_date":1620215425,"post_id":67394489,"comment_id":119133348,"body_markdown":"not working. I found solution in using json data + @RequestBody","body":"not working. I found solution in using json data + @RequestBody"},{"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"score":0,"creation_date":1620263430,"post_id":67394489,"comment_id":119151807,"body_markdown":"@north32 Your problem is not related to Jackson at all.","body":"@north32 Your problem is not related to Jackson at all."}],"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620183083,"creation_date":1620182323,"answer_id":67394489,"question_id":67393908,"body_markdown":"1. Create a `Jackson2ObjectMapperBuilderCustomizer` bean, eg. [hantsy/spring-r2dbc-sample DemoApplication.java#L152](https://github.com/hantsy/spring-r2dbc-sample/blob/master/boot/src/main/java/com/example/demo/DemoApplication.java#L152)\r\n    ```java\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer() {\r\n        return builder -&gt; {\r\n            builder.serializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n            builder.featuresToDisable(\r\n                    SerializationFeature.WRITE_DATES_AS_TIMESTAMPS,\r\n                    SerializationFeature.FAIL_ON_EMPTY_BEANS,\r\n                    DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES,\r\n                    DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\r\n            builder.featuresToEnable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\r\n        };\r\n    }\r\n    ```\r\n2. Or customize it in spring boot application properties. eg. [hantsy/spring-webmvc-jwt-sample application.yml#L4](https://github.com/hantsy/spring-webmvc-jwt-sample/blob/master/src/main/resources/application.yml#L4)\r\n   ```yml\r\n\tspring:\r\n\t  jackson:\r\n\t\tmapper:\r\n\t\t  DEFAULT_VIEW_INCLUSION: true\r\n\t\tserialization:\r\n\t\t  indent_output: true\r\n\t\t  WRITE_DATES_AS_TIMESTAMPS: false\r\n\t\tdeserialization:\r\n\t\t  FAIL_ON_IGNORED_PROPERTIES: false\r\n\t\t  FAIL_ON_UNKNOWN_PROPERTIES: false\r\n\t\t  ACCEPT_SINGLE_VALUE_AS_ARRAY: true\r\n\t\tdefault-property-inclusion: non_empty\r\n\t  ```","title":"Why Spring Boot not using custom ObjectMapper bean?","body":"<ol>\n<li>Create a <code>Jackson2ObjectMapperBuilderCustomizer</code> bean, eg. <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/boot/src/main/java/com/example/demo/DemoApplication.java#L152\" rel=\"nofollow noreferrer\">hantsy/spring-r2dbc-sample DemoApplication.java#L152</a>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic Jackson2ObjectMapperBuilderCustomizer jackson2ObjectMapperBuilderCustomizer() {\n    return builder -&gt; {\n        builder.serializationInclusion(JsonInclude.Include.NON_EMPTY);\n        builder.featuresToDisable(\n                SerializationFeature.WRITE_DATES_AS_TIMESTAMPS,\n                SerializationFeature.FAIL_ON_EMPTY_BEANS,\n                DeserializationFeature.FAIL_ON_IGNORED_PROPERTIES,\n                DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES);\n        builder.featuresToEnable(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY);\n    };\n}\n</code></pre>\n</li>\n<li>Or customize it in spring boot application properties. eg. <a href=\"https://github.com/hantsy/spring-webmvc-jwt-sample/blob/master/src/main/resources/application.yml#L4\" rel=\"nofollow noreferrer\">hantsy/spring-webmvc-jwt-sample application.yml#L4</a>\n<pre class=\"lang-yaml prettyprint-override\"><code> spring:\n   jackson:\n     mapper:\n       DEFAULT_VIEW_INCLUSION: true\n     serialization:\n       indent_output: true\n       WRITE_DATES_AS_TIMESTAMPS: false\n     deserialization:\n       FAIL_ON_IGNORED_PROPERTIES: false\n       FAIL_ON_UNKNOWN_PROPERTIES: false\n       ACCEPT_SINGLE_VALUE_AS_ARRAY: true\n     default-property-inclusion: non_empty\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":18441884,"reputation":11,"user_id":13434297,"display_name":"Alex Smith"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676511256,"creation_date":1676486169,"answer_id":75464111,"question_id":67393908,"body_markdown":"It sounds like @north32&#39;s problem was not actually related to Thymeleaf. But for those whose problem is related to Thymeleaf I have some info on this. You&#39;ll know if your problem is related to Thymeleaf if you&#39;re having problems only with serialization and only when actually building a Thymeleaf page and returning that to the frontend.\r\n\r\nI ran into this problem when attempting to add support for serialization of HibernateProxy objects using the jackson.datatype.Hibernate5Module. I should have been able to declare this as a @Bean on some @Configuration, then Jackson&#39;s AutoConfiguration would have picked this up. But I discovered that Thymeleaf itself instantiates it&#39;s own JacksonObjectMapper when it serializes. It does this at org.thymeleaf.standard.serializer.StandardJavaScriptSerializer.JacksonStandardJavaScriptSerializer.\r\n\r\nThis is honestly absurd. The Thymeleaf library that&#39;s used in conjunction with Spring should be attempting to find a bean of ObjectMapper, and using that one, instead of instantiating its own.\r\n\r\nI have not found a solution to this yet. I maybe be SOL.\r\n\r\nI created an issue for this on the thymeleaf-spring repo. https://github.com/thymeleaf/thymeleaf-spring/issues/311","title":"Why Spring Boot not using custom ObjectMapper bean?","body":"<p>It sounds like @north32's problem was not actually related to Thymeleaf. But for those whose problem is related to Thymeleaf I have some info on this. You'll know if your problem is related to Thymeleaf if you're having problems only with serialization and only when actually building a Thymeleaf page and returning that to the frontend.</p>\n<p>I ran into this problem when attempting to add support for serialization of HibernateProxy objects using the jackson.datatype.Hibernate5Module. I should have been able to declare this as a @Bean on some @Configuration, then Jackson's AutoConfiguration would have picked this up. But I discovered that Thymeleaf itself instantiates it's own JacksonObjectMapper when it serializes. It does this at org.thymeleaf.standard.serializer.StandardJavaScriptSerializer.JacksonStandardJavaScriptSerializer.</p>\n<p>This is honestly absurd. The Thymeleaf library that's used in conjunction with Spring should be attempting to find a bean of ObjectMapper, and using that one, instead of instantiating its own.</p>\n<p>I have not found a solution to this yet. I maybe be SOL.</p>\n<p>I created an issue for this on the thymeleaf-spring repo. <a href=\"https://github.com/thymeleaf/thymeleaf-spring/issues/311\" rel=\"nofollow noreferrer\">https://github.com/thymeleaf/thymeleaf-spring/issues/311</a></p>\n"}],"owner":{"account_id":12633379,"reputation":53,"user_id":9183842,"display_name":"north32"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1738,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1676511256,"creation_date":1620176253,"question_id":67393908,"body_markdown":"I have custom ObjectMapper bean annotated as @Primary.\r\n```\r\n@Configuration\r\npublic class BeanConfig {\r\n\r\n    @Bean\r\n    @Primary\r\n    public ObjectMapper objectMapper() {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.registerModule(new Jdk8Module());\r\n        objectMapper.enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS);\r\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_ABSENT);\r\n        return objectMapper;\r\n    }\r\n\r\n}\r\n```\r\nHowever when I try to parse form with not same case written enum it gives me error.\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/game&quot;)\r\npublic class GameController {\r\n\r\n    private final GameService gameService;\r\n\r\n    public GameController(GameService gameService) {\r\n        this.gameService = gameService;\r\n    }\r\n\r\n    @PostMapping(&quot;/create&quot;)\r\n    public ResponseEntity&lt;?&gt; createGame(\r\n            @AuthenticationPrincipal String id,\r\n            GameParametersForm gameParametersForm\r\n    ) {\r\n        Result&lt;String&gt; result = gameService.createWebGameSession(id, gameParametersForm);\r\n        return result.toResponseEntity();\r\n    }\r\n\r\n}\r\n```\r\n```\r\npublic class GameParametersForm {\r\n\r\n    private Mode mode;\r\n\r\n    public GameParametersForm(\r\n            Mode mode\r\n    ) {\r\n        this.mode = mode;\r\n    }\r\n\r\n    public Mode getMode() {\r\n        return mode;\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is build.gradle\r\n```\r\nplugins {\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.4.3&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n\tid &#39;java&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;11&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n\tmaven { url &#39;https://jitpack.io&#39; }\r\n}\r\n\r\ndependencies {\r\n\timplementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n\timplementation &#39;com.fasterxml.jackson.core:jackson-annotations:2.12.2&#39;\r\n\timplementation &#39;com.fasterxml.jackson.core:jackson-databind:2.12.2&#39;\r\n\timplementation &#39;com.fasterxml.jackson.datatype:jackson-datatype-jdk8:2.12.2&#39;\r\n\timplementation &#39;javax.validation:validation-api:2.0.1.Final&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-websocket&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\timplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntest {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nI have tried to declare Jackson2ObjectMapperBuilder bean. It didn&#39;t help. &lt;br/&gt;\r\nAny idea what might be happening, or where else I should be looking to track down the issue?\r\n","title":"Why Spring Boot not using custom ObjectMapper bean?","body":"<p>I have custom ObjectMapper bean annotated as @Primary.</p>\n<pre><code>@Configuration\npublic class BeanConfig {\n\n    @Bean\n    @Primary\n    public ObjectMapper objectMapper() {\n        ObjectMapper objectMapper = new ObjectMapper();\n        objectMapper.registerModule(new Jdk8Module());\n        objectMapper.enable(MapperFeature.ACCEPT_CASE_INSENSITIVE_ENUMS);\n        objectMapper.setSerializationInclusion(JsonInclude.Include.NON_ABSENT);\n        return objectMapper;\n    }\n\n}\n</code></pre>\n<p>However when I try to parse form with not same case written enum it gives me error.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/game&quot;)\npublic class GameController {\n\n    private final GameService gameService;\n\n    public GameController(GameService gameService) {\n        this.gameService = gameService;\n    }\n\n    @PostMapping(&quot;/create&quot;)\n    public ResponseEntity&lt;?&gt; createGame(\n            @AuthenticationPrincipal String id,\n            GameParametersForm gameParametersForm\n    ) {\n        Result&lt;String&gt; result = gameService.createWebGameSession(id, gameParametersForm);\n        return result.toResponseEntity();\n    }\n\n}\n</code></pre>\n<pre><code>public class GameParametersForm {\n\n    private Mode mode;\n\n    public GameParametersForm(\n            Mode mode\n    ) {\n        this.mode = mode;\n    }\n\n    public Mode getMode() {\n        return mode;\n    }\n\n}\n</code></pre>\n<p>Here is build.gradle</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.4.3'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://jitpack.io' }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.fasterxml.jackson.core:jackson-annotations:2.12.2'\n    implementation 'com.fasterxml.jackson.core:jackson-databind:2.12.2'\n    implementation 'com.fasterxml.jackson.datatype:jackson-datatype-jdk8:2.12.2'\n    implementation 'javax.validation:validation-api:2.0.1.Final'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-validation'\n    implementation 'org.springframework.boot:spring-boot-starter-websocket'\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.security:spring-security-test'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I have tried to declare Jackson2ObjectMapperBuilder bean. It didn't help. <br/>\nAny idea what might be happening, or where else I should be looking to track down the issue?</p>\n"},{"tags":["java","singularity-container","nextflow"],"answers":[{"comments":[{"owner":{"account_id":6309759,"reputation":313,"user_id":4901684,"display_name":"ksw"},"score":0,"creation_date":1677179059,"post_id":75466997,"comment_id":133291882,"body_markdown":"Thank you for your response! I&#39;ve defined the NXF_SINGULARITY_CACHEDIR environment variable. My error now is that the singularity pull step truncates with no explanation: Error executing process &gt; &#39;TrimFastQ (1)&#39;\n\nCaused by:\n  Failed to pull singularity image\n  command: singularity pull  --name ksw9-mtb-call.img.pulling.1677175699580 docker://ksw9/mtb-call &gt; /dev/null\n  status : 143\n  message:\n    INFO:    Converting OCI blobs to SIF format\n    INFO:    Starting build...\n    Getting image source signatures...INFO:    Creating SIF file...\nJob ended at Thu Feb 23 11:29:25 MST 2023","body":"Thank you for your response! I&#39;ve defined the NXF_SINGULARITY_CACHEDIR environment variable. My error now is that the singularity pull step truncates with no explanation: Error executing process &gt; &#39;TrimFastQ (1)&#39;  Caused by:   Failed to pull singularity image   command: singularity pull  --name ksw9-mtb-call.img.pulling.1677175699580 docker://ksw9/mtb-call &gt; /dev/null   status : 143   message:     INFO:    Converting OCI blobs to SIF format     INFO:    Starting build...     Getting image source signatures...INFO:    Creating SIF file... Job ended at Thu Feb 23 11:29:25 MST 2023"},{"owner":{"account_id":391289,"reputation":52114,"user_id":751863,"accept_rate":100,"display_name":"Steve"},"score":0,"creation_date":1677195922,"post_id":75466997,"comment_id":133295624,"body_markdown":"@ksw What&#39;s the output of `singularity pull --name ksw9-mtb-call.img.pulling.1677175699580 docker://ksw9/mtb-call`? If this command succeeds on another machine, rename the image to `ksw9-mtb-call.img` and move (or `scp`) it to your `NXF_SINGULARITY_CACHEDIR`. Nextflow should then be able to use the cached image file.","body":"@ksw What&#39;s the output of <code>singularity pull --name ksw9-mtb-call.img.pulling.1677175699580 docker:&#47;&#47;ksw9&#47;mtb-call</code>? If this command succeeds on another machine, rename the image to <code>ksw9-mtb-call.img</code> and move (or <code>scp</code>) it to your <code>NXF_SINGULARITY_CACHEDIR</code>. Nextflow should then be able to use the cached image file."}],"tags":[],"owner":{"account_id":391289,"reputation":52114,"user_id":751863,"accept_rate":100,"display_name":"Steve"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676511097,"creation_date":1676511097,"answer_id":75466997,"question_id":75465902,"body_markdown":"This looks more like a network connection issue, rather than an issue with Java or Nextflow exactly. The stream appears to have been closed unexpectedly:\r\n\r\n&gt; `Caused by: java.io.IOException: Stream closed`\r\n\r\nUsually this happens if your network connection is lost or if the remote service terminates for whatever reason. If your university (or research institute) imposes some resource limitations like a download quota, then exceeding this limit could cause the stream to be closed unexpectedly.\r\n\r\nUsing Nextflow, it is recommended to provide a centralized cache directory using either the `NXF_SINGULARITY_CACHEDIR` environment variable or by defining the `singularity.cacheDir` in your `nextflow.config`&lt;sup&gt;[1]&lt;/sup&gt;. For example:\r\n\r\n```\r\nsingularity {\r\n\r\n  cacheDir = &#39;/path/to/container/images&#39;\r\n}\r\n```\r\n\r\nIf you&#39;re unable to pull the images directly, another way would be to pull them to your local machine and `scp` the images into the above `cacheDir`.\r\n\r\n[1]: https://www.nextflow.io/docs/latest/container.html#singularity-docker-hub","title":"Nextflow pull Singularity image errors","body":"<p>This looks more like a network connection issue, rather than an issue with Java or Nextflow exactly. The stream appears to have been closed unexpectedly:</p>\n<blockquote>\n<p><code>Caused by: java.io.IOException: Stream closed</code></p>\n</blockquote>\n<p>Usually this happens if your network connection is lost or if the remote service terminates for whatever reason. If your university (or research institute) imposes some resource limitations like a download quota, then exceeding this limit could cause the stream to be closed unexpectedly.</p>\n<p>Using Nextflow, it is recommended to provide a centralized cache directory using either the <code>NXF_SINGULARITY_CACHEDIR</code> environment variable or by defining the <code>singularity.cacheDir</code> in your <code>nextflow.config</code><sup><a href=\"https://www.nextflow.io/docs/latest/container.html#singularity-docker-hub\" rel=\"nofollow noreferrer\">1</a></sup>. For example:</p>\n<pre><code>singularity {\n\n  cacheDir = '/path/to/container/images'\n}\n</code></pre>\n<p>If you're unable to pull the images directly, another way would be to pull them to your local machine and <code>scp</code> the images into the above <code>cacheDir</code>.</p>\n"}],"owner":{"account_id":6309759,"reputation":313,"user_id":4901684,"display_name":"ksw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":297,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676511097,"creation_date":1676499055,"question_id":75465902,"body_markdown":"I&#39;m running into errors pulling a Singularity image in a Nextflow pipeline that has worked on other clusters. I believe this error has to do with Java, though I&#39;m not sure how to troubleshoot this and am using updated Java and Nextflow versions. Any suggestions on how to troubleshoot errors related to a Singularity pull would be great. Thank you in advance!\r\n\r\n```\r\nPulling Singularity image docker://ksw9/mtb-call [cache /labs/test/Pipeline/tmp/ksw9-mtb-call.img]\r\nException in thread &quot;Thread-2&quot; groovy.lang.GroovyRuntimeException: exception while reading process stream\r\n        at org.codehaus.groovy.runtime.ProcessGroovyMethods$TextDumper.run(ProcessGroovyMethods.java:500)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.io.IOException: Stream closed\r\n        at java.base/java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:168)\r\n        at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:281)\r\n        at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:343)\r\n        at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\r\n        at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\r\n        at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\r\n        at java.base/java.io.InputStreamReader.read(InputStreamReader.java:176)\r\n        at java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\r\n        at java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\r\n        at java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\r\n        at org.codehaus.groovy.runtime.ProcessGroovyMethods$TextDumper.run(ProcessGroovyMethods.java:493)\r\n```","title":"Nextflow pull Singularity image errors","body":"<p>I'm running into errors pulling a Singularity image in a Nextflow pipeline that has worked on other clusters. I believe this error has to do with Java, though I'm not sure how to troubleshoot this and am using updated Java and Nextflow versions. Any suggestions on how to troubleshoot errors related to a Singularity pull would be great. Thank you in advance!</p>\n<pre><code>Pulling Singularity image docker://ksw9/mtb-call [cache /labs/test/Pipeline/tmp/ksw9-mtb-call.img]\nException in thread &quot;Thread-2&quot; groovy.lang.GroovyRuntimeException: exception while reading process stream\n        at org.codehaus.groovy.runtime.ProcessGroovyMethods$TextDumper.run(ProcessGroovyMethods.java:500)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.io.IOException: Stream closed\n        at java.base/java.io.BufferedInputStream.getBufIfOpen(BufferedInputStream.java:168)\n        at java.base/java.io.BufferedInputStream.read1(BufferedInputStream.java:281)\n        at java.base/java.io.BufferedInputStream.read(BufferedInputStream.java:343)\n        at java.base/sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:270)\n        at java.base/sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:313)\n        at java.base/sun.nio.cs.StreamDecoder.read(StreamDecoder.java:188)\n        at java.base/java.io.InputStreamReader.read(InputStreamReader.java:176)\n        at java.base/java.io.BufferedReader.fill(BufferedReader.java:162)\n        at java.base/java.io.BufferedReader.readLine(BufferedReader.java:329)\n        at java.base/java.io.BufferedReader.readLine(BufferedReader.java:396)\n        at org.codehaus.groovy.runtime.ProcessGroovyMethods$TextDumper.run(ProcessGroovyMethods.java:493)\n</code></pre>\n"},{"tags":["java","unit-testing","junit","mockito","stubbing"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676425431,"post_id":75454696,"comment_id":133133334,"body_markdown":"Is there a reason you can&#39;t just write something like `objectUnderTest.setSendAlert(true);` ?","body":"Is there a reason you can&#39;t just write something like <code>objectUnderTest.setSendAlert(true);</code> ?"},{"owner":{"account_id":27788662,"reputation":1,"user_id":21215531,"display_name":"Chloe Tan"},"score":0,"creation_date":1676428430,"post_id":75454696,"comment_id":133133654,"body_markdown":"the variables like `sendAlert` is set with values in a configuration file like this: `@Value(${path.to.value.in.confile.file}) \\n private boolean sendAlert`. i don&#39;t think it has getter and setter methods......","body":"the variables like <code>sendAlert</code> is set with values in a configuration file like this: <code>@Value(${path.to.value.in.confile.file}) \\n private boolean sendAlert</code>. i don&#39;t think it has getter and setter methods......"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676434259,"post_id":75454696,"comment_id":133134264,"body_markdown":"In that case, you&#39;ll want tests that create the configuration before creating the object.  Some of those tests will have sendAlert= true and some will have sendAlert=false.  Exactly how to do that depends on what framework you&#39;re using for configuration.","body":"In that case, you&#39;ll want tests that create the configuration before creating the object.  Some of those tests will have sendAlert= true and some will have sendAlert=false.  Exactly how to do that depends on what framework you&#39;re using for configuration."}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676433439,"creation_date":1676433439,"answer_id":75455351,"question_id":75454696,"body_markdown":"From your comment:\r\n\r\n&gt; the variables like sendAlert is set with values in a configuration file like this: @Value(${path.to.value.in.confile.file}) \\n private boolean sendAlert. i don&#39;t think it has getter and setter methods.....\r\n\r\nIt seems as though the class you are testing is not designed to be easily testable. It would be far better if it has a dependency on a configurator that reads from a file if that configurator was passed to it and could, therefore, be mocked.\r\n\r\nYour best option if you are not able to change the class under test would be to mock the configuration file as part of your test. By doing that you are testing the class using its intended interface. Using backdoors (e.g. using reflection to break encapsulation) will leave you with fragile tests.","title":"can we set variables in a class under test to desired values, something like stubbing?","body":"<p>From your comment:</p>\n<blockquote>\n<p>the variables like sendAlert is set with values in a configuration file like this: @Value(${path.to.value.in.confile.file}) \\n private boolean sendAlert. i don't think it has getter and setter methods.....</p>\n</blockquote>\n<p>It seems as though the class you are testing is not designed to be easily testable. It would be far better if it has a dependency on a configurator that reads from a file if that configurator was passed to it and could, therefore, be mocked.</p>\n<p>Your best option if you are not able to change the class under test would be to mock the configuration file as part of your test. By doing that you are testing the class using its intended interface. Using backdoors (e.g. using reflection to break encapsulation) will leave you with fragile tests.</p>\n"},{"tags":[],"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676510918,"creation_date":1676510918,"answer_id":75466981,"question_id":75454696,"body_markdown":"You can use ReflectionTestUtils to set value of a non-public field that has no public setter method.\r\n\r\n`ReflectionTestUtils.setField(targetObject, &quot;sendAlert&quot;, true);`\r\n\r\n","title":"can we set variables in a class under test to desired values, something like stubbing?","body":"<p>You can use ReflectionTestUtils to set value of a non-public field that has no public setter method.</p>\n<p><code>ReflectionTestUtils.setField(targetObject, &quot;sendAlert&quot;, true);</code></p>\n"}],"owner":{"account_id":27788662,"reputation":1,"user_id":21215531,"display_name":"Chloe Tan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676510918,"creation_date":1676423953,"question_id":75454696,"body_markdown":"i want to test if the flow of control in a class under test is working as expected. \r\n\r\nfrom the test class, boolean variables would be set to different combinations of true or false. \r\n\r\ninstead of line 1 below, is there something like lines 2 and 3?\r\n\r\n1. `when(listMock.add(anyString())).thenReturn(false)`\r\n\r\n2. `setValueToVariableInClassUnderTest(sendAlert,true)`\r\n3. `setValueToVariableInClassUnderTest(sendAlert,false)`","title":"can we set variables in a class under test to desired values, something like stubbing?","body":"<p>i want to test if the flow of control in a class under test is working as expected.</p>\n<p>from the test class, boolean variables would be set to different combinations of true or false.</p>\n<p>instead of line 1 below, is there something like lines 2 and 3?</p>\n<ol>\n<li><p><code>when(listMock.add(anyString())).thenReturn(false)</code></p>\n</li>\n<li><p><code>setValueToVariableInClassUnderTest(sendAlert,true)</code></p>\n</li>\n<li><p><code>setValueToVariableInClassUnderTest(sendAlert,false)</code></p>\n</li>\n</ol>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":1,"creation_date":1676507774,"post_id":75466634,"comment_id":133153080,"body_markdown":"Why ```if(num&lt;max)``` then ```low = num; ```?","body":"Why <code>if(num&lt;max)</code> then <code>low = num; </code>?"},{"owner":{"account_id":27798046,"reputation":1,"user_id":21223027,"display_name":"JonathanG"},"score":0,"creation_date":1676509953,"post_id":75466634,"comment_id":133153367,"body_markdown":"im trying to get the lowest number out of the inputs. So when num is less than max. Low becomes the lowest number out of all the inputs","body":"im trying to get the lowest number out of the inputs. So when num is less than max. Low becomes the lowest number out of all the inputs"},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1676510127,"post_id":75466634,"comment_id":133153390,"body_markdown":"But think of this scenario, say you are now having low = 5, max = 50, and the next number is 20. If following your logic, you will have low = 20.","body":"But think of this scenario, say you are now having low = 5, max = 50, and the next number is 20. If following your logic, you will have low = 20."},{"owner":{"account_id":27798046,"reputation":1,"user_id":21223027,"display_name":"JonathanG"},"score":0,"creation_date":1676510316,"post_id":75466634,"comment_id":133153422,"body_markdown":"I understand, but i don&#39;t know what to put in the if statement","body":"I understand, but i don&#39;t know what to put in the if statement"}],"answers":[{"comments":[{"owner":{"account_id":27798046,"reputation":1,"user_id":21223027,"display_name":"JonathanG"},"score":0,"creation_date":1676512164,"post_id":75466978,"comment_id":133153627,"body_markdown":"thanks man for the help and explanation. Also why would the while loop be counting -1 as a input because I put it as  while (num &gt;= 0) and I thought it wouldn&#39;t count the negative.","body":"thanks man for the help and explanation. Also why would the while loop be counting -1 as a input because I put it as  while (num &gt;= 0) and I thought it wouldn&#39;t count the negative."},{"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"score":0,"creation_date":1676513343,"post_id":75466978,"comment_id":133153781,"body_markdown":"Because the main line to take in your number input is this: ```num = scnr.nextInt();```. If you do not do something to stop the while-loop, it will proceed with the remaining codes within the loop first before exiting.","body":"Because the main line to take in your number input is this: <code>num = scnr.nextInt();</code>. If you do not do something to stop the while-loop, it will proceed with the remaining codes within the loop first before exiting."}],"tags":[],"owner":{"account_id":27540947,"reputation":983,"user_id":21017714,"display_name":"Enowneb"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676510885,"creation_date":1676510885,"answer_id":75466978,"question_id":75466634,"body_markdown":"For the suggested changes, I will stick to your code structure and you can further refine it:\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scnr = new Scanner(System.in);\r\n        int num, max, low, sum;\r\n        num = scnr.nextInt();\r\n        max = num;\r\n        // Should not set low = 0, you should set low to the first read number also\r\n        low = num;\r\n        // You have already read one number above, sum should start from num\r\n        sum = num;\r\n        // You have already read one number above, count should start from 1\r\n        int count = 1;\r\n        double avg = 0;\r\n      \r\n        while (num &gt;= 0)\r\n        {\r\n            num = scnr.nextInt();\r\n            // You have to stop while loop if num &lt; 0, you do not want to count negative number\r\n            if (num &lt; 0)\r\n                break;\r\n                \r\n            // If you have number smaller than low, set it\r\n            if (num &lt; low)\r\n                low = num;\r\n            \r\n            // If you have number bigger than max, set it\r\n            if (num &gt; max)\r\n                max = num;\r\n            \r\n            sum += num;\r\n            count++;\r\n        }\r\n      \r\n     \r\n        avg = (double)sum / (double)count;\r\n        System.out.println(&quot;Count of positive integers is: &quot; + count);\r\n        System.out.println(&quot;The highest value is: &quot; + max);\r\n        System.out.println(&quot;The lowest value is: &quot; + low);\r\n        System.out.println(&quot;The average is: &quot; + avg);\r\n    }\r\n}\r\n```\r\n\r\nBut note that there is a flaw for the above code if your input is only ```-1```. I will leave this to you to have a try on how to fix that.","title":"while loop in java giving wrong outputs and not working correctly","body":"<p>For the suggested changes, I will stick to your code structure and you can further refine it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner scnr = new Scanner(System.in);\n        int num, max, low, sum;\n        num = scnr.nextInt();\n        max = num;\n        // Should not set low = 0, you should set low to the first read number also\n        low = num;\n        // You have already read one number above, sum should start from num\n        sum = num;\n        // You have already read one number above, count should start from 1\n        int count = 1;\n        double avg = 0;\n      \n        while (num &gt;= 0)\n        {\n            num = scnr.nextInt();\n            // You have to stop while loop if num &lt; 0, you do not want to count negative number\n            if (num &lt; 0)\n                break;\n                \n            // If you have number smaller than low, set it\n            if (num &lt; low)\n                low = num;\n            \n            // If you have number bigger than max, set it\n            if (num &gt; max)\n                max = num;\n            \n            sum += num;\n            count++;\n        }\n      \n     \n        avg = (double)sum / (double)count;\n        System.out.println(&quot;Count of positive integers is: &quot; + count);\n        System.out.println(&quot;The highest value is: &quot; + max);\n        System.out.println(&quot;The lowest value is: &quot; + low);\n        System.out.println(&quot;The average is: &quot; + avg);\n    }\n}\n</code></pre>\n<p>But note that there is a flaw for the above code if your input is only <code>-1</code>. I will leave this to you to have a try on how to fix that.</p>\n"}],"owner":{"account_id":27798046,"reputation":1,"user_id":21223027,"display_name":"JonathanG"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676510885,"creation_date":1676506279,"question_id":75466634,"body_markdown":"Im trying to get specfic outputs using these inputs:1 2 2 1 3 -1. The ouputs are suppose to be                  Count of positive integers is: 5\r\nThe highest value is: 3\r\nThe lowest value is: 1\r\nThe average is: 1.8\r\nHOwever, im keep getting the wrong outputs for low and average value\r\n\r\n       import java.util.Scanner;\r\n    \r\n       public class Main {\r\n           public static void main(String[] args) {\r\n              Scanner scnr = new Scanner(System.in);\r\n              int num, max, low, sum;\r\n              num= scnr.nextInt();\r\n              max = num;\r\n              low =0;\r\n              sum=0;\r\n              int count = 0;\r\n              double avg=0;\r\n          \r\n              while(num&gt;=0  )\r\n              {\r\n                 num=scnr.nextInt();\r\n            \r\n                 if(num&lt;max)\r\n                  {\r\n                   low = num; \r\n                  }\r\n                 else \r\n                 {\r\n                    max=num;\r\n                 }\r\n                 sum+= num;\r\n                 count++;\r\n              \r\n              }\r\n          \r\n         \r\n              avg=(double)sum/count;\r\n              System.out.println(&quot;Count of positive integers is: &quot;+count);\r\n              System.out.println(&quot;The highest value is: &quot;+max);\r\n              System.out.println(&quot;The lowest value is: &quot;+low);\r\n              System.out.println(&quot;The average is: &quot;+ avg);\r\n    \r\n          \r\n           }\r\n         }","title":"while loop in java giving wrong outputs and not working correctly","body":"<p>Im trying to get specfic outputs using these inputs:1 2 2 1 3 -1. The ouputs are suppose to be                  Count of positive integers is: 5\nThe highest value is: 3\nThe lowest value is: 1\nThe average is: 1.8\nHOwever, im keep getting the wrong outputs for low and average value</p>\n<pre><code>   import java.util.Scanner;\n\n   public class Main {\n       public static void main(String[] args) {\n          Scanner scnr = new Scanner(System.in);\n          int num, max, low, sum;\n          num= scnr.nextInt();\n          max = num;\n          low =0;\n          sum=0;\n          int count = 0;\n          double avg=0;\n      \n          while(num&gt;=0  )\n          {\n             num=scnr.nextInt();\n        \n             if(num&lt;max)\n              {\n               low = num; \n              }\n             else \n             {\n                max=num;\n             }\n             sum+= num;\n             count++;\n          \n          }\n      \n     \n          avg=(double)sum/count;\n          System.out.println(&quot;Count of positive integers is: &quot;+count);\n          System.out.println(&quot;The highest value is: &quot;+max);\n          System.out.println(&quot;The lowest value is: &quot;+low);\n          System.out.println(&quot;The average is: &quot;+ avg);\n\n      \n       }\n     }\n</code></pre>\n"},{"tags":["java","amazon-s3"],"answers":[{"tags":[],"owner":{"account_id":9354707,"reputation":301,"user_id":6943134,"display_name":"Pablo"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1480594421,"creation_date":1480594421,"answer_id":40910400,"question_id":40897548,"body_markdown":"The solution was pretty simple: I was trying to implement this communication without an AmazonS3 bean for Spring.\r\n\r\nThis link will help with the configuration:\r\n\r\n[http://codeomitted.com/upload-file-to-s3-with-spring/][1]\r\n\r\n\r\n  [1]: http://codeomitted.com/upload-file-to-s3-with-spring/","title":"AWS Java S3 Uploading error: &quot;profile file cannot be null&quot;","body":"<p>The solution was pretty simple: I was trying to implement this communication without an AmazonS3 bean for Spring.</p>\n\n<p>This link will help with the configuration:</p>\n\n<p><a href=\"http://codeomitted.com/upload-file-to-s3-with-spring/\" rel=\"nofollow noreferrer\">http://codeomitted.com/upload-file-to-s3-with-spring/</a></p>\n"},{"comments":[{"owner":{"account_id":1606795,"reputation":9608,"user_id":1486742,"display_name":"LeOn - Han Li"},"score":2,"creation_date":1491923220,"post_id":41284477,"comment_id":73762607,"body_markdown":"Thanks. Same thing in `Lambda`, I was passing the `ProfileCredentialsProvider` into the constructor which cause that error.  Using `AmazonS3 s3Client = new AmazonS3Client();` works.","body":"Thanks. Same thing in <code>Lambda</code>, I was passing the <code>ProfileCredentialsProvider</code> into the constructor which cause that error.  Using <code>AmazonS3 s3Client = new AmazonS3Client();</code> works."},{"owner":{"account_id":228932,"reputation":23614,"user_id":491553,"accept_rate":45,"display_name":"Ryan Shillington"},"score":5,"creation_date":1495230131,"post_id":41284477,"comment_id":75182769,"body_markdown":"FYI - I had this problem in a docker ECS container.  It&#39;s the same thing as with Lambda.  Look in  your code for `new ProfileCredentialsProvider(someProfile))` and replace it with `DefaultAWSCredentialsProviderChain.getInstance()`","body":"FYI - I had this problem in a docker ECS container.  It&#39;s the same thing as with Lambda.  Look in  your code for <code>new ProfileCredentialsProvider(someProfile))</code> and replace it with <code>DefaultAWSCredentialsProviderChain.getInstance()</code>"},{"owner":{"account_id":228932,"reputation":23614,"user_id":491553,"accept_rate":45,"display_name":"Ryan Shillington"},"score":0,"creation_date":1495232486,"post_id":41284477,"comment_id":75183423,"body_markdown":"I left an answer with code examples here: http://stackoverflow.com/questions/41796355/aws-error-downloading-object-from-s3-profile-file-cannot-be-null/44079772#44079772","body":"I left an answer with code examples here: <a href=\"http://stackoverflow.com/questions/41796355/aws-error-downloading-object-from-s3-profile-file-cannot-be-null/44079772#44079772\" title=\"aws error downloading object from s3 profile file cannot be null\">stackoverflow.com/questions/41796355/&hellip;</a>"}],"tags":[],"owner":{"account_id":6408039,"reputation":358,"user_id":4968619,"display_name":"emre can"},"comment_count":3,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1482414439,"creation_date":1482413883,"answer_id":41284477,"question_id":40897548,"body_markdown":"&gt; [ProfileCredentialsProvider()][1] creates a new profile credentials provider that returns the AWS security credentials configured for the default profile. \r\n\r\nSo, if you haven&#39;t any configuration for default profile at `~/.aws/credentials`, while trying to put object, it yields that error.\r\n\r\nIf you run your code on Lambda service, it will not provide this file. In that case, you also do not need to provide credentials. Just assign right IAM Role to your lambda function, then using default constructor should solve issue.\r\n\r\nYou may want to change [TransferManager][2] constructor according to your needs. \r\n\r\n  [1]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/profile/ProfileCredentialsProvider.html\r\n  [2]: http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html#TransferManager--","title":"AWS Java S3 Uploading error: &quot;profile file cannot be null&quot;","body":"<blockquote>\n  <p><a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/auth/profile/ProfileCredentialsProvider.html\" rel=\"noreferrer\">ProfileCredentialsProvider()</a> creates a new profile credentials provider that returns the AWS security credentials configured for the default profile. </p>\n</blockquote>\n\n<p>So, if you haven't any configuration for default profile at <code>~/.aws/credentials</code>, while trying to put object, it yields that error.</p>\n\n<p>If you run your code on Lambda service, it will not provide this file. In that case, you also do not need to provide credentials. Just assign right IAM Role to your lambda function, then using default constructor should solve issue.</p>\n\n<p>You may want to change <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/transfer/TransferManager.html#TransferManager--\" rel=\"noreferrer\">TransferManager</a> constructor according to your needs. </p>\n"},{"comments":[{"owner":{"account_id":12607051,"reputation":755,"user_id":9167594,"display_name":"Alisha Raju"},"score":0,"creation_date":1567167695,"post_id":55349228,"comment_id":101893346,"body_markdown":"This didnt work for me. When i checked `DefaultAWSCredentialsProviderChain.getInstance()` , is creating a new *ProfileCredentialsProvider* which might have caused the issue. Not sure. Still didn&#39;t get any reoslution","body":"This didnt work for me. When i checked <code>DefaultAWSCredentialsProviderChain.getInstance()</code> , is creating a new <i>ProfileCredentialsProvider</i> which might have caused the issue. Not sure. Still didn&#39;t get any reoslution"}],"tags":[],"owner":{"account_id":3740643,"reputation":935,"user_id":3110488,"display_name":"m.nguyencntt"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553569220,"creation_date":1553569220,"answer_id":55349228,"question_id":40897548,"body_markdown":"my code worked fine as below:\r\n\r\n    AmazonS3 s3Client = AmazonS3ClientBuilder.standard().withCredentials(DefaultAWSCredentialsProviderChain.getInstance()).withRegion(clientRegion).build();","title":"AWS Java S3 Uploading error: &quot;profile file cannot be null&quot;","body":"<p>my code worked fine as below:</p>\n\n<pre><code>AmazonS3 s3Client = AmazonS3ClientBuilder.standard().withCredentials(DefaultAWSCredentialsProviderChain.getInstance()).withRegion(clientRegion).build();\n</code></pre>\n"}],"owner":{"account_id":9354707,"reputation":301,"user_id":6943134,"display_name":"Pablo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20214,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":3,"score":21,"last_activity_date":1676510507,"creation_date":1480537619,"question_id":40897548,"body_markdown":"I get an exception when trying to upload a file to Amazon S3 from my Java Spring application. The method is pretty simple:\r\n\r\n    private void productionFileSaver(String keyName, File f) throws InterruptedException {\r\n\r\n    \t\tString bucketName = &quot;{my-bucket-name}&quot;;\r\n    \t\tTransferManager tm = new TransferManager(new ProfileCredentialsProvider());        \r\n            // TransferManager processes all transfers asynchronously, \r\n            // so this call will return immediately.\r\n            Upload upload = tm.upload(\r\n            \t\tbucketName, keyName, new File(&quot;/mypath/myfile.png&quot;));\r\n    \r\n            try {\r\n            \t// Or you can block and wait for the upload to finish\r\n            \tupload.waitForCompletion();\r\n            \tSystem.out.println(&quot;Upload complete.&quot;);\r\n            } catch (AmazonClientException amazonClientException) {\r\n            \tSystem.out.println(&quot;Unable to upload file, upload was aborted.&quot;);\r\n            \tamazonClientException.printStackTrace();\r\n            }\r\n        }\r\n\r\nIt is basically the same that amazon provides [here][1], and the same exception with the exactly same message (&quot;profile file cannot be null&quot;) appears when trying [this other][2] version.\r\nThe problem is not related to the file not existing or being null (I have already checked in a thousand ways that the File argument recieved by `TransferManager.upload` method exists before calling it).\r\n\r\nI cannot find any info about my exception message &quot;**profile file cannot be null**&quot;. The first lines of the error log are the following:\r\n\r\n    com.amazonaws.AmazonClientException: Unable to complete transfer: profile file cannot be null\r\n    \tat com.amazonaws.services.s3.transfer.internal.AbstractTransfer.unwrapExecutionException(AbstractTransfer.java:281)\r\n    \tat com.amazonaws.services.s3.transfer.internal.AbstractTransfer.rethrowExecutionException(AbstractTransfer.java:265)\r\n    \tat com.amazonaws.services.s3.transfer.internal.AbstractTransfer.waitForCompletion(AbstractTransfer.java:103)\r\n    \tat com.fullteaching.backend.file.FileController.productionFileSaver(FileController.java:371)\r\n    \tat com.fullteaching.backend.file.FileController.handlePictureUpload(FileController.java:247)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\r\nMy S3 policy allows getting and puttings objects for all kind of users.\r\n\r\nWhat&#39;s happening?\r\n\r\n  [1]: http://docs.aws.amazon.com/AmazonS3/latest/dev/HLuploadFileJava.html\r\n  [2]: http://docs.aws.amazon.com/AmazonS3/latest/dev/UploadObjSingleOpJava.html","title":"AWS Java S3 Uploading error: &quot;profile file cannot be null&quot;","body":"<p>I get an exception when trying to upload a file to Amazon S3 from my Java Spring application. The method is pretty simple:</p>\n<pre><code>private void productionFileSaver(String keyName, File f) throws InterruptedException {\n\n        String bucketName = &quot;{my-bucket-name}&quot;;\n        TransferManager tm = new TransferManager(new ProfileCredentialsProvider());        \n        // TransferManager processes all transfers asynchronously, \n        // so this call will return immediately.\n        Upload upload = tm.upload(\n                bucketName, keyName, new File(&quot;/mypath/myfile.png&quot;));\n\n        try {\n            // Or you can block and wait for the upload to finish\n            upload.waitForCompletion();\n            System.out.println(&quot;Upload complete.&quot;);\n        } catch (AmazonClientException amazonClientException) {\n            System.out.println(&quot;Unable to upload file, upload was aborted.&quot;);\n            amazonClientException.printStackTrace();\n        }\n    }\n</code></pre>\n<p>It is basically the same that amazon provides <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/HLuploadFileJava.html\" rel=\"nofollow noreferrer\">here</a>, and the same exception with the exactly same message (&quot;profile file cannot be null&quot;) appears when trying <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/dev/UploadObjSingleOpJava.html\" rel=\"nofollow noreferrer\">this other</a> version.\nThe problem is not related to the file not existing or being null (I have already checked in a thousand ways that the File argument recieved by <code>TransferManager.upload</code> method exists before calling it).</p>\n<p>I cannot find any info about my exception message &quot;<strong>profile file cannot be null</strong>&quot;. The first lines of the error log are the following:</p>\n<pre><code>com.amazonaws.AmazonClientException: Unable to complete transfer: profile file cannot be null\n    at com.amazonaws.services.s3.transfer.internal.AbstractTransfer.unwrapExecutionException(AbstractTransfer.java:281)\n    at com.amazonaws.services.s3.transfer.internal.AbstractTransfer.rethrowExecutionException(AbstractTransfer.java:265)\n    at com.amazonaws.services.s3.transfer.internal.AbstractTransfer.waitForCompletion(AbstractTransfer.java:103)\n    at com.fullteaching.backend.file.FileController.productionFileSaver(FileController.java:371)\n    at com.fullteaching.backend.file.FileController.handlePictureUpload(FileController.java:247)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n</code></pre>\n<p>My S3 policy allows getting and puttings objects for all kind of users.</p>\n<p>What's happening?</p>\n"},{"tags":["java","android","android-studio","package"],"answers":[{"comments":[{"owner":{"account_id":3083518,"reputation":1677,"user_id":2611222,"display_name":"Christopher Rathgeb"},"score":1,"creation_date":1445694116,"post_id":33318844,"comment_id":54435646,"body_markdown":"Thank you so much.  This is it.  I feel like I just asked why my tv wont turn on, and then someone asked me if it was plugged in....to which I reply of course...and then have the realization that it is not.","body":"Thank you so much.  This is it.  I feel like I just asked why my tv wont turn on, and then someone asked me if it was plugged in....to which I reply of course...and then have the realization that it is not."},{"owner":{"account_id":3083518,"reputation":1677,"user_id":2611222,"display_name":"Christopher Rathgeb"},"score":0,"creation_date":1445694251,"post_id":33318844,"comment_id":54435683,"body_markdown":"Ahh thanks for your update.  I prefer the Android view.  &quot;Compact Empty Middle Package&quot; was exactly what I was looking for.","body":"Ahh thanks for your update.  I prefer the Android view.  &quot;Compact Empty Middle Package&quot; was exactly what I was looking for."},{"owner":{"account_id":6082188,"reputation":17560,"user_id":4747587,"accept_rate":64,"display_name":"Henry"},"score":0,"creation_date":1445694294,"post_id":33318844,"comment_id":54435702,"body_markdown":"@ChristopherRathgeb We all made that mistake :) Been there, done that.  Added a screenshot, for good documentation.","body":"@ChristopherRathgeb We all made that mistake :) Been there, done that.  Added a screenshot, for good documentation."},{"owner":{"account_id":3083518,"reputation":1677,"user_id":2611222,"display_name":"Christopher Rathgeb"},"score":0,"creation_date":1445694525,"post_id":33318844,"comment_id":54435775,"body_markdown":"Actually, I think you have the View types backwards. Android View is the view that had it auto collapsed.  Project view is the one that had Compact Empty Middle Package as the solution.  None the less you solved my problem!","body":"Actually, I think you have the View types backwards. Android View is the view that had it auto collapsed.  Project view is the one that had Compact Empty Middle Package as the solution.  None the less you solved my problem!"},{"owner":{"account_id":6082188,"reputation":17560,"user_id":4747587,"accept_rate":64,"display_name":"Henry"},"score":3,"creation_date":1445694689,"post_id":33318844,"comment_id":54435821,"body_markdown":"Yes, I just turned off `Compact Empty Middle Package` in the `Android` view. That&#39;s the screenshot. I actually prefer the `Android` view rather than the `Project` view, because this view gives better organizational structure.","body":"Yes, I just turned off <code>Compact Empty Middle Package</code> in the <code>Android</code> view. That&#39;s the screenshot. I actually prefer the <code>Android</code> view rather than the <code>Project</code> view, because this view gives better organizational structure."},{"owner":{"account_id":1024418,"reputation":1083,"user_id":1034042,"accept_rate":65,"display_name":"kaay"},"score":3,"creation_date":1537162964,"post_id":33318844,"comment_id":91666965,"body_markdown":"On a fresh install of AS 3.1.4, BOTH of those views have &quot;Hide Empty Middle Packages&quot; on by default. it&#39;s the second part of your answer that matters.","body":"On a fresh install of AS 3.1.4, BOTH of those views have &quot;Hide Empty Middle Packages&quot; on by default. it&#39;s the second part of your answer that matters."},{"owner":{"account_id":1147281,"reputation":460,"user_id":1129756,"accept_rate":100,"display_name":"Alexander"},"score":0,"creation_date":1548027301,"post_id":33318844,"comment_id":95385686,"body_markdown":"@kaay I think you should add your comment as an answer. The above answer is not applicable in the latest AS.","body":"@kaay I think you should add your comment as an answer. The above answer is not applicable in the latest AS."}],"tags":[],"owner":{"account_id":6082188,"reputation":17560,"user_id":4747587,"accept_rate":64,"display_name":"Henry"},"comment_count":7,"down_vote_count":0,"up_vote_count":62,"is_accepted":true,"score":62,"last_activity_date":1548322200,"creation_date":1445693946,"answer_id":33318844,"question_id":33318733,"body_markdown":"In the `1:Project` view, you have `Hide Empty Middle Packages` turned ON. You need to turn it off. Once turned off it will be shown as `Compact Empty Middle Package`. Please look at the screenshot attached.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/sSfSX.jpg","title":"How do I prevent Android Studio from automatically collapsing my packages in project navigation?","body":"<p>In the <code>1:Project</code> view, you have <code>Hide Empty Middle Packages</code> turned ON. You need to turn it off. Once turned off it will be shown as <code>Compact Empty Middle Package</code>. Please look at the screenshot attached.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sSfSX.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sSfSX.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":3319340,"reputation":884,"user_id":2790894,"accept_rate":0,"display_name":"Milan Sheth"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676509697,"creation_date":1675174069,"answer_id":75298384,"question_id":33318733,"body_markdown":"With **Android Studio Electric Eel | 2022.1.1** you need to switch to **Project View** and then click on **Settings icon** from the right top side and then disable **Compact Middle Packages**  under the **Tree Appearance** and then you create your sub package folder it will not merge/collapse and work as a sub-package as we need.\r\n\r\n[![Disable Compact Middle Packages][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HttXf.png\r\n\r\nThis will prevent Android Studio to automatically collapse the package and sub-package.\r\n","title":"How do I prevent Android Studio from automatically collapsing my packages in project navigation?","body":"<p>With <strong>Android Studio Electric Eel | 2022.1.1</strong> you need to switch to <strong>Project View</strong> and then click on <strong>Settings icon</strong> from the right top side and then disable <strong>Compact Middle Packages</strong>  under the <strong>Tree Appearance</strong> and then you create your sub package folder it will not merge/collapse and work as a sub-package as we need.</p>\n<p><a href=\"https://i.stack.imgur.com/HttXf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HttXf.png\" alt=\"Disable Compact Middle Packages\" /></a></p>\n<p>This will prevent Android Studio to automatically collapse the package and sub-package.</p>\n"}],"owner":{"account_id":3083518,"reputation":1677,"user_id":2611222,"display_name":"Christopher Rathgeb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8940,"favorite_count":0,"down_vote_count":0,"up_vote_count":37,"accepted_answer_id":33318844,"answer_count":2,"score":37,"last_activity_date":1676509697,"creation_date":1445693247,"question_id":33318733,"body_markdown":"I have run into this annoyance over and over again and have been unable to find a solution or an answer here for it:\r\n\r\nWhen I create a package in my application and then add a package within it, if I do not have a file in the directory already it will auto collapse my package in the left-side navigation of Android Studio.  This prevents me from adding other sub-packages to the parent package, without manually resolving the issue within the file system.\r\n\r\nFor Example:\r\n\r\n[![example of collapsed navigation][1]][1]\r\n\r\nWhat I want is:\r\n\r\n    -presentation   \r\n      -screens\r\n         -devicescreen\r\n             -adapters\r\n             -presenters\r\n             -views\r\n\r\n  [1]: http://i.stack.imgur.com/d88a1.png\r\n","title":"How do I prevent Android Studio from automatically collapsing my packages in project navigation?","body":"<p>I have run into this annoyance over and over again and have been unable to find a solution or an answer here for it:</p>\n\n<p>When I create a package in my application and then add a package within it, if I do not have a file in the directory already it will auto collapse my package in the left-side navigation of Android Studio.  This prevents me from adding other sub-packages to the parent package, without manually resolving the issue within the file system.</p>\n\n<p>For Example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/d88a1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/d88a1.png\" alt=\"example of collapsed navigation\"></a></p>\n\n<p>What I want is:</p>\n\n<pre><code>-presentation   \n  -screens\n     -devicescreen\n         -adapters\n         -presenters\n         -views\n</code></pre>\n"},{"tags":["java","maven","lombok","openjdk-17"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1637651079,"post_id":70072915,"comment_id":123876286,"body_markdown":"Please show your pom file also add as much information as possible...exact Maven version. best would be an example project...also how you call Maven?","body":"Please show your pom file also add as much information as possible...exact Maven version. best would be an example project...also how you call Maven?"},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1637666950,"post_id":70072915,"comment_id":123882174,"body_markdown":"@khmarbaise the Maven version is in the title.  I executed it using `mvn compile`.","body":"@khmarbaise the Maven version is in the title.  I executed it using <code>mvn compile</code>."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1637667163,"post_id":70072915,"comment_id":123882260,"body_markdown":"Do you use lombok?","body":"Do you use lombok?"},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":0,"creation_date":1637669131,"post_id":70072915,"comment_id":123883031,"body_markdown":"Oh yeah I do.  You mighbt be on to something.  let me upgrade it.  I&#39;ll post my lombok version.","body":"Oh yeah I do.  You mighbt be on to something.  let me upgrade it.  I&#39;ll post my lombok version."},{"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"score":1,"creation_date":1637669332,"post_id":70072915,"comment_id":123883110,"body_markdown":"@khmarbaise upgrading to 1.18.20 fixed it.  Want to throw up an answer and I&#39;ll mark it correct?","body":"@khmarbaise upgrading to 1.18.20 fixed it.  Want to throw up an answer and I&#39;ll mark it correct?"}],"answers":[{"tags":[],"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1637674785,"creation_date":1637674785,"answer_id":70081938,"question_id":70072915,"body_markdown":"The problem is the usage of lombok project which in this case being used not the most recent version.","title":"Unable to compile JDK 17 using Maven 3.8: error: module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module","body":"<p>The problem is the usage of lombok project which in this case being used not the most recent version.</p>\n"}],"owner":{"account_id":1611562,"reputation":11552,"user_id":1490322,"accept_rate":71,"display_name":"Jose Martinez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18519,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70081938,"answer_count":1,"score":5,"last_activity_date":1676509492,"creation_date":1637618562,"question_id":70072915,"body_markdown":"I am trying to compile an existing Spring Boot project using JDK 17 and Maven 3.8.4 and I keep getting this error.\r\n\r\n\r\n&gt; Unable to make field private\r\n&gt; com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors\r\n&gt; com.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs\r\n&gt; accessible: module jdk.compiler does not &quot;opens\r\n&gt; com.sun.tools.javac.processing&quot; to unnamed module @521e3470\r\n\r\nThe problem also occurs with older versions of Maven like 3.6.  It also happens with JDK 16.  It does not matter what version of Java is configured in the pom.xml via the `java.version`, `maven.compiler.source`, and `maven.compiler.target`.  only the JDK version being used to do the compiling... displayed in the `mvn -v` command.\r\n\r\nThe project compiles fine using JDK 15.  The error happens immediately when compiling starts, right after the INFO message stating how many classes are being compiled.  Happens in both my Windows laptop and Ubuntu CI server. \r\n\r\nAny ideas what this could be?\r\n\r\nEDIT:  adding more of the POM file.\r\n\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;15&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\r\n        &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\r\n        &lt;ch.qos.logback.version&gt;1.2.3&lt;/ch.qos.logback.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n\r\nEDIT:  i also use Lombok\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nEDIT:  I dont think this is the same question as the other one because I searched by error msg, and that other question never popped up in the results. To arrive to that question, you need to know that the error is related to Lombok. The error gives no clue to Lombok being the culprit. ","title":"Unable to compile JDK 17 using Maven 3.8: error: module jdk.compiler does not &quot;opens com.sun.tools.javac.processing&quot; to unnamed module","body":"<p>I am trying to compile an existing Spring Boot project using JDK 17 and Maven 3.8.4 and I keep getting this error.</p>\n<blockquote>\n<p>Unable to make field private\ncom.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors\ncom.sun.tools.javac.processing.JavacProcessingEnvironment.discoveredProcs\naccessible: module jdk.compiler does not &quot;opens\ncom.sun.tools.javac.processing&quot; to unnamed module @521e3470</p>\n</blockquote>\n<p>The problem also occurs with older versions of Maven like 3.6.  It also happens with JDK 16.  It does not matter what version of Java is configured in the pom.xml via the <code>java.version</code>, <code>maven.compiler.source</code>, and <code>maven.compiler.target</code>.  only the JDK version being used to do the compiling... displayed in the <code>mvn -v</code> command.</p>\n<p>The project compiles fine using JDK 15.  The error happens immediately when compiling starts, right after the INFO message stating how many classes are being compiled.  Happens in both my Windows laptop and Ubuntu CI server.</p>\n<p>Any ideas what this could be?</p>\n<p>EDIT:  adding more of the POM file.</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.5.4&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;15&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;15&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;15&lt;/maven.compiler.target&gt;\n    &lt;spring-cloud.version&gt;2020.0.4&lt;/spring-cloud.version&gt;\n    &lt;ch.qos.logback.version&gt;1.2.3&lt;/ch.qos.logback.version&gt;\n&lt;/properties&gt;\n</code></pre>\n<p>EDIT:  i also use Lombok</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>EDIT:  I dont think this is the same question as the other one because I searched by error msg, and that other question never popped up in the results. To arrive to that question, you need to know that the error is related to Lombok. The error gives no clue to Lombok being the culprit.</p>\n"},{"tags":["c#","java","image-recognition","number-recognition"],"answers":[{"comments":[{"owner":{"account_id":61265,"reputation":11488,"user_id":182689,"accept_rate":83,"display_name":"svens"},"score":0,"creation_date":1268163110,"post_id":2411917,"comment_id":2392946,"body_markdown":"Thanks for the tip. Actually I&#39;m not that good in C/C++ and there&#39;s a lot of code. I&#39;m still hoping not having to try to understand a whole OCR software project, just for learning number recognition.","body":"Thanks for the tip. Actually I&#39;m not that good in C/C++ and there&#39;s a lot of code. I&#39;m still hoping not having to try to understand a whole OCR software project, just for learning number recognition."},{"owner":{"account_id":46054,"reputation":20928,"user_id":135952,"accept_rate":99,"display_name":"Keith Adler"},"score":0,"creation_date":1268163176,"post_id":2411917,"comment_id":2392958,"body_markdown":"This will remove the need for you to use C++ ... the C# wrapper is pretty straight-forward.  Unless you want to become an expert in machine learning and image optimization you really don&#39;t want to try to roll your own OCR solution.","body":"This will remove the need for you to use C++ ... the C# wrapper is pretty straight-forward.  Unless you want to become an expert in machine learning and image optimization you really don&#39;t want to try to roll your own OCR solution."},{"owner":{"account_id":61611,"reputation":66490,"user_id":183528,"accept_rate":95,"display_name":"rook"},"score":1,"creation_date":1268163476,"post_id":2411917,"comment_id":2393016,"body_markdown":"+1 Tesseract is awesome.  You can use any language you want as long as you call it on the command line.","body":"+1 Tesseract is awesome.  You can use any language you want as long as you call it on the command line."},{"owner":{"account_id":46054,"reputation":20928,"user_id":135952,"accept_rate":99,"display_name":"Keith Adler"},"score":1,"creation_date":1268164264,"post_id":2411917,"comment_id":2393122,"body_markdown":"You can use it as a DLL as well with not much effort so no command line necessary.  It comes with this out of the box as they say in their release notes.  http://code.google.com/p/tesseract-ocr/wiki/ReleaseNotes","body":"You can use it as a DLL as well with not much effort so no command line necessary.  It comes with this out of the box as they say in their release notes.  <a href=\"http://code.google.com/p/tesseract-ocr/wiki/ReleaseNotes\" rel=\"nofollow noreferrer\">code.google.com/p/tesseract-ocr/wiki/ReleaseNotes</a>"}],"tags":[],"owner":{"account_id":46054,"reputation":20928,"user_id":135952,"accept_rate":99,"display_name":"Keith Adler"},"comment_count":4,"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1676509239,"creation_date":1268162795,"answer_id":2411917,"question_id":2411893,"body_markdown":"Why not look at using an open source OCR engine such as Tesseract?\r\n\r\nhttp://code.google.com/p/tesseract-ocr/\r\n\r\n&lt;s&gt;**C# Wrapper for Tesseract**\r\n\r\nhttp://www.pixel-technology.com/freeware/tessnet2/\r\n\r\n**Java Wrapper for Tesseract**\r\n\r\nhttp://sourceforge.net/projects/tessocrinjava/&lt;/s&gt;\r\n\r\nWhile you might not consider using a third-party library as implementing it yourself, there&#39;s a tremendous amount of work that goes into just integrating the third-party tool.  Keep in mind also that something that may seem simple (recognizing the number 5 versus the number 6) is often very complex; we&#39;re talking thousands and thousands of lines of code complex.   In the least, look at the source code for tesseract and it&#39;ll give you a good reason to want to leverage a third-party library.\r\n\r\n&lt;s&gt;Here&#39;s another SO question that&#39;ll give you some ideas about the algorithms involved: https://stackoverflow.com/questions/850717/what-are-some-popular-ocr-algorithms&lt;/s&gt;","title":"Recognize numbers in images","body":"<p>Why not look at using an open source OCR engine such as Tesseract?</p>\n<p><a href=\"http://code.google.com/p/tesseract-ocr/\" rel=\"nofollow noreferrer\">http://code.google.com/p/tesseract-ocr/</a></p>\n<p><s><strong>C# Wrapper for Tesseract</strong></p>\n<p><a href=\"http://www.pixel-technology.com/freeware/tessnet2/\" rel=\"nofollow noreferrer\">http://www.pixel-technology.com/freeware/tessnet2/</a></p>\n<p><strong>Java Wrapper for Tesseract</strong></p>\n<p><a href=\"http://sourceforge.net/projects/tessocrinjava/\" rel=\"nofollow noreferrer\">http://sourceforge.net/projects/tessocrinjava/</a></s></p>\n<p>While you might not consider using a third-party library as implementing it yourself, there's a tremendous amount of work that goes into just integrating the third-party tool.  Keep in mind also that something that may seem simple (recognizing the number 5 versus the number 6) is often very complex; we're talking thousands and thousands of lines of code complex.   In the least, look at the source code for tesseract and it'll give you a good reason to want to leverage a third-party library.</p>\n<p><s>Here's another SO question that'll give you some ideas about the algorithms involved: <a href=\"https://stackoverflow.com/questions/850717/what-are-some-popular-ocr-algorithms\">https://stackoverflow.com/questions/850717/what-are-some-popular-ocr-algorithms</a></s></p>\n"}],"owner":{"account_id":61265,"reputation":11488,"user_id":182689,"accept_rate":83,"display_name":"svens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44400,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":2411917,"answer_count":1,"score":17,"last_activity_date":1676509239,"creation_date":1268162590,"question_id":2411893,"body_markdown":"I&#39;ve been searching for resources for number recognition in images on the web. I found many links providing lots of resources on that topic. But unfortunately it&#39;s more confusing than helping, I don&#39;t know where to start.\r\n\r\nI&#39;ve got an image with 5 numbers in it, non-disturbed (no captcha or something like this). The numbers are black on a white background, written in a standard font.\r\n\r\nMy first step was to separate the numbers. The algorithm I currently use is quite simple, it just checks if a column is entirely white and thus a space. Then it trims each character, so that there is no white border around it. This works quite well.\r\n\r\nBut now I&#39;m stuck with the actual recognition of the number. I don&#39;t know what&#39;s the best way of guessing the correct one. I don&#39;t think directly comparing to the font is a good idea, because if the numbers only differ a little, it will no more work.\r\n\r\nCould anyone give me a hint on how this is done?\r\n\r\nIt doesn&#39;t matter to the question, but I&#39;ll be implementing this in C# or Java. I found some libraries which would do the job, but I&#39;d like to implement it myself, to learn something.","title":"Recognize numbers in images","body":"<p>I've been searching for resources for number recognition in images on the web. I found many links providing lots of resources on that topic. But unfortunately it's more confusing than helping, I don't know where to start.</p>\n\n<p>I've got an image with 5 numbers in it, non-disturbed (no captcha or something like this). The numbers are black on a white background, written in a standard font.</p>\n\n<p>My first step was to separate the numbers. The algorithm I currently use is quite simple, it just checks if a column is entirely white and thus a space. Then it trims each character, so that there is no white border around it. This works quite well.</p>\n\n<p>But now I'm stuck with the actual recognition of the number. I don't know what's the best way of guessing the correct one. I don't think directly comparing to the font is a good idea, because if the numbers only differ a little, it will no more work.</p>\n\n<p>Could anyone give me a hint on how this is done?</p>\n\n<p>It doesn't matter to the question, but I'll be implementing this in C# or Java. I found some libraries which would do the job, but I'd like to implement it myself, to learn something.</p>\n"},{"tags":["java","reactjs","frontend","fetch-api"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676507442,"post_id":75466098,"comment_id":133153032,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":27043667,"reputation":3,"user_id":20598157,"display_name":"TwiKKz"},"score":0,"creation_date":1676536541,"post_id":75466716,"comment_id":133157546,"body_markdown":"what is the purpose of &quot;r =&gt; r.json()&quot;?","body":"what is the purpose of &quot;r =&gt; r.json()&quot;?"},{"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"score":0,"creation_date":1676539266,"post_id":75466716,"comment_id":133158312,"body_markdown":"to get the response as json (there&#39;s also text(), arrayBuffer() and blob())","body":"to get the response as json (there&#39;s also text(), arrayBuffer() and blob())"}],"tags":[],"owner":{"account_id":937336,"reputation":54163,"user_id":966023,"accept_rate":65,"display_name":"pguardiario"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676507247,"creation_date":1676507247,"answer_id":75466716,"question_id":75466098,"body_markdown":"just don&#39;t show it until the data is loaded:\r\n\r\n    function X(){\r\n      const [data, setData] = useState()\r\n      useEffect(() =&gt; {\r\n        fetch(url).then(r =&gt; r.json()).then(setData)\r\n      }, [])\r\n      return &lt;&gt;\r\n        {data &amp;&amp; &lt;Modal data={data}/&gt;}\r\n      &lt;/&gt;\r\n    }","title":"Rendering intial Component with Backend-Endpoint call","body":"<p>just don't show it until the data is loaded:</p>\n<pre><code>function X(){\n  const [data, setData] = useState()\n  useEffect(() =&gt; {\n    fetch(url).then(r =&gt; r.json()).then(setData)\n  }, [])\n  return &lt;&gt;\n    {data &amp;&amp; &lt;Modal data={data}/&gt;}\n  &lt;/&gt;\n}\n</code></pre>\n"}],"owner":{"account_id":27043667,"reputation":3,"user_id":20598157,"display_name":"TwiKKz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676507247,"creation_date":1676500941,"question_id":75466098,"body_markdown":"Im trying to add a login response component to my application.\r\n\r\nId like to call the endpoint at the initial loading of the SPA. \r\nThe Endpoint calls a Java Class, which verifys the user (already working).\r\n\r\nI dont know how to call the Endpoint initially and render a Response Modal after.\r\n\r\nI am new to react and FetchAPI.","title":"Rendering intial Component with Backend-Endpoint call","body":"<p>Im trying to add a login response component to my application.</p>\n<p>Id like to call the endpoint at the initial loading of the SPA.\nThe Endpoint calls a Java Class, which verifys the user (already working).</p>\n<p>I dont know how to call the Endpoint initially and render a Response Modal after.</p>\n<p>I am new to react and FetchAPI.</p>\n"},{"tags":["java","android","kotlin","android-room"],"answers":[{"comments":[{"owner":{"account_id":10465788,"reputation":12056,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"score":0,"creation_date":1676485991,"post_id":75463418,"comment_id":133148263,"body_markdown":"`Embeddable` does not exist","body":"<code>Embeddable</code> does not exist"}],"tags":[],"owner":{"account_id":27740678,"reputation":21,"user_id":21177198,"display_name":"Nycolas Darosci"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676482347,"creation_date":1676482010,"answer_id":75463418,"question_id":75462824,"body_markdown":"Take a look at your classes DbConversation and DbUser and make sure these classes are `@Embeddable`. If not, put the annotation on the class. \r\nAnother solution is look at the error again. It say that query return a bunch of columns that your DTO (ConversationSelectAllForOverview) doens&#39;t hold; the fields of your DTO are the objects and not the columns fields. You can create an interface receiving all those columns that db return:\r\n\r\n    interface nameInterface(\r\n        val conversationUuid: Any,\r\n        val createdBy: Any,\r\n        val tsCreated: Any,\r\n        val distanceMapped: Any,\r\n        val showOnMap: Any,\r\n        val showOnOverview: Any,\r\n        val allowMessagesByInRangeRegularUsers: Any,\r\n        val allowMessagesByOutOfRangeRegularUsers: Any,\r\n        val stillReadableForOutOfRangeRegularUsers: Any,\r\n        val freedomInReplies: Any,\r\n        val title: Any,\r\n        val subject: Any,\r\n        val likes: Any,\r\n        val latitude: Any,\r\n        val longitude: Any,\r\n        val hasPassword: Any,\r\n        val isSubscribed: Any,\r\n        val showOnMapScreen: Any,\r\n        val isLiked: Any,\r\n        val bypassChecks: Any,\r\n        val isHidden: Any,\r\n        val nsfw: Any,\r\n        val currentDirectEvents: Any,\r\n        val totalDirectEventsAfterLastJoin: Any,\r\n        val subscriptions: Any,\r\n        val userUuid: Any,\r\n        val username: Any,\r\n        val karma: Any,\r\n        val tsCreated: Any,\r\n        val allowsPrivateChats: Any,\r\n        val allowsNsfw: Any,\r\n        val thisUserBlockedCurrentUser: Any,\r\n        val incomingFriendshipRequest: Any,\r\n        val outstandingFriendshipRequest: Any,\r\n        val friends: Any,\r\n        val bio: Any,\r\n        val appRoleMapped: Any)","title":"@Query says it does not have the fields, although I have them in the query itself -&gt; Kotlin Android Room","body":"<p>Take a look at your classes DbConversation and DbUser and make sure these classes are <code>@Embeddable</code>. If not, put the annotation on the class.\nAnother solution is look at the error again. It say that query return a bunch of columns that your DTO (ConversationSelectAllForOverview) doens't hold; the fields of your DTO are the objects and not the columns fields. You can create an interface receiving all those columns that db return:</p>\n<pre><code>interface nameInterface(\n    val conversationUuid: Any,\n    val createdBy: Any,\n    val tsCreated: Any,\n    val distanceMapped: Any,\n    val showOnMap: Any,\n    val showOnOverview: Any,\n    val allowMessagesByInRangeRegularUsers: Any,\n    val allowMessagesByOutOfRangeRegularUsers: Any,\n    val stillReadableForOutOfRangeRegularUsers: Any,\n    val freedomInReplies: Any,\n    val title: Any,\n    val subject: Any,\n    val likes: Any,\n    val latitude: Any,\n    val longitude: Any,\n    val hasPassword: Any,\n    val isSubscribed: Any,\n    val showOnMapScreen: Any,\n    val isLiked: Any,\n    val bypassChecks: Any,\n    val isHidden: Any,\n    val nsfw: Any,\n    val currentDirectEvents: Any,\n    val totalDirectEventsAfterLastJoin: Any,\n    val subscriptions: Any,\n    val userUuid: Any,\n    val username: Any,\n    val karma: Any,\n    val tsCreated: Any,\n    val allowsPrivateChats: Any,\n    val allowsNsfw: Any,\n    val thisUserBlockedCurrentUser: Any,\n    val incomingFriendshipRequest: Any,\n    val outstandingFriendshipRequest: Any,\n    val friends: Any,\n    val bio: Any,\n    val appRoleMapped: Any)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10465788,"reputation":12056,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"score":0,"creation_date":1676533797,"post_id":75465896,"comment_id":133156776,"body_markdown":"Room is really horrible that it forces me to do this. Why doesn&#39;t it deserialize the columns by index, rather by name? Anyway, I fixed this problem by prefixing the columns as suggested... it works but yeah, it&#39;s ugly :(","body":"Room is really horrible that it forces me to do this. Why doesn&#39;t it deserialize the columns by index, rather by name? Anyway, I fixed this problem by prefixing the columns as suggested... it works but yeah, it&#39;s ugly :("},{"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"score":0,"creation_date":1676534196,"post_id":75465896,"comment_id":133156895,"body_markdown":"@J.Doe if you were to just use pure Objects (aka `@Relation`) then there is no need to a) code the JOIN or b) to use prefixes. Personally I would always use unique column names, probably with the tablename as part of the name. Not saying you should, just saying that you could.","body":"@J.Doe if you were to just use pure Objects (aka <code>@Relation</code>) then there is no need to a) code the JOIN or b) to use prefixes. Personally I would always use unique column names, probably with the tablename as part of the name. Not saying you should, just saying that you could."}],"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676507209,"creation_date":1676499012,"answer_id":75465896,"question_id":75462824,"body_markdown":"**The Issue**\r\n\r\nYou are **prefixing** the columns in the **`@Embedded`** annotation in conjunction with the output columns not being prefixed according to the query. \r\n\r\nFor example the **ConversationSelectAllForOverview** class is expecting to find the column named **arg0conversationUuid** in the output/result of the query but the query only has the column **conversationUuid**.\r\n\r\n**The Fix**\r\n\r\nInstead of using `select Conversation.*, User.* ....` you need to use\r\n\r\n     select Conversation.conversationUuid AS arg0conversationUuid, Conversation.createdBy AS arg0createdBy ....\r\n\r\n- **`AS`** giving the output *conversationUuid* column an ***alias*** of *arg0conversationUuid* etc.\r\n\r\ni.e. **for every column in both tables you have to alias the actual column with it&#39;s prefix.**\r\n\r\ne.g. using (only partially adjusted):-\r\n\r\n    @Query(&quot;select &quot; +\r\n            &quot;Conversation.conversationUuid AS arg0conversationUuid&quot; +\r\n            &quot;, Conversation.createdBy AS arg0createdBy&quot; +\r\n            &quot;, Conversation.tsCreated AS arg0tsCreated&quot; +\r\n            &quot;, Conversation.distanceMapped AS arg0distanceMapped&quot; +\r\n            /* .... */\r\n            &quot;, User.* from Conversation join User on Conversation.createdBy = User.userUuid where conversationUuid = :conversationUuid&quot;)\r\n    fun selectAllForOverview(conversationUuid: UUID): LiveData&lt;List&lt;ConversationSelectAllForOverview&gt;&gt;\r\n\r\n- the message is then `The columns returned by the query does not have the fields [showOnMap,showOnOverview ....`\r\n    - i.e. conversationUuid, createdBy, tsCreated and distanceMapped are now not included in the field-column mismatch list.\r\n\r\n**Alternative Fix** (untested and reliant upon Room 2.5.0 libraries )\r\n\r\nAnother solution, which may work with Room 2.5.0 (untested) would be to use the `@Relation` annotation instead of the `@Embedded` annotation for the child(ren). e.g. without any other changes other than:-\r\n\r\n    data class ConversationSelectAllForOverview(\r\n        @Embedded/*(prefix = &quot;arg0&quot;)*/\r\n        val arg0: DbConversation,\r\n        @Relation(\r\n            entity = DbUser::class,\r\n            parentColumn = &quot;createdBy&quot;,\r\n            entityColumn = &quot;userUuid&quot;\r\n        )\r\n        val arg1: DbUser\r\n    )\r\n\r\nand then using :-\r\n\r\n    @Transaction\r\n    @Query(&quot;SELECT * FROM Conversation WHERE conversationUUid=:conversationUuid&quot;)\r\n    fun selectAllForOverview(conversationUuid: UUID): LiveData&lt;List&lt;ConversationSelectAllForOverview&gt;&gt;\r\n\r\nThen it compiles successfully (again not run, see below). i.e. there are no issues with the duplicated columns (again see below).\r\n\r\nYou could also use (note the function name being different to allow both to be compiled):-\r\n\r\n    @Transaction\r\n    @Query(&quot;select Conversation.*,User.* from Conversation join User on Conversation.createdBy = User.userUuid where conversationUuid = :conversationUuid&quot;)\r\n    fun selectAllForOverviewAlt(conversationUuid: UUID): LiveData&lt;List&lt;ConversationSelectAllForOverview&gt;&gt;\r\n\r\n- **However** the **JOIN**ed columns are superfluous as Room uses the `@Relationship` parameters to then build the DbUser object via a subsequent query (hence the @Transaction).\r\n\r\n***NOTE** Room used to take the last value found, for a like named output column, and apply that last value to all of the fields so named. This has reportedly been fixed with 2.5.0. This hasn&#39;t been confirmed as being the case though. As such you may get unintended results, so if you take this approach you should confirm that values are as expected (i.e. check the values of the like named columns/fields).* \r\n\r\n\r\n**Additional a Demo**\r\n\r\nThe following is a working demo based upon the code as per the question DbConversation class. BUT, to simplify matters other code has been made up and additionally many of the fields have been commented out. LiveData has been commented out and `.allowMainThreadQueries` to simplify the demo.\r\n\r\nThe Demo uses both fixes and for the `@Relation` both the original query and the suggested more consice query.\r\n\r\nA debugging breakpoint has been used to demonstrate the sets of 3 returns.\r\n\r\n**The Database Code** (everything needed for the demo plus some that isn&#39;t due to commenting out). It should be Noted that much of the code may differ, simple assumptions have been made.\r\n\r\n:-\r\n\r\n    @Entity(\r\n        tableName = &quot;Conversation&quot;,\r\n        primaryKeys = [&quot;conversationUuid&quot;],\r\n        indices = [/*Index(value = [&quot;nsfw&quot;, &quot;relevance&quot;]), Index(value = [&quot;isSubscribed&quot;]),*/ Index(value = [&quot;createdBy&quot;])/*, Index(\r\n            value = [&quot;avatar&quot;]\r\n        ), Index(value = [&quot;mostRecentConversationEventUuid&quot;])*/],\r\n        foreignKeys = [/*ForeignKey(\r\n            entity = DbConversationEventMostRecent::class,\r\n            childColumns = [&quot;mostRecentConversationEventUuid&quot;],\r\n            parentColumns = [&quot;conversationEventUuid&quot;],\r\n            onDelete = SET_NULL,\r\n            onUpdate = CASCADE,\r\n        ), ForeignKey(\r\n            entity = DbMedia::class,\r\n            childColumns = [&quot;avatar&quot;],\r\n            parentColumns = [&quot;mediaUuid&quot;],\r\n            onDelete = CASCADE,\r\n            onUpdate = NO_ACTION,\r\n        ), */ForeignKey(\r\n            entity = DbUser::class,\r\n            childColumns = [&quot;createdBy&quot;],\r\n            parentColumns = [&quot;userUuid&quot;],\r\n            onDelete = CASCADE,\r\n            onUpdate = NO_ACTION,\r\n        )]\r\n    )\r\n    data class DbConversation(\r\n        @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\r\n        val conversationUuid: UUID,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\r\n        val createdBy: UUID,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val tsCreated: Long,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\r\n        val distanceMapped: ConversationDistance,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val showOnMap: Boolean,\r\n        /*\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val showOnOverview: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val allowMessagesByInRangeRegularUsers: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val allowMessagesByOutOfRangeRegularUsers: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val stillReadableForOutOfRangeRegularUsers: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val freedomInReplies: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\r\n        val title: String,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\r\n        val subject: String,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val likes: Long,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\r\n        val avatar: UUID?,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.REAL)\r\n        val latitude: Double,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.REAL)\r\n        val longitude: Double,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val hasPassword: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val isSubscribed: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val showOnMapScreen: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val isLiked: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val bypassChecks: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val isHidden: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\r\n        val conversationReportReasonMapped: ConversationReportReason?,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val nsfw: Boolean,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val currentDirectEvents: Long,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val totalDirectEventsAfterLastJoin: Long,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.BLOB)\r\n        val lastReadConversationEventPk: ConversationEventPk?,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\r\n    \r\n    \r\n        val mostRecentConversationEventUuid: UUID?,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.REAL)\r\n        val relevance: Double?,\r\n        @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\r\n        val subscriptions: Long\r\n        */\r\n    \r\n    )\r\n    \r\n    @Dao\r\n    interface AllDAOs {\r\n    \r\n        @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n        fun insert(dbUser: DbUser): Long\r\n        @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n        fun insert(dbConversation: DbConversation): Long\r\n    \r\n        @Query(&quot;select &quot; +\r\n                &quot;Conversation.conversationUuid AS arg0conversationUuid&quot; +\r\n                &quot;, Conversation.createdBy AS arg0createdBy&quot; +\r\n                &quot;, Conversation.tsCreated AS arg0tsCreated&quot; +\r\n                &quot;, Conversation.distanceMapped AS arg0distanceMapped&quot; +\r\n                &quot;, Conversation.showOnMap AS arg0showOnMap&quot; +\r\n                /* .... */\r\n                &quot;,User.userUuid AS arg1userUuid&quot; + /*?????? made up/incomplete/asssumed */\r\n                &quot;,User.userName AS arg1userName&quot; +\r\n                &quot; from Conversation join User on Conversation.createdBy = User.userUuid where conversationUuid = :conversationUuid&quot;)\r\n        fun selectAllForOverviewOld(conversationUuid: UUID): /*LiveData&lt;*/List&lt;OldConversationSelectAllForOverview&gt;/*&gt;*/\r\n    \r\n        @Query(&quot;SELECT * FROM Conversation WHERE conversationUuid=:conversationUuid&quot;)\r\n        fun selectConversationByUuid(conversationUuid: UUID): List&lt;DbConversation&gt;\r\n    \r\n    \r\n        @Query(&quot;SELECT * FROM Conversation WHERE conversationUuid=:conversationUuid&quot;)\r\n        fun selectAllForOverview(conversationUuid: UUID): /*LiveData&lt;*/List&lt;ConversationSelectAllForOverview&gt;/*&gt;*/\r\n    \r\n        @Query(&quot;select Conversation.*,User.* from Conversation join User on Conversation.createdBy = User.userUuid where conversationUuid = :conversationUuid&quot;)\r\n        fun selectAllForOverviewAlt(conversationUuid: UUID): /*LiveData&lt;*/List&lt;ConversationSelectAllForOverview&gt;/*&gt;*/\r\n    }\r\n    \r\n    data class ConversationDistance(\r\n        val blah: String\r\n    )\r\n    data class ConversationReportReason(\r\n        val blah: String\r\n    )\r\n    data class ConversationEventPk(\r\n        val blah: ByteArray\r\n    )\r\n    \r\n    class RoomTypeConverters {\r\n        @TypeConverter\r\n        fun fromConversationDistanceToJSON(conversationDistance: ConversationDistance): String = Gson().toJson(conversationDistance)\r\n        @TypeConverter\r\n        fun toConversationDistanceFromJSON(json: String): ConversationDistance = Gson().fromJson(json,ConversationDistance::class.java)\r\n        @TypeConverter\r\n        fun fromConversationReportReasonToJSON(conversationReportReason: ConversationReportReason): String = Gson().toJson(conversationReportReason)\r\n        @TypeConverter\r\n        fun toConversationReportReasonFromJSON(json: String): ConversationReportReason = Gson().fromJson(json,ConversationReportReason::class.java)\r\n        @TypeConverter\r\n        fun fromConversationEventPkToByteArray(conversationEventPk: ConversationEventPk): ByteArray = ByteArray(100)\r\n        @TypeConverter\r\n        fun toConversationEventPkFromByteArray(byteArray: ByteArray): ConversationEventPk = ConversationEventPk(byteArray)\r\n    \r\n    }\r\n    \r\n    @Entity(tableName = &quot;User&quot;)\r\n    data class DbUser(\r\n        @PrimaryKey\r\n        val userUuid: UUID,\r\n        val userName: String\r\n    )\r\n    @Entity\r\n    data class DbMedia(\r\n        @PrimaryKey\r\n        val mediaUuid: UUID,\r\n        val mediaName: String\r\n    )\r\n    @Entity\r\n    data class DbConversationEventMostRecent(\r\n        @PrimaryKey\r\n        val conversationEventUuid: UUID\r\n    )\r\n    \r\n    data class ConversationSelectAllForOverview(\r\n        @Embedded/*(prefix = &quot;arg0&quot;)*/\r\n        val arg0: DbConversation,\r\n        @Relation(\r\n            entity = DbUser::class,\r\n            parentColumn = &quot;createdBy&quot;,\r\n            entityColumn = &quot;userUuid&quot;\r\n        )\r\n        val arg1: DbUser\r\n    )\r\n    \r\n    data class OldConversationSelectAllForOverview(\r\n        @Embedded(prefix = &quot;arg0&quot;)\r\n        val arg0: DbConversation,\r\n        @Embedded(prefix = &quot;arg1&quot;)\r\n        val arg1: DbUser\r\n    )\r\n    \r\n    @TypeConverters(value = [RoomTypeConverters::class])\r\n    @Database(entities = [DbMedia::class,DbUser::class,DbConversationEventMostRecent::class,DbConversation::class], exportSchema = false, version = 1)\r\n    abstract class TheDatabase: RoomDatabase() {\r\n        abstract fun getAllDAOs(): AllDAOs\r\n        companion object {\r\n            private var instance: TheDatabase? = null\r\n            fun getInstance(context: Context): TheDatabase {\r\n                if (instance==null) {\r\n                    instance=Room.databaseBuilder(context,TheDatabase::class.java,&quot;the_database&quot;)\r\n                        .allowMainThreadQueries() /* For brevity of demo */\r\n                        .build()\r\n                }\r\n                return instance as TheDatabase\r\n            }\r\n        }\r\n    }\r\n\r\nThe Activity Code:-\r\n\r\n    class MainActivity : AppCompatActivity() {\r\n        lateinit var db: TheDatabase\r\n        lateinit var dao: AllDAOs\r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n            db = TheDatabase.getInstance(this)\r\n            dao = db.getAllDAOs()\r\n    \r\n            val u1uuid = UUID(10L,10L)\r\n            val u2uuid = UUID(11L,12L)\r\n            val c1uuid = UUID(20L,20L)\r\n            val c2uuid = UUID(21L,21L)\r\n            val c3uuid = UUID(22L,10L)\r\n            val c4uuid = UUID(15L,10L)\r\n    \r\n            dao.insert(DbUser(u1uuid,&quot;Fred&quot;))\r\n            dao.insert(DbUser(u2uuid,&quot;Mary&quot;))\r\n            dao.insert(DbConversation(c1uuid,u1uuid,0, ConversationDistance(&quot;blah blah blah&quot;),true))\r\n            dao.insert(DbConversation(c2uuid,u2uuid,0,ConversationDistance(&quot;uhm uhm uhm&quot;),true))\r\n            dao.insert(DbConversation(c3uuid,u1uuid,0,ConversationDistance(&quot;meh meh meh&quot;),true))\r\n            dao.insert(DbConversation(c4uuid,u1uuid,0,ConversationDistance(&quot;good good good&quot;),true))\r\n    \r\n            val c1 = dao.selectConversationByUuid(c1uuid)\r\n            val c2 = dao.selectConversationByUuid(c2uuid)\r\n            val c3 = dao.selectConversationByUuid(c3uuid)\r\n            val c4 = dao.selectConversationByUuid(c4uuid)\r\n    \r\n            val t1c1 = dao.selectAllForOverviewOld(c1uuid)\r\n            val t1c2 = dao.selectAllForOverview(c1uuid)\r\n            val t1c3 = dao.selectAllForOverviewAlt(c1uuid)\r\n    \r\n            val t2c1 = dao.selectAllForOverviewOld(c2uuid)\r\n            val t2c2 = dao.selectAllForOverview(c2uuid)\r\n            val t2c3 = dao.selectAllForOverviewAlt(c2uuid)\r\n    \r\n            if (t1c1==null) t1c1==null /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; BREAKPOINT HERE &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;*/\r\n        }\r\n    }\r\n\r\nWhen run from a fresh install, then The debug window, with t1?? and t2?? expanded:-\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs can be seen all 3 queries produce the same result. **As such the simplest solution would be to**\r\n\r\n- ensure that you are using Room 2.5.0 libraries, AND\r\n- use `@Relation` instead of `@Embedded` and use the more concise query just extracting the relevant DbConversation(s).\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mEykc.png","title":"@Query says it does not have the fields, although I have them in the query itself -&gt; Kotlin Android Room","body":"<p><strong>The Issue</strong></p>\n<p>You are <strong>prefixing</strong> the columns in the <strong><code>@Embedded</code></strong> annotation in conjunction with the output columns not being prefixed according to the query.</p>\n<p>For example the <strong>ConversationSelectAllForOverview</strong> class is expecting to find the column named <strong>arg0conversationUuid</strong> in the output/result of the query but the query only has the column <strong>conversationUuid</strong>.</p>\n<p><strong>The Fix</strong></p>\n<p>Instead of using <code>select Conversation.*, User.* ....</code> you need to use</p>\n<pre><code> select Conversation.conversationUuid AS arg0conversationUuid, Conversation.createdBy AS arg0createdBy ....\n</code></pre>\n<ul>\n<li><strong><code>AS</code></strong> giving the output <em>conversationUuid</em> column an <em><strong>alias</strong></em> of <em>arg0conversationUuid</em> etc.</li>\n</ul>\n<p>i.e. <strong>for every column in both tables you have to alias the actual column with it's prefix.</strong></p>\n<p>e.g. using (only partially adjusted):-</p>\n<pre><code>@Query(&quot;select &quot; +\n        &quot;Conversation.conversationUuid AS arg0conversationUuid&quot; +\n        &quot;, Conversation.createdBy AS arg0createdBy&quot; +\n        &quot;, Conversation.tsCreated AS arg0tsCreated&quot; +\n        &quot;, Conversation.distanceMapped AS arg0distanceMapped&quot; +\n        /* .... */\n        &quot;, User.* from Conversation join User on Conversation.createdBy = User.userUuid where conversationUuid = :conversationUuid&quot;)\nfun selectAllForOverview(conversationUuid: UUID): LiveData&lt;List&lt;ConversationSelectAllForOverview&gt;&gt;\n</code></pre>\n<ul>\n<li>the message is then <code>The columns returned by the query does not have the fields [showOnMap,showOnOverview ....</code>\n<ul>\n<li>i.e. conversationUuid, createdBy, tsCreated and distanceMapped are now not included in the field-column mismatch list.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Alternative Fix</strong> (untested and reliant upon Room 2.5.0 libraries )</p>\n<p>Another solution, which may work with Room 2.5.0 (untested) would be to use the <code>@Relation</code> annotation instead of the <code>@Embedded</code> annotation for the child(ren). e.g. without any other changes other than:-</p>\n<pre><code>data class ConversationSelectAllForOverview(\n    @Embedded/*(prefix = &quot;arg0&quot;)*/\n    val arg0: DbConversation,\n    @Relation(\n        entity = DbUser::class,\n        parentColumn = &quot;createdBy&quot;,\n        entityColumn = &quot;userUuid&quot;\n    )\n    val arg1: DbUser\n)\n</code></pre>\n<p>and then using :-</p>\n<pre><code>@Transaction\n@Query(&quot;SELECT * FROM Conversation WHERE conversationUUid=:conversationUuid&quot;)\nfun selectAllForOverview(conversationUuid: UUID): LiveData&lt;List&lt;ConversationSelectAllForOverview&gt;&gt;\n</code></pre>\n<p>Then it compiles successfully (again not run, see below). i.e. there are no issues with the duplicated columns (again see below).</p>\n<p>You could also use (note the function name being different to allow both to be compiled):-</p>\n<pre><code>@Transaction\n@Query(&quot;select Conversation.*,User.* from Conversation join User on Conversation.createdBy = User.userUuid where conversationUuid = :conversationUuid&quot;)\nfun selectAllForOverviewAlt(conversationUuid: UUID): LiveData&lt;List&lt;ConversationSelectAllForOverview&gt;&gt;\n</code></pre>\n<ul>\n<li><strong>However</strong> the <strong>JOIN</strong>ed columns are superfluous as Room uses the <code>@Relationship</code> parameters to then build the DbUser object via a subsequent query (hence the @Transaction).</li>\n</ul>\n<p><em><strong>NOTE</strong> Room used to take the last value found, for a like named output column, and apply that last value to all of the fields so named. This has reportedly been fixed with 2.5.0. This hasn't been confirmed as being the case though. As such you may get unintended results, so if you take this approach you should confirm that values are as expected (i.e. check the values of the like named columns/fields).</em></p>\n<p><strong>Additional a Demo</strong></p>\n<p>The following is a working demo based upon the code as per the question DbConversation class. BUT, to simplify matters other code has been made up and additionally many of the fields have been commented out. LiveData has been commented out and <code>.allowMainThreadQueries</code> to simplify the demo.</p>\n<p>The Demo uses both fixes and for the <code>@Relation</code> both the original query and the suggested more consice query.</p>\n<p>A debugging breakpoint has been used to demonstrate the sets of 3 returns.</p>\n<p><strong>The Database Code</strong> (everything needed for the demo plus some that isn't due to commenting out). It should be Noted that much of the code may differ, simple assumptions have been made.</p>\n<p>:-</p>\n<pre><code>@Entity(\n    tableName = &quot;Conversation&quot;,\n    primaryKeys = [&quot;conversationUuid&quot;],\n    indices = [/*Index(value = [&quot;nsfw&quot;, &quot;relevance&quot;]), Index(value = [&quot;isSubscribed&quot;]),*/ Index(value = [&quot;createdBy&quot;])/*, Index(\n        value = [&quot;avatar&quot;]\n    ), Index(value = [&quot;mostRecentConversationEventUuid&quot;])*/],\n    foreignKeys = [/*ForeignKey(\n        entity = DbConversationEventMostRecent::class,\n        childColumns = [&quot;mostRecentConversationEventUuid&quot;],\n        parentColumns = [&quot;conversationEventUuid&quot;],\n        onDelete = SET_NULL,\n        onUpdate = CASCADE,\n    ), ForeignKey(\n        entity = DbMedia::class,\n        childColumns = [&quot;avatar&quot;],\n        parentColumns = [&quot;mediaUuid&quot;],\n        onDelete = CASCADE,\n        onUpdate = NO_ACTION,\n    ), */ForeignKey(\n        entity = DbUser::class,\n        childColumns = [&quot;createdBy&quot;],\n        parentColumns = [&quot;userUuid&quot;],\n        onDelete = CASCADE,\n        onUpdate = NO_ACTION,\n    )]\n)\ndata class DbConversation(\n    @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\n    val conversationUuid: UUID,\n    @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\n    val createdBy: UUID,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val tsCreated: Long,\n    @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\n    val distanceMapped: ConversationDistance,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val showOnMap: Boolean,\n    /*\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val showOnOverview: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val allowMessagesByInRangeRegularUsers: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val allowMessagesByOutOfRangeRegularUsers: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val stillReadableForOutOfRangeRegularUsers: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val freedomInReplies: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\n    val title: String,\n    @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\n    val subject: String,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val likes: Long,\n    @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\n    val avatar: UUID?,\n    @ColumnInfo(typeAffinity = ColumnInfo.REAL)\n    val latitude: Double,\n    @ColumnInfo(typeAffinity = ColumnInfo.REAL)\n    val longitude: Double,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val hasPassword: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val isSubscribed: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val showOnMapScreen: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val isLiked: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val bypassChecks: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val isHidden: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\n    val conversationReportReasonMapped: ConversationReportReason?,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val nsfw: Boolean,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val currentDirectEvents: Long,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val totalDirectEventsAfterLastJoin: Long,\n    @ColumnInfo(typeAffinity = ColumnInfo.BLOB)\n    val lastReadConversationEventPk: ConversationEventPk?,\n    @ColumnInfo(typeAffinity = ColumnInfo.TEXT)\n\n\n    val mostRecentConversationEventUuid: UUID?,\n    @ColumnInfo(typeAffinity = ColumnInfo.REAL)\n    val relevance: Double?,\n    @ColumnInfo(typeAffinity = ColumnInfo.INTEGER)\n    val subscriptions: Long\n    */\n\n)\n\n@Dao\ninterface AllDAOs {\n\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    fun insert(dbUser: DbUser): Long\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\n    fun insert(dbConversation: DbConversation): Long\n\n    @Query(&quot;select &quot; +\n            &quot;Conversation.conversationUuid AS arg0conversationUuid&quot; +\n            &quot;, Conversation.createdBy AS arg0createdBy&quot; +\n            &quot;, Conversation.tsCreated AS arg0tsCreated&quot; +\n            &quot;, Conversation.distanceMapped AS arg0distanceMapped&quot; +\n            &quot;, Conversation.showOnMap AS arg0showOnMap&quot; +\n            /* .... */\n            &quot;,User.userUuid AS arg1userUuid&quot; + /*?????? made up/incomplete/asssumed */\n            &quot;,User.userName AS arg1userName&quot; +\n            &quot; from Conversation join User on Conversation.createdBy = User.userUuid where conversationUuid = :conversationUuid&quot;)\n    fun selectAllForOverviewOld(conversationUuid: UUID): /*LiveData&lt;*/List&lt;OldConversationSelectAllForOverview&gt;/*&gt;*/\n\n    @Query(&quot;SELECT * FROM Conversation WHERE conversationUuid=:conversationUuid&quot;)\n    fun selectConversationByUuid(conversationUuid: UUID): List&lt;DbConversation&gt;\n\n\n    @Query(&quot;SELECT * FROM Conversation WHERE conversationUuid=:conversationUuid&quot;)\n    fun selectAllForOverview(conversationUuid: UUID): /*LiveData&lt;*/List&lt;ConversationSelectAllForOverview&gt;/*&gt;*/\n\n    @Query(&quot;select Conversation.*,User.* from Conversation join User on Conversation.createdBy = User.userUuid where conversationUuid = :conversationUuid&quot;)\n    fun selectAllForOverviewAlt(conversationUuid: UUID): /*LiveData&lt;*/List&lt;ConversationSelectAllForOverview&gt;/*&gt;*/\n}\n\ndata class ConversationDistance(\n    val blah: String\n)\ndata class ConversationReportReason(\n    val blah: String\n)\ndata class ConversationEventPk(\n    val blah: ByteArray\n)\n\nclass RoomTypeConverters {\n    @TypeConverter\n    fun fromConversationDistanceToJSON(conversationDistance: ConversationDistance): String = Gson().toJson(conversationDistance)\n    @TypeConverter\n    fun toConversationDistanceFromJSON(json: String): ConversationDistance = Gson().fromJson(json,ConversationDistance::class.java)\n    @TypeConverter\n    fun fromConversationReportReasonToJSON(conversationReportReason: ConversationReportReason): String = Gson().toJson(conversationReportReason)\n    @TypeConverter\n    fun toConversationReportReasonFromJSON(json: String): ConversationReportReason = Gson().fromJson(json,ConversationReportReason::class.java)\n    @TypeConverter\n    fun fromConversationEventPkToByteArray(conversationEventPk: ConversationEventPk): ByteArray = ByteArray(100)\n    @TypeConverter\n    fun toConversationEventPkFromByteArray(byteArray: ByteArray): ConversationEventPk = ConversationEventPk(byteArray)\n\n}\n\n@Entity(tableName = &quot;User&quot;)\ndata class DbUser(\n    @PrimaryKey\n    val userUuid: UUID,\n    val userName: String\n)\n@Entity\ndata class DbMedia(\n    @PrimaryKey\n    val mediaUuid: UUID,\n    val mediaName: String\n)\n@Entity\ndata class DbConversationEventMostRecent(\n    @PrimaryKey\n    val conversationEventUuid: UUID\n)\n\ndata class ConversationSelectAllForOverview(\n    @Embedded/*(prefix = &quot;arg0&quot;)*/\n    val arg0: DbConversation,\n    @Relation(\n        entity = DbUser::class,\n        parentColumn = &quot;createdBy&quot;,\n        entityColumn = &quot;userUuid&quot;\n    )\n    val arg1: DbUser\n)\n\ndata class OldConversationSelectAllForOverview(\n    @Embedded(prefix = &quot;arg0&quot;)\n    val arg0: DbConversation,\n    @Embedded(prefix = &quot;arg1&quot;)\n    val arg1: DbUser\n)\n\n@TypeConverters(value = [RoomTypeConverters::class])\n@Database(entities = [DbMedia::class,DbUser::class,DbConversationEventMostRecent::class,DbConversation::class], exportSchema = false, version = 1)\nabstract class TheDatabase: RoomDatabase() {\n    abstract fun getAllDAOs(): AllDAOs\n    companion object {\n        private var instance: TheDatabase? = null\n        fun getInstance(context: Context): TheDatabase {\n            if (instance==null) {\n                instance=Room.databaseBuilder(context,TheDatabase::class.java,&quot;the_database&quot;)\n                    .allowMainThreadQueries() /* For brevity of demo */\n                    .build()\n            }\n            return instance as TheDatabase\n        }\n    }\n}\n</code></pre>\n<p>The Activity Code:-</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n    lateinit var db: TheDatabase\n    lateinit var dao: AllDAOs\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        db = TheDatabase.getInstance(this)\n        dao = db.getAllDAOs()\n\n        val u1uuid = UUID(10L,10L)\n        val u2uuid = UUID(11L,12L)\n        val c1uuid = UUID(20L,20L)\n        val c2uuid = UUID(21L,21L)\n        val c3uuid = UUID(22L,10L)\n        val c4uuid = UUID(15L,10L)\n\n        dao.insert(DbUser(u1uuid,&quot;Fred&quot;))\n        dao.insert(DbUser(u2uuid,&quot;Mary&quot;))\n        dao.insert(DbConversation(c1uuid,u1uuid,0, ConversationDistance(&quot;blah blah blah&quot;),true))\n        dao.insert(DbConversation(c2uuid,u2uuid,0,ConversationDistance(&quot;uhm uhm uhm&quot;),true))\n        dao.insert(DbConversation(c3uuid,u1uuid,0,ConversationDistance(&quot;meh meh meh&quot;),true))\n        dao.insert(DbConversation(c4uuid,u1uuid,0,ConversationDistance(&quot;good good good&quot;),true))\n\n        val c1 = dao.selectConversationByUuid(c1uuid)\n        val c2 = dao.selectConversationByUuid(c2uuid)\n        val c3 = dao.selectConversationByUuid(c3uuid)\n        val c4 = dao.selectConversationByUuid(c4uuid)\n\n        val t1c1 = dao.selectAllForOverviewOld(c1uuid)\n        val t1c2 = dao.selectAllForOverview(c1uuid)\n        val t1c3 = dao.selectAllForOverviewAlt(c1uuid)\n\n        val t2c1 = dao.selectAllForOverviewOld(c2uuid)\n        val t2c2 = dao.selectAllForOverview(c2uuid)\n        val t2c3 = dao.selectAllForOverviewAlt(c2uuid)\n\n        if (t1c1==null) t1c1==null /*&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; BREAKPOINT HERE &gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;*/\n    }\n}\n</code></pre>\n<p>When run from a fresh install, then The debug window, with t1?? and t2?? expanded:-</p>\n<p><a href=\"https://i.stack.imgur.com/mEykc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mEykc.png\" alt=\"enter image description here\" /></a></p>\n<p>As can be seen all 3 queries produce the same result. <strong>As such the simplest solution would be to</strong></p>\n<ul>\n<li>ensure that you are using Room 2.5.0 libraries, AND</li>\n<li>use <code>@Relation</code> instead of <code>@Embedded</code> and use the more concise query just extracting the relevant DbConversation(s).</li>\n</ul>\n"}],"owner":{"account_id":10465788,"reputation":12056,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75465896,"answer_count":2,"score":0,"last_activity_date":1676507209,"creation_date":1676478998,"question_id":75462824,"body_markdown":"I got this code in my DAO:\r\n\r\n    @Query(&quot;select Conversation.*, User.* from Conversation join User on Conversation.createdBy = User.userUuid where conversationUuid = :conversationUuid&quot;)\r\n    fun selectAllForOverview(conversationUuid: UUID): LiveData&lt;List&lt;ConversationSelectAllForOverview&gt;&gt;\r\n\r\nThis is `ConversationSelectAllForOverview`\r\n\r\n    data class ConversationSelectAllForOverview(\r\n        @Embedded(prefix = &quot;arg0&quot;)\r\n        val arg0: DbConversation,\r\n        @Embedded(prefix = &quot;arg1&quot;)\r\n        val arg1: DbUser\r\n    )\r\n\r\nI read that I needed to annotate my fields with a `prefix` to get rid of errors when they have common field names. I get this error and I don&#39;t know how I can remove it. I am 100% sure all the columns are available, since `DbConversation` and `DbUser` are just generated from the database. How can I fix this problem? `DbConversation` and `DbUser` share some columns, see the definition of `DbConversation` here: https://gist.github.com/Jasperav/381243e7b3cf387bfc0e9f1343f9faeb. `DbUser` looks the same.\r\n\r\n    error: The columns returned by the query does not have the fields\r\n     [conversationUuid,createdBy,tsCreated,distanceMapped,showOnMap,showOnOverview,allowMessagesByInRangeRegularUsers,allowMessagesByOutOfRangeRegularUsers,stillReadableForOutOfRangeRegularUsers,freedomInReplies,title,subject,likes,latitude,longitude,hasPassword,isSubscribed,showOnMapScreen,isLiked,bypassChecks,isHidden,nsfw,currentDirectEvents,totalDirectEventsAfterLastJoin,subscriptions,userUuid,username,karma,tsCreated,allowsPrivateChats,allowsNsfw,thisUserBlockedCurrentUser,incomingFriendshipRequest,outstandingFriendshipRequest,friends,bio,appRoleMapped]\r\n     in entity.ConversationSelectAllForOverview even though they are\r\n     annotated as non-null or primitive. Columns returned by the query:\r\n     [conversationUuid,createdBy,tsCreated,distanceMapped,showOnMap,showOnOverview,allowMessagesByInRangeRegularUsers,allowMessagesByOutOfRangeRegularUsers,stillReadableForOutOfRangeRegularUsers,freedomInReplies,title,subject,likes,avatar,latitude,longitude,hasPassword,isSubscribed,showOnMapScreen,isLiked,bypassChecks,isHidden,conversationReportReasonMapped,nsfw,currentDirectEvents,totalDirectEventsAfterLastJoin,lastReadConversationEventPk,mostRecentConversationEventUuid,relevance,subscriptions,userUuid,username,karma,tsCreated,allowsPrivateChats,allowsNsfw,avatar,currentUserBlockedThisUserTsCreated,thisUserBlockedCurrentUser,searchScreenScore,recentSearchedTsCreated,userReportReasonMapped,incomingFriendshipRequest,outstandingFriendshipRequest,friends,bio,appRoleMapped]\r\n         public abstract androidx.lifecycle.LiveData&lt;java.util.List&lt;entity.ConversationSelectAllForOverview&gt;&gt;\r\n     selectAllForOverview(@org.jetbrains.annotations.NotNull()","title":"@Query says it does not have the fields, although I have them in the query itself -&gt; Kotlin Android Room","body":"<p>I got this code in my DAO:</p>\n<pre><code>@Query(&quot;select Conversation.*, User.* from Conversation join User on Conversation.createdBy = User.userUuid where conversationUuid = :conversationUuid&quot;)\nfun selectAllForOverview(conversationUuid: UUID): LiveData&lt;List&lt;ConversationSelectAllForOverview&gt;&gt;\n</code></pre>\n<p>This is <code>ConversationSelectAllForOverview</code></p>\n<pre><code>data class ConversationSelectAllForOverview(\n    @Embedded(prefix = &quot;arg0&quot;)\n    val arg0: DbConversation,\n    @Embedded(prefix = &quot;arg1&quot;)\n    val arg1: DbUser\n)\n</code></pre>\n<p>I read that I needed to annotate my fields with a <code>prefix</code> to get rid of errors when they have common field names. I get this error and I don't know how I can remove it. I am 100% sure all the columns are available, since <code>DbConversation</code> and <code>DbUser</code> are just generated from the database. How can I fix this problem? <code>DbConversation</code> and <code>DbUser</code> share some columns, see the definition of <code>DbConversation</code> here: <a href=\"https://gist.github.com/Jasperav/381243e7b3cf387bfc0e9f1343f9faeb\" rel=\"nofollow noreferrer\">https://gist.github.com/Jasperav/381243e7b3cf387bfc0e9f1343f9faeb</a>. <code>DbUser</code> looks the same.</p>\n<pre><code>error: The columns returned by the query does not have the fields\n [conversationUuid,createdBy,tsCreated,distanceMapped,showOnMap,showOnOverview,allowMessagesByInRangeRegularUsers,allowMessagesByOutOfRangeRegularUsers,stillReadableForOutOfRangeRegularUsers,freedomInReplies,title,subject,likes,latitude,longitude,hasPassword,isSubscribed,showOnMapScreen,isLiked,bypassChecks,isHidden,nsfw,currentDirectEvents,totalDirectEventsAfterLastJoin,subscriptions,userUuid,username,karma,tsCreated,allowsPrivateChats,allowsNsfw,thisUserBlockedCurrentUser,incomingFriendshipRequest,outstandingFriendshipRequest,friends,bio,appRoleMapped]\n in entity.ConversationSelectAllForOverview even though they are\n annotated as non-null or primitive. Columns returned by the query:\n [conversationUuid,createdBy,tsCreated,distanceMapped,showOnMap,showOnOverview,allowMessagesByInRangeRegularUsers,allowMessagesByOutOfRangeRegularUsers,stillReadableForOutOfRangeRegularUsers,freedomInReplies,title,subject,likes,avatar,latitude,longitude,hasPassword,isSubscribed,showOnMapScreen,isLiked,bypassChecks,isHidden,conversationReportReasonMapped,nsfw,currentDirectEvents,totalDirectEventsAfterLastJoin,lastReadConversationEventPk,mostRecentConversationEventUuid,relevance,subscriptions,userUuid,username,karma,tsCreated,allowsPrivateChats,allowsNsfw,avatar,currentUserBlockedThisUserTsCreated,thisUserBlockedCurrentUser,searchScreenScore,recentSearchedTsCreated,userReportReasonMapped,incomingFriendshipRequest,outstandingFriendshipRequest,friends,bio,appRoleMapped]\n     public abstract androidx.lifecycle.LiveData&lt;java.util.List&lt;entity.ConversationSelectAllForOverview&gt;&gt;\n selectAllForOverview(@org.jetbrains.annotations.NotNull()\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"owner":{"account_id":15007809,"reputation":1,"user_id":10833266,"display_name":"Nicol&#225;s Pera"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676505887,"creation_date":1676505887,"question_id":75466583,"body_markdown":"i have this four classes:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;products&quot;)\r\npublic class Product extends RegionDiscriminator {\r\n\r\n  @Column(nullable = false, name = &quot;product_id&quot;)\r\n  private Long productId;\r\n\r\n  @Column(nullable = false, name = &quot;name&quot;)\r\n  private String name;\r\n\r\n  @Column(nullable = false, name = &quot;category_id&quot;)\r\n  private Long categoryId;\r\n\r\n  @Column(nullable = false, name = &quot;unit&quot;)\r\n  private String unit;\r\n\r\n  @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n  private List&lt;SkuGroup&gt; skuGroups = new ArrayList&lt;&gt;();\r\n\r\n  @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n  private List&lt;Tax&gt; taxes = new ArrayList&lt;&gt;();\r\n\r\n  @Column(nullable = false, name = &quot;active&quot;)\r\n  private boolean active;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;sku_groups&quot;)\r\npublic class SkuGroup extends RegionDiscriminator {\r\n\r\n  @Column(nullable = false, name = &quot;name&quot;)\r\n  private String name;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;product_id&quot;)\r\n  private Product product;\r\n\r\n  @OneToMany(mappedBy = &quot;skuGroup&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n  private List&lt;Sku&gt; skus = new ArrayList&lt;&gt;();\r\n\r\n  @OneToMany(mappedBy = &quot;skuGroup&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n  @OrderBy(&quot;period DESC&quot;)\r\n  private List&lt;Cluster&gt; clusters = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;skus&quot;)\r\npublic class Sku extends GrowthEntity {\r\n\r\n  @Column(nullable = false, name = &quot;sku_id&quot;)\r\n  private Long skuId;\r\n\r\n  @Column(nullable = false, name = &quot;name&quot;)\r\n  private String name;\r\n\r\n  @Column(nullable = false, name = &quot;min_weight_unit&quot;)\r\n  private BigDecimal minWeightUnit;\r\n\r\n  @Column(name = &quot;upc&quot;)\r\n  private String upc;\r\n\r\n  @OneToMany(mappedBy = &quot;sku&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n  private List&lt;Tier&gt; tiers = new ArrayList&lt;&gt;();\r\n\r\n  @OneToMany(mappedBy = &quot;sku&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n  @Size(max = 10)\r\n  @OrderBy(&quot;creationTimestamp DESC&quot;)\r\n  private List&lt;Price&gt; prices = new ArrayList&lt;&gt;();\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;sku_group_id&quot;)\r\n  private SkuGroup skuGroup;\r\n\r\n  @OneToMany(mappedBy = &quot;sku&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n  private List&lt;Discount&gt; discounts = new ArrayList&lt;&gt;();\r\n\r\n  @Column(nullable = false, name = &quot;active&quot;)\r\n  private boolean active;\r\n\r\n  @OneToOne(mappedBy = &quot;sku&quot;)\r\n  private SkuCost cost;\r\n\r\n  @OneToOne(mappedBy = &quot;sku&quot;)\r\n  private SkuBenchmark benchmark;\r\n\r\n  @OneToMany(mappedBy = &quot;sku&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\r\n  private List&lt;PricingProcessDetail&gt; pricingProcessDetails;\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;prices&quot;)\r\npublic class Price extends GrowthEntity {\r\n\r\n  @Column(nullable = false, name = &quot;retail_price&quot;)\r\n  private BigDecimal retailPrice;\r\n\r\n  @Column(nullable = false, name = &quot;tax_price&quot;)\r\n  private BigDecimal taxPrice;\r\n\r\n  @Column(nullable = false, name = &quot;pricing_price&quot;)\r\n  private BigDecimal pricingPrice;\r\n\r\n  @Column(nullable = false, name = &quot;sale_price&quot;)\r\n  private BigDecimal salePrice;\r\n\r\n  @ManyToOne\r\n  @JoinColumn(name = &quot;sku_id&quot;)\r\n  private Sku sku;\r\n\r\n  @ManyToMany(cascade = {\r\n      CascadeType.PERSIST,\r\n      CascadeType.MERGE\r\n  })\r\n  @JoinTable(name = &quot;price_discount&quot;,\r\n      joinColumns = @JoinColumn(name = &quot;price_id&quot;),\r\n      inverseJoinColumns = @JoinColumn(name = &quot;discount_id&quot;)\r\n  )\r\n  private List&lt;Discount&gt; discounts = new ArrayList&lt;&gt;();\r\n\r\n  @ManyToMany(cascade = {\r\n      CascadeType.PERSIST,\r\n      CascadeType.MERGE\r\n  })\r\n  @JoinTable(name = &quot;price_tax&quot;,\r\n      joinColumns = @JoinColumn(name = &quot;price_id&quot;),\r\n      inverseJoinColumns = @JoinColumn(name = &quot;tax_id&quot;)\r\n  )\r\n  private List&lt;Tax&gt; taxes = new ArrayList&lt;&gt;();\r\n\r\n  @OneToMany(mappedBy = &quot;price&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\r\n  private List&lt;PriceTier&gt; tiers = new ArrayList&lt;&gt;();\r\n}\r\n```\r\n\r\nThis are the methods executed by my service:\r\n\r\n```\r\n@Transactional\r\n  public Product updateProduct(final ProductDTO productDTO) {\r\n    final Product product = productDao.findByProductId(productDTO.getProductId())\r\n        .orElseThrow(() -&gt; new GrowthNotFoundException(format(&quot;Product with id %s not found&quot;,\r\n            productDTO.getProductId())));\r\n\r\n    product.update(productDTO);\r\n\r\n    return save(product);\r\n  }\r\n```\r\n\r\n```\r\npublic Product update(final ProductDTO productDTO) {\r\n    categoryId = productDTO.getCategory() != null ? productDTO.getCategory().getId() : null;\r\n    name = productDTO.getName();\r\n    unit = productDTO.getUnit();\r\n    active = productDTO.isActive();\r\n\r\n    this.updateTaxes(productDTO);\r\n    this.updateSkuGroups(productDTO);\r\n\r\n    return this;\r\n  }\r\n```\r\n\r\n```\r\nprivate void updateTaxes(final ProductDTO productDTO) {\r\n    List&lt;Tax&gt; newTaxes = buildTaxes(productDTO);\r\n    List&lt;Tax&gt; currentTaxes = new ArrayList&lt;&gt;(taxes);\r\n    if (!currentTaxes.equals(newTaxes)) {\r\n      taxes.clear();\r\n      taxes.addAll(newTaxes);\r\n    }\r\n  }\r\n```\r\n\r\n```\r\nprivate void updateSkuGroups(final ProductDTO productDTO) {\r\n    Map&lt;Long, Sku&gt; skusMap = allSkus().stream()\r\n        .collect(Collectors.toMap(Sku::getSkuId, Function.identity()));\r\n\r\n    Map&lt;String, List&lt;SkuDTO&gt;&gt; newSkuGroups = ProductDTO.groupSkus(productDTO.getSkus());\r\n\r\n    Map&lt;String, SkuGroup&gt; currentSkuGroups = skuGroups.stream().collect(\r\n        Collectors.toMap(SkuGroup::getName, skuGroup -&gt; skuGroup));\r\n\r\n    newSkuGroups.forEach((group, skus) -&gt; {\r\n      if (currentSkuGroups.containsKey(group)) {\r\n        SkuGroup skuGroup = currentSkuGroups.get(group);\r\n        skuGroup.update(\r\n            skus.stream().map(skuDTO -&gt; createOrUpdateSku(skusMap, skuDTO, skuGroup))\r\n                .collect(Collectors.toList()));\r\n      } else {\r\n        SkuGroup skuGroup = SkuGroup.create(group, this);\r\n        skuGroup.update(\r\n            skus.stream().map(skuDTO -&gt; createOrUpdateSku(skusMap, skuDTO, skuGroup))\r\n                .collect(Collectors.toList()));\r\n        skuGroups.add(skuGroup);\r\n      }\r\n    });\r\n\r\n    currentSkuGroups.forEach((group, skuGroup) -&gt; {\r\n      if (!newSkuGroups.containsKey(group)) {\r\n        skuGroups.remove(skuGroup);\r\n      }\r\n    });\r\n  }\r\n```\r\n\r\n```\r\nprivate Sku createOrUpdateSku(Map&lt;Long, Sku&gt; skusMap, SkuDTO skuDTO, SkuGroup skuGroup) {\r\n    if (skusMap.containsKey(skuDTO.getId())) {\r\n      return skusMap.get(skuDTO.getId()).update(skuDTO, skuGroup);\r\n    } else {\r\n      return Sku.create(skuDTO, skuGroup);\r\n    }\r\n  }\r\n```\r\n\r\n```\r\npublic static Sku create(final SkuDTO skuDTO, final SkuGroup skuGroup) {\r\n    Sku sku = Sku.builder()\r\n        .withSkuId(skuDTO.getId())\r\n        .withMinWeightUnit(skuDTO.getMinWeightUnit())\r\n        .withUpc(skuDTO.getUpc())\r\n        .withName(skuDTO.getName())\r\n        .withSkuGroup(skuGroup)\r\n        .isActive(skuDTO.isActive())\r\n        .build();\r\n\r\n    sku.createTiers(skuDTO.getTiers(), skuDTO.getPrice());\r\n    sku.createPrice(skuDTO);\r\n\r\n    return sku;\r\n  }\r\n```\r\n\r\n```\r\n public Sku update(final SkuDTO skuDTO, final SkuGroup theSkuGroup) {\r\n    minWeightUnit = skuDTO.getMinWeightUnit();\r\n    upc = skuDTO.getUpc();\r\n    name = skuDTO.getName();\r\n    skuGroup = theSkuGroup;\r\n    active = skuDTO.isActive();\r\n\r\n    this.updateTiers(skuDTO.getTiers(), skuDTO.getPrice());\r\n    this.updatePriceFromRetailPrice(skuDTO.getPrice());\r\n    return this;\r\n  }\r\n```\r\n\r\nThis is an example of ProductDTO:\r\n\r\n```\r\n{\r\n    &quot;productId&quot;: 16825,\r\n    &quot;name&quot;: &quot;Producto prueba pricing 30&quot;,\r\n    &quot;category&quot;: {\r\n      &quot;id&quot;: 100515,\r\n      &quot;name&quot;: &quot;Categoria prueba 13&quot;\r\n    },\r\n    &quot;iva&quot;: null,\r\n    &quot;unit&quot;: &quot;UNID&quot;,\r\n    &quot;activeStartDate&quot;: &quot;2022-11-22 12:18:08&quot;,\r\n    &quot;activeEndDate&quot;: &quot;2022-11-22 12:18:08&quot;,\r\n    &quot;skus&quot;: [\r\n      {\r\n        &quot;id&quot;: 22937,\r\n        &quot;upc&quot;: &quot;BOG-FRU1-CAT4252-16825:17883:17882:22937&quot;,\r\n        &quot;name&quot;: &quot;Producto prueba pricing 30 (Caja x 12) - 30 unidades 160g&quot;,\r\n        &quot;owner&quot;: {\r\n          &quot;id&quot;: 1,\r\n          &quot;name&quot;: &quot;Frubana&quot;\r\n        },\r\n        &quot;price&quot;: 999,\r\n        &quot;stepUnit&quot;: 1,\r\n        &quot;minWeightUnit&quot;: 1,\r\n        &quot;conversion&quot;: {\r\n          &quot;conversionTypeX&quot;: &quot;UNID&quot;,\r\n          &quot;conversionValueX&quot;: null,\r\n          &quot;conversionTypeY&quot;: null,\r\n          &quot;conversionValueY&quot;: null\r\n        },\r\n        &quot;slot&quot;: false,\r\n        &quot;cooled&quot;: false,\r\n        &quot;activeStartDate&quot;: &quot;2022-10-19 12:17:04&quot;,\r\n        &quot;activeEndDate&quot;: &quot;2022-10-19 12:17:04&quot;,\r\n        &quot;tiers&quot;: null,\r\n        &quot;group&quot;: &quot;(Caja x 24)&quot;,\r\n        &quot;active&quot;: true\r\n      },\r\n      {\r\n        &quot;id&quot;: 22938,\r\n        &quot;upc&quot;: &quot;BOG-FRU1-CAT4252-16825:17885:17884:22938&quot;,\r\n        &quot;name&quot;: &quot;Producto prueba pricing 30 (Caja x 24) - 30 unidades de 150g&quot;,\r\n        &quot;owner&quot;: {\r\n          &quot;id&quot;: 1,\r\n          &quot;name&quot;: &quot;Frubana&quot;\r\n        },\r\n        &quot;price&quot;: 888,\r\n        &quot;stepUnit&quot;: 1,\r\n        &quot;minWeightUnit&quot;: 1,\r\n        &quot;conversion&quot;: {\r\n          &quot;conversionTypeX&quot;: &quot;UNID&quot;,\r\n          &quot;conversionValueX&quot;: null,\r\n          &quot;conversionTypeY&quot;: null,\r\n          &quot;conversionValueY&quot;: null\r\n        },\r\n        &quot;slot&quot;: false,\r\n        &quot;cooled&quot;: false,\r\n        &quot;activeStartDate&quot;: &quot;2022-10-19 12:17:04&quot;,\r\n        &quot;activeEndDate&quot;: &quot;2022-10-19 12:17:04&quot;,\r\n        &quot;tiers&quot;: null,\r\n        &quot;group&quot;: &quot;(Caja x 12)&quot;,\r\n        &quot;active&quot;: true\r\n      },\r\n      {\r\n        &quot;id&quot;: 22939,\r\n        &quot;upc&quot;: &quot;BOG-FRU1-CAT4252-16825:17887:17886:22939&quot;,\r\n        &quot;name&quot;: &quot;Producto prueba pricing 30 (Caja x 24) - 30 unidades de 160g&quot;,\r\n        &quot;owner&quot;: {\r\n          &quot;id&quot;: 1,\r\n          &quot;name&quot;: &quot;Frubana&quot;\r\n        },\r\n        &quot;price&quot;: 777,\r\n        &quot;stepUnit&quot;: 1,\r\n        &quot;minWeightUnit&quot;: 2,\r\n        &quot;conversion&quot;: {\r\n          &quot;conversionTypeX&quot;: &quot;UNID&quot;,\r\n          &quot;conversionValueX&quot;: null,\r\n          &quot;conversionTypeY&quot;: null,\r\n          &quot;conversionValueY&quot;: null\r\n        },\r\n        &quot;slot&quot;: false,\r\n        &quot;cooled&quot;: false,\r\n        &quot;activeStartDate&quot;: &quot;2022-10-19 12:17:04&quot;,\r\n        &quot;activeEndDate&quot;: &quot;2022-10-19 12:17:04&quot;,\r\n        &quot;tiers&quot;: null,\r\n        &quot;group&quot;: &quot;(Caja x 24)&quot;,\r\n        &quot;active&quot;: true\r\n      }\r\n    ],\r\n    &quot;image&quot;: &quot;/cmsstatic/products/sku_sin_imagen.png&quot;,\r\n    &quot;active&quot;: true\r\n  }\r\n```\r\n\r\nMy goal is to assign the SKUs to their respective SKU Groups based on the name, eliminating the groups that are left empty and creating the new ones that are necessary.\r\n\r\nThe code works for the first part, but fails when the reassignment needs the creation of a new group.\r\n\r\n```\r\nERROR: null value in column &quot;sku_id&quot; violates not-null constraint\r\n```","title":"Hibernate is deleting nested relationships when editing parent","body":"<p>i have this four classes:</p>\n<pre><code>@Entity\n@Table(name = &quot;products&quot;)\npublic class Product extends RegionDiscriminator {\n\n  @Column(nullable = false, name = &quot;product_id&quot;)\n  private Long productId;\n\n  @Column(nullable = false, name = &quot;name&quot;)\n  private String name;\n\n  @Column(nullable = false, name = &quot;category_id&quot;)\n  private Long categoryId;\n\n  @Column(nullable = false, name = &quot;unit&quot;)\n  private String unit;\n\n  @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n  private List&lt;SkuGroup&gt; skuGroups = new ArrayList&lt;&gt;();\n\n  @OneToMany(mappedBy = &quot;product&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n  private List&lt;Tax&gt; taxes = new ArrayList&lt;&gt;();\n\n  @Column(nullable = false, name = &quot;active&quot;)\n  private boolean active;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;sku_groups&quot;)\npublic class SkuGroup extends RegionDiscriminator {\n\n  @Column(nullable = false, name = &quot;name&quot;)\n  private String name;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;product_id&quot;)\n  private Product product;\n\n  @OneToMany(mappedBy = &quot;skuGroup&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n  private List&lt;Sku&gt; skus = new ArrayList&lt;&gt;();\n\n  @OneToMany(mappedBy = &quot;skuGroup&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n  @OrderBy(&quot;period DESC&quot;)\n  private List&lt;Cluster&gt; clusters = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;skus&quot;)\npublic class Sku extends GrowthEntity {\n\n  @Column(nullable = false, name = &quot;sku_id&quot;)\n  private Long skuId;\n\n  @Column(nullable = false, name = &quot;name&quot;)\n  private String name;\n\n  @Column(nullable = false, name = &quot;min_weight_unit&quot;)\n  private BigDecimal minWeightUnit;\n\n  @Column(name = &quot;upc&quot;)\n  private String upc;\n\n  @OneToMany(mappedBy = &quot;sku&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n  private List&lt;Tier&gt; tiers = new ArrayList&lt;&gt;();\n\n  @OneToMany(mappedBy = &quot;sku&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n  @Size(max = 10)\n  @OrderBy(&quot;creationTimestamp DESC&quot;)\n  private List&lt;Price&gt; prices = new ArrayList&lt;&gt;();\n\n  @ManyToOne\n  @JoinColumn(name = &quot;sku_group_id&quot;)\n  private SkuGroup skuGroup;\n\n  @OneToMany(mappedBy = &quot;sku&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n  private List&lt;Discount&gt; discounts = new ArrayList&lt;&gt;();\n\n  @Column(nullable = false, name = &quot;active&quot;)\n  private boolean active;\n\n  @OneToOne(mappedBy = &quot;sku&quot;)\n  private SkuCost cost;\n\n  @OneToOne(mappedBy = &quot;sku&quot;)\n  private SkuBenchmark benchmark;\n\n  @OneToMany(mappedBy = &quot;sku&quot;, cascade = CascadeType.REMOVE, orphanRemoval = true)\n  private List&lt;PricingProcessDetail&gt; pricingProcessDetails;\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;prices&quot;)\npublic class Price extends GrowthEntity {\n\n  @Column(nullable = false, name = &quot;retail_price&quot;)\n  private BigDecimal retailPrice;\n\n  @Column(nullable = false, name = &quot;tax_price&quot;)\n  private BigDecimal taxPrice;\n\n  @Column(nullable = false, name = &quot;pricing_price&quot;)\n  private BigDecimal pricingPrice;\n\n  @Column(nullable = false, name = &quot;sale_price&quot;)\n  private BigDecimal salePrice;\n\n  @ManyToOne\n  @JoinColumn(name = &quot;sku_id&quot;)\n  private Sku sku;\n\n  @ManyToMany(cascade = {\n      CascadeType.PERSIST,\n      CascadeType.MERGE\n  })\n  @JoinTable(name = &quot;price_discount&quot;,\n      joinColumns = @JoinColumn(name = &quot;price_id&quot;),\n      inverseJoinColumns = @JoinColumn(name = &quot;discount_id&quot;)\n  )\n  private List&lt;Discount&gt; discounts = new ArrayList&lt;&gt;();\n\n  @ManyToMany(cascade = {\n      CascadeType.PERSIST,\n      CascadeType.MERGE\n  })\n  @JoinTable(name = &quot;price_tax&quot;,\n      joinColumns = @JoinColumn(name = &quot;price_id&quot;),\n      inverseJoinColumns = @JoinColumn(name = &quot;tax_id&quot;)\n  )\n  private List&lt;Tax&gt; taxes = new ArrayList&lt;&gt;();\n\n  @OneToMany(mappedBy = &quot;price&quot;, cascade = CascadeType.ALL, orphanRemoval = true)\n  private List&lt;PriceTier&gt; tiers = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>This are the methods executed by my service:</p>\n<pre><code>@Transactional\n  public Product updateProduct(final ProductDTO productDTO) {\n    final Product product = productDao.findByProductId(productDTO.getProductId())\n        .orElseThrow(() -&gt; new GrowthNotFoundException(format(&quot;Product with id %s not found&quot;,\n            productDTO.getProductId())));\n\n    product.update(productDTO);\n\n    return save(product);\n  }\n</code></pre>\n<pre><code>public Product update(final ProductDTO productDTO) {\n    categoryId = productDTO.getCategory() != null ? productDTO.getCategory().getId() : null;\n    name = productDTO.getName();\n    unit = productDTO.getUnit();\n    active = productDTO.isActive();\n\n    this.updateTaxes(productDTO);\n    this.updateSkuGroups(productDTO);\n\n    return this;\n  }\n</code></pre>\n<pre><code>private void updateTaxes(final ProductDTO productDTO) {\n    List&lt;Tax&gt; newTaxes = buildTaxes(productDTO);\n    List&lt;Tax&gt; currentTaxes = new ArrayList&lt;&gt;(taxes);\n    if (!currentTaxes.equals(newTaxes)) {\n      taxes.clear();\n      taxes.addAll(newTaxes);\n    }\n  }\n</code></pre>\n<pre><code>private void updateSkuGroups(final ProductDTO productDTO) {\n    Map&lt;Long, Sku&gt; skusMap = allSkus().stream()\n        .collect(Collectors.toMap(Sku::getSkuId, Function.identity()));\n\n    Map&lt;String, List&lt;SkuDTO&gt;&gt; newSkuGroups = ProductDTO.groupSkus(productDTO.getSkus());\n\n    Map&lt;String, SkuGroup&gt; currentSkuGroups = skuGroups.stream().collect(\n        Collectors.toMap(SkuGroup::getName, skuGroup -&gt; skuGroup));\n\n    newSkuGroups.forEach((group, skus) -&gt; {\n      if (currentSkuGroups.containsKey(group)) {\n        SkuGroup skuGroup = currentSkuGroups.get(group);\n        skuGroup.update(\n            skus.stream().map(skuDTO -&gt; createOrUpdateSku(skusMap, skuDTO, skuGroup))\n                .collect(Collectors.toList()));\n      } else {\n        SkuGroup skuGroup = SkuGroup.create(group, this);\n        skuGroup.update(\n            skus.stream().map(skuDTO -&gt; createOrUpdateSku(skusMap, skuDTO, skuGroup))\n                .collect(Collectors.toList()));\n        skuGroups.add(skuGroup);\n      }\n    });\n\n    currentSkuGroups.forEach((group, skuGroup) -&gt; {\n      if (!newSkuGroups.containsKey(group)) {\n        skuGroups.remove(skuGroup);\n      }\n    });\n  }\n</code></pre>\n<pre><code>private Sku createOrUpdateSku(Map&lt;Long, Sku&gt; skusMap, SkuDTO skuDTO, SkuGroup skuGroup) {\n    if (skusMap.containsKey(skuDTO.getId())) {\n      return skusMap.get(skuDTO.getId()).update(skuDTO, skuGroup);\n    } else {\n      return Sku.create(skuDTO, skuGroup);\n    }\n  }\n</code></pre>\n<pre><code>public static Sku create(final SkuDTO skuDTO, final SkuGroup skuGroup) {\n    Sku sku = Sku.builder()\n        .withSkuId(skuDTO.getId())\n        .withMinWeightUnit(skuDTO.getMinWeightUnit())\n        .withUpc(skuDTO.getUpc())\n        .withName(skuDTO.getName())\n        .withSkuGroup(skuGroup)\n        .isActive(skuDTO.isActive())\n        .build();\n\n    sku.createTiers(skuDTO.getTiers(), skuDTO.getPrice());\n    sku.createPrice(skuDTO);\n\n    return sku;\n  }\n</code></pre>\n<pre><code> public Sku update(final SkuDTO skuDTO, final SkuGroup theSkuGroup) {\n    minWeightUnit = skuDTO.getMinWeightUnit();\n    upc = skuDTO.getUpc();\n    name = skuDTO.getName();\n    skuGroup = theSkuGroup;\n    active = skuDTO.isActive();\n\n    this.updateTiers(skuDTO.getTiers(), skuDTO.getPrice());\n    this.updatePriceFromRetailPrice(skuDTO.getPrice());\n    return this;\n  }\n</code></pre>\n<p>This is an example of ProductDTO:</p>\n<pre><code>{\n    &quot;productId&quot;: 16825,\n    &quot;name&quot;: &quot;Producto prueba pricing 30&quot;,\n    &quot;category&quot;: {\n      &quot;id&quot;: 100515,\n      &quot;name&quot;: &quot;Categoria prueba 13&quot;\n    },\n    &quot;iva&quot;: null,\n    &quot;unit&quot;: &quot;UNID&quot;,\n    &quot;activeStartDate&quot;: &quot;2022-11-22 12:18:08&quot;,\n    &quot;activeEndDate&quot;: &quot;2022-11-22 12:18:08&quot;,\n    &quot;skus&quot;: [\n      {\n        &quot;id&quot;: 22937,\n        &quot;upc&quot;: &quot;BOG-FRU1-CAT4252-16825:17883:17882:22937&quot;,\n        &quot;name&quot;: &quot;Producto prueba pricing 30 (Caja x 12) - 30 unidades 160g&quot;,\n        &quot;owner&quot;: {\n          &quot;id&quot;: 1,\n          &quot;name&quot;: &quot;Frubana&quot;\n        },\n        &quot;price&quot;: 999,\n        &quot;stepUnit&quot;: 1,\n        &quot;minWeightUnit&quot;: 1,\n        &quot;conversion&quot;: {\n          &quot;conversionTypeX&quot;: &quot;UNID&quot;,\n          &quot;conversionValueX&quot;: null,\n          &quot;conversionTypeY&quot;: null,\n          &quot;conversionValueY&quot;: null\n        },\n        &quot;slot&quot;: false,\n        &quot;cooled&quot;: false,\n        &quot;activeStartDate&quot;: &quot;2022-10-19 12:17:04&quot;,\n        &quot;activeEndDate&quot;: &quot;2022-10-19 12:17:04&quot;,\n        &quot;tiers&quot;: null,\n        &quot;group&quot;: &quot;(Caja x 24)&quot;,\n        &quot;active&quot;: true\n      },\n      {\n        &quot;id&quot;: 22938,\n        &quot;upc&quot;: &quot;BOG-FRU1-CAT4252-16825:17885:17884:22938&quot;,\n        &quot;name&quot;: &quot;Producto prueba pricing 30 (Caja x 24) - 30 unidades de 150g&quot;,\n        &quot;owner&quot;: {\n          &quot;id&quot;: 1,\n          &quot;name&quot;: &quot;Frubana&quot;\n        },\n        &quot;price&quot;: 888,\n        &quot;stepUnit&quot;: 1,\n        &quot;minWeightUnit&quot;: 1,\n        &quot;conversion&quot;: {\n          &quot;conversionTypeX&quot;: &quot;UNID&quot;,\n          &quot;conversionValueX&quot;: null,\n          &quot;conversionTypeY&quot;: null,\n          &quot;conversionValueY&quot;: null\n        },\n        &quot;slot&quot;: false,\n        &quot;cooled&quot;: false,\n        &quot;activeStartDate&quot;: &quot;2022-10-19 12:17:04&quot;,\n        &quot;activeEndDate&quot;: &quot;2022-10-19 12:17:04&quot;,\n        &quot;tiers&quot;: null,\n        &quot;group&quot;: &quot;(Caja x 12)&quot;,\n        &quot;active&quot;: true\n      },\n      {\n        &quot;id&quot;: 22939,\n        &quot;upc&quot;: &quot;BOG-FRU1-CAT4252-16825:17887:17886:22939&quot;,\n        &quot;name&quot;: &quot;Producto prueba pricing 30 (Caja x 24) - 30 unidades de 160g&quot;,\n        &quot;owner&quot;: {\n          &quot;id&quot;: 1,\n          &quot;name&quot;: &quot;Frubana&quot;\n        },\n        &quot;price&quot;: 777,\n        &quot;stepUnit&quot;: 1,\n        &quot;minWeightUnit&quot;: 2,\n        &quot;conversion&quot;: {\n          &quot;conversionTypeX&quot;: &quot;UNID&quot;,\n          &quot;conversionValueX&quot;: null,\n          &quot;conversionTypeY&quot;: null,\n          &quot;conversionValueY&quot;: null\n        },\n        &quot;slot&quot;: false,\n        &quot;cooled&quot;: false,\n        &quot;activeStartDate&quot;: &quot;2022-10-19 12:17:04&quot;,\n        &quot;activeEndDate&quot;: &quot;2022-10-19 12:17:04&quot;,\n        &quot;tiers&quot;: null,\n        &quot;group&quot;: &quot;(Caja x 24)&quot;,\n        &quot;active&quot;: true\n      }\n    ],\n    &quot;image&quot;: &quot;/cmsstatic/products/sku_sin_imagen.png&quot;,\n    &quot;active&quot;: true\n  }\n</code></pre>\n<p>My goal is to assign the SKUs to their respective SKU Groups based on the name, eliminating the groups that are left empty and creating the new ones that are necessary.</p>\n<p>The code works for the first part, but fails when the reassignment needs the creation of a new group.</p>\n<pre><code>ERROR: null value in column &quot;sku_id&quot; violates not-null constraint\n</code></pre>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676505397,"creation_date":1670628342,"answer_id":74749157,"question_id":74654617,"body_markdown":"They are both working correctly, but they did the same thing.\r\nYou changed only the name, and this is the reason why the implementation will remain the same.\r\n\r\n&quot;Replace completely&quot; is the common behavior. So in order to completely replaces the collection, it&#39;s ok what you already did.\r\n\r\n    Parent updateParent(ParentTo to, @MappingTarget Parent parent);\r\n    \r\nInstead, if you need a specific implementation (like updating the collection by adding new elements), you can simply create a method with your custom implementation:\r\n\r\n    @Mapping(target = &quot;children&quot;, expression = &quot;java(updateChildrenList(to, parent))&quot;)\r\n    Parent updateParentAddChild(ParentTo to, @MappingTarget Parent parent);\r\n\r\n    default List&lt;Child&gt; updateChildrenList(ParentTo to, Parent parent) {\r\n\r\n        //add here your custom mapping implementation\r\n\r\n    }\r\n\r\nIf you need, there is also a CollectionMappingStrategy called ADDER_PREFERRED that can be applied to override the default behaviour.\r\n\r\nYou can find more info about that on Baeldung: [collections-mapping-strategies][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-mapstruct-mapping-collections#collections-mapping-strategies","title":"MapStuct strategy update field list","body":"<p>They are both working correctly, but they did the same thing.\nYou changed only the name, and this is the reason why the implementation will remain the same.</p>\n<p>&quot;Replace completely&quot; is the common behavior. So in order to completely replaces the collection, it's ok what you already did.</p>\n<pre><code>Parent updateParent(ParentTo to, @MappingTarget Parent parent);\n</code></pre>\n<p>Instead, if you need a specific implementation (like updating the collection by adding new elements), you can simply create a method with your custom implementation:</p>\n<pre><code>@Mapping(target = &quot;children&quot;, expression = &quot;java(updateChildrenList(to, parent))&quot;)\nParent updateParentAddChild(ParentTo to, @MappingTarget Parent parent);\n\ndefault List&lt;Child&gt; updateChildrenList(ParentTo to, Parent parent) {\n\n    //add here your custom mapping implementation\n\n}\n</code></pre>\n<p>If you need, there is also a CollectionMappingStrategy called ADDER_PREFERRED that can be applied to override the default behaviour.</p>\n<p>You can find more info about that on Baeldung: <a href=\"https://www.baeldung.com/java-mapstruct-mapping-collections#collections-mapping-strategies\" rel=\"nofollow noreferrer\">collections-mapping-strategies</a></p>\n"}],"owner":{"account_id":23977999,"reputation":73,"user_id":17965846,"display_name":"wuttke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74749157,"answer_count":1,"score":0,"last_activity_date":1676505397,"creation_date":1669978545,"question_id":74654617,"body_markdown":"I have two class entity parent-child:\r\n\r\n    public class Parent {\r\n      private String name;\r\n      private List&lt;Child&gt; children;\r\n    }\r\n    public class Child {\r\n      private String name;\r\n    }\r\n\r\nAnd I need to have TWO mapper update methods, one completely replaces the collection, the other adds new elements to it.\r\n\r\n    @Mapper(\r\n        componentModel = &quot;spring&quot;,\r\n        uses = {ChildMapper.class})\r\n    public interface ParentMapper {\r\n    Parent updateParent(ParentTo to, @MappingTarget Parent parent); //works correctly\r\n    \r\n    Parent updateParentAddChild(ParentTo to, @MappingTarget Parent parent); //it does not work correctly\r\n    }\r\n\r\nBy default, when updating, the mapper replaces all entities in the collection.\r\n\r\nHow is it more correct to implement an entity update in the mapper with the addition of elements to the sheet?","title":"MapStuct strategy update field list","body":"<p>I have two class entity parent-child:</p>\n<pre><code>public class Parent {\n  private String name;\n  private List&lt;Child&gt; children;\n}\npublic class Child {\n  private String name;\n}\n</code></pre>\n<p>And I need to have TWO mapper update methods, one completely replaces the collection, the other adds new elements to it.</p>\n<pre><code>@Mapper(\n    componentModel = &quot;spring&quot;,\n    uses = {ChildMapper.class})\npublic interface ParentMapper {\nParent updateParent(ParentTo to, @MappingTarget Parent parent); //works correctly\n\nParent updateParentAddChild(ParentTo to, @MappingTarget Parent parent); //it does not work correctly\n}\n</code></pre>\n<p>By default, when updating, the mapper replaces all entities in the collection.</p>\n<p>How is it more correct to implement an entity update in the mapper with the addition of elements to the sheet?</p>\n"},{"tags":["java","oop","scala","immutability"],"comments":[{"owner":{"account_id":11965,"reputation":23640,"user_id":23323,"accept_rate":89,"display_name":"Zachary Wright"},"score":5,"creation_date":1274099242,"post_id":2848938,"comment_id":2892022,"body_markdown":"I think the builder pattern is the best and most standard solution to this.","body":"I think the builder pattern is the best and most standard solution to this."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1274103908,"post_id":2848938,"comment_id":2892518,"body_markdown":"@Zachary: What you are advocating only works for a special form of the builder pattern, as explained here by Joshua Bloch: http://www.drdobbs.com/java/208403883?pgno=2   I prefer to go with the related &quot;fluent interface&quot; term to call this &quot;special form of the builder pattern&quot; (see my answer).","body":"@Zachary: What you are advocating only works for a special form of the builder pattern, as explained here by Joshua Bloch: <a href=\"http://www.drdobbs.com/java/208403883?pgno=2\" rel=\"nofollow noreferrer\">drdobbs.com/java/208403883?pgno=2</a>   I prefer to go with the related &quot;fluent interface&quot; term to call this &quot;special form of the builder pattern&quot; (see my answer)."}],"answers":[{"comments":[{"owner":{"account_id":3284,"reputation":42459,"user_id":4728,"accept_rate":86,"display_name":"Simon Nickerson"},"score":6,"creation_date":1274099203,"post_id":2848967,"comment_id":2892016,"body_markdown":"This is the Builder Pattern (option 2)","body":"This is the Builder Pattern (option 2)"},{"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"score":0,"creation_date":1274100064,"post_id":2848967,"comment_id":2892107,"body_markdown":"Wouldn&#39;t that be a factory (&#39;builder&#39;) object that emits his immutable objects?","body":"Wouldn&#39;t that be a factory (&#39;builder&#39;) object that emits his immutable objects?"},{"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"score":0,"creation_date":1274100304,"post_id":2848967,"comment_id":2892135,"body_markdown":"that distinction seems pretty semantic.  How does the bean get made?  How does that differ from a builder?","body":"that distinction seems pretty semantic.  How does the bean get made?  How does that differ from a builder?"},{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1274101999,"post_id":2848967,"comment_id":2892293,"body_markdown":"You don&#39;t want the package of Java Bean conventions for a builder (or for much else).","body":"You don&#39;t want the package of Java Bean conventions for a builder (or for much else)."}],"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"comment_count":4,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1274103267,"creation_date":1274099106,"answer_id":2848967,"question_id":2848938,"body_markdown":"Consider four possibilities:\r\n\r\n    new Immutable(one, fish, two, fish, red, fish, blue, fish); /*1 */\r\n\r\n    params = new ImmutableParameters(); /*2 */\r\n    params.setType(&quot;fowl&quot;);\r\n    new Immutable(params);\r\n\r\n    factory = new ImmutableFactory(); /*3 */\r\n    factory.setType(&quot;fish&quot;);\r\n    factory.getInstance();\r\n\r\n    Immutable boringImmutable = new Immutable(); /* 4 */\r\n    Immutable lessBoring = boringImmutable.setType(&quot;vegetable&quot;);\r\n\r\nTo me, each of 2, 3, and 4 is adapted to a difference situation. The first one is hard to love, for the reasons cited by the OP, and is generally a symptom of a design that has suffered some creep and needs some refactoring.\r\n\r\nWhat I&#39;m listing as (2) is good when there is no state behind the &#39;factory&#39;, whereas (3) is the design of choice when there is state. I find myself using (2) rather than (3) when I don&#39;t want to worry about threads and synchronization, and I don&#39;t need to worry about amortizing some expensive setup over the production of many objects. (3), on the other hand, is called forth when real work goes into the construction of the factory (setting up from an SPI, reading configuration files, etc).\r\n\r\nFinally, someone else&#39;s answer mentioned option (4), where you have lots of little immutable objects and the preferable pattern is to get news ones from old ones.\r\n\r\n\r\nNote that I&#39;m not a member of the &#39;pattern fan club&#39; -- sure, some things are worth emulating, but it seems to me that they take on an unhelpful life of their own once people give them names and funny hats.","title":"Building big, immutable objects without using constructors having long parameter lists","body":"<p>Consider four possibilities:</p>\n\n<pre><code>new Immutable(one, fish, two, fish, red, fish, blue, fish); /*1 */\n\nparams = new ImmutableParameters(); /*2 */\nparams.setType(\"fowl\");\nnew Immutable(params);\n\nfactory = new ImmutableFactory(); /*3 */\nfactory.setType(\"fish\");\nfactory.getInstance();\n\nImmutable boringImmutable = new Immutable(); /* 4 */\nImmutable lessBoring = boringImmutable.setType(\"vegetable\");\n</code></pre>\n\n<p>To me, each of 2, 3, and 4 is adapted to a difference situation. The first one is hard to love, for the reasons cited by the OP, and is generally a symptom of a design that has suffered some creep and needs some refactoring.</p>\n\n<p>What I'm listing as (2) is good when there is no state behind the 'factory', whereas (3) is the design of choice when there is state. I find myself using (2) rather than (3) when I don't want to worry about threads and synchronization, and I don't need to worry about amortizing some expensive setup over the production of many objects. (3), on the other hand, is called forth when real work goes into the construction of the factory (setting up from an SPI, reading configuration files, etc).</p>\n\n<p>Finally, someone else's answer mentioned option (4), where you have lots of little immutable objects and the preferable pattern is to get news ones from old ones.</p>\n\n<p>Note that I'm not a member of the 'pattern fan club' -- sure, some things are worth emulating, but it seems to me that they take on an unhelpful life of their own once people give them names and funny hats.</p>\n"},{"comments":[{"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"score":0,"creation_date":1274104599,"post_id":2848983,"comment_id":2892629,"body_markdown":"The alleged downside - creating more instances than necessary - isn&#39;t really that much of a problem. Object allocation is very cheap, as is garbage collection of short-lived objects. When escape analysis is enabled by default, this kind of &quot;intermediate objects&quot; are likely to be stack allocated and cost literally nothing to create.","body":"The alleged downside - creating more instances than necessary - isn&#39;t really that much of a problem. Object allocation is very cheap, as is garbage collection of short-lived objects. When escape analysis is enabled by default, this kind of &quot;intermediate objects&quot; are likely to be stack allocated and cost literally nothing to create."},{"owner":{"account_id":2172,"reputation":364900,"user_id":2988,"display_name":"J&#246;rg W Mittag"},"score":2,"creation_date":1274105516,"post_id":2848983,"comment_id":2892758,"body_markdown":"@gustafc: Yep. Cliff Click once told the story of how they benchmarked Rich Hickey&#39;s Clojure Ant Colony simulation on one of their big boxes (864 cores, 768 GB RAM): 700 parallel threads running on 700 cores, each one at 100%, generating over 20 GB of ephemeral garbage *per second*. The GC didn&#39;t even break a sweat.","body":"@gustafc: Yep. Cliff Click once told the story of how they benchmarked Rich Hickey&#39;s Clojure Ant Colony simulation on one of their big boxes (864 cores, 768 GB RAM): 700 parallel threads running on 700 cores, each one at 100%, generating over 20 GB of ephemeral garbage <i>per second</i>. The GC didn&#39;t even break a sweat."}],"tags":[],"owner":{"account_id":38019,"reputation":28490,"user_id":108915,"accept_rate":73,"display_name":"ziggystar"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1274099294,"creation_date":1274099294,"answer_id":2848983,"question_id":2848938,"body_markdown":"You could also make the immutable objects expose methods that look like mutators (like addSibling) but let them return a new instance. That&#39;s what the immutable Scala collections do.\r\n\r\nThe downside is that you might create more instances than necessary. It&#39;s also only applicable when there exist intermediate valid configurations (like some node without siblings which is ok in most cases) unless you don&#39;t want to deal with partially built objects.\r\n\r\nFor example a graph edge which has no destination yet isn&#39;t a valid graph edge.","title":"Building big, immutable objects without using constructors having long parameter lists","body":"<p>You could also make the immutable objects expose methods that look like mutators (like addSibling) but let them return a new instance. That's what the immutable Scala collections do.</p>\n\n<p>The downside is that you might create more instances than necessary. It's also only applicable when there exist intermediate valid configurations (like some node without siblings which is ok in most cases) unless you don't want to deal with partially built objects.</p>\n\n<p>For example a graph edge which has no destination yet isn't a valid graph edge.</p>\n"},{"comments":[{"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"score":1,"creation_date":1274101102,"post_id":2849059,"comment_id":2892208,"body_markdown":"note: mileage for this answer may vary with problem, code-base, and developer skill.","body":"note: mileage for this answer may vary with problem, code-base, and developer skill."}],"tags":[],"owner":{"account_id":56079,"reputation":7550,"user_id":167973,"accept_rate":82,"display_name":"Carl"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1274100069,"creation_date":1274100069,"answer_id":2849059,"question_id":2848938,"body_markdown":"Another potential option is to refactor to have fewer configurable fields.  If groups of fields only work (mostly) with each other, gather them up into their own small immutable object.  That &quot;small&quot; object&#39;s constructors/builders should be more manageable, as will the constructor/builder for this &quot;big&quot; object.","title":"Building big, immutable objects without using constructors having long parameter lists","body":"<p>Another potential option is to refactor to have fewer configurable fields.  If groups of fields only work (mostly) with each other, gather them up into their own small immutable object.  That \"small\" object's constructors/builders should be more manageable, as will the constructor/builder for this \"big\" object.</p>\n"},{"tags":[],"owner":{"account_id":58209,"reputation":14498,"user_id":174335,"display_name":"Joren"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1274100570,"creation_date":1274100570,"answer_id":2849126,"question_id":2848938,"body_markdown":"I use C#, and these are my approaches. Consider:\r\n\r\n    class Foo\r\n    {\r\n        // private fields only to be written inside a constructor\r\n        private readonly int i;\r\n        private readonly string s;\r\n        private readonly Bar b;\r\n\r\n        // public getter properties\r\n        public int I { get { return i; } }\r\n        // etc.\r\n    }\r\n\r\n**Option 1.** Constructor with optional parameters\r\n\r\n    public Foo(int i = 0, string s = &quot;bla&quot;, Bar b = null)\r\n    {\r\n        this.i = i;\r\n        this.s = s;\r\n        this.b = b;\r\n    }\r\n\r\nUsed as e.g. `new Foo(5, b: new Bar(whatever))`. Not for Java or C# versions before 4.0. but still worth showing, as it&#39;s an example how not all solutions are language agnostic.\r\n\r\n**Option 2.** Constructor taking a single parameter object\r\n\r\n    public Foo(FooParameters parameters)\r\n    {\r\n        this.i = parameters.I;\r\n        // etc.\r\n    }\r\n    \r\n    class FooParameters\r\n    {\r\n        // public properties with automatically generated private backing fields\r\n        public int I { get; set; }\r\n        public string S { get; set; }\r\n        public Bar B { get; set; }\r\n        \r\n        // All properties are public, so we don&#39;t need a full constructor.\r\n        // For convenience, you could include some commonly used initialization\r\n        // patterns as additional constructors.\r\n        public FooParameters() { }\r\n    }\r\n\r\nUsage example: \r\n\r\n    FooParameters fp = new FooParameters();\r\n    fp.I = 5;\r\n    fp.S = &quot;bla&quot;;\r\n    fp.B = new Bar();\r\n    Foo f = new Foo(fp);`\r\n\r\nC# from 3.0 on makes this more elegant with object initializer syntax (semantically equivalent to the previous example):\r\n\r\n    FooParameters fp = new FooParameters { I = 5, S = &quot;bla&quot;, B = new Bar() };\r\n    Foo f = new Foo(fp);\r\n\r\n**Option 3:**  \r\nRedesign your class not to need such a huge number of parameters. You could split its repsonsibilities into multiple classes. Or pass parameters not to the constructor but only to specific methods, on demand. Not always viable, but when it is, it&#39;s worth doing.","title":"Building big, immutable objects without using constructors having long parameter lists","body":"<p>I use C#, and these are my approaches. Consider:</p>\n\n<pre><code>class Foo\n{\n    // private fields only to be written inside a constructor\n    private readonly int i;\n    private readonly string s;\n    private readonly Bar b;\n\n    // public getter properties\n    public int I { get { return i; } }\n    // etc.\n}\n</code></pre>\n\n<p><strong>Option 1.</strong> Constructor with optional parameters</p>\n\n<pre><code>public Foo(int i = 0, string s = \"bla\", Bar b = null)\n{\n    this.i = i;\n    this.s = s;\n    this.b = b;\n}\n</code></pre>\n\n<p>Used as e.g. <code>new Foo(5, b: new Bar(whatever))</code>. Not for Java or C# versions before 4.0. but still worth showing, as it's an example how not all solutions are language agnostic.</p>\n\n<p><strong>Option 2.</strong> Constructor taking a single parameter object</p>\n\n<pre><code>public Foo(FooParameters parameters)\n{\n    this.i = parameters.I;\n    // etc.\n}\n\nclass FooParameters\n{\n    // public properties with automatically generated private backing fields\n    public int I { get; set; }\n    public string S { get; set; }\n    public Bar B { get; set; }\n\n    // All properties are public, so we don't need a full constructor.\n    // For convenience, you could include some commonly used initialization\n    // patterns as additional constructors.\n    public FooParameters() { }\n}\n</code></pre>\n\n<p>Usage example: </p>\n\n<pre><code>FooParameters fp = new FooParameters();\nfp.I = 5;\nfp.S = \"bla\";\nfp.B = new Bar();\nFoo f = new Foo(fp);`\n</code></pre>\n\n<p>C# from 3.0 on makes this more elegant with object initializer syntax (semantically equivalent to the previous example):</p>\n\n<pre><code>FooParameters fp = new FooParameters { I = 5, S = \"bla\", B = new Bar() };\nFoo f = new Foo(fp);\n</code></pre>\n\n<p><strong>Option 3:</strong><br>\nRedesign your class not to need such a huge number of parameters. You could split its repsonsibilities into multiple classes. Or pass parameters not to the constructor but only to specific methods, on demand. Not always viable, but when it is, it's worth doing.</p>\n"},{"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":11,"creation_date":1274103253,"post_id":2849375,"comment_id":2892427,"body_markdown":"@ all : please no complaint about the &quot;Impl&quot; postfix in &quot;FooImpl&quot;: this class is hidden inside a factory and no one will ever see it besides the person writing the fluent interface.  All the user cares about is that he gets a &quot;Foo&quot;.  I could have called &quot;FooImpl&quot; &quot;FooPointlessNitpick&quot; as well ;)","body":"@ all : please no complaint about the &quot;Impl&quot; postfix in &quot;FooImpl&quot;: this class is hidden inside a factory and no one will ever see it besides the person writing the fluent interface.  All the user cares about is that he gets a &quot;Foo&quot;.  I could have called &quot;FooImpl&quot; &quot;FooPointlessNitpick&quot; as well ;)"},{"owner":{"account_id":4572,"reputation":43468,"user_id":6932,"accept_rate":97,"display_name":"Greg D"},"score":5,"creation_date":1274106943,"post_id":2849375,"comment_id":2892956,"body_markdown":"Feeling pre-emptive?  ;)  You&#39;ve been nitpicked in the past about this.  :)","body":"Feeling pre-emptive?  ;)  You&#39;ve been nitpicked in the past about this.  :)"},{"owner":{"account_id":87753,"reputation":2467,"user_id":243191,"display_name":"Timothy"},"score":0,"creation_date":1274107544,"post_id":2849375,"comment_id":2893049,"body_markdown":"Great answer, WizardOfOdds. I&#39;ve seen this pattern successfully applied, and it really does meet the requirements expressed by the OP.","body":"Great answer, WizardOfOdds. I&#39;ve seen this pattern successfully applied, and it really does meet the requirements expressed by the OP."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1274112662,"post_id":2849375,"comment_id":2893828,"body_markdown":"@Greg D: actually I don&#39;t think people nitpicked *me about it :)   I think it&#39;s even the first I post a piece of code with &quot;Impl&quot; :)  But I&#39;ve sure *read* a lot of discussion/holy-wars on that subject here on SO ;)","body":"@Greg D: actually I don&#39;t think people nitpicked <i>me about it :)   I think it&#39;s even the first I post a piece of code with &quot;Impl&quot; :)  But I&#39;ve sure *read</i> a lot of discussion/holy-wars on that subject here on SO ;)"},{"owner":{"account_id":957,"reputation":10233,"user_id":1266,"accept_rate":82,"display_name":"pbh101"},"score":1,"creation_date":1274138708,"post_id":2849375,"comment_id":2897155,"body_markdown":"&quot;I wrote &quot;CORRECTLY DONE&quot; in bold because most Java programmers get fluent interfaces wrong and pollute their object with the method necessary to build the object, which is of course completely wrong.&quot;\n\nWhat exactly do you mean by this?  The example you posted is very close to the Builder pattern but using fluent naming.  What is the common error?","body":"&quot;I wrote &quot;CORRECTLY DONE&quot; in bold because most Java programmers get fluent interfaces wrong and pollute their object with the method necessary to build the object, which is of course completely wrong.&quot;  What exactly do you mean by this?  The example you posted is very close to the Builder pattern but using fluent naming.  What is the common error?"},{"owner":{"account_id":86959,"reputation":71656,"user_id":241462,"accept_rate":71,"display_name":"Dean Harding"},"score":3,"creation_date":1274144223,"post_id":2849375,"comment_id":2897538,"body_markdown":"I believe the common error he&#39;s referring to is that people add the &quot;withXXX&quot; (etc) methods *to* the `Foo` object, rather than having a separate `FooFactory`.","body":"I believe the common error he&#39;s referring to is that people add the &quot;withXXX&quot; (etc) methods <i>to</i> the <code>Foo</code> object, rather than having a separate <code>FooFactory</code>."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":2,"creation_date":1274217044,"post_id":2849375,"comment_id":2905504,"body_markdown":"@pbh101: what codeka commented: in a lot of the blog/SO questions you see people doing what they think are &quot;fluent interface&quot; by adding the method related to object construction in the classes you want to construct.  But, yup, basically a fluent interface is a specific form of the builder pattern (in the article here Joshua Bloch talks about that &quot;special form&quot;: drdobbs.com/java/208403883?pgno=2 ).  But the accepted term nowadays for such a construct is &quot;fluent interface&quot;, not &quot;builder pattern&quot; (even if a fluent interface is done using a specific form of the builder pattern).","body":"@pbh101: what codeka commented: in a lot of the blog/SO questions you see people doing what they think are &quot;fluent interface&quot; by adding the method related to object construction in the classes you want to construct.  But, yup, basically a fluent interface is a specific form of the builder pattern (in the article here Joshua Bloch talks about that &quot;special form&quot;: drdobbs.com/java/208403883?pgno=2 ).  But the accepted term nowadays for such a construct is &quot;fluent interface&quot;, not &quot;builder pattern&quot; (even if a fluent interface is done using a specific form of the builder pattern)."},{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1274217093,"post_id":2849375,"comment_id":2905509,"body_markdown":"@codeka: lets put it this way: every fluent interface in Java should be done using the Builder pattern but everytime the Builder pattern is used does not mean you&#39;re creating a &quot;fluent interface&quot;.","body":"@codeka: lets put it this way: every fluent interface in Java should be done using the Builder pattern but everytime the Builder pattern is used does not mean you&#39;re creating a &quot;fluent interface&quot;."},{"owner":{"account_id":60150,"reputation":1704,"user_id":179795,"accept_rate":83,"display_name":"Behrooz"},"score":0,"creation_date":1279031822,"post_id":2849375,"comment_id":3343797,"body_markdown":"my comment @ http://stackoverflow.com/questions/114342/what-are-code-smells-what-is-the-best-way-to-correct-them/114360#114360","body":"my comment @ <a href=\"http://stackoverflow.com/questions/114342/what-are-code-smells-what-is-the-best-way-to-correct-them/114360#114360\" title=\"what are code smells what is the best way to correct them\">stackoverflow.com/questions/114342/&hellip;</a>"},{"owner":{"account_id":37575,"reputation":2652,"user_id":107444,"accept_rate":80,"display_name":"Rodney Gitzel"},"score":0,"creation_date":1283365448,"post_id":2849375,"comment_id":3803417,"body_markdown":"Your answer just triggered the &quot;AHA!&quot; I needed to understand why I&#39;ve had issues when tinkering with fluent interfaces:   it&#39;s the *factory* that&#39;s &quot;fluent&quot;, not the object!  Thanks. :-)","body":"Your answer just triggered the &quot;AHA!&quot; I needed to understand why I&#39;ve had issues when tinkering with fluent interfaces:   it&#39;s the <i>factory</i> that&#39;s &quot;fluent&quot;, not the object!  Thanks. :-)"},{"owner":{"account_id":72664,"reputation":28560,"user_id":209706,"accept_rate":80,"display_name":"Mot"},"score":4,"creation_date":1312791309,"post_id":2849375,"comment_id":8326625,"body_markdown":"You still have the `FooImpl` constructor with 8 parameters. What is the improvement?","body":"You still have the <code>FooImpl</code> constructor with 8 parameters. What is the improvement?"},{"owner":{"account_id":26369,"reputation":3754,"user_id":68556,"accept_rate":100,"display_name":"Edd"},"score":0,"creation_date":1360930623,"post_id":2849375,"comment_id":20888278,"body_markdown":"@MikeL. I realise this is an old comment, but for the sake of completeness: The code that wants the object created by the `FooFactory` doesn&#39;t have to ever see the `FooImpl` class - all it needs to see is the `Foo` interface that `FooImpl` conforms to. If you only need to set 3 parameters, the `FooFactory.build()` method could fill the `FooImpl` constructor parameters with defaults.","body":"@MikeL. I realise this is an old comment, but for the sake of completeness: The code that wants the object created by the <code>FooFactory</code> doesn&#39;t have to ever see the <code>FooImpl</code> class - all it needs to see is the <code>Foo</code> interface that <code>FooImpl</code> conforms to. If you only need to set 3 parameters, the <code>FooFactory.build()</code> method could fill the <code>FooImpl</code> constructor parameters with defaults."},{"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"score":4,"creation_date":1395244416,"post_id":2849375,"comment_id":34250896,"body_markdown":"I wouldn&#39;t call this code `immutable`, and I would be afraid of people reusing factory objects because they think it is. I mean: `FooFactory people = FooFactory.create().withType(&quot;person&quot;); Foo women = people.withGender(&quot;female&quot;).build(); Foo talls = people.tallerThan(&quot;180m&quot;).build();` where `talls` would now only contain women. This shouldn&#39;t happen with an immutable API.","body":"I wouldn&#39;t call this code <code>immutable</code>, and I would be afraid of people reusing factory objects because they think it is. I mean: <code>FooFactory people = FooFactory.create().withType(&quot;person&quot;); Foo women = people.withGender(&quot;female&quot;).build(); Foo talls = people.tallerThan(&quot;180m&quot;).build();</code> where <code>talls</code> would now only contain women. This shouldn&#39;t happen with an immutable API."},{"owner":{"account_id":28866,"reputation":473,"user_id":77462,"accept_rate":38,"display_name":"LegendLength"},"score":0,"creation_date":1500218237,"post_id":2849375,"comment_id":77229722,"body_markdown":"I don&#39;t see the problem having withXXX() on the class itself rather than a builder.  Because I would sometimes like to take an existing object and &#39;modify&#39; a field (of course returning a new copy).  And I also have with() methods that are complicated and have lots of business logic, like `TextArea.withReplaceLine(String newLine, int lineNumber)` .  I wouldn&#39;t want that logic to be in a builder class.","body":"I don&#39;t see the problem having withXXX() on the class itself rather than a builder.  Because I would sometimes like to take an existing object and &#39;modify&#39; a field (of course returning a new copy).  And I also have with() methods that are complicated and have lots of business logic, like <code>TextArea.withReplaceLine(String newLine, int lineNumber)</code> .  I wouldn&#39;t want that logic to be in a builder class."},{"owner":{"account_id":11180480,"reputation":7031,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"score":1,"creation_date":1502454495,"post_id":2849375,"comment_id":78229479,"body_markdown":"Even in 2017, still high-rank in &quot;Related&quot;, so I&#39;ll add my comment on fluent interfaces. Advantage: readability. Disadvantage: needs complex logics to be as safe as the multi-args cconstructor. @Thomas Ahle already pointed out that it&#39;s too easy to keep unwanted previous settings. And you need to check whether all necessary parameters have been set before the build() call. So fluent interfaces are good if all the parameters are optional, but if not, I&#39;d recommend a multi-arg constructor.","body":"Even in 2017, still high-rank in &quot;Related&quot;, so I&#39;ll add my comment on fluent interfaces. Advantage: readability. Disadvantage: needs complex logics to be as safe as the multi-args cconstructor. @Thomas Ahle already pointed out that it&#39;s too easy to keep unwanted previous settings. And you need to check whether all necessary parameters have been set before the build() call. So fluent interfaces are good if all the parameters are optional, but if not, I&#39;d recommend a multi-arg constructor."},{"owner":{"account_id":52839,"reputation":91119,"user_id":157957,"display_name":"IMSoP"},"score":0,"creation_date":1556286550,"post_id":2849375,"comment_id":98398086,"body_markdown":"As Thomas Ahle points out, there is a critical mistake in this example: the `with` method *mutates the builder*; such a method would more correctly be prefixed `set`, and is harder to work with than an immutable version. A better implementation would be something like `FooFactory inst = this.clone(); inst.color = color; return inst;`","body":"As Thomas Ahle points out, there is a critical mistake in this example: the <code>with</code> method <i>mutates the builder</i>; such a method would more correctly be prefixed <code>set</code>, and is harder to work with than an immutable version. A better implementation would be something like <code>FooFactory inst = this.clone(); inst.color = color; return inst;</code>"}],"tags":[],"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"comment_count":16,"down_vote_count":2,"up_vote_count":78,"is_accepted":true,"score":76,"last_activity_date":1319550862,"creation_date":1274102858,"answer_id":2849375,"question_id":2848938,"body_markdown":"Well, you want both an easier to read and immutable object once created?\r\n\r\nI think a fluent interface **CORRECTLY DONE** would help you.\r\n\r\nIt would look like this (purely made up example):\r\n\r\n    final Foo immutable = FooFactory.create()\r\n        .whereRangeConstraintsAre(100,300)\r\n        .withColor(Color.BLUE)\r\n        .withArea(234)\r\n        .withInterspacing(12)\r\n        .build();\r\n\r\nI wrote *&quot;CORRECTLY DONE&quot;* in bold because most Java programmers get fluent interfaces wrong and pollute their object with the method necessary to build the object, which is of course completely wrong.\r\n\r\nThe trick is that *only the build() method actually creates a Foo* (hence you Foo can be immutable).\r\n\r\n*FooFactory.create()*, *whereXXX(..)* and *withXXX(..)* all create &quot;something else&quot;.\r\n\r\nThat something else may be a FooFactory, here&#39;s one way to do it....\r\n\r\nYou FooFactory would look like this:\r\n\r\n    // Notice the private FooFactory constructor\r\n    private FooFactory() {\r\n    }\r\n    \r\n    public static FooFactory create() {\r\n        return new FooFactory();\r\n    }\r\n    \r\n    public FooFactory withColor( final Color col ) {\r\n        this.color = color;\r\n        return this;\r\n    }\r\n\r\n    public Foo build() {\r\n        return new FooImpl( color, and, all, the, other, parameters, go, here );\r\n    }\r\n\r\n\r\n","title":"Building big, immutable objects without using constructors having long parameter lists","body":"<p>Well, you want both an easier to read and immutable object once created?</p>\n\n<p>I think a fluent interface <strong>CORRECTLY DONE</strong> would help you.</p>\n\n<p>It would look like this (purely made up example):</p>\n\n<pre><code>final Foo immutable = FooFactory.create()\n    .whereRangeConstraintsAre(100,300)\n    .withColor(Color.BLUE)\n    .withArea(234)\n    .withInterspacing(12)\n    .build();\n</code></pre>\n\n<p>I wrote <em>\"CORRECTLY DONE\"</em> in bold because most Java programmers get fluent interfaces wrong and pollute their object with the method necessary to build the object, which is of course completely wrong.</p>\n\n<p>The trick is that <em>only the build() method actually creates a Foo</em> (hence you Foo can be immutable).</p>\n\n<p><em>FooFactory.create()</em>, <em>whereXXX(..)</em> and <em>withXXX(..)</em> all create \"something else\".</p>\n\n<p>That something else may be a FooFactory, here's one way to do it....</p>\n\n<p>You FooFactory would look like this:</p>\n\n<pre><code>// Notice the private FooFactory constructor\nprivate FooFactory() {\n}\n\npublic static FooFactory create() {\n    return new FooFactory();\n}\n\npublic FooFactory withColor( final Color col ) {\n    this.color = color;\n    return this;\n}\n\npublic Foo build() {\n    return new FooImpl( color, and, all, the, other, parameters, go, here );\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":87753,"reputation":2467,"user_id":243191,"display_name":"Timothy"},"score":3,"creation_date":1274107639,"post_id":2849537,"comment_id":2893066,"body_markdown":"Option 1 is clever (but not *too* clever), so I like it.","body":"Option 1 is clever (but not <i>too</i> clever), so I like it."},{"owner":{"account_id":38920,"reputation":9506,"user_id":112041,"accept_rate":92,"display_name":"Malax"},"score":4,"creation_date":1274109059,"post_id":2849537,"comment_id":2893302,"body_markdown":"I did this earlier, but in my opinion it is far away from being a good solution because the object is still mutable, only the mutating methods are &quot;hidden&quot;. Maybe i am too picky about this subject...","body":"I did this earlier, but in my opinion it is far away from being a good solution because the object is still mutable, only the mutating methods are &quot;hidden&quot;. Maybe i am too picky about this subject..."},{"owner":{"display_name":"user23987"},"score":0,"creation_date":1313181658,"post_id":2849537,"comment_id":8421855,"body_markdown":"a variant on option 1 is to have separate classes for Immutable and Mutable variants. This provides better safety than the interface approach. Arguably you&#39;re lying to the consumer of the API whenever you give them a mutable object named Immutable that simply needs to be cast to it&#39;s mutable interface. The separate class approach requires methods to convert back and forth. The JodaTime API uses this pattern. See DateTime and MutableDateTime.","body":"a variant on option 1 is to have separate classes for Immutable and Mutable variants. This provides better safety than the interface approach. Arguably you&#39;re lying to the consumer of the API whenever you give them a mutable object named Immutable that simply needs to be cast to it&#39;s mutable interface. The separate class approach requires methods to convert back and forth. The JodaTime API uses this pattern. See DateTime and MutableDateTime."}],"tags":[],"owner":{"account_id":117733,"reputation":5301,"user_id":308193,"accept_rate":59,"display_name":"Little Bobby Tables"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1274104065,"creation_date":1274104065,"answer_id":2849537,"question_id":2848938,"body_markdown":"Here are a couple of more options:\r\n\r\n### Option 1 ###\r\nMake the implementation itself mutable, but separate the interfaces that it exposes to mutable and immutable. This is taken from the Swing library design.\r\n\r\n    public interface Foo {\r\n      X getX();\r\n      Y getY();\r\n    }\r\n    \r\n    public interface MutableFoo extends Foo {\r\n      void setX(X x);\r\n      void setY(Y y);\r\n    }\r\n    \r\n    public class FooImpl implements MutableFoo {...}\r\n    \r\n    public SomeClassThatUsesFoo {\r\n      public Foo makeFoo(...) {\r\n        MutableFoo ret = new MutableFoo...\r\n        ret.setX(...);\r\n        ret.setY(...);\r\n        return ret; // As Foo, not MutableFoo\r\n      }\r\n    }\r\n\r\n### Option 2 ###\r\nIf your application contains a large but pre-defined set of immutable objects (e.g., configuration objects), you might consider using the [Spring][1] framework.\r\n\r\n\r\n  [1]: http://www.springsource.org/","title":"Building big, immutable objects without using constructors having long parameter lists","body":"<p>Here are a couple of more options:</p>\n\n<h3>Option 1</h3>\n\n<p>Make the implementation itself mutable, but separate the interfaces that it exposes to mutable and immutable. This is taken from the Swing library design.</p>\n\n<pre><code>public interface Foo {\n  X getX();\n  Y getY();\n}\n\npublic interface MutableFoo extends Foo {\n  void setX(X x);\n  void setY(Y y);\n}\n\npublic class FooImpl implements MutableFoo {...}\n\npublic SomeClassThatUsesFoo {\n  public Foo makeFoo(...) {\n    MutableFoo ret = new MutableFoo...\n    ret.setX(...);\n    ret.setY(...);\n    return ret; // As Foo, not MutableFoo\n  }\n}\n</code></pre>\n\n<h3>Option 2</h3>\n\n<p>If your application contains a large but pre-defined set of immutable objects (e.g., configuration objects), you might consider using the <a href=\"http://www.springsource.org/\" rel=\"noreferrer\">Spring</a> framework.</p>\n"},{"comments":[{"owner":{"account_id":38920,"reputation":9506,"user_id":112041,"accept_rate":92,"display_name":"Malax"},"score":32,"creation_date":1274107833,"post_id":2849900,"comment_id":2893103,"body_markdown":"+1 for inventing the Scala language. Yeah, it&#39;s an abuse of the reputation system but... aww... I love Scala so much i had to do it. :)","body":"+1 for inventing the Scala language. Yeah, it&#39;s an abuse of the reputation system but... aww... I love Scala so much i had to do it. :)"},{"owner":{"account_id":21713,"reputation":295602,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"score":1,"creation_date":1274111249,"post_id":2849900,"comment_id":2893611,"body_markdown":"Oh, man... I have just answered something almost identical! Well, I&#39;m in good company. :-) I wonder that I didn&#39;t see your answer before, though... &lt;shrug&gt;","body":"Oh, man... I have just answered something almost identical! Well, I&#39;m in good company. :-) I wonder that I didn&#39;t see your answer before, though... &lt;shrug&gt;"}],"tags":[],"owner":{"account_id":72922,"reputation":20510,"user_id":210303,"display_name":"Martin Odersky"},"comment_count":2,"down_vote_count":0,"up_vote_count":60,"is_accepted":false,"score":60,"last_activity_date":1274106798,"creation_date":1274106798,"answer_id":2849900,"question_id":2848938,"body_markdown":"In Scala 2.8, you could use named and default parameters as well as the `copy` method on a case class. Here&#39;s some example code:\r\n\r\n    case class Person(name: String, age: Int, children: List[Person] = List()) {\r\n      def addChild(p: Person) = copy(children = p :: this.children)\r\n    }\r\n    \r\n    val parent = Person(name = &quot;Bob&quot;, age = 55)\r\n      .addChild(Person(&quot;Lisa&quot;, 23))\r\n      .addChild(Person(&quot;Peter&quot;, 16))\r\n\r\n","title":"Building big, immutable objects without using constructors having long parameter lists","body":"<p>In Scala 2.8, you could use named and default parameters as well as the <code>copy</code> method on a case class. Here's some example code:</p>\n\n<pre><code>case class Person(name: String, age: Int, children: List[Person] = List()) {\n  def addChild(p: Person) = copy(children = p :: this.children)\n}\n\nval parent = Person(name = \"Bob\", age = 55)\n  .addChild(Person(\"Lisa\", 23))\n  .addChild(Person(\"Peter\", 16))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21713,"reputation":295602,"user_id":53013,"accept_rate":78,"display_name":"Daniel C. Sobral"},"comment_count":0,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1274110978,"creation_date":1274110978,"answer_id":2850502,"question_id":2848938,"body_markdown":"Well, consider this on Scala 2.8:\r\n\r\n    case class Person(name: String, \r\n                      married: Boolean = false, \r\n                      espouse: Option[String] = None, \r\n                      children: Set[String] = Set.empty) {\r\n      def marriedTo(whom: String) = this.copy(married = true, espouse = Some(whom))\r\n      def addChild(whom: String) = this.copy(children = children + whom)\r\n    }\r\n    \r\n    scala&gt; Person(&quot;Joseph&quot;).marriedTo(&quot;Mary&quot;).addChild(&quot;Jesus&quot;)\r\n    res1: Person = Person(Joseph,true,Some(Mary),Set(Jesus))\r\n\r\nThis does have its share of problems, of course. For instance, try making `espouse` and `Option[Person]`, and then getting two persons married to each other. I can&#39;t think of a way to solve that without resorting to either a `private var` and/or a `private` constructor plus a factory.\r\n","title":"Building big, immutable objects without using constructors having long parameter lists","body":"<p>Well, consider this on Scala 2.8:</p>\n\n<pre><code>case class Person(name: String, \n                  married: Boolean = false, \n                  espouse: Option[String] = None, \n                  children: Set[String] = Set.empty) {\n  def marriedTo(whom: String) = this.copy(married = true, espouse = Some(whom))\n  def addChild(whom: String) = this.copy(children = children + whom)\n}\n\nscala&gt; Person(\"Joseph\").marriedTo(\"Mary\").addChild(\"Jesus\")\nres1: Person = Person(Joseph,true,Some(Mary),Set(Jesus))\n</code></pre>\n\n<p>This does have its share of problems, of course. For instance, try making <code>espouse</code> and <code>Option[Person]</code>, and then getting two persons married to each other. I can't think of a way to solve that without resorting to either a <code>private var</code> and/or a <code>private</code> constructor plus a factory.</p>\n"},{"comments":[{"owner":{"account_id":17898,"reputation":80772,"user_id":40516,"accept_rate":89,"display_name":"Juliet"},"score":1,"creation_date":1274138464,"post_id":2853452,"comment_id":2897123,"body_markdown":"Downvotes? Anyone want to leave a comment on why this isn&#39;t a good solution?","body":"Downvotes? Anyone want to leave a comment on why this isn&#39;t a good solution?"},{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":0,"creation_date":1279680002,"post_id":2853452,"comment_id":3413539,"body_markdown":"+1. Maybe someone downvoted this because you are hinting at the use of `clone()` to derive new instances.","body":"+1. Maybe someone downvoted this because you are hinting at the use of <code>clone()</code> to derive new instances."},{"owner":{"account_id":7052,"reputation":48090,"user_id":12048,"accept_rate":94,"display_name":"finnw"},"score":0,"creation_date":1279892247,"post_id":2853452,"comment_id":3440025,"body_markdown":"Or maybe it was because it can compromise thread safety in Java: http://java.sun.com/docs/books/jls/third_edition/html/memory.html#17.5","body":"Or maybe it was because it can compromise thread safety in Java: <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/memory.html#17.5\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jls/third_edition/html/memory.html#1&zwnj;&#8203;7.5</a>"},{"owner":{"account_id":1215,"reputation":15593,"user_id":1615,"accept_rate":86,"display_name":"stalepretzel"},"score":0,"creation_date":1387954172,"post_id":2853452,"comment_id":31130171,"body_markdown":"A disadvantage is that it requires future developers to be careful to handle the &quot;freeze&quot; flag.  If a mutator method is added later that forgets to assert that the method is unfrozen, there could be problems.  Similarly, if a new constructor is written that should, but does not, call the `freeze()` method, things could get ugly.","body":"A disadvantage is that it requires future developers to be careful to handle the &quot;freeze&quot; flag.  If a mutator method is added later that forgets to assert that the method is unfrozen, there could be problems.  Similarly, if a new constructor is written that should, but does not, call the <code>freeze()</code> method, things could get ugly."}],"tags":[],"owner":{"account_id":17898,"reputation":80772,"user_id":40516,"accept_rate":89,"display_name":"Juliet"},"comment_count":4,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1676504397,"creation_date":1274136724,"answer_id":2853452,"question_id":2848938,"body_markdown":"It helps to remember there are [different *kinds* of immutability][lippert]. For your case, I think &quot;popsicle&quot; immutability will work really well:\r\n\r\n&gt; Popsicle immutability: is what I\r\n&gt; whimsically call a slight weakening of\r\n&gt; write-once immutability. One could\r\n&gt; imagine an object or a field which\r\n&gt; remained mutable for a little while\r\n&gt; during its initialization, and then\r\n&gt; got frozen forever. This kind of\r\n&gt; immutability is particularly useful\r\n&gt; for immutable objects which circularly\r\n&gt; reference each other, or immutable\r\n&gt; objects which have been serialized to\r\n&gt; disk and upon deserialization need to\r\n&gt; be fluid until the entire\r\n&gt; deserialization process is done, at\r\n&gt; which point all the objects may be\r\n&gt; frozen.\r\n\r\nSo you initialize your object, then set a &quot;freeze&quot; flag of some sort indicating that its no longer writable. Preferably, you&#39;d hide the mutation behind a function so the function is still pure to clients consuming your API.\r\n\r\n  [lippert]: https://learn.microsoft.com/en-us/archive/blogs/ericlippert/immutability-in-c-part-one-kinds-of-immutability","title":"Building big, immutable objects without using constructors having long parameter lists","body":"<p>It helps to remember there are <a href=\"https://learn.microsoft.com/en-us/archive/blogs/ericlippert/immutability-in-c-part-one-kinds-of-immutability\" rel=\"nofollow noreferrer\">different <em>kinds</em> of immutability</a>. For your case, I think &quot;popsicle&quot; immutability will work really well:</p>\n<blockquote>\n<p>Popsicle immutability: is what I\nwhimsically call a slight weakening of\nwrite-once immutability. One could\nimagine an object or a field which\nremained mutable for a little while\nduring its initialization, and then\ngot frozen forever. This kind of\nimmutability is particularly useful\nfor immutable objects which circularly\nreference each other, or immutable\nobjects which have been serialized to\ndisk and upon deserialization need to\nbe fluid until the entire\ndeserialization process is done, at\nwhich point all the objects may be\nfrozen.</p>\n</blockquote>\n<p>So you initialize your object, then set a &quot;freeze&quot; flag of some sort indicating that its no longer writable. Preferably, you'd hide the mutation behind a function so the function is still pure to clients consuming your API.</p>\n"}],"owner":{"account_id":38920,"reputation":9506,"user_id":112041,"accept_rate":92,"display_name":"Malax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13106,"favorite_count":0,"down_vote_count":0,"up_vote_count":96,"accepted_answer_id":2849375,"answer_count":9,"score":96,"last_activity_date":1676504397,"creation_date":1274098866,"question_id":2848938,"body_markdown":"I have some big (more than 3 fields) objects that can and should be immutable. Every time I run into that case I tend to create constructor abominations with long parameter lists. \r\n\r\nIt doesn&#39;t feel right, it is hard to use, and readability suffers.\r\n\r\nIt is even worse if the fields are some sort of collection type like lists. A simple `addSibling(S s)` would ease the object creation so much but renders the object mutable.\r\n\r\nWhat do you guys use in such cases? \r\n\r\nI&#39;m on Scala and Java, but I think the problem is language agnostic as long as the language is object oriented.\r\n\r\nSolutions I can think of:\r\n\r\n1. &quot;Constructor abominations with long parameter lists&quot;\r\n2. The Builder Pattern","title":"Building big, immutable objects without using constructors having long parameter lists","body":"<p>I have some big (more than 3 fields) objects that can and should be immutable. Every time I run into that case I tend to create constructor abominations with long parameter lists. </p>\n\n<p>It doesn't feel right, it is hard to use, and readability suffers.</p>\n\n<p>It is even worse if the fields are some sort of collection type like lists. A simple <code>addSibling(S s)</code> would ease the object creation so much but renders the object mutable.</p>\n\n<p>What do you guys use in such cases? </p>\n\n<p>I'm on Scala and Java, but I think the problem is language agnostic as long as the language is object oriented.</p>\n\n<p>Solutions I can think of:</p>\n\n<ol>\n<li>\"Constructor abominations with long parameter lists\"</li>\n<li>The Builder Pattern</li>\n</ol>\n"},{"tags":["java","processing"],"comments":[{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1676453956,"post_id":75457454,"comment_id":133138004,"body_markdown":"I&#39;m not familiar with the Controller library you&#39;re using: can you please point me to it ? Is it a Processing wrapper library or a .jar file you drop onto your Processing sketch ? Does removing `private` change anything ? Overall it sounds like Processing&#39;s Export Application feature is failing to copy the Controller library jar file to the library folder adjacent to the exe. Have you tested exporting with (or without) the `Embed Java` option in Export Options ? Do you need to export the exe to easily distribute your sketch (or do you only need to run it on your computer, but launch it easily)","body":"I&#39;m not familiar with the Controller library you&#39;re using: can you please point me to it ? Is it a Processing wrapper library or a .jar file you drop onto your Processing sketch ? Does removing <code>private</code> change anything ? Overall it sounds like Processing&#39;s Export Application feature is failing to copy the Controller library jar file to the library folder adjacent to the exe. Have you tested exporting with (or without) the <code>Embed Java</code> option in Export Options ? Do you need to export the exe to easily distribute your sketch (or do you only need to run it on your computer, but launch it easily)"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1676459057,"post_id":75457454,"comment_id":133139397,"body_markdown":"Controller is not a library. It is only a single java file that lays in the same directory as the main pde file. I export with embedded java - without it the exported .exe can not be opened.","body":"Controller is not a library. It is only a single java file that lays in the same directory as the main pde file. I export with embedded java - without it the exported .exe can not be opened."},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1676467314,"post_id":75457454,"comment_id":133141820,"body_markdown":"Maybe in the previous time when I exported my another project I packed the Java compiled classes into a library with jar extension and added to the project not as the Java sources but as Java compiled in the library. I have forgot it. It is a method to export but I can not understand why simply added Java source files can not be exported and the application with them can not run without pde.","body":"Maybe in the previous time when I exported my another project I packed the Java compiled classes into a library with jar extension and added to the project not as the Java sources but as Java compiled in the library. I have forgot it. It is a method to export but I can not understand why simply added Java source files can not be exported and the application with them can not run without pde."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1676476837,"post_id":75457454,"comment_id":133145398,"body_markdown":"It&#39;s a valid question. I would expect using a .java file in your Processing project to work. (I&#39;m not sure if the package is causing issues (as using the editor has a few limitations (I bumped into some issues using `static`)). Would you be able to share the contents of the .java file so it&#39;s easy to replicate your issue ? Alternatively, have you tried using `processing-java` as an alternative ? (e.g. if `processing-java` (sibling with processing.exe) is added to the `%PATH%` environment variable) then `processing-java --sketch=path\\to\\YourSketchFolder --run`)","body":"It&#39;s a valid question. I would expect using a .java file in your Processing project to work. (I&#39;m not sure if the package is causing issues (as using the editor has a few limitations (I bumped into some issues using <code>static</code>)). Would you be able to share the contents of the .java file so it&#39;s easy to replicate your issue ? Alternatively, have you tried using <code>processing-java</code> as an alternative ? (e.g. if <code>processing-java</code> (sibling with processing.exe) is added to the <code>%PATH%</code> environment variable) then <code>processing-java --sketch=path\\to\\YourSketchFolder --run</code>)"},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1676493582,"post_id":75457454,"comment_id":133150338,"body_markdown":"The content is published in the question. One method, one constructor and one field. I didn&#39;t tested with processing-Java. What&#39;s is the difference?","body":"The content is published in the question. One method, one constructor and one field. I didn&#39;t tested with processing-Java. What&#39;s is the difference?"},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1676503283,"post_id":75457454,"comment_id":133152432,"body_markdown":"My bad, missed the code right in front of me :)\n\nIt looks like it&#39;s the `package` statement.","body":"My bad, missed the code right in front of me :)  It looks like it&#39;s the <code>package</code> statement."}],"answers":[{"comments":[{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1676553775,"post_id":75466398,"comment_id":133162705,"body_markdown":"The customer has no processing on his raspberry pi. And I think he should not have it and should not have java. He should get the standalone application and be able to launch it by simple double click. I think also that it is a bug of the export manager, but I like this export ability from processing, that creates in two clicks    the launchers for every platform with embedded java","body":"The customer has no processing on his raspberry pi. And I think he should not have it and should not have java. He should get the standalone application and be able to launch it by simple double click. I think also that it is a bug of the export manager, but I like this export ability from processing, that creates in two clicks    the launchers for every platform with embedded java"},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1676593533,"post_id":75466398,"comment_id":133173761,"body_markdown":"I had no idea this was meant to be deployed on a Raspberry PI. (Hopefully it&#39;s a newer/faster one as Java drains a lot of resources on a limited system like that). Unfortunately I won&#39;t have the time to dig deeper. Here are few options: 1. you can file an issue on the [official repo](https://github.com/processing/processing4) (might not be a fast option). 2. download the repo and try to find how the editor handles `package`  so you could fix the issue yourself (could be faster). 3. use a script that processes the .java file when adding in Processing to remove the usage of `package`...","body":"I had no idea this was meant to be deployed on a Raspberry PI. (Hopefully it&#39;s a newer/faster one as Java drains a lot of resources on a limited system like that). Unfortunately I won&#39;t have the time to dig deeper. Here are few options: 1. you can file an issue on the <a href=\"https://github.com/processing/processing4\" rel=\"nofollow noreferrer\">official repo</a> (might not be a fast option). 2. download the repo and try to find how the editor handles <code>package</code>  so you could fix the issue yourself (could be faster). 3. use a script that processes the .java file when adding in Processing to remove the usage of <code>package</code>..."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1676593803,"post_id":75466398,"comment_id":133173808,"body_markdown":"...alternatively, look at what tools can be integrated into your ide (e.g. ant tasks, shell scripts/etc.) that would allow you to &quot;port&quot; the export application functionality from the Processing IDE to your preferred IDE. (For example there was an eclipse plugin called [Proclipsing](https://github.com/ybakos/proclipsing) which made it easy to make PApplet based Java projects, integrate Processing libraries as well as export application. Hopefully it still works). It depends on your level of comfort with code, what IDE you already use and what your overall goal is. Hope this helps.","body":"...alternatively, look at what tools can be integrated into your ide (e.g. ant tasks, shell scripts/etc.) that would allow you to &quot;port&quot; the export application functionality from the Processing IDE to your preferred IDE. (For example there was an eclipse plugin called <a href=\"https://github.com/ybakos/proclipsing\" rel=\"nofollow noreferrer\">Proclipsing</a> which made it easy to make PApplet based Java projects, integrate Processing libraries as well as export application. Hopefully it still works). It depends on your level of comfort with code, what IDE you already use and what your overall goal is. Hope this helps."},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":1,"creation_date":1676802826,"post_id":75466398,"comment_id":133207348,"body_markdown":"Thanks, you can forget the goal platform: it is not matter. The exported application can not be launched also on a windows PC. I think also that this is a bug in the processing IDE. Maybe I can repair it, but the fastest way is to pack all the compiled classes using Intellij IDEA artefacts in a jar file and append it to a clear processing project as the library. I don&#39;t need export to Eclipse.","body":"Thanks, you can forget the goal platform: it is not matter. The exported application can not be launched also on a windows PC. I think also that this is a bug in the processing IDE. Maybe I can repair it, but the fastest way is to pack all the compiled classes using Intellij IDEA artefacts in a jar file and append it to a clear processing project as the library. I don&#39;t need export to Eclipse."},{"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"score":0,"creation_date":1676802865,"post_id":75466398,"comment_id":133207354,"body_markdown":"... I create my projects from begin using Intellij IDEA and than export they in processing only for comfortable export for the goal platforms the customers without preinstalled jre - Windows, Raspbian OS 32 bit and Raspbian OS 64 bit.","body":"... I create my projects from begin using Intellij IDEA and than export they in processing only for comfortable export for the goal platforms the customers without preinstalled jre - Windows, Raspbian OS 32 bit and Raspbian OS 64 bit."},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1676930267,"post_id":75466398,"comment_id":133232795,"body_markdown":"Sounds like you&#39;ve got a solution there creating a .jar file for your classes :). Just to clarify, I didn&#39;t say you need Eclipse. The Proclipsing plugin makes it easy to export an app from that IDE. The idea was to check if there&#39;s a similar Intellij IDEA Processing plugin that can do the app export from there directly (without needing the Processing IDE just for the .exe export). I did a quick search and nothing came up, so someone would need to develop an IntelliJ IDEA Processing app exporter plugin to make this easier on the longer run. Pragmatically: you know your project, time and skills.","body":"Sounds like you&#39;ve got a solution there creating a .jar file for your classes :). Just to clarify, I didn&#39;t say you need Eclipse. The Proclipsing plugin makes it easy to export an app from that IDE. The idea was to check if there&#39;s a similar Intellij IDEA Processing plugin that can do the app export from there directly (without needing the Processing IDE just for the .exe export). I did a quick search and nothing came up, so someone would need to develop an IntelliJ IDEA Processing app exporter plugin to make this easier on the longer run. Pragmatically: you know your project, time and skills."}],"tags":[],"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676503813,"creation_date":1676503813,"answer_id":75466398,"question_id":75457454,"body_markdown":"There seems to be an issue/bug using `package` inside the Processing IDE.\r\n\r\nAs you hinted in your comments, if you could compile a .jar in your Java IDE of choice and use that in Processing that should work.\r\n\r\nFrom a pragmatic point of view, if you don&#39;t plan on fixing the Processing IDE to handle `package` as expected, you can simply not use it your code:\r\n\r\n```java\r\nimport processing.core.PApplet;\r\n\r\npublic class Controller {\r\n   private PApplet engine;\r\n\r\n    public Controller(PApplet engine) {\r\n       this.engine = engine;\r\n    }\r\n   \r\n    public void render(){\r\n        engine.background(255,0,0);        \r\n    }\r\n}\r\nController controller;\r\n       \r\nvoid setup(){   \r\n  size(600,800,  JAVA2D);\r\n   background(0);\r\n   controller = new Controller(this);\r\n}\r\n\r\nvoid draw(){      \r\n  controller.render();        \r\n}\r\n```\r\n\r\nThis wouldn&#39;t be convenient on a larger project where you may want to write Java code in your preferred IDE but still be able to colaborate with others that use the Processing IDE alone.\r\n\r\nSince running in the Processing IDE works (e.g. dev/testing), but can&#39;t export a .exe for easy deployment, a workaround could be using the `processing-java` command. (If you add your Processing installation folder to the Windows `%PATH%` environment variable you should be able to type `processing-java` in a new Command Prompt window and see the help/usage guide).\r\n\r\nRunning `processing-java --sketch=path\\to\\YourSketchFolder --run` should run the sketch the same way the Processing IDE does (without actually having the IDE open). While this implies installing Processing and adding it to `%PATH%` on any new machine on one hand, on the other it saves you the time of having rebuild/repackage new .exe files for every single change. ","title":"Why the exported to desktop (.exe) processing app with java classes can not run properly? My another project was exported without problems","body":"<p>There seems to be an issue/bug using <code>package</code> inside the Processing IDE.</p>\n<p>As you hinted in your comments, if you could compile a .jar in your Java IDE of choice and use that in Processing that should work.</p>\n<p>From a pragmatic point of view, if you don't plan on fixing the Processing IDE to handle <code>package</code> as expected, you can simply not use it your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import processing.core.PApplet;\n\npublic class Controller {\n   private PApplet engine;\n\n    public Controller(PApplet engine) {\n       this.engine = engine;\n    }\n   \n    public void render(){\n        engine.background(255,0,0);        \n    }\n}\nController controller;\n       \nvoid setup(){   \n  size(600,800,  JAVA2D);\n   background(0);\n   controller = new Controller(this);\n}\n\nvoid draw(){      \n  controller.render();        \n}\n</code></pre>\n<p>This wouldn't be convenient on a larger project where you may want to write Java code in your preferred IDE but still be able to colaborate with others that use the Processing IDE alone.</p>\n<p>Since running in the Processing IDE works (e.g. dev/testing), but can't export a .exe for easy deployment, a workaround could be using the <code>processing-java</code> command. (If you add your Processing installation folder to the Windows <code>%PATH%</code> environment variable you should be able to type <code>processing-java</code> in a new Command Prompt window and see the help/usage guide).</p>\n<p>Running <code>processing-java --sketch=path\\to\\YourSketchFolder --run</code> should run the sketch the same way the Processing IDE does (without actually having the IDE open). While this implies installing Processing and adding it to <code>%PATH%</code> on any new machine on one hand, on the other it saves you the time of having rebuild/repackage new .exe files for every single change.</p>\n"}],"owner":{"account_id":27664854,"reputation":153,"user_id":21116910,"display_name":"Alexander Gorodilov"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676503813,"creation_date":1676451766,"question_id":75457454,"body_markdown":"I try to export my processing app as the &quot;ready to use&quot; application with exe launch file for desktop.\r\nMy code is pretty simple. Proccessing code:\r\n\r\n\r\n```\r\n//import io.itch.mgdsstudio.airfight.connecteddevices.*;\r\nprivate io.itch.mgdsstudio.airfight.connecteddevices.Controller controller;   \r\n       \r\nvoid setup(){   \r\n  size(600,800,  JAVA2D);\r\n   background(0);\r\n   //I think the next code line can not be launched after export. Background stays black\r\n   controller = new io.itch.mgdsstudio.airfight.connecteddevices.Controller(this);\r\n}\r\n\r\nvoid draw(){      \r\n  controller.render();        \r\n}\r\n```\r\nand the java-class:\r\n\r\n\r\n```\r\npackage io.itch.mgdsstudio.airfight.connecteddevices;\r\nimport processing.core.PApplet;\r\n\r\npublic class Controller {\r\n   private PApplet engine;\r\n\r\n    public Controller(PApplet engine) {\r\n       this.engine = engine;\r\n    }\r\n   \r\n    public void render(){\r\n        engine.background(255,0,0);        \r\n    }\r\n}\r\n```\r\n\r\nThe application runs perfect from processing ide - the screen is red. But after export it can not run properly. The screen is black. I tested processing 3 and 4. In january I exported an another application succesfully. But now I can not launch exported file. I think the trouble is in versions of the java source files.\r\n\r\nI tried to change code so:\r\n\r\n\r\n```\r\nimport io.itch.mgdsstudio.airfight.connecteddevices.Controller;\r\nprivate Controller controller;   \r\n\r\nvoid setup(){   \r\n  size(600,800,  JAVA2D);\r\n   background(0);   \r\n   controller = new Controller(this);\r\n}\r\n\r\nvoid draw(){      \r\n  controller.render();        \r\n}\r\n```\r\n\r\nI receive the message in the console:\r\n*No library found for io.itch.mgdsstudio.airfight.connecteddevices*\r\nbut it runs in the ide. But after export it can not run properly again. Maybe i need another package names?","title":"Why the exported to desktop (.exe) processing app with java classes can not run properly? My another project was exported without problems","body":"<p>I try to export my processing app as the &quot;ready to use&quot; application with exe launch file for desktop.\nMy code is pretty simple. Proccessing code:</p>\n<pre><code>//import io.itch.mgdsstudio.airfight.connecteddevices.*;\nprivate io.itch.mgdsstudio.airfight.connecteddevices.Controller controller;   \n       \nvoid setup(){   \n  size(600,800,  JAVA2D);\n   background(0);\n   //I think the next code line can not be launched after export. Background stays black\n   controller = new io.itch.mgdsstudio.airfight.connecteddevices.Controller(this);\n}\n\nvoid draw(){      \n  controller.render();        \n}\n</code></pre>\n<p>and the java-class:</p>\n<pre><code>package io.itch.mgdsstudio.airfight.connecteddevices;\nimport processing.core.PApplet;\n\npublic class Controller {\n   private PApplet engine;\n\n    public Controller(PApplet engine) {\n       this.engine = engine;\n    }\n   \n    public void render(){\n        engine.background(255,0,0);        \n    }\n}\n</code></pre>\n<p>The application runs perfect from processing ide - the screen is red. But after export it can not run properly. The screen is black. I tested processing 3 and 4. In january I exported an another application succesfully. But now I can not launch exported file. I think the trouble is in versions of the java source files.</p>\n<p>I tried to change code so:</p>\n<pre><code>import io.itch.mgdsstudio.airfight.connecteddevices.Controller;\nprivate Controller controller;   \n\nvoid setup(){   \n  size(600,800,  JAVA2D);\n   background(0);   \n   controller = new Controller(this);\n}\n\nvoid draw(){      \n  controller.render();        \n}\n</code></pre>\n<p>I receive the message in the console:\n<em>No library found for io.itch.mgdsstudio.airfight.connecteddevices</em>\nbut it runs in the ide. But after export it can not run properly again. Maybe i need another package names?</p>\n"},{"tags":["java","amazon-s3","download","java-web-start"],"comments":[{"owner":{"account_id":2602193,"reputation":4692,"user_id":2254262,"accept_rate":44,"display_name":"Ravi Bhandari"},"score":0,"creation_date":1417844709,"post_id":6903255,"comment_id":43116064,"body_markdown":"i have to do thing and try your code but jar not found can you please suggest which jar to use.Currently i am using aws-android-sdk-2.1.5-s3.jar jar but not found all th classes.","body":"i have to do thing and try your code but jar not found can you please suggest which jar to use.Currently i am using aws-android-sdk-2.1.5-s3.jar jar but not found all th classes."},{"owner":{"account_id":2602193,"reputation":4692,"user_id":2254262,"accept_rate":44,"display_name":"Ravi Bhandari"},"score":0,"creation_date":1417848902,"post_id":6903255,"comment_id":43116794,"body_markdown":"do you have any idea how to upload file to amazon.I am using your code to download file and it is working perfectly.","body":"do you have any idea how to upload file to amazon.I am using your code to download file and it is working perfectly."}],"answers":[{"comments":[{"owner":{"account_id":1050968,"reputation":1138,"user_id":1054925,"accept_rate":64,"display_name":"R-JANA"},"score":1,"creation_date":1589723069,"post_id":6904468,"comment_id":109400263,"body_markdown":"This works.. Programs listed by aws documentation does not work.This worked very well. Thank you for posting","body":"This works.. Programs listed by aws documentation does not work.This worked very well. Thank you for posting"}],"tags":[],"owner":{"account_id":111110,"reputation":40021,"user_id":293686,"accept_rate":89,"display_name":"Maur&#237;cio Linhares"},"comment_count":1,"down_vote_count":0,"up_vote_count":47,"is_accepted":true,"score":47,"last_activity_date":1546961775,"creation_date":1312232811,"answer_id":6904468,"question_id":6903255,"body_markdown":"Instead of `Reader` and `Writer` classes you should be using `InputStream` and `OutputStream` classes:\r\n\r\n    InputStream reader = new BufferedInputStream(\r\n       object.getObjectContent());\r\n    File file = new File(&quot;localFilename&quot;);      \r\n    OutputStream writer = new BufferedOutputStream(new FileOutputStream(file));\r\n\r\n    int read = -1;\r\n\r\n    while ( ( read = reader.read() ) != -1 ) {\r\n        writer.write(read);\r\n    }\r\n\r\n    writer.flush();\r\n    writer.close();\r\n    reader.close();","title":"Download file help for AWS S3 Java SDK","body":"<p>Instead of <code>Reader</code> and <code>Writer</code> classes you should be using <code>InputStream</code> and <code>OutputStream</code> classes:</p>\n\n<pre><code>InputStream reader = new BufferedInputStream(\n   object.getObjectContent());\nFile file = new File(\"localFilename\");      \nOutputStream writer = new BufferedOutputStream(new FileOutputStream(file));\n\nint read = -1;\n\nwhile ( ( read = reader.read() ) != -1 ) {\n    writer.write(read);\n}\n\nwriter.flush();\nwriter.close();\nreader.close();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":66339,"reputation":12332,"user_id":194674,"accept_rate":80,"display_name":"dvs"},"score":4,"creation_date":1354821999,"post_id":12176439,"comment_id":18898129,"body_markdown":"Needs a minor edit: The object contents are saved to the file, but the returned object is `ObjectMetadata`, not `S3Object`. See http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject%28com.amazonaws.services.s3.model.GetObjectRequest,%20java.io.File%29","body":"Needs a minor edit: The object contents are saved to the file, but the returned object is <code>ObjectMetadata</code>, not <code>S3Object</code>. See <a href=\"http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject%28com.amazonaws.services.s3.model.GetObjectRequest,%20java.io.File%29\" rel=\"nofollow noreferrer\">docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/&hellip;</a>"},{"owner":{"account_id":50590,"reputation":3372,"user_id":150992,"accept_rate":69,"display_name":"Eyal"},"score":1,"creation_date":1354827721,"post_id":12176439,"comment_id":18900600,"body_markdown":"@azdev Actually, the code sample uses [a different version of getObject](http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject(java.lang.String,%20java.lang.String)) which does return a S3Object.","body":"@azdev Actually, the code sample uses <a href=\"http://docs.amazonwebservices.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject(java.lang.String,%20java.lang.String)\" rel=\"nofollow noreferrer\">a different version of getObject</a> which does return a S3Object."},{"owner":{"account_id":1603176,"reputation":753,"user_id":1483823,"accept_rate":59,"display_name":"Shikha Shah"},"score":0,"creation_date":1366821721,"post_id":12176439,"comment_id":23159046,"body_markdown":"How come I cannot see the S3Client.getObject method in my code?..I want to achieve the same but there is no such method associated to my s3Client object.Am i missing something?","body":"How come I cannot see the S3Client.getObject method in my code?..I want to achieve the same but there is no such method associated to my s3Client object.Am i missing something?"},{"owner":{"account_id":50590,"reputation":3372,"user_id":150992,"accept_rate":69,"display_name":"Eyal"},"score":0,"creation_date":1366837349,"post_id":12176439,"comment_id":23167219,"body_markdown":"@ShikhaShah The getObject method which returns a S3Object is from the [AmazonS3 interface](http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#getObject%28com.amazonaws.services.s3.model.GetObjectRequest%29) which is implemented by [AmazonS3Client](http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject%28com.amazonaws.services.s3.model.GetObjectRequest,%20java.io.File%29). Perhaps your IDE doesn&#39;t show the methods inherited from the interface?","body":"@ShikhaShah The getObject method which returns a S3Object is from the <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3.html#getObject%28com.amazonaws.services.s3.model.GetObjectRequest%29\" rel=\"nofollow noreferrer\">AmazonS3 interface</a> which is implemented by <a href=\"http://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/AmazonS3Client.html#getObject%28com.amazonaws.services.s3.model.GetObjectRequest,%20java.io.File%29\" rel=\"nofollow noreferrer\">AmazonS3Client</a>. Perhaps your IDE doesn&#39;t show the methods inherited from the interface?"},{"owner":{"account_id":1603176,"reputation":753,"user_id":1483823,"accept_rate":59,"display_name":"Shikha Shah"},"score":0,"creation_date":1366925450,"post_id":12176439,"comment_id":23206679,"body_markdown":"But I am able to download the file and save it via AmazonS3Client only...but cant see this particular method which expedite the saving process..m still confused!!","body":"But I am able to download the file and save it via AmazonS3Client only...but cant see this particular method which expedite the saving process..m still confused!!"},{"owner":{"account_id":50590,"reputation":3372,"user_id":150992,"accept_rate":69,"display_name":"Eyal"},"score":0,"creation_date":1366962616,"post_id":12176439,"comment_id":23217564,"body_markdown":"What version of the SDK are you using? I have a Maven dependency to aws-java-sdk, version 1.3.12.","body":"What version of the SDK are you using? I have a Maven dependency to aws-java-sdk, version 1.3.12."}],"tags":[],"owner":{"account_id":50590,"reputation":3372,"user_id":150992,"accept_rate":69,"display_name":"Eyal"},"comment_count":6,"down_vote_count":0,"up_vote_count":70,"is_accepted":false,"score":70,"last_activity_date":1546961731,"creation_date":1346238062,"answer_id":12176439,"question_id":6903255,"body_markdown":"Though the code written in Mauricio&#39;s answer will work - and his point about streams is of course correct - Amazon offers a quicker way to save files in their SDK. I don&#39;t know if it wasn&#39;t available in 2011 or not, but it is now.\r\n\r\n    AmazonS3Client s3Client = new AmazonS3Client(myCredentials);\r\n    \r\n    File localFile = new File(&quot;localFilename&quot;);\r\n    \r\n    ObjectMetadata object = s3Client.getObject(new GetObjectRequest(&quot;bucket&quot;, &quot;s3FileName&quot;), localFile);\r\n\r\n","title":"Download file help for AWS S3 Java SDK","body":"<p>Though the code written in Mauricio's answer will work - and his point about streams is of course correct - Amazon offers a quicker way to save files in their SDK. I don't know if it wasn't available in 2011 or not, but it is now.</p>\n\n<pre><code>AmazonS3Client s3Client = new AmazonS3Client(myCredentials);\n\nFile localFile = new File(\"localFilename\");\n\nObjectMetadata object = s3Client.getObject(new GetObjectRequest(\"bucket\", \"s3FileName\"), localFile);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2449278,"reputation":1114,"user_id":2135922,"accept_rate":0,"display_name":"Teraiya Mayur"},"score":0,"creation_date":1430129479,"post_id":21215177,"comment_id":47908667,"body_markdown":"what you have used for id.getId()) ?","body":"what you have used for id.getId()) ?"},{"owner":{"account_id":11013,"reputation":12295,"user_id":21063,"accept_rate":47,"display_name":"Shawn Vader"},"score":0,"creation_date":1430133103,"post_id":21215177,"comment_id":47911107,"body_markdown":"The id.getId()  is the key you used to store the object in the bucket. I just use my id for the key as I know its unique. To summarise, you create an empty file, do a getRequest telling the aws api where the new empty file is and the aws api handles writing the object to the file you specified. So convenient.","body":"The id.getId()  is the key you used to store the object in the bucket. I just use my id for the key as I know its unique. To summarise, you create an empty file, do a getRequest telling the aws api where the new empty file is and the aws api handles writing the object to the file you specified. So convenient."},{"owner":{"account_id":2108977,"reputation":4151,"user_id":1874627,"display_name":"saurabheights"},"score":0,"creation_date":1465394058,"post_id":21215177,"comment_id":62882983,"body_markdown":"@ShawnVader : Please can you clear why you are validating file. I though S3 api does a hash check. Thank you.","body":"@ShawnVader : Please can you clear why you are validating file. I though S3 api does a hash check. Thank you."},{"owner":{"account_id":11013,"reputation":12295,"user_id":21063,"accept_rate":47,"display_name":"Shawn Vader"},"score":1,"creation_date":1465486248,"post_id":21215177,"comment_id":62931763,"body_markdown":"@saurabheights You are right the above example of checking the file may return incorrect results as it is acceptable for the localFile in the above case to exist. Perhaps a better way is to ensure that the ObjectMetadata which returns is not null. Docs say &gt; Returns  All S3 object metadata for the specified object. Returns null if constraints were specified but not met. So if it has metadata then you can be confident that it&#39;s valid content in the file because looking through the AWS source I can see it validates the file integrity and will retry once before failing.","body":"@saurabheights You are right the above example of checking the file may return incorrect results as it is acceptable for the localFile in the above case to exist. Perhaps a better way is to ensure that the ObjectMetadata which returns is not null. Docs say &gt; Returns  All S3 object metadata for the specified object. Returns null if constraints were specified but not met. So if it has metadata then you can be confident that it&#39;s valid content in the file because looking through the AWS source I can see it validates the file integrity and will retry once before failing."},{"owner":{"account_id":2108977,"reputation":4151,"user_id":1874627,"display_name":"saurabheights"},"score":0,"creation_date":1465555710,"post_id":21215177,"comment_id":62962283,"body_markdown":"@ShawnVader: Edited the answer, please can you review it once it is peer reviewed.","body":"@ShawnVader: Edited the answer, please can you review it once it is peer reviewed."}],"tags":[],"owner":{"account_id":11013,"reputation":12295,"user_id":21063,"accept_rate":47,"display_name":"Shawn Vader"},"comment_count":5,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1390124525,"creation_date":1390124525,"answer_id":21215177,"question_id":6903255,"body_markdown":"Eyals answer gets you half way there but its not all that clear so I will clarify. \r\n\r\n    AmazonS3Client s3Client = new AmazonS3Client(myCredentials);\r\n    \r\n    //This is where the downloaded file will be saved\r\n    File localFile = new File(&quot;localFilename&quot;);\r\n\r\n    //This returns an ObjectMetadata file but you don&#39;t have to use this if you don&#39;t want \r\n    s3Client.getObject(new GetObjectRequest(bucketName, id.getId()), localFile);\r\n\r\n    //Now your file will have your image saved \r\n    boolean success = localFile.exists() &amp;&amp; localFile.canRead(); ","title":"Download file help for AWS S3 Java SDK","body":"<p>Eyals answer gets you half way there but its not all that clear so I will clarify. </p>\n\n<pre><code>AmazonS3Client s3Client = new AmazonS3Client(myCredentials);\n\n//This is where the downloaded file will be saved\nFile localFile = new File(\"localFilename\");\n\n//This returns an ObjectMetadata file but you don't have to use this if you don't want \ns3Client.getObject(new GetObjectRequest(bucketName, id.getId()), localFile);\n\n//Now your file will have your image saved \nboolean success = localFile.exists() &amp;&amp; localFile.canRead(); \n</code></pre>\n"},{"comments":[{"owner":{"account_id":1797791,"reputation":946,"user_id":1636825,"accept_rate":5,"display_name":"Kramer"},"score":0,"creation_date":1628615902,"post_id":53002560,"comment_id":121466933,"body_markdown":"Where does inputStream come from? I think you mean either s3Object.close or s3Object.getObjectContent.close(). Regardless, nio is a good suggestion.","body":"Where does inputStream come from? I think you mean either s3Object.close or s3Object.getObjectContent.close(). Regardless, nio is a good suggestion."}],"tags":[],"owner":{"account_id":7460660,"reputation":2741,"user_id":5672261,"accept_rate":72,"display_name":"Nitin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629355602,"creation_date":1540534671,"answer_id":53002560,"question_id":6903255,"body_markdown":"Use `java.nio.file.Files` to copy `S3Object` to local file.\r\n\r\n    public File getFile(String fileName) throws Exception {\r\n    \tif (StringUtils.isEmpty(fileName)) {\r\n    \t\tthrow new Exception(&quot;file name can not be empty&quot;);\r\n    \t}\r\n    \tS3Object s3Object = amazonS3.getObject(&quot;bucketname&quot;, fileName);\r\n    \tif (s3Object == null) {\r\n    \t\tthrow new Exception(&quot;Object not found&quot;);\r\n    \t}\r\n    \tFile file = new File(&quot;you file path&quot;);\r\n    \tFiles.copy(s3Object.getObjectContent(), file.toPath());\r\n    \treturn file;\r\n    }","title":"Download file help for AWS S3 Java SDK","body":"<p>Use <code>java.nio.file.Files</code> to copy <code>S3Object</code> to local file.</p>\n<pre><code>public File getFile(String fileName) throws Exception {\n    if (StringUtils.isEmpty(fileName)) {\n        throw new Exception(&quot;file name can not be empty&quot;);\n    }\n    S3Object s3Object = amazonS3.getObject(&quot;bucketname&quot;, fileName);\n    if (s3Object == null) {\n        throw new Exception(&quot;Object not found&quot;);\n    }\n    File file = new File(&quot;you file path&quot;);\n    Files.copy(s3Object.getObjectContent(), file.toPath());\n    return file;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15123523,"reputation":49,"user_id":10913634,"display_name":"user10913634"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1547493948,"creation_date":1547493948,"answer_id":54187917,"question_id":6903255,"body_markdown":"There is even much simpler way to get this. I used below snippet. Got reference from [http://docs.ceph.com/docs/mimic/radosgw/s3/java/][1]\r\n\r\n    AmazonS3 s3client = AmazonS3ClientBuilder.standard()\r\n    \t\t\t\t.withCredentials(new AWSStaticCredentialsProvider(credentials)).withRegion(Regions.US_EAST_1).build();\r\n    \r\n    s3client.getObject(\r\n    \t\t        new GetObjectRequest(&quot;nomad-prop-pics&quot;, &quot;Documents/1.pdf&quot;),\r\n    \t\t        new File(&quot;D:\\\\Eka-Contract-Physicals-Dev\\\\Contracts-Physicals\\\\utility-service\\\\downlods\\\\1.pdf&quot;)\r\n\t\t);\r\n\r\n\r\n  [1]: http://docs.ceph.com/docs/mimic/radosgw/s3/java/","title":"Download file help for AWS S3 Java SDK","body":"<p>There is even much simpler way to get this. I used below snippet. Got reference from <a href=\"http://docs.ceph.com/docs/mimic/radosgw/s3/java/\" rel=\"nofollow noreferrer\">http://docs.ceph.com/docs/mimic/radosgw/s3/java/</a></p>\n\n<pre><code>AmazonS3 s3client = AmazonS3ClientBuilder.standard()\n                .withCredentials(new AWSStaticCredentialsProvider(credentials)).withRegion(Regions.US_EAST_1).build();\n\ns3client.getObject(\n                new GetObjectRequest(\"nomad-prop-pics\", \"Documents/1.pdf\"),\n                new File(\"D:\\\\Eka-Contract-Physicals-Dev\\\\Contracts-Physicals\\\\utility-service\\\\downlods\\\\1.pdf\")\n    );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19669126,"reputation":1,"user_id":14398724,"display_name":"Sahil Gaikwad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645431230,"creation_date":1645431230,"answer_id":71203060,"question_id":6903255,"body_markdown":"**Dependencies AWS S3 bucket**\r\n\r\n    implementation &quot;commons-logging:commons-logging-api:1.1&quot;\r\n    implementation platform(&#39;com.amazonaws:aws-java-sdk-bom:1.11.1000&#39;)\r\n    implementation &#39;com.amazonaws:aws-android-sdk-core:2.6.0&#39;\r\n    implementation &#39;com.amazonaws:aws-android-sdk-cognito:2.2.0&#39;\r\n    implementation &#39;com.amazonaws:aws-android-sdk-s3:2.6.0&#39;\r\n\r\n**Download object from S3 bucket and store in local storage.** \r\n\r\n\r\n    try {\r\n                    //Creating credentials\r\n                    AWSCredentials awsCredentials = new BasicAWSCredentials(AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY);\r\n    \r\n                    //Creating S3\r\n                    AmazonS3Client s3Client = new AmazonS3Client(awsCredentials);\r\n    \r\n                    //Creating file path\r\n                    File dir = new File(this.getExternalFilesDir(&quot;AWS&quot;),&quot;FolderName&quot;);\r\n                    if(!dir.exists()){\r\n                        dir.mkdir();\r\n                    }\r\n    \r\n                    //Object Key\r\n                    String bucketName = &quot;*** Bucket Name ***&quot;;\r\n                    String objKey = &quot;*** Object Key ***&quot;;\r\n                    \r\n                    //Get File Name from Object key\r\n                    String  name = objKey.substring(objKey.lastIndexOf(&#39;/&#39;) + 1);\r\n    \r\n                    //Storing file S3 object in file path\r\n                    InputStream in = s3Client.getObject(new GetObjectRequest(bucketName, objKey)).getObjectContent();\r\n                    Files.copy(in,Paths.get(dir.getAbsolutePath()+&quot;/&quot;+name));\r\n                    in.close();\r\n    \r\n                } catch (Exception e) {\r\n                    Log.e(&quot;TAG&quot;, &quot;onCreate: &quot; + e);\r\n                }\r\n\r\n**Get List of Object from S3 Bucket**\r\n\r\n \r\n\r\n    public void getListOfObject()\r\n        {\r\n            ListObjectsV2Result result ;\r\n            AWSCredentials awsCredentials = new BasicAWSCredentials(AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY);\r\n            AmazonS3Client s3Client = new AmazonS3Client(awsCredentials);\r\n            result = s3Client.listObjectsV2(AWS_BUCKET);\r\n            for( S3ObjectSummary s3ObjectSummary : result.getObjectSummaries())\r\n            {\r\n                Log.e(&quot;TAG&quot;, &quot;onCreate: &quot;+s3ObjectSummary.getKey() );\r\n            }\r\n        }\r\n\r\n\r\n**Check if any object exists in bucket or not**\r\n\r\n  \r\n\r\n    public String isObjectAvailable(String object_key)\r\n        {\r\n    \r\n            try {\r\n                AWSCredentials awsCredentials = new BasicAWSCredentials(AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY);\r\n                AmazonS3 s3 = new AmazonS3Client(awsCredentials);\r\n                String bucketName = AWS_BUCKET;\r\n                S3Object object = s3.getObject(bucketName, object_key);\r\n                Log.e(&quot;TAG&quot;, &quot;isObjectAvailable: &quot;+object.getKey()+&quot;,&quot;+object.getBucketName() );\r\n            } catch (AmazonServiceException e) {\r\n                String errorCode = e.getErrorCode();\r\n                if (!errorCode.equals(&quot;NoSuchKey&quot;)) {\r\n                   // throw e;\r\n                    Log.e(&quot;TAG&quot;, &quot;isObjectAvailable: &quot;+e );\r\n                }\r\n    \r\n                return &quot;no such key&quot;;\r\n            }\r\n            return &quot;null&quot;;\r\n        }","title":"Download file help for AWS S3 Java SDK","body":"<p><strong>Dependencies AWS S3 bucket</strong></p>\n<pre><code>implementation &quot;commons-logging:commons-logging-api:1.1&quot;\nimplementation platform('com.amazonaws:aws-java-sdk-bom:1.11.1000')\nimplementation 'com.amazonaws:aws-android-sdk-core:2.6.0'\nimplementation 'com.amazonaws:aws-android-sdk-cognito:2.2.0'\nimplementation 'com.amazonaws:aws-android-sdk-s3:2.6.0'\n</code></pre>\n<p><strong>Download object from S3 bucket and store in local storage.</strong></p>\n<pre><code>try {\n                //Creating credentials\n                AWSCredentials awsCredentials = new BasicAWSCredentials(AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY);\n\n                //Creating S3\n                AmazonS3Client s3Client = new AmazonS3Client(awsCredentials);\n\n                //Creating file path\n                File dir = new File(this.getExternalFilesDir(&quot;AWS&quot;),&quot;FolderName&quot;);\n                if(!dir.exists()){\n                    dir.mkdir();\n                }\n\n                //Object Key\n                String bucketName = &quot;*** Bucket Name ***&quot;;\n                String objKey = &quot;*** Object Key ***&quot;;\n                \n                //Get File Name from Object key\n                String  name = objKey.substring(objKey.lastIndexOf('/') + 1);\n\n                //Storing file S3 object in file path\n                InputStream in = s3Client.getObject(new GetObjectRequest(bucketName, objKey)).getObjectContent();\n                Files.copy(in,Paths.get(dir.getAbsolutePath()+&quot;/&quot;+name));\n                in.close();\n\n            } catch (Exception e) {\n                Log.e(&quot;TAG&quot;, &quot;onCreate: &quot; + e);\n            }\n</code></pre>\n<p><strong>Get List of Object from S3 Bucket</strong></p>\n<pre><code>public void getListOfObject()\n    {\n        ListObjectsV2Result result ;\n        AWSCredentials awsCredentials = new BasicAWSCredentials(AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY);\n        AmazonS3Client s3Client = new AmazonS3Client(awsCredentials);\n        result = s3Client.listObjectsV2(AWS_BUCKET);\n        for( S3ObjectSummary s3ObjectSummary : result.getObjectSummaries())\n        {\n            Log.e(&quot;TAG&quot;, &quot;onCreate: &quot;+s3ObjectSummary.getKey() );\n        }\n    }\n</code></pre>\n<p><strong>Check if any object exists in bucket or not</strong></p>\n<pre><code>public String isObjectAvailable(String object_key)\n    {\n\n        try {\n            AWSCredentials awsCredentials = new BasicAWSCredentials(AWS_ACCESS_KEY_ID, AWS_SECRET_ACCESS_KEY);\n            AmazonS3 s3 = new AmazonS3Client(awsCredentials);\n            String bucketName = AWS_BUCKET;\n            S3Object object = s3.getObject(bucketName, object_key);\n            Log.e(&quot;TAG&quot;, &quot;isObjectAvailable: &quot;+object.getKey()+&quot;,&quot;+object.getBucketName() );\n        } catch (AmazonServiceException e) {\n            String errorCode = e.getErrorCode();\n            if (!errorCode.equals(&quot;NoSuchKey&quot;)) {\n               // throw e;\n                Log.e(&quot;TAG&quot;, &quot;isObjectAvailable: &quot;+e );\n            }\n\n            return &quot;no such key&quot;;\n        }\n        return &quot;null&quot;;\n    }\n</code></pre>\n"}],"owner":{"display_name":"user375566"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89989,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":6904468,"answer_count":6,"score":45,"last_activity_date":1676503664,"creation_date":1312226418,"question_id":6903255,"body_markdown":"The code below only works for downloading text files from a bucket in S3.  This does not work for an image.  Is there an easier way to manage downloads/types using the AWS SDK?  The example included in the documentation does not make it apparent.\r\n\r\n    AWSCredentials myCredentials = new BasicAWSCredentials(\r\n           String.valueOf(Constants.act), String.valueOf(Constants.sk)); \r\n    AmazonS3Client s3Client = new AmazonS3Client(myCredentials); \t\t\r\n    S3Object object = s3Client.getObject(new GetObjectRequest(&quot;bucket&quot;, &quot;file&quot;));\r\n        \r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(\r\n           object.getObjectContent()));\r\n    File file = new File(&quot;localFilename&quot;); \t\t\r\n    Writer writer = new OutputStreamWriter(new FileOutputStream(file));\r\n        \r\n    while (true) { \t\t\t\r\n         String line = reader.readLine(); \t\t\t\r\n         if (line == null)\r\n              break; \t\t\t\r\n         \r\n         writer.write(line + &quot;\\n&quot;);\r\n    }\r\n        \r\n    writer.close();","title":"Download file help for AWS S3 Java SDK","body":"<p>The code below only works for downloading text files from a bucket in S3.  This does not work for an image.  Is there an easier way to manage downloads/types using the AWS SDK?  The example included in the documentation does not make it apparent.</p>\n<pre><code>AWSCredentials myCredentials = new BasicAWSCredentials(\n       String.valueOf(Constants.act), String.valueOf(Constants.sk)); \nAmazonS3Client s3Client = new AmazonS3Client(myCredentials);        \nS3Object object = s3Client.getObject(new GetObjectRequest(&quot;bucket&quot;, &quot;file&quot;));\n    \nBufferedReader reader = new BufferedReader(new InputStreamReader(\n       object.getObjectContent()));\nFile file = new File(&quot;localFilename&quot;);      \nWriter writer = new OutputStreamWriter(new FileOutputStream(file));\n    \nwhile (true) {          \n     String line = reader.readLine();           \n     if (line == null)\n          break;            \n     \n     writer.write(line + &quot;\\n&quot;);\n}\n    \nwriter.close();\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1676502768,"post_id":75464527,"comment_id":133152344,"body_markdown":"Check https://stackoverflow.com/a/3097052/9068895","body":"Check <a href=\"https://stackoverflow.com/a/3097052/9068895\">stackoverflow.com/a/3097052/9068895</a>"},{"owner":{"account_id":2777562,"reputation":115,"user_id":2390827,"accept_rate":60,"display_name":"user2390827"},"score":0,"creation_date":1676538826,"post_id":75464527,"comment_id":133158179,"body_markdown":"@Alex my question is why am getting two cache-control headers, even if i added only one","body":"@Alex my question is why am getting two cache-control headers, even if i added only one"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1676564676,"post_id":75464527,"comment_id":133166524,"body_markdown":"Doesn&#39;t look like spring logic until you have some special global handlers. Checked in our environment and single header is returned in curl, Safari, Chrome","body":"Doesn&#39;t look like spring logic until you have some special global handlers. Checked in our environment and single header is returned in curl, Safari, Chrome"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1692876276,"post_id":75464527,"comment_id":135684910,"body_markdown":"Does this appear in your local testing environment or on a &quot;real&quot; server? An intermediate proxy server or container configuration etc. could add a header to the request without checking that you already have one set for Cache-Control.","body":"Does this appear in your local testing environment or on a &quot;real&quot; server? An intermediate proxy server or container configuration etc. could add a header to the request without checking that you already have one set for Cache-Control."}],"owner":{"account_id":2777562,"reputation":115,"user_id":2390827,"accept_rate":60,"display_name":"user2390827"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676502720,"creation_date":1676488748,"question_id":75464527,"body_markdown":"I am not so good in Java + Spring, but I&#39;d like to add Cache-Control header to my ResponseEntity.\r\n\r\n    @RequestMapping(value = &quot;/data/{id}&quot;, method = GET&quot;)\r\n    public ResponseEntity&lt;String&gt; getData(@PathVariable(&quot;id&quot;) String id) {\r\n        try {\r\n                ...\r\n                HttpHeaders headers = new HttpHeaders();\r\n                headers.setCacheControl(&quot;max-age=600, public&quot;);\r\n    \r\n                return new ResponseEntity&lt;String&gt;(body, headers, HttpStatus.OK);\r\n            }\r\n    }\r\n\r\nI added two lines of code for HttpHeaders and now I get two Cache-Control headers in my response:\r\n\r\none with public and another with private. why?","title":"Multiple cache-control headers in response","body":"<p>I am not so good in Java + Spring, but I'd like to add Cache-Control header to my ResponseEntity.</p>\n<pre><code>@RequestMapping(value = &quot;/data/{id}&quot;, method = GET&quot;)\npublic ResponseEntity&lt;String&gt; getData(@PathVariable(&quot;id&quot;) String id) {\n    try {\n            ...\n            HttpHeaders headers = new HttpHeaders();\n            headers.setCacheControl(&quot;max-age=600, public&quot;);\n\n            return new ResponseEntity&lt;String&gt;(body, headers, HttpStatus.OK);\n        }\n}\n</code></pre>\n<p>I added two lines of code for HttpHeaders and now I get two Cache-Control headers in my response:</p>\n<p>one with public and another with private. why?</p>\n"},{"tags":["java","xpath"],"comments":[{"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"score":0,"creation_date":1676506511,"post_id":75465054,"comment_id":133152912,"body_markdown":"By the way, there are many Java libraries which include a class named &quot;XPathUtils&quot; or &quot;XpathUtils&quot;, so it&#39;s a good idea to be clear as to which you are using, ideally by including full Java source code (which would show the `import` statement for the `XPathUtils` class showing what package it belongs to). But in this case it doesn&#39;t matter since the problem has a solution in XPath itself (see my answer below).","body":"By the way, there are many Java libraries which include a class named &quot;XPathUtils&quot; or &quot;XpathUtils&quot;, so it&#39;s a good idea to be clear as to which you are using, ideally by including full Java source code (which would show the <code>import</code> statement for the <code>XPathUtils</code> class showing what package it belongs to). But in this case it doesn&#39;t matter since the problem has a solution in XPath itself (see my answer below)."}],"answers":[{"tags":[],"owner":{"account_id":226259,"reputation":2571,"user_id":7372462,"display_name":"Conal Tuohy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676501132,"creation_date":1676501132,"answer_id":75466122,"question_id":75465054,"body_markdown":"Use an XPath &quot;predicate&quot; (a boolean expression enclosed in square brackets) to filter the set of `Resource` elements, and then return the `keyValue` child elements from that filtered set. e.g.\r\n\r\n```\r\nResourceList/Resource[isValid=&#39;1&#39;]/keyValue\r\n```\r\n\r\nSee https://www.w3.org/TR/1999/REC-xpath-19991116/#predicates\r\n\r\n","title":"Filter using xPathUtils.compile() on select","body":"<p>Use an XPath &quot;predicate&quot; (a boolean expression enclosed in square brackets) to filter the set of <code>Resource</code> elements, and then return the <code>keyValue</code> child elements from that filtered set. e.g.</p>\n<pre><code>ResourceList/Resource[isValid='1']/keyValue\n</code></pre>\n<p>See <a href=\"https://www.w3.org/TR/1999/REC-xpath-19991116/#predicates\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/1999/REC-xpath-19991116/#predicates</a></p>\n"}],"owner":{"account_id":25692576,"reputation":13,"user_id":19453793,"display_name":"Jack Sparrow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75466122,"answer_count":1,"score":0,"last_activity_date":1676501132,"creation_date":1676492234,"question_id":75465054,"body_markdown":"I am parsing a hdom object which is a list of resources returned. They are of the format\r\nThe Sample XML is as follows \r\n```\r\n&lt;ResourceList&gt;     \r\n    &lt;Resource&gt;\r\n        &lt;isValid&gt;0&lt;/isValid&gt;\r\n        &lt;keyValue&gt;ABC&lt;/keyValue&gt;\r\n    &lt;/Resource&gt;     \r\n    &lt;Resource&gt; \r\n        &lt;isValid&gt;0&lt;/isValid&gt;    \r\n        &lt;keyValue&gt;PQR&lt;/keyValue&gt;  \r\n    &lt;/Resource&gt;     \r\n    &lt;Resource&gt;\r\n        &lt;isValid&gt;1&lt;/isValid&gt;\r\n        &lt;keyValue&gt;XYZ&lt;/keyValue&gt;\r\n     &lt;/Resource&gt;\r\n&lt;/ResourceList&gt; \r\n```\r\nWhen I use the following filter, it correctly returns `ABC` `XpathUtils.compile(&quot;ResourceList/Resource/keyValue&quot;).select(SampleXML) `\r\nHowever I want to filter on `isValid` flag `1` and return the key Value `XYZ`.\r\nHow do I apply the filter on XpathUtils function .compile, please?\r\n\r\nSorry if its too basic as I am somewhat new to java.\r\n\r\nTried setting up filters but seem to get null as an output","title":"Filter using xPathUtils.compile() on select","body":"<p>I am parsing a hdom object which is a list of resources returned. They are of the format\nThe Sample XML is as follows</p>\n<pre><code>&lt;ResourceList&gt;     \n    &lt;Resource&gt;\n        &lt;isValid&gt;0&lt;/isValid&gt;\n        &lt;keyValue&gt;ABC&lt;/keyValue&gt;\n    &lt;/Resource&gt;     \n    &lt;Resource&gt; \n        &lt;isValid&gt;0&lt;/isValid&gt;    \n        &lt;keyValue&gt;PQR&lt;/keyValue&gt;  \n    &lt;/Resource&gt;     \n    &lt;Resource&gt;\n        &lt;isValid&gt;1&lt;/isValid&gt;\n        &lt;keyValue&gt;XYZ&lt;/keyValue&gt;\n     &lt;/Resource&gt;\n&lt;/ResourceList&gt; \n</code></pre>\n<p>When I use the following filter, it correctly returns <code>ABC</code> <code>XpathUtils.compile(&quot;ResourceList/Resource/keyValue&quot;).select(SampleXML) </code>\nHowever I want to filter on <code>isValid</code> flag <code>1</code> and return the key Value <code>XYZ</code>.\nHow do I apply the filter on XpathUtils function .compile, please?</p>\n<p>Sorry if its too basic as I am somewhat new to java.</p>\n<p>Tried setting up filters but seem to get null as an output</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":9067171,"reputation":1177,"user_id":6751603,"accept_rate":100,"display_name":"JavaMan"},"score":0,"creation_date":1605895578,"post_id":64934547,"comment_id":114802448,"body_markdown":"watch this, then it will be clear to you https://www.youtube.com/watch?v=ZVJ7kpEMc7U","body":"watch this, then it will be clear to you <a href=\"https://www.youtube.com/watch?v=ZVJ7kpEMc7U\" rel=\"nofollow noreferrer\">youtube.com/watch?v=ZVJ7kpEMc7U</a>"},{"owner":{"account_id":19875747,"reputation":308,"user_id":14560780,"display_name":"i&#39;m a girl"},"score":0,"creation_date":1605895675,"post_id":64934547,"comment_id":114802495,"body_markdown":"im familiar with both data types","body":"im familiar with both data types"}],"answers":[{"comments":[{"owner":{"account_id":19875747,"reputation":308,"user_id":14560780,"display_name":"i&#39;m a girl"},"score":0,"creation_date":1605895717,"post_id":64934658,"comment_id":114802525,"body_markdown":"uh no? they are both out of bounds and will throw exceptions","body":"uh no? they are both out of bounds and will throw exceptions"},{"owner":{"account_id":16121496,"reputation":202,"user_id":11637379,"display_name":"jun"},"score":0,"creation_date":1605895864,"post_id":64934658,"comment_id":114802577,"body_markdown":"this answer is still relevant nonetheless. when declaring a 2D array, the first argument denotes the length of the row; the second the length of the column.\n\nAs such, you can think of ArrayList[5] as a 5x1 matrix, similar to how a 2D int matrix looks like when you declare int[5][1].","body":"this answer is still relevant nonetheless. when declaring a 2D array, the first argument denotes the length of the row; the second the length of the column.  As such, you can think of ArrayList[5] as a 5x1 matrix, similar to how a 2D int matrix looks like when you declare int[5][1]."},{"owner":{"account_id":19875747,"reputation":308,"user_id":14560780,"display_name":"i&#39;m a girl"},"score":0,"creation_date":1605896083,"post_id":64934658,"comment_id":114802681,"body_markdown":"yeah exactly, i was thinking that that is confusing because you would think new int[5][1] is more similar to new ArrayList[1] (populated with 5 elements) but it is not","body":"yeah exactly, i was thinking that that is confusing because you would think new int[5][1] is more similar to new ArrayList[1] (populated with 5 elements) but it is not"},{"owner":{"account_id":16121496,"reputation":202,"user_id":11637379,"display_name":"jun"},"score":0,"creation_date":1605896291,"post_id":64934658,"comment_id":114802785,"body_markdown":"I think you are confused because of the usage of an ArrayList as the Array element type. Fundamentally, it is the same regardless of what kind of data type you are storing in the array. I think you just need to remember this: whenever you&#39;re using a square bracket to initialize an array, the first pair will always denote the row.","body":"I think you are confused because of the usage of an ArrayList as the Array element type. Fundamentally, it is the same regardless of what kind of data type you are storing in the array. I think you just need to remember this: whenever you&#39;re using a square bracket to initialize an array, the first pair will always denote the row."}],"tags":[],"owner":{"account_id":19215106,"reputation":58,"user_id":14040015,"display_name":"Lasith M"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1605895665,"creation_date":1605895665,"answer_id":64934658,"question_id":64934547,"body_markdown":"int[][] arrOfArr = new int[3][5];\r\n\r\n//arrOfArr[3] is the number of rows  \r\n//arrOfArr[5] is the number of colums","title":"How are 2d arrays structured?","body":"<p>int[][] arrOfArr = new int[3][5];</p>\n<p>//arrOfArr[3] is the number of rows<br />\n//arrOfArr[5] is the number of colums</p>\n"},{"tags":[],"owner":{"account_id":7714106,"reputation":156,"user_id":5842473,"display_name":"Jamie G"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605896329,"creation_date":1605896329,"answer_id":64934817,"question_id":64934547,"body_markdown":"`int[][] arrOfArr = new int[3][5]`\r\n\r\nThat creates an empty _grid_ of array cells with 3 rows and 5 columns. i.e.\r\n\r\n```\r\n[][][][][]\r\n[][][][][]\r\n[][][][][]\r\n```\r\n\r\nThen to fill those columns you just do `arrOfArr[0][2] = 4` which goes down to `row 0` and across to `column 2`. i.e.\r\n\r\n```\r\n[][][4][][]\r\n[][][][][]\r\n[][][][][]\r\n```\r\n\r\n______________\r\n\r\nAlternatively, see it as a set of 3 lots of 5 cell arrays\r\n\r\n```\r\n[][][4][][], [][][][][], [][][][][]\r\n```","title":"How are 2d arrays structured?","body":"<p><code>int[][] arrOfArr = new int[3][5]</code></p>\n<p>That creates an empty <em>grid</em> of array cells with 3 rows and 5 columns. i.e.</p>\n<pre><code>[][][][][]\n[][][][][]\n[][][][][]\n</code></pre>\n<p>Then to fill those columns you just do <code>arrOfArr[0][2] = 4</code> which goes down to <code>row 0</code> and across to <code>column 2</code>. i.e.</p>\n<pre><code>[][][4][][]\n[][][][][]\n[][][][][]\n</code></pre>\n<hr />\n<p>Alternatively, see it as a set of 3 lots of 5 cell arrays</p>\n<pre><code>[][][4][][], [][][][][], [][][][][]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16121496,"reputation":202,"user_id":11637379,"display_name":"jun"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1605897419,"creation_date":1605896814,"answer_id":64934931,"question_id":64934547,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GSB0g.png\r\n\r\nThis may help you visualize it more.\r\n\r\nWhen using square brackets `[]`, first pair is always row, second pair is columns.\r\nIn both scenarios, the first dimension (row) saves the memory address of the corresponding Array / ArrayLists.\r\n\r\nThe second dimension (column) saves the corresponding value stored in that particular row of Array/ArrayList.\r\n\r\nWhat you are taught is correct. An array of arrays is similar to an array of arraylists, with the exception that arraylists have variable length. The implication is that with an array of arraylists, the width (no. of columns) isn&#39;t static.\r\n\r\n    ArrayList[] arrOfList = new ArrayList[5]\r\n\r\nThis is saying, create an **Array of length 5** (5 rows), with the *data type being ArrayList (of variable length, thus can be any number of columns)*.\r\n\r\n    int[][] arrOfArr = new int[3][5]\r\n\r\nThis is saying, create an **Array of length 3 (3 rows)**, with the *data type being Array with length 5 (5 columns)*.\r\n\r\nThe fact that an ArrayList has variable length is likely causing the confusion, but I still stand by the same answer: first pair of [] = row; second pair of [] = column.\r\n","title":"How are 2d arrays structured?","body":"<p><a href=\"https://i.stack.imgur.com/GSB0g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GSB0g.png\" alt=\"enter image description here\" /></a></p>\n<p>This may help you visualize it more.</p>\n<p>When using square brackets <code>[]</code>, first pair is always row, second pair is columns.\nIn both scenarios, the first dimension (row) saves the memory address of the corresponding Array / ArrayLists.</p>\n<p>The second dimension (column) saves the corresponding value stored in that particular row of Array/ArrayList.</p>\n<p>What you are taught is correct. An array of arrays is similar to an array of arraylists, with the exception that arraylists have variable length. The implication is that with an array of arraylists, the width (no. of columns) isn't static.</p>\n<pre><code>ArrayList[] arrOfList = new ArrayList[5]\n</code></pre>\n<p>This is saying, create an <strong>Array of length 5</strong> (5 rows), with the <em>data type being ArrayList (of variable length, thus can be any number of columns)</em>.</p>\n<pre><code>int[][] arrOfArr = new int[3][5]\n</code></pre>\n<p>This is saying, create an <strong>Array of length 3 (3 rows)</strong>, with the <em>data type being Array with length 5 (5 columns)</em>.</p>\n<p>The fact that an ArrayList has variable length is likely causing the confusion, but I still stand by the same answer: first pair of [] = row; second pair of [] = column.</p>\n"}],"owner":{"account_id":19875747,"reputation":308,"user_id":14560780,"display_name":"i&#39;m a girl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":64934931,"answer_count":3,"score":-1,"last_activity_date":1676501041,"creation_date":1605895270,"question_id":64934547,"body_markdown":"When I was taught 2d arrays, I was taught that they are arrays of arrays, similar to an array of ArrayLists. But I was thinking about it and it is actually really confusing:\r\n\r\n    ArrayList[] arrOfList = new ArrayList[5];\r\n    arrOfList[0] = new ArrayList&lt;Integer&gt;();\r\n    arrOfList[0].add(1);\r\n    arrOfList[0].add(2);\r\n    arrOfList[0].add(3);\r\n    //arrOfList[0] is the first list, with 3 elements\r\n    //arrOfList is an array of 5 lists; arrOfList.length = 5\r\n    \r\n    int[][] arrOfArr = new int[3][5];\r\n    //arrOfArr[0] is NOT an array with 3 elements\r\n    //arrOfArr is NOT an array of 5 arrays; arrOfArr.length = 3\r\n\r\nI think what I&#39;m getting at is more clear if I bold the parts that I think would correlate (but don&#39;t): \r\n\r\n**ArrayList**[] arrOfList = new **ArrayList**[5];  \r\n**int[]**[] arrOfArr = new **int[3]**[5];\r\n\r\nWhat is a more intuitive way of thinking about declaring 2d arrays, since relating it to an arbitrary type is not right? (as illustrated above)","title":"How are 2d arrays structured?","body":"<p>When I was taught 2d arrays, I was taught that they are arrays of arrays, similar to an array of ArrayLists. But I was thinking about it and it is actually really confusing:</p>\n<pre><code>ArrayList[] arrOfList = new ArrayList[5];\narrOfList[0] = new ArrayList&lt;Integer&gt;();\narrOfList[0].add(1);\narrOfList[0].add(2);\narrOfList[0].add(3);\n//arrOfList[0] is the first list, with 3 elements\n//arrOfList is an array of 5 lists; arrOfList.length = 5\n\nint[][] arrOfArr = new int[3][5];\n//arrOfArr[0] is NOT an array with 3 elements\n//arrOfArr is NOT an array of 5 arrays; arrOfArr.length = 3\n</code></pre>\n<p>I think what I'm getting at is more clear if I bold the parts that I think would correlate (but don't):</p>\n<p><strong>ArrayList</strong>[] arrOfList = new <strong>ArrayList</strong>[5];<br />\n<strong>int[]</strong>[] arrOfArr = new <strong>int[3]</strong>[5];</p>\n<p>What is a more intuitive way of thinking about declaring 2d arrays, since relating it to an arbitrary type is not right? (as illustrated above)</p>\n"},{"tags":["java","android","android-fragments","android-threading"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1676501079,"post_id":75466084,"comment_id":133152030,"body_markdown":"Rather than ancient, low-level approaches like `Handler` and `Messenger`, use a modern reactive framework, such as `LiveData` or RxJava. FWIW, I demonstrate `LiveData` in a `ViewModel` in [this chapter](https://commonsware.com/Jetpack/pages/chap-threads-001.html) of [this free book](https://commonsware.com/Jetpack/).","body":"Rather than ancient, low-level approaches like <code>Handler</code> and <code>Messenger</code>, use a modern reactive framework, such as <code>LiveData</code> or RxJava. FWIW, I demonstrate <code>LiveData</code> in a <code>ViewModel</code> in <a href=\"https://commonsware.com/Jetpack/pages/chap-threads-001.html\" rel=\"nofollow noreferrer\">this chapter</a> of <a href=\"https://commonsware.com/Jetpack/\" rel=\"nofollow noreferrer\">this free book</a>."}],"owner":{"account_id":16632128,"reputation":76,"user_id":12019759,"display_name":"Sandeep Tadepalli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676500832,"creation_date":1676500832,"question_id":75466084,"body_markdown":"I have a fragment that launches a background thread to do some work and uses a handler callback to update some UI when the thread finishes its task.\r\n\r\n```\r\npublic class CodeFragment extends Fragment implements View.OnClickListener, Handler.Callback {\r\n  \r\n  private CodeDataViewModel codeDataViewModel;\r\n  private Handler uiHandler;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\r\n                             @Nullable Bundle savedInstanceState){\r\n\r\n        View view = inflater.inflate(R.layout.fragment_code, container, false);\r\n\r\n        \r\n        uiHandler = new Handler(Looper.getMainLooper(), this);\r\n\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public boolean handleMessage(Message msg){\r\n\r\n        if(msg.what == 0){\r\n\r\n            BFResult result = (BFResult)msg.obj;\r\n\r\n            codeDataViewModel.setOutput(result);\r\n\r\n            runButton.setIcon(ResourcesCompat.getDrawable(requireActivity().getResources(), R.drawable.ic_baseline_play_arrow_24, null));\r\n            runButton.setText(getString(R.string.run));\r\n            codeDataViewModel.setShouldRun(true);\r\n\r\n            if(result.errorCode != BFErrorCodes.UserAbort){\r\n                ViewPager2 viewPager2 = getActivity().findViewById(R.id.view_pager);\r\n                viewPager2.setCurrentItem(1);\r\n            }\r\n        }\r\n\r\n        codeDataViewModel.setInterpreterThread(null);\r\n\r\n        return true;\r\n    }\r\n```\r\n\r\nThe issue I have is when the screen rotates while the thread is still running, then, after the thread finishes executing and when handleMessage starts being executed I get the following exception in handleMessage at the line runButton.setIcon(...)\r\n\r\n```\r\nFATAL EXCEPTION: main\r\njava.lang.IllegalStateException: Fragment CodeFragment{7f397b9} (ea45dd9d-5419-4d22-8f56-11c7fed9f3bd) not attached to an activity.\r\nat androidx.fragment.app.Fragment.requireActivity(Fragment.java:928)\r\nat com.sandeept.brainfkinterpreter.fragments.CodeFragment.handleMessage(CodeFragment.java:117)\r\n```\r\n\r\nNow, I know this is because the activity and the fragments are recreated when a configuration change occurs. And because the handleMessage function being executed is of the old fragment that is now no longer attached to the activity there is a run time error.\r\n\r\nWhat I don&#39;t know is how to fix this. I thought about using setRetainInstance(true), but this has been deprecated since the introduction of view models. I don&#39;t know how view models are going to be helpful in this case.\r\n\r\nSo, how do I handle this issue?","title":"Handling configuration changes when there is a background thread running - Android","body":"<p>I have a fragment that launches a background thread to do some work and uses a handler callback to update some UI when the thread finishes its task.</p>\n<pre><code>public class CodeFragment extends Fragment implements View.OnClickListener, Handler.Callback {\n  \n  private CodeDataViewModel codeDataViewModel;\n  private Handler uiHandler;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container,\n                             @Nullable Bundle savedInstanceState){\n\n        View view = inflater.inflate(R.layout.fragment_code, container, false);\n\n        \n        uiHandler = new Handler(Looper.getMainLooper(), this);\n\n        return view;\n    }\n\n    @Override\n    public boolean handleMessage(Message msg){\n\n        if(msg.what == 0){\n\n            BFResult result = (BFResult)msg.obj;\n\n            codeDataViewModel.setOutput(result);\n\n            runButton.setIcon(ResourcesCompat.getDrawable(requireActivity().getResources(), R.drawable.ic_baseline_play_arrow_24, null));\n            runButton.setText(getString(R.string.run));\n            codeDataViewModel.setShouldRun(true);\n\n            if(result.errorCode != BFErrorCodes.UserAbort){\n                ViewPager2 viewPager2 = getActivity().findViewById(R.id.view_pager);\n                viewPager2.setCurrentItem(1);\n            }\n        }\n\n        codeDataViewModel.setInterpreterThread(null);\n\n        return true;\n    }\n</code></pre>\n<p>The issue I have is when the screen rotates while the thread is still running, then, after the thread finishes executing and when handleMessage starts being executed I get the following exception in handleMessage at the line runButton.setIcon(...)</p>\n<pre><code>FATAL EXCEPTION: main\njava.lang.IllegalStateException: Fragment CodeFragment{7f397b9} (ea45dd9d-5419-4d22-8f56-11c7fed9f3bd) not attached to an activity.\nat androidx.fragment.app.Fragment.requireActivity(Fragment.java:928)\nat com.sandeept.brainfkinterpreter.fragments.CodeFragment.handleMessage(CodeFragment.java:117)\n</code></pre>\n<p>Now, I know this is because the activity and the fragments are recreated when a configuration change occurs. And because the handleMessage function being executed is of the old fragment that is now no longer attached to the activity there is a run time error.</p>\n<p>What I don't know is how to fix this. I thought about using setRetainInstance(true), but this has been deprecated since the introduction of view models. I don't know how view models are going to be helpful in this case.</p>\n<p>So, how do I handle this issue?</p>\n"},{"tags":["java","database","hibernate","dto"],"answers":[{"comments":[{"owner":{"account_id":19136869,"reputation":21,"user_id":13977702,"display_name":"Shelomi Silva"},"score":0,"creation_date":1676521822,"post_id":75466059,"comment_id":133154772,"body_markdown":"I tried adding the @Embeddable and Embedded annotations for the entity class as you suggested. It still isn&#39;t working. Could this be because the class Address is a jsonb column and not another table?","body":"I tried adding the @Embeddable and Embedded annotations for the entity class as you suggested. It still isn&#39;t working. Could this be because the class Address is a jsonb column and not another table?"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":1,"creation_date":1676530885,"post_id":75466059,"comment_id":133156114,"body_markdown":"Embedded object properties are persisted in columns of the same table of the entity. The only other reasons that can think of is : 1) the Address class must be in antoher file (if not already, I cannot say with your post) 2) the name of the property &quot;isPrimary&quot; do not respect the Java naming convention (it should be primary, with isPrimare()/setPrimate(boolean) as getter and setter.","body":"Embedded object properties are persisted in columns of the same table of the entity. The only other reasons that can think of is : 1) the Address class must be in antoher file (if not already, I cannot say with your post) 2) the name of the property &quot;isPrimary&quot; do not respect the Java naming convention (it should be primary, with isPrimare()/setPrimate(boolean) as getter and setter."}],"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676500551,"creation_date":1676500551,"answer_id":75466059,"question_id":75463524,"body_markdown":"I do not have a project ready to test your code but I am pretty sure that you need to specify to Hibernate that the class `Address` is embedded in your entity by adding `@Embeddable` at the top of the class Address, like this :\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_class&quot;)\r\n    public class MyClassData {\r\n        private String id;\r\n        private String name;\r\n        private Address address;\r\n        // getter, setter\r\n    }\r\n \r\n    @Embeddable\r\n    public class Address {\r\n        private String street;\r\n        private boolean isPrimary;\r\n        // getter, setter\r\n    }","title":"Boolean value of Hibernate data class not updating in the Database","body":"<p>I do not have a project ready to test your code but I am pretty sure that you need to specify to Hibernate that the class <code>Address</code> is embedded in your entity by adding <code>@Embeddable</code> at the top of the class Address, like this :</p>\n<pre><code>@Entity\n@Table(name = &quot;my_class&quot;)\npublic class MyClassData {\n    private String id;\n    private String name;\n    private Address address;\n    // getter, setter\n}\n\n@Embeddable\npublic class Address {\n    private String street;\n    private boolean isPrimary;\n    // getter, setter\n}\n</code></pre>\n"}],"owner":{"account_id":19136869,"reputation":21,"user_id":13977702,"display_name":"Shelomi Silva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1676500551,"creation_date":1676482583,"question_id":75463524,"body_markdown":"In the project Im working on I have a hibernate data class which uses a DAO to save and update information. I need to set a value to the boolean property &#39;isPrimary&#39; and save it in the my_class database.\r\n\r\nBelow is the data class,\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;my_class&quot;)\r\npublic class MyClassData {\r\n    private String id;\r\n    private String name;\r\n    private Address address;\r\n    // getter, setter\r\n}\r\n\r\nclass Address {\r\n    private String street;\r\n    private boolean isPrimary;\r\n    // getter, setter\r\n}\r\n```\r\n\r\nwhen I try to update just the boolean value &#39;isPrimary&#39; as shown below and try to update the database it is not updated.\r\n\r\n```\r\n\r\nMyClassData myClassData = myclassDAO.getById(id);\r\nmyClassData.getAddress().setIsPrimary(false);\r\nmyclassDAO.update(myClassData); // doesnt update in the db\r\n```\r\n\r\nHowever if I try to update boolean value along with another string property both properties are updated in the database\r\n\r\n```\r\nMyClassData myClassData = myclassDAO.getById(id);\r\nmyClassData.setName(John)\r\nmyClassData.getAddress().setIsPrimary(false);\r\nmyclassDAO.update(myClassData); // updates both values in the db\r\n```\r\n\r\nIs there a specific reason why this is happening and how can I update just the boolean value in the database?","title":"Boolean value of Hibernate data class not updating in the Database","body":"<p>In the project Im working on I have a hibernate data class which uses a DAO to save and update information. I need to set a value to the boolean property 'isPrimary' and save it in the my_class database.</p>\n<p>Below is the data class,</p>\n<pre><code>@Entity\n@Table(name = &quot;my_class&quot;)\npublic class MyClassData {\n    private String id;\n    private String name;\n    private Address address;\n    // getter, setter\n}\n\nclass Address {\n    private String street;\n    private boolean isPrimary;\n    // getter, setter\n}\n</code></pre>\n<p>when I try to update just the boolean value 'isPrimary' as shown below and try to update the database it is not updated.</p>\n<pre><code>\nMyClassData myClassData = myclassDAO.getById(id);\nmyClassData.getAddress().setIsPrimary(false);\nmyclassDAO.update(myClassData); // doesnt update in the db\n</code></pre>\n<p>However if I try to update boolean value along with another string property both properties are updated in the database</p>\n<pre><code>MyClassData myClassData = myclassDAO.getById(id);\nmyClassData.setName(John)\nmyClassData.getAddress().setIsPrimary(false);\nmyclassDAO.update(myClassData); // updates both values in the db\n</code></pre>\n<p>Is there a specific reason why this is happening and how can I update just the boolean value in the database?</p>\n"},{"tags":["java","spring-boot","spring-expression-language"],"comments":[{"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"score":0,"creation_date":1621223721,"post_id":67563799,"comment_id":119421184,"body_markdown":"`@Value(&quot;#{localTime.parse` or `@Value(&quot;#{LocalTime.parse` ?","body":"<code>@Value(&quot;#{localTime.parse</code> or <code>@Value(&quot;#{LocalTime.parse</code> ?"},{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1621224598,"post_id":67563799,"comment_id":119421315,"body_markdown":"@user404 I have tried both class access and bean access, no luck","body":"@user404 I have tried both class access and bean access, no luck"}],"answers":[{"comments":[{"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"score":0,"creation_date":1621226635,"post_id":67564059,"comment_id":119421696,"body_markdown":"After Long time! :)  Great! it worked. It will helpful if you elobarate/hint the necesisty of `T`","body":"After Long time! :)  Great! it worked. It will helpful if you elobarate/hint the necesisty of <code>T</code>"},{"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1621226709,"post_id":67564059,"comment_id":119421711,"body_markdown":"it&#39;s a syntax to define the type of object i believe, you can read more info in attached docs","body":"it&#39;s a syntax to define the type of object i believe, you can read more info in attached docs"}],"tags":[],"owner":{"account_id":13798611,"reputation":37885,"user_id":9959152,"display_name":"Ryuzaki L"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1676499330,"creation_date":1621226258,"answer_id":67564059,"question_id":67563799,"body_markdown":"You can use expression templating to parse into `LocalTime`, like show in the [Expression templating][1] section\r\n\r\n    @Value(&quot;#{ T(java.time.LocalTime).parse(&#39;${rules.peakHours.weekday.morning.start}&#39;)}&quot;)\r\n    private LocalTime localTime;\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/expressions.html#expressions-templating","title":"Using Java classes inside Spring @Value(&#39;#{SPEL})","body":"<p>You can use expression templating to parse into <code>LocalTime</code>, like show in the <a href=\"https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/expressions.html#expressions-templating\" rel=\"nofollow noreferrer\">Expression templating</a> section</p>\n<pre><code>@Value(&quot;#{ T(java.time.LocalTime).parse('${rules.peakHours.weekday.morning.start}')}&quot;)\nprivate LocalTime localTime;\n</code></pre>\n"}],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1339,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67564059,"answer_count":1,"score":3,"last_activity_date":1676499330,"creation_date":1621223425,"question_id":67563799,"body_markdown":"I would like to parse the property value into an custom Object.\r\nExample; i have application.properties; say\r\n\r\n    rules.peakHours.weekday.morning.start=10:15:45\r\n\r\nAnd would like to convert that property into java LocalTime object.\r\n\r\n    @Configuration\r\n    public class RuleUtils {\r\n   \r\n    \r\n        @Value(&quot;#{localTime.parse(\\&quot;${rules.peakHours.weekday.morning.start}\\&quot;)}&quot;)\r\n        public LocalTime weekDayMorningPeakStart;\r\n\r\n\r\nI have tried the below, but not helping.\r\n\r\n        @Bean\r\n        @ConfigurationProperties(&quot;localTime&quot;)\r\n    //    @EnableConfigurationProperties(LocalTime.class)\r\n        public Class&lt;LocalTime&gt; getLocalTime() {\r\n    \r\n            return LocalTime.class;\r\n        }\r\n\r\nGetting below error:\r\n\r\n     EL1008E: Property or field &#39;localTime&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39;\r\n\r\n\r\nI tried web and stackoverflow, but not getting specific answer.\r\nPlease help.\r\n\r\n\r\nOnly workaround i know for this is constructor injection; but this will bloat my constructor with many arguments\r\n\r\n    @Configuration\r\n    public class RuleUtils {\r\n    \r\n        public LocalTime weekDayMorningPeakStart;\r\n    \r\n        public RuleUtils(@Value(&quot;${rules.peakHours.weekday.morning.start}&quot;) String weekDayMorningPeakStart) {\r\n             this.weekDayMorningPeakStart = LocalTime.parse(weekDayMorningPeakStart);\r\n        }","title":"Using Java classes inside Spring @Value(&#39;#{SPEL})","body":"<p>I would like to parse the property value into an custom Object.\nExample; i have application.properties; say</p>\n<pre><code>rules.peakHours.weekday.morning.start=10:15:45\n</code></pre>\n<p>And would like to convert that property into java LocalTime object.</p>\n<pre><code>@Configuration\npublic class RuleUtils {\n\n\n    @Value(&quot;#{localTime.parse(\\&quot;${rules.peakHours.weekday.morning.start}\\&quot;)}&quot;)\n    public LocalTime weekDayMorningPeakStart;\n</code></pre>\n<p>I have tried the below, but not helping.</p>\n<pre><code>    @Bean\n    @ConfigurationProperties(&quot;localTime&quot;)\n//    @EnableConfigurationProperties(LocalTime.class)\n    public Class&lt;LocalTime&gt; getLocalTime() {\n\n        return LocalTime.class;\n    }\n</code></pre>\n<p>Getting below error:</p>\n<pre><code> EL1008E: Property or field 'localTime' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext'\n</code></pre>\n<p>I tried web and stackoverflow, but not getting specific answer.\nPlease help.</p>\n<p>Only workaround i know for this is constructor injection; but this will bloat my constructor with many arguments</p>\n<pre><code>@Configuration\npublic class RuleUtils {\n\n    public LocalTime weekDayMorningPeakStart;\n\n    public RuleUtils(@Value(&quot;${rules.peakHours.weekday.morning.start}&quot;) String weekDayMorningPeakStart) {\n         this.weekDayMorningPeakStart = LocalTime.parse(weekDayMorningPeakStart);\n    }\n</code></pre>\n"},{"tags":["java","swagger","openapi"],"comments":[{"owner":{"account_id":117919,"reputation":5172,"user_id":308565,"accept_rate":100,"display_name":"Nagaraj Tantri"},"score":0,"creation_date":1676498810,"post_id":75465454,"comment_id":133151605,"body_markdown":"Does this answer your question? [How to define an optional parameter in path using swagger](https://stackoverflow.com/questions/35011192/how-to-define-an-optional-parameter-in-path-using-swagger)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/35011192/how-to-define-an-optional-parameter-in-path-using-swagger\">How to define an optional parameter in path using swagger</a>"},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":1,"creation_date":1676499064,"post_id":75465454,"comment_id":133151655,"body_markdown":"@NagarajTantri no. The OP&#39;s question is whether a class property can be optional depending on which endpoint this class is used in.","body":"@NagarajTantri no. The OP&#39;s question is whether a class property can be optional depending on which endpoint this class is used in."}],"answers":[{"comments":[{"owner":{"account_id":3348911,"reputation":6289,"user_id":4756173,"display_name":"Philippe Fanaro"},"score":0,"creation_date":1676499078,"post_id":75465890,"comment_id":133151656,"body_markdown":"Sad story. Do you have a documentation reference to ensure this is the case?","body":"Sad story. Do you have a documentation reference to ensure this is the case?"},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1676499456,"post_id":75465890,"comment_id":133151746,"body_markdown":"@PhilippeFanaro Assuming you use Swagger Core 2.x (or the corresponding Springfox/Springdoc version), classes and class properties are annotated with `@Schema`. You can check the [`@Schema` javadoc](https://docs.swagger.io/swagger-core/v2.2.8/apidocs/index.html?io/swagger/v3/oas/annotations/media/Schema.html) to see the supported attributes. Plus, OpenAPI Specification itself does not support varying the required/optional attribute based on paths, it&#39;s handled by defining separate schemas (classes) instead.","body":"@PhilippeFanaro Assuming you use Swagger Core 2.x (or the corresponding Springfox/Springdoc version), classes and class properties are annotated with <code>@Schema</code>. You can check the <a href=\"https://docs.swagger.io/swagger-core/v2.2.8/apidocs/index.html?io/swagger/v3/oas/annotations/media/Schema.html\" rel=\"nofollow noreferrer\"><code>@Schema</code> javadoc</a> to see the supported attributes. Plus, OpenAPI Specification itself does not support varying the required/optional attribute based on paths, it&#39;s handled by defining separate schemas (classes) instead."},{"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"score":0,"creation_date":1676499915,"post_id":75465890,"comment_id":133151825,"body_markdown":"Related discussion / enhancement request in the OpenAPI Specification repository: [Vary presence and requirement of properties with CRUD operation](https://github.com/OAI/OpenAPI-Specification/issues/1497)","body":"Related discussion / enhancement request in the OpenAPI Specification repository: <a href=\"https://github.com/OAI/OpenAPI-Specification/issues/1497\" rel=\"nofollow noreferrer\">Vary presence and requirement of properties with CRUD operation</a>"}],"tags":[],"owner":{"account_id":39252,"reputation":89842,"user_id":113116,"display_name":"Helen"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676498951,"creation_date":1676498951,"answer_id":75465890,"question_id":75465454,"body_markdown":"You&#39;ll need two classes - one where the `firstName` property is required, and another one where it&#39;s optional. To reduce code duplication, you can define a base class that contains all properties except for `firstName` and inherit the other two Person classes from this base class.","title":"Is it possible to do path-wise documentation of API endpoints with Swagger Java annotations?","body":"<p>You'll need two classes - one where the <code>firstName</code> property is required, and another one where it's optional. To reduce code duplication, you can define a base class that contains all properties except for <code>firstName</code> and inherit the other two Person classes from this base class.</p>\n"}],"owner":{"account_id":3348911,"reputation":6289,"user_id":4756173,"display_name":"Philippe Fanaro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75465890,"answer_count":1,"score":1,"last_activity_date":1676498951,"creation_date":1676495338,"question_id":75465454,"body_markdown":"I have, say, a class `Person` which, depending on the endpoint, would have its `firstName` either required or not. Is there a way of doing this with Swagger OpenAPI documentation tags in Java?\r\n\r\nI&#39;m imagining it could look a bit like this if it were/is possible:\r\n\r\n\r\n```java\r\npublic class Person {\r\n    @Path(&quot;/endpoint1&quot;, required = true)\r\n    @Path(&quot;/endpoint2&quot;, required = false)\r\n    private String firstName;\r\n}\r\n```","title":"Is it possible to do path-wise documentation of API endpoints with Swagger Java annotations?","body":"<p>I have, say, a class <code>Person</code> which, depending on the endpoint, would have its <code>firstName</code> either required or not. Is there a way of doing this with Swagger OpenAPI documentation tags in Java?</p>\n<p>I'm imagining it could look a bit like this if it were/is possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Person {\n    @Path(&quot;/endpoint1&quot;, required = true)\n    @Path(&quot;/endpoint2&quot;, required = false)\n    private String firstName;\n}\n</code></pre>\n"},{"tags":["java","csv","apache-commons-csv"],"comments":[{"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"score":0,"creation_date":1574857869,"post_id":59070234,"comment_id":104378544,"body_markdown":"columnList contains the list of headers, right ?","body":"columnList contains the list of headers, right ?"},{"owner":{"account_id":240000,"reputation":8299,"user_id":509977,"accept_rate":92,"display_name":"Pitto"},"score":0,"creation_date":1574858113,"post_id":59070234,"comment_id":104378686,"body_markdown":"Please provide a [mcve]","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":12824901,"reputation":1708,"user_id":9278333,"display_name":"trilogy"},"score":0,"creation_date":1659032028,"post_id":59070234,"comment_id":129205103,"body_markdown":"Does this answer your question? [Write CSV from List of HashMaps with Header using Apache Commons CSV](https://stackoverflow.com/questions/55186696/write-csv-from-list-of-hashmaps-with-header-using-apache-commons-csv)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/55186696/write-csv-from-list-of-hashmaps-with-header-using-apache-commons-csv\">Write CSV from List of HashMaps with Header using Apache Commons CSV</a>"}],"answers":[{"tags":[],"owner":{"account_id":17181007,"reputation":2283,"user_id":12436427,"display_name":"b.GHILAS"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574858483,"creation_date":1574858483,"answer_id":59070491,"question_id":59070234,"body_markdown":"    for (HashMap&lt;String,String&gt; row : rowCollection) {\r\n           Object[] record = new Object[row.size()];\r\n           for (int i = 0; i &lt; columnList.size(); i++) {\r\n                record[i] = row.get(columnList.get(i));\r\n           }\r\n                \r\n           csvPrinter.printRecord(record);\r\n     }","title":"Create CSV file with columns and values from HashMap","body":"<pre><code>for (HashMap&lt;String,String&gt; row : rowCollection) {\n       Object[] record = new Object[row.size()];\n       for (int i = 0; i &lt; columnList.size(); i++) {\n            record[i] = row.get(columnList.get(i));\n       }\n\n       csvPrinter.printRecord(record);\n }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":14781217,"reputation":98,"user_id":10674676,"display_name":"ManxDev"},"score":0,"creation_date":1575365946,"post_id":59070846,"comment_id":104532566,"body_markdown":"Thank you for this answer. I have implemented a slightly different solution to what is listed above, purely because it suits my particular issue better than the above - not because this is incorrect. Marked as accepted in the hope it aids other in the future with a similar problem.","body":"Thank you for this answer. I have implemented a slightly different solution to what is listed above, purely because it suits my particular issue better than the above - not because this is incorrect. Marked as accepted in the hope it aids other in the future with a similar problem."}],"tags":[],"owner":{"account_id":204659,"reputation":37559,"user_id":453005,"accept_rate":100,"display_name":"DwB"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676498109,"creation_date":1574859652,"answer_id":59070846,"question_id":59070234,"body_markdown":"You actually have multiple concerns with your technique;\r\n\r\n  1. How do you maintain column order?\r\n  1. How do you print the column names?\r\n  1. How do you print the column values?\r\n\r\nHere are my suggestions.\r\n\r\n  1. Maintain column order.\r\nDo not use `HashMap`,\r\nbecause it is unordered.\r\nInstead,\r\nuse `LinkedHashMap` which has a &quot;predictable iteration order&quot;\r\n(i.e. maintains order).\r\n\r\n  1. Print column names.\r\nEvery row in your list contains the column names in the form of key values,\r\nbut you only print the column names as the first row of output.\r\nThe solution is to print the column names before you loop through the rows.\r\nGet them from the first element of the list.\r\n\r\n  1. Print column values.\r\nThe &quot;billal GHILAS&quot; answer demonstrates a way to print the values of each row.\r\n\r\nHere is some code:\r\n```Java\r\ntry (BufferedWriter writer = Files.newBufferedWriter(\r\n     Paths.get(OUTPUT + &quot;/&quot; + project + &quot;/&quot; + project + &quot;.csv&quot;));)\r\n{\r\n\tCSVPrinter csvPrinter = new CSVPrinter(writer,\r\n\t\tCSVFormat.RFC4180.withFirstRecordAsHeader());\r\n\r\n    // This assumes that the rowCollection will never be empty.\r\n\t// An anonymous scope block just to limit the scope of the variable names.\r\n\t{\r\n\t\tHashMap&lt;String, String&gt; firstRow = rowCollection.get(0);\r\n\t    int valueIndex = 0;\r\n\t\tString[] valueArray = new String[firstRow.size()];\r\n\t\t\r\n\t\tfor (String currentValue : firstRow.keySet())\r\n\t\t{\r\n\t\t\tvalueArray[valueIndex++] = currentValue;\r\n\t\t}\r\n\r\n\t\tcsvPrinter.printrecord(valueArray);\r\n\t}\r\n\r\n\tfor (HashMap&lt;String, String&gt; row : rowCollection)\r\n\t{\r\n\t    int valueIndex = 0;\r\n\t\tString[] valueArray = new String[row.size()];\r\n\t\t\r\n\t\tfor (String currentValue : row.values())\r\n\t\t{\r\n\t\t\tvalueArray[valueIndex++] = currentValue;\r\n\t\t}\r\n\r\n\t\tcsvPrinter.printrecord(valueArray);\r\n\t}\r\n\r\n\tcsvPrinter.flush();\r\n}\r\n```","title":"Create CSV file with columns and values from HashMap","body":"<p>You actually have multiple concerns with your technique;</p>\n<ol>\n<li>How do you maintain column order?</li>\n<li>How do you print the column names?</li>\n<li>How do you print the column values?</li>\n</ol>\n<p>Here are my suggestions.</p>\n<ol>\n<li><p>Maintain column order.\nDo not use <code>HashMap</code>,\nbecause it is unordered.\nInstead,\nuse <code>LinkedHashMap</code> which has a &quot;predictable iteration order&quot;\n(i.e. maintains order).</p>\n</li>\n<li><p>Print column names.\nEvery row in your list contains the column names in the form of key values,\nbut you only print the column names as the first row of output.\nThe solution is to print the column names before you loop through the rows.\nGet them from the first element of the list.</p>\n</li>\n<li><p>Print column values.\nThe &quot;billal GHILAS&quot; answer demonstrates a way to print the values of each row.</p>\n</li>\n</ol>\n<p>Here is some code:</p>\n<pre><code>try (BufferedWriter writer = Files.newBufferedWriter(\n     Paths.get(OUTPUT + &quot;/&quot; + project + &quot;/&quot; + project + &quot;.csv&quot;));)\n{\n    CSVPrinter csvPrinter = new CSVPrinter(writer,\n        CSVFormat.RFC4180.withFirstRecordAsHeader());\n\n    // This assumes that the rowCollection will never be empty.\n    // An anonymous scope block just to limit the scope of the variable names.\n    {\n        HashMap&lt;String, String&gt; firstRow = rowCollection.get(0);\n        int valueIndex = 0;\n        String[] valueArray = new String[firstRow.size()];\n        \n        for (String currentValue : firstRow.keySet())\n        {\n            valueArray[valueIndex++] = currentValue;\n        }\n\n        csvPrinter.printrecord(valueArray);\n    }\n\n    for (HashMap&lt;String, String&gt; row : rowCollection)\n    {\n        int valueIndex = 0;\n        String[] valueArray = new String[row.size()];\n        \n        for (String currentValue : row.values())\n        {\n            valueArray[valueIndex++] = currentValue;\n        }\n\n        csvPrinter.printrecord(valueArray);\n    }\n\n    csvPrinter.flush();\n}\n</code></pre>\n"}],"owner":{"account_id":14781217,"reputation":98,"user_id":10674676,"display_name":"ManxDev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2716,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59070846,"answer_count":2,"score":1,"last_activity_date":1676498109,"creation_date":1574857640,"question_id":59070234,"body_markdown":"Be gentle,\r\nThis is my first time using Apache Commons CSV 1.7.\r\n\r\nI am creating a service to process some CSV inputs,\r\nadd some additional information from exterior sources,\r\nthen write out this CSV for ingestion into another system.\r\n\r\nI store the information that I have gathered into a list of \r\n`HashMap&lt;String, String&gt;` for each row of the final output csv.\r\nThe Hashmap contains the `&lt;ColumnName, Value for column&gt;`.\r\n\r\nI have issues using the CSVPrinter to correctly assign the values of the HashMaps into the rows.\r\nI can concatenate the values into a string with commas between the variables;\r\nhowever,\r\nthis just inserts the whole string into the first column.\r\n\r\nI cannot define or hardcode the headers since they are obtained from a config file and may change depending on which project uses the service.\r\n\r\nHere is some of my code:\r\n\r\n```\r\ntry (BufferedWriter writer = Files.newBufferedWriter(\r\n    Paths.get(OUTPUT + &quot;/&quot; + project + &quot;/&quot; + project + &quot;.csv&quot;));)\r\n{\r\n    CSVPrinter csvPrinter = new CSVPrinter(writer,\r\n        CSVFormat.RFC4180.withFirstRecordAsHeader());\r\n    csvPrinter.printRecord(columnList);\r\n\r\nfor (HashMap&lt;String, String&gt; row : rowCollection)\r\n{\r\n    //Need to map __record__ to column -&gt; row.key, value -&gt; row.value for whole map.\r\n\r\n    csvPrinter.printrecord(__record__);\r\n}\r\n\r\ncsvPrinter.flush();\r\n\r\n}\r\n```\r\n\r\nThanks for your assistance.","title":"Create CSV file with columns and values from HashMap","body":"<p>Be gentle,\nThis is my first time using Apache Commons CSV 1.7.</p>\n\n<p>I am creating a service to process some CSV inputs,\nadd some additional information from exterior sources,\nthen write out this CSV for ingestion into another system.</p>\n\n<p>I store the information that I have gathered into a list of \n<code>HashMap&lt;String, String&gt;</code> for each row of the final output csv.\nThe Hashmap contains the <code>&lt;ColumnName, Value for column&gt;</code>.</p>\n\n<p>I have issues using the CSVPrinter to correctly assign the values of the HashMaps into the rows.\nI can concatenate the values into a string with commas between the variables;\nhowever,\nthis just inserts the whole string into the first column.</p>\n\n<p>I cannot define or hardcode the headers since they are obtained from a config file and may change depending on which project uses the service.</p>\n\n<p>Here is some of my code:</p>\n\n<pre><code>try (BufferedWriter writer = Files.newBufferedWriter(\n    Paths.get(OUTPUT + \"/\" + project + \"/\" + project + \".csv\"));)\n{\n    CSVPrinter csvPrinter = new CSVPrinter(writer,\n        CSVFormat.RFC4180.withFirstRecordAsHeader());\n    csvPrinter.printRecord(columnList);\n\nfor (HashMap&lt;String, String&gt; row : rowCollection)\n{\n    //Need to map __record__ to column -&gt; row.key, value -&gt; row.value for whole map.\n\n    csvPrinter.printrecord(__record__);\n}\n\ncsvPrinter.flush();\n\n}\n</code></pre>\n\n<p>Thanks for your assistance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1676491703,"post_id":75464943,"comment_id":133149858,"body_markdown":"read the whole line, then use regex to extract the numbers.","body":"read the whole line, then use regex to extract the numbers."},{"owner":{"account_id":12221317,"reputation":569,"user_id":8920328,"display_name":"Melron"},"score":0,"creation_date":1676493317,"post_id":75464943,"comment_id":133150270,"body_markdown":"If all your lines have that specific format (integer, then space....) you can split[0] your line to get the first integer","body":"If all your lines have that specific format (integer, then space....) you can split[0] your line to get the first integer"},{"owner":{"account_id":11076132,"reputation":552,"user_id":8132809,"display_name":"Daniel Black"},"score":0,"creation_date":1676497023,"post_id":75464943,"comment_id":133151194,"body_markdown":"The following regex could be used to see if the line starts with an integer `^\\d+`","body":"The following regex could be used to see if the line starts with an integer <code>^\\d+</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676498656,"post_id":75464943,"comment_id":133151579,"body_markdown":"`String data = myReader.nextLine().replaceAll(&quot;(^\\\\d+).*&quot;, &quot;$1&quot;);` should do it","body":"<code>String data = myReader.nextLine().replaceAll(&quot;(^\\\\d+).*&quot;, &quot;$1&quot;);</code> should do it"}],"answers":[{"tags":[],"owner":{"account_id":7330986,"reputation":790,"user_id":5583881,"display_name":"Stoica Mircea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676497270,"creation_date":1676497270,"answer_id":75465698,"question_id":75464943,"body_markdown":"Considering you want only the first number found in a line of text,  I&#39;ll use [Scanner.nextInt][1].\r\n\r\n    try {\r\n        File program = new File(&quot;file.txt&quot;);\r\n        Scanner myReader = new Scanner(program);\r\n        while (myReader.hasNextLine()) {\r\n            Integer data = myReader.nextInt();\r\n            myReader.nextLine(); // avoid reading 7 as nextInt. eg. &quot;5 // seven 7&quot;\r\n            System.out.println(data);\r\n        }\r\n        myReader.close();\r\n    } catch (FileNotFoundException e) {\r\n        System.out.println(&quot;File not Found.&quot;);\r\n        e.printStackTrace();\r\n    }\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/scanner-nextint-method-in-java-with-examples/","title":"Read the first number in a line, move on to next line without reading the rest of the line until end of file","body":"<p>Considering you want only the first number found in a line of text,  I'll use <a href=\"https://www.geeksforgeeks.org/scanner-nextint-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">Scanner.nextInt</a>.</p>\n<pre><code>try {\n    File program = new File(&quot;file.txt&quot;);\n    Scanner myReader = new Scanner(program);\n    while (myReader.hasNextLine()) {\n        Integer data = myReader.nextInt();\n        myReader.nextLine(); // avoid reading 7 as nextInt. eg. &quot;5 // seven 7&quot;\n        System.out.println(data);\n    }\n    myReader.close();\n} catch (FileNotFoundException e) {\n    System.out.println(&quot;File not Found.&quot;);\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":27796788,"reputation":1,"user_id":21222099,"display_name":"HermitIX"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676497270,"creation_date":1676491549,"question_id":75464943,"body_markdown":"I am reading from a txt file. It has stuff in it like...\r\n\r\n    2 // Two\r\n    3\r\n    40 // oh look, forty\r\n\r\nCurrently the output looks like this...\r\n\r\n    2\r\n    //\r\n    Two\r\n    3\r\n    40\r\n    //\r\n    oh\r\n    look,\r\n    forty\r\n\r\nI don&#39;t want that. I just want the integers, so the output should be...\r\n\r\n    2\r\n    3\r\n    40\r\n\r\nI want to read just the integer at the beginning of the line, ignore the rest of the line then move to the next line. I will keep doing this until I reach the end of the file. Ultimately all these integers will go into an array. \r\n\r\n\t\ttry {\r\n\t\t\tFile program = new File(&quot;file.txt&quot;);\r\n\t\t\tScanner myReader = new Scanner(program);\r\n\t\t\twhile (myReader.hasNextLine()) {\r\n\t\t\t\tString data = myReader.next();\r\n\t\t\t\tSystem.out.println(data);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tmyReader.close();\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\tSystem.out.println(&quot;File not Found.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nI have tried BufferedReader but I think it can&#39;t do what I want it to do, so I went with a Scanner. If it matters here is my attempt with that.\r\n\r\n\t\ttry {\r\n\t\t\tBufferedReader reader = new BufferedReader(new FileReader(&quot;file.txt&quot;));\r\n\t\t\tString line;\r\n\t\t\twhile((line = reader.()) != null)\r\n\t\t\t\tSystem.out.println(line);\r\n\t\t\treader.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\tSystem.out.println(&quot;File not Found.&quot;);\r\n\t\t\te.printStackTrace();\r\n\t\t} \r\n\r\n\r\n","title":"Read the first number in a line, move on to next line without reading the rest of the line until end of file","body":"<p>I am reading from a txt file. It has stuff in it like...</p>\n<pre><code>2 // Two\n3\n40 // oh look, forty\n</code></pre>\n<p>Currently the output looks like this...</p>\n<pre><code>2\n//\nTwo\n3\n40\n//\noh\nlook,\nforty\n</code></pre>\n<p>I don't want that. I just want the integers, so the output should be...</p>\n<pre><code>2\n3\n40\n</code></pre>\n<p>I want to read just the integer at the beginning of the line, ignore the rest of the line then move to the next line. I will keep doing this until I reach the end of the file. Ultimately all these integers will go into an array.</p>\n<pre><code>    try {\n        File program = new File(&quot;file.txt&quot;);\n        Scanner myReader = new Scanner(program);\n        while (myReader.hasNextLine()) {\n            String data = myReader.next();\n            System.out.println(data);\n            \n        }\n        myReader.close();\n    } catch (FileNotFoundException e) {\n        System.out.println(&quot;File not Found.&quot;);\n        e.printStackTrace();\n    }\n</code></pre>\n<p>I have tried BufferedReader but I think it can't do what I want it to do, so I went with a Scanner. If it matters here is my attempt with that.</p>\n<pre><code>    try {\n        BufferedReader reader = new BufferedReader(new FileReader(&quot;file.txt&quot;));\n        String line;\n        while((line = reader.()) != null)\n            System.out.println(line);\n        reader.close();\n    } catch (IOException e) {\n        System.out.println(&quot;File not Found.&quot;);\n        e.printStackTrace();\n    } \n</code></pre>\n"},{"tags":["java","docker","activemq","payara","payara-micro"],"comments":[{"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"score":0,"creation_date":1698171175,"post_id":75460733,"comment_id":136370513,"body_markdown":"Any feedback here?","body":"Any feedback here?"}],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30715,"user_id":8381946,"display_name":"Justin Bertram"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676496595,"creation_date":1676473012,"answer_id":75461633,"question_id":75460733,"body_markdown":"It looks like your don&#39;t have the right jars in your classpath. Here&#39;s the root cause of your problem:\r\n```\r\njava.lang.ClassNotFoundException: javax.resource.spi.ActivationSpec\r\n```\r\nThis is part of the Java EE specification and should be furnished to any JCA resource adapter by your container.\r\n\r\nYou appear to be using Payara&#39;s implementation of &quot;MicroProfile&quot; which, to my knowledge, does *not* include JCA.","title":"Adding ActiveMQ-rar to a payara micro 6.2022.2 docker image.causes error javax/resource/spi/ActivationSpec","body":"<p>It looks like your don't have the right jars in your classpath. Here's the root cause of your problem:</p>\n<pre><code>java.lang.ClassNotFoundException: javax.resource.spi.ActivationSpec\n</code></pre>\n<p>This is part of the Java EE specification and should be furnished to any JCA resource adapter by your container.</p>\n<p>You appear to be using Payara's implementation of &quot;MicroProfile&quot; which, to my knowledge, does <em>not</em> include JCA.</p>\n"}],"owner":{"account_id":27793660,"reputation":11,"user_id":21219643,"display_name":"Aidz005"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676496595,"creation_date":1676468709,"question_id":75460733,"body_markdown":"SO I am currently getting an issue while trying to add my active mq adapter to my docker image.\r\n\r\nI am building the image from scratch and bringing in the activeMQ.rar\r\n\r\nMy enviroment is \r\nimage : openjdk:17-alpine\r\nmaven : 3.9.0\r\njava : 17\r\npayara-micro-6.2022.2\r\nactivemq-rar:5.17.3\r\n\r\n```\r\nFROM openjdk:17-alpine\r\n\r\nENV PAYARA_MICRO_DIR /opt/payara/\r\n\r\nCOPY maven/startup/prebootcommands.txt /opt/cmd/prebootcommands.txt\r\nCOPY maven/startup/payara-micro-6.2022.2.jar /opt/payara/payara-micro-6.2022.2.jar\r\nCOPY maven/startup/activemq-rar.rar /opt/payara/activemq-rar.rar\r\n```\r\n\r\nI then warm up the payara and set the exec cmd\r\n\r\n\r\n```\r\nRUN java -jar /opt/payara/payara-micro.jar  --disablephonehome --prebootcommandfile /opt/cmd/prebootcommands.txt  --nocluster --addlibs /opt/libs --postbootcommandfile /opt/cmd/portal-setup.txt --warmup --rootdir /opt/payara/domains --deploy /opt/payara/activemq-rar.rar\r\n\r\nCMD exec \\\r\njava -jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=9009 -DTargetDatabase=${TARGET_DB} -jar /opt/payara/payara-micro.jar \\\r\n--disablephonehome \\\r\n--enablehealthcheck true \\\r\n--nocluster \\\r\n--postbootcommandfile /opt/cmd/postbootscript.txt \\\r\n--addlibs /opt/libs \\\r\n--name ${HOSTNAME} \\\r\n--postdeploycommandfile /opt/cmd/postdeploy.asadmin \\\r\n--deploy /opt/payara/activemq-rar.rar\r\n```\r\n\r\nWhen I compose the image I am currently getting a javax/resource/spi/ActivationSpec\r\n\r\n```\r\n[2023-02-15T12:54:35.892+0000] [] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1676465675892] [levelValue: 1000] [[\r\n2023-02-15T12:54:35.893215648Z   javax/resource/spi/ActivationSpec\r\n2023-02-15T12:54:35.893218341Z java.lang.ClassNotFoundException: javax.resource.spi.ActivationSpec\r\n2023-02-15T12:54:35.893220712Z \tat com.sun.enterprise.loader.ASURLClassLoader.findClassData(ASURLClassLoader.java:806)\r\n2023-02-15T12:54:35.893223103Z \tat com.sun.enterprise.loader.ASURLClassLoader.findClass(ASURLClassLoader.java:688)\r\n2023-02-15T12:54:35.893225504Z \tat com.sun.appserv.connectors.internal.api.ConnectorClassFinder.findClass(ConnectorClassFinder.java:85)\r\n2023-02-15T12:54:35.893227945Z \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\r\n2023-02-15T12:54:35.893230760Z \tat com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:83)\r\n2023-02-15T12:54:35.893233827Z \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n2023-02-15T12:54:35.893248525Z \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n2023-02-15T12:54:35.893251299Z \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n2023-02-15T12:54:35.893254033Z \tat com.sun.enterprise.loader.ASURLClassLoader.findClass(ASURLClassLoader.java:746)\r\n2023-02-15T12:54:35.893256475Z \tat com.sun.appserv.connectors.internal.api.ConnectorClassFinder.findClass(ConnectorClassFinder.java:85)\r\n2023-02-15T12:54:35.893258311Z \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\r\n2023-02-15T12:54:35.893260954Z \tat com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:83)\r\n2023-02-15T12:54:35.893263546Z \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n2023-02-15T12:54:35.893265362Z \tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n2023-02-15T12:54:35.893267662Z \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\r\n2023-02-15T12:54:35.893270245Z \tat com.sun.enterprise.loader.ASURLClassLoader.findClass(ASURLClassLoader.java:746)\r\n2023-02-15T12:54:35.893272535Z \tat com.sun.appserv.connectors.internal.api.ConnectorClassFinder.findClass(ConnectorClassFinder.java:85)\r\n2023-02-15T12:54:35.893274885Z \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\r\n2023-02-15T12:54:35.893277084Z \tat com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:83)\r\n2023-02-15T12:54:35.893279284Z \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\r\n2023-02-15T12:54:35.893282653Z \tat com.sun.enterprise.connectors.deployment.util.ConnectorValidator.getClass(ConnectorValidator.java:242)\r\n2023-02-15T12:54:35.893284994Z \tat com.sun.enterprise.connectors.deployment.util.ConnectorValidator.validateActivationSpec(ConnectorValidator.java:155)\r\n2023-02-15T12:54:35.893287314Z \tat com.sun.enterprise.connectors.deployment.util.ConnectorValidator.accept(ConnectorValidator.java:79)\r\n2023-02-15T12:54:35.893289725Z \tat com.sun.enterprise.connectors.deployment.util.ConnectorValidator.accept(ConnectorValidator.java:72)\r\n2023-02-15T12:54:35.893292106Z \tat com.sun.enterprise.deployment.BundleDescriptor.visit(BundleDescriptor.java:618)\r\n2023-02-15T12:54:35.893294557Z \tat com.sun.enterprise.connectors.deployment.util.ConnectorArchivist.postOpen(ConnectorArchivist.java:173)\r\n2023-02-15T12:54:35.893297039Z \tat com.sun.enterprise.connectors.deployment.util.ConnectorArchivist.postOpen(ConnectorArchivist.java:72)\r\n2023-02-15T12:54:35.893299298Z \tat com.sun.enterprise.deployment.archivist.Archivist.openWith(Archivist.java:294)\r\n2023-02-15T12:54:35.893301780Z \tat com.sun.enterprise.deployment.archivist.ApplicationFactory.openWith(ApplicationFactory.java:232)\r\n2023-02-15T12:54:35.893304736Z \tat org.glassfish.javaee.core.deployment.DolProvider.processDOL(DolProvider.java:211)\r\n2023-02-15T12:54:35.893307076Z \tat org.glassfish.javaee.core.deployment.DolProvider.load(DolProvider.java:246)\r\n2023-02-15T12:54:35.893312484Z \tat org.glassfish.javaee.core.deployment.DolProvider.load(DolProvider.java:97)\r\n2023-02-15T12:54:35.893314965Z \tat com.sun.enterprise.v3.server.ApplicationLifecycle.loadDeployer(ApplicationLifecycle.java:1161)\r\n2023-02-15T12:54:35.893317356Z \tat com.sun.enterprise.v3.server.ApplicationLifecycle.loadDeployers(ApplicationLifecycle.java:1129)\r\n2023-02-15T12:54:35.893319868Z \tat com.sun.enterprise.v3.server.ApplicationLifecycle.setupContainerInfos(ApplicationLifecycle.java:944)\r\n2023-02-15T12:54:35.893324105Z \tat com.sun.enterprise.v3.server.ApplicationLifecycle.prepare(ApplicationLifecycle.java:453)\r\n2023-02-15T12:54:35.893326950Z \tat org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:612)\r\n2023-02-15T12:54:35.893329341Z \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:556)\r\n2023-02-15T12:54:35.893331732Z \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:552)\r\n2023-02-15T12:54:35.893334082Z \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n2023-02-15T12:54:35.893336887Z \tat java.base/javax.security.auth.Subject.doAs(Subject.java:365)\r\n2023-02-15T12:54:35.893340771Z \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:551)\r\n2023-02-15T12:54:35.893343172Z \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:582)\r\n2023-02-15T12:54:35.893345805Z \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:574)\r\n2023-02-15T12:54:35.893348327Z \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\r\n2023-02-15T12:54:35.893351555Z \tat java.base/javax.security.auth.Subject.doAs(Subject.java:365)\r\n2023-02-15T12:54:35.893354006Z \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:573)\r\n2023-02-15T12:54:35.893357416Z \tat com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1497)\r\n2023-02-15T12:54:35.893359676Z \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1869)\r\n2023-02-15T12:54:35.893361956Z \tat com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1755)\r\n2023-02-15T12:54:35.893364468Z \tat com.sun.enterprise.admin.cli.embeddable.DeployerImpl.deploy(DeployerImpl.java:131)\r\n2023-02-15T12:54:35.893366697Z \tat com.sun.enterprise.admin.cli.embeddable.DeployerImpl.deploy(DeployerImpl.java:104)\r\n2023-02-15T12:54:35.893368846Z \tat fish.payara.micro.impl.PayaraMicroImpl.deployAll(PayaraMicroImpl.java:1739)\r\n2023-02-15T12:54:35.893371116Z \tat fish.payara.micro.impl.PayaraMicroImpl.bootStrap(PayaraMicroImpl.java:1092)\r\n2023-02-15T12:54:35.893373446Z \tat fish.payara.micro.impl.PayaraMicroImpl.create(PayaraMicroImpl.java:236)\r\n2023-02-15T12:54:35.893375726Z \tat fish.payara.micro.impl.PayaraMicroImpl.main(PayaraMicroImpl.java:223)\r\n2023-02-15T12:54:35.893381466Z \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n2023-02-15T12:54:35.893383776Z \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n2023-02-15T12:54:35.893386107Z \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n2023-02-15T12:54:35.893388518Z \tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n2023-02-15T12:54:35.893390787Z \tat fish.payara.micro.boot.loader.MainMethodRunner.run(MainMethodRunner.java:50)\r\n2023-02-15T12:54:35.893393007Z \tat fish.payara.micro.boot.loader.Launcher.launch(Launcher.java:114)\r\n2023-02-15T12:54:35.893395246Z \tat fish.payara.micro.boot.loader.Launcher.launch(Launcher.java:73)\r\n2023-02-15T12:54:35.893397476Z \tat fish.payara.micro.boot.PayaraMicroLauncher.create(PayaraMicroLauncher.java:88)\r\n2023-02-15T12:54:35.893399675Z \tat fish.payara.micro.boot.PayaraMicroLauncher.main(PayaraMicroLauncher.java:72)\r\n2023-02-15T12:54:35.893401814Z \tat fish.payara.micro.PayaraMicro.main(PayaraMicro.java:467)\r\n2023-02-15T12:54:35.893404154Z ]]\r\n```\r\n\r\n\r\n\r\n\r\n\r\nIt works on a lower jdk images but with payara 5 not 6.\r\n","title":"Adding ActiveMQ-rar to a payara micro 6.2022.2 docker image.causes error javax/resource/spi/ActivationSpec","body":"<p>SO I am currently getting an issue while trying to add my active mq adapter to my docker image.</p>\n<p>I am building the image from scratch and bringing in the activeMQ.rar</p>\n<p>My enviroment is\nimage : openjdk:17-alpine\nmaven : 3.9.0\njava : 17\npayara-micro-6.2022.2\nactivemq-rar:5.17.3</p>\n<pre><code>FROM openjdk:17-alpine\n\nENV PAYARA_MICRO_DIR /opt/payara/\n\nCOPY maven/startup/prebootcommands.txt /opt/cmd/prebootcommands.txt\nCOPY maven/startup/payara-micro-6.2022.2.jar /opt/payara/payara-micro-6.2022.2.jar\nCOPY maven/startup/activemq-rar.rar /opt/payara/activemq-rar.rar\n</code></pre>\n<p>I then warm up the payara and set the exec cmd</p>\n<pre><code>RUN java -jar /opt/payara/payara-micro.jar  --disablephonehome --prebootcommandfile /opt/cmd/prebootcommands.txt  --nocluster --addlibs /opt/libs --postbootcommandfile /opt/cmd/portal-setup.txt --warmup --rootdir /opt/payara/domains --deploy /opt/payara/activemq-rar.rar\n\nCMD exec \\\njava -jar -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=9009 -DTargetDatabase=${TARGET_DB} -jar /opt/payara/payara-micro.jar \\\n--disablephonehome \\\n--enablehealthcheck true \\\n--nocluster \\\n--postbootcommandfile /opt/cmd/postbootscript.txt \\\n--addlibs /opt/libs \\\n--name ${HOSTNAME} \\\n--postdeploycommandfile /opt/cmd/postdeploy.asadmin \\\n--deploy /opt/payara/activemq-rar.rar\n</code></pre>\n<p>When I compose the image I am currently getting a javax/resource/spi/ActivationSpec</p>\n<pre><code>[2023-02-15T12:54:35.892+0000] [] [SEVERE] [] [javax.enterprise.system.core] [tid: _ThreadID=1 _ThreadName=main] [timeMillis: 1676465675892] [levelValue: 1000] [[\n2023-02-15T12:54:35.893215648Z   javax/resource/spi/ActivationSpec\n2023-02-15T12:54:35.893218341Z java.lang.ClassNotFoundException: javax.resource.spi.ActivationSpec\n2023-02-15T12:54:35.893220712Z  at com.sun.enterprise.loader.ASURLClassLoader.findClassData(ASURLClassLoader.java:806)\n2023-02-15T12:54:35.893223103Z  at com.sun.enterprise.loader.ASURLClassLoader.findClass(ASURLClassLoader.java:688)\n2023-02-15T12:54:35.893225504Z  at com.sun.appserv.connectors.internal.api.ConnectorClassFinder.findClass(ConnectorClassFinder.java:85)\n2023-02-15T12:54:35.893227945Z  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\n2023-02-15T12:54:35.893230760Z  at com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:83)\n2023-02-15T12:54:35.893233827Z  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n2023-02-15T12:54:35.893248525Z  at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n2023-02-15T12:54:35.893251299Z  at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\n2023-02-15T12:54:35.893254033Z  at com.sun.enterprise.loader.ASURLClassLoader.findClass(ASURLClassLoader.java:746)\n2023-02-15T12:54:35.893256475Z  at com.sun.appserv.connectors.internal.api.ConnectorClassFinder.findClass(ConnectorClassFinder.java:85)\n2023-02-15T12:54:35.893258311Z  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\n2023-02-15T12:54:35.893260954Z  at com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:83)\n2023-02-15T12:54:35.893263546Z  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n2023-02-15T12:54:35.893265362Z  at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n2023-02-15T12:54:35.893267662Z  at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1010)\n2023-02-15T12:54:35.893270245Z  at com.sun.enterprise.loader.ASURLClassLoader.findClass(ASURLClassLoader.java:746)\n2023-02-15T12:54:35.893272535Z  at com.sun.appserv.connectors.internal.api.ConnectorClassFinder.findClass(ConnectorClassFinder.java:85)\n2023-02-15T12:54:35.893274885Z  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:586)\n2023-02-15T12:54:35.893277084Z  at com.sun.enterprise.loader.CurrentBeforeParentClassLoader.loadClass(CurrentBeforeParentClassLoader.java:83)\n2023-02-15T12:54:35.893279284Z  at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:519)\n2023-02-15T12:54:35.893282653Z  at com.sun.enterprise.connectors.deployment.util.ConnectorValidator.getClass(ConnectorValidator.java:242)\n2023-02-15T12:54:35.893284994Z  at com.sun.enterprise.connectors.deployment.util.ConnectorValidator.validateActivationSpec(ConnectorValidator.java:155)\n2023-02-15T12:54:35.893287314Z  at com.sun.enterprise.connectors.deployment.util.ConnectorValidator.accept(ConnectorValidator.java:79)\n2023-02-15T12:54:35.893289725Z  at com.sun.enterprise.connectors.deployment.util.ConnectorValidator.accept(ConnectorValidator.java:72)\n2023-02-15T12:54:35.893292106Z  at com.sun.enterprise.deployment.BundleDescriptor.visit(BundleDescriptor.java:618)\n2023-02-15T12:54:35.893294557Z  at com.sun.enterprise.connectors.deployment.util.ConnectorArchivist.postOpen(ConnectorArchivist.java:173)\n2023-02-15T12:54:35.893297039Z  at com.sun.enterprise.connectors.deployment.util.ConnectorArchivist.postOpen(ConnectorArchivist.java:72)\n2023-02-15T12:54:35.893299298Z  at com.sun.enterprise.deployment.archivist.Archivist.openWith(Archivist.java:294)\n2023-02-15T12:54:35.893301780Z  at com.sun.enterprise.deployment.archivist.ApplicationFactory.openWith(ApplicationFactory.java:232)\n2023-02-15T12:54:35.893304736Z  at org.glassfish.javaee.core.deployment.DolProvider.processDOL(DolProvider.java:211)\n2023-02-15T12:54:35.893307076Z  at org.glassfish.javaee.core.deployment.DolProvider.load(DolProvider.java:246)\n2023-02-15T12:54:35.893312484Z  at org.glassfish.javaee.core.deployment.DolProvider.load(DolProvider.java:97)\n2023-02-15T12:54:35.893314965Z  at com.sun.enterprise.v3.server.ApplicationLifecycle.loadDeployer(ApplicationLifecycle.java:1161)\n2023-02-15T12:54:35.893317356Z  at com.sun.enterprise.v3.server.ApplicationLifecycle.loadDeployers(ApplicationLifecycle.java:1129)\n2023-02-15T12:54:35.893319868Z  at com.sun.enterprise.v3.server.ApplicationLifecycle.setupContainerInfos(ApplicationLifecycle.java:944)\n2023-02-15T12:54:35.893324105Z  at com.sun.enterprise.v3.server.ApplicationLifecycle.prepare(ApplicationLifecycle.java:453)\n2023-02-15T12:54:35.893326950Z  at org.glassfish.deployment.admin.DeployCommand.execute(DeployCommand.java:612)\n2023-02-15T12:54:35.893329341Z  at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:556)\n2023-02-15T12:54:35.893331732Z  at com.sun.enterprise.v3.admin.CommandRunnerImpl$2$1.run(CommandRunnerImpl.java:552)\n2023-02-15T12:54:35.893334082Z  at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n2023-02-15T12:54:35.893336887Z  at java.base/javax.security.auth.Subject.doAs(Subject.java:365)\n2023-02-15T12:54:35.893340771Z  at com.sun.enterprise.v3.admin.CommandRunnerImpl$2.execute(CommandRunnerImpl.java:551)\n2023-02-15T12:54:35.893343172Z  at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:582)\n2023-02-15T12:54:35.893345805Z  at com.sun.enterprise.v3.admin.CommandRunnerImpl$3.run(CommandRunnerImpl.java:574)\n2023-02-15T12:54:35.893348327Z  at java.base/java.security.AccessController.doPrivileged(AccessController.java:391)\n2023-02-15T12:54:35.893351555Z  at java.base/javax.security.auth.Subject.doAs(Subject.java:365)\n2023-02-15T12:54:35.893354006Z  at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:573)\n2023-02-15T12:54:35.893357416Z  at com.sun.enterprise.v3.admin.CommandRunnerImpl.doCommand(CommandRunnerImpl.java:1497)\n2023-02-15T12:54:35.893359676Z  at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1869)\n2023-02-15T12:54:35.893361956Z  at com.sun.enterprise.v3.admin.CommandRunnerImpl$ExecutionContext.execute(CommandRunnerImpl.java:1755)\n2023-02-15T12:54:35.893364468Z  at com.sun.enterprise.admin.cli.embeddable.DeployerImpl.deploy(DeployerImpl.java:131)\n2023-02-15T12:54:35.893366697Z  at com.sun.enterprise.admin.cli.embeddable.DeployerImpl.deploy(DeployerImpl.java:104)\n2023-02-15T12:54:35.893368846Z  at fish.payara.micro.impl.PayaraMicroImpl.deployAll(PayaraMicroImpl.java:1739)\n2023-02-15T12:54:35.893371116Z  at fish.payara.micro.impl.PayaraMicroImpl.bootStrap(PayaraMicroImpl.java:1092)\n2023-02-15T12:54:35.893373446Z  at fish.payara.micro.impl.PayaraMicroImpl.create(PayaraMicroImpl.java:236)\n2023-02-15T12:54:35.893375726Z  at fish.payara.micro.impl.PayaraMicroImpl.main(PayaraMicroImpl.java:223)\n2023-02-15T12:54:35.893381466Z  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n2023-02-15T12:54:35.893383776Z  at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n2023-02-15T12:54:35.893386107Z  at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n2023-02-15T12:54:35.893388518Z  at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n2023-02-15T12:54:35.893390787Z  at fish.payara.micro.boot.loader.MainMethodRunner.run(MainMethodRunner.java:50)\n2023-02-15T12:54:35.893393007Z  at fish.payara.micro.boot.loader.Launcher.launch(Launcher.java:114)\n2023-02-15T12:54:35.893395246Z  at fish.payara.micro.boot.loader.Launcher.launch(Launcher.java:73)\n2023-02-15T12:54:35.893397476Z  at fish.payara.micro.boot.PayaraMicroLauncher.create(PayaraMicroLauncher.java:88)\n2023-02-15T12:54:35.893399675Z  at fish.payara.micro.boot.PayaraMicroLauncher.main(PayaraMicroLauncher.java:72)\n2023-02-15T12:54:35.893401814Z  at fish.payara.micro.PayaraMicro.main(PayaraMicro.java:467)\n2023-02-15T12:54:35.893404154Z ]]\n</code></pre>\n<p>It works on a lower jdk images but with payara 5 not 6.</p>\n"},{"tags":["java","recursion","subsequence"],"owner":{"account_id":27688763,"reputation":1,"user_id":21135948,"display_name":"eris404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676496348,"creation_date":1676496348,"question_id":75465579,"body_markdown":"A logic question in a MOOC I&#39;m taking asked how one would go about returning the total number of increasing subsequences within a given int array using recursion. \r\n\r\nIn my method I use an index parameter as well as a position parameter to compare values with the index. My regular base case is when the index has reached the end of the list, and then I return 1 to account for an array of length 0 to technically count as a valid increasing subsequence. The method in the else statement I currently have written is only able to find subsequences of length 2. For example, if I have array [1, 2, 3], the method only returns 7 because it isn&#39;t counting 123. I&#39;m not sure how to write this so as to account for longer subsequences. I believe it has something to do with creating a separate array and adding values to it and then adding its length to the final value, but I&#39;m not sure how this would be implemented recursively. \r\n\r\n```\r\npublic static int bettersubseq(int[] arr, int index, int pos) {\r\n        if (index == arr.length) {\r\n            return 1;\r\n        } else {\r\n            if (pos == index) {\r\n                return 1 + bettersubseq(arr, index + 1, 0);\r\n            } else {\r\n                if (arr[pos] &lt; arr[index] &amp;&amp; (pos &lt; index)) {\r\n                    return 1 + bettersubseq(arr, index,pos + 1);\r\n                } else {\r\n                    return 0 + bettersubseq(arr, index, pos + 1);\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n","title":"Number of increasing subsequences using recursion java","body":"<p>A logic question in a MOOC I'm taking asked how one would go about returning the total number of increasing subsequences within a given int array using recursion.</p>\n<p>In my method I use an index parameter as well as a position parameter to compare values with the index. My regular base case is when the index has reached the end of the list, and then I return 1 to account for an array of length 0 to technically count as a valid increasing subsequence. The method in the else statement I currently have written is only able to find subsequences of length 2. For example, if I have array [1, 2, 3], the method only returns 7 because it isn't counting 123. I'm not sure how to write this so as to account for longer subsequences. I believe it has something to do with creating a separate array and adding values to it and then adding its length to the final value, but I'm not sure how this would be implemented recursively.</p>\n<pre><code>public static int bettersubseq(int[] arr, int index, int pos) {\n        if (index == arr.length) {\n            return 1;\n        } else {\n            if (pos == index) {\n                return 1 + bettersubseq(arr, index + 1, 0);\n            } else {\n                if (arr[pos] &lt; arr[index] &amp;&amp; (pos &lt; index)) {\n                    return 1 + bettersubseq(arr, index,pos + 1);\n                } else {\n                    return 0 + bettersubseq(arr, index, pos + 1);\n                }\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","generics","controller"],"answers":[{"tags":[],"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676495927,"creation_date":1676495927,"answer_id":75465520,"question_id":75465456,"body_markdown":"If you set `noContent().data` to null, you can safely assign it any type:\r\n\r\n    public static &lt;T&gt; ResponseMessage&lt;T&gt; noContent() {\r\n        return new ResponseMessage&lt;&gt;(HttpStatus.NO_CONTENT.value(), HttpStatus.NO_CONTENT.getReasonPhrase(), null);\r\n    }\r\n\r\nAlso note that calling `Optional.isPresent()` and then `get()` is something of an [antipattern][1]. In your case, you can simplify it to this:\r\n\r\n    return todoService.findRecent(user.getId())\r\n            .map(ResponseMessage::ok)\r\n            .orElseGet(ResponseMessage::noContent);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#get--","title":"Spring Boot Controller return generic types (A or B)","body":"<p>If you set <code>noContent().data</code> to null, you can safely assign it any type:</p>\n<pre><code>public static &lt;T&gt; ResponseMessage&lt;T&gt; noContent() {\n    return new ResponseMessage&lt;&gt;(HttpStatus.NO_CONTENT.value(), HttpStatus.NO_CONTENT.getReasonPhrase(), null);\n}\n</code></pre>\n<p>Also note that calling <code>Optional.isPresent()</code> and then <code>get()</code> is something of an <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Optional.html#get--\" rel=\"nofollow noreferrer\">antipattern</a>. In your case, you can simplify it to this:</p>\n<pre><code>return todoService.findRecent(user.getId())\n        .map(ResponseMessage::ok)\n        .orElseGet(ResponseMessage::noContent);\n</code></pre>\n"}],"owner":{"account_id":14305969,"reputation":135,"user_id":10333868,"display_name":"Jeongkuk Seo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75465520,"answer_count":1,"score":-1,"last_activity_date":1676495927,"creation_date":1676495357,"question_id":75465456,"body_markdown":"I develop simple todo-list application with spring boot. And I wanna send common response dto from all request. The data filed in ReponseMessage is Generic because it can be various type.\r\n\r\n\r\n```\r\npublic class ResponseMessage&lt;T&gt; {\r\n    private int statusCode = HttpStatus.OK.value();\r\n    private String message = &quot;&quot;;\r\n    protected T data;  // this is generic. it can be many response dto.\r\n\r\n    public static ResponseMessage&lt;String&gt; ok() {\r\n        return new ResponseMessage&lt;&gt;(&quot;&quot;);\r\n    }\r\n\r\n    public static &lt;T&gt; ResponseMessage&lt;T&gt; ok(T data) {\r\n        return new ResponseMessage&lt;&gt;(data);\r\n    }\r\n\r\n    public static ResponseMessage&lt;Object&gt; noContent() {\r\n        return new ResponseMessage&lt;&gt;(HttpStatus.NO_CONTENT.value(), HttpStatus.NO_CONTENT.getReasonPhrase(), &quot;&quot;);\r\n    }\r\n\r\n    protected ResponseMessage(T data) {\r\n        this.data = data;\r\n    }\r\n\r\n    private ResponseMessage(int statusCode, String message, T data) {\r\n        this.statusCode = statusCode;\r\n        this.message = message;\r\n        this.data = data;\r\n    }\r\n\r\n    protected ResponseMessage() {}\r\n\r\n    public int getStatusCode() {\r\n        return statusCode;\r\n    }\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n\r\n    public T getData() {\r\n        return data;\r\n    }\r\n}\r\n```\r\n\r\nNow i need to make a feature that find a recend todo. \r\n\r\nIf todo exists, send ResponseMessage&lt;TodoResponse&gt;.\r\n\r\n    {\r\n      &quot;statusCode&quot;: 200,\r\n      &quot;message&quot;: &quot;&quot;,\r\n      &quot;data&quot;: [\r\n        {\r\n            &quot;id&quot;: 1,\r\n            &quot;title&quot;: &quot;test&quot;,\r\n            &quot;status&quot;: &quot;TODO&quot;\r\n        }\r\n      ]\r\n    }\r\n\r\n If todo doesn&#39;t exist, send ResponseMessage&lt;Srring&gt;.  \r\n\r\n    {\r\n      &quot;statusCode&quot;: 200,\r\n      &quot;message&quot;: &quot;&quot;,\r\n      &quot;data&quot;: []\r\n    }\r\n\r\nNow my controller function return like this.\r\n```\r\npublic ResponseMessage&lt;?&gt; findRecent(@AuthenticationPrincipal LoginUser user) {\r\n    Optional&lt;TodoResponse&gt; todo = todoService.findRecent(user.getId());\r\n    return todo.isPresent() ? ResponseMessage.ok(todo.get()) : ResponseMessage.noContent();\r\n}\r\n```\r\nI know that the question mark &#39;?&#39; is not good. so what is better way to return A or B in this case? plz help me.\r\n","title":"Spring Boot Controller return generic types (A or B)","body":"<p>I develop simple todo-list application with spring boot. And I wanna send common response dto from all request. The data filed in ReponseMessage is Generic because it can be various type.</p>\n<pre><code>public class ResponseMessage&lt;T&gt; {\n    private int statusCode = HttpStatus.OK.value();\n    private String message = &quot;&quot;;\n    protected T data;  // this is generic. it can be many response dto.\n\n    public static ResponseMessage&lt;String&gt; ok() {\n        return new ResponseMessage&lt;&gt;(&quot;&quot;);\n    }\n\n    public static &lt;T&gt; ResponseMessage&lt;T&gt; ok(T data) {\n        return new ResponseMessage&lt;&gt;(data);\n    }\n\n    public static ResponseMessage&lt;Object&gt; noContent() {\n        return new ResponseMessage&lt;&gt;(HttpStatus.NO_CONTENT.value(), HttpStatus.NO_CONTENT.getReasonPhrase(), &quot;&quot;);\n    }\n\n    protected ResponseMessage(T data) {\n        this.data = data;\n    }\n\n    private ResponseMessage(int statusCode, String message, T data) {\n        this.statusCode = statusCode;\n        this.message = message;\n        this.data = data;\n    }\n\n    protected ResponseMessage() {}\n\n    public int getStatusCode() {\n        return statusCode;\n    }\n\n    public String getMessage() {\n        return message;\n    }\n\n    public T getData() {\n        return data;\n    }\n}\n</code></pre>\n<p>Now i need to make a feature that find a recend todo.</p>\n<p>If todo exists, send ResponseMessage.</p>\n<pre><code>{\n  &quot;statusCode&quot;: 200,\n  &quot;message&quot;: &quot;&quot;,\n  &quot;data&quot;: [\n    {\n        &quot;id&quot;: 1,\n        &quot;title&quot;: &quot;test&quot;,\n        &quot;status&quot;: &quot;TODO&quot;\n    }\n  ]\n}\n</code></pre>\n<p>If todo doesn't exist, send ResponseMessage.</p>\n<pre><code>{\n  &quot;statusCode&quot;: 200,\n  &quot;message&quot;: &quot;&quot;,\n  &quot;data&quot;: []\n}\n</code></pre>\n<p>Now my controller function return like this.</p>\n<pre><code>public ResponseMessage&lt;?&gt; findRecent(@AuthenticationPrincipal LoginUser user) {\n    Optional&lt;TodoResponse&gt; todo = todoService.findRecent(user.getId());\n    return todo.isPresent() ? ResponseMessage.ok(todo.get()) : ResponseMessage.noContent();\n}\n</code></pre>\n<p>I know that the question mark '?' is not good. so what is better way to return A or B in this case? plz help me.</p>\n"},{"tags":["java","spring","spring-batch"],"comments":[{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1676457333,"post_id":75457597,"comment_id":133138955,"body_markdown":"The type of input items should not necessarily be managed by JPA/Hibernate (ie it does not have to be an entity), but it seems like it is scanned by the JPA auto-configuration. Since your step is changing the input type to another type (`Matching`), only the output type should be managed by JPA. Please share your JPA configuration to be able to help you efficiently.","body":"The type of input items should not necessarily be managed by JPA/Hibernate (ie it does not have to be an entity), but it seems like it is scanned by the JPA auto-configuration. Since your step is changing the input type to another type (<code>Matching</code>), only the output type should be managed by JPA. Please share your JPA configuration to be able to help you efficiently."},{"owner":{"account_id":7938134,"reputation":173,"user_id":5995606,"display_name":"ahgpoug"},"score":0,"creation_date":1676457860,"post_id":75457597,"comment_id":133139087,"body_markdown":"@MahmoudBenHassine, updated my question - added JPA configuration. `Matching` type is entity managed by JPA, located at `XXX.common.model`. \n+ `@EnableAutoConfiguration` annotation in main class.","body":"@MahmoudBenHassine, updated my question - added JPA configuration. <code>Matching</code> type is entity managed by JPA, located at <code>XXX.common.model</code>.  + <code>@EnableAutoConfiguration</code> annotation in main class."},{"owner":{"account_id":7938134,"reputation":173,"user_id":5995606,"display_name":"ahgpoug"},"score":0,"creation_date":1676495686,"post_id":75457597,"comment_id":133150870,"body_markdown":"@MahmoudBenHassine, managed to find a silly mistake in my code - processor was never assigned to this step. So `ItemWriter` actually tried to persist `Row` objects. Sorry for inconvenience.","body":"@MahmoudBenHassine, managed to find a silly mistake in my code - processor was never assigned to this step. So <code>ItemWriter</code> actually tried to persist <code>Row</code> objects. Sorry for inconvenience."},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":1,"creation_date":1676496437,"post_id":75457597,"comment_id":133151069,"body_markdown":"Glad to hear you resolved your issue!","body":"Glad to hear you resolved your issue!"}],"answers":[{"tags":[],"owner":{"account_id":7938134,"reputation":173,"user_id":5995606,"display_name":"ahgpoug"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676495587,"creation_date":1676495587,"answer_id":75465482,"question_id":75457597,"body_markdown":"By debugging Spring Batch source code found that `JpaItemWriter` tries to persist list of `Row`&#39;s instead of `Matching` ones.\r\n\r\nFound a silly mistake in my code:\r\n```\r\n@Bean\r\n@JobScope\r\npublic Step processFileStep() {\r\n    return new StepBuilder(&quot;process-file&quot;, jobRepository)\r\n        .&lt;Row, Matching&gt;chunk(chunkSize, transactionManager)\r\n        .reader(reader())\r\n        .processor()\r\n        .writer(writer())\r\n        .build();\r\n}\r\n```\r\nthis part is missing an actual processor.\r\nSo my POI list of `Row`&#39;s passed directly to JPA writer. I&#39;ve made my processor dummy for testing purposes and never checked that it was actually called. \r\n\r\nCorrect `Step` code is \r\n\r\n```\r\n@Bean\r\n@JobScope\r\npublic Step processFileStep() {\r\n    return new StepBuilder(&quot;process-file&quot;, jobRepository)\r\n        .&lt;Row, Matching&gt;chunk(chunkSize, transactionManager)\r\n        .reader(reader())\r\n        .processor(processor())\r\n        .writer(writer())\r\n        .build();\r\n}\r\n```\r\n\r\nCan&#39;t believe it couldn&#39;t find this issue for at least a few days. ","title":"Spring Batch - unable persist reader type","body":"<p>By debugging Spring Batch source code found that <code>JpaItemWriter</code> tries to persist list of <code>Row</code>'s instead of <code>Matching</code> ones.</p>\n<p>Found a silly mistake in my code:</p>\n<pre><code>@Bean\n@JobScope\npublic Step processFileStep() {\n    return new StepBuilder(&quot;process-file&quot;, jobRepository)\n        .&lt;Row, Matching&gt;chunk(chunkSize, transactionManager)\n        .reader(reader())\n        .processor()\n        .writer(writer())\n        .build();\n}\n</code></pre>\n<p>this part is missing an actual processor.\nSo my POI list of <code>Row</code>'s passed directly to JPA writer. I've made my processor dummy for testing purposes and never checked that it was actually called.</p>\n<p>Correct <code>Step</code> code is</p>\n<pre><code>@Bean\n@JobScope\npublic Step processFileStep() {\n    return new StepBuilder(&quot;process-file&quot;, jobRepository)\n        .&lt;Row, Matching&gt;chunk(chunkSize, transactionManager)\n        .reader(reader())\n        .processor(processor())\n        .writer(writer())\n        .build();\n}\n</code></pre>\n<p>Can't believe it couldn't find this issue for at least a few days.</p>\n"}],"owner":{"account_id":7938134,"reputation":173,"user_id":5995606,"display_name":"ahgpoug"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75465482,"answer_count":1,"score":0,"last_activity_date":1676495587,"creation_date":1676452487,"question_id":75457597,"body_markdown":"after upgrading to Spring Batch 3.0.2 faced the following issue: chunk step fails trying to persist reader object which is not JPA Entity and not Serializable.\r\n\r\n```\r\n@Autowired\r\nprotected PlatformTransactionManager transactionManager;\r\n\r\n@Autowired \r\nprotected JobRepository jobRepository;\r\n\r\n[...]\r\n\r\n@Bean\r\n@JobScope\r\npublic Step processFileStep() {\r\n\treturn new StepBuilder(&quot;process-file&quot;, jobRepository)\r\n\t\t.&lt;Row, Matching&gt;chunk(chunkSize, transactionManager)\r\n\t\t.reader(reader())\r\n\t\t.processor()\r\n\t\t.writer(writer())\r\n\t\t.build();\r\n}\r\n```\r\n\r\nRow type here is `org.apache.poi.ss.usermodel.Row` which is passed by custom Apache POI Excel item reader. `transactionManager` and `jobRepository` are autoconfigured by Spring Data JPA.\r\n\r\nOn this step the following exception occurs:\r\n```\r\njava.lang.IllegalArgumentException: Not an entity [class org.apache.poi.xssf.usermodel.XSSFRow]\r\n\tat org.hibernate.internal.SessionImpl.contains(SessionImpl.java:1604)\r\n\tat org.springframework.batch.item.database.JpaItemWriter.doWrite(JpaItemWriter.java:112)\r\n\tat org.springframework.batch.item.database.JpaItemWriter.write(JpaItemWriter.java:93)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\r\n\tat org.springframework.batch.item.database.JpaItemWriter$$SpringCGLIB$$0.write(&lt;generated&gt;)\r\n\tat org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:203)\r\n\tat org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:170)\r\n\tat org.springframework.batch.core.step.item.SimpleChunkProcessor.write(SimpleChunkProcessor.java:297)\r\n\tat org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:227)\r\n\tat org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:75)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:389)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:313)\r\n\tat org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:256)\r\n\tat org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:362)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:206)\r\n\tat org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:139)\r\n\tat org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:241)\r\n\tat org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:227)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\r\n\tat org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy73.execute(Unknown Source)\r\n\tat org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:153)\r\n\tat org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:417)\r\n\tat org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:132)\r\n\tat org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:316)\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:157)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:148)\r\n\tat org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:70)\r\n\tat org.springframework.batch.integration.launch.JobLaunchingMessageHandler.launch(JobLaunchingMessageHandler.java:53)\r\n\tat org.springframework.batch.integration.launch.JobLaunchingGateway.handleRequestMessage(JobLaunchingGateway.java:71)\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:484)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:339)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:268)\r\n\tat org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:232)\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:142)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\r\n\tat org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n\tat org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n\tat org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\r\n\tat org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n\tat org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n\tat org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n\tat org.springframework.integration.endpoint.SourcePollingChannelAdapter.handleMessage(SourcePollingChannelAdapter.java:196)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:474)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:460)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: org.hibernate.UnknownEntityTypeException: Unable to locate persister: org.apache.poi.xssf.usermodel.XSSFRow\r\n\tat org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.getEntityDescriptor(MappingMetamodelImpl.java:416)\r\n\tat org.hibernate.internal.SessionImpl.contains(SessionImpl.java:1601)\r\n\t... 106 common frames omitted\r\n```\r\n\r\nBatch configuration:\r\n```\r\n@Configuration\r\n@EnableBatchProcessing(tablePrefix = &quot;batch.batch_&quot;)\r\npublic class BatchConfiguration {\r\n}\r\n```\r\n\r\nJPA configuration:\r\n```\r\n@Configuration\r\n@EnableJpaRepositories(&quot;XXX.common.repository&quot;)\r\n@EntityScan(&quot;XXX.common.model&quot;)   \r\npublic class JpaConfig {\r\n}\r\n```\r\n\r\nJPA dependency:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBefore this updage from Spring Batch 2.6.6 to Spring Batch 3.0.2 `chunk()` method did not have `transactionManager` parameter and this code worked as intended. \r\n\r\n\r\nIt seems like Map-based job repository should work in this case but it&#39;s not a production-ready solution.\r\nIs there any way to use `org.apache.poi.ss.usermodel.Row` (or any other non-JPA object) as reader output with newer Spring Batch version with persistent storage?\r\n\r\nThanks in advance.","title":"Spring Batch - unable persist reader type","body":"<p>after upgrading to Spring Batch 3.0.2 faced the following issue: chunk step fails trying to persist reader object which is not JPA Entity and not Serializable.</p>\n<pre><code>@Autowired\nprotected PlatformTransactionManager transactionManager;\n\n@Autowired \nprotected JobRepository jobRepository;\n\n[...]\n\n@Bean\n@JobScope\npublic Step processFileStep() {\n    return new StepBuilder(&quot;process-file&quot;, jobRepository)\n        .&lt;Row, Matching&gt;chunk(chunkSize, transactionManager)\n        .reader(reader())\n        .processor()\n        .writer(writer())\n        .build();\n}\n</code></pre>\n<p>Row type here is <code>org.apache.poi.ss.usermodel.Row</code> which is passed by custom Apache POI Excel item reader. <code>transactionManager</code> and <code>jobRepository</code> are autoconfigured by Spring Data JPA.</p>\n<p>On this step the following exception occurs:</p>\n<pre><code>java.lang.IllegalArgumentException: Not an entity [class org.apache.poi.xssf.usermodel.XSSFRow]\n    at org.hibernate.internal.SessionImpl.contains(SessionImpl.java:1604)\n    at org.springframework.batch.item.database.JpaItemWriter.doWrite(JpaItemWriter.java:112)\n    at org.springframework.batch.item.database.JpaItemWriter.write(JpaItemWriter.java:93)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)\n    at org.springframework.batch.item.database.JpaItemWriter$$SpringCGLIB$$0.write(&lt;generated&gt;)\n    at org.springframework.batch.core.step.item.SimpleChunkProcessor.writeItems(SimpleChunkProcessor.java:203)\n    at org.springframework.batch.core.step.item.SimpleChunkProcessor.doWrite(SimpleChunkProcessor.java:170)\n    at org.springframework.batch.core.step.item.SimpleChunkProcessor.write(SimpleChunkProcessor.java:297)\n    at org.springframework.batch.core.step.item.SimpleChunkProcessor.process(SimpleChunkProcessor.java:227)\n    at org.springframework.batch.core.step.item.ChunkOrientedTasklet.execute(ChunkOrientedTasklet.java:75)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:389)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$ChunkTransactionCallback.doInTransaction(TaskletStep.java:313)\n    at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)\n    at org.springframework.batch.core.step.tasklet.TaskletStep$2.doInChunkContext(TaskletStep.java:256)\n    at org.springframework.batch.core.scope.context.StepContextRepeatCallback.doInIteration(StepContextRepeatCallback.java:82)\n    at org.springframework.batch.repeat.support.RepeatTemplate.getNextResult(RepeatTemplate.java:362)\n    at org.springframework.batch.repeat.support.RepeatTemplate.executeInternal(RepeatTemplate.java:206)\n    at org.springframework.batch.repeat.support.RepeatTemplate.iterate(RepeatTemplate.java:139)\n    at org.springframework.batch.core.step.tasklet.TaskletStep.doExecute(TaskletStep.java:241)\n    at org.springframework.batch.core.step.AbstractStep.execute(AbstractStep.java:227)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.doProceed(DelegatingIntroductionInterceptor.java:137)\n    at org.springframework.aop.support.DelegatingIntroductionInterceptor.invoke(DelegatingIntroductionInterceptor.java:124)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy2/jdk.proxy2.$Proxy73.execute(Unknown Source)\n    at org.springframework.batch.core.job.SimpleStepHandler.handleStep(SimpleStepHandler.java:153)\n    at org.springframework.batch.core.job.AbstractJob.handleStep(AbstractJob.java:417)\n    at org.springframework.batch.core.job.SimpleJob.doExecute(SimpleJob.java:132)\n    at org.springframework.batch.core.job.AbstractJob.execute(AbstractJob.java:316)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher$1.run(SimpleJobLauncher.java:157)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.batch.core.launch.support.SimpleJobLauncher.run(SimpleJobLauncher.java:148)\n    at org.springframework.batch.core.launch.support.TaskExecutorJobLauncher.run(TaskExecutorJobLauncher.java:70)\n    at org.springframework.batch.integration.launch.JobLaunchingMessageHandler.launch(JobLaunchingMessageHandler.java:53)\n    at org.springframework.batch.integration.launch.JobLaunchingGateway.handleRequestMessage(JobLaunchingGateway.java:71)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutput(AbstractMessageProducingHandler.java:484)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.doProduceOutput(AbstractMessageProducingHandler.java:339)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.produceOutput(AbstractMessageProducingHandler.java:268)\n    at org.springframework.integration.handler.AbstractMessageProducingHandler.sendOutputs(AbstractMessageProducingHandler.java:232)\n    at org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:142)\n    at org.springframework.integration.handler.AbstractMessageHandler.doHandleMessage(AbstractMessageHandler.java:105)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleWithMetrics(AbstractMessageHandler.java:90)\n    at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:70)\n    at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n    at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n    at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendInternal(AbstractMessageChannel.java:373)\n    at org.springframework.integration.channel.AbstractMessageChannel.sendWithMetrics(AbstractMessageChannel.java:344)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:324)\n    at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:297)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n    at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n    at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n    at org.springframework.integration.endpoint.SourcePollingChannelAdapter.handleMessage(SourcePollingChannelAdapter.java:196)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:474)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:460)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:412)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:96)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: org.hibernate.UnknownEntityTypeException: Unable to locate persister: org.apache.poi.xssf.usermodel.XSSFRow\n    at org.hibernate.metamodel.model.domain.internal.MappingMetamodelImpl.getEntityDescriptor(MappingMetamodelImpl.java:416)\n    at org.hibernate.internal.SessionImpl.contains(SessionImpl.java:1601)\n    ... 106 common frames omitted\n</code></pre>\n<p>Batch configuration:</p>\n<pre><code>@Configuration\n@EnableBatchProcessing(tablePrefix = &quot;batch.batch_&quot;)\npublic class BatchConfiguration {\n}\n</code></pre>\n<p>JPA configuration:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(&quot;XXX.common.repository&quot;)\n@EntityScan(&quot;XXX.common.model&quot;)   \npublic class JpaConfig {\n}\n</code></pre>\n<p>JPA dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Before this updage from Spring Batch 2.6.6 to Spring Batch 3.0.2 <code>chunk()</code> method did not have <code>transactionManager</code> parameter and this code worked as intended.</p>\n<p>It seems like Map-based job repository should work in this case but it's not a production-ready solution.\nIs there any way to use <code>org.apache.poi.ss.usermodel.Row</code> (or any other non-JPA object) as reader output with newer Spring Batch version with persistent storage?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","awt","headless","x11-forwarding"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676498287,"post_id":75465264,"comment_id":133151505,"body_markdown":"What do you get from `readlink -f &quot;$(which java)&quot;`","body":"What do you get from <code>readlink -f &quot;$(which java)&quot;</code>"},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":0,"creation_date":1676500025,"post_id":75465264,"comment_id":133151843,"body_markdown":"Maybe try to set the DISPLAY variable as suggested with something like `export DISPLAY=:0.0`","body":"Maybe try to set the DISPLAY variable as suggested with something like <code>export DISPLAY=:0.0</code>"}],"owner":{"account_id":17024158,"reputation":11,"user_id":12315885,"display_name":"Honza P&#237;ka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676495531,"creation_date":1676493885,"question_id":75465264,"body_markdown":"I have problem with running my java GUI program using cmd on Ubuntu Linux. When I run it using IntelliJ it works just fine, but using cmd breaks it. \r\n\r\nFrom my research I have understood that the problem might be caused by me downloading the &#39;headless java version&#39;. \r\nSo I d like to ask how can I solve this problem. How to mby reinstall it correctly or something that would help.\r\n\r\nThx a lot\r\n\r\n\r\nI tried: \r\n```\r\njava -jar TIcTacToe.jar\r\n```\r\nBut, outcome is: \r\n```\r\nException in thread &quot;main&quot; java.awt.HeadlessException: \r\nNo X11 DISPLAY variable was set,\r\nor no headful library support was found,\r\nbut this program performed an operation which requires it,\r\n\r\n\tat java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:166)\r\n\tat java.desktop/java.awt.Window.&lt;init&gt;(Window.java:553)\r\n\tat java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:428)\r\n\tat java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:393)\r\n\tat java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\r\n\tat TicTacToe.&lt;init&gt;(TicTacToe.java:7)\r\n\tat Main.main(Main.java:3)\r\n``` \r\nI am expecting to be able to run my .jre file using cmd.","title":"How to disable &#39;headless java mode&#39; to be able to run .jre GUI application using command line on Ubuntu","body":"<p>I have problem with running my java GUI program using cmd on Ubuntu Linux. When I run it using IntelliJ it works just fine, but using cmd breaks it.</p>\n<p>From my research I have understood that the problem might be caused by me downloading the 'headless java version'.\nSo I d like to ask how can I solve this problem. How to mby reinstall it correctly or something that would help.</p>\n<p>Thx a lot</p>\n<p>I tried:</p>\n<pre><code>java -jar TIcTacToe.jar\n</code></pre>\n<p>But, outcome is:</p>\n<pre><code>Exception in thread &quot;main&quot; java.awt.HeadlessException: \nNo X11 DISPLAY variable was set,\nor no headful library support was found,\nbut this program performed an operation which requires it,\n\n    at java.desktop/java.awt.GraphicsEnvironment.checkHeadless(GraphicsEnvironment.java:166)\n    at java.desktop/java.awt.Window.&lt;init&gt;(Window.java:553)\n    at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:428)\n    at java.desktop/java.awt.Frame.&lt;init&gt;(Frame.java:393)\n    at java.desktop/javax.swing.JFrame.&lt;init&gt;(JFrame.java:180)\n    at TicTacToe.&lt;init&gt;(TicTacToe.java:7)\n    at Main.main(Main.java:3)\n</code></pre>\n<p>I am expecting to be able to run my .jre file using cmd.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":27795467,"reputation":1,"user_id":21221082,"display_name":"Jodyoda"},"score":0,"creation_date":1676494138,"post_id":75463315,"comment_id":133150489,"body_markdown":"Thank you so much for giving me another way to look at this.","body":"Thank you so much for giving me another way to look at this."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1676510675,"post_id":75463315,"comment_id":133153473,"body_markdown":"@Jodyoda If this answer resolved your concern then please consider accepting it. Accepted answers are more helpful for the community.","body":"@Jodyoda If this answer resolved your concern then please consider accepting it. Accepted answers are more helpful for the community."}],"tags":[],"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676495118,"creation_date":1676481509,"answer_id":75463315,"question_id":75463261,"body_markdown":"Consider looking for the opposite: a condition where you must fail. From there, you can use runtime exceptions to ensure a few things:\r\n1) The invalid state is not applied\r\n2) A developer passing this invalid state will get an exception, and have a clear reason to fix their code\r\n3) You no longer have to worry about invalid state further on in the method (i.e. legs will only be `2` or `4` further on).\r\n\r\n\r\nIn doing so, your method may end up looking like this:\r\n\r\n    public void setNbrLegs(int legs) {\r\n        if (legs != 4 &amp;&amp; legs != 2) {\r\n            throw new IllegalArgumentException(&quot;Can only have 2 or 4 legs&quot;);\r\n        }\r\n        this.nbrLegs = legs;\r\n    }\r\n\r\nThis preconditional checking is also good to do early in your methods (fast-fail), as it will prevent excess work being done for a method that will only &quot;fail&quot;.","title":"Java Related, regarding: If-Else, Do-While, Try-Catch","body":"<p>Consider looking for the opposite: a condition where you must fail. From there, you can use runtime exceptions to ensure a few things:</p>\n<ol>\n<li>The invalid state is not applied</li>\n<li>A developer passing this invalid state will get an exception, and have a clear reason to fix their code</li>\n<li>You no longer have to worry about invalid state further on in the method (i.e. legs will only be <code>2</code> or <code>4</code> further on).</li>\n</ol>\n<p>In doing so, your method may end up looking like this:</p>\n<pre><code>public void setNbrLegs(int legs) {\n    if (legs != 4 &amp;&amp; legs != 2) {\n        throw new IllegalArgumentException(&quot;Can only have 2 or 4 legs&quot;);\n    }\n    this.nbrLegs = legs;\n}\n</code></pre>\n<p>This preconditional checking is also good to do early in your methods (fast-fail), as it will prevent excess work being done for a method that will only &quot;fail&quot;.</p>\n"}],"owner":{"account_id":27795467,"reputation":1,"user_id":21221082,"display_name":"Jodyoda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676531434,"answer_count":1,"score":0,"last_activity_date":1676495118,"creation_date":1676481239,"question_id":75463261,"body_markdown":"I am in my first semester of a Java Course. I am struggling to understand how I put exclusiveness on a statement.  I am writing a Class for an Object Couch. I have tried to build a well formed class, but for the outcome from my main, in the console it must only have 4 or 8 legs on the couch. There is no user input as I am hard coding the variables, but I want to be sure that if I hard code for 5 legs it will stop me or an error message will pop up. Any suggestions?\r\n\r\n    public void setNbrLegs(int nbrLegs){\r\n        if ((nbrLegs == 2) || (nbrLegs == 4)){\r\n            this.nbrLegs = nbrLegs;\r\n        }\r\n    }\r\n\r\nI tried putting an &quot;else&quot;  with a message that that number is bad, but what is did was bypass my error message and just insert the incorrect number ofLegs as 5.","title":"Java Related, regarding: If-Else, Do-While, Try-Catch","body":"<p>I am in my first semester of a Java Course. I am struggling to understand how I put exclusiveness on a statement.  I am writing a Class for an Object Couch. I have tried to build a well formed class, but for the outcome from my main, in the console it must only have 4 or 8 legs on the couch. There is no user input as I am hard coding the variables, but I want to be sure that if I hard code for 5 legs it will stop me or an error message will pop up. Any suggestions?</p>\n<pre><code>public void setNbrLegs(int nbrLegs){\n    if ((nbrLegs == 2) || (nbrLegs == 4)){\n        this.nbrLegs = nbrLegs;\n    }\n}\n</code></pre>\n<p>I tried putting an &quot;else&quot;  with a message that that number is bad, but what is did was bypass my error message and just insert the incorrect number ofLegs as 5.</p>\n"},{"tags":["java","algorithm","combinations"],"comments":[{"owner":{"account_id":920781,"reputation":1278,"user_id":952526,"accept_rate":83,"display_name":"Tariq M Nasim"},"score":1,"creation_date":1378049978,"post_id":4243831,"comment_id":27305184,"body_markdown":"here is a good solution with example: [http://www.geeksforgeeks.org/dynamic-programming-set-7-coin-change/](http://www.geeksforgeeks.org/dynamic-programming-set-7-coin-change/)","body":"here is a good solution with example: <a href=\"http://www.geeksforgeeks.org/dynamic-programming-set-7-coin-change/\" rel=\"nofollow noreferrer\">http://www.geeksforgeeks.org/dynamic-programming-set-7-coin-&zwnj;&#8203;change/</a>"}],"answers":[{"comments":[{"owner":{"account_id":331665,"reputation":2311,"user_id":656488,"accept_rate":89,"display_name":"Nickkk"},"score":7,"creation_date":1362146696,"post_id":4243925,"comment_id":21346541,"body_markdown":"Shouldn&#39;t it be `amount-coins[checkFromIndex]`?","body":"Shouldn&#39;t it be <code>amount-coins[checkFromIndex]</code>?"}],"tags":[],"owner":{"account_id":20373,"reputation":5888,"user_id":48648,"accept_rate":95,"display_name":"Jordi"},"comment_count":1,"down_vote_count":1,"up_vote_count":39,"is_accepted":false,"score":38,"last_activity_date":1397561417,"creation_date":1290417845,"answer_id":4243925,"question_id":4243831,"body_markdown":"Use recursion.\r\n\r\n\tint findCombinationsCount(int amount, int coins[]) {\r\n\t\treturn findCombinationsCount(amount, coins, 0);\r\n\t}\r\n\r\n\tint findCombinationsCount(int amount, int coins[], int checkFromIndex) {\r\n\t\tif (amount == 0)\r\n\t\t\treturn 1;\r\n\t\telse if (amount &lt; 0 || coins.length == checkFromIndex)\r\n\t\t\treturn 0;\r\n\t\telse {\r\n\t\t\tint withFirstCoin = findCombinationsCount(amount-coins[checkFromIndex], coins, checkFromIndex);\r\n\t\t\tint withoutFirstCoin = findCombinationsCount(amount, coins, checkFromIndex+1);\r\n\t\t\treturn withFirstCoin + withoutFirstCoin;\r\n\t\t}\r\n\t}\r\n\r\nYou should check this implementation though. I don&#39;t have a Java IDE here, and I&#39;m a little rusty, so it may have some errors.","title":"How to count possible combination for coin problem","body":"<p>Use recursion.</p>\n\n<pre><code>int findCombinationsCount(int amount, int coins[]) {\n    return findCombinationsCount(amount, coins, 0);\n}\n\nint findCombinationsCount(int amount, int coins[], int checkFromIndex) {\n    if (amount == 0)\n        return 1;\n    else if (amount &lt; 0 || coins.length == checkFromIndex)\n        return 0;\n    else {\n        int withFirstCoin = findCombinationsCount(amount-coins[checkFromIndex], coins, checkFromIndex);\n        int withoutFirstCoin = findCombinationsCount(amount, coins, checkFromIndex+1);\n        return withFirstCoin + withoutFirstCoin;\n    }\n}\n</code></pre>\n\n<p>You should check this implementation though. I don't have a Java IDE here, and I'm a little rusty, so it may have some errors.</p>\n"},{"tags":[],"owner":{"account_id":56534,"reputation":85043,"user_id":169346,"display_name":"JeremyP"},"comment_count":0,"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1290418761,"creation_date":1290418761,"answer_id":4244025,"question_id":4243831,"body_markdown":"A recursive solution might be the right answer here:\r\n\r\n    int findCombinationsCount(int amount, int coins[])\r\n    {\r\n        // I am assuming amount &gt;= 0, coins.length &gt; 0 and all elements of coins &gt; 0.\r\n        if (coins.length == 1)\r\n        {\r\n            return amount % coins[0] == 0 ? 1 : 0;\r\n        }\r\n        else\r\n        {\r\n            int total = 0;\r\n            int[] subCoins = arrayOfCoinsExceptTheFirstOne(coins);\r\n            for (int i = 0 ; i * coins[0] &lt;= amount ; ++i)\r\n            {\r\n                total += findCombinationsCount(amount - i * coins[0], subCoins);\r\n            }\r\n            return total;\r\n        }\r\n    }\r\n\r\nWarning: I haven&#39;t tested or even compiled the above.","title":"How to count possible combination for coin problem","body":"<p>A recursive solution might be the right answer here:</p>\n\n<pre><code>int findCombinationsCount(int amount, int coins[])\n{\n    // I am assuming amount &gt;= 0, coins.length &gt; 0 and all elements of coins &gt; 0.\n    if (coins.length == 1)\n    {\n        return amount % coins[0] == 0 ? 1 : 0;\n    }\n    else\n    {\n        int total = 0;\n        int[] subCoins = arrayOfCoinsExceptTheFirstOne(coins);\n        for (int i = 0 ; i * coins[0] &lt;= amount ; ++i)\n        {\n            total += findCombinationsCount(amount - i * coins[0], subCoins);\n        }\n        return total;\n    }\n}\n</code></pre>\n\n<p>Warning: I haven't tested or even compiled the above.</p>\n"},{"tags":[],"owner":{"account_id":39411,"reputation":2973,"user_id":113644,"accept_rate":82,"display_name":"G B"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1290419543,"creation_date":1290419543,"answer_id":4244138,"question_id":4243831,"body_markdown":"First idea:\r\n\r\n    int combinations = 0;\r\n    for (int i = 0; i * 7 &lt;=15; i++) {\r\n        for (int j = 0; j * 6 + i * 7 &lt;= 15; j++) {\r\n          combinations++;\r\n        }\r\n    }\r\n\r\n(the &#39;&lt;=&#39; is superfluous in this case, but is needed for a more general solution, if you decide to change your parameters)","title":"How to count possible combination for coin problem","body":"<p>First idea:</p>\n\n<pre><code>int combinations = 0;\nfor (int i = 0; i * 7 &lt;=15; i++) {\n    for (int j = 0; j * 6 + i * 7 &lt;= 15; j++) {\n      combinations++;\n    }\n}\n</code></pre>\n\n<p>(the '&lt;=' is superfluous in this case, but is needed for a more general solution, if you decide to change your parameters)</p>\n"},{"comments":[{"owner":{"account_id":32380,"reputation":134957,"user_id":89806,"accept_rate":58,"display_name":"moinudin"},"score":0,"creation_date":1290455996,"post_id":4244774,"comment_id":4603074,"body_markdown":"Exactly as I said. In the knapsack solution, each state keeps the minimum number of coins used to get there. For this problem, you do something like dp[current_total] += dp[current_total - current_denomination].","body":"Exactly as I said. In the knapsack solution, each state keeps the minimum number of coins used to get there. For this problem, you do something like dp[current_total] += dp[current_total - current_denomination]."}],"tags":[],"owner":{"account_id":32380,"reputation":134957,"user_id":89806,"accept_rate":58,"display_name":"moinudin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348573125,"creation_date":1290424103,"answer_id":4244774,"question_id":4243831,"body_markdown":"The recursive solutions mentioned will work, but they&#39;re going to be horrendously slow if you add more coin denominations and/or increase the target value significantly.\r\n\r\nWhat you need to speed it up is to implement a dynamic programming solution. Have a look at the [knapsack problem][1]. You can adapt the DP solution mentioned there to solve your problem by keeping a count of the number of ways a total can be reached rather than the minimum number of coins required.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Knapsack_problem","title":"How to count possible combination for coin problem","body":"<p>The recursive solutions mentioned will work, but they're going to be horrendously slow if you add more coin denominations and/or increase the target value significantly.</p>\n\n<p>What you need to speed it up is to implement a dynamic programming solution. Have a look at the <a href=\"http://en.wikipedia.org/wiki/Knapsack_problem\" rel=\"nofollow\">knapsack problem</a>. You can adapt the DP solution mentioned there to solve your problem by keeping a count of the number of ways a total can be reached rather than the minimum number of coins required.</p>\n"},{"tags":[],"owner":{"account_id":214718,"reputation":799,"user_id":468854,"accept_rate":88,"display_name":"aronp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599339017,"creation_date":1290427793,"answer_id":4245248,"question_id":4243831,"body_markdown":"Again using recursion a tested solution, though probably not the most elegant code. (note it returns the number of each coin to use rather than repeating the actual coin ammount n times).\r\n\r\n```java\r\npublic class CoinPerm {\r\n\r\n\t\r\n\t@Test\r\n\tpublic void QuickTest() throws Exception\r\n\t{\r\n\t\tint ammount = 15;\r\n\t\tint coins[] = {1,6,7};\r\n\t\t\r\n\t\tArrayList&lt;solution&gt; solutionList = SolvePerms(ammount, coins);\r\n\t\t\r\n\t\tfor (solution sol : solutionList)\r\n\t\t{\r\n\t\t\tSystem.out.println(sol);\r\n\t\t}\r\n\t\t\r\n\t\tassertTrue(&quot;Wrong number of solutions &quot; + solutionList.size(),solutionList.size()  == 6);\r\n\t}\r\n\r\n\t\r\n\t\r\n\tpublic ArrayList&lt;solution&gt;  SolvePerms(int ammount, int coins[]) throws Exception\r\n\t{\r\n\t\tArrayList&lt;solution&gt; solutionList = new ArrayList&lt;solution&gt;();\r\n\t\tArrayList&lt;Integer&gt; emptyList = new ArrayList&lt;Integer&gt;();\r\n\t\tsolution CurrentSolution = new solution(emptyList);\r\n\t\tGetPerms(ammount, coins, CurrentSolution, solutionList);\r\n\t\t\r\n\t\treturn solutionList;\r\n\t}\r\n\t\r\n\t\r\n\tprivate void GetPerms(int ammount, int coins[], solution CurrentSolution,   ArrayList&lt;solution&gt; mSolutions) throws Exception\r\n\t{\r\n\t\tint currentCoin = coins[0];\r\n\t\t\r\n\t\tif (currentCoin &lt;= 0)\r\n\t\t{\r\n\t\t\tthrow new Exception(&quot;Cant cope with negative or zero ammounts&quot;);\r\n\t\t}\r\n\t\t\r\n\t\tif (coins.length == 1)\r\n\t\t{\r\n\t\t\tif (ammount % currentCoin == 0)\r\n\t\t\t{\r\n\t\t\t\tCurrentSolution.add(ammount/currentCoin);\r\n\t\t\t\tmSolutions.add(CurrentSolution);\r\n\t\t\t}\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t\r\n\t\t// work out list with one less coin.\r\n\t\tint coinsDepth = coins.length;\r\n\t\tint reducedCoins[] = new int[(coinsDepth -1 )];\r\n\t\tfor (int j = 0; j &lt; coinsDepth - 1;j++)\r\n\t\t{\r\n\t\t\treducedCoins[j] = coins[j+1];\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t// integer rounding okay;\r\n\t\tint numberOfPerms = ammount / currentCoin;\r\n\t\t\r\n\t\tfor (int j = 0; j &lt;= numberOfPerms; j++)\r\n\t\t{\r\n\t\t\tsolution newSolution =  CurrentSolution.clone();\r\n\t\t\tnewSolution.add(j);\r\n\t\t\tGetPerms(ammount - j * currentCoin,reducedCoins, newSolution, mSolutions );\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tprivate class solution \r\n\t{\r\n\t\tArrayList&lt;Integer&gt; mNumberOfCoins;\r\n\r\n\t\tsolution(ArrayList&lt;Integer&gt; anumberOfCoins)\r\n\t\t{\r\n\t\t\tmNumberOfCoins = anumberOfCoins;\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tpublic String toString() {\r\n\t\t\tif (mNumberOfCoins != null &amp;&amp; mNumberOfCoins.size() &gt; 0)\r\n\t\t\t{\r\n\t\t\t\tString retval = mNumberOfCoins.get(0).toString();\r\n\t\t\t\tfor (int i = 1; i&lt; mNumberOfCoins.size();i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tretval += &quot;,&quot;+mNumberOfCoins.get(i).toString();\r\n\t\t\t\t}\r\n\t\t\t\treturn retval;\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\treturn &quot;&quot;;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t@Override\r\n\t\tprotected solution clone() \r\n\t\t{\r\n\t\t\treturn new solution((ArrayList&lt;Integer&gt;) mNumberOfCoins.clone());\r\n\t\t}\r\n\r\n\t\tpublic void add(int i) {\r\n\t\t\tmNumberOfCoins.add(i);\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```","title":"How to count possible combination for coin problem","body":"<p>Again using recursion a tested solution, though probably not the most elegant code. (note it returns the number of each coin to use rather than repeating the actual coin ammount n times).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CoinPerm {\n\n    \n    @Test\n    public void QuickTest() throws Exception\n    {\n        int ammount = 15;\n        int coins[] = {1,6,7};\n        \n        ArrayList&lt;solution&gt; solutionList = SolvePerms(ammount, coins);\n        \n        for (solution sol : solutionList)\n        {\n            System.out.println(sol);\n        }\n        \n        assertTrue(&quot;Wrong number of solutions &quot; + solutionList.size(),solutionList.size()  == 6);\n    }\n\n    \n    \n    public ArrayList&lt;solution&gt;  SolvePerms(int ammount, int coins[]) throws Exception\n    {\n        ArrayList&lt;solution&gt; solutionList = new ArrayList&lt;solution&gt;();\n        ArrayList&lt;Integer&gt; emptyList = new ArrayList&lt;Integer&gt;();\n        solution CurrentSolution = new solution(emptyList);\n        GetPerms(ammount, coins, CurrentSolution, solutionList);\n        \n        return solutionList;\n    }\n    \n    \n    private void GetPerms(int ammount, int coins[], solution CurrentSolution,   ArrayList&lt;solution&gt; mSolutions) throws Exception\n    {\n        int currentCoin = coins[0];\n        \n        if (currentCoin &lt;= 0)\n        {\n            throw new Exception(&quot;Cant cope with negative or zero ammounts&quot;);\n        }\n        \n        if (coins.length == 1)\n        {\n            if (ammount % currentCoin == 0)\n            {\n                CurrentSolution.add(ammount/currentCoin);\n                mSolutions.add(CurrentSolution);\n            }\n            return;\n        }\n        \n        // work out list with one less coin.\n        int coinsDepth = coins.length;\n        int reducedCoins[] = new int[(coinsDepth -1 )];\n        for (int j = 0; j &lt; coinsDepth - 1;j++)\n        {\n            reducedCoins[j] = coins[j+1];\n        }\n        \n        \n        // integer rounding okay;\n        int numberOfPerms = ammount / currentCoin;\n        \n        for (int j = 0; j &lt;= numberOfPerms; j++)\n        {\n            solution newSolution =  CurrentSolution.clone();\n            newSolution.add(j);\n            GetPerms(ammount - j * currentCoin,reducedCoins, newSolution, mSolutions ); \n        }\n    }\n    \n    \n    private class solution \n    {\n        ArrayList&lt;Integer&gt; mNumberOfCoins;\n\n        solution(ArrayList&lt;Integer&gt; anumberOfCoins)\n        {\n            mNumberOfCoins = anumberOfCoins;\n        }\n        \n        @Override\n        public String toString() {\n            if (mNumberOfCoins != null &amp;&amp; mNumberOfCoins.size() &gt; 0)\n            {\n                String retval = mNumberOfCoins.get(0).toString();\n                for (int i = 1; i&lt; mNumberOfCoins.size();i++)\n                {\n                    retval += &quot;,&quot;+mNumberOfCoins.get(i).toString();\n                }\n                return retval;\n            }\n            else\n            {\n                return &quot;&quot;;\n            }\n        }\n        \n        @Override\n        protected solution clone() \n        {\n            return new solution((ArrayList&lt;Integer&gt;) mNumberOfCoins.clone());\n        }\n\n        public void add(int i) {\n            mNumberOfCoins.add(i);\n        }\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":0,"creation_date":1410452602,"post_id":4249225,"comment_id":40341129,"body_markdown":"See [my answer](http://stackoverflow.com/a/25792520/2144669) for a more practical take on this approach, with suggestions for the unspecified algorithms.","body":"See <a href=\"http://stackoverflow.com/a/25792520/2144669\">my answer</a> for a more practical take on this approach, with suggestions for the unspecified algorithms."},{"owner":{"account_id":764513,"reputation":2280,"user_id":793154,"accept_rate":58,"display_name":"Diego-MX"},"score":0,"creation_date":1439791973,"post_id":4249225,"comment_id":51987537,"body_markdown":"Found this old thread.  There are some adjustments when the denominations are relative, in which case the partial fraction decomposition gives terms like `Ak/(x-ak)^bk` and the coefficients of x^n gets more complicated.","body":"Found this old thread.  There are some adjustments when the denominations are relative, in which case the partial fraction decomposition gives terms like <code>Ak&#47;(x-ak)^bk</code> and the coefficients of x^n gets more complicated."}],"tags":[],"owner":{"display_name":"Aryabhatta"},"comment_count":2,"down_vote_count":1,"up_vote_count":14,"is_accepted":true,"score":13,"last_activity_date":1290453257,"creation_date":1290452904,"answer_id":4249225,"question_id":4243831,"body_markdown":"You can use generating function methods to give fast algorithms, which use complex numbers.\r\n\r\nGiven the coin values c1, c2, .., ck, to get the number of ways to sum n, what you need is the coefficient of x^n in\r\n\r\n    (1 + x^c1 + x^(2c1) + x^(3c1) + ...)(1+x^c2 + x^(2c2) + x^(3c2) + ...)....(1+x^ck + x^(2ck) + x^(3ck) + ...)\r\n\r\nWhich is the same as finding the coefficient of x^n in\r\n\r\n    1/(1-x^c1) * 1/(1-x^c2) * ... * (1-x^ck)\r\n\r\nNow using complex numbers, x^a - 1 = (x-w1)(x-w2)...(x-wa) where w1, w2 etc are the complex roots of unity.\r\n\r\nSo\r\n\r\n    1/(1-x^c1) * 1/(1-x^c2) * ... * (1-x^ck)\r\n\r\ncan be written as\r\n\r\n    1/(x-a1)(x-a2)....(x-am)\r\n\r\nwhich can be rewritten using partial fractions are\r\n\r\n    A1/(x-a1) + A2/(x-a2) + ... + Am/(x-am)\r\n\r\n\r\nThe coefficient of x^n in this can be easily found: \r\n\r\n    A1/(a1)^(n+1) + A2/(a2)^(n+1) + ...+ Am/(am)^(n+1).\r\n\r\n\r\nA computer program should easily be able to find Ai and ai (which could be complex numbers). Of course, this might involve floating point computations.\r\n\r\nFor large n, this will be probably faster than enumerating all the possible combinations.\r\n\r\nHope that helps.","title":"How to count possible combination for coin problem","body":"<p>You can use generating function methods to give fast algorithms, which use complex numbers.</p>\n\n<p>Given the coin values c1, c2, .., ck, to get the number of ways to sum n, what you need is the coefficient of x^n in</p>\n\n<pre><code>(1 + x^c1 + x^(2c1) + x^(3c1) + ...)(1+x^c2 + x^(2c2) + x^(3c2) + ...)....(1+x^ck + x^(2ck) + x^(3ck) + ...)\n</code></pre>\n\n<p>Which is the same as finding the coefficient of x^n in</p>\n\n<pre><code>1/(1-x^c1) * 1/(1-x^c2) * ... * (1-x^ck)\n</code></pre>\n\n<p>Now using complex numbers, x^a - 1 = (x-w1)(x-w2)...(x-wa) where w1, w2 etc are the complex roots of unity.</p>\n\n<p>So</p>\n\n<pre><code>1/(1-x^c1) * 1/(1-x^c2) * ... * (1-x^ck)\n</code></pre>\n\n<p>can be written as</p>\n\n<pre><code>1/(x-a1)(x-a2)....(x-am)\n</code></pre>\n\n<p>which can be rewritten using partial fractions are</p>\n\n<pre><code>A1/(x-a1) + A2/(x-a2) + ... + Am/(x-am)\n</code></pre>\n\n<p>The coefficient of x^n in this can be easily found: </p>\n\n<pre><code>A1/(a1)^(n+1) + A2/(a2)^(n+1) + ...+ Am/(am)^(n+1).\n</code></pre>\n\n<p>A computer program should easily be able to find Ai and ai (which could be complex numbers). Of course, this might involve floating point computations.</p>\n\n<p>For large n, this will be probably faster than enumerating all the possible combinations.</p>\n\n<p>Hope that helps.</p>\n"},{"comments":[{"owner":{"account_id":30659,"reputation":22506,"user_id":83695,"accept_rate":86,"display_name":"andersoj"},"score":2,"creation_date":1336613742,"post_id":10515818,"comment_id":13615316,"body_markdown":"might want to offer some description","body":"might want to offer some description"}],"tags":[],"owner":{"account_id":1473580,"reputation":1,"user_id":1384540,"display_name":"cyberkid"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1336569561,"creation_date":1336565527,"answer_id":10515818,"question_id":4243831,"body_markdown":"    public static void main(String[] args) {\r\n               \r\n        int b,c,total = 15;\r\n        int combos =1;\r\n            for(int d=0;d&lt;total/7;d++)\r\n               {\r\n                 b = total - d * 7;\r\n                for (int n = 0; n &lt;= b /6; n++)\r\n    \t\t{\r\n               \t\t\tcombos++;\r\n                            \r\n    \t\t}\r\n                \r\n            }\r\n          \r\n          System.out.print(&quot;TOTAL COMBINATIONS  = &quot;+combos);\r\n    }\r\n    ","title":"How to count possible combination for coin problem","body":"<pre><code>public static void main(String[] args) {\n\n    int b,c,total = 15;\n    int combos =1;\n        for(int d=0;d&lt;total/7;d++)\n           {\n             b = total - d * 7;\n            for (int n = 0; n &lt;= b /6; n++)\n        {\n                    combos++;\n\n        }\n\n        }\n\n      System.out.print(\"TOTAL COMBINATIONS  = \"+combos);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":309797,"reputation":5286,"user_id":622440,"accept_rate":77,"display_name":"Domenic D."},"score":0,"creation_date":1364789157,"post_id":12501101,"comment_id":22360700,"body_markdown":"I think the method works the way it is supposed to. It tells you the distinct number of possibilities on how to make sum with coins vals[]. For example:\n51 from [1,25] &lt;-- 3 possible ways 1x51, 1x26+1x25, 2x25+1x1\n10 from [2,3,5,6] &lt;-- 5 ways: {2,2,2,2,2}, {2,2,3,3}, {2,2,6}, {2,3,5} and {5,5}.","body":"I think the method works the way it is supposed to. It tells you the distinct number of possibilities on how to make sum with coins vals[]. For example: 51 from [1,25] &lt;-- 3 possible ways 1x51, 1x26+1x25, 2x25+1x1 10 from [2,3,5,6] &lt;-- 5 ways: {2,2,2,2,2}, {2,2,3,3}, {2,2,6}, {2,3,5} and {5,5}."},{"owner":{"account_id":111515,"reputation":6240,"user_id":294552,"accept_rate":78,"display_name":"sandeepkunkunuru"},"score":0,"creation_date":1368221973,"post_id":12501101,"comment_id":23668551,"body_markdown":"This is a very elegant solution. Can you add little bit description what is the intuition here? I understand that you broke the problem into several subproblems : one per every denomination while sum remains constant (I was thinking of using sum to breakup the problem ex: find combinations for 1 then 2 then 3 and so on while reusing previous sums)","body":"This is a very elegant solution. Can you add little bit description what is the intuition here? I understand that you broke the problem into several subproblems : one per every denomination while sum remains constant (I was thinking of using sum to breakup the problem ex: find combinations for 1 then 2 then 3 and so on while reusing previous sums)"},{"owner":{"account_id":4504040,"reputation":464,"user_id":3661891,"display_name":"sherelock"},"score":0,"creation_date":1579358770,"post_id":12501101,"comment_id":105743860,"body_markdown":"so how we would extend this to computer permutations instead of combinations ?","body":"so how we would extend this to computer permutations instead of combinations ?"}],"tags":[],"owner":{"account_id":309797,"reputation":5286,"user_id":622440,"accept_rate":77,"display_name":"Domenic D."},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1349834237,"creation_date":1348080989,"answer_id":12501101,"question_id":4243831,"body_markdown":"Although recursion can work and is often an assignment to implement in some college level courses on Algorithms &amp; Data Structures, I believe the &quot;dynamic programming&quot; implementation is more efficient. \r\n\r\n\r\n    public static int findCombinationsCount(int sum, int vals[]) {\r\n            if (sum &lt; 0) {\r\n                return 0;\r\n            }\r\n            if (vals == null || vals.length == 0) {\r\n                return 0;\r\n            }\r\n                 \r\n            int dp[] = new int[sum + 1];\r\n            dp[0] = 1;\r\n            for (int i = 0; i &lt; vals.length; ++i) {\r\n                for (int j = vals[i]; j &lt;= sum; ++j) {\r\n                    dp[j] += dp[j - vals[i]];\r\n                }\r\n            }\r\n            return dp[sum];\r\n        }\r\n","title":"How to count possible combination for coin problem","body":"<p>Although recursion can work and is often an assignment to implement in some college level courses on Algorithms &amp; Data Structures, I believe the \"dynamic programming\" implementation is more efficient. </p>\n\n<pre><code>public static int findCombinationsCount(int sum, int vals[]) {\n        if (sum &lt; 0) {\n            return 0;\n        }\n        if (vals == null || vals.length == 0) {\n            return 0;\n        }\n\n        int dp[] = new int[sum + 1];\n        dp[0] = 1;\n        for (int i = 0; i &lt; vals.length; ++i) {\n            for (int j = vals[i]; j &lt;= sum; ++j) {\n                dp[j] += dp[j - vals[i]];\n            }\n        }\n        return dp[sum];\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1932266,"reputation":21,"user_id":1741417,"display_name":"Ghodrat Naderi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1350052198,"creation_date":1350052198,"answer_id":12861239,"question_id":4243831,"body_markdown":"    package algorithms;\r\n    \r\n    import java.util.Random;\r\n    \r\n    /**`enter code here`\r\n     * Owner : Ghodrat Naderi\r\n     * E-Mail: Naderi.ghodrat@gmail.com\r\n     * Date  : 10/12/12\r\n     * Time  : 4:50 PM\r\n     * IDE   : IntelliJ IDEA 11\r\n     */\r\n    public class CoinProblem\r\n     {\r\n      public static void main(String[] args)\r\n       {\r\n        int[] coins = {1, 3, 5, 10, 20, 50, 100, 200, 500};\r\n    \r\n        int amount = new Random().nextInt(10000);\r\n        int coinsCount = 0;\r\n        System.out.println(&quot;amount = &quot; + amount);\r\n        int[] numberOfCoins = findNumberOfCoins(coins, amount);\r\n        for (int i = 0; i &lt; numberOfCoins.length; i++)\r\n         {\r\n          if (numberOfCoins[i] &gt; 0)\r\n           {\r\n            System.out.println(&quot;coins= &quot; + coins[i] + &quot; Count=&quot; + numberOfCoins[i] + &quot;\\n&quot;);\r\n            coinsCount += numberOfCoins[i];\r\n           }\r\n    \r\n         }\r\n        System.out.println(&quot;numberOfCoins = &quot; + coinsCount);\r\n       }\r\n    \r\n      private static int[] findNumberOfCoins(int[] coins, int amount)\r\n       {\r\n        int c = coins.length;\r\n        int[] numberOfCoins = new int[coins.length];\r\n        while (amount &gt; 0)\r\n         {\r\n          c--;\r\n          if (amount &gt;= coins[c])\r\n           {\r\n            int quotient = amount / coins[c];\r\n            amount = amount - coins[c] * quotient;\r\n            numberOfCoins[c] = quotient;\r\n           }\r\n    \r\n         }\r\n        return numberOfCoins;\r\n       }\r\n     }\r\n\r\n","title":"How to count possible combination for coin problem","body":"<pre><code>package algorithms;\n\nimport java.util.Random;\n\n/**`enter code here`\n * Owner : Ghodrat Naderi\n * E-Mail: Naderi.ghodrat@gmail.com\n * Date  : 10/12/12\n * Time  : 4:50 PM\n * IDE   : IntelliJ IDEA 11\n */\npublic class CoinProblem\n {\n  public static void main(String[] args)\n   {\n    int[] coins = {1, 3, 5, 10, 20, 50, 100, 200, 500};\n\n    int amount = new Random().nextInt(10000);\n    int coinsCount = 0;\n    System.out.println(\"amount = \" + amount);\n    int[] numberOfCoins = findNumberOfCoins(coins, amount);\n    for (int i = 0; i &lt; numberOfCoins.length; i++)\n     {\n      if (numberOfCoins[i] &gt; 0)\n       {\n        System.out.println(\"coins= \" + coins[i] + \" Count=\" + numberOfCoins[i] + \"\\n\");\n        coinsCount += numberOfCoins[i];\n       }\n\n     }\n    System.out.println(\"numberOfCoins = \" + coinsCount);\n   }\n\n  private static int[] findNumberOfCoins(int[] coins, int amount)\n   {\n    int c = coins.length;\n    int[] numberOfCoins = new int[coins.length];\n    while (amount &gt; 0)\n     {\n      c--;\n      if (amount &gt;= coins[c])\n       {\n        int quotient = amount / coins[c];\n        amount = amount - coins[c] * quotient;\n        numberOfCoins[c] = quotient;\n       }\n\n     }\n    return numberOfCoins;\n   }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1881464,"reputation":1,"user_id":1701576,"display_name":"user1701576"},"comment_count":0,"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1599340044,"creation_date":1359407643,"answer_id":14571369,"question_id":4243831,"body_markdown":"The same problem for coins(1,5,10,25,50) has one of below solutions.\r\nThe solution should satisfy below equation:\r\n`1*a + 5*b + 10*c + 25*d + 50*e == cents`\r\n```java\r\npublic static void countWaysToProduceGivenAmountOfMoney(int cents) {\r\n    \t\r\n    \tfor(int a = 0;a&lt;=cents;a++){\r\n        \tfor(int b = 0;b&lt;=cents/5;b++){\r\n            \tfor(int c = 0;c&lt;=cents/10;c++){\r\n                \tfor(int d = 0;d&lt;=cents/25;d++){\r\n                    \tfor(int e = 0;e&lt;=cents/50;e++){\r\n\t\t            \t\tif(1*a + 5*b + 10*c + 25*d + 50*e == cents){\r\n\t\t\t\t    \t\t\tSystem.out.println(&quot;1 cents :&quot;+a+&quot;, 5 cents:&quot;+b+&quot;, 10 cents:&quot;+c);\r\n\t\t\t\t    \t\t}\r\n                    \t}\r\n                    }\r\n                }\r\n          \t}\r\n    \t}\r\n    }\r\n```\r\nThis can be modified for any general solutions.","title":"How to count possible combination for coin problem","body":"<p>The same problem for coins(1,5,10,25,50) has one of below solutions.\nThe solution should satisfy below equation:\n<code>1*a + 5*b + 10*c + 25*d + 50*e == cents</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void countWaysToProduceGivenAmountOfMoney(int cents) {\n        \n        for(int a = 0;a&lt;=cents;a++){\n            for(int b = 0;b&lt;=cents/5;b++){\n                for(int c = 0;c&lt;=cents/10;c++){\n                    for(int d = 0;d&lt;=cents/25;d++){\n                        for(int e = 0;e&lt;=cents/50;e++){\n                            if(1*a + 5*b + 10*c + 25*d + 50*e == cents){\n                                System.out.println(&quot;1 cents :&quot;+a+&quot;, 5 cents:&quot;+b+&quot;, 10 cents:&quot;+c);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }\n</code></pre>\n<p>This can be modified for any general solutions.</p>\n"},{"comments":[{"owner":{"display_name":"user1901867"},"score":2,"creation_date":1380042004,"post_id":18987319,"comment_id":28048204,"body_markdown":"questioner needs answer written in Java","body":"questioner needs answer written in Java"}],"tags":[],"owner":{"account_id":3347055,"reputation":67,"user_id":2812016,"display_name":"Vlad"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1411820124,"creation_date":1380040707,"answer_id":18987319,"question_id":4243831,"body_markdown":"Very simple with recursion: \r\n\r\n     def countChange(money: Int, coins: List[Int]): Int = {\r\n        def reduce(money: Int, coins: List[Int], accCounter: Int): Int = {\r\n        \tif(money == 0) accCounter + 1\r\n        \telse if(money &lt; 0 || coins.isEmpty) accCounter\r\n    \t    else reduce(money - coins.head, coins, accCounter) + reduce(money, coins.tail, accCounter)\r\n       }\r\n    \r\n       if(money &lt;= 0 || coins.isEmpty) 0\r\n       else reduce(money, coins, 0)\r\n    }\r\n\r\nThis is example in SCALA","title":"How to count possible combination for coin problem","body":"<p>Very simple with recursion: </p>\n\n<pre><code> def countChange(money: Int, coins: List[Int]): Int = {\n    def reduce(money: Int, coins: List[Int], accCounter: Int): Int = {\n        if(money == 0) accCounter + 1\n        else if(money &lt; 0 || coins.isEmpty) accCounter\n        else reduce(money - coins.head, coins, accCounter) + reduce(money, coins.tail, accCounter)\n   }\n\n   if(money &lt;= 0 || coins.isEmpty) 0\n   else reduce(money, coins, 0)\n}\n</code></pre>\n\n<p>This is example in SCALA</p>\n"},{"comments":[{"owner":{"account_id":764513,"reputation":2280,"user_id":793154,"accept_rate":58,"display_name":"Diego-MX"},"score":0,"creation_date":1439868775,"post_id":25792520,"comment_id":52024341,"body_markdown":"Thank you for an interesting approach using modular arithmetic.  While reading about it, I learnt about primitive roots and their use on such equations. \nA question that I have is on gathering the powers of the primitive root `g`, that is `g^(p-1)*i/d`, call it `g_d^i` for all `i &lt; d`.  I can see why some of these may be repeated, for which you&#39;ll get factors of the form `1/(g_d^i - x)^r`.  Are you accounting for these as well?  I&#39;m trying to figure out how these multiplicities affect the coefficients `A(j)`.","body":"Thank you for an interesting approach using modular arithmetic.  While reading about it, I learnt about primitive roots and their use on such equations.  A question that I have is on gathering the powers of the primitive root <code>g</code>, that is <code>g^(p-1)*i&#47;d</code>, call it <code>g_d^i</code> for all <code>i &lt; d</code>.  I can see why some of these may be repeated, for which you&#39;ll get factors of the form <code>1&#47;(g_d^i - x)^r</code>.  Are you accounting for these as well?  I&#39;m trying to figure out how these multiplicities affect the coefficients <code>A(j)</code>."},{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":0,"creation_date":1439888148,"post_id":25792520,"comment_id":52032782,"body_markdown":"@Diego It makes a mess, of course. Easiest to pick another prime, since in probability, this shouldn&#39;t be an issue.","body":"@Diego It makes a mess, of course. Easiest to pick another prime, since in probability, this shouldn&#39;t be an issue."},{"owner":{"account_id":764513,"reputation":2280,"user_id":793154,"accept_rate":58,"display_name":"Diego-MX"},"score":0,"creation_date":1439905342,"post_id":25792520,"comment_id":52044609,"body_markdown":"I would think this happens for any prime you pick.   Right before solving the partial fractions.","body":"I would think this happens for any prime you pick.   Right before solving the partial fractions."},{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":0,"creation_date":1439905637,"post_id":25792520,"comment_id":52044867,"body_markdown":"@Diego You&#39;re right. I shouldn&#39;t try to do math early in the morning.","body":"@Diego You&#39;re right. I shouldn&#39;t try to do math early in the morning."},{"owner":{"account_id":764513,"reputation":2280,"user_id":793154,"accept_rate":58,"display_name":"Diego-MX"},"score":0,"creation_date":1439907276,"post_id":25792520,"comment_id":52046193,"body_markdown":"And I saw it&#39;s been a while since you posted this...  I believe I figured it out in paper and am testing for the computer.  When accounting for repeated roots, you get terms for each power below the total, say `1/(x - g_k)^r_k` and then solve the partial fractions of the form `A(k,r)/(x-g_k)^r` where `r &lt;= r_k`.  The coefficients with the `r_k` are &quot;easier&quot; as you can substitute `x = g_k` after multiplying the denominators and everything just cancels out. The other terms give the linear system of equations (modulo p) by substituting other different values `x= x_i`.","body":"And I saw it&#39;s been a while since you posted this...  I believe I figured it out in paper and am testing for the computer.  When accounting for repeated roots, you get terms for each power below the total, say <code>1&#47;(x - g_k)^r_k</code> and then solve the partial fractions of the form <code>A(k,r)&#47;(x-g_k)^r</code> where <code>r &lt;= r_k</code>.  The coefficients with the <code>r_k</code> are &quot;easier&quot; as you can substitute <code>x = g_k</code> after multiplying the denominators and everything just cancels out. The other terms give the linear system of equations (modulo p) by substituting other different values <code>x= x_i</code>."},{"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"score":0,"creation_date":1439907472,"post_id":25792520,"comment_id":52046360,"body_markdown":"@Diego Go ahead and post an answer. Comments are not safe from rampaging moderators.","body":"@Diego Go ahead and post an answer. Comments are not safe from rampaging moderators."}],"tags":[],"owner":{"account_id":2460360,"reputation":64577,"user_id":2144669,"display_name":"David Eisenstat"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1439888111,"creation_date":1410452504,"answer_id":25792520,"question_id":4243831,"body_markdown":"[Aryabhattas answer](https://stackoverflow.com/a/4249225/2144669) for\r\ncounting the number of ways to make change with coins of fixed\r\ndenominations is very cute but also impractical to implement as\r\ndescribed. Rather than use complex numbers, well use modular\r\narithmetic, similar to how the number-theoretic transform replaces a\r\nFourier transform for multiplying integer polynomials.\r\n\r\nLet `D` be the least common multiple of the coin denominations. By\r\nDirichlets theorem on arithmetic progressions, there exist infinitely\r\nmany prime numbers `p` such that `D` divides `p - 1`. (With any luck,\r\ntheyll even be distributed in a way such that we can find them\r\nefficiently.) Well compute the number of ways modulo some `p`\r\nsatisfying this condition. By obtaining a crude bound somehow (e.g.,\r\n`n + k - 1` choose `k - 1` where `n` is the total and `k` is the number\r\nof denominations), repeating this procedure with several different\r\nprimes whose product exceeds that bound, and applying the Chinese\r\nremainder theorem, we can recover the exact number.\r\n\r\nTest candidates `1 + k*D` for integers `k &gt; 0` until we find a prime\r\n`p`. Let `g` be a primitive root modulo `p` (generate candidates at\r\nrandom and apply the standard test). For each denomination `d`, express\r\nthe polynomial `x**d - 1` modulo `p` as a product of factors:\r\n\r\n    x**d - 1 = product from i=0 to d-1 of (x - g**((p-1)*i/d)) [modulo p].\r\n\r\nNote that `d` divides `D` divides `p-1`, so the exponent indeed is an\r\ninteger.\r\n\r\nLet `m` be the sum of denominations. Gather all of the constants\r\n`g**((p-1)*i/d)` as `a(0), ..., a(m-1)`. The next step is to find a\r\npartial fraction decomposition `A(0), ..., A(m-1)` such that\r\n\r\n    sign / product from j=0 to m-1 of (a(j) - x) =\r\n        sum from j=0 to m-1 of A(j)/(a(j) - x) [modulo p],\r\n\r\nwhere `sign` is `1` if there are an even number of denominations and\r\n`-1` if there are an odd number of denominations. Derive a system of\r\nlinear equations for `A(j)` by evaluating both sides of the given\r\nequation for different values of `x`, then solve it with Gaussian\r\nelimination. Life gets complicated if there are duplicates; it&#39;s probably easiest just to pick another prime.\r\n\r\nGiven this setup, we can compute the number of ways (modulo `p`, of\r\ncourse) to make change amounting to `n` as\r\n\r\n    sum from j=0 to m-1 of A(j) * (1/a(j))**(n+1).\r\n","title":"How to count possible combination for coin problem","body":"<p><a href=\"https://stackoverflow.com/a/4249225/2144669\">Aryabhattas answer</a> for\ncounting the number of ways to make change with coins of fixed\ndenominations is very cute but also impractical to implement as\ndescribed. Rather than use complex numbers, well use modular\narithmetic, similar to how the number-theoretic transform replaces a\nFourier transform for multiplying integer polynomials.</p>\n\n<p>Let <code>D</code> be the least common multiple of the coin denominations. By\nDirichlets theorem on arithmetic progressions, there exist infinitely\nmany prime numbers <code>p</code> such that <code>D</code> divides <code>p - 1</code>. (With any luck,\ntheyll even be distributed in a way such that we can find them\nefficiently.) Well compute the number of ways modulo some <code>p</code>\nsatisfying this condition. By obtaining a crude bound somehow (e.g.,\n<code>n + k - 1</code> choose <code>k - 1</code> where <code>n</code> is the total and <code>k</code> is the number\nof denominations), repeating this procedure with several different\nprimes whose product exceeds that bound, and applying the Chinese\nremainder theorem, we can recover the exact number.</p>\n\n<p>Test candidates <code>1 + k*D</code> for integers <code>k &gt; 0</code> until we find a prime\n<code>p</code>. Let <code>g</code> be a primitive root modulo <code>p</code> (generate candidates at\nrandom and apply the standard test). For each denomination <code>d</code>, express\nthe polynomial <code>x**d - 1</code> modulo <code>p</code> as a product of factors:</p>\n\n<pre><code>x**d - 1 = product from i=0 to d-1 of (x - g**((p-1)*i/d)) [modulo p].\n</code></pre>\n\n<p>Note that <code>d</code> divides <code>D</code> divides <code>p-1</code>, so the exponent indeed is an\ninteger.</p>\n\n<p>Let <code>m</code> be the sum of denominations. Gather all of the constants\n<code>g**((p-1)*i/d)</code> as <code>a(0), ..., a(m-1)</code>. The next step is to find a\npartial fraction decomposition <code>A(0), ..., A(m-1)</code> such that</p>\n\n<pre><code>sign / product from j=0 to m-1 of (a(j) - x) =\n    sum from j=0 to m-1 of A(j)/(a(j) - x) [modulo p],\n</code></pre>\n\n<p>where <code>sign</code> is <code>1</code> if there are an even number of denominations and\n<code>-1</code> if there are an odd number of denominations. Derive a system of\nlinear equations for <code>A(j)</code> by evaluating both sides of the given\nequation for different values of <code>x</code>, then solve it with Gaussian\nelimination. Life gets complicated if there are duplicates; it's probably easiest just to pick another prime.</p>\n\n<p>Given this setup, we can compute the number of ways (modulo <code>p</code>, of\ncourse) to make change amounting to <code>n</code> as</p>\n\n<pre><code>sum from j=0 to m-1 of A(j) * (1/a(j))**(n+1).\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7480122,"reputation":11,"user_id":5685088,"display_name":"Liu Dake"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481206839,"creation_date":1450245134,"answer_id":34304829,"question_id":4243831,"body_markdown":"The solution provided by @Jordi is nice but runs extremely slow. You can try input 600 to that solution and see how slow it is.\r\n\r\nMy idea is to use bottom-up dynamic programming. \r\n\r\nNote that generally, the possible combination for money=m and coins{a,b,c} equals combination for \r\n\r\n - m-c and coins{a,b,c} (with coin c)\r\n - combination for m and coins{a,b} (without coin c).\r\n\r\nIf no coins are available or available coins can not cover the required amount of money, it should fill in 0 to the block accordingly. If the amount of money is 0, it should fill in 1.\r\n\r\n    public static void main(String[] args){\r\n        int[] coins = new int[]{1,2,3,4,5};\r\n        int money = 600;\r\n        int[][] recorder = new int[money+1][coins.length];\r\n        for(int k=0;k&lt;coins.length;k++){\r\n            recorder[0][k] = 1;\r\n        }\r\n        for(int i=1;i&lt;=money;i++){\r\n            //System.out.println(&quot;working on money=&quot;+i);\r\n            int with = 0;\r\n\t\t\tint without = 0;\r\n\t\t\t\r\n\t\t\tfor(int coin_index=0;coin_index&lt;coins.length;coin_index++){\r\n\t\t\t\t//System.out.println(&quot;working on coin until &quot;+coins[coin_index]);\r\n\t\t\t\tif(i-coins[coin_index]&lt;0){\r\n\t\t\t\t\twith = 0;\r\n\t\t\t\t}else{\r\n\t\t\t\t    with = recorder[i-coins[coin_index]][coin_index];\r\n\t\t\t\t}\r\n\t\t\t\t//System.out.println(&quot;with=&quot;+with);\r\n\t\t\t\tif(coin_index-1&lt;0){\r\n\t\t\t\t\twithout = 0;\r\n\t\t\t\t}else{\r\n\t\t\t\t\twithout = recorder[i][coin_index-1];\r\n\t\t\t\t}\r\n\t\t\t\t//System.out.println(&quot;without=&quot;+without);\r\n\t\t\t\t//System.out.println(&quot;result=&quot;+(without+with));\r\n\t\t\t\trecorder[i][coin_index] =  with+without;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.print(recorder[money][coins.length-1]);\r\n\t\t\r\n\t}","title":"How to count possible combination for coin problem","body":"<p>The solution provided by @Jordi is nice but runs extremely slow. You can try input 600 to that solution and see how slow it is.</p>\n\n<p>My idea is to use bottom-up dynamic programming. </p>\n\n<p>Note that generally, the possible combination for money=m and coins{a,b,c} equals combination for </p>\n\n<ul>\n<li>m-c and coins{a,b,c} (with coin c)</li>\n<li>combination for m and coins{a,b} (without coin c).</li>\n</ul>\n\n<p>If no coins are available or available coins can not cover the required amount of money, it should fill in 0 to the block accordingly. If the amount of money is 0, it should fill in 1.</p>\n\n<pre><code>public static void main(String[] args){\n    int[] coins = new int[]{1,2,3,4,5};\n    int money = 600;\n    int[][] recorder = new int[money+1][coins.length];\n    for(int k=0;k&lt;coins.length;k++){\n        recorder[0][k] = 1;\n    }\n    for(int i=1;i&lt;=money;i++){\n        //System.out.println(\"working on money=\"+i);\n        int with = 0;\n        int without = 0;\n\n        for(int coin_index=0;coin_index&lt;coins.length;coin_index++){\n            //System.out.println(\"working on coin until \"+coins[coin_index]);\n            if(i-coins[coin_index]&lt;0){\n                with = 0;\n            }else{\n                with = recorder[i-coins[coin_index]][coin_index];\n            }\n            //System.out.println(\"with=\"+with);\n            if(coin_index-1&lt;0){\n                without = 0;\n            }else{\n                without = recorder[i][coin_index-1];\n            }\n            //System.out.println(\"without=\"+without);\n            //System.out.println(\"result=\"+(without+with));\n            recorder[i][coin_index] =  with+without;\n        }\n    }\n    System.out.print(recorder[money][coins.length-1]);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2318227,"reputation":959,"user_id":2034733,"accept_rate":69,"display_name":"fatih tekin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486243562,"creation_date":1486230537,"answer_id":42043533,"question_id":4243831,"body_markdown":"Below is recursion with memoization java solution. for below one we have 1,2,3,5 as coins and 200 as the target amount. \r\n\r\n    countCombinations(200,new int[]{5,2,3,1} , 0, 0,new Integer[6][200+5]);\r\n        \r\n    static int countCombinations(Integer targetAmount, int[] V,int currentAmount, int coin, Integer[][] memory){\r\n                \r\n        //Comment below if block if you want to see the perf difference\r\n        if(memory[coin][currentAmount] != null){\r\n            return memory[coin][currentAmount];\r\n        }\r\n        \r\n        if(currentAmount &gt; targetAmount){\r\n            memory[coin][currentAmount] = 0;\r\n            return 0;\r\n        }\r\n        if(currentAmount == targetAmount){\r\n            return 1;\r\n        }      \r\n        int count = 0;\r\n        for(int selectedCoin : V){\r\n            if(selectedCoin &gt;= coin){                \r\n                count += countCombinations(targetAmount, V, currentAmount+selectedCoin, selectedCoin,memory);\r\n            }\r\n        }        \r\n        memory[coin][currentAmount] = count;        \r\n        return count;\r\n    }\r\n\r\n","title":"How to count possible combination for coin problem","body":"<p>Below is recursion with memoization java solution. for below one we have 1,2,3,5 as coins and 200 as the target amount. </p>\n\n<pre><code>countCombinations(200,new int[]{5,2,3,1} , 0, 0,new Integer[6][200+5]);\n\nstatic int countCombinations(Integer targetAmount, int[] V,int currentAmount, int coin, Integer[][] memory){\n\n    //Comment below if block if you want to see the perf difference\n    if(memory[coin][currentAmount] != null){\n        return memory[coin][currentAmount];\n    }\n\n    if(currentAmount &gt; targetAmount){\n        memory[coin][currentAmount] = 0;\n        return 0;\n    }\n    if(currentAmount == targetAmount){\n        return 1;\n    }      \n    int count = 0;\n    for(int selectedCoin : V){\n        if(selectedCoin &gt;= coin){                \n            count += countCombinations(targetAmount, V, currentAmount+selectedCoin, selectedCoin,memory);\n        }\n    }        \n    memory[coin][currentAmount] = count;        \n    return count;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":473471,"reputation":11,"user_id":6422674,"display_name":"Mahmoud Aziz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1523640428,"creation_date":1523640428,"answer_id":49822299,"question_id":4243831,"body_markdown":"This code is based on the solution provided by JeremyP which is working perfect and I just enhanced it to optimize the performance by using dynamic programming.I couldn&#39;t comment on the JeremyP post because I don&#39;t have enough reputation :)\r\n\r\n    \r\n    public static long makeChange(int[] coins, int money) {\r\n        Long[][] resultMap = new Long[coins.length][money+1];\r\n        return getChange(coins,money,0,resultMap);\r\n    }\r\n                            \r\n    public static long getChange(int[] coins, int money, int index,Long[][] resultMap) {\r\n        if (index == coins.length -1) // if we are at the end      \r\n            return money%coins[index]==0? 1:0;\r\n        else{\r\n            //System.out.printf(&quot;Checking index %d and money %d &quot;,index,money);\r\n            Long storedResult =resultMap[index][money];\r\n            if(storedResult != null)\r\n                return storedResult;\r\n            long total=0;\r\n            for(int coff=0; coff * coins[index] &lt;=money; coff ++){\r\n                \r\n                 total += getChange(coins, money - coff*coins[index],index +1,resultMap);\r\n            }\r\n            resultMap[index][money] = total;\r\n            return total;\r\n            \r\n        }\r\n    }\r\n    \r\n\r\n","title":"How to count possible combination for coin problem","body":"<p>This code is based on the solution provided by JeremyP which is working perfect and I just enhanced it to optimize the performance by using dynamic programming.I couldn't comment on the JeremyP post because I don't have enough reputation :)</p>\n\n<pre><code>public static long makeChange(int[] coins, int money) {\n    Long[][] resultMap = new Long[coins.length][money+1];\n    return getChange(coins,money,0,resultMap);\n}\n\npublic static long getChange(int[] coins, int money, int index,Long[][] resultMap) {\n    if (index == coins.length -1) // if we are at the end      \n        return money%coins[index]==0? 1:0;\n    else{\n        //System.out.printf(\"Checking index %d and money %d \",index,money);\n        Long storedResult =resultMap[index][money];\n        if(storedResult != null)\n            return storedResult;\n        long total=0;\n        for(int coff=0; coff * coins[index] &lt;=money; coff ++){\n\n             total += getChange(coins, money - coff*coins[index],index +1,resultMap);\n        }\n        resultMap[index][money] = total;\n        return total;\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12814438,"reputation":31,"user_id":9271475,"display_name":"Harish kant soni"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599324314,"creation_date":1599324314,"answer_id":63756282,"question_id":4243831,"body_markdown":"    #include&lt;iostream&gt;\r\n    using namespace std;\r\n\r\n    int solns = 0;\r\n\r\n    void countComb(int* arr, int low, int high, int Val)\r\n    {\r\n\t    bool b = false;\r\n\t    for (size_t i = low; i &lt;= high; i++)\r\n\t    {\r\n\t\t    if (Val - arr[i] == 0)\r\n\t\t    {\r\n\t\t\t    solns++;\r\n\t\t\t    break;\r\n\t\t    }\r\n\t\t    else if (Val - arr[i] &gt; 0)\r\n\t\t\t    countComb(arr, i, high, Val - arr[i]);\r\n\t\t\t\r\n\t    }\r\n    }\r\n\r\n    int main()\r\n    {\r\n\t    int coins[] = { 1,2,5 };\r\n\t    int value = 7;\r\n\t    int arrSize = sizeof(coins) / sizeof(int);\r\n\t    countComb(coins,0, arrSize,value);\r\n\t    cout &lt;&lt; solns &lt;&lt; endl;\r\n\t    return 0;\r\n    }","title":"How to count possible combination for coin problem","body":"<pre><code>#include&lt;iostream&gt;\nusing namespace std;\n\nint solns = 0;\n\nvoid countComb(int* arr, int low, int high, int Val)\n{\n    bool b = false;\n    for (size_t i = low; i &lt;= high; i++)\n    {\n        if (Val - arr[i] == 0)\n        {\n            solns++;\n            break;\n        }\n        else if (Val - arr[i] &gt; 0)\n            countComb(arr, i, high, Val - arr[i]);\n        \n    }\n}\n\nint main()\n{\n    int coins[] = { 1,2,5 };\n    int value = 7;\n    int arrSize = sizeof(coins) / sizeof(int);\n    countComb(coins,0, arrSize,value);\n    cout &lt;&lt; solns &lt;&lt; endl;\n    return 0;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1641872523,"post_id":70658624,"comment_id":124914993,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70658624/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":23897665,"reputation":1,"user_id":17896346,"display_name":"Arshad Mayet"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642359926,"creation_date":1641847093,"answer_id":70658624,"question_id":4243831,"body_markdown":"Below is a recursive backtracking solution I created, It lists and counts all possible combination of denominations (coins) that would add up to a given amount. \r\n\r\nBoth denominations and the amounts can be dynamic \r\n\r\n```\r\npublic class CoinComboGenerate {  \r\n      public static final int[] DENO = {1,6,7};\r\n      public static final int AMOUNT = 15;\r\n      public static int count = 0;\r\n    \r\n      public static void change(int amount) {\r\n        change(amount, new ArrayList&lt;&gt;(),0);  \r\n      }\r\n    \r\n      private static void change(int rem, List&lt;Integer&gt; coins, int pos) {    \r\n        if (rem == 0) {\r\n          count++;\r\n          System.out.println(count+&quot;)&quot;+coins);\r\n          return;\r\n        }\r\n        \r\n        while(pos&lt;DENO.length){            \r\n          if (rem &gt;= DENO[pos]) {\r\n            coins.add(DENO[pos]);\r\n            change(rem - DENO[pos], coins,pos);\r\n            coins.remove(coins.size() - 1);  //backtrack\r\n          }\r\n          pos++;\r\n        }  \r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n            change(AMOUNT);\r\n      }   \r\n    }\r\n```\r\n**Output:**          \r\n1)[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]&lt;br&gt;\r\n2)[1, 1, 1, 1, 1, 1, 1, 1, 1, 6] &lt;br&gt;\r\n3)[1, 1, 1, 1, 1, 1, 1, 1, 7] &lt;br&gt;\r\n4)[1, 1, 1, 6, 6] &lt;br&gt;\r\n5)[1, 1, 6, 7] &lt;br&gt;\r\n6)[1, 7, 7] &lt;br&gt;\r\n","title":"How to count possible combination for coin problem","body":"<p>Below is a recursive backtracking solution I created, It lists and counts all possible combination of denominations (coins) that would add up to a given amount.</p>\n<p>Both denominations and the amounts can be dynamic</p>\n<pre><code>public class CoinComboGenerate {  \n      public static final int[] DENO = {1,6,7};\n      public static final int AMOUNT = 15;\n      public static int count = 0;\n    \n      public static void change(int amount) {\n        change(amount, new ArrayList&lt;&gt;(),0);  \n      }\n    \n      private static void change(int rem, List&lt;Integer&gt; coins, int pos) {    \n        if (rem == 0) {\n          count++;\n          System.out.println(count+&quot;)&quot;+coins);\n          return;\n        }\n        \n        while(pos&lt;DENO.length){            \n          if (rem &gt;= DENO[pos]) {\n            coins.add(DENO[pos]);\n            change(rem - DENO[pos], coins,pos);\n            coins.remove(coins.size() - 1);  //backtrack\n          }\n          pos++;\n        }  \n      }\n    \n      public static void main(String[] args) {\n            change(AMOUNT);\n      }   \n    }\n</code></pre>\n<p><strong>Output:</strong><br />\n1)[1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]<br>\n2)[1, 1, 1, 1, 1, 1, 1, 1, 1, 6] <br>\n3)[1, 1, 1, 1, 1, 1, 1, 1, 7] <br>\n4)[1, 1, 1, 6, 6] <br>\n5)[1, 1, 6, 7] <br>\n6)[1, 7, 7] <br></p>\n"},{"tags":[],"owner":{"account_id":10070991,"reputation":1,"user_id":7444553,"display_name":"Khoi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676495035,"creation_date":1676495035,"answer_id":75465411,"question_id":4243831,"body_markdown":"**Dynamic Programming Solution**\r\n\r\nGiven an array of denominations `D = {d1, d2, d3, ... , dm}` and a target amount `W`. Note that `D` doesn&#39;t need to be sorted.\r\n\r\nLet `T(i, j)` be the number of combinations that make up amount `j` using only denominations on the left of the `ith` one (can include itself) in `D`.\r\n\r\nWe have:\r\n\r\n- `T(0, 0) = 1` : since the amount is `0`, there is only 1 valid combination that makes up `0`, which is the empty set.\r\n\r\n- `T(i, j) = T(i - 1, j)` if `D[i] &gt; j`\r\n\r\n- `T(i, j) = T(i - 1, j) + T(i, j - D[i])` if `D[i] &lt;= j`\r\n\r\n        public int change(int amount, int[] coins) {\r\n            int m = coins.length;\r\n            int n = amount;\r\n\r\n            int[][] dp = new int[m + 1][n + 1];\r\n\r\n            dp[0][0] = 1;\r\n\r\n            for (int i = 1; i &lt;= m; i++) {\r\n                for (int j = 0; j &lt;= n; j++) {\r\n                    if (j &lt; coins[i -  1]) {\r\n                        dp[i][j] = dp[i - 1][j];\r\n                    }\r\n                    else {\r\n                        dp[i][j] = dp[i - 1][j] + dp[i][j - coins[i -  1]];\r\n                    }\r\n                }\r\n            }\r\n\r\n            return dp[m][n];\r\n        }\r\n\r\n\r\n\r\n","title":"How to count possible combination for coin problem","body":"<p><strong>Dynamic Programming Solution</strong></p>\n<p>Given an array of denominations <code>D = {d1, d2, d3, ... , dm}</code> and a target amount <code>W</code>. Note that <code>D</code> doesn't need to be sorted.</p>\n<p>Let <code>T(i, j)</code> be the number of combinations that make up amount <code>j</code> using only denominations on the left of the <code>ith</code> one (can include itself) in <code>D</code>.</p>\n<p>We have:</p>\n<ul>\n<li><p><code>T(0, 0) = 1</code> : since the amount is <code>0</code>, there is only 1 valid combination that makes up <code>0</code>, which is the empty set.</p>\n</li>\n<li><p><code>T(i, j) = T(i - 1, j)</code> if <code>D[i] &gt; j</code></p>\n</li>\n<li><p><code>T(i, j) = T(i - 1, j) + T(i, j - D[i])</code> if <code>D[i] &lt;= j</code></p>\n<pre><code>  public int change(int amount, int[] coins) {\n      int m = coins.length;\n      int n = amount;\n\n      int[][] dp = new int[m + 1][n + 1];\n\n      dp[0][0] = 1;\n\n      for (int i = 1; i &lt;= m; i++) {\n          for (int j = 0; j &lt;= n; j++) {\n              if (j &lt; coins[i -  1]) {\n                  dp[i][j] = dp[i - 1][j];\n              }\n              else {\n                  dp[i][j] = dp[i - 1][j] + dp[i][j - coins[i -  1]];\n              }\n          }\n      }\n\n      return dp[m][n];\n  }\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":197238,"reputation":5764,"user_id":441200,"accept_rate":38,"display_name":"Preetam Purbia"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73873,"favorite_count":0,"down_vote_count":0,"up_vote_count":30,"accepted_answer_id":4249225,"answer_count":18,"score":30,"last_activity_date":1676495035,"creation_date":1290417030,"question_id":4243831,"body_markdown":"I am trying to implement a coin problem, Problem specification is like this\r\n\r\nCreate a function to count all possible combination of coins which can be used for given amount.\r\n\r\n    All possible combinations for given amount=15, coin types=1 6 7 \r\n    1) 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\r\n    2) 1,1,1,1,1,1,1,1,1,6,\r\n    3) 1,1,1,1,1,1,1,1,7,\r\n    4) 1,1,1,6,6,\r\n    5) 1,1,6,7,\r\n    6) 1,7,7,\r\n\r\nfunction prototype:\r\n\r\n    int findCombinationsCount(int amount, int coins[])\r\n\r\nassume that coin array is sorted. for above example this function should return 6. \r\n\r\n\r\nAnyone guide me how to implement this??","title":"How to count possible combination for coin problem","body":"<p>I am trying to implement a coin problem, Problem specification is like this</p>\n\n<p>Create a function to count all possible combination of coins which can be used for given amount.</p>\n\n<pre><code>All possible combinations for given amount=15, coin types=1 6 7 \n1) 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,\n2) 1,1,1,1,1,1,1,1,1,6,\n3) 1,1,1,1,1,1,1,1,7,\n4) 1,1,1,6,6,\n5) 1,1,6,7,\n6) 1,7,7,\n</code></pre>\n\n<p>function prototype:</p>\n\n<pre><code>int findCombinationsCount(int amount, int coins[])\n</code></pre>\n\n<p>assume that coin array is sorted. for above example this function should return 6. </p>\n\n<p>Anyone guide me how to implement this??</p>\n"},{"tags":["java","android","fingerprint","android-fingerprint-api"],"owner":{"account_id":18606272,"reputation":1,"user_id":13559817,"display_name":"Tharun kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676494869,"creation_date":1675930142,"question_id":75395792,"body_markdown":"I want to get the name and number of fingerprints enrolled in a device using android studio.\r\n\r\n```java\r\nFingerprintManager fingerprintManager = (FingerprintManager) getSystemService(Context.FINGERPRINT_SERVICE);\r\nif (fingerprintManager.isHardwareDetected() &amp;&amp; fingerprintManager.hasEnrolledFingerprints()) {\r\n    int numberOfFingerprints = fingerprintManager.getEnrolledFingerprints().size();\r\n    // Use numberOfFingerprints as needed\r\n} else {\r\n    // Fingerprint authentication is not available on this device\r\n}\r\n```\r\n\r\nThe above solution was given by ChatGPT, but studio is not resolving `getEnrolledFingerprints()` method.","title":"Fingerprint data from the device using java in android studio","body":"<p>I want to get the name and number of fingerprints enrolled in a device using android studio.</p>\n<pre class=\"lang-java prettyprint-override\"><code>FingerprintManager fingerprintManager = (FingerprintManager) getSystemService(Context.FINGERPRINT_SERVICE);\nif (fingerprintManager.isHardwareDetected() &amp;&amp; fingerprintManager.hasEnrolledFingerprints()) {\n    int numberOfFingerprints = fingerprintManager.getEnrolledFingerprints().size();\n    // Use numberOfFingerprints as needed\n} else {\n    // Fingerprint authentication is not available on this device\n}\n</code></pre>\n<p>The above solution was given by ChatGPT, but studio is not resolving <code>getEnrolledFingerprints()</code> method.</p>\n"},{"tags":["java","android","react-native","ssl"],"comments":[{"owner":{"account_id":5064881,"reputation":548,"user_id":4065202,"accept_rate":7,"display_name":"praveen seela"},"score":0,"creation_date":1699863510,"post_id":75362179,"comment_id":136579718,"body_markdown":"were you able to solve this?","body":"were you able to solve this?"}],"owner":{"account_id":1196073,"reputation":38702,"user_id":1167780,"accept_rate":100,"display_name":"MrEngineer13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676494572,"creation_date":1675691526,"question_id":75362179,"body_markdown":"I am on mac for work, this is a react native project on visual studio code. I only get this error when I npx react-native run-android from vs code or terminal. I tried to go to the gradle website to download gradle. I tried to add a debug keystore to my project. Here is the full errors \r\n\r\nEDIT: \r\nHave fixed all errors in React native doctor command, fixed all issues there.\r\n\r\n    Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:130)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1351)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1226)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1169)\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:578)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1661)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1585)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n\tat org.gradle.wrapper.Download.downloadInternal(Download.java:100)\r\n\tat org.gradle.wrapper.Download.download(Download.java:80)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:82)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:62)\r\n\tat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\r\n\tat org.gradle.wrapper.Install.createDist(Install.java:62)\r\n\tat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\r\n\tat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:388)\r\n\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:271)\r\n\tat java.base/sun.security.validator.Validator.validate(Validator.java:256)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1335)\r\n\t... 24 more\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n\tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:383)\r\n\t... 29 more\r\n\r\nerror Failed to install the app. Make sure you have the Android development environment set up: https://reactnative.dev/docs/environment-setup.\r\nError: Command failed: ./gradlew app:installQadebug -PreactNativeDevServerPort=8081\r\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:130)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\r\n\tat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1351)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1226)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1169)\r\n\tat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\r\n\tat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\r\n\tat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\r\n\tat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\r\n\tat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\r\n\tat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:578)\r\n\tat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1661)\r\n\tat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1585)\r\n\tat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\r\n\tat org.gradle.wrapper.Download.downloadInternal(Download.java:100)\r\n\tat org.gradle.wrapper.Download.download(Download.java:80)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:82)\r\n\tat org.gradle.wrapper.Install$1.call(Install.java:62)\r\n\tat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\r\n\tat org.gradle.wrapper.Install.createDist(Install.java:62)\r\n\tat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\r\n\tat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\r\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:388)\r\n\tat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:271)\r\n\tat java.base/sun.security.validator.Validator.validate(Validator.java:256)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\r\n\tat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1335)\r\n\t... 24 more\r\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\r\n\tat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\r\n\tat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\r\n\tat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:383)\r\n\t... 29 more\r\n\r\n    at makeError (/Users/JWimer/StudioProjects/cw-mobile-react-native-git/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:174:9)\r\n    at /Users/JWimer/StudioProjects/cw-mobile-react-native-git/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:278:16\r\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\r\n    at async runOnAllDevices (/Users/JWimer/StudioProjects/cw-mobile-react-native-git/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:109:5)\r\n    at async Command.handleAction (/Users/JWimer/StudioProjects/cw-mobile-react-native-git/node_modules/@react-native-community/cli/build/index.js:142:9)","title":"react-native run-android throws cannot find certificate","body":"<p>I am on mac for work, this is a react native project on visual studio code. I only get this error when I npx react-native run-android from vs code or terminal. I tried to go to the gradle website to download gradle. I tried to add a debug keystore to my project. Here is the full errors</p>\n<p>EDIT:\nHave fixed all errors in React native doctor command, fixed all issues there.</p>\n<pre><code>Exception in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:130)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\nat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1351)\nat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1226)\nat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1169)\nat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\nat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\nat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\nat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)\nat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\nat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:578)\nat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\nat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1661)\nat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1585)\nat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\nat org.gradle.wrapper.Download.downloadInternal(Download.java:100)\nat org.gradle.wrapper.Download.download(Download.java:80)\nat org.gradle.wrapper.Install$1.call(Install.java:82)\nat org.gradle.wrapper.Install$1.call(Install.java:62)\nat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\nat org.gradle.wrapper.Install.createDist(Install.java:62)\nat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\nat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\n</code></pre>\n<p>Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:388)\nat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:271)\nat java.base/sun.security.validator.Validator.validate(Validator.java:256)\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\nat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1335)\n... 24 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\nat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\nat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\nat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:383)\n... 29 more\n\nerror Failed to install the app. Make sure you have the Android development environment set up: <a href=\"https://reactnative.dev/docs/environment-setup\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/environment-setup</a>.\nError: Command failed: ./gradlew app:installQadebug -PreactNativeDevServerPort=8081\nException in thread &quot;main&quot; javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat java.base/sun.security.ssl.Alert.createSSLException(Alert.java:130)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:371)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:314)\nat java.base/sun.security.ssl.TransportContext.fatal(TransportContext.java:309)\nat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1351)\nat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.onConsumeCertificate(CertificateMessage.java:1226)\nat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.consume(CertificateMessage.java:1169)\nat java.base/sun.security.ssl.SSLHandshake.consume(SSLHandshake.java:396)\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:480)\nat java.base/sun.security.ssl.HandshakeContext.dispatch(HandshakeContext.java:458)\nat java.base/sun.security.ssl.TransportContext.dispatch(TransportContext.java:201)\nat java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:172)\nat java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1510)\nat java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1425)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:455)\nat java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:426)\nat java.base/sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:578)\nat java.base/sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:187)\nat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1661)\nat java.base/sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1585)\nat java.base/sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:224)\nat org.gradle.wrapper.Download.downloadInternal(Download.java:100)\nat org.gradle.wrapper.Download.download(Download.java:80)\nat org.gradle.wrapper.Install$1.call(Install.java:82)\nat org.gradle.wrapper.Install$1.call(Install.java:62)\nat org.gradle.wrapper.ExclusiveFileAccessManager.access(ExclusiveFileAccessManager.java:69)\nat org.gradle.wrapper.Install.createDist(Install.java:62)\nat org.gradle.wrapper.WrapperExecutor.execute(WrapperExecutor.java:107)\nat org.gradle.wrapper.GradleWrapperMain.main(GradleWrapperMain.java:63)\nCaused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:388)\nat java.base/sun.security.validator.PKIXValidator.engineValidate(PKIXValidator.java:271)\nat java.base/sun.security.validator.Validator.validate(Validator.java:256)\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:231)\nat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:132)\nat java.base/sun.security.ssl.CertificateMessage$T13CertificateConsumer.checkServerCerts(CertificateMessage.java:1335)\n... 24 more\nCaused by: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\nat java.base/sun.security.provider.certpath.SunCertPathBuilder.build(SunCertPathBuilder.java:141)\nat java.base/sun.security.provider.certpath.SunCertPathBuilder.engineBuild(SunCertPathBuilder.java:126)\nat java.base/java.security.cert.CertPathBuilder.build(CertPathBuilder.java:297)\nat java.base/sun.security.validator.PKIXValidator.doBuild(PKIXValidator.java:383)\n... 29 more\n\nat makeError (/Users/JWimer/StudioProjects/cw-mobile-react-native-git/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:174:9)\nat /Users/JWimer/StudioProjects/cw-mobile-react-native-git/node_modules/@react-native-community/cli-platform-android/node_modules/execa/index.js:278:16\nat process.processTicksAndRejections (node:internal/process/task_queues:95:5)\nat async runOnAllDevices (/Users/JWimer/StudioProjects/cw-mobile-react-native-git/node_modules/@react-native-community/cli-platform-android/build/commands/runAndroid/runOnAllDevices.js:109:5)\nat async Command.handleAction (/Users/JWimer/StudioProjects/cw-mobile-react-native-git/node_modules/@react-native-community/cli/build/index.js:142:9)</p>\n"},{"tags":["java","maven","spring-boot","sonarqube","jacoco"],"comments":[{"owner":{"account_id":170531,"reputation":821,"user_id":397290,"accept_rate":25,"display_name":"PRF"},"score":2,"creation_date":1575756502,"post_id":58538294,"comment_id":104674428,"body_markdown":"I&#39;m having the same problem with Jacoco 0.8.5, sonar-maven-plugin 3.7.0.1746 and SonarQube 7.5, Maven 3.5.0 and JDK 7.","body":"I&#39;m having the same problem with Jacoco 0.8.5, sonar-maven-plugin 3.7.0.1746 and SonarQube 7.5, Maven 3.5.0 and JDK 7."}],"answers":[{"comments":[{"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"score":0,"creation_date":1673618417,"post_id":65803061,"comment_id":132545755,"body_markdown":"How to invoke the hook? Oracle docs say the hooks start automatically on `System.exit()`  and normal termination of the application.  Hooks cannot be directly invoked.","body":"How to invoke the hook? Oracle docs say the hooks start automatically on <code>System.exit()</code>  and normal termination of the application.  Hooks cannot be directly invoked."}],"tags":[],"owner":{"account_id":13589108,"reputation":148,"user_id":9802966,"display_name":"kels"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1612036016,"creation_date":1611116712,"answer_id":65803061,"question_id":58538294,"body_markdown":"According to the following GitHub answer https://github.com/jacoco/jacoco/issues/980#issuecomment-563091107\r\nthe exec binary file was truncated due to the JVM shutdown not gracefully executed, meaning JaCoCO exec binary file is corrupted.\r\nTo resolve this exception make sure you shutdown the JVM gracefully i.e. by invoking the JVM shutdown hook.","title":"Always EOFException with Jacoco exec file","body":"<p>According to the following GitHub answer <a href=\"https://github.com/jacoco/jacoco/issues/980#issuecomment-563091107\" rel=\"nofollow noreferrer\">https://github.com/jacoco/jacoco/issues/980#issuecomment-563091107</a>\nthe exec binary file was truncated due to the JVM shutdown not gracefully executed, meaning JaCoCO exec binary file is corrupted.\nTo resolve this exception make sure you shutdown the JVM gracefully i.e. by invoking the JVM shutdown hook.</p>\n"},{"tags":[],"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676494362,"creation_date":1676493219,"answer_id":75465187,"question_id":58538294,"body_markdown":"If you&#39;re concerned about your tests terminating properly, move all your tests except the simplest (such as one against a class that simply manipulates a list or produces random numbers) into a temporary directory outside of your test source code structure.  Verify that you&#39;re still getting the error.\r\n\r\nIf they&#39;re now succeeding, re-introduce the risky ones back into your test directory tree piece-meal until it fails again.  Solution by isolation.\r\n\r\n**Alternatively**, and this took too much time to discover, it could be that JaCoCo is failing to generate the dump file (`jacoco.exec`) in a timely manner.\r\n\r\n*Project tools:* Maven 3.8.6, JDK 11, yes, I&#39;m using JPMS, Surefire-plugin 2.22.2, JaCoCo-plugin 0.8.8, JUnit 5.9.1.\r\n\r\nI have only 750 lines of production code in my project, only 10 external dependencies -- it&#39;s a very small project and it was timing out.  I thought my configuration was wrong all this time, but Maven was killing the JaCoCo process (forked from Surefire) that creates the dump file before it finished.  `EOFException`?  Absolutely!  I changed my pom to the following:\r\n\r\n```\r\n&lt;build&gt;\r\n   &lt;plugins&gt;\r\n       &lt;plugin&gt;\r\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n           &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n           &lt;version&gt;2.22.2&lt;/version&gt;\r\n           &lt;configuration&gt;\r\n               ...\r\n               &lt;forkedProcessExitTimeoutInSeconds&gt;240&lt;/forkedProcessExitTimeoutInSeconds&gt;\r\n           &lt;/configuration&gt;\r\n       &lt;plugin&gt;\r\n   &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\nAdding 4 minutes to allow the generator to create the dump file fixed it for me.  There&#39;s got to be a better way.  Sadly, as my project grows, I&#39;ll have to keep increasing this number.  But at least I have coverage reports now.","title":"Always EOFException with Jacoco exec file","body":"<p>If you're concerned about your tests terminating properly, move all your tests except the simplest (such as one against a class that simply manipulates a list or produces random numbers) into a temporary directory outside of your test source code structure.  Verify that you're still getting the error.</p>\n<p>If they're now succeeding, re-introduce the risky ones back into your test directory tree piece-meal until it fails again.  Solution by isolation.</p>\n<p><strong>Alternatively</strong>, and this took too much time to discover, it could be that JaCoCo is failing to generate the dump file (<code>jacoco.exec</code>) in a timely manner.</p>\n<p><em>Project tools:</em> Maven 3.8.6, JDK 11, yes, I'm using JPMS, Surefire-plugin 2.22.2, JaCoCo-plugin 0.8.8, JUnit 5.9.1.</p>\n<p>I have only 750 lines of production code in my project, only 10 external dependencies -- it's a very small project and it was timing out.  I thought my configuration was wrong all this time, but Maven was killing the JaCoCo process (forked from Surefire) that creates the dump file before it finished.  <code>EOFException</code>?  Absolutely!  I changed my pom to the following:</p>\n<pre><code>&lt;build&gt;\n   &lt;plugins&gt;\n       &lt;plugin&gt;\n           &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n           &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n           &lt;version&gt;2.22.2&lt;/version&gt;\n           &lt;configuration&gt;\n               ...\n               &lt;forkedProcessExitTimeoutInSeconds&gt;240&lt;/forkedProcessExitTimeoutInSeconds&gt;\n           &lt;/configuration&gt;\n       &lt;plugin&gt;\n   &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Adding 4 minutes to allow the generator to create the dump file fixed it for me.  There's got to be a better way.  Sadly, as my project grows, I'll have to keep increasing this number.  But at least I have coverage reports now.</p>\n"}],"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6208,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1676494362,"creation_date":1571909303,"question_id":58538294,"body_markdown":"I tried to generate Jacoco reports for Sonarqube. Generating the file jacoco.exec works but using it for Sonarqube OR in Eclipse&#39;s EclEmma results in an EOFException (so both implementations are crappy or the generated file is the problem). There are some questions about this problem but no solution (besides not using test coverage).\r\n\r\nI created a Spring Boot application and tried to generate a Jacoco test coverage report with Maven. There is no problem in using `mvn test` and a jacoco.exec gets generated in the target folder. But when I try to upload the results to Sonarqube with `mvn sonar:sonar` I always get this error:\r\n\r\n    [ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.7.0.1746:sonar (default-cli) on project project-name: Unable to read XXX\\project-name\\target\\jacoco.exec: EOFException -&gt; [Help 1]\r\n\r\npom.xml\r\n```xml\r\n\t&lt;build&gt;\r\n\t\t...\r\n\t\t&lt;plugins&gt;\r\n\t\t\t...\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.8.5&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;default-report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;prepare-package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nStacktrace:\r\n```\r\n$ mvn sonar:sonar   -Dsonar.projectKey=...   -Dsonar.host.url=...   -Dsonar.login=... -eX\r\n[INFO] Error stacktraces are turned on.\r\n[INFO] Scanning for projects...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Detecting the operating system and CPU architecture\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] os.detected.name: windows\r\n[INFO] os.detected.arch: x86_64\r\n[INFO] os.detected.version: 6.1\r\n[INFO] os.detected.version.major: 6\r\n[INFO] os.detected.version.minor: 1\r\n[INFO] os.detected.classifier: windows-x86_64\r\n[WARNING] The POM for org.eclipse.m2e:lifecycle-mapping:jar:1.0.0 is missing, no dependency information available\r\n[WARNING] Failed to retrieve plugin descriptor for org.eclipse.m2e:lifecycle-mapping:1.0.0: Plugin org.eclipse.m2e:lifecycle-mapping:1.0.0 or one of its dependencies could not be resolved: Failure to find org.eclipse.m2e:lifecycle-mapping:jar:1.0.0 in NEXUS-URL/nexus/content/groups/public was cached in the local repository, resolution will not be reattempted until the update interval of corporate has elapsed or updates are forced\r\n[INFO]\r\n[INFO] --------------&lt; project-name &gt;--------------\r\n[INFO] Building project-name 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[WARNING] The POM for org.eclipse.m2e:lifecycle-mapping:jar:1.0.0 is missing, no dependency information available\r\n[WARNING] Failed to retrieve plugin descriptor for org.eclipse.m2e:lifecycle-mapping:1.0.0: Plugin org.eclipse.m2e:lifecycle-mapping:1.0.0 or one of its dependencies could not be resolved: Failure to find org.eclipse.m2e:lifecycle-mapping:jar:1.0.0 in NEXUS-URL/nexus/content/groups/public was cached in the local repository, resolution will not be reattempted until the update interval of corporate has elapsed or updates are forced\r\n[INFO]\r\n[INFO] --- sonar-maven-plugin:3.7.0.1746:sonar (default-cli) @ project-name ---\r\n[INFO] User cache: C:\\Entwicklung\\.sonar\\cache\r\n[INFO] SonarQube version: 8.0.0\r\n[INFO] Default locale: &quot;de_DE&quot;, source code encoding: &quot;UTF-8&quot;\r\n[WARNING] SonarScanner will require Java 11+ to run starting in SonarQube 8.x\r\n[INFO] Load global settings\r\n[INFO] Load global settings (done) | time=85ms\r\n[INFO] Server id: BF41A1F2-AW34YlpIvdDiua-FIR0_\r\n[INFO] User cache: C:\\Entwicklung\\.sonar\\cache\r\n[INFO] Load/download plugins\r\n[INFO] Load plugins index\r\n[INFO] Load plugins index (done) | time=53ms\r\n[INFO] Load/download plugins (done) | time=96ms\r\n[INFO] Process project properties\r\n[INFO] Process project properties (done) | time=13ms\r\n[INFO] Execute project builders\r\n[INFO] Execute project builders (done) | time=4ms\r\n[INFO] Project key: project-name\r\n[INFO] Base dir: XXX\\project-name\r\n[INFO] Working dir: XXX\\project-name\\target\\sonar\r\n[INFO] Load project settings for component key: &#39;project-name&#39;\r\n[INFO] Load project settings for component key: &#39;project-name&#39; (done) | time=19ms\r\n[INFO] Load quality profiles\r\n[INFO] Load quality profiles (done) | time=275ms\r\n[INFO] Load active rules\r\n[INFO] Load active rules (done) | time=2214ms\r\n[INFO] Indexing files...\r\n[INFO] Project configuration:\r\n[INFO] 25 files indexed\r\n[INFO] 0 files ignored because of scm ignore settings\r\n[INFO] Quality profile for java: Sonar way\r\n[INFO] Quality profile for xml: Sonar way\r\n[INFO] ------------- Run sensors on module project-name\r\n[INFO] Load metrics repository\r\n[INFO] Load metrics repository (done) | time=60ms\r\n[INFO] Sensor JavaSquidSensor [java]\r\n[INFO] Configured Java source version (sonar.java.source): 8\r\n[INFO] JavaClasspath initialization\r\n[INFO] JavaClasspath initialization (done) | time=31ms\r\n[INFO] JavaTestClasspath initialization\r\n[INFO] JavaTestClasspath initialization (done) | time=23ms\r\n[INFO] Java Main Files AST scan\r\n[INFO] 23 source files to be analyzed\r\n[INFO] Load project repositories\r\n[INFO] Load project repositories (done) | time=21ms\r\n[INFO] Java Main Files AST scan (done) | time=4614ms\r\n[INFO] Java Test Files AST scan\r\n[INFO] 1 source files to be analyzed\r\n[INFO] 23/23 source files have been analyzed\r\n[INFO] 1/1 source files have been analyzed\r\n[INFO] Java Test Files AST scan (done) | time=1484ms\r\n[INFO] Sensor JavaSquidSensor [java] (done) | time=7085ms\r\n[INFO] Sensor JaCoCo XML Report Importer [jacoco]\r\n[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=4ms\r\n[INFO] Sensor SurefireSensor [java]\r\n[INFO] parsing [XXX\\project-name\\target\\surefire-reports]\r\n[INFO] Sensor SurefireSensor [java] (done) | time=75ms\r\n[INFO] Sensor JaCoCoSensor [java]\r\n[WARNING] Property &#39;sonar.jacoco.reportPaths&#39; is deprecated (JaCoCo binary format). &#39;sonar.coverage.jacoco.xmlReportPaths&#39; should be used instead (JaCoCo XML format). Please check that the JaCoCo plugin is installed on your SonarQube Instance.\r\n[INFO] Analysing XXX\\project-name\\target\\jacoco.exec\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Skipping project-name\r\n[INFO] This project has been banned from the build due to previous failures.\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  17.163 s\r\n[INFO] Finished at: 2019-10-24T11:04:54+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.7.0.1746:sonar (default-cli) on project project-name: Unable to read XXX\\project-name\\target\\jacoco.exec: EOFException -&gt; [Help 1]\r\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.7.0.1746:sonar (default-cli) on project project-name: Unable to read XXX\\project-name\\target\\jacoco.exec\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\nCaused by: org.apache.maven.plugin.MojoExecutionException: Unable to read XXX\\project-name\\target\\jacoco.exec\r\n    at org.sonarsource.scanner.maven.bootstrap.ScannerBootstrapper.execute (ScannerBootstrapper.java:67)\r\n    at org.sonarsource.scanner.maven.SonarQubeMojo.execute (SonarQubeMojo.java:104)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\nCaused by: org.sonar.java.AnalysisException: Unable to read XXX\\project-name\\target\\jacoco.exec\r\n    at org.sonar.plugins.jacoco.JacocoReportReader.readJacocoReport (JacocoReportReader.java:72)\r\n    at org.sonar.plugins.jacoco.UnitTestAnalyzer.readExecutionData (UnitTestAnalyzer.java:129)\r\n    at org.sonar.plugins.jacoco.UnitTestAnalyzer.analyse (UnitTestAnalyzer.java:102)\r\n    at org.sonar.plugins.jacoco.JaCoCoSensor.execute (JaCoCoSensor.java:94)\r\n    at org.sonar.scanner.sensor.AbstractSensorWrapper.analyse (AbstractSensorWrapper.java:48)\r\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute (ModuleSensorsExecutor.java:85)\r\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$1 (ModuleSensorsExecutor.java:59)\r\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy (ModuleSensorsExecutor.java:77)\r\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute (ModuleSensorsExecutor.java:59)\r\n    at org.sonar.scanner.scan.ModuleScanContainer.doAfterStart (ModuleScanContainer.java:82)\r\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\r\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\r\n    at org.sonar.scanner.scan.ProjectScanContainer.scan (ProjectScanContainer.java:387)\r\n    at org.sonar.scanner.scan.ProjectScanContainer.scanRecursively (ProjectScanContainer.java:383)\r\n    at org.sonar.scanner.scan.ProjectScanContainer.doAfterStart (ProjectScanContainer.java:346)\r\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\r\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\r\n    at org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart (GlobalContainer.java:141)\r\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\r\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\r\n    at org.sonar.batch.bootstrapper.Batch.doExecute (Batch.java:72)\r\n    at org.sonar.batch.bootstrapper.Batch.execute (Batch.java:66)\r\n    at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute (BatchIsolatedLauncher.java:46)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke (IsolatedLauncherProxy.java:60)\r\n    at com.sun.proxy.$Proxy24.execute (Unknown Source)\r\n    at org.sonarsource.scanner.api.EmbeddedScanner.doExecute (EmbeddedScanner.java:189)\r\n    at org.sonarsource.scanner.api.EmbeddedScanner.execute (EmbeddedScanner.java:138)\r\n    at org.sonarsource.scanner.maven.bootstrap.ScannerBootstrapper.execute (ScannerBootstrapper.java:65)\r\n    at org.sonarsource.scanner.maven.SonarQubeMojo.execute (SonarQubeMojo.java:104)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\nCaused by: java.io.EOFException\r\n    at java.io.DataInputStream.readByte (DataInputStream.java:267)\r\n    at org.jacoco.core.internal.data.CompactDataInput.readBooleanArray (CompactDataInput.java:63)\r\n    at org.jacoco.core.data.ExecutionDataReader.readExecutionData (ExecutionDataReader.java:149)\r\n    at org.jacoco.core.data.ExecutionDataReader.readBlock (ExecutionDataReader.java:115)\r\n    at org.jacoco.core.data.ExecutionDataReader.read (ExecutionDataReader.java:92)\r\n    at org.sonar.plugins.jacoco.JacocoReportReader.readJacocoReport (JacocoReportReader.java:70)\r\n    at org.sonar.plugins.jacoco.UnitTestAnalyzer.readExecutionData (UnitTestAnalyzer.java:129)\r\n    at org.sonar.plugins.jacoco.UnitTestAnalyzer.analyse (UnitTestAnalyzer.java:102)\r\n    at org.sonar.plugins.jacoco.JaCoCoSensor.execute (JaCoCoSensor.java:94)\r\n    at org.sonar.scanner.sensor.AbstractSensorWrapper.analyse (AbstractSensorWrapper.java:48)\r\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute (ModuleSensorsExecutor.java:85)\r\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$1 (ModuleSensorsExecutor.java:59)\r\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy (ModuleSensorsExecutor.java:77)\r\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute (ModuleSensorsExecutor.java:59)\r\n    at org.sonar.scanner.scan.ModuleScanContainer.doAfterStart (ModuleScanContainer.java:82)\r\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\r\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\r\n    at org.sonar.scanner.scan.ProjectScanContainer.scan (ProjectScanContainer.java:387)\r\n    at org.sonar.scanner.scan.ProjectScanContainer.scanRecursively (ProjectScanContainer.java:383)\r\n    at org.sonar.scanner.scan.ProjectScanContainer.doAfterStart (ProjectScanContainer.java:346)\r\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\r\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\r\n    at org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart (GlobalContainer.java:141)\r\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\r\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\r\n    at org.sonar.batch.bootstrapper.Batch.doExecute (Batch.java:72)\r\n    at org.sonar.batch.bootstrapper.Batch.execute (Batch.java:66)\r\n    at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute (BatchIsolatedLauncher.java:46)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke (IsolatedLauncherProxy.java:60)\r\n    at com.sun.proxy.$Proxy24.execute (Unknown Source)\r\n    at org.sonarsource.scanner.api.EmbeddedScanner.doExecute (EmbeddedScanner.java:189)\r\n    at org.sonarsource.scanner.api.EmbeddedScanner.execute (EmbeddedScanner.java:138)\r\n    at org.sonarsource.scanner.maven.bootstrap.ScannerBootstrapper.execute (ScannerBootstrapper.java:65)\r\n    at org.sonarsource.scanner.maven.SonarQubeMojo.execute (SonarQubeMojo.java:104)\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\r\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\r\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\r\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\r\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\r\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke (Method.java:498)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\r\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\r\n[ERROR]\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\n```\r\n\r\nI&#39;m using Jacoco 0.8.5, Sonarqube 8 and Spring Boot 2.1.5.RELEASE on Windows 7.\r\n\r\nUpdate:\r\nOne of my colleagues was able without any adjustments to do the Maven build. We had the same Java version and same Maven version. I still don&#39;t know the problem and I&#39;m more confused than ever. The only main difference was his OS because he was using Windows 10.","title":"Always EOFException with Jacoco exec file","body":"<p>I tried to generate Jacoco reports for Sonarqube. Generating the file jacoco.exec works but using it for Sonarqube OR in Eclipse's EclEmma results in an EOFException (so both implementations are crappy or the generated file is the problem). There are some questions about this problem but no solution (besides not using test coverage).</p>\n\n<p>I created a Spring Boot application and tried to generate a Jacoco test coverage report with Maven. There is no problem in using <code>mvn test</code> and a jacoco.exec gets generated in the target folder. But when I try to upload the results to Sonarqube with <code>mvn sonar:sonar</code> I always get this error:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.7.0.1746:sonar (default-cli) on project project-name: Unable to read XXX\\project-name\\target\\jacoco.exec: EOFException -&gt; [Help 1]\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;build&gt;\n        ...\n        &lt;plugins&gt;\n            ...\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Stacktrace:</p>\n\n<pre><code>$ mvn sonar:sonar   -Dsonar.projectKey=...   -Dsonar.host.url=...   -Dsonar.login=... -eX\n[INFO] Error stacktraces are turned on.\n[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Detecting the operating system and CPU architecture\n[INFO] ------------------------------------------------------------------------\n[INFO] os.detected.name: windows\n[INFO] os.detected.arch: x86_64\n[INFO] os.detected.version: 6.1\n[INFO] os.detected.version.major: 6\n[INFO] os.detected.version.minor: 1\n[INFO] os.detected.classifier: windows-x86_64\n[WARNING] The POM for org.eclipse.m2e:lifecycle-mapping:jar:1.0.0 is missing, no dependency information available\n[WARNING] Failed to retrieve plugin descriptor for org.eclipse.m2e:lifecycle-mapping:1.0.0: Plugin org.eclipse.m2e:lifecycle-mapping:1.0.0 or one of its dependencies could not be resolved: Failure to find org.eclipse.m2e:lifecycle-mapping:jar:1.0.0 in NEXUS-URL/nexus/content/groups/public was cached in the local repository, resolution will not be reattempted until the update interval of corporate has elapsed or updates are forced\n[INFO]\n[INFO] --------------&lt; project-name &gt;--------------\n[INFO] Building project-name 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[WARNING] The POM for org.eclipse.m2e:lifecycle-mapping:jar:1.0.0 is missing, no dependency information available\n[WARNING] Failed to retrieve plugin descriptor for org.eclipse.m2e:lifecycle-mapping:1.0.0: Plugin org.eclipse.m2e:lifecycle-mapping:1.0.0 or one of its dependencies could not be resolved: Failure to find org.eclipse.m2e:lifecycle-mapping:jar:1.0.0 in NEXUS-URL/nexus/content/groups/public was cached in the local repository, resolution will not be reattempted until the update interval of corporate has elapsed or updates are forced\n[INFO]\n[INFO] --- sonar-maven-plugin:3.7.0.1746:sonar (default-cli) @ project-name ---\n[INFO] User cache: C:\\Entwicklung\\.sonar\\cache\n[INFO] SonarQube version: 8.0.0\n[INFO] Default locale: \"de_DE\", source code encoding: \"UTF-8\"\n[WARNING] SonarScanner will require Java 11+ to run starting in SonarQube 8.x\n[INFO] Load global settings\n[INFO] Load global settings (done) | time=85ms\n[INFO] Server id: BF41A1F2-AW34YlpIvdDiua-FIR0_\n[INFO] User cache: C:\\Entwicklung\\.sonar\\cache\n[INFO] Load/download plugins\n[INFO] Load plugins index\n[INFO] Load plugins index (done) | time=53ms\n[INFO] Load/download plugins (done) | time=96ms\n[INFO] Process project properties\n[INFO] Process project properties (done) | time=13ms\n[INFO] Execute project builders\n[INFO] Execute project builders (done) | time=4ms\n[INFO] Project key: project-name\n[INFO] Base dir: XXX\\project-name\n[INFO] Working dir: XXX\\project-name\\target\\sonar\n[INFO] Load project settings for component key: 'project-name'\n[INFO] Load project settings for component key: 'project-name' (done) | time=19ms\n[INFO] Load quality profiles\n[INFO] Load quality profiles (done) | time=275ms\n[INFO] Load active rules\n[INFO] Load active rules (done) | time=2214ms\n[INFO] Indexing files...\n[INFO] Project configuration:\n[INFO] 25 files indexed\n[INFO] 0 files ignored because of scm ignore settings\n[INFO] Quality profile for java: Sonar way\n[INFO] Quality profile for xml: Sonar way\n[INFO] ------------- Run sensors on module project-name\n[INFO] Load metrics repository\n[INFO] Load metrics repository (done) | time=60ms\n[INFO] Sensor JavaSquidSensor [java]\n[INFO] Configured Java source version (sonar.java.source): 8\n[INFO] JavaClasspath initialization\n[INFO] JavaClasspath initialization (done) | time=31ms\n[INFO] JavaTestClasspath initialization\n[INFO] JavaTestClasspath initialization (done) | time=23ms\n[INFO] Java Main Files AST scan\n[INFO] 23 source files to be analyzed\n[INFO] Load project repositories\n[INFO] Load project repositories (done) | time=21ms\n[INFO] Java Main Files AST scan (done) | time=4614ms\n[INFO] Java Test Files AST scan\n[INFO] 1 source files to be analyzed\n[INFO] 23/23 source files have been analyzed\n[INFO] 1/1 source files have been analyzed\n[INFO] Java Test Files AST scan (done) | time=1484ms\n[INFO] Sensor JavaSquidSensor [java] (done) | time=7085ms\n[INFO] Sensor JaCoCo XML Report Importer [jacoco]\n[INFO] Sensor JaCoCo XML Report Importer [jacoco] (done) | time=4ms\n[INFO] Sensor SurefireSensor [java]\n[INFO] parsing [XXX\\project-name\\target\\surefire-reports]\n[INFO] Sensor SurefireSensor [java] (done) | time=75ms\n[INFO] Sensor JaCoCoSensor [java]\n[WARNING] Property 'sonar.jacoco.reportPaths' is deprecated (JaCoCo binary format). 'sonar.coverage.jacoco.xmlReportPaths' should be used instead (JaCoCo XML format). Please check that the JaCoCo plugin is installed on your SonarQube Instance.\n[INFO] Analysing XXX\\project-name\\target\\jacoco.exec\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] Skipping project-name\n[INFO] This project has been banned from the build due to previous failures.\n[INFO] ------------------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  17.163 s\n[INFO] Finished at: 2019-10-24T11:04:54+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.7.0.1746:sonar (default-cli) on project project-name: Unable to read XXX\\project-name\\target\\jacoco.exec: EOFException -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.sonarsource.scanner.maven:sonar-maven-plugin:3.7.0.1746:sonar (default-cli) on project project-name: Unable to read XXX\\project-name\\target\\jacoco.exec\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:215)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\nCaused by: org.apache.maven.plugin.MojoExecutionException: Unable to read XXX\\project-name\\target\\jacoco.exec\n    at org.sonarsource.scanner.maven.bootstrap.ScannerBootstrapper.execute (ScannerBootstrapper.java:67)\n    at org.sonarsource.scanner.maven.SonarQubeMojo.execute (SonarQubeMojo.java:104)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\nCaused by: org.sonar.java.AnalysisException: Unable to read XXX\\project-name\\target\\jacoco.exec\n    at org.sonar.plugins.jacoco.JacocoReportReader.readJacocoReport (JacocoReportReader.java:72)\n    at org.sonar.plugins.jacoco.UnitTestAnalyzer.readExecutionData (UnitTestAnalyzer.java:129)\n    at org.sonar.plugins.jacoco.UnitTestAnalyzer.analyse (UnitTestAnalyzer.java:102)\n    at org.sonar.plugins.jacoco.JaCoCoSensor.execute (JaCoCoSensor.java:94)\n    at org.sonar.scanner.sensor.AbstractSensorWrapper.analyse (AbstractSensorWrapper.java:48)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute (ModuleSensorsExecutor.java:85)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$1 (ModuleSensorsExecutor.java:59)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy (ModuleSensorsExecutor.java:77)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute (ModuleSensorsExecutor.java:59)\n    at org.sonar.scanner.scan.ModuleScanContainer.doAfterStart (ModuleScanContainer.java:82)\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\n    at org.sonar.scanner.scan.ProjectScanContainer.scan (ProjectScanContainer.java:387)\n    at org.sonar.scanner.scan.ProjectScanContainer.scanRecursively (ProjectScanContainer.java:383)\n    at org.sonar.scanner.scan.ProjectScanContainer.doAfterStart (ProjectScanContainer.java:346)\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\n    at org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart (GlobalContainer.java:141)\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\n    at org.sonar.batch.bootstrapper.Batch.doExecute (Batch.java:72)\n    at org.sonar.batch.bootstrapper.Batch.execute (Batch.java:66)\n    at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute (BatchIsolatedLauncher.java:46)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke (IsolatedLauncherProxy.java:60)\n    at com.sun.proxy.$Proxy24.execute (Unknown Source)\n    at org.sonarsource.scanner.api.EmbeddedScanner.doExecute (EmbeddedScanner.java:189)\n    at org.sonarsource.scanner.api.EmbeddedScanner.execute (EmbeddedScanner.java:138)\n    at org.sonarsource.scanner.maven.bootstrap.ScannerBootstrapper.execute (ScannerBootstrapper.java:65)\n    at org.sonarsource.scanner.maven.SonarQubeMojo.execute (SonarQubeMojo.java:104)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\nCaused by: java.io.EOFException\n    at java.io.DataInputStream.readByte (DataInputStream.java:267)\n    at org.jacoco.core.internal.data.CompactDataInput.readBooleanArray (CompactDataInput.java:63)\n    at org.jacoco.core.data.ExecutionDataReader.readExecutionData (ExecutionDataReader.java:149)\n    at org.jacoco.core.data.ExecutionDataReader.readBlock (ExecutionDataReader.java:115)\n    at org.jacoco.core.data.ExecutionDataReader.read (ExecutionDataReader.java:92)\n    at org.sonar.plugins.jacoco.JacocoReportReader.readJacocoReport (JacocoReportReader.java:70)\n    at org.sonar.plugins.jacoco.UnitTestAnalyzer.readExecutionData (UnitTestAnalyzer.java:129)\n    at org.sonar.plugins.jacoco.UnitTestAnalyzer.analyse (UnitTestAnalyzer.java:102)\n    at org.sonar.plugins.jacoco.JaCoCoSensor.execute (JaCoCoSensor.java:94)\n    at org.sonar.scanner.sensor.AbstractSensorWrapper.analyse (AbstractSensorWrapper.java:48)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute (ModuleSensorsExecutor.java:85)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.lambda$execute$1 (ModuleSensorsExecutor.java:59)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.withModuleStrategy (ModuleSensorsExecutor.java:77)\n    at org.sonar.scanner.sensor.ModuleSensorsExecutor.execute (ModuleSensorsExecutor.java:59)\n    at org.sonar.scanner.scan.ModuleScanContainer.doAfterStart (ModuleScanContainer.java:82)\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\n    at org.sonar.scanner.scan.ProjectScanContainer.scan (ProjectScanContainer.java:387)\n    at org.sonar.scanner.scan.ProjectScanContainer.scanRecursively (ProjectScanContainer.java:383)\n    at org.sonar.scanner.scan.ProjectScanContainer.doAfterStart (ProjectScanContainer.java:346)\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\n    at org.sonar.scanner.bootstrap.GlobalContainer.doAfterStart (GlobalContainer.java:141)\n    at org.sonar.core.platform.ComponentContainer.startComponents (ComponentContainer.java:136)\n    at org.sonar.core.platform.ComponentContainer.execute (ComponentContainer.java:122)\n    at org.sonar.batch.bootstrapper.Batch.doExecute (Batch.java:72)\n    at org.sonar.batch.bootstrapper.Batch.execute (Batch.java:66)\n    at org.sonarsource.scanner.api.internal.batch.BatchIsolatedLauncher.execute (BatchIsolatedLauncher.java:46)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.sonarsource.scanner.api.internal.IsolatedLauncherProxy.invoke (IsolatedLauncherProxy.java:60)\n    at com.sun.proxy.$Proxy24.execute (Unknown Source)\n    at org.sonarsource.scanner.api.EmbeddedScanner.doExecute (EmbeddedScanner.java:189)\n    at org.sonarsource.scanner.api.EmbeddedScanner.execute (EmbeddedScanner.java:138)\n    at org.sonarsource.scanner.maven.bootstrap.ScannerBootstrapper.execute (ScannerBootstrapper.java:65)\n    at org.sonarsource.scanner.maven.SonarQubeMojo.execute (SonarQubeMojo.java:104)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:210)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:156)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:148)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:117)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:128)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:305)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:956)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:288)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:192)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0 (Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke (NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke (DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke (Method.java:498)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:289)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:229)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:415)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:356)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n\n</code></pre>\n\n<p>I'm using Jacoco 0.8.5, Sonarqube 8 and Spring Boot 2.1.5.RELEASE on Windows 7.</p>\n\n<p>Update:\nOne of my colleagues was able without any adjustments to do the Maven build. We had the same Java version and same Maven version. I still don't know the problem and I'm more confused than ever. The only main difference was his OS because he was using Windows 10.</p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676502275,"post_id":75465210,"comment_id":133152266,"body_markdown":"Maybe I am misunderstanding the question - but it does not really appear to have anything _specifically_ to do with Thymeleaf. All you need to do is check if a resource exists or not. You can build the relevant path and file name using your ID (e.g. `12345`) and then test whether it actually exists - see [Spring: Check if a classpath resource exists before loading](https://stackoverflow.com/q/53931046/12567365). If it exists, use it. Otherwise, use the default.","body":"Maybe I am misunderstanding the question - but it does not really appear to have anything <i>specifically</i> to do with Thymeleaf. All you need to do is check if a resource exists or not. You can build the relevant path and file name using your ID (e.g. <code>12345</code>) and then test whether it actually exists - see <a href=\"https://stackoverflow.com/q/53931046/12567365\">Spring: Check if a classpath resource exists before loading</a>. If it exists, use it. Otherwise, use the default."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676502388,"post_id":75465210,"comment_id":133152287,"body_markdown":"&quot;_...without making any code changes..._&quot; - If the directories are not on the classpath of the app (e.g. not bundled in `/resources/templates`), then it&#39;s just a simple [test to see if the file exists](https://stackoverflow.com/q/1816673/12567365) or not. In that case, then yes, you would need to adjust your Thymeleaf config `setPrefix(&quot;classpath:/templates/&quot;)`.","body":"&quot;<i>...without making any code changes...</i>&quot; - If the directories are not on the classpath of the app (e.g. not bundled in <code>&#47;resources&#47;templates</code>), then it&#39;s just a simple <a href=\"https://stackoverflow.com/q/1816673/12567365\">test to see if the file exists</a> or not. In that case, then yes, you would need to adjust your Thymeleaf config <code>setPrefix(&quot;classpath:&#47;templates&#47;&quot;)</code>."},{"owner":{"account_id":4687364,"reputation":2017,"user_id":3794466,"accept_rate":61,"display_name":"Bernie Lenz"},"score":0,"creation_date":1676515355,"post_id":75465210,"comment_id":133153983,"body_markdown":"@andrewJames I was hoping that Thymeleaf would have a dynamic selection of some sort built in, especially since it accepts a templateResolutionAttribute Map. However templateResolutionAttribute doesn&#39;t seem to be used anywhere which is weird...","body":"@andrewJames I was hoping that Thymeleaf would have a dynamic selection of some sort built in, especially since it accepts a templateResolutionAttribute Map. However templateResolutionAttribute doesn&#39;t seem to be used anywhere which is weird..."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1676552107,"post_id":75465210,"comment_id":133162190,"body_markdown":"Ah - I take your point. I don&#39;t know how a map of `templateResolutionAttribute` values affects the behavior of the template resolver. Even [this discussion](https://github.com/thymeleaf/thymeleaf/issues/423) of that feature did not make it clear (to me, anyway). Maybe it will to you.","body":"Ah - I take your point. I don&#39;t know how a map of <code>templateResolutionAttribute</code> values affects the behavior of the template resolver. Even <a href=\"https://github.com/thymeleaf/thymeleaf/issues/423\" rel=\"nofollow noreferrer\">this discussion</a> of that feature did not make it clear (to me, anyway). Maybe it will to you."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":1,"creation_date":1676552356,"post_id":75465210,"comment_id":133162271,"body_markdown":"The only thing I can see is that &quot;_template resolution attributes are considered a part of the identifier of a template, so they will be used as a part of the keys for cached templates_&quot; [ref](https://www.thymeleaf.org/apidocs/thymeleaf/3.0.11.RELEASE/org/thymeleaf/TemplateSpec.html#%3Cinit%3E(java.lang.String,java.util.Map)). So, for cached template retrieval, I can see they play a role.","body":"The only thing I can see is that &quot;<i>template resolution attributes are considered a part of the identifier of a template, so they will be used as a part of the keys for cached templates</i>&quot; <a href=\"https://www.thymeleaf.org/apidocs/thymeleaf/3.0.11.RELEASE/org/thymeleaf/TemplateSpec.html#%3Cinit%3E(java.lang.String,java.util.Map)\" rel=\"nofollow noreferrer\">ref</a>. So, for cached template retrieval, I can see they play a role."},{"owner":{"account_id":4687364,"reputation":2017,"user_id":3794466,"accept_rate":61,"display_name":"Bernie Lenz"},"score":1,"creation_date":1676556394,"post_id":75465210,"comment_id":133163563,"body_markdown":"Yeah, it really looks like the templateResolutionAttributes are not used when picking up files. I&#39;m surprised though that not more people asked for a feature like that. To me templating goes hand in hand with being able to configure different templates based on attributes...","body":"Yeah, it really looks like the templateResolutionAttributes are not used when picking up files. I&#39;m surprised though that not more people asked for a feature like that. To me templating goes hand in hand with being able to configure different templates based on attributes..."}],"owner":{"account_id":4687364,"reputation":2017,"user_id":3794466,"accept_rate":61,"display_name":"Bernie Lenz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676493826,"creation_date":1676493479,"question_id":75465210,"body_markdown":"I&#39;d like to be able to configure different json templates based on e.g. a clientId with a default template in case a template for the clientId is not defined. \r\n\r\n        Context context = new Context();\r\n        \r\n        Map&lt;String, Object&gt; templateResolutionAttribute = new HashMap&lt;&gt;();\r\n        templateResolutionAttribute.put(&quot;clientId&quot;, 12345);//Trying to somehow pass a variable to the template selection process...        \r\n\r\n        TemplateSpec templateSpec = new TemplateSpec(\r\n                &quot;json/data.json&quot;,\r\n                templateResolutionAttribute\r\n        );\r\n\r\n        String output = springTemplateEngine.process(templateSpec, context);\r\n\r\nThe Spring Config class I&#39;m using looks like this: \r\n\r\n    @Configuration\r\n    public class ThymeLeafConfig {\r\n        @Bean\r\n        public SpringResourceTemplateResolver jsonMessageTemplateResolver() {\r\n            SpringResourceTemplateResolver theResourceTemplateResolver =\r\n                    new SpringResourceTemplateResolver();\r\n            theResourceTemplateResolver.setPrefix(&quot;classpath:/templates/&quot;);\r\n            theResourceTemplateResolver.setResolvablePatterns(\r\n                    Collections.singleton(&quot;json/*&quot;));\r\n            theResourceTemplateResolver.setSuffix(&quot;.json&quot;);\r\n            theResourceTemplateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n            theResourceTemplateResolver.setCacheable(false);\r\n            theResourceTemplateResolver.setOrder(1);\r\n            return theResourceTemplateResolver;\r\n        }\r\n\r\nThe json templates could be in different directories or alternatively have different file names (whatever works best/easiest):\r\n\r\n    json/\r\n      data.json\r\n      12345/\r\n        data.json\r\nor\r\n\r\n    json/\r\n      data.json\r\n      data.12345.json\r\n\r\nWhat is the best or easiest way to achieve returning a template that &quot;matches&quot; the clientId and if no match for the clientId is found return a default template? \r\n\r\n**Note:** For new clients, ideally, I&#39;d like to be able to just add new json templates without making any code changes...","title":"Thymeleaf pick json template based on input variable such as clientId","body":"<p>I'd like to be able to configure different json templates based on e.g. a clientId with a default template in case a template for the clientId is not defined.</p>\n<pre><code>    Context context = new Context();\n    \n    Map&lt;String, Object&gt; templateResolutionAttribute = new HashMap&lt;&gt;();\n    templateResolutionAttribute.put(&quot;clientId&quot;, 12345);//Trying to somehow pass a variable to the template selection process...        \n\n    TemplateSpec templateSpec = new TemplateSpec(\n            &quot;json/data.json&quot;,\n            templateResolutionAttribute\n    );\n\n    String output = springTemplateEngine.process(templateSpec, context);\n</code></pre>\n<p>The Spring Config class I'm using looks like this:</p>\n<pre><code>@Configuration\npublic class ThymeLeafConfig {\n    @Bean\n    public SpringResourceTemplateResolver jsonMessageTemplateResolver() {\n        SpringResourceTemplateResolver theResourceTemplateResolver =\n                new SpringResourceTemplateResolver();\n        theResourceTemplateResolver.setPrefix(&quot;classpath:/templates/&quot;);\n        theResourceTemplateResolver.setResolvablePatterns(\n                Collections.singleton(&quot;json/*&quot;));\n        theResourceTemplateResolver.setSuffix(&quot;.json&quot;);\n        theResourceTemplateResolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        theResourceTemplateResolver.setCacheable(false);\n        theResourceTemplateResolver.setOrder(1);\n        return theResourceTemplateResolver;\n    }\n</code></pre>\n<p>The json templates could be in different directories or alternatively have different file names (whatever works best/easiest):</p>\n<pre><code>json/\n  data.json\n  12345/\n    data.json\n</code></pre>\n<p>or</p>\n<pre><code>json/\n  data.json\n  data.12345.json\n</code></pre>\n<p>What is the best or easiest way to achieve returning a template that &quot;matches&quot; the clientId and if no match for the clientId is found return a default template?</p>\n<p><strong>Note:</strong> For new clients, ideally, I'd like to be able to just add new json templates without making any code changes...</p>\n"},{"tags":["java","java-8","jboss","wildfly","java-11"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1654461883,"post_id":72489706,"comment_id":128091314,"body_markdown":"There is a chance too that the request might not be available when `@PostConstruct` is invoked.","body":"There is a chance too that the request might not be available when <code>@PostConstruct</code> is invoked."},{"owner":{"account_id":24414676,"reputation":11,"user_id":18341688,"display_name":"b n"},"score":0,"creation_date":1654757217,"post_id":72489706,"comment_id":128168767,"body_markdown":"@JamesR.Perkins how to handle this situation.","body":"@JamesR.Perkins how to handle this situation."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1654805298,"post_id":72489706,"comment_id":128186300,"body_markdown":"What is the situation you want to handle? What is your ultimate goal?","body":"What is the situation you want to handle? What is your ultimate goal?"}],"answers":[{"comments":[{"owner":{"account_id":24414676,"reputation":11,"user_id":18341688,"display_name":"b n"},"score":0,"creation_date":1654492098,"post_id":72492905,"comment_id":128095357,"body_markdown":"This code was working well with jdk8 and wildlfy10. , but on jdk11 &amp; wildfly24, it is throwing this exception.","body":"This code was working well with jdk8 and wildlfy10. , but on jdk11 &amp; wildfly24, it is throwing this exception."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1654524957,"post_id":72492905,"comment_id":128104712,"body_markdown":"I run this exact code on Wildfly 26 and Java 11 - can you share the exception?","body":"I run this exact code on Wildfly 26 and Java 11 - can you share the exception?"},{"owner":{"account_id":24414676,"reputation":11,"user_id":18341688,"display_name":"b n"},"score":0,"creation_date":1654596481,"post_id":72492905,"comment_id":128122772,"body_markdown":"Here is the complete exception  https://stackoverflow.com/questions/72432085/weld-exception-wildfly-24-with-jdk-11","body":"Here is the complete exception  <a href=\"https://stackoverflow.com/questions/72432085/weld-exception-wildfly-24-with-jdk-11\" title=\"weld exception wildfly 24 with jdk 11\">stackoverflow.com/questions/72432085/&hellip;</a>"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1654622875,"post_id":72492905,"comment_id":128132957,"body_markdown":"That looks like you&#39;re still doing the same thing.  Please create a reproducible example.","body":"That looks like you&#39;re still doing the same thing.  Please create a reproducible example."},{"owner":{"account_id":24414676,"reputation":11,"user_id":18341688,"display_name":"b n"},"score":0,"creation_date":1654663548,"post_id":72492905,"comment_id":128141591,"body_markdown":"how can i modify the init() method to accept the parameter @Context HttpServletRequest request. this exception is there on the first line of the init method. is it correct way  init(@Context HttpServletRequest request) ? i doubt.","body":"how can i modify the init() method to accept the parameter @Context HttpServletRequest request. this exception is there on the first line of the init method. is it correct way  init(@Context HttpServletRequest request) ? i doubt."},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":1,"creation_date":1654698025,"post_id":72492905,"comment_id":128153677,"body_markdown":"You cannot - as I indicated this goes on a method.  The HttpServletRequest only exists when a request comes in.  It does not exist during your `init`.","body":"You cannot - as I indicated this goes on a method.  The HttpServletRequest only exists when a request comes in.  It does not exist during your <code>init</code>."}],"tags":[],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1654275555,"creation_date":1654275555,"answer_id":72492905,"question_id":72489706,"body_markdown":"In my experience the `@Context` is set on a per method basis.  More like:\r\n\r\n    @POST\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Response myMethod(String someString, @Context HttpServletRequest request) {\r\n\r\nIn this way the `HttpServletRequest` is set on a method basis, not a class basis.  I don&#39;t think you want it at the class level as if the class has many methods those methods shouldn&#39;t share the same `HttpServletRequest`.\r\n","title":"RESTEASY003880: Unable to find contextual data of type: javax.servlet.http.HttpServletRequest","body":"<p>In my experience the <code>@Context</code> is set on a per method basis.  More like:</p>\n<pre><code>@POST\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\npublic Response myMethod(String someString, @Context HttpServletRequest request) {\n</code></pre>\n<p>In this way the <code>HttpServletRequest</code> is set on a method basis, not a class basis.  I don't think you want it at the class level as if the class has many methods those methods shouldn't share the same <code>HttpServletRequest</code>.</p>\n"},{"tags":[],"owner":{"account_id":27797156,"reputation":1,"user_id":21222363,"display_name":"Seok H Ko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676493740,"creation_date":1676493740,"answer_id":75465246,"question_id":72489706,"body_markdown":"Check if there is beans.xml in your Web-inf dir.  Then, remove and deploy again.","title":"RESTEASY003880: Unable to find contextual data of type: javax.servlet.http.HttpServletRequest","body":"<p>Check if there is beans.xml in your Web-inf dir.  Then, remove and deploy again.</p>\n"}],"owner":{"account_id":24414676,"reputation":11,"user_id":18341688,"display_name":"b n"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1554,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676493740,"creation_date":1654259929,"question_id":72489706,"body_markdown":"Hi when i am trying to open my applications&#39; login page on browser , i am getting this exception. \r\nP.S : open jdk zulu 11 and wildfly 24 for deployment. \r\n\r\n    org.jboss.resteasy.spi.LoggableFailure: RESTEASY003880: Unable to find contextual data of type: javax.servlet.http.HttpServletRequest\r\n    \tat org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.ContextParameterInjector$GenericDelegatingProxy.invoke(ContextParameterInjector.java:77)\r\n    \tat javax.servlet.api@2.0.0.Final//com.sun.proxy.$Proxy163.getSession(Unknown Source)\r\n    \tat deployment.demo.ear.rest.war//com.demoapp.demo.rest.resources.Myclass.init(Myclass.java:107)","title":"RESTEASY003880: Unable to find contextual data of type: javax.servlet.http.HttpServletRequest","body":"<p>Hi when i am trying to open my applications' login page on browser , i am getting this exception.\nP.S : open jdk zulu 11 and wildfly 24 for deployment.</p>\n<pre><code>org.jboss.resteasy.spi.LoggableFailure: RESTEASY003880: Unable to find contextual data of type: javax.servlet.http.HttpServletRequest\n    at org.jboss.resteasy.resteasy-jaxrs@3.15.1.Final//org.jboss.resteasy.core.ContextParameterInjector$GenericDelegatingProxy.invoke(ContextParameterInjector.java:77)\n    at javax.servlet.api@2.0.0.Final//com.sun.proxy.$Proxy163.getSession(Unknown Source)\n    at deployment.demo.ear.rest.war//com.demoapp.demo.rest.resources.Myclass.init(Myclass.java:107)\n</code></pre>\n"},{"tags":["java","quarkus","vert.x","event-bus"],"owner":{"account_id":2090586,"reputation":4006,"user_id":1860517,"accept_rate":85,"display_name":"mangusbrother"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676493573,"creation_date":1676493123,"question_id":75465174,"body_markdown":"I have a service that is making use of the Quarkus Event bus.  Quarkus version in use is `2.9.0.CR1` \r\n\r\nWhen I run my tests through intellij, all tests pass and i do not get issues. However, when I try to run with `mvn clean install` from command line, I am getting this excpetion:\r\n\r\n```\r\n(RECIPIENT_FAILURE,8185) java.nio.BufferOverflowException\r\n        at io.vertx.core.eventbus.Message.fail(Message.java:141)\r\n        at io.quarkus.vertx.runtime.VertxRecorder$3$1$1.handle(VertxRecorder.java:117)\r\n        at io.quarkus.vertx.runtime.VertxRecorder$3$1$1.handle(VertxRecorder.java:107)\r\n        at io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\r\n        at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\r\n        at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\r\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:548)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n\r\n```\r\n\r\nThe object I am trying to send over the event bus is  this:\r\n\r\n```\r\npublic record TransportSendMessage(MimeMessage message, String from, String to) {\r\n\r\n}\r\n```\r\n\r\n(For the record, the MimeMessage in that is the jakarta one to send mail with. It also contains an image as an attachment in it, so it is posisble that there isa  bit of heft to the message in terms of bytes)\r\n\r\nThe Codec for this is:\r\n\r\n```\r\npublic class TransportSendMessageCodec implements MessageCodec&lt;TransportSendMessage, TransportSendMessage&gt; {\r\n  @Override\r\n  public void encodeToWire(Buffer buffer, TransportSendMessage scheduledPubsubMessage) {\r\n    // NO-OP\r\n  }\r\n\r\n  @Override\r\n  public TransportSendMessage decodeFromWire(int pos, Buffer buffer) {\r\n    // NO-OP\r\n    return null;\r\n  }\r\n\r\n  @Override\r\n  public TransportSendMessage transform(TransportSendMessage transportSendMessage) {\r\n    // we pass the object by reference over the eventbus.\r\n    return transportSendMessage;\r\n  }\r\n\r\n  @Override\r\n  public String name() {\r\n    return getClass().getName();\r\n  }\r\n\r\n  @Override\r\n  public byte systemCodecID() {\r\n    return -1;\r\n  }\r\n}\r\n```\r\n\r\nMy handler class:\r\n\r\n```\r\n@Slf4j\r\n@Startup\r\n@ApplicationScoped\r\npublic class TransportSendHandler {\r\n\r\n  public static final String TRANSPORT_HANDLER_EVENT_BUS_ADDRESS = &quot;emailTransportSendEventBus&quot;;\r\n\r\n  @Inject\r\n  EventBus eventBus;\r\n\r\n\r\n  @PostConstruct\r\n  public void init() {\r\n    eventBus.registerCodec(new TransportSendMessageCodec());\r\n  }\r\n\r\n  /**\r\n   * We consume a message from the event bus. The message received will then be emailed\r\n   *\r\n   * @param message The message to email\r\n   */\r\n  @ConsumeEvent(value = TRANSPORT_HANDLER_EVENT_BUS_ADDRESS)\r\n  @Blocking\r\n  public Uni&lt;Void&gt; consumeMessage(TransportSendMessage message) {\r\n    try {\r\n      log.debug(&quot;Attempting to send email: from {}, to {}&quot;, message.from(), message.to());\r\n      Transport.send(message.message());\r\n      log.debug(&quot;Email has been sent: from {}, to {} &quot;, message.from(), message.to());\r\n      return Uni.createFrom().voidItem();\r\n    } catch (MessagingException e) {\r\n      log.warn(&quot;Failed sending email: from {}, to {}&quot;, message.from(), message.to());\r\n      return Uni.createFrom().failure(e);\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\nAnd the code sending the message:\r\n\r\n```\r\neventBus.request(TransportSendHandler.TRANSPORT_HANDLER_EVENT_BUS_ADDRESS,\r\n            new TransportSendMessage(myMimeMessage, fromADdress, toAddress)))\r\n```\r\n\r\nI&#39;m a bit lost really as to why this is happening just when run from command line. ","title":"Quarkus Vertx throwing java.nio.BufferOverflowException during test when run from command line but not intellij","body":"<p>I have a service that is making use of the Quarkus Event bus.  Quarkus version in use is <code>2.9.0.CR1</code></p>\n<p>When I run my tests through intellij, all tests pass and i do not get issues. However, when I try to run with <code>mvn clean install</code> from command line, I am getting this excpetion:</p>\n<pre><code>(RECIPIENT_FAILURE,8185) java.nio.BufferOverflowException\n        at io.vertx.core.eventbus.Message.fail(Message.java:141)\n        at io.quarkus.vertx.runtime.VertxRecorder$3$1$1.handle(VertxRecorder.java:117)\n        at io.quarkus.vertx.runtime.VertxRecorder$3$1$1.handle(VertxRecorder.java:107)\n        at io.vertx.core.impl.ContextImpl.lambda$null$0(ContextImpl.java:159)\n        at io.vertx.core.impl.AbstractContext.dispatch(AbstractContext.java:100)\n        at io.vertx.core.impl.ContextImpl.lambda$executeBlocking$1(ContextImpl.java:157)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:548)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n\n</code></pre>\n<p>The object I am trying to send over the event bus is  this:</p>\n<pre><code>public record TransportSendMessage(MimeMessage message, String from, String to) {\n\n}\n</code></pre>\n<p>(For the record, the MimeMessage in that is the jakarta one to send mail with. It also contains an image as an attachment in it, so it is posisble that there isa  bit of heft to the message in terms of bytes)</p>\n<p>The Codec for this is:</p>\n<pre><code>public class TransportSendMessageCodec implements MessageCodec&lt;TransportSendMessage, TransportSendMessage&gt; {\n  @Override\n  public void encodeToWire(Buffer buffer, TransportSendMessage scheduledPubsubMessage) {\n    // NO-OP\n  }\n\n  @Override\n  public TransportSendMessage decodeFromWire(int pos, Buffer buffer) {\n    // NO-OP\n    return null;\n  }\n\n  @Override\n  public TransportSendMessage transform(TransportSendMessage transportSendMessage) {\n    // we pass the object by reference over the eventbus.\n    return transportSendMessage;\n  }\n\n  @Override\n  public String name() {\n    return getClass().getName();\n  }\n\n  @Override\n  public byte systemCodecID() {\n    return -1;\n  }\n}\n</code></pre>\n<p>My handler class:</p>\n<pre><code>@Slf4j\n@Startup\n@ApplicationScoped\npublic class TransportSendHandler {\n\n  public static final String TRANSPORT_HANDLER_EVENT_BUS_ADDRESS = &quot;emailTransportSendEventBus&quot;;\n\n  @Inject\n  EventBus eventBus;\n\n\n  @PostConstruct\n  public void init() {\n    eventBus.registerCodec(new TransportSendMessageCodec());\n  }\n\n  /**\n   * We consume a message from the event bus. The message received will then be emailed\n   *\n   * @param message The message to email\n   */\n  @ConsumeEvent(value = TRANSPORT_HANDLER_EVENT_BUS_ADDRESS)\n  @Blocking\n  public Uni&lt;Void&gt; consumeMessage(TransportSendMessage message) {\n    try {\n      log.debug(&quot;Attempting to send email: from {}, to {}&quot;, message.from(), message.to());\n      Transport.send(message.message());\n      log.debug(&quot;Email has been sent: from {}, to {} &quot;, message.from(), message.to());\n      return Uni.createFrom().voidItem();\n    } catch (MessagingException e) {\n      log.warn(&quot;Failed sending email: from {}, to {}&quot;, message.from(), message.to());\n      return Uni.createFrom().failure(e);\n    }\n  }\n}\n\n</code></pre>\n<p>And the code sending the message:</p>\n<pre><code>eventBus.request(TransportSendHandler.TRANSPORT_HANDLER_EVENT_BUS_ADDRESS,\n            new TransportSendMessage(myMimeMessage, fromADdress, toAddress)))\n</code></pre>\n<p>I'm a bit lost really as to why this is happening just when run from command line.</p>\n"},{"tags":["java","spring","profile","boot"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1675663004,"post_id":75357563,"comment_id":132969836,"body_markdown":"how are you going to run it?","body":"how are you going to run it?"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1675663457,"post_id":75357563,"comment_id":132969914,"body_markdown":"Is that a maven project?","body":"Is that a maven project?"}],"answers":[{"tags":[],"owner":{"account_id":7788110,"reputation":1429,"user_id":6306585,"accept_rate":60,"display_name":"Shakirov Ramil"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675664189,"creation_date":1675664189,"answer_id":75357921,"question_id":75357563,"body_markdown":"you just add profile on run options\r\n\r\n    java -jar app.jar --spring.profiles.active=dev\r\n\r\nor with maven\r\n\r\n    mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--spring.profiles.active=dev&quot;\r\n\r\n\r\nOne remark. profile on property file writes with &quot;-&quot;\r\n\r\n    application-dev.properties\r\n\r\n","title":"Spring Boot: How to create 3 profiles and implement in spring boot","body":"<p>you just add profile on run options</p>\n<pre><code>java -jar app.jar --spring.profiles.active=dev\n</code></pre>\n<p>or with maven</p>\n<pre><code>mvn spring-boot:run -Dspring-boot.run.arguments=&quot;--spring.profiles.active=dev&quot;\n</code></pre>\n<p>One remark. profile on property file writes with &quot;-&quot;</p>\n<pre><code>application-dev.properties\n</code></pre>\n"}],"owner":{"account_id":20769442,"reputation":59,"user_id":15252509,"display_name":"Luke"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676493330,"creation_date":1675660709,"question_id":75357563,"body_markdown":"I want to create 3 profiles to access the database based on the enviroment\r\n\r\nInstead of writing all the properties in a single file. I want the properties has to be split into 3 based on enviroment (Qlty,Prod,Dev). That is \r\n\r\n    1.application_prod.properties --should contain all production related details\r\n    2.application_qlty.properties --should contain all qlty related details\r\n    3.application_dev.properties  --should contain all dev related details\r\n\r\nHow to implment the above 3 profiles in spring boot and how to select the profile based on the type of enviroment. what is the best practice to implement the above in an easy manner\r\n\r\n\r\n","title":"Spring Boot: How to create 3 profiles and implement in spring boot","body":"<p>I want to create 3 profiles to access the database based on the enviroment</p>\n<p>Instead of writing all the properties in a single file. I want the properties has to be split into 3 based on enviroment (Qlty,Prod,Dev). That is</p>\n<pre><code>1.application_prod.properties --should contain all production related details\n2.application_qlty.properties --should contain all qlty related details\n3.application_dev.properties  --should contain all dev related details\n</code></pre>\n<p>How to implment the above 3 profiles in spring boot and how to select the profile based on the type of enviroment. what is the best practice to implement the above in an easy manner</p>\n"},{"tags":["java","spring","spring-mvc","mockito"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1476697265,"post_id":40082745,"comment_id":67438692,"body_markdown":"&quot;Didn&#39;t work&quot; means...","body":"&quot;Didn&#39;t work&quot; means..."},{"owner":{"account_id":3779987,"reputation":460,"user_id":3139759,"accept_rate":67,"display_name":"user1337"},"score":0,"creation_date":1476697444,"post_id":40082745,"comment_id":67438807,"body_markdown":"Excuse me, &quot;Didn&#39;t work&quot; means I am running a get request on a secured method with no admin role and the return status is not the expected 403(not authorized) but 200(ok).","body":"Excuse me, &quot;Didn&#39;t work&quot; means I am running a get request on a secured method with no admin role and the return status is not the expected 403(not authorized) but 200(ok)."},{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1476697855,"post_id":40082745,"comment_id":67439055,"body_markdown":"Please show how you&#39;re setting up your `mockMvc`.","body":"Please show how you&#39;re setting up your <code>mockMvc</code>."},{"owner":{"account_id":5858163,"reputation":1059,"user_id":4614788,"accept_rate":96,"display_name":"Glenn Van Schil"},"score":0,"creation_date":1494849781,"post_id":40082745,"comment_id":74987083,"body_markdown":"I had a similar case and this worked for me http://stackoverflow.com/a/32777599/4614788","body":"I had a similar case and this worked for me <a href=\"http://stackoverflow.com/a/32777599/4614788\">stackoverflow.com/a/32777599/4614788</a>"}],"answers":[{"comments":[{"owner":{"account_id":3779987,"reputation":460,"user_id":3139759,"accept_rate":67,"display_name":"user1337"},"score":0,"creation_date":1476703620,"post_id":40084071,"comment_id":67442788,"body_markdown":"Thank you for the answer! Little bit more background regarding standalone setup for MockMvc from http://stackoverflow.com/a/34316901/3139759 I added the solution in my initial post.","body":"Thank you for the answer! Little bit more background regarding standalone setup for MockMvc from <a href=\"http://stackoverflow.com/a/34316901/3139759\">stackoverflow.com/a/34316901/3139759</a> I added the solution in my initial post."}],"tags":[],"owner":{"account_id":1968635,"reputation":21509,"user_id":1768226,"accept_rate":80,"display_name":"shazin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1476700328,"creation_date":1476700328,"answer_id":40084071,"question_id":40082745,"body_markdown":"You should add the `springSecurityFilterChain` while creating the `MockMvc`\r\n\r\n    protected MockMvc mockMvc;\r\n\r\n    @Autowired\r\n    protected WebApplicationContext wac;\r\n\r\n    @Autowired\r\n    protected Filter springSecurityFilterChain;\r\n\r\n    protected void setup() {\r\n        mockMvc = MockMvcBuilders\r\n       .webAppContextSetup(wac)\r\n       .addFilters(springSecurityFilterChain)\r\n       .build();\r\n    }\r\n","title":"Spring @WithMockUser and request.IsUserInRole()","body":"<p>You should add the <code>springSecurityFilterChain</code> while creating the <code>MockMvc</code></p>\n\n<pre><code>protected MockMvc mockMvc;\n\n@Autowired\nprotected WebApplicationContext wac;\n\n@Autowired\nprotected Filter springSecurityFilterChain;\n\nprotected void setup() {\n    mockMvc = MockMvcBuilders\n   .webAppContextSetup(wac)\n   .addFilters(springSecurityFilterChain)\n   .build();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3373041,"reputation":195,"user_id":2831843,"display_name":"Geoffrey Ritchey"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676493262,"creation_date":1676493262,"answer_id":75465189,"question_id":40082745,"body_markdown":"    @Test\r\n\t@WithMockUser(username=&quot;xx&quot;, roles= {&quot;TIMESHEET&quot;})\r\n\tpublic void createNew() throws FailingHttpStatusCodeException, MalformedURLException, IOException {\r\n\t\t\r\n\t\tassertTrue(Constants.isUserInRole(&quot;ROLE_TIMESHEET&quot;), &quot;user not in correct role&quot;);\r\n\r\nWhere Constants.isUserInRole is defined as\r\n\r\n    public static Boolean isUserInRole(String role) {\r\n\t\treturn Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication()).map(x-&gt;x.getAuthorities()).get()\r\n\t\t\t\t.stream().anyMatch(x-&gt;x.getAuthority().equals(role));\r\n\t}\r\n\r\nThen use this isUserInRole rather than request.isUserInRole.","title":"Spring @WithMockUser and request.IsUserInRole()","body":"<pre><code>@Test\n@WithMockUser(username=&quot;xx&quot;, roles= {&quot;TIMESHEET&quot;})\npublic void createNew() throws FailingHttpStatusCodeException, MalformedURLException, IOException {\n    \n    assertTrue(Constants.isUserInRole(&quot;ROLE_TIMESHEET&quot;), &quot;user not in correct role&quot;);\n</code></pre>\n<p>Where Constants.isUserInRole is defined as</p>\n<pre><code>public static Boolean isUserInRole(String role) {\n    return Optional.ofNullable(SecurityContextHolder.getContext().getAuthentication()).map(x-&gt;x.getAuthorities()).get()\n            .stream().anyMatch(x-&gt;x.getAuthority().equals(role));\n}\n</code></pre>\n<p>Then use this isUserInRole rather than request.isUserInRole.</p>\n"}],"owner":{"account_id":3779987,"reputation":460,"user_id":3139759,"accept_rate":67,"display_name":"user1337"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1803,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":40084071,"answer_count":2,"score":2,"last_activity_date":1676493262,"creation_date":1476696344,"question_id":40082745,"body_markdown":"I am using:\r\n\r\n    request.IsUserInRole(&quot;ADMIN&quot;)\r\n\r\nin one of my controllers to determine the response to the request. I tried to mock the request in my test like:\r\n\r\n\t@Mock\r\n\tprivate HttpServletRequest httpRequest;\r\n\r\nand to use Springs annotation `@WithMockUser`:\r\n\r\n\t@Test\r\n\t@WithMockUser(roles={&quot;USER, ADMIN&quot;})\r\n\tpublic void getAccountsTest() throws Exception {...}\r\n\r\nBoth didn&#39;t work.\r\n\r\nQuestion 1: How can I mock `request.IsUserInRole(&quot;ADMIN&quot;)` in a JUnit test?\r\n\r\nQuestion 2: What influence does `@WithMockUser` have on the request and `request.IsUserInRole(&quot;ADMIN&quot;)`?\r\n\r\nThanks and best regards\r\n\r\n---- edit ----\r\n\r\n&quot;Didn&#39;t work&quot; means I have a test method:\r\n\r\n\r\n    \r\n    @Test\r\n\t@WithMockUser(username = &quot;user&quot;, roles={&quot;USER&quot;})\r\n    public void getAccountsReturnForbiddenTest() throws Exception {\r\n    \tmockMvc.perform(get(&quot;/accounts/&quot;))\r\n\t\t\t.andExpect(status().isForbidden());\r\n    }\r\n\r\nwhich should return 403, not allowed because of the controller:\r\n\r\n    @RequestMapping(method=RequestMethod.GET)\r\n\t@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n    public ResponseEntity&lt;PagedResources&lt;AccountResource&gt;&gt; getAccounts(...){...}\r\n\r\nBut the request returns 200, OK.\r\n\r\nAnd I am using Spring Boot 1.4.1.\r\n\r\n---- edit 2 ----\r\n\r\nMy JUnit Test-class:\r\n\r\n    @Transactional\r\n    @ContextConfiguration\r\n    public class AccountControllerTestDoc extends AbstractControllerTest {\r\n\t\r\n\t    @InjectMocks\r\n\t    private AccountController accountController;\r\n\t    \r\n\t    @Mock\r\n\t    private AccountService accountService;\r\n\t    \r\n\t    private String uriBase = &quot;&quot;; \r\n\t    \r\n\t    @Before\r\n\t    public void setup() {\r\n\t        // Initialize Mockito annotated components\r\n\t        MockitoAnnotations.initMocks(this);\r\n\t        // Prepare the Spring MVC Mock components for standalone testing\r\n\t        setup(accountController);\r\n\t    }\r\n\t    \r\n\t    @Test\r\n\t    @WithMockUser(username = &quot;user&quot;, roles={&quot;USER&quot;})\r\n\t    public void getAccountsReturnForbiddenTest() throws Exception {\r\n\t        String uri = uriBase + &quot;/accounts&quot;;\r\n\t    \tmockMvc.perform(get(uri))\r\n\t    \t\t.andExpect(status().isForbidden());\r\n\t    }\r\n\t\r\n\t}\r\n\r\nwith AbstractControllerTest:\r\n\r\n    @WebAppConfiguration\r\n    public abstract class AbstractControllerTest extends AbstractTest  {\r\n    \r\n    \tprotected MockMvc mockMvc;\r\n    \t\r\n    \t@Autowired\r\n    \tprotected WebApplicationContext wac;\r\n    \t\r\n    \tprotected void setup() {\r\n    \t\tmockMvc = MockMvcBuilders.webAppContextSetup(wac).build();\r\n    \t}\r\n    \r\n        protected void setup(BaseController controller) {\r\n            mockMvc = MockMvcBuilders.standaloneSetup(controller))\r\n            \t\t.build();\r\n        }\r\n    }\r\n\r\nand AbstractTest:\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest\r\n    public abstract class AbstractTest {\r\n    \r\n    \tprotected Logger LOG = LoggerFactory.getLogger(this.getClass());\r\n    \r\n    }\r\n\r\n---- solution ----\r\n\r\n`MockMvc` `standaloneSetup` isn&#39;t aware of the web application context and therefore not aware of the security filter chain. One has to setup `MockMvc` with the web application context and the security filter chain to be able to test security aspects.\r\n\r\nHere is my now working solution, I edited the AbstractControllerTest:\r\n\r\n    @WebAppConfiguration\r\n    public abstract class AbstractControllerTest extends AbstractTest  {\r\n    \r\n        protected MockMvc mockMvc;\r\n    \r\n        @Autowired\r\n        protected WebApplicationContext wac;\r\n    \r\n        @Autowired\r\n        FilterChainProxy springSecurityFilterChain;\r\n    \r\n        protected void setup() {\r\n            mockMvc = MockMvcBuilders\r\n                .webAppContextSetup(wac)\r\n        \t\t.addFilters(springSecurityFilterChain)\r\n                .build();\r\n        }\r\n    \r\n        protected void setup(BaseController controller) {\r\n            mockMvc = MockMvcBuilders.standaloneSetup(controller))\r\n                    .build();\r\n        }\r\n    }","title":"Spring @WithMockUser and request.IsUserInRole()","body":"<p>I am using:</p>\n\n<pre><code>request.IsUserInRole(\"ADMIN\")\n</code></pre>\n\n<p>in one of my controllers to determine the response to the request. I tried to mock the request in my test like:</p>\n\n<pre><code>@Mock\nprivate HttpServletRequest httpRequest;\n</code></pre>\n\n<p>and to use Springs annotation <code>@WithMockUser</code>:</p>\n\n<pre><code>@Test\n@WithMockUser(roles={\"USER, ADMIN\"})\npublic void getAccountsTest() throws Exception {...}\n</code></pre>\n\n<p>Both didn't work.</p>\n\n<p>Question 1: How can I mock <code>request.IsUserInRole(\"ADMIN\")</code> in a JUnit test?</p>\n\n<p>Question 2: What influence does <code>@WithMockUser</code> have on the request and <code>request.IsUserInRole(\"ADMIN\")</code>?</p>\n\n<p>Thanks and best regards</p>\n\n<p>---- edit ----</p>\n\n<p>\"Didn't work\" means I have a test method:</p>\n\n<pre><code>@Test\n@WithMockUser(username = \"user\", roles={\"USER\"})\npublic void getAccountsReturnForbiddenTest() throws Exception {\n    mockMvc.perform(get(\"/accounts/\"))\n        .andExpect(status().isForbidden());\n}\n</code></pre>\n\n<p>which should return 403, not allowed because of the controller:</p>\n\n<pre><code>@RequestMapping(method=RequestMethod.GET)\n@PreAuthorize(\"hasRole('ADMIN')\")\npublic ResponseEntity&lt;PagedResources&lt;AccountResource&gt;&gt; getAccounts(...){...}\n</code></pre>\n\n<p>But the request returns 200, OK.</p>\n\n<p>And I am using Spring Boot 1.4.1.</p>\n\n<p>---- edit 2 ----</p>\n\n<p>My JUnit Test-class:</p>\n\n<pre><code>@Transactional\n@ContextConfiguration\npublic class AccountControllerTestDoc extends AbstractControllerTest {\n\n    @InjectMocks\n    private AccountController accountController;\n\n    @Mock\n    private AccountService accountService;\n\n    private String uriBase = \"\"; \n\n    @Before\n    public void setup() {\n        // Initialize Mockito annotated components\n        MockitoAnnotations.initMocks(this);\n        // Prepare the Spring MVC Mock components for standalone testing\n        setup(accountController);\n    }\n\n    @Test\n    @WithMockUser(username = \"user\", roles={\"USER\"})\n    public void getAccountsReturnForbiddenTest() throws Exception {\n        String uri = uriBase + \"/accounts\";\n        mockMvc.perform(get(uri))\n            .andExpect(status().isForbidden());\n    }\n\n}\n</code></pre>\n\n<p>with AbstractControllerTest:</p>\n\n<pre><code>@WebAppConfiguration\npublic abstract class AbstractControllerTest extends AbstractTest  {\n\n    protected MockMvc mockMvc;\n\n    @Autowired\n    protected WebApplicationContext wac;\n\n    protected void setup() {\n        mockMvc = MockMvcBuilders.webAppContextSetup(wac).build();\n    }\n\n    protected void setup(BaseController controller) {\n        mockMvc = MockMvcBuilders.standaloneSetup(controller))\n                .build();\n    }\n}\n</code></pre>\n\n<p>and AbstractTest:</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest\npublic abstract class AbstractTest {\n\n    protected Logger LOG = LoggerFactory.getLogger(this.getClass());\n\n}\n</code></pre>\n\n<p>---- solution ----</p>\n\n<p><code>MockMvc</code> <code>standaloneSetup</code> isn't aware of the web application context and therefore not aware of the security filter chain. One has to setup <code>MockMvc</code> with the web application context and the security filter chain to be able to test security aspects.</p>\n\n<p>Here is my now working solution, I edited the AbstractControllerTest:</p>\n\n<pre><code>@WebAppConfiguration\npublic abstract class AbstractControllerTest extends AbstractTest  {\n\n    protected MockMvc mockMvc;\n\n    @Autowired\n    protected WebApplicationContext wac;\n\n    @Autowired\n    FilterChainProxy springSecurityFilterChain;\n\n    protected void setup() {\n        mockMvc = MockMvcBuilders\n            .webAppContextSetup(wac)\n            .addFilters(springSecurityFilterChain)\n            .build();\n    }\n\n    protected void setup(BaseController controller) {\n        mockMvc = MockMvcBuilders.standaloneSetup(controller))\n                .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","multidimensional-array","random"],"comments":[{"owner":{"display_name":"user20716279"},"score":0,"creation_date":1676492271,"post_id":75464938,"comment_id":133150011,"body_markdown":"arrSize is 2d array that mean it&#39;s array of arrays so`arrSize[index]` will return the array on index `index` so `arrSize[index] = Integer.MIN_VALUE` it complain here that you tried to put int value inside that array which is array of int not an int thi the error you get","body":"arrSize is 2d array that mean it&#39;s array of arrays so<code>arrSize[index]</code> will return the array on index <code>index</code> so <code>arrSize[index] = Integer.MIN_VALUE</code> it complain here that you tried to put int value inside that array which is array of int not an int thi the error you get"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676497401,"post_id":75464938,"comment_id":133151291,"body_markdown":"Don&#39;t you already have helpful or usable answers in your earlier question? [I need to find the top 5 numbers in a 2D array of random numbers](https://stackoverflow.com/q/75461466/12567365) Instead of repeating much of the same code, you could write a [mre] here - just enough code to recreate this new (very specific) problem - but no extra irrelevant code.","body":"Don&#39;t you already have helpful or usable answers in your earlier question? <a href=\"https://stackoverflow.com/q/75461466/12567365\">I need to find the top 5 numbers in a 2D array of random numbers</a> Instead of repeating much of the same code, you could write a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> here - just enough code to recreate this new (very specific) problem - but no extra irrelevant code."}],"answers":[{"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676492623,"creation_date":1676492623,"answer_id":75465108,"question_id":75464938,"body_markdown":"You declare your `arrSize` here\r\n```java\r\nint[][] arrSize = new int [4][5];\r\n```\r\n\r\nand try to set it&#39;s value here\r\n```java\r\narrSize[index] = Integer.MIN_VALUE;\r\n```\r\n\r\nThe Object at `arrSize[index]` is an array.\r\n\r\nRemember that a 2D array basically looks like this:\r\n```\r\narrSize\r\n  - arrSize[0]\r\n    - arrSize[0][0]\r\n    - arrSize[0][1]\r\n  - arrSize[1]\r\n    - arrSize[1][0]\r\n    - arrSize[1][1]\r\n  - arrSize[2]\r\n    - arrSize[2][0]\r\n    - arrSize[2][1]\r\n  - arrSize[3]\r\n    - arrSize[3][0]\r\n    - arrSize[3][1]\r\n```\r\nBecause index is a single int, you are assentially calling arrSize[0], which contains `arrSize[0][0]` and `arrSize[0][1]`.  \r\n\r\nThe [`Integer.MIN_VALUE`](https://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#MIN_VALUE) is not an array of integers.  It is an `int`.  You cannot assign `int` to `int[]`.","title":"How to get the top 5 numbers from a 2D array of random numbers","body":"<p>You declare your <code>arrSize</code> here</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[][] arrSize = new int [4][5];\n</code></pre>\n<p>and try to set it's value here</p>\n<pre class=\"lang-java prettyprint-override\"><code>arrSize[index] = Integer.MIN_VALUE;\n</code></pre>\n<p>The Object at <code>arrSize[index]</code> is an array.</p>\n<p>Remember that a 2D array basically looks like this:</p>\n<pre><code>arrSize\n  - arrSize[0]\n    - arrSize[0][0]\n    - arrSize[0][1]\n  - arrSize[1]\n    - arrSize[1][0]\n    - arrSize[1][1]\n  - arrSize[2]\n    - arrSize[2][0]\n    - arrSize[2][1]\n  - arrSize[3]\n    - arrSize[3][0]\n    - arrSize[3][1]\n</code></pre>\n<p>Because index is a single int, you are assentially calling arrSize[0], which contains <code>arrSize[0][0]</code> and <code>arrSize[0][1]</code>.</p>\n<p>The <a href=\"https://docs.oracle.com/javase/6/docs/api/java/lang/Integer.html#MIN_VALUE\" rel=\"nofollow noreferrer\"><code>Integer.MIN_VALUE</code></a> is not an array of integers.  It is an <code>int</code>.  You cannot assign <code>int</code> to <code>int[]</code>.</p>\n"},{"tags":[],"owner":{"account_id":24235543,"reputation":51,"user_id":18188725,"display_name":"kyrond"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676492922,"creation_date":1676492854,"answer_id":75465137,"question_id":75464938,"body_markdown":"As you can see in other parts of the code, to access values in 2D array arrSize, you need 2 indexes in your case (and usually) `i` and `j`. \r\n\r\nYou need to save both `i` and `j` after you find the highest number.\r\n\r\n```\r\nif (max &lt; arrSize[i][j]) {\r\n   max = arrSize[i][j];\r\n   indexI = i;\r\n   indexJ = j;\r\n}\r\n```\r\n\r\nand then\r\n\r\n```\r\narrSize[indexI][indexJ] = Integer.MIN_VALUE;\r\n```\r\n\r\n\r\n----------\r\n\r\n\r\nAs to why you got the error, `arrSize[i]` gets you a 1D array. It&#39;s still an array and you cannot set an array to an integer (`Integer.MIN_VALUE`). in Java represented as `int[]` in the error message.\r\n\r\n\r\n----------\r\n\r\n\r\nThe algorithm could be improved, instead of using a single integer `max` for saving the highest value, you could use a `maxArr` of the same size as the number of highest numbers you want (in your case 5) and check against all of the numbers in `maxArr` using a for in place of \r\n\r\n```\r\nif (max &lt; arrSize[i][j]) {\r\n   max = arrSize[i][j];\r\n   index = i;\r\n}\r\n```\r\n\r\nThat would mean you could remove the index (or indexI and indexJ) and topmost `for` cycle (`for (int p = 0; p &lt; 5; p++)`). But that&#39;s another topic, and one you should learn yourself.","title":"How to get the top 5 numbers from a 2D array of random numbers","body":"<p>As you can see in other parts of the code, to access values in 2D array arrSize, you need 2 indexes in your case (and usually) <code>i</code> and <code>j</code>.</p>\n<p>You need to save both <code>i</code> and <code>j</code> after you find the highest number.</p>\n<pre><code>if (max &lt; arrSize[i][j]) {\n   max = arrSize[i][j];\n   indexI = i;\n   indexJ = j;\n}\n</code></pre>\n<p>and then</p>\n<pre><code>arrSize[indexI][indexJ] = Integer.MIN_VALUE;\n</code></pre>\n<hr />\n<p>As to why you got the error, <code>arrSize[i]</code> gets you a 1D array. It's still an array and you cannot set an array to an integer (<code>Integer.MIN_VALUE</code>). in Java represented as <code>int[]</code> in the error message.</p>\n<hr />\n<p>The algorithm could be improved, instead of using a single integer <code>max</code> for saving the highest value, you could use a <code>maxArr</code> of the same size as the number of highest numbers you want (in your case 5) and check against all of the numbers in <code>maxArr</code> using a for in place of</p>\n<pre><code>if (max &lt; arrSize[i][j]) {\n   max = arrSize[i][j];\n   index = i;\n}\n</code></pre>\n<p>That would mean you could remove the index (or indexI and indexJ) and topmost <code>for</code> cycle (<code>for (int p = 0; p &lt; 5; p++)</code>). But that's another topic, and one you should learn yourself.</p>\n"}],"owner":{"display_name":"user21220101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75465137,"answer_count":2,"score":-1,"last_activity_date":1676492922,"creation_date":1676491532,"question_id":75464938,"body_markdown":"I am pretty new to java and am just learning 2D arrays. I am trying to get the top 5 numbers to display from a random list. I think this could work but am not sure why I am getting an error. One other thing is that I cannot use the sort function.\r\n\r\n\r\n\r\nCode here: \r\n```\r\npublic static void main(String[] args) {\r\n //Random Number stuff\r\n\t\tRandom rand = new Random();\r\n\t\t\r\n\t\tint[] large = new int [5];\r\n\t\t\r\n\t\tint max = 0, index;\r\n\r\n\t\tint[][] arrSize = new int [4][5];\r\n\t\t\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; arrSize.length; i++) {\r\n\t\t\tfor (int j=0; j&lt; arrSize[i].length; j++) {\r\n\t\t\t\tarrSize[i][j] = rand.nextInt(89) + 10;\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.print(arrSize[i][j] + &quot; &quot;);\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tSystem.out.println();\r\n\t\t\t\r\n\t\t}\r\n\t\t// Top 5\r\n\t\tfor (int p = 0; p &lt; 5; p++) {\r\n\t\tmax = arrSize [0][0];\r\n\t\tindex = 0;\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; arrSize.length; i++) {\r\n\t\t\tfor (int j = 0; j &lt; arrSize[i].length; j++) {\r\n\t\t\t\t\r\n\t\t\t\tif (max &lt; arrSize[i][j]) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tmax = arrSize[i][j];\r\n\t\t\t\t\tindex = i;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tlarge[p] = max;\r\n\t\tarrSize[index] = Integer.MIN_VALUE;  //Error here\r\n\t\t\r\n\t\t\tSystem.out.println(&quot;Highest Number: &quot; + large[p]);\r\n\t}\r\n \r\n}\r\n}\r\n```\r\nError text:\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \r\n\tType mismatch: cannot convert from int to int[]\r\n\r\n\tat secondAssignment.BiggestNumbersRectangular.main(BiggestNumbersRectangular.java:47)\r\n\r\n```\r\n\r\n\r\nI am not sure why I am getting an error, any help would appreciated. If anyone else has any answers for how I could get the top 5 in a different way that would also be appreciated.\r\n","title":"How to get the top 5 numbers from a 2D array of random numbers","body":"<p>I am pretty new to java and am just learning 2D arrays. I am trying to get the top 5 numbers to display from a random list. I think this could work but am not sure why I am getting an error. One other thing is that I cannot use the sort function.</p>\n<p>Code here:</p>\n<pre><code>public static void main(String[] args) {\n //Random Number stuff\n        Random rand = new Random();\n        \n        int[] large = new int [5];\n        \n        int max = 0, index;\n\n        int[][] arrSize = new int [4][5];\n        \n        \n        for (int i = 0; i &lt; arrSize.length; i++) {\n            for (int j=0; j&lt; arrSize[i].length; j++) {\n                arrSize[i][j] = rand.nextInt(89) + 10;\n                \n                System.out.print(arrSize[i][j] + &quot; &quot;);\n            }\n                \n            System.out.println();\n            \n        }\n        // Top 5\n        for (int p = 0; p &lt; 5; p++) {\n        max = arrSize [0][0];\n        index = 0;\n        \n        for (int i = 0; i &lt; arrSize.length; i++) {\n            for (int j = 0; j &lt; arrSize[i].length; j++) {\n                \n                if (max &lt; arrSize[i][j]) {\n                    \n                    max = arrSize[i][j];\n                    index = i;\n                    \n                }\n        }\n        }\n        \n        \n        large[p] = max;\n        arrSize[index] = Integer.MIN_VALUE;  //Error here\n        \n            System.out.println(&quot;Highest Number: &quot; + large[p]);\n    }\n \n}\n}\n</code></pre>\n<p>Error text:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: \n    Type mismatch: cannot convert from int to int[]\n\n    at secondAssignment.BiggestNumbersRectangular.main(BiggestNumbersRectangular.java:47)\n\n</code></pre>\n<p>I am not sure why I am getting an error, any help would appreciated. If anyone else has any answers for how I could get the top 5 in a different way that would also be appreciated.</p>\n"},{"tags":["java","sockets","wireshark"],"comments":[{"owner":{"account_id":1746734,"reputation":3016,"user_id":1596750,"display_name":"Ross Jacobs"},"score":0,"creation_date":1588884147,"post_id":61660681,"comment_id":109080794,"body_markdown":"It&#39;s unclear what your question is. Is wireshark able to detect desired traffic but your code does not?","body":"It&#39;s unclear what your question is. Is wireshark able to detect desired traffic but your code does not?"},{"owner":{"account_id":18517783,"reputation":1,"user_id":13491531,"display_name":"HoRinbb"},"score":0,"creation_date":1588894813,"post_id":61660681,"comment_id":109084632,"body_markdown":"wireshark can catch tcp data but my java code can not read byte","body":"wireshark can catch tcp data but my java code can not read byte"},{"owner":{"account_id":18517783,"reputation":1,"user_id":13491531,"display_name":"HoRinbb"},"score":0,"creation_date":1596117091,"post_id":61660681,"comment_id":111713437,"body_markdown":"The problem was caused by someone config my computer.It was solved when I patch","body":"The problem was caused by someone config my computer.It was solved when I patch"}],"owner":{"account_id":18517783,"reputation":1,"user_id":13491531,"display_name":"HoRinbb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676492710,"creation_date":1588862647,"question_id":61660681,"body_markdown":"Recently嚗I code a simple demo of socket to connect my server,which support sftp service.\r\n```\r\nSocket soc = new Socket(&quot;172.16.195.250&quot;,22); // ip:172.16.195.250 port:22\r\nboolean isConnect = soc.isConnect(); //return true when project run\r\nint b = 0;\r\nInputStream is = soc.getInputStream();\r\nwhile((b=is.read())!=-1){\r\n    if(b==13){\r\n        break;\r\n    }\r\n    System.out.println(b);\r\n}\r\n```\r\nThe demo will run normally in many people&#39;s computers including mine嚗The ASCII of SSH version can be output on the console嚗but the demo block at the &#39;read()&#39; running at some people&#39;s computer.\r\n\r\nWhat my know is that the package of tcp has been arrived the net card,for the reason that I can catch the tcp package which from 172.16.195.250:22 to my client with tool named &#39;wireshark&#39;.\r\n\r\nMy firewall has shutdowned,but I don&#39;t konw it is completely.\r\n\r\nSome people who encountered such a situation can give me help ~\r\nI am a newbie and my English is poor 嚗hoping u to understanding my problem. Thanks~","title":"wireshark can catch tcp package嚗but my socket can not recieve data","body":"<p>Recently嚗I code a simple demo of socket to connect my server,which support sftp service.</p>\n\n<pre><code>Socket soc = new Socket(\"172.16.195.250\",22); // ip:172.16.195.250 port:22\nboolean isConnect = soc.isConnect(); //return true when project run\nint b = 0;\nInputStream is = soc.getInputStream();\nwhile((b=is.read())!=-1){\n    if(b==13){\n        break;\n    }\n    System.out.println(b);\n}\n</code></pre>\n\n<p>The demo will run normally in many people's computers including mine嚗The ASCII of SSH version can be output on the console嚗but the demo block at the 'read()' running at some people's computer.</p>\n\n<p>What my know is that the package of tcp has been arrived the net card,for the reason that I can catch the tcp package which from 172.16.195.250:22 to my client with tool named 'wireshark'.</p>\n\n<p>My firewall has shutdowned,but I don't konw it is completely.</p>\n\n<p>Some people who encountered such a situation can give me help ~\nI am a newbie and my English is poor 嚗hoping u to understanding my problem. Thanks~</p>\n"},{"tags":["java","apache-spark","hbase"],"owner":{"account_id":5422321,"reputation":922,"user_id":4315608,"accept_rate":33,"display_name":"Sudarsana Kasireddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676492518,"creation_date":1676492192,"question_id":75465049,"body_markdown":"I&#39;m new to Spark. I need to compare two JavaRDD streams from hbase clusters using spark and export the differences to files. Data will be in billions of records. is there any way I can compare 2 JavaRDD using java?\r\n","title":"How to compare two JavaRDDs?","body":"<p>I'm new to Spark. I need to compare two JavaRDD streams from hbase clusters using spark and export the differences to files. Data will be in billions of records. is there any way I can compare 2 JavaRDD using java?</p>\n"},{"tags":["java","android","android-bluetooth"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1676498834,"post_id":75465089,"comment_id":133151609,"body_markdown":"Just a quick shot - are you granting runtime permissions (or did this manually on the &quot;running&quot; phone) ?","body":"Just a quick shot - are you granting runtime permissions (or did this manually on the &quot;running&quot; phone) ?"},{"owner":{"account_id":27796864,"reputation":1,"user_id":21222156,"display_name":"Martinator"},"score":0,"creation_date":1676543094,"post_id":75465089,"comment_id":133159548,"body_markdown":"yes, I am granting runtime permissions. Location permission in this case.","body":"yes, I am granting runtime permissions. Location permission in this case."}],"owner":{"account_id":27796864,"reputation":1,"user_id":21222156,"display_name":"Martinator"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676492464,"creation_date":1676492464,"question_id":75465089,"body_markdown":"I am working on a bluetooth application. When I run the app on my phone and press the button that is supposed to run the startDiscovery() method, it works fine for me. But when I try the same thing on another phone, it doesn&#39;t work. It does not start searching for devices. Both phones run Android 11.\r\nThis is the code I have:\r\n\r\n```\r\n        btnSearch.setOnClickListener(new View.OnClickListener() {\r\n            @SuppressLint(&quot;MissingPermission&quot;)\r\n            @Override\r\n            public void onClick(View v) {\r\n                enableBt();\r\n                txtStatus.setText(&quot;Searching...&quot;);\r\n                btnSearch.setEnabled(false);\r\n                btnCancel.setVisibility(View.VISIBLE);\r\n                pbLoading.setVisibility(View.VISIBLE);\r\n                deviceList.clear();\r\n                addresses.clear();\r\n                setAdapter();\r\n                bluetoothAdapter.startDiscovery();\r\n            }\r\n        });\r\n```\r\nI have all the necessary permissions written in the AndroidManifest file:\r\n\r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n```\r\n\r\nI request from user for ACCESS_FINE_LOCATION permission in MainActivity.java. Which should also automatically allow ACCESS_COARSE_LOCATION.(right?). Both phones get location permission request, and both phones get bluetooth enable request, but only one scans for other bluetooth devices when the btnSearch is pressed.\r\n\r\n\r\n\r\nI tried to ask for BLUETOOTH_SCAN which isn&#39;t required for android 11 if I&#39;m right. And I am pretty much out of ideas.","title":"BluetoothAdapter.startDiscovery() works on one phone and not on the other, both are android 11 (api 30)","body":"<p>I am working on a bluetooth application. When I run the app on my phone and press the button that is supposed to run the startDiscovery() method, it works fine for me. But when I try the same thing on another phone, it doesn't work. It does not start searching for devices. Both phones run Android 11.\nThis is the code I have:</p>\n<pre><code>        btnSearch.setOnClickListener(new View.OnClickListener() {\n            @SuppressLint(&quot;MissingPermission&quot;)\n            @Override\n            public void onClick(View v) {\n                enableBt();\n                txtStatus.setText(&quot;Searching...&quot;);\n                btnSearch.setEnabled(false);\n                btnCancel.setVisibility(View.VISIBLE);\n                pbLoading.setVisibility(View.VISIBLE);\n                deviceList.clear();\n                addresses.clear();\n                setAdapter();\n                bluetoothAdapter.startDiscovery();\n            }\n        });\n</code></pre>\n<p>I have all the necessary permissions written in the AndroidManifest file:</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n</code></pre>\n<p>I request from user for ACCESS_FINE_LOCATION permission in MainActivity.java. Which should also automatically allow ACCESS_COARSE_LOCATION.(right?). Both phones get location permission request, and both phones get bluetooth enable request, but only one scans for other bluetooth devices when the btnSearch is pressed.</p>\n<p>I tried to ask for BLUETOOTH_SCAN which isn't required for android 11 if I'm right. And I am pretty much out of ideas.</p>\n"},{"tags":["java","couchbase-lite"],"answers":[{"tags":[],"owner":{"account_id":911472,"reputation":6655,"user_id":945226,"accept_rate":70,"display_name":"G. Blake Meike"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676492315,"creation_date":1676492315,"answer_id":75465067,"question_id":75445597,"body_markdown":"I don&#39;t think you can do this with the QueryBuilder interface.  SQL+, however, has a function: &quot;IFMISSINGORNULL(arg1, arg2)&quot; whose value is its first argument, if ISMISSINGORNULL is false for that argument and its second argument otherwise.  You should be able to use the query:\r\n\r\n&quot;select * from _ order by IFMISSINGORNULL(birthname, lastname)&quot;\r\n\r\nFWIW, the ResultSet produced by Query.execute() should be closed.  It is `AutoClosable` so you might do something like this:\r\n\r\n    final Query query = db.createQuery(&quot;select * from _ order by IFMISSINGORNULL(birthname, lastname)&quot;);\r\n    try (ResultSet results = query.execute()) {\r\n        // parse the results...\r\n    }","title":"Couchbase Lite - use coalesce / ifNullOrMissing in order by clause","body":"<p>I don't think you can do this with the QueryBuilder interface.  SQL+, however, has a function: &quot;IFMISSINGORNULL(arg1, arg2)&quot; whose value is its first argument, if ISMISSINGORNULL is false for that argument and its second argument otherwise.  You should be able to use the query:</p>\n<p>&quot;select * from _ order by IFMISSINGORNULL(birthname, lastname)&quot;</p>\n<p>FWIW, the ResultSet produced by Query.execute() should be closed.  It is <code>AutoClosable</code> so you might do something like this:</p>\n<pre><code>final Query query = db.createQuery(&quot;select * from _ order by IFMISSINGORNULL(birthname, lastname)&quot;);\ntry (ResultSet results = query.execute()) {\n    // parse the results...\n}\n</code></pre>\n"}],"owner":{"account_id":4289211,"reputation":2763,"user_id":3506022,"accept_rate":70,"display_name":"Eria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676492315,"creation_date":1676365905,"question_id":75445597,"body_markdown":"I have documents stored in a **couchbase lite** database. I use the [query builder](https://docs.couchbase.com/couchbase-lite/current/java/querybuilder.html) to request these documents in **Java**.\r\n\r\nI would like to to order the retrieved documents given two properties: **if one is missing, I&#39;d like to use the value of another** for the ordering.\r\n\r\nFor example, considering these data stored in the couchbase lite:\r\n\r\n```json\r\n{\r\n    &quot;firstname&quot;:&quot;Russell&quot;,\r\n    &quot;lastname&quot;:&quot;Macdonald&quot;\r\n},\r\n{\r\n    &quot;firstname&quot;:&quot;Brielle&quot;\r\n    &quot;birthname&quot;:&quot;Vaughn&quot;\r\n    &quot;lastname&quot;:&quot;Bates&quot;\r\n},\r\n{\r\n    &quot;firstname&quot;:&quot;Molly&quot;\r\n    &quot;birthname&quot;:&quot;Arellano&quot;\r\n    &quot;lastname&quot;:&quot;Nichols&quot;\r\n}\r\n```\r\n\r\nI would like to order by birthname. But if the birthname is missing, the lastname should be used instead. The resulting order would be:\r\n\r\n- Molly **Arellano** (married Nichols)\r\n- Russell **Macdonald**\r\n- Brielle **Vaughn** (married Bates)\r\n\r\nI tried passing the two successive properties to the order by clause. But, unsurprisingly, it did not work:\r\n\r\n```java\r\nList&lt;Result&gt; results = select(all())\r\n    .from(database(myDatabase))\r\n    .orderBy(Ordering.property(&quot;birthname&quot;), Ordering.property(&quot;lastname&quot;))\r\n    .execute().allResults()\r\n```","title":"Couchbase Lite - use coalesce / ifNullOrMissing in order by clause","body":"<p>I have documents stored in a <strong>couchbase lite</strong> database. I use the <a href=\"https://docs.couchbase.com/couchbase-lite/current/java/querybuilder.html\" rel=\"nofollow noreferrer\">query builder</a> to request these documents in <strong>Java</strong>.</p>\n<p>I would like to to order the retrieved documents given two properties: <strong>if one is missing, I'd like to use the value of another</strong> for the ordering.</p>\n<p>For example, considering these data stored in the couchbase lite:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;firstname&quot;:&quot;Russell&quot;,\n    &quot;lastname&quot;:&quot;Macdonald&quot;\n},\n{\n    &quot;firstname&quot;:&quot;Brielle&quot;\n    &quot;birthname&quot;:&quot;Vaughn&quot;\n    &quot;lastname&quot;:&quot;Bates&quot;\n},\n{\n    &quot;firstname&quot;:&quot;Molly&quot;\n    &quot;birthname&quot;:&quot;Arellano&quot;\n    &quot;lastname&quot;:&quot;Nichols&quot;\n}\n</code></pre>\n<p>I would like to order by birthname. But if the birthname is missing, the lastname should be used instead. The resulting order would be:</p>\n<ul>\n<li>Molly <strong>Arellano</strong> (married Nichols)</li>\n<li>Russell <strong>Macdonald</strong></li>\n<li>Brielle <strong>Vaughn</strong> (married Bates)</li>\n</ul>\n<p>I tried passing the two successive properties to the order by clause. But, unsurprisingly, it did not work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Result&gt; results = select(all())\n    .from(database(myDatabase))\n    .orderBy(Ordering.property(&quot;birthname&quot;), Ordering.property(&quot;lastname&quot;))\n    .execute().allResults()\n</code></pre>\n"},{"tags":["java","spring","postgresql","hibernate","jpa"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1676495279,"post_id":75465061,"comment_id":133150783,"body_markdown":"Sounds like the column doesn&#39;t exist. Did you change the class schema for this after already creating the DB?","body":"Sounds like the column doesn&#39;t exist. Did you change the class schema for this after already creating the DB?"},{"owner":{"account_id":27796990,"reputation":11,"user_id":21222248,"display_name":"murdered"},"score":0,"creation_date":1676495531,"post_id":75465061,"comment_id":133150832,"body_markdown":"no, in pgadmin the same error btw, in tables are correct columns","body":"no, in pgadmin the same error btw, in tables are correct columns"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676496194,"post_id":75465061,"comment_id":133151010,"body_markdown":"User is a reserved word in most databases, so I&#39;d suggest NOT using it as your table name to avoid issues (maybe this one). What do you mean &quot;in PGAdmin the same error&quot;, or that the tables are correct? How have you created the tables exactly?","body":"User is a reserved word in most databases, so I&#39;d suggest NOT using it as your table name to avoid issues (maybe this one). What do you mean &quot;in PGAdmin the same error&quot;, or that the tables are correct? How have you created the tables exactly?"},{"owner":{"account_id":8811874,"reputation":153,"user_id":6584664,"accept_rate":75,"display_name":"Youri C."},"score":0,"creation_date":1683193208,"post_id":75465061,"comment_id":134330102,"body_markdown":"If your table is not in the default schema you need to specify it by setting `@Table(name = &quot;user&quot;, schema = &quot;your_schema&quot;)`","body":"If your table is not in the default schema you need to specify it by setting <code>@Table(name = &quot;user&quot;, schema = &quot;your_schema&quot;)</code>"}],"owner":{"account_id":27796990,"reputation":11,"user_id":21222248,"display_name":"murdered"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676492270,"creation_date":1676492270,"question_id":75465061,"body_markdown":"Try to learn hibernate + jpa, don`t know what to do with this. Error when getting by id.\r\n\r\nJDBC exception executing SQL [select u1_0.id,u1_0.email,u1_0.login,u1_0.password,r1_0.id,r1_0.name from user u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?]\r\n\r\nCaused by: org.postgresql.util.PSQLException: ERROR: column u1_0.role_id doesn`t exist\r\n\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String login;\r\n\r\n    @Column(nullable = false)\r\n    private String password;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String email;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;role_id&quot;)\r\n    private UserRole role;\r\n}\r\n```\r\n\r\n\r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\n@Table(name = &quot;role&quot;)\r\npublic class UserRole {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n}\r\n```\r\n[enter image description here](https://i.stack.imgur.com/aOQ92.png)\r\n\r\n\r\nTried to debug but no results","title":"Column doesn`t exist","body":"<p>Try to learn hibernate + jpa, don`t know what to do with this. Error when getting by id.</p>\n<p>JDBC exception executing SQL [select u1_0.id,u1_0.email,u1_0.login,u1_0.password,r1_0.id,r1_0.name from user u1_0 left join role r1_0 on r1_0.id=u1_0.role_id where u1_0.id=?]</p>\n<p>Caused by: org.postgresql.util.PSQLException: ERROR: column u1_0.role_id doesn`t exist</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(nullable = false, unique = true)\n    private String login;\n\n    @Column(nullable = false)\n    private String password;\n\n    @Column(nullable = false, unique = true)\n    private String email;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;role_id&quot;)\n    private UserRole role;\n}\n</code></pre>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\n@Table(name = &quot;role&quot;)\npublic class UserRole {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(nullable = false)\n    private String name;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aOQ92.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Tried to debug but no results</p>\n"},{"tags":["java","reactjs","spring","spring-boot","vite"],"comments":[{"owner":{"account_id":7915360,"reputation":438,"user_id":5977966,"display_name":"jouhami"},"score":0,"creation_date":1693325759,"post_id":75465057,"comment_id":135744605,"body_markdown":"Did you solve your problem ? I&#39;m interested in your solutiono if you have any","body":"Did you solve your problem ? I&#39;m interested in your solutiono if you have any"}],"owner":{"account_id":14039126,"reputation":31,"user_id":10141032,"display_name":"numbersgoup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676492253,"creation_date":1676492253,"question_id":75465057,"body_markdown":"I have a Java Spring Boot backend, with a Tomcat server configured.\r\n\r\nI have a React frontend, packaged using Vite, with &quot;vite build&quot; sending everything to a &quot;dist&quot; directory.\r\n\r\nI move this &quot;dist&quot; directory to my &quot;src/main/resources/static/&quot; directory to be served automatically by Spring. This is running in a Docker container.\r\n\r\nI&#39;m able to pull up my home page. However, the front-end isn&#39;t picking up any CSS packaged by Vite, despite the fact I can see it in the `dist` folder under `dist/assets/*`, and the path in my `dist/index.html` to that `assets/index-${HASH}.css` file is correct.\r\n\r\n**This is only happening on sub-routes from index.html in my app.** It&#39;s worth noting that when I refresh the page, I get a **&quot;Whitelabel Error Page&quot;**. It&#39;s like my app doesn&#39;t recognize that, for example, `https://localhost/route/routetwo` is supposed to be a persistent path from the entrypoint `index.html`.\r\n\r\nWhat&#39;s weird about this, and making it hard to troubleshoot, is that everything works correctly when running `vite preview` in a different Docker container. I&#39;m able to see the child routes with the correct CSS, refreshing the page with no issue, etc.\r\n\r\nIn &quot;Developer Tools -&gt; Sources&quot; I see the contents of `index.html` for the sub-route when running `vite preview`, but not when trying to serve it as part of Spring. It&#39;s something about how Spring is interacting with my vite build.\r\n\r\nAny ideas?\r\n\r\nI&#39;ve tried numerous things, including but not limited to:\r\n\r\n- Pulling the dist out of the `vite preview` container, pasting it into my backend `src/main/resources/static` directory and serving it that way rather than building dynamically with each Docker container. No dice, still not finding my `/assets/index-${HASH}.css`\r\n- Doing the same as the above, but moving `assets/*` out of the assets directory and into the same directory as `src/main/resources/static/index.html`, changing the pathing in `index.html`. No result.\r\n- Considerable testing to make sure it&#39;s not a directory issue with my Docker builds. Confirmed there&#39;s basically no difference between the successful container and the unsuccessful except one is using `vite preview` and the other is using Spring static asset serving.\r\n","title":"Spring Boot not serving Vite dist/prod build assets, only index.html","body":"<p>I have a Java Spring Boot backend, with a Tomcat server configured.</p>\n<p>I have a React frontend, packaged using Vite, with &quot;vite build&quot; sending everything to a &quot;dist&quot; directory.</p>\n<p>I move this &quot;dist&quot; directory to my &quot;src/main/resources/static/&quot; directory to be served automatically by Spring. This is running in a Docker container.</p>\n<p>I'm able to pull up my home page. However, the front-end isn't picking up any CSS packaged by Vite, despite the fact I can see it in the <code>dist</code> folder under <code>dist/assets/*</code>, and the path in my <code>dist/index.html</code> to that <code>assets/index-${HASH}.css</code> file is correct.</p>\n<p><strong>This is only happening on sub-routes from index.html in my app.</strong> It's worth noting that when I refresh the page, I get a <strong>&quot;Whitelabel Error Page&quot;</strong>. It's like my app doesn't recognize that, for example, <code>https://localhost/route/routetwo</code> is supposed to be a persistent path from the entrypoint <code>index.html</code>.</p>\n<p>What's weird about this, and making it hard to troubleshoot, is that everything works correctly when running <code>vite preview</code> in a different Docker container. I'm able to see the child routes with the correct CSS, refreshing the page with no issue, etc.</p>\n<p>In &quot;Developer Tools -&gt; Sources&quot; I see the contents of <code>index.html</code> for the sub-route when running <code>vite preview</code>, but not when trying to serve it as part of Spring. It's something about how Spring is interacting with my vite build.</p>\n<p>Any ideas?</p>\n<p>I've tried numerous things, including but not limited to:</p>\n<ul>\n<li>Pulling the dist out of the <code>vite preview</code> container, pasting it into my backend <code>src/main/resources/static</code> directory and serving it that way rather than building dynamically with each Docker container. No dice, still not finding my <code>/assets/index-${HASH}.css</code></li>\n<li>Doing the same as the above, but moving <code>assets/*</code> out of the assets directory and into the same directory as <code>src/main/resources/static/index.html</code>, changing the pathing in <code>index.html</code>. No result.</li>\n<li>Considerable testing to make sure it's not a directory issue with my Docker builds. Confirmed there's basically no difference between the successful container and the unsuccessful except one is using <code>vite preview</code> and the other is using Spring static asset serving.</li>\n</ul>\n"},{"tags":["java","jar","classloader","classnotfoundexception"],"comments":[{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1676459011,"post_id":75458697,"comment_id":133139383,"body_markdown":"Could you provide particular stacktrace containing missing class name? System classloader has to set parents e.g. bootstrap and extension classloaders.","body":"Could you provide particular stacktrace containing missing class name? System classloader has to set parents e.g. bootstrap and extension classloaders."},{"owner":{"account_id":192462,"reputation":1686,"user_id":433618,"accept_rate":38,"display_name":"Erhard Dinhobl"},"score":0,"creation_date":1676459224,"post_id":75458697,"comment_id":133139458,"body_markdown":"i would assume that CCLoader is yours? are you providing the CCLoader class in your jar file?","body":"i would assume that CCLoader is yours? are you providing the CCLoader class in your jar file?"},{"owner":{"account_id":25398964,"reputation":95,"user_id":19208792,"display_name":"Gourav Kumar"},"score":0,"creation_date":1676460618,"post_id":75458697,"comment_id":133139820,"body_markdown":"I have edited my post please have a look. Just now i found out that using `javac -J-Djava.class.path=&lt;path to app jar&gt;.jar -J-Djava.system.class.loader=org.example.CCL.CCLoader \n` the CCLoader is getting triggered. but i don&#39;t know whether this is right or not.","body":"I have edited my post please have a look. Just now i found out that using <code>javac -J-Djava.class.path=&lt;path to app jar&gt;.jar -J-Djava.system.class.loader=org.example.CCL.CCLoader  </code> the CCLoader is getting triggered. but i don&#39;t know whether this is right or not."},{"owner":{"account_id":6518557,"reputation":2810,"user_id":5043481,"display_name":"zforgo"},"score":0,"creation_date":1676469197,"post_id":75458697,"comment_id":133142479,"body_markdown":"At first, fully qualified classname is different in the example ```-Djava.system.class.loader=org.example.loader.CCLoade``` and the stacktrace ```/org/example/CCL/CC_Loader```. Finally Java is case sensitive, so capital package names are not the good choice.","body":"At first, fully qualified classname is different in the example <code>-Djava.system.class.loader=org.example.loader.CCLoade</code> and the stacktrace <code>&#47;org&#47;example&#47;CCL&#47;CC_Loader</code>. Finally Java is case sensitive, so capital package names are not the good choice."},{"owner":{"account_id":25398964,"reputation":95,"user_id":19208792,"display_name":"Gourav Kumar"},"score":0,"creation_date":1676492286,"post_id":75458697,"comment_id":133150015,"body_markdown":"my bad, i wrote the package name, it has been corrected now. Please suggest some solution. Thanks!","body":"my bad, i wrote the package name, it has been corrected now. Please suggest some solution. Thanks!"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1676646897,"post_id":75458697,"comment_id":133185094,"body_markdown":"It doesnt help to change the command line options in the question on Stackoverflow. To the JVM only what you actually specified to the command matters. According to the exception, it was `/Users/gouravkumar/Desktop/KPOCs/Class_Isolation_Loading/setCustomCL/target/classes/org/example/CCL/CC_Loader.class` instead of `org.example.loader.CCL.CCLoader`.","body":"It doesnt help to change the command line options in the question on Stackoverflow. To the JVM only what you actually specified to the command matters. According to the exception, it was <code>&#47;Users&#47;gouravkumar&#47;Desktop&#47;KPOCs&#47;Class_Isolation_Loading&#47;set&zwnj;&#8203;CustomCL&#47;target&#47;clas&zwnj;&#8203;ses&#47;org&#47;example&#47;CCL&#47;&zwnj;&#8203;CC_Loader.class</code> instead of <code>org.example.loader.CCL.CCLoader</code>."}],"owner":{"account_id":25398964,"reputation":95,"user_id":19208792,"display_name":"Gourav Kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676492170,"creation_date":1676458280,"question_id":75458697,"body_markdown":"I am working on some usecase where i want that my custom classloader should be used instead of the default system classloader. For this i tried many ways\r\n\r\n 1. `java -Djava.system.class.loader=org.example.loader.CCLoader -jar &lt;path to app jar&gt;.jar`\r\n\r\n\r\n 2. `java -Djava.system.class.loader=&lt;complete path to compiled CCLoader&gt;.class -jar &lt;path to app jar&gt;.jar`\r\n\r\n 3. `java -Djava.system.class.loader=&lt;complete path to CCLoader&gt;.java -jar &lt;path to app jar&gt;.jar`\r\n\r\n 4. `java -Djava.system.class.loader=org.example.loader.CCL.CCLoader -cp &lt;path to app jar&gt;.jar org.example.App`\r\n\r\n\r\n Again and again i am getting `Caused by: java.lang.ClassNotFoundException:` on **CCLoader**.\r\n\r\nEven after unzipping the app.jar, i could find the CCLoader.\r\n\r\nI don&#39;t know where i am getting this wrong.\r\n\r\n**Edit**: Added stacktrace for reference, And yes the CCLoader is in the same jar as of now just to check but later i will move the CCLoader in some other jar and use it from there.\r\n\r\n**Edit2**: corrected path of the CCLoader.\r\n\r\n\r\n```\r\nError occurred during initialization of VM\r\njava.lang.Error: java.lang.ClassNotFoundException: /Users/gouravkumar/Desktop/KPOCs/Class_Isolation_Loading/setCustomCL/target/classes/org/example/CCL/CC_Loader.class\r\n        at java.lang.ClassLoader.initSystemClassLoader(ClassLoader.java:1462)\r\n        at java.lang.ClassLoader.getSystemClassLoader(ClassLoader.java:1429)\r\nCaused by: java.lang.ClassNotFoundException: /Users/gouravkumar/Desktop/KPOCs/Class_Isolation_Loading/setCustomCL/target/classes/org/example/CCL/CC_Loader.class\r\n        at java.lang.Class.forName0(Native Method)\r\n        at java.lang.Class.forName(Class.java:348)\r\n        at java.lang.SystemClassLoaderAction.run(ClassLoader.java:2202)\r\n        at java.lang.SystemClassLoaderAction.run(ClassLoader.java:2188)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.lang.ClassLoader.initSystemClassLoader(ClassLoader.java:1449)\r\n        at java.lang.ClassLoader.getSystemClassLoader(ClassLoader.java:1429)\r\n```\r\n","title":"Unable to set Custom Classloader as default classloader in java","body":"<p>I am working on some usecase where i want that my custom classloader should be used instead of the default system classloader. For this i tried many ways</p>\n<ol>\n<li><p><code>java -Djava.system.class.loader=org.example.loader.CCLoader -jar &lt;path to app jar&gt;.jar</code></p>\n</li>\n<li><p><code>java -Djava.system.class.loader=&lt;complete path to compiled CCLoader&gt;.class -jar &lt;path to app jar&gt;.jar</code></p>\n</li>\n<li><p><code>java -Djava.system.class.loader=&lt;complete path to CCLoader&gt;.java -jar &lt;path to app jar&gt;.jar</code></p>\n</li>\n<li><p><code>java -Djava.system.class.loader=org.example.loader.CCL.CCLoader -cp &lt;path to app jar&gt;.jar org.example.App</code></p>\n</li>\n</ol>\n<p>Again and again i am getting <code>Caused by: java.lang.ClassNotFoundException:</code> on <strong>CCLoader</strong>.</p>\n<p>Even after unzipping the app.jar, i could find the CCLoader.</p>\n<p>I don't know where i am getting this wrong.</p>\n<p><strong>Edit</strong>: Added stacktrace for reference, And yes the CCLoader is in the same jar as of now just to check but later i will move the CCLoader in some other jar and use it from there.</p>\n<p><strong>Edit2</strong>: corrected path of the CCLoader.</p>\n<pre><code>Error occurred during initialization of VM\njava.lang.Error: java.lang.ClassNotFoundException: /Users/gouravkumar/Desktop/KPOCs/Class_Isolation_Loading/setCustomCL/target/classes/org/example/CCL/CC_Loader.class\n        at java.lang.ClassLoader.initSystemClassLoader(ClassLoader.java:1462)\n        at java.lang.ClassLoader.getSystemClassLoader(ClassLoader.java:1429)\nCaused by: java.lang.ClassNotFoundException: /Users/gouravkumar/Desktop/KPOCs/Class_Isolation_Loading/setCustomCL/target/classes/org/example/CCL/CC_Loader.class\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Class.java:348)\n        at java.lang.SystemClassLoaderAction.run(ClassLoader.java:2202)\n        at java.lang.SystemClassLoaderAction.run(ClassLoader.java:2188)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.lang.ClassLoader.initSystemClassLoader(ClassLoader.java:1449)\n        at java.lang.ClassLoader.getSystemClassLoader(ClassLoader.java:1429)\n</code></pre>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1676406130,"post_id":75452852,"comment_id":133129904,"body_markdown":"You may need to bring in other libraries such as this one https://www.qoppa.com/pdfoptimizer/ (it is paid). I&#39;m not sure that you can do what you want with pdfbox itself.","body":"You may need to bring in other libraries such as this one <a href=\"https://www.qoppa.com/pdfoptimizer/\" rel=\"nofollow noreferrer\">qoppa.com/pdfoptimizer</a> (it is paid). I&#39;m not sure that you can do what you want with pdfbox itself."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676406653,"post_id":75452852,"comment_id":133130018,"body_markdown":"Thank you for response, is it not possible to optimize or compress the size of splitted documents with pdf box? As of now, I am trying with non commercial libraries. If you suggest any, would be helpful","body":"Thank you for response, is it not possible to optimize or compress the size of splitted documents with pdf box? As of now, I am trying with non commercial libraries. If you suggest any, would be helpful"},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1676407742,"post_id":75452852,"comment_id":133130288,"body_markdown":"Looking into the documentation it seems there is a way to do it using pdfbox features, you will need to experiment to see if the result will still meet your requirements though. Here is one example of it: https://stackoverflow.com/a/53544377/460557 and there is also   PreflightConfiguration which you can tweak to your needs","body":"Looking into the documentation it seems there is a way to do it using pdfbox features, you will need to experiment to see if the result will still meet your requirements though. Here is one example of it: <a href=\"https://stackoverflow.com/a/53544377/460557\">stackoverflow.com/a/53544377/460557</a> and there is also   PreflightConfiguration which you can tweak to your needs"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":3,"creation_date":1676411044,"post_id":75452852,"comment_id":133131067,"body_markdown":"To answer your question for PDFBox we&#39;d need to know why the size explodes like that. There actually are several possible reasons. E.g. your original PDF might contain an image used on all the pages; after splitting each page document will include a copy of that image. In that case you can hardly optimize...","body":"To answer your question for PDFBox we&#39;d need to know why the size explodes like that. There actually are several possible reasons. E.g. your original PDF might contain an image used on all the pages; after splitting each page document will include a copy of that image. In that case you can hardly optimize..."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676438069,"post_id":75452852,"comment_id":133134793,"body_markdown":"@JorgeCampos, I had already tried the mentioned approach. It is optimizing when we perform merge operation but some issue with split operation. Can you please elaborate little bit more on Preflight configuration it would be helpful?","body":"@JorgeCampos, I had already tried the mentioned approach. It is optimizing when we perform merge operation but some issue with split operation. Can you please elaborate little bit more on Preflight configuration it would be helpful?"},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676438339,"post_id":75452852,"comment_id":133134822,"body_markdown":"@mkl no it is a simple pdf only. Thank you for response, I will check the same.","body":"@mkl no it is a simple pdf only. Thank you for response, I will check the same."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676472716,"post_id":75452852,"comment_id":133143792,"body_markdown":"@life888888  It is helpful but the answer is explained in theoretical manner.","body":"@life888888  It is helpful but the answer is explained in theoretical manner."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1676482798,"post_id":75452852,"comment_id":133147379,"body_markdown":"And add to @KJ comment, it is likely that your PDF have images (that&#39;s the OCR part) on it which is causing the size to this big. Like I mentioned before, I just read the documentation I was not even aware it is possible. Looked on google and here is one example: https://www.tabnine.com/code/java/classes/org.apache.pdfbox.preflight.PreflightConfiguration\nYou also might want to try other approaches if the case is PDF with images, there are free tool for linux (assuming your server is a linux) you could generate the PDF splits and then go through the OS level to reduce its size using some tool.","body":"And add to @KJ comment, it is likely that your PDF have images (that&#39;s the OCR part) on it which is causing the size to this big. Like I mentioned before, I just read the documentation I was not even aware it is possible. Looked on google and here is one example: <a href=\"https://www.tabnine.com/code/java/classes/org.apache.pdfbox.preflight.PreflightConfiguration\" rel=\"nofollow noreferrer\">tabnine.com/code/java/classes/&hellip;</a> You also might want to try other approaches if the case is PDF with images, there are free tool for linux (assuming your server is a linux) you could generate the PDF splits and then go through the OS level to reduce its size using some tool."},{"owner":{"account_id":209503,"reputation":22800,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1676482807,"post_id":75452852,"comment_id":133147381,"body_markdown":"Here is a thread with such tools: https://askubuntu.com/questions/113544/how-can-i-reduce-the-file-size-of-a-scanned-pdf-file","body":"Here is a thread with such tools: <a href=\"https://askubuntu.com/questions/113544/how-can-i-reduce-the-file-size-of-a-scanned-pdf-file\" title=\"how can i reduce the file size of a scanned pdf file\">askubuntu.com/questions/113544/&hellip;</a>"},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676525556,"post_id":75452852,"comment_id":133155234,"body_markdown":"@KJ you can try with any pdf document. I can&#39;t share the actual document due to security reasons. For example: https://freeditorial.com/en/books/50-shades-of-grey/downloadbookepub?format2=pdf The actual size of pdf is 2 mb but the split pages occupying 30 mb of space as combine in the disk. I hope you get my question. I am trying to optimize the split documents, so it occupies less space in disk.","body":"@KJ you can try with any pdf document. I can&#39;t share the actual document due to security reasons. For example: <a href=\"https://freeditorial.com/en/books/50-shades-of-grey/downloadbookepub?format2=pdf\" rel=\"nofollow noreferrer\">freeditorial.com/en/books/50-shades-of-grey/&hellip;</a> The actual size of pdf is 2 mb but the split pages occupying 30 mb of space as combine in the disk. I hope you get my question. I am trying to optimize the split documents, so it occupies less space in disk."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676525731,"post_id":75452852,"comment_id":133155262,"body_markdown":"Thank you @JorgeCampos I will check into it.","body":"Thank you @JorgeCampos I will check into it."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676553889,"post_id":75452852,"comment_id":133162750,"body_markdown":"For 50 shades of grey.pdf it is working little bit different 585 Files occupying 32,100,000 bytes but for 16k pages pdf mentioned in my post it is working exactly same as you mentioned.","body":"For 50 shades of grey.pdf it is working little bit different 585 Files occupying 32,100,000 bytes but for 16k pages pdf mentioned in my post it is working exactly same as you mentioned."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676554513,"post_id":75452852,"comment_id":133162945,"body_markdown":"Thank you everyone for your suggestions and help. I had searched a lot and found that pdfbox lacking somewhere in compression related things, itext library can be better alternate for the same problem but the only problem is it cannot be used as open source as of now.  If anyone still found any solution with pdfbox can share it here. It would be helpful for others.","body":"Thank you everyone for your suggestions and help. I had searched a lot and found that pdfbox lacking somewhere in compression related things, itext library can be better alternate for the same problem but the only problem is it cannot be used as open source as of now.  If anyone still found any solution with pdfbox can share it here. It would be helpful for others."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1676977598,"post_id":75452852,"comment_id":133241416,"body_markdown":"There are embedded fonts in your example file that are copied into each split file again and again. Thus, the size is very likely to explode upon splitting.","body":"There are embedded fonts in your example file that are copied into each split file again and again. Thus, the size is very likely to explode upon splitting."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676978472,"post_id":75452852,"comment_id":133241652,"body_markdown":"Thank you @mkl for update. Is there any way to optimize it as each document consist of single page? I had tried with the answer you had given here stackoverflow.com/a/53544377/460557. It is working good while performing merge operation.","body":"Thank you @mkl for update. Is there any way to optimize it as each document consist of single page? I had tried with the answer you had given here stackoverflow.com/a/53544377/460557. It is working good while performing merge operation."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1676979159,"post_id":75452852,"comment_id":133241868,"body_markdown":"The results could be improved by reducing the embedded fonts copied to the single page PDFs to the glyphs actually used on the respective page. There are no high-level methods in PDFBox for that but there are the low level methods you&#39;d need to implement such a high level method. You&#39;d have to walk all the content streams used for that page and determine the character codes used there and then rebuild the embedded font accordingly.","body":"The results could be improved by reducing the embedded fonts copied to the single page PDFs to the glyphs actually used on the respective page. There are no high-level methods in PDFBox for that but there are the low level methods you&#39;d need to implement such a high level method. You&#39;d have to walk all the content streams used for that page and determine the character codes used there and then rebuild the embedded font accordingly."},{"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"score":0,"creation_date":1676979838,"post_id":75452852,"comment_id":133242091,"body_markdown":"Yeah, Thank you. I will try it. If you have any sample code for reference, you can add it here.","body":"Yeah, Thank you. I will try it. If you have any sample code for reference, you can add it here."}],"owner":{"account_id":15996015,"reputation":87,"user_id":11543918,"display_name":"Sanket Gupta"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676472925,"answer_count":0,"score":0,"last_activity_date":1676492151,"creation_date":1676405628,"question_id":75452852,"body_markdown":"I am using Apache PDFBox to split the pages of documents into multiple documents. But the size of the split document is very large.\r\n\r\nFor example, I am performing split operation on 16k pages PDF and splitting it into 16k documents and each document contains one page. The size of each page document is 289kb. So, overall it is occupying around 4gb of space to store all the split documents on disk.\r\n\r\n```java\r\nimport org.apache.pdfbox.multipdf.Splitter; \r\nimport org.apache.pdfbox.pdmodel.PDDocument;\r\n\r\nimport java.io.File; \r\nimport java.io.IOException; \r\nimport java.util.List; \r\nimport java.util.Iterator;\r\n  \r\npublic class SplitPages {\r\n   public static void main(String[] args) throws IOException {\r\n\r\n      //Loading an existing PDF document\r\n      File file = new File(&quot;sample.pdf&quot;);\r\n      PDDocument document = PDDocument.load(file); \r\n\r\n      //Instantiating Splitter class\r\n      Splitter splitter = new Splitter();\r\n\r\n      //splitting the pages of a PDF document\r\n      List&lt;PDDocument&gt; Pages = splitter.split(document);\r\n\r\n      //Creating an iterator \r\n      Iterator&lt;PDDocument&gt; iterator = Pages.listIterator();\r\n\r\n      //Saving each page as an individual document\r\n      int i = 1;\r\n      while(iterator.hasNext()) {\r\n         PDDocument pd = iterator.next();\r\n         pd.save(&quot;sample&quot;+ i++ +&quot;.pdf&quot;);\r\n      }\r\n      System.out.println(&quot;Multiple PDFs created&quot;);\r\n      document.close();\r\n   }\r\n}\r\n```\r\nHow to optimize the splitted documents so that it will occupy less space on disk?\r\n\r\nNote: I want to optimize the document while performing the split operation as mentioned in the code sample.\r\n\r\n","title":"How to reduce the size of split PDF document in PDFBox?","body":"<p>I am using Apache PDFBox to split the pages of documents into multiple documents. But the size of the split document is very large.</p>\n<p>For example, I am performing split operation on 16k pages PDF and splitting it into 16k documents and each document contains one page. The size of each page document is 289kb. So, overall it is occupying around 4gb of space to store all the split documents on disk.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.pdfbox.multipdf.Splitter; \nimport org.apache.pdfbox.pdmodel.PDDocument;\n\nimport java.io.File; \nimport java.io.IOException; \nimport java.util.List; \nimport java.util.Iterator;\n  \npublic class SplitPages {\n   public static void main(String[] args) throws IOException {\n\n      //Loading an existing PDF document\n      File file = new File(&quot;sample.pdf&quot;);\n      PDDocument document = PDDocument.load(file); \n\n      //Instantiating Splitter class\n      Splitter splitter = new Splitter();\n\n      //splitting the pages of a PDF document\n      List&lt;PDDocument&gt; Pages = splitter.split(document);\n\n      //Creating an iterator \n      Iterator&lt;PDDocument&gt; iterator = Pages.listIterator();\n\n      //Saving each page as an individual document\n      int i = 1;\n      while(iterator.hasNext()) {\n         PDDocument pd = iterator.next();\n         pd.save(&quot;sample&quot;+ i++ +&quot;.pdf&quot;);\n      }\n      System.out.println(&quot;Multiple PDFs created&quot;);\n      document.close();\n   }\n}\n</code></pre>\n<p>How to optimize the splitted documents so that it will occupy less space on disk?</p>\n<p>Note: I want to optimize the document while performing the split operation as mentioned in the code sample.</p>\n"},{"tags":["javascript","java","json","angularjs","bigdecimal"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1676487246,"post_id":75464223,"comment_id":133148636,"body_markdown":"For exhaustive details see [What Every Computer Scientist Should Know About Floating Point Arithmetic](https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html). If you need it to be exact don&#39;t use (regular) numbers.","body":"For exhaustive details see <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating Point Arithmetic</a>. If you need it to be exact don&#39;t use (regular) numbers."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676490417,"post_id":75464223,"comment_id":133149504,"body_markdown":"For what purpose do you need finer precision than 17 significant digits?","body":"For what purpose do you need finer precision than 17 significant digits?"}],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676489223,"creation_date":1676489223,"answer_id":75464582,"question_id":75464223,"body_markdown":"Javascript floating point numbers hold 64 bits of precision, similar to a `double` in Java.  If you have to use BigDecimal in Java to extend beyond that level of precision, you&#39;ll need to do something similar in Javascript to extend beyond its similar boundary.  The NPM package js-big-decimal is probably your best bet and you can transfer the values as strings in JSON to prevent JSON.parse from interpreting them as Number.","title":"BigDecimal from json loses precision","body":"<p>Javascript floating point numbers hold 64 bits of precision, similar to a <code>double</code> in Java.  If you have to use BigDecimal in Java to extend beyond that level of precision, you'll need to do something similar in Javascript to extend beyond its similar boundary.  The NPM package js-big-decimal is probably your best bet and you can transfer the values as strings in JSON to prevent JSON.parse from interpreting them as Number.</p>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1676493379,"post_id":75464835,"comment_id":133150287,"body_markdown":"You&#39;re missing a return type.","body":"You&#39;re missing a return type."}],"tags":[],"owner":{"account_id":8154894,"reputation":63,"user_id":6140795,"display_name":"Han"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676491941,"creation_date":1676490865,"answer_id":75464835,"question_id":75464223,"body_markdown":"Thanks for the help. I found that adding \r\n```\r\n@JsonSerialize(using = ToStringSerializer.class)\r\npublic getQty(){\r\n   return this.qty;\r\n}\r\n```\r\nto the java domain object solves the issue.","title":"BigDecimal from json loses precision","body":"<p>Thanks for the help. I found that adding</p>\n<pre><code>@JsonSerialize(using = ToStringSerializer.class)\npublic getQty(){\n   return this.qty;\n}\n</code></pre>\n<p>to the java domain object solves the issue.</p>\n"}],"owner":{"account_id":8154894,"reputation":63,"user_id":6140795,"display_name":"Han"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676491941,"creation_date":1676486940,"question_id":75464223,"body_markdown":"The network call shows that the backend is sending this:\r\n\r\n    &quot;uom&quot; : &quot;EA&quot;,\r\n    &quot;qty&quot; : 1.123456789012345678\r\n\r\nbut when it reaches the frontend, using console.log:\r\n\r\n    { \r\n      qty: 1.1234567890123457, \r\n      uom: &quot;EA&quot;\r\n    }\r\n\r\nwhy is the javascript losing the last digit or truncating the number?\r\n\r\nThe number is represented using a BigDecimal in java. The frontend use AngularJs framework, makes a GET call to the backend requesting a JSON.","title":"BigDecimal from json loses precision","body":"<p>The network call shows that the backend is sending this:</p>\n<pre><code>&quot;uom&quot; : &quot;EA&quot;,\n&quot;qty&quot; : 1.123456789012345678\n</code></pre>\n<p>but when it reaches the frontend, using console.log:</p>\n<pre><code>{ \n  qty: 1.1234567890123457, \n  uom: &quot;EA&quot;\n}\n</code></pre>\n<p>why is the javascript losing the last digit or truncating the number?</p>\n<p>The number is represented using a BigDecimal in java. The frontend use AngularJs framework, makes a GET call to the backend requesting a JSON.</p>\n"},{"tags":["java","android","arraylist"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1676490031,"post_id":75464670,"comment_id":133149408,"body_markdown":"Can you please post the whole code for `Day` class?","body":"Can you please post the whole code for <code>Day</code> class?"},{"owner":{"account_id":2399674,"reputation":2691,"user_id":2097675,"display_name":"JJF"},"score":0,"creation_date":1676490193,"post_id":75464670,"comment_id":133149445,"body_markdown":"Log.d is inside of 2 conditionals (the for() loop and an if statement).  Have you run it under the debugger?  My guess is one of those two conditionals are not doing what you think they are or possibly enoughTimeChecker is not really getting called.  Whatever, the answer is in the debugger.","body":"Log.d is inside of 2 conditionals (the for() loop and an if statement).  Have you run it under the debugger?  My guess is one of those two conditionals are not doing what you think they are or possibly enoughTimeChecker is not really getting called.  Whatever, the answer is in the debugger."},{"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"score":0,"creation_date":1676490808,"post_id":75464670,"comment_id":133149602,"body_markdown":"Can you elaborate on how I would go about debugging it, there are no technical errors and I&#39;m quite new to Android Studio","body":"Can you elaborate on how I would go about debugging it, there are no technical errors and I&#39;m quite new to Android Studio"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1676490918,"post_id":75464670,"comment_id":133149634,"body_markdown":"Is `newTask` supposed to execute `Day.enoughTimeChecker(...)`? If so, you haven&#39;t written your code so that happens. What is the package name for `Task`?","body":"Is <code>newTask</code> supposed to execute <code>Day.enoughTimeChecker(...)</code>? If so, you haven&#39;t written your code so that happens. What is the package name for <code>Task</code>?"},{"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"score":0,"creation_date":1676491168,"post_id":75464670,"comment_id":133149693,"body_markdown":"new task isn&#39;t meant to execute Day.enoughTimeChecker(), it just creates an object from the Java Class &quot;task&quot;, Day.enoughTimeChecker() is simply meant to be executed using some of the attributes of  the newtask","body":"new task isn&#39;t meant to execute Day.enoughTimeChecker(), it just creates an object from the Java Class &quot;task&quot;, Day.enoughTimeChecker() is simply meant to be executed using some of the attributes of  the newtask"},{"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"score":0,"creation_date":1676491801,"post_id":75464670,"comment_id":133149879,"body_markdown":"Add a log statement to the start and/or end of `enoughTimeChecker` to narrow down and confirm the source of the problem.","body":"Add a log statement to the start and/or end of <code>enoughTimeChecker</code> to narrow down and confirm the source of the problem."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1676492807,"post_id":75464670,"comment_id":133150128,"body_markdown":"`listOfDayObjects()` is returning a new empty list on each call, `enoughTimeChecker()` will never do anything since iterating (or not iterating at all)  over this **empty**  list (`listOfDayObjects().size()` will always return `0`)","body":"<code>listOfDayObjects()</code> is returning a new empty list on each call, <code>enoughTimeChecker()</code> will never do anything since iterating (or not iterating at all)  over this <b>empty</b>  list (<code>listOfDayObjects().size()</code> will always return <code>0</code>)"},{"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"score":1,"creation_date":1676498704,"post_id":75464670,"comment_id":133151587,"body_markdown":"I did your suggestion with the log statements, it returns the log at the beginning when the function is called but won&#39;t after the for loop so the problem lies around there.","body":"I did your suggestion with the log statements, it returns the log at the beginning when the function is called but won&#39;t after the for loop so the problem lies around there."},{"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"score":1,"creation_date":1676499162,"post_id":75464670,"comment_id":133151674,"body_markdown":"@user16320675, you were correct, it returns an empty list. Thank you very much","body":"@user16320675, you were correct, it returns an empty list. Thank you very much"}],"answers":[{"comments":[{"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"score":1,"creation_date":1676492180,"post_id":75464892,"comment_id":133149987,"body_markdown":"thanks, the function still doesn&#39;t return the log but that should definitely get me a step closer","body":"thanks, the function still doesn&#39;t return the log but that should definitely get me a step closer"}],"tags":[],"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676491578,"creation_date":1676491261,"answer_id":75464892,"question_id":75464670,"body_markdown":"Use [`Object#equals(Object)`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)) instead of `==` to compare objects; the problem is on this line:\r\n\r\n```\r\nlistOfDayObjects().get(i).getDate() == date\r\n```\r\n\r\nSee https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java for more information.","title":"I am calling this function from another function in a separate file, however it simply does nothing when it gets called","body":"<p>Use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Object#equals(Object)</code></a> instead of <code>==</code> to compare objects; the problem is on this line:</p>\n<pre><code>listOfDayObjects().get(i).getDate() == date\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/7520432/what-is-the-difference-between-and-equals-in-java\">What is the difference between == and equals() in Java?</a> for more information.</p>\n"}],"owner":{"account_id":27796468,"reputation":1,"user_id":21221858,"display_name":"Suf1an65"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676491578,"creation_date":1676489794,"question_id":75464670,"body_markdown":"I have a method in Java class file &quot;Day&quot; called enoughTimeChecker.\r\nHere is the code for the class\r\n\r\n```\r\npackage com.example.calendarviewexample;\r\n\r\nimport android.app.Application;\r\nimport android.content.Context;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.time.LocalDate;\r\nimport java.util.ArrayList;\r\n\r\npublic class Day extends AppCompatActivity\r\n{\r\n    private LocalDate date;\r\n    private int totalTime;\r\n\r\n\r\n\r\n\r\n    public Day(LocalDate date, int totalTime)\r\n    {\r\n        this.date = date;\r\n        this.totalTime = totalTime;\r\n    }\r\n\r\n    public static ArrayList&lt;Day&gt; listOfDayObjects()\r\n    {\r\n        ArrayList&lt;Day&gt; listOfDayObjects = new ArrayList&lt;&gt;();\r\n        return listOfDayObjects;\r\n    }\r\n\r\n\r\n\r\n    public static void enoughTimeChecker(LocalDate date, int addedTime)\r\n    {\r\n        for(int i =0; i&lt;listOfDayObjects().size(); i++)\r\n        {\r\n            if (listOfDayObjects().get(i).getDate() == date)\r\n            {\r\n                int x = listOfDayObjects().get(i).getTotalTime();\r\n                listOfDayObjects().get(i).setTotalTime(x + addedTime);\r\n                Log.d(&quot;addedTime&quot;, &quot;total time of &quot; + String.valueOf(listOfDayObjects().get(i).getDate()) + &quot;is&quot; + String.valueOf(x + addedTime));\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    public static void setDayClass(LocalDate currentDate)\r\n    {\r\n        currentDate = LocalDate.now();\r\n        for (int i =0;  i&lt;366; i++)\r\n        {\r\n            Day newDay = new Day(currentDate, 0);\r\n            listOfDayObjects().add(newDay);\r\n            currentDate = currentDate.plusDays(1);\r\n            Log.d(&quot;DayClazz&quot;, &quot;Class created &quot; + String.valueOf(currentDate) );\r\n        }\r\n\r\n    }\r\n\r\n    public LocalDate getDate()\r\n    {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(LocalDate date)\r\n    {\r\n        this.date = date;\r\n    }\r\n\r\n    public int getTotalTime()\r\n    {\r\n        return totalTime;\r\n    }\r\n\r\n    public void setTotalTime(int totalTime)\r\n    {\r\n        this.totalTime = totalTime;\r\n    }\r\n}\r\n```\r\n\r\nIn the file &quot;EventEditActivity&quot;, &quot;enoughTimeChecker&quot; is called from method &quot;Save Action&quot;.\r\nHere is the Save Action function\r\n\r\n```\r\npublic void SaveAction(View view)\r\n    {\r\n        String taskName = eventNameET.getText().toString();\r\n        Task newTask = new Task(taskName, CalendarUtils.selectedDate, time, calculatedTime);\r\n        /// this is where the attributes of the task are set\r\n        Day.enoughTimeChecker(CalendarUtils.selectedDate, calculatedTime);\r\n        Task.taskList.add(newTask);\r\n\r\n        \r\n        finish();\r\n\r\n\r\n    }\r\n```\r\n\r\nIt should output in the logcat when a task is added but it just doesn&#39;t - there&#39;s no error message when enoughTimeChecker is called.\r\n\r\nI have no idea what the error is, I think there might be something wrong with the array perhaps. I made the array in the Day class file here\r\n\r\n```\r\npublic static ArrayList&lt;Day&gt; listOfDayObjects()\r\n    {\r\n        ArrayList&lt;Day&gt; listOfDayObjects = new ArrayList&lt;&gt;();\r\n        return listOfDayObjects;\r\n    }\r\n```\r\n\r\nand I made the list of objects here\r\n\r\n```\r\nfor (int i =0;  i&lt;366; i++)\r\n{\r\n    Day newDay = new Day(currentDate, 0);\r\n    listOfDayObjects().add(newDay);\r\n    currentDate = currentDate.plusDays(1);\r\n}\r\n```\r\n\r\nany help would be appreciated","title":"I am calling this function from another function in a separate file, however it simply does nothing when it gets called","body":"<p>I have a method in Java class file &quot;Day&quot; called enoughTimeChecker.\nHere is the code for the class</p>\n<pre><code>package com.example.calendarviewexample;\n\nimport android.app.Application;\nimport android.content.Context;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.time.LocalDate;\nimport java.util.ArrayList;\n\npublic class Day extends AppCompatActivity\n{\n    private LocalDate date;\n    private int totalTime;\n\n\n\n\n    public Day(LocalDate date, int totalTime)\n    {\n        this.date = date;\n        this.totalTime = totalTime;\n    }\n\n    public static ArrayList&lt;Day&gt; listOfDayObjects()\n    {\n        ArrayList&lt;Day&gt; listOfDayObjects = new ArrayList&lt;&gt;();\n        return listOfDayObjects;\n    }\n\n\n\n    public static void enoughTimeChecker(LocalDate date, int addedTime)\n    {\n        for(int i =0; i&lt;listOfDayObjects().size(); i++)\n        {\n            if (listOfDayObjects().get(i).getDate() == date)\n            {\n                int x = listOfDayObjects().get(i).getTotalTime();\n                listOfDayObjects().get(i).setTotalTime(x + addedTime);\n                Log.d(&quot;addedTime&quot;, &quot;total time of &quot; + String.valueOf(listOfDayObjects().get(i).getDate()) + &quot;is&quot; + String.valueOf(x + addedTime));\n            }\n        }\n\n    }\n\n    public static void setDayClass(LocalDate currentDate)\n    {\n        currentDate = LocalDate.now();\n        for (int i =0;  i&lt;366; i++)\n        {\n            Day newDay = new Day(currentDate, 0);\n            listOfDayObjects().add(newDay);\n            currentDate = currentDate.plusDays(1);\n            Log.d(&quot;DayClazz&quot;, &quot;Class created &quot; + String.valueOf(currentDate) );\n        }\n\n    }\n\n    public LocalDate getDate()\n    {\n        return date;\n    }\n\n    public void setDate(LocalDate date)\n    {\n        this.date = date;\n    }\n\n    public int getTotalTime()\n    {\n        return totalTime;\n    }\n\n    public void setTotalTime(int totalTime)\n    {\n        this.totalTime = totalTime;\n    }\n}\n</code></pre>\n<p>In the file &quot;EventEditActivity&quot;, &quot;enoughTimeChecker&quot; is called from method &quot;Save Action&quot;.\nHere is the Save Action function</p>\n<pre><code>public void SaveAction(View view)\n    {\n        String taskName = eventNameET.getText().toString();\n        Task newTask = new Task(taskName, CalendarUtils.selectedDate, time, calculatedTime);\n        /// this is where the attributes of the task are set\n        Day.enoughTimeChecker(CalendarUtils.selectedDate, calculatedTime);\n        Task.taskList.add(newTask);\n\n        \n        finish();\n\n\n    }\n</code></pre>\n<p>It should output in the logcat when a task is added but it just doesn't - there's no error message when enoughTimeChecker is called.</p>\n<p>I have no idea what the error is, I think there might be something wrong with the array perhaps. I made the array in the Day class file here</p>\n<pre><code>public static ArrayList&lt;Day&gt; listOfDayObjects()\n    {\n        ArrayList&lt;Day&gt; listOfDayObjects = new ArrayList&lt;&gt;();\n        return listOfDayObjects;\n    }\n</code></pre>\n<p>and I made the list of objects here</p>\n<pre><code>for (int i =0;  i&lt;366; i++)\n{\n    Day newDay = new Day(currentDate, 0);\n    listOfDayObjects().add(newDay);\n    currentDate = currentDate.plusDays(1);\n}\n</code></pre>\n<p>any help would be appreciated</p>\n"},{"tags":["java","spring","spring-boot","api","validation"],"comments":[{"owner":{"account_id":7106895,"reputation":33839,"user_id":5436257,"accept_rate":100,"display_name":"Joe Clay"},"score":0,"creation_date":1676479642,"post_id":75462913,"comment_id":133146348,"body_markdown":"The errors you&#39;re getting are coming from the validation of the request object (`OrderDto`) - can you include the request body you&#39;re sending via Postman?","body":"The errors you&#39;re getting are coming from the validation of the request object (<code>OrderDto</code>) - can you include the request body you&#39;re sending via Postman?"}],"answers":[{"tags":[],"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676490983,"creation_date":1676490983,"answer_id":75464855,"question_id":75462913,"body_markdown":"It&#39;s a validation error.\r\n1. You don&#39;t pass `block` in your post method, but in DTO this field annotated with @NotBlack\r\n2. You didn&#39;t provide eligible setter for `doorNumber`. As a result, this field is `null` in your DTO object, but again, is annotated with @NotBlack. The setter name must be `setDoorNumber(String value)` for that field","title":"Spring boot validation error request bad 400","body":"<p>It's a validation error.</p>\n<ol>\n<li>You don't pass <code>block</code> in your post method, but in DTO this field annotated with @NotBlack</li>\n<li>You didn't provide eligible setter for <code>doorNumber</code>. As a result, this field is <code>null</code> in your DTO object, but again, is annotated with @NotBlack. The setter name must be <code>setDoorNumber(String value)</code> for that field</li>\n</ol>\n"}],"owner":{"account_id":21274254,"reputation":407,"user_id":15653306,"display_name":"Routfin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":455,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75464855,"answer_count":1,"score":-1,"last_activity_date":1676490983,"creation_date":1676479449,"question_id":75462913,"body_markdown":"I&#39;m developing a crud API with a post method, when testing this method in my postman it returns the error\r\n\r\n```\r\n2023-02-15T13:34:35.528-03:00  WARN 8792 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; com.api.order_control.controllers.OrderController.saveOrder(com.api.order_control.dtos.OrderDto) with 2 errors: [Field error in object &#39;orderDto&#39; on field &#39;doorNumber&#39;: rejected value [null]; codes [NotBlank.orderDto.doorNumber,NotBlank.doorNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [orderDto.doorNumber,doorNumber]; arguments []; default message [doorNumber]]; default message [must not be blank]] [Field error in object &#39;orderDto&#39; on field &#39;block&#39;: rejected value [null]; codes [NotBlank.orderDto.block,NotBlank.block,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [orderDto.block,block]; arguments []; default message [block]]; default message [must not be blank]] ]\r\n\r\n```\r\nI couldn&#39;t understand why my blank cannot work with this method and why this error. can anybody help me?\r\n\r\nmodel\r\n\r\n```\r\npackage com.api.order_control.models;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.io.Serializable;\r\nimport java.time.LocalDateTime;\r\nimport java.util.UUID;\r\n\r\n@Entity\r\n@Table(name = &quot;restaurant_orders&quot;)\r\npublic class OrderModel implements Serializable {\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private UUID id;\r\n    @Column(nullable = false, length = 11)\r\n    private String customerName;\r\n    @Column(nullable = false, length = 15)\r\n    private String phoneNumber;\r\n    @Column(nullable = false, length = 25)\r\n    private String address;\r\n    @Column(nullable = false, length = 10)\r\n    private String doorNumber;\r\n    @Column(length = 5)\r\n    private String block;\r\n    @Column(nullable = false, length = 30)\r\n    private String orderNote;\r\n    @Column(nullable = false)\r\n    private Float price;\r\n    @Column(nullable = false)\r\n    private LocalDateTime registrationDate;\r\n\r\n    public UUID getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(UUID id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String getDoorNumber() {\r\n        return doorNumber;\r\n    }\r\n\r\n    public void setDoorNumber(String doorNumber) {\r\n        this.doorNumber = doorNumber;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public void setBlock(String block) {\r\n        this.block = block;\r\n    }\r\n\r\n    public String getOrderNote() {\r\n        return orderNote;\r\n    }\r\n\r\n    public void setOrderNote(String order) {\r\n        this.orderNote = orderNote;\r\n    }\r\n\r\n    public Float getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void setPrice(Float price) {\r\n        this.price = price;\r\n    }\r\n\r\n    public LocalDateTime getRegistrationDate() {\r\n        return registrationDate;\r\n    }\r\n\r\n    public void setRegistrationDate(LocalDateTime registrationDate) {\r\n        this.registrationDate = registrationDate;\r\n    }\r\n}\r\n```\r\n\r\ndto pack\r\n\r\n```\r\npackage com.api.order_control.dtos;\r\n\r\nimport jakarta.validation.constraints.NotBlank;\r\n\r\npublic class OrderDto {\r\n    @NotBlank\r\n    private String customerName;\r\n    @NotBlank\r\n    private String phoneNumber;\r\n    @NotBlank\r\n    private String address;\r\n    @NotBlank\r\n    private String doorNumber;\r\n    @NotBlank\r\n    private String block;\r\n    @NotBlank\r\n    private String orderNote;\r\n\r\n    public String getCustomerName() {\r\n        return customerName;\r\n    }\r\n\r\n    public void setCustomerName(String customerName) {\r\n        this.customerName = customerName;\r\n    }\r\n\r\n    public String getPhoneNumber() {\r\n        return phoneNumber;\r\n    }\r\n\r\n    public void setPhoneNumber(String phoneNumber) {\r\n        this.phoneNumber = phoneNumber;\r\n    }\r\n\r\n    public String getAddress() {\r\n        return address;\r\n    }\r\n\r\n    public void setAddress(String address) {\r\n        this.address = address;\r\n    }\r\n\r\n    public String doorNumber() {\r\n        return doorNumber;\r\n    }\r\n\r\n    public void doorNumber(String doorName) {\r\n        this.doorNumber = doorName;\r\n    }\r\n\r\n    public String getBlock() {\r\n        return block;\r\n    }\r\n\r\n    public void setBlock(String block) {\r\n        this.block = block;\r\n    }\r\n\r\n    public String getOrderNote() {\r\n        return orderNote;\r\n    }\r\n\r\n    public void setOrderNote(String orderNote) {\r\n        this.orderNote = orderNote;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\ncontroller with post\r\n\r\n```\r\npackage com.api.order_control.controllers;\r\n\r\n\r\nimport com.api.order_control.dtos.OrderDto;\r\nimport com.api.order_control.models.OrderModel;\r\nimport com.api.order_control.services.OrderService;\r\nimport jakarta.validation.Valid;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.time.LocalDateTime;\r\nimport java.time.ZoneId;\r\n\r\n@RestController\r\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\r\n@RequestMapping(&quot;/orders&quot;)\r\npublic class OrderController {\r\n\r\n    final OrderService orderService;\r\n\r\n    public OrderController(OrderService orderService) {\r\n        this.orderService = orderService;\r\n    }\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\r\n        var orderModel = new OrderModel();\r\n        BeanUtils.copyProperties(orderDto, orderModel);\r\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\r\n        orderModel.setPrice(70.8f);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\r\n    }\r\n}\r\n\r\n```\r\n\r\nI had already had a blank error because I was using a float, but in this case &quot;numberDoor&quot; is just a string. What is the reason for this error?\r\n\r\nPostman request\r\n\r\n```\r\n{\r\n    &quot;customerName&quot;: &quot;Ryan&quot;,\r\n    &quot;phoneNumber&quot;: &quot;1 99859 5854&quot;,\r\n    &quot;address&quot;: &quot;St Street Vl 190&quot;,\r\n    &quot;doorNumber&quot;: &quot;5&quot;,\r\n    &quot;orderNote&quot;: &quot;Pepperoni Pizza&quot;\r\n}\r\n```","title":"Spring boot validation error request bad 400","body":"<p>I'm developing a crud API with a post method, when testing this method in my postman it returns the error</p>\n<pre><code>2023-02-15T13:34:35.528-03:00  WARN 8792 --- [nio-8080-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MethodArgumentNotValidException: Validation failed for argument [0] in public org.springframework.http.ResponseEntity&lt;java.lang.Object&gt; com.api.order_control.controllers.OrderController.saveOrder(com.api.order_control.dtos.OrderDto) with 2 errors: [Field error in object 'orderDto' on field 'doorNumber': rejected value [null]; codes [NotBlank.orderDto.doorNumber,NotBlank.doorNumber,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [orderDto.doorNumber,doorNumber]; arguments []; default message [doorNumber]]; default message [must not be blank]] [Field error in object 'orderDto' on field 'block': rejected value [null]; codes [NotBlank.orderDto.block,NotBlank.block,NotBlank.java.lang.String,NotBlank]; arguments [org.springframework.context.support.DefaultMessageSourceResolvable: codes [orderDto.block,block]; arguments []; default message [block]]; default message [must not be blank]] ]\n\n</code></pre>\n<p>I couldn't understand why my blank cannot work with this method and why this error. can anybody help me?</p>\n<p>model</p>\n<pre><code>package com.api.order_control.models;\n\nimport jakarta.persistence.*;\n\nimport java.io.Serializable;\nimport java.time.LocalDateTime;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;restaurant_orders&quot;)\npublic class OrderModel implements Serializable {\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private UUID id;\n    @Column(nullable = false, length = 11)\n    private String customerName;\n    @Column(nullable = false, length = 15)\n    private String phoneNumber;\n    @Column(nullable = false, length = 25)\n    private String address;\n    @Column(nullable = false, length = 10)\n    private String doorNumber;\n    @Column(length = 5)\n    private String block;\n    @Column(nullable = false, length = 30)\n    private String orderNote;\n    @Column(nullable = false)\n    private Float price;\n    @Column(nullable = false)\n    private LocalDateTime registrationDate;\n\n    public UUID getId() {\n        return id;\n    }\n\n    public void setId(UUID id) {\n        this.id = id;\n    }\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getDoorNumber() {\n        return doorNumber;\n    }\n\n    public void setDoorNumber(String doorNumber) {\n        this.doorNumber = doorNumber;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public void setBlock(String block) {\n        this.block = block;\n    }\n\n    public String getOrderNote() {\n        return orderNote;\n    }\n\n    public void setOrderNote(String order) {\n        this.orderNote = orderNote;\n    }\n\n    public Float getPrice() {\n        return price;\n    }\n\n    public void setPrice(Float price) {\n        this.price = price;\n    }\n\n    public LocalDateTime getRegistrationDate() {\n        return registrationDate;\n    }\n\n    public void setRegistrationDate(LocalDateTime registrationDate) {\n        this.registrationDate = registrationDate;\n    }\n}\n</code></pre>\n<p>dto pack</p>\n<pre><code>package com.api.order_control.dtos;\n\nimport jakarta.validation.constraints.NotBlank;\n\npublic class OrderDto {\n    @NotBlank\n    private String customerName;\n    @NotBlank\n    private String phoneNumber;\n    @NotBlank\n    private String address;\n    @NotBlank\n    private String doorNumber;\n    @NotBlank\n    private String block;\n    @NotBlank\n    private String orderNote;\n\n    public String getCustomerName() {\n        return customerName;\n    }\n\n    public void setCustomerName(String customerName) {\n        this.customerName = customerName;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String doorNumber() {\n        return doorNumber;\n    }\n\n    public void doorNumber(String doorName) {\n        this.doorNumber = doorName;\n    }\n\n    public String getBlock() {\n        return block;\n    }\n\n    public void setBlock(String block) {\n        this.block = block;\n    }\n\n    public String getOrderNote() {\n        return orderNote;\n    }\n\n    public void setOrderNote(String orderNote) {\n        this.orderNote = orderNote;\n    }\n\n}\n\n</code></pre>\n<p>controller with post</p>\n<pre><code>package com.api.order_control.controllers;\n\n\nimport com.api.order_control.dtos.OrderDto;\nimport com.api.order_control.models.OrderModel;\nimport com.api.order_control.services.OrderService;\nimport jakarta.validation.Valid;\nimport org.springframework.beans.BeanUtils;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\n\n@RestController\n@CrossOrigin(origins = &quot;*&quot;, maxAge = 3600)\n@RequestMapping(&quot;/orders&quot;)\npublic class OrderController {\n\n    final OrderService orderService;\n\n    public OrderController(OrderService orderService) {\n        this.orderService = orderService;\n    }\n\n    @PostMapping\n    public ResponseEntity&lt;Object&gt; saveOrder(@RequestBody @Valid OrderDto orderDto) {\n        var orderModel = new OrderModel();\n        BeanUtils.copyProperties(orderDto, orderModel);\n        orderModel.setRegistrationDate(LocalDateTime.now(ZoneId.of(&quot;UTC&quot;)));\n        orderModel.setPrice(70.8f);\n        return ResponseEntity.status(HttpStatus.CREATED).body(orderService.save(orderModel));\n    }\n}\n\n</code></pre>\n<p>I had already had a blank error because I was using a float, but in this case &quot;numberDoor&quot; is just a string. What is the reason for this error?</p>\n<p>Postman request</p>\n<pre><code>{\n    &quot;customerName&quot;: &quot;Ryan&quot;,\n    &quot;phoneNumber&quot;: &quot;1 99859 5854&quot;,\n    &quot;address&quot;: &quot;St Street Vl 190&quot;,\n    &quot;doorNumber&quot;: &quot;5&quot;,\n    &quot;orderNote&quot;: &quot;Pepperoni Pizza&quot;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","kerberos","spring-security-kerberos"],"answers":[{"tags":[],"owner":{"account_id":5756682,"reputation":224,"user_id":4544353,"accept_rate":100,"display_name":"mugua"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1676490712,"creation_date":1448656162,"answer_id":33964447,"question_id":33927316,"body_markdown":"It seems that I had conflicts with existing Service Principal Mappings. Once I cleaned it up, the error stopped happening.  [This link][1] helped me find the solution.\r\n\r\n  [1]: https://developer.jboss.org/docs/DOC-13996","title":"Spring Security Kerberos + AD, Checksum Fail","body":"<p>It seems that I had conflicts with existing Service Principal Mappings. Once I cleaned it up, the error stopped happening.  <a href=\"https://developer.jboss.org/docs/DOC-13996\" rel=\"nofollow noreferrer\">This link</a> helped me find the solution.</p>\n"},{"tags":[],"owner":{"account_id":11530374,"reputation":967,"user_id":8449478,"display_name":"cecunami"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585813493,"creation_date":1585813493,"answer_id":60986562,"question_id":33927316,"body_markdown":"I hit this issue recently.\r\n\r\nThe DNS of the service must match the service principal name.\r\nThe principal name must start with HTTP/\r\n\r\nExample:\r\nService DNS: www.ala-bala.com\r\nPrincipal name must be: HTTP/ala-bala.com@REALM\r\n\r\nThe realm doesn&#39;t have to match the DNS.\r\n\r\nIf running locally, the DNS obviously will not match the principal.\r\n\r\nYou can work around it by adding a line to /etc/hosts:\r\n127.0.0.1    ala-bala.com\r\n\r\nYou can also use a client which allows you to override the kerberos host/principal name like requests_kerberos in Python.\r\n\r\n\r\n\r\n\r\n","title":"Spring Security Kerberos + AD, Checksum Fail","body":"<p>I hit this issue recently.</p>\n\n<p>The DNS of the service must match the service principal name.\nThe principal name must start with HTTP/</p>\n\n<p>Example:\nService DNS: www.ala-bala.com\nPrincipal name must be: HTTP/ala-bala.com@REALM</p>\n\n<p>The realm doesn't have to match the DNS.</p>\n\n<p>If running locally, the DNS obviously will not match the principal.</p>\n\n<p>You can work around it by adding a line to /etc/hosts:\n127.0.0.1    ala-bala.com</p>\n\n<p>You can also use a client which allows you to override the kerberos host/principal name like requests_kerberos in Python.</p>\n"}],"owner":{"account_id":5756682,"reputation":224,"user_id":4544353,"accept_rate":100,"display_name":"mugua"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15572,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":33964447,"answer_count":2,"score":5,"last_activity_date":1676490712,"creation_date":1448489582,"question_id":33927316,"body_markdown":"I&#39;m trying to do a Spring Security Kerberos with Active Directory credentials as stated in http://docs.spring.io/spring-security-kerberos/docs/1.0.1.RELEASE/reference/htmlsingle/#samples-sec-server-win-auth. I&#39;d like to say that I&#39;ve got most of the things down (SPN, keytabs, etc.). Now I&#39;ve got a checksum fail. Supposing I change my principal name, I get an AES encryption error. \r\n\r\nI&#39;m using Spring Boot on RHEL 6 with Oracle Java 1.8 + JCE\r\nSample from https://github.com/spring-projects/spring-security-kerberos/tree/master/spring-security-kerberos-samples/sec-server-win-auth\r\n\r\nHere is what I get when run the jar\r\n\r\n------------------------------------------------------------------------\r\n\r\n&gt;Debug is  true \r\nstoreKey true \r\nuseTicketCache false \r\nuseKeyTab true \r\ndoNotPrompt true \r\nticketCache is null \r\nisInitiator false \r\nKeyTab is /home/boss/webdev125-3.keytab \r\nrefreshKrb5Config is false \r\nprincipal is http/webdev@EXAMPLE.ORG \r\ntryFirstPass is false \r\nuseFirstPass is false \r\nstorePass is false \r\nclearPass is false\r\n\r\n&gt;principal is http/webdev@EXAMPLE.ORG\r\nWill use keytab\r\nCommit Succeeded\r\n\r\n....\r\n\r\n&gt;2015-11-25 11:29:09.631 DEBUG 5559 --- [nio-8080-exec-3] .a.KerberosServiceAuthenticationProvider : Try to validate Kerberos Token\r\n2015-11-25 11:29:10.003  WARN 5559 --- [nio-8080-exec-3] w.a.SpnegoAuthenticationProcessingFilter : Negotiate Header was invalid:\r\n\r\n...\r\n\r\n&gt;org.springframework.security.authentication.BadCredentialsException: Kerberos validation not successful\r\n        at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator.validateTicket(SunJaasKerberosTicketValidator.java:71)\r\n        at org.springframework.security.kerberos.authentication.KerberosServiceAuthenticationProvider.authenticate(KerberosServiceAuthenticationProvider.java:64)\r\n        at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:156)\r\n\r\n...\r\n\r\n\r\n&gt;Caused by: org.ietf.jgss.GSSException: Failure unspecified at GSS-API level (Mechanism level: Checksum failed)\r\n\r\n        at sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:856)\r\n        at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\r\n        at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\r\n        at sun.security.jgss.spnego.SpNegoContext.GSS_acceptSecContext(SpNegoContext.java:906)\r\n        at sun.security.jgss.spnego.SpNegoContext.acceptSecContext(SpNegoContext.java:556)\r\n        at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\r\n        at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\r\n        at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator$KerberosValidateAction.run(SunJaasKerberosTicketValidator.java:170)\r\n        at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator$KerberosValidateAction.run(SunJaasKerberosTicketValidator.java:153)\r\n        ... 48 common frames omitted\r\n\r\n&gt;Caused by: sun.security.krb5.KrbCryptoException: Checksum failed\r\n\r\n        at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:102)\r\n        at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:94)\r\n        at sun.security.krb5.EncryptedData.decrypt(EncryptedData.java:175)\r\n        at sun.security.krb5.KrbApReq.authenticate(KrbApReq.java:281)\r\n        at sun.security.krb5.KrbApReq.&lt;init&gt;(KrbApReq.java:149)\r\n        at sun.security.jgss.krb5.InitSecContextToken.&lt;init&gt;(InitSecContextToken.java:108)\r\n        at sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:829)\r\n        ... 56 common frames omitted\r\n\r\n&gt;Caused by: java.security.GeneralSecurityException: Checksum failed\r\n\r\n        at sun.security.krb5.internal.crypto.dk.AesDkCrypto.decryptCTS(AesDkCrypto.java:451)\r\n        at sun.security.krb5.internal.crypto.dk.AesDkCrypto.decrypt(AesDkCrypto.java:272)\r\n        at sun.security.krb5.internal.crypto.Aes256.decrypt(Aes256.java:76)\r\n        at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:100)\r\n        ... 62 common frames omitted\r\n\r\n\r\n-----------------------------------------------\r\n Some other details:\r\n\r\n- /etc/krb5.conf does have default_tgs_enctypes, default_tkt_enctypes to include aes256-cts-hmac-sha1-96\r\n- default keytab location is matching between the application and krb5.conf\r\n- keytabs are being generated on a windows server, then copied to RHEL","title":"Spring Security Kerberos + AD, Checksum Fail","body":"<p>I'm trying to do a Spring Security Kerberos with Active Directory credentials as stated in <a href=\"http://docs.spring.io/spring-security-kerberos/docs/1.0.1.RELEASE/reference/htmlsingle/#samples-sec-server-win-auth\" rel=\"noreferrer\">http://docs.spring.io/spring-security-kerberos/docs/1.0.1.RELEASE/reference/htmlsingle/#samples-sec-server-win-auth</a>. I'd like to say that I've got most of the things down (SPN, keytabs, etc.). Now I've got a checksum fail. Supposing I change my principal name, I get an AES encryption error. </p>\n\n<p>I'm using Spring Boot on RHEL 6 with Oracle Java 1.8 + JCE\nSample from <a href=\"https://github.com/spring-projects/spring-security-kerberos/tree/master/spring-security-kerberos-samples/sec-server-win-auth\" rel=\"noreferrer\">https://github.com/spring-projects/spring-security-kerberos/tree/master/spring-security-kerberos-samples/sec-server-win-auth</a></p>\n\n<p>Here is what I get when run the jar</p>\n\n<hr>\n\n<blockquote>\n  <p>Debug is  true \n  storeKey true \n  useTicketCache false \n  useKeyTab true \n  doNotPrompt true \n  ticketCache is null \n  isInitiator false \n  KeyTab is /home/boss/webdev125-3.keytab \n  refreshKrb5Config is false \n  principal is http/webdev@EXAMPLE.ORG \n  tryFirstPass is false \n  useFirstPass is false \n  storePass is false \n  clearPass is false</p>\n  \n  <p>principal is http/webdev@EXAMPLE.ORG\n  Will use keytab\n  Commit Succeeded</p>\n</blockquote>\n\n<p>....</p>\n\n<blockquote>\n  <p>2015-11-25 11:29:09.631 DEBUG 5559 --- [nio-8080-exec-3] .a.KerberosServiceAuthenticationProvider : Try to validate Kerberos Token\n  2015-11-25 11:29:10.003  WARN 5559 --- [nio-8080-exec-3] w.a.SpnegoAuthenticationProcessingFilter : Negotiate Header was invalid:</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>org.springframework.security.authentication.BadCredentialsException: Kerberos validation not successful\n          at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator.validateTicket(SunJaasKerberosTicketValidator.java:71)\n          at org.springframework.security.kerberos.authentication.KerberosServiceAuthenticationProvider.authenticate(KerberosServiceAuthenticationProvider.java:64)\n          at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:156)</p>\n</blockquote>\n\n<p>...</p>\n\n<blockquote>\n  <p>Caused by: org.ietf.jgss.GSSException: Failure unspecified at GSS-API level (Mechanism level: Checksum failed)</p>\n</blockquote>\n\n<pre><code>    at sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:856)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\n    at sun.security.jgss.spnego.SpNegoContext.GSS_acceptSecContext(SpNegoContext.java:906)\n    at sun.security.jgss.spnego.SpNegoContext.acceptSecContext(SpNegoContext.java:556)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:342)\n    at sun.security.jgss.GSSContextImpl.acceptSecContext(GSSContextImpl.java:285)\n    at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator$KerberosValidateAction.run(SunJaasKerberosTicketValidator.java:170)\n    at org.springframework.security.kerberos.authentication.sun.SunJaasKerberosTicketValidator$KerberosValidateAction.run(SunJaasKerberosTicketValidator.java:153)\n    ... 48 common frames omitted\n</code></pre>\n\n<blockquote>\n  <p>Caused by: sun.security.krb5.KrbCryptoException: Checksum failed</p>\n</blockquote>\n\n<pre><code>    at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:102)\n    at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:94)\n    at sun.security.krb5.EncryptedData.decrypt(EncryptedData.java:175)\n    at sun.security.krb5.KrbApReq.authenticate(KrbApReq.java:281)\n    at sun.security.krb5.KrbApReq.&lt;init&gt;(KrbApReq.java:149)\n    at sun.security.jgss.krb5.InitSecContextToken.&lt;init&gt;(InitSecContextToken.java:108)\n    at sun.security.jgss.krb5.Krb5Context.acceptSecContext(Krb5Context.java:829)\n    ... 56 common frames omitted\n</code></pre>\n\n<blockquote>\n  <p>Caused by: java.security.GeneralSecurityException: Checksum failed</p>\n</blockquote>\n\n<pre><code>    at sun.security.krb5.internal.crypto.dk.AesDkCrypto.decryptCTS(AesDkCrypto.java:451)\n    at sun.security.krb5.internal.crypto.dk.AesDkCrypto.decrypt(AesDkCrypto.java:272)\n    at sun.security.krb5.internal.crypto.Aes256.decrypt(Aes256.java:76)\n    at sun.security.krb5.internal.crypto.Aes256CtsHmacSha1EType.decrypt(Aes256CtsHmacSha1EType.java:100)\n    ... 62 common frames omitted\n</code></pre>\n\n<hr>\n\n<p>Some other details:</p>\n\n<ul>\n<li>/etc/krb5.conf does have default_tgs_enctypes, default_tkt_enctypes to include aes256-cts-hmac-sha1-96</li>\n<li>default keytab location is matching between the application and krb5.conf</li>\n<li>keytabs are being generated on a windows server, then copied to RHEL</li>\n</ul>\n"},{"tags":["java","javafx","icons","scenebuilder"],"answers":[{"comments":[{"owner":{"account_id":16568235,"reputation":43,"user_id":11972194,"display_name":"Trileo Stark"},"score":0,"creation_date":1566844135,"post_id":57645621,"comment_id":101775095,"body_markdown":"Thank you so much it worked with JavaFX. I had earlier tried with Gradle and it also worked. Do you also know how to get it work other Font Packs such as Ikonli i.e what modules should I also include in the module-info file.","body":"Thank you so much it worked with JavaFX. I had earlier tried with Gradle and it also worked. Do you also know how to get it work other Font Packs such as Ikonli i.e what modules should I also include in the module-info file."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1566844386,"post_id":57645621,"comment_id":101775188,"body_markdown":"Just give it a try, it should be exactly the same with each module. IntelliJ should help you with hints about the module names, once you add the dependencies. If you have more issues, you can post a new question with them.","body":"Just give it a try, it should be exactly the same with each module. IntelliJ should help you with hints about the module names, once you add the dependencies. If you have more issues, you can post a new question with them."},{"owner":{"account_id":16568235,"reputation":43,"user_id":11972194,"display_name":"Trileo Stark"},"score":0,"creation_date":1566845122,"post_id":57645621,"comment_id":101775454,"body_markdown":"I mean to say the modules only in JavaFX project without Gradle or Maven.","body":"I mean to say the modules only in JavaFX project without Gradle or Maven."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":0,"creation_date":1566845267,"post_id":57645621,"comment_id":101775489,"body_markdown":"Check the [FontAwesomeFX](https://bintray.com/jerady/maven/FontAwesomeFX/11.0.0) link I posted, you&#39;ll find there all the artifacts.","body":"Check the <a href=\"https://bintray.com/jerady/maven/FontAwesomeFX/11.0.0\" rel=\"nofollow noreferrer\">FontAwesomeFX</a> link I posted, you&#39;ll find there all the artifacts."}],"tags":[],"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1566732680,"creation_date":1566732680,"answer_id":57645621,"question_id":57641108,"body_markdown":"Since you are using Java and JavaFX 12, you should use a valid FontAwesomeFX version: 11.0.0.\r\n\r\nYou can find it here: https://bintray.com/jerady/maven/FontAwesomeFX/11.0.0\r\n\r\nIf you are using Maven or Gradle, you can just include the FontAwesome dependency:\r\n\r\n```\r\ndependencies {\r\n    implementation &quot;de.jensd:fontawesomefx-fontawesome:4.7.0-11&quot;\r\n}\r\n```\r\n\r\nThat will also include `de.jensd:fontawesomefx-commons:11.0`.\r\n\r\nIf you don&#39;t use Maven/Gradle, you will have to download them from [here](https://bintray.com/jerady/maven/download_file?file_path=de%2Fjensd%2Ffontawesomefx-commons%2F11.0%2Ffontawesomefx-commons-11.0.jar) and [here](https://bintray.com/jerady/maven/download_file?file_path=de%2Fjensd%2Ffontawesomefx-fontawesome%2F4.7.0-11%2Ffontawesomefx-fontawesome-4.7.0-11.jar), and include them in your project.\r\n\r\nNext step: since you have a modular application, your module descriptor should contain all the modules that your project _requires_. \r\n\r\nTherefore your `module-info` should include the `fontawesome` module:\r\n\r\n```\r\nmodule Practice {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires de.jensd.fx.fontawesomefx.fontawesome;\r\n\r\n    opens sample to javafx.fxml;\r\n    exports sample;\r\n}\r\n```\r\n\r\nNow your project will have all the required dependencies and will work.","title":"How to add AwesomeFontFX Icon Pack to JavaFX Project in IntelliJ IDEA?","body":"<p>Since you are using Java and JavaFX 12, you should use a valid FontAwesomeFX version: 11.0.0.</p>\n\n<p>You can find it here: <a href=\"https://bintray.com/jerady/maven/FontAwesomeFX/11.0.0\" rel=\"noreferrer\">https://bintray.com/jerady/maven/FontAwesomeFX/11.0.0</a></p>\n\n<p>If you are using Maven or Gradle, you can just include the FontAwesome dependency:</p>\n\n<pre><code>dependencies {\n    implementation \"de.jensd:fontawesomefx-fontawesome:4.7.0-11\"\n}\n</code></pre>\n\n<p>That will also include <code>de.jensd:fontawesomefx-commons:11.0</code>.</p>\n\n<p>If you don't use Maven/Gradle, you will have to download them from <a href=\"https://bintray.com/jerady/maven/download_file?file_path=de%2Fjensd%2Ffontawesomefx-commons%2F11.0%2Ffontawesomefx-commons-11.0.jar\" rel=\"noreferrer\">here</a> and <a href=\"https://bintray.com/jerady/maven/download_file?file_path=de%2Fjensd%2Ffontawesomefx-fontawesome%2F4.7.0-11%2Ffontawesomefx-fontawesome-4.7.0-11.jar\" rel=\"noreferrer\">here</a>, and include them in your project.</p>\n\n<p>Next step: since you have a modular application, your module descriptor should contain all the modules that your project <em>requires</em>. </p>\n\n<p>Therefore your <code>module-info</code> should include the <code>fontawesome</code> module:</p>\n\n<pre><code>module Practice {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires de.jensd.fx.fontawesomefx.fontawesome;\n\n    opens sample to javafx.fxml;\n    exports sample;\n}\n</code></pre>\n\n<p>Now your project will have all the required dependencies and will work.</p>\n"}],"owner":{"account_id":16568235,"reputation":43,"user_id":11972194,"display_name":"Trileo Stark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10467,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":57645621,"answer_count":1,"score":4,"last_activity_date":1676490364,"creation_date":1566676424,"question_id":57641108,"body_markdown":"I am creating a mini-JavaFX project and wanted to use the Awesome Font Icon Pack.I loaded the fontawesomefx-8.9 using the Scenebuilder and opened the FXML in it and loaded two icons in it, also added the JAR file in External Libraries in IntelliJ but when I run the code it gives a ClassNotFoundException for de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView. What should I do?\r\n\r\nI removed the two Icons and the code runs fine. I searched many places but it only showed to add the JAR files to external libraries and nothing. I am using JDK 12 , JavaFX 12 and Scenebuilder 11.0.\r\n\r\nFXML File \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?&gt;\r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n    \r\n    &lt;fx:root alignment=&quot;center&quot; hgap=&quot;10&quot; type=&quot;GridPane&quot; vgap=&quot;10&quot; xmlns=&quot;http://javafx.com/javafx/8.0.171&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;sample.Controller&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;Button mnemonicParsing=&quot;false&quot; text=&quot;Click Me!!!&quot;&gt;\r\n             &lt;opaqueInsets&gt;\r\n                &lt;Insets left=&quot;5.0&quot; /&gt;\r\n             &lt;/opaqueInsets&gt;&lt;/Button&gt;\r\n          &lt;FontAwesomeIconView glyphName=&quot;CIRCLE&quot; /&gt;\r\n       &lt;/children&gt;\r\n       &lt;columnConstraints&gt;\r\n          &lt;ColumnConstraints /&gt;\r\n       &lt;/columnConstraints&gt;\r\n       &lt;rowConstraints&gt;\r\n          &lt;RowConstraints /&gt;\r\n       &lt;/rowConstraints&gt;\r\n    &lt;/fx:root&gt;\r\n\r\nController Class\r\n\r\n    package sample;\r\n    \r\n    import javafx.fxml.Initializable;\r\n    \r\n    import java.net.URL;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class Controller implements Initializable {\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n    \r\n        }\r\n\r\n    Module-Info.java\r\n    \r\n    module Practice {\r\n        requires javafx.controls;\r\n        requires javafx.fxml;\r\n    \r\n        opens sample;\r\n    }\r\n\r\n\r\nMain Class\r\n\r\n    package sample;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.fxml.FXMLLoader;\r\n    import javafx.scene.Parent;\r\n    import javafx.scene.Scene;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class Main extends Application {\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) throws Exception{\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;sample.fxml&quot;));\r\n            primaryStage.setTitle(&quot;Hello World&quot;);\r\n            primaryStage.setScene(new Scene(root, 300, 275));\r\n            primaryStage.show();\r\n        }\r\n    \r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\nError\r\n\r\n    &quot;C:\\Program Files\\Java\\jdk-12.0.2\\bin\\java.exe&quot; --add-modules javafx.base,javafx.graphics --add-reads javafx.base=ALL-UNNAMED --add-reads javafx.graphics=ALL-UNNAMED &quot;-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2.1\\lib\\idea_rt.jar=7604:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2.1\\bin&quot; -Dfile.encoding=UTF-8 -p &quot;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.base.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.graphics.jar;E:\\Java Programs\\JavaFX\\Practice\\out\\production\\Practice;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx-swt.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.controls.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.fxml.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.media.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.swing.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.web.jar;E:\\Java Programs\\JavaFX\\fontawesomefx-8.9.jar&quot; -m Practice/sample.Main\r\n    Exception in Application start method\r\n    java.lang.reflect.InvocationTargetException\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n    \tat java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\n    Caused by: java.lang.RuntimeException: Exception in Application start method\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:835)\r\n    Caused by: javafx.fxml.LoadException: \r\n    /E:/Java%20Programs/JavaFX/Practice/out/production/Practice/sample/sample.fxml\r\n    \r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2863)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.processImport(FXMLLoader.java:2707)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.processProcessingInstruction(FXMLLoader.java:2676)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2542)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\r\n    \tat Practice/sample.Main.start(Main.java:13)\r\n    \tat javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:389)\r\n    \tat javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\r\n    \tat javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n    \tat javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\r\n    \tat javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\r\n    \t... 1 more\r\n    Caused by: java.lang.ClassNotFoundException: de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadTypeForPackage(FXMLLoader.java:2931)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.loadType(FXMLLoader.java:2920)\r\n    \tat javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2861)\r\n    \t... 20 more\r\n    Exception running application sample.Main\r\n    \r\n    Process finished with exit code 1\r\n\r\n\r\n","title":"How to add AwesomeFontFX Icon Pack to JavaFX Project in IntelliJ IDEA?","body":"<p>I am creating a mini-JavaFX project and wanted to use the Awesome Font Icon Pack.I loaded the fontawesomefx-8.9 using the Scenebuilder and opened the FXML in it and loaded two icons in it, also added the JAR file in External Libraries in IntelliJ but when I run the code it gives a ClassNotFoundException for de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView. What should I do?</p>\n\n<p>I removed the two Icons and the code runs fine. I searched many places but it only showed to add the JAR files to external libraries and nothing. I am using JDK 12 , JavaFX 12 and Scenebuilder 11.0.</p>\n\n<p>FXML File </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n\n&lt;?import de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView?&gt;\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n\n&lt;fx:root alignment=\"center\" hgap=\"10\" type=\"GridPane\" vgap=\"10\" xmlns=\"http://javafx.com/javafx/8.0.171\" xmlns:fx=\"http://javafx.com/fxml/1\" fx:controller=\"sample.Controller\"&gt;\n   &lt;children&gt;\n      &lt;Button mnemonicParsing=\"false\" text=\"Click Me!!!\"&gt;\n         &lt;opaqueInsets&gt;\n            &lt;Insets left=\"5.0\" /&gt;\n         &lt;/opaqueInsets&gt;&lt;/Button&gt;\n      &lt;FontAwesomeIconView glyphName=\"CIRCLE\" /&gt;\n   &lt;/children&gt;\n   &lt;columnConstraints&gt;\n      &lt;ColumnConstraints /&gt;\n   &lt;/columnConstraints&gt;\n   &lt;rowConstraints&gt;\n      &lt;RowConstraints /&gt;\n   &lt;/rowConstraints&gt;\n&lt;/fx:root&gt;\n</code></pre>\n\n<p>Controller Class</p>\n\n<pre><code>package sample;\n\nimport javafx.fxml.Initializable;\n\nimport java.net.URL;\nimport java.util.ResourceBundle;\n\npublic class Controller implements Initializable {\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n\n    }\n\nModule-Info.java\n\nmodule Practice {\n    requires javafx.controls;\n    requires javafx.fxml;\n\n    opens sample;\n}\n</code></pre>\n\n<p>Main Class</p>\n\n<pre><code>package sample;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) throws Exception{\n        Parent root = FXMLLoader.load(getClass().getResource(\"sample.fxml\"));\n        primaryStage.setTitle(\"Hello World\");\n        primaryStage.setScene(new Scene(root, 300, 275));\n        primaryStage.show();\n    }\n\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n\n<p>Error</p>\n\n<pre><code>\"C:\\Program Files\\Java\\jdk-12.0.2\\bin\\java.exe\" --add-modules javafx.base,javafx.graphics --add-reads javafx.base=ALL-UNNAMED --add-reads javafx.graphics=ALL-UNNAMED \"-javaagent:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2.1\\lib\\idea_rt.jar=7604:C:\\Program Files\\JetBrains\\IntelliJ IDEA 2019.2.1\\bin\" -Dfile.encoding=UTF-8 -p \"E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.base.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.graphics.jar;E:\\Java Programs\\JavaFX\\Practice\\out\\production\\Practice;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx-swt.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.controls.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.fxml.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.media.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.swing.jar;E:\\Java Programs\\javafx-sdk-12.0.2\\lib\\javafx.web.jar;E:\\Java Programs\\JavaFX\\fontawesomefx-8.9.jar\" -m Practice/sample.Main\nException in Application start method\njava.lang.reflect.InvocationTargetException\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application start method\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:900)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n    at java.base/java.lang.Thread.run(Thread.java:835)\nCaused by: javafx.fxml.LoadException: \n/E:/Java%20Programs/JavaFX/Practice/out/production/Practice/sample/sample.fxml\n\n    at javafx.fxml/javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2625)\n    at javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2863)\n    at javafx.fxml/javafx.fxml.FXMLLoader.processImport(FXMLLoader.java:2707)\n    at javafx.fxml/javafx.fxml.FXMLLoader.processProcessingInstruction(FXMLLoader.java:2676)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2542)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2466)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3237)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3194)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3163)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3136)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:3113)\n    at javafx.fxml/javafx.fxml.FXMLLoader.load(FXMLLoader.java:3106)\n    at Practice/sample.Main.start(Main.java:13)\n    at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:846)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:455)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:428)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:389)\n    at javafx.graphics/com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:427)\n    at javafx.graphics/com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication._runLoop(Native Method)\n    at javafx.graphics/com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:174)\n    ... 1 more\nCaused by: java.lang.ClassNotFoundException: de.jensd.fx.glyphs.fontawesome.FontAwesomeIconView\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:583)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadTypeForPackage(FXMLLoader.java:2931)\n    at javafx.fxml/javafx.fxml.FXMLLoader.loadType(FXMLLoader.java:2920)\n    at javafx.fxml/javafx.fxml.FXMLLoader.importClass(FXMLLoader.java:2861)\n    ... 20 more\nException running application sample.Main\n\nProcess finished with exit code 1\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3","aws-sdk"],"comments":[{"owner":{"account_id":975963,"reputation":16736,"user_id":997162,"accept_rate":69,"display_name":"Mike Doe"},"score":1,"creation_date":1523607626,"post_id":49811225,"comment_id":86639085,"body_markdown":"AWS SDK for which language?","body":"AWS SDK for which language?"},{"owner":{"account_id":196973,"reputation":2901,"user_id":440732,"accept_rate":61,"display_name":"krackoder"},"score":0,"creation_date":1523633085,"post_id":49811225,"comment_id":86655771,"body_markdown":"@emix Java. I updated the post","body":"@emix Java. I updated the post"}],"answers":[{"comments":[{"owner":{"account_id":196973,"reputation":2901,"user_id":440732,"accept_rate":61,"display_name":"krackoder"},"score":0,"creation_date":1523636587,"post_id":49820694,"comment_id":86657964,"body_markdown":"thanks for pointing out to the code. So under all conditions(whether object exists or not)  it will be costed under &#39;GET, SELECT, other requests&#39; category?","body":"thanks for pointing out to the code. So under all conditions(whether object exists or not)  it will be costed under &#39;GET, SELECT, other requests&#39; category?"},{"owner":{"account_id":141042,"reputation":9130,"user_id":347777,"display_name":"Viccari"},"score":3,"creation_date":1523638426,"post_id":49820694,"comment_id":86658958,"body_markdown":"Correct. Even though the HEAD request is technically different from a GET (and if you enable S3 bucket logs, you&#39;ll see different results for both), the pricing is the same. You&#39;ll save money on data transfer using the HEAD, since you obviously don&#39;t get the file contents in the payload.","body":"Correct. Even though the HEAD request is technically different from a GET (and if you enable S3 bucket logs, you&#39;ll see different results for both), the pricing is the same. You&#39;ll save money on data transfer using the HEAD, since you obviously don&#39;t get the file contents in the payload."}],"tags":[],"owner":{"account_id":141042,"reputation":9130,"user_id":347777,"display_name":"Viccari"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1676490315,"creation_date":1523634070,"answer_id":49820694,"question_id":49811225,"body_markdown":"Looking at the code, the `doesObjectExist()` method internally calls `getObjectMetadata` ([link](https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1321), [link](https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1243)).\r\n\r\nIf you go [a little deeper](https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1261) into the code, the actual HTTP request is a `HEAD` request, so I strongly suspect they are just doing a `HEAD` on the object itself.\r\n\r\nThe description of [`GetObjectMetadataRequest`](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/GetObjectMetadataRequest.html) and the [`HEAD` call on the REST API](https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectHEAD.html) are also similar.\r\n\r\nRegarding permissions, you are correct (the excerpt below also comes from the `HEAD` request on the REST API): \r\n\r\n&gt; You need the s3:GetObject permission for this operation.  For more information, go to Specifying Permissions in a Policy in the Amazon Simple Storage Service Developer Guide. If the object you request does not exist, the error Amazon S3 returns depends on whether you also have the s3:ListBucket permission.","title":"AWS S3 doesObjectExist costs","body":"<p>Looking at the code, the <code>doesObjectExist()</code> method internally calls <code>getObjectMetadata</code> (<a href=\"https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1321\" rel=\"nofollow noreferrer\">link</a>, <a href=\"https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1243\" rel=\"nofollow noreferrer\">link</a>).</p>\n<p>If you go <a href=\"https://github.com/aws/aws-sdk-java/blob/2d15a603a96f98076f5458db49d659f296eab313/aws-java-sdk-s3/src/main/java/com/amazonaws/services/s3/AmazonS3Client.java#L1261\" rel=\"nofollow noreferrer\">a little deeper</a> into the code, the actual HTTP request is a <code>HEAD</code> request, so I strongly suspect they are just doing a <code>HEAD</code> on the object itself.</p>\n<p>The description of <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/s3/model/GetObjectMetadataRequest.html\" rel=\"nofollow noreferrer\"><code>GetObjectMetadataRequest</code></a> and the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/RESTObjectHEAD.html\" rel=\"nofollow noreferrer\"><code>HEAD</code> call on the REST API</a> are also similar.</p>\n<p>Regarding permissions, you are correct (the excerpt below also comes from the <code>HEAD</code> request on the REST API):</p>\n<blockquote>\n<p>You need the s3:GetObject permission for this operation.  For more information, go to Specifying Permissions in a Policy in the Amazon Simple Storage Service Developer Guide. If the object you request does not exist, the error Amazon S3 returns depends on whether you also have the s3:ListBucket permission.</p>\n</blockquote>\n"}],"owner":{"account_id":196973,"reputation":2901,"user_id":440732,"accept_rate":61,"display_name":"krackoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10168,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":49820694,"answer_count":1,"score":9,"last_activity_date":1676490315,"creation_date":1523603284,"question_id":49811225,"body_markdown":"AWS S3 Java SDK provides a method `doesObjectExist()` to check if an object exists in S3. What operation does it use internally? Is it `GET`, `LIST`, or `HEAD` ?\r\n\r\nMy concern is mainly related to its costs. From S3 documentation the costs of US west Oregon are-\r\nPUT, COPY, POST, or LIST Requests\t$0.005 per 1,000 requests\r\n\r\nGET, SELECT and all other Requests\t$0.0004 per 1,000 requests\r\n\r\n\r\nDoes the cost of `doesObjectExist()` fall under 1st or 2nd category? Also I was reading somewhere that this operation requires `ListBucket` and `GetObject` permissions. So does that mean this operation incurs cost of both the above categories?\r\n","title":"AWS S3 doesObjectExist costs","body":"<p>AWS S3 Java SDK provides a method <code>doesObjectExist()</code> to check if an object exists in S3. What operation does it use internally? Is it <code>GET</code>, <code>LIST</code>, or <code>HEAD</code> ?</p>\n\n<p>My concern is mainly related to its costs. From S3 documentation the costs of US west Oregon are-\nPUT, COPY, POST, or LIST Requests   $0.005 per 1,000 requests</p>\n\n<p>GET, SELECT and all other Requests  $0.0004 per 1,000 requests</p>\n\n<p>Does the cost of <code>doesObjectExist()</code> fall under 1st or 2nd category? Also I was reading somewhere that this operation requires <code>ListBucket</code> and <code>GetObject</code> permissions. So does that mean this operation incurs cost of both the above categories?</p>\n"},{"tags":["java","multithreading","concurrency","synchronization","thread-safety"],"answers":[{"tags":[],"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675982391,"creation_date":1675982391,"answer_id":75405186,"question_id":75398838,"body_markdown":"Atomic values don&#39;t allow blocking.  In some cases, this is good, but in your case (if understand it correctly), it is not.  As i understand it, you want to cache an access token.  If it doesn&#39;t exist yet, or is expired, you want a new token to be created.  Ultimately, you want any caller accessing the cache to get a valid token.\r\n\r\nYou can achieve this in a performant manner using (the valid form of) double checked locking.\r\n\r\nThe basic pattern is:\r\n\r\n    private volatile Token _currentToken;\r\n\r\n    public Token getValidToken() {\r\n      Token token = _currentToken;\r\n      if(!isValidToken(token)) {\r\n        token = loadToken();\r\n      }\r\n      return token;\r\n    }\r\n\r\n    private synchronized Token loadToken() {\r\n      Token token = _currentToken;\r\n      if(!isValidToken(token)) {\r\n        token = // ... get valid token here ...\r\n        _currentToken = token;\r\n      }\r\n      return token;\r\n    }\r\n\r\n    private boolean isValidToken(Token token) {\r\n      // .. validate that token is not null or expired ...\r\n    }\r\n\r\nfor callers who call getValidToken() when there is already a valid token, they won&#39;t encounter any locking.  note that reading a volatile incurs a similar performance hit without _actually_ blocking, but this about the best you can get for concurrent code (without doing something with ThreadLocal and potentially an access token per thread).\r\n\r\nfor callers who encounter a missing or expired token, they will all block until a single caller gets a new, valid token.\r\n\r\nnote, there are probably good cache implementations in either google guava or apache commons which would handle this logic for you.","title":"AutomicReference compareAndSet usage","body":"<p>Atomic values don't allow blocking.  In some cases, this is good, but in your case (if understand it correctly), it is not.  As i understand it, you want to cache an access token.  If it doesn't exist yet, or is expired, you want a new token to be created.  Ultimately, you want any caller accessing the cache to get a valid token.</p>\n<p>You can achieve this in a performant manner using (the valid form of) double checked locking.</p>\n<p>The basic pattern is:</p>\n<pre><code>private volatile Token _currentToken;\n\npublic Token getValidToken() {\n  Token token = _currentToken;\n  if(!isValidToken(token)) {\n    token = loadToken();\n  }\n  return token;\n}\n\nprivate synchronized Token loadToken() {\n  Token token = _currentToken;\n  if(!isValidToken(token)) {\n    token = // ... get valid token here ...\n    _currentToken = token;\n  }\n  return token;\n}\n\nprivate boolean isValidToken(Token token) {\n  // .. validate that token is not null or expired ...\n}\n</code></pre>\n<p>for callers who call getValidToken() when there is already a valid token, they won't encounter any locking.  note that reading a volatile incurs a similar performance hit without <em>actually</em> blocking, but this about the best you can get for concurrent code (without doing something with ThreadLocal and potentially an access token per thread).</p>\n<p>for callers who encounter a missing or expired token, they will all block until a single caller gets a new, valid token.</p>\n<p>note, there are probably good cache implementations in either google guava or apache commons which would handle this logic for you.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676489381,"creation_date":1676413774,"answer_id":75453843,"question_id":75398838,"body_markdown":"&gt; lets say `AccessTokenWithExpirationDate` has initial value and now Thread1 arrives to method `putAccessTokenToCache()` and run: accessTokenWithExpirationDate.compareAndSet(...), and at the same time other threads try to run: accessTokenWithExpirationDate.get() in getAccessTokenFromCache method, will all threads calling get() will wait for compareAndSet() to finish to get the value after or not guaranteed ?\r\n\r\nWhenever `accessTokenWithExpirationDate.get()` is called, the guarantee is that the most recently set value of `accessTokenWithExpirationDate` is returned.  Period.  There is no locking.  If the get is called before the set then the old value is returned.  If the get is called after the set then the new value is returned.\r\n\r\n&gt; if not, can the class be changed in a way that will allow it? some other use in AutomicReference that can promise that?\r\n\r\nYou can certainly add locking but I&#39;m not sure what it buys you.  Either the other threads call `get()` before or after the `set()` has completed.  If you added locking then the same race conditions would happen but you would make the getting and setting of the value a lot more expensive.  In your case, each thread has to cross memory barriers to ensure the correct publishing of the `accessTokenWithExpirationDate` value but there is no blocking.\r\n\r\nFull locking is necessary when there are multiple values being updated in an object or if you need to ensure a _single_ thread is accessing a resource at a time.  If you need to set a single value, in your case `accessTokenWithExpirationDate`, then an `AtomicReference` is the right tool for the job.\r\n","title":"AutomicReference compareAndSet usage","body":"<blockquote>\n<p>lets say <code>AccessTokenWithExpirationDate</code> has initial value and now Thread1 arrives to method <code>putAccessTokenToCache()</code> and run: accessTokenWithExpirationDate.compareAndSet(...), and at the same time other threads try to run: accessTokenWithExpirationDate.get() in getAccessTokenFromCache method, will all threads calling get() will wait for compareAndSet() to finish to get the value after or not guaranteed ?</p>\n</blockquote>\n<p>Whenever <code>accessTokenWithExpirationDate.get()</code> is called, the guarantee is that the most recently set value of <code>accessTokenWithExpirationDate</code> is returned.  Period.  There is no locking.  If the get is called before the set then the old value is returned.  If the get is called after the set then the new value is returned.</p>\n<blockquote>\n<p>if not, can the class be changed in a way that will allow it? some other use in AutomicReference that can promise that?</p>\n</blockquote>\n<p>You can certainly add locking but I'm not sure what it buys you.  Either the other threads call <code>get()</code> before or after the <code>set()</code> has completed.  If you added locking then the same race conditions would happen but you would make the getting and setting of the value a lot more expensive.  In your case, each thread has to cross memory barriers to ensure the correct publishing of the <code>accessTokenWithExpirationDate</code> value but there is no blocking.</p>\n<p>Full locking is necessary when there are multiple values being updated in an object or if you need to ensure a <em>single</em> thread is accessing a resource at a time.  If you need to set a single value, in your case <code>accessTokenWithExpirationDate</code>, then an <code>AtomicReference</code> is the right tool for the job.</p>\n"}],"owner":{"account_id":14173479,"reputation":81,"user_id":10239441,"display_name":"user10239441"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676489381,"creation_date":1675946957,"question_id":75398838,"body_markdown":"I have this class containing AccessTokenWithExpirationDate object wrapped in AutomicReference which I want it to be thread safe:\r\n\r\n```\r\npublic class MyClass {\r\n\r\n    private AtomicReference&lt;AccessTokenWithExpirationDate&gt; accessTokenWithExpirationDate = new AtomicReference&lt;&gt;();\r\n\r\n    private AccessTokenWithExpirationDate putAccessTokenToCache(AccessTokenDto accessTokenDto) {\r\n        AccessTokenWithExpirationDate currentValue = this.accessTokenWithExpirationDate.get();\r\n        AccessTokenWithExpirationDate accessTokenWithExpirationDate\r\n                = new AccessTokenWithExpirationDate(accessTokenDto);\r\n        \r\n        // if currentValue the same, update.\r\n        // if currentValue not the same - another thread already updated it. continue.\r\n        this.accessTokenWithExpirationDate.compareAndSet(currentValue, accessTokenWithExpirationDate);\r\n        \r\n        return accessTokenWithExpirationDate;\r\n    }\r\n\r\n    private Optional&lt;String&gt; getAccessTokenFromCache() {\r\n        Optional&lt;AccessTokenWithExpirationDate&gt; accessTokenWithExpirationDate = Optional.ofNullable(this.accessTokenWithExpirationDate.get());\r\n        if (accessTokenWithExpirationDate.isPresent() &amp;&amp; isTokenNotExpired(accessTokenWithExpirationDate.get())) {\r\n            return accessTokenWithExpirationDate\r\n                    .map(AccessTokenWithExpirationDate::getTokenDto)\r\n                    .map(AccessTokenDto::getAccessToken);\r\n        } else {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n1. lets say AccessTokenWithExpirationDate has initial value and now Thread1 arrives to  method putAccessTokenToCache and run: accessTokenWithExpirationDate.compareAndSet,\r\nand at the same time other threads try to run:\r\naccessTokenWithExpirationDate.get() in getAccessTokenFromCache method,\r\nwill all threads calling get() will wait for compareAndSet() to finish to get the value after or not guarantied ? \r\n\r\n2. if not, can the class be changed in a way that will allow it? some other use in AutomicReference that can promise that?\r\n\r\nthank you !\r\n","title":"AutomicReference compareAndSet usage","body":"<p>I have this class containing AccessTokenWithExpirationDate object wrapped in AutomicReference which I want it to be thread safe:</p>\n<pre><code>public class MyClass {\n\n    private AtomicReference&lt;AccessTokenWithExpirationDate&gt; accessTokenWithExpirationDate = new AtomicReference&lt;&gt;();\n\n    private AccessTokenWithExpirationDate putAccessTokenToCache(AccessTokenDto accessTokenDto) {\n        AccessTokenWithExpirationDate currentValue = this.accessTokenWithExpirationDate.get();\n        AccessTokenWithExpirationDate accessTokenWithExpirationDate\n                = new AccessTokenWithExpirationDate(accessTokenDto);\n        \n        // if currentValue the same, update.\n        // if currentValue not the same - another thread already updated it. continue.\n        this.accessTokenWithExpirationDate.compareAndSet(currentValue, accessTokenWithExpirationDate);\n        \n        return accessTokenWithExpirationDate;\n    }\n\n    private Optional&lt;String&gt; getAccessTokenFromCache() {\n        Optional&lt;AccessTokenWithExpirationDate&gt; accessTokenWithExpirationDate = Optional.ofNullable(this.accessTokenWithExpirationDate.get());\n        if (accessTokenWithExpirationDate.isPresent() &amp;&amp; isTokenNotExpired(accessTokenWithExpirationDate.get())) {\n            return accessTokenWithExpirationDate\n                    .map(AccessTokenWithExpirationDate::getTokenDto)\n                    .map(AccessTokenDto::getAccessToken);\n        } else {\n            return Optional.empty();\n        }\n    }\n}\n</code></pre>\n<ol>\n<li><p>lets say AccessTokenWithExpirationDate has initial value and now Thread1 arrives to  method putAccessTokenToCache and run: accessTokenWithExpirationDate.compareAndSet,\nand at the same time other threads try to run:\naccessTokenWithExpirationDate.get() in getAccessTokenFromCache method,\nwill all threads calling get() will wait for compareAndSet() to finish to get the value after or not guarantied ?</p>\n</li>\n<li><p>if not, can the class be changed in a way that will allow it? some other use in AutomicReference that can promise that?</p>\n</li>\n</ol>\n<p>thank you !</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1676682510,"post_id":75464607,"comment_id":133193171,"body_markdown":"You should probably `return &quot;main&quot;;` from the controller methods (remove the slash).","body":"You should probably <code>return &quot;main&quot;;</code> from the controller methods (remove the slash)."}],"owner":{"account_id":27480071,"reputation":19,"user_id":20967337,"display_name":"Andrew"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676489368,"creation_date":1676489368,"question_id":75464607,"body_markdown":"I&#39;ve been trying to configure Spring without Spring Boot.\r\n\r\n\r\n \r\n\r\n\r\nI added a Tomcat, created the MainController class, and configured the Dispatcher Servlet\r\n\r\nbut in an endpoint &#39;http://localhost:8080/main/hello I receive 404.\r\n\r\nI think it is problem in the ServletDispatcherConfig.\r\n\r\n\r\nThis is my &#160;ServletDispatcherConfig&#160; class\r\n\r\n```\r\n@Component\r\npublic class ServletDispatcherConfig extends AbstractAnnotationConfigDispatcherServletInitializer {\r\n    @Override\r\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\r\n        return new Class[] {SpringConfig.class};\r\n    }\r\n\r\n    @Override\r\n    protected String[] getServletMappings() {\r\n        return new String[] {&quot;/&quot;};\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nand this is my SpringConfig class\r\n\r\n```\r\n\r\n@Configuration\r\n@ComponentScan(&quot;example.test&quot;)\r\n@EnableWebMvc\r\npublic class SpringConfig {\r\n\r\n\r\n    private final ApplicationContext applicationContext;\r\n\r\n    @Autowired\r\n    public SpringConfig(ApplicationContext applicationContext) {\r\n        this.applicationContext = applicationContext;\r\n    }\r\n\r\n\r\n    @Bean\r\n    public SpringResourceTemplateResolver templateResolver() {\r\n        var resolver = new SpringResourceTemplateResolver();\r\n        resolver.setCacheable(true);\r\n        resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\r\n        resolver.setSuffix(&quot;.html&quot;);\r\n        resolver.setApplicationContext(applicationContext);\r\n        resolver.setTemplateMode(TemplateMode.HTML);\r\n        return resolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine templateEngine() {\r\n        var engine = new SpringTemplateEngine();\r\n        engine.setTemplateResolver(templateResolver());\r\n        engine.setEnableSpringELCompiler(true); // delete if any bugs will be\r\n        return engine;\r\n    }\r\n\r\n    @Bean\r\n    public ThymeleafViewResolver viewResolver() {\r\n        var templateResolver = new ThymeleafViewResolver();\r\n        templateResolver.setTemplateEngine(templateEngine());\r\n        return templateResolver;\r\n    }\r\n}\r\n```\r\n\r\n\r\nmy MainController class\r\n\r\n```\r\n\r\n@Controller\r\n@RequestMapping(&quot;/main&quot;)\r\npublic class MainController {\r\n\r\n    @GetMapping(&quot;/first&quot;)\r\n    public String main() {\r\n        return &quot;/main&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;/main&quot;;\r\n    }\r\n}\r\n```\r\n","title":"Spring configuration without Spring Boot","body":"<p>I've been trying to configure Spring without Spring Boot.</p>\n<p>I added a Tomcat, created the MainController class, and configured the Dispatcher Servlet</p>\n<p>but in an endpoint 'http://localhost:8080/main/hello I receive 404.</p>\n<p>I think it is problem in the ServletDispatcherConfig.</p>\n<p>This is my ServletDispatcherConfig class</p>\n<pre><code>@Component\npublic class ServletDispatcherConfig extends AbstractAnnotationConfigDispatcherServletInitializer {\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        return null;\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] {SpringConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        return new String[] {&quot;/&quot;};\n    }\n}\n</code></pre>\n<p>and this is my SpringConfig class</p>\n<pre><code>\n@Configuration\n@ComponentScan(&quot;example.test&quot;)\n@EnableWebMvc\npublic class SpringConfig {\n\n\n    private final ApplicationContext applicationContext;\n\n    @Autowired\n    public SpringConfig(ApplicationContext applicationContext) {\n        this.applicationContext = applicationContext;\n    }\n\n\n    @Bean\n    public SpringResourceTemplateResolver templateResolver() {\n        var resolver = new SpringResourceTemplateResolver();\n        resolver.setCacheable(true);\n        resolver.setPrefix(&quot;/WEB-INF/templates/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        resolver.setApplicationContext(applicationContext);\n        resolver.setTemplateMode(TemplateMode.HTML);\n        return resolver;\n    }\n\n    @Bean\n    public SpringTemplateEngine templateEngine() {\n        var engine = new SpringTemplateEngine();\n        engine.setTemplateResolver(templateResolver());\n        engine.setEnableSpringELCompiler(true); // delete if any bugs will be\n        return engine;\n    }\n\n    @Bean\n    public ThymeleafViewResolver viewResolver() {\n        var templateResolver = new ThymeleafViewResolver();\n        templateResolver.setTemplateEngine(templateEngine());\n        return templateResolver;\n    }\n}\n</code></pre>\n<p>my MainController class</p>\n<pre><code>\n@Controller\n@RequestMapping(&quot;/main&quot;)\npublic class MainController {\n\n    @GetMapping(&quot;/first&quot;)\n    public String main() {\n        return &quot;/main&quot;;\n    }\n\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;/main&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","java.util.scanner","joptionpane"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1676489104,"post_id":75464506,"comment_id":133149184,"body_markdown":"Also, remove the JOptionPane statements. Replace with `System.out.println()` to echo the result: `System.out.println(checkPerfectSquare(number) ? &quot;Perfect!&quot; : &quot;Not perfect.&quot;);`","body":"Also, remove the JOptionPane statements. Replace with <code>System.out.println()</code> to echo the result: <code>System.out.println(checkPerfectSquare(number) ? &quot;Perfect!&quot; : &quot;Not perfect.&quot;);</code>"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":1,"creation_date":1676489267,"post_id":75464506,"comment_id":133149214,"body_markdown":"First, some suggestions on improving your code: Enter an `int`, not a `double`.  In `static boolean checkPerfectSquare`, change `number` to `int` type. Change the `for` loop so `i` is initialized with `2` instead of `1`.  Now, when `number % i == 0`, then `i` is a factor. At that  point, you can print it out, or save it in a `Collection`.  P.S. To find all the factors, the loop should proceed up to and including `number / 2`.","body":"First, some suggestions on improving your code: Enter an <code>int</code>, not a <code>double</code>.  In <code>static boolean checkPerfectSquare</code>, change <code>number</code> to <code>int</code> type. Change the <code>for</code> loop so <code>i</code> is initialized with <code>2</code> instead of <code>1</code>.  Now, when <code>number % i == 0</code>, then <code>i</code> is a factor. At that  point, you can print it out, or save it in a <code>Collection</code>.  P.S. To find all the factors, the loop should proceed up to and including <code>number &#47; 2</code>."},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":2,"creation_date":1676489268,"post_id":75464506,"comment_id":133149215,"body_markdown":"Why are you working with doubles for an integer problem?","body":"Why are you working with doubles for an integer problem?"},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1676489665,"post_id":75464506,"comment_id":133149310,"body_markdown":"A little more simply put, `if (i*i == number) { return true; }`.","body":"A little more simply put, <code>if (i*i == number) { return true; }</code>."},{"owner":{"account_id":27796472,"reputation":1,"user_id":21221861,"display_name":"Josh Andrew"},"score":0,"creation_date":1676490423,"post_id":75464506,"comment_id":133149506,"body_markdown":"I fixed the code already but still having problems on how I can display the factors when it&#39;s false, I&#39;m still new to this so I haven&#39;t really studied that far yet.","body":"I fixed the code already but still having problems on how I can display the factors when it&#39;s false, I&#39;m still new to this so I haven&#39;t really studied that far yet."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1676490849,"post_id":75464506,"comment_id":133149613,"body_markdown":"Factorizing is similar, but you will divide `number` by each factor you discover.  One hint is to try multiple times with each factor, because some factors can get multiple hits.","body":"Factorizing is similar, but you will divide <code>number</code> by each factor you discover.  One hint is to try multiple times with each factor, because some factors can get multiple hits."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676492151,"post_id":75464506,"comment_id":133149978,"body_markdown":"By the way, although your code uses `Scanner` and `JOptionPane`, the question really is unrelated to either of those.","body":"By the way, although your code uses <code>Scanner</code> and <code>JOptionPane</code>, the question really is unrelated to either of those."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676492262,"post_id":75464506,"comment_id":133150008,"body_markdown":"Are you familiar with Java [`Collection`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html) API? Are you allowed to use a `List` ?","body":"Are you familiar with Java <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html\" rel=\"nofollow noreferrer\"><code>Collection</code></a> API? Are you allowed to use a <code>List</code> ?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676492345,"post_id":75464506,"comment_id":133150025,"body_markdown":"It might help if you were to edit the question to include a copy of the assignment.","body":"It might help if you were to edit the question to include a copy of the assignment."},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1676682423,"post_id":75464506,"comment_id":133193159,"body_markdown":"The loop in your code is useful for finding factors. (See preceding comments.) But, you don&#39;t really need to use a loop to discover if a positive integer is a perfect square or not. A basic, obvious way is `int temp = (int) (Math.sqrt ((double) number); boolean isSquare = temp * temp == number;`","body":"The loop in your code is useful for finding factors. (See preceding comments.) But, you don&#39;t really need to use a loop to discover if a positive integer is a perfect square or not. A basic, obvious way is <code>int temp = (int) (Math.sqrt ((double) number); boolean isSquare = temp * temp == number;</code>"}],"owner":{"account_id":27796472,"reputation":1,"user_id":21221861,"display_name":"Josh Andrew"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676489244,"creation_date":1676488638,"question_id":75464506,"body_markdown":"How do I Write a Java program that identifies whether a number is a perfect square number and if its not it will display instead its factors?  \r\n\r\nI already tried on getting if it is a perfect square or not but I&#39;m stuck with displaying the factors when the number inputted is not a perfect square.\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport javax.swing.JOptionPane;\r\n\r\npublic class Labor1\r\n{\r\n    public static void main(String[] args)   \r\n    {\r\n        Scanner sc = new Scanner(System.in);  \r\n        System.out.println(&quot;Enter a number: &quot;);   \r\n        double number = sc.nextDouble(); \r\n\r\n        if (checkPerfectSquare(number))\r\n            JOptionPane.showMessageDialog(null,&quot;PERFECT&quot;,&quot;ANSWER&quot;,JOptionPane.QUESTION_MESSAGE);  \r\n        else\r\n            JOptionPane.showMessageDialog(null,&quot;NOT PERFECT&quot;,&quot;ANSWER&quot;,JOptionPane.QUESTION_MESSAGE);   \r\n    }\r\n\r\n    static boolean checkPerfectSquare(double number)   \r\n    {\r\n        for(int i = 1; i * i &lt;= number; i++)   \r\n        {\r\n            if((number % i == 0) &amp;&amp; (number / i == i))   \r\n            {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;  \r\n    }\r\n}\r\n```","title":"How do I Write a Java program that identifies whether a number is a perfect square number, if not a perfect number the factors should pop out instead","body":"<p>How do I Write a Java program that identifies whether a number is a perfect square number and if its not it will display instead its factors?</p>\n<p>I already tried on getting if it is a perfect square or not but I'm stuck with displaying the factors when the number inputted is not a perfect square.</p>\n<pre><code>import java.util.Scanner;\nimport javax.swing.JOptionPane;\n\npublic class Labor1\n{\n    public static void main(String[] args)   \n    {\n        Scanner sc = new Scanner(System.in);  \n        System.out.println(&quot;Enter a number: &quot;);   \n        double number = sc.nextDouble(); \n\n        if (checkPerfectSquare(number))\n            JOptionPane.showMessageDialog(null,&quot;PERFECT&quot;,&quot;ANSWER&quot;,JOptionPane.QUESTION_MESSAGE);  \n        else\n            JOptionPane.showMessageDialog(null,&quot;NOT PERFECT&quot;,&quot;ANSWER&quot;,JOptionPane.QUESTION_MESSAGE);   \n    }\n\n    static boolean checkPerfectSquare(double number)   \n    {\n        for(int i = 1; i * i &lt;= number; i++)   \n        {\n            if((number % i == 0) &amp;&amp; (number / i == i))   \n            {\n                return true;\n            }\n        }\n\n        return false;  \n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","progress-bar"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1676448699,"post_id":75456866,"comment_id":133136643,"body_markdown":"Please [edit] your question to make the code a [mre]. What you&#39;ve shown us is the right idea. But if the `ProgressBar` is not updating, then the problem is in code you aren&#39;t showing us.","body":"Please <a href=\"https://stackoverflow.com/posts/75456866/edit\">edit</a> your question to make the code a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. What you&#39;ve shown us is the right idea. But if the <code>ProgressBar</code> is not updating, then the problem is in code you aren&#39;t showing us."},{"owner":{"account_id":27181047,"reputation":3,"user_id":20716286,"display_name":"Armaan Malik"},"score":0,"creation_date":1676452405,"post_id":75456866,"comment_id":133137587,"body_markdown":"Progress Bar is updating if I define the Task in ProgressBarController, but I want to update the progressBar with my for loop but i am not getting any idea how to do this","body":"Progress Bar is updating if I define the Task in ProgressBarController, but I want to update the progressBar with my for loop but i am not getting any idea how to do this"},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1676455074,"post_id":75456866,"comment_id":133138304,"body_markdown":"Absent more context, it&#39;s hard to offer more specific guidance, but you may be able to adapt this [approach](https://stackoverflow.com/a/45718846/230513) using a `BiConsumer`.","body":"Absent more context, it&#39;s hard to offer more specific guidance, but you may be able to adapt this <a href=\"https://stackoverflow.com/a/45718846/230513\">approach</a> using a <code>BiConsumer</code>."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1676456780,"post_id":75456866,"comment_id":133138809,"body_markdown":"Then you need to adapt the code so that `function` has a way to report progress. It doesn&#39;t need to directly be aware of the `Task` class; as noted, you could use a `BiConsumer` as a callback that `function` invokes periodically, where the callback implementation calls `updateProgress`. That of course means that `function` would need to be called from within a `Task` implementation. And the `ProgressBarController` _instance_ needs some sort of access to the `Task` so that it can bind the progress bar&#39;s property.","body":"Then you need to adapt the code so that <code>function</code> has a way to report progress. It doesn&#39;t need to directly be aware of the <code>Task</code> class; as noted, you could use a <code>BiConsumer</code> as a callback that <code>function</code> invokes periodically, where the callback implementation calls <code>updateProgress</code>. That of course means that <code>function</code> would need to be called from within a <code>Task</code> implementation. And the <code>ProgressBarController</code> <i>instance</i> needs some sort of access to the <code>Task</code> so that it can bind the progress bar&#39;s property."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1676458465,"post_id":75456866,"comment_id":133139231,"body_markdown":"Please create a [mre].","body":"Please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1676478934,"post_id":75456866,"comment_id":133146121,"body_markdown":"This is just a guess based on your limited code. Do not try to update the `ProgressBar` in the `Task`. Use the `Task&#39;s` `setOnSucceeded` to update the `ProgressBar`.","body":"This is just a guess based on your limited code. Do not try to update the <code>ProgressBar</code> in the <code>Task</code>. Use the <code>Task&#39;s</code> <code>setOnSucceeded</code> to update the <code>ProgressBar</code>."}],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676489197,"creation_date":1676489197,"answer_id":75464576,"question_id":75456866,"body_markdown":"Here is an example that shows how to update the `ProgressBar` for a list of `Tasks`. My guess is that What I have in the `Button` is similar to what you should have in `for(Invoice invoiceModel : invoiceList)`.\r\n\r\n\r\n**Key Code**\r\n```\r\ntask.setOnSucceeded((event) -&gt; {\r\n    System.out.println(&quot;finished working on url &quot; + t.toString());                    \r\n    bar.setProgress(((float)counter.incrementAndGet()) / urlsList.size());\r\n    System.out.println(&quot;Counter: &quot; + counter    + &quot;\\t list size: &quot; + urlsList.size());\r\n});\r\n```\r\n\r\n**Full Code**\r\n```\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.ExecutorService;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.concurrent.atomic.AtomicInteger;\r\nimport javafx.application.Application;\r\nimport javafx.concurrent.Task;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ProgressBar;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * Creates a FlowPane and adds some rectangles inside. A LayoutAnimator is set\r\n * to observe the contents of the FlowPane for layout changes.\r\n */\r\npublic class App extends Application {\r\n\r\n    private final ExecutorService exec = Executors.newSingleThreadExecutor(r -&gt; {\r\n        Thread t = new Thread(r);\r\n        t.setDaemon(true);\r\n        return t;\r\n    });\r\n    \r\n    AtomicInteger counter = new AtomicInteger(0);\r\n    \r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        List&lt;URL&gt; urlsList = getURLs();\r\n\r\n        ProgressBar bar = new ProgressBar(0);\r\n        \r\n        Button btnProcessUrls = new Button(&quot;Process URLs&quot;);\r\n        btnProcessUrls.setOnAction((onAction) -&gt; {\r\n            List&lt;Task&gt; taskList = new ArrayList();\r\n\r\n            urlsList.forEach((t) -&gt; {\r\n                Task task = new Task&lt;Void&gt;() {\r\n                    @Override\r\n                    public Void call() {\r\n                        System.out.println(&quot;I starting working on URL &quot; + t.toString());\r\n                        //Simulate long running task\r\n                        for (int i = 0; i &lt; 1000000000 ;i++) {\r\n                            //System.out.print(&quot;working on url &quot; + t.toString() + &quot;\\r&quot;);\r\n                        }\r\n                        return null;\r\n                    }\r\n                };\r\n\r\n                task.setOnSucceeded((event) -&gt; {\r\n                    System.out.println(&quot;finished working on url &quot; + t.toString());                    \r\n                    bar.setProgress(((float)counter.incrementAndGet()) / urlsList.size());\r\n                    System.out.println(&quot;Counter: &quot; + counter    + &quot;\\t list size: &quot; + urlsList.size());\r\n                });\r\n                \r\n                taskList.add(task);\r\n            });\r\n            \r\n            taskList.forEach(exec::submit);\r\n        });\r\n\r\n        VBox root = new VBox(bar, btnProcessUrls);\r\n        Scene scene = new Scene(root, 300, 250);\r\n\r\n        primaryStage.setTitle(&quot;Flow Layout Test&quot;);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public List&lt;URL&gt; getURLs() {\r\n        List&lt;URL&gt; urls = new ArrayList();\r\n        simulateQueringDbForUrlStrings().forEach((t) -&gt; {\r\n            try {\r\n                urls.add(new URL(t));\r\n            } catch (MalformedURLException ex) {\r\n                System.out.println(ex.toString());\r\n            }\r\n        });\r\n\r\n        return urls;\r\n    }\r\n\r\n    public List&lt;String&gt; simulateQueringDbForUrlStrings() {\r\n        String dbResults = &quot;&quot;&quot;\r\n                           http://www.youtube.com\r\n                           http://www.facebook.com\r\n                           http://www.baidu.com\r\n                           http://www.yahoo.com\r\n                           http://www.amazon.com\r\n                           http://www.wikipedia.org\r\n                           http://www.qq.com\r\n                           http://www.google.co.in\r\n                           http://www.twitter.com\r\n                           http://www.live.com\r\n                           http://www.taobao.com\r\n                           http://www.bing.com\r\n                           http://www.instagram.com\r\n                           http://www.weibo.com\r\n                           http://www.sina.com.cn\r\n                           http://www.linkedin.com\r\n                           http://www.yahoo.co.jp\r\n                           http://www.msn.com\r\n                           http://www.vk.com\r\n                           http://www.google.de\r\n                           http://www.yandex.ru\r\n                           http://www.hao123.com\r\n                           http://www.google.co.uk\r\n                           http://www.reddit.com\r\n                           http://www.ebay.com\r\n                           http://www.google.fr\r\n                           http://www.t.co\r\n                           http://www.tmall.com\r\n                           http://www.google.com.br\r\n                           http://www.360.cn\r\n                           http://www.sohu.com\r\n                           http://www.amazon.co.jp\r\n                           http://www.pinterest.com\r\n                           http://www.netflix.com\r\n                           http://www.google.it\r\n                           http://www.google.ru\r\n                           http://www.microsoft.com\r\n                           http://www.google.es\r\n                           http://www.wordpress.com\r\n                           http://www.gmw.cn\r\n                           http://www.tumblr.com\r\n                           http://www.paypal.com\r\n                           http://www.blogspot.com\r\n                           http://www.imgur.com\r\n                           http://www.stackoverflow.com\r\n                           http://www.aliexpress.com\r\n                           http://www.naver.com\r\n                           http://www.ok.ru\r\n                           http://www.apple.com\r\n                           http://www.github.com\r\n                           http://www.chinadaily.com.cn\r\n                           http://www.imdb.com\r\n                           http://www.google.co.kr\r\n                           http://www.fc2.com\r\n                           http://www.jd.com\r\n                           http://www.blogger.com\r\n                           http://www.163.com\r\n                           http://www.google.ca\r\n                           http://www.whatsapp.com\r\n                           http://www.amazon.in\r\n                           http://www.office.com\r\n                           http://www.tianya.cn\r\n                           http://www.google.co.id\r\n                           http://www.youku.com\r\n                           http://www.rakuten.co.jp\r\n                           http://www.craigslist.org\r\n                           http://www.amazon.de\r\n                           http://www.nicovideo.jp\r\n                           http://www.google.pl\r\n                           http://www.soso.com\r\n                           http://www.bilibili.com\r\n                           http://www.dropbox.com\r\n                           http://www.xinhuanet.com\r\n                           http://www.outbrain.com\r\n                           http://www.pixnet.net\r\n                           http://www.alibaba.com\r\n                           http://www.alipay.com\r\n                           http://www.microsoftonline.com\r\n                           http://www.booking.com\r\n                           http://www.googleusercontent.com\r\n                           http://www.google.com.au\r\n                           http://www.popads.net\r\n                           http://www.cntv.cn\r\n                           http://www.zhihu.com\r\n                           http://www.amazon.co.uk\r\n                           http://www.diply.com\r\n                           http://www.coccoc.com\r\n                           http://www.cnn.com\r\n                           http://www.bbc.co.uk\r\n                           http://www.twitch.tv\r\n                           http://www.wikia.com\r\n                           http://www.google.co.th\r\n                           http://www.go.com\r\n                           http://www.google.com.ph\r\n                           http://www.doubleclick.net\r\n                           http://www.onet.pl\r\n                           http://www.googleadservices.com\r\n                           http://www.accuweather.com\r\n                           http://www.googleweblight.com\r\n                           http://www.answers.yahoo.com\r\n                           http://www.youtube.com\r\n                           http://www.facebook.com\r\n                           http://www.baidu.com\r\n                           http://www.yahoo.com\r\n                           http://www.amazon.com\r\n                           http://www.wikipedia.org\r\n                           http://www.qq.com\r\n                           http://www.google.co.in\r\n                           http://www.twitter.com\r\n                           http://www.live.com\r\n                           http://www.taobao.com\r\n                           http://www.bing.com\r\n                           http://www.instagram.com\r\n                           http://www.weibo.com\r\n                           http://www.sina.com.cn\r\n                           http://www.linkedin.com\r\n                           http://www.yahoo.co.jp\r\n                           http://www.msn.com\r\n                           http://www.vk.com\r\n                           http://www.google.de\r\n                           http://www.yandex.ru\r\n                           http://www.hao123.com\r\n                           http://www.google.co.uk\r\n                           http://www.reddit.com\r\n                           http://www.ebay.com\r\n                           http://www.google.fr\r\n                           http://www.t.co\r\n                           http://www.tmall.com\r\n                           http://www.google.com.br\r\n                           http://www.360.cn\r\n                           http://www.sohu.com\r\n                           http://www.amazon.co.jp\r\n                           http://www.pinterest.com\r\n                           http://www.netflix.com\r\n                           http://www.google.it\r\n                           http://www.google.ru\r\n                           http://www.microsoft.com\r\n                           http://www.google.es\r\n                           http://www.wordpress.com\r\n                           http://www.gmw.cn\r\n                           http://www.tumblr.com\r\n                           http://www.paypal.com\r\n                           http://www.blogspot.com\r\n                           http://www.imgur.com\r\n                           http://www.stackoverflow.com\r\n                           http://www.aliexpress.com\r\n                           http://www.naver.com\r\n                           http://www.ok.ru\r\n                           http://www.apple.com\r\n                           http://www.github.com\r\n                           http://www.chinadaily.com.cn\r\n                           http://www.imdb.com\r\n                           http://www.google.co.kr\r\n                           http://www.fc2.com\r\n                           http://www.jd.com\r\n                           http://www.blogger.com\r\n                           http://www.163.com\r\n                           http://www.google.ca\r\n                           &quot;&quot;&quot;;\r\n\r\n        String[] urls = dbResults.split(&quot;\\n&quot;);\r\n\r\n        List&lt;String&gt; urlsStringList = new ArrayList();\r\n        for (String url : urls) {\r\n            urlsStringList.add(url.strip());\r\n        }\r\n\r\n        return urlsStringList;\r\n    }\r\n}\r\n```\r\n\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KHK1A.gif","title":"I want to loop through a list and want to show a progressBar while looping through that list","body":"<p>Here is an example that shows how to update the <code>ProgressBar</code> for a list of <code>Tasks</code>. My guess is that What I have in the <code>Button</code> is similar to what you should have in <code>for(Invoice invoiceModel : invoiceList)</code>.</p>\n<p><strong>Key Code</strong></p>\n<pre><code>task.setOnSucceeded((event) -&gt; {\n    System.out.println(&quot;finished working on url &quot; + t.toString());                    \n    bar.setProgress(((float)counter.incrementAndGet()) / urlsList.size());\n    System.out.println(&quot;Counter: &quot; + counter    + &quot;\\t list size: &quot; + urlsList.size());\n});\n</code></pre>\n<p><strong>Full Code</strong></p>\n<pre><code>import java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.atomic.AtomicInteger;\nimport javafx.application.Application;\nimport javafx.concurrent.Task;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ProgressBar;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\n/**\n * Creates a FlowPane and adds some rectangles inside. A LayoutAnimator is set\n * to observe the contents of the FlowPane for layout changes.\n */\npublic class App extends Application {\n\n    private final ExecutorService exec = Executors.newSingleThreadExecutor(r -&gt; {\n        Thread t = new Thread(r);\n        t.setDaemon(true);\n        return t;\n    });\n    \n    AtomicInteger counter = new AtomicInteger(0);\n    \n    @Override\n    public void start(Stage primaryStage) {\n        List&lt;URL&gt; urlsList = getURLs();\n\n        ProgressBar bar = new ProgressBar(0);\n        \n        Button btnProcessUrls = new Button(&quot;Process URLs&quot;);\n        btnProcessUrls.setOnAction((onAction) -&gt; {\n            List&lt;Task&gt; taskList = new ArrayList();\n\n            urlsList.forEach((t) -&gt; {\n                Task task = new Task&lt;Void&gt;() {\n                    @Override\n                    public Void call() {\n                        System.out.println(&quot;I starting working on URL &quot; + t.toString());\n                        //Simulate long running task\n                        for (int i = 0; i &lt; 1000000000 ;i++) {\n                            //System.out.print(&quot;working on url &quot; + t.toString() + &quot;\\r&quot;);\n                        }\n                        return null;\n                    }\n                };\n\n                task.setOnSucceeded((event) -&gt; {\n                    System.out.println(&quot;finished working on url &quot; + t.toString());                    \n                    bar.setProgress(((float)counter.incrementAndGet()) / urlsList.size());\n                    System.out.println(&quot;Counter: &quot; + counter    + &quot;\\t list size: &quot; + urlsList.size());\n                });\n                \n                taskList.add(task);\n            });\n            \n            taskList.forEach(exec::submit);\n        });\n\n        VBox root = new VBox(bar, btnProcessUrls);\n        Scene scene = new Scene(root, 300, 250);\n\n        primaryStage.setTitle(&quot;Flow Layout Test&quot;);\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public List&lt;URL&gt; getURLs() {\n        List&lt;URL&gt; urls = new ArrayList();\n        simulateQueringDbForUrlStrings().forEach((t) -&gt; {\n            try {\n                urls.add(new URL(t));\n            } catch (MalformedURLException ex) {\n                System.out.println(ex.toString());\n            }\n        });\n\n        return urls;\n    }\n\n    public List&lt;String&gt; simulateQueringDbForUrlStrings() {\n        String dbResults = &quot;&quot;&quot;\n                           http://www.youtube.com\n                           http://www.facebook.com\n                           http://www.baidu.com\n                           http://www.yahoo.com\n                           http://www.amazon.com\n                           http://www.wikipedia.org\n                           http://www.qq.com\n                           http://www.google.co.in\n                           http://www.twitter.com\n                           http://www.live.com\n                           http://www.taobao.com\n                           http://www.bing.com\n                           http://www.instagram.com\n                           http://www.weibo.com\n                           http://www.sina.com.cn\n                           http://www.linkedin.com\n                           http://www.yahoo.co.jp\n                           http://www.msn.com\n                           http://www.vk.com\n                           http://www.google.de\n                           http://www.yandex.ru\n                           http://www.hao123.com\n                           http://www.google.co.uk\n                           http://www.reddit.com\n                           http://www.ebay.com\n                           http://www.google.fr\n                           http://www.t.co\n                           http://www.tmall.com\n                           http://www.google.com.br\n                           http://www.360.cn\n                           http://www.sohu.com\n                           http://www.amazon.co.jp\n                           http://www.pinterest.com\n                           http://www.netflix.com\n                           http://www.google.it\n                           http://www.google.ru\n                           http://www.microsoft.com\n                           http://www.google.es\n                           http://www.wordpress.com\n                           http://www.gmw.cn\n                           http://www.tumblr.com\n                           http://www.paypal.com\n                           http://www.blogspot.com\n                           http://www.imgur.com\n                           http://www.stackoverflow.com\n                           http://www.aliexpress.com\n                           http://www.naver.com\n                           http://www.ok.ru\n                           http://www.apple.com\n                           http://www.github.com\n                           http://www.chinadaily.com.cn\n                           http://www.imdb.com\n                           http://www.google.co.kr\n                           http://www.fc2.com\n                           http://www.jd.com\n                           http://www.blogger.com\n                           http://www.163.com\n                           http://www.google.ca\n                           http://www.whatsapp.com\n                           http://www.amazon.in\n                           http://www.office.com\n                           http://www.tianya.cn\n                           http://www.google.co.id\n                           http://www.youku.com\n                           http://www.rakuten.co.jp\n                           http://www.craigslist.org\n                           http://www.amazon.de\n                           http://www.nicovideo.jp\n                           http://www.google.pl\n                           http://www.soso.com\n                           http://www.bilibili.com\n                           http://www.dropbox.com\n                           http://www.xinhuanet.com\n                           http://www.outbrain.com\n                           http://www.pixnet.net\n                           http://www.alibaba.com\n                           http://www.alipay.com\n                           http://www.microsoftonline.com\n                           http://www.booking.com\n                           http://www.googleusercontent.com\n                           http://www.google.com.au\n                           http://www.popads.net\n                           http://www.cntv.cn\n                           http://www.zhihu.com\n                           http://www.amazon.co.uk\n                           http://www.diply.com\n                           http://www.coccoc.com\n                           http://www.cnn.com\n                           http://www.bbc.co.uk\n                           http://www.twitch.tv\n                           http://www.wikia.com\n                           http://www.google.co.th\n                           http://www.go.com\n                           http://www.google.com.ph\n                           http://www.doubleclick.net\n                           http://www.onet.pl\n                           http://www.googleadservices.com\n                           http://www.accuweather.com\n                           http://www.googleweblight.com\n                           http://www.answers.yahoo.com\n                           http://www.youtube.com\n                           http://www.facebook.com\n                           http://www.baidu.com\n                           http://www.yahoo.com\n                           http://www.amazon.com\n                           http://www.wikipedia.org\n                           http://www.qq.com\n                           http://www.google.co.in\n                           http://www.twitter.com\n                           http://www.live.com\n                           http://www.taobao.com\n                           http://www.bing.com\n                           http://www.instagram.com\n                           http://www.weibo.com\n                           http://www.sina.com.cn\n                           http://www.linkedin.com\n                           http://www.yahoo.co.jp\n                           http://www.msn.com\n                           http://www.vk.com\n                           http://www.google.de\n                           http://www.yandex.ru\n                           http://www.hao123.com\n                           http://www.google.co.uk\n                           http://www.reddit.com\n                           http://www.ebay.com\n                           http://www.google.fr\n                           http://www.t.co\n                           http://www.tmall.com\n                           http://www.google.com.br\n                           http://www.360.cn\n                           http://www.sohu.com\n                           http://www.amazon.co.jp\n                           http://www.pinterest.com\n                           http://www.netflix.com\n                           http://www.google.it\n                           http://www.google.ru\n                           http://www.microsoft.com\n                           http://www.google.es\n                           http://www.wordpress.com\n                           http://www.gmw.cn\n                           http://www.tumblr.com\n                           http://www.paypal.com\n                           http://www.blogspot.com\n                           http://www.imgur.com\n                           http://www.stackoverflow.com\n                           http://www.aliexpress.com\n                           http://www.naver.com\n                           http://www.ok.ru\n                           http://www.apple.com\n                           http://www.github.com\n                           http://www.chinadaily.com.cn\n                           http://www.imdb.com\n                           http://www.google.co.kr\n                           http://www.fc2.com\n                           http://www.jd.com\n                           http://www.blogger.com\n                           http://www.163.com\n                           http://www.google.ca\n                           &quot;&quot;&quot;;\n\n        String[] urls = dbResults.split(&quot;\\n&quot;);\n\n        List&lt;String&gt; urlsStringList = new ArrayList();\n        for (String url : urls) {\n            urlsStringList.add(url.strip());\n        }\n\n        return urlsStringList;\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KHK1A.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KHK1A.gif\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27181047,"reputation":3,"user_id":20716286,"display_name":"Armaan Malik"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75464576,"answer_count":1,"score":-1,"last_activity_date":1676489197,"creation_date":1676447658,"question_id":75456866,"body_markdown":"i have two different classes into two different files\r\nOne class is for ProgressBar\r\n```\r\npublic class ProgressBarController implements Initializable {\r\n\r\n    @FXML\r\n    public ProgressBar progressBar;\r\n    \r\n    @Override\r\n    public void initialize(URL location, ResourceBundle resources) {\r\n    }\r\n\r\n}\r\n```\r\n\r\nand another class is where i want to loop through the list and want to update the progress on the basis of that list\r\n\r\n```\r\npublic class AnotherClass {\r\n    public Envelope function(List&lt;Invoice&gt; invoiceList) throws IOException {\r\n        for(Invoice invoiceModel : invoiceList) {\r\n            // update the progressBar and do some work\r\n\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI tried to create a new thread\r\n\r\n```\r\nTask&lt;Void&gt; task = new Task&lt;&gt;() {\r\n     @Override\r\n     public Void call() {\r\n        for (int i = 0; i &lt; 100; i++) {\r\n           // do some work\r\n           updateProgress(i + 1, 100);\r\n       \t   try {\r\n\t      Thread.sleep(200);\r\n\t   } catch (InterruptedException e) {\r\n\t      e.printStackTrace();\r\n\t   }\r\n        }\r\n        return null;\r\n     }\r\n};\r\nprogressBar.progressProperty().bind(task.progressProperty());\r\nThread thread = new Thread(task);\r\nthread.start();\r\n```\r\n\r\n\r\nbut this was not working either my progress bar is not updating and if it is then it is updating after complete all other task.\r\n\r\nI want to update the progressBar on the basis of data in for loop.","title":"I want to loop through a list and want to show a progressBar while looping through that list","body":"<p>i have two different classes into two different files\nOne class is for ProgressBar</p>\n<pre><code>public class ProgressBarController implements Initializable {\n\n    @FXML\n    public ProgressBar progressBar;\n    \n    @Override\n    public void initialize(URL location, ResourceBundle resources) {\n    }\n\n}\n</code></pre>\n<p>and another class is where i want to loop through the list and want to update the progress on the basis of that list</p>\n<pre><code>public class AnotherClass {\n    public Envelope function(List&lt;Invoice&gt; invoiceList) throws IOException {\n        for(Invoice invoiceModel : invoiceList) {\n            // update the progressBar and do some work\n\n\n        }\n    }\n}\n</code></pre>\n<p>I tried to create a new thread</p>\n<pre><code>Task&lt;Void&gt; task = new Task&lt;&gt;() {\n     @Override\n     public Void call() {\n        for (int i = 0; i &lt; 100; i++) {\n           // do some work\n           updateProgress(i + 1, 100);\n           try {\n          Thread.sleep(200);\n       } catch (InterruptedException e) {\n          e.printStackTrace();\n       }\n        }\n        return null;\n     }\n};\nprogressBar.progressProperty().bind(task.progressProperty());\nThread thread = new Thread(task);\nthread.start();\n</code></pre>\n<p>but this was not working either my progress bar is not updating and if it is then it is updating after complete all other task.</p>\n<p>I want to update the progressBar on the basis of data in for loop.</p>\n"},{"tags":["java","csv"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676490735,"post_id":75464550,"comment_id":133149588,"body_markdown":"I hate [Yoda conditions](https://en.wikipedia.org/wiki/Yoda_conditions).","body":"I hate <a href=\"https://en.wikipedia.org/wiki/Yoda_conditions\" rel=\"nofollow noreferrer\">Yoda conditions</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676495946,"post_id":75464550,"comment_id":133150939,"body_markdown":"I find it hard to believe that text with hyphens is being read by Java as slash characters. Provide an [MCVE](https://stackoverflow.com/help/mcve).","body":"I find it hard to believe that text with hyphens is being read by Java as slash characters. Provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1676496192,"post_id":75464550,"comment_id":133151009,"body_markdown":"By the way, more readable syntax: `if ( Objects.nonNull( exp ) &amp;&amp; ! exp.isBlank() ) {并`. Better yet would be validating arguments at the top of the method, before any logic.","body":"By the way, more readable syntax: <code>if ( Objects.nonNull( exp ) &amp;&amp; ! exp.isBlank() ) {并</code>. Better yet would be validating arguments at the top of the method, before any logic."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1676496462,"post_id":75464550,"comment_id":133151075,"body_markdown":"Tip: When communicating date-time values textually, use only standard [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) formats.","body":"Tip: When communicating date-time values textually, use only standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> formats."}],"owner":{"account_id":11175433,"reputation":329,"user_id":8201193,"display_name":"spa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676496035,"answer_count":0,"score":0,"last_activity_date":1676488933,"creation_date":1676488933,"question_id":75464550,"body_markdown":"i am trying to read CSV file .In CSV file expiry date column is  &quot;23-Feb-23&quot;  \r\n\r\nbut when it is read using buffered reader or any method it is read as &quot;23/FEB/23&quot; . And when i tried to parse it it&#39;s not at all possible and is giving\r\n\r\n Caused by: java.time.format.DateTimeParseException: Text &#39;23/FEB/23&#39; could not be parsed at index 3\r\n\r\nbelow is code i used:\r\n\r\n        DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yy&quot;);               \r\n                 String exp = record.get(&quot;expiry&quot;);                   \r\n                    LocalDate expiry = null;\r\n                    if (null != exp &amp;&amp; !&quot;&quot;.equals(exp)) {\r\n                        expiry = LocalDate.parse(exp, dateTimeFormatter);\r\n                    }\r\n\r\ni also tried pattern dd/MMM/yy and that also didn&#39;t worked.","title":"Failed to parse date(expiry) data read from CSV file","body":"<p>i am trying to read CSV file .In CSV file expiry date column is  &quot;23-Feb-23&quot;</p>\n<p>but when it is read using buffered reader or any method it is read as &quot;23/FEB/23&quot; . And when i tried to parse it it's not at all possible and is giving</p>\n<p>Caused by: java.time.format.DateTimeParseException: Text '23/FEB/23' could not be parsed at index 3</p>\n<p>below is code i used:</p>\n<pre><code>    DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(&quot;dd-MMM-yy&quot;);               \n             String exp = record.get(&quot;expiry&quot;);                   \n                LocalDate expiry = null;\n                if (null != exp &amp;&amp; !&quot;&quot;.equals(exp)) {\n                    expiry = LocalDate.parse(exp, dateTimeFormatter);\n                }\n</code></pre>\n<p>i also tried pattern dd/MMM/yy and that also didn't worked.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":9021005,"reputation":4164,"user_id":6722100,"accept_rate":67,"display_name":"achAmh&#225;in"},"score":2,"creation_date":1507640177,"post_id":46667343,"comment_id":80283018,"body_markdown":"I&#39;m impressed that the answer and solution were posted at the *exact* same time :)","body":"I&#39;m impressed that the answer and solution were posted at the <i>exact</i> same time :)"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1507640228,"post_id":46667343,"comment_id":80283051,"body_markdown":"@pruntlar Creating a question to directly answer it yourself is encouraged as it helps others with similar problems ([SO: self-answer](https://stackoverflow.com/help/self-answer)).","body":"@pruntlar Creating a question to directly answer it yourself is encouraged as it helps others with similar problems (<a href=\"https://stackoverflow.com/help/self-answer\">SO: self-answer</a>)."},{"owner":{"account_id":9725613,"reputation":53332,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1507640247,"post_id":46667343,"comment_id":80283066,"body_markdown":"@pruntlar you should see that the one who asked and the one who answered are the same person","body":"@pruntlar you should see that the one who asked and the one who answered are the same person"},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":4,"creation_date":1507640327,"post_id":46667343,"comment_id":80283118,"body_markdown":"Yeah I tend to do this if I searched for something, didn&#39;t find the answer, and want to document it somewhere in case I ever need it again. It&#39;s supported by StackOverflow directly, to help share knowledge and foster discussion. The reason I do this is because there are probably better answers out there than mine, and if there are, I&#39;ll switch to using them, but for the time being, this works for my use case. Thanks!","body":"Yeah I tend to do this if I searched for something, didn&#39;t find the answer, and want to document it somewhere in case I ever need it again. It&#39;s supported by StackOverflow directly, to help share knowledge and foster discussion. The reason I do this is because there are probably better answers out there than mine, and if there are, I&#39;ll switch to using them, but for the time being, this works for my use case. Thanks!"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1507640590,"post_id":46667343,"comment_id":80283331,"body_markdown":"I&#39;d improve the question though, I find it a bit short and had you not posted an answer I&#39;d be inclined to ask what you&#39;ve tried and maybe even close it. One thing that would spring to my mind would be to use a regex to replace the host. There obviously are drawbacks/pitfalls with this but you could point out those requirements in the question.","body":"I&#39;d improve the question though, I find it a bit short and had you not posted an answer I&#39;d be inclined to ask what you&#39;ve tried and maybe even close it. One thing that would spring to my mind would be to use a regex to replace the host. There obviously are drawbacks/pitfalls with this but you could point out those requirements in the question."},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1507640841,"post_id":46667343,"comment_id":80283514,"body_markdown":"Good point @Thomas - I just did some improvements, and am open to better solutions provided by others - this is just what I came up with quick, so maybe a regex solution will show up ;-)","body":"Good point @Thomas - I just did some improvements, and am open to better solutions provided by others - this is just what I came up with quick, so maybe a regex solution will show up ;-)"},{"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"score":0,"creation_date":1507641246,"post_id":46667343,"comment_id":80283807,"body_markdown":"@BradParks I don&#39;t think unit tests should be part of the answer","body":"@BradParks I don&#39;t think unit tests should be part of the answer"},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":1,"creation_date":1507738556,"post_id":46667343,"comment_id":80333735,"body_markdown":"@WilliMentzel - thanks, but I think they need to be there, as it helps verify edge cases, and makes it easy for others to test/compare their solutions in the online java repl too.","body":"@WilliMentzel - thanks, but I think they need to be there, as it helps verify edge cases, and makes it easy for others to test/compare their solutions in the online java repl too."},{"owner":{"account_id":593875,"reputation":20381,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1626276449,"post_id":46667343,"comment_id":120851005,"body_markdown":"There are a couple of issues with this solution. +1 for using just what&#39;s available in the standard library, though. I always hate seeing answers that amount to &quot;just use this big 3rd-party library for this one handy function.&quot; Anyhow, this doesn&#39;t work with IPv6 literals. Maybe nobody cares about that, but this won&#39;t work universally without some changes. Also, there are specific checks for HTTP and HTTPS, but the URL class already knows the default ports for those protocols, so you could use `URL.getDefaultPort` and remove those hard-coded checks.","body":"There are a couple of issues with this solution. +1 for using just what&#39;s available in the standard library, though. I always hate seeing answers that amount to &quot;just use this big 3rd-party library for this one handy function.&quot; Anyhow, this doesn&#39;t work with IPv6 literals. Maybe nobody cares about that, but this won&#39;t work universally without some changes. Also, there are specific checks for HTTP and HTTPS, but the URL class already knows the default ports for those protocols, so you could use <code>URL.getDefaultPort</code> and remove those hard-coded checks."}],"tags":[],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":9,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676488683,"creation_date":1507640099,"answer_id":46667343,"question_id":46667342,"body_markdown":"I quickly tried using `java.net.URI`, `javax.ws.rs.core.UriBuilder`, and `org.apache.http.client.utils.URIBuilder`, and none of them seemed to get the idea of a host header possibly including a port, so they all needed some extra logic from what I could see to make it happen correctly, without the port being &quot;doubled up&quot; at times, and not replaced correctly at other times.\r\n\r\nSince `java.net.URL` doesnt require any extra libs, I used it. I do know that if I was using `URL.equals` somewhere, that could be a problem as it does DNS lookups possibly, but I&#39;m not so I think it&#39;s good, as this covers my use cases, as displayed by the pseudo unit test. \r\n\r\nI put together this way of doing it, which you can [test it out online here at repl.it](https://replit.com/@BradParks2/WoefulTurquoiseVelvetcrab#Main.java) !\r\n\r\n\r\n    import java.net.URL;\r\n    import java.net.MalformedURLException;\r\n    \r\n    class Main \r\n    {\r\n      public static void main(String[] args) \r\n      {\r\n        testReplaceHostInUrl();\r\n      }\r\n\r\n      public static void testReplaceHostInUrl()\r\n      {\r\n        assertEquals(&quot;http://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \r\n        assertEquals(&quot;http://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost:19000/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \r\n        assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost:19000/me/out?it=5&quot;,&quot;super&quot;)); \r\n        assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com/me/out?it=5&quot;,&quot;super&quot;)); \r\n        assertEquals(&quot;https://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;https://localhost/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \r\n        assertEquals(&quot;https://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;https://localhost:19000/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \r\n        assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com/me/out?it=5&quot;,&quot;super&quot;)); \r\n        assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super&quot;)); \r\n        assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super:443&quot;)); \r\n        assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:4300/me/out?it=5&quot;,&quot;super:80&quot;)); \r\n        assertEquals(&quot;http://super:8080/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:80/me/out?it=5&quot;,&quot;super:8080&quot;)); \r\n        assertEquals(&quot;http://super/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;http://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:80&quot;)); \r\n        assertEquals(&quot;https://super:80/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;https://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:80&quot;)); \r\n        assertEquals(&quot;https://super/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;https://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \r\n        assertEquals(&quot;http://super:443/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;http://www.test.com:443/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \r\n        assertEquals(&quot;http://super:443/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;HTTP://www.test.com:443/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \r\n        assertEquals(&quot;http://SUPERDUPER:443/ME/OUT?IT=5&amp;TEST=5&quot;, replaceHostInUrl(&quot;HTTP://WWW.TEST.COM:443/ME/OUT?IT=5&amp;TEST=5&quot;,&quot;SUPERDUPER:443&quot;)); \r\n        assertEquals(&quot;https://SUPERDUPER:23/ME/OUT?IT=5&amp;TEST=5&quot;, replaceHostInUrl(&quot;HTTPS://WWW.TEST.COM:22/ME/OUT?IT=5&amp;TEST=5&quot;,&quot;SUPERDUPER:23&quot;)); \r\n        assertEquals(null, replaceHostInUrl(null, null));\r\n      }\r\n    \r\n      public static String replaceHostInUrl(String url, String newHost)\r\n      {\r\n        if (url == null || newHost == null)\r\n        {\r\n          return url;\r\n        }\r\n    \r\n        try\r\n        {\r\n          URL originalURL = new URL(url);\r\n    \r\n          boolean hostHasPort = newHost.indexOf(&quot;:&quot;) != -1;\r\n          int newPort = originalURL.getPort();\r\n          if (hostHasPort)\r\n          {\r\n            URL hostURL = new URL(&quot;http://&quot; + newHost);\r\n            newHost = hostURL.getHost();\r\n            newPort = hostURL.getPort();\r\n          }\r\n          else\r\n          {\r\n            newPort = -1;\r\n          }\r\n    \r\n          // Use implicit port if it&#39;s a default port\r\n          boolean isHttps = originalURL.getProtocol().equals(&quot;https&quot;);\r\n          boolean useDefaultPort = (newPort == 443 &amp;&amp; isHttps) || (newPort == 80 &amp;&amp; !isHttps);\r\n          newPort = useDefaultPort ? -1 : newPort;\r\n    \r\n          URL newURL = new URL(originalURL.getProtocol(), newHost, newPort, originalURL.getFile());\r\n          String result = newURL.toString();\r\n    \r\n          return result;\r\n        }\r\n        catch (MalformedURLException e)\r\n        {\r\n          throw new RuntimeException(&quot;Couldnt replace host in url, originalUrl=&quot; + url + &quot;, newHost=&quot; + newHost);\r\n        }\r\n      }\r\n    \r\n      public static void assertEquals(String expected, String actual)\r\n      {\r\n        if (expected == null &amp;&amp; actual == null)\r\n        {\r\n          System.out.println(&quot;TEST PASSED, expected:&quot; + expected + &quot;, actual:&quot; + actual);\r\n          return;\r\n        }\r\n          \r\n        if (! expected.equals(actual))\r\n          throw new RuntimeException(&quot;Not equal! expected:&quot; + expected + &quot;, actual:&quot; + actual);\r\n          \r\n        System.out.println(&quot;TEST PASSED, expected:&quot; + expected + &quot;, actual:&quot; + actual);\r\n      }\r\n    }\r\n\r\n","title":"Java - Replace host in url?","body":"<p>I quickly tried using <code>java.net.URI</code>, <code>javax.ws.rs.core.UriBuilder</code>, and <code>org.apache.http.client.utils.URIBuilder</code>, and none of them seemed to get the idea of a host header possibly including a port, so they all needed some extra logic from what I could see to make it happen correctly, without the port being &quot;doubled up&quot; at times, and not replaced correctly at other times.</p>\n<p>Since <code>java.net.URL</code> doesnt require any extra libs, I used it. I do know that if I was using <code>URL.equals</code> somewhere, that could be a problem as it does DNS lookups possibly, but I'm not so I think it's good, as this covers my use cases, as displayed by the pseudo unit test.</p>\n<p>I put together this way of doing it, which you can <a href=\"https://replit.com/@BradParks2/WoefulTurquoiseVelvetcrab#Main.java\" rel=\"nofollow noreferrer\">test it out online here at repl.it</a> !</p>\n<pre><code>import java.net.URL;\nimport java.net.MalformedURLException;\n\nclass Main \n{\n  public static void main(String[] args) \n  {\n    testReplaceHostInUrl();\n  }\n\n  public static void testReplaceHostInUrl()\n  {\n    assertEquals(&quot;http://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \n    assertEquals(&quot;http://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost:19000/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \n    assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://localhost:19000/me/out?it=5&quot;,&quot;super&quot;)); \n    assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com/me/out?it=5&quot;,&quot;super&quot;)); \n    assertEquals(&quot;https://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;https://localhost/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \n    assertEquals(&quot;https://myserver:20000/me/out?it=5&quot;, replaceHostInUrl(&quot;https://localhost:19000/me/out?it=5&quot;,&quot;myserver:20000&quot;)); \n    assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com/me/out?it=5&quot;,&quot;super&quot;)); \n    assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super&quot;)); \n    assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super:443&quot;)); \n    assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:4300/me/out?it=5&quot;,&quot;super:80&quot;)); \n    assertEquals(&quot;http://super:8080/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:80/me/out?it=5&quot;,&quot;super:8080&quot;)); \n    assertEquals(&quot;http://super/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;http://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:80&quot;)); \n    assertEquals(&quot;https://super:80/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;https://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:80&quot;)); \n    assertEquals(&quot;https://super/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;https://www.test.com:80/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \n    assertEquals(&quot;http://super:443/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;http://www.test.com:443/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \n    assertEquals(&quot;http://super:443/me/out?it=5&amp;test=5&quot;, replaceHostInUrl(&quot;HTTP://www.test.com:443/me/out?it=5&amp;test=5&quot;,&quot;super:443&quot;)); \n    assertEquals(&quot;http://SUPERDUPER:443/ME/OUT?IT=5&amp;TEST=5&quot;, replaceHostInUrl(&quot;HTTP://WWW.TEST.COM:443/ME/OUT?IT=5&amp;TEST=5&quot;,&quot;SUPERDUPER:443&quot;)); \n    assertEquals(&quot;https://SUPERDUPER:23/ME/OUT?IT=5&amp;TEST=5&quot;, replaceHostInUrl(&quot;HTTPS://WWW.TEST.COM:22/ME/OUT?IT=5&amp;TEST=5&quot;,&quot;SUPERDUPER:23&quot;)); \n    assertEquals(null, replaceHostInUrl(null, null));\n  }\n\n  public static String replaceHostInUrl(String url, String newHost)\n  {\n    if (url == null || newHost == null)\n    {\n      return url;\n    }\n\n    try\n    {\n      URL originalURL = new URL(url);\n\n      boolean hostHasPort = newHost.indexOf(&quot;:&quot;) != -1;\n      int newPort = originalURL.getPort();\n      if (hostHasPort)\n      {\n        URL hostURL = new URL(&quot;http://&quot; + newHost);\n        newHost = hostURL.getHost();\n        newPort = hostURL.getPort();\n      }\n      else\n      {\n        newPort = -1;\n      }\n\n      // Use implicit port if it's a default port\n      boolean isHttps = originalURL.getProtocol().equals(&quot;https&quot;);\n      boolean useDefaultPort = (newPort == 443 &amp;&amp; isHttps) || (newPort == 80 &amp;&amp; !isHttps);\n      newPort = useDefaultPort ? -1 : newPort;\n\n      URL newURL = new URL(originalURL.getProtocol(), newHost, newPort, originalURL.getFile());\n      String result = newURL.toString();\n\n      return result;\n    }\n    catch (MalformedURLException e)\n    {\n      throw new RuntimeException(&quot;Couldnt replace host in url, originalUrl=&quot; + url + &quot;, newHost=&quot; + newHost);\n    }\n  }\n\n  public static void assertEquals(String expected, String actual)\n  {\n    if (expected == null &amp;&amp; actual == null)\n    {\n      System.out.println(&quot;TEST PASSED, expected:&quot; + expected + &quot;, actual:&quot; + actual);\n      return;\n    }\n      \n    if (! expected.equals(actual))\n      throw new RuntimeException(&quot;Not equal! expected:&quot; + expected + &quot;, actual:&quot; + actual);\n      \n    System.out.println(&quot;TEST PASSED, expected:&quot; + expected + &quot;, actual:&quot; + actual);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":282040,"reputation":1920,"user_id":578700,"accept_rate":83,"display_name":"Marc"},"comment_count":0,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1507641456,"creation_date":1507641456,"answer_id":46667783,"question_id":46667342,"body_markdown":"The Spring Framework provides the `UriComponentsBuilder`. You can use it like this:\r\n\r\n    import org.springframework.web.util.UriComponentsBuilder;\r\n    \r\n    String initialUri = &quot;http://localhost/me/out?it=5&quot;;\r\n    UriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(initialUri);\r\n    String modifiedUri = builder.host(&quot;myserver&quot;).port(&quot;20000&quot;).toUriString();\r\n    System.out.println(modifiedUri);\r\n    // ==&gt; http://myserver:20000/me/out?it=5\r\n\r\nHere you need to provide hostname and port in separate calls to get right encoding.\r\n    ","title":"Java - Replace host in url?","body":"<p>The Spring Framework provides the <code>UriComponentsBuilder</code>. You can use it like this:</p>\n\n<pre><code>import org.springframework.web.util.UriComponentsBuilder;\n\nString initialUri = \"http://localhost/me/out?it=5\";\nUriComponentsBuilder builder = UriComponentsBuilder.fromHttpUrl(initialUri);\nString modifiedUri = builder.host(\"myserver\").port(\"20000\").toUriString();\nSystem.out.println(modifiedUri);\n// ==&gt; http://myserver:20000/me/out?it=5\n</code></pre>\n\n<p>Here you need to provide hostname and port in separate calls to get right encoding.</p>\n"},{"comments":[{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1507643918,"post_id":46668404,"comment_id":80285747,"body_markdown":"Nice! And [here&#39;s a repl for it](https://repl.it/MXr6/1) that shows it works just as good as [my answer](https://stackoverflow.com/a/46667343/26510)","body":"Nice! And <a href=\"https://repl.it/MXr6/1\" rel=\"nofollow noreferrer\">here&#39;s a repl for it</a> that shows it works just as good as <a href=\"https://stackoverflow.com/a/46667343/26510\">my answer</a>"}],"tags":[],"owner":{"account_id":5541413,"reputation":6397,"user_id":4397788,"display_name":"Luciano van der Veekens"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1507643543,"creation_date":1507643147,"answer_id":46668404,"question_id":46667342,"body_markdown":"Or using some regex magic:\r\n\r\n    public static String replaceHostInUrl(String url, String newHost) {\r\n        if (url == null || newHost == null) {\r\n            return null;\r\n        }\r\n        String s = url.replaceFirst(&quot;(?i)(?&lt;=(https?)://)(www.)?\\\\w*(.com)?(:\\\\d*)?&quot;, newHost);\r\n        if (s.contains(&quot;http://&quot;)) {\r\n            s = s.replaceFirst(&quot;:80(?=/)&quot;, &quot;&quot;);\r\n        } else if (s.contains(&quot;https://&quot;)) {\r\n            s = s.replaceFirst(&quot;:443(?=/)&quot;, &quot;&quot;);\r\n        }\r\n        Matcher m = Pattern.compile(&quot;HTTPS?&quot;).matcher(s);\r\n        if (m.find()) {\r\n            s = s.replaceFirst(m.group(), m.group().toLowerCase());\r\n        }\r\n        return s;\r\n    }","title":"Java - Replace host in url?","body":"<p>Or using some regex magic:</p>\n\n<pre><code>public static String replaceHostInUrl(String url, String newHost) {\n    if (url == null || newHost == null) {\n        return null;\n    }\n    String s = url.replaceFirst(\"(?i)(?&lt;=(https?)://)(www.)?\\\\w*(.com)?(:\\\\d*)?\", newHost);\n    if (s.contains(\"http://\")) {\n        s = s.replaceFirst(\":80(?=/)\", \"\");\n    } else if (s.contains(\"https://\")) {\n        s = s.replaceFirst(\":443(?=/)\", \"\");\n    }\n    Matcher m = Pattern.compile(\"HTTPS?\").matcher(s);\n    if (m.find()) {\n        s = s.replaceFirst(m.group(), m.group().toLowerCase());\n    }\n    return s;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1507647783,"post_id":46669187,"comment_id":80288509,"body_markdown":"Hmmm... interesting.... I&#39;ll have to review this... thanks! and here&#39;s a [repl of your solution](https://repl.it/MXr6/2) as well, with the tests adjusted as you suggested.","body":"Hmmm... interesting.... I&#39;ll have to review this... thanks! and here&#39;s a <a href=\"https://repl.it/MXr6/2\" rel=\"nofollow noreferrer\">repl of your solution</a> as well, with the tests adjusted as you suggested."},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1507726405,"post_id":46669187,"comment_id":80324943,"body_markdown":"Hey! I tried this out by running a local java webserver, and then posting to it using `curl -H &#39;Host:superduper.com:80&#39; &#39;http://localhost:8000/testurl&#39;` and having that endpoint simply return the url from `request.getRequestURL().toString()`, where request is a `HttpServletRequest`. It returned `http://superduper.com/testurl`, so it removed the default port for http. So for my use case, I want my host replacement to match what a java servlet would respond with, which doesn&#39;t seem to match with this approach. Does that sound right to you?","body":"Hey! I tried this out by running a local java webserver, and then posting to it using <code>curl -H &#39;Host:superduper.com:80&#39; &#39;http:&#47;&#47;localhost:8000&#47;testurl&#39;</code> and having that endpoint simply return the url from <code>request.getRequestURL().toString()</code>, where request is a <code>HttpServletRequest</code>. It returned <code>http:&#47;&#47;superduper.com&#47;testurl</code>, so it removed the default port for http. So for my use case, I want my host replacement to match what a java servlet would respond with, which doesn&#39;t seem to match with this approach. Does that sound right to you?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1507728312,"post_id":46669187,"comment_id":80326484,"body_markdown":"Updated answer with code that strips default port numbers.","body":"Updated answer with code that strips default port numbers."},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":1,"creation_date":1507729310,"post_id":46669187,"comment_id":80327262,"body_markdown":"Thanks... Here&#39;s an [updated repl](https://repl.it/MXr6/3) showing that this works with the original test cases too!","body":"Thanks... Here&#39;s an <a href=\"https://repl.it/MXr6/3\" rel=\"nofollow noreferrer\">updated repl</a> showing that this works with the original test cases too!"},{"owner":{"account_id":338193,"reputation":661,"user_id":666918,"accept_rate":73,"display_name":"machinarium"},"score":1,"creation_date":1548057573,"post_id":46669187,"comment_id":95392197,"body_markdown":"The encoding information would lost if uri.getQuery() contains escaped characters","body":"The encoding information would lost if uri.getQuery() contains escaped characters"},{"owner":{"account_id":177685,"reputation":397,"user_id":409170,"display_name":"Steve Onorato"},"score":1,"creation_date":1554454920,"post_id":46669187,"comment_id":97766843,"body_markdown":"@machinarium That&#39;s true, but it might be okay for most uses.  As far as I can tell, it only seems to change the characters that didn&#39;t really need to be encoded.  %20 survives the round-trip.  But %33 will be changed into a 3.","body":"@machinarium That&#39;s true, but it might be okay for most uses.  As far as I can tell, it only seems to change the characters that didn&#39;t really need to be encoded.  %20 survives the round-trip.  But %33 will be changed into a 3."}],"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"comment_count":6,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1507728287,"creation_date":1507645379,"answer_id":46669187,"question_id":46667342,"body_markdown":"You were right to use java.net.URI.  The host and port (and user/password, if they exist) are collectively known as the *authority* component of the URI:\r\n\r\n    public static String replaceHostInUrl(String originalURL,\r\n                                          String newAuthority)\r\n    throws URISyntaxException {\r\n\r\n        URI uri = new URI(originalURL);\r\n        uri = new URI(uri.getScheme().toLowerCase(Locale.US), newAuthority,\r\n            uri.getPath(), uri.getQuery(), uri.getFragment());\r\n\r\n        return uri.toString();\r\n    }\r\n\r\n(A URIs scheme is [required to be lowercase](https://www.rfc-editor.org/rfc/rfc2396#section-3.1), so while the above code can be said not to perfectly preserve all of the original URLs non-authority parts, an uppercase scheme was never actually legal in the first place.  And, of course, it wont affect the functionality of the URL connections.)\r\n\r\nNote that some of your tests are in error.  For instance:\r\n\r\n    assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super:443&quot;)); \r\n    assertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:4300/me/out?it=5&quot;,&quot;super:80&quot;)); \r\n\r\nAlthough `https://super/me/out?it=5` is functionally identical to `https://super:443/me/out?it=5` (since the default port for https is 443), if you specify an explicit port in a URI, then the URI has a port specified in its authority and thats how it should stay.\r\n\r\n**Update:**\r\n\r\nIf you want an explicit but unnecessary port number to be stripped, you can use URL.getDefaultPort() to check for it:\r\n\r\n    public static String replaceHostInUrl(String originalURL,\r\n                                          String newAuthority)\r\n    throws URISyntaxException,\r\n           MalformedURLException {\r\n\r\n        URI uri = new URI(originalURL);\r\n        uri = new URI(uri.getScheme().toLowerCase(Locale.US), newAuthority,\r\n            uri.getPath(), uri.getQuery(), uri.getFragment());\r\n\r\n        int port = uri.getPort();\r\n        if (port &gt; 0 &amp;&amp; port == uri.toURL().getDefaultPort()) {\r\n            uri = new URI(uri.getScheme(), uri.getUserInfo(),\r\n                uri.getHost(), -1, uri.getPath(),\r\n                uri.getQuery(), uri.getFragment());\r\n        }\r\n\r\n        return uri.toString();\r\n    }\r\n","title":"Java - Replace host in url?","body":"<p>You were right to use java.net.URI.  The host and port (and user/password, if they exist) are collectively known as the <em>authority</em> component of the URI:</p>\n<pre><code>public static String replaceHostInUrl(String originalURL,\n                                      String newAuthority)\nthrows URISyntaxException {\n\n    URI uri = new URI(originalURL);\n    uri = new URI(uri.getScheme().toLowerCase(Locale.US), newAuthority,\n        uri.getPath(), uri.getQuery(), uri.getFragment());\n\n    return uri.toString();\n}\n</code></pre>\n<p>(A URIs scheme is <a href=\"https://www.rfc-editor.org/rfc/rfc2396#section-3.1\" rel=\"noreferrer\">required to be lowercase</a>, so while the above code can be said not to perfectly preserve all of the original URLs non-authority parts, an uppercase scheme was never actually legal in the first place.  And, of course, it wont affect the functionality of the URL connections.)</p>\n<p>Note that some of your tests are in error.  For instance:</p>\n<pre><code>assertEquals(&quot;https://super/me/out?it=5&quot;, replaceHostInUrl(&quot;https://www.test.com:4300/me/out?it=5&quot;,&quot;super:443&quot;)); \nassertEquals(&quot;http://super/me/out?it=5&quot;, replaceHostInUrl(&quot;http://www.test.com:4300/me/out?it=5&quot;,&quot;super:80&quot;)); \n</code></pre>\n<p>Although <code>https://super/me/out?it=5</code> is functionally identical to <code>https://super:443/me/out?it=5</code> (since the default port for https is 443), if you specify an explicit port in a URI, then the URI has a port specified in its authority and thats how it should stay.</p>\n<p><strong>Update:</strong></p>\n<p>If you want an explicit but unnecessary port number to be stripped, you can use URL.getDefaultPort() to check for it:</p>\n<pre><code>public static String replaceHostInUrl(String originalURL,\n                                      String newAuthority)\nthrows URISyntaxException,\n       MalformedURLException {\n\n    URI uri = new URI(originalURL);\n    uri = new URI(uri.getScheme().toLowerCase(Locale.US), newAuthority,\n        uri.getPath(), uri.getQuery(), uri.getFragment());\n\n    int port = uri.getPort();\n    if (port &gt; 0 &amp;&amp; port == uri.toURL().getDefaultPort()) {\n        uri = new URI(uri.getScheme(), uri.getUserInfo(),\n            uri.getHost(), -1, uri.getPath(),\n            uri.getQuery(), uri.getFragment());\n    }\n\n    return uri.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"score":5,"creation_date":1571986082,"post_id":57898611,"comment_id":103426738,"body_markdown":"When you rely on external dependencies to do something, it&#39;s appropriate to mention which one. I guess you&#39;re using `httpcomponents:httpclient`&#39;s `URIBuilder`?!","body":"When you rely on external dependencies to do something, it&#39;s appropriate to mention which one. I guess you&#39;re using <code>httpcomponents:httpclient</code>&#39;s <code>URIBuilder</code>?!"}],"tags":[],"owner":{"account_id":317167,"reputation":221,"user_id":633696,"display_name":"Saad Nawaz"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1568251617,"creation_date":1568251617,"answer_id":57898611,"question_id":46667342,"body_markdown":"I realize this is a pretty old question; but posting a simpler solution in case someone else needs it. \r\n\r\n    String newUrl = new URIBuilder(URI.create(originalURL)).setHost(newHost).build().toString();","title":"Java - Replace host in url?","body":"<p>I realize this is a pretty old question; but posting a simpler solution in case someone else needs it. </p>\n\n<pre><code>String newUrl = new URIBuilder(URI.create(originalURL)).setHost(newHost).build().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":990530,"reputation":13072,"user_id":1007991,"accept_rate":82,"display_name":"Renato"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1571985876,"creation_date":1571985876,"answer_id":58553490,"question_id":46667342,"body_markdown":"I&#39;ve added a method to do this in the [RawHTTP](https://github.com/renatoathaydes/rawhttp) library, so you can simply do this:\r\n\r\n    URI uri = RawHttp.replaceHost(oldUri, &quot;new-host&quot;);\r\n\r\nAdded in this commit: https://github.com/renatoathaydes/rawhttp/commit/cbe439f2511f7afcb89b5a0338ed9348517b9163#diff-ff0fec3bc023897ae857b07cc3522366\r\n\r\nFeeback welcome, will release it soon.","title":"Java - Replace host in url?","body":"<p>I've added a method to do this in the <a href=\"https://github.com/renatoathaydes/rawhttp\" rel=\"nofollow noreferrer\">RawHTTP</a> library, so you can simply do this:</p>\n\n<pre><code>URI uri = RawHttp.replaceHost(oldUri, \"new-host\");\n</code></pre>\n\n<p>Added in this commit: <a href=\"https://github.com/renatoathaydes/rawhttp/commit/cbe439f2511f7afcb89b5a0338ed9348517b9163#diff-ff0fec3bc023897ae857b07cc3522366\" rel=\"nofollow noreferrer\">https://github.com/renatoathaydes/rawhttp/commit/cbe439f2511f7afcb89b5a0338ed9348517b9163#diff-ff0fec3bc023897ae857b07cc3522366</a></p>\n\n<p>Feeback welcome, will release it soon.</p>\n"}],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22803,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":46667783,"answer_count":6,"score":20,"last_activity_date":1676488683,"creation_date":1507640099,"question_id":46667342,"body_markdown":"In java, I&#39;d like to replace the `Host` part of an url with a new `Host`, where both the host and url are supplied as a string. \r\n\r\nThis should take into account the fact that the host could have a port in it, as [defined in the RFC](https://stackoverflow.com/q/3364144/26510)\r\n\r\n### So for example, given the following inputs\r\n\r\n- url:  http://localhost/me/out?it=5\r\n- host: myserver:20000\r\n\r\n### I should get the following output from a function that did this correctly\r\n- http://myserver:20000/me/out?it=5\r\n\r\nDoes anyone know of any libraries or routines that do `Host` replacement in an url correctly?\r\n\r\nEDIT: For my use case, I want my host replacement to match what a java servlet would respond with. I tried this out by running a local java web server, and then tested it using `curl -H &#39;Host:superduper.com:80&#39; &#39;http://localhost:8000/testurl&#39;` and having that endpoint simply return the url from `request.getRequestURL().toString()`, where request is a `HttpServletRequest`. It returned `http://superduper.com/testurl`, so it removed the default port for http, so that&#39;s what I&#39;m striving for as well.","title":"Java - Replace host in url?","body":"<p>In java, I'd like to replace the <code>Host</code> part of an url with a new <code>Host</code>, where both the host and url are supplied as a string. </p>\n\n<p>This should take into account the fact that the host could have a port in it, as <a href=\"https://stackoverflow.com/q/3364144/26510\">defined in the RFC</a></p>\n\n<h3>So for example, given the following inputs</h3>\n\n<ul>\n<li>url:  <a href=\"http://localhost/me/out?it=5\" rel=\"noreferrer\">http://localhost/me/out?it=5</a></li>\n<li>host: myserver:20000</li>\n</ul>\n\n<h3>I should get the following output from a function that did this correctly</h3>\n\n<ul>\n<li><a href=\"http://myserver:20000/me/out?it=5\" rel=\"noreferrer\">http://myserver:20000/me/out?it=5</a></li>\n</ul>\n\n<p>Does anyone know of any libraries or routines that do <code>Host</code> replacement in an url correctly?</p>\n\n<p>EDIT: For my use case, I want my host replacement to match what a java servlet would respond with. I tried this out by running a local java web server, and then tested it using <code>curl -H 'Host:superduper.com:80' 'http://localhost:8000/testurl'</code> and having that endpoint simply return the url from <code>request.getRequestURL().toString()</code>, where request is a <code>HttpServletRequest</code>. It returned <code>http://superduper.com/testurl</code>, so it removed the default port for http, so that's what I'm striving for as well.</p>\n"},{"tags":["java","spring","rest","crud","mapstruct"],"comments":[{"owner":{"account_id":1150899,"reputation":1984,"user_id":1132644,"display_name":"Jeroen Peeters"},"score":0,"creation_date":1582553859,"post_id":60377689,"comment_id":106806787,"body_markdown":"You&#39;re only declaring an interface of type MapperDTO. You are missing an implementing class for this interface.","body":"You&#39;re only declaring an interface of type MapperDTO. You are missing an implementing class for this interface."},{"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"score":0,"creation_date":1582554072,"post_id":60377689,"comment_id":106806912,"body_markdown":"does the call to Mappers.getMapper (DeviceTokensMapper.class) not generate an implementation?\nhow can i solve it?","body":"does the call to Mappers.getMapper (DeviceTokensMapper.class) not generate an implementation? how can i solve it?"},{"owner":{"account_id":1150899,"reputation":1984,"user_id":1132644,"display_name":"Jeroen Peeters"},"score":0,"creation_date":1582554209,"post_id":60377689,"comment_id":106806988,"body_markdown":"Apparently it should. Read this; https://www.baeldung.com/mapstruct","body":"Apparently it should. Read this; <a href=\"https://www.baeldung.com/mapstruct\" rel=\"nofollow noreferrer\">baeldung.com/mapstruct</a>"},{"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"score":0,"creation_date":1582554649,"post_id":60377689,"comment_id":106807226,"body_markdown":"I&#39;m trying to avoid mapping for every field of an object ...  how can i solve it?","body":"I&#39;m trying to avoid mapping for every field of an object ...  how can i solve it?"},{"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"score":0,"creation_date":1582554746,"post_id":60377689,"comment_id":106807277,"body_markdown":"if I had a class that implemented the mapping between two objects for each field of the object it would not make sense to use mapstruct","body":"if I had a class that implemented the mapping between two objects for each field of the object it would not make sense to use mapstruct"},{"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"score":0,"creation_date":1582634387,"post_id":60377689,"comment_id":106838056,"body_markdown":"I solved it by adding @Mapper (implementationName = &quot;&lt;CLASS_NAME&gt; V1Impl&quot;) to the MapperDTO INTERFACE","body":"I solved it by adding @Mapper (implementationName = &quot;&lt;CLASS_NAME&gt; V1Impl&quot;) to the MapperDTO INTERFACE"},{"owner":{"account_id":1150899,"reputation":1984,"user_id":1132644,"display_name":"Jeroen Peeters"},"score":0,"creation_date":1582796906,"post_id":60377689,"comment_id":106903512,"body_markdown":"add your solution as an answer to your own question. Then it&#39;s immediately clear to others with a similar issue what the solution was.","body":"add your solution as an answer to your own question. Then it&#39;s immediately clear to others with a similar issue what the solution was."},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1583266416,"post_id":60377689,"comment_id":107056376,"body_markdown":"MapStruct is a code generator. During compilation it generates an implementation for the interface you specified. Defining an Implementation name should not be required.","body":"MapStruct is a code generator. During compilation it generates an implementation for the interface you specified. Defining an Implementation name should not be required."},{"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"score":0,"creation_date":1583266511,"post_id":60377689,"comment_id":107056413,"body_markdown":"You can either use `Mappers.getMapper` (plain component model) or `@Autowired` (sprint component model) and inject your generated implementation.","body":"You can either use <code>Mappers.getMapper</code> (plain component model) or <code>@Autowired</code> (sprint component model) and inject your generated implementation."},{"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"score":0,"creation_date":1584294587,"post_id":60377689,"comment_id":107386483,"body_markdown":"hi, i thought i had solved my problem but i was wrong .. i still have the same error","body":"hi, i thought i had solved my problem but i was wrong .. i still have the same error"}],"answers":[{"tags":[],"owner":{"account_id":1402854,"reputation":3712,"user_id":1331297,"accept_rate":82,"display_name":"Sjaak"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583266776,"creation_date":1583266776,"answer_id":60514905,"question_id":60377689,"body_markdown":"MapStruct is a code generator. For some reason your code is not generated. Check the maven build log to see what happens there.\r\n\r\nAlso, you could remove:\r\n\r\n```xml\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n```\r\nfrom your `pom.xml`\r\n","title":"java.lang.ClassNotFoundException: Cannot find implementation for com.howtodoinjava.demo.mapper.MapperDTO","body":"<p>MapStruct is a code generator. For some reason your code is not generated. Check the maven build log to see what happens there.</p>\n\n<p>Also, you could remove:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n\n</code></pre>\n\n<p>from your <code>pom.xml</code></p>\n"},{"tags":[],"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676488398,"creation_date":1676488398,"answer_id":75464471,"question_id":60377689,"body_markdown":"I stumbled upon the same problem, I was using latest spring boot - Java 17, Gradle 7.8, lombok 1.18.26 and mapstruct 1.5.3.Final in eclipse\r\n\r\nBelow is what I tried and worked for me\r\n\r\n 1. Set up annotation processor path in eclipse - gradle.\r\n\r\nRight click project, Run As -&gt; Run Configuration -&gt; Gradle -&gt; Add below task\r\n```\r\neclipseJdtApt \r\neclipseFactorypath \r\neclipseJdt\r\n```\r\n 2. Refresh gradle project\r\n 3. Enable annotation processing as below \r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zVEy4.png\r\n 4. For gradle, add below dependencies\r\n```\r\nimplementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok:${lombokVersion}&quot;\r\n   \r\nannotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;, &quot;org.projectlombok:lombok-mapstruct-binding:${lombokMapstructBindingVersion}&quot;, &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\r\n   \r\n```\r\n 5. Refresh gradle project. \r\n 6. Make sure lombok dependency is first and then mapstruct in your **Java Compiler -&gt; AnnotationProcessing -&gt; FactoryPath**\r\n\r\nHope it helps! :)","title":"java.lang.ClassNotFoundException: Cannot find implementation for com.howtodoinjava.demo.mapper.MapperDTO","body":"<p>I stumbled upon the same problem, I was using latest spring boot - Java 17, Gradle 7.8, lombok 1.18.26 and mapstruct 1.5.3.Final in eclipse</p>\n<p>Below is what I tried and worked for me</p>\n<ol>\n<li>Set up annotation processor path in eclipse - gradle.</li>\n</ol>\n<p>Right click project, Run As -&gt; Run Configuration -&gt; Gradle -&gt; Add below task</p>\n<pre><code>eclipseJdtApt \neclipseFactorypath \neclipseJdt\n</code></pre>\n<ol start=\"2\">\n<li>Refresh gradle project</li>\n<li>Enable annotation processing as below\n<a href=\"https://i.stack.imgur.com/zVEy4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zVEy4.png\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>4. For gradle, add below dependencies</p>\n<pre><code>implementation &quot;org.mapstruct:mapstruct:${mapstructVersion}&quot;, &quot;org.projectlombok:lombok:${lombokVersion}&quot;\n   \nannotationProcessor &quot;org.projectlombok:lombok:${lombokVersion}&quot;, &quot;org.projectlombok:lombok-mapstruct-binding:${lombokMapstructBindingVersion}&quot;, &quot;org.mapstruct:mapstruct-processor:${mapstructVersion}&quot;\n   \n</code></pre>\n<ol start=\"5\">\n<li>Refresh gradle project.</li>\n<li>Make sure lombok dependency is first and then mapstruct in your <strong>Java Compiler -&gt; AnnotationProcessing -&gt; FactoryPath</strong></li>\n</ol>\n<p>Hope it helps! :)</p>\n"}],"owner":{"account_id":10745676,"reputation":29,"user_id":7907095,"display_name":"Sweet"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676488398,"creation_date":1582553434,"question_id":60377689,"body_markdown":"I&#39;m building a crud application with the use of api rest and I&#39;m going to use the mapstruct library but I can&#39;t. when I try to map the data returned by reading on the database with a custom object I get the following error\r\n\r\ncould you help me solve this problem?\r\nI get the following error\r\n\r\n\r\n    java.lang.ClassNotFoundException: Cannot find implementation for com.howtodoinjava.demo.mapper.MapperDTO\r\n    \tat org.mapstruct.factory.Mappers.getMapper(Mappers.java:75)\r\n    \tat org.mapstruct.factory.Mappers.getMapper(Mappers.java:58)\r\n    \tat com.howtodoinjava.demo.mapper.MapperDTO.&lt;clinit&gt;(MapperDTO.java:14)\r\n    \tat com.howtodoinjava.demo.service.CustomerServiceImpl.getCustomerById(CustomerServiceImpl.java:35)\r\n    \tat com.howtodoinjava.demo.controller.CutomerController.getUtentiEntityById(CutomerController.java:74)\r\n\r\nmy file\r\n\r\npom.xml\r\n\r\n\r\n\r\n \r\n\r\n       &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \r\n          4.0.0.xsd&quot;&gt;\r\n        \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        \r\n        \t&lt;groupId&gt;com.howtodoinjava&lt;/groupId&gt;\r\n        \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n        \t&lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n        \t&lt;name&gt;demo&lt;/name&gt;\r\n        \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n        \r\n        \t&lt;parent&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\r\n        \t&lt;/parent&gt;\r\n        \r\n        \t&lt;properties&gt;\r\n        \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        \t\t&lt;org.mapstruct.version&gt;1.3.1.Final&lt;/org.mapstruct.version&gt;\r\n        \t\t&lt;org.projectlombok.version&gt;1.18.10&lt;/org.projectlombok.version&gt;\r\n        \t\t&lt;m2e.apt.activation&gt;jdt_apt&lt;/m2e.apt.activation&gt;\r\n        \t&lt;/properties&gt;\r\n        \r\n        \t&lt;dependencies&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;!-- &lt;dependency&gt; --&gt;\r\n        \t\t&lt;!-- &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt; --&gt;\r\n        \t\t&lt;!-- &lt;artifactId&gt;json-path&lt;/artifactId&gt; --&gt;\r\n        \t\t&lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\r\n        \t\t&lt;!-- &lt;/dependency&gt; --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;jcc&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;11.5.0.0&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;!-- lombok --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- Map strunct --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-jdk8 --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- json logback --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;0.1.5&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- swagger --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- Utility --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;!-- Test --&gt;\r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t\t&lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;de.bwaldvogel&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;mongo-java-server&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;1.16.0&lt;/version&gt;\r\n        \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n        \t\t&lt;/dependency&gt;\r\n        \r\n        \t&lt;/dependencies&gt;\r\n        \r\n        \t&lt;build&gt;\r\n        \t\t&lt;plugins&gt;\r\n        \t\t\t&lt;plugin&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        \t\t\t\t&lt;configuration&gt;\r\n        \t\t\t\t\t&lt;annotationProcessorPaths&gt;\r\n        \t\t\t\t\t\t&lt;path&gt;\r\n        \t\t\t\t\t\t\t&lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        \t\t\t\t\t\t\t&lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n        \t\t\t\t\t\t\t&lt;version&gt;1.3.1.Final&lt;/version&gt;\r\n        \t\t\t\t\t\t&lt;/path&gt;\r\n        \t\t\t\t\t\t&lt;path&gt;\r\n        \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        \t\t\t\t\t\t\t&lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\r\n        \t\t\t\t\t\t&lt;/path&gt;\r\n        \t\t\t\t\t&lt;/annotationProcessorPaths&gt;\r\n        &lt;!-- \t\t\t\t\t&lt;compilerArgs&gt; --&gt;\r\n        &lt;!-- \t\t\t\t\t\t&lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt; --&gt;\r\n        &lt;!-- \t\t\t\t\t&lt;/compilerArgs&gt; --&gt;\r\n        \t\t\t\t&lt;/configuration&gt;\r\n        \t\t\t&lt;/plugin&gt;\r\n        \r\n        \t\t\t&lt;plugin&gt;\r\n        \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        \t\t\t&lt;/plugin&gt;\r\n        \r\n        \t\t&lt;/plugins&gt;\r\n        \t&lt;/build&gt;\r\n        \r\n        &lt;/project&gt;\r\n\r\n\r\nMapperDTO.java\r\n\r\n\r\n    @Mapper(componentModel=&quot;spring&quot;)\r\n    /*Durante la compilazione, MapStruct generer&#224; un&#39;implementazione di questa interfaccia.*/\r\n    public interface MapperDTO {\r\n    \r\n    \tMapperDTO INSTANCE = Mappers.getMapper(MapperDTO.class);\r\n    \r\n    \tCustomer customerDTOtoCustomer(CustomerDTO customerDTO);\r\n    \r\n    \tCustomerDTO customertoCustomerDTO(Customer customer);\r\n    }\r\n\t \r\n\r\nserviceimpl.java\r\n\r\n\r\n\r\n        @Override\r\n        public Customer getCustomerById(Integer id) throws RecordNotFoundException {\r\n        \tOptional&lt;CustomerDTO&gt; utentiEntity = repository.findById(id);\r\n        \t\ttry {\r\n        \t\t\tif (utentiEntity.isPresent()) {\r\n        \t\t\t\treturn MapperDTO.INSTANCE.customerDTOtoCustomer(utentiEntity.get());\r\n        \t\t\t} else {\r\n        \t\t\t\tthrow new RecordNotFoundException(&quot;No entity record exist for given id&quot;);\r\n        \t\t\t}\r\n        \t\t}\r\n        \t\tcatch (Exception e ) {\r\n        \t\t\tlog.error(&quot; message  &quot; +e.getMessage(),e);\r\n        \t\t}\r\n        \t\treturn null;\r\n        }\r\n    \r\nDemoApplication.java\r\n    \r\n    @SpringBootApplication(scanBasePackages=&quot;com.howtodoinjava.demo&quot;)\r\n    @EnableJpaRepositories (basePackages=&quot;com.howtodoinjava.demo.repository&quot;)\r\n    @EntityScan(basePackages=&quot;com.howtodoinjava.demo.modelDTO&quot;)\r\n    @ComponentScan({&quot;com.howtodoinjava.demo.service&quot;,&quot;com.howtodoinjava.demo.controller&quot;})\r\n    \r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n","title":"java.lang.ClassNotFoundException: Cannot find implementation for com.howtodoinjava.demo.mapper.MapperDTO","body":"<p>I'm building a crud application with the use of api rest and I'm going to use the mapstruct library but I can't. when I try to map the data returned by reading on the database with a custom object I get the following error</p>\n\n<p>could you help me solve this problem?\nI get the following error</p>\n\n<pre><code>java.lang.ClassNotFoundException: Cannot find implementation for com.howtodoinjava.demo.mapper.MapperDTO\n    at org.mapstruct.factory.Mappers.getMapper(Mappers.java:75)\n    at org.mapstruct.factory.Mappers.getMapper(Mappers.java:58)\n    at com.howtodoinjava.demo.mapper.MapperDTO.&lt;clinit&gt;(MapperDTO.java:14)\n    at com.howtodoinjava.demo.service.CustomerServiceImpl.getCustomerById(CustomerServiceImpl.java:35)\n    at com.howtodoinjava.demo.controller.CutomerController.getUtentiEntityById(CutomerController.java:74)\n</code></pre>\n\n<p>my file</p>\n\n<p>pom.xml</p>\n\n<pre><code>   &lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n    &lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n        xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n        xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven- \n      4.0.0.xsd\"&gt;\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n        &lt;groupId&gt;com.howtodoinjava&lt;/groupId&gt;\n        &lt;artifactId&gt;demo&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;name&gt;demo&lt;/name&gt;\n        &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n        &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.2.4.RELEASE&lt;/version&gt;\n        &lt;/parent&gt;\n\n        &lt;properties&gt;\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n            &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\n            &lt;org.mapstruct.version&gt;1.3.1.Final&lt;/org.mapstruct.version&gt;\n            &lt;org.projectlombok.version&gt;1.18.10&lt;/org.projectlombok.version&gt;\n            &lt;m2e.apt.activation&gt;jdt_apt&lt;/m2e.apt.activation&gt;\n        &lt;/properties&gt;\n\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;!-- &lt;dependency&gt; --&gt;\n            &lt;!-- &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt; --&gt;\n            &lt;!-- &lt;artifactId&gt;json-path&lt;/artifactId&gt; --&gt;\n            &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\n            &lt;!-- &lt;/dependency&gt; --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-hateoas&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.hateoas&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-hateoas&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.ibm.db2&lt;/groupId&gt;\n                &lt;artifactId&gt;jcc&lt;/artifactId&gt;\n                &lt;version&gt;11.5.0.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n            &lt;!-- lombok --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Map strunct --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-jdk8 --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n                &lt;version&gt;1.3.1.Final&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- json logback --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-json-classic&lt;/artifactId&gt;\n                &lt;version&gt;0.1.5&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;ch.qos.logback.contrib&lt;/groupId&gt;\n                &lt;artifactId&gt;logback-jackson&lt;/artifactId&gt;\n                &lt;version&gt;0.1.5&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- swagger --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n                &lt;version&gt;2.9.2&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Utility --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;commons-io&lt;/groupId&gt;\n                &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n            &lt;/dependency&gt;\n\n            &lt;!-- Test --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n            &lt;dependency&gt;\n                &lt;groupId&gt;de.bwaldvogel&lt;/groupId&gt;\n                &lt;artifactId&gt;mongo-java-server&lt;/artifactId&gt;\n                &lt;version&gt;1.16.0&lt;/version&gt;\n                &lt;scope&gt;test&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n        &lt;/dependencies&gt;\n\n        &lt;build&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;annotationProcessorPaths&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n                                &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n                                &lt;version&gt;1.3.1.Final&lt;/version&gt;\n                            &lt;/path&gt;\n                            &lt;path&gt;\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                                &lt;version&gt;${org.projectlombok.version}&lt;/version&gt;\n                            &lt;/path&gt;\n                        &lt;/annotationProcessorPaths&gt;\n    &lt;!--                    &lt;compilerArgs&gt; --&gt;\n    &lt;!--                        &lt;arg&gt;-Amapstruct.defaultComponentModel=spring&lt;/arg&gt; --&gt;\n    &lt;!--                    &lt;/compilerArgs&gt; --&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;/plugin&gt;\n\n            &lt;/plugins&gt;\n        &lt;/build&gt;\n\n    &lt;/project&gt;\n</code></pre>\n\n<p>MapperDTO.java</p>\n\n<pre><code>@Mapper(componentModel=\"spring\")\n/*Durante la compilazione, MapStruct generer un'implementazione di questa interfaccia.*/\npublic interface MapperDTO {\n\n    MapperDTO INSTANCE = Mappers.getMapper(MapperDTO.class);\n\n    Customer customerDTOtoCustomer(CustomerDTO customerDTO);\n\n    CustomerDTO customertoCustomerDTO(Customer customer);\n}\n</code></pre>\n\n<p>serviceimpl.java</p>\n\n<pre><code>    @Override\n    public Customer getCustomerById(Integer id) throws RecordNotFoundException {\n        Optional&lt;CustomerDTO&gt; utentiEntity = repository.findById(id);\n            try {\n                if (utentiEntity.isPresent()) {\n                    return MapperDTO.INSTANCE.customerDTOtoCustomer(utentiEntity.get());\n                } else {\n                    throw new RecordNotFoundException(\"No entity record exist for given id\");\n                }\n            }\n            catch (Exception e ) {\n                log.error(\" message  \" +e.getMessage(),e);\n            }\n            return null;\n    }\n</code></pre>\n\n<p>DemoApplication.java</p>\n\n<pre><code>@SpringBootApplication(scanBasePackages=\"com.howtodoinjava.demo\")\n@EnableJpaRepositories (basePackages=\"com.howtodoinjava.demo.repository\")\n@EntityScan(basePackages=\"com.howtodoinjava.demo.modelDTO\")\n@ComponentScan({\"com.howtodoinjava.demo.service\",\"com.howtodoinjava.demo.controller\"})\n\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-boot"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1583402916,"post_id":60542698,"comment_id":107107314,"body_markdown":"If you have no entities, there are no tables to be created, so of course you will not see any SQL statements printed.","body":"If you have no entities, there are no tables to be created, so of course you will not see any SQL statements printed."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1583403073,"post_id":60542698,"comment_id":107107410,"body_markdown":"Ditch the `DbConfiguration` (you don&#39;t need it)` as well as the `@Import` and `@PropertySource`. Make sure the `application.properties` is in `src/main/resources` and not in `src/main/java` or in the `src/test` tree.","body":"Ditch the <code>DbConfiguration</code> (you don&#39;t need it)` as well as the <code>@Import</code> and <code>@PropertySource</code>. Make sure the <code>application.properties</code> is in <code>src&#47;main&#47;resources</code> and not in <code>src&#47;main&#47;java</code> or in the <code>src&#47;test</code> tree."},{"owner":{"account_id":1590745,"reputation":1436,"user_id":1474111,"accept_rate":27,"display_name":"user1474111"},"score":0,"creation_date":1583405259,"post_id":60542698,"comment_id":107108668,"body_markdown":"There are entities, they are simple POJOs therefore I have not added them to my post. Property file is actually under src/main/resources.","body":"There are entities, they are simple POJOs therefore I have not added them to my post. Property file is actually under src/main/resources."}],"answers":[{"comments":[{"owner":{"account_id":1590745,"reputation":1436,"user_id":1474111,"accept_rate":27,"display_name":"user1474111"},"score":0,"creation_date":1583405532,"post_id":60542971,"comment_id":107108851,"body_markdown":"I tried it, actually it was my initial step but i did not help","body":"I tried it, actually it was my initial step but i did not help"},{"owner":{"account_id":7145989,"reputation":370,"user_id":5467926,"accept_rate":38,"display_name":"Erdel"},"score":0,"creation_date":1643295363,"post_id":60542971,"comment_id":125306053,"body_markdown":"-@SpringBootApplication annotation already includes @EnableAutoConfiguration","body":"-@SpringBootApplication annotation already includes @EnableAutoConfiguration"}],"tags":[],"owner":{"account_id":16600054,"reputation":111,"user_id":11995989,"display_name":"UFO_Rider"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583403360,"creation_date":1583403360,"answer_id":60542971,"question_id":60542698,"body_markdown":"Delete the DbConfiguration. Write those properties in application.properties file which is located in resource folder. then use @EnableAutoConfiguration annotation on SpringBoothibernateApplication class.","title":"SpringBoot does not read application.properties","body":"<p>Delete the DbConfiguration. Write those properties in application.properties file which is located in resource folder. then use @EnableAutoConfiguration annotation on SpringBoothibernateApplication class.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676979319,"post_id":75464468,"comment_id":133241915,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75464468/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":6153660,"reputation":11,"user_id":4797345,"display_name":"Rahul Sudhanaboina"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676488394,"creation_date":1676488394,"answer_id":75464468,"question_id":60542698,"body_markdown":"Restarting STS/Eclipse has solved the problem for me. After restart, it is taking the updated values from application.properties. ","title":"SpringBoot does not read application.properties","body":"<p>Restarting STS/Eclipse has solved the problem for me. After restart, it is taking the updated values from application.properties.</p>\n"}],"owner":{"account_id":1590745,"reputation":1436,"user_id":1474111,"accept_rate":27,"display_name":"user1474111"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3371,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676488394,"creation_date":1583402590,"question_id":60542698,"body_markdown":"I am trying to do simple CRUD application by using Hibernate and SpringBoot. I want hibernate to create db automatically and show the sql statements therefore I added some properties in application.properties.\r\n\r\n    spring.h2.console.enabled=true\r\n    spring.h2.console.path=/h2-console\r\n    \r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.hibernate.ddl-auto = create-drop\r\n\r\nBut all of them seems unused property. I tried to create configuration class and also added `@PropertySource(&quot;classpath:application.properties&quot;)` but it did not help.\r\n\r\nHere my configuration class:\r\n\r\n    @Configuration\r\n    @EnableAutoConfiguration\r\n    @ComponentScan\r\n    @EnableJpaRepositories\r\n    public class DBConfiguration {\r\n    }\r\n\r\nHere is my main class:\r\n\r\n\r\n    @SpringBootApplication\r\n    @Import({DBConfiguration.class})\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class SpringboothibernateApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SpringboothibernateApplication.class, args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nWhat I am doing wrong why application.properties file is unused at all.\r\n\r\n","title":"SpringBoot does not read application.properties","body":"<p>I am trying to do simple CRUD application by using Hibernate and SpringBoot. I want hibernate to create db automatically and show the sql statements therefore I added some properties in application.properties.</p>\n\n<pre><code>spring.h2.console.enabled=true\nspring.h2.console.path=/h2-console\n\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.hibernate.ddl-auto = create-drop\n</code></pre>\n\n<p>But all of them seems unused property. I tried to create configuration class and also added <code>@PropertySource(\"classpath:application.properties\")</code> but it did not help.</p>\n\n<p>Here my configuration class:</p>\n\n<pre><code>@Configuration\n@EnableAutoConfiguration\n@ComponentScan\n@EnableJpaRepositories\npublic class DBConfiguration {\n}\n</code></pre>\n\n<p>Here is my main class:</p>\n\n<pre><code>@SpringBootApplication\n@Import({DBConfiguration.class})\n@PropertySource(\"classpath:application.properties\")\npublic class SpringboothibernateApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringboothibernateApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p>What I am doing wrong why application.properties file is unused at all.</p>\n"},{"tags":["java","android","sms","send","android-contacts"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1676489287,"post_id":75463714,"comment_id":133149222,"body_markdown":"The code you&#39;ve provided doesn&#39;t appear relevant to the question. What are your two activities, and what data are you trying to send between them, and what action should trigger this behaviour?","body":"The code you&#39;ve provided doesn&#39;t appear relevant to the question. What are your two activities, and what data are you trying to send between them, and what action should trigger this behaviour?"},{"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"score":0,"creation_date":1676490194,"post_id":75463714,"comment_id":133149446,"body_markdown":"instead of sending an sms to one predefined number, i want to send it to all numbers that the user has been saved.  First code is for send sms Activity and the seconde one is for saving contact number Activity..","body":"instead of sending an sms to one predefined number, i want to send it to all numbers that the user has been saved.  First code is for send sms Activity and the seconde one is for saving contact number Activity.."},{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":0,"creation_date":1676491837,"post_id":75463714,"comment_id":133149890,"body_markdown":"The second code sample doesn&#39;t appear to be an activity. An activity is a class that extends `Activity` or `FragmentActivity` or similar and is invoked via a method like `startActivity(...)`. It looks like your activity needs a list of `ContactModel` objects, and should iterate over them to retrieve the numbers you want send an SMS to.","body":"The second code sample doesn&#39;t appear to be an activity. An activity is a class that extends <code>Activity</code> or <code>FragmentActivity</code> or similar and is invoked via a method like <code>startActivity(...)</code>. It looks like your activity needs a list of <code>ContactModel</code> objects, and should iterate over them to retrieve the numbers you want send an SMS to."},{"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"score":0,"creation_date":1676557977,"post_id":75463714,"comment_id":133164112,"body_markdown":"yes that&#39;s what i want.","body":"yes that&#39;s what i want."},{"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"score":0,"creation_date":1676557991,"post_id":75463714,"comment_id":133164121,"body_markdown":"Can you help me with it?","body":"Can you help me with it?"}],"owner":{"account_id":27719636,"reputation":29,"user_id":21160500,"display_name":"youna kim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676488272,"creation_date":1676483801,"question_id":75463714,"body_markdown":"I want to send an SMS with location to the contact that the user has been saved. But I don&#39;t know how to do it. I am totally new to Android Studio, so I don&#180;t know how to write my code that it will work the way I want it.\r\nPlease, can you help me to do that?\r\n\r\nThis is the code of sending SMS:\r\n  \r\n\r\n    Button sendBtn;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        sendBtn = (Button) findViewById(R.id.btnSendSMS);\r\n        sendBtn.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                sendSMSMessage();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    protected void sendSMSMessage() {\r\n        if (ContextCompat.checkSelfPermission(this,\r\n                Manifest.permission.SEND_SMS)\r\n                != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                    Manifest.permission.SEND_SMS)) {\r\n                // fixme: show explanation\r\n                // before requesting the permission again\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.SEND_SMS},\r\n                        MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n            } else {\r\n                ActivityCompat.requestPermissions(this,\r\n                        new String[]{Manifest.permission.SEND_SMS},\r\n                        MY_PERMISSIONS_REQUEST_SEND_SMS);\r\n            }\r\n        } else {\r\n            sendSmsImpl();\r\n        }\r\n    }\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\r\n        switch (requestCode) {\r\n            case MY_PERMISSIONS_REQUEST_SEND_SMS: {\r\n                if (grantResults.length &gt; 0\r\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n                    sendSmsImpl();\r\n                } else {\r\n                    // fixme: explain that it can&#39;t send SMS without the permission\r\n                    Toast.makeText(getApplicationContext(),\r\n                            &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\r\n                    return;\r\n                }\r\n                // !!! NOTE: you still need break inside switch/case\r\n                // even with curly braces\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private void sendSmsImpl() {\r\n        SmsManager smsManager = SmsManager.getDefault();\r\n        smsManager.sendTextMessage(&quot;+212xxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://www.google.com/maps/search/?api=1&amp;query=&lt;lat&gt;,&lt;lng&gt;&quot;, null, null);\r\n        //todo: use sentIntent argument of sendTextMessage to detect success/error\r\n        Toast.makeText(getApplicationContext(),\r\n                &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n\r\nAnd this the code of saving contact:\r\n\r\n    private int id;\r\n\r\n    private String phoneNo;\r\n\r\n    private String name;\r\n\r\n    // constructor\r\n    public ContactModel(int id, String name, String phoneNo) {\r\n        this.id = id;\r\n        this.phoneNo = validate(phoneNo);\r\n        this.name = name;\r\n    }\r\n\r\n    // validate the phone number, and reformat is necessary\r\n    private String validate(String phone) {\r\n\r\n        // creating StringBuilder for both the cases\r\n        StringBuilder case1 = new StringBuilder(&quot;+212&quot;);\r\n        StringBuilder case2 = new StringBuilder(&quot;&quot;);\r\n\r\n        // check if the string already has a &quot;+&quot;\r\n        if (phone.charAt(0) != &#39;+&#39;) {\r\n            for (int i = 0; i &lt; phone.length(); i++) {\r\n                // remove any spaces or &quot;-&quot;\r\n                if (phone.charAt(i) != &#39;-&#39; &amp;&amp; phone.charAt(i) != &#39; &#39;) {\r\n                    case1.append(phone.charAt(i));\r\n                }\r\n            }\r\n            return case1.toString();\r\n        } else {\r\n            for (int i = 0; i &lt; phone.length(); i++) {\r\n                // remove any spaces or &quot;-&quot;\r\n                if (phone.charAt(i) != &#39;-&#39; || phone.charAt(i) != &#39; &#39;) {\r\n                    case2.append(phone.charAt(i));\r\n                }\r\n            }\r\n            return case2.toString();\r\n        }\r\n\r\n    }\r\n\r\n    public String getPhoneNo() {\r\n        return phoneNo;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}","title":"How can I use the data of an activity in another activity?","body":"<p>I want to send an SMS with location to the contact that the user has been saved. But I don't know how to do it. I am totally new to Android Studio, so I don織t know how to write my code that it will work the way I want it.\nPlease, can you help me to do that?</p>\n<p>This is the code of sending SMS:</p>\n<pre><code>Button sendBtn;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    sendBtn = (Button) findViewById(R.id.btnSendSMS);\n    sendBtn.setOnClickListener(new View.OnClickListener() {\n        public void onClick(View view) {\n            sendSMSMessage();\n        }\n    });\n\n}\n\nprotected void sendSMSMessage() {\n    if (ContextCompat.checkSelfPermission(this,\n            Manifest.permission.SEND_SMS)\n            != PackageManager.PERMISSION_GRANTED) {\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                Manifest.permission.SEND_SMS)) {\n            // fixme: show explanation\n            // before requesting the permission again\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        } else {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.SEND_SMS},\n                    MY_PERMISSIONS_REQUEST_SEND_SMS);\n        }\n    } else {\n        sendSmsImpl();\n    }\n}\n@Override\npublic void onRequestPermissionsResult(int requestCode,String permissions[], int[] grantResults) {\n    switch (requestCode) {\n        case MY_PERMISSIONS_REQUEST_SEND_SMS: {\n            if (grantResults.length &gt; 0\n                    &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                sendSmsImpl();\n            } else {\n                // fixme: explain that it can't send SMS without the permission\n                Toast.makeText(getApplicationContext(),\n                        &quot;SMS faild, please try again.&quot;, Toast.LENGTH_LONG).show();\n                return;\n            }\n            // !!! NOTE: you still need break inside switch/case\n            // even with curly braces\n            break;\n        }\n    }\n}\n\nprivate void sendSmsImpl() {\n    SmsManager smsManager = SmsManager.getDefault();\n    smsManager.sendTextMessage(&quot;+212xxx&quot;, null, &quot;Je suis en danger, voici ma localisation : https://www.google.com/maps/search/?api=1&amp;query=&lt;lat&gt;,&lt;lng&gt;&quot;, null, null);\n    //todo: use sentIntent argument of sendTextMessage to detect success/error\n    Toast.makeText(getApplicationContext(),\n            &quot;SMS sent.&quot;, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n<p>And this the code of saving contact:</p>\n<pre><code>private int id;\n\nprivate String phoneNo;\n\nprivate String name;\n\n// constructor\npublic ContactModel(int id, String name, String phoneNo) {\n    this.id = id;\n    this.phoneNo = validate(phoneNo);\n    this.name = name;\n}\n\n// validate the phone number, and reformat is necessary\nprivate String validate(String phone) {\n\n    // creating StringBuilder for both the cases\n    StringBuilder case1 = new StringBuilder(&quot;+212&quot;);\n    StringBuilder case2 = new StringBuilder(&quot;&quot;);\n\n    // check if the string already has a &quot;+&quot;\n    if (phone.charAt(0) != '+') {\n        for (int i = 0; i &lt; phone.length(); i++) {\n            // remove any spaces or &quot;-&quot;\n            if (phone.charAt(i) != '-' &amp;&amp; phone.charAt(i) != ' ') {\n                case1.append(phone.charAt(i));\n            }\n        }\n        return case1.toString();\n    } else {\n        for (int i = 0; i &lt; phone.length(); i++) {\n            // remove any spaces or &quot;-&quot;\n            if (phone.charAt(i) != '-' || phone.charAt(i) != ' ') {\n                case2.append(phone.charAt(i));\n            }\n        }\n        return case2.toString();\n    }\n\n}\n\npublic String getPhoneNo() {\n    return phoneNo;\n}\n\npublic int getId() {\n    return id;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","android","callback","android-handler"],"answers":[{"comments":[{"owner":{"account_id":329756,"reputation":18639,"user_id":653457,"accept_rate":89,"display_name":"Luke Vo"},"score":0,"creation_date":1304514905,"post_id":5883776,"comment_id":6767733,"body_markdown":"Thanks, I know that. But I have a lot of Runnable in many sub-classes, and manage them all is a epic work! Is there anyway to remove them all, in the onStop() event?","body":"Thanks, I know that. But I have a lot of Runnable in many sub-classes, and manage them all is a epic work! Is there anyway to remove them all, in the onStop() event?"},{"owner":{"account_id":89296,"reputation":62915,"user_id":246461,"accept_rate":96,"display_name":"devunwired"},"score":0,"creation_date":1304520314,"post_id":5883776,"comment_id":6769494,"body_markdown":"Understood, I updated the answer with a bit more information.  Short version is you can&#39;t call a method to broadly clear a Handler&#39;s message queue...","body":"Understood, I updated the answer with a bit more information.  Short version is you can&#39;t call a method to broadly clear a Handler&#39;s message queue..."}],"tags":[],"owner":{"account_id":89296,"reputation":62915,"user_id":246461,"accept_rate":96,"display_name":"devunwired"},"comment_count":2,"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1304520278,"creation_date":1304513887,"answer_id":5883776,"question_id":5883635,"body_markdown":"For any specific `Runnable` instance, call `Handler.removeCallbacks()`.  Note that it uses the `Runnable` instance itself to determine which callbacks to unregister, so if you are creating a new instance each time a post is made, you need to make sure you have references to the exact `Runnable` to cancel.  Example:\r\n\r\n    Handler myHandler = new Handler();\r\n    Runnable myRunnable = new Runnable() {\r\n        public void run() {\r\n            //Some interesting task\r\n        }\r\n    };\r\n\r\nYou can call `myHandler.postDelayed(myRunnable, x)` to post another callback to the message queue at other places in your code, and remove all pending callbacks with `myHandler.removeCallbacks(myRunnable)`\r\n\r\nUnfortunately, you cannot simply &quot;clear&quot; the entire `MessageQueue` for a `Handler`, even if you make a request for the `MessageQueue` object associated with it because the methods for adding and removing items are package protected (only classes within the android.os package can call them).  You may have to create a thin `Handler` subclass to manage a list of `Runnable`s as they are posted/executed...or look at another paradigm for passing your messages between each `Activity`\r\n\r\nHope that Helps!","title":"How to remove all callbacks from a Handler?","body":"<p>For any specific <code>Runnable</code> instance, call <code>Handler.removeCallbacks()</code>.  Note that it uses the <code>Runnable</code> instance itself to determine which callbacks to unregister, so if you are creating a new instance each time a post is made, you need to make sure you have references to the exact <code>Runnable</code> to cancel.  Example:</p>\n\n<pre><code>Handler myHandler = new Handler();\nRunnable myRunnable = new Runnable() {\n    public void run() {\n        //Some interesting task\n    }\n};\n</code></pre>\n\n<p>You can call <code>myHandler.postDelayed(myRunnable, x)</code> to post another callback to the message queue at other places in your code, and remove all pending callbacks with <code>myHandler.removeCallbacks(myRunnable)</code></p>\n\n<p>Unfortunately, you cannot simply \"clear\" the entire <code>MessageQueue</code> for a <code>Handler</code>, even if you make a request for the <code>MessageQueue</code> object associated with it because the methods for adding and removing items are package protected (only classes within the android.os package can call them).  You may have to create a thin <code>Handler</code> subclass to manage a list of <code>Runnable</code>s as they are posted/executed...or look at another paradigm for passing your messages between each <code>Activity</code></p>\n\n<p>Hope that Helps!</p>\n"},{"tags":[],"owner":{"account_id":30304,"reputation":27134,"user_id":82559,"display_name":"alphazero"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1304515025,"creation_date":1304515025,"answer_id":5884027,"question_id":5883635,"body_markdown":"If you don&#39;t have the Runnable references, on the first callback, get the obj of the message, and use [removeCallbacksAndMessages()][1] to remove all related callbacks.\r\n\r\n  [1]: http://developer.android.com/reference/android/os/Handler.html#removeCallbacksAndMessages%28java.lang.Object%29","title":"How to remove all callbacks from a Handler?","body":"<p>If you don't have the Runnable references, on the first callback, get the obj of the message, and use <a href=\"http://developer.android.com/reference/android/os/Handler.html#removeCallbacksAndMessages%28java.lang.Object%29\" rel=\"noreferrer\">removeCallbacksAndMessages()</a> to remove all related callbacks.</p>\n"},{"comments":[{"owner":{"account_id":940928,"reputation":7129,"user_id":969016,"accept_rate":79,"display_name":"Boy"},"score":2,"creation_date":1408885700,"post_id":10145615,"comment_id":39751230,"body_markdown":"@Malachiasz I think I would use it in onStop or onPause, to make sure no messages are handled after the activity has lost focus. But depends on what needs to be done when the callback/message is fired","body":"@Malachiasz I think I would use it in onStop or onPause, to make sure no messages are handled after the activity has lost focus. But depends on what needs to be done when the callback/message is fired"},{"owner":{"account_id":33704,"reputation":8964,"user_id":94557,"accept_rate":86,"display_name":"Matt Wolfe"},"score":1,"creation_date":1437607850,"post_id":10145615,"comment_id":51106211,"body_markdown":"I believe I&#39;ve seen NPE before on some phones when doing this but it&#39;s been awhile.","body":"I believe I&#39;ve seen NPE before on some phones when doing this but it&#39;s been awhile."},{"owner":{"account_id":1789766,"reputation":745,"user_id":1630447,"accept_rate":67,"display_name":"Snaker"},"score":4,"creation_date":1464027583,"post_id":10145615,"comment_id":62304343,"body_markdown":"I&#39;ve had some issues with `removeCallbacksAndMessages(null)` wouldn&#39;t remove some of my callbacks.\nWhen I would want to stop receiving Callbacks, I&#39;d call `handler.removeCallbacksAndMessages(null)` and set my handler to null, but since I would still get the callback, I&#39;d encounter a NPE when I&#39;d want to loop with `handler.postDelayed()`.","body":"I&#39;ve had some issues with <code>removeCallbacksAndMessages(null)</code> wouldn&#39;t remove some of my callbacks. When I would want to stop receiving Callbacks, I&#39;d call <code>handler.removeCallbacksAndMessages(null)</code> and set my handler to null, but since I would still get the callback, I&#39;d encounter a NPE when I&#39;d want to loop with <code>handler.postDelayed()</code>."},{"owner":{"account_id":145307,"reputation":4418,"user_id":355023,"accept_rate":96,"display_name":"ShrimpCrackers"},"score":1,"creation_date":1487822377,"post_id":10145615,"comment_id":71960166,"body_markdown":"@Snaker Have you solved your issue yet? I&#39;m having same issue where Handler.Callback is being called even after removing callbacks and messages by setting null.","body":"@Snaker Have you solved your issue yet? I&#39;m having same issue where Handler.Callback is being called even after removing callbacks and messages by setting null."},{"owner":{"account_id":1789766,"reputation":745,"user_id":1630447,"accept_rate":67,"display_name":"Snaker"},"score":2,"creation_date":1487965029,"post_id":10145615,"comment_id":72037389,"body_markdown":"@ShrimpCrackers I found out keeping an instance of your runnable and using `yourHandler.removeCallbacks(yourRunnable)` was the most reliable. Still using that today.","body":"@ShrimpCrackers I found out keeping an instance of your runnable and using <code>yourHandler.removeCallbacks(yourRunnable)</code> was the most reliable. Still using that today."},{"owner":{"account_id":1761357,"reputation":609,"user_id":1608385,"display_name":"user1608385"},"score":0,"creation_date":1495424117,"post_id":10145615,"comment_id":75228451,"body_markdown":"The two parameter version of removeCallbacks must be used and you must have a reference to the Runnable.  \nSo, use handler.removeCallbacks(yourRunnable, null).","body":"The two parameter version of removeCallbacks must be used and you must have a reference to the Runnable.   So, use handler.removeCallbacks(yourRunnable, null)."},{"owner":{"account_id":8085501,"reputation":930,"user_id":6093189,"accept_rate":67,"display_name":"Harish Reddy"},"score":0,"creation_date":1537339345,"post_id":10145615,"comment_id":91743291,"body_markdown":"we need to handle any exceptions while using this? Ex. if(handler!=null &amp;&amp; handle.isCallingsomething){--};","body":"we need to handle any exceptions while using this? Ex. if(handler!=null &amp;&amp; handle.isCallingsomething){--};"}],"tags":[],"owner":{"account_id":1179597,"reputation":6981,"user_id":1154836,"display_name":"josh527"},"comment_count":7,"down_vote_count":0,"up_vote_count":586,"is_accepted":true,"score":586,"last_activity_date":1477171291,"creation_date":1334338694,"answer_id":10145615,"question_id":5883635,"body_markdown":"In my experience calling this worked great!\r\n\r\n    handler.removeCallbacksAndMessages(null);\r\n\r\nIn the docs for removeCallbacksAndMessages it says...\r\n\r\n&gt;Remove any pending posts of callbacks and sent messages whose obj is token. **If token is `null`, all callbacks and messages will be removed.**","title":"How to remove all callbacks from a Handler?","body":"<p>In my experience calling this worked great!</p>\n\n<pre><code>handler.removeCallbacksAndMessages(null);\n</code></pre>\n\n<p>In the docs for removeCallbacksAndMessages it says...</p>\n\n<blockquote>\n  <p>Remove any pending posts of callbacks and sent messages whose obj is token. <strong>If token is <code>null</code>, all callbacks and messages will be removed.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1699302,"reputation":11792,"user_id":1559852,"accept_rate":100,"display_name":"savepopulation"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1421764947,"creation_date":1421764947,"answer_id":28048111,"question_id":5883635,"body_markdown":"Define a new handler and runnable:\r\n\r\n    private Handler handler = new Handler(Looper.getMainLooper());\r\n    private Runnable runnable = new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                // Do what ever you want\r\n            }\r\n        };\r\n\r\nCall post delayed:\r\n\r\n    handler.postDelayed(runnable, sleep_time);\r\n\r\nRemove your callback from your handler:\r\n\r\n    handler.removeCallbacks(runnable);","title":"How to remove all callbacks from a Handler?","body":"<p>Define a new handler and runnable:</p>\n\n<pre><code>private Handler handler = new Handler(Looper.getMainLooper());\nprivate Runnable runnable = new Runnable() {\n        @Override\n        public void run() {\n            // Do what ever you want\n        }\n    };\n</code></pre>\n\n<p>Call post delayed:</p>\n\n<pre><code>handler.postDelayed(runnable, sleep_time);\n</code></pre>\n\n<p>Remove your callback from your handler:</p>\n\n<pre><code>handler.removeCallbacks(runnable);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4066266,"reputation":2101,"user_id":3341089,"display_name":"oguzhan"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1569420395,"creation_date":1481744883,"answer_id":41150974,"question_id":5883635,"body_markdown":"Please note that one should define a `Handler` and a `Runnable` in class scope, so that it is created once.`removeCallbacks(Runnable)` works correctly unless one defines them multiple times. Please look at following examples for better understanding: \r\n\r\nIncorrect way :\r\n\r\n        public class FooActivity extends Activity {\r\n               private void handleSomething(){\r\n                    Handler handler = new Handler();\r\n                    Runnable runnable = new Runnable() {\r\n                       @Override\r\n                       public void run() {\r\n                          doIt();\r\n                      }\r\n                   };\r\n                  if(shouldIDoIt){\r\n                      //doIt() works after 3 seconds.\r\n                      handler.postDelayed(runnable, 3000);\r\n                  } else {\r\n                      handler.removeCallbacks(runnable);\r\n                  }\r\n               }\r\n    \r\n              public void onClick(View v){\r\n                  handleSomething();\r\n              }\r\n        } \r\n\r\nIf you call `onClick(..)` method, you never stop `doIt()` method calling before it call. Because each time creates `new Handler` and `new Runnable` instances. In this way, you lost necessary references which belong to *handler* and *runnable* instances.    \r\n\r\nCorrect way :\r\n\r\n     public class FooActivity extends Activity {\r\n            Handler handler = new Handler();\r\n            Runnable runnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    doIt();\r\n                }\r\n            };\r\n            private void handleSomething(){\r\n                if(shouldIDoIt){\r\n                    //doIt() works after 3 seconds.\r\n                    handler.postDelayed(runnable, 3000);\r\n                } else {\r\n                    handler.removeCallbacks(runnable);\r\n                }\r\n           }\r\n    \r\n           public void onClick(View v){\r\n               handleSomething();\r\n           }\r\n     } \r\n\r\nIn this way, you don&#39;t lost actual references and `removeCallbacks(runnable)` works successfully.\r\n\r\nKey sentence is that **&#39;define them as global in your `Activity` or `Fragment` what you use&#39;**.","title":"How to remove all callbacks from a Handler?","body":"<p>Please note that one should define a <code>Handler</code> and a <code>Runnable</code> in class scope, so that it is created once.<code>removeCallbacks(Runnable)</code> works correctly unless one defines them multiple times. Please look at following examples for better understanding: </p>\n\n<p>Incorrect way :</p>\n\n<pre><code>    public class FooActivity extends Activity {\n           private void handleSomething(){\n                Handler handler = new Handler();\n                Runnable runnable = new Runnable() {\n                   @Override\n                   public void run() {\n                      doIt();\n                  }\n               };\n              if(shouldIDoIt){\n                  //doIt() works after 3 seconds.\n                  handler.postDelayed(runnable, 3000);\n              } else {\n                  handler.removeCallbacks(runnable);\n              }\n           }\n\n          public void onClick(View v){\n              handleSomething();\n          }\n    } \n</code></pre>\n\n<p>If you call <code>onClick(..)</code> method, you never stop <code>doIt()</code> method calling before it call. Because each time creates <code>new Handler</code> and <code>new Runnable</code> instances. In this way, you lost necessary references which belong to <em>handler</em> and <em>runnable</em> instances.    </p>\n\n<p>Correct way :</p>\n\n<pre><code> public class FooActivity extends Activity {\n        Handler handler = new Handler();\n        Runnable runnable = new Runnable() {\n            @Override\n            public void run() {\n                doIt();\n            }\n        };\n        private void handleSomething(){\n            if(shouldIDoIt){\n                //doIt() works after 3 seconds.\n                handler.postDelayed(runnable, 3000);\n            } else {\n                handler.removeCallbacks(runnable);\n            }\n       }\n\n       public void onClick(View v){\n           handleSomething();\n       }\n } \n</code></pre>\n\n<p>In this way, you don't lost actual references and <code>removeCallbacks(runnable)</code> works successfully.</p>\n\n<p>Key sentence is that <strong>'define them as global in your <code>Activity</code> or <code>Fragment</code> what you use'</strong>.</p>\n"},{"tags":[],"owner":{"account_id":8456588,"reputation":51,"user_id":6343641,"display_name":"JamesRobert"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1543459606,"creation_date":1543459606,"answer_id":53531111,"question_id":5883635,"body_markdown":"As `josh527` said, `handler.removeCallbacksAndMessages(null);` can work.&lt;br&gt;\r\nBut why?&lt;br&gt;\r\nIf you have a look at the source code, you can understand it more clearly.\r\nThere are 3 type of method to remove callbacks/messages from handler(the MessageQueue):\r\n\r\n 1. remove by callback (and token)\r\n 2. remove by message.what (and token)\r\n 3. remove by token\r\n\r\nHandler.java (leave some overload method嚗\r\n\r\n    /**\r\n     * Remove any pending posts of Runnable &lt;var&gt;r&lt;/var&gt; with Object\r\n     * &lt;var&gt;token&lt;/var&gt; that are in the message queue.  If &lt;var&gt;token&lt;/var&gt; is null,\r\n     * all callbacks will be removed.\r\n     */\r\n    public final void removeCallbacks(Runnable r, Object token)\r\n    {\r\n        mQueue.removeMessages(this, r, token);\r\n    }\r\n\r\n    /**\r\n     * Remove any pending posts of messages with code &#39;what&#39; and whose obj is\r\n     * &#39;object&#39; that are in the message queue.  If &lt;var&gt;object&lt;/var&gt; is null,\r\n     * all messages will be removed.\r\n     */\r\n    public final void removeMessages(int what, Object object) {\r\n        mQueue.removeMessages(this, what, object);\r\n    }\r\n\r\n    /**\r\n     * Remove any pending posts of callbacks and sent messages whose\r\n     * &lt;var&gt;obj&lt;/var&gt; is &lt;var&gt;token&lt;/var&gt;.  If &lt;var&gt;token&lt;/var&gt; is null,\r\n     * all callbacks and messages will be removed.\r\n     */\r\n    public final void removeCallbacksAndMessages(Object token) {\r\n        mQueue.removeCallbacksAndMessages(this, token);\r\n    }\r\n\r\nMessageQueue.java do the real work:\r\n\r\n    void removeMessages(Handler h, int what, Object object) {\r\n        if (h == null) {\r\n            return;\r\n        }\r\n\r\n        synchronized (this) {\r\n            Message p = mMessages;\r\n\r\n            // Remove all messages at front.\r\n            while (p != null &amp;&amp; p.target == h &amp;&amp; p.what == what\r\n                   &amp;&amp; (object == null || p.obj == object)) {\r\n                Message n = p.next;\r\n                mMessages = n;\r\n                p.recycleUnchecked();\r\n                p = n;\r\n            }\r\n\r\n            // Remove all messages after front.\r\n            while (p != null) {\r\n                Message n = p.next;\r\n                if (n != null) {\r\n                    if (n.target == h &amp;&amp; n.what == what\r\n                        &amp;&amp; (object == null || n.obj == object)) {\r\n                        Message nn = n.next;\r\n                        n.recycleUnchecked();\r\n                        p.next = nn;\r\n                        continue;\r\n                    }\r\n                }\r\n                p = n;\r\n            }\r\n        }\r\n    }\r\n\r\n    void removeMessages(Handler h, Runnable r, Object object) {\r\n        if (h == null || r == null) {\r\n            return;\r\n        }\r\n\r\n        synchronized (this) {\r\n            Message p = mMessages;\r\n\r\n            // Remove all messages at front.\r\n            while (p != null &amp;&amp; p.target == h &amp;&amp; p.callback == r\r\n                   &amp;&amp; (object == null || p.obj == object)) {\r\n                Message n = p.next;\r\n                mMessages = n;\r\n                p.recycleUnchecked();\r\n                p = n;\r\n            }\r\n\r\n            // Remove all messages after front.\r\n            while (p != null) {\r\n                Message n = p.next;\r\n                if (n != null) {\r\n                    if (n.target == h &amp;&amp; n.callback == r\r\n                        &amp;&amp; (object == null || n.obj == object)) {\r\n                        Message nn = n.next;\r\n                        n.recycleUnchecked();\r\n                        p.next = nn;\r\n                        continue;\r\n                    }\r\n                }\r\n                p = n;\r\n            }\r\n        }\r\n    }\r\n\r\n    void removeCallbacksAndMessages(Handler h, Object object) {\r\n        if (h == null) {\r\n            return;\r\n        }\r\n\r\n        synchronized (this) {\r\n            Message p = mMessages;\r\n\r\n            // Remove all messages at front.\r\n            while (p != null &amp;&amp; p.target == h\r\n                    &amp;&amp; (object == null || p.obj == object)) {\r\n                Message n = p.next;\r\n                mMessages = n;\r\n                p.recycleUnchecked();\r\n                p = n;\r\n            }\r\n\r\n            // Remove all messages after front.\r\n            while (p != null) {\r\n                Message n = p.next;\r\n                if (n != null) {\r\n                    if (n.target == h &amp;&amp; (object == null || n.obj == object)) {\r\n                        Message nn = n.next;\r\n                        n.recycleUnchecked();\r\n                        p.next = nn;\r\n                        continue;\r\n                    }\r\n                }\r\n                p = n;\r\n            }\r\n        }\r\n    }","title":"How to remove all callbacks from a Handler?","body":"<p>As <code>josh527</code> said, <code>handler.removeCallbacksAndMessages(null);</code> can work.<br>\nBut why?<br>\nIf you have a look at the source code, you can understand it more clearly.\nThere are 3 type of method to remove callbacks/messages from handler(the MessageQueue):</p>\n\n<ol>\n<li>remove by callback (and token)</li>\n<li>remove by message.what (and token)</li>\n<li>remove by token</li>\n</ol>\n\n<p>Handler.java (leave some overload method嚗</p>\n\n<pre><code>/**\n * Remove any pending posts of Runnable &lt;var&gt;r&lt;/var&gt; with Object\n * &lt;var&gt;token&lt;/var&gt; that are in the message queue.  If &lt;var&gt;token&lt;/var&gt; is null,\n * all callbacks will be removed.\n */\npublic final void removeCallbacks(Runnable r, Object token)\n{\n    mQueue.removeMessages(this, r, token);\n}\n\n/**\n * Remove any pending posts of messages with code 'what' and whose obj is\n * 'object' that are in the message queue.  If &lt;var&gt;object&lt;/var&gt; is null,\n * all messages will be removed.\n */\npublic final void removeMessages(int what, Object object) {\n    mQueue.removeMessages(this, what, object);\n}\n\n/**\n * Remove any pending posts of callbacks and sent messages whose\n * &lt;var&gt;obj&lt;/var&gt; is &lt;var&gt;token&lt;/var&gt;.  If &lt;var&gt;token&lt;/var&gt; is null,\n * all callbacks and messages will be removed.\n */\npublic final void removeCallbacksAndMessages(Object token) {\n    mQueue.removeCallbacksAndMessages(this, token);\n}\n</code></pre>\n\n<p>MessageQueue.java do the real work:</p>\n\n<pre><code>void removeMessages(Handler h, int what, Object object) {\n    if (h == null) {\n        return;\n    }\n\n    synchronized (this) {\n        Message p = mMessages;\n\n        // Remove all messages at front.\n        while (p != null &amp;&amp; p.target == h &amp;&amp; p.what == what\n               &amp;&amp; (object == null || p.obj == object)) {\n            Message n = p.next;\n            mMessages = n;\n            p.recycleUnchecked();\n            p = n;\n        }\n\n        // Remove all messages after front.\n        while (p != null) {\n            Message n = p.next;\n            if (n != null) {\n                if (n.target == h &amp;&amp; n.what == what\n                    &amp;&amp; (object == null || n.obj == object)) {\n                    Message nn = n.next;\n                    n.recycleUnchecked();\n                    p.next = nn;\n                    continue;\n                }\n            }\n            p = n;\n        }\n    }\n}\n\nvoid removeMessages(Handler h, Runnable r, Object object) {\n    if (h == null || r == null) {\n        return;\n    }\n\n    synchronized (this) {\n        Message p = mMessages;\n\n        // Remove all messages at front.\n        while (p != null &amp;&amp; p.target == h &amp;&amp; p.callback == r\n               &amp;&amp; (object == null || p.obj == object)) {\n            Message n = p.next;\n            mMessages = n;\n            p.recycleUnchecked();\n            p = n;\n        }\n\n        // Remove all messages after front.\n        while (p != null) {\n            Message n = p.next;\n            if (n != null) {\n                if (n.target == h &amp;&amp; n.callback == r\n                    &amp;&amp; (object == null || n.obj == object)) {\n                    Message nn = n.next;\n                    n.recycleUnchecked();\n                    p.next = nn;\n                    continue;\n                }\n            }\n            p = n;\n        }\n    }\n}\n\nvoid removeCallbacksAndMessages(Handler h, Object object) {\n    if (h == null) {\n        return;\n    }\n\n    synchronized (this) {\n        Message p = mMessages;\n\n        // Remove all messages at front.\n        while (p != null &amp;&amp; p.target == h\n                &amp;&amp; (object == null || p.obj == object)) {\n            Message n = p.next;\n            mMessages = n;\n            p.recycleUnchecked();\n            p = n;\n        }\n\n        // Remove all messages after front.\n        while (p != null) {\n            Message n = p.next;\n            if (n != null) {\n                if (n.target == h &amp;&amp; (object == null || n.obj == object)) {\n                    Message nn = n.next;\n                    n.recycleUnchecked();\n                    p.next = nn;\n                    continue;\n                }\n            }\n            p = n;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18228916,"reputation":2352,"user_id":13268194,"display_name":"Tarun Anchala"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1665038485,"creation_date":1650450177,"answer_id":71937992,"question_id":5883635,"body_markdown":"To **remove specific runnable** \r\n\r\n    handler.removeCallbacks(yourRunnable)\r\n\r\nTo **remove all runnables**\r\n\r\n    handler.removeCallbacksAndMessages(null)","title":"How to remove all callbacks from a Handler?","body":"<p>To <strong>remove specific runnable</strong></p>\n<pre><code>handler.removeCallbacks(yourRunnable)\n</code></pre>\n<p>To <strong>remove all runnables</strong></p>\n<pre><code>handler.removeCallbacksAndMessages(null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18888620,"reputation":21,"user_id":13779414,"display_name":"A P Harivignesh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655847111,"creation_date":1655663762,"answer_id":72679429,"question_id":5883635,"body_markdown":"None of the solutions worked for me. But I found a solution that worked.\r\n\r\nThe runnables already added in the handler queue got executed even after calling `handler.removeCallbacksAndMessages(null)`. When I tried to stop the thread, it resulted in the error: \r\n\r\n*W/MessageQueue(6436): java.lang.RuntimeException: Handler (android.os.Handler) {416659f0} **sending message to a Handler on a dead thread***\r\n\r\n**My solution:**\r\n\r\n - To remove all the callbacks. you need the reference for all the\r\n   runnables which can be stored in an ArrayList.\r\n\r\n        private ArrayList&lt;Runnable&gt; runnableQueue=new ArrayList&lt;Runnable&gt;();\r\n    \r\n- Then every time u want to post a runnable, store it in the array, then post the array item using handler.post().  \r\n\r\n      private void postInHandler(){\r\n        @override\r\n        runnableQueue.add(new Runnable() {\r\n            public void run() {   \r\n                //your code \r\n            }\r\n        });\r\n        //Post the last item in the array \r\n        handler.post(runnableQueue.get(runnableQueue.size()-1));\r\n        }\r\n\r\n - Then to remove all the callbacks use this method which will remove each callback by iterating through the array.\r\n   \r\n\r\n         private void removeHandlerCallbacks(){\r\n            for(Runnable runnable:runnableQueue){\r\n                networkHandler.removeCallbacks(runnable,null);\r\n            }\r\n            runnableQueue.clear();\r\n        }\r\n\r\n - Hurray! the queue is cleared.  **But wait**. After clearing the array we have to make sure that **no more runnable is posted** in the handler before you stop the thread. So you have to declare:\r\n\r\n   `boolean allowPosting=true;`\r\n\r\nso include this:\r\n\r\n    private void removeHandlerCallbacks(){           \r\n        allowPosting=false;//add this line to stop posting after clearing the array\r\n        for(Runnable runnable:runnableQueue){\r\n            handler.removeCallbacks(runnable,null);\r\n        }\r\n         //Dont forget to clear the array\r\n         runnableQueue.clear();\r\n    }\r\n\r\nThen check the condition before posting in the handler:\r\n\r\n    if(allowPosting){\r\n        postInHandler();\r\n    }\r\n\r\nThat&#39;s all, now the queue is cleared and we are sure that no more runnable is posted after clearing the queue. So it is safe to stop the thread.\r\n","title":"How to remove all callbacks from a Handler?","body":"<p>None of the solutions worked for me. But I found a solution that worked.</p>\n<p>The runnables already added in the handler queue got executed even after calling <code>handler.removeCallbacksAndMessages(null)</code>. When I tried to stop the thread, it resulted in the error:</p>\n<p><em>W/MessageQueue(6436): java.lang.RuntimeException: Handler (android.os.Handler) {416659f0} <strong>sending message to a Handler on a dead thread</strong></em></p>\n<p><strong>My solution:</strong></p>\n<ul>\n<li><p>To remove all the callbacks. you need the reference for all the\nrunnables which can be stored in an ArrayList.</p>\n<pre><code> private ArrayList&lt;Runnable&gt; runnableQueue=new ArrayList&lt;Runnable&gt;();\n</code></pre>\n</li>\n<li><p>Then every time u want to post a runnable, store it in the array, then post the array item using handler.post().</p>\n<pre><code>private void postInHandler(){\n  @override\n  runnableQueue.add(new Runnable() {\n      public void run() {   \n          //your code \n      }\n  });\n  //Post the last item in the array \n  handler.post(runnableQueue.get(runnableQueue.size()-1));\n  }\n</code></pre>\n</li>\n<li><p>Then to remove all the callbacks use this method which will remove each callback by iterating through the array.</p>\n<pre><code>  private void removeHandlerCallbacks(){\n     for(Runnable runnable:runnableQueue){\n         networkHandler.removeCallbacks(runnable,null);\n     }\n     runnableQueue.clear();\n }\n</code></pre>\n</li>\n<li><p>Hurray! the queue is cleared.  <strong>But wait</strong>. After clearing the array we have to make sure that <strong>no more runnable is posted</strong> in the handler before you stop the thread. So you have to declare:</p>\n<p><code>boolean allowPosting=true;</code></p>\n</li>\n</ul>\n<p>so include this:</p>\n<pre><code>private void removeHandlerCallbacks(){           \n    allowPosting=false;//add this line to stop posting after clearing the array\n    for(Runnable runnable:runnableQueue){\n        handler.removeCallbacks(runnable,null);\n    }\n     //Dont forget to clear the array\n     runnableQueue.clear();\n}\n</code></pre>\n<p>Then check the condition before posting in the handler:</p>\n<pre><code>if(allowPosting){\n    postInHandler();\n}\n</code></pre>\n<p>That's all, now the queue is cleared and we are sure that no more runnable is posted after clearing the queue. So it is safe to stop the thread.</p>\n"},{"tags":[],"owner":{"account_id":9888762,"reputation":750,"user_id":7918717,"display_name":"antaki93"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676488247,"creation_date":1676488247,"answer_id":75464451,"question_id":5883635,"body_markdown":"The [documentation][1] says that `removeCallbacksAndMessages(null)` removes all callbacks, but it is not always true. Try this:\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n        handler.removeCallbacksAndMessages(&quot;ACTION_NAME&quot;)\r\n        handler.postDelayed(runnable, &quot;ACTION_NAME&quot;, 10_000) //if you want restart runnable\r\n    } else {\r\n        handler.removeCallbacksAndMessages(null)\r\n        handler.postDelayed(runnable, 10_000) //if you want restart runnable\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/os/Handler#removeCallbacksAndMessages(java.lang.Object)","title":"How to remove all callbacks from a Handler?","body":"<p>The <a href=\"https://developer.android.com/reference/android/os/Handler#removeCallbacksAndMessages(java.lang.Object)\" rel=\"nofollow noreferrer\">documentation</a> says that <code>removeCallbacksAndMessages(null)</code> removes all callbacks, but it is not always true. Try this:</p>\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n    handler.removeCallbacksAndMessages(&quot;ACTION_NAME&quot;)\n    handler.postDelayed(runnable, &quot;ACTION_NAME&quot;, 10_000) //if you want restart runnable\n} else {\n    handler.removeCallbacksAndMessages(null)\n    handler.postDelayed(runnable, 10_000) //if you want restart runnable\n}\n</code></pre>\n"}],"owner":{"account_id":329756,"reputation":18639,"user_id":653457,"accept_rate":89,"display_name":"Luke Vo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138804,"favorite_count":0,"down_vote_count":0,"up_vote_count":255,"accepted_answer_id":10145615,"answer_count":9,"score":255,"last_activity_date":1676488247,"creation_date":1304513308,"question_id":5883635,"body_markdown":"I have a [Handler][1] from my sub-Activity that was called by the main [Activity][2]. This Handler is used by sub-classes to [`postDelay`][3] some Runnables, and I can&#39;t manage them. Now, in the `onStop` event, I need to remove them before finishing the Activity (somehow I called `finish()`, but it still call again and again). Is there anyway to remove all callbacks from a Handler?\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/os/Handler.html\r\n  [2]: http://developer.android.com/reference/android/app/Activity.html\r\n  [3]: http://developer.android.com/reference/android/os/Handler.html#postDelayed%28java.lang.Runnable,%20long%29","title":"How to remove all callbacks from a Handler?","body":"<p>I have a <a href=\"http://developer.android.com/reference/android/os/Handler.html\" rel=\"noreferrer\">Handler</a> from my sub-Activity that was called by the main <a href=\"http://developer.android.com/reference/android/app/Activity.html\" rel=\"noreferrer\">Activity</a>. This Handler is used by sub-classes to <a href=\"http://developer.android.com/reference/android/os/Handler.html#postDelayed%28java.lang.Runnable,%20long%29\" rel=\"noreferrer\"><code>postDelay</code></a> some Runnables, and I can't manage them. Now, in the <code>onStop</code> event, I need to remove them before finishing the Activity (somehow I called <code>finish()</code>, but it still call again and again). Is there anyway to remove all callbacks from a Handler?</p>\n"},{"tags":["java","spring-boot"],"answers":[{"comments":[{"owner":{"account_id":24428149,"reputation":66,"user_id":18353450,"display_name":"Emirhan Naneli"},"score":0,"creation_date":1676483541,"post_id":75463666,"comment_id":133147577,"body_markdown":"you can do ip check, maybe it will work","body":"you can do ip check, maybe it will work"},{"owner":{"account_id":15570558,"reputation":129,"user_id":11233137,"display_name":"Shivam Singh"},"score":0,"creation_date":1676484925,"post_id":75463666,"comment_id":133147956,"body_markdown":"How can we do the ip check","body":"How can we do the ip check"},{"owner":{"account_id":24428149,"reputation":66,"user_id":18353450,"display_name":"Emirhan Naneli"},"score":0,"creation_date":1676489261,"post_id":75463666,"comment_id":133149213,"body_markdown":"You can get the ip data from the incoming request and then check it from your gateway server. I can&#39;t tell you how to check it because I don&#39;t know what to you do.","body":"You can get the ip data from the incoming request and then check it from your gateway server. I can&#39;t tell you how to check it because I don&#39;t know what to you do."}],"tags":[],"owner":{"account_id":24428149,"reputation":66,"user_id":18353450,"display_name":"Emirhan Naneli"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676483456,"creation_date":1676483456,"answer_id":75463666,"question_id":75463242,"body_markdown":"you cannot prevent this. The only part you can control is the host value in the header, but they can manipulate the host value.","title":"Spring cloud gateway to forward request if its coming from whitelisted domain","body":"<p>you cannot prevent this. The only part you can control is the host value in the header, but they can manipulate the host value.</p>\n"}],"owner":{"account_id":15570558,"reputation":129,"user_id":11233137,"display_name":"Shivam Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676488190,"creation_date":1676481143,"question_id":75463242,"body_markdown":"I have zuul already in place to route the services i am stuck with domain filtering \r\n\r\nI want a request to go through my endpoint only if its coming through whitelisted domain\r\n\r\n**Ex\r\npass request if its coming from https://example.com\r\nBlock it : if its coming from any other domain (https://example1.com**)\r\n\r\nCan we do it through cloud gateway or is there any other way to achieve this.\r\n\r\n\r\n","title":"Spring cloud gateway to forward request if its coming from whitelisted domain","body":"<p>I have zuul already in place to route the services i am stuck with domain filtering</p>\n<p>I want a request to go through my endpoint only if its coming through whitelisted domain</p>\n<p><strong>Ex\npass request if its coming from <a href=\"https://example.com\" rel=\"nofollow noreferrer\">https://example.com</a>\nBlock it : if its coming from any other domain (<a href=\"https://example1.com\" rel=\"nofollow noreferrer\">https://example1.com</a></strong>)</p>\n<p>Can we do it through cloud gateway or is there any other way to achieve this.</p>\n"},{"tags":["java","spring-boot","keycloak","spring-security-oauth2"],"answers":[{"comments":[{"owner":{"account_id":27696519,"reputation":3,"user_id":21142120,"display_name":"Flatron"},"score":1,"creation_date":1675499301,"post_id":75341663,"comment_id":132945569,"body_markdown":"Thanks for your message, appreciate it. I played already a bit with Keycloak, managed to get a token. But still I&#39;m not sure if I was clear enough. I know that the job of storing users and roles is delegated to the Keycloak server. However, if I am user X, what is the best way to tell my backend server that I really am user X?\n\nI would like to have a simple endpoint like: /backend/api/todos/{userId}.\n\nHow can I map my own backend userId (or call it however you want, of course) to the keycloak user? This is what for me it&#39;s not clear what&#39;s the best practice.","body":"Thanks for your message, appreciate it. I played already a bit with Keycloak, managed to get a token. But still I&#39;m not sure if I was clear enough. I know that the job of storing users and roles is delegated to the Keycloak server. However, if I am user X, what is the best way to tell my backend server that I really am user X?  I would like to have a simple endpoint like: /backend/api/todos/{userId}.  How can I map my own backend userId (or call it however you want, of course) to the keycloak user? This is what for me it&#39;s not clear what&#39;s the best practice."},{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1676368750,"post_id":75341663,"comment_id":133118484,"body_markdown":"When your application is using these kind of software to delegate stuff, the best practice is to delegate all the user management layer to them. So you get a user repository which can be shared across many web and software applications inside your enterprise. As @ch4mp has said, you should not mobilize a data query on each request only for that. To get your user id, look at the decrypted JWT token which is containing your user information to map roles and privileges.","body":"When your application is using these kind of software to delegate stuff, the best practice is to delegate all the user management layer to them. So you get a user repository which can be shared across many web and software applications inside your enterprise. As @ch4mp has said, you should not mobilize a data query on each request only for that. To get your user id, look at the decrypted JWT token which is containing your user information to map roles and privileges."},{"owner":{"account_id":27696519,"reputation":3,"user_id":21142120,"display_name":"Flatron"},"score":0,"creation_date":1676480557,"post_id":75341663,"comment_id":133146713,"body_markdown":"Thank you for the answer. I played in the meanwhile with Keycloack and I managed to retrieve the data that I need from the JWT, indeed. I didn&#39;t go any further yet, but my plan is to map an email address (from the JWT) to an entity (let&#39;s call it user) and play with the backend user id both in frontend and backend. Of course NOT for validating tokens and user management itself, that&#39;s the Keycloak part. But I need an entity to identify the real-life-client in my backend application, I don&#39;t see how Keycloack would help me without me having my own identifier. Please correct me if I&#39;m wrong.","body":"Thank you for the answer. I played in the meanwhile with Keycloack and I managed to retrieve the data that I need from the JWT, indeed. I didn&#39;t go any further yet, but my plan is to map an email address (from the JWT) to an entity (let&#39;s call it user) and play with the backend user id both in frontend and backend. Of course NOT for validating tokens and user management itself, that&#39;s the Keycloak part. But I need an entity to identify the real-life-client in my backend application, I don&#39;t see how Keycloack would help me without me having my own identifier. Please correct me if I&#39;m wrong."}],"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675463856,"creation_date":1675463856,"answer_id":75341663,"question_id":75338738,"body_markdown":"The simplest way to do it is to consider that the job of storing users will be delegated to your Keycloak server. But you can implement some roles and checks manually with in-memory or any database of your preference too.\r\n\r\nI invite you to follow some documentation about OAuth 2 and Keycloak, to make requests to get a valid token for a time period and to make others request inside that time period to get datas. You can use CURL to make requests or web/software tools like Postman.\r\n\r\nBe careful, a lot of Keycloak Adapters are deprecated ones since some months.","title":"Keycloak and SpringBoot","body":"<p>The simplest way to do it is to consider that the job of storing users will be delegated to your Keycloak server. But you can implement some roles and checks manually with in-memory or any database of your preference too.</p>\n<p>I invite you to follow some documentation about OAuth 2 and Keycloak, to make requests to get a valid token for a time period and to make others request inside that time period to get datas. You can use CURL to make requests or web/software tools like Postman.</p>\n<p>Be careful, a lot of Keycloak Adapters are deprecated ones since some months.</p>\n"},{"comments":[{"owner":{"account_id":27696519,"reputation":3,"user_id":21142120,"display_name":"Flatron"},"score":0,"creation_date":1676480566,"post_id":75415889,"comment_id":133146720,"body_markdown":"Thank you for the answer. I played in the meanwhile with Keycloack and I managed to retrieve the data that I need from the JWT, indeed. I didn&#39;t go any further yet, but my plan is to map an email address (from the JWT) to an entity (let&#39;s call it user) and play with the backend user id both in frontend and backend. Of course NOT for validating tokens and user management itself, that&#39;s the Keycloak part. But I need an entity to identify the real-life-client in my backend application, I don&#39;t see how Keycloack would help me without me having my own identifier. Please correct me if I&#39;m wrong.","body":"Thank you for the answer. I played in the meanwhile with Keycloack and I managed to retrieve the data that I need from the JWT, indeed. I didn&#39;t go any further yet, but my plan is to map an email address (from the JWT) to an entity (let&#39;s call it user) and play with the backend user id both in frontend and backend. Of course NOT for validating tokens and user management itself, that&#39;s the Keycloak part. But I need an entity to identify the real-life-client in my backend application, I don&#39;t see how Keycloack would help me without me having my own identifier. Please correct me if I&#39;m wrong."},{"owner":{"account_id":2143029,"reputation":1542,"user_id":1901261,"accept_rate":100,"display_name":"cneller"},"score":0,"creation_date":1677100640,"post_id":75415889,"comment_id":133273536,"body_markdown":"Yes, I think that&#39;s reasonable. You can use the token data and map that to, say, preferences for your back-end application based on email or username or whatever is appropriate for your app.","body":"Yes, I think that&#39;s reasonable. You can use the token data and map that to, say, preferences for your back-end application based on email or username or whatever is appropriate for your app."}],"tags":[],"owner":{"account_id":2143029,"reputation":1542,"user_id":1901261,"accept_rate":100,"display_name":"cneller"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676061327,"creation_date":1676061327,"answer_id":75415889,"question_id":75338738,"body_markdown":"I would echo BendaThierry&#39;s comments. Look into OAuth2 and Keycloak. The Bearer token you receive from Keycloak will have user information in it (typically in the Claims). This way you can have user preferences or features in your backend without needing to manage the authorization and authentication that Keycloak does.\r\n\r\nThere are lots of great resource include Spring&#39;s website tutorials (like https://spring.io/guides/tutorials/spring-boot-oauth2/) and Baeldung (https://www.baeldung.com/).","title":"Keycloak and SpringBoot","body":"<p>I would echo BendaThierry's comments. Look into OAuth2 and Keycloak. The Bearer token you receive from Keycloak will have user information in it (typically in the Claims). This way you can have user preferences or features in your backend without needing to manage the authorization and authentication that Keycloak does.</p>\n<p>There are lots of great resource include Spring's website tutorials (like <a href=\"https://spring.io/guides/tutorials/spring-boot-oauth2/\" rel=\"nofollow noreferrer\">https://spring.io/guides/tutorials/spring-boot-oauth2/</a>) and Baeldung (<a href=\"https://www.baeldung.com/\" rel=\"nofollow noreferrer\">https://www.baeldung.com/</a>).</p>\n"},{"comments":[{"owner":{"account_id":27696519,"reputation":3,"user_id":21142120,"display_name":"Flatron"},"score":0,"creation_date":1676480561,"post_id":75417249,"comment_id":133146718,"body_markdown":"Thank you for the answer. I played in the meanwhile with Keycloack and I managed to retrieve the data that I need from the JWT, indeed. I didn&#39;t go any further yet, but my plan is to map an email address (from the JWT) to an entity (let&#39;s call it user) and play with the backend user id both in frontend and backend. Of course NOT for validating tokens and user management itself, that&#39;s the Keycloak part. But I need an entity to identify the real-life-client in my backend application, I don&#39;t see how Keycloack would help me without me having my own identifier. Please correct me if I&#39;m wrong.","body":"Thank you for the answer. I played in the meanwhile with Keycloack and I managed to retrieve the data that I need from the JWT, indeed. I didn&#39;t go any further yet, but my plan is to map an email address (from the JWT) to an entity (let&#39;s call it user) and play with the backend user id both in frontend and backend. Of course NOT for validating tokens and user management itself, that&#39;s the Keycloak part. But I need an entity to identify the real-life-client in my backend application, I don&#39;t see how Keycloack would help me without me having my own identifier. Please correct me if I&#39;m wrong."},{"owner":{"account_id":27696519,"reputation":3,"user_id":21142120,"display_name":"Flatron"},"score":0,"creation_date":1676480797,"post_id":75417249,"comment_id":133146793,"body_markdown":"You mentioned: &quot;it is a waste to query a DB when evaluating access-control rules after decoding a JWT:&quot; --&gt; no, my plan is not to do that at each request, of course. I just want to know this user-id (from my db) into the frontend. I will retrieve it only once, after the login (login being managed by Keycloak, of course).","body":"You mentioned: &quot;it is a waste to query a DB when evaluating access-control rules after decoding a JWT:&quot; --&gt; no, my plan is not to do that at each request, of course. I just want to know this user-id (from my db) into the frontend. I will retrieve it only once, after the login (login being managed by Keycloak, of course)."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1676481457,"post_id":75417249,"comment_id":133146995,"body_markdown":"The OpenID client should have access to the ID token, and as so to the user `subject` as well as potential surrogate keys (`email`, `preferred_username`,...). If the OpenID client is not the UI application consuming the API (case of apps rendered in the browser with BFF pattern), you can have a look at the BFF tutorial linked in my answer. It contains a sample endpoint to reflect user OpenID claims contained in the access token.","body":"The OpenID client should have access to the ID token, and as so to the user <code>subject</code> as well as potential surrogate keys (<code>email</code>, <code>preferred_username</code>,...). If the OpenID client is not the UI application consuming the API (case of apps rendered in the browser with BFF pattern), you can have a look at the BFF tutorial linked in my answer. It contains a sample endpoint to reflect user OpenID claims contained in the access token."}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676487651,"creation_date":1676074244,"answer_id":75417249,"question_id":75338738,"body_markdown":"# OpenID tokens are rich\r\nKeycloak is an OpenID provider and emits JWTs. You already have the standard OpenID info about user identity in the token (matching requested scopes), plus some Keycloak specific stuff like roles plus whatever you add with &quot;mappers&quot;.\r\n\r\nAll the data required for **U**ser **A**uthentication (identity) and **A**uthorization (access-control) should be embedded in access-tokens.\r\n\r\n# How to bind user data between Keycloak and your backend\r\nIn my opinion, the best option is to leave user management to Keycloak (do not duplicate what is already provided by Keycloak). An exception is if you already have a large user database, then you should read the doc or [blog posts][1] to bind Keycloak to this DB instead of using its own.\r\n\r\n# Spring clients and resource-servers configuration\r\nI have detailed that for Spring Boot 3 in this other answer: [Use Keycloak Spring Adapter with Spring Boot 3][2]\r\n\r\nIn addition to explaining configuration with Spring Boot client and resource-server starters, it links to alternate Spring Boot starters which are probably easier to use and more portable (while building on top of `spring-boot-starter-oauth2-resource-server`).\r\n\r\n\r\nI Also have a set of tutorials from most basic RBAC to advanced access-control involving the accessed resource itself as well as standard and private OpenID claims from the token (user details) [there][3].\r\n\r\n# Tokens private claims \r\nFor performance reason, it is a waste to query a DB (or call a web-service) when evaluating access-control rules after decoding a JWT: this happens for each request.\r\n\r\nIt is much more efficient to put this data in the tokens as private claims: this happens only once for each access-token issuance.\r\n\r\nKeycloak provides with quite a few &quot;mappers&quot; you can configure to enrich tokens and also allows you to write your own. Sample project with a custom Keycloak mapper [here][4]. This is a multi-module maven project composed of:\r\n- a custom &quot;mapper&quot; responsible for adding a private claim to the tokens\r\n- a web-service which exposes the data used to set the value of this claim\r\n- a resource-server reading this private claim to take access-control decisions\r\n\r\n\r\n  [1]: https://medium.com/javarevisited/keycloak-integration-with-existing-database-587c119db3ae\r\n  [2]: https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\r\n  [3]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\r\n  [4]: https://github.com/ch4mpy/user-proxies/tree/main/api","title":"Keycloak and SpringBoot","body":"<h1>OpenID tokens are rich</h1>\n<p>Keycloak is an OpenID provider and emits JWTs. You already have the standard OpenID info about user identity in the token (matching requested scopes), plus some Keycloak specific stuff like roles plus whatever you add with &quot;mappers&quot;.</p>\n<p>All the data required for <strong>U</strong>ser <strong>A</strong>uthentication (identity) and <strong>A</strong>uthorization (access-control) should be embedded in access-tokens.</p>\n<h1>How to bind user data between Keycloak and your backend</h1>\n<p>In my opinion, the best option is to leave user management to Keycloak (do not duplicate what is already provided by Keycloak). An exception is if you already have a large user database, then you should read the doc or <a href=\"https://medium.com/javarevisited/keycloak-integration-with-existing-database-587c119db3ae\" rel=\"nofollow noreferrer\">blog posts</a> to bind Keycloak to this DB instead of using its own.</p>\n<h1>Spring clients and resource-servers configuration</h1>\n<p>I have detailed that for Spring Boot 3 in this other answer: <a href=\"https://stackoverflow.com/questions/74571191/use-keycloak-spring-adapter-with-spring-boot-3/74572732#74572732\">Use Keycloak Spring Adapter with Spring Boot 3</a></p>\n<p>In addition to explaining configuration with Spring Boot client and resource-server starters, it links to alternate Spring Boot starters which are probably easier to use and more portable (while building on top of <code>spring-boot-starter-oauth2-resource-server</code>).</p>\n<p>I Also have a set of tutorials from most basic RBAC to advanced access-control involving the accessed resource itself as well as standard and private OpenID claims from the token (user details) <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials\" rel=\"nofollow noreferrer\">there</a>.</p>\n<h1>Tokens private claims</h1>\n<p>For performance reason, it is a waste to query a DB (or call a web-service) when evaluating access-control rules after decoding a JWT: this happens for each request.</p>\n<p>It is much more efficient to put this data in the tokens as private claims: this happens only once for each access-token issuance.</p>\n<p>Keycloak provides with quite a few &quot;mappers&quot; you can configure to enrich tokens and also allows you to write your own. Sample project with a custom Keycloak mapper <a href=\"https://github.com/ch4mpy/user-proxies/tree/main/api\" rel=\"nofollow noreferrer\">here</a>. This is a multi-module maven project composed of:</p>\n<ul>\n<li>a custom &quot;mapper&quot; responsible for adding a private claim to the tokens</li>\n<li>a web-service which exposes the data used to set the value of this claim</li>\n<li>a resource-server reading this private claim to take access-control decisions</li>\n</ul>\n"}],"owner":{"account_id":27696519,"reputation":3,"user_id":21142120,"display_name":"Flatron"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75417249,"answer_count":3,"score":0,"last_activity_date":1676487651,"creation_date":1675442895,"question_id":75338738,"body_markdown":"I started playing with Keycloak, but I have a question. While reading articles, I always found examples where a client (let&#39;s say Angular) is logging in on Keycloak, it gets a bearer and then it send the bearer to the SpringBoot application. The backend, so, validates that the bearer is valid and, if so, it allows you accessing the desired endpoint. \r\n\r\nBut it&#39;s not enough in my opinion. I don&#39;t need just to login, I would need the entire functionality - let&#39;s say I have a backend application and I need a user. I could have a basic todo-application, how do I know for which backend user I am actually accesing an endpoint?\r\n\r\nStraight question: how can I bind my own backend user (stored in the DB from backend) to the one from Keycloak? \r\n\r\nWhat is the best way to do it? The only thing that I found online and into the Keycloack documenation is that I could move the logic of logging in from client (Angular) to backend (SpringBoot). Is this the way to go? \r\n\r\n\r\nImagine like I&#39;m creating my manual /login endpoint on backend on which I would then call the Keycloak server (Keycloak REST client?) and I would pass myself (as a backend) the bearer to the client.\r\n\r\nPlease help me with an explanation if I&#39;m right or wrong, what&#39;s the best practice, maybe help me with an online example, because I just found out the too easy ones.","title":"Keycloak and SpringBoot","body":"<p>I started playing with Keycloak, but I have a question. While reading articles, I always found examples where a client (let's say Angular) is logging in on Keycloak, it gets a bearer and then it send the bearer to the SpringBoot application. The backend, so, validates that the bearer is valid and, if so, it allows you accessing the desired endpoint.</p>\n<p>But it's not enough in my opinion. I don't need just to login, I would need the entire functionality - let's say I have a backend application and I need a user. I could have a basic todo-application, how do I know for which backend user I am actually accesing an endpoint?</p>\n<p>Straight question: how can I bind my own backend user (stored in the DB from backend) to the one from Keycloak?</p>\n<p>What is the best way to do it? The only thing that I found online and into the Keycloack documenation is that I could move the logic of logging in from client (Angular) to backend (SpringBoot). Is this the way to go?</p>\n<p>Imagine like I'm creating my manual /login endpoint on backend on which I would then call the Keycloak server (Keycloak REST client?) and I would pass myself (as a backend) the bearer to the client.</p>\n<p>Please help me with an explanation if I'm right or wrong, what's the best practice, maybe help me with an online example, because I just found out the too easy ones.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user2858650"},"score":0,"creation_date":1676485969,"post_id":75463815,"comment_id":133148256,"body_markdown":"JavaDocs are going to be your best friend here... take a look at the documentation to see what the library is capable of (here are the docs for [Java 17](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics2D.html) but you can Google if you are using a different version of Java). I&#39;m seeing a couple methods that look promising.","body":"JavaDocs are going to be your best friend here... take a look at the documentation to see what the library is capable of (here are the docs for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics2D.html\" rel=\"nofollow noreferrer\">Java 17</a> but you can Google if you are using a different version of Java). I&#39;m seeing a couple methods that look promising."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1676487202,"post_id":75463815,"comment_id":133148617,"body_markdown":"1) Check out: https://stackoverflow.com/a/75405991/131872 for an example showing how to draw the line at different angles of rotation. 2) Next you would need to add a property to your class to set the current angle of rotation. 3) Then you will need to use a Swing Timer to schedule the animation. Every time the Timer fires you would set the new angle of rotation and then invoke repaint() on your components  Check out: https://stackoverflow.com/a/30417857/131872 for a simple example of using a Timer.","body":"1) Check out: <a href=\"https://stackoverflow.com/a/75405991/131872\">stackoverflow.com/a/75405991/131872</a> for an example showing how to draw the line at different angles of rotation. 2) Next you would need to add a property to your class to set the current angle of rotation. 3) Then you will need to use a Swing Timer to schedule the animation. Every time the Timer fires you would set the new angle of rotation and then invoke repaint() on your components  Check out: <a href=\"https://stackoverflow.com/a/30417857/131872\">stackoverflow.com/a/30417857/131872</a> for a simple example of using a Timer."}],"answers":[{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676893538,"post_id":75464334,"comment_id":133222889,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75464334/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25735523,"reputation":11,"user_id":21113013,"display_name":"A1iMansour"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676487554,"creation_date":1676487523,"answer_id":75464334,"question_id":75463815,"body_markdown":"you can add a method that adjusts the coordinates of the hand, and this method might contain some if statement so say if the hand reached specific x it will subtract from x to go to the other direction. And then call this method inside the draw function","title":"How could I make my Snowmans arms wave using Graphics 2D?","body":"<p>you can add a method that adjusts the coordinates of the hand, and this method might contain some if statement so say if the hand reached specific x it will subtract from x to go to the other direction. And then call this method inside the draw function</p>\n"}],"owner":{"account_id":27604656,"reputation":1,"user_id":21069066,"display_name":"TeeDot"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676487554,"creation_date":1676484370,"question_id":75463815,"body_markdown":"So I am currently creating a drawing that creates a Snowman, as well as some other objects in the background. I got the drawing part down, it looks just as it should, but I wanted to add a little bit of movement within it. I used Graphics2D to draw all my shapes, lines, ellipses, etc., but I&#39;m not sure how/if I can make the Snowmans arms wave back and forth with the drawLine method. \r\n\r\nI provided the code for the entire Snowman here. It&#39;s very simple, as I said it just uses Graphics2D to draw everything. The arm1 and arm2 are near the bottom.\r\n\r\n\r\n    public class Snowman {\r\n\t\tprivate int x; \r\n\t\tprivate int y;\r\n\t\tprivate int width;\r\n\t\tprivate int height;\r\n\t\t\r\n\tpublic Snowman(int x, int y, int width, int height) {\r\n\t\tthis.x=x; \r\n\t\tthis.y=y;\r\n\t\tthis.width=width;\r\n\t\tthis.height=height;\r\n\t}\r\n\tpublic void draw(Graphics g) \r\n\t{\r\n\t\tGraphics2D g2 = (Graphics2D) g;\r\n\t\t\r\n\t\t // the body of the snowman\r\n        g2.setColor(Color.WHITE);\r\n        g2.fillOval(x+125, y+40, 200, 200);\r\n        g2.fillOval(x+75, y+140, 300, 300);\r\n        g2.fillOval(x+25, y+290, 400, 400);\r\n\r\n        // the buttons\r\n        g2.setColor(Color.BLACK);\r\n        g2.fillOval(x+210, y+210, 40, 40);\r\n        g2.fillOval(x+210, y+270, 40, 40);\r\n        g2.fillOval(x+210, y+330, 40, 40);\r\n\r\n        // the eyes and mouth\r\n        g2.fillOval(x+190, y+98, 20, 20);\r\n        g2.fillOval(x+245, y+98, 20, 20);\r\n        g2.drawArc(x+180, y+120, 100, 50, 200, 140);\r\n\r\n        // arm1\r\n        g2.drawLine(x+75, y+270, x, y+90);\r\n       \r\n        //arm2\r\n        g2.drawLine(x+375, y+270, x+450, y+90);\r\n        \r\n        // the hat\r\n        g2.setColor(Color.BLACK);\r\n        g2.fillRect(x+177, y+40, 100, 30);\r\n        g2.fillRect(x+202, y, 50, 50);\r\n\r\n      }\r\n    }\r\n\r\nIs there a way I can implement something to make them move? Or would I have to draw these another way?","title":"How could I make my Snowmans arms wave using Graphics 2D?","body":"<p>So I am currently creating a drawing that creates a Snowman, as well as some other objects in the background. I got the drawing part down, it looks just as it should, but I wanted to add a little bit of movement within it. I used Graphics2D to draw all my shapes, lines, ellipses, etc., but I'm not sure how/if I can make the Snowmans arms wave back and forth with the drawLine method.</p>\n<p>I provided the code for the entire Snowman here. It's very simple, as I said it just uses Graphics2D to draw everything. The arm1 and arm2 are near the bottom.</p>\n<pre><code>public class Snowman {\n    private int x; \n    private int y;\n    private int width;\n    private int height;\n    \npublic Snowman(int x, int y, int width, int height) {\n    this.x=x; \n    this.y=y;\n    this.width=width;\n    this.height=height;\n}\npublic void draw(Graphics g) \n{\n    Graphics2D g2 = (Graphics2D) g;\n    \n     // the body of the snowman\n    g2.setColor(Color.WHITE);\n    g2.fillOval(x+125, y+40, 200, 200);\n    g2.fillOval(x+75, y+140, 300, 300);\n    g2.fillOval(x+25, y+290, 400, 400);\n\n    // the buttons\n    g2.setColor(Color.BLACK);\n    g2.fillOval(x+210, y+210, 40, 40);\n    g2.fillOval(x+210, y+270, 40, 40);\n    g2.fillOval(x+210, y+330, 40, 40);\n\n    // the eyes and mouth\n    g2.fillOval(x+190, y+98, 20, 20);\n    g2.fillOval(x+245, y+98, 20, 20);\n    g2.drawArc(x+180, y+120, 100, 50, 200, 140);\n\n    // arm1\n    g2.drawLine(x+75, y+270, x, y+90);\n   \n    //arm2\n    g2.drawLine(x+375, y+270, x+450, y+90);\n    \n    // the hat\n    g2.setColor(Color.BLACK);\n    g2.fillRect(x+177, y+40, 100, 30);\n    g2.fillRect(x+202, y, 50, 50);\n\n  }\n}\n</code></pre>\n<p>Is there a way I can implement something to make them move? Or would I have to draw these another way?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2805226,"reputation":777,"user_id":2412606,"display_name":"Happy"},"score":0,"creation_date":1639987905,"post_id":70418023,"comment_id":124479015,"body_markdown":"Note. The source code line who throws the exception is https://github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L244","body":"Note. The source code line who throws the exception is <a href=\"https://github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L244\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":8404485,"reputation":11,"user_id":6308383,"display_name":"James Yang"},"score":0,"creation_date":1640334012,"post_id":70419081,"comment_id":124571369,"body_markdown":"I add configruation -Djava.security.debug=&quot;jca&quot; in server start script and not found ExceptionInInitializerError log. how to fixing this error?","body":"I add configruation -Djava.security.debug=&quot;jca&quot; in server start script and not found ExceptionInInitializerError log. how to fixing this error?"}],"tags":[],"owner":{"account_id":2805226,"reputation":777,"user_id":2412606,"display_name":"Happy"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639988519,"creation_date":1639988519,"answer_id":70419081,"question_id":70418023,"body_markdown":"Ah, please try to search the log, it is possible a `ExceptionInInitializerError` was happened before, so this time the JVM throws `NoClassDefFoundError` directly because it was failed last time.\r\n\r\nNeed to get the call stack of the original `ExceptionInInitializerError` (if it exists) in order to fix this issue.\r\n\r\nRelated codes and links\r\n\r\n- https://github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L308 - the class `ProviderConfig$ProviderLoader` was defined inside OpenJDK 11 so it is not likely to a Java `classpath` issue \r\n- https://stackoverflow.com/a/5756989/2412606 - See definition of `NoClassDefFoundError` here. thanks to [@oldpeculier][1] and [@jared][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/358475/oldpeculier\r\n  [2]: https://stackoverflow.com/users/44757/jared","title":"Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader","body":"<p>Ah, please try to search the log, it is possible a <code>ExceptionInInitializerError</code> was happened before, so this time the JVM throws <code>NoClassDefFoundError</code> directly because it was failed last time.</p>\n<p>Need to get the call stack of the original <code>ExceptionInInitializerError</code> (if it exists) in order to fix this issue.</p>\n<p>Related codes and links</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L308\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk11u/blob/jdk-11+28/src/java.base/share/classes/sun/security/jca/ProviderConfig.java#L308</a> - the class <code>ProviderConfig$ProviderLoader</code> was defined inside OpenJDK 11 so it is not likely to a Java <code>classpath</code> issue</li>\n<li><a href=\"https://stackoverflow.com/a/5756989/2412606\">https://stackoverflow.com/a/5756989/2412606</a> - See definition of <code>NoClassDefFoundError</code> here. thanks to <a href=\"https://stackoverflow.com/users/358475/oldpeculier\">@oldpeculier</a> and <a href=\"https://stackoverflow.com/users/44757/jared\">@jared</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1640757867,"post_id":70514389,"comment_id":124650332,"body_markdown":"As its currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As its currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/70514389/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":8404485,"reputation":11,"user_id":6308383,"display_name":"James Yang"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640742935,"creation_date":1640742935,"answer_id":70514389,"question_id":70418023,"body_markdown":"For this problem not very clear why occur. in order to fix the problem. we can  manual use Security.addSecurity method to load jca or analogous component again. like BouncyCastle. now it work fine for me.","title":"Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader","body":"<p>For this problem not very clear why occur. in order to fix the problem. we can  manual use Security.addSecurity method to load jca or analogous component again. like BouncyCastle. now it work fine for me.</p>\n"},{"tags":[],"owner":{"account_id":2807582,"reputation":1003,"user_id":2414505,"accept_rate":81,"display_name":"likeGreen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676487522,"creation_date":1676487522,"answer_id":75464333,"question_id":70418023,"body_markdown":"I was using Java 11 and the project was build using Java 1.8. Once I switched to Java 1.8 it worked fine","title":"Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader","body":"<p>I was using Java 11 and the project was build using Java 1.8. Once I switched to Java 1.8 it worked fine</p>\n"}],"owner":{"account_id":8404485,"reputation":11,"user_id":6308383,"display_name":"James Yang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1676487522,"creation_date":1639981197,"question_id":70418023,"body_markdown":"Springboot occassionally occur following errors:\r\n\r\nCaused by: java.lang.NoClassDefFoundError: Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader\r\n\r\n    at java.base/sun.security.jca.ProviderConfig$3.run(ProviderConfig.java:244)\r\n\r\n    at java.base/sun.security.jca.ProviderConfig$3.run(ProviderConfig.java:238)\r\n\r\n    at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n\r\n    at java.base/sun.security.jca.ProviderConfig.doLoadProvider(ProviderConfig.java:238)\r\n\r\n    at java.base/sun.security.jca.ProviderConfig.getProvider(ProviderConfig.java:218)\r\n\r\n    at java.base/sun.security.jca.ProviderList.getProvider(ProviderList.java:266)\r\n\r\n    at java.base/sun.security.jca.ProviderList$ServiceList.tryGet(ProviderList.java:511)\r\n\r\n    at java.base/sun.security.jca.ProviderList$ServiceList$1.hasNext(ProviderList.java:565)\r\n\r\n    at java.base/javax.crypto.SecretKeyFactory.nextSpi(SecretKeyFactory.java:301)\r\n\r\n    at java.base/javax.crypto.SecretKeyFactory.&lt;init&gt;(SecretKeyFactory.java:121)\r\n\r\n    at java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:168)\r\n\r\n    at com.kingbase8.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:155)\r\n\r\n    at com.kingbase8.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)\r\n\r\n    at com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196)\r\n\r\n    at com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163)\r\n\r\n    at com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)\r\n\r\nJDK information as following:\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8EA35.png","title":"Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader","body":"<p>Springboot occassionally occur following errors:</p>\n<p>Caused by: java.lang.NoClassDefFoundError: Could not initialize class sun.security.jca.ProviderConfig$ProviderLoader</p>\n<pre><code>at java.base/sun.security.jca.ProviderConfig$3.run(ProviderConfig.java:244)\n\nat java.base/sun.security.jca.ProviderConfig$3.run(ProviderConfig.java:238)\n\nat java.base/java.security.AccessController.doPrivileged(Native Method)\n\nat java.base/sun.security.jca.ProviderConfig.doLoadProvider(ProviderConfig.java:238)\n\nat java.base/sun.security.jca.ProviderConfig.getProvider(ProviderConfig.java:218)\n\nat java.base/sun.security.jca.ProviderList.getProvider(ProviderList.java:266)\n\nat java.base/sun.security.jca.ProviderList$ServiceList.tryGet(ProviderList.java:511)\n\nat java.base/sun.security.jca.ProviderList$ServiceList$1.hasNext(ProviderList.java:565)\n\nat java.base/javax.crypto.SecretKeyFactory.nextSpi(SecretKeyFactory.java:301)\n\nat java.base/javax.crypto.SecretKeyFactory.&lt;init&gt;(SecretKeyFactory.java:121)\n\nat java.base/javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:168)\n\nat com.kingbase8.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:155)\n\nat com.kingbase8.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59)\n\nat com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196)\n\nat com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163)\n\nat com.kingbase8.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130)\n</code></pre>\n<p>JDK information as following:</p>\n<p><a href=\"https://i.stack.imgur.com/8EA35.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","excel","vba","pivot-table","aspose-cells"],"answers":[{"comments":[{"owner":{"account_id":23525864,"reputation":3,"user_id":17572412,"display_name":"GVA32156"},"score":0,"creation_date":1676538968,"post_id":75464326,"comment_id":133158224,"body_markdown":"This works in the case you only have a single data field in your pivot table like in your example. In my case I have several data fields and I would like to apply the format to ONLY one of them. Unfortunately the method pivotTable.getDataBodyRange() returns the whole data body range and does not allow me to select the body of one data field among the list, just as the VBA function I mentioned do. Thanks for your support","body":"This works in the case you only have a single data field in your pivot table like in your example. In my case I have several data fields and I would like to apply the format to ONLY one of them. Unfortunately the method pivotTable.getDataBodyRange() returns the whole data body range and does not allow me to select the body of one data field among the list, just as the VBA function I mentioned do. Thanks for your support"},{"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"score":0,"creation_date":1676571829,"post_id":75464326,"comment_id":133168735,"body_markdown":"To evaluate your issue/requirements, we need your template Excel file containing a pivot table having more than one data fields. Please use dedicated forum (https://forum.aspose.com/c/cells/9) to post your issue with sample Excel files.","body":"To evaluate your issue/requirements, we need your template Excel file containing a pivot table having more than one data fields. Please use dedicated forum (<a href=\"https://forum.aspose.com/c/cells/9\" rel=\"nofollow noreferrer\">forum.aspose.com/c/cells/9</a>) to post your issue with sample Excel files."},{"owner":{"account_id":23525864,"reputation":3,"user_id":17572412,"display_name":"GVA32156"},"score":0,"creation_date":1676626799,"post_id":75464326,"comment_id":133179257,"body_markdown":"I open the topic on Aspose forum, within attachments : https://forum.aspose.com/t/select-pivot-data-field-of-a-pivot-table-to-apply-format-on/260086","body":"I open the topic on Aspose forum, within attachments : <a href=\"https://forum.aspose.com/t/select-pivot-data-field-of-a-pivot-table-to-apply-format-on/260086\" rel=\"nofollow noreferrer\">forum.aspose.com/t/&hellip;</a>"}],"tags":[],"owner":{"account_id":4153548,"reputation":1826,"user_id":3405358,"display_name":"Amjad Sahi"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676487484,"creation_date":1676487484,"answer_id":75464326,"question_id":75446495,"body_markdown":"You can format specific data area values in the Pivot Table via Aspose.Cells for Java. See the following example for your reference. You can apply formatting via both ways (i.e., use directly apply formatting and via pivot format condition).\r\n\r\ne.g.\r\n\r\n**Sample code:**\r\n```java \r\n        //Instantiating a Workbook object\r\n        Workbook workbook = new Workbook();\r\n\r\n        //Obtaining the reference of the newly added worksheet\r\n        int sheetIndex = workbook.getWorksheets().add();\r\n        Worksheet sheet = workbook.getWorksheets().get(sheetIndex);\r\n        Cells cells = sheet.getCells();\r\n\r\n        //Setting the value to the cells\r\n        Cell cell = cells.get(&quot;A1&quot;);\r\n        cell.setValue(&quot;Sport&quot;);\r\n        cell = cells.get(&quot;B1&quot;);\r\n        cell.setValue(&quot;Quarter&quot;);\r\n        cell = cells.get(&quot;C1&quot;);\r\n        cell.setValue(&quot;Sales&quot;);\r\n\r\n        cell = cells.get(&quot;A2&quot;);\r\n        cell.setValue(&quot;Golf&quot;);\r\n        cell = cells.get(&quot;A3&quot;);\r\n        cell.setValue(&quot;Golf&quot;);\r\n        cell = cells.get(&quot;A4&quot;);\r\n        cell.setValue(&quot;Tennis&quot;);\r\n        cell = cells.get(&quot;A5&quot;);\r\n        cell.setValue(&quot;Tennis&quot;);\r\n        cell = cells.get(&quot;A6&quot;);\r\n        cell.setValue(&quot;Tennis&quot;);\r\n        cell = cells.get(&quot;A7&quot;);\r\n        cell.setValue(&quot;Tennis&quot;);\r\n        cell = cells.get(&quot;A8&quot;);\r\n        cell.setValue(&quot;Golf&quot;);\r\n\r\n        cell = cells.get(&quot;B2&quot;);\r\n        cell.setValue(&quot;Qtr3&quot;);\r\n        cell = cells.get(&quot;B3&quot;);\r\n        cell.setValue(&quot;Qtr4&quot;);\r\n        cell = cells.get(&quot;B4&quot;);\r\n        cell.setValue(&quot;Qtr3&quot;);\r\n        cell = cells.get(&quot;B5&quot;);\r\n        cell.setValue(&quot;Qtr4&quot;);\r\n        cell = cells.get(&quot;B6&quot;);\r\n        cell.setValue(&quot;Qtr3&quot;);\r\n        cell = cells.get(&quot;B7&quot;);\r\n        cell.setValue(&quot;Qtr4&quot;);\r\n        cell = cells.get(&quot;B8&quot;);\r\n        cell.setValue(&quot;Qtr3&quot;);\r\n\r\n        cell = cells.get(&quot;C2&quot;);\r\n        cell.setValue(1500);\r\n        cell = cells.get(&quot;C3&quot;);\r\n        cell.setValue(2000);\r\n        cell = cells.get(&quot;C4&quot;);\r\n        cell.setValue(600);\r\n        cell = cells.get(&quot;C5&quot;);\r\n        cell.setValue(1500);\r\n        cell = cells.get(&quot;C6&quot;);\r\n        cell.setValue(4070);\r\n        cell = cells.get(&quot;C7&quot;);\r\n        cell.setValue(5000);\r\n        cell = cells.get(&quot;C8&quot;);\r\n        cell.setValue(6430);\r\n\r\n        PivotTableCollection pivotTables = sheet.getPivotTables();\r\n\r\n        //Adding a PivotTable to the worksheet\r\n        int index = pivotTables.add(&quot;=A1:C8&quot;, &quot;E3&quot;, &quot;PivotTable2&quot;);\r\n\r\n        //Accessing the instance of the newly added PivotTable\r\n        PivotTable pivotTable = pivotTables.get(index);\r\n\r\n        //Unshowing grand totals for rows.\r\n        pivotTable.setRowGrand(false);\r\n\r\n        //Dragging the first field to the row area.\r\n        pivotTable.addFieldToArea(PivotFieldType.ROW, 0);\r\n\r\n        //Dragging the second field to the column area.\r\n        pivotTable.addFieldToArea(PivotFieldType.COLUMN, 1);\r\n\r\n        //Dragging the third field to the data area.\r\n        pivotTable.addFieldToArea(PivotFieldType.DATA, 2);\r\n\r\n        pivotTable.refreshData();\r\n        pivotTable.calculateData();\r\n\r\n        /*\r\n        //Apply formatting to specific data area values via Pivot format condition.\r\n        PivotFormatConditionCollection pfcc = pivotTable.getPivotFormatConditions();\r\n        int pIndex = pfcc.add();\r\n        PivotFormatCondition pfc = pfcc.get(pIndex);\r\n        FormatConditionCollection fcc = pfc.getFormatConditions();\r\n        CellArea dataBodyRange = pivotTable.getDataBodyRange();\r\n        fcc.addArea(dataBodyRange);\r\n        int idx = fcc.addCondition(FormatConditionType.CELL_VALUE);\r\n        FormatCondition fc = fcc.get(idx);\r\n        fc.setFormula1(&quot;6000&quot;);\r\n        fc.setOperator(OperatorType.GREATER_OR_EQUAL);\r\n        //fc.getStyle().setBackgroundColor(com.aspose.cells.Color.getRed());\r\n        fc.getStyle().setBorder(BorderType.LEFT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n        fc.getStyle().setBorder(BorderType.TOP_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n        fc.getStyle().setBorder(BorderType.RIGHT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n        fc.getStyle().setBorder(BorderType.BOTTOM_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n        */\r\n        ///*\r\n        //Apply formatting directly to specific data fields. \r\n        CellArea dataArea = pivotTable.getDataBodyRange();\r\n        for(int dataRowNum = dataArea.StartRow; dataRowNum &lt;= dataArea.EndRow;dataRowNum++){\r\n            for(int dataColNum = dataArea.StartColumn;dataColNum &lt;= dataArea.EndColumn;dataColNum++){\r\n                cell = cells.get(dataRowNum,dataColNum);\r\n                int value = cell.getIntValue();\r\n                System.out.println(value);\r\n                if (value &gt; 6000) {\r\n                Style style = cell.getStyle();\r\n                com.aspose.cells.Font font = style.getFont();\r\n                font.setColor(com.aspose.cells.Color.getBlue());\r\n                style.setBorder(BorderType.LEFT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n                style.setBorder(BorderType.TOP_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n                style.setBorder(BorderType.RIGHT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n                style.setBorder(BorderType.BOTTOM_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\r\n                pivotTable.format(dataRowNum, dataColNum, style);\r\n\r\n                }\r\n            }\r\n        }\r\n        workbook.save(&quot;f:\\\\files\\\\out1.xlsx&quot;);\r\n```\r\nYou may also post your queries in the dedicated [forum][1].\r\n\r\nPS. I am working as Support developer/ Evangelist at Aspose.\r\n\r\n\r\n  [1]: https://forum.aspose.com/c/cells/9","title":"Select specific range/scope of a pivot table to apply format on (Aspose.Cells for Java)","body":"<p>You can format specific data area values in the Pivot Table via Aspose.Cells for Java. See the following example for your reference. You can apply formatting via both ways (i.e., use directly apply formatting and via pivot format condition).</p>\n<p>e.g.</p>\n<p><strong>Sample code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>        //Instantiating a Workbook object\n        Workbook workbook = new Workbook();\n\n        //Obtaining the reference of the newly added worksheet\n        int sheetIndex = workbook.getWorksheets().add();\n        Worksheet sheet = workbook.getWorksheets().get(sheetIndex);\n        Cells cells = sheet.getCells();\n\n        //Setting the value to the cells\n        Cell cell = cells.get(&quot;A1&quot;);\n        cell.setValue(&quot;Sport&quot;);\n        cell = cells.get(&quot;B1&quot;);\n        cell.setValue(&quot;Quarter&quot;);\n        cell = cells.get(&quot;C1&quot;);\n        cell.setValue(&quot;Sales&quot;);\n\n        cell = cells.get(&quot;A2&quot;);\n        cell.setValue(&quot;Golf&quot;);\n        cell = cells.get(&quot;A3&quot;);\n        cell.setValue(&quot;Golf&quot;);\n        cell = cells.get(&quot;A4&quot;);\n        cell.setValue(&quot;Tennis&quot;);\n        cell = cells.get(&quot;A5&quot;);\n        cell.setValue(&quot;Tennis&quot;);\n        cell = cells.get(&quot;A6&quot;);\n        cell.setValue(&quot;Tennis&quot;);\n        cell = cells.get(&quot;A7&quot;);\n        cell.setValue(&quot;Tennis&quot;);\n        cell = cells.get(&quot;A8&quot;);\n        cell.setValue(&quot;Golf&quot;);\n\n        cell = cells.get(&quot;B2&quot;);\n        cell.setValue(&quot;Qtr3&quot;);\n        cell = cells.get(&quot;B3&quot;);\n        cell.setValue(&quot;Qtr4&quot;);\n        cell = cells.get(&quot;B4&quot;);\n        cell.setValue(&quot;Qtr3&quot;);\n        cell = cells.get(&quot;B5&quot;);\n        cell.setValue(&quot;Qtr4&quot;);\n        cell = cells.get(&quot;B6&quot;);\n        cell.setValue(&quot;Qtr3&quot;);\n        cell = cells.get(&quot;B7&quot;);\n        cell.setValue(&quot;Qtr4&quot;);\n        cell = cells.get(&quot;B8&quot;);\n        cell.setValue(&quot;Qtr3&quot;);\n\n        cell = cells.get(&quot;C2&quot;);\n        cell.setValue(1500);\n        cell = cells.get(&quot;C3&quot;);\n        cell.setValue(2000);\n        cell = cells.get(&quot;C4&quot;);\n        cell.setValue(600);\n        cell = cells.get(&quot;C5&quot;);\n        cell.setValue(1500);\n        cell = cells.get(&quot;C6&quot;);\n        cell.setValue(4070);\n        cell = cells.get(&quot;C7&quot;);\n        cell.setValue(5000);\n        cell = cells.get(&quot;C8&quot;);\n        cell.setValue(6430);\n\n        PivotTableCollection pivotTables = sheet.getPivotTables();\n\n        //Adding a PivotTable to the worksheet\n        int index = pivotTables.add(&quot;=A1:C8&quot;, &quot;E3&quot;, &quot;PivotTable2&quot;);\n\n        //Accessing the instance of the newly added PivotTable\n        PivotTable pivotTable = pivotTables.get(index);\n\n        //Unshowing grand totals for rows.\n        pivotTable.setRowGrand(false);\n\n        //Dragging the first field to the row area.\n        pivotTable.addFieldToArea(PivotFieldType.ROW, 0);\n\n        //Dragging the second field to the column area.\n        pivotTable.addFieldToArea(PivotFieldType.COLUMN, 1);\n\n        //Dragging the third field to the data area.\n        pivotTable.addFieldToArea(PivotFieldType.DATA, 2);\n\n        pivotTable.refreshData();\n        pivotTable.calculateData();\n\n        /*\n        //Apply formatting to specific data area values via Pivot format condition.\n        PivotFormatConditionCollection pfcc = pivotTable.getPivotFormatConditions();\n        int pIndex = pfcc.add();\n        PivotFormatCondition pfc = pfcc.get(pIndex);\n        FormatConditionCollection fcc = pfc.getFormatConditions();\n        CellArea dataBodyRange = pivotTable.getDataBodyRange();\n        fcc.addArea(dataBodyRange);\n        int idx = fcc.addCondition(FormatConditionType.CELL_VALUE);\n        FormatCondition fc = fcc.get(idx);\n        fc.setFormula1(&quot;6000&quot;);\n        fc.setOperator(OperatorType.GREATER_OR_EQUAL);\n        //fc.getStyle().setBackgroundColor(com.aspose.cells.Color.getRed());\n        fc.getStyle().setBorder(BorderType.LEFT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n        fc.getStyle().setBorder(BorderType.TOP_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n        fc.getStyle().setBorder(BorderType.RIGHT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n        fc.getStyle().setBorder(BorderType.BOTTOM_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n        */\n        ///*\n        //Apply formatting directly to specific data fields. \n        CellArea dataArea = pivotTable.getDataBodyRange();\n        for(int dataRowNum = dataArea.StartRow; dataRowNum &lt;= dataArea.EndRow;dataRowNum++){\n            for(int dataColNum = dataArea.StartColumn;dataColNum &lt;= dataArea.EndColumn;dataColNum++){\n                cell = cells.get(dataRowNum,dataColNum);\n                int value = cell.getIntValue();\n                System.out.println(value);\n                if (value &gt; 6000) {\n                Style style = cell.getStyle();\n                com.aspose.cells.Font font = style.getFont();\n                font.setColor(com.aspose.cells.Color.getBlue());\n                style.setBorder(BorderType.LEFT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n                style.setBorder(BorderType.TOP_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n                style.setBorder(BorderType.RIGHT_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n                style.setBorder(BorderType.BOTTOM_BORDER, CellBorderType.THICK, com.aspose.cells.Color.getRed());\n                pivotTable.format(dataRowNum, dataColNum, style);\n\n                }\n            }\n        }\n        workbook.save(&quot;f:\\\\files\\\\out1.xlsx&quot;);\n</code></pre>\n<p>You may also post your queries in the dedicated <a href=\"https://forum.aspose.com/c/cells/9\" rel=\"nofollow noreferrer\">forum</a>.</p>\n<p>PS. I am working as Support developer/ Evangelist at Aspose.</p>\n"}],"owner":{"account_id":23525864,"reputation":3,"user_id":17572412,"display_name":"GVA32156"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676487484,"creation_date":1676370454,"question_id":75446495,"body_markdown":"Is there an equivalent of this VBA function **PivotTable.PivotSelect** in Aspose.Cells product ?\r\nI am looking for a way to create a border on a whole selection of cells containing specific data field values, or on a specific scope as you prefer. \r\n\r\nThe VBA macro to perform this action is the following, by giving only the data field name parameter :\r\n```\r\n\r\nv_wbx.Sheets(v_SheetName).**PivotTables(v_CurrentPivotName).PivotSelect **DataFieldName**, xlDataAndLabel, True**\r\n            Selection.Borders(xlDiagonalDown).LineStyle = xlNone\r\n            Selection.Borders(xlDiagonalUp).LineStyle = xlNone\r\n            With Selection.Borders(xlEdgeLeft)\r\n                .LineStyle = xlContinuous\r\n                .Color = v_Color\r\n                .TintAndShade = 0\r\n                .Weight = v_Weight\r\n            End With\r\n            With Selection.Borders(xlEdgeTop)\r\n                .LineStyle = xlContinuous\r\n                .Color = v_Color\r\n                .TintAndShade = 0\r\n                .Weight = v_Weight\r\n            End With\r\n            With Selection.Borders(xlEdgeBottom)\r\n                .LineStyle = xlContinuous\r\n                .Color = v_Color\r\n                .TintAndShade = 0\r\n                .Weight = v_Weight\r\n            End With\r\n            With Selection.Borders(xlEdgeRight)\r\n                .LineStyle = xlContinuous\r\n                .Color = v_Color\r\n                .TintAndShade = 0\r\n                .Weight = v_Weight\r\n            End With\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIs this covered by Aspose.Cells ? I looked into documentation but haven&#39;t found any solution.\r\nI&#39;m aware that the &quot;scope&quot; selection is available with the Aspose conditional formatting, but here I want to create the border around the WHOLE selection of cells by specifying the data field name, and NOT use any Conditional Format rule. \r\nThis is done via VBA using this enum : https://learn.microsoft.com/en-us/office/vba/api/excel.xlptselectionmode and the function mentioned before.\r\n\r\nI precise I&#39;m using the trial version of the product to evaluate the range of features.\r\nPlease share your positive or negative feedback on this topic, thank you","title":"Select specific range/scope of a pivot table to apply format on (Aspose.Cells for Java)","body":"<p>Is there an equivalent of this VBA function <strong>PivotTable.PivotSelect</strong> in Aspose.Cells product ?\nI am looking for a way to create a border on a whole selection of cells containing specific data field values, or on a specific scope as you prefer.</p>\n<p>The VBA macro to perform this action is the following, by giving only the data field name parameter :</p>\n<pre><code>\nv_wbx.Sheets(v_SheetName).**PivotTables(v_CurrentPivotName).PivotSelect **DataFieldName**, xlDataAndLabel, True**\n            Selection.Borders(xlDiagonalDown).LineStyle = xlNone\n            Selection.Borders(xlDiagonalUp).LineStyle = xlNone\n            With Selection.Borders(xlEdgeLeft)\n                .LineStyle = xlContinuous\n                .Color = v_Color\n                .TintAndShade = 0\n                .Weight = v_Weight\n            End With\n            With Selection.Borders(xlEdgeTop)\n                .LineStyle = xlContinuous\n                .Color = v_Color\n                .TintAndShade = 0\n                .Weight = v_Weight\n            End With\n            With Selection.Borders(xlEdgeBottom)\n                .LineStyle = xlContinuous\n                .Color = v_Color\n                .TintAndShade = 0\n                .Weight = v_Weight\n            End With\n            With Selection.Borders(xlEdgeRight)\n                .LineStyle = xlContinuous\n                .Color = v_Color\n                .TintAndShade = 0\n                .Weight = v_Weight\n            End With\n</code></pre>\n<p>Is this covered by Aspose.Cells ? I looked into documentation but haven't found any solution.\nI'm aware that the &quot;scope&quot; selection is available with the Aspose conditional formatting, but here I want to create the border around the WHOLE selection of cells by specifying the data field name, and NOT use any Conditional Format rule.\nThis is done via VBA using this enum : <a href=\"https://learn.microsoft.com/en-us/office/vba/api/excel.xlptselectionmode\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/office/vba/api/excel.xlptselectionmode</a> and the function mentioned before.</p>\n<p>I precise I'm using the trial version of the product to evaluate the range of features.\nPlease share your positive or negative feedback on this topic, thank you</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-datastore","objectify"],"comments":[{"owner":{"account_id":25423833,"reputation":1324,"user_id":19229284,"display_name":"Chanpols"},"score":0,"creation_date":1676480969,"post_id":75429761,"comment_id":133146845,"body_markdown":"This might be related to your concern: [Google cloud datastore slow (&gt;800ms) with simple query from compute engine](https://stackoverflow.com/questions/40454958/google-cloud-datastore-slow-800ms-with-simple-query-from-compute-engine/40684933#40684933) and [Google Cloud - Datastore is too slow compared to local machine](https://stackoverflow.com/questions/60077218/google-cloud-datastore-is-too-slow-compared-to-local-machine).","body":"This might be related to your concern: <a href=\"https://stackoverflow.com/questions/40454958/google-cloud-datastore-slow-800ms-with-simple-query-from-compute-engine/40684933#40684933\">Google cloud datastore slow (&gt;800ms) with simple query from compute engine</a> and <a href=\"https://stackoverflow.com/questions/60077218/google-cloud-datastore-is-too-slow-compared-to-local-machine\">Google Cloud - Datastore is too slow compared to local machine</a>."},{"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"score":1,"creation_date":1676487297,"post_id":75429761,"comment_id":133148653,"body_markdown":"@ChristianPaulAndaya : thanks for your comments, but it seems to be the VPN that is crippling my local desktop performance. I disconnected from that, and we&#39;re back to a very quick response time again. ( That&#39;s two days of research and a couple of sleepless nights I&#39;m not getting back! )","body":"@ChristianPaulAndaya : thanks for your comments, but it seems to be the VPN that is crippling my local desktop performance. I disconnected from that, and we&#39;re back to a very quick response time again. ( That&#39;s two days of research and a couple of sleepless nights I&#39;m not getting back! )"}],"answers":[{"tags":[],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676487141,"creation_date":1676487141,"answer_id":75464272,"question_id":75429761,"body_markdown":"I&#39;m leaving this here in case another poor soul comes along ....\r\n\r\nIt seems the problem was my NordLayer VPN\r\n\r\nLog out of that and the response time falls to 68 milliseconds!","title":"GAE Datastore - Objectify Read Performance","body":"<p>I'm leaving this here in case another poor soul comes along ....</p>\n<p>It seems the problem was my NordLayer VPN</p>\n<p>Log out of that and the response time falls to 68 milliseconds!</p>\n"}],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676487141,"creation_date":1676231429,"question_id":75429761,"body_markdown":"I&#39;m more used to SQL databases than Google DataStore, but I&#39;m finding that my read performance is much slower than I expected. I just want to check if either I&#39;ve structured my data incorrectly, or if my performance expectations are unreasonable.\r\n\r\nI have a DataStore entity called assessment, and on that entity I have added a property Client. This is modelling a master-detail relationship where client is the master and assessment is the detail.\r\n\r\nIn the GCP console, my entity looks like this : [![enter image description here][1]][1]\r\n\r\nThere are 112 occurrences of this entity, and to query this entity by client takes just under 3 seconds.\r\n\r\nI use Objectify to retrieve the data, with the following statement :\r\n\r\n    List&lt;Assessment&gt; assessments = ofy().load()\r\n                                     .type(Assessment.class)\r\n                                     .filter(&quot;client = &quot;, Key.create(Client.class, clientId))\r\n                                     .list();\r\n\r\n\r\nComing from an SQL background, 3 seconds to read from 112 a row table via an index seems unreasonably slow to me. Are my expectations of DataStore wrong, or am I doing something stupid in either the way I&#39;ve chosen to store the data, or the way that I&#39;m reading it?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y9Fbj.png","title":"GAE Datastore - Objectify Read Performance","body":"<p>I'm more used to SQL databases than Google DataStore, but I'm finding that my read performance is much slower than I expected. I just want to check if either I've structured my data incorrectly, or if my performance expectations are unreasonable.</p>\n<p>I have a DataStore entity called assessment, and on that entity I have added a property Client. This is modelling a master-detail relationship where client is the master and assessment is the detail.</p>\n<p>In the GCP console, my entity looks like this : <a href=\"https://i.stack.imgur.com/Y9Fbj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y9Fbj.png\" alt=\"enter image description here\" /></a></p>\n<p>There are 112 occurrences of this entity, and to query this entity by client takes just under 3 seconds.</p>\n<p>I use Objectify to retrieve the data, with the following statement :</p>\n<pre><code>List&lt;Assessment&gt; assessments = ofy().load()\n                                 .type(Assessment.class)\n                                 .filter(&quot;client = &quot;, Key.create(Client.class, clientId))\n                                 .list();\n</code></pre>\n<p>Coming from an SQL background, 3 seconds to read from 112 a row table via an index seems unreasonably slow to me. Are my expectations of DataStore wrong, or am I doing something stupid in either the way I've chosen to store the data, or the way that I'm reading it?</p>\n"},{"tags":["java","maven","opensearch"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669131050,"post_id":74535047,"comment_id":131571483,"body_markdown":"What makes you think that there is a 3.0.0-SNAPSHOT version? Looking at the project there is a 0.1.0 version.","body":"What makes you think that there is a 3.0.0-SNAPSHOT version? Looking at the project there is a 0.1.0 version."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1669131294,"post_id":74535047,"comment_id":131571588,"body_markdown":"As per [this issue on their tracker](https://github.com/opensearch-project/spring-data-opensearch/issues/61), they have not published the library anywhere yet. So the readme is just misleading crap. You can build from source or wait","body":"As per <a href=\"https://github.com/opensearch-project/spring-data-opensearch/issues/61\" rel=\"nofollow noreferrer\">this issue on their tracker</a>, they have not published the library anywhere yet. So the readme is just misleading crap. You can build from source or wait"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669133904,"post_id":74535047,"comment_id":131572667,"body_markdown":"Building from source seemed to be the only option at the moment...","body":"Building from source seemed to be the only option at the moment..."},{"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"score":0,"creation_date":1669146702,"post_id":74535047,"comment_id":131577029,"body_markdown":"Thanks a lot for answers. Can you please say how to build it add to my java maven app?","body":"Thanks a lot for answers. Can you please say how to build it add to my java maven app?"}],"answers":[{"tags":[],"owner":{"account_id":412450,"reputation":6101,"user_id":785523,"accept_rate":87,"display_name":"tuk"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676487014,"creation_date":1676487014,"answer_id":75464240,"question_id":74535047,"body_markdown":"`spring-data-opensearch` 1.0.0 is [released][1].\r\n\r\nQuoting from the [README][2]\r\n\r\n&gt; At the moment, Spring Data OpenSearch provides the possibility to use\r\n&gt; the RestHighLevelCLient to connect to OpenSearch clusters.\r\n&gt; \r\n&gt;     &lt;dependency&gt;\r\n&gt;     \t&lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n&gt;     \t&lt;artifactId&gt;spring-data-opensearch&lt;/artifactId&gt;\r\n&gt;     \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt; \r\n&gt; To use Spring Boot 3.x auto configuration support:\r\n&gt; \r\n&gt;     &lt;dependency&gt;\r\n&gt;     \t&lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n&gt;     \t&lt;artifactId&gt;spring-data-opensearch-starter&lt;/artifactId&gt;\r\n&gt;     \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n&gt;     &lt;/dependency&gt;\r\n&gt; \r\n&gt; To use Spring Boot 3.x auto configuration support for testing:\r\n&gt; \r\n&gt;     &lt;dependency&gt;\r\n&gt;     \t&lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n&gt;     \t&lt;artifactId&gt;spring-data-opensearch-test-autoconfigure&lt;/artifactId&gt;\r\n&gt;     \t&lt;version&gt;1.0.0&lt;/version&gt;\r\n&gt;     \t&lt;scope&gt;test&lt;/scope&gt;\r\n&gt;     &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://central.sonatype.com/artifact/org.opensearch.client/spring-data-opensearch/1.0.0\r\n  [2]: https://github.com/opensearch-project/spring-data-opensearch#opensearch-2x--1x-client-libraries","title":"How to add spring data opensearch to java maven project","body":"<p><code>spring-data-opensearch</code> 1.0.0 is <a href=\"https://central.sonatype.com/artifact/org.opensearch.client/spring-data-opensearch/1.0.0\" rel=\"nofollow noreferrer\">released</a>.</p>\n<p>Quoting from the <a href=\"https://github.com/opensearch-project/spring-data-opensearch#opensearch-2x--1x-client-libraries\" rel=\"nofollow noreferrer\">README</a></p>\n<blockquote>\n<p>At the moment, Spring Data OpenSearch provides the possibility to use\nthe RestHighLevelCLient to connect to OpenSearch clusters.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-opensearch&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To use Spring Boot 3.x auto configuration support:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-opensearch-starter&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>To use Spring Boot 3.x auto configuration support for testing:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-data-opensearch-test-autoconfigure&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":16704880,"reputation":525,"user_id":12073621,"display_name":"Adam"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2001,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75464240,"answer_count":1,"score":0,"last_activity_date":1676487014,"creation_date":1669130584,"question_id":74535047,"body_markdown":"I want to add this library https://github.com/opensearch-project/spring-data-opensearch to my project\r\n\r\nI added dependency:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-opensearch&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd add repo:\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;opensearch-libs-snapshot&lt;/id&gt;\r\n            &lt;name&gt;AWS Snapshot Repository&lt;/name&gt;\r\n            &lt;url&gt;https://aws.oss.sonatype.org/content/repositories/snapshots/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\nI see this error:\r\n\r\n    Failure to find org.opensearch.client:spring-data-opensearch:jar:3.0.0-SNAPSHOT in https://aws.oss.sonatype.org/content/repositories/snapshots/ was cached in the local repository, resolution will not be reattempted until the update interval of opensearch-libs-snapshot has elapsed or updates are forced","title":"How to add spring data opensearch to java maven project","body":"<p>I want to add this library <a href=\"https://github.com/opensearch-project/spring-data-opensearch\" rel=\"nofollow noreferrer\">https://github.com/opensearch-project/spring-data-opensearch</a> to my project</p>\n<p>I added dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.opensearch.client&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-opensearch&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And add repo:</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;opensearch-libs-snapshot&lt;/id&gt;\n        &lt;name&gt;AWS Snapshot Repository&lt;/name&gt;\n        &lt;url&gt;https://aws.oss.sonatype.org/content/repositories/snapshots/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>I see this error:</p>\n<pre><code>Failure to find org.opensearch.client:spring-data-opensearch:jar:3.0.0-SNAPSHOT in https://aws.oss.sonatype.org/content/repositories/snapshots/ was cached in the local repository, resolution will not be reattempted until the update interval of opensearch-libs-snapshot has elapsed or updates are forced\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676487084,"post_id":75464166,"comment_id":133148579,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":27795436,"reputation":1,"user_id":21221057,"display_name":"Kashif Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676486576,"creation_date":1676486576,"question_id":75464166,"body_markdown":"I am having a issue with recyclerview which is whenever i load app it run accurately as i fetching data from \r\ndatabase by using room library but whenever i close my application and re-open it then previous added items automatically removed and not showing in recyclerview\r\nHow to solve it please ?\r\n\r\nResult is good but previous items are removed when i reopen app","title":"Recyclerview is not showing previous added items when application reopen or even change activity","body":"<p>I am having a issue with recyclerview which is whenever i load app it run accurately as i fetching data from\ndatabase by using room library but whenever i close my application and re-open it then previous added items automatically removed and not showing in recyclerview\nHow to solve it please ?</p>\n<p>Result is good but previous items are removed when i reopen app</p>\n"},{"tags":["java","spring","spring-boot","tomcat10","embedded-tomcat"],"answers":[{"tags":[],"owner":{"account_id":1362416,"reputation":4479,"user_id":1299533,"display_name":"Scott Frederick"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1676486370,"creation_date":1676486370,"answer_id":75464137,"question_id":75460562,"body_markdown":"You can create a `WebServerFactoryCustomer` as shown in the [Spring Boot documentation][1]. \r\n\r\nFor your use case, that would look something like this: \r\n\r\n```\r\n\t@Component\r\n\tpublic class TomcatCustomizer implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\r\n\r\n\t\t@Override\r\n\t\tpublic void customize(TomcatServletWebServerFactory server) {\r\n\t\t\tserver.addConnectorCustomizers((connector) -&gt; {\r\n\t\t\t\tProtocolHandler handler = connector.getProtocolHandler();\r\n\t\t\t\tif (handler instanceof AbstractHttp11Protocol&lt;?&gt; protocol) {\r\n\t\t\t\t\tprotocol.setMaxHttpResponseHeaderSize(x);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}\r\n```\r\n\r\nSpring Boot 3.1.0 will introduce a property `server.tomcat.maxHttpResponseHeaderSize` to make this easier to configure. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.embedded-container.customizing.programmatic","title":"how to set maxHttpHeaderSize in spring-boot 3.x","body":"<p>You can create a <code>WebServerFactoryCustomer</code> as shown in the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.embedded-container.customizing.programmatic\" rel=\"noreferrer\">Spring Boot documentation</a>.</p>\n<p>For your use case, that would look something like this:</p>\n<pre><code>    @Component\n    public class TomcatCustomizer implements WebServerFactoryCustomizer&lt;TomcatServletWebServerFactory&gt; {\n\n        @Override\n        public void customize(TomcatServletWebServerFactory server) {\n            server.addConnectorCustomizers((connector) -&gt; {\n                ProtocolHandler handler = connector.getProtocolHandler();\n                if (handler instanceof AbstractHttp11Protocol&lt;?&gt; protocol) {\n                    protocol.setMaxHttpResponseHeaderSize(x);\n                }\n            });\n        }\n\n    }\n</code></pre>\n<p>Spring Boot 3.1.0 will introduce a property <code>server.tomcat.maxHttpResponseHeaderSize</code> to make this easier to configure.</p>\n"}],"owner":{"account_id":14780386,"reputation":2981,"user_id":10674026,"display_name":"pero_hero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5605,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":75464137,"answer_count":1,"score":5,"last_activity_date":1676486370,"creation_date":1676467977,"question_id":75460562,"body_markdown":"As stated in the [Spring Boot 3 Migration Guide][1] the **server.max-http-header-size** property has been deprecated. You can use the **server.max-http-request-header-size** property to set the max http request header size **only**. \r\n\r\nI get the following Exception:\r\n\r\n    org.apache.coyote.http11.HeadersTooLargeException: An attempt was made to write \r\n    more data to the response headers than there was room available in the buffer. \r\n    Increase maxHttpHeaderSize on the connector \r\n    or write less data into the response headers.\r\n\r\n\r\nI need to increase the max http response header size in an embedded Tomcat 10. [Tomcat 10][2] supports both the **maxHttpHeaderSize** and the **maxHttpResponseHeaderSize** attributes. \r\n\r\nHow I can set these in spring boot 3.x with a `WebServerFactoryCustomizer`?\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\r\n  [2]: https://tomcat.apache.org/tomcat-10.0-doc/config/http.html","title":"how to set maxHttpHeaderSize in spring-boot 3.x","body":"<p>As stated in the <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0-Migration-Guide\" rel=\"noreferrer\">Spring Boot 3 Migration Guide</a> the <strong>server.max-http-header-size</strong> property has been deprecated. You can use the <strong>server.max-http-request-header-size</strong> property to set the max http request header size <strong>only</strong>.</p>\n<p>I get the following Exception:</p>\n<pre><code>org.apache.coyote.http11.HeadersTooLargeException: An attempt was made to write \nmore data to the response headers than there was room available in the buffer. \nIncrease maxHttpHeaderSize on the connector \nor write less data into the response headers.\n</code></pre>\n<p>I need to increase the max http response header size in an embedded Tomcat 10. <a href=\"https://tomcat.apache.org/tomcat-10.0-doc/config/http.html\" rel=\"noreferrer\">Tomcat 10</a> supports both the <strong>maxHttpHeaderSize</strong> and the <strong>maxHttpResponseHeaderSize</strong> attributes.</p>\n<p>How I can set these in spring boot 3.x with a <code>WebServerFactoryCustomizer</code>?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9577,"page":646,"page_size":100}
