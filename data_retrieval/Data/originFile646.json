{"items":[{"tags":["java","exception","try-catch","runtimeexception"],"comments":[{"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"score":1,"creation_date":1627991152,"post_id":68635149,"comment_id":121297691,"body_markdown":"Yes, but you don&#39;t have this information anymore in `catch` block. So all is known there is that I am throwing an `Exception`.","body":"Yes, but you don&#39;t have this information anymore in <code>catch</code> block. So all is known there is that I am throwing an <code>Exception</code>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1627992881,"post_id":68635149,"comment_id":121298350,"body_markdown":"Section 14.18 of the JLS seems relevant. Throwing is fine on compile-time when *The type of the Expression is an unchecked exception class (&#167;11.1.1) …* It doesn’t say directly whether it means the declared type or some inferred runtime type, though, …","body":"Section 14.18 of the JLS seems relevant. Throwing is fine on compile-time when <i>The type of the Expression is an unchecked exception class (&#167;11.1.1) …</i> It doesn’t say directly whether it means the declared type or some inferred runtime type, though, …"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1627992980,"post_id":68635149,"comment_id":121298390,"body_markdown":"Your code compiles and runs on Java 7.","body":"Your code compiles and runs on Java 7."},{"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"score":1,"creation_date":1628000090,"post_id":68635149,"comment_id":121301764,"body_markdown":"It doesn&#39;t compile with Java 6 though. I&#39;ve update d the question.","body":"It doesn&#39;t compile with Java 6 though. I&#39;ve update d the question."}],"answers":[{"tags":[],"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1628001791,"creation_date":1628001791,"answer_id":68638157,"question_id":68635149,"body_markdown":"It looks like that this is one of the effects of the enhancement in Java 7: [Catching Multiple Exception Types and Rethrowing Exceptions with Improved Type Checking][1]. See section **&quot;Rethrowing Exceptions with More Inclusive Type Checking.&quot;**\r\n\r\n&gt; The Java SE 7 compiler can determine that the exception thrown by the statement throw e must have come from the try block, and the only exceptions thrown by the try block can be FirstException and SecondException. Even though the exception parameter of the catch clause, e, is type Exception, the compiler can determine that it is an instance of either FirstException or SecondException.\r\n\r\nPlease note, that the following will not compile though even in Java 7 and above:\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args){\r\n        try {\r\n            throw new RuntimeException();\r\n        } catch (Exception e) {\r\n\t        Exception e1 = e;\r\n            throw e1;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBecause:\r\n&gt; This analysis is disabled if the catch parameter is assigned to another value in the catch block.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html","title":"Rethrowing RuntimeException as Exception","body":"<p>It looks like that this is one of the effects of the enhancement in Java 7: <a href=\"https://docs.oracle.com/javase/7/docs/technotes/guides/language/catch-multiple.html\" rel=\"nofollow noreferrer\">Catching Multiple Exception Types and Rethrowing Exceptions with Improved Type Checking</a>. See section <strong>&quot;Rethrowing Exceptions with More Inclusive Type Checking.&quot;</strong></p>\n<blockquote>\n<p>The Java SE 7 compiler can determine that the exception thrown by the statement throw e must have come from the try block, and the only exceptions thrown by the try block can be FirstException and SecondException. Even though the exception parameter of the catch clause, e, is type Exception, the compiler can determine that it is an instance of either FirstException or SecondException.</p>\n</blockquote>\n<p>Please note, that the following will not compile though even in Java 7 and above:</p>\n<pre><code>public class Test {\n    public static void main(String[] args){\n        try {\n            throw new RuntimeException();\n        } catch (Exception e) {\n            Exception e1 = e;\n            throw e1;\n        }\n    }\n}\n</code></pre>\n<p>Because:</p>\n<blockquote>\n<p>This analysis is disabled if the catch parameter is assigned to another value in the catch block.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676478071,"creation_date":1676478071,"answer_id":75462634,"question_id":68635149,"body_markdown":"The part of the Java Language Specification that governs this can be found in [JLS 11.2.2](https://docs.oracle.com/javase/specs/jls/se17/html/jls-11.html#jls-11.2.2)\r\n\r\n&gt; 11.2.2. Exception Analysis of Statements \r\n&gt; ---------------------\r\n&gt;\r\n&gt; ...\r\n&gt;\r\n&gt; A `throw` statement whose thrown expression is a final or effectively\r\n&gt; final exception parameter of a `catch` clause C can throw an exception\r\n&gt; class E *iff*:\r\n&gt; \r\n&gt; - E is an exception class that the try block of the `try` statement which declares C can throw; and\r\n&gt; \r\n&gt; - E is assignment compatible with any of C&#39;s catchable exception classes; and\r\n&gt; \r\n&gt; - E is not assignment compatible with any of the catchable exception classes of the `catch` clauses declared to the left of C in the same `try`\r\n&gt; statement.\r\n\r\nWhen E is `RuntimeException` 1) E can be thrown in the try block, 2) the catch clause can catch it, and 3) there are no catch clauses &quot;to the left&quot;.  Therefore the `throw` in the catch clause **can** throw `RuntimeException`.\r\n\r\nOn the other hand, E is `Exception`, E cannot be thrown in the try block.  Therefore the `throw` in the catch clause **cannot** throw `Exception`.\r\n\r\n\r\n\r\n","title":"Rethrowing RuntimeException as Exception","body":"<p>The part of the Java Language Specification that governs this can be found in <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-11.html#jls-11.2.2\" rel=\"nofollow noreferrer\">JLS 11.2.2</a></p>\n<blockquote>\n<h2>11.2.2. Exception Analysis of Statements</h2>\n<p>...</p>\n<p>A <code>throw</code> statement whose thrown expression is a final or effectively\nfinal exception parameter of a <code>catch</code> clause C can throw an exception\nclass E <em>iff</em>:</p>\n<ul>\n<li><p>E is an exception class that the try block of the <code>try</code> statement which declares C can throw; and</p>\n</li>\n<li><p>E is assignment compatible with any of C's catchable exception classes; and</p>\n</li>\n<li><p>E is not assignment compatible with any of the catchable exception classes of the <code>catch</code> clauses declared to the left of C in the same <code>try</code>\nstatement.</p>\n</li>\n</ul>\n</blockquote>\n<p>When E is <code>RuntimeException</code> 1) E can be thrown in the try block, 2) the catch clause can catch it, and 3) there are no catch clauses &quot;to the left&quot;.  Therefore the <code>throw</code> in the catch clause <strong>can</strong> throw <code>RuntimeException</code>.</p>\n<p>On the other hand, E is <code>Exception</code>, E cannot be thrown in the try block.  Therefore the <code>throw</code> in the catch clause <strong>cannot</strong> throw <code>Exception</code>.</p>\n"}],"owner":{"account_id":6079355,"reputation":1914,"user_id":4745608,"display_name":"Aleksandr Erokhin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68638157,"answer_count":2,"score":2,"last_activity_date":1676478071,"creation_date":1627989764,"question_id":68635149,"body_markdown":"Java allows me to compile the following code without any issues:\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args){\r\n        try {\r\n            throw new RuntimeException();\r\n        } catch (Exception e) {\r\n            throw e;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nEven though [java.lang.Exception][1] is a checked exception. Meaning that I am rethrowing unchecked exception as checked and get away with that.\r\n\r\nMost likely Java compiler is able to figure out that no checked exception is thrown in the try block, but I can&#39;t find the section in the specification that backups that.\r\n\r\nCan one rely on this behavior and starting from which JDK version?\r\n\r\nUpdate:\r\nThis class doesn&#39;t compile with Java 1.6.0_38 with the following message:\r\n```\r\nTest.java:6: unreported exception java.lang.Exception; must be caught or declared to be thrown\r\n            throw e;\r\n            ^\r\n1 error\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html","title":"Rethrowing RuntimeException as Exception","body":"<p>Java allows me to compile the following code without any issues:</p>\n<pre><code>public class Test {\n    public static void main(String[] args){\n        try {\n            throw new RuntimeException();\n        } catch (Exception e) {\n            throw e;\n        }\n    }\n}\n</code></pre>\n<p>Even though <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Exception.html\" rel=\"nofollow noreferrer\">java.lang.Exception</a> is a checked exception. Meaning that I am rethrowing unchecked exception as checked and get away with that.</p>\n<p>Most likely Java compiler is able to figure out that no checked exception is thrown in the try block, but I can't find the section in the specification that backups that.</p>\n<p>Can one rely on this behavior and starting from which JDK version?</p>\n<p>Update:\nThis class doesn't compile with Java 1.6.0_38 with the following message:</p>\n<pre><code>Test.java:6: unreported exception java.lang.Exception; must be caught or declared to be thrown\n            throw e;\n            ^\n1 error\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-jvm","cucumber-java","testng-dataprovider"],"owner":{"account_id":6205834,"reputation":1451,"user_id":4833874,"accept_rate":50,"display_name":"Alok"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676477633,"creation_date":1676477633,"question_id":75462545,"body_markdown":"I am trying to run my Cucumber scenarios in parallel using the TestNG. \r\nBut when I run it `&#39;parallel=true&#39;` it executes the test cases in thread count=10 (testng default). \r\n\r\nI want to customise the thread count to say 2 or 3. How do I do that.?\r\nI want to run this through IntelliJ as well as through the command line (terminal)\r\nTried using the `&#39;jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])&#39;`\r\n\r\n**CucumberTestNGRunner**\r\n    \r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.testng.CucumberOptions;\r\n    import io.cucumber.testng.AbstractTestNGCucumberTests;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.junit.runner.RunWith;\r\n    import org.testng.annotations.AfterSuite;\r\n    import org.testng.annotations.DataProvider;\r\n     \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(\r\n            features = {&quot;path/to/features&quot;},\r\n            glue = {&quot;path.to.stepdep.package&quot;},\r\n            plugin = {&quot;pretty&quot;},\r\n            tags = &quot;@smoke&quot;,\r\n            dryRun = false,\r\n            monochrome = true\r\n    )\r\n    public class CucumberTestNGRunner extends AbstractTestNGCucumberTests {\r\n    \r\n        @Override\r\n        @DataProvider(parallel = true)\r\n        public Object[][] scenarios() {\r\n            return super.scenarios();\r\n        }\r\n    }\r\n\r\n\r\n**build.gradle (snippet) :**\r\n\r\n    test {\r\n    \tuseTestNG()\r\n        //jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])\r\n    \tscanForTestClasses = false\r\n    \ttestLogging.showStandardStreams = true\r\n    \tsystemProperties = System.properties\r\n    }","title":"Cucumber TestNG Gradle Parallel Execution ThreadCount","body":"<p>I am trying to run my Cucumber scenarios in parallel using the TestNG.\nBut when I run it <code>'parallel=true'</code> it executes the test cases in thread count=10 (testng default).</p>\n<p>I want to customise the thread count to say 2 or 3. How do I do that.?\nI want to run this through IntelliJ as well as through the command line (terminal)\nTried using the <code>'jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])'</code></p>\n<p><strong>CucumberTestNGRunner</strong></p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.testng.CucumberOptions;\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.junit.runner.RunWith;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.DataProvider;\n \n@RunWith(Cucumber.class)\n@CucumberOptions(\n        features = {&quot;path/to/features&quot;},\n        glue = {&quot;path.to.stepdep.package&quot;},\n        plugin = {&quot;pretty&quot;},\n        tags = &quot;@smoke&quot;,\n        dryRun = false,\n        monochrome = true\n)\npublic class CucumberTestNGRunner extends AbstractTestNGCucumberTests {\n\n    @Override\n    @DataProvider(parallel = true)\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n}\n</code></pre>\n<p><strong>build.gradle (snippet) :</strong></p>\n<pre><code>test {\n    useTestNG()\n    //jvmArgs([&quot;-Ddataproviderthreadcount=2&quot;])\n    scanForTestClasses = false\n    testLogging.showStandardStreams = true\n    systemProperties = System.properties\n}\n</code></pre>\n"},{"tags":["java","docker","testcontainers"],"comments":[{"owner":{"account_id":2537085,"reputation":6205,"user_id":2203890,"display_name":"Edd&#250; Mel&#233;ndez"},"score":0,"creation_date":1667510698,"post_id":74309482,"comment_id":131190261,"body_markdown":"when running testcontainers it will be using the docker in your host machine and in your case, the container is where you are building the image and doesn&#39;t have a socker. See this documentation https://www.testcontainers.org/supported_docker_environment/continuous_integration/dind_patterns/#docker-only-example","body":"when running testcontainers it will be using the docker in your host machine and in your case, the container is where you are building the image and doesn&#39;t have a socker. See this documentation <a href=\"https://www.testcontainers.org/supported_docker_environment/continuous_integration/dind_patterns/#docker-only-example\" rel=\"nofollow noreferrer\">testcontainers.org/supported_docker_environment/&hellip;</a>"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1667511233,"post_id":74309482,"comment_id":131190391,"body_markdown":"The build sequence can&#39;t usually mount anything or call across to other containers.  Can you modify your tests to have pure unit tests without dependencies on external resources, or modify your build sequence to not run these tests during the image build?","body":"The build sequence can&#39;t usually mount anything or call across to other containers.  Can you modify your tests to have pure unit tests without dependencies on external resources, or modify your build sequence to not run these tests during the image build?"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1667511294,"post_id":74309482,"comment_id":131190411,"body_markdown":"(Also remember that anyone who can access the Docker socket can very easily root the host it&#39;s running on.  My local security team is a little uncomfortable with Testcontainers for all but giving developers unrestricted root access on the CI systems.)","body":"(Also remember that anyone who can access the Docker socket can very easily root the host it&#39;s running on.  My local security team is a little uncomfortable with Testcontainers for all but giving developers unrestricted root access on the CI systems.)"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1667513777,"post_id":74309482,"comment_id":131191062,"body_markdown":"For the security aspect podman can be a solution. It would limit the impact, but if a CI/CD system is running everything with the same user it almost shows the same problem.","body":"For the security aspect podman can be a solution. It would limit the impact, but if a CI/CD system is running everything with the same user it almost shows the same problem."},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":0,"creation_date":1667831930,"post_id":74309482,"comment_id":131255211,"body_markdown":"You can use Testcontainers with a remote Docker host as well, so there is no need to give &quot;root access&quot; to the CI system. In a similar way, you can also use rootless Docker. Regarding the original question, using Testcontainers as part of the Docker build is more complicated and works probably best when using a remote Docker daemon from outside the build process, using `DOCKER_HOST`.","body":"You can use Testcontainers with a remote Docker host as well, so there is no need to give &quot;root access&quot; to the CI system. In a similar way, you can also use rootless Docker. Regarding the original question, using Testcontainers as part of the Docker build is more complicated and works probably best when using a remote Docker daemon from outside the build process, using <code>DOCKER_HOST</code>."}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":956,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676477422,"creation_date":1667509140,"question_id":74309482,"body_markdown":"I want to build an application. For testing it uses testcontainers. The build will run on [CI][1] and on the developers&#39; machines. The Dockerfile is more or less:\r\n\r\n```lang-yaml\r\nFROM amazoncorretto:17-alpine as builder\r\nadd . .\r\nrun ./gradlew build\r\n\r\nfrom amazoncorretto:17-alpine\r\ncopy --from=builder build/libs/*.jar app.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n```\r\n\r\nAnd I run the build using `docker build .`\r\n\r\nPart of the `./gradlew build` runs tests with Testscontainers and uses\r\n\r\n```\r\nval sftpDocker = GenericContainer(DockerImageName.parse(&quot;atmoz/sftp:alpine&quot;))\r\n```\r\n\r\nAnd it returns\r\n\r\n&gt; java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration\r\n\r\nI know that:\r\n\r\n* Testcontainers has its own docker API client and doesn&#39;t requires installed docker inside the [Alpine][2] container [3]\r\n* Someone made it using `&quot;docker:20.10.14-dind&quot;` image. But I don&#39;t know how it fits in my problem [4]\r\n* I can mount the `/var/run/docker.sock` during `docker run ...` but I&#39;m using `RUN` command inside dockerfile and `docker build ...` instead\r\n* I can expose `DOCKER_HOST` and testcontainers should use the default gateway&#39;s IP address. But it&#39;s way less secure than using socket\r\n\r\nSo is there a way to use a socket in this setup? If not, how should I run my host Docker to expose TCP instead of a socket?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Continuous_integration\r\n  [2]: https://en.wikipedia.org/wiki/Alpine_Linux\r\n  [3]: https://stackoverflow.com/questions/59579845/testcontainers-running-testcontainers-tests-inside-docker-running-docker-ins#comment106017149_59934439\r\n  [4]: https://stackoverflow.com/a/71779583/1100135\r\n\r\n\r\n","title":"How can I use Testcontainers to build a Dockerfile?","body":"<p>I want to build an application. For testing it uses testcontainers. The build will run on <a href=\"https://en.wikipedia.org/wiki/Continuous_integration\" rel=\"nofollow noreferrer\">CI</a> and on the developers' machines. The Dockerfile is more or less:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>FROM amazoncorretto:17-alpine as builder\nadd . .\nrun ./gradlew build\n\nfrom amazoncorretto:17-alpine\ncopy --from=builder build/libs/*.jar app.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>And I run the build using <code>docker build .</code></p>\n<p>Part of the <code>./gradlew build</code> runs tests with Testscontainers and uses</p>\n<pre><code>val sftpDocker = GenericContainer(DockerImageName.parse(&quot;atmoz/sftp:alpine&quot;))\n</code></pre>\n<p>And it returns</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Could not find a valid Docker environment. Please see logs and check configuration</p>\n</blockquote>\n<p>I know that:</p>\n<ul>\n<li>Testcontainers has its own docker API client and doesn't requires installed docker inside the <a href=\"https://en.wikipedia.org/wiki/Alpine_Linux\" rel=\"nofollow noreferrer\">Alpine</a> container <a href=\"https://stackoverflow.com/questions/59579845/testcontainers-running-testcontainers-tests-inside-docker-running-docker-ins#comment106017149_59934439\">3</a></li>\n<li>Someone made it using <code>&quot;docker:20.10.14-dind&quot;</code> image. But I don't know how it fits in my problem <a href=\"https://stackoverflow.com/a/71779583/1100135\">4</a></li>\n<li>I can mount the <code>/var/run/docker.sock</code> during <code>docker run ...</code> but I'm using <code>RUN</code> command inside dockerfile and <code>docker build ...</code> instead</li>\n<li>I can expose <code>DOCKER_HOST</code> and testcontainers should use the default gateway's IP address. But it's way less secure than using socket</li>\n</ul>\n<p>So is there a way to use a socket in this setup? If not, how should I run my host Docker to expose TCP instead of a socket?</p>\n"},{"tags":["java","android","flutter","android-management-api","android-device-manager"],"answers":[{"tags":[],"owner":{"account_id":20029066,"reputation":71,"user_id":14682276,"display_name":"Gautam Bhateja"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668435398,"creation_date":1668435398,"answer_id":74433062,"question_id":74241302,"body_markdown":"This thing can be done by implementing pub/sub in which I can subscribe every enterprise to a certain topic and allow ENROLLMENT notification which listens for such notifications.","title":"Get details from Android Device Policy after enrolment via Android Management API using flutter","body":"<p>This thing can be done by implementing pub/sub in which I can subscribe every enterprise to a certain topic and allow ENROLLMENT notification which listens for such notifications.</p>\n"},{"tags":[],"owner":{"account_id":17124311,"reputation":356,"user_id":12391896,"display_name":"Rey V. Aquino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676477087,"creation_date":1676477087,"answer_id":75462434,"question_id":74241302,"body_markdown":"To identify which enrollment token an admin used during device provisioning, you can use the [devices.get][1] method. When using this method, the following fields will provide relevant information about the token:\r\n\r\n - The [enrollmentTokenName][2] field contains the token&#39;s name.\r\n - The [enrollmentTokenData][3] field - if an enrollment token provides additional data, this field contains that data.\r\n\r\nAdditionally, you can also use [enrollmentTokens.get][4] to get more information about the enrollment used. This method gets an *active, unexpired enrollment token*, and only a partial view of EnrollmentToken is returned (all the fields but `name` and `expirationTimestamp` are empty).\r\n\r\n\r\n  [1]: https://developers.google.com/android/management/reference/rest/v1/enterprises.devices/get\r\n  [2]: https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:~:text=contains%20that%20data.-,enrollmentTokenName,-string\r\n  [3]: https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:~:text=on%20the%20device.-,enrollmentTokenData,-string\r\n  [4]: https://developers.google.com/android/management/reference/rest/v1/enterprises.enrollmentTokens/get","title":"Get details from Android Device Policy after enrolment via Android Management API using flutter","body":"<p>To identify which enrollment token an admin used during device provisioning, you can use the <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.devices/get\" rel=\"nofollow noreferrer\">devices.get</a> method. When using this method, the following fields will provide relevant information about the token:</p>\n<ul>\n<li>The <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:%7E:text=contains%20that%20data.-,enrollmentTokenName,-string\" rel=\"nofollow noreferrer\">enrollmentTokenName</a> field contains the token's name.</li>\n<li>The <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.devices#Device.FIELDS.enrollment_token_name:%7E:text=on%20the%20device.-,enrollmentTokenData,-string\" rel=\"nofollow noreferrer\">enrollmentTokenData</a> field - if an enrollment token provides additional data, this field contains that data.</li>\n</ul>\n<p>Additionally, you can also use <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.enrollmentTokens/get\" rel=\"nofollow noreferrer\">enrollmentTokens.get</a> to get more information about the enrollment used. This method gets an <em>active, unexpired enrollment token</em>, and only a partial view of EnrollmentToken is returned (all the fields but <code>name</code> and <code>expirationTimestamp</code> are empty).</p>\n"}],"owner":{"account_id":20029066,"reputation":71,"user_id":14682276,"display_name":"Gautam Bhateja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74433062,"answer_count":2,"score":1,"last_activity_date":1676477087,"creation_date":1666994337,"question_id":74241302,"body_markdown":"I enroll a fully-managed device with Android Management API using qrCode.\r\n\r\nAfter enrollment, **I want to get any kind of detail of enrolmentToken or qrCode that was used to enroll the device**, so I can ping my server of the details and update the database accordingly.\r\n\r\nI want to implement this in flutter framework.","title":"Get details from Android Device Policy after enrolment via Android Management API using flutter","body":"<p>I enroll a fully-managed device with Android Management API using qrCode.</p>\n<p>After enrollment, <strong>I want to get any kind of detail of enrolmentToken or qrCode that was used to enroll the device</strong>, so I can ping my server of the details and update the database accordingly.</p>\n<p>I want to implement this in flutter framework.</p>\n"},{"tags":["java","aws-sdk","amazon-kinesis","amazon-kinesis-kpl"],"owner":{"account_id":27418311,"reputation":33,"user_id":20917163,"display_name":"Govind Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676477031,"creation_date":1673891921,"question_id":75137975,"body_markdown":"I am sending data to kinesis data stream using **putRecords** request **asynchronously** (500 records every time). There are 4 shards in the stream in which multiple putRecords requests continuously sends data using a for loop. But when I checked the stream metrics the Incoming data - sum (count) and Incoming data - sum (MB/s) are showing consumption very less comparatively (check screenshot). For example, The incoming data count can hold upto 1,200,000 but showing only 42,183 records being produced. I am expecting the consumption to be at-least half of the limits. \r\n\r\n**What can be reason for this behaviour?**\r\n\r\nAnd\r\n\r\n**How can I utilize the maximum capacity in the Kinesis Stream (At least half the maximum limit)**\r\n\r\nNote: There is no delay while sending the records from application\r\n\r\nCode:\r\n```\r\nAmazonKinesisAsync kinesisClient = AmazonKinesisAsyncClientBuilder.standard() // async cleint\r\n                        .withCredentials(DefaultAWSCredentialsProviderChain.getInstance())\r\n                        .withRegion(kinesisServiceConfig.getAwsRegion())\r\n                        .build();\r\n\r\nfor(long j=0; j&lt;1000000000; j++) {\r\n    PutRecordsRequest putRecordsRequest  = new PutRecordsRequest();\r\n    putRecordsRequest.setStreamName(streamName);\r\n    List &lt;PutRecordsRequestEntry&gt; putRecordsRequestEntryList  = new ArrayList&lt;&gt;(); \r\n    for (int i = 0; i &lt; 500; i++) { // 500 records kinesis limit for putRecords\r\n        PutRecordsRequestEntry putRecordsRequestEntry  = new PutRecordsRequestEntry();\r\n        putRecordsRequestEntry.setData(ByteBuffer.wrap(String.valueOf(i).getBytes()));\r\n        putRecordsRequestEntry.setPartitionKey(String.format(&quot;partitionKey-%d&quot;, i));\r\n        putRecordsRequestEntryList.add(putRecordsRequestEntry); \r\n    }\r\n\r\n    putRecordsRequest.setRecords(putRecordsRequestEntryList);\r\n    PutRecordsResult putRecordsResult  = kinesisClient.putRecords(putRecordsRequest);\r\n}\r\n    \r\n```\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WP17g.png\r\n\r\n\r\n  [2]: https://i.stack.imgur.com/Xg2xN.png","title":"Not utilising the full capacity of Amazon Kinesis Data Stream","body":"<p>I am sending data to kinesis data stream using <strong>putRecords</strong> request <strong>asynchronously</strong> (500 records every time). There are 4 shards in the stream in which multiple putRecords requests continuously sends data using a for loop. But when I checked the stream metrics the Incoming data - sum (count) and Incoming data - sum (MB/s) are showing consumption very less comparatively (check screenshot). For example, The incoming data count can hold upto 1,200,000 but showing only 42,183 records being produced. I am expecting the consumption to be at-least half of the limits.</p>\n<p><strong>What can be reason for this behaviour?</strong></p>\n<p>And</p>\n<p><strong>How can I utilize the maximum capacity in the Kinesis Stream (At least half the maximum limit)</strong></p>\n<p>Note: There is no delay while sending the records from application</p>\n<p>Code:</p>\n<pre><code>AmazonKinesisAsync kinesisClient = AmazonKinesisAsyncClientBuilder.standard() // async cleint\n                        .withCredentials(DefaultAWSCredentialsProviderChain.getInstance())\n                        .withRegion(kinesisServiceConfig.getAwsRegion())\n                        .build();\n\nfor(long j=0; j&lt;1000000000; j++) {\n    PutRecordsRequest putRecordsRequest  = new PutRecordsRequest();\n    putRecordsRequest.setStreamName(streamName);\n    List &lt;PutRecordsRequestEntry&gt; putRecordsRequestEntryList  = new ArrayList&lt;&gt;(); \n    for (int i = 0; i &lt; 500; i++) { // 500 records kinesis limit for putRecords\n        PutRecordsRequestEntry putRecordsRequestEntry  = new PutRecordsRequestEntry();\n        putRecordsRequestEntry.setData(ByteBuffer.wrap(String.valueOf(i).getBytes()));\n        putRecordsRequestEntry.setPartitionKey(String.format(&quot;partitionKey-%d&quot;, i));\n        putRecordsRequestEntryList.add(putRecordsRequestEntry); \n    }\n\n    putRecordsRequest.setRecords(putRecordsRequestEntryList);\n    PutRecordsResult putRecordsResult  = kinesisClient.putRecords(putRecordsRequest);\n}\n    \n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/WP17g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WP17g.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/Xg2xN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xg2xN.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","java-bytecode-asm"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1676285463,"post_id":75434619,"comment_id":133099774,"body_markdown":"Why would you need that? This sounds like an [XY Problem](http://xyproblem.info/). It&#39;s not like there is a contiguous section of the class file that you can just take out and say &quot;this is all the bytes for the method `foo`&quot;. Sure, there is the `method_info` structure that you can get, but the information in it will not make sense unless you also have the constant pool.","body":"Why would you need that? This sounds like an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. It&#39;s not like there is a contiguous section of the class file that you can just take out and say &quot;this is all the bytes for the method <code>foo</code>&quot;. Sure, there is the <code>method_info</code> structure that you can get, but the information in it will not make sense unless you also have the constant pool."},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1676290597,"post_id":75434619,"comment_id":133101138,"body_markdown":"i&#39;m trying to get all methods that contains a byte pattern","body":"i&#39;m trying to get all methods that contains a byte pattern"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1676291242,"post_id":75434619,"comment_id":133101318,"body_markdown":"And *why* are you doing that? What does the byte pattern mean?","body":"And <i>why</i> are you doing that? What does the byte pattern mean?"},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1676292438,"post_id":75434619,"comment_id":133101700,"body_markdown":"malware signature","body":"malware signature"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676370963,"post_id":75434619,"comment_id":133119178,"body_markdown":"Would it be too vague if you just searched for that byte sequence in the inputstream? or would you expect false positives?","body":"Would it be too vague if you just searched for that byte sequence in the inputstream? or would you expect false positives?"},{"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"score":0,"creation_date":1676371455,"post_id":75434619,"comment_id":133119312,"body_markdown":"not sure i understand, somehow ASM reads the .class and knows how to split into methods, i need raw bytes of a method (for all methods)","body":"not sure i understand, somehow ASM reads the .class and knows how to split into methods, i need raw bytes of a method (for all methods)"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676379876,"creation_date":1676372488,"answer_id":75446881,"question_id":75434619,"body_markdown":"I was curios, so I inspected the [code of the ASM `ClassReader` class][1].\r\n\r\nObviously, the library understands the class file structure and &quot;knows&quot; where the actual bytecode lives.\r\n\r\nHowever, it doesn&#39;t seem to expose that raw information to the caller, but only allows visiting individual bytecode instructions.\r\n\r\nThe relevant (internal) method is [`ClassReader.readCode`][2]. As far as I know after\r\n\r\n\r\n    final int bytecodeStartOffset = currentOffset;\r\n    final int bytecodeEndOffset = currentOffset + codeLength;\r\n\r\n`bytecodeStartOffset` and `bytecodeEndOffset` hold the limits of the code attribute you seem to be interested in, but those (and the underlying `byte[]`) don&#39;t get exposed to the caller directly.\r\n\r\nYou could try to patch the method to invoke some kind new of `visitRawCode` method on the visitor and/or request such a feature from the project. But as it stands, that doesn&#39;t seem to be a supported feature.\r\n\r\n  [1]: https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java\r\n  [2]: https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java#L1535","title":"Extract method raw bytes","body":"<p>I was curios, so I inspected the <a href=\"https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java\" rel=\"nofollow noreferrer\">code of the ASM <code>ClassReader</code> class</a>.</p>\n<p>Obviously, the library understands the class file structure and &quot;knows&quot; where the actual bytecode lives.</p>\n<p>However, it doesn't seem to expose that raw information to the caller, but only allows visiting individual bytecode instructions.</p>\n<p>The relevant (internal) method is <a href=\"https://gitlab.ow2.org/asm/asm/-/blob/master/asm/src/main/java/org/objectweb/asm/ClassReader.java#L1535\" rel=\"nofollow noreferrer\"><code>ClassReader.readCode</code></a>. As far as I know after</p>\n<pre><code>final int bytecodeStartOffset = currentOffset;\nfinal int bytecodeEndOffset = currentOffset + codeLength;\n</code></pre>\n<p><code>bytecodeStartOffset</code> and <code>bytecodeEndOffset</code> hold the limits of the code attribute you seem to be interested in, but those (and the underlying <code>byte[]</code>) don't get exposed to the caller directly.</p>\n<p>You could try to patch the method to invoke some kind new of <code>visitRawCode</code> method on the visitor and/or request such a feature from the project. But as it stands, that doesn't seem to be a supported feature.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1676477017,"creation_date":1676474114,"answer_id":75461858,"question_id":75434619,"body_markdown":"The ASM library is not designed to provide you raw bytes. But it’s not so hard to write a dedicated class file parser for such an extraction task using the [documentation of the class file format].\r\n\r\nThe bigger problem is the idea of performing a malware signature check on the method’s raw bytecode itself.\r\n\r\nConsider the following self-contained example:\r\n\r\n```java\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.nio.ByteBuffer;\r\nimport java.util.HexFormat;\r\n\r\npublic class BytecodeSignature {\r\n    static class Example1 extends BytecodeSignature {\r\n        void method() throws IOException {\r\n            Runtime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\r\n        }\r\n    }\r\n    static class Example2 extends BytecodeSignature {\r\n        void method() throws IOException {\r\n            System.console().printf(&quot;hello&quot;);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String methodName = &quot;method&quot;;\r\n\r\n        for(Class&lt;?&gt; c: BytecodeSignature.class.getDeclaredClasses()) {\r\n            System.out.println(c);\r\n            ByteBuffer buf;\r\n            try(InputStream is = c.getResourceAsStream(c.getName() + &quot;.class&quot;)) {\r\n              buf = ByteBuffer.wrap(is.readAllBytes());\r\n            }\r\n            buf.position(8);\r\n            int codeCP = 0, methodNameCP = 0;\r\n            for(int cp = 1, num = buf.getChar(); cp &lt; num; cp++) {\r\n                switch(buf.get()) {\r\n                    default -&gt; throw new IllegalStateException();\r\n                    case Module, Package, Class, String, MethodType\r\n                         -&gt; buf.position(buf.position() + 2);\r\n                    case FieldRef, MethodRef, IfMethodRef, NameAndType,\r\n                         InvokeDynamic, ConstDynamic, Int, Float\r\n                        -&gt; buf.position(buf.position() + 4);\r\n                    case Double, Long -&gt; {buf.position(buf.position() + 8); cp++;}\r\n                    case MethodHandle -&gt; buf.position(buf.position() + 3);\r\n                    case Utf8 -&gt; {\r\n                        if(lookingAt(buf, &quot;Code&quot;)) codeCP = cp;\r\n                        if(lookingAt(buf, methodName)) methodNameCP = cp;\r\n                        buf.position(buf.getChar() + buf.position());\r\n                    }\r\n                }\r\n            }\r\n            if(codeCP == 0 || methodNameCP == 0) continue;\r\n\r\n            buf.position(buf.position() + 6);\r\n            buf.position(buf.getChar() + buf.position()); // skip interfaces\r\n            for(int memberKind = 0; memberKind &lt; 2; memberKind++) {\r\n                int numMembers = buf.getChar(); // memberKind: 0 fields, 1 methods\r\n                for(int m = 0; m &lt; numMembers; m++) {\r\n                    boolean targetMethod = memberKind != 0\r\n                        &amp;&amp; buf.getChar(buf.position() + 2) == methodNameCP;\r\n                    buf.position(buf.position() + 6);\r\n                    int numAttr = buf.getChar();\r\n                    for(int a = 0; a &lt; numAttr; a++) {\r\n                        int name = buf.getChar(), length = buf.getInt();\r\n                        if(targetMethod &amp;&amp; name == codeCP) printCode(buf);\r\n                        buf.position(buf.position() + length);\r\n                    }\r\n                }\r\n            }\r\n            System.out.println();\r\n        }\r\n    }\r\n\r\n    // ASCII only\r\n    private static boolean lookingAt(ByteBuffer buf, String string) {\r\n        int pos = buf.position();\r\n        int num = buf.getChar(pos);\r\n        if(num != string.length()) return false;\r\n        pos += 2;\r\n        for(int six = 0; six &lt; num; six++, pos++)\r\n            if(buf.get(pos) != string.charAt(six)) return false;\r\n        return true;\r\n    }\r\n\r\n    private static void printCode(ByteBuffer buf) {\r\n        int offset = buf.arrayOffset() + buf.position() + 8;\r\n        int length = buf.getInt(buf.position() + 4);\r\n        System.out.println(HexFormat.ofDelimiter(&quot; &quot;)\r\n            .formatHex(buf.array(), offset, offset + length));\r\n    }\r\n\r\n    private static final byte Utf8 = 1, Int = 3, Float = 4, Long = 5, Double = 6,\r\n        Class = 7, String = 8, FieldRef = 9, MethodRef = 10, IfMethodRef = 11,\r\n        NameAndType = 12, MethodHandle = 15, MethodType = 16,\r\n        ConstDynamic = 17, InvokeDynamic = 18, Module = 19, Package = 20;\r\n}\r\n```\r\n\r\nThis prints\r\n\r\n```lang-none\r\nclass BytecodeSignature$Example1\r\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\r\n\r\nclass BytecodeSignature$Example2\r\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\r\n```\r\nwhen compiled with Eclipse and\r\n\r\n```lang-none\r\nclass BytecodeSignature$Example2\r\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\r\n\r\nclass BytecodeSignature$Example1\r\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\r\n```\r\n\r\nwhen compiled with JDK&#160;17’s javac.\r\n\r\nResults may vary, but it does already demonstrates that the harmless\r\n```java\r\nSystem.console().printf(&quot;hello&quot;);\r\n```\r\n\r\nproduces exactly the same bytecode as the potentially problematic\r\n```java\r\nRuntime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\r\n```\r\nwhen compiled with the same compiler, while the identical code may produce different bytecode when compiled with a different compiler. It may also differ depending on other conditions outside the method.\r\n\r\nThe reason is that the critical aspect of these methods is not the code structure (which is identical), but which classes, members, and string constants have been used and these artifacts are not stored in the method but in the constant pool.\r\n\r\nDecoding the sequence `b8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1` yields\r\n\r\n```lang-none\r\n  0 invokestatic  [18]    // [7] with javac\r\n  3 ldc           [24]    // [13] with javac\r\n  5 iconst_0\r\n  6 anewarray     [26]    // [15] with javac\r\n  9 invokevirtual [28]    // [17] with javac\r\n 12 pop\r\n 13 return\r\n```\r\nThose differing numbers are indices into the constant pool. The indices depend on whether the constants are shared with other members, have been encountered before by the compiler, or whether the compiler has a sorting strategy for the constants.\r\n\r\nBut not on the actual value.\r\n\r\nSo you can’t tell these two methods apart by looking at the raw bytes and you can’t recognize an already known method by looking at the raw bytes (when subtle unrelated things changed).\r\n\r\nThere is no way around parsing the bytecode and incorporating the referenced constants. But the good news is, the ASM library has an API to do exactly that, decoding the instructions and the referenced constants for you…\r\n\r\n[documentation of the class file format]: https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html","title":"Extract method raw bytes","body":"<p>The ASM library is not designed to provide you raw bytes. But it’s not so hard to write a dedicated class file parser for such an extraction task using the <a href=\"https://docs.oracle.com/javase/specs/jvms/se19/html/jvms-4.html\" rel=\"nofollow noreferrer\">documentation of the class file format</a>.</p>\n<p>The bigger problem is the idea of performing a malware signature check on the method’s raw bytecode itself.</p>\n<p>Consider the following self-contained example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.ByteBuffer;\nimport java.util.HexFormat;\n\npublic class BytecodeSignature {\n    static class Example1 extends BytecodeSignature {\n        void method() throws IOException {\n            Runtime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\n        }\n    }\n    static class Example2 extends BytecodeSignature {\n        void method() throws IOException {\n            System.console().printf(&quot;hello&quot;);\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        String methodName = &quot;method&quot;;\n\n        for(Class&lt;?&gt; c: BytecodeSignature.class.getDeclaredClasses()) {\n            System.out.println(c);\n            ByteBuffer buf;\n            try(InputStream is = c.getResourceAsStream(c.getName() + &quot;.class&quot;)) {\n              buf = ByteBuffer.wrap(is.readAllBytes());\n            }\n            buf.position(8);\n            int codeCP = 0, methodNameCP = 0;\n            for(int cp = 1, num = buf.getChar(); cp &lt; num; cp++) {\n                switch(buf.get()) {\n                    default -&gt; throw new IllegalStateException();\n                    case Module, Package, Class, String, MethodType\n                         -&gt; buf.position(buf.position() + 2);\n                    case FieldRef, MethodRef, IfMethodRef, NameAndType,\n                         InvokeDynamic, ConstDynamic, Int, Float\n                        -&gt; buf.position(buf.position() + 4);\n                    case Double, Long -&gt; {buf.position(buf.position() + 8); cp++;}\n                    case MethodHandle -&gt; buf.position(buf.position() + 3);\n                    case Utf8 -&gt; {\n                        if(lookingAt(buf, &quot;Code&quot;)) codeCP = cp;\n                        if(lookingAt(buf, methodName)) methodNameCP = cp;\n                        buf.position(buf.getChar() + buf.position());\n                    }\n                }\n            }\n            if(codeCP == 0 || methodNameCP == 0) continue;\n\n            buf.position(buf.position() + 6);\n            buf.position(buf.getChar() + buf.position()); // skip interfaces\n            for(int memberKind = 0; memberKind &lt; 2; memberKind++) {\n                int numMembers = buf.getChar(); // memberKind: 0 fields, 1 methods\n                for(int m = 0; m &lt; numMembers; m++) {\n                    boolean targetMethod = memberKind != 0\n                        &amp;&amp; buf.getChar(buf.position() + 2) == methodNameCP;\n                    buf.position(buf.position() + 6);\n                    int numAttr = buf.getChar();\n                    for(int a = 0; a &lt; numAttr; a++) {\n                        int name = buf.getChar(), length = buf.getInt();\n                        if(targetMethod &amp;&amp; name == codeCP) printCode(buf);\n                        buf.position(buf.position() + length);\n                    }\n                }\n            }\n            System.out.println();\n        }\n    }\n\n    // ASCII only\n    private static boolean lookingAt(ByteBuffer buf, String string) {\n        int pos = buf.position();\n        int num = buf.getChar(pos);\n        if(num != string.length()) return false;\n        pos += 2;\n        for(int six = 0; six &lt; num; six++, pos++)\n            if(buf.get(pos) != string.charAt(six)) return false;\n        return true;\n    }\n\n    private static void printCode(ByteBuffer buf) {\n        int offset = buf.arrayOffset() + buf.position() + 8;\n        int length = buf.getInt(buf.position() + 4);\n        System.out.println(HexFormat.ofDelimiter(&quot; &quot;)\n            .formatHex(buf.array(), offset, offset + length));\n    }\n\n    private static final byte Utf8 = 1, Int = 3, Float = 4, Long = 5, Double = 6,\n        Class = 7, String = 8, FieldRef = 9, MethodRef = 10, IfMethodRef = 11,\n        NameAndType = 12, MethodHandle = 15, MethodType = 16,\n        ConstDynamic = 17, InvokeDynamic = 18, Module = 19, Package = 20;\n}\n</code></pre>\n<p>This prints</p>\n<pre class=\"lang-none prettyprint-override\"><code>class BytecodeSignature$Example1\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\n\nclass BytecodeSignature$Example2\nb8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1\n</code></pre>\n<p>when compiled with Eclipse and</p>\n<pre class=\"lang-none prettyprint-override\"><code>class BytecodeSignature$Example2\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\n\nclass BytecodeSignature$Example1\nb8 00 07 12 0d 03 bd 00 0f b6 00 11 57 b1\n</code></pre>\n<p>when compiled with JDK 17’s javac.</p>\n<p>Results may vary, but it does already demonstrates that the harmless</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.console().printf(&quot;hello&quot;);\n</code></pre>\n<p>produces exactly the same bytecode as the potentially problematic</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runtime.getRuntime().exec(&quot;/sbin/whatever&quot;, new String[0]);\n</code></pre>\n<p>when compiled with the same compiler, while the identical code may produce different bytecode when compiled with a different compiler. It may also differ depending on other conditions outside the method.</p>\n<p>The reason is that the critical aspect of these methods is not the code structure (which is identical), but which classes, members, and string constants have been used and these artifacts are not stored in the method but in the constant pool.</p>\n<p>Decoding the sequence <code>b8 00 12 12 18 03 bd 00 1a b6 00 1c 57 b1</code> yields</p>\n<pre class=\"lang-none prettyprint-override\"><code>  0 invokestatic  [18]    // [7] with javac\n  3 ldc           [24]    // [13] with javac\n  5 iconst_0\n  6 anewarray     [26]    // [15] with javac\n  9 invokevirtual [28]    // [17] with javac\n 12 pop\n 13 return\n</code></pre>\n<p>Those differing numbers are indices into the constant pool. The indices depend on whether the constants are shared with other members, have been encountered before by the compiler, or whether the compiler has a sorting strategy for the constants.</p>\n<p>But not on the actual value.</p>\n<p>So you can’t tell these two methods apart by looking at the raw bytes and you can’t recognize an already known method by looking at the raw bytes (when subtle unrelated things changed).</p>\n<p>There is no way around parsing the bytecode and incorporating the referenced constants. But the good news is, the ASM library has an API to do exactly that, decoding the instructions and the referenced constants for you…</p>\n"}],"owner":{"account_id":3139322,"reputation":2855,"user_id":2655092,"accept_rate":80,"display_name":"whoopdedoo"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676477017,"creation_date":1676283834,"question_id":75434619,"body_markdown":"How to extract method raw bytes using ASM ?\r\n\r\nI need a map of method signatures* and raw bytes\r\n\r\n\r\n```java\r\nClassReader classReader = new ClassReader(artifact.getInputStream(jarEntry));\r\nclassReader.accept(new MethodVisitor(Opcodes.ASM9) {\r\n    @Override\r\n    public void visitEnd() {\r\n        super.visitEnd(); \r\n        byte[] methodRawBytes = this.?                \r\n    }\r\n}, 0);\r\n```\r\n\r\nhacks/reflection-based answers are welcome\r\n\r\n\r\n\r\n\r\n*Method signature in a ByteCode format like `Lcom/foo/CustomClass;-&gt;methodName(Ljava/lang/String;B)V`\r\n","title":"Extract method raw bytes","body":"<p>How to extract method raw bytes using ASM ?</p>\n<p>I need a map of method signatures* and raw bytes</p>\n<pre class=\"lang-java prettyprint-override\"><code>ClassReader classReader = new ClassReader(artifact.getInputStream(jarEntry));\nclassReader.accept(new MethodVisitor(Opcodes.ASM9) {\n    @Override\n    public void visitEnd() {\n        super.visitEnd(); \n        byte[] methodRawBytes = this.?                \n    }\n}, 0);\n</code></pre>\n<p>hacks/reflection-based answers are welcome</p>\n<p>*Method signature in a ByteCode format like <code>Lcom/foo/CustomClass;-&gt;methodName(Ljava/lang/String;B)V</code></p>\n"},{"tags":["java","sorting"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676447384,"creation_date":1676447384,"answer_id":75456823,"question_id":75456371,"body_markdown":"Use a map:\r\n\r\n```\r\nMap&lt;String, Integer&gt; counts = Map.of(\r\n        &quot;carrots&quot;, carrots,\r\n        &quot;mushrooms&quot;, mushrooms,\r\n        &quot;salads&quot;, salads,\r\n        &quot;tomatoes&quot;, tomatoes\r\n);\r\ncounts.entrySet().stream() // Stream&lt;Map.Entry&lt;String, Integer&gt;&gt;\r\n        .filter(e -&gt; e.getValue() &gt; 0)\r\n        .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().thenComparing(Map.Entry.comparingByKey()))\r\n        .forEach(e -&gt; System.out.printf(&quot;%s: [%d]%n&quot;, e.getKey(), e.getValue()));\r\n```\r\nI know that `.&lt;String, Integer&gt;` is ugly, but Java&#39;s type inference can&#39;t see past the first call in method chains. This tells the compiler that the the first method in the method chain uses `String` and `Integer` as generic types.","title":"Sorting integers in Java with extra condition","body":"<p>Use a map:</p>\n<pre><code>Map&lt;String, Integer&gt; counts = Map.of(\n        &quot;carrots&quot;, carrots,\n        &quot;mushrooms&quot;, mushrooms,\n        &quot;salads&quot;, salads,\n        &quot;tomatoes&quot;, tomatoes\n);\ncounts.entrySet().stream() // Stream&lt;Map.Entry&lt;String, Integer&gt;&gt;\n        .filter(e -&gt; e.getValue() &gt; 0)\n        .sorted(Map.Entry.&lt;String, Integer&gt;comparingByValue().thenComparing(Map.Entry.comparingByKey()))\n        .forEach(e -&gt; System.out.printf(&quot;%s: [%d]%n&quot;, e.getKey(), e.getValue()));\n</code></pre>\n<p>I know that <code>.&lt;String, Integer&gt;</code> is ugly, but Java's type inference can't see past the first call in method chains. This tells the compiler that the the first method in the method chain uses <code>String</code> and <code>Integer</code> as generic types.</p>\n"},{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676450325,"creation_date":1676449981,"answer_id":75457167,"question_id":75456371,"body_markdown":"This is a bit of an academic approach. The other answer is a better practical approach.\r\n\r\nSince the arguments are already alphabetical, and java&#39;s sort algorithm is stable. ie if the two values are the same, then they&#39;ll stay in the same order, then.\r\n\r\n    List&lt;Integer&gt; amount = new ArrayList&lt;&gt;(List.of(carrots, mushrooms, salads, tomatoes));\r\n    List&lt;Integer&gt; sorted new ArrayList&lt;&gt;(amount);\r\n    sorted.sort(Integer::compare);\r\n\r\nNow you can map the items back because the order doesn&#39;t change when they&#39;re equal.\r\n    \r\n    String[] names = {&quot;carrots&quot;, &quot;mushrooms&quot;, &quot;salads&quot;, &quot;tomatoes&quot;};\r\n\r\n    for(Integer i: sorted){\r\n        if(i == 0) continue; //skip zero values.\r\n\r\n        int j = amount.indexOf(i);\r\n        System.out.println( names[j] + &quot; : &quot; + i );\r\n        amount.set(j, -1);\r\n    }\r\n\r\nIf the values are all unique, then it is obvious how this works. It finds the index of the value, and prints the corresponding name. \r\n\r\nWhen there are duplicates, the alphabetically lowest name is printed first. The value is replaced with `-1` so that subsequent calls to &quot;indexOf&quot; return the next valid index.","title":"Sorting integers in Java with extra condition","body":"<p>This is a bit of an academic approach. The other answer is a better practical approach.</p>\n<p>Since the arguments are already alphabetical, and java's sort algorithm is stable. ie if the two values are the same, then they'll stay in the same order, then.</p>\n<pre><code>List&lt;Integer&gt; amount = new ArrayList&lt;&gt;(List.of(carrots, mushrooms, salads, tomatoes));\nList&lt;Integer&gt; sorted new ArrayList&lt;&gt;(amount);\nsorted.sort(Integer::compare);\n</code></pre>\n<p>Now you can map the items back because the order doesn't change when they're equal.</p>\n<pre><code>String[] names = {&quot;carrots&quot;, &quot;mushrooms&quot;, &quot;salads&quot;, &quot;tomatoes&quot;};\n\nfor(Integer i: sorted){\n    if(i == 0) continue; //skip zero values.\n\n    int j = amount.indexOf(i);\n    System.out.println( names[j] + &quot; : &quot; + i );\n    amount.set(j, -1);\n}\n</code></pre>\n<p>If the values are all unique, then it is obvious how this works. It finds the index of the value, and prints the corresponding name.</p>\n<p>When there are duplicates, the alphabetically lowest name is printed first. The value is replaced with <code>-1</code> so that subsequent calls to &quot;indexOf&quot; return the next valid index.</p>\n"}],"owner":{"account_id":27790457,"reputation":3,"user_id":21216994,"display_name":"casual Coffee enjoyer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75457167,"answer_count":2,"score":-2,"last_activity_date":1676476629,"creation_date":1676443962,"question_id":75456371,"body_markdown":"I want to sort a few variables (int) by size with the added condition, that when two are equal they should be sorted alphabetically. More specifically:\r\n\r\nI have the following method:\r\n\r\n```\r\npublic void doSomething(int carrots, int mushrooms, int salads, int tomatoes) {\r\n    //Here I want to print them in the right order\r\n}\r\n```\r\n\r\nThe printed lines should have the format: &quot;mushrooms: [amount]&quot;\r\nAnd only lines which are not 0 should be printed.\r\nThese things I can manage on my own however.\r\n\r\nI have tried to put them all in a List and sort them, but then its basically impossible to map them back to their names.\r\nI don&#39;t really know where to go from here.","title":"Sorting integers in Java with extra condition","body":"<p>I want to sort a few variables (int) by size with the added condition, that when two are equal they should be sorted alphabetically. More specifically:</p>\n<p>I have the following method:</p>\n<pre><code>public void doSomething(int carrots, int mushrooms, int salads, int tomatoes) {\n    //Here I want to print them in the right order\n}\n</code></pre>\n<p>The printed lines should have the format: &quot;mushrooms: [amount]&quot;\nAnd only lines which are not 0 should be printed.\nThese things I can manage on my own however.</p>\n<p>I have tried to put them all in a List and sort them, but then its basically impossible to map them back to their names.\nI don't really know where to go from here.</p>\n"},{"tags":["java","gradle","testing","java-test-fixtures"],"owner":{"account_id":1345093,"reputation":2590,"user_id":1286009,"accept_rate":75,"display_name":"Hendrik Ebbers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676476427,"creation_date":1676476427,"question_id":75462300,"body_markdown":"I would like to add the `java-test-fixtures` plugin to a custom conventions plugin under `buildSrc` that I simply add to any of my modules. By doing so I only need to add my custom conventions plugin instead of having multiple (and different) plugins for each  sub-module. By doing so the build won&#39;t work anymore if a sub-module does not have a test fixtures source set (`/src/testFixtures/java/...`). Is there any way in Gradle to make the usage of `java-test-fixtures` optional?","title":"Optional testFixtures in Gradle","body":"<p>I would like to add the <code>java-test-fixtures</code> plugin to a custom conventions plugin under <code>buildSrc</code> that I simply add to any of my modules. By doing so I only need to add my custom conventions plugin instead of having multiple (and different) plugins for each  sub-module. By doing so the build won't work anymore if a sub-module does not have a test fixtures source set (<code>/src/testFixtures/java/...</code>). Is there any way in Gradle to make the usage of <code>java-test-fixtures</code> optional?</p>\n"},{"tags":["java","spring-boot","swagger","springfox"],"answers":[{"tags":[],"owner":{"account_id":10183527,"reputation":2074,"user_id":7519419,"display_name":"Vladas Maier"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1540990063,"creation_date":1539262893,"answer_id":52760718,"question_id":41801387,"body_markdown":"I am using Springfox version 2.8.0 and following code snippet works for my documented API:\r\n\r\n    @Bean\r\n    UiConfiguration uiConfig() {\r\n        return UiConfigurationBuilder\r\n                .builder()\r\n                .operationsSorter(OperationsSorter.METHOD)\r\n                \r\n                ...\r\n                \r\n                .build();\r\n    }\r\n\r\nThere are 2 possible values:\r\n\r\n - `OperationsSorter.ALPHA` - sorts API endpoints alphabetically by **path**\r\n - `OperationsSorter.METHOD` - sorts API endpoints alphabetically by **method** \r\n\r\n`OperationsSorter.METHOD` is what you are looking for.\r\n\r\n---\r\n\r\n**Alternative** by using `operationOrdering()`:\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        return new Docket(DocumentationType.SWAGGER_2)\r\n            .select()\r\n            .apis(RequestHandlerSelectors.any())\r\n            .paths(PathSelectors.any())\r\n            .build()\r\n\r\n            ...\r\n\r\n            .operationOrdering(new Ordering&lt;Operation&gt;() {\r\n                @Override\r\n                public int compare(Operation left, Operation right) {\r\n                    return left.getMethod().name().compareTo(right.getMethod().name());\r\n                }\r\n            })\r\n    }\r\n\r\nHowever, this does not work because of a bug in Springfox which seems to be still active ([Operation ordering is not working][1]).\r\n\r\n\r\n  [1]: https://github.com/springfox/springfox/issues/1648","title":"Swagger API Operations Ordering","body":"<p>I am using Springfox version 2.8.0 and following code snippet works for my documented API:</p>\n\n<pre><code>@Bean\nUiConfiguration uiConfig() {\n    return UiConfigurationBuilder\n            .builder()\n            .operationsSorter(OperationsSorter.METHOD)\n\n            ...\n\n            .build();\n}\n</code></pre>\n\n<p>There are 2 possible values:</p>\n\n<ul>\n<li><code>OperationsSorter.ALPHA</code> - sorts API endpoints alphabetically by <strong>path</strong></li>\n<li><code>OperationsSorter.METHOD</code> - sorts API endpoints alphabetically by <strong>method</strong> </li>\n</ul>\n\n<p><code>OperationsSorter.METHOD</code> is what you are looking for.</p>\n\n<hr>\n\n<p><strong>Alternative</strong> by using <code>operationOrdering()</code>:</p>\n\n<pre><code>@Bean\npublic Docket api() {\n    return new Docket(DocumentationType.SWAGGER_2)\n        .select()\n        .apis(RequestHandlerSelectors.any())\n        .paths(PathSelectors.any())\n        .build()\n\n        ...\n\n        .operationOrdering(new Ordering&lt;Operation&gt;() {\n            @Override\n            public int compare(Operation left, Operation right) {\n                return left.getMethod().name().compareTo(right.getMethod().name());\n            }\n        })\n}\n</code></pre>\n\n<p>However, this does not work because of a bug in Springfox which seems to be still active (<a href=\"https://github.com/springfox/springfox/issues/1648\" rel=\"noreferrer\">Operation ordering is not working</a>).</p>\n"},{"tags":[],"owner":{"account_id":1878420,"reputation":41,"user_id":1699105,"display_name":"Tran Dinh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581068120,"creation_date":1581068120,"answer_id":60110686,"question_id":41801387,"body_markdown":"    @Bean\r\n    public UiConfiguration uiConfig() {\r\n        return UiConfigurationBuilder\r\n                .builder()\r\n                .operationsSorter(OperationsSorter.METHOD)\r\n                .build();\r\n    }\r\nThis works for me. I&#39;m using Spring Boot 2.2.0.M6, Swagger UI 2.9.2","title":"Swagger API Operations Ordering","body":"<pre><code>@Bean\npublic UiConfiguration uiConfig() {\n    return UiConfigurationBuilder\n            .builder()\n            .operationsSorter(OperationsSorter.METHOD)\n            .build();\n}\n</code></pre>\n\n<p>This works for me. I'm using Spring Boot 2.2.0.M6, Swagger UI 2.9.2</p>\n"},{"tags":[],"owner":{"account_id":66358,"reputation":6551,"user_id":194715,"display_name":"mp31415"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1615742916,"creation_date":1615742916,"answer_id":66627532,"question_id":41801387,"body_markdown":"With **Spring Boot 2.4** and **OpenAPI** the following properties in **application.properties** may be of interest:\r\n- springdoc.swagger-ui.**tagsSorter**=alpha\r\n- springdoc.swagger-ui.**operations-sorter**=alpha\r\n","title":"Swagger API Operations Ordering","body":"<p>With <strong>Spring Boot 2.4</strong> and <strong>OpenAPI</strong> the following properties in <strong>application.properties</strong> may be of interest:</p>\n<ul>\n<li>springdoc.swagger-ui.<strong>tagsSorter</strong>=alpha</li>\n<li>springdoc.swagger-ui.<strong>operations-sorter</strong>=alpha</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15375039,"reputation":508,"user_id":11092008,"display_name":"Shapur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671272955,"creation_date":1671272955,"answer_id":74833364,"question_id":41801387,"body_markdown":"`springdoc.swagger-ui.operations-sorter` does not work in  `v3/api-docs`.\r\n\r\nFor  alphabetical ordering in `v3/api-docs` use : \r\n\r\n    springdoc.writer-with-order-by-keys=true","title":"Swagger API Operations Ordering","body":"<p><code>springdoc.swagger-ui.operations-sorter</code> does not work in  <code>v3/api-docs</code>.</p>\n<p>For  alphabetical ordering in <code>v3/api-docs</code> use :</p>\n<pre><code>springdoc.writer-with-order-by-keys=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294145,"reputation":1272,"user_id":2016070,"accept_rate":0,"display_name":"Bilal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676476401,"creation_date":1676476401,"answer_id":75462296,"question_id":41801387,"body_markdown":"Add this to your application.properties file\r\n\r\n    springdoc.swagger-ui.operationsSorter=method\r\n    springdoc.swagger-ui.tagsSorter=alpha\r\n\r\nResult :\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qABXr.png","title":"Swagger API Operations Ordering","body":"<p>Add this to your application.properties file</p>\n<pre><code>springdoc.swagger-ui.operationsSorter=method\nspringdoc.swagger-ui.tagsSorter=alpha\n</code></pre>\n<p>Result :\n<a href=\"https://i.stack.imgur.com/qABXr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qABXr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23920,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1676476401,"creation_date":1485157579,"question_id":41801387,"body_markdown":"How do I sort my operation by method alphabetically e.g. **DELETE**, **GET**, **POST**, **PUT**.\r\n\r\nI have read from this post but it is in HTML but in my case, I have integrated Swagger into Spring Boot so I need to sort it when creating a Docket.\r\n\r\n[Sort API methods in Swagger UI][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/24951268/sort-api-methods-in-swagger-ui\r\n\r\nThen I noticed this method `operationOrdering()` in Docket, but I still cannot make it work.","title":"Swagger API Operations Ordering","body":"<p>How do I sort my operation by method alphabetically e.g. <strong>DELETE</strong>, <strong>GET</strong>, <strong>POST</strong>, <strong>PUT</strong>.</p>\n\n<p>I have read from this post but it is in HTML but in my case, I have integrated Swagger into Spring Boot so I need to sort it when creating a Docket.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/24951268/sort-api-methods-in-swagger-ui\">Sort API methods in Swagger UI</a></p>\n\n<p>Then I noticed this method <code>operationOrdering()</code> in Docket, but I still cannot make it work.</p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":470836,"reputation":330,"user_id":878241,"display_name":"Evgeny Cheryomushkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671700051,"creation_date":1671700051,"answer_id":74886295,"question_id":74879382,"body_markdown":"Perhaps this will help:\r\n```java\r\nclass ContextloadApplicationTests {\r\n    @Test\r\n    void contextLoadsError() {\r\n        // set environment variables here\r\n        Assertions.assertThrows(UnsatisfiedDependencyException.class, () -&gt; {\r\n            ApplicationContext context = \r\n                new AnnotationConfigApplicationContext(&quot;com.example.contextload&quot;);\r\n        });\r\n    }\r\n}\r\n```\r\nThis will try to load application context aand expect that it is incorrect.","title":"How can I test that a Spring Boot application fails to build context?","body":"<p>Perhaps this will help:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ContextloadApplicationTests {\n    @Test\n    void contextLoadsError() {\n        // set environment variables here\n        Assertions.assertThrows(UnsatisfiedDependencyException.class, () -&gt; {\n            ApplicationContext context = \n                new AnnotationConfigApplicationContext(&quot;com.example.contextload&quot;);\n        });\n    }\n}\n</code></pre>\n<p>This will try to load application context aand expect that it is incorrect.</p>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676476183,"creation_date":1671642037,"question_id":74879382,"body_markdown":"I want to test that my conditional configuration fails if a specific environment variable is wrongly set. I&#39;d like to have a test that sets some test environment properties and assert that the Spring context failed to start. How can I do that?\r\n\r\nSpring Boot offers `@SpringBootTest`, but it requires the Spring configuration to be correct, and I want to test the opposite scenario.\r\n","title":"How can I test that a Spring Boot application fails to build context?","body":"<p>I want to test that my conditional configuration fails if a specific environment variable is wrongly set. I'd like to have a test that sets some test environment properties and assert that the Spring context failed to start. How can I do that?</p>\n<p>Spring Boot offers <code>@SpringBootTest</code>, but it requires the Spring configuration to be correct, and I want to test the opposite scenario.</p>\n"},{"tags":["java","maven","kotlin","integration-testing","maven-surefire-plugin"],"comments":[{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":3,"creation_date":1554908469,"post_id":55609640,"comment_id":97924907,"body_markdown":"First, try using the same version of the surefire and failsafe plugins. They are closely related. Not sure it will fix anything, but IMO consistency is the first step.","body":"First, try using the same version of the surefire and failsafe plugins. They are closely related. Not sure it will fix anything, but IMO consistency is the first step."},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":0,"creation_date":1554908653,"post_id":55609640,"comment_id":97925042,"body_markdown":"Also, the `&lt;useSystemClassLoader&gt;` attribute was added to the Surefire config, but it&#39;s Failsafe that&#39;s having the problem.","body":"Also, the <code>&lt;useSystemClassLoader&gt;</code> attribute was added to the Surefire config, but it&#39;s Failsafe that&#39;s having the problem."},{"owner":{"account_id":11673442,"reputation":390,"user_id":8547799,"display_name":"Tns"},"score":6,"creation_date":1559577246,"post_id":55609640,"comment_id":99455934,"body_markdown":"For Spring Boot see https://stackoverflow.com/a/50804520/8547799 and https://github.com/spring-projects/spring-boot/issues/6254","body":"For Spring Boot see <a href=\"https://stackoverflow.com/a/50804520/8547799\">stackoverflow.com/a/50804520/8547799</a> and <a href=\"https://github.com/spring-projects/spring-boot/issues/6254\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/6254</a>"},{"owner":{"account_id":4072211,"reputation":2941,"user_id":3344832,"accept_rate":50,"display_name":"Mohamed Ennahdi El Idrissi"},"score":0,"creation_date":1576756451,"post_id":55609640,"comment_id":105005606,"body_markdown":"Are you using jmockit?","body":"Are you using jmockit?"}],"answers":[{"tags":[],"owner":{"account_id":3751971,"reputation":141,"user_id":3119291,"display_name":"user3119291"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633693821,"creation_date":1633693821,"answer_id":69495385,"question_id":55609640,"body_markdown":"Faced the same problem, sovled it by adding **target/classes** as additional classpath elements. It feels a little bit dirty but works:\r\n\r\n```\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;additionalClasspathElements&gt;\r\n            &lt;additionalClasspathElement&gt;${basedir}/target/classes&lt;/additionalClasspathElement&gt;\r\n          &lt;/additionalClasspathElements&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```","title":"Maven Failsafe: NoClassDefFoundError for integration tests","body":"<p>Faced the same problem, sovled it by adding <strong>target/classes</strong> as additional classpath elements. It feels a little bit dirty but works:</p>\n<pre><code>      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;additionalClasspathElements&gt;\n            &lt;additionalClasspathElement&gt;${basedir}/target/classes&lt;/additionalClasspathElement&gt;\n          &lt;/additionalClasspathElements&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3088921,"reputation":1890,"user_id":2615510,"display_name":"Andrey Lebedenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676476086,"creation_date":1676476086,"answer_id":75462239,"question_id":55609640,"body_markdown":"I&#39;ve faced this issue while migrating the Spring Boot project to JDK 17. In the end, the `failsafe` section of the `pom.xml` looked like this:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.22.2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;integration-test&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;integration-test&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;verify&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;forkCount&gt;1&lt;/forkCount&gt;\r\n          &lt;reuseForks&gt;false&lt;/reuseForks&gt;\r\n          &lt;argLine&gt;@{argLine}&lt;/argLine&gt;\r\n          &lt;includes&gt;\r\n            &lt;include&gt;**/*IT.java&lt;/include&gt;\r\n          &lt;/includes&gt;\r\n          &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\r\n          &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n            &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.2&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/plugin&gt;","title":"Maven Failsafe: NoClassDefFoundError for integration tests","body":"<p>I've faced this issue while migrating the Spring Boot project to JDK 17. In the end, the <code>failsafe</code> section of the <code>pom.xml</code> looked like this:</p>\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.2&lt;/version&gt;\n    &lt;executions&gt;\n      &lt;execution&gt;\n        &lt;id&gt;integration-test&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;integration-test&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n      &lt;execution&gt;\n        &lt;id&gt;verify&lt;/id&gt;\n        &lt;goals&gt;\n          &lt;goal&gt;verify&lt;/goal&gt;\n        &lt;/goals&gt;\n      &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n      &lt;forkCount&gt;1&lt;/forkCount&gt;\n      &lt;reuseForks&gt;false&lt;/reuseForks&gt;\n      &lt;argLine&gt;@{argLine}&lt;/argLine&gt;\n      &lt;includes&gt;\n        &lt;include&gt;**/*IT.java&lt;/include&gt;\n      &lt;/includes&gt;\n      &lt;classesDirectory&gt;${project.build.outputDirectory}&lt;/classesDirectory&gt;\n      &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n        &lt;version&gt;2.22.2&lt;/version&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3013537,"reputation":7735,"user_id":3322533,"accept_rate":65,"display_name":"User1291"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4081,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1676476086,"creation_date":1554889953,"question_id":55609640,"body_markdown":"Setup: Kotlin integration tests in a spring boot application.\r\n\r\nTests work fine when I run them with IntelliJ.\r\nWhen I try to run the integration tests with maven, though:\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test (default) on project myapp: Execution default of goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test failed: There was an error in the forked process\r\n[ERROR] java.lang.NoClassDefFoundError: ch/cypherk/myapp/service/CustomerService\r\n[ERROR]         at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n[ERROR]         at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3138)\r\n[ERROR]         at java.base/java.lang.Class.getConstructor0(Class.java:3343)\r\n[ERROR]         at java.base/java.lang.Class.getConstructor(Class.java:2152)\r\n[ERROR]         at org.apache.maven.surefire.junit.PojoAndJUnit3Checker.isPojoTest(PojoAndJUnit3Checker.java:51)\r\n...\r\n```\r\nwhich is very annoying since I kind of need bamboo to run the darn things.\r\n\r\nThe `CustomerService` is an interface and yes, it is compiled, there&#39;s a corresponding `.class` file in maven&#39;s `./target` directory and IntelliJ is set up to use the same.\r\n\r\nCan&#39;t quite figure out why this is failing and would appreciate some help with the plugin.\r\n\r\nRelavant excerpt from the `pom.xml`:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.22.0&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;!-- doesn&#39;t make a difference if `true` or `false`--&gt;\r\n        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                &lt;goal&gt;verify&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n        &lt;includes&gt;\r\n            &lt;include&gt;**/*IT*&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n        &lt;excludes&gt;\r\n            &lt;exclude&gt;**/ui/*&lt;/exclude&gt;\r\n        &lt;/excludes&gt;\r\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n\r\nFull `pom.xml`: http://freetexthost.com/dbghyawijj\r\n\r\nFull log of the failing integration test step: http://freetexthost.com/gbsmd3mwm2","title":"Maven Failsafe: NoClassDefFoundError for integration tests","body":"<p>Setup: Kotlin integration tests in a spring boot application.</p>\n\n<p>Tests work fine when I run them with IntelliJ.\nWhen I try to run the integration tests with maven, though:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test (default) on project myapp: Execution default of goal org.apache.maven.plugins:maven-failsafe-plugin:2.19.1:integration-test failed: There was an error in the forked process\n[ERROR] java.lang.NoClassDefFoundError: ch/cypherk/myapp/service/CustomerService\n[ERROR]         at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n[ERROR]         at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3138)\n[ERROR]         at java.base/java.lang.Class.getConstructor0(Class.java:3343)\n[ERROR]         at java.base/java.lang.Class.getConstructor(Class.java:2152)\n[ERROR]         at org.apache.maven.surefire.junit.PojoAndJUnit3Checker.isPojoTest(PojoAndJUnit3Checker.java:51)\n...\n</code></pre>\n\n<p>which is very annoying since I kind of need bamboo to run the darn things.</p>\n\n<p>The <code>CustomerService</code> is an interface and yes, it is compiled, there's a corresponding <code>.class</code> file in maven's <code>./target</code> directory and IntelliJ is set up to use the same.</p>\n\n<p>Can't quite figure out why this is failing and would appreciate some help with the plugin.</p>\n\n<p>Relavant excerpt from the <code>pom.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.22.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;!-- doesn't make a difference if `true` or `false`--&gt;\n        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.19.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;integration-test&lt;/goal&gt;\n                &lt;goal&gt;verify&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/*IT*&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;excludes&gt;\n            &lt;exclude&gt;**/ui/*&lt;/exclude&gt;\n        &lt;/excludes&gt;\n        &lt;trimStackTrace&gt;false&lt;/trimStackTrace&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Full <code>pom.xml</code>: <a href=\"http://freetexthost.com/dbghyawijj\" rel=\"noreferrer\">http://freetexthost.com/dbghyawijj</a></p>\n\n<p>Full log of the failing integration test step: <a href=\"http://freetexthost.com/gbsmd3mwm2\" rel=\"noreferrer\">http://freetexthost.com/gbsmd3mwm2</a></p>\n"},{"tags":["java","generics","mockito"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668434375,"creation_date":1668429658,"answer_id":74431818,"question_id":74426274,"body_markdown":"As stated in the [documentation of `ArgumentCaptor`][ArgumentCaptor] although this class is generic, it doesn&#39;t perform any validation:\r\n\r\n&gt; This utility class **don&#39;t do any type checks**, the generic signatures are only there to avoid casting in your code. \r\n\r\n\r\nHence, if you make use of row types it wouldn&#39;t be less type-safe, but there&#39;s a drawback - the compiler will issue a warning.\r\n\r\n```\r\n@SuppressWarnings(&quot;unchecked&quot;)\r\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.forClass(Consumer.class);\r\n```\r\n\r\nThere&#39;s a cleaner option which also mentioned in the documentation linked above, namely to declare the captor as a field and annotate it with [`@Captor`][@Captor].\r\n\r\n```\r\n@Captor\r\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor;\r\n```\r\n\r\n   [ArgumentCaptor]: https://www.javadoc.io/doc/org.mockito/mockito-core/2.6.9/org/mockito/ArgumentCaptor.html\r\n\r\n\r\n   [@Captor]: https://javadoc.io/doc/org.mockito/mockito-core/2.7.9/org/mockito/Captor.html","title":"Generics and ArgumentCaptor in Mockito","body":"<p>As stated in the <a href=\"https://www.javadoc.io/doc/org.mockito/mockito-core/2.6.9/org/mockito/ArgumentCaptor.html\" rel=\"nofollow noreferrer\">documentation of <code>ArgumentCaptor</code></a> although this class is generic, it doesn't perform any validation:</p>\n<blockquote>\n<p>This utility class <strong>don't do any type checks</strong>, the generic signatures are only there to avoid casting in your code.</p>\n</blockquote>\n<p>Hence, if you make use of row types it wouldn't be less type-safe, but there's a drawback - the compiler will issue a warning.</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.forClass(Consumer.class);\n</code></pre>\n<p>There's a cleaner option which also mentioned in the documentation linked above, namely to declare the captor as a field and annotate it with <a href=\"https://javadoc.io/doc/org.mockito/mockito-core/2.7.9/org/mockito/Captor.html\" rel=\"nofollow noreferrer\"><code>@Captor</code></a>.</p>\n<pre><code>@Captor\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor;\n</code></pre>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74431818,"answer_count":1,"score":0,"last_activity_date":1676475804,"creation_date":1668391777,"question_id":74426274,"body_markdown":"In Mockito&#39;s verify I want to capture an argument of type `Consumer&lt;String&gt;`. How should I write the line to avoid type erasure?\r\n\r\nI&#39;m reached this point and it doesn&#39;t compile:\r\n\r\n```\r\nArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.&lt;Consumer&lt;String&gt;, Consumer&lt;String&gt;&gt;forClass(Consumer&lt;String&gt;.class);\r\n```\r\n\r\nHow can I do it?\r\n\r\n","title":"Generics and ArgumentCaptor in Mockito","body":"<p>In Mockito's verify I want to capture an argument of type <code>Consumer&lt;String&gt;</code>. How should I write the line to avoid type erasure?</p>\n<p>I'm reached this point and it doesn't compile:</p>\n<pre><code>ArgumentCaptor&lt;Consumer&lt;String&gt;&gt; captor = ArgumentCaptor.&lt;Consumer&lt;String&gt;, Consumer&lt;String&gt;&gt;forClass(Consumer&lt;String&gt;.class);\n</code></pre>\n<p>How can I do it?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1676468371,"post_id":75460431,"comment_id":133142206,"body_markdown":"`charAt` returns a `char` which is a numerical value, representing the ascii value of that character. If you take a look at an ascii table, 50 represents the character `&#39;2&#39;`. You can convert individual digits using `int j= str1.charAt(1)-&#39;0&#39;`.","body":"<code>charAt</code> returns a <code>char</code> which is a numerical value, representing the ascii value of that character. If you take a look at an ascii table, 50 represents the character <code>&#39;2&#39;</code>. You can convert individual digits using <code>int j= str1.charAt(1)-&#39;0&#39;</code>."}],"answers":[{"tags":[],"owner":{"account_id":22166461,"reputation":104,"user_id":16412574,"display_name":"Sheikh Farid"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676469046,"creation_date":1676469046,"answer_id":75460809,"question_id":75460431,"body_markdown":" \r\n\r\n    String str1 = &quot;1234&quot;;\r\n    integer j = str1.charAt(1) - 48 ;\r\n    print(j);\r\n\r\n    // because ASCII value of 0 is 48 and ASCII value of 2 is 50\r\n    //so 50 - 48 = 2\r\n\r\n","title":"Is there a function to return a character from string as an integer?","body":"<pre><code>String str1 = &quot;1234&quot;;\ninteger j = str1.charAt(1) - 48 ;\nprint(j);\n\n// because ASCII value of 0 is 48 and ASCII value of 2 is 50\n//so 50 - 48 = 2\n</code></pre>\n"}],"owner":{"account_id":27793542,"reputation":1,"user_id":21219548,"display_name":"Aryan singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1676467590,"answer_count":1,"score":-4,"last_activity_date":1676475730,"creation_date":1676467379,"question_id":75460431,"body_markdown":"    String str1 = &quot;1234&quot;;\r\n    integer j = str1.charAt(1);\r\n    print(j);\r\n\r\nThis returns 50 as a result but I want 2 as an answer. \r\n\r\n\r\n\r\n","title":"Is there a function to return a character from string as an integer?","body":"<pre><code>String str1 = &quot;1234&quot;;\ninteger j = str1.charAt(1);\nprint(j);\n</code></pre>\n<p>This returns 50 as a result but I want 2 as an answer.</p>\n"},{"tags":["java","arrays","generics","variadic-functions"],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676468719,"creation_date":1676468719,"answer_id":75460734,"question_id":75460470,"body_markdown":"First, varargs are just syntax sugar for &quot;creating an array of the parameters just before the method is called&quot;. That is, a simple varargs method call like this:\r\n\r\n```\r\nmethod(&quot;foo&quot;, &quot;bar&quot;);\r\n\r\n// ...\r\n\r\npublic static void method(String... params) { }\r\n```\r\n\r\nis syntactic sugar for:\r\n\r\n```\r\nString[] params = new String[] { &quot;foo&quot;, &quot;bar&quot; };\r\nmethod(params);\r\n\r\n// ...\r\n\r\npublic static void method(String[] params) { }\r\n```\r\n\r\nSecond, [you cannot create arrays of `T`][1] (generic type parameters). `new T[]` is not allowed. This is because `T` does not exist at runtime. The runtime does not know what `T` is. See also: https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\r\n\r\nSo what happens at the callsite of `toArr`?\r\n\r\n    return toArr(a1, a2);\r\n\r\nwell, `a1` and `a2` are both `T`s here, but we can&#39;t do this:\r\n\r\n```\r\nT[] params = new T[] { a1, a2 };\r\nreturn toArr(params);\r\n```\r\n\r\nThe compiler can only create an `Object[]` here to store the parameters:\r\n\r\n```\r\nObject[] params = new Object[] { a1, a2 };\r\nreturn toArr(params);\r\n```\r\n\r\nOn the other hand, in `getArr2`, `a1` and `a2` are `String`s, so the compiler knows that it can create a `String[]` to store them.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/2927391/5133585","title":"Return type of varargs and generics","body":"<p>First, varargs are just syntax sugar for &quot;creating an array of the parameters just before the method is called&quot;. That is, a simple varargs method call like this:</p>\n<pre><code>method(&quot;foo&quot;, &quot;bar&quot;);\n\n// ...\n\npublic static void method(String... params) { }\n</code></pre>\n<p>is syntactic sugar for:</p>\n<pre><code>String[] params = new String[] { &quot;foo&quot;, &quot;bar&quot; };\nmethod(params);\n\n// ...\n\npublic static void method(String[] params) { }\n</code></pre>\n<p>Second, <a href=\"https://stackoverflow.com/q/2927391/5133585\">you cannot create arrays of <code>T</code></a> (generic type parameters). <code>new T[]</code> is not allowed. This is because <code>T</code> does not exist at runtime. The runtime does not know what <code>T</code> is. See also: <a href=\"https://stackoverflow.com/questions/339699/java-generics-type-erasure-when-and-what-happens\">Java generics type erasure: when and what happens?</a></p>\n<p>So what happens at the callsite of <code>toArr</code>?</p>\n<pre><code>return toArr(a1, a2);\n</code></pre>\n<p>well, <code>a1</code> and <code>a2</code> are both <code>T</code>s here, but we can't do this:</p>\n<pre><code>T[] params = new T[] { a1, a2 };\nreturn toArr(params);\n</code></pre>\n<p>The compiler can only create an <code>Object[]</code> here to store the parameters:</p>\n<pre><code>Object[] params = new Object[] { a1, a2 };\nreturn toArr(params);\n</code></pre>\n<p>On the other hand, in <code>getArr2</code>, <code>a1</code> and <code>a2</code> are <code>String</code>s, so the compiler knows that it can create a <code>String[]</code> to store them.</p>\n"}],"owner":{"account_id":18069613,"reputation":55,"user_id":13134578,"display_name":"John Pham"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":169,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75460734,"answer_count":1,"score":1,"last_activity_date":1676475629,"creation_date":1676467639,"question_id":75460470,"body_markdown":"I was learning Java about how _varargs_ works with the generic types. There was this function when I tried to return an array of generic types, which in this case `T` is `String`\r\n\r\n```java\r\nstatic &lt;T&gt; T[] toArr(T... listObj){\r\n    System.out.println(&quot;To arr&quot;);\r\n    System.out.println(listObj.getClass().getName());\r\n    System.out.println(listObj[0].getClass().getName());\r\n    return listObj;\r\n}\r\n\r\nstatic &lt;T&gt; T[] getArr1(T a1, T a2){\r\n    System.out.println(&quot;Get arr 1&quot;);\r\n    System.out.println(a1.getClass().getName());\r\n    return toArr(a1, a2);\r\n}\r\n\r\npublic static void main(String[] args) {\r\n    String[] res1 = getArr1(&quot;one&quot;, &quot;two&quot;);\r\n}\r\n```\r\nAnd the output was this\r\n```none\r\nGet arr 1\r\njava.lang.String\r\nTo arr\r\n[Ljava.lang.Object;\r\njava.lang.String\r\n//Error: casting from [Ljava.lang.Object to [Ljava.lang.String\r\n```\r\nFrom my understanding, while 2 `String` objects were passed from `getArr1` to `toArr`, the array storing them were treated as `Object` array, or `T = Object`. When receiving the return from `toArr` (`Object[]`), the failure to convert to `String[]` at `getArr1` throw the exception.\r\n\r\nThing went differently when I explicitly declare the type with method `getArr2`.\r\n\r\n```java\r\nstatic String[] getArr2(String a1, String a2){\r\n    System.out.println(&quot;Get arr 2&quot;);\r\n    System.out.println(a1.getClass().getName());\r\n    return toArr(a1, a2);\r\n}\r\n```\r\nWhich outputs to\r\n```none\r\nGet arr 2\r\njava.lang.String\r\nTo arr\r\n[Ljava.lang.String;\r\njava.lang.String\r\n```\r\nWent well, no error at all. The _varargs_ were treated as `String[]`\r\n\r\nMay I get some explanation how _varargs_ was treated differently given the same input type as above cases?\r\n\r\n","title":"Return type of varargs and generics","body":"<p>I was learning Java about how <em>varargs</em> works with the generic types. There was this function when I tried to return an array of generic types, which in this case <code>T</code> is <code>String</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>static &lt;T&gt; T[] toArr(T... listObj){\n    System.out.println(&quot;To arr&quot;);\n    System.out.println(listObj.getClass().getName());\n    System.out.println(listObj[0].getClass().getName());\n    return listObj;\n}\n\nstatic &lt;T&gt; T[] getArr1(T a1, T a2){\n    System.out.println(&quot;Get arr 1&quot;);\n    System.out.println(a1.getClass().getName());\n    return toArr(a1, a2);\n}\n\npublic static void main(String[] args) {\n    String[] res1 = getArr1(&quot;one&quot;, &quot;two&quot;);\n}\n</code></pre>\n<p>And the output was this</p>\n<pre class=\"lang-none prettyprint-override\"><code>Get arr 1\njava.lang.String\nTo arr\n[Ljava.lang.Object;\njava.lang.String\n//Error: casting from [Ljava.lang.Object to [Ljava.lang.String\n</code></pre>\n<p>From my understanding, while 2 <code>String</code> objects were passed from <code>getArr1</code> to <code>toArr</code>, the array storing them were treated as <code>Object</code> array, or <code>T = Object</code>. When receiving the return from <code>toArr</code> (<code>Object[]</code>), the failure to convert to <code>String[]</code> at <code>getArr1</code> throw the exception.</p>\n<p>Thing went differently when I explicitly declare the type with method <code>getArr2</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String[] getArr2(String a1, String a2){\n    System.out.println(&quot;Get arr 2&quot;);\n    System.out.println(a1.getClass().getName());\n    return toArr(a1, a2);\n}\n</code></pre>\n<p>Which outputs to</p>\n<pre class=\"lang-none prettyprint-override\"><code>Get arr 2\njava.lang.String\nTo arr\n[Ljava.lang.String;\njava.lang.String\n</code></pre>\n<p>Went well, no error at all. The <em>varargs</em> were treated as <code>String[]</code></p>\n<p>May I get some explanation how <em>varargs</em> was treated differently given the same input type as above cases?</p>\n"},{"tags":["java","json","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":13179806,"reputation":91,"user_id":21197077,"display_name":"gneginskiy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676305632,"creation_date":1676305632,"answer_id":75438631,"question_id":75438386,"body_markdown":"I would recommend to get rid of null values and then compare. \r\ngoogle GSON by default ignores null values while serializing. \r\n\r\nJackson ObjectMapper also can do this with some additional settings.\r\n\r\nThe most straightforward (not necessarily the most proper) way to get rid of nulls in json would be the following: \r\n\r\n```\r\nGson gson = new Gson();\r\nString jsonString = &quot;{ \\&quot;field1\\&quot;:\\&quot;value1\\&quot;, \\&quot;field2\\&quot;:null}&quot;;\r\nString jsonStringWithoutNulls = gson.toJson(gson.fromJson(jsonString, JsonObject.class));\r\n//results in {&quot;field1&quot;:&quot;value1&quot;}\r\n```","title":"How can I compare two JSON strings ignoring nulls in Java?","body":"<p>I would recommend to get rid of null values and then compare.\ngoogle GSON by default ignores null values while serializing.</p>\n<p>Jackson ObjectMapper also can do this with some additional settings.</p>\n<p>The most straightforward (not necessarily the most proper) way to get rid of nulls in json would be the following:</p>\n<pre><code>Gson gson = new Gson();\nString jsonString = &quot;{ \\&quot;field1\\&quot;:\\&quot;value1\\&quot;, \\&quot;field2\\&quot;:null}&quot;;\nString jsonStringWithoutNulls = gson.toJson(gson.fromJson(jsonString, JsonObject.class));\n//results in {&quot;field1&quot;:&quot;value1&quot;}\n</code></pre>\n"}],"owner":{"account_id":1109371,"reputation":14160,"user_id":1100135,"accept_rate":53,"display_name":"piotrek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":6,"up_vote_count":1,"answer_count":1,"score":-5,"last_activity_date":1676475568,"creation_date":1676304406,"question_id":75438386,"body_markdown":"I want to be able to compare two JSON strings in my tests, but ignoring null fields.\r\n\r\nExpected:\r\n\r\n```\r\n{ &quot;field1&quot;:&quot;value1&quot;}\r\n```\r\n\r\nActual and match:\r\n\r\n```\r\n{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:null}\r\n```\r\n\r\nActual and no match:\r\n\r\n```\r\n{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:&quot;non-null&quot;}\r\n```\r\n\r\n","title":"How can I compare two JSON strings ignoring nulls in Java?","body":"<p>I want to be able to compare two JSON strings in my tests, but ignoring null fields.</p>\n<p>Expected:</p>\n<pre><code>{ &quot;field1&quot;:&quot;value1&quot;}\n</code></pre>\n<p>Actual and match:</p>\n<pre><code>{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:null}\n</code></pre>\n<p>Actual and no match:</p>\n<pre><code>{ &quot;field1&quot;:&quot;value1&quot;, &quot;field2&quot;:&quot;non-null&quot;}\n</code></pre>\n"},{"tags":["java","junit","bigdecimal"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1676475747,"post_id":75460691,"comment_id":133144941,"body_markdown":"Not an exact duplicate, but [this question](https://stackoverflow.com/questions/7186204/bigdecimal-to-use-new-or-valueof) covers the topic.","body":"Not an exact duplicate, but <a href=\"https://stackoverflow.com/questions/7186204/bigdecimal-to-use-new-or-valueof\">this question</a> covers the topic."}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676469016,"creation_date":1676469016,"answer_id":75460803,"question_id":75460691,"body_markdown":"See the Javadoc of the `BigDecimal(double)` constructor: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double). It explicitly warns about this. I&#39;d wish they&#39;d deprecate the constructor, because I&#39;ve only had issues with it. I either use the constructor that takes a String, or one of the `valueOf` methods.","title":"Assertion working or failing with BigDecimal depending on the constructor","body":"<p>See the Javadoc of the <code>BigDecimal(double)</code> constructor: <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double)</a>. It explicitly warns about this. I'd wish they'd deprecate the constructor, because I've only had issues with it. I either use the constructor that takes a String, or one of the <code>valueOf</code> methods.</p>\n"}],"owner":{"account_id":17719845,"reputation":31,"user_id":12865183,"display_name":"CowOO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676475436,"creation_date":1676468498,"question_id":75460691,"body_markdown":"I am going through JUnit learning and I was doing some basic calculations to see how it works with BigDecimal. Starting with a few values, subtracting them and asserting the final result. \r\n\r\nWhat I found out is that the assertion either fails or passes depending on what I put into the BigDecimal constructor within assertion. \r\n\r\nIt passes if the last constructor has a String in it:\r\n\r\n```java\r\n@Test\r\npublic void areCalculationsDoingOkWithBigDecimal(){\r\n    BigDecimal initialBalance = new BigDecimal(5);\r\n    BigDecimal spendingOne = new BigDecimal(0.25);\r\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\r\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\r\n\r\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\r\n\r\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\r\n\r\n    assertThat(finalBalance, is(new BigDecimal(&quot;2.55&quot;)));\r\n}\r\n```\r\n\r\nIt fails when the last constructor has a double in it:\r\n\r\n```java\r\n@Test\r\npublic void areCalculationsDoingOkWithBigDecimal(){\r\n    BigDecimal initialBalance = new BigDecimal(5);\r\n    BigDecimal spendingOne = new BigDecimal(0.25);\r\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\r\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\r\n\r\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\r\n\r\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\r\n\r\n    assertThat(finalBalance, is(new BigDecimal(2.55)));\r\n}\r\n```\r\n\r\nAt the same time the constructors at the top are a mix of ints, doubles and Strings and it doesn&#39;t affect the outcome in any way. \r\n\r\nWhy would assertion fail depending on the type of the constructor?\r\n\r\nI expected assertion to pass in both of the cases. I didn&#39;t expect the type of constructor to affect the value of BigDecimal. ","title":"Assertion working or failing with BigDecimal depending on the constructor","body":"<p>I am going through JUnit learning and I was doing some basic calculations to see how it works with BigDecimal. Starting with a few values, subtracting them and asserting the final result.</p>\n<p>What I found out is that the assertion either fails or passes depending on what I put into the BigDecimal constructor within assertion.</p>\n<p>It passes if the last constructor has a String in it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void areCalculationsDoingOkWithBigDecimal(){\n    BigDecimal initialBalance = new BigDecimal(5);\n    BigDecimal spendingOne = new BigDecimal(0.25);\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\n\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\n\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\n\n    assertThat(finalBalance, is(new BigDecimal(&quot;2.55&quot;)));\n}\n</code></pre>\n<p>It fails when the last constructor has a double in it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\npublic void areCalculationsDoingOkWithBigDecimal(){\n    BigDecimal initialBalance = new BigDecimal(5);\n    BigDecimal spendingOne = new BigDecimal(0.25);\n    BigDecimal spendingTwo = new BigDecimal(&quot;0.47&quot;);\n    BigDecimal spendingThree = new BigDecimal (&quot;1.73&quot;);\n\n    BigDecimal finalBalance = initialBalance.subtract(spendingOne).subtract(spendingTwo).subtract(spendingThree);\n\n    System.out.println(&quot;Final balance after all the spendings: &quot; + finalBalance);\n\n    assertThat(finalBalance, is(new BigDecimal(2.55)));\n}\n</code></pre>\n<p>At the same time the constructors at the top are a mix of ints, doubles and Strings and it doesn't affect the outcome in any way.</p>\n<p>Why would assertion fail depending on the type of the constructor?</p>\n<p>I expected assertion to pass in both of the cases. I didn't expect the type of constructor to affect the value of BigDecimal.</p>\n"},{"tags":["java","testing","cucumber"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676475333,"creation_date":1676475333,"answer_id":75462084,"question_id":75461813,"body_markdown":"It is possible! But you have to apply some workarounds. \r\n\r\n```kotlin\r\nplugins {\r\n    java\r\n}\r\ndependencies {\r\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.2&quot;))\r\n    testImplementation(platform(&quot;io.cucumber:cucumber-bom:7.11.1&quot;))\r\n\r\n    testImplementation(&quot;io.cucumber:cucumber-java&quot;)\r\n    testImplementation(&quot;io.cucumber:cucumber-junit-platform-engine&quot;)\r\n    testImplementation(&quot;org.junit.platform:junit-platform-suite&quot;)\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\r\n}\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    mavenCentral()\r\n}\r\n\r\ntasks.withType&lt;Test&gt; {\r\n    useJUnitPlatform()\r\n    // Work around. Gradle does not include enough information to disambiguate\r\n    // between different examples and scenarios.\r\n    systemProperty(&quot;cucumber.junit-platform.naming-strategy&quot;, &quot;long&quot;)\r\n}\r\n```\r\n\r\nBecause Gradle provides rather limited support for tests that aren&#39;t a in class file you have to use the `junit-platform-suite` to declare a suite.\r\n\r\n\r\n```java\r\npackage io.cucumber.skeleton;\r\n\r\nimport org.junit.platform.suite.api.ConfigurationParameter;\r\nimport org.junit.platform.suite.api.IncludeEngines;\r\nimport org.junit.platform.suite.api.SelectClasspathResource;\r\nimport org.junit.platform.suite.api.Suite;\r\n\r\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\n\r\n@Suite\r\n@IncludeEngines(&quot;cucumber&quot;)\r\n@SelectClasspathResource(&quot;io/cucumber/skeleton&quot;)\r\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;io.cucumber.skeleton&quot;)\r\npublic class RunCucumberTest {\r\n}\r\n```\r\n\r\nThis suite will target the `cucumber` TestEngine from [`cucumber-junit-platform-engine`][1]. The [cucumber-java-skeleton][2] contains a working (serial) example. \r\n\r\nTo make the tests execute in parallel you can add to `junit-platform.properties`:\r\n\r\n```properties\r\ncucumber.execution.parallel.enabled=true\r\n```\r\n\r\nThat is it. For more config details check the JUnit 5 and Cucumber JUnit Platform Engine documentation.\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#cucumber-junit-platform-engine\r\n  [2]: https://github.com/cucumber/cucumber-java-skeleton/tree/main/gradle","title":"Parallel testing with cucumber and Gradle","body":"<p>It is possible! But you have to apply some workarounds.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>plugins {\n    java\n}\ndependencies {\n    testImplementation(platform(&quot;org.junit:junit-bom:5.9.2&quot;))\n    testImplementation(platform(&quot;io.cucumber:cucumber-bom:7.11.1&quot;))\n\n    testImplementation(&quot;io.cucumber:cucumber-java&quot;)\n    testImplementation(&quot;io.cucumber:cucumber-junit-platform-engine&quot;)\n    testImplementation(&quot;org.junit.platform:junit-platform-suite&quot;)\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter&quot;)\n}\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n}\n\ntasks.withType&lt;Test&gt; {\n    useJUnitPlatform()\n    // Work around. Gradle does not include enough information to disambiguate\n    // between different examples and scenarios.\n    systemProperty(&quot;cucumber.junit-platform.naming-strategy&quot;, &quot;long&quot;)\n}\n</code></pre>\n<p>Because Gradle provides rather limited support for tests that aren't a in class file you have to use the <code>junit-platform-suite</code> to declare a suite.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.cucumber.skeleton;\n\nimport org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;io/cucumber/skeleton&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;io.cucumber.skeleton&quot;)\npublic class RunCucumberTest {\n}\n</code></pre>\n<p>This suite will target the <code>cucumber</code> TestEngine from <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#cucumber-junit-platform-engine\" rel=\"nofollow noreferrer\"><code>cucumber-junit-platform-engine</code></a>. The <a href=\"https://github.com/cucumber/cucumber-java-skeleton/tree/main/gradle\" rel=\"nofollow noreferrer\">cucumber-java-skeleton</a> contains a working (serial) example.</p>\n<p>To make the tests execute in parallel you can add to <code>junit-platform.properties</code>:</p>\n<pre><code>cucumber.execution.parallel.enabled=true\n</code></pre>\n<p>That is it. For more config details check the JUnit 5 and Cucumber JUnit Platform Engine documentation.</p>\n"}],"owner":{"account_id":14930484,"reputation":77,"user_id":10780016,"display_name":"NicolasM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676475333,"creation_date":1676473861,"question_id":75461813,"body_markdown":"I keep finding posts and articles on how to run parallel tests with Cucumber and Maven, but nothing with Gradle.\r\n\r\nI have the following scenario:\r\n\r\n      Scenario Outline: Author from API matches author on book page\r\n        Given user goes on google.com\r\n        when user search &lt;item&gt;\r\n        and click on &lt;locator&gt;\r\n        Then something happens\r\n    \r\n        Examples:\r\n          | item    | locator |\r\n          | item1   | locator1|\r\n          | item2   | locator2|\r\n          | item3   | locator3|\r\n\r\nIs it possible, with Gradle, to run this scenario in parallel, each execution using the values in &quot;Examples&quot; table?\r\n\r\nThanks","title":"Parallel testing with cucumber and Gradle","body":"<p>I keep finding posts and articles on how to run parallel tests with Cucumber and Maven, but nothing with Gradle.</p>\n<p>I have the following scenario:</p>\n<pre><code>  Scenario Outline: Author from API matches author on book page\n    Given user goes on google.com\n    when user search &lt;item&gt;\n    and click on &lt;locator&gt;\n    Then something happens\n\n    Examples:\n      | item    | locator |\n      | item1   | locator1|\n      | item2   | locator2|\n      | item3   | locator3|\n</code></pre>\n<p>Is it possible, with Gradle, to run this scenario in parallel, each execution using the values in &quot;Examples&quot; table?</p>\n<p>Thanks</p>\n"},{"tags":["java","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":179293,"reputation":15713,"user_id":411846,"accept_rate":80,"display_name":"centic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1491545548,"creation_date":1491545548,"answer_id":43270887,"question_id":43261106,"body_markdown":"You cannot simply send the byte-array as `ISO-8859-1` encoded text the way you attempt. \r\n\r\nThere will be special characters that might get replaced/truncated/modified. \r\n\r\nCurrently you mix binary data and a text-only channel (HTTP). You will need to do it differently, either use a binary data transfer and not convert it to String or use some binary-to-text representation, see e.g. https://en.wikipedia.org/wiki/Binary-to-text_encoding, the most common one being [Base64][1]\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Base64","title":"Convert byteArray to XSSFWorkbook using Apache POI","body":"<p>You cannot simply send the byte-array as <code>ISO-8859-1</code> encoded text the way you attempt. </p>\n\n<p>There will be special characters that might get replaced/truncated/modified. </p>\n\n<p>Currently you mix binary data and a text-only channel (HTTP). You will need to do it differently, either use a binary data transfer and not convert it to String or use some binary-to-text representation, see e.g. <a href=\"https://en.wikipedia.org/wiki/Binary-to-text_encoding\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Binary-to-text_encoding</a>, the most common one being <a href=\"https://en.wikipedia.org/wiki/Base64\" rel=\"nofollow noreferrer\">Base64</a></p>\n"},{"tags":[],"owner":{"account_id":10344004,"reputation":1,"user_id":7629506,"display_name":"devendra parmar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676475133,"creation_date":1676474312,"answer_id":75461887,"question_id":43261106,"body_markdown":"Use \r\n\r\n    InputStream stream = new ByteArrayInputStream(bytes);","title":"Convert byteArray to XSSFWorkbook using Apache POI","body":"<p>Use</p>\n<pre><code>InputStream stream = new ByteArrayInputStream(bytes);\n</code></pre>\n"}],"owner":{"display_name":"user4685154"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20128,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":43270887,"answer_count":2,"score":4,"last_activity_date":1676475133,"creation_date":1491496852,"question_id":43261106,"body_markdown":"I am using Apache POI and I am trying to send a `xlsx` file as HTTP request and get it back as response. I am using `jayway restassured` for making HTTP requests.\r\n\r\nHere is the part of the code where I send the request\r\n\r\n     File file = new File(&quot;path&quot;);\r\n    String response = given().multipart(file).when().post(&quot;URL&quot;).getBody().asString();\r\n    \r\n    byte[] bytes = response.getBytes(&quot;ISO-8859-1&quot;);\r\n    InputStream stream = new ByteArrayOutputStream(bytes);\r\n    \r\n    try\r\n    {\r\n    \tXSSFWorkbook workbook = new XSSFWorkbook(stream);\r\n    }\r\n    catch(Exception e){\r\n    \te.printStackTrace();\r\n    }\r\n\r\nHere is the code where the response is generated for the request\r\n\r\n    XSSFWorkbook workBook;  //this workBook has the workbook sent as HTTP request\r\n    //code to make changes in workBook\r\n    \r\n    ByteArrayOutputStream outStream = new ByteArrayOutputStream();\r\n    \r\n    workBook.write(outStream);\r\n    byte[] byteArray = outStream.toByteArray();\r\n    String responseBody = new String(byteArray, &quot;ISO-8859-1&quot;);\r\n    \r\n    context.response().putHeader(&quot;Content-Type&quot;, &quot;multipart/form-data&quot;).setStatusCode(200).end(responseBody);\r\n\r\nSo, what I am trying to do is send a `xlsx` file as request make some changes and get it back as a string response, convert it back to xssfworkbook. When converting back I get error in the following line-\r\n\r\n    XSSFWorkbook workbook = new XSSFWorkbook(stream);\r\n\r\nThe error I get is\r\n\r\n    java.util.zip.ZipException: invalid code lengths set","title":"Convert byteArray to XSSFWorkbook using Apache POI","body":"<p>I am using Apache POI and I am trying to send a <code>xlsx</code> file as HTTP request and get it back as response. I am using <code>jayway restassured</code> for making HTTP requests.</p>\n\n<p>Here is the part of the code where I send the request</p>\n\n<pre><code> File file = new File(\"path\");\nString response = given().multipart(file).when().post(\"URL\").getBody().asString();\n\nbyte[] bytes = response.getBytes(\"ISO-8859-1\");\nInputStream stream = new ByteArrayOutputStream(bytes);\n\ntry\n{\n    XSSFWorkbook workbook = new XSSFWorkbook(stream);\n}\ncatch(Exception e){\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>Here is the code where the response is generated for the request</p>\n\n<pre><code>XSSFWorkbook workBook;  //this workBook has the workbook sent as HTTP request\n//code to make changes in workBook\n\nByteArrayOutputStream outStream = new ByteArrayOutputStream();\n\nworkBook.write(outStream);\nbyte[] byteArray = outStream.toByteArray();\nString responseBody = new String(byteArray, \"ISO-8859-1\");\n\ncontext.response().putHeader(\"Content-Type\", \"multipart/form-data\").setStatusCode(200).end(responseBody);\n</code></pre>\n\n<p>So, what I am trying to do is send a <code>xlsx</code> file as request make some changes and get it back as a string response, convert it back to xssfworkbook. When converting back I get error in the following line-</p>\n\n<pre><code>XSSFWorkbook workbook = new XSSFWorkbook(stream);\n</code></pre>\n\n<p>The error I get is</p>\n\n<pre><code>java.util.zip.ZipException: invalid code lengths set\n</code></pre>\n"},{"tags":["java","servlets"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1287227728,"creation_date":1287227728,"answer_id":3948656,"question_id":3947866,"body_markdown":"`request.getServletContext().getRealPath(..)` (or if you are within a servlet, just call `getServletContext().getRealPath(..)`","title":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it","body":"<p><code>request.getServletContext().getRealPath(..)</code> (or if you are within a servlet, just call <code>getServletContext().getRealPath(..)</code></p>\n"},{"tags":[],"owner":{"account_id":27615673,"reputation":1,"user_id":21077781,"display_name":"Satya"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676446055,"creation_date":1676446055,"answer_id":75456622,"question_id":3947866,"body_markdown":"try this one request.getSession().getServletContext().getRealPath(&quot;/&quot;);","title":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it","body":"<p>try this one request.getSession().getServletContext().getRealPath(&quot;/&quot;);</p>\n"}],"owner":{"account_id":190764,"reputation":179,"user_id":430918,"accept_rate":12,"display_name":"krishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9145,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1676474902,"answer_count":2,"score":2,"last_activity_date":1676474926,"creation_date":1287209020,"question_id":3947866,"body_markdown":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it i tried get servletcontext but it is not returning the whole path\r\n\r\n\r\nin jsp page when i m using application.getRealPath(&quot;/&quot;) it is giving whole path as D:/.....\r\n\r\nbut in java servlet code i m not getting this method working so i want a perfect httprequest method which will be returning whole path of the application.\r\n\r\nplease suggest me a perfect method with example if possible","title":"I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it","body":"<p>I want to get the real path of a file in java by using the request method getRealPath()but it is deprecated now i want an alternate to it i tried get servletcontext but it is not returning the whole path</p>\n\n<p>in jsp page when i m using application.getRealPath(\"/\") it is giving whole path as D:/.....</p>\n\n<p>but in java servlet code i m not getting this method working so i want a perfect httprequest method which will be returning whole path of the application.</p>\n\n<p>please suggest me a perfect method with example if possible</p>\n"},{"tags":["java","database","oop"],"comments":[{"owner":{"account_id":2296898,"reputation":12966,"user_id":2018133,"accept_rate":100,"display_name":"Geert Bellekens"},"score":0,"creation_date":1676470048,"post_id":75460942,"comment_id":133142781,"body_markdown":"I&#39;m not sure what you are trying to express with your diagram, but it&#39;s definitely not UML","body":"I&#39;m not sure what you are trying to express with your diagram, but it&#39;s definitely not UML"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1676470256,"post_id":75460942,"comment_id":133142874,"body_markdown":"Are you talking about inheritance relationships or ownership relationships? Also your title mentions monitoring &quot;change&quot; but your question does not, can you clarify?","body":"Are you talking about inheritance relationships or ownership relationships? Also your title mentions monitoring &quot;change&quot; but your question does not, can you clarify?"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1676470341,"post_id":75460942,"comment_id":133142899,"body_markdown":"One way would be to have a `Person` table and for each `Person` row have foreign keys to `Mother` and `Father`.  The `Person` row would also have a child/adult `boolean` flag.","body":"One way would be to have a <code>Person</code> table and for each <code>Person</code> row have foreign keys to <code>Mother</code> and <code>Father</code>.  The <code>Person</code> row would also have a child/adult <code>boolean</code> flag."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676475408,"post_id":75460942,"comment_id":133144819,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1676504889,"post_id":75460942,"comment_id":133152678,"body_markdown":"&quot;In my case there are certain attributes that a mother/father has but a child doesn&#39;t&quot; -- Such as... ?","body":"&quot;In my case there are certain attributes that a mother/father has but a child doesn&#39;t&quot; -- Such as... ?"},{"owner":{"display_name":"user21219774"},"score":0,"creation_date":1676545696,"post_id":75460942,"comment_id":133160341,"body_markdown":"Well i thought of something like the date of passing the driver license or the date when a woman becomes pregnant @JasonC","body":"Well i thought of something like the date of passing the driver license or the date when a woman becomes pregnant @JasonC"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":0,"creation_date":1676549413,"post_id":75460942,"comment_id":133161339,"body_markdown":"It&#39;s the same, they&#39;re all humans. Every human has a date of conception so that would be a property of a human (mothers can have more than one date of pregnancy so it would be needlessly complicated to make it a property of the mother and associate it with children, just make it a property of the child; and the mother herself also has a date that she was conceived). Every human has either passed a drivers license test or not so that&#39;s a nullable date property of a human.","body":"It&#39;s the same, they&#39;re all humans. Every human has a date of conception so that would be a property of a human (mothers can have more than one date of pregnancy so it would be needlessly complicated to make it a property of the mother and associate it with children, just make it a property of the child; and the mother herself also has a date that she was conceived). Every human has either passed a drivers license test or not so that&#39;s a nullable date property of a human."},{"owner":{"display_name":"user21219774"},"score":0,"creation_date":1676551528,"post_id":75460942,"comment_id":133162012,"body_markdown":"I am a bit confused now. So are you suggesting that i take the approach with human, mother, child as individual classes or just a human class?","body":"I am a bit confused now. So are you suggesting that i take the approach with human, mother, child as individual classes or just a human class?"},{"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"score":1,"creation_date":1676555775,"post_id":75460942,"comment_id":133163354,"body_markdown":"Just a human class. Properties include &quot;mother&quot;, &quot;father&quot;, &quot;date of conception&quot;, &quot;driver&#39;s license date&quot; etc.","body":"Just a human class. Properties include &quot;mother&quot;, &quot;father&quot;, &quot;date of conception&quot;, &quot;driver&#39;s license date&quot; etc."}],"answers":[{"tags":[],"owner":{"account_id":305991,"reputation":39137,"user_id":616460,"accept_rate":93,"display_name":"Jason C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676471410,"creation_date":1676470495,"answer_id":75461108,"question_id":75460942,"body_markdown":"There is no need to create separate classes for the various members of a family, because:\r\n\r\n- Every member is a human.\r\n- Every human has parents (even mothers and fathers have mothers and fathers).\r\n- Every human may or may not have children.\r\n\r\nSo every person in your database, whether they&#39;re a mother or a father or a child, has:\r\n\r\n- A biological mother (link to one other human).\r\n- A biological father (link to one other human).\r\n- Zero or more children (links to zero or more other humans). But you don&#39;t necessarily need to represent this in the database, since it&#39;s implied by the links to parents.\r\n\r\nSo you can just model them all as Humans with those properties, and they can all be in the same table of humans. If a &quot;child&quot; ends up having children, just add to its set of children.\r\n\r\nIt&#39;s up to you if you want to store parent &lt;-&gt; child links in a separate table or not. Depends on your situation, what your DBMS likes, etc. If you&#39;d like to cover the possibility of unknown parents then you can make the mother and father links optional.\r\n\r\nOther properties, such as gender, age, adulthood status, whatever, are extra things you can add if you&#39;d like but generally speaking they&#39;re all humans with a hierarchical structure.","title":"How to model &quot;change&quot; in a database and object orientation","body":"<p>There is no need to create separate classes for the various members of a family, because:</p>\n<ul>\n<li>Every member is a human.</li>\n<li>Every human has parents (even mothers and fathers have mothers and fathers).</li>\n<li>Every human may or may not have children.</li>\n</ul>\n<p>So every person in your database, whether they're a mother or a father or a child, has:</p>\n<ul>\n<li>A biological mother (link to one other human).</li>\n<li>A biological father (link to one other human).</li>\n<li>Zero or more children (links to zero or more other humans). But you don't necessarily need to represent this in the database, since it's implied by the links to parents.</li>\n</ul>\n<p>So you can just model them all as Humans with those properties, and they can all be in the same table of humans. If a &quot;child&quot; ends up having children, just add to its set of children.</p>\n<p>It's up to you if you want to store parent &lt;-&gt; child links in a separate table or not. Depends on your situation, what your DBMS likes, etc. If you'd like to cover the possibility of unknown parents then you can make the mother and father links optional.</p>\n<p>Other properties, such as gender, age, adulthood status, whatever, are extra things you can add if you'd like but generally speaking they're all humans with a hierarchical structure.</p>\n"}],"owner":{"display_name":"user21219774"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676487395,"accepted_answer_id":75461108,"answer_count":1,"score":0,"last_activity_date":1676474871,"creation_date":1676469666,"question_id":75460942,"body_markdown":"I haven&#39;t had much to do with OOP for some time now and I am uncertain how to approach the following problem. To refresh my knowledge I decided to do a small program in java. \r\n\r\nThe main problem lies in the modelling of three classes. So there exists an abstract base class like human and child classes Mother, Father, Child. Mother and Father can have multiple kids. But a kid can become a parent aswell and have children and so forth. I haven&#39;t considered the idea of working with interfaces yet.\r\nPersonally the second approach seems more accurate but I am not sure. And how would I model that in a database. \r\n\r\n\r\n**Edit**: To specify what i meant: In my case there are certain attributes that a mother/father has but a child doesn&#39;t, therefore my approach with the hierarchy. And with change i meant that at some point the child might become a parent aswell and thus having children. Sorry for the confusion i didn&#39;t mean to say that my scribble is a uml diagramm but rather a visual representation of what i thought of.  ","title":"How to model &quot;change&quot; in a database and object orientation","body":"<p>I haven't had much to do with OOP for some time now and I am uncertain how to approach the following problem. To refresh my knowledge I decided to do a small program in java.</p>\n<p>The main problem lies in the modelling of three classes. So there exists an abstract base class like human and child classes Mother, Father, Child. Mother and Father can have multiple kids. But a kid can become a parent aswell and have children and so forth. I haven't considered the idea of working with interfaces yet.\nPersonally the second approach seems more accurate but I am not sure. And how would I model that in a database.</p>\n<p><strong>Edit</strong>: To specify what i meant: In my case there are certain attributes that a mother/father has but a child doesn't, therefore my approach with the hierarchy. And with change i meant that at some point the child might become a parent aswell and thus having children. Sorry for the confusion i didn't mean to say that my scribble is a uml diagramm but rather a visual representation of what i thought of.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676474155,"creation_date":1676473848,"answer_id":75461806,"question_id":75460948,"body_markdown":"Bootstrap server config option accepts a CSV list for multiple brokers of one cluster. But you only need to provide multiple options for fault tolerance, as Kafka automatically returns all servers in the same cluster on first connection. \r\n\r\n\r\n\r\nIf you need to connect to distinct Kafka clusters, create a Bean with the different bootstrap address ","title":"Multi-kafka connections","body":"<p>Bootstrap server config option accepts a CSV list for multiple brokers of one cluster. But you only need to provide multiple options for fault tolerance, as Kafka automatically returns all servers in the same cluster on first connection.</p>\n<p>If you need to connect to distinct Kafka clusters, create a Bean with the different bootstrap address</p>\n"}],"owner":{"account_id":27793189,"reputation":11,"user_id":21219271,"display_name":"IgorPiven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676474155,"creation_date":1676469687,"question_id":75460948,"body_markdown":"There is a data stream application. It is necessary to connect and listen from several Kafka brokers (different ip-addresses, more than 2) and to write to the one.\r\n\r\nPls advise how to arrange multi-kafka connection?\r\n\r\nConfiguration class for a single kafka connection:\r\n```\r\n@Configuration\r\npublic class KafkaProducer {\r\n\r\n\r\n    @Bean\r\n    public Map&lt;String, Object&gt; producerConfigs() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\r\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:29092&quot;);\r\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n        return props;\r\n    }\r\n\r\n    @Bean\r\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\r\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\r\n    }\r\n\r\n    @Bean\r\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\r\n        return new KafkaTemplate&lt;&gt;(producerFactory());\r\n    }\r\n}\r\n```\r\nIt is expected several connections to be arranged and listened in the same time.","title":"Multi-kafka connections","body":"<p>There is a data stream application. It is necessary to connect and listen from several Kafka brokers (different ip-addresses, more than 2) and to write to the one.</p>\n<p>Pls advise how to arrange multi-kafka connection?</p>\n<p>Configuration class for a single kafka connection:</p>\n<pre><code>@Configuration\npublic class KafkaProducer {\n\n\n    @Bean\n    public Map&lt;String, Object&gt; producerConfigs() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n\n        props.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, &quot;localhost:29092&quot;);\n        props.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        props.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        return props;\n    }\n\n    @Bean\n    public ProducerFactory&lt;String, String&gt; producerFactory() {\n        return new DefaultKafkaProducerFactory&lt;&gt;(producerConfigs());\n    }\n\n    @Bean\n    public KafkaTemplate&lt;String, String&gt; kafkaTemplate() {\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n<p>It is expected several connections to be arranged and listened in the same time.</p>\n"},{"tags":["java","jakarta-jsonp"],"comments":[{"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"score":0,"creation_date":1639131808,"post_id":70302594,"comment_id":124275714,"body_markdown":"I have created https://github.com/elastic/elasticsearch-java/issues/55 to ask specifically about the situation with Elasticsearch. However, the general issue remains whether javax.json.* and jakarta,json.* can both be used within the same application.","body":"I have created <a href=\"https://github.com/elastic/elasticsearch-java/issues/55\" rel=\"nofollow noreferrer\">github.com/elastic/elasticsearch-java/issues/55</a> to ask specifically about the situation with Elasticsearch. However, the general issue remains whether javax.json.* and jakarta,json.* can both be used within the same application."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1639136561,"post_id":70302594,"comment_id":124277387,"body_markdown":"Can&#39;t you just pick an Elasticsearch version suitable for your environment?","body":"Can&#39;t you just pick an Elasticsearch version suitable for your environment?"},{"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"score":0,"creation_date":1639137092,"post_id":70302594,"comment_id":124277573,"body_markdown":"@BalusC: Elasticsearch itself is already running using Java 11 and will likely be kept current. As the &quot;old&quot; Java REST Client is being deprecated, I would like to use the &quot;new&quot; Java Client for Elasticsearch from my Java application - however, Wildfly for Jakarta EE 9 is still in preview stage, so I have to use Java EE 8 for now.","body":"@BalusC: Elasticsearch itself is already running using Java 11 and will likely be kept current. As the &quot;old&quot; Java REST Client is being deprecated, I would like to use the &quot;new&quot; Java Client for Elasticsearch from my Java application - however, Wildfly for Jakarta EE 9 is still in preview stage, so I have to use Java EE 8 for now."}],"answers":[{"tags":[],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639148735,"creation_date":1639148735,"answer_id":70306494,"question_id":70302594,"body_markdown":"One workaround seems to be to use the maven shade plugin to basically &quot;rename&quot; the package `org.glassfish.json` in the &quot;new&quot; `org.glassfish:jakarta.json` to `jakarta.org.glassfish.json`:\r\n\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n          &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;phase&gt;package&lt;/phase&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;shade&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n          &lt;configuration&gt;\r\n            &lt;filters&gt;\r\n              &lt;filter&gt;\r\n                &lt;artifact&gt;org.glassfish:jakarta.json&lt;/artifact&gt;\r\n                &lt;includes&gt;\r\n                  &lt;include&gt;org/glassfish/json/**&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n              &lt;/filter&gt;\r\n            &lt;/filters&gt;\r\n            &lt;artifactSet&gt;\r\n              &lt;includes&gt;\r\n                &lt;include&gt;org.glassfish:jakarta.json&lt;/include&gt;\r\n              &lt;/includes&gt;\r\n            &lt;/artifactSet&gt;\r\n            &lt;relocations&gt;\r\n              &lt;relocation&gt;\r\n                &lt;pattern&gt;org.glassfish.json&lt;/pattern&gt;\r\n                &lt;shadedPattern&gt;jakarta.org.glassfish.json&lt;/shadedPattern&gt;\r\n              &lt;/relocation&gt;\r\n            &lt;/relocations&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThen, one can create the file `src/main/resources/META-INF/services/jakarta.json.spi.JsonProvider` with the following content:\r\n\r\n    jakarta.org.glassfish.json.JsonProviderImpl\r\n\r\nThis will tell the implementation of `jakarta.json.spi.JsonProvider` to use the shaded version of the `JsonProviderImpl` (from the `org.glassfish:jakarta.json` artifact - which uses the `jakarta.json.*` classes) instead of the `JsonProviderImpl` (with the same name from `org.glassfish:javax.json`).","title":"javax.json and jakarta.json in the same application: org.glassfish.json.JsonProviderImpl cannot be cast to jakarta.json.spi.JsonProvider","body":"<p>One workaround seems to be to use the maven shade plugin to basically &quot;rename&quot; the package <code>org.glassfish.json</code> in the &quot;new&quot; <code>org.glassfish:jakarta.json</code> to <code>jakarta.org.glassfish.json</code>:</p>\n<pre><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;phase&gt;package&lt;/phase&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;shade&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n      &lt;configuration&gt;\n        &lt;filters&gt;\n          &lt;filter&gt;\n            &lt;artifact&gt;org.glassfish:jakarta.json&lt;/artifact&gt;\n            &lt;includes&gt;\n              &lt;include&gt;org/glassfish/json/**&lt;/include&gt;\n            &lt;/includes&gt;\n          &lt;/filter&gt;\n        &lt;/filters&gt;\n        &lt;artifactSet&gt;\n          &lt;includes&gt;\n            &lt;include&gt;org.glassfish:jakarta.json&lt;/include&gt;\n          &lt;/includes&gt;\n        &lt;/artifactSet&gt;\n        &lt;relocations&gt;\n          &lt;relocation&gt;\n            &lt;pattern&gt;org.glassfish.json&lt;/pattern&gt;\n            &lt;shadedPattern&gt;jakarta.org.glassfish.json&lt;/shadedPattern&gt;\n          &lt;/relocation&gt;\n        &lt;/relocations&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Then, one can create the file <code>src/main/resources/META-INF/services/jakarta.json.spi.JsonProvider</code> with the following content:</p>\n<pre><code>jakarta.org.glassfish.json.JsonProviderImpl\n</code></pre>\n<p>This will tell the implementation of <code>jakarta.json.spi.JsonProvider</code> to use the shaded version of the <code>JsonProviderImpl</code> (from the <code>org.glassfish:jakarta.json</code> artifact - which uses the <code>jakarta.json.*</code> classes) instead of the <code>JsonProviderImpl</code> (with the same name from <code>org.glassfish:javax.json</code>).</p>\n"},{"tags":[],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1643177828,"creation_date":1643177828,"answer_id":70859263,"question_id":70302594,"body_markdown":"For reference: [This has been fixed by the Elastic team][1]: They have switched from the Glassfish implementation\r\n\r\n    api(&quot;org.glassfish&quot;, &quot;jakarta.json&quot;, &quot;2.0.1&quot;)\r\n\r\nto [Eclipse Parsson][2]:\r\n\r\n    api(&quot;jakarta.json:jakarta.json-api:2.0.1&quot;)\r\n    api(&quot;org.eclipse.parsson:parsson:1.0.0&quot;)\r\n\r\n\r\n  [1]: https://github.com/elastic/elasticsearch-java/pull/63\r\n  [2]: https://github.com/eclipse-ee4j/parsson","title":"javax.json and jakarta.json in the same application: org.glassfish.json.JsonProviderImpl cannot be cast to jakarta.json.spi.JsonProvider","body":"<p>For reference: <a href=\"https://github.com/elastic/elasticsearch-java/pull/63\" rel=\"nofollow noreferrer\">This has been fixed by the Elastic team</a>: They have switched from the Glassfish implementation</p>\n<pre><code>api(&quot;org.glassfish&quot;, &quot;jakarta.json&quot;, &quot;2.0.1&quot;)\n</code></pre>\n<p>to <a href=\"https://github.com/eclipse-ee4j/parsson\" rel=\"nofollow noreferrer\">Eclipse Parsson</a>:</p>\n<pre><code>api(&quot;jakarta.json:jakarta.json-api:2.0.1&quot;)\napi(&quot;org.eclipse.parsson:parsson:1.0.0&quot;)\n</code></pre>\n"}],"owner":{"account_id":82626,"reputation":12122,"user_id":232175,"accept_rate":62,"display_name":"Matthias"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3551,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":70859263,"answer_count":2,"score":4,"last_activity_date":1676473917,"creation_date":1639129816,"question_id":70302594,"body_markdown":"I am developing an application targeting a Java EE 8 application server (JBoss/Wildfly).\r\n\r\nHowever, one of the dependencies (elasticsearch api) is already using `jakarta.json.*` classes which results in a ClassCastException at runtime:\r\n\r\n&gt; java.lang.ClassCastException: org.glassfish.json.JsonProviderImpl\r\n&gt; cannot be cast to jakarta.json.spi.JsonProvider\r\n\r\nThat is because the `org.classfish.json.JsonProviderImpl` in my classpath (`org.classfish:javax.json:1.1.4`) is still using javax.json classes.\r\n\r\nHowever, as both `org.glassfish:jakarta.json` and `org.classfish:javax.json` define the same class `org.classfish.json.JsonProviderImpl` (one using the `javax.json.*` classes and one using the `jakarta.json.*` classes...), I am unable to simply include both maven artifacts.\r\n\r\nThe implementation of JsonProviderImpl (**in both artifacts!**) basically returns the following by default:\r\n\r\n    return Class.forName(&quot;org.glassfish.json.JsonProviderImpl&quot;);\r\n\r\nWhen both `org.glassfish:jakarta.json` and `org.classfish:javax.json` are on the classpath, this will cause issue for any of the implementations which will get the `JsonProviderImpl` from the other package.\r\n\r\nWhat can I do to resolve this?","title":"javax.json and jakarta.json in the same application: org.glassfish.json.JsonProviderImpl cannot be cast to jakarta.json.spi.JsonProvider","body":"<p>I am developing an application targeting a Java EE 8 application server (JBoss/Wildfly).</p>\n<p>However, one of the dependencies (elasticsearch api) is already using <code>jakarta.json.*</code> classes which results in a ClassCastException at runtime:</p>\n<blockquote>\n<p>java.lang.ClassCastException: org.glassfish.json.JsonProviderImpl\ncannot be cast to jakarta.json.spi.JsonProvider</p>\n</blockquote>\n<p>That is because the <code>org.classfish.json.JsonProviderImpl</code> in my classpath (<code>org.classfish:javax.json:1.1.4</code>) is still using javax.json classes.</p>\n<p>However, as both <code>org.glassfish:jakarta.json</code> and <code>org.classfish:javax.json</code> define the same class <code>org.classfish.json.JsonProviderImpl</code> (one using the <code>javax.json.*</code> classes and one using the <code>jakarta.json.*</code> classes...), I am unable to simply include both maven artifacts.</p>\n<p>The implementation of JsonProviderImpl (<strong>in both artifacts!</strong>) basically returns the following by default:</p>\n<pre><code>return Class.forName(&quot;org.glassfish.json.JsonProviderImpl&quot;);\n</code></pre>\n<p>When both <code>org.glassfish:jakarta.json</code> and <code>org.classfish:javax.json</code> are on the classpath, this will cause issue for any of the implementations which will get the <code>JsonProviderImpl</code> from the other package.</p>\n<p>What can I do to resolve this?</p>\n"},{"tags":["java","android","google-maps","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676476267,"post_id":75461803,"comment_id":133145172,"body_markdown":"Show us what you have tried and what exactly doesn&#39;t work the way you expect.","body":"Show us what you have tried and what exactly doesn&#39;t work the way you expect."}],"owner":{"account_id":27521334,"reputation":15,"user_id":21001453,"display_name":"Donny"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676473784,"creation_date":1676473784,"question_id":75461803,"body_markdown":"I am creating a route planner application in my Android Studio using google maps. I tired using the information from this [question][1] however this I don&#39;t think would work for me, I  want to have the longitude and latitude for speed camera locations put into my firebase cloud database. I am wondering how do you do this. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30054601/adding-multiple-markers-to-google-map-from-array-list-of-latitude-and-longitude","title":"How to add Longitude and Latitude coordinates to Firebase from Android Studio and display them on a map using Java on Google Maps","body":"<p>I am creating a route planner application in my Android Studio using google maps. I tired using the information from this <a href=\"https://stackoverflow.com/questions/30054601/adding-multiple-markers-to-google-map-from-array-list-of-latitude-and-longitude\">question</a> however this I don't think would work for me, I  want to have the longitude and latitude for speed camera locations put into my firebase cloud database. I am wondering how do you do this.</p>\n"},{"tags":["java","android","sqlite","firebase-cloud-messaging"],"owner":{"display_name":"user21219349"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676473729,"creation_date":1676465300,"question_id":75460030,"body_markdown":"title, post_id, link How to take these three to DbHandler notification. For me notification title, post_id, link these three are coming as array. If you send firebase notification, it should be automatic or save\r\n\r\n\r\n```\r\npublic class MyFirebaseMessageService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onNewToken(@NonNull String token) {\r\n        super.onNewToken(token);\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\r\n        super.onMessageReceived(remoteMessage);\r\n\r\n        if (remoteMessage.getData().size() &gt; 0) {\r\n            Map&lt;String, String&gt; data = remoteMessage.getData();\r\n            Log.d(&quot;onMessageFirebase: &quot;, remoteMessage.getData().toString());\r\n\r\n            if (data.get(&quot;post_id&quot;) != null) {\r\n                String _unique_id = data.get(&quot;unique_id&quot;);\r\n                String title = data.get(&quot;title&quot;);\r\n                String message = data.get(&quot;message&quot;);\r\n                String big_image = data.get(&quot;big_image&quot;);\r\n                String link = data.get(&quot;link&quot;);\r\n                String _post_id = data.get(&quot;post_id&quot;);\r\n\r\n                assert _unique_id != null;\r\n                long unique_id = Long.parseLong(_unique_id);\r\n\r\n                assert _post_id != null;\r\n                long post_id = Long.parseLong(_post_id);\r\n\r\n                createNotification(unique_id, title, message, big_image, link, post_id);\r\n            }\r\n        }\r\n    }\r\n\r\n    private void createNotification(long unique_id, String title, String message, String image_url, String link, long post_id) {\r\n\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n        intent.putExtra(&quot;unique_id&quot;, unique_id);\r\n        intent.putExtra(&quot;post_id&quot;, post_id);\r\n        intent.putExtra(&quot;title&quot;, title);\r\n        intent.putExtra(&quot;link&quot;, link);\r\n\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\r\n        String NOTIFICATION_CHANNEL_ID = getApplicationContext().getString(R.string.app_name);\r\n\r\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\r\n        notificationBuilder.setAutoCancel(true)\r\n                .setDefaults(Notification.DEFAULT_ALL)\r\n                .setWhen(System.currentTimeMillis())\r\n                .setSmallIcon(getNotificationIcon(notificationBuilder))\r\n                .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_notification_large_icon))\r\n                .setContentTitle(title)\r\n                .setContentText(message)\r\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\r\n                .setContentIntent(pendingIntent);\r\n\r\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) {\r\n            notificationBuilder.setPriority(Notification.PRIORITY_MAX);\r\n        } else {\r\n            notificationBuilder.setPriority(NotificationManager.IMPORTANCE_HIGH);\r\n        }\r\n\r\n        Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\r\n        notificationBuilder.setSound(alarmSound).setVibrate(new long[]{100, 200, 300, 400});\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\r\n            notificationChannel.enableLights(true);\r\n            notificationChannel.shouldShowLights();\r\n            notificationChannel.setLightColor(Color.GREEN);\r\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\r\n            notificationChannel.enableVibration(false);\r\n            assert notificationManager != null;\r\n            notificationManager.createNotificationChannel(notificationChannel);\r\n        }\r\n\r\n        if (image_url != null &amp;&amp; !image_url.isEmpty()) {\r\n            Bitmap image = fetchBitmap(image_url);\r\n            if (image != null) {\r\n                notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(image));\r\n            }\r\n        }\r\n\r\n        //assert notificationManager != null;\r\n        notificationManager.notify((int) post_id, notificationBuilder.build());\r\n    }\r\n\r\n    private int getNotificationIcon(NotificationCompat.Builder notificationBuilder) {\r\n        notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\r\n        return R.drawable.ic_stat_onesignal_default;\r\n    }\r\n\r\n    private Bitmap fetchBitmap(String src) {\r\n        try {\r\n            if (src != null) {\r\n                URL url = new URL(src);\r\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n                connection.setDoInput(true);\r\n                connection.setConnectTimeout(1200000);\r\n                connection.setReadTimeout(1200000);\r\n                connection.connect();\r\n                InputStream input = connection.getInputStream();\r\n                return BitmapFactory.decodeStream(input);\r\n            }\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nDbhelper    public void notification(Recipe p) { Data should be saved in all of these\r\n```\r\npublic class DbHandler extends SQLiteOpenHelper {\r\n\r\n    private static final int DATABASE_VERSION = 1;\r\n    private static final String DATABASE_NAME = &quot;db_recipes_favorite&quot;;\r\n    private static final String TABLE_NAME = &quot;tbl_recipes_favorite&quot;;\r\n\r\n    private static final String notification = &quot;tbl_notification&quot;;\r\n\r\n    private static final String KEY_ID = &quot;id&quot;;\r\n    private static final String KEY_CAT_NAME = &quot;category_name&quot;;\r\n    private static final String KEY_RECIPE_ID = &quot;recipe_id&quot;;\r\n    private static final String KEY_RECIPE_TITLE = &quot;recipes_title&quot;;\r\n    private static final String KEY_calories = &quot;calories&quot;;\r\n    private static final String KEY_servings = &quot;servings&quot;;\r\n    private static final String KEY_RECIPE_TIME = &quot;recipe_time&quot;;\r\n    private static final String KEY_RECIPE_IMAGE = &quot;recipe_image&quot;;\r\n    private static final String KEY_RECIPE_DESCRIPTION = &quot;recipe_description&quot;;\r\n    private static final String KEY_RECIPE_DESCRIPTION2 = &quot;recipe_description2&quot;;\r\n    private static final String KEY_RECIPE_DESCRIPTION3 = &quot;recipe_description3&quot;;\r\n    private static final String KEY_VIDEO_URL = &quot;video_url&quot;;\r\n    private static final String KEY_VIDEO_ID = &quot;video_id&quot;;\r\n    private static final String KEY_CONTENT_TYPE = &quot;content_type&quot;;\r\n    private static final String KEY_FEATURED = &quot;featured&quot;;\r\n    private static final String KEY_TAGS = &quot;tags&quot;;\r\n    private static final String KEY_TOTAL_VIEWS = &quot;total_views&quot;;\r\n\r\n\r\n    public DbHandler(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n    }\r\n\r\n    // Creating Tables\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String CREATE_CONTACTS_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\r\n                + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot;\r\n                + KEY_CAT_NAME + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_ID + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_TITLE + &quot; TEXT,&quot;\r\n                + KEY_calories + &quot; TEXT,&quot;\r\n                + KEY_servings + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_TIME + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_IMAGE + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_DESCRIPTION + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_DESCRIPTION2 + &quot; TEXT,&quot;\r\n                + KEY_RECIPE_DESCRIPTION3 + &quot; TEXT,&quot;\r\n                + KEY_VIDEO_URL + &quot; TEXT,&quot;\r\n                + KEY_VIDEO_ID + &quot; TEXT,&quot;\r\n                + KEY_CONTENT_TYPE + &quot; TEXT,&quot;\r\n                + KEY_FEATURED + &quot; TEXT,&quot;\r\n                + KEY_TAGS + &quot; TEXT,&quot;\r\n                + KEY_TOTAL_VIEWS + &quot; TEXT&quot;\r\n                + &quot;)&quot;;\r\n        db.execSQL(CREATE_CONTACTS_TABLE);\r\n\r\n    }\r\n\r\n    // Upgrading database\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        // TODO Auto-generated method stub\r\n        // Drop older table if existed\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n\r\n        // Create tables again\r\n        onCreate(db);\r\n    }\r\n\r\n    //Adding Record in Database\r\n\r\n    public void AddtoFavorite(Recipe p) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        ContentValues values = new ContentValues();\r\n        values.put(KEY_CAT_NAME, p.getCategory_name());\r\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\r\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\r\n        values.put(KEY_calories, p.getcalories());\r\n        values.put(KEY_servings, p.getservings());\r\n        values.put(KEY_RECIPE_TIME, p.getRecipe_time());\r\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\r\n        values.put(KEY_RECIPE_DESCRIPTION, p.getRecipe_description());\r\n        values.put(KEY_RECIPE_DESCRIPTION2, p.getRecipe_description());\r\n        values.put(KEY_RECIPE_DESCRIPTION3, p.getRecipe_description());\r\n        values.put(KEY_VIDEO_URL, p.getVideo_url());\r\n        values.put(KEY_VIDEO_ID, p.getVideo_id());\r\n        values.put(KEY_CONTENT_TYPE, p.getContent_type());\r\n        values.put(KEY_FEATURED, p.getFeatured());\r\n        values.put(KEY_TAGS, p.getTags());\r\n        values.put(KEY_TOTAL_VIEWS, p.getTotal_views());\r\n\r\n        // Inserting Row\r\n        db.insert(TABLE_NAME, null, values);\r\n        db.close(); // Closing database connection\r\n\r\n    }\r\n\r\n\r\n    public void notification(Recipe p) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n\r\n        ContentValues values = new ContentValues();\r\n\r\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\r\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\r\n\r\n\r\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\r\n\r\n\r\n\r\n        // Inserting Row\r\n        db.insert(notification, null, values);\r\n        db.close(); // Closing database connection\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    // Getting All Data\r\n    public List&lt;Recipe&gt; getAllData() {\r\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\r\n        // Select All Query\r\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; ORDER BY id DESC&quot;;\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor = db.rawQuery(selectQuery, null);\r\n\r\n        // looping through all rows and adding to list\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                Recipe values = new Recipe();\r\n                values.setId(Integer.parseInt(cursor.getString(0)));\r\n                values.setCategory_name(cursor.getString(1));\r\n                values.setRecipe_id(cursor.getString(2));\r\n                values.setRecipe_title(cursor.getString(3));\r\n\r\n                values.setcalories(cursor.getString(4));\r\n                values.setservings(cursor.getString(5));\r\n\r\n                values.setRecipe_time(cursor.getString(6));\r\n                values.setRecipe_image(cursor.getString(7));\r\n                values.setRecipe_description(cursor.getString(8));\r\n                values.setRecipe_description2(cursor.getString(9));\r\n\r\n                values.setRecipe_description3(cursor.getString(10));\r\n                values.setVideo_url(cursor.getString(11));\r\n                values.setVideo_id(cursor.getString(12));\r\n                values.setContent_type(cursor.getString(13));\r\n                values.setFeatured(cursor.getString(14));\r\n                values.setTags(cursor.getString(15));\r\n                values.setTotal_views(cursor.getLong(16));\r\n                // Adding contact to list\r\n                dataList.add(values);\r\n            } while (cursor.moveToNext());\r\n        }\r\n\r\n        // return contact list\r\n        return dataList;\r\n    }\r\n\r\n    //getting single row\r\n    public List&lt;Recipe&gt; getFavRow(String id) {\r\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\r\n        // Select All Query\r\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; WHERE recipe_id=&quot; + id;\r\n\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor cursor = db.rawQuery(selectQuery, null);\r\n\r\n        // looping through all rows and adding to list\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                Recipe values = new Recipe();\r\n                values.setId(Integer.parseInt(cursor.getString(0)));\r\n                values.setCategory_name(cursor.getString(1));\r\n                values.setRecipe_id(cursor.getString(2));\r\n                values.setRecipe_title(cursor.getString(3));\r\n                values.setcalories(cursor.getString(4));\r\n                values.setservings(cursor.getString(5));\r\n                values.setRecipe_time(cursor.getString(6));\r\n                values.setRecipe_image(cursor.getString(7));\r\n                values.setRecipe_description(cursor.getString(8));\r\n                values.setRecipe_description2(cursor.getString(9));\r\n                values.setRecipe_description3(cursor.getString(10));\r\n                values.setVideo_url(cursor.getString(11));\r\n                values.setVideo_id(cursor.getString(12));\r\n                values.setContent_type(cursor.getString(13));\r\n                values.setFeatured(cursor.getString(14));\r\n                values.setTags(cursor.getString(15));\r\n                values.setTotal_views(cursor.getLong(16));\r\n                // Adding contact to list\r\n                dataList.add(values);\r\n            } while (cursor.moveToNext());\r\n        }\r\n\r\n        // return contact list\r\n        return dataList;\r\n    }\r\n\r\n    //for remove favorite\r\n    public void RemoveFav(Recipe contact) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        db.delete(TABLE_NAME, KEY_RECIPE_ID + &quot; = ?&quot;,\r\n                new String[]{String.valueOf(contact.getRecipe_id())});\r\n        db.close();\r\n    }\r\n\r\n    public enum DatabaseManager {\r\n        INSTANCE;\r\n        private SQLiteDatabase db;\r\n        private boolean isDbClosed = true;\r\n        DbHandler dbHelper;\r\n\r\n        public void init(Context context) {\r\n            dbHelper = new DbHandler(context);\r\n            if (isDbClosed) {\r\n                isDbClosed = false;\r\n                this.db = dbHelper.getWritableDatabase();\r\n            }\r\n\r\n        }\r\n\r\n        public boolean isDatabaseClosed() {\r\n            return isDbClosed;\r\n        }\r\n\r\n        public void closeDatabase() {\r\n            if (!isDbClosed &amp;&amp; db != null) {\r\n                isDbClosed = true;\r\n                db.close();\r\n                dbHelper.close();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n save firebase notification insert data sqlite database","title":"How to save firebase notification insert data sqlite database android","body":"<p>title, post_id, link How to take these three to DbHandler notification. For me notification title, post_id, link these three are coming as array. If you send firebase notification, it should be automatic or save</p>\n<pre><code>public class MyFirebaseMessageService extends FirebaseMessagingService {\n\n    @Override\n    public void onNewToken(@NonNull String token) {\n        super.onNewToken(token);\n    }\n\n    @Override\n    public void onMessageReceived(@NonNull RemoteMessage remoteMessage) {\n        super.onMessageReceived(remoteMessage);\n\n        if (remoteMessage.getData().size() &gt; 0) {\n            Map&lt;String, String&gt; data = remoteMessage.getData();\n            Log.d(&quot;onMessageFirebase: &quot;, remoteMessage.getData().toString());\n\n            if (data.get(&quot;post_id&quot;) != null) {\n                String _unique_id = data.get(&quot;unique_id&quot;);\n                String title = data.get(&quot;title&quot;);\n                String message = data.get(&quot;message&quot;);\n                String big_image = data.get(&quot;big_image&quot;);\n                String link = data.get(&quot;link&quot;);\n                String _post_id = data.get(&quot;post_id&quot;);\n\n                assert _unique_id != null;\n                long unique_id = Long.parseLong(_unique_id);\n\n                assert _post_id != null;\n                long post_id = Long.parseLong(_post_id);\n\n                createNotification(unique_id, title, message, big_image, link, post_id);\n            }\n        }\n    }\n\n    private void createNotification(long unique_id, String title, String message, String image_url, String link, long post_id) {\n\n        Intent intent = new Intent(this, MainActivity.class);\n        intent.putExtra(&quot;unique_id&quot;, unique_id);\n        intent.putExtra(&quot;post_id&quot;, post_id);\n        intent.putExtra(&quot;title&quot;, title);\n        intent.putExtra(&quot;link&quot;, link);\n\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n        NotificationManager notificationManager = (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n        String NOTIFICATION_CHANNEL_ID = getApplicationContext().getString(R.string.app_name);\n\n        NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, NOTIFICATION_CHANNEL_ID);\n        notificationBuilder.setAutoCancel(true)\n                .setDefaults(Notification.DEFAULT_ALL)\n                .setWhen(System.currentTimeMillis())\n                .setSmallIcon(getNotificationIcon(notificationBuilder))\n                .setLargeIcon(BitmapFactory.decodeResource(getResources(), R.drawable.ic_notification_large_icon))\n                .setContentTitle(title)\n                .setContentText(message)\n                .setStyle(new NotificationCompat.BigTextStyle().bigText(message))\n                .setContentIntent(pendingIntent);\n\n        if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.N) {\n            notificationBuilder.setPriority(Notification.PRIORITY_MAX);\n        } else {\n            notificationBuilder.setPriority(NotificationManager.IMPORTANCE_HIGH);\n        }\n\n        Uri alarmSound = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION);\n        notificationBuilder.setSound(alarmSound).setVibrate(new long[]{100, 200, 300, 400});\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            NotificationChannel notificationChannel = new NotificationChannel(NOTIFICATION_CHANNEL_ID, getString(R.string.app_name), NotificationManager.IMPORTANCE_HIGH);\n            notificationChannel.enableLights(true);\n            notificationChannel.shouldShowLights();\n            notificationChannel.setLightColor(Color.GREEN);\n            notificationChannel.setVibrationPattern(new long[]{0, 1000, 500, 1000});\n            notificationChannel.enableVibration(false);\n            assert notificationManager != null;\n            notificationManager.createNotificationChannel(notificationChannel);\n        }\n\n        if (image_url != null &amp;&amp; !image_url.isEmpty()) {\n            Bitmap image = fetchBitmap(image_url);\n            if (image != null) {\n                notificationBuilder.setStyle(new NotificationCompat.BigPictureStyle().bigPicture(image));\n            }\n        }\n\n        //assert notificationManager != null;\n        notificationManager.notify((int) post_id, notificationBuilder.build());\n    }\n\n    private int getNotificationIcon(NotificationCompat.Builder notificationBuilder) {\n        notificationBuilder.setColor(ContextCompat.getColor(getApplicationContext(), R.color.colorPrimary));\n        return R.drawable.ic_stat_onesignal_default;\n    }\n\n    private Bitmap fetchBitmap(String src) {\n        try {\n            if (src != null) {\n                URL url = new URL(src);\n                HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n                connection.setDoInput(true);\n                connection.setConnectTimeout(1200000);\n                connection.setReadTimeout(1200000);\n                connection.connect();\n                InputStream input = connection.getInputStream();\n                return BitmapFactory.decodeStream(input);\n            }\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Dbhelper    public void notification(Recipe p) { Data should be saved in all of these</p>\n<pre><code>public class DbHandler extends SQLiteOpenHelper {\n\n    private static final int DATABASE_VERSION = 1;\n    private static final String DATABASE_NAME = &quot;db_recipes_favorite&quot;;\n    private static final String TABLE_NAME = &quot;tbl_recipes_favorite&quot;;\n\n    private static final String notification = &quot;tbl_notification&quot;;\n\n    private static final String KEY_ID = &quot;id&quot;;\n    private static final String KEY_CAT_NAME = &quot;category_name&quot;;\n    private static final String KEY_RECIPE_ID = &quot;recipe_id&quot;;\n    private static final String KEY_RECIPE_TITLE = &quot;recipes_title&quot;;\n    private static final String KEY_calories = &quot;calories&quot;;\n    private static final String KEY_servings = &quot;servings&quot;;\n    private static final String KEY_RECIPE_TIME = &quot;recipe_time&quot;;\n    private static final String KEY_RECIPE_IMAGE = &quot;recipe_image&quot;;\n    private static final String KEY_RECIPE_DESCRIPTION = &quot;recipe_description&quot;;\n    private static final String KEY_RECIPE_DESCRIPTION2 = &quot;recipe_description2&quot;;\n    private static final String KEY_RECIPE_DESCRIPTION3 = &quot;recipe_description3&quot;;\n    private static final String KEY_VIDEO_URL = &quot;video_url&quot;;\n    private static final String KEY_VIDEO_ID = &quot;video_id&quot;;\n    private static final String KEY_CONTENT_TYPE = &quot;content_type&quot;;\n    private static final String KEY_FEATURED = &quot;featured&quot;;\n    private static final String KEY_TAGS = &quot;tags&quot;;\n    private static final String KEY_TOTAL_VIEWS = &quot;total_views&quot;;\n\n\n    public DbHandler(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    // Creating Tables\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String CREATE_CONTACTS_TABLE = &quot;CREATE TABLE &quot; + TABLE_NAME + &quot;(&quot;\n                + KEY_ID + &quot; INTEGER PRIMARY KEY,&quot;\n                + KEY_CAT_NAME + &quot; TEXT,&quot;\n                + KEY_RECIPE_ID + &quot; TEXT,&quot;\n                + KEY_RECIPE_TITLE + &quot; TEXT,&quot;\n                + KEY_calories + &quot; TEXT,&quot;\n                + KEY_servings + &quot; TEXT,&quot;\n                + KEY_RECIPE_TIME + &quot; TEXT,&quot;\n                + KEY_RECIPE_IMAGE + &quot; TEXT,&quot;\n                + KEY_RECIPE_DESCRIPTION + &quot; TEXT,&quot;\n                + KEY_RECIPE_DESCRIPTION2 + &quot; TEXT,&quot;\n                + KEY_RECIPE_DESCRIPTION3 + &quot; TEXT,&quot;\n                + KEY_VIDEO_URL + &quot; TEXT,&quot;\n                + KEY_VIDEO_ID + &quot; TEXT,&quot;\n                + KEY_CONTENT_TYPE + &quot; TEXT,&quot;\n                + KEY_FEATURED + &quot; TEXT,&quot;\n                + KEY_TAGS + &quot; TEXT,&quot;\n                + KEY_TOTAL_VIEWS + &quot; TEXT&quot;\n                + &quot;)&quot;;\n        db.execSQL(CREATE_CONTACTS_TABLE);\n\n    }\n\n    // Upgrading database\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // TODO Auto-generated method stub\n        // Drop older table if existed\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n\n        // Create tables again\n        onCreate(db);\n    }\n\n    //Adding Record in Database\n\n    public void AddtoFavorite(Recipe p) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n        values.put(KEY_CAT_NAME, p.getCategory_name());\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\n        values.put(KEY_calories, p.getcalories());\n        values.put(KEY_servings, p.getservings());\n        values.put(KEY_RECIPE_TIME, p.getRecipe_time());\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\n        values.put(KEY_RECIPE_DESCRIPTION, p.getRecipe_description());\n        values.put(KEY_RECIPE_DESCRIPTION2, p.getRecipe_description());\n        values.put(KEY_RECIPE_DESCRIPTION3, p.getRecipe_description());\n        values.put(KEY_VIDEO_URL, p.getVideo_url());\n        values.put(KEY_VIDEO_ID, p.getVideo_id());\n        values.put(KEY_CONTENT_TYPE, p.getContent_type());\n        values.put(KEY_FEATURED, p.getFeatured());\n        values.put(KEY_TAGS, p.getTags());\n        values.put(KEY_TOTAL_VIEWS, p.getTotal_views());\n\n        // Inserting Row\n        db.insert(TABLE_NAME, null, values);\n        db.close(); // Closing database connection\n\n    }\n\n\n    public void notification(Recipe p) {\n        SQLiteDatabase db = this.getWritableDatabase();\n\n        ContentValues values = new ContentValues();\n\n        values.put(KEY_RECIPE_ID, p.getRecipe_id());\n        values.put(KEY_RECIPE_TITLE, p.getRecipe_title());\n\n\n        values.put(KEY_RECIPE_IMAGE, p.getRecipe_image());\n\n\n\n        // Inserting Row\n        db.insert(notification, null, values);\n        db.close(); // Closing database connection\n\n    }\n\n\n\n\n\n\n\n\n\n\n    // Getting All Data\n    public List&lt;Recipe&gt; getAllData() {\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\n        // Select All Query\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; ORDER BY id DESC&quot;;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n                Recipe values = new Recipe();\n                values.setId(Integer.parseInt(cursor.getString(0)));\n                values.setCategory_name(cursor.getString(1));\n                values.setRecipe_id(cursor.getString(2));\n                values.setRecipe_title(cursor.getString(3));\n\n                values.setcalories(cursor.getString(4));\n                values.setservings(cursor.getString(5));\n\n                values.setRecipe_time(cursor.getString(6));\n                values.setRecipe_image(cursor.getString(7));\n                values.setRecipe_description(cursor.getString(8));\n                values.setRecipe_description2(cursor.getString(9));\n\n                values.setRecipe_description3(cursor.getString(10));\n                values.setVideo_url(cursor.getString(11));\n                values.setVideo_id(cursor.getString(12));\n                values.setContent_type(cursor.getString(13));\n                values.setFeatured(cursor.getString(14));\n                values.setTags(cursor.getString(15));\n                values.setTotal_views(cursor.getLong(16));\n                // Adding contact to list\n                dataList.add(values);\n            } while (cursor.moveToNext());\n        }\n\n        // return contact list\n        return dataList;\n    }\n\n    //getting single row\n    public List&lt;Recipe&gt; getFavRow(String id) {\n        List&lt;Recipe&gt; dataList = new ArrayList&lt;Recipe&gt;();\n        // Select All Query\n        String selectQuery = &quot;SELECT  * FROM &quot; + TABLE_NAME + &quot; WHERE recipe_id=&quot; + id;\n\n        SQLiteDatabase db = this.getWritableDatabase();\n        Cursor cursor = db.rawQuery(selectQuery, null);\n\n        // looping through all rows and adding to list\n        if (cursor.moveToFirst()) {\n            do {\n                Recipe values = new Recipe();\n                values.setId(Integer.parseInt(cursor.getString(0)));\n                values.setCategory_name(cursor.getString(1));\n                values.setRecipe_id(cursor.getString(2));\n                values.setRecipe_title(cursor.getString(3));\n                values.setcalories(cursor.getString(4));\n                values.setservings(cursor.getString(5));\n                values.setRecipe_time(cursor.getString(6));\n                values.setRecipe_image(cursor.getString(7));\n                values.setRecipe_description(cursor.getString(8));\n                values.setRecipe_description2(cursor.getString(9));\n                values.setRecipe_description3(cursor.getString(10));\n                values.setVideo_url(cursor.getString(11));\n                values.setVideo_id(cursor.getString(12));\n                values.setContent_type(cursor.getString(13));\n                values.setFeatured(cursor.getString(14));\n                values.setTags(cursor.getString(15));\n                values.setTotal_views(cursor.getLong(16));\n                // Adding contact to list\n                dataList.add(values);\n            } while (cursor.moveToNext());\n        }\n\n        // return contact list\n        return dataList;\n    }\n\n    //for remove favorite\n    public void RemoveFav(Recipe contact) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        db.delete(TABLE_NAME, KEY_RECIPE_ID + &quot; = ?&quot;,\n                new String[]{String.valueOf(contact.getRecipe_id())});\n        db.close();\n    }\n\n    public enum DatabaseManager {\n        INSTANCE;\n        private SQLiteDatabase db;\n        private boolean isDbClosed = true;\n        DbHandler dbHelper;\n\n        public void init(Context context) {\n            dbHelper = new DbHandler(context);\n            if (isDbClosed) {\n                isDbClosed = false;\n                this.db = dbHelper.getWritableDatabase();\n            }\n\n        }\n\n        public boolean isDatabaseClosed() {\n            return isDbClosed;\n        }\n\n        public void closeDatabase() {\n            if (!isDbClosed &amp;&amp; db != null) {\n                isDbClosed = true;\n                db.close();\n                dbHelper.close();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>save firebase notification insert data sqlite database</p>\n"},{"tags":["java","android","google-maps","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676470776,"post_id":75460596,"comment_id":133143076,"body_markdown":"When exactly would you like to remove the polyline?","body":"When exactly would you like to remove the polyline?"},{"owner":{"account_id":27701237,"reputation":1,"user_id":21145775,"display_name":"Arthur Cross"},"score":0,"creation_date":1676472373,"post_id":75460596,"comment_id":133143671,"body_markdown":"@AlexMamo I would like to remove the polyline everytime the function this database is called. I put the polylineCollection.clear() under PolylineManager.Collection polylineCollection initialization but it does not erase the polyline","body":"@AlexMamo I would like to remove the polyline everytime the function this database is called. I put the polylineCollection.clear() under PolylineManager.Collection polylineCollection initialization but it does not erase the polyline"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1676473691,"post_id":75460596,"comment_id":133144159,"body_markdown":"Step 1 is to stop ignoring potential errors and implement `onCancelled`. At its minimum that should be `public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }`. --- After that, I recommend debugging the app locally. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"Step 1 is to stop ignoring potential errors and implement <code>onCancelled</code>. At its minimum that should be <code>public void onCancelled(@NonNull DatabaseError databaseError) { throw databaseError.toException(); }</code>. --- After that, I recommend debugging the app locally. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676476361,"post_id":75460596,"comment_id":133145210,"body_markdown":"Please edit your question and add the information Frank asked for, and please also respond using @.","body":"Please edit your question and add the information Frank asked for, and please also respond using @."}],"owner":{"account_id":27701237,"reputation":1,"user_id":21145775,"display_name":"Arthur Cross"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676473644,"creation_date":1676468103,"question_id":75460596,"body_markdown":"I have setup my code as such:\r\n\r\n\r\n```\r\nDatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;encoded_polyline&quot;);\r\n\r\nref.addValueEventListener(new ValueEventListener() {\r\n   @Override\r\n   public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n       PolylineManager polylineManager = new PolylineManager(mGoogleMap);\r\n       PolylineManager.Collection polylineCollection = polylineManager.newCollection();\r\n\r\n       for (DataSnapshot ds: dataSnapshot.getChildren()) {\r\n         encodedPolyline = ds.child(&quot;polyline&quot;).getValue().toString()\r\n         decodedPolyline = PolyUtil.decode(encodedPolyline);\r\n         polylineCollection.addPolyline(new PolylineOptions().addAll(decodedPolyline));\r\n       }\r\n   }\r\n   @Override\r\n   public void onCancelled(@NonNull DatabaseError error) {\r\n                \r\n   }\r\n}\r\n```\r\n\r\nI tried polylineCollection.clear() and it does not do anything at all. Polyline still remain\r\n\r\n","title":"How to remove polyline from maps with Polyline Manager?","body":"<p>I have setup my code as such:</p>\n<pre><code>DatabaseReference ref = FirebaseDatabase.getInstance().getReference().child(&quot;encoded_polyline&quot;);\n\nref.addValueEventListener(new ValueEventListener() {\n   @Override\n   public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n       PolylineManager polylineManager = new PolylineManager(mGoogleMap);\n       PolylineManager.Collection polylineCollection = polylineManager.newCollection();\n\n       for (DataSnapshot ds: dataSnapshot.getChildren()) {\n         encodedPolyline = ds.child(&quot;polyline&quot;).getValue().toString()\n         decodedPolyline = PolyUtil.decode(encodedPolyline);\n         polylineCollection.addPolyline(new PolylineOptions().addAll(decodedPolyline));\n       }\n   }\n   @Override\n   public void onCancelled(@NonNull DatabaseError error) {\n                \n   }\n}\n</code></pre>\n<p>I tried polylineCollection.clear() and it does not do anything at all. Polyline still remain</p>\n"},{"tags":["java","jakarta-jsonp"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1676387191,"post_id":75449631,"comment_id":133124197,"body_markdown":"Does this answer your question? [Deserializing JSON using Java 11 HttpClient and custom BodyHandler with Jackson halts and will not proceed](https://stackoverflow.com/questions/57629401/deserializing-json-using-java-11-httpclient-and-custom-bodyhandler-with-jackson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57629401/deserializing-json-using-java-11-httpclient-and-custom-bodyhandler-with-jackson\">Deserializing JSON using Java 11 HttpClient and custom BodyHandler with Jackson halts and will not proceed</a>"},{"owner":{"account_id":2008573,"reputation":5307,"user_id":1797689,"accept_rate":67,"display_name":"khateeb"},"score":0,"creation_date":1676446266,"post_id":75449631,"comment_id":133136067,"body_markdown":"@f1sh That doesn&#39;t answer the question because it uses Jackson to serialize JSON Response bodies to POJOs and I want to simply convert the body to a JsonObject without any external library.","body":"@f1sh That doesn&#39;t answer the question because it uses Jackson to serialize JSON Response bodies to POJOs and I want to simply convert the body to a JsonObject without any external library."}],"owner":{"account_id":2008573,"reputation":5307,"user_id":1797689,"accept_rate":67,"display_name":"khateeb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1005,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676473268,"creation_date":1676386672,"question_id":75449631,"body_markdown":"I want to fetch a **jakarta.json.JsonObject** in the HttpResponse itself using the Jakarta JSONP API. Right now, I have to fetch it as a String, feed the body into a reader and then get the **JsonObject** like the code below.\r\n\r\n\r\n    import java.net.http.HttpRequest;\r\n    import java.net.http.HttpResponse;\r\n    import jakarta.json.Json;\r\n    import jakarta.json.JsonObject;\r\n    import jakarta.json.JsonReader;\r\n\r\n\tHttpRequest request = HttpRequest.newBuilder().uri(uri).GET().build();\r\n\tHttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\r\n\tJsonReader jsonReader = Json.createReader(new StringReader(response.body()));\r\n\tJsonObject object = jsonReader.readObject();\r\n\tjsonReader.close();\r\n\r\n\r\nHow do I get the response as `HttpResponse&lt;JsonObject&gt; response` directly? **I don&#39;t want to use any external libraries other than the Jakarta JSONP one.**\r\n\r\nEdit: As an example, one could write their own BodyHandler like this:\r\n\r\n    import java.net.http.HttpResponse;\r\n    import java.net.http.HttpResponse.BodySubscriber;\r\n    import java.net.http.HttpResponse.BodySubscribers;\r\n    import java.net.http.HttpResponse.ResponseInfo;\r\n    \r\n    import jakarta.json.JsonObject;\r\n    \r\n    public class JsonObjectBodyHandler implements HttpResponse.BodyHandler&lt;JsonObject&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic BodySubscriber&lt;JsonObject&gt; apply(ResponseInfo responseInfo) {\r\n    \t\t// How to implement this\r\n    \t}\r\n    \r\n    }\r\n\r\nand then use it in the function like this:\r\n\r\n    HttpResponse&lt;JsonObject&gt; response = httpClient.send(request, new JsonObjectBodyHandler());","title":"How to get a jakarta.json.JsonObject Response using the Java 11 HttpClient?","body":"<p>I want to fetch a <strong>jakarta.json.JsonObject</strong> in the HttpResponse itself using the Jakarta JSONP API. Right now, I have to fetch it as a String, feed the body into a reader and then get the <strong>JsonObject</strong> like the code below.</p>\n<pre><code>import java.net.http.HttpRequest;\nimport java.net.http.HttpResponse;\nimport jakarta.json.Json;\nimport jakarta.json.JsonObject;\nimport jakarta.json.JsonReader;\n\nHttpRequest request = HttpRequest.newBuilder().uri(uri).GET().build();\nHttpResponse&lt;String&gt; response = httpClient.send(request, HttpResponse.BodyHandlers.ofString());\nJsonReader jsonReader = Json.createReader(new StringReader(response.body()));\nJsonObject object = jsonReader.readObject();\njsonReader.close();\n</code></pre>\n<p>How do I get the response as <code>HttpResponse&lt;JsonObject&gt; response</code> directly? <strong>I don't want to use any external libraries other than the Jakarta JSONP one.</strong></p>\n<p>Edit: As an example, one could write their own BodyHandler like this:</p>\n<pre><code>import java.net.http.HttpResponse;\nimport java.net.http.HttpResponse.BodySubscriber;\nimport java.net.http.HttpResponse.BodySubscribers;\nimport java.net.http.HttpResponse.ResponseInfo;\n\nimport jakarta.json.JsonObject;\n\npublic class JsonObjectBodyHandler implements HttpResponse.BodyHandler&lt;JsonObject&gt; {\n\n    @Override\n    public BodySubscriber&lt;JsonObject&gt; apply(ResponseInfo responseInfo) {\n        // How to implement this\n    }\n\n}\n</code></pre>\n<p>and then use it in the function like this:</p>\n<pre><code>HttpResponse&lt;JsonObject&gt; response = httpClient.send(request, new JsonObjectBodyHandler());\n</code></pre>\n"},{"tags":["javascript","java","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1676415728,"post_id":75454020,"comment_id":133131963,"body_markdown":"Update the question with the text based HTML of the element.","body":"Update the question with the text based HTML of the element."},{"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"score":0,"creation_date":1676416031,"post_id":75454020,"comment_id":133132012,"body_markdown":"&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt;\n&lt;div class=&quot;col-md-6&quot;&gt;\n    &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt;\n\t&lt;/span&gt;\n  &lt;/div&gt;","body":"&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt; &lt;div class=&quot;col-md-6&quot;&gt;     &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;&lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt; \t&lt;/span&gt;   &lt;/div&gt;"},{"owner":{"account_id":23081176,"reputation":131,"user_id":17193441,"display_name":"Srinivasu Kaki"},"score":0,"creation_date":1676419361,"post_id":75454020,"comment_id":133132533,"body_markdown":"Share the WebElement syntax used to identify the element. Since you are getting could not locate the element error, the issue would be with xpath/css locators used to identify the webelement.","body":"Share the WebElement syntax used to identify the element. Since you are getting could not locate the element error, the issue would be with xpath/css locators used to identify the webelement."},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1676441500,"post_id":75454020,"comment_id":133135221,"body_markdown":"Try `List&lt;WebElement&gt; elements = driver.findElements(By.YOUR LOCATOR HERE);` to see how many elements you get. If more than one, you need more precise locator or use on top `WebElement element = elements.get(i);`.","body":"Try <code>List&lt;WebElement&gt; elements = driver.findElements(By.YOUR LOCATOR HERE);</code> to see how many elements you get. If more than one, you need more precise locator or use on top <code>WebElement element = elements.get(i);</code>."}],"answers":[{"tags":[],"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676465236,"creation_date":1676465236,"answer_id":75460019,"question_id":75454020,"body_markdown":"Thanks to all for your help. Finally it worked. I used the below command:\r\n\r\nString data_nombre = (String) ((JavascriptExecutor) driver).executeScript(&quot;return document.getElementById(&#39;nombre&#39;).value&quot;); ","title":"Unable to get the values of an element using selenium java","body":"<p>Thanks to all for your help. Finally it worked. I used the below command:</p>\n<p>String data_nombre = (String) ((JavascriptExecutor) driver).executeScript(&quot;return document.getElementById('nombre').value&quot;);</p>\n"}],"owner":{"account_id":13660772,"reputation":31,"user_id":21079845,"display_name":"Amir Ali Ansari"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676473242,"creation_date":1676415547,"question_id":75454020,"body_markdown":"I am using selenium webdriver with Java and Maven project. In a webpage there are few fields and I want to get the value of one the fields. These values which are shown were entered in the previous screens and still not stored in the database. \r\n\r\nI am unable to get the value of an webelement.\r\n\r\nI tried using `gettext()`, `getAttribute()` and `(String) ((JavascriptExecutor) driver).executeScript(&quot;return arguments[0].value&quot;, element)`. But they either return blank or null as values.\r\n\r\nWhen I tried to use locators xpath or ID, i got error that &quot;could not locate the element&quot;. So i used CSS locators.\r\n\r\nI am expecting to retrieve those values and store in a variable for further use.\r\n\r\n```\r\n&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt;\r\n  &lt;div class=&quot;col-md-6&quot;&gt;\r\n    &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;\r\n      &lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt;\r\n    &lt;/span&gt;\r\n  &lt;/div&gt;\r\n```\r\n","title":"Unable to get the values of an element using selenium java","body":"<p>I am using selenium webdriver with Java and Maven project. In a webpage there are few fields and I want to get the value of one the fields. These values which are shown were entered in the previous screens and still not stored in the database.</p>\n<p>I am unable to get the value of an webelement.</p>\n<p>I tried using <code>gettext()</code>, <code>getAttribute()</code> and <code>(String) ((JavascriptExecutor) driver).executeScript(&quot;return arguments[0].value&quot;, element)</code>. But they either return blank or null as values.</p>\n<p>When I tried to use locators xpath or ID, i got error that &quot;could not locate the element&quot;. So i used CSS locators.</p>\n<p>I am expecting to retrieve those values and store in a variable for further use.</p>\n<pre><code>&lt;div class=&quot;row g-3 mb-3&quot; xpath=&quot;1&quot;&gt;\n  &lt;div class=&quot;col-md-6&quot;&gt;\n    &lt;span class=&quot;wpcf7-form-control-wrap&quot; data-name=&quot;nombre&quot;&gt;\n      &lt;input type=&quot;text&quot; name=&quot;nombre&quot; value=&quot;&quot; size=&quot;40&quot; class=&quot;wpcf7-form-control wpcf7-text wpcf7-validates-as-required form-control&quot; id=&quot;nombre&quot; aria-required=&quot;true&quot; aria-invalid=&quot;false&quot; placeholder=&quot;Nombre*&quot; data-gtm-form-interact-field-id=&quot;0&quot;&gt;\n    &lt;/span&gt;\n  &lt;/div&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","email","dependencies","spring-boot-test"],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676472771,"creation_date":1676472771,"answer_id":75461577,"question_id":75461509,"body_markdown":"Looks like you miss the dependency which contains the mentioned class.\r\n\r\nAdd\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nto your pom","title":"Field mailSender in com.example.demo.EmailService required a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; that could not be found","body":"<p>Looks like you miss the dependency which contains the mentioned class.</p>\n<p>Add</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>to your pom</p>\n"}],"owner":{"account_id":27794336,"reputation":11,"user_id":21220194,"display_name":"Prova Email"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676473177,"creation_date":1676472476,"question_id":75461509,"body_markdown":"This is a spring Boot project for sending emails, I&#39;ve followed various tutorials and they all lead me to this configuration, unfortunately it doesn&#39;t work.\r\nThe program gives me the following error:\r\n\r\n```\r\nDescription:\r\n\r\nField mailSender in it.trefin.asmar.ws.asmarWS.service.EmailService required a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; in your configuration.\r\n```\r\n\r\nIn my pom I added JavaMailSender dependency\r\n\r\nMain\r\n\r\n```\r\n@RestController\r\n@CrossOrigin(&quot;*&quot;)\r\npublic class EmailSenderController {\r\n\t\r\n\t@Autowired\r\n\tEmailService emailService;\r\n\t\r\n\t@PostMapping(&quot;/sendEmail&quot;)\r\n\tpublic String sendEmail() {\r\n\t\temailService.sendEmail(&quot;rosaria.capuano.ext@3fedin.it&quot;, &quot;Prova email&quot;, &quot;Tieni duro&quot;);\r\n\t\treturn &quot;Messaggio inviato&quot;;\r\n\t}\r\n\r\n}\r\n```\r\n\r\nThe service\r\n\r\n\r\n```\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.mail.SimpleMailMessage;\r\nimport org.springframework.mail.javamail.JavaMailSender;\r\nimport org.springframework.stereotype.Service;\r\n\r\n\r\n@Service\r\npublic class EmailService {\r\n\t\t\r\n    @Autowired\r\n    private JavaMailSender mailSender;\r\n\r\n    public void sendEmail(String to, String subject, String body) {\r\n        SimpleMailMessage message = new SimpleMailMessage();\r\n        message.setTo(to);\r\n        message.setSubject(subject);\r\n        message.setText(body);\r\n\r\n        mailSender.send(message);\r\n    }\r\n\t\r\n}\r\n```\r\n\r\nMy application.properties\r\n\r\n```\r\n#EmailSender Configuration\r\nspring.mail.host=smto.gmail.com\r\nspring.mail.port=587\r\nspring.mail.username=&quot;myemail&quot;\r\nspring.mail.password=&quot;myPassword&quot;\r\nspring.mail.properties.mail.smtp.auth=true\r\nspring.mail.properties.mail.smtp.starttls.enable=true\r\n\r\n```\r\n\r\n\r\nWhat should I do?\r\n\r\n\r\nI don&#39;t know what to change at all","title":"Field mailSender in com.example.demo.EmailService required a bean of type &#39;org.springframework.mail.javamail.JavaMailSender&#39; that could not be found","body":"<p>This is a spring Boot project for sending emails, I've followed various tutorials and they all lead me to this configuration, unfortunately it doesn't work.\nThe program gives me the following error:</p>\n<pre><code>Description:\n\nField mailSender in it.trefin.asmar.ws.asmarWS.service.EmailService required a bean of type 'org.springframework.mail.javamail.JavaMailSender' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.mail.javamail.JavaMailSender' in your configuration.\n</code></pre>\n<p>In my pom I added JavaMailSender dependency</p>\n<p>Main</p>\n<pre><code>@RestController\n@CrossOrigin(&quot;*&quot;)\npublic class EmailSenderController {\n    \n    @Autowired\n    EmailService emailService;\n    \n    @PostMapping(&quot;/sendEmail&quot;)\n    public String sendEmail() {\n        emailService.sendEmail(&quot;rosaria.capuano.ext@3fedin.it&quot;, &quot;Prova email&quot;, &quot;Tieni duro&quot;);\n        return &quot;Messaggio inviato&quot;;\n    }\n\n}\n</code></pre>\n<p>The service</p>\n<pre><code>import org.springframework.stereotype.Service;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.mail.SimpleMailMessage;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.stereotype.Service;\n\n\n@Service\npublic class EmailService {\n        \n    @Autowired\n    private JavaMailSender mailSender;\n\n    public void sendEmail(String to, String subject, String body) {\n        SimpleMailMessage message = new SimpleMailMessage();\n        message.setTo(to);\n        message.setSubject(subject);\n        message.setText(body);\n\n        mailSender.send(message);\n    }\n    \n}\n</code></pre>\n<p>My application.properties</p>\n<pre><code>#EmailSender Configuration\nspring.mail.host=smto.gmail.com\nspring.mail.port=587\nspring.mail.username=&quot;myemail&quot;\nspring.mail.password=&quot;myPassword&quot;\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n\n</code></pre>\n<p>What should I do?</p>\n<p>I don't know what to change at all</p>\n"},{"tags":["java","spring","spring-boot","maven","netflix-eureka"],"comments":[{"owner":{"account_id":1165784,"reputation":14935,"user_id":1144157,"accept_rate":75,"display_name":"Steephen"},"score":0,"creation_date":1605472210,"post_id":64849312,"comment_id":114654438,"body_markdown":"I created a project from here https://start.spring.io/ matching with your dependencies and copied your application.properties. It worked well.","body":"I created a project from here <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a> matching with your dependencies and copied your application.properties. It worked well."},{"owner":{"account_id":18296501,"reputation":484,"user_id":14550352,"display_name":"Oliver Darby"},"score":0,"creation_date":1605472576,"post_id":64849312,"comment_id":114654529,"body_markdown":"@Steephen thanks, but if it worked fine for you do you have any idea why it hasnt for me?","body":"@Steephen thanks, but if it worked fine for you do you have any idea why it hasnt for me?"},{"owner":{"account_id":18296501,"reputation":484,"user_id":14550352,"display_name":"Oliver Darby"},"score":0,"creation_date":1605473204,"post_id":64849312,"comment_id":114654696,"body_markdown":"@Steephen I also just tried using the website and still got the same error - feeling its a fault with my maven?","body":"@Steephen I also just tried using the website and still got the same error - feeling its a fault with my maven?"},{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1605476763,"post_id":64849312,"comment_id":114655651,"body_markdown":"please you can clear ```.m2``` repository and try again?","body":"please you can clear <code>.m2</code> repository and try again?"},{"owner":{"account_id":18296501,"reputation":484,"user_id":14550352,"display_name":"Oliver Darby"},"score":0,"creation_date":1605477519,"post_id":64849312,"comment_id":114655824,"body_markdown":"@ThangavelLoganathan I have finally solved it, I do not know how, but I decided to create a application.yml as an option and tried it that way. This works and I do not know why and it is still broken in application.properies","body":"@ThangavelLoganathan I have finally solved it, I do not know how, but I decided to create a application.yml as an option and tried it that way. This works and I do not know why and it is still broken in application.properies"},{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":0,"creation_date":1605485103,"post_id":64849312,"comment_id":114657349,"body_markdown":"Sounds great, but it&#39;s strange that not worked with app.properties file.","body":"Sounds great, but it&#39;s strange that not worked with app.properties file."}],"answers":[{"tags":[],"owner":{"account_id":18296501,"reputation":484,"user_id":14550352,"display_name":"Oliver Darby"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605477911,"creation_date":1605477911,"answer_id":64850294,"question_id":64849312,"body_markdown":"The best way I have found around this so far is to create an application.yml file and add the properties this way: \r\n\r\napplication.yml:\r\n\r\n    info:\r\n      component: DiscoveryService\r\n    \r\n    server:\r\n      port: ${port:8010}\r\n    \r\n    \r\n    eureka:\r\n      client:\r\n        registerWithEureka: false\r\n        fetchRegistry: false\r\n      server:\r\n        enable-self-preservation: false\r\n        waitTimeInMsWhenSyncEmpty: 0\r\n      instance:\r\n        hostname: localhost\r\n        lease-expiration-duration-in-seconds: 15\r\n        lease-renewal-interval-in-seconds: 5\r\n\r\nI am not sure what the error is or how to solve it any other way than this\r\n\r\nedit: I have finally found the solution it is getting rid of the client dependency in the pom.xml. For some reason you cannot have both in the project or you get the bean error. ","title":"Error setting up eureka server in spring boot","body":"<p>The best way I have found around this so far is to create an application.yml file and add the properties this way:</p>\n<p>application.yml:</p>\n<pre><code>info:\n  component: DiscoveryService\n\nserver:\n  port: ${port:8010}\n\n\neureka:\n  client:\n    registerWithEureka: false\n    fetchRegistry: false\n  server:\n    enable-self-preservation: false\n    waitTimeInMsWhenSyncEmpty: 0\n  instance:\n    hostname: localhost\n    lease-expiration-duration-in-seconds: 15\n    lease-renewal-interval-in-seconds: 5\n</code></pre>\n<p>I am not sure what the error is or how to solve it any other way than this</p>\n<p>edit: I have finally found the solution it is getting rid of the client dependency in the pom.xml. For some reason you cannot have both in the project or you get the bean error.</p>\n"},{"tags":[],"owner":{"account_id":12941137,"reputation":43,"user_id":9356922,"display_name":"Mainong"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625284415,"creation_date":1625284415,"answer_id":68233089,"question_id":64849312,"body_markdown":"I came across this issue after changing version to `2.5.2`\r\nTo resolve this issue, I had to change `eureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka` in `application.properties` to `eureka.instance.hostname=localhost`\r\n\r\n[FOR REFERENCE] The contents of my `application.properties` file\r\n\r\n    server.port=8010\r\n    spring.application.name=eureka-discovery-service\r\n    eureka.client.registerWithEureka=false\r\n    eureka.client.fetchRegistry=false\r\n    #eureka.client.serviceUrl.defaultZone= http://localhost:8010/eureka\r\n    eureka.instance.hostname=localhost\r\n    eureka.server.enable-self-preservation=true\r\n    eureka.server.waitTimeInMsWhenSyncEmpty=0\r\n    eureka.instance.lease-expiration-duration-in-seconds= 15\r\n    eureka.instance.lease-renewal-interval-in-seconds= 5","title":"Error setting up eureka server in spring boot","body":"<p>I came across this issue after changing version to <code>2.5.2</code>\nTo resolve this issue, I had to change <code>eureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka</code> in <code>application.properties</code> to <code>eureka.instance.hostname=localhost</code></p>\n<p>[FOR REFERENCE] The contents of my <code>application.properties</code> file</p>\n<pre><code>server.port=8010\nspring.application.name=eureka-discovery-service\neureka.client.registerWithEureka=false\neureka.client.fetchRegistry=false\n#eureka.client.serviceUrl.defaultZone= http://localhost:8010/eureka\neureka.instance.hostname=localhost\neureka.server.enable-self-preservation=true\neureka.server.waitTimeInMsWhenSyncEmpty=0\neureka.instance.lease-expiration-duration-in-seconds= 15\neureka.instance.lease-renewal-interval-in-seconds= 5\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6671431,"reputation":315,"user_id":5147465,"accept_rate":45,"display_name":"Aditya Sawant"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1631660768,"creation_date":1631660768,"answer_id":69185365,"question_id":64849312,"body_markdown":"I am also following the same tutorial as you. I also faced the same issue with Eureka. There are 3 ways to solve it.\r\n\r\n1) Use Mainong&#39;s solution by adding `eureka.instance.hostname=localhost` in application.properties.\r\n2) &amp; 3) In the same tutorial there is a part on troubleshooting this issue.\r\n\r\nYou can either add the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;\r\n      &lt;version&gt;1.19.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nor remove eureka-client dependency:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Error setting up eureka server in spring boot","body":"<p>I am also following the same tutorial as you. I also faced the same issue with Eureka. There are 3 ways to solve it.</p>\n<ol>\n<li>Use Mainong's solution by adding <code>eureka.instance.hostname=localhost</code> in application.properties.</li>\n<li>&amp; 3) In the same tutorial there is a part on troubleshooting this issue.</li>\n</ol>\n<p>You can either add the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n  &lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;\n  &lt;version&gt;1.19.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>or remove eureka-client dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12537512,"reputation":650,"user_id":9123717,"display_name":"Shivansh Rajolia - HeLleR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635382670,"creation_date":1635382670,"answer_id":69747076,"question_id":64849312,"body_markdown":"Replicated this in my local and ran. Facing same issue\r\n\r\n**Solution:**\r\n\r\nJust remove these 2 props from application.properties\r\n\r\n    eureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\r\n    eureka.instance.prefer-ip-address=true\r\n\r\nAnd add this property\r\n\r\n    eureka.instance.hostname=localhost\r\n\r\nIt will work!","title":"Error setting up eureka server in spring boot","body":"<p>Replicated this in my local and ran. Facing same issue</p>\n<p><strong>Solution:</strong></p>\n<p>Just remove these 2 props from application.properties</p>\n<pre><code>eureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\neureka.instance.prefer-ip-address=true\n</code></pre>\n<p>And add this property</p>\n<pre><code>eureka.instance.hostname=localhost\n</code></pre>\n<p>It will work!</p>\n"},{"tags":[],"owner":{"account_id":18565415,"reputation":11,"user_id":13528484,"display_name":"neetu shaky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670489319,"creation_date":1670489304,"answer_id":74727640,"question_id":64849312,"body_markdown":"this worked for me:\r\nJust add this property.\r\n\r\n\r\n    eureka.instance.hostname=localhost","title":"Error setting up eureka server in spring boot","body":"<p>this worked for me:\nJust add this property.</p>\n<pre><code>eureka.instance.hostname=localhost\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23161439,"reputation":1,"user_id":17262035,"display_name":"danielmaxx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676472936,"creation_date":1676472936,"answer_id":75461615,"question_id":64849312,"body_markdown":"I had the same problem and I added the dependency below:\r\n\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.19.1&lt;/version&gt;\r\n\t\t&lt;/dependency \r\n\r\nit worked for me. tks for help","title":"Error setting up eureka server in spring boot","body":"<p>I had the same problem and I added the dependency below:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.jersey.contribs&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-apache-client4&lt;/artifactId&gt;\n        &lt;version&gt;1.19.1&lt;/version&gt;\n    &lt;/dependency \n</code></pre>\n<p>it worked for me. tks for help</p>\n"}],"owner":{"account_id":18296501,"reputation":484,"user_id":14550352,"display_name":"Oliver Darby"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13596,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1676472936,"creation_date":1605471211,"question_id":64849312,"body_markdown":"Following along a tutorial that sets up a eureka server. I follow all the steps but go to run it when it should work and it crashes with this error:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration&#39;: Unsatisfied dependency expressed through field &#39;eurekaServerBootstrap&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;eurekaServerBootstrap&#39; defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;eurekaServerBootstrap&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eurekaServerContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925) ~[spring-context-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-2.4.0.jar:2.4.0]\r\n    \tat com.photoapp.photoappdiscoveryservice.PhotoappdiscoveryserviceApplication.main(PhotoappdiscoveryserviceApplication.java:12) ~[classes/:na]\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;eurekaServerBootstrap&#39; defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;eurekaServerBootstrap&#39; parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eurekaServerContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \t... 20 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;eurekaServerContext&#39;: Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1780) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:609) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \t... 33 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \r\n    \tat com.netflix.eureka.cluster.PeerEurekaNodes.start(PeerEurekaNodes.java:106) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \tat com.netflix.eureka.DefaultEurekaServerContext.initialize(DefaultEurekaServerContext.java:67) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \tat org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.3.1.jar:5.3.1]\r\n    \t... 46 common frames omitted\r\n    Caused by: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \r\n    \tat com.netflix.eureka.transport.JerseyReplicationClient.createReplicationClient(JerseyReplicationClient.java:170) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \tat org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration$RefreshablePeerEurekaNodes.createPeerEurekaNode(EurekaServerAutoConfiguration.java:286) ~[spring-cloud-netflix-eureka-server-3.0.0-20201115.174246-1802.jar:3.0.0-SNAPSHOT]\r\n    \tat com.netflix.eureka.cluster.PeerEurekaNodes.updatePeerEurekaNodes(PeerEurekaNodes.java:189) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \tat com.netflix.eureka.cluster.PeerEurekaNodes.start(PeerEurekaNodes.java:87) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \t... 54 common frames omitted\r\n    Caused by: java.lang.NoClassDefFoundError: com/sun/jersey/client/apache4/config/DefaultApacheHttpClient4Config\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017) ~[na:na]\r\n    \tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    \tat com.netflix.discovery.shared.transport.jersey.EurekaJerseyClientImpl$EurekaJerseyClientBuilder.build(EurekaJerseyClientImpl.java:183) ~[eureka-client-1.10.7.jar:1.10.7]\r\n    \tat com.netflix.eureka.transport.JerseyReplicationClient.createReplicationClient(JerseyReplicationClient.java:168) ~[eureka-core-1.10.7.jar:1.10.7]\r\n    \t... 57 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.jersey.client.apache4.config.DefaultApacheHttpClient4Config\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    \t... 68 common frames omitted\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\nI looked up possible solutions including purging maven cache and this did not work.\r\n\r\nHere are my dependencies in my pom.xml:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nMain class:\r\n\r\n    package com.photoapp.photoappdiscoveryservice;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\r\n    \r\n    @EnableEurekaServer\r\n    @SpringBootApplication\r\n    public class PhotoappdiscoveryserviceApplication {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(PhotoappdiscoveryserviceApplication.class, args);\r\n        }\r\n    }\r\n\r\napplication.properties:\r\n\r\n```\r\nserver.port=8010\r\n\r\nspring.application.name=discoveryservice\r\n\r\neureka.client.registerWithEureka=false\r\neureka.client.fetchRegistry=false\r\neureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\r\n```        \r\n\r\nUpon researching the only reason I can see is it may have been a error dependency, any help to figure this out would be great thanks!","title":"Error setting up eureka server in spring boot","body":"<p>Following along a tutorial that sets up a eureka server. I follow all the steps but go to run it when it should work and it crashes with this error:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.cloud.netflix.eureka.server.EurekaServerInitializerConfiguration': Unsatisfied dependency expressed through field 'eurekaServerBootstrap'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eurekaServerBootstrap' defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method 'eurekaServerBootstrap' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eurekaServerContext': Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:643) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1415) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:608) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:925) ~[spring-context-5.3.1.jar:5.3.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:588) ~[spring-context-5.3.1.jar:5.3.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:144) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:767) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:426) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:326) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-2.4.0.jar:2.4.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-2.4.0.jar:2.4.0]\n    at com.photoapp.photoappdiscoveryservice.PhotoappdiscoveryserviceApplication.main(PhotoappdiscoveryserviceApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'eurekaServerBootstrap' defined in class path resource [org/springframework/cloud/netflix/eureka/server/EurekaServerAutoConfiguration.class]: Unsatisfied dependency expressed through method 'eurekaServerBootstrap' parameter 1; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eurekaServerContext': Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:798) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:539) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1336) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1179) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:571) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640) ~[spring-beans-5.3.1.jar:5.3.1]\n    ... 20 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'eurekaServerContext': Invocation of init method failed; nested exception is java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:160) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsBeforeInitialization(AbstractAutowireCapableBeanFactory.java:429) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1780) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:609) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:531) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1367) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1287) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:885) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:789) ~[spring-beans-5.3.1.jar:5.3.1]\n    ... 33 common frames omitted\nCaused by: java.lang.IllegalStateException: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \n    at com.netflix.eureka.cluster.PeerEurekaNodes.start(PeerEurekaNodes.java:106) ~[eureka-core-1.10.7.jar:1.10.7]\n    at com.netflix.eureka.DefaultEurekaServerContext.initialize(DefaultEurekaServerContext.java:67) ~[eureka-core-1.10.7.jar:1.10.7]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleElement.invoke(InitDestroyAnnotationBeanPostProcessor.java:389) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor$LifecycleMetadata.invokeInitMethods(InitDestroyAnnotationBeanPostProcessor.java:333) ~[spring-beans-5.3.1.jar:5.3.1]\n    at org.springframework.beans.factory.annotation.InitDestroyAnnotationBeanPostProcessor.postProcessBeforeInitialization(InitDestroyAnnotationBeanPostProcessor.java:157) ~[spring-beans-5.3.1.jar:5.3.1]\n    ... 46 common frames omitted\nCaused by: java.lang.RuntimeException: Cannot Create new Replica Node :JerseyReplicationClient: http://localhost:8010/eureka/apps/: \n    at com.netflix.eureka.transport.JerseyReplicationClient.createReplicationClient(JerseyReplicationClient.java:170) ~[eureka-core-1.10.7.jar:1.10.7]\n    at org.springframework.cloud.netflix.eureka.server.EurekaServerAutoConfiguration$RefreshablePeerEurekaNodes.createPeerEurekaNode(EurekaServerAutoConfiguration.java:286) ~[spring-cloud-netflix-eureka-server-3.0.0-20201115.174246-1802.jar:3.0.0-SNAPSHOT]\n    at com.netflix.eureka.cluster.PeerEurekaNodes.updatePeerEurekaNodes(PeerEurekaNodes.java:189) ~[eureka-core-1.10.7.jar:1.10.7]\n    at com.netflix.eureka.cluster.PeerEurekaNodes.start(PeerEurekaNodes.java:87) ~[eureka-core-1.10.7.jar:1.10.7]\n    ... 54 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: com/sun/jersey/client/apache4/config/DefaultApacheHttpClient4Config\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017) ~[na:na]\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621) ~[na:na]\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    at com.netflix.discovery.shared.transport.jersey.EurekaJerseyClientImpl$EurekaJerseyClientBuilder.build(EurekaJerseyClientImpl.java:183) ~[eureka-client-1.10.7.jar:1.10.7]\n    at com.netflix.eureka.transport.JerseyReplicationClient.createReplicationClient(JerseyReplicationClient.java:168) ~[eureka-core-1.10.7.jar:1.10.7]\n    ... 57 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.sun.jersey.client.apache4.config.DefaultApacheHttpClient4Config\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 68 common frames omitted\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I looked up possible solutions including purging maven cache and this did not work.</p>\n<p>Here are my dependencies in my pom.xml:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>Main class:</p>\n<pre><code>package com.photoapp.photoappdiscoveryservice;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.netflix.eureka.server.EnableEurekaServer;\n\n@EnableEurekaServer\n@SpringBootApplication\npublic class PhotoappdiscoveryserviceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(PhotoappdiscoveryserviceApplication.class, args);\n    }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>server.port=8010\n\nspring.application.name=discoveryservice\n\neureka.client.registerWithEureka=false\neureka.client.fetchRegistry=false\neureka.client.serviceUrl.defaultZone=http://localhost:8010/eureka\n</code></pre>\n<p>Upon researching the only reason I can see is it may have been a error dependency, any help to figure this out would be great thanks!</p>\n"},{"tags":["java","jenkins","keystore"],"owner":{"account_id":25896593,"reputation":1,"user_id":19623074,"display_name":"euph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676472763,"creation_date":1676472763,"question_id":75461574,"body_markdown":"I have Jenkins 2.332 and want to upgrade it to the latest stable version.\r\n\r\nBut new jenkins.war makes it impossible to start the service. Most likely because of: \r\nhttps://docs.cloudbees.com/docs/cloudbees-ci-kb/latest/client-and-managed-masters/deprecated-use-of-jetty-https-args -&gt;\r\n&quot;--httpsPrivateKey and --httpsCertificate flags have been removed in favor of the --httpsKeyStore flag&quot; \r\n\r\nIn order to fix it seems I need keystore configured: \r\nhttps://www.jenkins.io/doc/book/installing/initial-settings/#https-with-an-existing-certificate\r\n\r\n\r\n\r\n\r\n\r\n1. \r\n```\r\n`I followed steps 1,2,6,7,8, have new keystore. Now I can start Jenkins service but Jenkins website isn&#39;t private and page displays error:\r\n&quot;com.thoughtworks.xstream.mapper.CannotResolveClassException: hudson.security.ProjectMatrixAuthorizationStrategy\r\n\tat com.thoughtworks.xstream.mapper.DefaultMapper.realClass(DefaultMapper.java:81)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125)\r\n\tat com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass(DynamicProxyMapper.java:55)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125)\r\n(...)\r\nCaused: org.jvnet.hudson.reactor.ReactorException\r\n\tat org.jvnet.hudson.reactor.Reactor.execute(Reactor.java:290)\r\n\tat jenkins.InitReactorRunner.run(InitReactorRunner.java:49)\r\n\tat jenkins.model.Jenkins.executeReactor(Jenkins.java:1196)\r\n\tat jenkins.model.Jenkins.&lt;init&gt;(Jenkins.java:986)\r\n\tat hudson.model.Hudson.&lt;init&gt;(Hudson.java:86)\r\n\tat hudson.model.Hudson.&lt;init&gt;(Hudson.java:82)\r\n\tat hudson.WebAppMain$3.run(WebAppMain.java:247)\r\nCaused: hudson.util.HudsonFailedToLoad\r\n\tat hudson.WebAppMain$3.run(WebAppMain.java:264)&quot;`\r\n\r\n```\r\n\r\n\r\n2.\r\nThis line has been modified with keystore data that I have created in jenkins.xml:\r\n```\r\n`&lt;arguments&gt;-Xrs -Xmx4g -Dhttps.protocols=TLSv1.2 -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -Dhudson.model.Slave.workspaceRoot=wrk -jar &quot;%BASE%\\jenkins.war&quot; --httpPort=8080 --webroot=&quot;%BASE%\\war&quot; -Dhudson.model.DownloadService.noSignatureCheck=true --httpsPort=443 --httpsKeyStore=&quot;%BASE%\\secrets\\keystore&quot; --httpsKeyStorePassword=KeyStorePassword &lt;/arguments&gt;`\r\n```\r\n\r\nbefore in this &lt;arguments&gt; jenkins.\r\n\r\nxml line I had details of PEM and KEY\r\n\r\n3.\r\nNew key store is placed in C:\\Program Files (x86)\\Jenkins\\secrets as per instruction\r\n\r\nPEM and KEY are in C:\\Program Files (x86)\\Jenkins\\certificate\r\n***\r\n\r\nI need instruction how I can configure new keystore - I assume I need somehow to insert .CER/.PEM and .KEY into it as before Jenkins was using them in jenkins.xml\r\n\r\nI guess this might be something like this \r\n\r\n- keytool -import -alias *alias* -keystore cacerts -file &quot;C:\\Program Files (x86)\\Jenkins\\certificate\\secret.pem&quot;\r\n\r\nI would appreciate where to place what and what commands to use as my knowledge of java certificates is non-existent. \r\n\r\n\r\n\r\n\r\n\r\n","title":"Jenkins upgrade on Windows serwer with JDK 11. --httpsPrivateKey and --httpsCertificate flags CI instances after 2.361.* is are not supported","body":"<p>I have Jenkins 2.332 and want to upgrade it to the latest stable version.</p>\n<p>But new jenkins.war makes it impossible to start the service. Most likely because of:\n<a href=\"https://docs.cloudbees.com/docs/cloudbees-ci-kb/latest/client-and-managed-masters/deprecated-use-of-jetty-https-args\" rel=\"nofollow noreferrer\">https://docs.cloudbees.com/docs/cloudbees-ci-kb/latest/client-and-managed-masters/deprecated-use-of-jetty-https-args</a> -&gt;\n&quot;--httpsPrivateKey and --httpsCertificate flags have been removed in favor of the --httpsKeyStore flag&quot;</p>\n<p>In order to fix it seems I need keystore configured:\n<a href=\"https://www.jenkins.io/doc/book/installing/initial-settings/#https-with-an-existing-certificate\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/installing/initial-settings/#https-with-an-existing-certificate</a></p>\n<p>1.</p>\n<pre><code>`I followed steps 1,2,6,7,8, have new keystore. Now I can start Jenkins service but Jenkins website isn't private and page displays error:\n&quot;com.thoughtworks.xstream.mapper.CannotResolveClassException: hudson.security.ProjectMatrixAuthorizationStrategy\n    at com.thoughtworks.xstream.mapper.DefaultMapper.realClass(DefaultMapper.java:81)\n    at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125)\n    at com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass(DynamicProxyMapper.java:55)\n    at com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:125)\n(...)\nCaused: org.jvnet.hudson.reactor.ReactorException\n    at org.jvnet.hudson.reactor.Reactor.execute(Reactor.java:290)\n    at jenkins.InitReactorRunner.run(InitReactorRunner.java:49)\n    at jenkins.model.Jenkins.executeReactor(Jenkins.java:1196)\n    at jenkins.model.Jenkins.&lt;init&gt;(Jenkins.java:986)\n    at hudson.model.Hudson.&lt;init&gt;(Hudson.java:86)\n    at hudson.model.Hudson.&lt;init&gt;(Hudson.java:82)\n    at hudson.WebAppMain$3.run(WebAppMain.java:247)\nCaused: hudson.util.HudsonFailedToLoad\n    at hudson.WebAppMain$3.run(WebAppMain.java:264)&quot;`\n\n</code></pre>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p>This line has been modified with keystore data that I have created in jenkins.xml:</p>\n<pre><code>`&lt;arguments&gt;-Xrs -Xmx4g -Dhttps.protocols=TLSv1.2 -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -Dhudson.model.Slave.workspaceRoot=wrk -jar &quot;%BASE%\\jenkins.war&quot; --httpPort=8080 --webroot=&quot;%BASE%\\war&quot; -Dhudson.model.DownloadService.noSignatureCheck=true --httpsPort=443 --httpsKeyStore=&quot;%BASE%\\secrets\\keystore&quot; --httpsKeyStorePassword=KeyStorePassword &lt;/arguments&gt;`\n</code></pre>\n<p>before in this  jenkins.</p>\n<p>xml line I had details of PEM and KEY</p>\n<p>3.\nNew key store is placed in C:\\Program Files (x86)\\Jenkins\\secrets as per instruction</p>\n<p>PEM and KEY are in C:\\Program Files (x86)\\Jenkins\\certificate</p>\n<hr />\n<p>I need instruction how I can configure new keystore - I assume I need somehow to insert .CER/.PEM and .KEY into it as before Jenkins was using them in jenkins.xml</p>\n<p>I guess this might be something like this</p>\n<ul>\n<li>keytool -import -alias <em>alias</em> -keystore cacerts -file &quot;C:\\Program Files (x86)\\Jenkins\\certificate\\secret.pem&quot;</li>\n</ul>\n<p>I would appreciate where to place what and what commands to use as my knowledge of java certificates is non-existent.</p>\n"},{"tags":["java"],"owner":{"account_id":201157,"reputation":12723,"user_id":447426,"accept_rate":62,"display_name":"dermoritz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676472621,"creation_date":1676472621,"question_id":75461542,"body_markdown":"I created a CLI Java program that uses System.in and System.out and argument. It can &quot;add&quot; argument to System.in and write result to System.out. the Output of first rund can be fed into in put for 2nd run and so on.\r\nIn command line you can just pipe multiple calls.\r\n\r\nI am currently writing a unit test for this and try to avoid creating copies in byte[] of input and output. My problem is: It seems forbidden to connect more than 2 PipedInput/Output Stream together?:\r\n\r\nHere is current test:\r\n\r\n    @Test\r\n    void addDeviceToGivenFactoryJson() throws IOException {\r\n        // produce factory json\r\n        //we pipe the output directly into an input stream\r\n        PipedInputStream in = new PipedInputStream();\r\n        PipedOutputStream outPipe = new PipedOutputStream(in);\r\n        PrintStream out = new PrintStream(outPipe, true, StandardCharsets.UTF_8);\r\n        System.setOut(out);\r\n        //fills the pipe by running main in separate thread\r\n        // pipe contains factory json without device\r\n        new Thread(() -&gt; Main.main(new String[]{})).start();\r\n        // connect to std in\r\n        PipedInputStream in2 = new PipedInputStream(outPipe); // &lt;--- error here\r\n        System.setIn(in2);\r\n        new Thread(() -&gt; Main.main(new String[]{MainTest.class.getResource(&quot;/device.json&quot;).getPath()})).start();\r\n\r\n        ProductionData productionData = om.readValue(in2, ProductionData.class);\r\n        Device device = productionData.getProductionData().get(0).getDevices().get(0);\r\n        assertNotNull(device);\r\n    }\r\n\r\nRunning this i get ```java.io.IOException: Already connected``` in line where i create in2 with connection to outPipe.\r\n\r\nIs there a way to connect them or do i need to buffer it in byte[] or something similar?","title":"Java how chain multiple PipedInput/Output streams","body":"<p>I created a CLI Java program that uses System.in and System.out and argument. It can &quot;add&quot; argument to System.in and write result to System.out. the Output of first rund can be fed into in put for 2nd run and so on.\nIn command line you can just pipe multiple calls.</p>\n<p>I am currently writing a unit test for this and try to avoid creating copies in byte[] of input and output. My problem is: It seems forbidden to connect more than 2 PipedInput/Output Stream together?:</p>\n<p>Here is current test:</p>\n<pre><code>@Test\nvoid addDeviceToGivenFactoryJson() throws IOException {\n    // produce factory json\n    //we pipe the output directly into an input stream\n    PipedInputStream in = new PipedInputStream();\n    PipedOutputStream outPipe = new PipedOutputStream(in);\n    PrintStream out = new PrintStream(outPipe, true, StandardCharsets.UTF_8);\n    System.setOut(out);\n    //fills the pipe by running main in separate thread\n    // pipe contains factory json without device\n    new Thread(() -&gt; Main.main(new String[]{})).start();\n    // connect to std in\n    PipedInputStream in2 = new PipedInputStream(outPipe); // &lt;--- error here\n    System.setIn(in2);\n    new Thread(() -&gt; Main.main(new String[]{MainTest.class.getResource(&quot;/device.json&quot;).getPath()})).start();\n\n    ProductionData productionData = om.readValue(in2, ProductionData.class);\n    Device device = productionData.getProductionData().get(0).getDevices().get(0);\n    assertNotNull(device);\n}\n</code></pre>\n<p>Running this i get <code>java.io.IOException: Already connected</code> in line where i create in2 with connection to outPipe.</p>\n<p>Is there a way to connect them or do i need to buffer it in byte[] or something similar?</p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1676469352,"post_id":75458978,"comment_id":133142538,"body_markdown":"In `onCreateViewHolder()`, you need to pass the `parent` parameter in the `inflate()` call, instead of `null`: `CancelAdapterBinding.inflate(LayoutInflater.from(parent.context), parent, false)`.","body":"In <code>onCreateViewHolder()</code>, you need to pass the <code>parent</code> parameter in the <code>inflate()</code> call, instead of <code>null</code>: <code>CancelAdapterBinding.inflate(LayoutInflater.from(parent.cont&zwnj;&#8203;ext), parent, false)</code>."}],"answers":[{"tags":[],"owner":{"account_id":10780313,"reputation":192,"user_id":7931023,"display_name":"Ashfaque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676461845,"creation_date":1676461845,"answer_id":75459393,"question_id":75458978,"body_markdown":"   *android:layout_width=&quot;match_parent&quot;*\r\n\r\n     &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/tvReasonText&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/space_grotesk_bold&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/cancel_booking&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;","title":"Recyclerview view width is not aligned","body":"<p><em>android:layout_width=&quot;match_parent&quot;</em></p>\n<pre><code> &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/tvReasonText&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/space_grotesk_bold&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/cancel_booking&quot;\n            android:textSize=&quot;14sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18696867,"reputation":860,"user_id":13629974,"display_name":"&#214;mer Seyfettin Yavuzyiğit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676472516,"creation_date":1676472516,"answer_id":75461524,"question_id":75458978,"body_markdown":"\r\nWith this code you can maximize the width.\r\n&gt;android:layout_width=&quot;match_parent&quot;\r\nor\r\n&gt;android:layout_width=&quot;0dp&quot;\r\n\r\n\r\nthis code will help you to center the text\r\n\r\n&gt;android:textAlignment=&quot;center&quot;\r\n\r\n\r\n    &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/tvReasonText&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textAlignment=&quot;center&quot;\r\n                android:fontFamily=&quot;@font/space_grotesk_bold&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/cancel_booking&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;","title":"Recyclerview view width is not aligned","body":"<p>With this code you can maximize the width.</p>\n<blockquote>\n<p>android:layout_width=&quot;match_parent&quot;\nor\nandroid:layout_width=&quot;0dp&quot;</p>\n</blockquote>\n<p>this code will help you to center the text</p>\n<blockquote>\n<p>android:textAlignment=&quot;center&quot;</p>\n</blockquote>\n<pre><code>&lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/tvReasonText&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:textAlignment=&quot;center&quot;\n            android:fontFamily=&quot;@font/space_grotesk_bold&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/cancel_booking&quot;\n            android:textSize=&quot;14sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":26279773,"reputation":31,"user_id":19948408,"display_name":"Lovish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676472516,"creation_date":1676459768,"question_id":75458978,"body_markdown":"I am working on the recycler view, but I face one problem: the item alignment is not correct. How can I solve this problem?\r\n\r\nI need the items to match the parent&#39;s width.\r\n\r\n### What I want\r\n\r\n![Image](https://www.linkpicture.com/q/Screenshot-2023-02-15-162119.png)\r\n\r\n### Problem\r\n\r\n![Image](https://www.linkpicture.com/q/screenshot-1676458397566.png)\r\n\r\nCode :-\r\nAdapter -\r\nclass CancelBookingAdapter(\r\n    val data: List&lt;CancelReasonsResponse.Data&gt;,\r\n    val callBack: CancelBookingCallBack\r\n) : RecyclerView.Adapter&lt;CancelBookingAdapter.ViewHolder&gt;() {\r\n\r\n    var selectedPosition = -1\r\n    var comments = &quot;&quot;\r\n\r\n    class ViewHolder(val binding: CancelAdapterBinding) : RecyclerView.ViewHolder(binding.root)\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\r\n        val binding = CancelAdapterBinding.inflate(LayoutInflater.from(parent.context),null,false)\r\n        val lp = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT)\r\n        return ViewHolder(binding)\r\n    }\r\n    enter code here\r\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\r\n        holder.binding.apply {\r\n            tvReasonText.text = data[position].title\r\n\r\n            if (selectedPosition == -1) {\r\n                comments = &quot;&quot;\r\n            }else {\r\n                comments = data[position].title\r\n            }\r\n\r\n            if (selectedPosition == position) {\r\n                llReason.setBackgroundResource(R.drawable.selected_box)\r\n            }else {\r\n                llReason.setBackgroundResource(R.drawable.cancel_outline)\r\n            }\r\n\r\n            llReason.setOnClickListener {\r\n                selectedPosition = holder.adapterPosition\r\n                callBack.onClickCheckBox(data[position].id, comments)\r\n                selectedPosition = position\r\n                notifyDataSetChanged()\r\n            }\r\n        }\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n        return data.size\r\n    }\r\n}\r\n\r\ninterface CancelBookingCallBack {\r\n    fun onClickCheckBox(reasonId: Int, comment: String)\r\n}\r\n\r\n\r\nItem XML -\r\n\r\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;androidx.appcompat.widget.LinearLayoutCompat\r\n            android:id=&quot;@+id/llReason&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:padding=&quot;@dimen/_12sdp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:background=&quot;@drawable/cancel_outline&quot;\r\n            android:layout_marginBottom=&quot;@dimen/_12sdp&quot;&gt;\r\n\r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:id=&quot;@+id/tvReasonText&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:fontFamily=&quot;@font/space_grotesk_bold&quot;\r\n                android:gravity=&quot;center&quot;\r\n                android:text=&quot;@string/cancel_booking&quot;\r\n                android:textSize=&quot;14sp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\r\n\r\n\r\n\r\n","title":"Recyclerview view width is not aligned","body":"<p>I am working on the recycler view, but I face one problem: the item alignment is not correct. How can I solve this problem?</p>\n<p>I need the items to match the parent's width.</p>\n<h3>What I want</h3>\n<p><img src=\"https://www.linkpicture.com/q/Screenshot-2023-02-15-162119.png\" alt=\"Image\" /></p>\n<h3>Problem</h3>\n<p><img src=\"https://www.linkpicture.com/q/screenshot-1676458397566.png\" alt=\"Image\" /></p>\n<p>Code :-\nAdapter -\nclass CancelBookingAdapter(\nval data: List&lt;CancelReasonsResponse.Data&gt;,\nval callBack: CancelBookingCallBack\n) : RecyclerView.Adapter&lt;CancelBookingAdapter.ViewHolder&gt;() {</p>\n<pre><code>var selectedPosition = -1\nvar comments = &quot;&quot;\n\nclass ViewHolder(val binding: CancelAdapterBinding) : RecyclerView.ViewHolder(binding.root)\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val binding = CancelAdapterBinding.inflate(LayoutInflater.from(parent.context),null,false)\n    val lp = RecyclerView.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT)\n    return ViewHolder(binding)\n}\nenter code here\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.binding.apply {\n        tvReasonText.text = data[position].title\n\n        if (selectedPosition == -1) {\n            comments = &quot;&quot;\n        }else {\n            comments = data[position].title\n        }\n\n        if (selectedPosition == position) {\n            llReason.setBackgroundResource(R.drawable.selected_box)\n        }else {\n            llReason.setBackgroundResource(R.drawable.cancel_outline)\n        }\n\n        llReason.setOnClickListener {\n            selectedPosition = holder.adapterPosition\n            callBack.onClickCheckBox(data[position].id, comments)\n            selectedPosition = position\n            notifyDataSetChanged()\n        }\n    }\n}\n\noverride fun getItemCount(): Int {\n    return data.size\n}\n</code></pre>\n<p>}</p>\n<p>interface CancelBookingCallBack {\nfun onClickCheckBox(reasonId: Int, comment: String)\n}</p>\n<p>Item XML -</p>\n<pre><code>&lt;androidx.appcompat.widget.LinearLayoutCompat\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.appcompat.widget.LinearLayoutCompat\n        android:id=&quot;@+id/llReason&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:padding=&quot;@dimen/_12sdp&quot;\n        android:gravity=&quot;center&quot;\n        android:background=&quot;@drawable/cancel_outline&quot;\n        android:layout_marginBottom=&quot;@dimen/_12sdp&quot;&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=&quot;@+id/tvReasonText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:fontFamily=&quot;@font/space_grotesk_bold&quot;\n            android:gravity=&quot;center&quot;\n            android:text=&quot;@string/cancel_booking&quot;\n            android:textSize=&quot;14sp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n\n&lt;/androidx.appcompat.widget.LinearLayoutCompat&gt;\n</code></pre>\n"},{"tags":["java","spring-data-jpa","audit","byte-code-enhancement"],"owner":{"account_id":3729190,"reputation":21,"user_id":5024510,"display_name":"Jean-Fran&#231;ois Legendre"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676472399,"creation_date":1676472110,"question_id":75461415,"body_markdown":"I have a Spring Data JPA project where the Bytecode Enhancement has been activated in the pom.xml\r\n\r\n```\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;5.6.14.Final&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;configuration&gt;\r\n              &lt;failOnError&gt;true&lt;/failOnError&gt;\r\n              &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\r\n              &lt;enableDirtyTracking&gt;true&lt;/enableDirtyTracking&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;**enhance**&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n```\r\n\r\nOn top of that, I have also setup the Spring Audit mecanism. In order to do that, I have an abstract objet called `Auditable`:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@MappedSuperclass\r\n@EntityListeners({AuditingEntityListener.class})\r\npublic abstract class Auditable {\r\n\r\n  @CreatedBy\r\n  @Column(name = &quot;created_by&quot;, length = 255, updatable = false)\r\n  protected String createdBy;\r\n\r\n  @CreatedDate\r\n  @Column(\r\n      name = &quot;created_date&quot;,\r\n      columnDefinition = &quot;timestamp default &#39;2021-06-10 20:47:05.967394&#39;&quot;,\r\n      updatable = false)\r\n  @Temporal(TemporalType.TIMESTAMP)\r\n  protected Date createdDate;\r\n\r\n  @LastModifiedBy\r\n  @Column(name = &quot;modified_by&quot;, length = 255)\r\n  protected String modifiedBy;\r\n\r\n  @LastModifiedDate\r\n  @Temporal(TemporalType.TIMESTAMP)\r\n  @Column(\r\n      name = &quot;modified_date&quot;,\r\n      columnDefinition = &quot;timestamp default &#39;2021-06-10 20:47:05.967394&#39;&quot;)\r\n  protected Date modifiedDate;\r\n \r\n}\r\n```\r\n\r\nI have also a class that extends the `Auditable` object:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;dashboard&quot;)\r\n@NamedQuery(name = &quot;Dashboard.findAll&quot;, query = &quot;SELECT d FROM Dashboard d&quot;)\r\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\r\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\n@Data\r\npublic class Dashboard extends Auditable implements Serializable {\r\n \r\n  ...\r\n}\r\n```\r\n\r\n\r\nNow, in order to activate the Audit mecanism in my project, I have a class `AuditorAwareImpl `\r\n\r\n```\r\npublic class AuditorAwareImpl implements AuditorAware&lt;String&gt; {\r\n\r\n  @Override\r\n  public Optional&lt;String&gt; getCurrentAuditor() {\r\n    var auth = SecurityContextHolder.getContext().getAuthentication();\r\n    var retVal = Optional.of(&quot;&quot;);\r\n    if (auth instanceof AnonymousAuthenticationToken) {\r\n      retVal = retVal.of(&quot;anonymous&quot;);\r\n    } else if (auth instanceof OAuth2AuthenticationToken) {\r\n      retVal = retVal.of(((DefaultOidcUser) auth.getPrincipal()).getPreferredUsername());\r\n    } else {\r\n      retVal = retVal.of(((HydrowebUserDetails) auth.getPrincipal()).getName());\r\n    }\r\n    return retVal;\r\n  }\r\n}\r\n```\r\n\r\nAnd a bean of that class loaded in a `@Configuration` class:\r\n```\r\n  @Bean\r\n  AuditorAware&lt;String&gt; auditorProvider() {\r\n    return new AuditorAwareImpl();\r\n  }\r\n```\r\n\r\n---\r\n\r\nNow the problem is that I can see the `created_by` and `created_date` fields updated in the database when I create a new data into the `Dashboard` table. On the other hand there is no way to make both fields `modified_date` and `modified_by` to be updated when I modify a dashboard entity (nothig is updated/reflected into the Dashboard table).\r\n\r\nThe exciting point is that if I get rid off the Bytecode Enhancement, then I can make it works properly. All fields are updated as it should be (when creating an entity create fields are updated and when I editing an entity, update fields are also updated properly)...\r\n\r\nSo it seems that the Bytecode Enhancement interfere in some way with the Audit mecanism, but only for the modifying (_by and _date) columns.\r\nWith or without bytecode enhancement, the create fields (_by and _date) are alwayds updated.\r\n\r\n---\r\n\r\nIs there a way to properly configure and make both concepts work together (bytecode enhancement and spring JPA Auditing)?  \r\nHave you already enconter this problem and if it the case, did you find an elegant way to make it works properly.\r\nOr it is simply a bug?\r\n\r\n\r\n----------\r\n\r\n\r\nFrom that point, I have found a `workaround` that works well when both concept are installed (bytecode enhancement and Auditing). We added the following method within the `Auditable` class:\r\n```\r\n\r\n  @PreUpdate\r\n  void preUpdate(){\r\n    var tempModifiedBy = this.modifiedBy;\r\n    this.setModifiedBy(null);\r\n    this.setModifiedBy(tempModifiedBy);\r\n  }\r\n```\r\nDoing this seems to &quot;stimulate&quot; the auditing mecanism (when updating an JPA entity). And then both fields are updated with success within the audited table (modified_by and modified_date).","title":"Activating the data JPA Bytecode Enhancement seems to interfere with Spring JPA Auditing mecanism","body":"<p>I have a Spring Data JPA project where the Bytecode Enhancement has been activated in the pom.xml</p>\n<pre><code>\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.hibernate.orm.tooling&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-enhance-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;5.6.14.Final&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;configuration&gt;\n              &lt;failOnError&gt;true&lt;/failOnError&gt;\n              &lt;enableLazyInitialization&gt;true&lt;/enableLazyInitialization&gt;\n              &lt;enableDirtyTracking&gt;true&lt;/enableDirtyTracking&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;**enhance**&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n</code></pre>\n<p>On top of that, I have also setup the Spring Audit mecanism. In order to do that, I have an abstract objet called <code>Auditable</code>:</p>\n<pre><code>@Getter\n@Setter\n@MappedSuperclass\n@EntityListeners({AuditingEntityListener.class})\npublic abstract class Auditable {\n\n  @CreatedBy\n  @Column(name = &quot;created_by&quot;, length = 255, updatable = false)\n  protected String createdBy;\n\n  @CreatedDate\n  @Column(\n      name = &quot;created_date&quot;,\n      columnDefinition = &quot;timestamp default '2021-06-10 20:47:05.967394'&quot;,\n      updatable = false)\n  @Temporal(TemporalType.TIMESTAMP)\n  protected Date createdDate;\n\n  @LastModifiedBy\n  @Column(name = &quot;modified_by&quot;, length = 255)\n  protected String modifiedBy;\n\n  @LastModifiedDate\n  @Temporal(TemporalType.TIMESTAMP)\n  @Column(\n      name = &quot;modified_date&quot;,\n      columnDefinition = &quot;timestamp default '2021-06-10 20:47:05.967394'&quot;)\n  protected Date modifiedDate;\n \n}\n</code></pre>\n<p>I have also a class that extends the <code>Auditable</code> object:</p>\n<pre><code>@Entity\n@Table(name = &quot;dashboard&quot;)\n@NamedQuery(name = &quot;Dashboard.findAll&quot;, query = &quot;SELECT d FROM Dashboard d&quot;)\n@TypeDef(name = &quot;jsonb&quot;, typeClass = JsonBinaryType.class)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\n@Data\npublic class Dashboard extends Auditable implements Serializable {\n \n  ...\n}\n</code></pre>\n<p>Now, in order to activate the Audit mecanism in my project, I have a class <code>AuditorAwareImpl </code></p>\n<pre><code>public class AuditorAwareImpl implements AuditorAware&lt;String&gt; {\n\n  @Override\n  public Optional&lt;String&gt; getCurrentAuditor() {\n    var auth = SecurityContextHolder.getContext().getAuthentication();\n    var retVal = Optional.of(&quot;&quot;);\n    if (auth instanceof AnonymousAuthenticationToken) {\n      retVal = retVal.of(&quot;anonymous&quot;);\n    } else if (auth instanceof OAuth2AuthenticationToken) {\n      retVal = retVal.of(((DefaultOidcUser) auth.getPrincipal()).getPreferredUsername());\n    } else {\n      retVal = retVal.of(((HydrowebUserDetails) auth.getPrincipal()).getName());\n    }\n    return retVal;\n  }\n}\n</code></pre>\n<p>And a bean of that class loaded in a <code>@Configuration</code> class:</p>\n<pre><code>  @Bean\n  AuditorAware&lt;String&gt; auditorProvider() {\n    return new AuditorAwareImpl();\n  }\n</code></pre>\n<hr />\n<p>Now the problem is that I can see the <code>created_by</code> and <code>created_date</code> fields updated in the database when I create a new data into the <code>Dashboard</code> table. On the other hand there is no way to make both fields <code>modified_date</code> and <code>modified_by</code> to be updated when I modify a dashboard entity (nothig is updated/reflected into the Dashboard table).</p>\n<p>The exciting point is that if I get rid off the Bytecode Enhancement, then I can make it works properly. All fields are updated as it should be (when creating an entity create fields are updated and when I editing an entity, update fields are also updated properly)...</p>\n<p>So it seems that the Bytecode Enhancement interfere in some way with the Audit mecanism, but only for the modifying (_by and _date) columns.\nWith or without bytecode enhancement, the create fields (_by and _date) are alwayds updated.</p>\n<hr />\n<p>Is there a way to properly configure and make both concepts work together (bytecode enhancement and spring JPA Auditing)?<br />\nHave you already enconter this problem and if it the case, did you find an elegant way to make it works properly.\nOr it is simply a bug?</p>\n<hr />\n<p>From that point, I have found a <code>workaround</code> that works well when both concept are installed (bytecode enhancement and Auditing). We added the following method within the <code>Auditable</code> class:</p>\n<pre><code>\n  @PreUpdate\n  void preUpdate(){\n    var tempModifiedBy = this.modifiedBy;\n    this.setModifiedBy(null);\n    this.setModifiedBy(tempModifiedBy);\n  }\n</code></pre>\n<p>Doing this seems to &quot;stimulate&quot; the auditing mecanism (when updating an JPA entity). And then both fields are updated with success within the audited table (modified_by and modified_date).</p>\n"},{"tags":["java","android","logcat","android-logcat"],"comments":[{"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"score":0,"creation_date":1345707268,"post_id":12086536,"comment_id":16149228,"body_markdown":"What about standart logging framerworks? ( log4j , slf4j, commons-logging ,  vanilla javaq logging... )","body":"What about standart logging framerworks? ( log4j , slf4j, commons-logging ,  vanilla javaq logging... )"},{"owner":{"account_id":242097,"reputation":6263,"user_id":513393,"accept_rate":81,"display_name":"Skip"},"score":0,"creation_date":1345709909,"post_id":12086536,"comment_id":16150175,"body_markdown":"I would like to group my log-output by themes. Each group should be displayed separately, as LogCat does, by displaying them in separate tabs. As far as i know - none of standard frameworks can this.","body":"I would like to group my log-output by themes. Each group should be displayed separately, as LogCat does, by displaying them in separate tabs. As far as i know - none of standard frameworks can this."},{"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"score":0,"creation_date":1345726853,"post_id":12086536,"comment_id":16157809,"body_markdown":"you need just log framework in your application (there is a ton of them) and almost every one of them is configurable  so you can influence where log message goes.  It seems that you mix up your application and IDE where you are developing it.","body":"you need just log framework in your application (there is a ton of them) and almost every one of them is configurable  so you can influence where log message goes.  It seems that you mix up your application and IDE where you are developing it."}],"answers":[{"tags":[],"owner":{"account_id":1549627,"reputation":4287,"user_id":1442340,"display_name":"Adam Monos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1345707057,"creation_date":1345707057,"answer_id":12086788,"question_id":12086536,"body_markdown":"No. Logcat is formatting the output of the ADB (the Android Debug Bridge). Since you can&#39;t connect the ADB to plain java projects, there is no way for you to use Logcat in such a fashion.\r\n\r\nUnless ofcourse you get the Android Eclipse plugin&#39;s source code and modify it to your needs.","title":"How to use Android&#39;s LogCat within a Java project?","body":"<p>No. Logcat is formatting the output of the ADB (the Android Debug Bridge). Since you can't connect the ADB to plain java projects, there is no way for you to use Logcat in such a fashion.</p>\n\n<p>Unless ofcourse you get the Android Eclipse plugin's source code and modify it to your needs.</p>\n"},{"tags":[],"owner":{"account_id":320329,"reputation":1080,"user_id":638549,"display_name":"andreasg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345707247,"creation_date":1345707247,"answer_id":12086835,"question_id":12086536,"body_markdown":"I think what you want to use is something like [log4j][1] or [tinylog][2]\r\n\r\n\r\n  [1]: http://logging.apache.org/log4j\r\n  [2]: http://www.tinylog.org/","title":"How to use Android&#39;s LogCat within a Java project?","body":"<p>I think what you want to use is something like <a href=\"http://logging.apache.org/log4j\" rel=\"nofollow\">log4j</a> or <a href=\"http://www.tinylog.org/\" rel=\"nofollow\">tinylog</a></p>\n"}],"owner":{"account_id":242097,"reputation":6263,"user_id":513393,"accept_rate":81,"display_name":"Skip"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":12086788,"answer_count":2,"score":0,"last_activity_date":1676471994,"creation_date":1345706074,"question_id":12086536,"body_markdown":"I have a Java Project, where i would like to use Android LogCat&#39;s debug-tagging functionality.\r\n\r\nIs it somehow possible for Java projects? (not Android, but pure Java)\r\n\r\n**EDIT:**\r\n\r\nAs stated below, it is not possible.\r\nIs there any alternative for Java?","title":"How to use Android&#39;s LogCat within a Java project?","body":"<p>I have a Java Project, where i would like to use Android LogCat's debug-tagging functionality.</p>\n\n<p>Is it somehow possible for Java projects? (not Android, but pure Java)</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>As stated below, it is not possible.\nIs there any alternative for Java?</p>\n"},{"tags":["java","tomcat","tomcat9"],"owner":{"account_id":25190326,"reputation":3,"user_id":19030588,"display_name":"Simon Felder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676471958,"creation_date":1676469314,"question_id":75460865,"body_markdown":"A penetration test generated a large number of sessions in a short time.\r\nIf a lot of sessions have to be deleted, the CPU load increases to 100% (Tomcat uses over 95% of this) and the started apps react slowly.\r\nRegardless of whether it is started manually or by the timeout.\r\n\r\nWe have reduced the session timeout so that not so many sessions have to be deleted at the same time.\r\nCPU cores have also been increased\r\n\r\nIs there a way to reduce CPU usage when deleting sessions?","title":"Tomcat 9 high CPU usage when deleting sessions","body":"<p>A penetration test generated a large number of sessions in a short time.\nIf a lot of sessions have to be deleted, the CPU load increases to 100% (Tomcat uses over 95% of this) and the started apps react slowly.\nRegardless of whether it is started manually or by the timeout.</p>\n<p>We have reduced the session timeout so that not so many sessions have to be deleted at the same time.\nCPU cores have also been increased</p>\n<p>Is there a way to reduce CPU usage when deleting sessions?</p>\n"},{"tags":["java","mysql","spring","spring-boot","jpa"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676329790,"creation_date":1676329445,"answer_id":75441997,"question_id":75441935,"body_markdown":"If your JPA query is working, and you are just asking about performance, you may add the following index:\r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    CREATE INDEX idx ON community_profiles(community_id);\r\n\r\nThis index should allow MySQL to filter off records which are not part of the result set.\r\n\r\nFrom JPA itself you may use:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Table(indexes = @Index(name = &quot;idx&quot;, columnList = &quot;community_id&quot;))\r\n    public class CommunityProfile {\r\n        // ...\r\n    }","title":"Spring Boot JPA Native Query Object Mapping","body":"<p>If your JPA query is working, and you are just asking about performance, you may add the following index:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE INDEX idx ON community_profiles(community_id);\n</code></pre>\n<p>This index should allow MySQL to filter off records which are not part of the result set.</p>\n<p>From JPA itself you may use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Table(indexes = @Index(name = &quot;idx&quot;, columnList = &quot;community_id&quot;))\npublic class CommunityProfile {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23257203,"reputation":49,"user_id":17344072,"display_name":"M. Muhammadsodiq"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676360620,"creation_date":1676360620,"answer_id":75444729,"question_id":75441935,"body_markdown":"Have you tried ***EntityManager***\r\n\r\n    \r\n\r\n     \r\n\r\n           @PersistenceContext(type = PersistenceContextType.TRANSACTION)\r\n                 private EntityManager entityManager;\r\n    \r\n                List&lt;CommunityProfile&gt; findByCommunityIdWithJoin(Integer communityId){\r\n                  String query = &quot;&quot;SELECT cp FROM CommunityProfile cp &quot; +\r\n                        &quot;LEFT JOIN FETCH cp.player u &quot; +\r\n                        &quot;LEFT JOIN FETCH cp.rank r &quot; +\r\n                        &quot;WHERE cp.communityId = :communityId&quot;\r\n                List&lt;CommunityProfile&gt; list = entityManager.createNativeQuery(query, CommunityProfile.class)\r\n                                .setParameter(&quot;communityId&quot;,communityId)\r\n                                .getResultList();\r\n               entityManager.clear();\r\n               return list\r\n            }\r\nOnce I used this kind of native query inside loop and it constantly returned cash values bu *entityManagaer.clear()* clears cash. This is for info only)\r\n\r\nOr create an [Index][1] on specific columns when you are defining entity classes like: \r\n\r\n\r\n      @Table(indexes = {\r\n      @Index(columnList = &quot;firstName&quot;),\r\n      @Index(name = &quot;fn_index&quot;, columnList = &quot;firstName&quot;),\r\n      @Index(name = &quot;mulitIndex1&quot;, columnList = &quot;firstName, lastName&quot;)\r\n      ...\r\n    }\r\nFor Non-entity @Index you can check [documentation][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/jpa-indexes\r\n  [2]: https://javaee.github.io/javaee-spec/javadocs/javax/persistence/package-summary.html","title":"Spring Boot JPA Native Query Object Mapping","body":"<p>Have you tried <em><strong>EntityManager</strong></em></p>\n<pre><code>       @PersistenceContext(type = PersistenceContextType.TRANSACTION)\n             private EntityManager entityManager;\n\n            List&lt;CommunityProfile&gt; findByCommunityIdWithJoin(Integer communityId){\n              String query = &quot;&quot;SELECT cp FROM CommunityProfile cp &quot; +\n                    &quot;LEFT JOIN FETCH cp.player u &quot; +\n                    &quot;LEFT JOIN FETCH cp.rank r &quot; +\n                    &quot;WHERE cp.communityId = :communityId&quot;\n            List&lt;CommunityProfile&gt; list = entityManager.createNativeQuery(query, CommunityProfile.class)\n                            .setParameter(&quot;communityId&quot;,communityId)\n                            .getResultList();\n           entityManager.clear();\n           return list\n        }\n</code></pre>\n<p>Once I used this kind of native query inside loop and it constantly returned cash values bu <em>entityManagaer.clear()</em> clears cash. This is for info only)</p>\n<p>Or create an <a href=\"https://www.baeldung.com/jpa-indexes\" rel=\"nofollow noreferrer\">Index</a> on specific columns when you are defining entity classes like:</p>\n<pre><code>  @Table(indexes = {\n  @Index(columnList = &quot;firstName&quot;),\n  @Index(name = &quot;fn_index&quot;, columnList = &quot;firstName&quot;),\n  @Index(name = &quot;mulitIndex1&quot;, columnList = &quot;firstName, lastName&quot;)\n  ...\n}\n</code></pre>\n<p>For Non-entity @Index you can check <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/package-summary.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}],"owner":{"account_id":13975330,"reputation":149,"user_id":10092887,"display_name":"Flinty926"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":296,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676471883,"creation_date":1676328823,"question_id":75441935,"body_markdown":"I have a Model called CommunityProfile. This model contains two child relationships; player (type User), and rank (type Rank). \r\n\r\nThe default spring boot JPA-generated query is taking approximately 9s to fetch 200 records, which is rather slow. By using the following MySQL query, I can return the data I need rather quickly: \r\n```SQL\r\nSELECT cp.*, r.*, u.* FROM community_profiles cp\r\nLEFT JOIN users u ON cp.player_id = u.id\r\nLEFT JOIN ranks r ON cp.rank_id = r.id \r\nWHERE cp.community_id = 1\r\n```\r\nHow can I make my repository map the results to their correct Objects/Models?\r\n\r\nI have tried using a non-native query, like this:\r\n```java\r\n    @Query(&quot;SELECT cp FROM CommunityProfile cp &quot; +\r\n            &quot;LEFT JOIN FETCH cp.player u &quot; +\r\n            &quot;LEFT JOIN FETCH cp.rank r &quot; +\r\n            &quot;WHERE cp.communityId = :communityId&quot;)\r\n    List&lt;CommunityProfile&gt; findByCommunityIdWithJoin(@Param(&quot;communityId&quot;) Integer communityId);\r\n```\r\nHowever, this is still quite slow in comparison, resulting in an 800-900ms response. For comparison, my current Laravel application can return the same data in a 400-ms cold start.\r\n\r\nAny tips are appreciated, thank you\r\n\r\n==UPDATE==\r\n\r\nAfter trying the suggested @Index annotation, I still don&#39;t really see any performance gains. Did I implement correctly?\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;community_profiles&quot;, indexes = @Index(name = &quot;cp_ci_idx&quot;, columnList = &quot;community_id&quot;))\r\npublic class CommunityProfile {\r\n\r\n```","title":"Spring Boot JPA Native Query Object Mapping","body":"<p>I have a Model called CommunityProfile. This model contains two child relationships; player (type User), and rank (type Rank).</p>\n<p>The default spring boot JPA-generated query is taking approximately 9s to fetch 200 records, which is rather slow. By using the following MySQL query, I can return the data I need rather quickly:</p>\n<pre><code>SELECT cp.*, r.*, u.* FROM community_profiles cp\nLEFT JOIN users u ON cp.player_id = u.id\nLEFT JOIN ranks r ON cp.rank_id = r.id \nWHERE cp.community_id = 1\n</code></pre>\n<p>How can I make my repository map the results to their correct Objects/Models?</p>\n<p>I have tried using a non-native query, like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Query(&quot;SELECT cp FROM CommunityProfile cp &quot; +\n            &quot;LEFT JOIN FETCH cp.player u &quot; +\n            &quot;LEFT JOIN FETCH cp.rank r &quot; +\n            &quot;WHERE cp.communityId = :communityId&quot;)\n    List&lt;CommunityProfile&gt; findByCommunityIdWithJoin(@Param(&quot;communityId&quot;) Integer communityId);\n</code></pre>\n<p>However, this is still quite slow in comparison, resulting in an 800-900ms response. For comparison, my current Laravel application can return the same data in a 400-ms cold start.</p>\n<p>Any tips are appreciated, thank you</p>\n<p>==UPDATE==</p>\n<p>After trying the suggested @Index annotation, I still don't really see any performance gains. Did I implement correctly?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;community_profiles&quot;, indexes = @Index(name = &quot;cp_ci_idx&quot;, columnList = &quot;community_id&quot;))\npublic class CommunityProfile {\n\n</code></pre>\n"},{"tags":["java","linux","spring-boot"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1594216915,"post_id":62796545,"comment_id":111049543,"body_markdown":"Does this answer your question? [Spring boot : Unable to load cache item: javax/servlet/Filter](https://stackoverflow.com/questions/54296264/spring-boot-unable-to-load-cache-item-javax-servlet-filter)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/54296264/spring-boot-unable-to-load-cache-item-javax-servlet-filter\">Spring boot : Unable to load cache item: javax/servlet/Filter</a>"},{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":0,"creation_date":1594223943,"post_id":62796545,"comment_id":111053334,"body_markdown":"Please remove `spring-core` maven dependency and try.","body":"Please remove <code>spring-core</code> maven dependency and try."},{"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"score":0,"creation_date":1594275311,"post_id":62796545,"comment_id":111069856,"body_markdown":"@Amitkumar we don&#39;t have that dependency. We use Spring Boot.","body":"@Amitkumar we don&#39;t have that dependency. We use Spring Boot."},{"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"score":0,"creation_date":1594275436,"post_id":62796545,"comment_id":111069896,"body_markdown":"@silentsudo no. The exception stack trace is different from ours. Also we don&#39;t have the `spring-core` dependency in our `pom.xml` since it comes from the `spring-boot-starter-parent` dependency.","body":"@silentsudo no. The exception stack trace is different from ours. Also we don&#39;t have the <code>spring-core</code> dependency in our <code>pom.xml</code> since it comes from the <code>spring-boot-starter-parent</code> dependency."},{"owner":{"account_id":5749769,"reputation":2331,"user_id":4539838,"display_name":"Amit kumar"},"score":1,"creation_date":1594275749,"post_id":62796545,"comment_id":111070000,"body_markdown":"@BoškoBezik : Could you please share your `pom.xml` ?","body":"@BoškoBezik : Could you please share your <code>pom.xml</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":7413886,"reputation":19,"user_id":5640403,"display_name":"exe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1594276864,"creation_date":1594276864,"answer_id":62808929,"question_id":62796545,"body_markdown":"Am not sure, but i think the problem caused by `spring-core` dependency. Can you try to remove `spring-core` dependency from pom.xml file and try to run it again. ","title":"Java (Spring Boot) - IllegalStateException: Unable to load cache item","body":"<p>Am not sure, but i think the problem caused by <code>spring-core</code> dependency. Can you try to remove <code>spring-core</code> dependency from pom.xml file and try to run it again.</p>\n"},{"tags":[],"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1594299171,"creation_date":1594278398,"answer_id":62809287,"question_id":62796545,"body_markdown":"The issue was caused by trying to create a thread pool with **0** threads. We have a development VPS with **1** thread and we had a line of code like this: \r\n```\r\npublic static final Executor EXECUTOR = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors() - 1);\r\n``` \r\n\r\nThis caused the exception. In hindsight the exception stack trace gave us an obvious clue at the bottom \r\n```\r\nat redacted.Config.&lt;clinit&gt;(Config.java:43)\r\n```\r\nIt literally pointed to the exact line that faulted.\r\n\r\nAnother thing you should definitely do is update the apt-cache with `sudo apt-get update` command install the latest OpenJDK verison.","title":"Java (Spring Boot) - IllegalStateException: Unable to load cache item","body":"<p>The issue was caused by trying to create a thread pool with <strong>0</strong> threads. We have a development VPS with <strong>1</strong> thread and we had a line of code like this:</p>\n<pre><code>public static final Executor EXECUTOR = Executors.newFixedThreadPool(Runtime.getRuntime().availableProcessors() - 1);\n</code></pre>\n<p>This caused the exception. In hindsight the exception stack trace gave us an obvious clue at the bottom</p>\n<pre><code>at redacted.Config.&lt;clinit&gt;(Config.java:43)\n</code></pre>\n<p>It literally pointed to the exact line that faulted.</p>\n<p>Another thing you should definitely do is update the apt-cache with <code>sudo apt-get update</code> command install the latest OpenJDK verison.</p>\n"},{"tags":[],"owner":{"account_id":17610498,"reputation":94,"user_id":12778661,"display_name":"Ivan Polovyi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676471788,"creation_date":1676471788,"answer_id":75461350,"question_id":62796545,"body_markdown":"Check the Java version, I had the same error when I tried to run a project developed in Java 11 with Java 17.","title":"Java (Spring Boot) - IllegalStateException: Unable to load cache item","body":"<p>Check the Java version, I had the same error when I tried to run a project developed in Java 11 with Java 17.</p>\n"}],"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33899,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":62809287,"answer_count":3,"score":4,"last_activity_date":1676471788,"creation_date":1594216835,"question_id":62796545,"body_markdown":"We have a rather complex Spring Boot project and it works fine on Windows during development. However when we run the project on Ubuntu we get a bizzare exception\r\n\r\n```\r\nLOGBACK: No context given for c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@310623126\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n :: Spring Boot ::        (v2.2.8.RELEASE)\r\n2020-07-08 12:56:42.860  INFO 6 --- [           main] redacted.Application            : Starting Application v0.0.1-SNAPSHOT on c72273bf4d02 with PID 6 (/home/plugin/app.jar started by root in /home/plugin)\r\n2020-07-08 12:56:42.867  INFO 6 --- [           main] redacted.Application            : The following profiles are active: default\r\n2020-07-08 12:56:44.745  INFO 6 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n2020-07-08 12:56:45.119  INFO 6 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 345ms. Found 13 JPA repository interfaces.\r\n2020-07-08 12:56:46.089 ERROR 6 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\njava.lang.IllegalStateException: Unable to load cache item\r\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:137) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:423) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:257) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:291) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:131) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\r\n        at redacted.Application.main(Application.java:61) [classes!/:0.0.1-SNAPSHOT]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\r\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\r\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:109) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\r\nCaused by: java.lang.ExceptionInInitializerError: null\r\n        at java.lang.Class.forName0(Native Method) ~[na:1.8.0_111]\r\n        at java.lang.Class.forName(Class.java:348) ~[na:1.8.0_111]\r\n        at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:571) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_111]\r\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\r\n        ... 29 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: null\r\n        at java.util.concurrent.ThreadPoolExecutor.&lt;init&gt;(ThreadPoolExecutor.java:1307) ~[na:1.8.0_111]\r\n        at java.util.concurrent.ThreadPoolExecutor.&lt;init&gt;(ThreadPoolExecutor.java:1195) ~[na:1.8.0_111]\r\n        at java.util.concurrent.Executors.newFixedThreadPool(Executors.java:89) ~[na:1.8.0_111]\r\n        at redacted.Config.&lt;clinit&gt;(Config.java:43) ~[classes!/:0.0.1-SNAPSHOT]\r\n        ... 39 common frames omitted\r\n```\r\n\r\nOn Ubuntu we are using OpenJDK 11. It works on Windows with the same JDK, but it doesn&#39;t on Ubuntu. We also tried to run the project in a new Windows Sandbox instance and it worked flawlessly.","title":"Java (Spring Boot) - IllegalStateException: Unable to load cache item","body":"<p>We have a rather complex Spring Boot project and it works fine on Windows during development. However when we run the project on Ubuntu we get a bizzare exception</p>\n<pre><code>LOGBACK: No context given for c.q.l.core.rolling.SizeAndTimeBasedRollingPolicy@310623126\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.8.RELEASE)\n2020-07-08 12:56:42.860  INFO 6 --- [           main] redacted.Application            : Starting Application v0.0.1-SNAPSHOT on c72273bf4d02 with PID 6 (/home/plugin/app.jar started by root in /home/plugin)\n2020-07-08 12:56:42.867  INFO 6 --- [           main] redacted.Application            : The following profiles are active: default\n2020-07-08 12:56:44.745  INFO 6 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2020-07-08 12:56:45.119  INFO 6 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 345ms. Found 13 JPA repository interfaces.\n2020-07-08 12:56:46.089 ERROR 6 --- [           main] o.s.boot.SpringApplication               : Application run failed\njava.lang.IllegalStateException: Unable to load cache item\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:79) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.internal.LoadingCache.get(LoadingCache.java:34) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData.get(AbstractClassGenerator.java:134) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:319) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.proxy.Enhancer.createHelper(Enhancer.java:572) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.proxy.Enhancer.createClass(Enhancer.java:419) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.createClass(ConfigurationClassEnhancer.java:137) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.annotation.ConfigurationClassEnhancer.enhance(ConfigurationClassEnhancer.java:109) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.enhanceConfigurationClasses(ConfigurationClassPostProcessor.java:423) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanFactory(ConfigurationClassPostProcessor.java:257) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:291) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:131) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:706) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:532) ~[spring-context-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:143) ~[spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:758) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:750) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1237) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.3.0.RELEASE.jar!/:2.3.0.RELEASE]\n        at redacted.Application.main(Application.java:61) [classes!/:0.0.1-SNAPSHOT]\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_111]\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_111]\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_111]\n        at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_111]\n        at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:109) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\n        at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:88) [redacted-0.0.1-SNAPSHOT.jar:0.0.1-SNAPSHOT]\nCaused by: java.lang.ExceptionInInitializerError: null\n        at java.lang.Class.forName0(Native Method) ~[na:1.8.0_111]\n        at java.lang.Class.forName(Class.java:348) ~[na:1.8.0_111]\n        at org.springframework.cglib.core.ReflectUtils.defineClass(ReflectUtils.java:571) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.AbstractClassGenerator.generate(AbstractClassGenerator.java:363) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.proxy.Enhancer.generate(Enhancer.java:585) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:110) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.AbstractClassGenerator$ClassLoaderData$3.apply(AbstractClassGenerator.java:108) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at org.springframework.cglib.core.internal.LoadingCache$2.call(LoadingCache.java:54) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[na:1.8.0_111]\n        at org.springframework.cglib.core.internal.LoadingCache.createEntry(LoadingCache.java:61) ~[spring-core-5.2.6.RELEASE.jar!/:5.2.6.RELEASE]\n        ... 29 common frames omitted\nCaused by: java.lang.IllegalArgumentException: null\n        at java.util.concurrent.ThreadPoolExecutor.&lt;init&gt;(ThreadPoolExecutor.java:1307) ~[na:1.8.0_111]\n        at java.util.concurrent.ThreadPoolExecutor.&lt;init&gt;(ThreadPoolExecutor.java:1195) ~[na:1.8.0_111]\n        at java.util.concurrent.Executors.newFixedThreadPool(Executors.java:89) ~[na:1.8.0_111]\n        at redacted.Config.&lt;clinit&gt;(Config.java:43) ~[classes!/:0.0.1-SNAPSHOT]\n        ... 39 common frames omitted\n</code></pre>\n<p>On Ubuntu we are using OpenJDK 11. It works on Windows with the same JDK, but it doesn't on Ubuntu. We also tried to run the project in a new Windows Sandbox instance and it worked flawlessly.</p>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1639156945,"post_id":70304712,"comment_id":124284954,"body_markdown":"Your class needs a `Resources resources` that is not provided, without seeing more of your application and your configuration of it, this is impossible to answer","body":"Your class needs a <code>Resources resources</code> that is not provided, without seeing more of your application and your configuration of it, this is impossible to answer"},{"owner":{"account_id":8560681,"reputation":72,"user_id":6414816,"display_name":"Bender"},"score":0,"creation_date":1651960103,"post_id":70304712,"comment_id":127491320,"body_markdown":"Baeldung never updates tutorials, beware just in case.","body":"Baeldung never updates tutorials, beware just in case."}],"answers":[{"tags":[],"owner":{"account_id":23629994,"reputation":1,"user_id":17661863,"display_name":"user17661863"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639363425,"creation_date":1639363425,"answer_id":70329424,"question_id":70304712,"body_markdown":"    @Slf4j\r\n    @Component\r\n    @Order(-99)\r\n    public class ExceptionHandler implements WebExceptionHandler {\r\n        @Override\r\n        public Mono&lt;Void&gt; handle(ServerWebExchange serverWebExchange, Throwable throwable) {\r\n            ServerHttpResponse response = serverWebExchange.getResponse();\r\n            response.setStatusCode(HttpStatus.BAD_REQUEST);\r\n            response.getHeaders().setContentType(MediaType.APPLICATION_JSON);\r\n            JSONObject resMsg = new JSONObject();\r\n            try {\r\n                resMsg.put(&quot;code&quot;, HttpStatus.BAD_REQUEST.value());\r\n                if(throwable instanceof CommonException){\r\n                    resMsg.put(&quot;msg&quot;, ((CommonException) throwable).getMsg());\r\n                }else{\r\n                    log.error(&quot;system error:&quot;, throwable);\r\n                    resMsg.put(&quot;msg&quot;, CommonCode.PLATFORM_ERR_MSG);\r\n                }\r\n            } catch (Exception e) {\r\n            }\r\n    \r\n            DataBuffer db = response.bufferFactory().wrap(resMsg.toString().getBytes(Charset.forName(&quot;UTF-8&quot;)));\r\n            return response.writeWith(Mono.just(db));\r\n        }\r\n    }\r\n\r\n","title":"WebProperties$Resources bean missing for custom AbstractErrorWebExceptionHandler","body":"<pre><code>@Slf4j\n@Component\n@Order(-99)\npublic class ExceptionHandler implements WebExceptionHandler {\n    @Override\n    public Mono&lt;Void&gt; handle(ServerWebExchange serverWebExchange, Throwable throwable) {\n        ServerHttpResponse response = serverWebExchange.getResponse();\n        response.setStatusCode(HttpStatus.BAD_REQUEST);\n        response.getHeaders().setContentType(MediaType.APPLICATION_JSON);\n        JSONObject resMsg = new JSONObject();\n        try {\n            resMsg.put(&quot;code&quot;, HttpStatus.BAD_REQUEST.value());\n            if(throwable instanceof CommonException){\n                resMsg.put(&quot;msg&quot;, ((CommonException) throwable).getMsg());\n            }else{\n                log.error(&quot;system error:&quot;, throwable);\n                resMsg.put(&quot;msg&quot;, CommonCode.PLATFORM_ERR_MSG);\n            }\n        } catch (Exception e) {\n        }\n\n        DataBuffer db = response.bufferFactory().wrap(resMsg.toString().getBytes(Charset.forName(&quot;UTF-8&quot;)));\n        return response.writeWith(Mono.just(db));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23827734,"reputation":21,"user_id":17834504,"display_name":"user17834504"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641322404,"creation_date":1641322404,"answer_id":70583747,"question_id":70304712,"body_markdown":"bro. Sorry for my English. Y can inject WebProperties. Next step y can do getResourses() from this properties. I hope that I help to you.","title":"WebProperties$Resources bean missing for custom AbstractErrorWebExceptionHandler","body":"<p>bro. Sorry for my English. Y can inject WebProperties. Next step y can do getResourses() from this properties. I hope that I help to you.</p>\n"},{"tags":[],"owner":{"account_id":8276195,"reputation":769,"user_id":6222302,"accept_rate":83,"display_name":"Bala"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1641758791,"creation_date":1641758791,"answer_id":70645067,"question_id":70304712,"body_markdown":"I was getting the same exception when I migrated my Webflux api application from Springboot version 2.5.x to 2.6.2.\r\n\r\nTo resolve it I added a configuration class which creates a Bean for `WebProperties.Resources` as below,\r\n\r\n```java\r\n@Configuration\r\npublic class ResourceWebPropertiesConfig {\r\n\r\n    @Bean\r\n    public WebProperties.Resources resources() {\r\n        return new WebProperties.Resources();\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis solved the issue. I guess something have changed in Springboot version 2.6.x","title":"WebProperties$Resources bean missing for custom AbstractErrorWebExceptionHandler","body":"<p>I was getting the same exception when I migrated my Webflux api application from Springboot version 2.5.x to 2.6.2.</p>\n<p>To resolve it I added a configuration class which creates a Bean for <code>WebProperties.Resources</code> as below,</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class ResourceWebPropertiesConfig {\n\n    @Bean\n    public WebProperties.Resources resources() {\n        return new WebProperties.Resources();\n    }\n\n}\n</code></pre>\n<p>This solved the issue. I guess something have changed in Springboot version 2.6.x</p>\n"},{"tags":[],"owner":{"account_id":1290399,"reputation":523,"user_id":5374740,"accept_rate":0,"display_name":"Lex Luthor"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1645575935,"creation_date":1645575101,"answer_id":71229884,"question_id":70304712,"body_markdown":"The root of the issue is that \r\nResourceProperties (which is the one that was bound to spring.resources) was removed in Spring Boot 2.6 (had been deprecated since 2.4) as explained [here][1] and also in the said version [release notes][2].\r\n\r\nInjecting the `WebProperties` bean in your constructor and then calling `WebProperties.getResources()` at the usage point should fix your custom global exception handler as shown in the following snippet:\r\n\r\n    @Component\r\n    @Order(-2)\r\n    public class GlobalExceptionHandler extends AbstractErrorWebExceptionHandler{\r\n    \r\n        // Spring boot 2.5.x \r\n        public GlobalExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext) {\r\n            super(errorAttributes, resources, applicationContext);\r\n        }\r\n    \r\n        // Spring boot 2.6.0\r\n        public GlobalExceptionHandler(ErrorAttributes errorAttributes, WebProperties webProperties, ApplicationContext applicationContext) {\r\n            super(errorAttributes, webProperties.getResources(), applicationContext);\r\n        }\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/issues/28762\r\n  [2]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#web-resources-configuration\r\n","title":"WebProperties$Resources bean missing for custom AbstractErrorWebExceptionHandler","body":"<p>The root of the issue is that\nResourceProperties (which is the one that was bound to spring.resources) was removed in Spring Boot 2.6 (had been deprecated since 2.4) as explained <a href=\"https://github.com/spring-projects/spring-boot/issues/28762\" rel=\"noreferrer\">here</a> and also in the said version <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#web-resources-configuration\" rel=\"noreferrer\">release notes</a>.</p>\n<p>Injecting the <code>WebProperties</code> bean in your constructor and then calling <code>WebProperties.getResources()</code> at the usage point should fix your custom global exception handler as shown in the following snippet:</p>\n<pre><code>@Component\n@Order(-2)\npublic class GlobalExceptionHandler extends AbstractErrorWebExceptionHandler{\n\n    // Spring boot 2.5.x \n    public GlobalExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext) {\n        super(errorAttributes, resources, applicationContext);\n    }\n\n    // Spring boot 2.6.0\n    public GlobalExceptionHandler(ErrorAttributes errorAttributes, WebProperties webProperties, ApplicationContext applicationContext) {\n        super(errorAttributes, webProperties.getResources(), applicationContext);\n    }\n</code></pre>\n"}],"owner":{"account_id":18202678,"reputation":153,"user_id":13246546,"display_name":"Rishabh Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5440,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":70645067,"answer_count":4,"score":9,"last_activity_date":1676470707,"creation_date":1639140298,"question_id":70304712,"body_markdown":"I am trying to implement my custom GlobalExceptionHandler class by extending AbstractErrorWebExceptionHandler (default implementation is DefaultErrorWebExceptionHandler class) but unable to do so as bean(stated below) is missing which is required in constructer initilization .I am not sure why this is happening as by default implemetation it is working fine and by giving my own implementation it is asking for a bean, Please help\r\n```\r\n@Component\r\n@Order(-2)\r\npublic class GlobalExceptionHandler extends AbstractErrorWebExceptionHandler{\r\n\r\n    public GlobalExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext) {\r\n        super(errorAttributes, resources, applicationContext);\r\n    }\r\n\r\n    @Override\r\n    protected RouterFunction&lt;ServerResponse&gt; getRoutingFunction(ErrorAttributes errorAttributes) {\r\n        return RouterFunctions.route(RequestPredicates.all(),this::formatErrorResponse);\r\n    }\r\n\r\n    private Mono&lt;ServerResponse&gt; formatErrorResponse(ServerRequest request){\r\n        Map&lt;String, Object&gt; errorAttributesMap = getErrorAttributes(request, ErrorAttributeOptions.defaults());\r\n        int status = (int) Optional.ofNullable(errorAttributesMap.get(&quot;status&quot;)).orElse(500);\r\n        return ServerResponse\r\n                .status(status)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(BodyInserters.fromValue(errorAttributesMap));\r\n    }\r\n}\r\n```\r\nAnd error i am getting is:\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 1 of constructor in com.example.userManagementSystem.demoApp.exception.GlobalExceptionHandler required a bean of type &#39;org.springframework.boot.autoconfigure.web.WebProperties$Resources&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.boot.autoconfigure.web.WebProperties$Resources&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nI am not sure why this is coming. PLease help!\r\n","title":"WebProperties$Resources bean missing for custom AbstractErrorWebExceptionHandler","body":"<p>I am trying to implement my custom GlobalExceptionHandler class by extending AbstractErrorWebExceptionHandler (default implementation is DefaultErrorWebExceptionHandler class) but unable to do so as bean(stated below) is missing which is required in constructer initilization .I am not sure why this is happening as by default implemetation it is working fine and by giving my own implementation it is asking for a bean, Please help</p>\n<pre><code>@Component\n@Order(-2)\npublic class GlobalExceptionHandler extends AbstractErrorWebExceptionHandler{\n\n    public GlobalExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext) {\n        super(errorAttributes, resources, applicationContext);\n    }\n\n    @Override\n    protected RouterFunction&lt;ServerResponse&gt; getRoutingFunction(ErrorAttributes errorAttributes) {\n        return RouterFunctions.route(RequestPredicates.all(),this::formatErrorResponse);\n    }\n\n    private Mono&lt;ServerResponse&gt; formatErrorResponse(ServerRequest request){\n        Map&lt;String, Object&gt; errorAttributesMap = getErrorAttributes(request, ErrorAttributeOptions.defaults());\n        int status = (int) Optional.ofNullable(errorAttributesMap.get(&quot;status&quot;)).orElse(500);\n        return ServerResponse\n                .status(status)\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(BodyInserters.fromValue(errorAttributesMap));\n    }\n}\n</code></pre>\n<p>And error i am getting is:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in com.example.userManagementSystem.demoApp.exception.GlobalExceptionHandler required a bean of type 'org.springframework.boot.autoconfigure.web.WebProperties$Resources' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.boot.autoconfigure.web.WebProperties$Resources' in your configuration.\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>I am not sure why this is coming. PLease help!</p>\n"},{"tags":["java","postgresql","spring-boot","kubernetes","kubernetes-secrets"],"answers":[{"tags":[],"owner":{"account_id":17741504,"reputation":1083,"user_id":12881733,"display_name":"Bill Mair"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676470495,"creation_date":1676470301,"answer_id":75461066,"question_id":75458490,"body_markdown":"You used\r\n\r\n    $ echo postgres | base64\r\n    cG9zdGdyZXMK\r\n\r\nto generate your base64 encoded secret.\r\n\r\nThe problem with that is echo adds a linefeed to its output, you should call it like this:\r\n\r\n    $ echo -n postgres | base64\r\n    cG9zdGdyZXM=\r\n\r\nYou need to do the same with password too:\r\n\r\n    $ echo -n password | base64\r\n    cGFzc3dvcmQ=","title":"Using Kubernetes Secret for PostgreSQL ENV causes application pod CRASH","body":"<p>You used</p>\n<pre><code>$ echo postgres | base64\ncG9zdGdyZXMK\n</code></pre>\n<p>to generate your base64 encoded secret.</p>\n<p>The problem with that is echo adds a linefeed to its output, you should call it like this:</p>\n<pre><code>$ echo -n postgres | base64\ncG9zdGdyZXM=\n</code></pre>\n<p>You need to do the same with password too:</p>\n<pre><code>$ echo -n password | base64\ncGFzc3dvcmQ=\n</code></pre>\n"}],"owner":{"account_id":25326567,"reputation":69,"user_id":19147117,"display_name":"h1alexbel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":458,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75461066,"answer_count":1,"score":1,"last_activity_date":1676470495,"creation_date":1676457260,"question_id":75458490,"body_markdown":"I have problem with injecting Kubernetes Secret&#39;s value into Pod env.\r\nI have following ```pg-secrets.yml```:\r\n```\r\napiVersion: v1\r\nkind: Secret\r\nmetadata:\r\n  name: pg-secrets\r\ntype: Opaque\r\ndata:\r\n  POSTGRES_USER: cG9zdGdyZXMK\r\n  POSTGRES_PASSWORD: cGFzc3dvcmQK\r\n#   postgres &amp; password\r\n```\r\n\r\nAnd then I inject POSTGRES_PASSWORD from it to ```application-deployment.yml``` ENV:\r\n\r\n```\r\napiVersion: apps/v1\r\nkind: Deployment\r\n   ...\r\n    spec:\r\n      containers:\r\n        - name: realo\r\n          image: abialiauski/realo\r\n          imagePullPolicy: Always\r\n          ports:\r\n            - containerPort: 8080\r\n          env:\r\n            - name: PG_USERNAME\r\n              valueFrom:\r\n                configMapKeyRef:\r\n                  name: realo-configmap\r\n                  key: PG_USERNAME\r\n            - name: PG_PASSWORD\r\n              valueFrom:\r\n                secretKeyRef:\r\n                  name: pg-secrets\r\n                  key: POSTGRES_PASSWORD\r\n            - name: PG_HOST\r\n              value: postgres\r\n```\r\nAnd having this ```application.yml```:\r\n```\r\nspring:\r\n  application:\r\n    name: realo\r\n  datasource:\r\n    username: ${PG_USERNAME}\r\n    password: ${PG_PASSWORD}\r\n    url: jdbc:postgresql://${PG_HOST}:5432/postgres\r\n    driver-class-name: org.postgresql.Driver\r\n```\r\n\r\nSo, after starting PostgreSQL, the backend application crashes refusing the database connection with this exception:\r\n```\r\nCaused by: org.postgresql.util.PSQLException: Something unusual has occurred to cause the driver to fail. Please report this exception.\r\n\tat org.postgresql.Driver.connect(Driver.java:282) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\r\n\tat liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266) ~[liquibase-core-4.9.1.jar:na]\r\n\t... 180 common frames omitted\r\nCaused by: java.lang.IllegalArgumentException: Prohibited character\r\n\r\n\tat org.postgresql.shaded.com.ongres.saslprep.SaslPrep.saslPrep(SaslPrep.java:105) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.common.stringprep.StringPreparations$2.doNormalize(StringPreparations.java:55) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.common.stringprep.StringPreparations.normalize(StringPreparations.java:65) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:152) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:816) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.8.jar:42.3.8]\r\n\tat org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.8.jar:42.3.8]\r\n\t... 188 common frames omitted\r\n```\r\n\r\nIf I inspect ENV everything will be OK, but backend still fails.\r\n```\r\nkubectl exec -i -t pod/realo-66856b59b4-bp27r -- /bin/sh -c &#39;echo &quot;username: $PG_USERNAME\\npassword: $PG_PASSWORD\\n&quot;&#39;\r\n```\r\n\r\noutput:\r\n```\r\nusername: postgres\\npassword: password\r\n```\r\n","title":"Using Kubernetes Secret for PostgreSQL ENV causes application pod CRASH","body":"<p>I have problem with injecting Kubernetes Secret's value into Pod env.\nI have following <code>pg-secrets.yml</code>:</p>\n<pre><code>apiVersion: v1\nkind: Secret\nmetadata:\n  name: pg-secrets\ntype: Opaque\ndata:\n  POSTGRES_USER: cG9zdGdyZXMK\n  POSTGRES_PASSWORD: cGFzc3dvcmQK\n#   postgres &amp; password\n</code></pre>\n<p>And then I inject POSTGRES_PASSWORD from it to <code>application-deployment.yml</code> ENV:</p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\n   ...\n    spec:\n      containers:\n        - name: realo\n          image: abialiauski/realo\n          imagePullPolicy: Always\n          ports:\n            - containerPort: 8080\n          env:\n            - name: PG_USERNAME\n              valueFrom:\n                configMapKeyRef:\n                  name: realo-configmap\n                  key: PG_USERNAME\n            - name: PG_PASSWORD\n              valueFrom:\n                secretKeyRef:\n                  name: pg-secrets\n                  key: POSTGRES_PASSWORD\n            - name: PG_HOST\n              value: postgres\n</code></pre>\n<p>And having this <code>application.yml</code>:</p>\n<pre><code>spring:\n  application:\n    name: realo\n  datasource:\n    username: ${PG_USERNAME}\n    password: ${PG_PASSWORD}\n    url: jdbc:postgresql://${PG_HOST}:5432/postgres\n    driver-class-name: org.postgresql.Driver\n</code></pre>\n<p>So, after starting PostgreSQL, the backend application crashes refusing the database connection with this exception:</p>\n<pre><code>Caused by: org.postgresql.util.PSQLException: Something unusual has occurred to cause the driver to fail. Please report this exception.\n    at org.postgresql.Driver.connect(Driver.java:282) ~[postgresql-42.3.8.jar:42.3.8]\n    at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar:na]\n    at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:266) ~[liquibase-core-4.9.1.jar:na]\n    ... 180 common frames omitted\nCaused by: java.lang.IllegalArgumentException: Prohibited character\n\n    at org.postgresql.shaded.com.ongres.saslprep.SaslPrep.saslPrep(SaslPrep.java:105) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.common.stringprep.StringPreparations$2.doNormalize(StringPreparations.java:55) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.common.stringprep.StringPreparations.normalize(StringPreparations.java:65) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.common.ScramMechanisms.saltedPassword(ScramMechanisms.java:152) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.common.ScramFunctions.saltedPassword(ScramFunctions.java:59) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:196) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ClientFinalProcessor.&lt;init&gt;(ScramSession.java:163) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.shaded.com.ongres.scram.client.ScramSession$ServerFirstProcessor.clientFinalProcessor(ScramSession.java:130) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.jre7.sasl.ScramAuthenticator.processServerFirstMessage(ScramAuthenticator.java:147) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.doAuthentication(ConnectionFactoryImpl.java:816) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:180) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:235) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:49) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.jdbc.PgConnection.&lt;init&gt;(PgConnection.java:223) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.Driver.makeConnection(Driver.java:402) ~[postgresql-42.3.8.jar:42.3.8]\n    at org.postgresql.Driver.connect(Driver.java:261) ~[postgresql-42.3.8.jar:42.3.8]\n    ... 188 common frames omitted\n</code></pre>\n<p>If I inspect ENV everything will be OK, but backend still fails.</p>\n<pre><code>kubectl exec -i -t pod/realo-66856b59b4-bp27r -- /bin/sh -c 'echo &quot;username: $PG_USERNAME\\npassword: $PG_PASSWORD\\n&quot;'\n</code></pre>\n<p>output:</p>\n<pre><code>username: postgres\\npassword: password\n</code></pre>\n"},{"tags":["java","solr","lucene","solrj"],"answers":[{"tags":[],"owner":{"account_id":46578,"reputation":50301,"user_id":137650,"display_name":"MatsLindh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585259751,"creation_date":1585259751,"answer_id":60876796,"question_id":60871585,"body_markdown":"The Collections Admin API has far more parameters that are relevant than what the regular CoreAdminAPI has, so as far as I know there is no common API you can use.\r\n\r\nYou can however determine the current mode by making a request to `/solr/admin/info/system?wt=json`. The JSON response will include a `mode` parameter:\r\n\r\n    &quot;mode&quot;:&quot;solrcloud&quot;,\r\n\r\nThis will tell you if Solr is running in cloud mode or standalone. Using your browser&#39;s developer tools&#39; network pane is usually a good way to see all the information Solr exposes about itself through its API.","title":"Java code to identify Solr server is running in Cloud or standalone mode","body":"<p>The Collections Admin API has far more parameters that are relevant than what the regular CoreAdminAPI has, so as far as I know there is no common API you can use.</p>\n\n<p>You can however determine the current mode by making a request to <code>/solr/admin/info/system?wt=json</code>. The JSON response will include a <code>mode</code> parameter:</p>\n\n<pre><code>\"mode\":\"solrcloud\",\n</code></pre>\n\n<p>This will tell you if Solr is running in cloud mode or standalone. Using your browser's developer tools' network pane is usually a good way to see all the information Solr exposes about itself through its API.</p>\n"},{"tags":[],"owner":{"account_id":1622848,"reputation":1,"user_id":1499055,"display_name":"user1499055"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676469998,"creation_date":1676146956,"answer_id":75423075,"question_id":60871585,"body_markdown":"Once on your Solr Administration User Interface, just make the following request on the browser :\r\n`http://enteryourservername:enteryourportno/solr/admin/info/system?wt=json`\r\n\r\nThe response returned will look something like this (look out for the value of `mode` which will be `std` for standalone and `solrcloud` for cloud based) -\r\n\r\n```\r\n{&quot;responseHeader&quot;:{&quot;status&quot;:0,&quot;QTime&quot;:0},&quot;mode&quot;:&quot;std&quot;,....\r\n```","title":"Java code to identify Solr server is running in Cloud or standalone mode","body":"<p>Once on your Solr Administration User Interface, just make the following request on the browser :\n<code>http://enteryourservername:enteryourportno/solr/admin/info/system?wt=json</code></p>\n<p>The response returned will look something like this (look out for the value of <code>mode</code> which will be <code>std</code> for standalone and <code>solrcloud</code> for cloud based) -</p>\n<pre><code>{&quot;responseHeader&quot;:{&quot;status&quot;:0,&quot;QTime&quot;:0},&quot;mode&quot;:&quot;std&quot;,....\n</code></pre>\n"}],"owner":{"account_id":9108441,"reputation":181,"user_id":6778015,"display_name":"Dhruvajyoti Chatterjee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676469998,"creation_date":1585239457,"question_id":60871585,"body_markdown":"I am new to Solr and I am using java application to list the collections using CollectionAdminReqest API. But it fails when server is in standalone mode.\r\n\r\nI want to know if there is any API that works for both modes. Or if there is any API to know the mode of running Solr server so that we use corresponding API based on that.\r\n   ","title":"Java code to identify Solr server is running in Cloud or standalone mode","body":"<p>I am new to Solr and I am using java application to list the collections using CollectionAdminReqest API. But it fails when server is in standalone mode.</p>\n\n<p>I want to know if there is any API that works for both modes. Or if there is any API to know the mode of running Solr server so that we use corresponding API based on that.</p>\n"},{"tags":["java","json","jackson","jackson-databind"],"owner":{"account_id":20423038,"reputation":43,"user_id":14983637,"display_name":"Grusat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676469989,"creation_date":1676469989,"question_id":75461003,"body_markdown":"I am currently working on a java project where I need to save multiple objects whith some circular references. I decided to go with jackson but I am really lost because what I want to do seems too complex (hopefully not for you ;) ) \r\n\r\nI am probably going to be using custom serializer/deserializers but I need your expertise on how I could do that.\r\n\r\nFor a quick skeleton of the classes whose objects I want to save :\r\n\r\n\r\n```\r\npublic class Box {\r\n  BoxModel bm;\r\n  ArrayList&lt;Plug&gt; ins, outs;\r\n\r\n  // more properties\r\n}\r\n```\r\n\r\n```\r\npublic class Plug{\r\n  Box box;\r\n  ArrayList&lt;Plug&gt; after;\r\n  Plug before;\r\n\r\n  ArrayList&lt;Wire&gt; wireConnectedAfter;\r\n  Wire wireConnectedBefore;\r\n\r\n  // more properties\r\n}\r\n```\r\n\r\n```\r\npublic class Wire {\r\n  Plug plug1, plug2;\r\n\r\n  // more properties\r\n}\r\n```\r\n\r\nEvery object is referenced in my main class (MySketch) in a dedicated ArrayList :\r\n\r\n\r\n```\r\nArrayList&lt;Plug&gt; plugs = new ArrayList&lt;&gt;();\r\nArrayList&lt;Plug&gt; inputPlugs = new ArrayList&lt;&gt;();\r\nArrayList&lt;Plug&gt; outputPlugs = new ArrayList&lt;&gt;();\r\nArrayList&lt;BoxModel&gt; boxModels = new ArrayList&lt;&gt;();\r\nArrayList&lt;Box&gt; boxes = new ArrayList&lt;&gt;();\r\nArrayList&lt;Wire&gt; wires = new ArrayList&lt;&gt;();\r\n```\r\n\r\nThe goal for me would be to save all these `ArrayList`s into one json file like the one following (which I achieved) and be able to deserialize them again into the ArrayList of objects which I have no idea how to do.\r\n\r\n```\r\n{\r\n&quot;boxes&quot;: [\r\n  (all Box objects)\r\n],\r\n&quot;wires&quot;: [\r\n  (all Wire objects)\r\n],\r\n&quot;plugs&quot;: [\r\n  (all Plug objects)\r\n]\r\n}\r\n```\r\n\r\nFor saving I did something like that:\r\n\r\n```\r\nFile save = new File(&quot;data/test/test0.json&quot;);\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\nMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\nmap.put(&quot;boxModels&quot;, sketch.boxModels);\r\nmap.put(&quot;boxes&quot;, sketch.boxes);\r\nmap.put(&quot;wires&quot;, sketch.wires);\r\nmap.put(&quot;plugs&quot;, sketch.plugs);\r\nmap.put(&quot;inputPlugs&quot;, sketch.inputPlugs);\r\nmap.put(&quot;outputPlugs&quot;, sketch.outputPlugs);\r\n\r\nmapper.writeValue(save, map);\r\n```\r\n\r\nFor now, my JSON Loader looks like :\r\n\r\n```\r\nObjectMapper mapper = new ObjectMapper();\r\nMap&lt;String, Object&gt; content = mapper.readValue(f, new TypeReference&lt;&gt;() {});\r\n\r\nArrayList&lt;Box&gt; boxes = mapper.convertValue(content.get(&quot;boxes&quot;), new TypeReference&lt;ArrayList&lt;Box&gt;&gt;(){});\r\n```\r\nBut I get an error :\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot construct instance of `src.Box` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n```\r\n\r\nThank you for any piece of information you can give me !","title":"Serialize/Deserialize complex referenced objects with Jackson","body":"<p>I am currently working on a java project where I need to save multiple objects whith some circular references. I decided to go with jackson but I am really lost because what I want to do seems too complex (hopefully not for you ;) )</p>\n<p>I am probably going to be using custom serializer/deserializers but I need your expertise on how I could do that.</p>\n<p>For a quick skeleton of the classes whose objects I want to save :</p>\n<pre><code>public class Box {\n  BoxModel bm;\n  ArrayList&lt;Plug&gt; ins, outs;\n\n  // more properties\n}\n</code></pre>\n<pre><code>public class Plug{\n  Box box;\n  ArrayList&lt;Plug&gt; after;\n  Plug before;\n\n  ArrayList&lt;Wire&gt; wireConnectedAfter;\n  Wire wireConnectedBefore;\n\n  // more properties\n}\n</code></pre>\n<pre><code>public class Wire {\n  Plug plug1, plug2;\n\n  // more properties\n}\n</code></pre>\n<p>Every object is referenced in my main class (MySketch) in a dedicated ArrayList :</p>\n<pre><code>ArrayList&lt;Plug&gt; plugs = new ArrayList&lt;&gt;();\nArrayList&lt;Plug&gt; inputPlugs = new ArrayList&lt;&gt;();\nArrayList&lt;Plug&gt; outputPlugs = new ArrayList&lt;&gt;();\nArrayList&lt;BoxModel&gt; boxModels = new ArrayList&lt;&gt;();\nArrayList&lt;Box&gt; boxes = new ArrayList&lt;&gt;();\nArrayList&lt;Wire&gt; wires = new ArrayList&lt;&gt;();\n</code></pre>\n<p>The goal for me would be to save all these <code>ArrayList</code>s into one json file like the one following (which I achieved) and be able to deserialize them again into the ArrayList of objects which I have no idea how to do.</p>\n<pre><code>{\n&quot;boxes&quot;: [\n  (all Box objects)\n],\n&quot;wires&quot;: [\n  (all Wire objects)\n],\n&quot;plugs&quot;: [\n  (all Plug objects)\n]\n}\n</code></pre>\n<p>For saving I did something like that:</p>\n<pre><code>File save = new File(&quot;data/test/test0.json&quot;);\nObjectMapper mapper = new ObjectMapper();\n\nMap&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\nmap.put(&quot;boxModels&quot;, sketch.boxModels);\nmap.put(&quot;boxes&quot;, sketch.boxes);\nmap.put(&quot;wires&quot;, sketch.wires);\nmap.put(&quot;plugs&quot;, sketch.plugs);\nmap.put(&quot;inputPlugs&quot;, sketch.inputPlugs);\nmap.put(&quot;outputPlugs&quot;, sketch.outputPlugs);\n\nmapper.writeValue(save, map);\n</code></pre>\n<p>For now, my JSON Loader looks like :</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nMap&lt;String, Object&gt; content = mapper.readValue(f, new TypeReference&lt;&gt;() {});\n\nArrayList&lt;Box&gt; boxes = mapper.convertValue(content.get(&quot;boxes&quot;), new TypeReference&lt;ArrayList&lt;Box&gt;&gt;(){});\n</code></pre>\n<p>But I get an error :</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Cannot construct instance of `src.Box` (no Creators, like default constructor, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n</code></pre>\n<p>Thank you for any piece of information you can give me !</p>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1676469202,"post_id":75460818,"comment_id":133142482,"body_markdown":"You&#39;ll get the same issue when you divide 1 by 3 to get 0.3333, then multiply it by 3 again. The issues is that the intermediate value is rounded. You can try to increase the scale, but it will not prevent rounding errors completely. I once had to use a scale of 15 or up just to get the same results as Excel...","body":"You&#39;ll get the same issue when you divide 1 by 3 to get 0.3333, then multiply it by 3 again. The issues is that the intermediate value is rounded. You can try to increase the scale, but it will not prevent rounding errors completely. I once had to use a scale of 15 or up just to get the same results as Excel..."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1676469270,"post_id":75460818,"comment_id":133142502,"body_markdown":"You can get exact results if you use [`RoundingMode.UNNECESSARY`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#UNNECESSARY). But that will throw exceptions whenever a calculation would need rounding. I&#39;m not sure what you expect when you set up a finite MathContext.","body":"You can get exact results if you use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/RoundingMode.html#UNNECESSARY\" rel=\"nofollow noreferrer\"><code>RoundingMode.UNNECESSARY</code></a>. But that will throw exceptions whenever a calculation would need rounding. I&#39;m not sure what you expect when you set up a finite MathContext."},{"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"score":0,"creation_date":1676469340,"post_id":75460818,"comment_id":133142532,"body_markdown":"@RobSpoor I tried increasing the scale, But it is not consistent for all numbers.","body":"@RobSpoor I tried increasing the scale, But it is not consistent for all numbers."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":6,"creation_date":1676469436,"post_id":75460818,"comment_id":133142574,"body_markdown":"@Varun: if you need *precise results for all numbers* then you probably need to do symbolic calculation or at the very least use a system that can store exact arbitrary fractions (i.e. it would store &quot;3/23&quot; instead of trying to resolve the number). Unless you can restrict &quot;all numbers&quot; to something more reasonable, `BigDecimal` won&#39;t be able to answer what you want.","body":"@Varun: if you need <i>precise results for all numbers</i> then you probably need to do symbolic calculation or at the very least use a system that can store exact arbitrary fractions (i.e. it would store &quot;3/23&quot; instead of trying to resolve the number). Unless you can restrict &quot;all numbers&quot; to something more reasonable, <code>BigDecimal</code> won&#39;t be able to answer what you want."},{"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"score":0,"creation_date":1676469731,"post_id":75460818,"comment_id":133142674,"body_markdown":"@JoachimSauer Do you mean java is not capable of doing that?","body":"@JoachimSauer Do you mean java is not capable of doing that?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":5,"creation_date":1676469923,"post_id":75460818,"comment_id":133142737,"body_markdown":"No, I mean that `BigDecimal` isn&#39;t capable of doing that. `BigDecimal` can store arbitrary-length decimal expansions of numbers. Some fractions (like 1/3) don&#39;t have finite expansions, so any `BigDecimal` representation of it is necessarily rounded. That rounding introduces an error. Having more digits might reduce the error but can&#39;t fully remove it. If you need exact results for any handling of fractions, then you must store the fractions in some other way.","body":"No, I mean that <code>BigDecimal</code> isn&#39;t capable of doing that. <code>BigDecimal</code> can store arbitrary-length decimal expansions of numbers. Some fractions (like 1/3) don&#39;t have finite expansions, so any <code>BigDecimal</code> representation of it is necessarily rounded. That rounding introduces an error. Having more digits might reduce the error but can&#39;t fully remove it. If you need exact results for any handling of fractions, then you must store the fractions in some other way."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1676469969,"post_id":75460818,"comment_id":133142750,"body_markdown":"Java is not capable representing decimal numbers to an infinite amount of precision.  It requires too much memory :-)","body":"Java is not capable representing decimal numbers to an infinite amount of precision.  It requires too much memory :-)"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1676470053,"post_id":75460818,"comment_id":133142784,"body_markdown":"`record Fraction (int dividend, int divisor) {}` ... now `new Fraction(3, 23)` can represent 3/23 **exactly**.","body":"<code>record Fraction (int dividend, int divisor) {}</code> ... now <code>new Fraction(3, 23)</code> can represent 3/23 <b>exactly</b>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1676470237,"post_id":75460818,"comment_id":133142866,"body_markdown":"Ah ... but that wouldn&#39;t work with Pi.  ([Except in Indiana ... almost](https://en.wikipedia.org/wiki/Indiana_Pi_Bill) :-) )","body":"Ah ... but that wouldn&#39;t work with Pi.  (<a href=\"https://en.wikipedia.org/wiki/Indiana_Pi_Bill\" rel=\"nofollow noreferrer\">Except in Indiana ... almost</a> :-) )"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1676555830,"post_id":75460818,"comment_id":133163371,"body_markdown":"It&#39;s not a dup but many of the same considerations apply: [is floating point math broken?](https://stackoverflow.com/q/588004/238704). BigDecimal uses a base-10 floating point representation.","body":"It&#39;s not a dup but many of the same considerations apply: <a href=\"https://stackoverflow.com/q/588004/238704\">is floating point math broken?</a>. BigDecimal uses a base-10 floating point representation."}],"owner":{"account_id":4218968,"reputation":4362,"user_id":3454208,"accept_rate":48,"display_name":"Varun"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676469693,"creation_date":1676469075,"question_id":75460818,"body_markdown":"I am puzzled by Java Bigdecimal behavior.\r\n\r\nLet&#39;s say I have `dividend = 3` and `divisor = 23`.\r\nfirst divide `3/23 = 0.130434783`\r\nOnce I multiply `0.130434783 * 23` I should get `3`.\r\nBigdicimal gives a different result for a different number. Is there any way to achieve a consistent result?\r\nI have tried with multiple combinations of numbers. some times it gives correct result some time does not\r\n\r\n\r\n    public static void main(String[] args) {\r\n        MathContext context = new MathContext(4, RoundingMode.HALF_UP);\r\n        BigDecimal dividend = new BigDecimal(3);\r\n        BigDecimal divisor = new BigDecimal(23);\r\n        BigDecimal ratio = dividend.divide(divisor, context);\r\n        System.out.println(&quot;Ratio :&quot; + ratio);\r\n        Double ratioInDouble = ratio.doubleValue();\r\n        System.out.println(ratio.toEngineeringString());\r\n        BigDecimal ans = (new BigDecimal(ratio.toEngineeringString()).multiply(divisor));\r\n        System.out.println(&quot;Engineering String :&quot; + ans);\r\n        System.out.println(ratio.multiply(divisor, context));\r\n        System.out.println(BigDecimal.valueOf(ratioInDouble).multiply(divisor, context));\r\n        System.out.println(&quot;HALF_UP :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.HALF_UP)));\r\n        System.out.println(&quot;HALF_DOWN :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.HALF_DOWN)));\r\n        System.out.println(&quot;CEILING :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.CEILING)));\r\n        System.out.println(&quot;DOWN :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.DOWN)));\r\n        System.out.println(&quot;UP :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.UP)));\r\n    }\r\n\r\nOutput\r\n\r\n\r\n    Ratio :0.1304\r\n    Multiplication  :69\r\n    0.1304\r\n    Engineering String :2.9992\r\n    2.999\r\n    2.999\r\n    HALF_UP :2.999\r\n    HALF_DOWN :2.999\r\n    CEILING :3.000\r\n    DOWN :2.999\r\n    UP :3.000\r\n    Just mul :2.9992\r\n\r\n\r\n","title":"Java BigDecimal divide and multiply with same no does not give correct result","body":"<p>I am puzzled by Java Bigdecimal behavior.</p>\n<p>Let's say I have <code>dividend = 3</code> and <code>divisor = 23</code>.\nfirst divide <code>3/23 = 0.130434783</code>\nOnce I multiply <code>0.130434783 * 23</code> I should get <code>3</code>.\nBigdicimal gives a different result for a different number. Is there any way to achieve a consistent result?\nI have tried with multiple combinations of numbers. some times it gives correct result some time does not</p>\n<pre><code>public static void main(String[] args) {\n    MathContext context = new MathContext(4, RoundingMode.HALF_UP);\n    BigDecimal dividend = new BigDecimal(3);\n    BigDecimal divisor = new BigDecimal(23);\n    BigDecimal ratio = dividend.divide(divisor, context);\n    System.out.println(&quot;Ratio :&quot; + ratio);\n    Double ratioInDouble = ratio.doubleValue();\n    System.out.println(ratio.toEngineeringString());\n    BigDecimal ans = (new BigDecimal(ratio.toEngineeringString()).multiply(divisor));\n    System.out.println(&quot;Engineering String :&quot; + ans);\n    System.out.println(ratio.multiply(divisor, context));\n    System.out.println(BigDecimal.valueOf(ratioInDouble).multiply(divisor, context));\n    System.out.println(&quot;HALF_UP :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.HALF_UP)));\n    System.out.println(&quot;HALF_DOWN :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.HALF_DOWN)));\n    System.out.println(&quot;CEILING :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.CEILING)));\n    System.out.println(&quot;DOWN :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.DOWN)));\n    System.out.println(&quot;UP :&quot; + BigDecimal.valueOf(ratioInDouble).multiply(divisor, new MathContext(4, RoundingMode.UP)));\n}\n</code></pre>\n<p>Output</p>\n<pre><code>Ratio :0.1304\nMultiplication  :69\n0.1304\nEngineering String :2.9992\n2.999\n2.999\nHALF_UP :2.999\nHALF_DOWN :2.999\nCEILING :3.000\nDOWN :2.999\nUP :3.000\nJust mul :2.9992\n</code></pre>\n"},{"tags":["java","testing","cucumber","karate"],"answers":[{"tags":[],"owner":{"account_id":48302,"reputation":55353,"user_id":143475,"display_name":"Peter Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676469512,"creation_date":1676469512,"answer_id":75460908,"question_id":75460270,"body_markdown":"Right now you can debug a feature file if you use the run-configuration as shown in this video: https://youtu.be/w6V8rKOtyyg\r\n\r\nWe don&#39;t yet support debugging in JS blocks. \r\n\r\nYou need to be on the paid version of the plugin for feature-file debugging to work.","title":"Debug karate features in IntelliJ Idea","body":"<p>Right now you can debug a feature file if you use the run-configuration as shown in this video: <a href=\"https://youtu.be/w6V8rKOtyyg\" rel=\"nofollow noreferrer\">https://youtu.be/w6V8rKOtyyg</a></p>\n<p>We don't yet support debugging in JS blocks.</p>\n<p>You need to be on the paid version of the plugin for feature-file debugging to work.</p>\n"}],"owner":{"account_id":9875840,"reputation":829,"user_id":7313637,"accept_rate":0,"display_name":"liotur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75460908,"answer_count":1,"score":1,"last_activity_date":1676469512,"creation_date":1676466537,"question_id":75460270,"body_markdown":"I have test\r\n\r\n      @Test\r\n      public void myTest() {\r\n        Results results = Runner.path(&quot;classpath:features/myFeature.feature&quot;).parallel(1);\r\n        Assert.assertEquals(results.getErrorMessages(), 0, results.getFailCount());\r\n      }\r\n\r\nFeature looks like this \r\n\r\n         \r\n     * def myVariable =\r\n        &quot;&quot;&quot;\r\n        function(x, y)\r\n        {\r\n            functionBody...\r\n        }\r\n        &quot;&quot;&quot;\r\n\r\n     Scenario: My scenario\r\n         * kafkaClient.publish(...)\r\n         * def result = myVariable(...)\r\n         And assert result != null\r\n\r\n\r\nI installed karate plugin, now in feature I see the syntax highlighting, however there is no ability to put breakpoint in feature.\r\n\r\nI use karate version 1.2.0\r\n\r\nHow I can debug features? I want to stop at (* def result) line for example, or I want to debug js function (functionBody...). Is there any proper way to do so? \r\n  \r\n","title":"Debug karate features in IntelliJ Idea","body":"<p>I have test</p>\n<pre><code>  @Test\n  public void myTest() {\n    Results results = Runner.path(&quot;classpath:features/myFeature.feature&quot;).parallel(1);\n    Assert.assertEquals(results.getErrorMessages(), 0, results.getFailCount());\n  }\n</code></pre>\n<p>Feature looks like this</p>\n<pre><code> * def myVariable =\n    &quot;&quot;&quot;\n    function(x, y)\n    {\n        functionBody...\n    }\n    &quot;&quot;&quot;\n\n Scenario: My scenario\n     * kafkaClient.publish(...)\n     * def result = myVariable(...)\n     And assert result != null\n</code></pre>\n<p>I installed karate plugin, now in feature I see the syntax highlighting, however there is no ability to put breakpoint in feature.</p>\n<p>I use karate version 1.2.0</p>\n<p>How I can debug features? I want to stop at (* def result) line for example, or I want to debug js function (functionBody...). Is there any proper way to do so?</p>\n"},{"tags":["java","simpledateformat","parseexception"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1323334750,"creation_date":1323334111,"answer_id":8428350,"question_id":8428313,"body_markdown":"The JavaDoc on `parse(...)` states the following:\r\n\r\n&gt; parsing does not necessarily use all characters up to the end of the string\r\n\r\nIt seems like you can&#39;t make `SimpleDateFormat` throw an exception, but you can do the following: \r\n\r\n    SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/d&quot;);\r\n    sdf.setLenient(false);\r\n    ParsePosition p = new ParsePosition( 0 );\r\n    String t1 = &quot;2011/12/12aaa&quot;;    \r\n    System.out.println(sdf.parse(t1,p));\r\n    \r\n    if(p.getIndex() &lt; t1.length()) {\r\n      throw new ParseException( t1, p.getIndex() );\r\n    }\r\n\r\nBasically, you check whether the parse consumed the entire string and if not you have invalid input.","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>The JavaDoc on <code>parse(...)</code> states the following:</p>\n\n<blockquote>\n  <p>parsing does not necessarily use all characters up to the end of the string</p>\n</blockquote>\n\n<p>It seems like you can't make <code>SimpleDateFormat</code> throw an exception, but you can do the following: </p>\n\n<pre><code>SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/d\");\nsdf.setLenient(false);\nParsePosition p = new ParsePosition( 0 );\nString t1 = \"2011/12/12aaa\";    \nSystem.out.println(sdf.parse(t1,p));\n\nif(p.getIndex() &lt; t1.length()) {\n  throw new ParseException( t1, p.getIndex() );\n}\n</code></pre>\n\n<p>Basically, you check whether the parse consumed the entire string and if not you have invalid input.</p>\n"},{"tags":[],"owner":{"account_id":65983,"reputation":9310,"user_id":193850,"accept_rate":85,"display_name":"Michel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323335060,"creation_date":1323334421,"answer_id":8428418,"question_id":8428313,"body_markdown":"You can use the `ParsePosition` class or the `sdf.setLenient(false)` function\r\n\r\n\r\nDocs:\r\n[http://docs.oracle.com/javase/7/docs/api/java/text/ParsePosition.html][1]\r\n[http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient(boolean)][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/text/ParsePosition.html\r\n  [2]:http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient(boolean)","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>You can use the <code>ParsePosition</code> class or the <code>sdf.setLenient(false)</code> function</p>\n\n<p>Docs:\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/ParsePosition.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/text/ParsePosition.html</a>\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient%28boolean%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/text/DateFormat.html#setLenient(boolean)</a></p>\n"},{"tags":[],"owner":{"account_id":115974,"reputation":16225,"user_id":304285,"accept_rate":86,"display_name":"amra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323334687,"creation_date":1323334687,"answer_id":8428459,"question_id":8428313,"body_markdown":"Take a look on the method documentation which says: `ParseException if the beginning of the specified string cannot be parsed`.\r\n\r\nMethod source code with javadoc: \r\n\r\n    /**\r\n     * Parses text from the beginning of the given string to produce a date.\r\n     * The method may not use the entire text of the given string.\r\n     * &lt;p&gt;\r\n     * See the {@link #parse(String, ParsePosition)} method for more information\r\n     * on date parsing.\r\n     *\r\n     * @param source A &lt;code&gt;String&lt;/code&gt; whose beginning should be parsed.\r\n     * @return A &lt;code&gt;Date&lt;/code&gt; parsed from the string.\r\n     * @exception ParseException if the beginning of the specified string\r\n     *            cannot be parsed.\r\n     */\r\n    public Date parse(String source) throws ParseException\r\n    {\r\n        ParsePosition pos = new ParsePosition(0);\r\n        Date result = parse(source, pos);\r\n        if (pos.index == 0)\r\n            throw new ParseException(&quot;Unparseable date: \\&quot;&quot; + source + &quot;\\&quot;&quot; ,\r\n                pos.errorIndex);\r\n        return result;\r\n    }","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>Take a look on the method documentation which says: <code>ParseException if the beginning of the specified string cannot be parsed</code>.</p>\n\n<p>Method source code with javadoc: </p>\n\n<pre><code>/**\n * Parses text from the beginning of the given string to produce a date.\n * The method may not use the entire text of the given string.\n * &lt;p&gt;\n * See the {@link #parse(String, ParsePosition)} method for more information\n * on date parsing.\n *\n * @param source A &lt;code&gt;String&lt;/code&gt; whose beginning should be parsed.\n * @return A &lt;code&gt;Date&lt;/code&gt; parsed from the string.\n * @exception ParseException if the beginning of the specified string\n *            cannot be parsed.\n */\npublic Date parse(String source) throws ParseException\n{\n    ParsePosition pos = new ParsePosition(0);\n    Date result = parse(source, pos);\n    if (pos.index == 0)\n        throw new ParseException(\"Unparseable date: \\\"\" + source + \"\\\"\" ,\n            pos.errorIndex);\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":67532,"reputation":15704,"user_id":197574,"accept_rate":83,"display_name":"DerMike"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323335008,"creation_date":1323335008,"answer_id":8428517,"question_id":8428313,"body_markdown":"After it successfully parsed the entire pattern string `SimpleDateFormat` stops evaluating the data it was given to parse.","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>After it successfully parsed the entire pattern string <code>SimpleDateFormat</code> stops evaluating the data it was given to parse.</p>\n"},{"tags":[],"owner":{"account_id":38907,"reputation":53159,"user_id":111988,"accept_rate":74,"display_name":"Sunil Kumar Sahoo"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1323337589,"creation_date":1323337589,"answer_id":8428992,"question_id":8428313,"body_markdown":"**To chack whether a date is valid**\r\nThe following method returns if the date is in valid otherwise it will return false.\r\n\r\n    public boolean isValidDate(String date) {\r\n    \t\t\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/d&quot;);\r\n    \t\tDate testDate = null;\r\n    \t\ttry {\r\n    \t\t\ttestDate = sdf.parse(date);\r\n    \t\t}\r\n    \t\tcatch (ParseException e) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tif (!sdf.format(testDate).equals(date)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \r\n    \t}\r\n\r\n\r\nHave a look on the following class which can check whether the date is valid or not\r\n\r\n** Sample Example**\r\n\r\n\r\n\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class DateValidCheck {\r\n    \t\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tif(new DateValidCheck().isValidDate(&quot;2011/12/12aaa&quot;)){\r\n    \t\t\tSystem.out.println(&quot;...date is valid&quot;);\r\n    \t\t}else{\r\n    \t\t\tSystem.out.println(&quot;...date is invalid...&quot;);\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \t\r\n    \tpublic boolean isValidDate(String date) {\r\n    \t\t\r\n    \t\tSimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/d&quot;);\r\n    \t\tDate testDate = null;\r\n    \t\ttry {\r\n    \t\t\ttestDate = sdf.parse(date);\r\n    \t\t}\r\n    \t\tcatch (ParseException e) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\tif (!sdf.format(testDate).equals(date)) {\r\n    \t\t\treturn false;\r\n    \t\t}\r\n    \t\treturn true;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p><strong>To chack whether a date is valid</strong>\nThe following method returns if the date is in valid otherwise it will return false.</p>\n\n<pre><code>public boolean isValidDate(String date) {\n\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/d\");\n        Date testDate = null;\n        try {\n            testDate = sdf.parse(date);\n        }\n        catch (ParseException e) {\n            return false;\n        }\n        if (!sdf.format(testDate).equals(date)) {\n            return false;\n        }\n        return true;\n\n    }\n</code></pre>\n\n<p>Have a look on the following class which can check whether the date is valid or not</p>\n\n<p>** Sample Example**</p>\n\n<pre><code>import java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class DateValidCheck {\n\n\n    public static void main(String[] args) {\n\n        if(new DateValidCheck().isValidDate(\"2011/12/12aaa\")){\n            System.out.println(\"...date is valid\");\n        }else{\n            System.out.println(\"...date is invalid...\");\n        }\n\n    }\n\n\n    public boolean isValidDate(String date) {\n\n        SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/d\");\n        Date testDate = null;\n        try {\n            testDate = sdf.parse(date);\n        }\n        catch (ParseException e) {\n            return false;\n        }\n        if (!sdf.format(testDate).equals(date)) {\n            return false;\n        }\n        return true;\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2142792,"reputation":1932,"user_id":1901067,"display_name":"David"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644483348,"creation_date":1494923191,"answer_id":43996154,"question_id":8428313,"body_markdown":"Java 8 LocalDate may be used:\r\n\r\n    public static boolean isDate(String date) {\r\n        try {\r\n            LocalDate.parse(date, DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;));\r\n            return true;\r\n        } catch (DateTimeParseException e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\nIf input argument is `&quot;2011/12/12aaaaaaaaa&quot;`, output is `false`;\r\n\r\nIf input argument is `&quot;2011/12/12&quot;`, output is `true`","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>Java 8 LocalDate may be used:</p>\n<pre><code>public static boolean isDate(String date) {\n    try {\n        LocalDate.parse(date, DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd&quot;));\n        return true;\n    } catch (DateTimeParseException e) {\n        return false;\n    }\n}\n</code></pre>\n<p>If input argument is <code>&quot;2011/12/12aaaaaaaaa&quot;</code>, output is <code>false</code>;</p>\n<p>If input argument is <code>&quot;2011/12/12&quot;</code>, output is <code>true</code></p>\n"},{"tags":[],"owner":{"account_id":15732596,"reputation":1,"user_id":11352563,"display_name":"Manoj Kancherla"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1555085581,"creation_date":1555084881,"answer_id":55655559,"question_id":8428313,"body_markdown":"Simply setting `sdf.setLenient(false)` will do the trick..","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>Simply setting <code>sdf.setLenient(false)</code> will do the trick..</p>\n"}],"owner":{"account_id":223197,"reputation":873,"user_id":482249,"accept_rate":63,"display_name":"Terminal User"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14948,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":8428350,"answer_count":7,"score":12,"last_activity_date":1676469476,"creation_date":1323333882,"question_id":8428313,"body_markdown":"Here is an example:\r\n\r\n    public MyDate() throws ParseException {\r\n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy/MM/d&quot;);\r\n        sdf.setLenient(false);\r\n        String t1 = &quot;2011/12/12aaa&quot;;\r\n        System.out.println(sdf.parse(t1));\r\n    }\r\n\r\n2011/12/12aaa is not a valid date string. However the function prints &quot;Mon Dec 12 00:00:00 PST 2011&quot; and ParseException isn&#39;t thrown.\r\n\r\nCan anyone tell me how to let SimpleDateFormat treat &quot;2011/12/12aaa&quot; as an invalid date string and throw an exception?","title":"SimpleDateFormat parse(string str) doesn&#39;t throw an exception when str = 2011/12/12aaaaaaaaa?","body":"<p>Here is an example:</p>\n\n<pre><code>public MyDate() throws ParseException {\n    SimpleDateFormat sdf = new SimpleDateFormat(\"yyyy/MM/d\");\n    sdf.setLenient(false);\n    String t1 = \"2011/12/12aaa\";\n    System.out.println(sdf.parse(t1));\n}\n</code></pre>\n\n<p>2011/12/12aaa is not a valid date string. However the function prints \"Mon Dec 12 00:00:00 PST 2011\" and ParseException isn't thrown.</p>\n\n<p>Can anyone tell me how to let SimpleDateFormat treat \"2011/12/12aaa\" as an invalid date string and throw an exception?</p>\n"},{"tags":["java","maven","maven-3","maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":1262922,"reputation":2194,"user_id":1220802,"display_name":"rph"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676315742,"creation_date":1676315742,"answer_id":75440302,"question_id":75439519,"body_markdown":"If I remember correctly, when the annotation has `property = destinationDirectory`, it will read a system property from system properties (e.g. `-D`) or pom properties, unless a configuration section is specified in the XML.\r\n\r\n```\r\nmvn generate-resources -DdestinationDirectory=/path/to/dir\r\n```\r\n\r\nIf a configuration is specified in the XML, which is the case in your example, the name of the configuration will match either the name of the variable or the specified alias, if any. You can try the following options and check if it solves the issue:\r\n\r\n**Setting an alias:**\r\n```java\r\n@Parameter(alias = &quot;destinationDirectory&quot;, defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\r\nprivate String _destinationDirectory;\r\n```\r\n\r\n**Renaming the variable:**\r\n```java\r\n@Parameter(defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\r\nprivate String destinationDirectory;\r\n```\r\n\r\nIt&#39;s usually a good practice to keep the name of the configuration and the variables consistent, for easier maintenance.","title":"maven plugin api: @Paramerter using setters doesn&#39;t work","body":"<p>If I remember correctly, when the annotation has <code>property = destinationDirectory</code>, it will read a system property from system properties (e.g. <code>-D</code>) or pom properties, unless a configuration section is specified in the XML.</p>\n<pre><code>mvn generate-resources -DdestinationDirectory=/path/to/dir\n</code></pre>\n<p>If a configuration is specified in the XML, which is the case in your example, the name of the configuration will match either the name of the variable or the specified alias, if any. You can try the following options and check if it solves the issue:</p>\n<p><strong>Setting an alias:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Parameter(alias = &quot;destinationDirectory&quot;, defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\nprivate String _destinationDirectory;\n</code></pre>\n<p><strong>Renaming the variable:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Parameter(defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\nprivate String destinationDirectory;\n</code></pre>\n<p>It's usually a good practice to keep the name of the configuration and the variables consistent, for easier maintenance.</p>\n"},{"tags":[],"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676319692,"creation_date":1676319692,"answer_id":75440800,"question_id":75439519,"body_markdown":"From `maven-plugin-plugin` version `3.7.0` you can simply add `@Parameter` annotation on public setter methods.\r\n\r\nYou code can looks like:\r\n\r\n```java\r\n\r\n@Parameter(...)\r\npublic void setDestinationDirectory(String destinationDirectory) {\r\n...\r\n}\r\n```\r\n\r\nYou also need to define version of `maven-plugin-plugin` and `maven-plugin-annotations` dependency in your `pom.xml` - both should have the same version.\r\n\r\n\r\n```xml\r\n&lt;project&gt;\r\n\r\n&lt;properties&gt;\r\n  &lt;maven-plugin-tools.version&gt;3.7.1&lt;/maven-plugin-tools.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;dependencies&gt;\r\n  &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;version&gt;${maven-plugin-tools.version&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n\r\n&lt;build&gt;\r\n  &lt;pluginManagement&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;${maven-plugin-tools.version}&lt;/version&gt;\r\n      &lt;executions&gt;\r\n        &lt;execution&gt;\r\n          &lt;id&gt;help-mojo&lt;/id&gt;\r\n          &lt;goals&gt;\r\n            &lt;goal&gt;helpmojo&lt;/goal&gt;\r\n          &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n      &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"maven plugin api: @Paramerter using setters doesn&#39;t work","body":"<p>From <code>maven-plugin-plugin</code> version <code>3.7.0</code> you can simply add <code>@Parameter</code> annotation on public setter methods.</p>\n<p>You code can looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Parameter(...)\npublic void setDestinationDirectory(String destinationDirectory) {\n...\n}\n</code></pre>\n<p>You also need to define version of <code>maven-plugin-plugin</code> and <code>maven-plugin-annotations</code> dependency in your <code>pom.xml</code> - both should have the same version.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n\n&lt;properties&gt;\n  &lt;maven-plugin-tools.version&gt;3.7.1&lt;/maven-plugin-tools.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;org.apache.maven.plugin-tools&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-plugin-annotations&lt;/artifactId&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;version&gt;${maven-plugin-tools.version&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n  &lt;pluginManagement&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-plugin-plugin&lt;/artifactId&gt;\n      &lt;version&gt;${maven-plugin-tools.version}&lt;/version&gt;\n      &lt;executions&gt;\n        &lt;execution&gt;\n          &lt;id&gt;help-mojo&lt;/id&gt;\n          &lt;goals&gt;\n            &lt;goal&gt;helpmojo&lt;/goal&gt;\n          &lt;/goals&gt;\n        &lt;/execution&gt;\n      &lt;/executions&gt;\n    &lt;/plugin&gt;\n  &lt;/pluginManagement&gt;\n&lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":184746,"reputation":2816,"user_id":420996,"accept_rate":40,"display_name":"Kiran Mohan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75440800,"answer_count":2,"score":1,"last_activity_date":1676469403,"creation_date":1676310600,"question_id":75439519,"body_markdown":"I am writing a custom maven-plugin for my project. Following the instructions mentioned here \r\nhttps://maven.apache.org/guides/plugin/guide-java-plugin-development.html#using-setters I added a @Parameter using setters as shown below.\r\n\r\n```java\r\n@Parameter(property = &quot;destinationDirectory&quot;, defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\r\nprivate String _destinationDirectory;\r\nprivate Path dstDirRoot;\r\n\r\npublic void setDestinationDirectory(String destinationDirectory) {\r\n    Path dstDir = Paths.get(destinationDirectory);\r\n    if (dstDir.isAbsolute()) {\r\n         this._destinationDirectory = dstDir.toString();\r\n    } else {\r\n         this._destinationDirectory = Paths.get(baseDir, dstDir.toString()).toString();\r\n    }\r\n    dstDirRoot = Paths.get(this._destinationDirectory);\r\n}\r\n```\r\n\r\nPom.xml entries on the usage side\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.me.maven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;my-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;run&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n    &lt;configuration&gt;\r\n         &lt;destinationDirectory&gt;${project.build.directory}/myDir&lt;/destinationDirectory&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nNow, I was expecting that during the plugin execution, it would call `setDestinationDirectory` method. But it doesn&#39;t. `@Parameter(property=&quot;...&quot;)` doesn&#39;t seem to have any impact.\r\n\r\nIs this a bug? Or am I missing something?","title":"maven plugin api: @Paramerter using setters doesn&#39;t work","body":"<p>I am writing a custom maven-plugin for my project. Following the instructions mentioned here\n<a href=\"https://maven.apache.org/guides/plugin/guide-java-plugin-development.html#using-setters\" rel=\"nofollow noreferrer\">https://maven.apache.org/guides/plugin/guide-java-plugin-development.html#using-setters</a> I added a @Parameter using setters as shown below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Parameter(property = &quot;destinationDirectory&quot;, defaultValue = &quot;${project.build.directory}/generated-resources&quot;)\nprivate String _destinationDirectory;\nprivate Path dstDirRoot;\n\npublic void setDestinationDirectory(String destinationDirectory) {\n    Path dstDir = Paths.get(destinationDirectory);\n    if (dstDir.isAbsolute()) {\n         this._destinationDirectory = dstDir.toString();\n    } else {\n         this._destinationDirectory = Paths.get(baseDir, dstDir.toString()).toString();\n    }\n    dstDirRoot = Paths.get(this._destinationDirectory);\n}\n</code></pre>\n<p>Pom.xml entries on the usage side</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.me.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;my-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;run&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n    &lt;configuration&gt;\n         &lt;destinationDirectory&gt;${project.build.directory}/myDir&lt;/destinationDirectory&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Now, I was expecting that during the plugin execution, it would call <code>setDestinationDirectory</code> method. But it doesn't. <code>@Parameter(property=&quot;...&quot;)</code> doesn't seem to have any impact.</p>\n<p>Is this a bug? Or am I missing something?</p>\n"},{"tags":["java","spring-webflux","spring-webclient"],"owner":{"account_id":27793846,"reputation":11,"user_id":21219791,"display_name":"Raghav Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676468846,"creation_date":1676468846,"question_id":75460775,"body_markdown":"The below function is using Flux &lt;DataBuffer&gt;\r\n\r\nWe are release DataBuffer dataBufferTemp, however we are unable to find function to release Flux &lt;DataBuffer&gt;.\r\n\r\nWe are seeing exception:\r\n\r\n` ByteBuf.release() was not called before it&#39;s garbage-collected`\r\n```\r\n\r\nprivate File createFileFromDataBuffer(Flux&lt;DataBuffer&gt; dataBuffer, String fileName, int timeoutInMin) {\r\n\r\n        File tempFile = null;\r\n        DataBuffer dataBufferTemp = null;\r\n\r\n        try {\r\n            Path tempDir = Files.createTempDirectory(&quot;xyz&quot;);\r\n            tempFile = new File(String.valueOf(tempDir), fileName);\r\n\r\n            try (OutputStream os = new FileOutputStream(tempFile)) {\r\n                dataBufferTemp = DataBufferUtils.write(dataBuffer, os)\r\n                        .share()\r\n                        .blockLast(Duration.ofMinutes(timeoutInMin));\r\n            }\r\n        } catch (IOException e) {\r\n            log.error(&quot;Error in API, &quot;, e);\r\n        } finally {\r\n            if (Objects.nonNull(dataBufferTemp)) DataBufferUtils.release(dataBufferTemp);\r\n        }\r\n        return tempFile;\r\n\r\n    }\r\n```\r\n\r\n\r\nAny suggestions to resolve this error?\r\n\r\n\r\n\r\nWe tried if (Objects.nonNull(dataBufferTemp)) DataBufferUtils.release(dataBufferTemp);\r\nBut still same error.","title":"Flux&lt;ByteBuffer&gt; causing exception: LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected","body":"<p>The below function is using Flux </p>\n<p>We are release DataBuffer dataBufferTemp, however we are unable to find function to release Flux .</p>\n<p>We are seeing exception:</p>\n<p><code> ByteBuf.release() was not called before it's garbage-collected</code></p>\n<pre><code>\nprivate File createFileFromDataBuffer(Flux&lt;DataBuffer&gt; dataBuffer, String fileName, int timeoutInMin) {\n\n        File tempFile = null;\n        DataBuffer dataBufferTemp = null;\n\n        try {\n            Path tempDir = Files.createTempDirectory(&quot;xyz&quot;);\n            tempFile = new File(String.valueOf(tempDir), fileName);\n\n            try (OutputStream os = new FileOutputStream(tempFile)) {\n                dataBufferTemp = DataBufferUtils.write(dataBuffer, os)\n                        .share()\n                        .blockLast(Duration.ofMinutes(timeoutInMin));\n            }\n        } catch (IOException e) {\n            log.error(&quot;Error in API, &quot;, e);\n        } finally {\n            if (Objects.nonNull(dataBufferTemp)) DataBufferUtils.release(dataBufferTemp);\n        }\n        return tempFile;\n\n    }\n</code></pre>\n<p>Any suggestions to resolve this error?</p>\n<p>We tried if (Objects.nonNull(dataBufferTemp)) DataBufferUtils.release(dataBufferTemp);\nBut still same error.</p>\n"},{"tags":["java","multithreading","parallel-processing","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":252892,"reputation":2581,"user_id":531232,"accept_rate":67,"display_name":"chris"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676406566,"creation_date":1676405520,"answer_id":75452833,"question_id":75451727,"body_markdown":"WebFlux is built around the concept that new incoming requests don&#39;t spawn new threads (*) like traditional web servers such as servlet containers do. Instead, requests get queued to be processed by a single long-running thread (assuming a single CPU core), similar to how e.g. click events are processed in JavaScript or desktop UI libraries. The benefit of that is that the CPU is freed from much of the overhead associated with managing threads, which is very expensive. It gets to do one job after another instead of creating the illusion that it can do thousands of jobs at once. \r\n\r\nThis doesn&#39;t magically make your CPU go faster, it just makes it waste less time with thread context switching, which is notoriously expensive. Your CPU-bound computations need as many CPU cycles as they need, no matter what thread they run on. Also, with WebFlux, if request processing involves long-running CPU intensive computation, this means that the CPU can&#39;t process new requests until it&#39;s finished with the current one - unless you explicitly offload it to a worker thread (and wrap it in a Mono). This will however effectively nullify the benefits of the reactive model if those CPU-bound computations are what the application will be busy with most of the time, because the CPU will now yet again have to do thread context switching to alternately assign CPU time to the request processing and the newly spawned worker thread. Or worse yet, it will have to juggle multiple parallel such worker threads as they get spawned through new requests.\r\n\r\nYou can expect performance gains from WebFlux if your application needs to process a very large number of requests per second, but where individual requests need very few CPU cycles to process and I/O is non-blocking. Your use case seems to be the opposite, so the Reactive model might not actually do anything for you compared to the simpler Servlet model.\r\n\r\nIf, on the other hand, your use case is such that the CPU-bound work can be parallelized, you *will* need multiple (or at least hyperthreading-enabled) CPU cores to benefit from that. Reactive can&#39;t help you there.\r\n\r\n(*) Yes, that&#39;s an oversimplification, I&#39;m aware of thread pools, I&#39;m just trying to get the point across.","title":"Spring Webflux Threading Model on machine with ONE cpu","body":"<p>WebFlux is built around the concept that new incoming requests don't spawn new threads (*) like traditional web servers such as servlet containers do. Instead, requests get queued to be processed by a single long-running thread (assuming a single CPU core), similar to how e.g. click events are processed in JavaScript or desktop UI libraries. The benefit of that is that the CPU is freed from much of the overhead associated with managing threads, which is very expensive. It gets to do one job after another instead of creating the illusion that it can do thousands of jobs at once.</p>\n<p>This doesn't magically make your CPU go faster, it just makes it waste less time with thread context switching, which is notoriously expensive. Your CPU-bound computations need as many CPU cycles as they need, no matter what thread they run on. Also, with WebFlux, if request processing involves long-running CPU intensive computation, this means that the CPU can't process new requests until it's finished with the current one - unless you explicitly offload it to a worker thread (and wrap it in a Mono). This will however effectively nullify the benefits of the reactive model if those CPU-bound computations are what the application will be busy with most of the time, because the CPU will now yet again have to do thread context switching to alternately assign CPU time to the request processing and the newly spawned worker thread. Or worse yet, it will have to juggle multiple parallel such worker threads as they get spawned through new requests.</p>\n<p>You can expect performance gains from WebFlux if your application needs to process a very large number of requests per second, but where individual requests need very few CPU cycles to process and I/O is non-blocking. Your use case seems to be the opposite, so the Reactive model might not actually do anything for you compared to the simpler Servlet model.</p>\n<p>If, on the other hand, your use case is such that the CPU-bound work can be parallelized, you <em>will</em> need multiple (or at least hyperthreading-enabled) CPU cores to benefit from that. Reactive can't help you there.</p>\n<p>(*) Yes, that's an oversimplification, I'm aware of thread pools, I'm just trying to get the point across.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":426,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1676468763,"creation_date":1676398486,"question_id":75451727,"body_markdown":"Small question regarding Spring Webflux and project Reactor please.\r\n\r\nFrom the official doc, we can see:\r\nhttps://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#threading-model\r\n\r\n```\r\nThreading Model\r\nWhat threads should you expect to see on a server running with Spring WebFlux?\r\n\r\nOn a “vanilla” Spring WebFlux server (for example, no data access nor other optional dependencies), you can expect one thread for the server and several others for request processing (typically as many as the number of CPU cores). Servlet containers, however, may start with more threads (for example, 10 on Tomcat), in support of both servlet (blocking) I/O and servlet 3.1 (non-blocking) I/O usage.\r\n```\r\n\r\nWhat happens if the hardware only has one cpu please?\r\n\r\nI have a webapp, which takes a Flux of string as input, and perform a heavy operation on it.\r\n\r\nPlease note, the heavy operation is non blocking. It has been BlockHound tested, and for sure, does not contain any database, web call IO.\r\n\r\nYet, the computation is heavy, lengthy (but again, non blocking).\r\n\r\nWhat ```heavyComputation``` does is that it takes the string, performs some in memory decryption,  convert to some objects, check some fields against a BCrypt hash, in memory re encyption. \r\nThe ```heavyComputation``` is very heavy and takes up to 5 second to complete for one string.\r\n\r\n```\r\n@GetMapping(value = &quot;/upload-flux&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;String&gt; question(@RequestPart(&quot;question&quot;) Flux&lt;String&gt; stringFlux) {\r\n        return stringFlux.map(oneString -&gt; heavyComputation(oneString));\r\n    }\r\n\r\n    private String heavyComputation(String oneString) {\r\n        // heavy and time-consuming in memory decryption\r\n        // heavy and time-consuming conversion to java object\r\n        // heavy and time-consuming validation of fields against hash\r\n        // heavy and time-consuming re encryption \r\n        // return the re encrypted string\r\n    }\r\n```\r\n\r\nI was hoping by using Spring Webflux, I could see some concurrency and asyncs, as the hardware are constrains to 1 cpu only.\r\n\r\nSadly, I observe everything is done on ```reactor-http-nio-1``` thread, and looks like it is fairly sequential, one first string, heavyComputation which takes 5ish seconds, then the second string, etc.\r\n\r\nWhat am I doing wrong please?\r\n\r\nThank you","title":"Spring Webflux Threading Model on machine with ONE cpu","body":"<p>Small question regarding Spring Webflux and project Reactor please.</p>\n<p>From the official doc, we can see:\n<a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#threading-model\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#threading-model</a></p>\n<pre><code>Threading Model\nWhat threads should you expect to see on a server running with Spring WebFlux?\n\nOn a “vanilla” Spring WebFlux server (for example, no data access nor other optional dependencies), you can expect one thread for the server and several others for request processing (typically as many as the number of CPU cores). Servlet containers, however, may start with more threads (for example, 10 on Tomcat), in support of both servlet (blocking) I/O and servlet 3.1 (non-blocking) I/O usage.\n</code></pre>\n<p>What happens if the hardware only has one cpu please?</p>\n<p>I have a webapp, which takes a Flux of string as input, and perform a heavy operation on it.</p>\n<p>Please note, the heavy operation is non blocking. It has been BlockHound tested, and for sure, does not contain any database, web call IO.</p>\n<p>Yet, the computation is heavy, lengthy (but again, non blocking).</p>\n<p>What <code>heavyComputation</code> does is that it takes the string, performs some in memory decryption,  convert to some objects, check some fields against a BCrypt hash, in memory re encyption.\nThe <code>heavyComputation</code> is very heavy and takes up to 5 second to complete for one string.</p>\n<pre><code>@GetMapping(value = &quot;/upload-flux&quot;, consumes = MediaType.MULTIPART_FORM_DATA_VALUE, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public Flux&lt;String&gt; question(@RequestPart(&quot;question&quot;) Flux&lt;String&gt; stringFlux) {\n        return stringFlux.map(oneString -&gt; heavyComputation(oneString));\n    }\n\n    private String heavyComputation(String oneString) {\n        // heavy and time-consuming in memory decryption\n        // heavy and time-consuming conversion to java object\n        // heavy and time-consuming validation of fields against hash\n        // heavy and time-consuming re encryption \n        // return the re encrypted string\n    }\n</code></pre>\n<p>I was hoping by using Spring Webflux, I could see some concurrency and asyncs, as the hardware are constrains to 1 cpu only.</p>\n<p>Sadly, I observe everything is done on <code>reactor-http-nio-1</code> thread, and looks like it is fairly sequential, one first string, heavyComputation which takes 5ish seconds, then the second string, etc.</p>\n<p>What am I doing wrong please?</p>\n<p>Thank you</p>\n"},{"tags":["java","eclipse","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482532355,"creation_date":1482532355,"answer_id":41308528,"question_id":41291996,"body_markdown":"Windows is not officially supported, yet.\r\n\r\nHowever, Rocksdb 4.9.0+ releases should have a Windows DLL build and should work out of the box.\r\n\r\nFor older versions, there is also as workaround as described here: http://search-hadoop.com/m/Kafka/uyzND13pNzscClkW1?subj=Re+Kafka+Streams+on+Windows+","title":"Executing kafka-stream example with eclipse, fails with UnsatisfiedLinkError for librocksdbjni.dll (Can&#39;t find dependency)","body":"<p>Windows is not officially supported, yet.</p>\n\n<p>However, Rocksdb 4.9.0+ releases should have a Windows DLL build and should work out of the box.</p>\n\n<p>For older versions, there is also as workaround as described here: <a href=\"http://search-hadoop.com/m/Kafka/uyzND13pNzscClkW1?subj=Re+Kafka+Streams+on+Windows+\" rel=\"nofollow noreferrer\">http://search-hadoop.com/m/Kafka/uyzND13pNzscClkW1?subj=Re+Kafka+Streams+on+Windows+</a></p>\n"},{"tags":[],"owner":{"account_id":18402364,"reputation":1,"user_id":13405080,"display_name":"Rajalingam Pitchaimuthu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588440130,"creation_date":1588440130,"answer_id":61563492,"question_id":41291996,"body_markdown":"Installing vc_redist.x64 from https://www.microsoft.com/en-us/download/details.aspx?id=48145 helped to resolve the issue.  I was facing same issue in Windows10 home edition","title":"Executing kafka-stream example with eclipse, fails with UnsatisfiedLinkError for librocksdbjni.dll (Can&#39;t find dependency)","body":"<p>Installing vc_redist.x64 from <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48145\" rel=\"nofollow noreferrer\">https://www.microsoft.com/en-us/download/details.aspx?id=48145</a> helped to resolve the issue.  I was facing same issue in Windows10 home edition</p>\n"},{"tags":[],"owner":{"account_id":123756,"reputation":4386,"user_id":318414,"accept_rate":95,"display_name":"simonalexander2005"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676468699,"creation_date":1676468699,"answer_id":75460730,"question_id":41291996,"body_markdown":"I resolved this by adding the following dependency to my pom.xml:\r\n\r\n`&lt;dependency&gt;&lt;groupId&gt;org.rocksdb&lt;/groupId&gt;&lt;artifactId&gt;rocksdbjni&lt;/artifactId&gt;&lt;version&gt;6.29.5&lt;/version&gt;&lt;/dependency&gt;`","title":"Executing kafka-stream example with eclipse, fails with UnsatisfiedLinkError for librocksdbjni.dll (Can&#39;t find dependency)","body":"<p>I resolved this by adding the following dependency to my pom.xml:</p>\n<p><code>&lt;dependency&gt;&lt;groupId&gt;org.rocksdb&lt;/groupId&gt;&lt;artifactId&gt;rocksdbjni&lt;/artifactId&gt;&lt;version&gt;6.29.5&lt;/version&gt;&lt;/dependency&gt;</code></p>\n"}],"owner":{"account_id":9902791,"reputation":1,"user_id":7332273,"display_name":"rai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676468699,"creation_date":1482442591,"question_id":41291996,"body_markdown":"I am trying to run a kafka-stream wordcount example with eclipse IDE but getting following error:\r\nI have added  0.10.1.0 kafka-client and 0.10.1.0 kafka-stream as dependency in my pom file. I have also checked the dependency tree and it&#39;s using rocksdbjni-4.9 jar. Based on some read on internet, this issue has been fixed on 0.10.1.0 version of kafka  but I am still getting.\r\nAny help?\r\n\r\n    Exception in thread &quot;StreamThread-1&quot; java.lang.UnsatisfiedLinkError: Local\\Temp\\librocksdbjni6935746072594020003.dll: Can&#39;t find dependent libraries\r\n    \tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n    \tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1937)\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1822)\r\n    \tat java.lang.Runtime.load0(Runtime.java:809)\r\n    \tat java.lang.System.load(System.java:1086)\r\n    \tat org.rocksdb.NativeLibraryLoader.loadLibraryFromJar(NativeLibraryLoader.java:78)\r\n    \tat org.rocksdb.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:56)\r\n    \tat org.rocksdb.RocksDB.loadLibrary(RocksDB.java:47)\r\n    \tat org.rocksdb.RocksDB.&lt;clinit&gt;(RocksDB.java:23)\r\n    \tat org.rocksdb.Options.&lt;clinit&gt;(Options.java:21)\r\n    \tat org.apache.kafka.streams.state.internals.RocksDBStore.&lt;init&gt;(RocksDBStore.java:127)\r\n    \tat org.apache.kafka.streams.state.internals.RocksDBStore.&lt;init&gt;(RocksDBStore.java:112)\r\n    \tat org.apache.kafka.streams.state.internals.RocksDBKeyValueStoreSupplier.get(RocksDBKeyValueStoreSupplier.java:56)\r\n    \tat org.apache.kafka.streams.processor.TopologyBuilder.build(TopologyBuilder.java:787)\r\n    \tat org.apache.kafka.streams.processor.TopologyBuilder.build(TopologyBuilder.java:761)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.createStreamTask(StreamThread.java:631)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.addStreamTasks(StreamThread.java:660)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.access$100(StreamThread.java:69)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread$1.onPartitionsAssigned(StreamThread.java:124)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.onJoinComplete(ConsumerCoordinator.java:228)\r\n    \tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.joinGroupIfNeeded(AbstractCoordinator.java:313)\r\n    \tat org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureActiveGroup(AbstractCoordinator.java:277)\r\n    \tat org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:259)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1013)\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:979)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:407)\r\n    \tat org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:242)\r\n\r\n\r\n","title":"Executing kafka-stream example with eclipse, fails with UnsatisfiedLinkError for librocksdbjni.dll (Can&#39;t find dependency)","body":"<p>I am trying to run a kafka-stream wordcount example with eclipse IDE but getting following error:\nI have added  0.10.1.0 kafka-client and 0.10.1.0 kafka-stream as dependency in my pom file. I have also checked the dependency tree and it's using rocksdbjni-4.9 jar. Based on some read on internet, this issue has been fixed on 0.10.1.0 version of kafka  but I am still getting.\nAny help?</p>\n\n<pre><code>Exception in thread \"StreamThread-1\" java.lang.UnsatisfiedLinkError: Local\\Temp\\librocksdbjni6935746072594020003.dll: Can't find dependent libraries\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1937)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1822)\n    at java.lang.Runtime.load0(Runtime.java:809)\n    at java.lang.System.load(System.java:1086)\n    at org.rocksdb.NativeLibraryLoader.loadLibraryFromJar(NativeLibraryLoader.java:78)\n    at org.rocksdb.NativeLibraryLoader.loadLibrary(NativeLibraryLoader.java:56)\n    at org.rocksdb.RocksDB.loadLibrary(RocksDB.java:47)\n    at org.rocksdb.RocksDB.&lt;clinit&gt;(RocksDB.java:23)\n    at org.rocksdb.Options.&lt;clinit&gt;(Options.java:21)\n    at org.apache.kafka.streams.state.internals.RocksDBStore.&lt;init&gt;(RocksDBStore.java:127)\n    at org.apache.kafka.streams.state.internals.RocksDBStore.&lt;init&gt;(RocksDBStore.java:112)\n    at org.apache.kafka.streams.state.internals.RocksDBKeyValueStoreSupplier.get(RocksDBKeyValueStoreSupplier.java:56)\n    at org.apache.kafka.streams.processor.TopologyBuilder.build(TopologyBuilder.java:787)\n    at org.apache.kafka.streams.processor.TopologyBuilder.build(TopologyBuilder.java:761)\n    at org.apache.kafka.streams.processor.internals.StreamThread.createStreamTask(StreamThread.java:631)\n    at org.apache.kafka.streams.processor.internals.StreamThread.addStreamTasks(StreamThread.java:660)\n    at org.apache.kafka.streams.processor.internals.StreamThread.access$100(StreamThread.java:69)\n    at org.apache.kafka.streams.processor.internals.StreamThread$1.onPartitionsAssigned(StreamThread.java:124)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.onJoinComplete(ConsumerCoordinator.java:228)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.joinGroupIfNeeded(AbstractCoordinator.java:313)\n    at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.ensureActiveGroup(AbstractCoordinator.java:277)\n    at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.poll(ConsumerCoordinator.java:259)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollOnce(KafkaConsumer.java:1013)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:979)\n    at org.apache.kafka.streams.processor.internals.StreamThread.runLoop(StreamThread.java:407)\n    at org.apache.kafka.streams.processor.internals.StreamThread.run(StreamThread.java:242)\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-flink"],"comments":[{"owner":{"account_id":268602,"reputation":75188,"user_id":557445,"accept_rate":100,"display_name":"Rion Williams"},"score":0,"creation_date":1676474025,"post_id":75460674,"comment_id":133144281,"body_markdown":"You may want to confirm that your Kafka configuration (e.g. bootstrap server) is properly configured and pointing to the correct location and verify that if you are using any type of authentication (i.e. SASL, etc.) that those properties are properly configured as well.\n\nIt might not hurt to share _roughly_ what those configurations look like to rule out a configuration problem.","body":"You may want to confirm that your Kafka configuration (e.g. bootstrap server) is properly configured and pointing to the correct location and verify that if you are using any type of authentication (i.e. SASL, etc.) that those properties are properly configured as well.  It might not hurt to share <i>roughly</i> what those configurations look like to rule out a configuration problem."},{"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"score":0,"creation_date":1676475208,"post_id":75460674,"comment_id":133144744,"body_markdown":"But when I run this code, if the mentioned topic is not present, it creates this topic on the server. This implies that the connection is a success. But when it comes to writing the data to the topic, that is where it starts failing.","body":"But when I run this code, if the mentioned topic is not present, it creates this topic on the server. This implies that the connection is a success. But when it comes to writing the data to the topic, that is where it starts failing."}],"owner":{"account_id":7935210,"reputation":21,"user_id":5991506,"display_name":"Abhinav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676468415,"creation_date":1676468415,"question_id":75460674,"body_markdown":"I have a data like {name: &quot;abc&quot;, age: 20} being read from kafka in a flink code using Java.\r\n\r\nI am trying to sink this data into Kafka from flink\r\n\r\n```\r\nKafkaSink&lt;AllIncidentsDataPOJO&gt; sink = KafkaSink.&lt;AllIncidentsDataPOJO&gt;builder()\r\n                        .setBootstrapServers(this.bootstrapServer)\r\n                        .setKafkaProducerConfig(kafkaProps)\r\n                        .setRecordSerializer(KafkaRecordSerializationSchema.builder()\r\n                                        .setTopic(&quot;flink-all-incidents&quot;)\r\n                                        .setValueSerializationSchema(new IncidentsSerializationSchema()).build())\r\n                        .setDeliverGuarantee(DeliveryGuarantee.EXACTLY_ONCE)\r\n                        .build();\r\n```\r\n\r\n**IncidentSerializationSchema**\r\n\r\n```\r\npublic class IncidentsSerializationSchema implements SerializationSchema&lt;AllIncidentsDataPOJO&gt; {\r\n    static ObjectMapper objectMapper = new ObjectMapper();\r\n    @Override\r\n    public byte[] serialize(AllIncidentsDataPOJO element) {\r\n        if (objectMapper == null) {\r\n            objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            objectMapper = new ObjectMapper();\r\n        }\r\n        try {\r\n//            System.out.println(&quot;Returned value: &quot; + objectMapper.writeValueAsString(element).getBytes());\r\n            return objectMapper.writeValueAsString(element).getBytes();\r\n        } catch (\r\n                org.apache.flink.shaded.jackson2.com.fasterxml.jackson.core.JsonProcessingException e) {\r\n            System.out.println(&quot;Exception: &quot; + e);\r\n        }\r\n        return new byte[0];\r\n    }\r\n}\r\n```\r\n\r\nNow when I print within the above class it gives me a serialized message of say \r\n```\r\nReturned value: [B@6f29a884\r\nReturned value: [B@743145c5\r\nReturned value: [B@6aa6b431\r\nReturned value: [B@208c0151\r\nReturned value: [B@1a3a0c6d\r\nReturned value: [B@7972da35\r\nReturned value: [B@1097059f\r\nReturned value: [B@6013a87b\r\nReturned value: [B@27b252dc\r\nReturned value: [B@288478b7\r\nReturned value: [B@54185041\r\nReturned value: [B@970646b\r\n```\r\n\r\nBut when I try to use data.sinkTo(sink) after initializing KafkaSink, it starts disconnecting\r\n\r\n```\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 35 due to node 8 being disconnected (elapsed time since creation: 292ms, elapsed time since send: 292ms, request timeout: 30000ms)\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 37 due to node 8 being disconnected (elapsed time since creation: 639ms, elapsed time since send: 639ms, request timeout: 30000ms)\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\r\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 38 due to node 8 being disconnected (elapsed time since creation: 875ms, elapsed time since send: 875ms, request timeout: 30000ms)\r\n```\r\n\r\nCan someone please help me here?","title":"Unable to sink record to KafkaSink in Apache Flink","body":"<p>I have a data like {name: &quot;abc&quot;, age: 20} being read from kafka in a flink code using Java.</p>\n<p>I am trying to sink this data into Kafka from flink</p>\n<pre><code>KafkaSink&lt;AllIncidentsDataPOJO&gt; sink = KafkaSink.&lt;AllIncidentsDataPOJO&gt;builder()\n                        .setBootstrapServers(this.bootstrapServer)\n                        .setKafkaProducerConfig(kafkaProps)\n                        .setRecordSerializer(KafkaRecordSerializationSchema.builder()\n                                        .setTopic(&quot;flink-all-incidents&quot;)\n                                        .setValueSerializationSchema(new IncidentsSerializationSchema()).build())\n                        .setDeliverGuarantee(DeliveryGuarantee.EXACTLY_ONCE)\n                        .build();\n</code></pre>\n<p><strong>IncidentSerializationSchema</strong></p>\n<pre><code>public class IncidentsSerializationSchema implements SerializationSchema&lt;AllIncidentsDataPOJO&gt; {\n    static ObjectMapper objectMapper = new ObjectMapper();\n    @Override\n    public byte[] serialize(AllIncidentsDataPOJO element) {\n        if (objectMapper == null) {\n            objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n            objectMapper = new ObjectMapper();\n        }\n        try {\n//            System.out.println(&quot;Returned value: &quot; + objectMapper.writeValueAsString(element).getBytes());\n            return objectMapper.writeValueAsString(element).getBytes();\n        } catch (\n                org.apache.flink.shaded.jackson2.com.fasterxml.jackson.core.JsonProcessingException e) {\n            System.out.println(&quot;Exception: &quot; + e);\n        }\n        return new byte[0];\n    }\n}\n</code></pre>\n<p>Now when I print within the above class it gives me a serialized message of say</p>\n<pre><code>Returned value: [B@6f29a884\nReturned value: [B@743145c5\nReturned value: [B@6aa6b431\nReturned value: [B@208c0151\nReturned value: [B@1a3a0c6d\nReturned value: [B@7972da35\nReturned value: [B@1097059f\nReturned value: [B@6013a87b\nReturned value: [B@27b252dc\nReturned value: [B@288478b7\nReturned value: [B@54185041\nReturned value: [B@970646b\n</code></pre>\n<p>But when I try to use data.sinkTo(sink) after initializing KafkaSink, it starts disconnecting</p>\n<pre><code>[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 35 due to node 8 being disconnected (elapsed time since creation: 292ms, elapsed time since send: 292ms, request timeout: 30000ms)\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 37 due to node 8 being disconnected (elapsed time since creation: 639ms, elapsed time since send: 639ms, request timeout: 30000ms)\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Node 8 disconnected.\n[kafka-producer-network-thread | producer-kafka-sink-0-1] INFO org.apache.kafka.clients.NetworkClient - [Producer clientId=producer-kafka-sink-0-1, transactionalId=kafka-sink-0-1] Cancelled in-flight API_VERSIONS request with correlation id 38 due to node 8 being disconnected (elapsed time since creation: 875ms, elapsed time since send: 875ms, request timeout: 30000ms)\n</code></pre>\n<p>Can someone please help me here?</p>\n"},{"tags":["java"],"owner":{"account_id":20740302,"reputation":87,"user_id":15230150,"display_name":"pRo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676468329,"creation_date":1676468329,"question_id":75460643,"body_markdown":"I am reading a pdf and extract the text from it into an ArrayList. I am collecting all the bookmarks from the pdf which in this case are the titles of each section and I add them into a list. I want to extract each section by using regex based on the titles/bookmarks. Below what I have tried so far.\r\n\r\n        for (String text1 : texts) {\r\n\r\n            for (int title = 0; title &lt; titles.size(); title++) {\r\n\r\n                try {\r\n                       //Regex Pattern to find the text between two titles \r\n                    Pattern p = Pattern.compile(titles.get(title) +\r\n                            &quot;.*(\\\\n.*)+?(?=&quot; + titles.get(title + 1) + &#39;)&#39;);\r\n                    // the issue here is that the title+1 goes over the size of the titles\r\n                    Matcher matcherTitle = p.matcher(text1);\r\n                    // System.out.println(p.matcher(text));\r\n                    for (int i = 1; i &lt;= matcherTitle.groupCount(); i++) {\r\n                        System.out.println(matcherTitle.group(i));\r\n                    }\r\n\r\n                } catch (Exception e) {\r\n                    Pattern p = Pattern.compile(titles.get(title) +\r\n                            &quot;(.|\\\\n)\\\\.*&quot;);\r\n                    Matcher matcherTitle = p.matcher(text1);\r\n                    \r\n                    // System.out.println(p.matcher(text).results().toString());\r\n                    // System.out.println(titles.get(title) + &quot; This title is the last Title&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\nLet&#39;s say that ```titles``` is the list with the titles and ```texts``` is the list with the text. Unfortunately, nothing is printed out. In the end I would like to write each section into a txt file with the name of the file being the title of each section.\r\n","title":"Split pdf into sections based on titles/bookmarks using regex","body":"<p>I am reading a pdf and extract the text from it into an ArrayList. I am collecting all the bookmarks from the pdf which in this case are the titles of each section and I add them into a list. I want to extract each section by using regex based on the titles/bookmarks. Below what I have tried so far.</p>\n<pre><code>    for (String text1 : texts) {\n\n        for (int title = 0; title &lt; titles.size(); title++) {\n\n            try {\n                   //Regex Pattern to find the text between two titles \n                Pattern p = Pattern.compile(titles.get(title) +\n                        &quot;.*(\\\\n.*)+?(?=&quot; + titles.get(title + 1) + ')');\n                // the issue here is that the title+1 goes over the size of the titles\n                Matcher matcherTitle = p.matcher(text1);\n                // System.out.println(p.matcher(text));\n                for (int i = 1; i &lt;= matcherTitle.groupCount(); i++) {\n                    System.out.println(matcherTitle.group(i));\n                }\n\n            } catch (Exception e) {\n                Pattern p = Pattern.compile(titles.get(title) +\n                        &quot;(.|\\\\n)\\\\.*&quot;);\n                Matcher matcherTitle = p.matcher(text1);\n                \n                // System.out.println(p.matcher(text).results().toString());\n                // System.out.println(titles.get(title) + &quot; This title is the last Title&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>Let's say that <code>titles</code> is the list with the titles and <code>texts</code> is the list with the text. Unfortunately, nothing is printed out. In the end I would like to write each section into a txt file with the name of the file being the title of each section.</p>\n"},{"tags":["java","hibernate","kotlin","jpa","quarkus"],"comments":[{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":2,"creation_date":1676442958,"post_id":75451073,"comment_id":133135472,"body_markdown":"Could you create a runnable test case somewhere?","body":"Could you create a runnable test case somewhere?"},{"owner":{"account_id":23182632,"reputation":65,"user_id":17280246,"display_name":"Adasiek"},"score":2,"creation_date":1676451058,"post_id":75451073,"comment_id":133137226,"body_markdown":"@DavideD&#39;Alto Hello. Thx for help! I am sharing demo project https://github.com/damiankaplon/stack-question. We have generated clean Quarkus 2.16.2. Tried to provide minimal application to invoke an error. To test locally GET localhost:8080/demo","body":"@DavideD&#39;Alto Hello. Thx for help! I am sharing demo project <a href=\"https://github.com/damiankaplon/stack-question\" rel=\"nofollow noreferrer\">github.com/damiankaplon/stack-question</a>. We have generated clean Quarkus 2.16.2. Tried to provide minimal application to invoke an error. To test locally GET localhost:8080/demo"}],"owner":{"account_id":23182632,"reputation":65,"user_id":17280246,"display_name":"Adasiek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676468258,"creation_date":1676394306,"question_id":75451073,"body_markdown":"We are migrating our application from Spring Data + Hibernate (it was working) to Quarkus Panache (version v2.16.2) + Reactive Hibernate.\r\n```\r\nabstract class BaseEntity&lt;ID&gt; : PanacheEntityBase {\r\n\r\n    open val id: ID? = null\r\n\r\n    override fun equals(other: Any?): Boolean {\r\n        if (this === other) return true\r\n        if (other == null || Hibernate.getClass(this) != Hibernate.getClass(other)) return false\r\n        other as BaseEntity&lt;*&gt;\r\n        return id != null &amp;&amp; id == other.id\r\n    }\r\n\r\n    override fun hashCode(): Int {\r\n        return javaClass.hashCode()\r\n    }\r\n\r\n    override fun toString(): String {\r\n        return &quot;${javaClass.simpleName}&lt;$id&gt;&quot;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Embeddable\r\nclass AssociatedAccountCompositeId(\r\n\r\n    @Column(name = &quot;customer_account_id&quot;)\r\n    val customerAccountId: String,\r\n\r\n    @Column(name = &quot;promotion_code_id&quot;)\r\n    val promotionCodeId: Long\r\n\r\n) : Serializable {\r\n\r\n    companion object {\r\n        private const val serialVersionUID: Long = 845208461728L\r\n    }\r\n\r\n    override fun equals(other: Any?): Boolean {\r\n        if (this === other) return true\r\n        if (javaClass != other?.javaClass) return false\r\n\r\n        other as AssociatedAccountCompositeId\r\n\r\n        if (customerAccountId != other.customerAccountId) return false\r\n        if (promotionCodeId != other.promotionCodeId) return false\r\n        return true\r\n    }\r\n\r\n    override fun hashCode(): Int {\r\n        return Objects.hash(customerAccountId, promotionCodeId)\r\n    }\r\n\r\n    override fun toString(): String {\r\n        return &quot;${javaClass.simpleName}&lt;$customerAccountId&gt;&lt;$promotionCodeId&gt;&quot;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;promotion_code&quot;)\r\nclass PromotionCodeEntity(\r\n\r\n    @OneToOne(mappedBy = &quot;promotionCode&quot;)\r\n    var associatedAccount: AssociatedAccountEntity?\r\n\r\n) : BaseEntity&lt;Long&gt;() {\r\n\r\n    @Id\r\n    @Column(name = &quot;promotion_code_id&quot;)\r\n    @SequenceGenerator(name = &quot;promotion_code_sq&quot;, sequenceName = &quot;promotion_code_sq&quot;, allocationSize = 100)\r\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;promotion_code_sq&quot;)\r\n    override val id: Long? = null\r\n}\r\n```\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;account_assoc&quot;)\r\nclass AssociatedAccountEntity(\r\n\r\n    @EmbeddedId\r\n    override val id: AssociatedAccountCompositeId,\r\n\r\n    @OneToOne\r\n    @JoinColumn(name = &quot;promotion_code_id&quot;, insertable = false, updatable = false)\r\n    val promotionCode: PromotionCodeEntity\r\n\r\n) : BaseEntity&lt;AssociatedAccountCompositeId?&gt;()\r\n```\r\n\r\nWe were migrating the project and different CompositeKey works but here I cannot make it work for few days, and the main difference in OneToOne relationship. Right now I have prepared simplest possible usecase, am getting error:\r\n\r\n```\r\nfun method(customerId: String, dto: PromotionCodeAssignRequestParameters): Uni&lt;List&lt;PromotionCodeEntity&gt;&gt; {\r\n        return PromotionCodeEntity.findAll().list()\r\n}\r\n```\r\n\r\n```\r\n&quot;Error accessing field [private java.lang.String sth.promotion_campaigns_service.enitites.id.AssociatedAccountCompositeId.customerAccountId] by reflection for persistent property [sth.promotion_campaigns_service.enitites.id.AssociatedAccountCompositeId#customerAccountId] : 1&quot;,\r\n```\r\n\r\nI tried obvious things like manual open instead of gradle plugin or changing val to var everywhere. &lt;br&gt;\r\nAny help would be appreciated.\r\n\r\nEDIT\r\nI am attaching project w example https://github.com/damiankaplon/stack-question","title":"Cannot get OneToOne Mapping working with Composite Key. Quarkus + Reactive Hibernate","body":"<p>We are migrating our application from Spring Data + Hibernate (it was working) to Quarkus Panache (version v2.16.2) + Reactive Hibernate.</p>\n<pre><code>abstract class BaseEntity&lt;ID&gt; : PanacheEntityBase {\n\n    open val id: ID? = null\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (other == null || Hibernate.getClass(this) != Hibernate.getClass(other)) return false\n        other as BaseEntity&lt;*&gt;\n        return id != null &amp;&amp; id == other.id\n    }\n\n    override fun hashCode(): Int {\n        return javaClass.hashCode()\n    }\n\n    override fun toString(): String {\n        return &quot;${javaClass.simpleName}&lt;$id&gt;&quot;\n    }\n}\n</code></pre>\n<pre><code>@Embeddable\nclass AssociatedAccountCompositeId(\n\n    @Column(name = &quot;customer_account_id&quot;)\n    val customerAccountId: String,\n\n    @Column(name = &quot;promotion_code_id&quot;)\n    val promotionCodeId: Long\n\n) : Serializable {\n\n    companion object {\n        private const val serialVersionUID: Long = 845208461728L\n    }\n\n    override fun equals(other: Any?): Boolean {\n        if (this === other) return true\n        if (javaClass != other?.javaClass) return false\n\n        other as AssociatedAccountCompositeId\n\n        if (customerAccountId != other.customerAccountId) return false\n        if (promotionCodeId != other.promotionCodeId) return false\n        return true\n    }\n\n    override fun hashCode(): Int {\n        return Objects.hash(customerAccountId, promotionCodeId)\n    }\n\n    override fun toString(): String {\n        return &quot;${javaClass.simpleName}&lt;$customerAccountId&gt;&lt;$promotionCodeId&gt;&quot;\n    }\n}\n</code></pre>\n<pre><code>\n@Entity\n@Table(name = &quot;promotion_code&quot;)\nclass PromotionCodeEntity(\n\n    @OneToOne(mappedBy = &quot;promotionCode&quot;)\n    var associatedAccount: AssociatedAccountEntity?\n\n) : BaseEntity&lt;Long&gt;() {\n\n    @Id\n    @Column(name = &quot;promotion_code_id&quot;)\n    @SequenceGenerator(name = &quot;promotion_code_sq&quot;, sequenceName = &quot;promotion_code_sq&quot;, allocationSize = 100)\n    @GeneratedValue(strategy = SEQUENCE, generator = &quot;promotion_code_sq&quot;)\n    override val id: Long? = null\n}\n</code></pre>\n<pre><code>@Entity\n@Table(name = &quot;account_assoc&quot;)\nclass AssociatedAccountEntity(\n\n    @EmbeddedId\n    override val id: AssociatedAccountCompositeId,\n\n    @OneToOne\n    @JoinColumn(name = &quot;promotion_code_id&quot;, insertable = false, updatable = false)\n    val promotionCode: PromotionCodeEntity\n\n) : BaseEntity&lt;AssociatedAccountCompositeId?&gt;()\n</code></pre>\n<p>We were migrating the project and different CompositeKey works but here I cannot make it work for few days, and the main difference in OneToOne relationship. Right now I have prepared simplest possible usecase, am getting error:</p>\n<pre><code>fun method(customerId: String, dto: PromotionCodeAssignRequestParameters): Uni&lt;List&lt;PromotionCodeEntity&gt;&gt; {\n        return PromotionCodeEntity.findAll().list()\n}\n</code></pre>\n<pre><code>&quot;Error accessing field [private java.lang.String sth.promotion_campaigns_service.enitites.id.AssociatedAccountCompositeId.customerAccountId] by reflection for persistent property [sth.promotion_campaigns_service.enitites.id.AssociatedAccountCompositeId#customerAccountId] : 1&quot;,\n</code></pre>\n<p>I tried obvious things like manual open instead of gradle plugin or changing val to var everywhere. <br>\nAny help would be appreciated.</p>\n<p>EDIT\nI am attaching project w example <a href=\"https://github.com/damiankaplon/stack-question\" rel=\"nofollow noreferrer\">https://github.com/damiankaplon/stack-question</a></p>\n"},{"tags":["java","spring","oracle","hibernate"],"comments":[{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1676467744,"post_id":75460426,"comment_id":133141991,"body_markdown":"You need ojdbc8 or ojdbc10 according to this page: https://www.oracle.com/sg/database/technologies/appdev/jdbc-downloads.html","body":"You need ojdbc8 or ojdbc10 according to this page: <a href=\"https://www.oracle.com/sg/database/technologies/appdev/jdbc-downloads.html\" rel=\"nofollow noreferrer\">oracle.com/sg/database/technologies/appdev/jdbc-downloads.ht&zwnj;&#8203;ml</a>"},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":1,"creation_date":1676467812,"post_id":75460426,"comment_id":133142015,"body_markdown":"And since you&#39;re on Java 8, you should use ojdbc8.","body":"And since you&#39;re on Java 8, you should use ojdbc8."},{"owner":{"account_id":24226787,"reputation":186,"user_id":18181155,"display_name":"oisene"},"score":0,"creation_date":1676475446,"post_id":75460426,"comment_id":133144837,"body_markdown":"If you are unable to upgrade Java and JDBC, you can set parameter SQLNET.ALLOWED_LOGON_VERSION_SERVER=11 in sqlnet.ora on the datbase server. Upgrade highly recommended, though.","body":"If you are unable to upgrade Java and JDBC, you can set parameter SQLNET.ALLOWED_LOGON_VERSION_SERVER=11 in sqlnet.ora on the datbase server. Upgrade highly recommended, though."},{"owner":{"account_id":779805,"reputation":4963,"user_id":836215,"display_name":"ibre5041"},"score":0,"creation_date":1676500914,"post_id":75460426,"comment_id":133151999,"body_markdown":"You should also check version of password hash stored with your DB user: https://stackoverflow.com/a/56531594/836215","body":"You should also check version of password hash stored with your DB user: <a href=\"https://stackoverflow.com/a/56531594/836215\">stackoverflow.com/a/56531594/836215</a>"}],"owner":{"account_id":10371181,"reputation":19,"user_id":7648831,"display_name":"Azim Uddin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":673,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676467368,"creation_date":1676467368,"question_id":75460426,"body_markdown":"I&#39;m getting below exception whenever I try to start my java application \r\n\r\n```\r\norg.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator  - HHH000342: Could not obtain connection to query metadata : ORA-28040: No matching authentication protocol\r\n\r\n1406 [main] INFO  org.hibernate.dialect.Dialect  - HHH000400: Using dialect: org.hibernate.dialect.Oracle10gDialect\r\n6359 [main] ERROR org.hibernate.hql.spi.id.IdTableHelper  - Unable obtain JDBC Connection\r\njava.sql.SQLException: ORA-28040: No matching authentication protocol\r\n\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:439)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:388)\r\n\tat oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:381)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.processError(T4CTTIoauthenticate.java:427)\r\n\tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:436)\r\n\tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:186)\r\n\tat oracle.jdbc.driver.T4CTTIoauthenticate.doOSESSKEY(T4CTTIoauthenticate.java:390)\r\n\tat oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:356)\r\n\tat oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:531)\r\n\tat oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:221)\r\n\tat oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\r\n\tat oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:503)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:664)\r\n\tat java.sql.DriverManager.getConnection(DriverManager.java:208)\r\n\tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:154)\r\n\tat org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:145)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205)\r\n\tat org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169)\r\n\tat org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\r\n\tat org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\r\n\tat org.hibernate.hql.spi.id.IdTableHelper.executeIdTableCreationStatements(IdTableHelper.java:67)\r\n\tat org.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:125)\r\n\tat org.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:42)\r\n\tat org.hibernate.hql.spi.id.AbstractMultiTableBulkIdStrategyImpl.prepare(AbstractMultiTableBulkIdStrategyImpl.java:88)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:313)\r\n\tat org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\r\n\tat com.company.frontend.tracking.TrackingContext.&lt;init&gt;(TrackingContext.java:24)\r\n\tat com.company.frontend.tracking.TrackingContext.getInstance(TrackingContext.java:29)\r\n\tat com.company.process.CorrespondenceFTPInputProcess.&lt;init&gt;(Myapplication.java:23)\r\n\tat com.company.frontend.Myapplication.preRun(Myapplication.java:41)\r\n\tat com.company.frontend.ProcessApp.run(ProcessApp.java:275)\r\n\tat com.company.frontend.Myapplication.main(CorrespondenceFTPRouterIn.java:88)\r\n6409 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n[main] INFO org.springframework.cache.ehcache.EhCacheManagerFactoryBean - Initializing EhCache CacheManager\r\n02/15/23  06:37:10  Initializing FTPInputProcess\r\nDatabase connection unavailable\r\n```\r\nversions of project I&#39;m using \r\nJava version:java 1.8\r\ndatabase is oracle 19c.\r\n\r\n\r\nThe thing I have tried \r\nI updated the ojdbc5 jar to ojdbc6 but still no luck, Can someone please assist me with this problem?\r\n","title":"Unable obtain JDBC Connection with oracle 19c in java 1.8","body":"<p>I'm getting below exception whenever I try to start my java application</p>\n<pre><code>org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator  - HHH000342: Could not obtain connection to query metadata : ORA-28040: No matching authentication protocol\n\n1406 [main] INFO  org.hibernate.dialect.Dialect  - HHH000400: Using dialect: org.hibernate.dialect.Oracle10gDialect\n6359 [main] ERROR org.hibernate.hql.spi.id.IdTableHelper  - Unable obtain JDBC Connection\njava.sql.SQLException: ORA-28040: No matching authentication protocol\n\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:439)\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:388)\n    at oracle.jdbc.driver.T4CTTIoer.processError(T4CTTIoer.java:381)\n    at oracle.jdbc.driver.T4CTTIoauthenticate.processError(T4CTTIoauthenticate.java:427)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:436)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:186)\n    at oracle.jdbc.driver.T4CTTIoauthenticate.doOSESSKEY(T4CTTIoauthenticate.java:390)\n    at oracle.jdbc.driver.T4CConnection.logon(T4CConnection.java:356)\n    at oracle.jdbc.driver.PhysicalConnection.&lt;init&gt;(PhysicalConnection.java:531)\n    at oracle.jdbc.driver.T4CConnection.&lt;init&gt;(T4CConnection.java:221)\n    at oracle.jdbc.driver.T4CDriverExtension.getConnection(T4CDriverExtension.java:32)\n    at oracle.jdbc.driver.OracleDriver.connect(OracleDriver.java:503)\n    at java.sql.DriverManager.getConnection(DriverManager.java:664)\n    at java.sql.DriverManager.getConnection(DriverManager.java:208)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriverManager(DriverManagerDataSource.java:154)\n    at org.springframework.jdbc.datasource.DriverManagerDataSource.getConnectionFromDriver(DriverManagerDataSource.java:145)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnectionFromDriver(AbstractDriverBasedDataSource.java:205)\n    at org.springframework.jdbc.datasource.AbstractDriverBasedDataSource.getConnection(AbstractDriverBasedDataSource.java:169)\n    at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)\n    at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:180)\n    at org.hibernate.hql.spi.id.IdTableHelper.executeIdTableCreationStatements(IdTableHelper.java:67)\n    at org.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:125)\n    at org.hibernate.hql.spi.id.global.GlobalTemporaryTableBulkIdStrategy.finishPreparation(GlobalTemporaryTableBulkIdStrategy.java:42)\n    at org.hibernate.hql.spi.id.AbstractMultiTableBulkIdStrategyImpl.prepare(AbstractMultiTableBulkIdStrategyImpl.java:88)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:313)\n    at org.hibernate.boot.internal.SessionFactoryBuilderImpl.build(SessionFactoryBuilderImpl.java:462)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1237)\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:57)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:390)\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:377)\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1853)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1790)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:594)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:226)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1109)\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:869)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:551)\n    at com.company.frontend.tracking.TrackingContext.&lt;init&gt;(TrackingContext.java:24)\n    at com.company.frontend.tracking.TrackingContext.getInstance(TrackingContext.java:29)\n    at com.company.process.CorrespondenceFTPInputProcess.&lt;init&gt;(Myapplication.java:23)\n    at com.company.frontend.Myapplication.preRun(Myapplication.java:41)\n    at com.company.frontend.ProcessApp.run(ProcessApp.java:275)\n    at com.company.frontend.Myapplication.main(CorrespondenceFTPRouterIn.java:88)\n6409 [main] INFO  org.hibernate.engine.transaction.jta.platform.internal.JtaPlatformInitiator  - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n[main] INFO org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'\n[main] INFO org.springframework.cache.ehcache.EhCacheManagerFactoryBean - Initializing EhCache CacheManager\n02/15/23  06:37:10  Initializing FTPInputProcess\nDatabase connection unavailable\n</code></pre>\n<p>versions of project I'm using\nJava version:java 1.8\ndatabase is oracle 19c.</p>\n<p>The thing I have tried\nI updated the ojdbc5 jar to ojdbc6 but still no luck, Can someone please assist me with this problem?</p>\n"},{"tags":["java","android","webview","dropdown"],"answers":[{"tags":[],"owner":{"account_id":19888576,"reputation":25,"user_id":14571121,"display_name":"javaOutlaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625050808,"creation_date":1625050808,"answer_id":68193500,"question_id":55136607,"body_markdown":"The object you are calling has died because its hosting process no longer exists.\r\n[refer to this thread][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/21826670/deadobjectexception-on-android-app","title":"Android Webview Crash on dropdown Click","body":"<p>The object you are calling has died because its hosting process no longer exists.\n<a href=\"https://stackoverflow.com/questions/21826670/deadobjectexception-on-android-app\">refer to this thread</a></p>\n"},{"tags":[],"owner":{"account_id":6965780,"reputation":952,"user_id":5343866,"display_name":"Abhinav Suman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1625065849,"creation_date":1625065299,"answer_id":68197256,"question_id":55136607,"body_markdown":"Since I&#39;m not having the URL which you are using at your end but tried with several URLs that is having a dropdown in their response and my `WebView` is working fine on the devices. \r\n\r\nThe device which I tested on is `PIXEL 2, Samsung Galaxy S20+, S10+`  \r\n\r\nhere is the dependency I have used for the AndroidX in my Project. \r\n\r\n&gt; Especially, I suggest updating the dependency first.\r\n\r\n \r\n\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\r\n    implementation &#39;androidx.core:core-ktx:1.5.0&#39;\r\n    implementation &#39;androidx.appcompat:appcompat:1.3.0&#39;\r\n    implementation &#39;com.google.android.material:material:1.3.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.0.4&#39;\r\n\r\nand the code for the `WebView` is pretty much normal.\r\n\r\n    binding.webView.settings.apply {\r\n         // TODO Depending upon your requirement you can use these setting to be applied before loading the URL.\r\n         // javaScriptEnabled = true\r\n         // loadWithOverviewMode = true\r\n         // javaScriptCanOpenWindowsAutomatically = true\r\n    }\r\n\r\n    binding.webView.apply {\r\n        webViewClient = object : WebViewClient() {\r\n            override fun shouldOverrideUrlLoading(\r\n                view: WebView,\r\n                url: String\r\n            ): Boolean {\r\n                Log.e(&quot;url coming from server&quot;, url)\r\n                view.loadUrl(url)\r\n                        return false;\r\n            }\r\n       }\r\n       loadUrl(&quot;The URL you want to load here&quot;)\r\n    }\r\n\r\nIf it still not work at your end, then possibly can you share your&#39;s activity code.","title":"Android Webview Crash on dropdown Click","body":"<p>Since I'm not having the URL which you are using at your end but tried with several URLs that is having a dropdown in their response and my <code>WebView</code> is working fine on the devices.</p>\n<p>The device which I tested on is <code>PIXEL 2, Samsung Galaxy S20+, S10+</code></p>\n<p>here is the dependency I have used for the AndroidX in my Project.</p>\n<blockquote>\n<p>Especially, I suggest updating the dependency first.</p>\n</blockquote>\n<pre><code>implementation &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;\nimplementation 'androidx.core:core-ktx:1.5.0'\nimplementation 'androidx.appcompat:appcompat:1.3.0'\nimplementation 'com.google.android.material:material:1.3.0'\nimplementation 'androidx.constraintlayout:constraintlayout:2.0.4'\n</code></pre>\n<p>and the code for the <code>WebView</code> is pretty much normal.</p>\n<pre><code>binding.webView.settings.apply {\n     // TODO Depending upon your requirement you can use these setting to be applied before loading the URL.\n     // javaScriptEnabled = true\n     // loadWithOverviewMode = true\n     // javaScriptCanOpenWindowsAutomatically = true\n}\n\nbinding.webView.apply {\n    webViewClient = object : WebViewClient() {\n        override fun shouldOverrideUrlLoading(\n            view: WebView,\n            url: String\n        ): Boolean {\n            Log.e(&quot;url coming from server&quot;, url)\n            view.loadUrl(url)\n                    return false;\n        }\n   }\n   loadUrl(&quot;The URL you want to load here&quot;)\n}\n</code></pre>\n<p>If it still not work at your end, then possibly can you share your's activity code.</p>\n"},{"tags":[],"owner":{"account_id":11561335,"reputation":243,"user_id":9148371,"accept_rate":50,"display_name":"Priyanka Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625118166,"creation_date":1625116191,"answer_id":68204622,"question_id":55136607,"body_markdown":"Issue- I was extending BaseActivity class instead of AppCompat Activity.\r\n\r\nSince I added *phrase* recently for my app in Base Activity, web view dropdown was crashing. \r\n\r\nI just used below code\r\n\r\n    WebViewActivity extends AppCompatActivity","title":"Android Webview Crash on dropdown Click","body":"<p>Issue- I was extending BaseActivity class instead of AppCompat Activity.</p>\n<p>Since I added <em>phrase</em> recently for my app in Base Activity, web view dropdown was crashing.</p>\n<p>I just used below code</p>\n<pre><code>WebViewActivity extends AppCompatActivity\n</code></pre>\n"}],"owner":{"account_id":11561335,"reputation":243,"user_id":9148371,"accept_rate":50,"display_name":"Priyanka Singhal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":861,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68197256,"answer_count":3,"score":0,"last_activity_date":1676467028,"creation_date":1552462596,"question_id":55136607,"body_markdown":"Webview loads but contains drop-down.When I click on that app crashes\r\n\r\nWebview was working fine till last month but now it&#39;s crashing on clicking dropdown in webview in all the devices. Dependencies used are: \r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n    implementation(&#39;com.google.android.material:material:1.0.0&#39;)\r\n\r\nBelow is attached log:\r\n\r\n\r\n    \r\n\r\n    --------- beginning of crash\r\n    2021-06-30 16:08:03.423 19438-19438/com.dogmasystems.myrentcarbooking A/libc: Fatal signal 5 (SIGTRAP), code -6 (SI_TKILL) in tid 19438 (yrentcarbooking), pid 19438 (yrentcarbooking)\r\n    2021-06-30 16:08:03.541 21456-21456/? E/crash_dump32: unknown process state: t\r\n    2021-06-30 16:08:03.611 21456-21456/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\r\n    2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: Build fingerprint: &#39;samsung/gta3xlwifixx/gta3xlwifi:10/QP1A.190711.020/T510XXS5BUC4:user/release-keys&#39;\r\n    2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: Revision: &#39;4&#39;\r\n    2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: ABI: &#39;arm&#39;\r\n    2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: Timestamp: 2021-06-30 16:08:03+0530\r\n    2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: pid: 19438, tid: 19438, name: yrentcarbooking  &gt;&gt;&gt; com.dogmasystems.myrentcarbooking &lt;&lt;&lt;\r\n    2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: uid: 10316\r\n    2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: signal 5 (SIGTRAP), code -6 (SI_TKILL), fault addr --------\r\n    2021-06-30 16:08:03.614 21456-21456/? A/DEBUG: Abort message: &#39;[FATAL:jni_android.cc(306)] Please include Java exception stack in crash report\r\n        &#39;\r\n    2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r0  00000000  r1  00000000  r2  00000000  r3  c52df784\r\n    2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r4  fff713a4  r5  c8934400  r6  fff70f5c  r7  fff70f78\r\n    2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r8  eabea260  r9  0000004f  r10 fff713ac  r11 fff70f5c\r\n    2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     ip  c88d691c  sp  fff70f48  lr  c6d5c90f  pc  c69045a2\r\n    2021-06-30 16:08:03.616 21456-21456/? A/DEBUG: backtrace:\r\n    2021-06-30 16:08:03.616 21456-21456/? A/DEBUG:       #00 pc 017e55a2  /data/app/com.google.android.trichromelibrary_443021030-3FjkooxbSPI7iFUAICEe6A==/base.apk!libmonochrome.so (offset 0x645000) (BuildId: ea1d73db0ecf7ba0450e8051b6491bc520fd7df9)\r\n    2021-06-30 16:08:04.553 3687-3687/? E//system/bin/tombstoned: Tombstone written to: /data/tombstones/tombstone_08\r\n    2021-06-30 16:08:04.578 3534-3534/? E/audit: type=1701 audit(1625049484.575:48919): auid=4294967295 uid=10316 gid=10316 ses=4294967295 subj=u:r:untrusted_app:s0:c60,c257,c512,c768 pid=19438 comm=&quot;yrentcarbooking&quot; exe=&quot;/system/bin/app_process32&quot; sig=5\r\n    2021-06-30 16:08:04.624 21463-21463/? E/Zygote: isWhitelistProcess - Process is Whitelisted\r\n    2021-06-30 16:08:04.626 21463-21463/? E/Zygote: accessInfo : 1\r\n    2021-06-30 16:08:04.646 21463-21463/? E/ng.android.loo: Not starting debugger since process cannot load the jdwp agent.\r\n    2021-06-30 16:08:04.660 3993-4773/? E/InputDispatcher: channel &#39;379536b com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.WebViewActivity (server)&#39; ~ Channel is unrecoverably broken and will be disposed!\r\n    2021-06-30 16:08:04.664 3993-4773/? E/InputDispatcher: channel &#39;b3e576b com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.DashboardActivity (server)&#39; ~ Channel is unrecoverably broken and will be disposed!\r\n    2021-06-30 16:08:04.725 3993-4017/? E/WindowManager: RemoteException occurs on reporting focusChanged, w=Window{379536b u0 com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.WebViewActivity EXITING}\r\n        android.os.DeadObjectException\r\n            at android.os.BinderProxy.transactNative(Native Method)\r\n            at android.os.BinderProxy.transact(BinderProxy.java:575)\r\n            at android.view.IWindow$Stub$Proxy.windowFocusChanged(IWindow.java:829)\r\n            at com.android.server.wm.WindowState.reportFocusChangedSerialized(WindowState.java:3691)\r\n            at com.android.server.wm.WindowManagerService$H.handleMessage(WindowManagerService.java:5262)\r\n            at android.os.Handler.dispatchMessage(Handler.java:107)\r\n            at android.os.Looper.loop(Looper.java:237)\r\n            at android.os.HandlerThread.run(HandlerThread.java:67)\r\n            at com.android.server.ServiceThread.run(ServiceThread.java:44)","title":"Android Webview Crash on dropdown Click","body":"<p>Webview loads but contains drop-down.When I click on that app crashes</p>\n<p>Webview was working fine till last month but now it's crashing on clicking dropdown in webview in all the devices. Dependencies used are:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.0.2'\nimplementation 'androidx.constraintlayout:constraintlayout:1.1.3'\nimplementation('com.google.android.material:material:1.0.0')\n</code></pre>\n<p>Below is attached log:</p>\n<pre><code>--------- beginning of crash\n2021-06-30 16:08:03.423 19438-19438/com.dogmasystems.myrentcarbooking A/libc: Fatal signal 5 (SIGTRAP), code -6 (SI_TKILL) in tid 19438 (yrentcarbooking), pid 19438 (yrentcarbooking)\n2021-06-30 16:08:03.541 21456-21456/? E/crash_dump32: unknown process state: t\n2021-06-30 16:08:03.611 21456-21456/? A/DEBUG: *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***\n2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: Build fingerprint: 'samsung/gta3xlwifixx/gta3xlwifi:10/QP1A.190711.020/T510XXS5BUC4:user/release-keys'\n2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: Revision: '4'\n2021-06-30 16:08:03.612 21456-21456/? A/DEBUG: ABI: 'arm'\n2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: Timestamp: 2021-06-30 16:08:03+0530\n2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: pid: 19438, tid: 19438, name: yrentcarbooking  &gt;&gt;&gt; com.dogmasystems.myrentcarbooking &lt;&lt;&lt;\n2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: uid: 10316\n2021-06-30 16:08:03.613 21456-21456/? A/DEBUG: signal 5 (SIGTRAP), code -6 (SI_TKILL), fault addr --------\n2021-06-30 16:08:03.614 21456-21456/? A/DEBUG: Abort message: '[FATAL:jni_android.cc(306)] Please include Java exception stack in crash report\n    '\n2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r0  00000000  r1  00000000  r2  00000000  r3  c52df784\n2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r4  fff713a4  r5  c8934400  r6  fff70f5c  r7  fff70f78\n2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     r8  eabea260  r9  0000004f  r10 fff713ac  r11 fff70f5c\n2021-06-30 16:08:03.614 21456-21456/? A/DEBUG:     ip  c88d691c  sp  fff70f48  lr  c6d5c90f  pc  c69045a2\n2021-06-30 16:08:03.616 21456-21456/? A/DEBUG: backtrace:\n2021-06-30 16:08:03.616 21456-21456/? A/DEBUG:       #00 pc 017e55a2  /data/app/com.google.android.trichromelibrary_443021030-3FjkooxbSPI7iFUAICEe6A==/base.apk!libmonochrome.so (offset 0x645000) (BuildId: ea1d73db0ecf7ba0450e8051b6491bc520fd7df9)\n2021-06-30 16:08:04.553 3687-3687/? E//system/bin/tombstoned: Tombstone written to: /data/tombstones/tombstone_08\n2021-06-30 16:08:04.578 3534-3534/? E/audit: type=1701 audit(1625049484.575:48919): auid=4294967295 uid=10316 gid=10316 ses=4294967295 subj=u:r:untrusted_app:s0:c60,c257,c512,c768 pid=19438 comm=&quot;yrentcarbooking&quot; exe=&quot;/system/bin/app_process32&quot; sig=5\n2021-06-30 16:08:04.624 21463-21463/? E/Zygote: isWhitelistProcess - Process is Whitelisted\n2021-06-30 16:08:04.626 21463-21463/? E/Zygote: accessInfo : 1\n2021-06-30 16:08:04.646 21463-21463/? E/ng.android.loo: Not starting debugger since process cannot load the jdwp agent.\n2021-06-30 16:08:04.660 3993-4773/? E/InputDispatcher: channel '379536b com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.WebViewActivity (server)' ~ Channel is unrecoverably broken and will be disposed!\n2021-06-30 16:08:04.664 3993-4773/? E/InputDispatcher: channel 'b3e576b com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.DashboardActivity (server)' ~ Channel is unrecoverably broken and will be disposed!\n2021-06-30 16:08:04.725 3993-4017/? E/WindowManager: RemoteException occurs on reporting focusChanged, w=Window{379536b u0 com.dogmasystems.myrentcarbooking/com.dogmasystems.myrentcarbooking.ui.activities.WebViewActivity EXITING}\n    android.os.DeadObjectException\n        at android.os.BinderProxy.transactNative(Native Method)\n        at android.os.BinderProxy.transact(BinderProxy.java:575)\n        at android.view.IWindow$Stub$Proxy.windowFocusChanged(IWindow.java:829)\n        at com.android.server.wm.WindowState.reportFocusChangedSerialized(WindowState.java:3691)\n        at com.android.server.wm.WindowManagerService$H.handleMessage(WindowManagerService.java:5262)\n        at android.os.Handler.dispatchMessage(Handler.java:107)\n        at android.os.Looper.loop(Looper.java:237)\n        at android.os.HandlerThread.run(HandlerThread.java:67)\n        at com.android.server.ServiceThread.run(ServiceThread.java:44)\n</code></pre>\n"},{"tags":["java","android","installation","sdk"],"comments":[{"owner":{"account_id":5703685,"reputation":4432,"user_id":4507927,"accept_rate":82,"display_name":"Yupi"},"score":0,"creation_date":1515706198,"post_id":48215900,"comment_id":83414063,"body_markdown":"Probably because it is already installed on your PC. You need to find path of it and provide in that box. Usually path is on C and AppData for example something like this: `C:\\Users\\YourUserName\\AppData\\Local\\Android\\sdk`","body":"Probably because it is already installed on your PC. You need to find path of it and provide in that box. Usually path is on C and AppData for example something like this: <code>C:\\Users\\YourUserName\\AppData\\Local\\Android\\sdk</code>"},{"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"score":1,"creation_date":1515706326,"post_id":48215900,"comment_id":83414129,"body_markdown":"@Yupi No. It is not installed, and there is no folder called &quot;Android&quot; in local.","body":"@Yupi No. It is not installed, and there is no folder called &quot;Android&quot; in local."},{"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"score":0,"creation_date":1526909364,"post_id":48215900,"comment_id":87913063,"body_markdown":"Same issue here.  I&#39;ve cleaned AppData, ProgramData, all the Android directories local and root.  Problem persists.","body":"Same issue here.  I&#39;ve cleaned AppData, ProgramData, all the Android directories local and root.  Problem persists."}],"answers":[{"tags":[],"owner":{"account_id":8655,"reputation":20729,"user_id":15689,"accept_rate":91,"display_name":"Brian Knoblauch"},"down_vote_count":2,"up_vote_count":7,"is_accepted":true,"score":5,"last_activity_date":1527009762,"creation_date":1527009762,"answer_id":50473339,"question_id":48215900,"body_markdown":"I *finally* found the solution this morning after battling Android Studio/SDK for quite some time!  In my local AppData I deleted the .gradle directory (which was just short of 2 GiB) and I now get an SDK during Android Studio install.","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>I <em>finally</em> found the solution this morning after battling Android Studio/SDK for quite some time!  In my local AppData I deleted the .gradle directory (which was just short of 2 GiB) and I now get an SDK during Android Studio install.</p>\n"},{"tags":[],"owner":{"account_id":9458213,"reputation":97,"user_id":7032809,"display_name":"Thomas"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1580271370,"creation_date":1580270261,"answer_id":59960294,"question_id":48215900,"body_markdown":"I went through the installation process, opened Android Studio &amp; went to import an existing project. The SDK folder was absent, there were no SDK platforms installed &amp; I couldn&#39;t check-select them for installation through the settings.\r\n\r\nClosing Android Studio and then **re-opening it as administrator** prompted the downloading of additional components (SDK tools, emulator-related stuff, etc), solving the issue.","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>I went through the installation process, opened Android Studio &amp; went to import an existing project. The SDK folder was absent, there were no SDK platforms installed &amp; I couldn't check-select them for installation through the settings.</p>\n\n<p>Closing Android Studio and then <strong>re-opening it as administrator</strong> prompted the downloading of additional components (SDK tools, emulator-related stuff, etc), solving the issue.</p>\n"},{"tags":[],"owner":{"account_id":960314,"reputation":20995,"user_id":984830,"accept_rate":93,"display_name":"Nick Cardoso"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1607682322,"creation_date":1607682322,"answer_id":65249544,"question_id":48215900,"body_markdown":"Answers here are out of date or wrong and so many sources have the wrong info or only part of it. You can use the following steps (steps for windows, but you can adapt):\r\n\r\n- Go to the download page which Android Studio dialog links [which is here](https://developer.android.com/studio#downloads)\r\n- Close Android Studio\r\n- Under &#39;Command line tools only&#39; download the zip for your platform\r\n- Extract the zip to `&lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk`\r\n- It created the directory `cmdline-tools` with the wrong sub structure\r\n    - Create `&lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk/cmdline-tools/latest`\r\n    - Move the `cmdline-tools` bin and lib folders (and any other files) inside the `latest` dir\r\n- Open a command prompt (run as administrator)\r\n- Execute `cd &lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk/cmdline-tools/latest/bin`\r\n- Execute `sdkmanager &quot;platforms;android-28&quot;` (or pick a platform of your own)\r\n- Accept the license with `y` and wait\r\n- Restart Android studio, *et voila*!","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>Answers here are out of date or wrong and so many sources have the wrong info or only part of it. You can use the following steps (steps for windows, but you can adapt):</p>\n<ul>\n<li>Go to the download page which Android Studio dialog links <a href=\"https://developer.android.com/studio#downloads\" rel=\"noreferrer\">which is here</a></li>\n<li>Close Android Studio</li>\n<li>Under 'Command line tools only' download the zip for your platform</li>\n<li>Extract the zip to <code>&lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk</code></li>\n<li>It created the directory <code>cmdline-tools</code> with the wrong sub structure\n<ul>\n<li>Create <code>&lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk/cmdline-tools/latest</code></li>\n<li>Move the <code>cmdline-tools</code> bin and lib folders (and any other files) inside the <code>latest</code> dir</li>\n</ul>\n</li>\n<li>Open a command prompt (run as administrator)</li>\n<li>Execute <code>cd &lt;drive&gt;/Users/&lt;Username&gt;/AppData/Local/Android/Sdk/cmdline-tools/latest/bin</code></li>\n<li>Execute <code>sdkmanager &quot;platforms;android-28&quot;</code> (or pick a platform of your own)</li>\n<li>Accept the license with <code>y</code> and wait</li>\n<li>Restart Android studio, <em>et voila</em>!</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1621371,"reputation":2979,"user_id":1497831,"display_name":"Fr0sT"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1628565553,"creation_date":1617785567,"answer_id":66982642,"question_id":48215900,"body_markdown":"Removing all Android-related files and folders from %userprofile% didn&#39;t help in my case. Additionally I removed registry keys:\r\n- HKLM\\Software\\Wow6432Node\\Android SDK tools\r\n- HKLM\\System\\ControlSet001\\Control\\Session manager\\Environment\\ANDROID_HOME\r\n- HKCU\\Software\\Classes\\VirtualStore\\Machine\\Software\\Wow6432Node\\Android SDK tools\r\n\r\n**In other words**, all that contained path to where I previously installed SDK. Only then Studio stopped assuring me that SDK &quot;is installed&quot;","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>Removing all Android-related files and folders from %userprofile% didn't help in my case. Additionally I removed registry keys:</p>\n<ul>\n<li>HKLM\\Software\\Wow6432Node\\Android SDK tools</li>\n<li>HKLM\\System\\ControlSet001\\Control\\Session manager\\Environment\\ANDROID_HOME</li>\n<li>HKCU\\Software\\Classes\\VirtualStore\\Machine\\Software\\Wow6432Node\\Android SDK tools</li>\n</ul>\n<p><strong>In other words</strong>, all that contained path to where I previously installed SDK. Only then Studio stopped assuring me that SDK &quot;is installed&quot;</p>\n"},{"tags":[],"owner":{"account_id":24615560,"reputation":1,"user_id":18516619,"display_name":"Fox"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1647733694,"creation_date":1647733694,"answer_id":71542978,"question_id":48215900,"body_markdown":"Finally found the culprit. **Deleting the .gradle folder in my %userprofile% (not Appdata) fixed the issue.** After deleting it, the Android Studio installer offered to install the Android SDK during the initial setup.","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>Finally found the culprit. <strong>Deleting the .gradle folder in my %userprofile% (not Appdata) fixed the issue.</strong> After deleting it, the Android Studio installer offered to install the Android SDK during the initial setup.</p>\n"},{"tags":[],"owner":{"account_id":2981004,"reputation":2454,"user_id":2530951,"accept_rate":50,"display_name":"pathe.kiran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656172138,"creation_date":1656169713,"answer_id":72754986,"question_id":48215900,"body_markdown":"I think latest android studio is not coming with sdk.\r\nYou need to install manually.\r\n\r\n1. Select File &gt; Settings &gt; Appearance &amp; Behavior &gt; System Settings &gt; Android SDK &gt; Edit option.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. Click on Next &gt; Accept &gt; Finish.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8iQin.png\r\n  [2]: https://i.stack.imgur.com/f6uZ9.png","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>I think latest android studio is not coming with sdk.\nYou need to install manually.</p>\n<ol>\n<li>Select File &gt; Settings &gt; Appearance &amp; Behavior &gt; System Settings &gt; Android SDK &gt; Edit option.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/8iQin.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8iQin.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Click on Next &gt; Accept &gt; Finish.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/f6uZ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f6uZ9.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":14023324,"reputation":11,"user_id":10129033,"display_name":"Atom94"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676466237,"creation_date":1675940460,"answer_id":75397651,"question_id":48215900,"body_markdown":"I think the main reason can be a network issue, like VPN, not using a public connection,firewall,... as people suggest:\r\n[as they suggest here][1]\r\n\r\nIn my case I was using a corporate network, using my personal WIFI or mobile connection show me the SDK choices:\r\n\r\n 1. after you change the directory to something else like(in the ):\r\nin my case I use that path ***C:\\Users\\ $yourusername \\ .android***\r\n\r\n2. and then finally I can see the SDK options after unchecking hidden choice,\r\nbut cant install if I am on a filtered network as I said above.\r\n[failed terminal output SDK installation screenshot][2]\r\nAfter the terminal within Android studio install the SDK related components, you can now see/find that directory\r\n***C:\\Users\\$username\\ AppData\\ Local \\ Android \\ Sdk***\r\n\r\n**EDIT, to summarize:**\r\n\r\nSo basically be sure to use the **newtwork** that doesnt have firewall exc.(for me doesnt work even if I accept the certificates...and whitelist android studio...) and finish the complete set up(SDK tools,AVD...) on that network who SDK installation dialog appers(you **dont need to reinstall**, when you lunch **Android Studio**)\r\n\r\n  [1]: https://stackoverflow.com/questions/26727531/android-studio-not-including-sdk\r\n  [2]: https://i.stack.imgur.com/mxZHw.png","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>I think the main reason can be a network issue, like VPN, not using a public connection,firewall,... as people suggest:\n<a href=\"https://stackoverflow.com/questions/26727531/android-studio-not-including-sdk\">as they suggest here</a></p>\n<p>In my case I was using a corporate network, using my personal WIFI or mobile connection show me the SDK choices:</p>\n<ol>\n<li><p>after you change the directory to something else like(in the ):\nin my case I use that path <em><strong>C:\\Users\\ $yourusername \\ .android</strong></em></p>\n</li>\n<li><p>and then finally I can see the SDK options after unchecking hidden choice,\nbut cant install if I am on a filtered network as I said above.\n<a href=\"https://i.stack.imgur.com/mxZHw.png\" rel=\"nofollow noreferrer\">failed terminal output SDK installation screenshot</a>\nAfter the terminal within Android studio install the SDK related components, you can now see/find that directory\n<em><strong>C:\\Users$username\\ AppData\\ Local \\ Android \\ Sdk</strong></em></p>\n</li>\n</ol>\n<p><strong>EDIT, to summarize:</strong></p>\n<p>So basically be sure to use the <strong>newtwork</strong> that doesnt have firewall exc.(for me doesnt work even if I accept the certificates...and whitelist android studio...) and finish the complete set up(SDK tools,AVD...) on that network who SDK installation dialog appers(you <strong>dont need to reinstall</strong>, when you lunch <strong>Android Studio</strong>)</p>\n"}],"owner":{"account_id":7420697,"reputation":619,"user_id":5645211,"display_name":"codemonkey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11844,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":50473339,"answer_count":7,"score":14,"last_activity_date":1676466237,"creation_date":1515705326,"question_id":48215900,"body_markdown":"The first installation it was fine, Android Studio and the SDK was installed properly. Later on I have a problem with SDK and had to reinstall Android Studio. But when I try to reinstall Android Studio, I can&#39;t see an option to install the SDK:\r\n\r\n![installation screen](https://image.ibb.co/dZdGnR/issue.png)\r\n&lt;br&gt;\r\n\r\nAnd when I launch Android Studio, I am getting the error:  \r\n&quot;Please provide the path to the Android SDK.&quot;  \r\n\r\n![Select SDKs](https://image.ibb.co/eMjiZ6/issue2.png)\r\n\r\nHow can I install the SDK properly?\r\n\r\nWhat I tried:  \r\n- Reinstalling Android Studio, \r\n- Removing the Android folder in `\\%USER%\\AppData\\Local\\`.","title":"Reinstalling Android Studio does not reinstall Android SDK","body":"<p>The first installation it was fine, Android Studio and the SDK was installed properly. Later on I have a problem with SDK and had to reinstall Android Studio. But when I try to reinstall Android Studio, I can't see an option to install the SDK:</p>\n<p><img src=\"https://image.ibb.co/dZdGnR/issue.png\" alt=\"installation screen\" />\n<br></p>\n<p>And when I launch Android Studio, I am getting the error:<br />\n&quot;Please provide the path to the Android SDK.&quot;</p>\n<p><img src=\"https://image.ibb.co/eMjiZ6/issue2.png\" alt=\"Select SDKs\" /></p>\n<p>How can I install the SDK properly?</p>\n<p>What I tried:</p>\n<ul>\n<li>Reinstalling Android Studio,</li>\n<li>Removing the Android folder in <code>\\%USER%\\AppData\\Local\\</code>.</li>\n</ul>\n"},{"tags":["java","libgdx","rendering","collision","isometric"],"comments":[{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":3,"creation_date":1414708594,"post_id":26664417,"comment_id":41930896,"body_markdown":"Surely the obvious solution is to maintain the player **in** the object layer either behind or in front of other objects.","body":"Surely the obvious solution is to maintain the player <b>in</b> the object layer either behind or in front of other objects."},{"owner":{"account_id":3649096,"reputation":683,"user_id":3041683,"accept_rate":36,"display_name":"Dawesign"},"score":0,"creation_date":1414746445,"post_id":26664417,"comment_id":41942188,"body_markdown":"Yes, and my question is what the best way to do this would be. You simply repeated my problem/question.","body":"Yes, and my question is what the best way to do this would be. You simply repeated my problem/question."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":3,"creation_date":1414748181,"post_id":26664417,"comment_id":41943180,"body_markdown":"[Painters Algorithm](http://en.wikipedia.org/wiki/Painter%27s_algorithm) could be a good start. Without knowing which rendering library you are using it is difficult to advise. The negative attitude doesn&#39;t help either.","body":"<a href=\"http://en.wikipedia.org/wiki/Painter%27s_algorithm\" rel=\"nofollow noreferrer\">Painters Algorithm</a> could be a good start. Without knowing which rendering library you are using it is difficult to advise. The negative attitude doesn&#39;t help either."},{"owner":{"account_id":5647593,"reputation":498,"user_id":4469165,"accept_rate":62,"display_name":"Andy"},"score":0,"creation_date":1676466439,"post_id":26664417,"comment_id":133141564,"body_markdown":"Painters Alghorithm and similar approaches like layers won&#39;t work in isometric games, see my more detailed answer below ...","body":"Painters Alghorithm and similar approaches like layers won&#39;t work in isometric games, see my more detailed answer below ..."}],"answers":[{"tags":[],"owner":{"account_id":4343751,"reputation":76,"user_id":3546328,"display_name":"Green Snake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1414920070,"creation_date":1414920070,"answer_id":26697808,"question_id":26664417,"body_markdown":"It depends HOW you render. One thing that comes to mind, is to render objects/tiles from up to down and left to right, that way in most cases the objects should always be in correct layer. Now depending on how you make the graphics, there could be flaws in this. If so, you could also have few layers of of priority, to draw different parts of objects/tiles, or draw something before other. If you also have tiles and objects as separate type, you could have objects ability to draw before and after the tiles, to fulfill different needs. You could also implement some tiles to have objects, for cases like this, however that could also be waste of processor times comparing to other methods I mentioned.\r\n\r\nHow you would go about comparing object positions to tile positions is not actually very difficult. Probably a sufficient method would be comparing tile positions to object positions. Lets take a hypothetical situation, where you have tiles that are **32 x 32** in size, and there is object at **25 x 18**. The object would be in front of tiles at offset **0 x 0** and **1 x 0**, but behind **0 x 1** and **1 x 1** (If we imagine the tiles start from upper corner). Therefore, we first draw tiles at **0 x 0**, and **1 x 0**, then object, then tiles at **0 x 1** and **1 x 1**. It should naturally fall in it&#39;s correct place, with fairly simple code logic.\r\n\r\nHope you got some ideas about how to implement it :)","title":"How to implement a logical render order of isometric tiles?","body":"<p>It depends HOW you render. One thing that comes to mind, is to render objects/tiles from up to down and left to right, that way in most cases the objects should always be in correct layer. Now depending on how you make the graphics, there could be flaws in this. If so, you could also have few layers of of priority, to draw different parts of objects/tiles, or draw something before other. If you also have tiles and objects as separate type, you could have objects ability to draw before and after the tiles, to fulfill different needs. You could also implement some tiles to have objects, for cases like this, however that could also be waste of processor times comparing to other methods I mentioned.</p>\n\n<p>How you would go about comparing object positions to tile positions is not actually very difficult. Probably a sufficient method would be comparing tile positions to object positions. Lets take a hypothetical situation, where you have tiles that are <strong>32 x 32</strong> in size, and there is object at <strong>25 x 18</strong>. The object would be in front of tiles at offset <strong>0 x 0</strong> and <strong>1 x 0</strong>, but behind <strong>0 x 1</strong> and <strong>1 x 1</strong> (If we imagine the tiles start from upper corner). Therefore, we first draw tiles at <strong>0 x 0</strong>, and <strong>1 x 0</strong>, then object, then tiles at <strong>0 x 1</strong> and <strong>1 x 1</strong>. It should naturally fall in it's correct place, with fairly simple code logic.</p>\n\n<p>Hope you got some ideas about how to implement it :)</p>\n"},{"tags":[],"owner":{"account_id":5647593,"reputation":498,"user_id":4469165,"accept_rate":62,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676466135,"creation_date":1676466135,"answer_id":75460199,"question_id":26664417,"body_markdown":"Professional isometric styled games are actually 3D based with an orthographic camera. This way you dont have the complex problem of 2D sprite sorting in an isometric context and can rely on the hardware pixel-based z-Buffering.  \r\nNevertheless, if you want to realize an isometric game without the comfort of a 3d-game engine, like in Java 2D, the approach of different sorted layers doesn&#39;t work. Same with the **painter-algorithm**, cause both are actually intended for pure 2D top-down view based games.  \r\nSo how to cope with this dilemma?  \r\nWell an approach would be to imitate the **[Z-Buffering][1]** technique on a higher granular level, i.e. instead of considering each single pixel of each object in the scene, you consider tiles as a sorting base. \r\nLike z-Buffering, pixels/tiles are rendered in the order of their individual distance to the camera:  \r\nThe distance-formula of a tile-based object with coordinates (x, y, z) is proportional to:\r\n\r\n    d=y-x-z\r\n\r\nNegative values are allowed, so d(A)=-1 as distance of an object A is closer to the camera and will be hence rendered after object B with distance d(B) = 1 which is farther away ...  \r\n\r\nThe render steps for each render-cycle would therefore be:\r\n\r\n 1. Determine all objects which are visible (we don&#39;t wanna render all objects in a huge world, if we only see a small part of it)\r\n 2. Calculate the individual distances of each tile-based object in the scene with the given formula\r\n 3. Sort all visible objects by distance\r\n 4. Render all visible objects in descending order\r\n \r\nI myself tested this strategy in JavaFX 2D and the result looks like this, i.e. it is a simple working technique for tile-based isometric rendering:\r\n\r\n[![simplified z-Buffering technique][2]][2]\r\n\r\n \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Z-buffering\r\n  [2]: https://i.stack.imgur.com/rXsHb.jpg","title":"How to implement a logical render order of isometric tiles?","body":"<p>Professional isometric styled games are actually 3D based with an orthographic camera. This way you dont have the complex problem of 2D sprite sorting in an isometric context and can rely on the hardware pixel-based z-Buffering.<br />\nNevertheless, if you want to realize an isometric game without the comfort of a 3d-game engine, like in Java 2D, the approach of different sorted layers doesn't work. Same with the <strong>painter-algorithm</strong>, cause both are actually intended for pure 2D top-down view based games.<br />\nSo how to cope with this dilemma?<br />\nWell an approach would be to imitate the <strong><a href=\"https://en.wikipedia.org/wiki/Z-buffering\" rel=\"nofollow noreferrer\">Z-Buffering</a></strong> technique on a higher granular level, i.e. instead of considering each single pixel of each object in the scene, you consider tiles as a sorting base.\nLike z-Buffering, pixels/tiles are rendered in the order of their individual distance to the camera:<br />\nThe distance-formula of a tile-based object with coordinates (x, y, z) is proportional to:</p>\n<pre><code>d=y-x-z\n</code></pre>\n<p>Negative values are allowed, so d(A)=-1 as distance of an object A is closer to the camera and will be hence rendered after object B with distance d(B) = 1 which is farther away ...</p>\n<p>The render steps for each render-cycle would therefore be:</p>\n<ol>\n<li>Determine all objects which are visible (we don't wanna render all objects in a huge world, if we only see a small part of it)</li>\n<li>Calculate the individual distances of each tile-based object in the scene with the given formula</li>\n<li>Sort all visible objects by distance</li>\n<li>Render all visible objects in descending order</li>\n</ol>\n<p>I myself tested this strategy in JavaFX 2D and the result looks like this, i.e. it is a simple working technique for tile-based isometric rendering:</p>\n<p><a href=\"https://i.stack.imgur.com/rXsHb.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rXsHb.jpg\" alt=\"simplified z-Buffering technique\" /></a></p>\n"}],"owner":{"account_id":3649096,"reputation":683,"user_id":3041683,"accept_rate":36,"display_name":"Dawesign"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1676466135,"creation_date":1414708005,"question_id":26664417,"body_markdown":"**Situation:** I am programming a 2D isometric styled Java game with libGDX.\r\nRight now I have a moveable player that properly collides with tiles of solid objects.\r\n\r\n**Problem:**\r\nNow it comes to the renderorder of tiles. By default the library code renders from the bottom maplayer to the top layer. (Ground is layer 0, object layer is layer 1) Which makes sense. I draw the player on top of that. This means that the player is always on top of everything which doesn&#39;t make sense in some situations.\r\n \r\n**Goal:** Since an isometric look means to have a kind of a 3D perspective, the player can be behind or in front of objects. So I have to come up with some code that decides whether the player is rendered behind or in front of it. I have this fridge as an example:\r\n\r\n![Example][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/S187I.png\r\n\r\nI hope it is comprehensible what I mean with &quot;logical collision&quot;. I have some glimpses of ideas how to achieve that but that would be a mess in the code. So I wanted to ask if anyone has experiences with that or can hand me some nice sources that can help me.\r\n\r\nThanks for reading!","title":"How to implement a logical render order of isometric tiles?","body":"<p><strong>Situation:</strong> I am programming a 2D isometric styled Java game with libGDX.\nRight now I have a moveable player that properly collides with tiles of solid objects.</p>\n\n<p><strong>Problem:</strong>\nNow it comes to the renderorder of tiles. By default the library code renders from the bottom maplayer to the top layer. (Ground is layer 0, object layer is layer 1) Which makes sense. I draw the player on top of that. This means that the player is always on top of everything which doesn't make sense in some situations.</p>\n\n<p><strong>Goal:</strong> Since an isometric look means to have a kind of a 3D perspective, the player can be behind or in front of objects. So I have to come up with some code that decides whether the player is rendered behind or in front of it. I have this fridge as an example:</p>\n\n<p><img src=\"https://i.stack.imgur.com/S187I.png\" alt=\"Example\"></p>\n\n<p>I hope it is comprehensible what I mean with \"logical collision\". I have some glimpses of ideas how to achieve that but that would be a mess in the code. So I wanted to ask if anyone has experiences with that or can hand me some nice sources that can help me.</p>\n\n<p>Thanks for reading!</p>\n"},{"tags":["java","apache-spark","kubernetes","pyspark"],"comments":[{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1670832189,"post_id":74767651,"comment_id":131955920,"body_markdown":"Seems like you did not print the full width of the logs in that second code block (the one saying Unrecognized options `--podName`. Could you add that?","body":"Seems like you did not print the full width of the logs in that second code block (the one saying Unrecognized options <code>--podName</code>. Could you add that?"},{"owner":{"account_id":23736475,"reputation":71,"user_id":17755094,"display_name":"leotim"},"score":0,"creation_date":1670845748,"post_id":74767651,"comment_id":131959925,"body_markdown":"Line 6 contains &quot;Unrecognized options --podName&quot; and nothing else.","body":"Line 6 contains &quot;Unrecognized options --podName&quot; and nothing else."},{"owner":{"account_id":20967958,"reputation":4872,"user_id":15405732,"display_name":"Koedlt"},"score":0,"creation_date":1670878764,"post_id":74767651,"comment_id":131971133,"body_markdown":"What about lines 4 and 5?","body":"What about lines 4 and 5?"},{"owner":{"account_id":15791110,"reputation":1824,"user_id":11394329,"display_name":"Richard Nemeth"},"score":0,"creation_date":1675661596,"post_id":74767651,"comment_id":132969633,"body_markdown":"I got the same behavior, this feels like a bug on Spark&#39;s side, there is no good reason why the SPARK_EXECUTOR_POD_NAME should be missing","body":"I got the same behavior, this feels like a bug on Spark&#39;s side, there is no good reason why the SPARK_EXECUTOR_POD_NAME should be missing"}],"answers":[{"tags":[],"owner":{"account_id":23736475,"reputation":71,"user_id":17755094,"display_name":"leotim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670879640,"creation_date":1670879640,"answer_id":74777386,"question_id":74767651,"body_markdown":"After troubleshooting I got it working using following setup:\r\n\r\nI have created podtemplate.yaml\r\n\r\n```yaml\r\napiVersion: v1\r\nkind: Pod\r\nspec:\r\n  containers:\r\n    - args:\r\n      env:\r\n        - name: SPARK_EXECUTOR_POD_NAME\r\n          valueFrom:\r\n            fieldRef:\r\n              fieldPath: metadata.name\r\n```\r\n\r\nthen configured spark to use it:\r\n\r\n```\r\n           .set(&quot;spark.kubernetes.executor.podTemplateFile&quot;,&quot;/podtemplate.yaml&quot;)\r\n\r\n```\r\n\r\nBut still do not understand why I did not get it automatically?","title":"Spark executors fails on Kubernetes (EKS) --podName is missing","body":"<p>After troubleshooting I got it working using following setup:</p>\n<p>I have created podtemplate.yaml</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>apiVersion: v1\nkind: Pod\nspec:\n  containers:\n    - args:\n      env:\n        - name: SPARK_EXECUTOR_POD_NAME\n          valueFrom:\n            fieldRef:\n              fieldPath: metadata.name\n</code></pre>\n<p>then configured spark to use it:</p>\n<pre><code>           .set(&quot;spark.kubernetes.executor.podTemplateFile&quot;,&quot;/podtemplate.yaml&quot;)\n\n</code></pre>\n<p>But still do not understand why I did not get it automatically?</p>\n"},{"tags":[],"owner":{"account_id":25742838,"reputation":1,"user_id":19496567,"display_name":"hliashchuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676465845,"creation_date":1676465845,"answer_id":75460145,"question_id":74767651,"body_markdown":"I&#39;ve met this error and the problem was that the spark image of the driver was different from the executors&#39; spark image. Try check on those ","title":"Spark executors fails on Kubernetes (EKS) --podName is missing","body":"<p>I've met this error and the problem was that the spark image of the driver was different from the executors' spark image. Try check on those</p>\n"}],"owner":{"account_id":23736475,"reputation":71,"user_id":17755094,"display_name":"leotim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":465,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676465845,"creation_date":1670828608,"question_id":74767651,"body_markdown":"I am running Spark 3.3.1 in cluster mode in Kubernetes using Java.\r\n\r\nSpark conf:\r\n```java\r\n    public SparkConf sparkConf() {\r\n        return new SparkConf()\r\n                .set(&quot;spark.sql.shuffle.partitions&quot;, &quot;600&quot;)\r\n                .set(&quot;spark.rdd.compress&quot;, &quot;true&quot;)\r\n                .set(&quot;spark.ui.prometheus.enabled&quot;,&quot;true&quot;)\r\n                .set(&quot;spark.executor.processTreeMetrics.enabled&quot;,&quot;true&quot;)\r\n                .set(&quot;*.sink.prometheusServlet.class&quot;,&quot;org.apache.spark.metrics.sink.PrometheusServlet&quot;)\r\n                .set(&quot;*.sink.prometheusServlet.path&quot;,&quot;/metrics/prometheus&quot;)\r\n                .set(&quot;spark.submit.deployMode&quot;,&quot;cluster&quot;)\r\n                .set(&quot;spark.kubernetes.container.image&quot;,&quot;45454454.dkr.ecr.eu-north-1.amazonaws.com/dev/feature-gen:v3.3.1&quot;)\r\n                .set(&quot;spark.kubernetes.container.image.pullPolicy&quot;,&quot;Always&quot;)\r\n                .set(&quot;spark.kubernetes.namespace&quot;,&quot;default&quot;)\r\n                .set(&quot;spark.kubernetes.executor.podNamePrefix&quot;,&quot;spark-executor&quot;)\r\n                .set(&quot;spark.kubernetes.authenticate.executor.serviceAccountName&quot;,&quot;spark&quot;)\r\n                .set(&quot;spark.kubernetes.dynamicAllocation.deleteGracePeriod&quot;,&quot;20&quot;)\r\n                .set(&quot;spark.shuffle.service.enabled&quot;,&quot;true&quot;)\r\n                .set(&quot;spark.kubernetes.executor.request.cores&quot;, &quot;4&quot;)\r\n                .set(&quot;spark.kubernetes.executor.limit.cores&quot;, &quot;4&quot;)\r\n                .set(&quot;spark.executor.memory&quot;, &quot;4g&quot;)\r\n                .set(&quot;spark.executor.instances&quot;, &quot;1&quot;)\r\n                .set(&quot;spark.ui.port&quot;, &quot;4040&quot;)\r\n                .setAppName(appName)\r\n                .setMaster(&quot;k8s://https://XXXXXXXX.yl3.eu-north-1.eks.amazonaws.com:443&quot;);\r\n    }\r\n```\r\n\r\nExecutor pod being created but after couple of seconds I got following logs and pod being recreated. \r\n```\r\n│ + SPARK_CLASSPATH=&#39;/opt/spark/conf::/opt/spark/jars/*&#39;                                                                                                                                                                                                  │\r\n│ + case &quot;$1&quot; in                                                                                                                                                                                                                                          │\r\n│ + shift 1                                                                                                                                                                                                                                               │\r\n│ + CMD=(${JAVA_HOME}/bin/java &quot;${SPARK_EXECUTOR_JAVA_OPTS[@]}&quot; -Xms$SPARK_EXECUTOR_MEMORY -Xmx$SPARK_EXECUTOR_MEMORY -cp &quot;$SPARK_CLASSPATH:$SPARK_DIST_CLASSPATH&quot; org.apache.spark.scheduler.cluster.k8s.KubernetesExecutorBackend --driver-url $SPARK_D │\r\n│ + exec /usr/bin/tini -s -- /usr/lib/jvm/java-17-openjdk-amd64/bin/java -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNA │\r\n│ Unrecognized options: --podName                                                                                                                                                                                                                         │\r\n│                                                                                                                                                                                                                                                         │\r\n│ Usage: org.apache.spark.scheduler.cluster.k8s.KubernetesExecutorBackend [options]                                                                                                                                                                       │\r\n│                                                                                                                                                                                                                                                         │\r\n│  Options are:                                                                                                                                                                                                                                           │\r\n│    --driver-url &lt;driverUrl&gt;                                                                                                                                                                                                                             │\r\n│    --executor-id &lt;executorId&gt;                                                                                                                                                                                                                           │\r\n│    --bind-address &lt;bindAddress&gt;                                                                                                                                                                                                                         │\r\n│    --hostname &lt;hostname&gt;                                                                                                                                                                                                                                │\r\n│    --cores &lt;cores&gt;                                                                                                                                                                                                                                      │\r\n│    --resourcesFile &lt;fileWithJSONResourceInformation&gt;                                                                                                                                                                                                    │\r\n│    --app-id &lt;appid&gt;                                                                                                                                                                                                                                     │\r\n│    --worker-url &lt;workerUrl&gt;                                                                                                                                                                                                                             │\r\n│    --resourceProfileId &lt;id&gt;                                                                                                                                                                                                                             │\r\n│    --podName &lt;podName&gt;\r\nstream closed\r\n```\r\n\r\nI can not understand why pod&#39;s name unrecognized? What am I doing wrong? Thank you","title":"Spark executors fails on Kubernetes (EKS) --podName is missing","body":"<p>I am running Spark 3.3.1 in cluster mode in Kubernetes using Java.</p>\n<p>Spark conf:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public SparkConf sparkConf() {\n        return new SparkConf()\n                .set(&quot;spark.sql.shuffle.partitions&quot;, &quot;600&quot;)\n                .set(&quot;spark.rdd.compress&quot;, &quot;true&quot;)\n                .set(&quot;spark.ui.prometheus.enabled&quot;,&quot;true&quot;)\n                .set(&quot;spark.executor.processTreeMetrics.enabled&quot;,&quot;true&quot;)\n                .set(&quot;*.sink.prometheusServlet.class&quot;,&quot;org.apache.spark.metrics.sink.PrometheusServlet&quot;)\n                .set(&quot;*.sink.prometheusServlet.path&quot;,&quot;/metrics/prometheus&quot;)\n                .set(&quot;spark.submit.deployMode&quot;,&quot;cluster&quot;)\n                .set(&quot;spark.kubernetes.container.image&quot;,&quot;45454454.dkr.ecr.eu-north-1.amazonaws.com/dev/feature-gen:v3.3.1&quot;)\n                .set(&quot;spark.kubernetes.container.image.pullPolicy&quot;,&quot;Always&quot;)\n                .set(&quot;spark.kubernetes.namespace&quot;,&quot;default&quot;)\n                .set(&quot;spark.kubernetes.executor.podNamePrefix&quot;,&quot;spark-executor&quot;)\n                .set(&quot;spark.kubernetes.authenticate.executor.serviceAccountName&quot;,&quot;spark&quot;)\n                .set(&quot;spark.kubernetes.dynamicAllocation.deleteGracePeriod&quot;,&quot;20&quot;)\n                .set(&quot;spark.shuffle.service.enabled&quot;,&quot;true&quot;)\n                .set(&quot;spark.kubernetes.executor.request.cores&quot;, &quot;4&quot;)\n                .set(&quot;spark.kubernetes.executor.limit.cores&quot;, &quot;4&quot;)\n                .set(&quot;spark.executor.memory&quot;, &quot;4g&quot;)\n                .set(&quot;spark.executor.instances&quot;, &quot;1&quot;)\n                .set(&quot;spark.ui.port&quot;, &quot;4040&quot;)\n                .setAppName(appName)\n                .setMaster(&quot;k8s://https://XXXXXXXX.yl3.eu-north-1.eks.amazonaws.com:443&quot;);\n    }\n</code></pre>\n<p>Executor pod being created but after couple of seconds I got following logs and pod being recreated.</p>\n<pre><code>│ + SPARK_CLASSPATH='/opt/spark/conf::/opt/spark/jars/*'                                                                                                                                                                                                  │\n│ + case &quot;$1&quot; in                                                                                                                                                                                                                                          │\n│ + shift 1                                                                                                                                                                                                                                               │\n│ + CMD=(${JAVA_HOME}/bin/java &quot;${SPARK_EXECUTOR_JAVA_OPTS[@]}&quot; -Xms$SPARK_EXECUTOR_MEMORY -Xmx$SPARK_EXECUTOR_MEMORY -cp &quot;$SPARK_CLASSPATH:$SPARK_DIST_CLASSPATH&quot; org.apache.spark.scheduler.cluster.k8s.KubernetesExecutorBackend --driver-url $SPARK_D │\n│ + exec /usr/bin/tini -s -- /usr/lib/jvm/java-17-openjdk-amd64/bin/java -XX:+IgnoreUnrecognizedVMOptions --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.base/java.lang.reflect=ALL-UNNA │\n│ Unrecognized options: --podName                                                                                                                                                                                                                         │\n│                                                                                                                                                                                                                                                         │\n│ Usage: org.apache.spark.scheduler.cluster.k8s.KubernetesExecutorBackend [options]                                                                                                                                                                       │\n│                                                                                                                                                                                                                                                         │\n│  Options are:                                                                                                                                                                                                                                           │\n│    --driver-url &lt;driverUrl&gt;                                                                                                                                                                                                                             │\n│    --executor-id &lt;executorId&gt;                                                                                                                                                                                                                           │\n│    --bind-address &lt;bindAddress&gt;                                                                                                                                                                                                                         │\n│    --hostname &lt;hostname&gt;                                                                                                                                                                                                                                │\n│    --cores &lt;cores&gt;                                                                                                                                                                                                                                      │\n│    --resourcesFile &lt;fileWithJSONResourceInformation&gt;                                                                                                                                                                                                    │\n│    --app-id &lt;appid&gt;                                                                                                                                                                                                                                     │\n│    --worker-url &lt;workerUrl&gt;                                                                                                                                                                                                                             │\n│    --resourceProfileId &lt;id&gt;                                                                                                                                                                                                                             │\n│    --podName &lt;podName&gt;\nstream closed\n</code></pre>\n<p>I can not understand why pod's name unrecognized? What am I doing wrong? Thank you</p>\n"},{"tags":["java","garbage-collection","heap-memory","heap-dump","codahale-metrics"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1619964700,"post_id":67352476,"comment_id":119056738,"body_markdown":"a memory leak would lead to an OutOfMemory in the end, so I guess it&#39;s not one. It&#39;s probably just normal.","body":"a memory leak would lead to an OutOfMemory in the end, so I guess it&#39;s not one. It&#39;s probably just normal."},{"owner":{"account_id":2266849,"reputation":329,"user_id":1995288,"accept_rate":50,"display_name":"Vinit Gaikwad"},"score":0,"creation_date":1619992489,"post_id":67352476,"comment_id":119064219,"body_markdown":"@Eugene but, the heap graph keeps going up.","body":"@Eugene but, the heap graph keeps going up."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":0,"creation_date":1620111512,"post_id":67352476,"comment_id":119096903,"body_markdown":"You should set up gc logging and analyse the log if you want details.","body":"You should set up gc logging and analyse the log if you want details."}],"owner":{"account_id":2266849,"reputation":329,"user_id":1995288,"accept_rate":50,"display_name":"Vinit Gaikwad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676465812,"creation_date":1619922526,"question_id":67352476,"body_markdown":"I have a Java App and we are running into heap issues. We feel there could be a memory leak as heap keeps growing over time. Here is how the histogram looks like. \r\n\r\n```\r\n   1:       3025303      439665320  [C\r\n   2:        904292      310612216  [B\r\n   3:        385084      244774776  [I\r\n   4:       7384953      177238872  java.util.concurrent.ConcurrentSkipListMap$Node\r\n   5:       3953963       94895112  java.lang.Double\r\n   6:       1068745       70512552  [Ljava.lang.Object;\r\n   7:        559816       53742336  java.lang.management.ThreadInfo\r\n   8:       1526344       36632256  java.lang.String\r\n   9:        883927       21214248  java.util.ArrayList\r\n  10:        196823       16137520  [Lio.netty.util.Recycler$DefaultHandle;\r\n  11:        540532       13139904  [Ljava.lang.String;\r\n  12:         68479       12439480  [J\r\n  13:        501950       12046800  java.util.concurrent.ConcurrentSkipListMap$Index\r\n  14:        282440       11297600  java.util.LinkedHashMap$Entry\r\n  15:        122865       10958248  [Ljava.util.HashMap$Node;\r\n  16:        256514       10260560  com.twilio.platform.metrics.DataDogClient$DataDogMetric\r\n  17:        402976        9671424  java.util.LinkedList$Node\r\n  18:        135258        7574448  java.util.LinkedHashMap\r\n  19:        168800        6752000  org.jboss.netty.handler.codec.http.HttpHeaders$HeaderEntry\r\n  20:        201387        6444384  com.codahale.metrics.WeightedSnapshot$WeightedSample\r\n  21:         22797        6401952  [D\r\n  22:        196415        6285280  io.netty.util.Recycler$WeakOrderQueue$Link\r\n  23:          8064        5419008  io.netty.util.internal.shaded.org.jctools.queues.MpscArrayQueue\r\n  24:        202768        4866432  java.lang.management.LockInfo\r\n```\r\n\r\nWe use codahale metrics all over the code, `com.codahale.metrics.WeightedSnapshot$WeightedSample` and `java.util.concurrent.ConcurrentSkipListMap$Node` seems to be created by Reservoir implementation `ExponentiallyDecayingReservoir`. \r\n\r\nI am a newbie to heap analysis and memory leak issues. Can someone help? ","title":"I am seeing large number of `java.util.concurrent.ConcurrentSkipListMap` and `com.codahale.metrics.WeightedSnapshot`. Is there a memory leak?","body":"<p>I have a Java App and we are running into heap issues. We feel there could be a memory leak as heap keeps growing over time. Here is how the histogram looks like.</p>\n<pre><code>   1:       3025303      439665320  [C\n   2:        904292      310612216  [B\n   3:        385084      244774776  [I\n   4:       7384953      177238872  java.util.concurrent.ConcurrentSkipListMap$Node\n   5:       3953963       94895112  java.lang.Double\n   6:       1068745       70512552  [Ljava.lang.Object;\n   7:        559816       53742336  java.lang.management.ThreadInfo\n   8:       1526344       36632256  java.lang.String\n   9:        883927       21214248  java.util.ArrayList\n  10:        196823       16137520  [Lio.netty.util.Recycler$DefaultHandle;\n  11:        540532       13139904  [Ljava.lang.String;\n  12:         68479       12439480  [J\n  13:        501950       12046800  java.util.concurrent.ConcurrentSkipListMap$Index\n  14:        282440       11297600  java.util.LinkedHashMap$Entry\n  15:        122865       10958248  [Ljava.util.HashMap$Node;\n  16:        256514       10260560  com.twilio.platform.metrics.DataDogClient$DataDogMetric\n  17:        402976        9671424  java.util.LinkedList$Node\n  18:        135258        7574448  java.util.LinkedHashMap\n  19:        168800        6752000  org.jboss.netty.handler.codec.http.HttpHeaders$HeaderEntry\n  20:        201387        6444384  com.codahale.metrics.WeightedSnapshot$WeightedSample\n  21:         22797        6401952  [D\n  22:        196415        6285280  io.netty.util.Recycler$WeakOrderQueue$Link\n  23:          8064        5419008  io.netty.util.internal.shaded.org.jctools.queues.MpscArrayQueue\n  24:        202768        4866432  java.lang.management.LockInfo\n</code></pre>\n<p>We use codahale metrics all over the code, <code>com.codahale.metrics.WeightedSnapshot$WeightedSample</code> and <code>java.util.concurrent.ConcurrentSkipListMap$Node</code> seems to be created by Reservoir implementation <code>ExponentiallyDecayingReservoir</code>.</p>\n<p>I am a newbie to heap analysis and memory leak issues. Can someone help?</p>\n"},{"tags":["java","stack"],"answers":[{"tags":[],"owner":{"account_id":2073393,"reputation":2457,"user_id":1847378,"display_name":"AndrewL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676465713,"creation_date":1676465713,"answer_id":75460119,"question_id":75427942,"body_markdown":"I don&#39;t expect many people will be able to help you, especially if you cannot see the logic error and you are the author!\r\n\r\nWhen writing code like this, your best option is to write **Unit Tests**.  Test parts of the implementation first and then give your algorithm expressions bit by bit and work up to more complex cases.\r\n\r\nNote that your use of `private static` methods may frustrate your ability to test parts or mock out parts of the code.  Go find an article about Unit Testing and Dependency Injection; it will be worthwhile your investment.","title":"Wont produce the expected output Truthtable in java using stack","body":"<p>I don't expect many people will be able to help you, especially if you cannot see the logic error and you are the author!</p>\n<p>When writing code like this, your best option is to write <strong>Unit Tests</strong>.  Test parts of the implementation first and then give your algorithm expressions bit by bit and work up to more complex cases.</p>\n<p>Note that your use of <code>private static</code> methods may frustrate your ability to test parts or mock out parts of the code.  Go find an article about Unit Testing and Dependency Injection; it will be worthwhile your investment.</p>\n"}],"owner":{"account_id":25122128,"reputation":1,"user_id":18970322,"display_name":"rexinator16"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676465713,"creation_date":1676214276,"question_id":75427942,"body_markdown":"This is my code:\r\nimport java.util.*;\r\n\r\npublic class TruthTable {\r\n\r\n    public static boolean evaluateExpression(String expression, boolean p, boolean q) {\r\n        Stack&lt;Boolean&gt; stack = new Stack&lt;&gt;();\r\n        Stack&lt;Character&gt; opStack = new Stack&lt;&gt;();\r\n\r\n        for (int i = 0; i &lt; expression.length(); i++) {\r\n            char c = expression.charAt(i);\r\n            if (c == &#39;p&#39;) {\r\n                stack.push(p);\r\n            } else if (c == &#39;q&#39;) {\r\n                stack.push(q);\r\n            } else if (c == &#39;&#172;&#39;) {\r\n                boolean b = stack.pop();\r\n                stack.push(!b);\r\n            } else if (c == &#39;∧&#39;) {\r\n                // Check if the next character is a &#172; character.\r\n                if (i + 1 &lt; expression.length() &amp;&amp; expression.charAt(i + 1) == &#39;&#172;&#39;) {\r\n                    // If the next character is a &#172; character, pop the top of the stack and negate it,\r\n                    // then push the conjunction of the negated value and the value of q.\r\n                    boolean b = stack.pop();\r\n                    stack.push(!(b &amp;&amp; q));\r\n                    // Increment the index to skip the &#172; character.\r\n                    i++;\r\n                } else {\r\n                    // If the next character is not a &#172; character, simply push the conjunction of the\r\n                    // value of p and the value of q.\r\n                    stack.push(stack.pop() &amp;&amp; q);\r\n                }\r\n            } else if (c == &#39;∨&#39; || c == &#39;→&#39; || c == &#39;↔&#39; || c == &#39;⊕&#39; || c == &#39;⊼&#39; || c == &#39;⊽&#39;) {\r\n                while (!opStack.isEmpty() &amp;&amp; getPrecedence(c) &lt;= getPrecedence(opStack.peek())) {\r\n                    char op = opStack.pop();\r\n                    applyOperator(op, stack);\r\n                }\r\n                opStack.push(c);\r\n            }\r\n        }\r\n\r\n        while (!opStack.isEmpty()) {\r\n            char op = opStack.pop();\r\n            applyOperator(op, stack);\r\n        }\r\n\r\n        return stack.pop();\r\n    }\r\n\r\n    private static void applyOperator(char op, Stack&lt;Boolean&gt; stack) {\r\n        boolean b1 = stack.pop();\r\n        boolean b2 = stack.pop();\r\n        switch (op) {\r\n            case &#39;∧&#39;:\r\n                stack.push(b1 &amp;&amp; b2);\r\n                break;\r\n            case &#39;∨&#39;:\r\n                stack.push(b1 || b2);\r\n                break;\r\n            case &#39;→&#39;:\r\n                stack.push(!b1 || b2);\r\n                break;\r\n            case &#39;↔&#39;:\r\n                stack.push(b1 == b2);\r\n                break;\r\n            case &#39;⊕&#39;:\r\n                stack.push(b1 != b2);\r\n                break;\r\n            case &#39;⊼&#39;:\r\n                stack.push((b1 &amp;&amp; b2) || (!b1 &amp;&amp; b2) || (b1 &amp;&amp; !b2));\r\n                break;\r\n            case &#39;⊽&#39;:\r\n                stack.push(b1 &amp;&amp; b2 &amp;&amp; stack.pop());\r\n                break;\r\n            case &#39;&#172;&#39;:\r\n                stack.push(!b1);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private static int getPrecedence(char op) {\r\n        switch (op) {\r\n            case &#39;&#172;&#39;:\r\n                return 3;\r\n            case &#39;∧&#39;:\r\n                return 2;\r\n            case &#39;∨&#39;:\r\n                return 1;\r\n            case &#39;→&#39;:\r\n                return 0;\r\n            case &#39;↔&#39;:\r\n                return 0;\r\n            case &#39;⊕&#39;:\r\n                return 1;\r\n            case &#39;⊼&#39;:\r\n                if (op == &#39;∨&#39; || op == &#39;→&#39; || op == &#39;↔&#39; || op == &#39;⊕&#39;) {\r\n                    return 2;\r\n                } else {\r\n                    return 3;\r\n                }\r\n            case &#39;⊽&#39;:\r\n                return 2;\r\n            default:\r\n                return -1;\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String expression = &quot;pq&#172;∨pq∧→&quot;;\r\n        System.out.println(&quot;p\\tq\\t(&quot; + expression + &quot;)&quot;);\r\n        for (boolean p : new boolean[]{true, false}) {\r\n            for (boolean q : new boolean[]{true, false}) {\r\n                System.out.println(p + &quot;\\t&quot; + q + &quot;\\t&quot; + evaluateExpression(expression, p, q));\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nThe expected result is true false true false but it prints out false true false true and ive been trying to figure out how to fix it but I just cant. Will appreciate any help\r\n\r\nIve tried changing the precedence but it only produced the output True true true true","title":"Wont produce the expected output Truthtable in java using stack","body":"<p>This is my code:\nimport java.util.*;</p>\n<p>public class TruthTable {</p>\n<pre><code>public static boolean evaluateExpression(String expression, boolean p, boolean q) {\n    Stack&lt;Boolean&gt; stack = new Stack&lt;&gt;();\n    Stack&lt;Character&gt; opStack = new Stack&lt;&gt;();\n\n    for (int i = 0; i &lt; expression.length(); i++) {\n        char c = expression.charAt(i);\n        if (c == 'p') {\n            stack.push(p);\n        } else if (c == 'q') {\n            stack.push(q);\n        } else if (c == '¬') {\n            boolean b = stack.pop();\n            stack.push(!b);\n        } else if (c == '∧') {\n            // Check if the next character is a ¬ character.\n            if (i + 1 &lt; expression.length() &amp;&amp; expression.charAt(i + 1) == '¬') {\n                // If the next character is a ¬ character, pop the top of the stack and negate it,\n                // then push the conjunction of the negated value and the value of q.\n                boolean b = stack.pop();\n                stack.push(!(b &amp;&amp; q));\n                // Increment the index to skip the ¬ character.\n                i++;\n            } else {\n                // If the next character is not a ¬ character, simply push the conjunction of the\n                // value of p and the value of q.\n                stack.push(stack.pop() &amp;&amp; q);\n            }\n        } else if (c == '∨' || c == '→' || c == '↔' || c == '⊕' || c == '⊼' || c == '⊽') {\n            while (!opStack.isEmpty() &amp;&amp; getPrecedence(c) &lt;= getPrecedence(opStack.peek())) {\n                char op = opStack.pop();\n                applyOperator(op, stack);\n            }\n            opStack.push(c);\n        }\n    }\n\n    while (!opStack.isEmpty()) {\n        char op = opStack.pop();\n        applyOperator(op, stack);\n    }\n\n    return stack.pop();\n}\n\nprivate static void applyOperator(char op, Stack&lt;Boolean&gt; stack) {\n    boolean b1 = stack.pop();\n    boolean b2 = stack.pop();\n    switch (op) {\n        case '∧':\n            stack.push(b1 &amp;&amp; b2);\n            break;\n        case '∨':\n            stack.push(b1 || b2);\n            break;\n        case '→':\n            stack.push(!b1 || b2);\n            break;\n        case '↔':\n            stack.push(b1 == b2);\n            break;\n        case '⊕':\n            stack.push(b1 != b2);\n            break;\n        case '⊼':\n            stack.push((b1 &amp;&amp; b2) || (!b1 &amp;&amp; b2) || (b1 &amp;&amp; !b2));\n            break;\n        case '⊽':\n            stack.push(b1 &amp;&amp; b2 &amp;&amp; stack.pop());\n            break;\n        case '¬':\n            stack.push(!b1);\n            break;\n    }\n}\n\nprivate static int getPrecedence(char op) {\n    switch (op) {\n        case '¬':\n            return 3;\n        case '∧':\n            return 2;\n        case '∨':\n            return 1;\n        case '→':\n            return 0;\n        case '↔':\n            return 0;\n        case '⊕':\n            return 1;\n        case '⊼':\n            if (op == '∨' || op == '→' || op == '↔' || op == '⊕') {\n                return 2;\n            } else {\n                return 3;\n            }\n        case '⊽':\n            return 2;\n        default:\n            return -1;\n    }\n}\n\npublic static void main(String[] args) {\n    String expression = &quot;pq¬∨pq∧→&quot;;\n    System.out.println(&quot;p\\tq\\t(&quot; + expression + &quot;)&quot;);\n    for (boolean p : new boolean[]{true, false}) {\n        for (boolean q : new boolean[]{true, false}) {\n            System.out.println(p + &quot;\\t&quot; + q + &quot;\\t&quot; + evaluateExpression(expression, p, q));\n        }\n    }\n}\n</code></pre>\n<p>}</p>\n<p>The expected result is true false true false but it prints out false true false true and ive been trying to figure out how to fix it but I just cant. Will appreciate any help</p>\n<p>Ive tried changing the precedence but it only produced the output True true true true</p>\n"},{"tags":["java","mutiny"],"answers":[{"tags":[],"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676465689,"creation_date":1676465689,"answer_id":75460110,"question_id":75451047,"body_markdown":"You would do:\r\n\r\n```java\r\nUni&lt;T1&gt; a = callA();\r\nUni&lt;T2&gt; b = callB();\r\nUni&lt;T3&gt; c = callC();\r\n\r\nreturn a.chain(() -&gt; b).chain(() -&gt; c);\r\n```\r\n\r\n","title":"How can I perform via mutiny sequential calls of services?","body":"<p>You would do:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Uni&lt;T1&gt; a = callA();\nUni&lt;T2&gt; b = callB();\nUni&lt;T3&gt; c = callC();\n\nreturn a.chain(() -&gt; b).chain(() -&gt; c);\n</code></pre>\n"}],"owner":{"account_id":20055636,"reputation":49,"user_id":14703347,"display_name":"ColdDeath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676465689,"creation_date":1676394156,"question_id":75451047,"body_markdown":"How can I perform via mutiny https://smallrye.io/smallrye-mutiny/2.1.0/ sequential calls of services?\r\n\r\nI need something like this:\r\nCall service A THEN call service B THEN call service c with data of service B THEN call service D.\r\nEvery service should be called only after completion of previous.","title":"How can I perform via mutiny sequential calls of services?","body":"<p>How can I perform via mutiny <a href=\"https://smallrye.io/smallrye-mutiny/2.1.0/\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-mutiny/2.1.0/</a> sequential calls of services?</p>\n<p>I need something like this:\nCall service A THEN call service B THEN call service c with data of service B THEN call service D.\nEvery service should be called only after completion of previous.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1676478505,"post_id":75460061,"comment_id":133145976,"body_markdown":"A join across a *ToMany will cause the main record to be returned for every entry in the many table, just as it would for SQL results. If you want distinct Project or ProjectCode instances in the results, use the Distinct in the query - see https://stackoverflow.com/a/33025854/496099","body":"A join across a *ToMany will cause the main record to be returned for every entry in the many table, just as it would for SQL results. If you want distinct Project or ProjectCode instances in the results, use the Distinct in the query - see <a href=\"https://stackoverflow.com/a/33025854/496099\">stackoverflow.com/a/33025854/496099</a>"}],"owner":{"account_id":23392463,"reputation":183,"user_id":17456952,"display_name":"anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676465450,"creation_date":1676465450,"question_id":75460061,"body_markdown":"I have a spring boot project with many entities and relationships. I am able to store the records successfully and retrieve it using POST and GET methods. Now I have a requirement to filter the records based on a few parameters which are optional to be passed in API and I am using the JPA specification to manage the queries but I am getting the duplicate records in the response. \r\n\r\n**Project**\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity\r\n    @Table(name = &quot;Project&quot;)\r\n    public class Project {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;`Id`&quot;)\r\n      @Schema(example = &quot;&quot;)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;`Name`&quot;)\r\n      @Schema(example = &quot;&quot;)\r\n      private String name;\r\n    \r\n      @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL)\r\n      private List&lt;ProjectCode&gt; projectCodes;\r\n    \r\n    }\r\n\r\n**ProjectCode**\r\n\r\n    @Getter\r\n    @Setter\r\n    @ToString\r\n    @Entity\r\n    @Table(name = &quot;ProjectCode&quot;)\r\n    public class ProjectCode {\r\n    \r\n      @Id\r\n      @GeneratedValue(strategy = GenerationType.AUTO)\r\n      @Column(name = &quot;`Id`&quot;)\r\n      @Schema(example = &quot;&quot;)\r\n      private Long id;\r\n    \r\n      @Column(name = &quot;`Code`&quot;)\r\n      @Schema(example = &quot;&quot;)\r\n      private String code;\r\n    \r\n      ...\r\n    \r\n      @ManyToOne\r\n      @JsonIgnore\r\n      private Project project;\r\n    \r\n      @OneToMany(mappedBy = &quot;projectCode&quot;, cascade = CascadeType.ALL)\r\n      private List&lt;ProjectAllocation&gt; projectAllocations;\r\n    \r\n    }  \r\n\r\nProjectSpecification\r\n\r\n    public class ProjectSpecification implements Specification&lt;Project&gt; {\r\n    \r\n      private final ProjectFilters projectFilters;\r\n    \r\n      /**\r\n       * ProjectSpecification constructor. *\r\n       */\r\n      public ProjectSpecification(ProjectFilters projectFilters) {\r\n        this.projectFilters = projectFilters;\r\n      }\r\n    \r\n      /**\r\n       * Create predicate. *\r\n       */\r\n      public Predicate toPredicate(Root&lt;Project&gt; root, CriteriaQuery&lt;?&gt; cq,\r\n          CriteriaBuilder cb) {\r\n        log.info(&quot;Request to filter project with: {}&quot;, projectFilters);\r\n        Predicate predicate = cb.conjunction();\r\n    \r\n        Join&lt;Project, ProjectCode&gt; projectCodeJoin = root.join(&quot;projectCodes&quot;);\r\n        \r\n       // If I remove this line I do not get duplicated records\r\n       Join&lt;ProjectCode, ProjectAllocation&gt; projectAllocationJoin = \r\n       projectCodeJoin.join(&quot;projectAllocations&quot;); \r\n    \r\n       //    Join&lt;ProjectAllocation, Employee&gt; projectAllocationEmployeeJoin = \r\n       //    projectAllocationJoin.join(&quot;employee&quot;);\r\n    \r\n    \r\n    \r\n        return predicate;\r\n      }\r\n    }","title":"JPA Specifications to filter entity are returning duplicate record","body":"<p>I have a spring boot project with many entities and relationships. I am able to store the records successfully and retrieve it using POST and GET methods. Now I have a requirement to filter the records based on a few parameters which are optional to be passed in API and I am using the JPA specification to manage the queries but I am getting the duplicate records in the response.</p>\n<p><strong>Project</strong></p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;Project&quot;)\npublic class Project {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  @Column(name = &quot;`Id`&quot;)\n  @Schema(example = &quot;&quot;)\n  private Long id;\n\n  @Column(name = &quot;`Name`&quot;)\n  @Schema(example = &quot;&quot;)\n  private String name;\n\n  @OneToMany(mappedBy = &quot;project&quot;, cascade = CascadeType.ALL)\n  private List&lt;ProjectCode&gt; projectCodes;\n\n}\n</code></pre>\n<p><strong>ProjectCode</strong></p>\n<pre><code>@Getter\n@Setter\n@ToString\n@Entity\n@Table(name = &quot;ProjectCode&quot;)\npublic class ProjectCode {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.AUTO)\n  @Column(name = &quot;`Id`&quot;)\n  @Schema(example = &quot;&quot;)\n  private Long id;\n\n  @Column(name = &quot;`Code`&quot;)\n  @Schema(example = &quot;&quot;)\n  private String code;\n\n  ...\n\n  @ManyToOne\n  @JsonIgnore\n  private Project project;\n\n  @OneToMany(mappedBy = &quot;projectCode&quot;, cascade = CascadeType.ALL)\n  private List&lt;ProjectAllocation&gt; projectAllocations;\n\n}  \n</code></pre>\n<p>ProjectSpecification</p>\n<pre><code>public class ProjectSpecification implements Specification&lt;Project&gt; {\n\n  private final ProjectFilters projectFilters;\n\n  /**\n   * ProjectSpecification constructor. *\n   */\n  public ProjectSpecification(ProjectFilters projectFilters) {\n    this.projectFilters = projectFilters;\n  }\n\n  /**\n   * Create predicate. *\n   */\n  public Predicate toPredicate(Root&lt;Project&gt; root, CriteriaQuery&lt;?&gt; cq,\n      CriteriaBuilder cb) {\n    log.info(&quot;Request to filter project with: {}&quot;, projectFilters);\n    Predicate predicate = cb.conjunction();\n\n    Join&lt;Project, ProjectCode&gt; projectCodeJoin = root.join(&quot;projectCodes&quot;);\n    \n   // If I remove this line I do not get duplicated records\n   Join&lt;ProjectCode, ProjectAllocation&gt; projectAllocationJoin = \n   projectCodeJoin.join(&quot;projectAllocations&quot;); \n\n   //    Join&lt;ProjectAllocation, Employee&gt; projectAllocationEmployeeJoin = \n   //    projectAllocationJoin.join(&quot;employee&quot;);\n\n\n\n    return predicate;\n  }\n}\n</code></pre>\n"},{"tags":["java","inheritance","super"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":4,"creation_date":1676464955,"post_id":75459914,"comment_id":133141085,"body_markdown":"`super` refers to `this` instance, as an instance of its superclass. `obj` is a different object from `this`.","body":"<code>super</code> refers to <code>this</code> instance, as an instance of its superclass. <code>obj</code> is a different object from <code>this</code>."}],"answers":[{"tags":[],"owner":{"account_id":27393528,"reputation":353,"user_id":20896122,"display_name":"undefined symbol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676465107,"creation_date":1676465107,"answer_id":75459996,"question_id":75459914,"body_markdown":"There are two `B` objects in your program, the one created by main(), and the one created by the print() method in that first object.\r\n\r\nEach `B` has its own instance of `i`.\r\n\r\nOnly the first `B` has `i` set to 3, and `obj` refers to the second `B`.","title":"Assign parent &#39;s instance variable by using super keyword in Java","body":"<p>There are two <code>B</code> objects in your program, the one created by main(), and the one created by the print() method in that first object.</p>\n<p>Each <code>B</code> has its own instance of <code>i</code>.</p>\n<p>Only the first <code>B</code> has <code>i</code> set to 3, and <code>obj</code> refers to the second <code>B</code>.</p>\n"}],"owner":{"account_id":24744564,"reputation":5,"user_id":18630902,"display_name":"Ryannnnnnnnn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1676465107,"creation_date":1676464712,"question_id":75459914,"body_markdown":"I have 2 class in Java\r\n```\r\n1. public class A {\r\n2.     public int i = 1;\r\n3. }\r\n4. \r\n5. public class B extends A {\r\n6.     int i = 2;\r\n7.     public void print() {\r\n8.         super.i = 3;\r\n9.         A obj = new B();\r\n10.        System.out.println(obj.i);\r\n11.        System.out.println(this.i);\r\n12.        System.out.println(super.i);\r\n13.    }\r\n14.\r\n15.    public static void main(String [] args) {\r\n16.        new B().print();\r\n17.    }\r\n18.}\r\n```\r\nWhen I run above code it print\r\n```\r\n1\r\n2\r\n3\r\n```\r\nSo I want to know why line 10 and 12 print different output? I think because I assign super.i = 3 and create new object of A, the result should be 3, 2, 3. Please help me","title":"Assign parent &#39;s instance variable by using super keyword in Java","body":"<p>I have 2 class in Java</p>\n<pre><code>1. public class A {\n2.     public int i = 1;\n3. }\n4. \n5. public class B extends A {\n6.     int i = 2;\n7.     public void print() {\n8.         super.i = 3;\n9.         A obj = new B();\n10.        System.out.println(obj.i);\n11.        System.out.println(this.i);\n12.        System.out.println(super.i);\n13.    }\n14.\n15.    public static void main(String [] args) {\n16.        new B().print();\n17.    }\n18.}\n</code></pre>\n<p>When I run above code it print</p>\n<pre><code>1\n2\n3\n</code></pre>\n<p>So I want to know why line 10 and 12 print different output? I think because I assign super.i = 3 and create new object of A, the result should be 3, 2, 3. Please help me</p>\n"},{"tags":["javascript","java","echarts"],"comments":[{"owner":{"account_id":12514783,"reputation":15,"user_id":21219034,"display_name":"Matheus Markies"},"score":0,"creation_date":1676463619,"post_id":75459604,"comment_id":133140669,"body_markdown":"Yes,but I&#39;m using both.  Javascript running inside a java application that operates the values ​​that will be shown in the charts. &quot;running in a Java fx webview&quot;","body":"Yes,but I&#39;m using both.  Javascript running inside a java application that operates the values ​​that will be shown in the charts. &quot;running in a Java fx webview&quot;"}],"owner":{"account_id":12514783,"reputation":15,"user_id":21219034,"display_name":"Matheus Markies"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676465070,"creation_date":1676462981,"question_id":75459604,"body_markdown":"Good morning.  \r\nI need to do the following: Update a stacked line chart using a function in javascript that takes a 2d array ([[0,1],[0,2],...]).\r\nMy page is running in a Java fx webview so I can dynamically update my data. All the examples I&#39;ve seen so far create a predefined X axis and pass the y values ​​accordingly, I wanted to pass the two values ​​together to plot a line on the chart.\r\n\r\nHow could I make this function?  It&#39;s the first time I use echarts so I&#39;m lost.\r\n\r\nI even managed to do something similar but when plotting the chart it was all wrong.\r\n[Char Image](https://i.stack.imgur.com/GiZ2Y.png)\r\n\r\n    var option = {\r\n      xAxis: {\r\n        type: &quot;value&quot;,\r\n      },\r\n    \r\n      yAxis: {\r\n        type: &quot;value&quot;,\r\n      },\r\n    \r\n      series: [\r\n        {\r\n          type: &quot;line&quot;,\r\n    \r\n          data: [],\r\n        },\r\n      ],\r\n    };\r\n    \r\n    vibrationStackedLineChart.setOption(option);\r\n    \r\n    function updateEchart(dataArray) {\r\n      // Parse the JSON string back into a 2D int array\r\n    \r\n      var data = JSON.parse(&quot;[&quot; + dataArray + &quot;]&quot;);\r\n    \r\n      // Update the chart with the new data\r\n    \r\n      vibrationStackedLineChart.setOption({\r\n        series: [\r\n          {\r\n            data: data,\r\n          },\r\n        ],\r\n      });\r\n    }\r\n\r\n[Java function with array 2d](https://i.stack.imgur.com/w4fpK.png)","title":"How to update a echart with a js function and 2D array","body":"<p>Good morning.<br />\nI need to do the following: Update a stacked line chart using a function in javascript that takes a 2d array ([[0,1],[0,2],...]).\nMy page is running in a Java fx webview so I can dynamically update my data. All the examples I've seen so far create a predefined X axis and pass the y values ​​accordingly, I wanted to pass the two values ​​together to plot a line on the chart.</p>\n<p>How could I make this function?  It's the first time I use echarts so I'm lost.</p>\n<p>I even managed to do something similar but when plotting the chart it was all wrong.\n<a href=\"https://i.stack.imgur.com/GiZ2Y.png\" rel=\"nofollow noreferrer\">Char Image</a></p>\n<pre><code>var option = {\n  xAxis: {\n    type: &quot;value&quot;,\n  },\n\n  yAxis: {\n    type: &quot;value&quot;,\n  },\n\n  series: [\n    {\n      type: &quot;line&quot;,\n\n      data: [],\n    },\n  ],\n};\n\nvibrationStackedLineChart.setOption(option);\n\nfunction updateEchart(dataArray) {\n  // Parse the JSON string back into a 2D int array\n\n  var data = JSON.parse(&quot;[&quot; + dataArray + &quot;]&quot;);\n\n  // Update the chart with the new data\n\n  vibrationStackedLineChart.setOption({\n    series: [\n      {\n        data: data,\n      },\n    ],\n  });\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/w4fpK.png\" rel=\"nofollow noreferrer\">Java function with array 2d</a></p>\n"},{"tags":["java","shell","terminal","preferences"],"answers":[{"tags":[],"owner":{"account_id":8169324,"reputation":139,"user_id":6646132,"display_name":"Octavian Catusanu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676464813,"creation_date":1676464813,"answer_id":75459941,"question_id":23882316,"body_markdown":"-Djava.util.prefs.userRoot=/com/ABC/test","title":"Update java.util.prefs.preferences from shell script or terminal","body":"<p>-Djava.util.prefs.userRoot=/com/ABC/test</p>\n"}],"owner":{"account_id":1240801,"reputation":1229,"user_id":1203446,"accept_rate":55,"display_name":"Souvik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676464813,"creation_date":1401171588,"question_id":23882316,"body_markdown":"I have saved few of my data in my machine through java preference. Under this node data are stored at the time of system loading and this works perfect for me.\r\n\r\nPreferences registry = Preferences.userRoot().node(&quot;com/ABC/test&quot;);\r\n\r\nNow, my clients want to update this Preferences entry through shell or terminal at run time. Through java it&#39;s easy but how can I update this through shell or terminal?\r\n\r\n","title":"Update java.util.prefs.preferences from shell script or terminal","body":"<p>I have saved few of my data in my machine through java preference. Under this node data are stored at the time of system loading and this works perfect for me.</p>\n\n<p>Preferences registry = Preferences.userRoot().node(\"com/ABC/test\");</p>\n\n<p>Now, my clients want to update this Preferences entry through shell or terminal at run time. Through java it's easy but how can I update this through shell or terminal?</p>\n"},{"tags":["java","time","timestamp","java-time","localdate"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1676406431,"post_id":75452858,"comment_id":133129967,"body_markdown":"What  type does  `getTimeStamp(key)` return?","body":"What  type does  <code>getTimeStamp(key)</code> return?"},{"owner":{"account_id":10428912,"reputation":303,"user_id":8904399,"display_name":"skippy130"},"score":0,"creation_date":1676406955,"post_id":75452858,"comment_id":133130081,"body_markdown":"@WJS It returns a Date object.","body":"@WJS It returns a Date object."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676442089,"post_id":75452858,"comment_id":133135321,"body_markdown":"Which `Row` class is that? A homegrown one? I find it very confusing that `getTimestamp()` returns a `Date`. Which, BTW, is a poorly designed and long outdated class, so if you can upgrade the class to be able to return a modern type, do. I do realize that for now this would probably just move the cause of your error elsewhere.","body":"Which <code>Row</code> class is that? A homegrown one? I find it very confusing that <code>getTimestamp()</code> returns a <code>Date</code>. Which, BTW, is a poorly designed and long outdated class, so if you can upgrade the class to be able to return a modern type, do. I do realize that for now this would probably just move the cause of your error elsewhere."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676442950,"post_id":75452858,"comment_id":133135470,"body_markdown":"The `Instant` is independent of time zone and is not he problem. What confused you was that it prints in UTC. Your error comes from doing `.atZone(ZoneOffset.UTC)`, which gives you the UTC date, December 22, which you don’t want. Instead you need `return row.getTimestamp(key).toInstant().atZone(ZoneId.systemDefault()).toLocalDate();`. When running in America/Chicago time zone it gives the desired `2022-12-21` (not knowing whether that is your time zone, just given as an example).","body":"The <code>Instant</code> is independent of time zone and is not he problem. What confused you was that it prints in UTC. Your error comes from doing <code>.atZone(ZoneOffset.UTC)</code>, which gives you the UTC date, December 22, which you don’t want. Instead you need <code>return row.getTimestamp(key).toInstant().atZone(ZoneId.systemDefaul&zwnj;&#8203;t()).toLocalDate();</code>. When running in America/Chicago time zone it gives the desired <code>2022-12-21</code> (not knowing whether that is your time zone, just given as an example)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1676443234,"post_id":75452858,"comment_id":133135514,"body_markdown":"Does this answer your question? [Convert java.util.Date to\njava.time.LocalDate](https://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21242110/convert-java-util-date-to-java-time-localdate\">Convert java.util.Date to java.time.LocalDate</a>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676464748,"creation_date":1676406870,"answer_id":75453015,"question_id":75452858,"body_markdown":"Try it like this. Check out [DateTimeFormatter](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatter.html) for details on the following arguments.\r\n```\r\nString date = &quot;Wed Dec 21 20:47:46 CST 2022&quot;;\r\n```\r\n- `EEE` three letter day of week\r\n- `MMM` three letter month\r\n- `dd` integer day\r\n- `HH:mm:ss` time using 24 hour clock\r\n- `z` time zone name (CST)\r\n- `yyyy` year\r\n```\r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;);\r\nLocalDate dt = LocalDateTime.parse(date, dtf).toLocalDate();\r\nSystem.out.println(dt);\r\n```\r\nprints\r\n```\r\n2022-12-21\r\n```\r\n**Updated**\r\n\r\nIf you actually have an instance of `Date` you might try the following:\r\n```\r\nLocalDate ldt = LocalDate.ofInstant(date.toInstant(), \r\n    ZoneId.systemDefault());\r\n```\r\n","title":"Java Converting Retrieved TimeStamp to Instant Gives Wrong Day","body":"<p>Try it like this. Check out <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> for details on the following arguments.</p>\n<pre><code>String date = &quot;Wed Dec 21 20:47:46 CST 2022&quot;;\n</code></pre>\n<ul>\n<li><code>EEE</code> three letter day of week</li>\n<li><code>MMM</code> three letter month</li>\n<li><code>dd</code> integer day</li>\n<li><code>HH:mm:ss</code> time using 24 hour clock</li>\n<li><code>z</code> time zone name (CST)</li>\n<li><code>yyyy</code> year</li>\n</ul>\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;EEE MMM dd HH:mm:ss z yyyy&quot;);\nLocalDate dt = LocalDateTime.parse(date, dtf).toLocalDate();\nSystem.out.println(dt);\n</code></pre>\n<p>prints</p>\n<pre><code>2022-12-21\n</code></pre>\n<p><strong>Updated</strong></p>\n<p>If you actually have an instance of <code>Date</code> you might try the following:</p>\n<pre><code>LocalDate ldt = LocalDate.ofInstant(date.toInstant(), \n    ZoneId.systemDefault());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676418047,"creation_date":1676417634,"answer_id":75454242,"question_id":75452858,"body_markdown":"# tl;dr\r\n\r\nAvoid unnecessary string manipulation. Use date-time types for date-time values. \r\n\r\n    myResultSet\r\n    .getObject( … , OffsetDateTime.class )  // For any database column of a data type akin to the SQL standard type of `TIMESTAMP WITH TIME ZONE`.\r\n    .toLocalDate()  // Extract the date portion from the returned `OffsetDateTime` object. \r\n    .toString()     // Generate text in standard ISO 8601 format. \r\n\r\n\r\n\r\n\r\n# Details\r\n\r\nThe `Timestamp` class is part of the terrible date-time classes that are now legacy. Use only their replacements, the modern *java.time* classes defined in JSR 310.  \r\n\r\nInstead of `Timestamp`, use `OffsetDateTime` with JDBC 4.2 and later. Do this for any database column of a data type akin to the SQL standard type of `TIMESTAMP WITH TIME ZONE`. \r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\n\r\nYour Question is not clear, but you seem to want the date portion of that moment as seen with an offset from UTC of zero hours-minutes-seconds. \r\n\r\nThe retrieved `OffsetDateTime` is likely already in UTC. But let’s be sure:\r\n\r\n    OffsetDateTime odtUtc = odt.withOffsetSameInstant( ZoneOffset.UTC ) ;\r\n\r\nExtract the date portion. \r\n\r\n    LocalDate localDate = odtUtc.toLocalDate() ;\r\n\r\nTo generate text in standard ISO 8601 format, call `toString`. \r\n\r\n    String output = localDate.toString() ;\r\n\r\n\r\n","title":"Java Converting Retrieved TimeStamp to Instant Gives Wrong Day","body":"<h1>tl;dr</h1>\n<p>Avoid unnecessary string manipulation. Use date-time types for date-time values.</p>\n<pre><code>myResultSet\n.getObject( … , OffsetDateTime.class )  // For any database column of a data type akin to the SQL standard type of `TIMESTAMP WITH TIME ZONE`.\n.toLocalDate()  // Extract the date portion from the returned `OffsetDateTime` object. \n.toString()     // Generate text in standard ISO 8601 format. \n</code></pre>\n<h1>Details</h1>\n<p>The <code>Timestamp</code> class is part of the terrible date-time classes that are now legacy. Use only their replacements, the modern <em>java.time</em> classes defined in JSR 310.</p>\n<p>Instead of <code>Timestamp</code>, use <code>OffsetDateTime</code> with JDBC 4.2 and later. Do this for any database column of a data type akin to the SQL standard type of <code>TIMESTAMP WITH TIME ZONE</code>.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<p>Your Question is not clear, but you seem to want the date portion of that moment as seen with an offset from UTC of zero hours-minutes-seconds.</p>\n<p>The retrieved <code>OffsetDateTime</code> is likely already in UTC. But let’s be sure:</p>\n<pre><code>OffsetDateTime odtUtc = odt.withOffsetSameInstant( ZoneOffset.UTC ) ;\n</code></pre>\n<p>Extract the date portion.</p>\n<pre><code>LocalDate localDate = odtUtc.toLocalDate() ;\n</code></pre>\n<p>To generate text in standard ISO 8601 format, call <code>toString</code>.</p>\n<pre><code>String output = localDate.toString() ;\n</code></pre>\n"}],"owner":{"account_id":10428912,"reputation":303,"user_id":8904399,"display_name":"skippy130"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75453015,"answer_count":2,"score":0,"last_activity_date":1676464748,"creation_date":1676405661,"question_id":75452858,"body_markdown":"I&#39;ve made a simple method which is used to convert a timestamp retrieved from a database into a LocalDate. However for some reason I keep getting the wrong day in the conversion. I&#39;ve shared the code below.\r\n\r\n        private LocalDate getLocalDateFromTimeStamp(Row row, String key){\r\n            return LocalDate.parse(row.getTimestamp(key).toInstant().atZone(ZoneOffset.UTC).toLocalDate().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)));\r\n    }\r\n\r\nSo the date I&#39;m expecting is 2022-12-21 but what I get is 2022-12-22. \r\n\r\nWhen I debug and check what \r\n\r\n&gt; row.getTimestamp(key)\r\n\r\n gets me a `Date` object of `Wed Dec 21 20:47:46 CST 2022` which is what I expect. \r\n\r\n\r\nWhen I check what \r\n\r\n&gt; row.getTimestamp(key).toInstant()\r\n\r\n does, I get &quot;2022-12-22T02:47:46.299Z&quot;. And I think this is where the problem is popping up and I&#39;m not sure why it&#39;s happening. The LocalDate that&#39;s returned by the method is &quot;2022-12-22&quot;. \r\n\r\nIf anyone could shine a light on this I&#39;d really appreciate it as I&#39;m lost as to why this is happening. \r\n\r\n","title":"Java Converting Retrieved TimeStamp to Instant Gives Wrong Day","body":"<p>I've made a simple method which is used to convert a timestamp retrieved from a database into a LocalDate. However for some reason I keep getting the wrong day in the conversion. I've shared the code below.</p>\n<pre><code>    private LocalDate getLocalDateFromTimeStamp(Row row, String key){\n        return LocalDate.parse(row.getTimestamp(key).toInstant().atZone(ZoneOffset.UTC).toLocalDate().format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)));\n}\n</code></pre>\n<p>So the date I'm expecting is 2022-12-21 but what I get is 2022-12-22.</p>\n<p>When I debug and check what</p>\n<blockquote>\n<p>row.getTimestamp(key)</p>\n</blockquote>\n<p>gets me a <code>Date</code> object of <code>Wed Dec 21 20:47:46 CST 2022</code> which is what I expect.</p>\n<p>When I check what</p>\n<blockquote>\n<p>row.getTimestamp(key).toInstant()</p>\n</blockquote>\n<p>does, I get &quot;2022-12-22T02:47:46.299Z&quot;. And I think this is where the problem is popping up and I'm not sure why it's happening. The LocalDate that's returned by the method is &quot;2022-12-22&quot;.</p>\n<p>If anyone could shine a light on this I'd really appreciate it as I'm lost as to why this is happening.</p>\n"},{"tags":["java","android","kotlin","restart","shutdown"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1676465633,"post_id":75459901,"comment_id":133141295,"body_markdown":"&quot;is there an option to delay reboot or shutdown until commands are executed? Or cancel the reboot or shutdown and turn it off after executing the necessary commands?&quot; -- I hope not. Malware authors would love this. &quot;I&#39;m trying to send an SMS and make a request to the server as soon as the device starts to turn off or reboot&quot; -- you will need to engineer your system around the notion that those things are unreliable. Note that there is no guarantee of Internet access or telephony service at any point, including when the device is being shut down or rebooted.","body":"&quot;is there an option to delay reboot or shutdown until commands are executed? Or cancel the reboot or shutdown and turn it off after executing the necessary commands?&quot; -- I hope not. Malware authors would love this. &quot;I&#39;m trying to send an SMS and make a request to the server as soon as the device starts to turn off or reboot&quot; -- you will need to engineer your system around the notion that those things are unreliable. Note that there is no guarantee of Internet access or telephony service at any point, including when the device is being shut down or rebooted."}],"owner":{"account_id":21252218,"reputation":107,"user_id":15634313,"display_name":"J-iSkELo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676464661,"creation_date":1676464661,"question_id":75459901,"body_markdown":"The problem is that the functions I need do not always have time to complete before the device turns off.\r\n\r\nI understand that there is a server delay, etc. when prompted, but is there an option to delay reboot or shutdown until commands are executed? Or cancel the reboot or shutdown and turn it off after executing the necessary commands?\r\n\r\nI&#39;m trying to send an SMS and make a request to the server as soon as the device starts to turn off or reboot.\r\nNaturally I listen to ACTION_SHUTDOWN through ShutDownReceiver\r\n\r\n```\r\n&lt;receiver\r\n    android:name=&quot;.services.utils.ShutDownReceiver&quot;\r\n    android:exported=&quot;false&quot;&gt;\r\n    &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.ACTION_SHUTDOWN&quot; /&gt;\r\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWEROFF&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n&lt;/receiver&gt;\r\n```\r\n\r\n```\r\nclass ShutDownReceiver : BroadcastReceiver() {\r\n\r\n    @SuppressLint(&quot;UnsafeProtectedBroadcastReceiver&quot;)\r\n    override fun onReceive(context: Context, intent: Intent) {\r\n        &quot;ShutDownReceiver :: START SHUT DOWN&quot;.switchOffLogs()\r\n\r\n        CoroutineScope(IO).launch {\r\n            SwitchOffRepository.invoke().notifyOff(::setStatusSend)\r\n        }.start()\r\n    }\r\n\r\n    private fun setStatusSend(result: Boolean) {\r\n       Timber.e(&quot;ShutDownReceiver :: COMPLETE NOTIFY_OFF_FUNCTIONS&quot;)\r\n    }\r\n}\r\n```","title":"How to disable or suspend shutdown and restart? (Android 7.1.1)","body":"<p>The problem is that the functions I need do not always have time to complete before the device turns off.</p>\n<p>I understand that there is a server delay, etc. when prompted, but is there an option to delay reboot or shutdown until commands are executed? Or cancel the reboot or shutdown and turn it off after executing the necessary commands?</p>\n<p>I'm trying to send an SMS and make a request to the server as soon as the device starts to turn off or reboot.\nNaturally I listen to ACTION_SHUTDOWN through ShutDownReceiver</p>\n<pre><code>&lt;receiver\n    android:name=&quot;.services.utils.ShutDownReceiver&quot;\n    android:exported=&quot;false&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.ACTION_SHUTDOWN&quot; /&gt;\n        &lt;action android:name=&quot;android.intent.action.QUICKBOOT_POWEROFF&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<pre><code>class ShutDownReceiver : BroadcastReceiver() {\n\n    @SuppressLint(&quot;UnsafeProtectedBroadcastReceiver&quot;)\n    override fun onReceive(context: Context, intent: Intent) {\n        &quot;ShutDownReceiver :: START SHUT DOWN&quot;.switchOffLogs()\n\n        CoroutineScope(IO).launch {\n            SwitchOffRepository.invoke().notifyOff(::setStatusSend)\n        }.start()\n    }\n\n    private fun setStatusSend(result: Boolean) {\n       Timber.e(&quot;ShutDownReceiver :: COMPLETE NOTIFY_OFF_FUNCTIONS&quot;)\n    }\n}\n</code></pre>\n"},{"tags":["java","http","cookies"],"answers":[{"tags":[],"owner":{"account_id":225818,"reputation":6897,"user_id":486504,"accept_rate":79,"display_name":"user"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1324302994,"creation_date":1324302994,"answer_id":8562369,"question_id":8562256,"body_markdown":"According to [HTTP Cookies: What&#39;s the difference between Max-age and Expires?](http://mrcoles.com/blog/cookies-max-age-vs-expires/), at least Internet Explorer 6, 7 and 8 do not support `Max-Age`, but *do* support `Expires`. If this is your problem, then I would try setting both of those as:\r\n\r\n&gt; **Q. What if I set both expires and max-age in a cookie?**\r\n&gt; \r\n&gt; A. Every browser that supports max-age will ignore the expires regardless of it’s value, and likewise, Internet Explorer will ignore the max-age and just use expires.\r\n\r\nThat page also has a link to a [cookie persistence test page](http://mrcoles.com/media/test/cookies-max-age-vs-expires.html) which you might find useful.","title":"Setting maxage(0) to cookie in HTTPServlet doPost() and redirecting doesn&#39;t work","body":"<p>According to <a href=\"http://mrcoles.com/blog/cookies-max-age-vs-expires/\" rel=\"nofollow\">HTTP Cookies: What's the difference between Max-age and Expires?</a>, at least Internet Explorer 6, 7 and 8 do not support <code>Max-Age</code>, but <em>do</em> support <code>Expires</code>. If this is your problem, then I would try setting both of those as:</p>\n\n<blockquote>\n  <p><strong>Q. What if I set both expires and max-age in a cookie?</strong></p>\n  \n  <p>A. Every browser that supports max-age will ignore the expires regardless of it’s value, and likewise, Internet Explorer will ignore the max-age and just use expires.</p>\n</blockquote>\n\n<p>That page also has a link to a <a href=\"http://mrcoles.com/media/test/cookies-max-age-vs-expires.html\" rel=\"nofollow\">cookie persistence test page</a> which you might find useful.</p>\n"},{"tags":[],"owner":{"account_id":43763,"reputation":10120,"user_id":128076,"accept_rate":98,"display_name":"Ben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1324306983,"creation_date":1324306983,"answer_id":8563195,"question_id":8562256,"body_markdown":"The solution for IE was that I should have set the Path for both setting the cookie and removing it.\r\n\r\nChrome is ok with having no path.","title":"Setting maxage(0) to cookie in HTTPServlet doPost() and redirecting doesn&#39;t work","body":"<p>The solution for IE was that I should have set the Path for both setting the cookie and removing it.</p>\n\n<p>Chrome is ok with having no path.</p>\n"},{"tags":[],"owner":{"account_id":19887404,"reputation":1,"user_id":14570151,"display_name":"sudarsan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676464582,"creation_date":1676464041,"answer_id":75459792,"question_id":8562256,"body_markdown":"Thanks Ben on the finding, That was a really good catch. I have been trying to solve this for a couple of hours now. \r\n\r\nHonestly It was quite easy to not notice the solution provided under the Comments section, Hence re-sharing the solution here for people like me :)\r\n\r\n&quot;The real problem and it was that I didn&#39;t set the path&quot;\r\n\r\nModified Code Snippet:\r\n    \r\n        if (cookies != null) {\r\n            for (Cookie cookie : cookies) {\r\n    \r\n                if (CID_KEY_NAME.equals(cookie.getName())) {\r\n                    cookie.setMaxAge(0); // Should make the browser delete the cookie\r\n                    cookie.setValue(null);\r\n                    cookie.setPath(&quot;/&quot;); // Set the Path value according to your code\r\n                    resp.addCookie(cookie);\r\n                        \r\n                }\r\n            }\r\n        }\r\n\r\nAgain, Thanks Ben!","title":"Setting maxage(0) to cookie in HTTPServlet doPost() and redirecting doesn&#39;t work","body":"<p>Thanks Ben on the finding, That was a really good catch. I have been trying to solve this for a couple of hours now.</p>\n<p>Honestly It was quite easy to not notice the solution provided under the Comments section, Hence re-sharing the solution here for people like me :)</p>\n<p>&quot;The real problem and it was that I didn't set the path&quot;</p>\n<p>Modified Code Snippet:</p>\n<pre><code>    if (cookies != null) {\n        for (Cookie cookie : cookies) {\n\n            if (CID_KEY_NAME.equals(cookie.getName())) {\n                cookie.setMaxAge(0); // Should make the browser delete the cookie\n                cookie.setValue(null);\n                cookie.setPath(&quot;/&quot;); // Set the Path value according to your code\n                resp.addCookie(cookie);\n                    \n            }\n        }\n    }\n</code></pre>\n<p>Again, Thanks Ben!</p>\n"}],"owner":{"account_id":43763,"reputation":10120,"user_id":128076,"accept_rate":98,"display_name":"Ben"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3321,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":8563195,"answer_count":3,"score":1,"last_activity_date":1676464582,"creation_date":1324302433,"question_id":8562256,"body_markdown":"I&#39;m doing something very simple that&#39;s just not working.\r\n\r\nI have an html page with a button that&#39;s supposed to logoff and delete the login cookie, when pressed, it /runs this code in a servlet:\r\n\r\n\t@Override\r\n\tprotected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException,\r\n\t\t\tIOException {\r\n\t\tdeleteCookie(req, resp);\r\n\r\n\t\tresp.sendRedirect(&quot;login&quot;);\r\n\t\t\r\n\t}\r\n\r\n\tprivate void deleteCookie(HttpServletRequest req, HttpServletResponse resp) {\r\n\t\tCookie[] cookies = req.getCookies();\r\n\r\n\t\tif (cookies != null) {\r\n\t\t\tfor (Cookie cookie : cookies) {\r\n\r\n\t\t\t\tif (CID_KEY_NAME.equals(cookie.getName())) {\r\n\t\t\t\t\tcookie.setMaxAge(0); // Should make the browser delete the cookie\r\n\t\t\t\t\tcookie.setValue(null);\r\n\t\t\t\t\tresp.addCookie(cookie);\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\nthe `sendRedirect(&quot;login&quot;)` sends me to a new servlet that&#39;s responsible for the log-in but when I arrive at the new servlet and check for the existence of the cookie above, I can see it exists with the maxage value of -1\r\n\r\nAm I doing something wrong?","title":"Setting maxage(0) to cookie in HTTPServlet doPost() and redirecting doesn&#39;t work","body":"<p>I'm doing something very simple that's just not working.</p>\n\n<p>I have an html page with a button that's supposed to logoff and delete the login cookie, when pressed, it /runs this code in a servlet:</p>\n\n<pre><code>@Override\nprotected void doPost(HttpServletRequest req, HttpServletResponse resp) throws ServletException,\n        IOException {\n    deleteCookie(req, resp);\n\n    resp.sendRedirect(\"login\");\n\n}\n\nprivate void deleteCookie(HttpServletRequest req, HttpServletResponse resp) {\n    Cookie[] cookies = req.getCookies();\n\n    if (cookies != null) {\n        for (Cookie cookie : cookies) {\n\n            if (CID_KEY_NAME.equals(cookie.getName())) {\n                cookie.setMaxAge(0); // Should make the browser delete the cookie\n                cookie.setValue(null);\n                resp.addCookie(cookie);\n\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>the <code>sendRedirect(\"login\")</code> sends me to a new servlet that's responsible for the log-in but when I arrive at the new servlet and check for the existence of the cookie above, I can see it exists with the maxage value of -1</p>\n\n<p>Am I doing something wrong?</p>\n"},{"tags":["java","eclipse","maven","m2eclipse","workspace"],"comments":[{"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"score":1,"creation_date":1336659271,"post_id":10535799,"comment_id":13629655,"body_markdown":"m2e != m2eclipse. Which version are you actually using? No m2e versions start with 0","body":"m2e != m2eclipse. Which version are you actually using? No m2e versions start with 0"},{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":1,"creation_date":1336659621,"post_id":10535799,"comment_id":13629840,"body_markdown":"sorry using the Maven Integration for Eclipse","body":"sorry using the Maven Integration for Eclipse"},{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1336659886,"post_id":10535799,"comment_id":13629995,"body_markdown":"M2E or M2Eclipse? Which version of Eclipse? My version of m2e is 1.0something.","body":"M2E or M2Eclipse? Which version of Eclipse? My version of m2e is 1.0something."},{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":0,"creation_date":1336660145,"post_id":10535799,"comment_id":13630137,"body_markdown":"I have edited the post to show what I have installed","body":"I have edited the post to show what I have installed"},{"owner":{"account_id":1178010,"reputation":7642,"user_id":1153530,"accept_rate":80,"display_name":"Behe"},"score":0,"creation_date":1336690192,"post_id":10535799,"comment_id":13641945,"body_markdown":"Could you show the pom.xml entries for both projects?","body":"Could you show the pom.xml entries for both projects?"},{"owner":{"account_id":56519,"reputation":22672,"user_id":169277,"accept_rate":97,"display_name":"ant"},"score":0,"creation_date":1336691108,"post_id":10535799,"comment_id":13642137,"body_markdown":"did you try `mvn eclipse:clean` `mvn eclipse:eclipse` &amp; refresh","body":"did you try <code>mvn eclipse:clean</code> <code>mvn eclipse:eclipse</code> &amp; refresh"},{"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"score":0,"creation_date":1336691201,"post_id":10535799,"comment_id":13642160,"body_markdown":"I have tried eclipse the projects and those maven goals, yes. I have also edited the post to show the relevant sections of the pom.","body":"I have tried eclipse the projects and those maven goals, yes. I have also edited the post to show the relevant sections of the pom."}],"answers":[{"tags":[],"owner":{"account_id":1092244,"reputation":652,"user_id":1086631,"accept_rate":71,"display_name":"Robert Johnson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336687113,"creation_date":1336687113,"answer_id":10542752,"question_id":10535799,"body_markdown":"Looks like you have an old version of m2eclipse - as Guillaume Polet mentioned, the latest version of the m2eclipse plugin is 1.0 something.\r\n\r\nThe easiest way to get the latest version is to open the eclipse marketplace, search for &#39;Maven&#39; and install the &#39;Maven Integration plugin&#39; (and possibly the WTP plugin as well, since you seem to be using that).","title":"maven eclipse workspace resolution","body":"<p>Looks like you have an old version of m2eclipse - as Guillaume Polet mentioned, the latest version of the m2eclipse plugin is 1.0 something.</p>\n\n<p>The easiest way to get the latest version is to open the eclipse marketplace, search for 'Maven' and install the 'Maven Integration plugin' (and possibly the WTP plugin as well, since you seem to be using that).</p>\n"},{"tags":[],"owner":{"account_id":22425806,"reputation":21,"user_id":16632435,"display_name":"Edgar Leonardo S&#225;nchez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657218373,"creation_date":1657218373,"answer_id":72902608,"question_id":10535799,"body_markdown":"If a project is configured to resolve dependencies from the workspace, these artifacts do not need to be present in your local repository. Assume that project-a and project-b are both in the same MyEclipse workspace, and that project-a depends on project-b . If workspace resolution is disabled, the Maven build for project-a will only succeed if project-b ‘s artifact is present in the local repository. If workspace resolution is enabled, Maven will resolve the dependency via the MyEclipse workspace.\r\n\r\nEnabling the workspace resolution is convenient if you are working on several projects at the same time in the same workspace that have compile dependencies among each other and you don’t want to mvn install one project in order for your changes to be visible to the other project.\r\n\r\nHope this helps. Let us know if you have any questions.\r\n\r\n–Swapna\r\nMyEclipse Support","title":"maven eclipse workspace resolution","body":"<p>If a project is configured to resolve dependencies from the workspace, these artifacts do not need to be present in your local repository. Assume that project-a and project-b are both in the same MyEclipse workspace, and that project-a depends on project-b . If workspace resolution is disabled, the Maven build for project-a will only succeed if project-b ‘s artifact is present in the local repository. If workspace resolution is enabled, Maven will resolve the dependency via the MyEclipse workspace.</p>\n<p>Enabling the workspace resolution is convenient if you are working on several projects at the same time in the same workspace that have compile dependencies among each other and you don’t want to mvn install one project in order for your changes to be visible to the other project.</p>\n<p>Hope this helps. Let us know if you have any questions.</p>\n<p>–Swapna\nMyEclipse Support</p>\n"},{"tags":[],"owner":{"account_id":11106855,"reputation":190,"user_id":8153798,"display_name":"B_St"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676464494,"creation_date":1676464494,"answer_id":75459880,"question_id":10535799,"body_markdown":"In Eclipse 2022-09 using m2e 2.0.5 this is the Checkbox &quot;Resolve Workspace artifacts&quot; in maven run dialog.","title":"maven eclipse workspace resolution","body":"<p>In Eclipse 2022-09 using m2e 2.0.5 this is the Checkbox &quot;Resolve Workspace artifacts&quot; in maven run dialog.</p>\n"}],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4133,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1676464494,"creation_date":1336658968,"question_id":10535799,"body_markdown":"I have 2 maven projects in my workspace. They are not a multi-module project, but two separate ones. In one project, I reference the other as a dependency. I have workspace resolution turned on, but it tries to go out to the repository to find it. I&#39;ve tried deleting an reimporting both projects with no luck, and I&#39;m using the latest version of m2eclipse (0.12.1). I am under the impression that this should work, but does not - any thoughts why?\r\n\r\nEdit: The relevant sections of the poms looks like\r\n\r\nProject A\r\n\r\n    &lt;project&gt;\r\n     &lt;groupId&gt;my.company&lt;/groupId&gt;\r\n     &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n     &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n     &lt;name&gt;my project&lt;/name&gt;\r\n    &lt;/project&gt;\r\n\r\nProject B\r\n\r\n    &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;my.company&lt;/groupId&gt;\r\n        &lt;artifactId&gt;project&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n![enter image description here][1]\r\n  [1]: http://i.stack.imgur.com/Go66K.png","title":"maven eclipse workspace resolution","body":"<p>I have 2 maven projects in my workspace. They are not a multi-module project, but two separate ones. In one project, I reference the other as a dependency. I have workspace resolution turned on, but it tries to go out to the repository to find it. I've tried deleting an reimporting both projects with no luck, and I'm using the latest version of m2eclipse (0.12.1). I am under the impression that this should work, but does not - any thoughts why?</p>\n\n<p>Edit: The relevant sections of the poms looks like</p>\n\n<p>Project A</p>\n\n<pre><code>&lt;project&gt;\n &lt;groupId&gt;my.company&lt;/groupId&gt;\n &lt;artifactId&gt;project&lt;/artifactId&gt;\n &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n &lt;name&gt;my project&lt;/name&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Project B</p>\n\n<pre><code>&lt;dependencies&gt;\n  &lt;dependency&gt;\n    &lt;groupId&gt;my.company&lt;/groupId&gt;\n    &lt;artifactId&gt;project&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Go66K.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":5,"creation_date":1608043759,"post_id":65308189,"comment_id":115457775,"body_markdown":"because you are calling it on a proxy instead of the real object. Also you shouldn&#39;t be testing private methods, test the actual public method that invokes that private method.","body":"because you are calling it on a proxy instead of the real object. Also you shouldn&#39;t be testing private methods, test the actual public method that invokes that private method."},{"owner":{"account_id":19356344,"reputation":52,"user_id":14152601,"display_name":"BigTailMokey"},"score":0,"creation_date":1608081727,"post_id":65308189,"comment_id":115472391,"body_markdown":"Thanks.But I have other question: why not recommend testing private method? Or do I have a wrong idea about &quot;private method&quot;?","body":"Thanks.But I have other question: why not recommend testing private method? Or do I have a wrong idea about &quot;private method&quot;?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1608099451,"post_id":65308189,"comment_id":115475907,"body_markdown":"Because they are private and are not meant to be called directly. They are being called as part of a public method. The public method is the one you should be testing and probably with different input/scenario&#39;s so that you test all permutation possible.","body":"Because they are private and are not meant to be called directly. They are being called as part of a public method. The public method is the one you should be testing and probably with different input/scenario&#39;s so that you test all permutation possible."}],"answers":[{"tags":[],"owner":{"account_id":5574640,"reputation":475,"user_id":5976440,"accept_rate":50,"display_name":"ringadingding"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608133749,"creation_date":1608045726,"answer_id":65308735,"question_id":65308189,"body_markdown":"Not the answer you may be looking for, but private methods are supposed to be supporter methods and not need to be tested. Incase if you have written private method that needs unit test then PowerMock or PowerMockito will provide much better tests than java reflection.","title":"spring and junit4 to test a private method in class","body":"<p>Not the answer you may be looking for, but private methods are supposed to be supporter methods and not need to be tested. Incase if you have written private method that needs unit test then PowerMock or PowerMockito will provide much better tests than java reflection.</p>\n"}],"owner":{"account_id":19356344,"reputation":52,"user_id":14152601,"display_name":"BigTailMokey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676464162,"creation_date":1608043650,"question_id":65308189,"body_markdown":"I have two spring bean class ServiceA and ServiceB. ServiceA dependents ServiceB. Show the code:\r\n\r\n```\r\n@Service // spring IOC annotation\r\npublic class ServiceA {\r\n\r\n   @Autowired\r\n   private ServiceB sb;\r\n\r\n   // other code\r\n   \r\n   private void aMethod() {\r\n      // other code\r\n      sb.bMethod();\r\n      // other code\r\n   }\r\n\r\n}\r\n```\r\nI write the ServiceA`s unit class by Junit4, flowing code:\r\n```\r\n@SpringBootTest\r\n@RunWith(SpringRunner.class)\r\npublic class ServiceATest {\r\n\r\n   @Autowired\r\n   private ServiceA sa;\r\n\r\n   @Test\r\n   public void aMethodTest() {\r\n        Method method = ReflectionUtils.findMethod(ServiceA.class, &quot;aMethod&quot;);\r\n        method.setAccessible(true);\r\n        ReflectionUtils.invokeMethod(method, sa);\r\n   }\r\n}\r\n```\r\n\r\nI run the ServiceATest, when I debug the ServiceATest#aMethodTest(), the object &#39;sa&#39; is a CGLIB proxy object. But I debug the ServiceA#aMethod(), the &#39;sb&#39; is null.\r\n\r\nI am confused. The object &#39;sa&#39; is from Spring Bean Container, so it must be a complete object with Spring-DI. Why it`s field is null when i call sa.aMethod() method?","title":"spring and junit4 to test a private method in class","body":"<p>I have two spring bean class ServiceA and ServiceB. ServiceA dependents ServiceB. Show the code:</p>\n<pre><code>@Service // spring IOC annotation\npublic class ServiceA {\n\n   @Autowired\n   private ServiceB sb;\n\n   // other code\n   \n   private void aMethod() {\n      // other code\n      sb.bMethod();\n      // other code\n   }\n\n}\n</code></pre>\n<p>I write the ServiceA`s unit class by Junit4, flowing code:</p>\n<pre><code>@SpringBootTest\n@RunWith(SpringRunner.class)\npublic class ServiceATest {\n\n   @Autowired\n   private ServiceA sa;\n\n   @Test\n   public void aMethodTest() {\n        Method method = ReflectionUtils.findMethod(ServiceA.class, &quot;aMethod&quot;);\n        method.setAccessible(true);\n        ReflectionUtils.invokeMethod(method, sa);\n   }\n}\n</code></pre>\n<p>I run the ServiceATest, when I debug the ServiceATest#aMethodTest(), the object 'sa' is a CGLIB proxy object. But I debug the ServiceA#aMethod(), the 'sb' is null.</p>\n<p>I am confused. The object 'sa' is from Spring Bean Container, so it must be a complete object with Spring-DI. Why it`s field is null when i call sa.aMethod() method?</p>\n"},{"tags":["java","foreground","amazon-fire-tv","package-name"],"comments":[{"owner":{"account_id":404833,"reputation":1416,"user_id":773371,"accept_rate":82,"display_name":"gcdev"},"score":0,"creation_date":1679343236,"post_id":75459754,"comment_id":133701949,"body_markdown":"I&#39;d love to know this as well!","body":"I&#39;d love to know this as well!"}],"owner":{"account_id":19098913,"reputation":11,"user_id":13947591,"display_name":"Chris Meinigmann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676464031,"creation_date":1676463811,"question_id":75459754,"body_markdown":"I’m messing around with this problem for a long time and I’m very clueless how to get this going.\r\n\r\nI want to create an app for the Amazon firetv stick 4k max (Android 9 - API level 28), that monitors if one specific app is in the foreground (or gets opened).\r\n\r\nDo you have any ideas how to get the packagename of the app that is currently running in the foreground and that&#39;s actually working on an Amazon firetv stick 4K Max?\r\n\r\nI would really appreciate your help!\r\n\r\nI have found a way that works for other Android 9 devices by using the UsageStatsManager, but that does not seem to work for the stick.\r\nHere is what I tried:\r\n\r\n```\r\npublic String packageInForeground() {\r\n        // Get the UsageStatsManager\r\n        UsageStatsManager usageStatsManager = (UsageStatsManager) getSystemService(Context.USAGE_STATS_SERVICE);\r\n\r\n        // Get the usage events for the last 5 seconds\r\n        long currentTime = System.currentTimeMillis();\r\n        List&lt;UsageStats&gt; usageStatsList = usageStatsManager.queryUsageStats(UsageStatsManager.INTERVAL_BEST, currentTime - 5000, currentTime);\r\n\r\n        // Find the latest usage event\r\n        UsageStats latestUsageStats = null;\r\n        if (usageStatsList != null) {\r\n            for (UsageStats usageStats : usageStatsList) {\r\n                if (latestUsageStats == null || usageStats.getLastTimeUsed() &gt; latestUsageStats.getLastTimeUsed()) {\r\n                    latestUsageStats = usageStats;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Get the package name of the current foreground app\r\n        String currentForegroundApp = latestUsageStats != null ? latestUsageStats.getPackageName() : &quot;&quot;;\r\n        Log.d(&quot;Service&quot;, &quot;Current foreground app: &quot; + currentForegroundApp);\r\n\r\n        return currentForegroundApp;\r\n    }\r\n```\r\n\r\nThere is also a way to use the ActivityManager, but it will only show my own packagename if my own app is in the foreground, but does not show the packagename of other apps, if I open them.\r\nHere is what I tried:\r\n\r\n```\r\npublic String packageInForeground() {\r\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcesses = activityManager.getRunningAppProcesses();\r\n        String packageName = &quot;&quot;;\r\n        if (runningAppProcesses != null &amp;&amp; runningAppProcesses.size() &gt; 0) {\r\n            for (ActivityManager.RunningAppProcessInfo processInfo : runningAppProcesses) {\r\n                if (processInfo.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {\r\n                    packageName = processInfo.processName.split(&quot;:&quot;)[0];\r\n                    Log.d(&quot;LockService&quot;, &quot;Package Name: &quot; + packageName);\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return packageName;\r\n    }\r\n```","title":"How to get the packagename of the app that is running in the foreground on an Amazon firetv stick 4K Max?","body":"<p>I’m messing around with this problem for a long time and I’m very clueless how to get this going.</p>\n<p>I want to create an app for the Amazon firetv stick 4k max (Android 9 - API level 28), that monitors if one specific app is in the foreground (or gets opened).</p>\n<p>Do you have any ideas how to get the packagename of the app that is currently running in the foreground and that's actually working on an Amazon firetv stick 4K Max?</p>\n<p>I would really appreciate your help!</p>\n<p>I have found a way that works for other Android 9 devices by using the UsageStatsManager, but that does not seem to work for the stick.\nHere is what I tried:</p>\n<pre><code>public String packageInForeground() {\n        // Get the UsageStatsManager\n        UsageStatsManager usageStatsManager = (UsageStatsManager) getSystemService(Context.USAGE_STATS_SERVICE);\n\n        // Get the usage events for the last 5 seconds\n        long currentTime = System.currentTimeMillis();\n        List&lt;UsageStats&gt; usageStatsList = usageStatsManager.queryUsageStats(UsageStatsManager.INTERVAL_BEST, currentTime - 5000, currentTime);\n\n        // Find the latest usage event\n        UsageStats latestUsageStats = null;\n        if (usageStatsList != null) {\n            for (UsageStats usageStats : usageStatsList) {\n                if (latestUsageStats == null || usageStats.getLastTimeUsed() &gt; latestUsageStats.getLastTimeUsed()) {\n                    latestUsageStats = usageStats;\n                }\n            }\n        }\n\n        // Get the package name of the current foreground app\n        String currentForegroundApp = latestUsageStats != null ? latestUsageStats.getPackageName() : &quot;&quot;;\n        Log.d(&quot;Service&quot;, &quot;Current foreground app: &quot; + currentForegroundApp);\n\n        return currentForegroundApp;\n    }\n</code></pre>\n<p>There is also a way to use the ActivityManager, but it will only show my own packagename if my own app is in the foreground, but does not show the packagename of other apps, if I open them.\nHere is what I tried:</p>\n<pre><code>public String packageInForeground() {\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\n        List&lt;ActivityManager.RunningAppProcessInfo&gt; runningAppProcesses = activityManager.getRunningAppProcesses();\n        String packageName = &quot;&quot;;\n        if (runningAppProcesses != null &amp;&amp; runningAppProcesses.size() &gt; 0) {\n            for (ActivityManager.RunningAppProcessInfo processInfo : runningAppProcesses) {\n                if (processInfo.importance == ActivityManager.RunningAppProcessInfo.IMPORTANCE_FOREGROUND) {\n                    packageName = processInfo.processName.split(&quot;:&quot;)[0];\n                    Log.d(&quot;LockService&quot;, &quot;Package Name: &quot; + packageName);\n                    break;\n                }\n            }\n        }\n        return packageName;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","swagger"],"owner":{"account_id":19356344,"reputation":52,"user_id":14152601,"display_name":"BigTailMokey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676463860,"creation_date":1676463860,"question_id":75459764,"body_markdown":"I want to use spring-context-indexer in my project.But there are some old depend jar, like springfox-swagger(version 2 or 3) and others.These jars are not support spring-context-indexer(There is not spring.components in there jar). AndThe developers of some jars have explicitly stated that they are not supported.\r\nSo, how can I add manually some string in spring.components when the project building.","title":"How to use spring-context-indexer with some library jar that who is not depended spring-context-indexer","body":"<p>I want to use spring-context-indexer in my project.But there are some old depend jar, like springfox-swagger(version 2 or 3) and others.These jars are not support spring-context-indexer(There is not spring.components in there jar). AndThe developers of some jars have explicitly stated that they are not supported.\nSo, how can I add manually some string in spring.components when the project building.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676445112,"post_id":75455769,"comment_id":133135850,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."},{"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"score":0,"creation_date":1676454155,"post_id":75455769,"comment_id":133138056,"body_markdown":"hey @AlexMamo I attached the database structure","body":"hey @AlexMamo I attached the database structure"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1676454316,"post_id":75455769,"comment_id":133138098,"body_markdown":"So you expect to receive `Cartmodel` objects?","body":"So you expect to receive <code>Cartmodel</code> objects?"},{"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"score":0,"creation_date":1676455421,"post_id":75455769,"comment_id":133138401,"body_markdown":"@AlexMamo Yes..","body":"@AlexMamo Yes.."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676463552,"creation_date":1676463552,"answer_id":75459712,"question_id":75455769,"body_markdown":"When you pass the following query:\r\n\r\n    cartListRef.child(&quot;currentUserPhoneNumber&quot;)\r\n\r\nTo the `.setQuery() method`, where `cartListRef` is defined as:\r\n\r\n    DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\r\n\r\nIt means that you tell the adapter to render `Cartmodel` objects that exist at the above reference. Seeing your database schema, there are no `Cartmodel` objects at that location, but only strings and a number.\r\n\r\nSo to solve this, you have to remove the call to `.child(&quot;currentUserPhoneNumber&quot;)` and pass only the `cartListRef` object.","title":"Can&#39;t convert object of type java.lang.String to type com.example.register.Model.Cartmodel","body":"<p>When you pass the following query:</p>\n<pre><code>cartListRef.child(&quot;currentUserPhoneNumber&quot;)\n</code></pre>\n<p>To the <code>.setQuery() method</code>, where <code>cartListRef</code> is defined as:</p>\n<pre><code>DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\n</code></pre>\n<p>It means that you tell the adapter to render <code>Cartmodel</code> objects that exist at the above reference. Seeing your database schema, there are no <code>Cartmodel</code> objects at that location, but only strings and a number.</p>\n<p>So to solve this, you have to remove the call to <code>.child(&quot;currentUserPhoneNumber&quot;)</code> and pass only the <code>cartListRef</code> object.</p>\n"}],"owner":{"account_id":27736441,"reputation":1,"user_id":21173929,"display_name":"Aditya Singh Rajput"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676463598,"creation_date":1676438688,"question_id":75455769,"body_markdown":"I&#39;m trying to get my app to read data from Firebase Realtime Database. I&#39;m getting this error\r\n\r\n&gt; &quot;com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.register.Model.Cartmodel&quot;\r\n\r\nThis is the code where I data is written:\r\n\r\n        private void addtocart() {\r\n        String saveCurrentDate, saveCurrentTime;\r\n        Calendar calForDate = Calendar.getInstance();\r\n        SimpleDateFormat currentDate = new SimpleDateFormat(&quot;MMM dd, yyyy&quot;);\r\n        saveCurrentDate = currentDate.format(calForDate.getTime());\r\n\r\n        SimpleDateFormat currentTime = new SimpleDateFormat(&quot;HH:mm:ss a&quot;);\r\n        saveCurrentTime = currentTime.format(calForDate.getTime());\r\n\r\n        final DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\r\n        String timestamp = String.valueOf(System.currentTimeMillis());\r\n\r\n        double price = Double.parseDouble(emailholder.getText().toString().replace(&quot;₹&quot;, &quot;&quot;));\r\n        double quantityValue = Double.parseDouble(quantity.getText().toString());\r\n        double result = price * quantityValue;\r\n\r\n        Intent intent = getIntent();\r\n        String purl = intent.getStringExtra(&quot;purl&quot;);\r\n\r\n\r\n\r\n        final HashMap&lt;String, Object&gt; cartMap = new HashMap&lt;&gt;();\r\n        cartMap.put(&quot;productName&quot;,nameholder.getText().toString());\r\n        cartMap.put(&quot;productPrice&quot;,emailholder.getText().toString());\r\n        cartMap.put(&quot;productImage&quot;, purl);\r\n        cartMap.put(&quot;date&quot;,saveCurrentDate);\r\n        cartMap.put(&quot;time&quot;,saveCurrentTime);\r\n        cartMap.put(&quot;quantity&quot;,quantity.getText().toString());\r\n        cartMap.put(&quot;totalPrice&quot;,result);\r\n\r\n        String currentUserPhoneNumber = Paper.book().read(Prevalent.UserPhoneKey);\r\n\r\n        cartListRef.child(&quot;currentUserPhoneNumber&quot;)\r\n                //.child(timestamp)\r\n                .updateChildren(cartMap)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                        Toast.makeText(details.this, &quot;Added to cart&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n\r\n                    }\r\n                });\r\n\r\n\r\n\r\n        }\r\n\r\nthis is Model class which is giving error\r\n\r\n    package com.example.register.Model;\r\n\r\npublic class Cartmodel {\r\n\r\n    String date;\r\n    String productImage;\r\n    static String productName;\r\n    String productPrice;\r\n    static String quantity;\r\n    String time;\r\n    static String totalPrice;\r\n\r\n\r\n\r\n    public Cartmodel() {\r\n    }\r\n\r\n    public Cartmodel(String date, String productImage, String productName, String quantity, String time, String totalPrice,String productPrice) {\r\n        this.date = date;\r\n        this.productImage = productImage;\r\n        this.productName = productName;\r\n        this.quantity = quantity;\r\n        this.time = time;\r\n        this.totalPrice = totalPrice;\r\n        this.productPrice = productPrice;\r\n    }\r\n\r\n    public String getProductPrice() {\r\n        return productPrice;\r\n    }\r\n\r\n    public void setProductPrice(String productPrice) {\r\n        this.productPrice = productPrice;\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date = date;\r\n    }\r\n\r\n    public String getProductImage() {\r\n        return productImage;\r\n    }\r\n\r\n    public void setProductImage(String productImage) {\r\n        this.productImage = productImage;\r\n    }\r\n\r\n    public static String getProductName() {\r\n        return productName;\r\n    }\r\n\r\n    public void setProductName(String productName) {\r\n        this.productName = productName;\r\n    }\r\n\r\n    public static String getQuantity() {\r\n        return quantity;\r\n    }\r\n\r\n    public void setQuantity(String quantity) {\r\n        this.quantity = quantity;\r\n    }\r\n\r\n    public String getTime() {\r\n        return time;\r\n    }\r\n\r\n    public void setTime(String time) {\r\n        this.time = time;\r\n    }\r\n\r\n    public static String getTotalPrice() {\r\n        return totalPrice;\r\n    }\r\n\r\n    public void setTotalPrice(String totalPrice) {\r\n        this.totalPrice = totalPrice;\r\n    }\r\n}\r\n\r\nthis is the code where im reading data from db\r\n\r\n        @Override\r\n    protected void onStart() {\r\n        super.onStart();\r\n        String currentUserPhoneNumber = Paper.book().read(UserPhoneKey);\r\n        String timestamp = String.valueOf(System.currentTimeMillis());\r\n\r\n        final DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\r\n\r\n        FirebaseRecyclerOptions&lt;Cartmodel&gt; options =\r\n                new FirebaseRecyclerOptions.Builder&lt;Cartmodel&gt;()\r\n                        .setQuery(cartListRef.child(&quot;currentUserPhoneNumber&quot;)\r\n                                /**.child(timestamp)**/,Cartmodel.class).build();\r\n\r\n        FirebaseRecyclerAdapter&lt;Cartmodel, CartViewHolder&gt; adapter\r\n                =new FirebaseRecyclerAdapter&lt;Cartmodel, CartViewHolder&gt;(options) {\r\n            @Override\r\n            protected void onBindViewHolder(@NonNull CartViewHolder holder, int position, @NonNull Cartmodel model) {\r\n                holder.TxtQunatity.setText(Cartmodel.getQuantity());\r\n                holder.TxtProductPrice.setText(Cartmodel.getProductName());\r\n                holder.TxtProductName.setText(Cartmodel.getTotalPrice());\r\n            }\r\n\r\n            @NonNull\r\n            @Override\r\n            public CartViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n                View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.cart_row,parent,false);\r\n                CartViewHolder holder = new CartViewHolder(view);\r\n                return holder;\r\n            }\r\n        };\r\n\r\n        recyclerView.setAdapter(adapter);\r\n        adapter.startListening();\r\n    }\r\n}\r\n\r\nthis is the database structure of Cart List\r\n\r\n    &quot;Cart List&quot;: {\r\n    &quot;currentUserPhoneNumber&quot;: {\r\n      &quot;date&quot;: &quot;Feb 15, 2023&quot;,\r\n      &quot;productImage&quot;: &quot;https://images.jdmagicbox.com/comp/mumbai/z3/022pxx22.xx22.181204184809.b5z3/catalogue/burger-king-santacruz-east-mumbai-burger-king-3hofjz4vmz.jpg&quot;,\r\n      &quot;productName&quot;: &quot;Chicken Burger&quot;,\r\n      &quot;productPrice&quot;: &quot;₹₹350&quot;,\r\n      &quot;quantity&quot;: &quot;3&quot;,\r\n      &quot;time&quot;: &quot;15:08:00 PM&quot;,\r\n      &quot;totalPrice&quot;: 1050\r\n    }\r\n\r\n","title":"Can&#39;t convert object of type java.lang.String to type com.example.register.Model.Cartmodel","body":"<p>I'm trying to get my app to read data from Firebase Realtime Database. I'm getting this error</p>\n<blockquote>\n<p>&quot;com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.register.Model.Cartmodel&quot;</p>\n</blockquote>\n<p>This is the code where I data is written:</p>\n<pre><code>    private void addtocart() {\n    String saveCurrentDate, saveCurrentTime;\n    Calendar calForDate = Calendar.getInstance();\n    SimpleDateFormat currentDate = new SimpleDateFormat(&quot;MMM dd, yyyy&quot;);\n    saveCurrentDate = currentDate.format(calForDate.getTime());\n\n    SimpleDateFormat currentTime = new SimpleDateFormat(&quot;HH:mm:ss a&quot;);\n    saveCurrentTime = currentTime.format(calForDate.getTime());\n\n    final DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\n    String timestamp = String.valueOf(System.currentTimeMillis());\n\n    double price = Double.parseDouble(emailholder.getText().toString().replace(&quot;₹&quot;, &quot;&quot;));\n    double quantityValue = Double.parseDouble(quantity.getText().toString());\n    double result = price * quantityValue;\n\n    Intent intent = getIntent();\n    String purl = intent.getStringExtra(&quot;purl&quot;);\n\n\n\n    final HashMap&lt;String, Object&gt; cartMap = new HashMap&lt;&gt;();\n    cartMap.put(&quot;productName&quot;,nameholder.getText().toString());\n    cartMap.put(&quot;productPrice&quot;,emailholder.getText().toString());\n    cartMap.put(&quot;productImage&quot;, purl);\n    cartMap.put(&quot;date&quot;,saveCurrentDate);\n    cartMap.put(&quot;time&quot;,saveCurrentTime);\n    cartMap.put(&quot;quantity&quot;,quantity.getText().toString());\n    cartMap.put(&quot;totalPrice&quot;,result);\n\n    String currentUserPhoneNumber = Paper.book().read(Prevalent.UserPhoneKey);\n\n    cartListRef.child(&quot;currentUserPhoneNumber&quot;)\n            //.child(timestamp)\n            .updateChildren(cartMap)\n            .addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                    Toast.makeText(details.this, &quot;Added to cart&quot;, Toast.LENGTH_SHORT).show();\n\n\n\n                }\n            });\n\n\n\n    }\n</code></pre>\n<p>this is Model class which is giving error</p>\n<pre><code>package com.example.register.Model;\n</code></pre>\n<p>public class Cartmodel {</p>\n<pre><code>String date;\nString productImage;\nstatic String productName;\nString productPrice;\nstatic String quantity;\nString time;\nstatic String totalPrice;\n\n\n\npublic Cartmodel() {\n}\n\npublic Cartmodel(String date, String productImage, String productName, String quantity, String time, String totalPrice,String productPrice) {\n    this.date = date;\n    this.productImage = productImage;\n    this.productName = productName;\n    this.quantity = quantity;\n    this.time = time;\n    this.totalPrice = totalPrice;\n    this.productPrice = productPrice;\n}\n\npublic String getProductPrice() {\n    return productPrice;\n}\n\npublic void setProductPrice(String productPrice) {\n    this.productPrice = productPrice;\n}\n\npublic String getDate() {\n    return date;\n}\n\npublic void setDate(String date) {\n    this.date = date;\n}\n\npublic String getProductImage() {\n    return productImage;\n}\n\npublic void setProductImage(String productImage) {\n    this.productImage = productImage;\n}\n\npublic static String getProductName() {\n    return productName;\n}\n\npublic void setProductName(String productName) {\n    this.productName = productName;\n}\n\npublic static String getQuantity() {\n    return quantity;\n}\n\npublic void setQuantity(String quantity) {\n    this.quantity = quantity;\n}\n\npublic String getTime() {\n    return time;\n}\n\npublic void setTime(String time) {\n    this.time = time;\n}\n\npublic static String getTotalPrice() {\n    return totalPrice;\n}\n\npublic void setTotalPrice(String totalPrice) {\n    this.totalPrice = totalPrice;\n}\n</code></pre>\n<p>}</p>\n<p>this is the code where im reading data from db</p>\n<pre><code>    @Override\nprotected void onStart() {\n    super.onStart();\n    String currentUserPhoneNumber = Paper.book().read(UserPhoneKey);\n    String timestamp = String.valueOf(System.currentTimeMillis());\n\n    final DatabaseReference cartListRef = FirebaseDatabase.getInstance().getReference().child(&quot;Cart List&quot;);\n\n    FirebaseRecyclerOptions&lt;Cartmodel&gt; options =\n            new FirebaseRecyclerOptions.Builder&lt;Cartmodel&gt;()\n                    .setQuery(cartListRef.child(&quot;currentUserPhoneNumber&quot;)\n                            /**.child(timestamp)**/,Cartmodel.class).build();\n\n    FirebaseRecyclerAdapter&lt;Cartmodel, CartViewHolder&gt; adapter\n            =new FirebaseRecyclerAdapter&lt;Cartmodel, CartViewHolder&gt;(options) {\n        @Override\n        protected void onBindViewHolder(@NonNull CartViewHolder holder, int position, @NonNull Cartmodel model) {\n            holder.TxtQunatity.setText(Cartmodel.getQuantity());\n            holder.TxtProductPrice.setText(Cartmodel.getProductName());\n            holder.TxtProductName.setText(Cartmodel.getTotalPrice());\n        }\n\n        @NonNull\n        @Override\n        public CartViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n            View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.cart_row,parent,false);\n            CartViewHolder holder = new CartViewHolder(view);\n            return holder;\n        }\n    };\n\n    recyclerView.setAdapter(adapter);\n    adapter.startListening();\n}\n</code></pre>\n<p>}</p>\n<p>this is the database structure of Cart List</p>\n<pre><code>&quot;Cart List&quot;: {\n&quot;currentUserPhoneNumber&quot;: {\n  &quot;date&quot;: &quot;Feb 15, 2023&quot;,\n  &quot;productImage&quot;: &quot;https://images.jdmagicbox.com/comp/mumbai/z3/022pxx22.xx22.181204184809.b5z3/catalogue/burger-king-santacruz-east-mumbai-burger-king-3hofjz4vmz.jpg&quot;,\n  &quot;productName&quot;: &quot;Chicken Burger&quot;,\n  &quot;productPrice&quot;: &quot;₹₹350&quot;,\n  &quot;quantity&quot;: &quot;3&quot;,\n  &quot;time&quot;: &quot;15:08:00 PM&quot;,\n  &quot;totalPrice&quot;: 1050\n}\n</code></pre>\n"},{"tags":["java","encryption","discord"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649516037,"creation_date":1649513596,"answer_id":71808843,"question_id":71807857,"body_markdown":"With salty-coffee the required Ed25519 verification can be performed under Java (11)! \r\n\r\nWith the following test data a successful verification can be performed using *tweetnacl* and the NodeJS code you linked: \r\n\r\n```js\r\nconst nacl = require(&#39;tweetnacl&#39;);\r\n\r\nconst PUBLIC_KEY = &quot;9c7d775851a98ceb09a80928c1f8ff56706a0f5d91d841c72850fcd92e065b8f&quot;; // &#39;APPLICATION_PUBLIC_KEY&#39;\r\n\r\nconst signature = &quot;99c4903df0b00ac32ba158db956ee39586adf05fea6be714055ac79a80bfd9dff59399b7da01ced95d0a252daee6bdb07e5f59cc546322bb779fd749b04f170c&quot;; // req.get(&#39;X-Signature-Ed25519&#39;)\r\nconst timestamp = &#39;202204091535&#39;; // req.get(&#39;X-Signature-Timestamp&#39;)\r\nconst body = &#39;testmessage&#39;; // req.rawBody\r\n\r\nconst isVerified = nacl.sign.detached.verify(\r\n  Buffer.from(timestamp + body),\r\n  Buffer.from(signature, &#39;hex&#39;),\r\n  Buffer.from(PUBLIC_KEY, &#39;hex&#39;)\r\n);\r\n\r\nconsole.log(isVerified); // true\r\n```\r\n\r\nThe analog Java code with *salty-coffee* that allows successful verification is:\r\n\r\n```java\r\nimport java.nio.charset.StandardCharsets;\r\nimport software.pando.crypto.nacl.Crypto;\r\n...\r\nString PUBLIC_KEY = &quot;9c7d775851a98ceb09a80928c1f8ff56706a0f5d91d841c72850fcd92e065b8f&quot;;\r\n\r\nString signature = &quot;99c4903df0b00ac32ba158db956ee39586adf05fea6be714055ac79a80bfd9dff59399b7da01ced95d0a252daee6bdb07e5f59cc546322bb779fd749b04f170c&quot;;\r\nString timestamp = &quot;202204091535&quot;;\r\nString body = &quot;testmessage&quot;;\r\n\r\nboolean isVerified = Crypto.signVerify(\r\n\t  Crypto.signingPublicKey(fromHex(PUBLIC_KEY)), \r\n\t  (timestamp + body).getBytes(StandardCharsets.UTF_8), \r\n\t  fromHex(signature));\r\n\r\nSystem.out.println(isVerified); // true\r\n```\r\n\r\nNote that the verification is to be done with [`Crypto.signVerify()`][1] and not with [`Crypto.authVerify()`][2].\r\n\r\n[1]: https://github.com/NeilMadden/salty-coffee#public-key-signatures\r\n[2]: https://github.com/NeilMadden/salty-coffee#secret-key-authentication","title":"Discord Interactions validation java","body":"<p>With salty-coffee the required Ed25519 verification can be performed under Java (11)!</p>\n<p>With the following test data a successful verification can be performed using <em>tweetnacl</em> and the NodeJS code you linked:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const nacl = require('tweetnacl');\n\nconst PUBLIC_KEY = &quot;9c7d775851a98ceb09a80928c1f8ff56706a0f5d91d841c72850fcd92e065b8f&quot;; // 'APPLICATION_PUBLIC_KEY'\n\nconst signature = &quot;99c4903df0b00ac32ba158db956ee39586adf05fea6be714055ac79a80bfd9dff59399b7da01ced95d0a252daee6bdb07e5f59cc546322bb779fd749b04f170c&quot;; // req.get('X-Signature-Ed25519')\nconst timestamp = '202204091535'; // req.get('X-Signature-Timestamp')\nconst body = 'testmessage'; // req.rawBody\n\nconst isVerified = nacl.sign.detached.verify(\n  Buffer.from(timestamp + body),\n  Buffer.from(signature, 'hex'),\n  Buffer.from(PUBLIC_KEY, 'hex')\n);\n\nconsole.log(isVerified); // true\n</code></pre>\n<p>The analog Java code with <em>salty-coffee</em> that allows successful verification is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.charset.StandardCharsets;\nimport software.pando.crypto.nacl.Crypto;\n...\nString PUBLIC_KEY = &quot;9c7d775851a98ceb09a80928c1f8ff56706a0f5d91d841c72850fcd92e065b8f&quot;;\n\nString signature = &quot;99c4903df0b00ac32ba158db956ee39586adf05fea6be714055ac79a80bfd9dff59399b7da01ced95d0a252daee6bdb07e5f59cc546322bb779fd749b04f170c&quot;;\nString timestamp = &quot;202204091535&quot;;\nString body = &quot;testmessage&quot;;\n\nboolean isVerified = Crypto.signVerify(\n      Crypto.signingPublicKey(fromHex(PUBLIC_KEY)), \n      (timestamp + body).getBytes(StandardCharsets.UTF_8), \n      fromHex(signature));\n\nSystem.out.println(isVerified); // true\n</code></pre>\n<p>Note that the verification is to be done with <a href=\"https://github.com/NeilMadden/salty-coffee#public-key-signatures\" rel=\"nofollow noreferrer\"><code>Crypto.signVerify()</code></a> and not with <a href=\"https://github.com/NeilMadden/salty-coffee#secret-key-authentication\" rel=\"nofollow noreferrer\"><code>Crypto.authVerify()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1781907,"reputation":149,"user_id":1624406,"display_name":"f.kowal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676463299,"creation_date":1676463299,"answer_id":75459673,"question_id":71807857,"body_markdown":"above `fromHex` implementation didn&#39;t work for me\r\n\r\nwhat worked was using\r\n\r\n```\r\nimport javax.xml.bind.DatatypeConverter\r\n\r\nfun fromHex(string: String) = DatatypeConverter.parseHexBinary(string)\r\n\r\nrest as described @Topaco\r\n```","title":"Discord Interactions validation java","body":"<p>above <code>fromHex</code> implementation didn't work for me</p>\n<p>what worked was using</p>\n<pre><code>import javax.xml.bind.DatatypeConverter\n\nfun fromHex(string: String) = DatatypeConverter.parseHexBinary(string)\n\nrest as described @Topaco\n</code></pre>\n"}],"owner":{"account_id":19649334,"reputation":35,"user_id":14383539,"display_name":"Piotr Majewski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71808843,"answer_count":2,"score":2,"last_activity_date":1676463299,"creation_date":1649505717,"question_id":71807857,"body_markdown":"Im trying to make serverless discord bot using java 11. Discord [documentation][1] doesn&#39;t provide any example in terms of validating in java. I have found a [java library][2] that might be of help here, but I have little expertise in this field and my code always results in validation failed. Would someone point me what im doing wrong during this validation ?\r\n\r\n```java\r\nSecretKey key = Crypto.authKey(fromHex(&quot;&lt;MY APPLICATION PUBLIC KEY&gt;&quot;));\r\nString message = x_signature_timestamp + event.get(&quot;body&quot;);\r\nboolean verified = Crypto.authVerify(key,message.getBytes(),fromHex(x_signature_ed25519));\r\n```\r\n\r\nand \r\n```java\r\npublic static byte[] fromHex(String s) {\r\n    int len = s.length();\r\n    byte[] data = new byte[len / 2];\r\n    for (int i = 0; i &lt; len; i += 2) {\r\n        data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\r\n                    + Character.digit(s.charAt(i+1), 16));\r\n    }\r\n    return data;\r\n}\r\n```\r\n\r\nim always getting this when adding interactions endopint url[![discord appication interactions endopint][3]][3]\r\n\r\nresponse im sending:\r\n```java\r\nif (!verified){\r\n    response = ApiGatewayResponse.builder()\r\n             .withHeaders(headers)\r\n             .withBody(&quot;validation failed&quot;)\r\n             .withStatusCode(401)\r\n             .build();\r\n} else {\r\n    response = ApiGatewayResponse.builder()\r\n            .withHeaders(headers)\r\n            .withBody(event.get(&quot;body&quot;).toString())\r\n            .withStatusCode(200)\r\n            .build();\r\n}\r\nreturn response;\r\n```\r\n\r\n\r\n  [1]: https://discord.com/developers/docs/interactions/receiving-and-responding#security-and-authorization\r\n  [2]: https://github.com/NeilMadden/salty-coffee\r\n  [3]: https://i.stack.imgur.com/P9u1F.png","title":"Discord Interactions validation java","body":"<p>Im trying to make serverless discord bot using java 11. Discord <a href=\"https://discord.com/developers/docs/interactions/receiving-and-responding#security-and-authorization\" rel=\"nofollow noreferrer\">documentation</a> doesn't provide any example in terms of validating in java. I have found a <a href=\"https://github.com/NeilMadden/salty-coffee\" rel=\"nofollow noreferrer\">java library</a> that might be of help here, but I have little expertise in this field and my code always results in validation failed. Would someone point me what im doing wrong during this validation ?</p>\n<pre class=\"lang-java prettyprint-override\"><code>SecretKey key = Crypto.authKey(fromHex(&quot;&lt;MY APPLICATION PUBLIC KEY&gt;&quot;));\nString message = x_signature_timestamp + event.get(&quot;body&quot;);\nboolean verified = Crypto.authVerify(key,message.getBytes(),fromHex(x_signature_ed25519));\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static byte[] fromHex(String s) {\n    int len = s.length();\n    byte[] data = new byte[len / 2];\n    for (int i = 0; i &lt; len; i += 2) {\n        data[i / 2] = (byte) ((Character.digit(s.charAt(i), 16) &lt;&lt; 4)\n                    + Character.digit(s.charAt(i+1), 16));\n    }\n    return data;\n}\n</code></pre>\n<p>im always getting this when adding interactions endopint url<a href=\"https://i.stack.imgur.com/P9u1F.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P9u1F.png\" alt=\"discord appication interactions endopint\" /></a></p>\n<p>response im sending:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (!verified){\n    response = ApiGatewayResponse.builder()\n             .withHeaders(headers)\n             .withBody(&quot;validation failed&quot;)\n             .withStatusCode(401)\n             .build();\n} else {\n    response = ApiGatewayResponse.builder()\n            .withHeaders(headers)\n            .withBody(event.get(&quot;body&quot;).toString())\n            .withStatusCode(200)\n            .build();\n}\nreturn response;\n</code></pre>\n"},{"tags":["java","selenium-webdriver","drag-and-drop"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676463231,"creation_date":1676402089,"answer_id":75452323,"question_id":75447574,"body_markdown":"The desired element is within an [`&lt;iframe&gt;`](https://stackoverflow.com/a/47472200/7429447). So to perform _Drag and Drop_ you have to:\r\n\r\n- Induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the desired _frameToBeAvailableAndSwitchToIt_.\r\n- You can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890): solutions:\r\n\r\n  - Using _`dragAndDrop()`_ method:\r\n\r\n\t    driver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1afclpx_gaNzU0NTMwNzU3LjE2NzYzMTAyOTk._ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\r\n\t    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t    wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-tid=&#39;banner-accept&#39;]&quot;))).click();\r\n\t    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[src*=&#39;https://editor.unlayer.com&#39;]&quot;)));\r\n\t    Thread.sleep(10);\r\n\t    WebElement dragMe = driver.findElement(By.xpath(&quot;//div[@class=&#39;blockbuilder-content-tool&#39; and @draggable=&#39;true&#39;]//div[text()=&#39;Text&#39;]&quot;));\r\n\t    WebElement dropHere = driver.findElement(By.xpath(&quot;//div[text()=&#39;No content here. Drag content from right.&#39;]&quot;));\r\n\t    Actions actions = new Actions(driver);\r\n\t    actions.dragAndDrop(dragMe, dropHere).build().perform();\r\n\r\n  - Using _`clickAndHold().moveToElement().release()`_ methods:\r\n\r\n\t    driver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1afclpx_gaNzU0NTMwNzU3LjE2NzYzMTAyOTk._ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\r\n\t    WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\r\n\t    wait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-tid=&#39;banner-accept&#39;]&quot;))).click();\r\n\t    wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[src*=&#39;https://editor.unlayer.com&#39;]&quot;)));\r\n\t    Thread.sleep(10);\r\n\t    WebElement drag = driver.findElement(By.xpath(&quot;//div[@class=&#39;blockbuilder-content-tool&#39; and @draggable=&#39;true&#39;]//div[text()=&#39;Text&#39;]&quot;));\r\n\t    WebElement drop = driver.findElement(By.xpath(&quot;//div[text()=&#39;No content here. Drag content from right.&#39;]&quot;));\r\n\t    Actions actions = new Actions(driver);\r\n\t    actions.clickAndHold(drag).moveToElement(drop).release(drop).build().perform();","title":"Drag and drop not working in unlayer web site","body":"<p>The desired element is within an <a href=\"https://stackoverflow.com/a/47472200/7429447\"><code>&lt;iframe&gt;</code></a>. So to perform <em>Drag and Drop</em> you have to:</p>\n<ul>\n<li><p>Induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the desired <em>frameToBeAvailableAndSwitchToIt</em>.</p>\n</li>\n<li><p>You can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>: solutions:</p>\n<ul>\n<li><p>Using <em><code>dragAndDrop()</code></em> method:</p>\n<pre><code>driver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1afclpx_gaNzU0NTMwNzU3LjE2NzYzMTAyOTk._ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-tid='banner-accept']&quot;))).click();\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[src*='https://editor.unlayer.com']&quot;)));\nThread.sleep(10);\nWebElement dragMe = driver.findElement(By.xpath(&quot;//div[@class='blockbuilder-content-tool' and @draggable='true']//div[text()='Text']&quot;));\nWebElement dropHere = driver.findElement(By.xpath(&quot;//div[text()='No content here. Drag content from right.']&quot;));\nActions actions = new Actions(driver);\nactions.dragAndDrop(dragMe, dropHere).build().perform();\n</code></pre>\n</li>\n<li><p>Using <em><code>clickAndHold().moveToElement().release()</code></em> methods:</p>\n<pre><code>driver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1afclpx_gaNzU0NTMwNzU3LjE2NzYzMTAyOTk._ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(10));\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;button[data-tid='banner-accept']&quot;))).click();\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe[src*='https://editor.unlayer.com']&quot;)));\nThread.sleep(10);\nWebElement drag = driver.findElement(By.xpath(&quot;//div[@class='blockbuilder-content-tool' and @draggable='true']//div[text()='Text']&quot;));\nWebElement drop = driver.findElement(By.xpath(&quot;//div[text()='No content here. Drag content from right.']&quot;));\nActions actions = new Actions(driver);\nactions.clickAndHold(drag).moveToElement(drop).release(drop).build().perform();\n</code></pre>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":27783142,"reputation":1,"user_id":21211141,"display_name":"Nirbhay Deep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676463231,"creation_date":1676376191,"question_id":75447574,"body_markdown":"I have performed drag and drop on unlayer web site and all positive combination I have used. but drap and drop not working.\r\n\r\nWe have tried following code with selenium 4.\r\n\r\n```\r\n@Test()\r\n\t public void test() throws InterruptedException {\r\n\t\tdriver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1*afclpx*_ga*NzU0NTMwNzU3LjE2NzYzMTAyOTk.*_ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\r\n\t\tThread.sleep(9000);\r\n\t\tdriver.switchTo().frame(0);\r\n\t\t\r\n\t\tThread.sleep(9000);\r\n\t\t\r\n\t\t\t\t//driver.findElement(By.xpath(&quot;//div [text ()=&#39;Text&#39;]&quot;));\r\n\t\t\r\n\t\tWebElement source = driver.findElement(By.xpath(&quot;//div [text ()=&#39;Text&#39;]&quot;));\r\n\t\t\r\n\t\t//source.click();\r\n\t\t\r\n\t\tThread.sleep(9000);\r\n\t\tWebElement target = driver.findElement(By.xpath(&quot;//div[text()=&#39;No content here. Drag content from right.&#39;]&quot;));\r\n\t\tSystem.out.println(&quot;target&quot;);\r\n\t\tSystem.out.println(&quot;target= &quot;+target.getText());\r\n\t\t\r\n\t\tThread.sleep(5000);\r\n\t\t  Actions a = new Actions(driver); \r\n\t\t  Thread.sleep(5000);\r\n\t\t  //a.clickAndHold(source).moveToElement(target).release().build().perform();\r\n\t\t  //a.clickAndHold(target);\r\n\t\t  //a.dragAndDrop(source, target);\r\n\t\t  //a.moveToElement(target);\r\n\t\t  a.click(source);\r\n\t\t  System.out.println(&quot;Click on=&quot;+&quot;source&quot;);\r\n\t\t  Thread.sleep(5000);\r\n\t\t  a.release(target);\r\n\t\t  a.click(target);\r\n\t\t  System.out.println(&quot;Click on=&quot;+&quot;target&quot;);\r\n\t\t\r\n\t}\r\n```","title":"Drag and drop not working in unlayer web site","body":"<p>I have performed drag and drop on unlayer web site and all positive combination I have used. but drap and drop not working.</p>\n<p>We have tried following code with selenium 4.</p>\n<pre><code>@Test()\n     public void test() throws InterruptedException {\n        driver.get(&quot;https://dashboard.unlayer.com/create/blank?_gl=1*afclpx*_ga*NzU0NTMwNzU3LjE2NzYzMTAyOTk.*_ga_VMP9QH8KW8*MTY3NjMxMDI5OC4xLjEuMTY3NjMxMDMwOS41OC4wLjA.&quot;);\n        Thread.sleep(9000);\n        driver.switchTo().frame(0);\n        \n        Thread.sleep(9000);\n        \n                //driver.findElement(By.xpath(&quot;//div [text ()='Text']&quot;));\n        \n        WebElement source = driver.findElement(By.xpath(&quot;//div [text ()='Text']&quot;));\n        \n        //source.click();\n        \n        Thread.sleep(9000);\n        WebElement target = driver.findElement(By.xpath(&quot;//div[text()='No content here. Drag content from right.']&quot;));\n        System.out.println(&quot;target&quot;);\n        System.out.println(&quot;target= &quot;+target.getText());\n        \n        Thread.sleep(5000);\n          Actions a = new Actions(driver); \n          Thread.sleep(5000);\n          //a.clickAndHold(source).moveToElement(target).release().build().perform();\n          //a.clickAndHold(target);\n          //a.dragAndDrop(source, target);\n          //a.moveToElement(target);\n          a.click(source);\n          System.out.println(&quot;Click on=&quot;+&quot;source&quot;);\n          Thread.sleep(5000);\n          a.release(target);\n          a.click(target);\n          System.out.println(&quot;Click on=&quot;+&quot;target&quot;);\n        \n    }\n</code></pre>\n"},{"tags":["java","spring-boot","camunda","bpmn","camunda-plugin"],"answers":[{"tags":[],"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676462287,"creation_date":1676462287,"answer_id":75459469,"question_id":75450202,"body_markdown":"Yes, I can confirm that 7.18 is compatible with 2.7.x\r\n\r\nSpring Boot 3.0 requires some change in the autoconfiguration declaration and as far as I understood, the community edition [will not support][1] it until 7.20.0.\r\n\r\nBut the same thread mentions [a manual fix][2] that I haven&#39;t tried so far.\r\n\r\n\r\n  [1]: https://github.com/camunda/camunda-bpm-platform/issues/2755#issuecomment-1354850165\r\n  [2]: https://gist.github.com/edudant/66cd658ba54439c9052681a0d84d66a9","title":"Camunda BPM - Spring compatibility","body":"<p>Yes, I can confirm that 7.18 is compatible with 2.7.x</p>\n<p>Spring Boot 3.0 requires some change in the autoconfiguration declaration and as far as I understood, the community edition <a href=\"https://github.com/camunda/camunda-bpm-platform/issues/2755#issuecomment-1354850165\" rel=\"nofollow noreferrer\">will not support</a> it until 7.20.0.</p>\n<p>But the same thread mentions <a href=\"https://gist.github.com/edudant/66cd658ba54439c9052681a0d84d66a9\" rel=\"nofollow noreferrer\">a manual fix</a> that I haven't tried so far.</p>\n"}],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676462287,"creation_date":1676389725,"question_id":75450202,"body_markdown":"I&#39;m trying to migrate application with Camunda BPM 7.14.0 and Spring Boot 2.7.2 dependencies to latest Spring version(3.0.1/3.0.2) and at least Camunda 7.16. \r\n\r\nUnfortunately I&#39;m receiving some errors during migration and would like to ask what is the compatible version of Camunda which I can use with Spring 3.0.1?\r\n\r\n\r\nFrom the compatibility matrix I can read that Camunda 7.18 is compatible only with version 2.7.x\r\nhttps://docs.camunda.org/manual/7.18/user-guide/spring-boot-integration/version-compatibility/\r\nCan someone confirm it?\r\n","title":"Camunda BPM - Spring compatibility","body":"<p>I'm trying to migrate application with Camunda BPM 7.14.0 and Spring Boot 2.7.2 dependencies to latest Spring version(3.0.1/3.0.2) and at least Camunda 7.16.</p>\n<p>Unfortunately I'm receiving some errors during migration and would like to ask what is the compatible version of Camunda which I can use with Spring 3.0.1?</p>\n<p>From the compatibility matrix I can read that Camunda 7.18 is compatible only with version 2.7.x\n<a href=\"https://docs.camunda.org/manual/7.18/user-guide/spring-boot-integration/version-compatibility/\" rel=\"nofollow noreferrer\">https://docs.camunda.org/manual/7.18/user-guide/spring-boot-integration/version-compatibility/</a>\nCan someone confirm it?</p>\n"},{"tags":["java","discord","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1676462254,"post_id":75454262,"comment_id":133140265,"body_markdown":"Give your bot permissions to manage channels in its roles. Make sure you are giving the role to the bot and that you are modifying the correct bot that corresponds to your code.","body":"Give your bot permissions to manage channels in its roles. Make sure you are giving the role to the bot and that you are modifying the correct bot that corresponds to your code."},{"owner":{"account_id":21755747,"reputation":7,"user_id":16061144,"display_name":"Michael Kashani"},"score":0,"creation_date":1676472927,"post_id":75454262,"comment_id":133143878,"body_markdown":"I already did. It won&#39;t work though. Is there something else I can try to do?","body":"I already did. It won&#39;t work though. Is there something else I can try to do?"}],"owner":{"account_id":21755747,"reputation":7,"user_id":16061144,"display_name":"Michael Kashani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676462262,"creation_date":1676417863,"question_id":75454262,"body_markdown":"I tried to create a function that creates a category upon certain conditions.\r\n\r\nIt should create a category if there are no categories called &quot;Server Information&quot;\r\n\r\nCode:\r\n\r\n```\r\npublic class EventListener extends ListenerAdapter {\r\n\r\n    //Checks if target category exists, if it is - do nothing, and if it does not - create one\r\n    String categoryInfoName = &quot;Server Information&quot;;\r\n    \r\n    @Override\r\n    public void onGenericGuild(GenericGuildEvent event) {\r\n        try {\r\n            if (!event.getGuild().getCategories().stream().anyMatch(category -&gt; category.getName().equals(categoryInfoName))) {\r\n                event.getGuild().createCategory(categoryInfoName);\r\n            }\r\n        }\r\n\r\n        catch (InsufficientPermissionException permissionException)\r\n        {\r\n            permissionException.printStackTrace();\r\n        }\r\n\r\n    }\r\n```\r\nNo matter what I change in Discord&#39;s server settings it still gives me these errors:\r\n\r\n    net.dv8tion.jda.api.exceptions.InsufficientPermissionException: Cannot perform action due to a lack of Permission. Missing permission: MANAGE_CHANNEL\r\n    \tat net.dv8tion.jda.internal.entities.GuildImpl.checkPermission(GuildImpl.java:1898)\r\n    \tat net.dv8tion.jda.internal.entities.GuildImpl.checkCanCreateChannel(GuildImpl.java:1934)\r\n    \tat net.dv8tion.jda.internal.entities.GuildImpl.createChannel(GuildImpl.java:1729)\r\n    \tat net.dv8tion.jda.internal.entities.GuildImpl.createCategory(GuildImpl.java:1724)\r\n    \tat me.izmike.jdabot.listeners.EventListener.onGenericGuild(EventListener.java:22)\r\n    \tat net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:424)\r\n    \tat net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\r\n    \tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\r\n    \tat net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\r\n    \tat net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:171)\r\n    \tat net.dv8tion.jda.internal.handle.GuildSetupNode.completeSetup(GuildSetupNode.java:376)\r\n    \tat net.dv8tion.jda.internal.handle.GuildSetupNode.handleMemberChunk(GuildSetupNode.java:260)\r\n\r\nHow can I fix this?\r\n\r\n","title":"Not being able to create category","body":"<p>I tried to create a function that creates a category upon certain conditions.</p>\n<p>It should create a category if there are no categories called &quot;Server Information&quot;</p>\n<p>Code:</p>\n<pre><code>public class EventListener extends ListenerAdapter {\n\n    //Checks if target category exists, if it is - do nothing, and if it does not - create one\n    String categoryInfoName = &quot;Server Information&quot;;\n    \n    @Override\n    public void onGenericGuild(GenericGuildEvent event) {\n        try {\n            if (!event.getGuild().getCategories().stream().anyMatch(category -&gt; category.getName().equals(categoryInfoName))) {\n                event.getGuild().createCategory(categoryInfoName);\n            }\n        }\n\n        catch (InsufficientPermissionException permissionException)\n        {\n            permissionException.printStackTrace();\n        }\n\n    }\n</code></pre>\n<p>No matter what I change in Discord's server settings it still gives me these errors:</p>\n<pre><code>net.dv8tion.jda.api.exceptions.InsufficientPermissionException: Cannot perform action due to a lack of Permission. Missing permission: MANAGE_CHANNEL\n    at net.dv8tion.jda.internal.entities.GuildImpl.checkPermission(GuildImpl.java:1898)\n    at net.dv8tion.jda.internal.entities.GuildImpl.checkCanCreateChannel(GuildImpl.java:1934)\n    at net.dv8tion.jda.internal.entities.GuildImpl.createChannel(GuildImpl.java:1729)\n    at net.dv8tion.jda.internal.entities.GuildImpl.createCategory(GuildImpl.java:1724)\n    at me.izmike.jdabot.listeners.EventListener.onGenericGuild(EventListener.java:22)\n    at net.dv8tion.jda.api.hooks.ListenerAdapter.onEvent(ListenerAdapter.java:424)\n    at net.dv8tion.jda.api.hooks.InterfacedEventManager.handle(InterfacedEventManager.java:96)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handleInternally(EventManagerProxy.java:88)\n    at net.dv8tion.jda.internal.hooks.EventManagerProxy.handle(EventManagerProxy.java:70)\n    at net.dv8tion.jda.internal.JDAImpl.handleEvent(JDAImpl.java:171)\n    at net.dv8tion.jda.internal.handle.GuildSetupNode.completeSetup(GuildSetupNode.java:376)\n    at net.dv8tion.jda.internal.handle.GuildSetupNode.handleMemberChunk(GuildSetupNode.java:260)\n</code></pre>\n<p>How can I fix this?</p>\n"},{"tags":["java","discord","bots","attachment","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676462213,"creation_date":1676462213,"answer_id":75459459,"question_id":75458080,"body_markdown":"The [deprecation notice](https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/entities/Message.Attachment.html#downloadToFile()) says this:\r\n\r\n&gt; **Deprecated.**\r\n&gt;\r\n&gt; Replaced by getProxy(), see FileProxy.downloadToFile(File)\r\n\r\nThis means you should use `attachment.getProxy().downloadToFile(File)` instead.\r\n\r\nExample:\r\n\r\n```java\r\nattachment.getProxy().downloadToFile(new File(&quot;myimage.png&quot;)).thenAccept(file -&gt; {\r\n    System.out.println(&quot;Written to file &quot; + file.getAbsolutePath() + &quot;.&quot;);\r\n});\r\n```\r\n\r\nOr using NIO instead:\r\n\r\n```java\r\nattachment.getProxy().downloadToPath().thenAccept(path -&gt; {\r\n    System.out.println(&quot;Written to file &quot; + path + &quot;. Total size: &quot; + Files.size(path));\r\n});\r\n```","title":"JDA doesn&#39;t support anymore attachments with downloadToFile()?","body":"<p>The <a href=\"https://ci.dv8tion.net/job/JDA5/javadoc/net/dv8tion/jda/api/entities/Message.Attachment.html#downloadToFile()\" rel=\"nofollow noreferrer\">deprecation notice</a> says this:</p>\n<blockquote>\n<p><strong>Deprecated.</strong></p>\n<p>Replaced by getProxy(), see FileProxy.downloadToFile(File)</p>\n</blockquote>\n<p>This means you should use <code>attachment.getProxy().downloadToFile(File)</code> instead.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>attachment.getProxy().downloadToFile(new File(&quot;myimage.png&quot;)).thenAccept(file -&gt; {\n    System.out.println(&quot;Written to file &quot; + file.getAbsolutePath() + &quot;.&quot;);\n});\n</code></pre>\n<p>Or using NIO instead:</p>\n<pre class=\"lang-java prettyprint-override\"><code>attachment.getProxy().downloadToPath().thenAccept(path -&gt; {\n    System.out.println(&quot;Written to file &quot; + path + &quot;. Total size: &quot; + Files.size(path));\n});\n</code></pre>\n"}],"owner":{"account_id":14890351,"reputation":3,"user_id":10752214,"display_name":"Bartosz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75459459,"answer_count":1,"score":0,"last_activity_date":1676462213,"creation_date":1676455073,"question_id":75458080,"body_markdown":"I write discord bot with using JDA and i have one important question how to download attachments or work with them? Because my IntelliJ say &quot;Deprecated API usage&quot; for method like **attachment.downloadToFile(&quot;name.png);**\r\nSo now we shouldn&#39;t download users files send in message? Or how we should do it in good way? I search a lot of wiki from JDA and different posts, but everywhere i didn&#39;t see, a new option to handle this download files, becasue all methods to download, are &quot;Deprecated API&quot; even method like &quot;**attachment.retrieveInputStream().join()**&quot; retrieveInputStream its too not good way :(\r\n\r\nSearch a lot on wiki/others pages for more information but nothing found :(","title":"JDA doesn&#39;t support anymore attachments with downloadToFile()?","body":"<p>I write discord bot with using JDA and i have one important question how to download attachments or work with them? Because my IntelliJ say &quot;Deprecated API usage&quot; for method like <strong>attachment.downloadToFile(&quot;name.png);</strong>\nSo now we shouldn't download users files send in message? Or how we should do it in good way? I search a lot of wiki from JDA and different posts, but everywhere i didn't see, a new option to handle this download files, becasue all methods to download, are &quot;Deprecated API&quot; even method like &quot;<strong>attachment.retrieveInputStream().join()</strong>&quot; retrieveInputStream its too not good way :(</p>\n<p>Search a lot on wiki/others pages for more information but nothing found :(</p>\n"},{"tags":["java","h2"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676461219,"post_id":75459191,"comment_id":133139958,"body_markdown":"In standard SQL, including H2, single quotes represent string literals, if you want a quoted identifier, you need to use double quotes, so `testID as &quot;Your ID&quot;`.","body":"In standard SQL, including H2, single quotes represent string literals, if you want a quoted identifier, you need to use double quotes, so <code>testID as &quot;Your ID&quot;</code>."},{"owner":{"account_id":26731173,"reputation":44,"user_id":20333478,"display_name":"JavaUser007"},"score":0,"creation_date":1676461400,"post_id":75459191,"comment_id":133140007,"body_markdown":"@MarkRotteveel using double quotes did not change the alias. The column names I received are `testID, testName, testAddr`","body":"@MarkRotteveel using double quotes did not change the alias. The column names I received are <code>testID, testName, testAddr</code>"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676461571,"post_id":75459191,"comment_id":133140068,"body_markdown":"That is because you need to check the columnLabel, not the columnName. That is a common confusion in the JDBC API, but otherwise you really have to update your question and provide a [mre]. As it stands your question is basically a typo (using `AS &#39;Your ID&#39;` instead of `AS &quot;Your ID&quot;`)","body":"That is because you need to check the columnLabel, not the columnName. That is a common confusion in the JDBC API, but otherwise you really have to update your question and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. As it stands your question is basically a typo (using <code>AS &#39;Your ID&#39;</code> instead of <code>AS &quot;Your ID&quot;</code>)"},{"owner":{"account_id":26731173,"reputation":44,"user_id":20333478,"display_name":"JavaUser007"},"score":0,"creation_date":1676461850,"post_id":75459191,"comment_id":133140152,"body_markdown":"Ah thanks. The ResultSetMetaData.getColumnLabel() did the trick.","body":"Ah thanks. The ResultSetMetaData.getColumnLabel() did the trick."}],"answers":[{"tags":[],"owner":{"account_id":26731173,"reputation":44,"user_id":20333478,"display_name":"JavaUser007"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676462018,"creation_date":1676462018,"answer_id":75459421,"question_id":75459191,"body_markdown":"Thanks to @MarkRotteveel I got the answer\r\n\r\n```sql\r\nSELECT testID as &quot;Your ID&quot;, testName AS &quot;Your Name&quot;, testAddr AS &quot;Your Address&quot; FROM test;\r\n```\r\nwas the correct way. Further, use java&#39;s `ResultSetMetaData`&#39;s `getColumnLabel(int i)` function to get these aliases.\r\nThese things were implicit in SQLite, but not in others.","title":"H2 database change column&#39;s display name on fetch","body":"<p>Thanks to @MarkRotteveel I got the answer</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT testID as &quot;Your ID&quot;, testName AS &quot;Your Name&quot;, testAddr AS &quot;Your Address&quot; FROM test;\n</code></pre>\n<p>was the correct way. Further, use java's <code>ResultSetMetaData</code>'s <code>getColumnLabel(int i)</code> function to get these aliases.\nThese things were implicit in SQLite, but not in others.</p>\n"}],"owner":{"account_id":26731173,"reputation":44,"user_id":20333478,"display_name":"JavaUser007"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676462018,"creation_date":1676460894,"question_id":75459191,"body_markdown":"I have table `test` on H2 database on in java with columns `testID`,`testName` and `testAddr`. When I run this query:\r\n\r\n```sql\r\nSELECT testID AS &#39;Your ID&#39;, testName AS &#39;Your Name&#39;, testAddr AS &#39;Your Address&#39; FROM test;\r\n```\r\nI get the error:\r\n\r\n`\r\norg.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;SELECT testID AS [*]&#39;Your ID&#39;,testName AS &#39;Your Name&#39;,testAddr AS &#39;Your Address&#39; FROM test;&quot;; expected &quot;identifier&quot;; SQL statement [42001-214]\r\n`\r\n\r\nHow do I get alias for my column names?","title":"H2 database change column&#39;s display name on fetch","body":"<p>I have table <code>test</code> on H2 database on in java with columns <code>testID</code>,<code>testName</code> and <code>testAddr</code>. When I run this query:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT testID AS 'Your ID', testName AS 'Your Name', testAddr AS 'Your Address' FROM test;\n</code></pre>\n<p>I get the error:</p>\n<p><code>org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;SELECT testID AS [*]'Your ID',testName AS 'Your Name',testAddr AS 'Your Address' FROM test;&quot;; expected &quot;identifier&quot;; SQL statement [42001-214]</code></p>\n<p>How do I get alias for my column names?</p>\n"},{"tags":["java","rest","jira"],"comments":[{"owner":{"account_id":4918415,"reputation":10295,"user_id":3961708,"accept_rate":93,"display_name":"cyboashu"},"score":0,"creation_date":1409801099,"post_id":25650392,"comment_id":40092463,"body_markdown":"This link may help : http://stackoverflow.com/questions/22149169/how-to-pass-authentication-credentials-in-vba. The question contains Java Code.","body":"This link may help : <a href=\"http://stackoverflow.com/questions/22149169/how-to-pass-authentication-credentials-in-vba\" title=\"how to pass authentication credentials in vba\">stackoverflow.com/questions/22149169/&hellip;</a>. The question contains Java Code."},{"owner":{"account_id":146748,"reputation":2260,"user_id":357403,"display_name":"Koshinae"},"score":0,"creation_date":1423738328,"post_id":25650392,"comment_id":45274370,"body_markdown":"Possible duplicate: http://stackoverflow.com/questions/11634750/communicate-jira-with-java-client-using-rest","body":"Possible duplicate: <a href=\"http://stackoverflow.com/questions/11634750/communicate-jira-with-java-client-using-rest\" title=\"communicate jira with java client using rest\">stackoverflow.com/questions/11634750/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":146748,"reputation":2260,"user_id":357403,"display_name":"Koshinae"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1424722077,"creation_date":1424703836,"answer_id":28676736,"question_id":25650392,"body_markdown":"### You want to integrate JIRA into Eclipse? ###\r\n\r\nSee: https://confluence.atlassian.com/display/IDEPLUGIN/Working+with+JIRA+Issues+in+Eclipse\r\n\r\n### You want a custom application to create tickets automagically? ###\r\n\r\nProbably you&#39;ll need a REST client using the jersey-client artifact, I think this is the easiest way.\r\n\r\nFirstly, check out the REST API documentation: https://docs.atlassian.com/jira/REST/latest/\r\n\r\nWith the POST method you can push a JSON object depiciting a wannabe issue to the JIRA server. You just have to exactly know what fields you can and should fill in. If you send fields that are not on the create issue screen, or is required but you haven&#39;t specified them, you&#39;ll get an error.\r\n\r\nYou can find an example here: http://pastebin.com/JeucUZNG\r\n","title":"How to create an issue in Jira using the REST API?","body":"<h3>You want to integrate JIRA into Eclipse?</h3>\n\n<p>See: <a href=\"https://confluence.atlassian.com/display/IDEPLUGIN/Working+with+JIRA+Issues+in+Eclipse\" rel=\"nofollow\">https://confluence.atlassian.com/display/IDEPLUGIN/Working+with+JIRA+Issues+in+Eclipse</a></p>\n\n<h3>You want a custom application to create tickets automagically?</h3>\n\n<p>Probably you'll need a REST client using the jersey-client artifact, I think this is the easiest way.</p>\n\n<p>Firstly, check out the REST API documentation: <a href=\"https://docs.atlassian.com/jira/REST/latest/\" rel=\"nofollow\">https://docs.atlassian.com/jira/REST/latest/</a></p>\n\n<p>With the POST method you can push a JSON object depiciting a wannabe issue to the JIRA server. You just have to exactly know what fields you can and should fill in. If you send fields that are not on the create issue screen, or is required but you haven't specified them, you'll get an error.</p>\n\n<p>You can find an example here: <a href=\"http://pastebin.com/JeucUZNG\" rel=\"nofollow\">http://pastebin.com/JeucUZNG</a></p>\n"},{"tags":[],"owner":{"account_id":6930568,"reputation":153,"user_id":5320156,"accept_rate":11,"display_name":"Vinu Vish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469702947,"creation_date":1469699155,"answer_id":38632746,"question_id":25650392,"body_markdown":"**Try this code**\r\n\r\n    \r\n\r\n\r\n    public static String invokePostMethod() throws AuthenticationException, ClientHandlerException, IOException \r\n    {\r\n      Client client = Client.create();\r\n      WebResource webResource = client.resource(&quot;http://localhost:8080/rest/api/latest/issue&quot;);                 \r\n\r\n      String data = &quot;{&quot;fields&quot;:{&quot;project&quot;:{&quot;key&quot;:&quot;DEMO&quot;},&quot;summary&quot;:&quot;REST Test&quot;,&quot;issuetype&quot;:{&quot;name&quot;:&quot;Bug&quot;}}}&quot;;\r\n\r\n      String auth = new String(Base64.encode(Uname + &quot;:&quot; + Password));\r\n      ClientResponse response = webResource.header(&quot;Authorization&quot;, &quot;Basic &quot; + auth).type(&quot;application/json&quot;).accept(&quot;application/json&quot;).post(ClientResponse.class, data);\r\n      int statusCode = response.getStatus();\r\n\r\n      if (statusCode == 401) {\r\n        throw new AuthenticationException(&quot;Invalid Username or Password&quot;);\r\n      } else if (statusCode == 403) {\r\n        throw new AuthenticationException(&quot;Forbidden&quot;);\r\n      } else if (statusCode == 200 || statusCode == 201) {\r\n        System.out.println(&quot;Ticket Create succesfully&quot;);\r\n      } else {\r\n        System.out.print(&quot;Http Error : &quot; + statusCode);\r\n      }\r\n      // ******************************Getting Responce body*********************************************\r\n      BufferedReader inputStream = new BufferedReader(new InputStreamReader(response.getEntityInputStream()));\r\n      String line = null;\r\n      while ((line = inputStream.readLine()) != null) {\r\n          System.out.println(line);\r\n      }\r\n      return response.getEntity(String.class);\r\n    }\r\n\r\n","title":"How to create an issue in Jira using the REST API?","body":"<p><strong>Try this code</strong></p>\n\n<pre><code>public static String invokePostMethod() throws AuthenticationException, ClientHandlerException, IOException \n{\n  Client client = Client.create();\n  WebResource webResource = client.resource(\"http://localhost:8080/rest/api/latest/issue\");                 \n\n  String data = \"{\"fields\":{\"project\":{\"key\":\"DEMO\"},\"summary\":\"REST Test\",\"issuetype\":{\"name\":\"Bug\"}}}\";\n\n  String auth = new String(Base64.encode(Uname + \":\" + Password));\n  ClientResponse response = webResource.header(\"Authorization\", \"Basic \" + auth).type(\"application/json\").accept(\"application/json\").post(ClientResponse.class, data);\n  int statusCode = response.getStatus();\n\n  if (statusCode == 401) {\n    throw new AuthenticationException(\"Invalid Username or Password\");\n  } else if (statusCode == 403) {\n    throw new AuthenticationException(\"Forbidden\");\n  } else if (statusCode == 200 || statusCode == 201) {\n    System.out.println(\"Ticket Create succesfully\");\n  } else {\n    System.out.print(\"Http Error : \" + statusCode);\n  }\n  // ******************************Getting Responce body*********************************************\n  BufferedReader inputStream = new BufferedReader(new InputStreamReader(response.getEntityInputStream()));\n  String line = null;\n  while ((line = inputStream.readLine()) != null) {\n      System.out.println(line);\n  }\n  return response.getEntity(String.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5764570,"reputation":31,"user_id":4549901,"display_name":"Suraj Sangani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510654654,"creation_date":1510654654,"answer_id":47283086,"question_id":25650392,"body_markdown":"    try {\r\n\t\t\tClient client = Client.create();\r\n\t\t\tclient.addFilter(new HTTPBasicAuthFilter(&quot;username&quot;, &quot;password&quot;));\r\n\t\t\t\t\t\r\n\t\t\tString input = &quot;{\\&quot;fields\\&quot;:{\\&quot;project\\&quot;:{\\&quot;key\\&quot;:\\&quot;DEMO\\&quot;},\\&quot;summary\\&quot;:\\&quot;REST Test\\&quot;,\\&quot;description\\&quot;: \\&quot;Creating of an issue using project keys and issue type names using the REST API\\&quot;,\\&quot;issuetype\\&quot;:{\\&quot;name\\&quot;:\\&quot;Bug\\&quot;}}}&quot;;\r\n\t\t\t\r\n\t\t\tWebResource resource = client.resource(&quot;http://localhost:8080/rest/api/2/issue&quot;);\r\n\t\t\tClientResponse response = resource.type(&quot;application/json&quot;).accept(&quot;application/json&quot;).post(ClientResponse.class,input);\r\n\r\n\t\t\tif (response.getStatus() != 201) {\r\n\t\t\t\tthrow new RuntimeException(&quot;Failed : HTTP error code : &quot;\r\n\t\t\t\t     + response.getStatus());\r\n\t\t\t}\r\n\t\t\tSystem.out.println(&quot;Output from server&quot;);\r\n\t\t\tSystem.out.println(response.getEntity(String.class));\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\nFor more info:\r\n\r\n[https://docs.atlassian.com/jira/REST/cloud/#api/2/issue-createIssue][1]\r\n\r\n[http://www.j-tricks.com/tutorials/java-rest-client-for-jira-using-jersey][2]\r\n\r\n\r\n  [1]: https://docs.atlassian.com/jira/REST/cloud/#api/2/issue-createIssue\r\n\r\n  [2]: http://www.j-tricks.com/tutorials/java-rest-client-for-jira-using-jersey","title":"How to create an issue in Jira using the REST API?","body":"<pre><code>try {\n        Client client = Client.create();\n        client.addFilter(new HTTPBasicAuthFilter(\"username\", \"password\"));\n\n        String input = \"{\\\"fields\\\":{\\\"project\\\":{\\\"key\\\":\\\"DEMO\\\"},\\\"summary\\\":\\\"REST Test\\\",\\\"description\\\": \\\"Creating of an issue using project keys and issue type names using the REST API\\\",\\\"issuetype\\\":{\\\"name\\\":\\\"Bug\\\"}}}\";\n\n        WebResource resource = client.resource(\"http://localhost:8080/rest/api/2/issue\");\n        ClientResponse response = resource.type(\"application/json\").accept(\"application/json\").post(ClientResponse.class,input);\n\n        if (response.getStatus() != 201) {\n            throw new RuntimeException(\"Failed : HTTP error code : \"\n                 + response.getStatus());\n        }\n        System.out.println(\"Output from server\");\n        System.out.println(response.getEntity(String.class));\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>For more info:</p>\n\n<p><a href=\"https://docs.atlassian.com/jira/REST/cloud/#api/2/issue-createIssue\" rel=\"nofollow noreferrer\">https://docs.atlassian.com/jira/REST/cloud/#api/2/issue-createIssue</a></p>\n\n<p><a href=\"http://www.j-tricks.com/tutorials/java-rest-client-for-jira-using-jersey\" rel=\"nofollow noreferrer\">http://www.j-tricks.com/tutorials/java-rest-client-for-jira-using-jersey</a></p>\n"}],"owner":{"account_id":4785343,"reputation":97,"user_id":3866016,"accept_rate":45,"display_name":"user3866016"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12852,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28676736,"answer_count":3,"score":1,"last_activity_date":1676461967,"creation_date":1409765563,"question_id":25650392,"body_markdown":"How to create an issue in Jira using the REST API? I have tried the examples using curl. But I need to create defect in Eclipse using Java and REST API.","title":"How to create an issue in Jira using the REST API?","body":"<p>How to create an issue in Jira using the REST API? I have tried the examples using curl. But I need to create defect in Eclipse using Java and REST API.</p>\n"},{"tags":["java","selenium-webdriver","testing"],"comments":[{"owner":{"account_id":223518,"reputation":1888,"user_id":4994931,"display_name":"gratinierer"},"score":0,"creation_date":1676462347,"post_id":75459340,"comment_id":133140295,"body_markdown":"if your in a spring-environment https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html could be useful.","body":"if your in a spring-environment <a href=\"https://docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/boot-features-profiles.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/1.2.0.M1/reference/html/&hellip;</a> could be useful."},{"owner":{"account_id":15395572,"reputation":337,"user_id":11233636,"display_name":"Keker"},"score":0,"creation_date":1676462813,"post_id":75459340,"comment_id":133140426,"body_markdown":"Nope, I don&#39;t use spring","body":"Nope, I don&#39;t use spring"},{"owner":{"account_id":223518,"reputation":1888,"user_id":4994931,"display_name":"gratinierer"},"score":1,"creation_date":1676463220,"post_id":75459340,"comment_id":133140558,"body_markdown":"nevertheless: if you use &quot;real plain java&quot;, have a look at the principle of Spring profiles (passing the profile via enviroment-variable and then using the value for e.g. loading properties). I think this shouldn&#39;t be too complicated to implement this principle and adpot it to your use case.\nhttps://stackoverflow.com/questions/37862397/java-environment-specific-properties-without-spring\ncould maybe help.","body":"nevertheless: if you use &quot;real plain java&quot;, have a look at the principle of Spring profiles (passing the profile via enviroment-variable and then using the value for e.g. loading properties). I think this shouldn&#39;t be too complicated to implement this principle and adpot it to your use case. <a href=\"https://stackoverflow.com/questions/37862397/java-environment-specific-properties-without-spring\" title=\"java environment specific properties without spring\">stackoverflow.com/questions/37862397/&hellip;</a> could maybe help."},{"owner":{"account_id":15395572,"reputation":337,"user_id":11233636,"display_name":"Keker"},"score":0,"creation_date":1676464277,"post_id":75459340,"comment_id":133140869,"body_markdown":"Thank you for example of how to go to different property files, but the issue how to use this values is still exist. I believe there are better way than public static final fields","body":"Thank you for example of how to go to different property files, but the issue how to use this values is still exist. I believe there are better way than public static final fields"},{"owner":{"account_id":223518,"reputation":1888,"user_id":4994931,"display_name":"gratinierer"},"score":1,"creation_date":1676464621,"post_id":75459340,"comment_id":133140975,"body_markdown":"maybe I need a better understanding of your problem: why not load the properties into a  `HashMap` and then iterate over the map without generating any boiler-plate classes with static constants?\nI think we need some code example from your side for better help.","body":"maybe I need a better understanding of your problem: why not load the properties into a  <code>HashMap</code> and then iterate over the map without generating any boiler-plate classes with static constants? I think we need some code example from your side for better help."},{"owner":{"account_id":15395572,"reputation":337,"user_id":11233636,"display_name":"Keker"},"score":0,"creation_date":1676465367,"post_id":75459340,"comment_id":133141210,"body_markdown":"The final point of usage property&#39;s values will be in tests and look like this:\n\n...some preconditions\nAssert.assertEquals(actualMessage, expectedMessageFromProperty)\n\nI don&#39;t think Assert.assertEquals(actualMessage, map.get(expectedMessageFromPropertyKey)); looks pretty and readable.\n\nfor example \nAssert.assertEquals(actualMessage, ExpectedNotifications.deleteNotification) looks prettier","body":"The final point of usage property&#39;s values will be in tests and look like this:  ...some preconditions Assert.assertEquals(actualMessage, expectedMessageFromProperty)  I don&#39;t think Assert.assertEquals(actualMessage, map.get(expectedMessageFromPropertyKey)); looks pretty and readable.  for example  Assert.assertEquals(actualMessage, ExpectedNotifications.deleteNotification) looks prettier"},{"owner":{"account_id":223518,"reputation":1888,"user_id":4994931,"display_name":"gratinierer"},"score":0,"creation_date":1676531120,"post_id":75459340,"comment_id":133156157,"body_markdown":"#1 in 100% of the Assert-Impl I know it is: assert(expected, actual). please check that on your side.\n#2 still don&#39;t have your point. In both cases (map or any kind of static field) you will have redirection to the &quot;really expected&quot; value. I you want see really the expected &quot;STRINGS&quot; in your code: You have to write everything more than once *OR* introduce a kind of code generation. There are many tools and principles for code generation (e.g. some simply adoptable in java/maven).","body":"#1 in 100% of the Assert-Impl I know it is: assert(expected, actual). please check that on your side. #2 still don&#39;t have your point. In both cases (map or any kind of static field) you will have redirection to the &quot;really expected&quot; value. I you want see really the expected &quot;STRINGS&quot; in your code: You have to write everything more than once <i>OR</i> introduce a kind of code generation. There are many tools and principles for code generation (e.g. some simply adoptable in java/maven)."},{"owner":{"account_id":15395572,"reputation":337,"user_id":11233636,"display_name":"Keker"},"score":0,"creation_date":1676533928,"post_id":75459340,"comment_id":133156814,"body_markdown":"My point is how to use this values from property.\nYour suggestion is map. Why I need a map if I can do the same just with property reader?\n\nWhat the difference between assert(expected, propertyMap.get(&quot;property.key&quot;)) and assert(expected, propertyReader.getProperty(&quot;property.key&quot;))?\n\nThe only advantage I see is that read property each time is heavier than load it once at map and getting from there. But I&#39;m pretty sure there are should better way, than just duplicate values from property into some map/constant fields","body":"My point is how to use this values from property. Your suggestion is map. Why I need a map if I can do the same just with property reader?  What the difference between assert(expected, propertyMap.get(&quot;property.key&quot;)) and assert(expected, propertyReader.getProperty(&quot;property.key&quot;))?  The only advantage I see is that read property each time is heavier than load it once at map and getting from there. But I&#39;m pretty sure there are should better way, than just duplicate values from property into some map/constant fields"},{"owner":{"account_id":223518,"reputation":1888,"user_id":4994931,"display_name":"gratinierer"},"score":0,"creation_date":1676535154,"post_id":75459340,"comment_id":133157161,"body_markdown":"on that point: I have no idea, what you try to achhieve. sorry, I can&#39;t help you.","body":"on that point: I have no idea, what you try to achhieve. sorry, I can&#39;t help you."}],"owner":{"account_id":15395572,"reputation":337,"user_id":11233636,"display_name":"Keker"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676461590,"creation_date":1676461590,"question_id":75459340,"body_markdown":"I need to test application in different modes, some application behaviour will be the same at both, and some is not(for example different texts or locators).\r\n\r\nSo how I see it now: \r\n1) There is property which define which mode we are testing now\r\n2) There are a lot of different property files, which contains expected messages and etc\r\n3) Property from step 1 will define to which property file we should go for expected value\r\n\r\nBut I can&#39;t remember or create any good solution how to use this values from property in tests, only create class per property file with public static final constants.\r\n\r\nCan you give me an advice and/or any link to existing code which do such things?","title":"Best practice to store resources(mainly strings) to test application at different modes","body":"<p>I need to test application in different modes, some application behaviour will be the same at both, and some is not(for example different texts or locators).</p>\n<p>So how I see it now:</p>\n<ol>\n<li>There is property which define which mode we are testing now</li>\n<li>There are a lot of different property files, which contains expected messages and etc</li>\n<li>Property from step 1 will define to which property file we should go for expected value</li>\n</ol>\n<p>But I can't remember or create any good solution how to use this values from property in tests, only create class per property file with public static final constants.</p>\n<p>Can you give me an advice and/or any link to existing code which do such things?</p>\n"},{"tags":["java","spring","spring-boot","logging","configuration"],"owner":{"account_id":27485249,"reputation":11,"user_id":20971616,"display_name":"EV Experience"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676461561,"creation_date":1676453817,"question_id":75457850,"body_markdown":"I am working on Spring Boot Gradle App and I am facing issues while generating the log files.\r\n\r\nCurrently my app is generating 1 big log file and my spring boot uses below ```logback-spring.xml``` file.\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE configuration&gt;\r\n&lt;configuration&gt;\r\n\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;app_name&quot; source=&quot;spring.application.name&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;environment&quot; source=&quot;param_env&quot; defaultValue=&quot;default_env&quot;/&gt;\r\n    &lt;springProperty scope=&quot;context&quot; name=&quot;tenant&quot; source=&quot;param_tenant&quot; defaultValue=&quot;default_tenant&quot;/&gt;\r\n\r\n    &lt;property name=&quot;GENERIC_PATTERN&quot;\r\n              value=&quot;[%date{ISO8601}] [%p] [%t] [%c{2}] %4L | %m%n&quot;/&gt;\r\n    &lt;property name=&quot;CONSOLE_LOG_PATTERN&quot; value=&quot;$GENERIC_PATTERN&quot;/&gt;\r\n    &lt;property name=&quot;CHARSET&quot; value=&quot;UTF-8&quot;/&gt;\r\n\r\n    &lt;property name=&quot;LOG_DIR&quot;\r\n              value=&quot;logs/${tenantname:-${tenant}}/${envname:-${environment}}/${param_gslogname:-${app_name}}&quot;/&gt;\r\n\r\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;logger name=&quot;org.springframework.web&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;logger name=&quot;org.gs&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;logger name=&quot;com.gs&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;logger name=&quot;liquibase&quot; level=&quot;FINE&quot;/&gt;\r\n    &lt;logger name=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor&quot;\r\n            level=&quot;INFO&quot;/&gt;\r\n\r\n    &lt;logger name=&quot;org.springframework.security&quot; level=&quot;INFO&quot;/&gt;\r\n    &lt;logger name=&quot;org.hibernate&quot; level=&quot;INFO&quot;/&gt;\r\n\r\n    &lt;!-- Auto configuration report--&gt;\r\n    &lt;logger name=&quot;org.springframework.boot.autoconfigure&quot; level=&quot;DEBUG&quot;/&gt;\r\n    &lt;logger name=&quot;org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener&quot;\r\n            level=&quot;TRACE&quot;/&gt;\r\n\r\n    &lt;springProfile name=&quot;local,component-test,component-test-security,scheduler-test&quot;&gt;\r\n\r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;charset&gt;${CHARSET}&lt;/charset&gt;\r\n                &lt;pattern&gt;${GENERIC_PATTERN}&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;logger name=&quot;zuul.web.request.logger&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n        &lt;/root&gt;\r\n\r\n    &lt;/springProfile&gt;\r\n\r\n    &lt;!-- logging configuration for NOT LOCAL profile --&gt;\r\n    &lt;springProfile name=&quot;dev, test, uat, preprod, prod, perf&quot;&gt;\r\n\r\n        &lt;appender name=&quot;FILE_APPENDER&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\r\n            &lt;file&gt;${LOG_DIR}/${param_gslogname:-${app_name}}-${HOSTNAME}.log&lt;/file&gt;\r\n\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;!-- daily rollover --&gt;\r\n                &lt;fileNamePattern&gt;\r\n                    ${LOG_DIR}/${param_gslogname:-${app_name}}-${HOSTNAME}.%d{yyyy-MM-dd}.%i.log\r\n                &lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;1GB&lt;/maxFileSize&gt;\r\n                &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\r\n                &lt;!-- keep 30 days worth of history --&gt;\r\n                &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n            &lt;/rollingPolicy&gt;\r\n\r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\r\n                &lt;providers&gt;\r\n                    &lt;mdc/&gt;\r\n                    &lt;pattern&gt;\r\n                        &lt;omitEmptyFields&gt;true&lt;/omitEmptyFields&gt;\r\n                        &lt;pattern&gt;\r\n                            {\r\n                            &quot;app_name&quot;: &quot;${app_name}&quot;,\r\n                            &quot;HOSTNAME&quot;:&quot;${HOSTNAME}&quot;,\r\n                            &quot;environment&quot;:&quot;${environment}&quot;\r\n                            }\r\n                        &lt;/pattern&gt;\r\n                    &lt;/pattern&gt;\r\n                    &lt;logLevel/&gt;\r\n                    &lt;timestamp/&gt;\r\n                    &lt;threadName/&gt;\r\n                    &lt;logstashMarkers/&gt;\r\n                    &lt;tags/&gt;\r\n                    &lt;arguments/&gt;\r\n                    &lt;version/&gt;\r\n                    &lt;stackTrace/&gt;\r\n                    &lt;loggerName/&gt;\r\n                    &lt;threadName/&gt;\r\n                    &lt;message/&gt;\r\n                &lt;/providers&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder&gt;\r\n                &lt;charset&gt;${CHARSET}&lt;/charset&gt;\r\n                &lt;pattern&gt;${GENERIC_PATTERN}&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;appender name=&quot;CONSOLE_JSON&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n                &lt;fieldNames&gt;\r\n                    &lt;timestamp&gt;timestamp&lt;/timestamp&gt;\r\n                    &lt;message&gt;logdata&lt;/message&gt;\r\n                    &lt;version&gt;[ignore]&lt;/version&gt;\r\n                    &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\r\n                &lt;/fieldNames&gt;\r\n                &lt;timeZone&gt;UTC&lt;/timeZone&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;appender name=&quot;API_FILE_APPENDER&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\r\n            &lt;file&gt;${LOG_DIR}/api-${param_gslogname:-${app_name}}-${HOSTNAME}.log&lt;/file&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;!-- daily rollover --&gt;\r\n                &lt;fileNamePattern&gt;\r\n                    ${LOG_DIR}/api-${param_gslogname:-${app_name}}-${HOSTNAME}.%d{yyyy-MM-dd}.%i.log\r\n                &lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;1GB&lt;/maxFileSize&gt;\r\n                &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\r\n                &lt;!-- keep 30 days worth of history --&gt;\r\n                &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n            &lt;/rollingPolicy&gt;\r\n\r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n                &lt;fieldNames&gt;\r\n                    &lt;timestamp&gt;[ignore]&lt;/timestamp&gt;\r\n                    &lt;message&gt;logdata&lt;/message&gt;\r\n                    &lt;version&gt;[ignore]&lt;/version&gt;\r\n                    &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\r\n                &lt;/fieldNames&gt;\r\n                &lt;timeZone&gt;UTC&lt;/timeZone&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;appender name=&quot;APPLICATION_FILE_APPENDER&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\r\n            &lt;file&gt;${LOG_DIR}/startup-${param_gslogname:-${app_name}}-${HOSTNAME}.log&lt;/file&gt;\r\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\r\n                &lt;!-- daily rollover --&gt;\r\n                &lt;fileNamePattern&gt;\r\n                    ${LOG_DIR}/startup-${param_gslogname:-${app_name}}-${HOSTNAME}.%d{yyyy-MM-dd}.%i.log\r\n                &lt;/fileNamePattern&gt;\r\n                &lt;maxFileSize&gt;1GB&lt;/maxFileSize&gt;\r\n                &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\r\n                &lt;!-- keep 30 days worth of history --&gt;\r\n                &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n            &lt;/rollingPolicy&gt;\r\n\r\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n                &lt;fieldNames&gt;\r\n                    &lt;timestamp&gt;timestamp&lt;/timestamp&gt;\r\n                    &lt;message&gt;logdata&lt;/message&gt;\r\n                    &lt;version&gt;[ignore]&lt;/version&gt;\r\n                    &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\r\n                &lt;/fieldNames&gt;\r\n                &lt;timeZone&gt;UTC&lt;/timeZone&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;logger name=&quot;api.logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;API_FILE_APPENDER&quot;/&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;logger name=&quot;application.startup.logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;APPLICATION_FILE_APPENDER&quot;/&gt;\r\n        &lt;/logger&gt;\r\n\r\n        &lt;!-- Added because of version 1.7.30 and we can&#39;t upgrade because our server is not supporting latest version--&gt;\r\n        &lt;appender name=&quot;SENTRY&quot; class=&quot;io.sentry.logback.SentryAppender&quot;&gt;\r\n            &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\r\n                &lt;level&gt;ERROR&lt;/level&gt;\r\n            &lt;/filter&gt;\r\n            &lt;encoder&gt;\r\n                &lt;pattern&gt;${GENERIC_PATTERN}&lt;/pattern&gt;\r\n            &lt;/encoder&gt;\r\n        &lt;/appender&gt;\r\n\r\n        &lt;root level=&quot;INFO&quot;&gt;\r\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;FILE_APPENDER&quot;/&gt;\r\n            &lt;appender-ref ref=&quot;SENTRY&quot;/&gt;\r\n        &lt;/root&gt;\r\n    &lt;/springProfile&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\n1. My app works in way that whenever new request comes it generates 1 batch id for 1 request and all the processing stuffs or info logs are being written to **one log file called gs_log_file**.\r\n\r\n2. and likewise when there is another request ie the 2nd request then 2nd batch id is being generated and all the processing stuffs or info logs are being written to the **same log file** as mentioned in point no. 1 **(gs_log_file)**. and so on for subsequent requests the logs are being written to the same log file **(gs_log_file)**.\r\n\r\nSo my issue is how can I generate the batchwise log file for each request or the batch id.\r\n\r\ne.g \r\n    \r\n```\r\n    \r\n    gs_log_file_batchId1 for batch id 1(request1).\r\n\r\n    gs_log_file_batchId2 for batch id 2(request2).\r\n\r\n    gs_log_file_batchId3 for batch id 3(request3).\r\n\r\n    gs_log_file_batchIdn for batch id n(requestn).\r\n\r\n```\r\n\r\nmy app api is like this with pathVariable batchJobId -&gt; ```/process-batch-jobs/{batchId}```\r\n\r\n\r\nHow can I improve my implementation so that my app will put the log info in particular log file separately according to per request or per batch.\r\n\r\n1. Should I go for multi-threading, again not sure on this part.\r\n\r\n2. Or Should I manually process the batch id and according to that batch id I should generate the files and then log data into that log file\r\n\r\n3. Once I generate the log files like **gs_log_file_batchId1 for batch id 1(request1)** and **gs_log_file_batchId2 for batch id 2(request2)**, I should be also able to read this log file via UI...so I ll search these log file from UI based on some batch id or request or some customer id, here batchid can be pathvariable or request param or some sort of filter.\r\n\r\n4. Also please let me know how can I externalize the configuration so that I can supply some argument to app so that app will generate the log file smartly based on supplied argument like log file size or the no of lines in log file?\r\n\r\nCan anyone please help me on this?\r\n\r\n\r\n\r\n","title":"Split log file in Spring Boot Gradle App Batchwise","body":"<p>I am working on Spring Boot Gradle App and I am facing issues while generating the log files.</p>\n<p>Currently my app is generating 1 big log file and my spring boot uses below <code>logback-spring.xml</code> file.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE configuration&gt;\n&lt;configuration&gt;\n\n    &lt;springProperty scope=&quot;context&quot; name=&quot;app_name&quot; source=&quot;spring.application.name&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;environment&quot; source=&quot;param_env&quot; defaultValue=&quot;default_env&quot;/&gt;\n    &lt;springProperty scope=&quot;context&quot; name=&quot;tenant&quot; source=&quot;param_tenant&quot; defaultValue=&quot;default_tenant&quot;/&gt;\n\n    &lt;property name=&quot;GENERIC_PATTERN&quot;\n              value=&quot;[%date{ISO8601}] [%p] [%t] [%c{2}] %4L | %m%n&quot;/&gt;\n    &lt;property name=&quot;CONSOLE_LOG_PATTERN&quot; value=&quot;$GENERIC_PATTERN&quot;/&gt;\n    &lt;property name=&quot;CHARSET&quot; value=&quot;UTF-8&quot;/&gt;\n\n    &lt;property name=&quot;LOG_DIR&quot;\n              value=&quot;logs/${tenantname:-${tenant}}/${envname:-${environment}}/${param_gslogname:-${app_name}}&quot;/&gt;\n\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;org.springframework.web&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;org.gs&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;com.gs&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;liquibase&quot; level=&quot;FINE&quot;/&gt;\n    &lt;logger name=&quot;org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor&quot;\n            level=&quot;INFO&quot;/&gt;\n\n    &lt;logger name=&quot;org.springframework.security&quot; level=&quot;INFO&quot;/&gt;\n    &lt;logger name=&quot;org.hibernate&quot; level=&quot;INFO&quot;/&gt;\n\n    &lt;!-- Auto configuration report--&gt;\n    &lt;logger name=&quot;org.springframework.boot.autoconfigure&quot; level=&quot;DEBUG&quot;/&gt;\n    &lt;logger name=&quot;org.springframework.boot.autoconfigure.logging.ConditionEvaluationReportLoggingListener&quot;\n            level=&quot;TRACE&quot;/&gt;\n\n    &lt;springProfile name=&quot;local,component-test,component-test-security,scheduler-test&quot;&gt;\n\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder&gt;\n                &lt;charset&gt;${CHARSET}&lt;/charset&gt;\n                &lt;pattern&gt;${GENERIC_PATTERN}&lt;/pattern&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;logger name=&quot;zuul.web.request.logger&quot; level=&quot;DEBUG&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n        &lt;/logger&gt;\n\n        &lt;root level=&quot;INFO&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n        &lt;/root&gt;\n\n    &lt;/springProfile&gt;\n\n    &lt;!-- logging configuration for NOT LOCAL profile --&gt;\n    &lt;springProfile name=&quot;dev, test, uat, preprod, prod, perf&quot;&gt;\n\n        &lt;appender name=&quot;FILE_APPENDER&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n\n            &lt;file&gt;${LOG_DIR}/${param_gslogname:-${app_name}}-${HOSTNAME}.log&lt;/file&gt;\n\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n                &lt;!-- daily rollover --&gt;\n                &lt;fileNamePattern&gt;\n                    ${LOG_DIR}/${param_gslogname:-${app_name}}-${HOSTNAME}.%d{yyyy-MM-dd}.%i.log\n                &lt;/fileNamePattern&gt;\n                &lt;maxFileSize&gt;1GB&lt;/maxFileSize&gt;\n                &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\n                &lt;!-- keep 30 days worth of history --&gt;\n                &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n            &lt;/rollingPolicy&gt;\n\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LoggingEventCompositeJsonEncoder&quot;&gt;\n                &lt;providers&gt;\n                    &lt;mdc/&gt;\n                    &lt;pattern&gt;\n                        &lt;omitEmptyFields&gt;true&lt;/omitEmptyFields&gt;\n                        &lt;pattern&gt;\n                            {\n                            &quot;app_name&quot;: &quot;${app_name}&quot;,\n                            &quot;HOSTNAME&quot;:&quot;${HOSTNAME}&quot;,\n                            &quot;environment&quot;:&quot;${environment}&quot;\n                            }\n                        &lt;/pattern&gt;\n                    &lt;/pattern&gt;\n                    &lt;logLevel/&gt;\n                    &lt;timestamp/&gt;\n                    &lt;threadName/&gt;\n                    &lt;logstashMarkers/&gt;\n                    &lt;tags/&gt;\n                    &lt;arguments/&gt;\n                    &lt;version/&gt;\n                    &lt;stackTrace/&gt;\n                    &lt;loggerName/&gt;\n                    &lt;threadName/&gt;\n                    &lt;message/&gt;\n                &lt;/providers&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder&gt;\n                &lt;charset&gt;${CHARSET}&lt;/charset&gt;\n                &lt;pattern&gt;${GENERIC_PATTERN}&lt;/pattern&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;appender name=&quot;CONSOLE_JSON&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n                &lt;fieldNames&gt;\n                    &lt;timestamp&gt;timestamp&lt;/timestamp&gt;\n                    &lt;message&gt;logdata&lt;/message&gt;\n                    &lt;version&gt;[ignore]&lt;/version&gt;\n                    &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\n                &lt;/fieldNames&gt;\n                &lt;timeZone&gt;UTC&lt;/timeZone&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;appender name=&quot;API_FILE_APPENDER&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n\n            &lt;file&gt;${LOG_DIR}/api-${param_gslogname:-${app_name}}-${HOSTNAME}.log&lt;/file&gt;\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n                &lt;!-- daily rollover --&gt;\n                &lt;fileNamePattern&gt;\n                    ${LOG_DIR}/api-${param_gslogname:-${app_name}}-${HOSTNAME}.%d{yyyy-MM-dd}.%i.log\n                &lt;/fileNamePattern&gt;\n                &lt;maxFileSize&gt;1GB&lt;/maxFileSize&gt;\n                &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\n                &lt;!-- keep 30 days worth of history --&gt;\n                &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n            &lt;/rollingPolicy&gt;\n\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n                &lt;fieldNames&gt;\n                    &lt;timestamp&gt;[ignore]&lt;/timestamp&gt;\n                    &lt;message&gt;logdata&lt;/message&gt;\n                    &lt;version&gt;[ignore]&lt;/version&gt;\n                    &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\n                &lt;/fieldNames&gt;\n                &lt;timeZone&gt;UTC&lt;/timeZone&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;appender name=&quot;APPLICATION_FILE_APPENDER&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n\n            &lt;file&gt;${LOG_DIR}/startup-${param_gslogname:-${app_name}}-${HOSTNAME}.log&lt;/file&gt;\n            &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy&quot;&gt;\n                &lt;!-- daily rollover --&gt;\n                &lt;fileNamePattern&gt;\n                    ${LOG_DIR}/startup-${param_gslogname:-${app_name}}-${HOSTNAME}.%d{yyyy-MM-dd}.%i.log\n                &lt;/fileNamePattern&gt;\n                &lt;maxFileSize&gt;1GB&lt;/maxFileSize&gt;\n                &lt;totalSizeCap&gt;10GB&lt;/totalSizeCap&gt;\n                &lt;!-- keep 30 days worth of history --&gt;\n                &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n            &lt;/rollingPolicy&gt;\n\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n                &lt;fieldNames&gt;\n                    &lt;timestamp&gt;timestamp&lt;/timestamp&gt;\n                    &lt;message&gt;logdata&lt;/message&gt;\n                    &lt;version&gt;[ignore]&lt;/version&gt;\n                    &lt;levelValue&gt;[ignore]&lt;/levelValue&gt;\n                &lt;/fieldNames&gt;\n                &lt;timeZone&gt;UTC&lt;/timeZone&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;logger name=&quot;api.logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;API_FILE_APPENDER&quot;/&gt;\n        &lt;/logger&gt;\n\n        &lt;logger name=&quot;application.startup.logger&quot; level=&quot;INFO&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;APPLICATION_FILE_APPENDER&quot;/&gt;\n        &lt;/logger&gt;\n\n        &lt;!-- Added because of version 1.7.30 and we can't upgrade because our server is not supporting latest version--&gt;\n        &lt;appender name=&quot;SENTRY&quot; class=&quot;io.sentry.logback.SentryAppender&quot;&gt;\n            &lt;filter class=&quot;ch.qos.logback.classic.filter.ThresholdFilter&quot;&gt;\n                &lt;level&gt;ERROR&lt;/level&gt;\n            &lt;/filter&gt;\n            &lt;encoder&gt;\n                &lt;pattern&gt;${GENERIC_PATTERN}&lt;/pattern&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n\n        &lt;root level=&quot;INFO&quot;&gt;\n            &lt;appender-ref ref=&quot;CONSOLE&quot;/&gt;\n            &lt;appender-ref ref=&quot;FILE_APPENDER&quot;/&gt;\n            &lt;appender-ref ref=&quot;SENTRY&quot;/&gt;\n        &lt;/root&gt;\n    &lt;/springProfile&gt;\n&lt;/configuration&gt;\n</code></pre>\n<ol>\n<li><p>My app works in way that whenever new request comes it generates 1 batch id for 1 request and all the processing stuffs or info logs are being written to <strong>one log file called gs_log_file</strong>.</p>\n</li>\n<li><p>and likewise when there is another request ie the 2nd request then 2nd batch id is being generated and all the processing stuffs or info logs are being written to the <strong>same log file</strong> as mentioned in point no. 1 <strong>(gs_log_file)</strong>. and so on for subsequent requests the logs are being written to the same log file <strong>(gs_log_file)</strong>.</p>\n</li>\n</ol>\n<p>So my issue is how can I generate the batchwise log file for each request or the batch id.</p>\n<p>e.g</p>\n<pre><code>    \n    gs_log_file_batchId1 for batch id 1(request1).\n\n    gs_log_file_batchId2 for batch id 2(request2).\n\n    gs_log_file_batchId3 for batch id 3(request3).\n\n    gs_log_file_batchIdn for batch id n(requestn).\n\n</code></pre>\n<p>my app api is like this with pathVariable batchJobId -&gt; <code>/process-batch-jobs/{batchId}</code></p>\n<p>How can I improve my implementation so that my app will put the log info in particular log file separately according to per request or per batch.</p>\n<ol>\n<li><p>Should I go for multi-threading, again not sure on this part.</p>\n</li>\n<li><p>Or Should I manually process the batch id and according to that batch id I should generate the files and then log data into that log file</p>\n</li>\n<li><p>Once I generate the log files like <strong>gs_log_file_batchId1 for batch id 1(request1)</strong> and <strong>gs_log_file_batchId2 for batch id 2(request2)</strong>, I should be also able to read this log file via UI...so I ll search these log file from UI based on some batch id or request or some customer id, here batchid can be pathvariable or request param or some sort of filter.</p>\n</li>\n<li><p>Also please let me know how can I externalize the configuration so that I can supply some argument to app so that app will generate the log file smartly based on supplied argument like log file size or the no of lines in log file?</p>\n</li>\n</ol>\n<p>Can anyone please help me on this?</p>\n"},{"tags":["java","spring","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1601997748,"post_id":64228639,"comment_id":113577076,"body_markdown":"You could adjust your logging configuration to mute the ProducerConfig, sure","body":"You could adjust your logging configuration to mute the ProducerConfig, sure"}],"answers":[{"tags":[],"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1614876058,"creation_date":1602019860,"answer_id":64234082,"question_id":64228639,"body_markdown":"During the first invocation of the [KafkaProducer.send](https://kafka.apache.org/26/javadoc/org/apache/kafka/clients/producer/KafkaProducer.html#send-org.apache.kafka.clients.producer.ProducerRecord-org.apache.kafka.clients.producer.Callback-) method, the Kafka producer fetches the partition metadata for the topic. Fetching the metadata blocks the send method from returning immediately. The Kafka producer caches the metadata, so subsequent sends are much faster. The Kafka producer caches the metadata for [metadata.max.age.ms](https://kafka.apache.org/documentation/#metadata.max.age.ms) (default 5 minutes), after which it again fetches the metadata to proactively discover any new brokers or partitions.\r\n\r\nWhen your application starts, you could invoke the [KafkaProducer.partitionsFor](https://kafka.apache.org/26/javadoc/org/apache/kafka/clients/producer/KafkaProducer.html#partitionsFor-java.lang.String-) method to fetch and cache the metadata, but when the cache expires after 5 minutes, the next send will be slow because it fetches the metadata again. If your Kafka environment is static, that is, new brokers and partitions are not created while your application is running, then consider configuring `metadata.max.age.ms` to a very long time duration, so the metadata is kept in the cache longer.","title":"Why kafka producer is very slow on first message?","body":"<p>During the first invocation of the <a href=\"https://kafka.apache.org/26/javadoc/org/apache/kafka/clients/producer/KafkaProducer.html#send-org.apache.kafka.clients.producer.ProducerRecord-org.apache.kafka.clients.producer.Callback-\" rel=\"noreferrer\">KafkaProducer.send</a> method, the Kafka producer fetches the partition metadata for the topic. Fetching the metadata blocks the send method from returning immediately. The Kafka producer caches the metadata, so subsequent sends are much faster. The Kafka producer caches the metadata for <a href=\"https://kafka.apache.org/documentation/#metadata.max.age.ms\" rel=\"noreferrer\">metadata.max.age.ms</a> (default 5 minutes), after which it again fetches the metadata to proactively discover any new brokers or partitions.</p>\n<p>When your application starts, you could invoke the <a href=\"https://kafka.apache.org/26/javadoc/org/apache/kafka/clients/producer/KafkaProducer.html#partitionsFor-java.lang.String-\" rel=\"noreferrer\">KafkaProducer.partitionsFor</a> method to fetch and cache the metadata, but when the cache expires after 5 minutes, the next send will be slow because it fetches the metadata again. If your Kafka environment is static, that is, new brokers and partitions are not created while your application is running, then consider configuring <code>metadata.max.age.ms</code> to a very long time duration, so the metadata is kept in the cache longer.</p>\n"},{"tags":[],"owner":{"account_id":8191586,"reputation":81,"user_id":12195379,"display_name":"Rajesh Rai"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1602230621,"creation_date":1602230621,"answer_id":64276183,"question_id":64228639,"body_markdown":"what do mean by first message is slow? kafka send is asynchronous and should not hinder your own performance. it uses a buffer that it uses to send records in batches.\r\n\r\nread below java docs for more info,\r\n\r\nhttps://kafka.apache.org/10/javadoc/org/apache/kafka/clients/producer/KafkaProducer.html","title":"Why kafka producer is very slow on first message?","body":"<p>what do mean by first message is slow? kafka send is asynchronous and should not hinder your own performance. it uses a buffer that it uses to send records in batches.</p>\n<p>read below java docs for more info,</p>\n<p><a href=\"https://kafka.apache.org/10/javadoc/org/apache/kafka/clients/producer/KafkaProducer.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/10/javadoc/org/apache/kafka/clients/producer/KafkaProducer.html</a></p>\n"}],"owner":{"account_id":2073596,"reputation":2693,"user_id":1847560,"accept_rate":40,"display_name":"vijayk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6431,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676461487,"creation_date":1601996895,"question_id":64228639,"body_markdown":"I am using kafka producer to send prices to topic. When I send first message it prints producer config and then send message due to this it takes more time to send first message .\r\n\r\nAfter first message it tooks hardly 1/2 milliseconds to send a message .\r\n\r\nMy question is can we do something so that configuration part will skip or we can start before to send first message ?\r\n\r\nI am using spring kafka into my project. I read other question also but not really helpful .\r\n\r\nApplication.yml\r\n\r\n    server:\r\n      port: 8081\r\n    spring:\r\n        kafka:\r\n          bootstrap-servers:   ***.***.*.***:9092\r\n          producer:\r\n              key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n              value-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n          \r\nProducer Values :\r\n\r\n    acks = 1\r\n    batch.size = 16384\r\n    bootstrap.servers = [192.168.1.190:9092]\r\n    buffer.memory = 33554432\r\n    client.dns.lookup = default\r\n    client.id = \r\n    compression.type = none\r\n    connections.max.idle.ms = 540000\r\n    delivery.timeout.ms = 120000\r\n    enable.idempotence = false\r\n    interceptor.classes = []\r\n    key.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n    linger.ms = 0\r\n    max.block.ms = 60000\r\n    max.in.flight.requests.per.connection = 5\r\n    max.request.size = 1048576\r\n    metadata.max.age.ms = 300000\r\n    metric.reporters = []\r\n    metrics.num.samples = 2\r\n    metrics.recording.level = INFO\r\n    metrics.sample.window.ms = 30000\r\n    partitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\r\n    receive.buffer.bytes = 32768\r\n    reconnect.backoff.max.ms = 1000\r\n    reconnect.backoff.ms = 50\r\n    request.timeout.ms = 30000\r\n    retries = 2147483647\r\n    retry.backoff.ms = 100\r\n    sasl.client.callback.handler.class = null\r\n    sasl.jaas.config = null\r\n    sasl.kerberos.kinit.cmd = /usr/bin/kinit\r\n    sasl.kerberos.min.time.before.relogin = 60000\r\n    sasl.kerberos.service.name = null\r\n    sasl.kerberos.ticket.renew.jitter = 0.05\r\n    sasl.kerberos.ticket.renew.window.factor = 0.8\r\n    sasl.login.callback.handler.class = null\r\n    sasl.login.class = null\r\n    sasl.login.refresh.buffer.seconds = 300\r\n    sasl.login.refresh.min.period.seconds = 60\r\n    sasl.login.refresh.window.factor = 0.8\r\n    sasl.login.refresh.window.jitter = 0.05\r\n    sasl.mechanism = GSSAPI\r\n    security.protocol = PLAINTEXT\r\n    send.buffer.bytes = 131072\r\n    ssl.cipher.suites = null\r\n    ssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]\r\n    ssl.endpoint.identification.algorithm = https\r\n    ssl.key.password = null\r\n    ssl.keymanager.algorithm = SunX509\r\n    ssl.keystore.location = null\r\n    ssl.keystore.password = null\r\n    ssl.keystore.type = JKS\r\n    ssl.protocol = TLS\r\n    ssl.provider = null\r\n    ssl.secure.random.implementation = null\r\n    ssl.trustmanager.algorithm = PKIX\r\n    ssl.truststore.location = null\r\n    ssl.truststore.password = null\r\n    ssl.truststore.type = JKS\r\n    transaction.timeout.ms = 60000\r\n    transactional.id = null\r\n    value.serializer = class org.apache.kafka.common.serialization.StringSerializer\r\n\r\nI refer following questions but not helped.\r\n1. https://stackoverflow.com/questions/56413670/why-is-camel-kafka-producer-very-slow\r\n2. https://stackoverflow.com/questions/53728258/kafka-producer-is-slow-on-first-message","title":"Why kafka producer is very slow on first message?","body":"<p>I am using kafka producer to send prices to topic. When I send first message it prints producer config and then send message due to this it takes more time to send first message .</p>\n<p>After first message it tooks hardly 1/2 milliseconds to send a message .</p>\n<p>My question is can we do something so that configuration part will skip or we can start before to send first message ?</p>\n<p>I am using spring kafka into my project. I read other question also but not really helpful .</p>\n<p>Application.yml</p>\n<pre><code>server:\n  port: 8081\nspring:\n    kafka:\n      bootstrap-servers:   ***.***.*.***:9092\n      producer:\n          key-serializer: org.apache.kafka.common.serialization.StringSerializer\n          value-serializer: org.apache.kafka.common.serialization.StringSerializer\n      \n</code></pre>\n<p>Producer Values :</p>\n<pre><code>acks = 1\nbatch.size = 16384\nbootstrap.servers = [192.168.1.190:9092]\nbuffer.memory = 33554432\nclient.dns.lookup = default\nclient.id = \ncompression.type = none\nconnections.max.idle.ms = 540000\ndelivery.timeout.ms = 120000\nenable.idempotence = false\ninterceptor.classes = []\nkey.serializer = class org.apache.kafka.common.serialization.StringSerializer\nlinger.ms = 0\nmax.block.ms = 60000\nmax.in.flight.requests.per.connection = 5\nmax.request.size = 1048576\nmetadata.max.age.ms = 300000\nmetric.reporters = []\nmetrics.num.samples = 2\nmetrics.recording.level = INFO\nmetrics.sample.window.ms = 30000\npartitioner.class = class org.apache.kafka.clients.producer.internals.DefaultPartitioner\nreceive.buffer.bytes = 32768\nreconnect.backoff.max.ms = 1000\nreconnect.backoff.ms = 50\nrequest.timeout.ms = 30000\nretries = 2147483647\nretry.backoff.ms = 100\nsasl.client.callback.handler.class = null\nsasl.jaas.config = null\nsasl.kerberos.kinit.cmd = /usr/bin/kinit\nsasl.kerberos.min.time.before.relogin = 60000\nsasl.kerberos.service.name = null\nsasl.kerberos.ticket.renew.jitter = 0.05\nsasl.kerberos.ticket.renew.window.factor = 0.8\nsasl.login.callback.handler.class = null\nsasl.login.class = null\nsasl.login.refresh.buffer.seconds = 300\nsasl.login.refresh.min.period.seconds = 60\nsasl.login.refresh.window.factor = 0.8\nsasl.login.refresh.window.jitter = 0.05\nsasl.mechanism = GSSAPI\nsecurity.protocol = PLAINTEXT\nsend.buffer.bytes = 131072\nssl.cipher.suites = null\nssl.enabled.protocols = [TLSv1.2, TLSv1.1, TLSv1]\nssl.endpoint.identification.algorithm = https\nssl.key.password = null\nssl.keymanager.algorithm = SunX509\nssl.keystore.location = null\nssl.keystore.password = null\nssl.keystore.type = JKS\nssl.protocol = TLS\nssl.provider = null\nssl.secure.random.implementation = null\nssl.trustmanager.algorithm = PKIX\nssl.truststore.location = null\nssl.truststore.password = null\nssl.truststore.type = JKS\ntransaction.timeout.ms = 60000\ntransactional.id = null\nvalue.serializer = class org.apache.kafka.common.serialization.StringSerializer\n</code></pre>\n<p>I refer following questions but not helped.</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/questions/56413670/why-is-camel-kafka-producer-very-slow\">Why is camel kafka producer very slow?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/53728258/kafka-producer-is-slow-on-first-message\">Kafka producer is slow on first message</a></li>\n</ol>\n"},{"tags":["java","android","retrofit"],"comments":[{"owner":{"account_id":2775886,"reputation":8861,"user_id":2401535,"accept_rate":47,"display_name":"Marian Paździoch"},"score":0,"creation_date":1462438035,"post_id":34315499,"comment_id":61640502,"body_markdown":"I also had this problem and I asked Retrofit developers to make the error more meaningful here https://github.com/square/retrofit/issues/1774.","body":"I also had this problem and I asked Retrofit developers to make the error more meaningful here <a href=\"https://github.com/square/retrofit/issues/1774\" rel=\"nofollow noreferrer\">github.com/square/retrofit/issues/1774</a>."}],"answers":[{"tags":[],"owner":{"account_id":235103,"reputation":156444,"user_id":501696,"accept_rate":91,"display_name":"Blackbelt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1450278844,"creation_date":1450278844,"answer_id":34315581,"question_id":34315499,"body_markdown":"    public interface SubpriseAPI {\r\n         @GET(&quot;api/locations/get&quot;)\r\n         Call&lt;List&lt;Store&gt;&gt; listStores(@Path(&quot;store&quot;) String store);\r\n    }\r\n\r\nyou declared a `@Path` called store, so in your `@GET` annotation retrofit is expecting to find the placeholder for the substitution. E.g.\r\n\r\n    @GET(&quot;api/locations/{store}&quot;)\r\n    Call&lt;List&lt;Store&gt;&gt; listStores(@Path(&quot;store&quot;) String store);\r\n\r\n","title":"Unable to create converter for java.util.List Retrofit 2.0.0-beta2","body":"<pre><code>public interface SubpriseAPI {\n     @GET(\"api/locations/get\")\n     Call&lt;List&lt;Store&gt;&gt; listStores(@Path(\"store\") String store);\n}\n</code></pre>\n\n<p>you declared a <code>@Path</code> called store, so in your <code>@GET</code> annotation retrofit is expecting to find the placeholder for the substitution. E.g.</p>\n\n<pre><code>@GET(\"api/locations/{store}\")\nCall&lt;List&lt;Store&gt;&gt; listStores(@Path(\"store\") String store);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4697620,"reputation":5465,"user_id":3802122,"accept_rate":100,"display_name":"Anderson K"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1523539430,"creation_date":1450278963,"answer_id":34315622,"question_id":34315499,"body_markdown":"In the 2+ version you need to inform the Converter\r\n\r\n&gt; CONVERTERS\r\n&gt; \r\n&gt; By default, Retrofit can only deserialize HTTP bodies into OkHttp&#39;s\r\n&gt; ResponseBody type and it can only accept its RequestBody type for\r\n&gt; @Body.\r\n&gt; \r\n&gt; Converters can be added to support other types. Six sibling modules\r\n&gt; adapt popular serialization libraries for your convenience.\r\n&gt; \r\n&gt; Gson: com.squareup.retrofit:converter-gson Jackson: com.squareup.retrofit:converter-jackson  \r\n&gt; Moshi: com.squareup.retrofit:converter-moshi  \r\nProtobuf: com.squareup.retrofit:converter-protobuf  \r\nWire: com.squareup.retrofit:converter-wire  \r\nSimple XML: com.squareup.retrofit:converter-simplexml\r\n\r\n    // Square libs, consume Rest API\r\n    compile &#39;com.squareup.retrofit:retrofit:2.0.0-beta1&#39;\r\n    compile &#39;com.squareup.okhttp:okhttp:2.4.0&#39;\r\n    compile &#39;com.squareup.retrofit:converter-gson:2.0.0-beta1&#39;\r\n\r\nSo,\r\n\r\n    String baseUrl = &quot;&quot; ;\r\n    Retrofit client = new Retrofit.Builder()\r\n        .baseUrl(baseUrl)\r\n        .addConverterFactory(GsonConverterFactory.create())\r\n        .build();\r\n","title":"Unable to create converter for java.util.List Retrofit 2.0.0-beta2","body":"<p>In the 2+ version you need to inform the Converter</p>\n\n<blockquote>\n  <p>CONVERTERS</p>\n  \n  <p>By default, Retrofit can only deserialize HTTP bodies into OkHttp's\n  ResponseBody type and it can only accept its RequestBody type for\n  @Body.</p>\n  \n  <p>Converters can be added to support other types. Six sibling modules\n  adapt popular serialization libraries for your convenience.</p>\n  \n  <p>Gson: com.squareup.retrofit:converter-gson Jackson: com.squareup.retrofit:converter-jackson<br>\n  Moshi: com.squareup.retrofit:converter-moshi<br>\n  Protobuf: com.squareup.retrofit:converter-protobuf<br>\n  Wire: com.squareup.retrofit:converter-wire<br>\n  Simple XML: com.squareup.retrofit:converter-simplexml</p>\n</blockquote>\n\n<pre><code>// Square libs, consume Rest API\ncompile 'com.squareup.retrofit:retrofit:2.0.0-beta1'\ncompile 'com.squareup.okhttp:okhttp:2.4.0'\ncompile 'com.squareup.retrofit:converter-gson:2.0.0-beta1'\n</code></pre>\n\n<p>So,</p>\n\n<pre><code>String baseUrl = \"\" ;\nRetrofit client = new Retrofit.Builder()\n    .baseUrl(baseUrl)\n    .addConverterFactory(GsonConverterFactory.create())\n    .build();\n</code></pre>\n"}],"owner":{"account_id":4004200,"reputation":1269,"user_id":3299347,"accept_rate":58,"display_name":"superkytoz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26875,"favorite_count":0,"down_vote_count":1,"up_vote_count":18,"accepted_answer_id":34315622,"answer_count":2,"score":17,"last_activity_date":1676461424,"creation_date":1450278563,"question_id":34315499,"body_markdown":"I&#39;m just doing a GET request, but I&#39;m getting this error:\r\n\r\n&gt; java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.yomac_000.chargingpoint/com.example.yomac_000.chargingpoint.AllStores}: java.lang.IllegalArgumentException: Unable to create converter for java.util.List&lt;model.Store&gt;\r\n\r\nAnd it&#39;s because of this line of code:\r\n\r\n    Call&lt;List&lt;Store&gt;&gt; call = subpriseAPI.listStores(response);\r\n\r\nSo I had tried with this line of code to see what type it is:\r\n\r\n    System.out.println(subpriseAPI.listStores(response).getClass().toString());\r\n\r\nBut then I get the same error so it doesn&#39;t let me know what type it is. Here below you can see my code. \r\n\r\nStoreService.java:\r\n\r\n    public class StoreService {\r\n    \r\n        public static final String BASE_URL = &quot;http://getairport.com/subprise/&quot;;\r\n        Retrofit retrofit = new Retrofit.Builder()\r\n                .baseUrl(BASE_URL)\r\n                .build();\r\n    \r\n        SubpriseAPI subpriseAPI = retrofit.create(SubpriseAPI.class);\r\n        String response = &quot;&quot;;\r\n    \r\n        public List&lt;Store&gt; getSubprises() {\r\n            \r\n            Call&lt;List&lt;Store&gt;&gt; call = subpriseAPI.listStores(response);\r\n    \r\n            try {\r\n                List&lt;Store&gt; listStores = call.execute().body();\r\n    \r\n                System.out.println(&quot;liststore &quot;+ listStores.iterator().next());\r\n                return listStores;\r\n            } catch (IOException e) {\r\n                // handle errors\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n    \r\nSubpriseAPI.java:\r\n\r\n    public interface SubpriseAPI {\r\n        @GET(&quot;api/locations/get&quot;)\r\n        Call&lt;List&lt;Store&gt;&gt; listStores(@Path(&quot;store&quot;) String store);\r\n    }\r\n\r\nStore.java:\r\n\r\n    public class Store {\r\n        String name;\r\n    }\r\n\r\nI&#39;m using Retrofit version 2.0.0-beta2.","title":"Unable to create converter for java.util.List Retrofit 2.0.0-beta2","body":"<p>I'm just doing a GET request, but I'm getting this error:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.yomac_000.chargingpoint/com.example.yomac_000.chargingpoint.AllStores}: java.lang.IllegalArgumentException: Unable to create converter for java.util.List</p>\n</blockquote>\n\n<p>And it's because of this line of code:</p>\n\n<pre><code>Call&lt;List&lt;Store&gt;&gt; call = subpriseAPI.listStores(response);\n</code></pre>\n\n<p>So I had tried with this line of code to see what type it is:</p>\n\n<pre><code>System.out.println(subpriseAPI.listStores(response).getClass().toString());\n</code></pre>\n\n<p>But then I get the same error so it doesn't let me know what type it is. Here below you can see my code. </p>\n\n<p>StoreService.java:</p>\n\n<pre><code>public class StoreService {\n\n    public static final String BASE_URL = \"http://getairport.com/subprise/\";\n    Retrofit retrofit = new Retrofit.Builder()\n            .baseUrl(BASE_URL)\n            .build();\n\n    SubpriseAPI subpriseAPI = retrofit.create(SubpriseAPI.class);\n    String response = \"\";\n\n    public List&lt;Store&gt; getSubprises() {\n\n        Call&lt;List&lt;Store&gt;&gt; call = subpriseAPI.listStores(response);\n\n        try {\n            List&lt;Store&gt; listStores = call.execute().body();\n\n            System.out.println(\"liststore \"+ listStores.iterator().next());\n            return listStores;\n        } catch (IOException e) {\n            // handle errors\n        }\n        return null;\n    }\n}\n</code></pre>\n\n<p>SubpriseAPI.java:</p>\n\n<pre><code>public interface SubpriseAPI {\n    @GET(\"api/locations/get\")\n    Call&lt;List&lt;Store&gt;&gt; listStores(@Path(\"store\") String store);\n}\n</code></pre>\n\n<p>Store.java:</p>\n\n<pre><code>public class Store {\n    String name;\n}\n</code></pre>\n\n<p>I'm using Retrofit version 2.0.0-beta2.</p>\n"},{"tags":["java","spring-boot","cron","quartz","crontrigger"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1676461872,"post_id":75458914,"comment_id":133140157,"body_markdown":"You cannot specify a specific year AFAIK, so you need to do something like exit if != 2023 `0 0  * 1-6 Fri`","body":"You cannot specify a specific year AFAIK, so you need to do something like exit if != 2023 <code>0 0  * 1-6 Fri</code>"}],"answers":[{"tags":[],"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676461099,"creation_date":1676461099,"answer_id":75459237,"question_id":75458914,"body_markdown":"AFAIK you cannot. Probable 3 schedules: \r\n\r\n    0 0 12 16-31 1 FRI 2023\r\n    0 0 12 ? 2-5 FRI 2023\r\n    0 0 12 1-15 6 FRI 2023","title":"Create a cron that runs every friday with a specific interval","body":"<p>AFAIK you cannot. Probable 3 schedules:</p>\n<pre><code>0 0 12 16-31 1 FRI 2023\n0 0 12 ? 2-5 FRI 2023\n0 0 12 1-15 6 FRI 2023\n</code></pre>\n"}],"owner":{"account_id":15505807,"reputation":5,"user_id":11186014,"display_name":"B. Mihai"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75459237,"answer_count":1,"score":0,"last_activity_date":1676461099,"creation_date":1676459449,"question_id":75458914,"body_markdown":"I want to create a cron that runs in this interval 16/01/2023 - 15/06/2023 every friday at 12 o&#39;clock.\r\n\r\nThe cron that i created is &quot;0 0 12 ? 1-6 FRI 2023&quot; but i do not know how to put the days interval for january and june.","title":"Create a cron that runs every friday with a specific interval","body":"<p>I want to create a cron that runs in this interval 16/01/2023 - 15/06/2023 every friday at 12 o'clock.</p>\n<p>The cron that i created is &quot;0 0 12 ? 1-6 FRI 2023&quot; but i do not know how to put the days interval for january and june.</p>\n"},{"tags":["java","ssl","https"],"comments":[{"owner":{"account_id":223518,"reputation":1888,"user_id":4994931,"display_name":"gratinierer"},"score":1,"creation_date":1676463842,"post_id":75459104,"comment_id":133140750,"body_markdown":"in the first step you should try to find the root cause bei enabling ssl-debugging on the prod-machine: https://stackoverflow.com/q/23659564/4994931\nThis will give you a hint.\nThen you can check which certificate has to be added/replaced/trusted .","body":"in the first step you should try to find the root cause bei enabling ssl-debugging on the prod-machine: <a href=\"https://stackoverflow.com/q/23659564/4994931\">stackoverflow.com/q/23659564/4994931</a> This will give you a hint. Then you can check which certificate has to be added/replaced/trusted ."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1676464526,"post_id":75459104,"comment_id":133140953,"body_markdown":"Also see if there are (or can be created) any logs on the server that tell you what (if anything) it thinks is wrong. There is not and never has been any SSL 1.2, and SSL 2 was broken and obsolete _last century_. All systems today are using TLS instead, which is the successor to SSL, and TLS 1.2 or 1.3 is now required by quite a few servers, but there is no TLS 2 at all.","body":"Also see if there are (or can be created) any logs on the server that tell you what (if anything) it thinks is wrong. There is not and never has been any SSL 1.2, and SSL 2 was broken and obsolete <i>last century</i>. All systems today are using TLS instead, which is the successor to SSL, and TLS 1.2 or 1.3 is now required by quite a few servers, but there is no TLS 2 at all."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1676466308,"post_id":75459104,"comment_id":133141518,"body_markdown":"Don&#39;t forget !!! When you create a certificate the hostname embedded in the certificate at time of generation with it&#39;s input args must match the server hostname it is used on. Is there a different hostname on the certificate and Dev machine or different in the cert and online site server site? Just from interest java key store or standard key store?","body":"Don&#39;t forget !!! When you create a certificate the hostname embedded in the certificate at time of generation with it&#39;s input args must match the server hostname it is used on. Is there a different hostname on the certificate and Dev machine or different in the cert and online site server site? Just from interest java key store or standard key store?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1676467039,"post_id":75459104,"comment_id":133141735,"body_markdown":"And it&#39;s some time since, but the port(s) allocated on the generator args should be the port(s) used.  Ho ho ho ho did you pay for localhost registered and not the site domain ????  Technically SSL does not work using localhost as a general rule anyhow, that is quite difficult to do. It&#39;s been a while from OpenSSL since it did a special unique localhost release.","body":"And it&#39;s some time since, but the port(s) allocated on the generator args should be the port(s) used.  Ho ho ho ho did you pay for localhost registered and not the site domain ????  Technically SSL does not work using localhost as a general rule anyhow, that is quite difficult to do. It&#39;s been a while from OpenSSL since it did a special unique localhost release."},{"owner":{"account_id":3234177,"reputation":133,"user_id":2728766,"display_name":"Lucio Menci"},"score":0,"creation_date":1676979493,"post_id":75459104,"comment_id":133241976,"body_markdown":"I replaced SSL with TLS in this way: `SSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;); sc.init(null, enableUntrusted? getTrustedCertificates() : null, new SecureRandom()); connection.setSSLSocketFactory(sc.getSocketFactory());` but I continue to have handleshake exception (fatal alert: handshake_failure). @gratinierer I tried to debug the connection, the result is here [https://drive.google.com/file/d/1p4Pyw6GtDjfQgxRnamhKDtPxtSmZau3Q/view?usp=sharing] I&#39;m not very able to understand wath it mean, I&#39;m a newby about security connections. Can you help me?","body":"I replaced SSL with TLS in this way: <code>SSLContext sc = SSLContext.getInstance(&quot;TLSv1.2&quot;); sc.init(null, enableUntrusted? getTrustedCertificates() : null, new SecureRandom()); connection.setSSLSocketFactory(sc.getSocketFactory());</code> but I continue to have handleshake exception (fatal alert: handshake_failure). @gratinierer I tried to debug the connection, the result is here [<a href=\"https://drive.google.com/file/d/1p4Pyw6GtDjfQgxRnamhKDtPxtSmZau3Q/view?usp=sharing]\" rel=\"nofollow noreferrer\">drive.google.com/file/d/1p4Pyw6GtDjfQgxRnamhKDtPxtSmZau3Q/&hellip;</a> I&#39;m not very able to understand wath it mean, I&#39;m a newby about security connections. Can you help me?"}],"owner":{"account_id":3234177,"reputation":133,"user_id":2728766,"display_name":"Lucio Menci"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676460396,"creation_date":1676460396,"question_id":75459104,"body_markdown":"I did a standalone java (java 1.8, I cannot upgrade it) application that is a client of a webapp. This webapp has updated the SSL connection from SSL1.2 to SSL2. My development machine can access to the webapp, the production machine has some problems. If I don&#39;t set the HostnameVerifier, I have a SSLHandshakeException (Received fatal alert: handshake_failure). If I set the HostnameVerifier in this way:\r\n```\r\nhttpsConnection.setHostnameVerifier(new HostnameVerifier() {\r\n  public boolean verify(String hostname, SSLSession session) {\r\n    return true;\r\n  }\r\n});\r\n```\r\nthe result is SocketException (Connection reset).\r\n\r\nMy develope machine works well without the HostnameVerifier. This means that I have some certificates installed on my PC? How can I install the same certificates into the production machine?\r\n","title":"Update SSL certificates on java standalone client","body":"<p>I did a standalone java (java 1.8, I cannot upgrade it) application that is a client of a webapp. This webapp has updated the SSL connection from SSL1.2 to SSL2. My development machine can access to the webapp, the production machine has some problems. If I don't set the HostnameVerifier, I have a SSLHandshakeException (Received fatal alert: handshake_failure). If I set the HostnameVerifier in this way:</p>\n<pre><code>httpsConnection.setHostnameVerifier(new HostnameVerifier() {\n  public boolean verify(String hostname, SSLSession session) {\n    return true;\n  }\n});\n</code></pre>\n<p>the result is SocketException (Connection reset).</p>\n<p>My develope machine works well without the HostnameVerifier. This means that I have some certificates installed on my PC? How can I install the same certificates into the production machine?</p>\n"},{"tags":["java","scala","svg","gephi"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1676460274,"post_id":75458510,"comment_id":133139735,"body_markdown":"Don&#39;t use `Class.getResource()` when handling files that are generated at runtime. It&#39;s **only** meant for resource that come **bundled with your application** (i.e. in your jar and/or on the classpath). And for the same reason: don&#39;t write anything to `src/main/...` (in fact any mention of `src/` in your Java code is a code smell). The easiest solution is: construct the name of the target file(s) in **one** place, create a `File` variable with that name and pass that name to all methods (the one that writes it and the one that reads it), instead of constructing file names in multiple places.","body":"Don&#39;t use <code>Class.getResource()</code> when handling files that are generated at runtime. It&#39;s <b>only</b> meant for resource that come <b>bundled with your application</b> (i.e. in your jar and/or on the classpath). And for the same reason: don&#39;t write anything to <code>src&#47;main&#47;...</code> (in fact any mention of <code>src&#47;</code> in your Java code is a code smell). The easiest solution is: construct the name of the target file(s) in <b>one</b> place, create a <code>File</code> variable with that name and pass that name to all methods (the one that writes it and the one that reads it), instead of constructing file names in multiple places."}],"answers":[{"tags":[],"owner":{"account_id":50123,"reputation":365443,"user_id":149392,"display_name":"sepp2k"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676460247,"creation_date":1676460247,"answer_id":75459073,"question_id":75458510,"body_markdown":"During the build process, the contents of your source resource folder are copied into your target directory along with the compiled .class files (and then eventually into the generated .jar - if you&#39;re generating a .jar). When you run the compiled program, `getResource` will load the resources from the target directory (or from the .jar if you&#39;re running a .jar), not the source directory.\r\n\r\nSo adding files to the source resources directory will not have any effect on `getResources` (not to mention that, outside of development, programs are usually run in an environment where the source directory isn&#39;t even available). You could, technically, make it work by writing to the target directory instead of the source one, but then it would still only work when running the program directly from the target directory - not from a .jar.\r\n\r\nReally, you should use `getResources` only to access files that exist at build time. In order to read files generated at runtime, you should use normal file path and IO classes and methods, not `getResources`.","title":"Scala Java code sees SVG only on second execution (NullPointerException: SVG does not exist)","body":"<p>During the build process, the contents of your source resource folder are copied into your target directory along with the compiled .class files (and then eventually into the generated .jar - if you're generating a .jar). When you run the compiled program, <code>getResource</code> will load the resources from the target directory (or from the .jar if you're running a .jar), not the source directory.</p>\n<p>So adding files to the source resources directory will not have any effect on <code>getResources</code> (not to mention that, outside of development, programs are usually run in an environment where the source directory isn't even available). You could, technically, make it work by writing to the target directory instead of the source one, but then it would still only work when running the program directly from the target directory - not from a .jar.</p>\n<p>Really, you should use <code>getResources</code> only to access files that exist at build time. In order to read files generated at runtime, you should use normal file path and IO classes and methods, not <code>getResources</code>.</p>\n"}],"owner":{"account_id":23477616,"reputation":13,"user_id":17530201,"display_name":"commutativity"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75459073,"answer_count":1,"score":1,"last_activity_date":1676460247,"creation_date":1676457390,"question_id":75458510,"body_markdown":"this is my first Stack Overflow question, so I hope everything is alright: I create a GEXF file in Scala, convert it to a SVG graph (with the Gephi toolkit), and convert the results once more to PNG file format. The creation of the GEXF file is done in Scala, and the SVG and PNG conversion in Java. \r\n\r\nThe script runs flawless, when I first create the GEXF file and afterwards start the SVG and PNG conversion. I can do this with the if-functions: I first set if (1) on true and if (2) on false. Second: I set if (1) on false and if (2) on true. \r\n\r\nWhen I run the code with both ifs on true, I get a NullPointerException that the SVG does not exist. Note: I have uploaded the code to GitHub for a better overview and rebuild of the error: https://github.com/commutativity/svg-problem\r\n\r\n```\r\n  val conf: SparkConf = new SparkConf().setAppName(&quot;SparkTest&quot;).setMaster(&quot;local[*]&quot;).set(&quot;spark.executor.memory&quot;, &quot;16g&quot;)\r\n  val sparkContext = new SparkContext(conf)\r\n  val sparkSession: SparkSession = SparkSession.builder.config(sparkContext.getConf)  .config().getOrCreate()\r\n  val sqlContext: SQLContext = sparkSession.sqlContext\r\n\r\n\r\n  if (true) {    // if (1)\r\n    val v = sqlContext.createDataFrame(List(\r\n      (&quot;a&quot;, &quot;Alice&quot;, 34),\r\n      (&quot;b&quot;, &quot;Bob&quot;, 36),\r\n    )).toDF(&quot;id&quot;, &quot;name&quot;, &quot;age&quot;)\r\n\r\n    val e = sqlContext.createDataFrame(List(\r\n      (&quot;a&quot;, &quot;b&quot;, &quot;friend&quot;),\r\n    )).toDF(&quot;src&quot;, &quot;dst&quot;, &quot;relationship&quot;)\r\n\r\n    val g = GraphFrame(v, e)\r\n    val subgraphX = g.toGraphX\r\n    val pw = new PrintWriter(&quot;src\\\\main\\\\resources\\\\gexf\\\\&quot; + &quot;friends&quot; + &quot;.gexf&quot;)\r\n    val gexfString = toGexf(subgraphX)\r\n    pw.write(gexfString)\r\n    pw.close()\r\n  }\r\n\r\n\r\n  if (true) {     // if (2)\r\n    // import java classes\r\n    class ScalaDriver extends JavaDriver {\r\n      runGEXFtoSVG(&quot;friends&quot;, &quot;friends&quot;)\r\n\r\n      runSVGtoPNG(&quot;src\\\\main\\\\resources\\\\svg\\\\friends.svg&quot;,\r\n        &quot;src\\\\main\\\\resources\\\\png\\\\friends.png&quot;)\r\n    }\r\n\r\n    // run imported java classes\r\n    new ScalaDriver\r\n  }\r\n\r\n\r\n  def toGexf[VD, ED](g: Graph[VD, ED]): String = {\r\n    val header =\r\n      &quot;&quot;&quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n        |&lt;gexf xmlns=&quot;https://www.gexf.net/1.2draft&quot; version=&quot;1.2&quot;&gt;\r\n        |&lt;meta&gt;\r\n        |&lt;description&gt;A gephi graph in GEXF format&lt;/description&gt;\r\n        |&lt;/meta&gt;\r\n        |&lt;graph mode=&quot;static&quot; defaultedgetype=&quot;directed&quot;&gt;\r\n        |&lt;attributes class=&quot;node&quot;&gt;\r\n        |&lt;attribute id=&quot;1&quot; title=&quot;redirect&quot; type=&quot;string&quot;/&gt;\r\n        |&lt;attribute id=&quot;2&quot; title=&quot;namespace&quot; type=&quot;string&quot;/&gt;\r\n        |&lt;attribute id=&quot;3&quot; title=&quot;category&quot; type=&quot;string&quot;/&gt;\r\n        |&lt;/attributes&gt;\r\n      &quot;&quot;&quot;.stripMargin\r\n\r\n\r\n    val vertices = &quot;&lt;nodes&gt;\\n&quot; + g.vertices.map(\r\n      v =&gt; s&quot;&quot;&quot;&lt;node id=\\&quot;${v._1}\\&quot; label=\\&quot;${v._2.asInstanceOf[Row].getAs(&quot;id&quot;)}\\&quot;&gt;\\n\r\n      &lt;/node&gt;&quot;&quot;&quot;\r\n    ).collect.mkString + &quot;&lt;/nodes&gt;\\n&quot;\r\n\r\n    val edges = &quot;&lt;edges&gt;\\n&quot; + g.edges.map(\r\n      e =&gt;\r\n        s&quot;&quot;&quot;&lt;edge source=\\&quot;${e.srcId}\\&quot; target=\\&quot;${e.dstId}\\&quot;\r\n  label=\\&quot;${e.attr}\\&quot;/&gt;\\n&quot;&quot;&quot;\r\n    ).collect.mkString + &quot;&lt;/edges&gt;\\n&quot;\r\n\r\n    val footer = &quot;&lt;/graph&gt;\\n&lt;/gexf&gt;&quot;\r\n\r\n    header + vertices + edges + footer\r\n  }\r\n```\r\n\r\nThe error message looks like follows: \r\n\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat java.util.Objects.requireNonNull(Objects.java:203)\r\n\tat graph.GEXFtoSVG.script(GEXFtoSVG.java:46)\r\n\tat graph.JavaDriver.runGEXFtoSVG(JavaDriver.java:7)\r\n\tat utils.ReproduceError$ScalaDriver$1.&lt;init&gt;(ReproduceError.scala:38)\r\n\tat utils.ReproduceError$.delayedEndpoint$utils$ReproduceError$1(ReproduceError.scala:45)\r\n\tat utils.ReproduceError$delayedInit$body.apply(ReproduceError.scala:11)\r\n\tat scala.Function0.apply$mcV$sp(Function0.scala:39)\r\n\tat scala.Function0.apply$mcV$sp$(Function0.scala:39)\r\n\tat scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:17)\r\n\tat scala.App.$anonfun$main$1$adapted(App.scala:80)\r\n\tat scala.collection.immutable.List.foreach(List.scala:431)\r\n\tat scala.App.main(App.scala:80)\r\n\tat scala.App.main$(App.scala:78)\r\n\tat utils.ReproduceError$.main(ReproduceError.scala:11)\r\n\tat utils.ReproduceError.main(ReproduceError.scala)\r\n\r\nException in thread &quot;main&quot; org.apache.batik.transcoder.TranscoderException: null\r\nEnclosed Exception:\r\nFile file:/D:/scala_wiki/sbt-test1/src/main/resources/svg/friends.svg does not exist\r\n\tat org.apache.batik.transcoder.XMLAbstractTranscoder.transcode(XMLAbstractTranscoder.java:136)\r\n\tat org.apache.batik.transcoder.SVGAbstractTranscoder.transcode(SVGAbstractTranscoder.java:156)\r\n\tat graph.SVGtoPNG.createImage(SVGtoPNG.java:35)\r\n\tat graph.SVGtoPNG.&lt;init&gt;(SVGtoPNG.java:19)\r\n\tat graph.JavaDriver.runSVGtoPNG(JavaDriver.java:11)\r\n\tat utils.ReproduceError$ScalaDriver$1.&lt;init&gt;(ReproduceError.scala:41)\r\n\tat utils.ReproduceError$.delayedEndpoint$utils$ReproduceError$1(ReproduceError.scala:45)\r\n\tat utils.ReproduceError$delayedInit$body.apply(ReproduceError.scala:11)\r\n\tat scala.Function0.apply$mcV$sp(Function0.scala:39)\r\n\tat scala.Function0.apply$mcV$sp$(Function0.scala:39)\r\n\tat scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:17)\r\n\tat scala.App.$anonfun$main$1$adapted(App.scala:80)\r\n\tat scala.collection.immutable.List.foreach(List.scala:431)\r\n\tat scala.App.main(App.scala:80)\r\n\tat scala.App.main$(App.scala:78)\r\n\tat utils.ReproduceError$.main(ReproduceError.scala:11)\r\n\tat utils.ReproduceError.main(ReproduceError.scala)\r\n```\r\n\r\nThe JavaDriver classes contains: \r\n\r\n```\r\n    public void runGEXFtoSVG(String gexfName, String svgName) throws Exception {\r\n        GEXFtoSVG graph = new GEXFtoSVG();\r\n        graph.script(gexfName, svgName);\r\n    }\r\n\r\n    public void runSVGtoPNG(String svgName, String pngName) throws Exception {\r\n        new SVGtoPNG(svgName, pngName);\r\n    }\r\n```\r\n\r\nThe GEXFtoSVG class contains: \r\n\r\n\r\n```\r\npublic class GEXFtoSVG {\r\n\r\n    public void script(String gexfName, String svgName) throws Exception {\r\n        ProjectController pc = Lookup.getDefault().lookup(ProjectController.class);\r\n        pc.newProject();\r\n        Workspace workspace = pc.getCurrentWorkspace();\r\n\r\n        //Get models and controllers for this new workspace - will be useful later\r\n        GraphModel graphModel = Lookup.getDefault().lookup(GraphController.class).getModel();\r\n        PreviewModel model = Lookup.getDefault().lookup(PreviewController.class).getModel();\r\n        ImportController importController = Lookup.getDefault().lookup(ImportController.class);\r\n\r\n        Container container;\r\n        try {\r\n            File file = new File(Objects.requireNonNull(getClass().getResource(String.format(&quot;/gexf/%s.gexf&quot;, gexfName))).toURI());\r\n            container = importController.importFile(file);\r\n            container.getLoader().setEdgeDefault(EdgeDefault.DIRECTED);\r\n        } catch (Exception ex) {\r\n            ex.printStackTrace();\r\n            return;\r\n        }\r\n\r\n        // import the container into the workspace. The workspace contains the graph model and model\r\n        importController.process(container, new DefaultProcessor(), workspace);\r\n\r\n        //Layout for 1 second\r\n        AutoLayout autoLayout = new AutoLayout(1, TimeUnit.SECONDS);\r\n        autoLayout.setGraphModel(graphModel);\r\n        YifanHuLayout firstLayout = new YifanHuLayout(null, new StepDisplacement(1f));\r\n        ForceAtlasLayout secondLayout = new ForceAtlasLayout(null);\r\n        AutoLayout.DynamicProperty adjustBySizeProperty = AutoLayout\r\n                .createDynamicProperty(&quot;forceAtlas.adjustSizes.name&quot;, Boolean.TRUE, 0.1f);\r\n        //True after 10% of layout time\r\n        AutoLayout.DynamicProperty repulsionProperty = AutoLayout\r\n                .createDynamicProperty(&quot;forceAtlas.repulsionStrength.name&quot;, 500., 0f);\r\n        //500 for the complete period\r\n        autoLayout.addLayout(firstLayout, 0.5f);\r\n        autoLayout.addLayout(secondLayout, 0.5f, new AutoLayout\r\n                .DynamicProperty[]{adjustBySizeProperty, repulsionProperty});\r\n        autoLayout.execute();\r\n\r\n        // Preview\r\n        model.getProperties().putValue(PreviewProperty.SHOW_NODE_LABELS, Boolean.TRUE);\r\n        model.getProperties().putValue(PreviewProperty.EDGE_COLOR, new EdgeColor(Color.BLACK));\r\n        model.getProperties().putValue(PreviewProperty.EDGE_THICKNESS, 0.1f);\r\n        model.getProperties().putValue(PreviewProperty.SHOW_EDGES, Boolean.TRUE);\r\n        model.getProperties().putValue(PreviewProperty.DIRECTED, true);\r\n        model.getProperties().putValue(PreviewProperty.ARROW_SIZE, 20.0f);\r\n        model.getProperties().putValue(PreviewProperty.EDGE_CURVED, false);\r\n        model.getProperties().putValue(PreviewProperty.NODE_LABEL_FONT, new Font(&quot;Arial&quot;, Font.PLAIN, 2));\r\n\r\n        //Export\r\n        ExportController ec = Lookup.getDefault().lookup(ExportController.class);\r\n        try {\r\n            ec.exportFile(new File(String.format(&quot;src\\\\main\\\\resources\\\\svg\\\\%s.svg&quot;, svgName)));\r\n        } catch (IOException ex) {\r\n            ex.printStackTrace();\r\n            return;\r\n        }\r\n        container.closeLoader();\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd the SVGtoPNG class contains:\r\n\r\n\r\n```\r\npublic class SVGtoPNG {\r\n    String svgDirAndName;\r\n    String pngDirAndName;\r\n\r\n    SVGtoPNG(String svgDirAndName, String pngDirAndName) throws Exception {\r\n        this.svgDirAndName =svgDirAndName;\r\n        this.pngDirAndName =pngDirAndName;\r\n        createImage();\r\n    }\r\n\r\n    public void createImage() throws Exception {\r\n        String svg_URI_input = new File(String.format(&quot;%s&quot;, svgDirAndName)).toURI().toString();\r\n        TranscoderInput input_svg_image = new TranscoderInput(svg_URI_input);\r\n\r\n        // define OutputStream to PNG Image and attach to TranscoderOutput\r\n        OutputStream png_ostream = Files.newOutputStream(Paths.get(pngDirAndName));\r\n        TranscoderOutput output_png_image = new TranscoderOutput(png_ostream);\r\n\r\n        // create PNGTranscoder and define hints if required\r\n        PNGTranscoder my_converter = new PNGTranscoder();\r\n\r\n        // convert and Write output\r\n        System.out.println(&quot;It will print&quot;);\r\n        my_converter.transcode(input_svg_image, output_png_image);\r\n        System.out.println(&quot;It will not print&quot;);\r\n        png_ostream.flush();\r\n        png_ostream.close();\r\n    }\r\n}\r\n```\r\n\r\nI have tried inserting a wait-function between the two if-constructs, however, this did not solve the error. \r\n\r\nThe full example is available on GitHub. https://github.com/commutativity/svg-problem\r\n\r\nPlease make sure to include the libraries &quot;batik-codec-1.16&quot; and the &quot;gephi-toolkit-0.8.7&quot; as JARs. I have included the links to download the JARs. \r\n\r\nAny help, suggestions, and recommendations, are highly appreciated. ","title":"Scala Java code sees SVG only on second execution (NullPointerException: SVG does not exist)","body":"<p>this is my first Stack Overflow question, so I hope everything is alright: I create a GEXF file in Scala, convert it to a SVG graph (with the Gephi toolkit), and convert the results once more to PNG file format. The creation of the GEXF file is done in Scala, and the SVG and PNG conversion in Java.</p>\n<p>The script runs flawless, when I first create the GEXF file and afterwards start the SVG and PNG conversion. I can do this with the if-functions: I first set if (1) on true and if (2) on false. Second: I set if (1) on false and if (2) on true.</p>\n<p>When I run the code with both ifs on true, I get a NullPointerException that the SVG does not exist. Note: I have uploaded the code to GitHub for a better overview and rebuild of the error: <a href=\"https://github.com/commutativity/svg-problem\" rel=\"nofollow noreferrer\">https://github.com/commutativity/svg-problem</a></p>\n<pre><code>  val conf: SparkConf = new SparkConf().setAppName(&quot;SparkTest&quot;).setMaster(&quot;local[*]&quot;).set(&quot;spark.executor.memory&quot;, &quot;16g&quot;)\n  val sparkContext = new SparkContext(conf)\n  val sparkSession: SparkSession = SparkSession.builder.config(sparkContext.getConf)  .config().getOrCreate()\n  val sqlContext: SQLContext = sparkSession.sqlContext\n\n\n  if (true) {    // if (1)\n    val v = sqlContext.createDataFrame(List(\n      (&quot;a&quot;, &quot;Alice&quot;, 34),\n      (&quot;b&quot;, &quot;Bob&quot;, 36),\n    )).toDF(&quot;id&quot;, &quot;name&quot;, &quot;age&quot;)\n\n    val e = sqlContext.createDataFrame(List(\n      (&quot;a&quot;, &quot;b&quot;, &quot;friend&quot;),\n    )).toDF(&quot;src&quot;, &quot;dst&quot;, &quot;relationship&quot;)\n\n    val g = GraphFrame(v, e)\n    val subgraphX = g.toGraphX\n    val pw = new PrintWriter(&quot;src\\\\main\\\\resources\\\\gexf\\\\&quot; + &quot;friends&quot; + &quot;.gexf&quot;)\n    val gexfString = toGexf(subgraphX)\n    pw.write(gexfString)\n    pw.close()\n  }\n\n\n  if (true) {     // if (2)\n    // import java classes\n    class ScalaDriver extends JavaDriver {\n      runGEXFtoSVG(&quot;friends&quot;, &quot;friends&quot;)\n\n      runSVGtoPNG(&quot;src\\\\main\\\\resources\\\\svg\\\\friends.svg&quot;,\n        &quot;src\\\\main\\\\resources\\\\png\\\\friends.png&quot;)\n    }\n\n    // run imported java classes\n    new ScalaDriver\n  }\n\n\n  def toGexf[VD, ED](g: Graph[VD, ED]): String = {\n    val header =\n      &quot;&quot;&quot;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n        |&lt;gexf xmlns=&quot;https://www.gexf.net/1.2draft&quot; version=&quot;1.2&quot;&gt;\n        |&lt;meta&gt;\n        |&lt;description&gt;A gephi graph in GEXF format&lt;/description&gt;\n        |&lt;/meta&gt;\n        |&lt;graph mode=&quot;static&quot; defaultedgetype=&quot;directed&quot;&gt;\n        |&lt;attributes class=&quot;node&quot;&gt;\n        |&lt;attribute id=&quot;1&quot; title=&quot;redirect&quot; type=&quot;string&quot;/&gt;\n        |&lt;attribute id=&quot;2&quot; title=&quot;namespace&quot; type=&quot;string&quot;/&gt;\n        |&lt;attribute id=&quot;3&quot; title=&quot;category&quot; type=&quot;string&quot;/&gt;\n        |&lt;/attributes&gt;\n      &quot;&quot;&quot;.stripMargin\n\n\n    val vertices = &quot;&lt;nodes&gt;\\n&quot; + g.vertices.map(\n      v =&gt; s&quot;&quot;&quot;&lt;node id=\\&quot;${v._1}\\&quot; label=\\&quot;${v._2.asInstanceOf[Row].getAs(&quot;id&quot;)}\\&quot;&gt;\\n\n      &lt;/node&gt;&quot;&quot;&quot;\n    ).collect.mkString + &quot;&lt;/nodes&gt;\\n&quot;\n\n    val edges = &quot;&lt;edges&gt;\\n&quot; + g.edges.map(\n      e =&gt;\n        s&quot;&quot;&quot;&lt;edge source=\\&quot;${e.srcId}\\&quot; target=\\&quot;${e.dstId}\\&quot;\n  label=\\&quot;${e.attr}\\&quot;/&gt;\\n&quot;&quot;&quot;\n    ).collect.mkString + &quot;&lt;/edges&gt;\\n&quot;\n\n    val footer = &quot;&lt;/graph&gt;\\n&lt;/gexf&gt;&quot;\n\n    header + vertices + edges + footer\n  }\n</code></pre>\n<p>The error message looks like follows:</p>\n<pre><code>java.lang.NullPointerException\n    at java.util.Objects.requireNonNull(Objects.java:203)\n    at graph.GEXFtoSVG.script(GEXFtoSVG.java:46)\n    at graph.JavaDriver.runGEXFtoSVG(JavaDriver.java:7)\n    at utils.ReproduceError$ScalaDriver$1.&lt;init&gt;(ReproduceError.scala:38)\n    at utils.ReproduceError$.delayedEndpoint$utils$ReproduceError$1(ReproduceError.scala:45)\n    at utils.ReproduceError$delayedInit$body.apply(ReproduceError.scala:11)\n    at scala.Function0.apply$mcV$sp(Function0.scala:39)\n    at scala.Function0.apply$mcV$sp$(Function0.scala:39)\n    at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:17)\n    at scala.App.$anonfun$main$1$adapted(App.scala:80)\n    at scala.collection.immutable.List.foreach(List.scala:431)\n    at scala.App.main(App.scala:80)\n    at scala.App.main$(App.scala:78)\n    at utils.ReproduceError$.main(ReproduceError.scala:11)\n    at utils.ReproduceError.main(ReproduceError.scala)\n\nException in thread &quot;main&quot; org.apache.batik.transcoder.TranscoderException: null\nEnclosed Exception:\nFile file:/D:/scala_wiki/sbt-test1/src/main/resources/svg/friends.svg does not exist\n    at org.apache.batik.transcoder.XMLAbstractTranscoder.transcode(XMLAbstractTranscoder.java:136)\n    at org.apache.batik.transcoder.SVGAbstractTranscoder.transcode(SVGAbstractTranscoder.java:156)\n    at graph.SVGtoPNG.createImage(SVGtoPNG.java:35)\n    at graph.SVGtoPNG.&lt;init&gt;(SVGtoPNG.java:19)\n    at graph.JavaDriver.runSVGtoPNG(JavaDriver.java:11)\n    at utils.ReproduceError$ScalaDriver$1.&lt;init&gt;(ReproduceError.scala:41)\n    at utils.ReproduceError$.delayedEndpoint$utils$ReproduceError$1(ReproduceError.scala:45)\n    at utils.ReproduceError$delayedInit$body.apply(ReproduceError.scala:11)\n    at scala.Function0.apply$mcV$sp(Function0.scala:39)\n    at scala.Function0.apply$mcV$sp$(Function0.scala:39)\n    at scala.runtime.AbstractFunction0.apply$mcV$sp(AbstractFunction0.scala:17)\n    at scala.App.$anonfun$main$1$adapted(App.scala:80)\n    at scala.collection.immutable.List.foreach(List.scala:431)\n    at scala.App.main(App.scala:80)\n    at scala.App.main$(App.scala:78)\n    at utils.ReproduceError$.main(ReproduceError.scala:11)\n    at utils.ReproduceError.main(ReproduceError.scala)\n</code></pre>\n<p>The JavaDriver classes contains:</p>\n<pre><code>    public void runGEXFtoSVG(String gexfName, String svgName) throws Exception {\n        GEXFtoSVG graph = new GEXFtoSVG();\n        graph.script(gexfName, svgName);\n    }\n\n    public void runSVGtoPNG(String svgName, String pngName) throws Exception {\n        new SVGtoPNG(svgName, pngName);\n    }\n</code></pre>\n<p>The GEXFtoSVG class contains:</p>\n<pre><code>public class GEXFtoSVG {\n\n    public void script(String gexfName, String svgName) throws Exception {\n        ProjectController pc = Lookup.getDefault().lookup(ProjectController.class);\n        pc.newProject();\n        Workspace workspace = pc.getCurrentWorkspace();\n\n        //Get models and controllers for this new workspace - will be useful later\n        GraphModel graphModel = Lookup.getDefault().lookup(GraphController.class).getModel();\n        PreviewModel model = Lookup.getDefault().lookup(PreviewController.class).getModel();\n        ImportController importController = Lookup.getDefault().lookup(ImportController.class);\n\n        Container container;\n        try {\n            File file = new File(Objects.requireNonNull(getClass().getResource(String.format(&quot;/gexf/%s.gexf&quot;, gexfName))).toURI());\n            container = importController.importFile(file);\n            container.getLoader().setEdgeDefault(EdgeDefault.DIRECTED);\n        } catch (Exception ex) {\n            ex.printStackTrace();\n            return;\n        }\n\n        // import the container into the workspace. The workspace contains the graph model and model\n        importController.process(container, new DefaultProcessor(), workspace);\n\n        //Layout for 1 second\n        AutoLayout autoLayout = new AutoLayout(1, TimeUnit.SECONDS);\n        autoLayout.setGraphModel(graphModel);\n        YifanHuLayout firstLayout = new YifanHuLayout(null, new StepDisplacement(1f));\n        ForceAtlasLayout secondLayout = new ForceAtlasLayout(null);\n        AutoLayout.DynamicProperty adjustBySizeProperty = AutoLayout\n                .createDynamicProperty(&quot;forceAtlas.adjustSizes.name&quot;, Boolean.TRUE, 0.1f);\n        //True after 10% of layout time\n        AutoLayout.DynamicProperty repulsionProperty = AutoLayout\n                .createDynamicProperty(&quot;forceAtlas.repulsionStrength.name&quot;, 500., 0f);\n        //500 for the complete period\n        autoLayout.addLayout(firstLayout, 0.5f);\n        autoLayout.addLayout(secondLayout, 0.5f, new AutoLayout\n                .DynamicProperty[]{adjustBySizeProperty, repulsionProperty});\n        autoLayout.execute();\n\n        // Preview\n        model.getProperties().putValue(PreviewProperty.SHOW_NODE_LABELS, Boolean.TRUE);\n        model.getProperties().putValue(PreviewProperty.EDGE_COLOR, new EdgeColor(Color.BLACK));\n        model.getProperties().putValue(PreviewProperty.EDGE_THICKNESS, 0.1f);\n        model.getProperties().putValue(PreviewProperty.SHOW_EDGES, Boolean.TRUE);\n        model.getProperties().putValue(PreviewProperty.DIRECTED, true);\n        model.getProperties().putValue(PreviewProperty.ARROW_SIZE, 20.0f);\n        model.getProperties().putValue(PreviewProperty.EDGE_CURVED, false);\n        model.getProperties().putValue(PreviewProperty.NODE_LABEL_FONT, new Font(&quot;Arial&quot;, Font.PLAIN, 2));\n\n        //Export\n        ExportController ec = Lookup.getDefault().lookup(ExportController.class);\n        try {\n            ec.exportFile(new File(String.format(&quot;src\\\\main\\\\resources\\\\svg\\\\%s.svg&quot;, svgName)));\n        } catch (IOException ex) {\n            ex.printStackTrace();\n            return;\n        }\n        container.closeLoader();\n    }\n}\n\n</code></pre>\n<p>And the SVGtoPNG class contains:</p>\n<pre><code>public class SVGtoPNG {\n    String svgDirAndName;\n    String pngDirAndName;\n\n    SVGtoPNG(String svgDirAndName, String pngDirAndName) throws Exception {\n        this.svgDirAndName =svgDirAndName;\n        this.pngDirAndName =pngDirAndName;\n        createImage();\n    }\n\n    public void createImage() throws Exception {\n        String svg_URI_input = new File(String.format(&quot;%s&quot;, svgDirAndName)).toURI().toString();\n        TranscoderInput input_svg_image = new TranscoderInput(svg_URI_input);\n\n        // define OutputStream to PNG Image and attach to TranscoderOutput\n        OutputStream png_ostream = Files.newOutputStream(Paths.get(pngDirAndName));\n        TranscoderOutput output_png_image = new TranscoderOutput(png_ostream);\n\n        // create PNGTranscoder and define hints if required\n        PNGTranscoder my_converter = new PNGTranscoder();\n\n        // convert and Write output\n        System.out.println(&quot;It will print&quot;);\n        my_converter.transcode(input_svg_image, output_png_image);\n        System.out.println(&quot;It will not print&quot;);\n        png_ostream.flush();\n        png_ostream.close();\n    }\n}\n</code></pre>\n<p>I have tried inserting a wait-function between the two if-constructs, however, this did not solve the error.</p>\n<p>The full example is available on GitHub. <a href=\"https://github.com/commutativity/svg-problem\" rel=\"nofollow noreferrer\">https://github.com/commutativity/svg-problem</a></p>\n<p>Please make sure to include the libraries &quot;batik-codec-1.16&quot; and the &quot;gephi-toolkit-0.8.7&quot; as JARs. I have included the links to download the JARs.</p>\n<p>Any help, suggestions, and recommendations, are highly appreciated.</p>\n"},{"tags":["java","spring","spring-boot","content-security-policy"],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1676460065,"creation_date":1638462412,"answer_id":70203140,"question_id":70201971,"body_markdown":"Easy-Peasy, we only need to expose a (n appropriate) `HeaderWriter` as a bean! [`ContentSecurityPolicyHeaderWriter`](https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/header/writers/ContentSecurityPolicyHeaderWriter.html) looks appropriate &amp; sufficient for us, but we are also free to implement a custom:\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n    private static final String DEFAULT_SRC_SELF_POLICY = &quot;default-src &#39;self&#39;&quot;;\r\n\r\n    @Bean\r\n    public ContentSecurityPolicyHeaderWriter myWriter(\r\n            @Value(&quot;${#my.policy.directive:DEFAULT_SRC_SELF_POLICY}&quot;) String initalDirectives\r\n    ) {\r\n      return new ContentSecurityPolicyHeaderWriter(initalDirectives);\r\n    }\r\n\r\n----------\r\n\r\n\r\nThen with:\r\n\r\n    @Autowired\r\n    private ContentSecurityPolicyHeaderWriter myHeadersWriter;\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n      // ... lots more config here...\r\n      http.headers()\r\n        .addHeaderWriter(myHeadersWriter);\r\n    }\r\n\r\n..., we can change the header value with these demo controllers:\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String home() {\r\n      myHeadersWriter.setPolicyDirectives(DEFAULT_SRC_SELF_POLICY);\r\n      return &quot;header reset!&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/foo&quot;)\r\n    public String foo() {\r\n      myHeadersWriter.setPolicyDirectives(&quot;FOO&quot;);\r\n      return &quot;Hello from foo!&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/bar&quot;)\r\n    public String bar() {\r\n      myHeadersWriter.setPolicyDirectives(&quot;BAR&quot;);\r\n      return &quot;Hello from bar!&quot;;\r\n    }\r\n\r\nWe can test:\r\n\r\n    @SpringBootTest\r\n    @AutoConfigureMockMvc\r\n    class DemoApplicationTests {\r\n\r\n      @Autowired\r\n      private MockMvc mockMvc;\r\n\r\n      @Test\r\n      public void testHome() throws Exception {\r\n        this.mockMvc.perform(get(&quot;/&quot;))\r\n                .andDo(print())\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().string(containsString(&quot;header reset!&quot;)))\r\n                .andExpect(header().string(CONTENT_SECURITY_POLICY_HEADER, DEFAULT_SRC_SELF_POLICY));\r\n      }\r\n\r\n      @Test\r\n      public void testFoo() throws Exception {\r\n        this.mockMvc.perform(get(&quot;/foo&quot;))\r\n                .andDo(print())\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().string(containsString(&quot;Hello from foo!&quot;)))\r\n                .andExpect(header().string(CONTENT_SECURITY_POLICY_HEADER, &quot;FOO&quot;));\r\n      }\r\n\r\n      @Test\r\n      public void testBar() throws Exception {\r\n        this.mockMvc.perform(get(&quot;/bar&quot;))\r\n                .andDo(print())\r\n                .andExpect(status().isOk())\r\n                .andExpect(content().string(containsString(&quot;Hello from bar!&quot;)))\r\n                .andExpect(header().string(CONTENT_SECURITY_POLICY_HEADER, &quot;BAR&quot;));\r\n      }\r\n    }\r\n\r\n... also in browser:\r\n\r\n[![change header browser screenshot][1]][1]\r\n\r\n[All in one github.][2](sorry all in main class!:)\r\n\r\n\r\n----------\r\nRefs: [only this](https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/header/writers/ContentSecurityPolicyHeaderWriter.java)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H7rvv.png\r\n  [2]: https://github.com/xerx593/soq70201971","title":"Spring Boot: How to change the Content Security Policy at runtime?","body":"<p>Easy-Peasy, we only need to expose a (n appropriate) <code>HeaderWriter</code> as a bean! <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/header/writers/ContentSecurityPolicyHeaderWriter.html\" rel=\"nofollow noreferrer\"><code>ContentSecurityPolicyHeaderWriter</code></a> looks appropriate &amp; sufficient for us, but we are also free to implement a custom:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static final String DEFAULT_SRC_SELF_POLICY = &quot;default-src 'self'&quot;;\n\n@Bean\npublic ContentSecurityPolicyHeaderWriter myWriter(\n        @Value(&quot;${#my.policy.directive:DEFAULT_SRC_SELF_POLICY}&quot;) String initalDirectives\n) {\n  return new ContentSecurityPolicyHeaderWriter(initalDirectives);\n}\n</code></pre>\n<hr />\n<p>Then with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate ContentSecurityPolicyHeaderWriter myHeadersWriter;\n\n@Override\npublic void configure(HttpSecurity http) throws Exception {\n  // ... lots more config here...\n  http.headers()\n    .addHeaderWriter(myHeadersWriter);\n}\n</code></pre>\n<p>..., we can change the header value with these demo controllers:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/&quot;)\npublic String home() {\n  myHeadersWriter.setPolicyDirectives(DEFAULT_SRC_SELF_POLICY);\n  return &quot;header reset!&quot;;\n}\n\n@GetMapping(&quot;/foo&quot;)\npublic String foo() {\n  myHeadersWriter.setPolicyDirectives(&quot;FOO&quot;);\n  return &quot;Hello from foo!&quot;;\n}\n\n@GetMapping(&quot;/bar&quot;)\npublic String bar() {\n  myHeadersWriter.setPolicyDirectives(&quot;BAR&quot;);\n  return &quot;Hello from bar!&quot;;\n}\n</code></pre>\n<p>We can test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@AutoConfigureMockMvc\nclass DemoApplicationTests {\n\n  @Autowired\n  private MockMvc mockMvc;\n\n  @Test\n  public void testHome() throws Exception {\n    this.mockMvc.perform(get(&quot;/&quot;))\n            .andDo(print())\n            .andExpect(status().isOk())\n            .andExpect(content().string(containsString(&quot;header reset!&quot;)))\n            .andExpect(header().string(CONTENT_SECURITY_POLICY_HEADER, DEFAULT_SRC_SELF_POLICY));\n  }\n\n  @Test\n  public void testFoo() throws Exception {\n    this.mockMvc.perform(get(&quot;/foo&quot;))\n            .andDo(print())\n            .andExpect(status().isOk())\n            .andExpect(content().string(containsString(&quot;Hello from foo!&quot;)))\n            .andExpect(header().string(CONTENT_SECURITY_POLICY_HEADER, &quot;FOO&quot;));\n  }\n\n  @Test\n  public void testBar() throws Exception {\n    this.mockMvc.perform(get(&quot;/bar&quot;))\n            .andDo(print())\n            .andExpect(status().isOk())\n            .andExpect(content().string(containsString(&quot;Hello from bar!&quot;)))\n            .andExpect(header().string(CONTENT_SECURITY_POLICY_HEADER, &quot;BAR&quot;));\n  }\n}\n</code></pre>\n<p>... also in browser:</p>\n<p><a href=\"https://i.stack.imgur.com/H7rvv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H7rvv.png\" alt=\"change header browser screenshot\" /></a></p>\n<p><a href=\"https://github.com/xerx593/soq70201971\" rel=\"nofollow noreferrer\">All in one github.</a>(sorry all in main class!:)</p>\n<hr />\n<p>Refs: <a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/header/writers/ContentSecurityPolicyHeaderWriter.java\" rel=\"nofollow noreferrer\">only this</a></p>\n"},{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638663804,"creation_date":1638578370,"answer_id":70222124,"question_id":70201971,"body_markdown":"The problem with the (my) accepted answer is:\r\n\r\n(just for the show case, but:) We modify &quot;singleton scope property&quot; on (every) request!!!\r\n\r\nWhen we add a &quot;stress&quot; test wrapper [like this][1].\r\n\r\n( ... https://stackoverflow.com/q/7939257/592355 ?? -&gt; [ExecutorCompletionService](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorCompletionService.html), since Java:1.5;)\r\n\r\nIt **badly** fails (header has *not* the &quot;expected&quot; value):\r\n\r\n    @Test\r\n    void testParallel() throws Exception {\r\n      // 200 cycles, with  0 (== #cpu) threads ...\r\n      final StressTester&lt;Void&gt; stressTestHome = new StressTester&lt;&gt;(Void.class, 200, 0, // ... and these (three) jobs (firing requests at our app):\r\n        () -&gt; {\r\n          home(); // here the original tests\r\n          return null;\r\n        },\r\n        () -&gt; {\r\n          foo(); // ... with assertions ...\r\n          return null;\r\n        },\r\n        () -&gt; {\r\n          bar(); // ... moved to private (non Test) methods\r\n          return null;\r\n        }\r\n      );\r\n      stressTestHome.test(); // run it, collect it and:\r\n      stressTestHome.printErrors(System.out);\r\n      assertTrue(stressTestHome.getExceptionList().isEmpty());\r\n    }\r\n\r\nAs in mock as in (full) server mode... ;(;(;(\r\n\r\nWe *will* encounter the same problem, when we want to change that header [from a &quot;lower scope&quot; (than singleton][^3]..so any other scope:) ;(;(;(\r\n\r\nIf we *want* singleton scope policy for that header, and only &quot;trigger the reload&quot; (for all subsequent requests), we can stop reading. (answer 1 is ok, as i actually &quot;initially understood&quot; the question &amp; answered:)\r\n\r\n*But* if we *want* that &quot;per request header&quot; *with* [tag:spring-security], we have to *pass* this test! :)\r\n\r\n----------\r\n\r\n*One* possible solution: [Method Injection][^4]!\r\n\r\nSo back to our custom `HeaderWriter` implementation:\r\n\r\n    package com.example.demo;\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpServletResponse;\r\n    import org.springframework.security.web.header.HeaderWriter;\r\n    // abstract!\r\n    public abstract class MyContentSecurityPolicyHeaderWriter implements HeaderWriter {\r\n      // ... no state!!!\r\n      public static final String CONTENT_SECURITY_POLICY_HEADER = &quot;Content-Security-Policy&quot;;\r\n\r\n      public static final String DEFAULT_SRC_SELF_POLICY = &quot;default-src &#39;self&#39;&quot;;\r\n\r\n      @Override // how cool, that there is a HttpServletRequest/-Response &quot;at hand&quot; !?!\r\n      public void writeHeaders(HttpServletRequest request, HttpServletResponse response) {\r\n        if (!response.containsHeader(CONTENT_SECURITY_POLICY_HEADER)) {\r\n          // responsible for the header key, but for the value we ask: delegate\r\n          response.setHeader(CONTENT_SECURITY_POLICY_HEADER, policyDelegate().getPolicyDirectives());\r\n        }\r\n      }\r\n\r\n      // TLDR xDxD\r\n      protected abstract MyContentSecurityDelegate policyDelegate();\r\n    }\r\n\r\n[Thanks, again!;)][^5]\r\n\r\nWith this tiny (but managed) &quot;context holder&quot;:\r\n\r\n    package com.example.demo;\r\n    import lombok.*;\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor(staticName = &quot;of&quot;)\r\n    public class MyContentSecurityDelegate {\r\n\r\n      @Getter\r\n      @Setter\r\n      private String policyDirectives;\r\n    }\r\n\r\nWe do this (with [tag:spring-java-config], https://stackoverflow.com/q/48440669/592355):\r\n\r\n    @Configuration \r\n    class FreakyConfig {\r\n\r\n      @Value(&quot;${my.policy.directive:DEFAULT_SRC_SELF_POLICY}&quot;)\r\n      private String policy;\r\n\r\n      @Bean\r\n      @RequestScope // !! (that is suited for our controllers)\r\n      public MyContentSecurityDelegate delegate() {\r\n        return MyContentSecurityDelegate.of(policy);\r\n      }\r\n\r\n      @Bean\r\n      public MyContentSecurityPolicyHeaderWriter myWriter() {\r\n        return new MyContentSecurityPolicyHeaderWriter() { // anonymous inner class\r\n          @Override\r\n          protected MyContentSecurityDelegate policyDelegate() {\r\n            return delegate(); // with request scoped delegate.\r\n          }\r\n        };\r\n      }\r\n    }\r\n\r\n..then our controllers do that (autowire &amp; &quot;talk&quot; to the delegate):\r\n\r\n    @Autowired // !\r\n    private MyContentSecurityDelegate myRequestScopedDelegate;\r\n\r\n    @GetMapping(&quot;/foo&quot;)\r\n    public String foo() {\r\n      // !!\r\n      myRequestScopedDelegate.setPolicyDirectives(&quot;FOO&quot;);\r\n      return &quot;Hello from foo!&quot;;\r\n    }\r\n\r\nThen all tests pass! :) [pushed to (same)github][7].\r\n\r\n\r\n----------\r\n\r\n\r\nBut to achieve the goal: &quot;Write headers request (even thread) specific&quot;, we can use any other technique (matching our stack &amp; needs, beyond [tag:spring-security]):\r\n\r\n- with or without [tag:spring-boot]\r\n  - servlet\r\n    - with [tag:spring-mvc]/without\r\n    - `javax.servlet.*`:\r\n      &gt; Any `Servlet`, `Filter`, or servlet `*Listener` instance that **is a Spring bean** is registered with the embedded container..\r\n\r\n      from [Registering Servlets, Filters, and Listeners as Spring Beans][6]\r\n\r\n  - or reactive ...\r\n\r\nMo&#39; Links: \r\n\r\n- https://stackoverflow.com/q/19825946/592355\r\n- https://www.baeldung.com/spring-response-header\r\n- https://www.baeldung.com/spring-boot-add-filter\r\n\r\n  \r\nHappy Coding!\r\n\r\n\r\n\r\n  [1]: https://www.springboot.ch/blog/java/stresstest\r\n  [2]: https://stackoverflow.com/q/7939257/592355\r\n  [^3]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-sing-prot-interaction\r\n  [^4]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-method-injection\r\n  [^5]: https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/header/writers/ContentSecurityPolicyHeaderWriter.java\r\n  [6]: https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.embedded-container.servlets-filters-listeners.beans\r\n  [7]: https://github.com/xerx593/soq70201971","title":"Spring Boot: How to change the Content Security Policy at runtime?","body":"<p>The problem with the (my) accepted answer is:</p>\n<p>(just for the show case, but:) We modify &quot;singleton scope property&quot; on (every) request!!!</p>\n<p>When we add a &quot;stress&quot; test wrapper <a href=\"https://www.springboot.ch/blog/java/stresstest\" rel=\"nofollow noreferrer\">like this</a>.</p>\n<p>( ... <a href=\"https://stackoverflow.com/q/7939257/592355\">wait until all threads finish their work in java</a> ?? -&gt; <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorCompletionService.html\" rel=\"nofollow noreferrer\">ExecutorCompletionService</a>, since Java:1.5;)</p>\n<p>It <strong>badly</strong> fails (header has <em>not</em> the &quot;expected&quot; value):</p>\n<pre><code>@Test\nvoid testParallel() throws Exception {\n  // 200 cycles, with  0 (== #cpu) threads ...\n  final StressTester&lt;Void&gt; stressTestHome = new StressTester&lt;&gt;(Void.class, 200, 0, // ... and these (three) jobs (firing requests at our app):\n    () -&gt; {\n      home(); // here the original tests\n      return null;\n    },\n    () -&gt; {\n      foo(); // ... with assertions ...\n      return null;\n    },\n    () -&gt; {\n      bar(); // ... moved to private (non Test) methods\n      return null;\n    }\n  );\n  stressTestHome.test(); // run it, collect it and:\n  stressTestHome.printErrors(System.out);\n  assertTrue(stressTestHome.getExceptionList().isEmpty());\n}\n</code></pre>\n<p>As in mock as in (full) server mode... ;(;(;(</p>\n<p>We <em>will</em> encounter the same problem, when we want to change that header <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes-sing-prot-interaction\" rel=\"nofollow noreferrer\">from a &quot;lower scope&quot; (than singleton</a>..so any other scope:) ;(;(;(</p>\n<p>If we <em>want</em> singleton scope policy for that header, and only &quot;trigger the reload&quot; (for all subsequent requests), we can stop reading. (answer 1 is ok, as i actually &quot;initially understood&quot; the question &amp; answered:)</p>\n<p><em>But</em> if we <em>want</em> that &quot;per request header&quot; <em>with</em> <a href=\"/questions/tagged/spring-security\" class=\"post-tag\" title=\"show questions tagged &#39;spring-security&#39;\" rel=\"tag\">spring-security</a>, we have to <em>pass</em> this test! :)</p>\n<hr />\n<p><em>One</em> possible solution: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-method-injection\" rel=\"nofollow noreferrer\">Method Injection</a>!</p>\n<p>So back to our custom <code>HeaderWriter</code> implementation:</p>\n<pre><code>package com.example.demo;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport org.springframework.security.web.header.HeaderWriter;\n// abstract!\npublic abstract class MyContentSecurityPolicyHeaderWriter implements HeaderWriter {\n  // ... no state!!!\n  public static final String CONTENT_SECURITY_POLICY_HEADER = &quot;Content-Security-Policy&quot;;\n\n  public static final String DEFAULT_SRC_SELF_POLICY = &quot;default-src 'self'&quot;;\n\n  @Override // how cool, that there is a HttpServletRequest/-Response &quot;at hand&quot; !?!\n  public void writeHeaders(HttpServletRequest request, HttpServletResponse response) {\n    if (!response.containsHeader(CONTENT_SECURITY_POLICY_HEADER)) {\n      // responsible for the header key, but for the value we ask: delegate\n      response.setHeader(CONTENT_SECURITY_POLICY_HEADER, policyDelegate().getPolicyDirectives());\n    }\n  }\n\n  // TLDR xDxD\n  protected abstract MyContentSecurityDelegate policyDelegate();\n}\n</code></pre>\n<p><a href=\"https://github.com/spring-projects/spring-security/blob/main/web/src/main/java/org/springframework/security/web/header/writers/ContentSecurityPolicyHeaderWriter.java\" rel=\"nofollow noreferrer\">Thanks, again!;)</a></p>\n<p>With this tiny (but managed) &quot;context holder&quot;:</p>\n<pre><code>package com.example.demo;\nimport lombok.*;\n\n@NoArgsConstructor\n@AllArgsConstructor(staticName = &quot;of&quot;)\npublic class MyContentSecurityDelegate {\n\n  @Getter\n  @Setter\n  private String policyDirectives;\n}\n</code></pre>\n<p>We do this (with <a href=\"/questions/tagged/spring-java-config\" class=\"post-tag\" title=\"show questions tagged &#39;spring-java-config&#39;\" rel=\"tag\">spring-java-config</a>, <a href=\"https://stackoverflow.com/q/48440669/592355\">How to create bean using @Bean in spring boot for abstract class</a>):</p>\n<pre><code>@Configuration \nclass FreakyConfig {\n\n  @Value(&quot;${my.policy.directive:DEFAULT_SRC_SELF_POLICY}&quot;)\n  private String policy;\n\n  @Bean\n  @RequestScope // !! (that is suited for our controllers)\n  public MyContentSecurityDelegate delegate() {\n    return MyContentSecurityDelegate.of(policy);\n  }\n\n  @Bean\n  public MyContentSecurityPolicyHeaderWriter myWriter() {\n    return new MyContentSecurityPolicyHeaderWriter() { // anonymous inner class\n      @Override\n      protected MyContentSecurityDelegate policyDelegate() {\n        return delegate(); // with request scoped delegate.\n      }\n    };\n  }\n}\n</code></pre>\n<p>..then our controllers do that (autowire &amp; &quot;talk&quot; to the delegate):</p>\n<pre><code>@Autowired // !\nprivate MyContentSecurityDelegate myRequestScopedDelegate;\n\n@GetMapping(&quot;/foo&quot;)\npublic String foo() {\n  // !!\n  myRequestScopedDelegate.setPolicyDirectives(&quot;FOO&quot;);\n  return &quot;Hello from foo!&quot;;\n}\n</code></pre>\n<p>Then all tests pass! :) <a href=\"https://github.com/xerx593/soq70201971\" rel=\"nofollow noreferrer\">pushed to (same)github</a>.</p>\n<hr />\n<p>But to achieve the goal: &quot;Write headers request (even thread) specific&quot;, we can use any other technique (matching our stack &amp; needs, beyond <a href=\"/questions/tagged/spring-security\" class=\"post-tag\" title=\"show questions tagged &#39;spring-security&#39;\" rel=\"tag\">spring-security</a>):</p>\n<ul>\n<li>with or without <a href=\"/questions/tagged/spring-boot\" class=\"post-tag\" title=\"show questions tagged &#39;spring-boot&#39;\" rel=\"tag\">spring-boot</a>\n<ul>\n<li><p>servlet</p>\n<ul>\n<li><p>with <a href=\"/questions/tagged/spring-mvc\" class=\"post-tag\" title=\"show questions tagged &#39;spring-mvc&#39;\" rel=\"tag\">spring-mvc</a>/without</p>\n</li>\n<li><p><code>javax.servlet.*</code>:</p>\n<blockquote>\n<p>Any <code>Servlet</code>, <code>Filter</code>, or servlet <code>*Listener</code> instance that <strong>is a Spring bean</strong> is registered with the embedded container..</p>\n</blockquote>\n<p>from <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.servlet.embedded-container.servlets-filters-listeners.beans\" rel=\"nofollow noreferrer\">Registering Servlets, Filters, and Listeners as Spring Beans</a></p>\n</li>\n</ul>\n</li>\n<li><p>or reactive ...</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>Mo' Links:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/19825946/592355\">How can I add a filter class in Spring Boot?</a></li>\n<li><a href=\"https://www.baeldung.com/spring-response-header\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-response-header</a></li>\n<li><a href=\"https://www.baeldung.com/spring-boot-add-filter\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-boot-add-filter</a></li>\n</ul>\n<p>Happy Coding!</p>\n"}],"owner":{"account_id":3719550,"reputation":6826,"user_id":3094906,"accept_rate":71,"display_name":"Martin H&#228;usler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2438,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70203140,"answer_count":2,"score":2,"last_activity_date":1676460065,"creation_date":1638458073,"question_id":70201971,"body_markdown":"I&#39;m trying to hot-reload a change in the content security policy (CSP) of my Spring Boot application, i.e. the user should be able to change it via an admin UI without restarting the server.\r\n\r\nThe regular approach in Spring Boot is:\r\n\r\n```java\r\n@Configuration\r\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) {\r\n        // ... lots more config here...\r\n        http.headers()\r\n            .addHeaderWriter(\r\n                 StaticHeadersWriter(\r\n                     &quot;Content-Security-Policy&quot;, \r\n                     &quot;&lt;some policy string&gt;&quot;\r\n                 )\r\n            )\r\n    } \r\n}\r\n```\r\n\r\n... but this doesn&#39;t allow for reconfiguration once it has been assigned.\r\n\r\nCan I make this (re-)configurable at runtime? Reloading the application context is not an option, I need to be able to adapt only this particular setting.\r\n","title":"Spring Boot: How to change the Content Security Policy at runtime?","body":"<p>I'm trying to hot-reload a change in the content security policy (CSP) of my Spring Boot application, i.e. the user should be able to change it via an admin UI without restarting the server.</p>\n<p>The regular approach in Spring Boot is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\nclass WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity http) {\n        // ... lots more config here...\n        http.headers()\n            .addHeaderWriter(\n                 StaticHeadersWriter(\n                     &quot;Content-Security-Policy&quot;, \n                     &quot;&lt;some policy string&gt;&quot;\n                 )\n            )\n    } \n}\n</code></pre>\n<p>... but this doesn't allow for reconfiguration once it has been assigned.</p>\n<p>Can I make this (re-)configurable at runtime? Reloading the application context is not an option, I need to be able to adapt only this particular setting.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1567087140,"post_id":57711745,"comment_id":101865885,"body_markdown":"did you tried invalidate caches and restart ?","body":"did you tried invalidate caches and restart ?"},{"owner":{"account_id":16572773,"reputation":939,"user_id":11975419,"display_name":"Chris911"},"score":0,"creation_date":1567088222,"post_id":57711745,"comment_id":101866540,"body_markdown":"I tried but it did not work the first time. However, after adding androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39; to my dependecies the error disappeared but I still got the Unknown Fragment","body":"I tried but it did not work the first time. However, after adding androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39; to my dependecies the error disappeared but I still got the Unknown Fragment"}],"owner":{"account_id":16572773,"reputation":939,"user_id":11975419,"display_name":"Chris911"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676460026,"creation_date":1567086815,"question_id":57711745,"body_markdown":"So I got those errors:\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\nand this is my xml file :\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:background=&quot;@drawable/background&quot;\r\n        tools:openDrawer=&quot;start&quot;&gt;\r\n    \r\n    &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            android:fitsSystemWindows=&quot;true&quot;\r\n            android:background=&quot;@color/overlayBAckground&quot;\r\n            app:itemTextColor=&quot;@android:color/white&quot;\r\n            app:itemIconTint=&quot;@android:color/white&quot;\r\n            app:headerLayout=&quot;@layout/nav_header_home&quot;\r\n            app:menu=&quot;@menu/activity_home_drawer&quot; /&gt;\r\n    \r\n            &lt;include\r\n            layout=&quot;@layout/app_bar_home&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\nand in gradle dependecies I have this:\r\n\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        implementation &#39;com.google.firebase:firebase-core:17.1.0&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:19.0.0&#39;\r\n        implementation &#39;androidx.legacy:legacy-support-v4:1.0.0&#39;\r\n        implementation &#39;com.google.android.material:material:1.0.0&#39;\r\n        implementation &#39;androidx.navigation:navigation-fragment:2.0.0&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.0.0&#39;\r\n        implementation &#39;androidx.lifecycle:lifecycle-extensions:2.0.0&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test:runner:1.2.0&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n        implementation &#39;androidx.recyclerview:recyclerview:1.0.0&#39;\r\n        implementation &#39;com.squareup.picasso:picasso:2.71828&#39;\r\n        implementation &#39;androidx.cardview:cardview:1.0.0&#39;\r\n        implementation &#39;com.firebaseui:firebase-ui-database:1.2.0&#39;\r\n        def nav_version = &quot;2.1.0-alpha01&quot;\r\n        implementation &quot;androidx.navigation:navigation-fragment:$nav_version&quot;\r\n        implementation &quot;androidx.navigation:navigation-ui:$nav_version&quot;\r\n\r\nIf you need more information please comment down below. i&#39;ve looked on other posts but none of the solutions worked for me too. Maybe I&#39;ve not looked deep enough but please help me if you know what is wrong.\r\n\r\n  [1]: https://i.stack.imgur.com/aHYTR.png\r\n  [2]: https://i.stack.imgur.com/ecQkb.png\r\n  [3]: https://i.stack.imgur.com/9sP2T.png","title":"Unknown fragments &amp; Failed to initiate one or more classes","body":"<p>So I got those errors:\n<a href=\"https://i.stack.imgur.com/aHYTR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aHYTR.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/ecQkb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ecQkb.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/9sP2T.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9sP2T.png\" alt=\"enter image description here\"></a></p>\n\n<p>and this is my xml file :</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    android:background=\"@drawable/background\"\n    tools:openDrawer=\"start\"&gt;\n\n&lt;com.google.android.material.navigation.NavigationView\n        android:id=\"@+id/nav_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:fitsSystemWindows=\"true\"\n        android:background=\"@color/overlayBAckground\"\n        app:itemTextColor=\"@android:color/white\"\n        app:itemIconTint=\"@android:color/white\"\n        app:headerLayout=\"@layout/nav_header_home\"\n        app:menu=\"@menu/activity_home_drawer\" /&gt;\n\n        &lt;include\n        layout=\"@layout/app_bar_home\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>and in gradle dependecies I have this:</p>\n\n<pre><code>implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    implementation 'com.google.firebase:firebase-core:17.1.0'\n    implementation 'com.google.firebase:firebase-database:19.0.0'\n    implementation 'androidx.legacy:legacy-support-v4:1.0.0'\n    implementation 'com.google.android.material:material:1.0.0'\n    implementation 'androidx.navigation:navigation-fragment:2.0.0'\n    implementation 'androidx.navigation:navigation-ui:2.0.0'\n    implementation 'androidx.lifecycle:lifecycle-extensions:2.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    implementation 'androidx.recyclerview:recyclerview:1.0.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'androidx.cardview:cardview:1.0.0'\n    implementation 'com.firebaseui:firebase-ui-database:1.2.0'\n    def nav_version = \"2.1.0-alpha01\"\n    implementation \"androidx.navigation:navigation-fragment:$nav_version\"\n    implementation \"androidx.navigation:navigation-ui:$nav_version\"\n</code></pre>\n\n<p>If you need more information please comment down below. i've looked on other posts but none of the solutions worked for me too. Maybe I've not looked deep enough but please help me if you know what is wrong.</p>\n"},{"tags":["java","repository","jcr","jackrabbit"],"owner":{"account_id":1319802,"reputation":1332,"user_id":1265850,"accept_rate":79,"display_name":"R D"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676459650,"creation_date":1676006310,"question_id":75407243,"body_markdown":"We are using Jackrabbit to maintain repository file storage. Any changes in files, new version is created as expected.\r\n\r\nEg. Test.xml\r\n\r\n```\r\nVersion | Owner | Comment\r\n1.2     | cc    | sample 1\r\n1.1     | aa    | sample 2\r\n1.0     | bb    | sample 3\r\n```\r\nWant to edit owner detail of version 1.1 from aa to xx\r\n\r\nTry via java code, it is giving bellow error :\r\n\r\n```\r\n! javax.jcr.nodetype.ConstraintViolationException: Unable to perform operation. Node is protected.\r\n```\r\n\r\nAs per different forum understood that once version is created it is frozen. But our requirement to update as part of GDPR complains. Any option to enable edit option for frozen version node. Other alternative solution helps.\r\n\r\nPlan to try below options \r\n\r\nOption 1 : \r\n- Take copy of  1.1\r\n- Delete 1.1 \r\n- Replace bb to xx in that copied version \r\n- Add it back replaced content as 1.1 version\r\n- Suspect Jackrabbit may not allow to create deleted version again\r\n\r\n**Update :** Not working \r\n\r\nOption 2 : \r\n- Take copy of  1.1\r\n- Delete 1.1 \r\n- Replace bb to xx in that copied version and add it as 1.3\r\n- Copy 1.2 \r\n- Added 1.2 as 1.4 to ensure previous latest version is current latest after changes \r\n\r\n```\r\nVersion | Owner | Comment\r\n1.0\t    | aa    | sample 1   \r\n1.2     | cc    | sample 3\r\n1.3     | xx    | sample 2\r\n1.4     | cc    | sample 3\r\n```\r\n\r\n**Update :** Working, but not a good solution, need an option for updated existing","title":"Jackrabbit edit already created version node","body":"<p>We are using Jackrabbit to maintain repository file storage. Any changes in files, new version is created as expected.</p>\n<p>Eg. Test.xml</p>\n<pre><code>Version | Owner | Comment\n1.2     | cc    | sample 1\n1.1     | aa    | sample 2\n1.0     | bb    | sample 3\n</code></pre>\n<p>Want to edit owner detail of version 1.1 from aa to xx</p>\n<p>Try via java code, it is giving bellow error :</p>\n<pre><code>! javax.jcr.nodetype.ConstraintViolationException: Unable to perform operation. Node is protected.\n</code></pre>\n<p>As per different forum understood that once version is created it is frozen. But our requirement to update as part of GDPR complains. Any option to enable edit option for frozen version node. Other alternative solution helps.</p>\n<p>Plan to try below options</p>\n<p>Option 1 :</p>\n<ul>\n<li>Take copy of  1.1</li>\n<li>Delete 1.1</li>\n<li>Replace bb to xx in that copied version</li>\n<li>Add it back replaced content as 1.1 version</li>\n<li>Suspect Jackrabbit may not allow to create deleted version again</li>\n</ul>\n<p><strong>Update :</strong> Not working</p>\n<p>Option 2 :</p>\n<ul>\n<li>Take copy of  1.1</li>\n<li>Delete 1.1</li>\n<li>Replace bb to xx in that copied version and add it as 1.3</li>\n<li>Copy 1.2</li>\n<li>Added 1.2 as 1.4 to ensure previous latest version is current latest after changes</li>\n</ul>\n<pre><code>Version | Owner | Comment\n1.0     | aa    | sample 1   \n1.2     | cc    | sample 3\n1.3     | xx    | sample 2\n1.4     | cc    | sample 3\n</code></pre>\n<p><strong>Update :</strong> Working, but not a good solution, need an option for updated existing</p>\n"},{"tags":["java","selenium-webdriver","cucumber-junit","selenium4"],"comments":[{"owner":{"account_id":10404380,"reputation":2588,"user_id":7671727,"display_name":"AbiSaran"},"score":1,"creation_date":1676382746,"post_id":75448351,"comment_id":133122705,"body_markdown":"Post the code you&#39;ve tried so far.","body":"Post the code you&#39;ve tried so far."},{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1676384596,"post_id":75448351,"comment_id":133123328,"body_markdown":"Can you show us your `ConfigTestData` class ?","body":"Can you show us your <code>ConfigTestData</code> class ?"},{"owner":{"account_id":20620030,"reputation":31,"user_id":15137264,"display_name":"Sumit Soni"},"score":0,"creation_date":1676459556,"post_id":75448351,"comment_id":133139560,"body_markdown":"Hi, I have uploaded **ConfigTestData** code","body":"Hi, I have uploaded <b>ConfigTestData</b> code"}],"owner":{"account_id":20620030,"reputation":31,"user_id":15137264,"display_name":"Sumit Soni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676459562,"creation_date":1676380324,"question_id":75448351,"body_markdown":"There is a requirement where I have to add extension in browser before running scripts.\r\nFor that I decided to use Browser Options (EdgeOptions).Browser option is introduced in selenium 4.\r\n\r\nAll required dependencies I have already imported but now I am getting exception in PageFactory.initElements.\r\n\r\n- selenium-api-4.1.1\r\n- selenium-chrome-driver-4.1.1\r\n- selenium-chromium-driver-4.1.1\r\n- selenium-edge-driver-4.1.1\r\n- selenium-java-4.1.1\r\n- selenium-remote-driver-4.1.1\r\n- selenium-support-4.1.1\r\n\r\n**Do I have to add some other dependencies also?** \r\n\r\n\r\n    Message: cucumber.runtime.CucumberException: Failed to instantiate class com.proj.stepdefinitions.common.ConfigTestData\r\n\tat cucumber.runtime.java.DefaultJavaObjectFactory.cacheNewInstance(DefaultJavaObjectFactory.java:40)\r\n\tat cucumber.runtime.java.DefaultJavaObjectFactory.getInstance(DefaultJavaObjectFactory.java:26)\r\n\tat cucumber.runtime.java.JavaHookDefinition.execute(JavaHookDefinition.java:59)\r\n\tat cucumber.runtime.Runtime.runHookIfTagsMatch(Runtime.java:222)\r\n\tat cucumber.runtime.Runtime.runHooks(Runtime.java:210)\r\n\tat cucumber.runtime.Runtime.runBeforeHooks(Runtime.java:200)\r\n\tat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\r\n\tat cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:91)\r\n\tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\r\n\tat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\r\n\tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:93)\r\n\tat cucumber.api.junit.Cucumber.runChild(Cucumber.java:37)\r\n\tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n\tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n\tat cucumber.api.junit.Cucumber.run(Cucumber.java:98)\r\n\tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n\tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460)\r\n\tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206)\r\n    Caused by: java.lang.reflect.InvocationTargetException\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat cucumber.runtime.java.DefaultJavaObjectFactory.cacheNewInstance(DefaultJavaObjectFactory.java:34)\r\n    \t... 31 more\r\n        Caused by: java.lang.NoSuchMethodError: org.openqa.selenium.support.PageFactory.initElements(Lorg/openqa/selenium/WebDriver;Ljava/lang/Class;)Ljava/lang/Object;\r\n        \tat com.proj.stepdefinitions.common.ConfigTestData.&lt;init&gt;(ConfigTestData.java:115)\r\n        \t... 36 more\r\n\r\n\r\n**ConfigTestData code below :**\r\n```\r\nimport org.junit.Assert;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.support.PageFactory;\r\nimport cucumber.api.Scenario;\r\nimport cucumber.api.java.After;\r\nimport cucumber.api.java.Before;\r\nimport cucumber.api.java.en.Given;\r\n\r\nimport com.step.AfterScenarioScript; //project class\r\n\r\n\r\npublic class ConfigTestData {\r\n\t\r\n\t//some constants\r\n\t\r\n\tpublic static WebDriver driver = null;\r\n\r\n    //exception here\t\r\n    CommonMethods cm = PageFactory.initElements(driver, \r\n    CommonMethods.class);\r\n\r\n\tAfterScenarioScript afterScenarioScript = PageFactory.initElements(driver, AfterScenarioScript.class); \r\n\t\r\n\tprivate CreateFile file = PageFactory.initElements(driver, CreateFile.class);\r\n    \r\n\t@Before\r\n\tpublic void init(Scenario scenario) throws IOException {\r\n\t\tprop = Login.readPropertiesFile();\r\n\t\t\r\n\t\t\r\n\t\t//some code\r\n\t}\r\n\r\n\t \r\n\r\n\t@After\r\n\tpublic void afterScenario(Scenario scenario) throws Throwable {\r\n\t\t//some code\r\n\t}\r\n\t\r\n\t//some utility methods\r\n\t\r\n}\r\n```","title":"java.lang.NoSuchMethodError org.openqa.selenium.support.PageFactory.initElements - Selenium 4","body":"<p>There is a requirement where I have to add extension in browser before running scripts.\nFor that I decided to use Browser Options (EdgeOptions).Browser option is introduced in selenium 4.</p>\n<p>All required dependencies I have already imported but now I am getting exception in PageFactory.initElements.</p>\n<ul>\n<li>selenium-api-4.1.1</li>\n<li>selenium-chrome-driver-4.1.1</li>\n<li>selenium-chromium-driver-4.1.1</li>\n<li>selenium-edge-driver-4.1.1</li>\n<li>selenium-java-4.1.1</li>\n<li>selenium-remote-driver-4.1.1</li>\n<li>selenium-support-4.1.1</li>\n</ul>\n<p><strong>Do I have to add some other dependencies also?</strong></p>\n<pre><code>Message: cucumber.runtime.CucumberException: Failed to instantiate class com.proj.stepdefinitions.common.ConfigTestData\nat cucumber.runtime.java.DefaultJavaObjectFactory.cacheNewInstance(DefaultJavaObjectFactory.java:40)\nat cucumber.runtime.java.DefaultJavaObjectFactory.getInstance(DefaultJavaObjectFactory.java:26)\nat cucumber.runtime.java.JavaHookDefinition.execute(JavaHookDefinition.java:59)\nat cucumber.runtime.Runtime.runHookIfTagsMatch(Runtime.java:222)\nat cucumber.runtime.Runtime.runHooks(Runtime.java:210)\nat cucumber.runtime.Runtime.runBeforeHooks(Runtime.java:200)\nat cucumber.runtime.model.CucumberScenario.run(CucumberScenario.java:44)\nat cucumber.runtime.junit.ExecutionUnitRunner.run(ExecutionUnitRunner.java:91)\nat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:63)\nat cucumber.runtime.junit.FeatureRunner.runChild(FeatureRunner.java:18)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat cucumber.runtime.junit.FeatureRunner.run(FeatureRunner.java:70)\nat cucumber.api.junit.Cucumber.runChild(Cucumber.java:93)\nat cucumber.api.junit.Cucumber.runChild(Cucumber.java:37)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat cucumber.api.junit.Cucumber.run(Cucumber.java:98)\nat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\nat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:538)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:760)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:460)\nat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:206)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at cucumber.runtime.java.DefaultJavaObjectFactory.cacheNewInstance(DefaultJavaObjectFactory.java:34)\n    ... 31 more\n    Caused by: java.lang.NoSuchMethodError: org.openqa.selenium.support.PageFactory.initElements(Lorg/openqa/selenium/WebDriver;Ljava/lang/Class;)Ljava/lang/Object;\n        at com.proj.stepdefinitions.common.ConfigTestData.&lt;init&gt;(ConfigTestData.java:115)\n        ... 36 more\n</code></pre>\n<p><strong>ConfigTestData code below :</strong></p>\n<pre><code>import org.junit.Assert;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.PageFactory;\nimport cucumber.api.Scenario;\nimport cucumber.api.java.After;\nimport cucumber.api.java.Before;\nimport cucumber.api.java.en.Given;\n\nimport com.step.AfterScenarioScript; //project class\n\n\npublic class ConfigTestData {\n    \n    //some constants\n    \n    public static WebDriver driver = null;\n\n    //exception here    \n    CommonMethods cm = PageFactory.initElements(driver, \n    CommonMethods.class);\n\n    AfterScenarioScript afterScenarioScript = PageFactory.initElements(driver, AfterScenarioScript.class); \n    \n    private CreateFile file = PageFactory.initElements(driver, CreateFile.class);\n    \n    @Before\n    public void init(Scenario scenario) throws IOException {\n        prop = Login.readPropertiesFile();\n        \n        \n        //some code\n    }\n\n     \n\n    @After\n    public void afterScenario(Scenario scenario) throws Throwable {\n        //some code\n    }\n    \n    //some utility methods\n    \n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":3,"creation_date":1676456560,"post_id":75458073,"comment_id":133138752,"body_markdown":"Why are you replacing flatMap with map ? Your queryData() method returns a publisher (Mono). `map` is not adapted to this. With map, you create a Flux that contains assembled publishers. Assembling a publisher does not execute it. To execute it, you must subscribe to it. That&#39;s what flatMap (or concatMap) are designed for.","body":"Why are you replacing flatMap with map ? Your queryData() method returns a publisher (Mono). <code>map</code> is not adapted to this. With map, you create a Flux that contains assembled publishers. Assembling a publisher does not execute it. To execute it, you must subscribe to it. That&#39;s what flatMap (or concatMap) are designed for."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1676463242,"post_id":75458073,"comment_id":133140563,"body_markdown":"So easy explained, in this case `flatMap` returns a `Mono&lt;T&gt;` while the  `map` function will return a `Mono&lt;Mono&lt;T&gt;&gt;` and the `block` will only unwrap one mono.","body":"So easy explained, in this case <code>flatMap</code> returns a <code>Mono&lt;T&gt;</code> while the  <code>map</code> function will return a <code>Mono&lt;Mono&lt;T&gt;&gt;</code> and the <code>block</code> will only unwrap one mono."}],"answers":[{"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676459502,"creation_date":1676459502,"answer_id":75458919,"question_id":75458073,"body_markdown":"Reactive publishers like `Mono` and `Flux` are lazy. This means that they&#39;re not executed unless you subscribe to them. In both your `requestsAreSent()` and `requestsAreNotSent()` methods, you&#39;re only **subscribing to the outer publisher** by using the `block()` method.\r\n\r\nThe reason why your requests are sent within the `requestsAreSent()` method is because you use `flatMap()`. This operation flattens the inner publisher from `client.queryData()` into the outer publisher. This means that if you subscribe to the outer observable, you&#39;re also subscribed to the inner observables.\r\n\r\nIn your `requestsAreNotSent()` method on the other hand, the publishers aren&#39;t flattened, and because you only subscribe to the outer observable, the logic within `client.queryData()` isn&#39;t executed.\r\n\r\nFor example, if you subscribe to all those inner observables, the logic will be executed:\r\n\r\n```java\r\nList&lt;Mono&lt;List&lt;ResponseDto&gt;&gt;&gt; list = Flux.fromIterable(partition)\r\n    .map(client::queryData)\r\n    .collectList()\r\n    .block();\r\nlist.forEach(Mono::block); // Subscribing to the inner observables\r\n```\r\n\r\nHowever, this is a bad practice and you should keep using `flatMap()`.\r\n","title":"Migration from Flux.flatMap() to Flux.map() breaks execution","body":"<p>Reactive publishers like <code>Mono</code> and <code>Flux</code> are lazy. This means that they're not executed unless you subscribe to them. In both your <code>requestsAreSent()</code> and <code>requestsAreNotSent()</code> methods, you're only <strong>subscribing to the outer publisher</strong> by using the <code>block()</code> method.</p>\n<p>The reason why your requests are sent within the <code>requestsAreSent()</code> method is because you use <code>flatMap()</code>. This operation flattens the inner publisher from <code>client.queryData()</code> into the outer publisher. This means that if you subscribe to the outer observable, you're also subscribed to the inner observables.</p>\n<p>In your <code>requestsAreNotSent()</code> method on the other hand, the publishers aren't flattened, and because you only subscribe to the outer observable, the logic within <code>client.queryData()</code> isn't executed.</p>\n<p>For example, if you subscribe to all those inner observables, the logic will be executed:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Mono&lt;List&lt;ResponseDto&gt;&gt;&gt; list = Flux.fromIterable(partition)\n    .map(client::queryData)\n    .collectList()\n    .block();\nlist.forEach(Mono::block); // Subscribing to the inner observables\n</code></pre>\n<p>However, this is a bad practice and you should keep using <code>flatMap()</code>.</p>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75458919,"answer_count":1,"score":0,"last_activity_date":1676459502,"creation_date":1676455040,"question_id":75458073,"body_markdown":"I&#39;m starting to integrate Spring WebFlux into our project and have recently run into an issue regarding `Flux.flatMap()`. The following code summarizes it:\r\n```java\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class Client {\r\n\r\n    private final ParameterizedTypeReference&lt;List&lt;ResponseDto&gt;&gt; TYPE = new ParameterizedTypeReference&lt;&gt;() {\r\n    };\r\n\r\n    private final WebClient webClient;\r\n\r\n    public Mono&lt;List&lt;ResponseDto&gt;&gt; queryData(List&lt;RequestDto&gt; request) {\r\n        return webClient.post()\r\n                .uri(&quot;/api/query-data&quot;)\r\n                .bodyValue(request)\r\n                .retrieve()\r\n                .bodyToMono(TYPE);\r\n    }\r\n}\r\n\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\nclass DemoApplicationTest {\r\n    static final int COUNT = 1000_000;\r\n\r\n    @Autowired\r\n    private Client client;\r\n\r\n\r\n    @Test\r\n    void requestsAreSent() {\r\n        List&lt;RequestDto&gt; requests = getRequests();\r\n        List&lt;List&lt;RequestDto&gt;&gt; partition = Lists.partition(requests, 1000);\r\n        Flux.fromIterable(partition)\r\n                .flatMap(client::queryData)\r\n                .collectList()\r\n                .block();\r\n    }\r\n\r\n    @Test\r\n    void requestsAreNotSent() {\r\n        List&lt;RequestDto&gt; requests = getRequests();\r\n        List&lt;List&lt;RequestDto&gt;&gt; partition = Lists.partition(requests, 1000);\r\n        Flux.fromIterable(partition)\r\n                .map(client::queryData)\r\n                .collectList()\r\n                .block();\r\n    }\r\n\r\n    private static List&lt;RequestDto&gt; getRequests() {\r\n        return IntStream.range(0, COUNT)\r\n                .boxed()\r\n                .map(operand -&gt; RequestDto.builder().build())\r\n                .collect(Collectors.toList());\r\n    }\r\n}\r\n```\r\n\r\nIf I use `Flux.flatMap()` I see that my test sends requests to webserver, but if instead I use `Flux.map()` no request are sent.\r\n\r\nCould one explain this behavior? Is it something inherent or I misconfigured anything?","title":"Migration from Flux.flatMap() to Flux.map() breaks execution","body":"<p>I'm starting to integrate Spring WebFlux into our project and have recently run into an issue regarding <code>Flux.flatMap()</code>. The following code summarizes it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@RequiredArgsConstructor\npublic class Client {\n\n    private final ParameterizedTypeReference&lt;List&lt;ResponseDto&gt;&gt; TYPE = new ParameterizedTypeReference&lt;&gt;() {\n    };\n\n    private final WebClient webClient;\n\n    public Mono&lt;List&lt;ResponseDto&gt;&gt; queryData(List&lt;RequestDto&gt; request) {\n        return webClient.post()\n                .uri(&quot;/api/query-data&quot;)\n                .bodyValue(request)\n                .retrieve()\n                .bodyToMono(TYPE);\n    }\n}\n\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\nclass DemoApplicationTest {\n    static final int COUNT = 1000_000;\n\n    @Autowired\n    private Client client;\n\n\n    @Test\n    void requestsAreSent() {\n        List&lt;RequestDto&gt; requests = getRequests();\n        List&lt;List&lt;RequestDto&gt;&gt; partition = Lists.partition(requests, 1000);\n        Flux.fromIterable(partition)\n                .flatMap(client::queryData)\n                .collectList()\n                .block();\n    }\n\n    @Test\n    void requestsAreNotSent() {\n        List&lt;RequestDto&gt; requests = getRequests();\n        List&lt;List&lt;RequestDto&gt;&gt; partition = Lists.partition(requests, 1000);\n        Flux.fromIterable(partition)\n                .map(client::queryData)\n                .collectList()\n                .block();\n    }\n\n    private static List&lt;RequestDto&gt; getRequests() {\n        return IntStream.range(0, COUNT)\n                .boxed()\n                .map(operand -&gt; RequestDto.builder().build())\n                .collect(Collectors.toList());\n    }\n}\n</code></pre>\n<p>If I use <code>Flux.flatMap()</code> I see that my test sends requests to webserver, but if instead I use <code>Flux.map()</code> no request are sent.</p>\n<p>Could one explain this behavior? Is it something inherent or I misconfigured anything?</p>\n"},{"tags":["java","spring","api"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676457945,"post_id":75458583,"comment_id":133139110,"body_markdown":"It&#39;s a contract. You say, &quot;do this and you can add a student&quot; &quot;do this and you can update a student&quot; etc. Then when you or somebody else writes a client. They can look at your API and know what they need to do.","body":"It&#39;s a contract. You say, &quot;do this and you can add a student&quot; &quot;do this and you can update a student&quot; etc. Then when you or somebody else writes a client. They can look at your API and know what they need to do."},{"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"score":0,"creation_date":1676458168,"post_id":75458583,"comment_id":133139155,"body_markdown":"Here in a class if I write something like\n\n@PostMapping(&quot;/users&quot;)\n\tpublic ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user)\n\t{\n\t\tUser savedUser=userDaoService.saveTheUser(user);\n\t\tURI location=ServletUriComponentsBuilder.fromCurrentRequest().path(&quot;/{id}&quot;).buildAndExpand(savedUser.getId()).toUri();\n\t\t\n\t\treturn ResponseEntity.created(location).build();\n\t}\nThen is it an api?","body":"Here in a class if I write something like  @PostMapping(&quot;/users&quot;) \tpublic ResponseEntity&lt;User&gt; createUser(@Valid @RequestBody User user) \t{ \t\tUser savedUser=userDaoService.saveTheUser(user); \t\tURI location=ServletUriComponentsBuilder.fromCurrentRequest().pa&zwnj;&#8203;th(&quot;/{id}&quot;).buildAnd&zwnj;&#8203;Expand(savedUser.get&zwnj;&#8203;Id()).toUri(); \t\t \t\treturn ResponseEntity.created(location).build(); \t} Then is it an api?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676458508,"post_id":75458583,"comment_id":133139249,"body_markdown":"It could be considered a pretty bad API, but sure. You&#39;ve created an endpoint that somebody can access by using a post method. An API should be descriptive to the user/consumer. eg &quot;Create users by making a POST request with the following attributes.&quot; the term refers to the collection of actions you can do. Like the java API, you know you can write java code and expect a certain action to happen. The javadocs define the API. You don&#39;t need to know what happens behind the scenes.","body":"It could be considered a pretty bad API, but sure. You&#39;ve created an endpoint that somebody can access by using a post method. An API should be descriptive to the user/consumer. eg &quot;Create users by making a POST request with the following attributes.&quot; the term refers to the collection of actions you can do. Like the java API, you know you can write java code and expect a certain action to happen. The javadocs define the API. You don&#39;t need to know what happens behind the scenes."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676458757,"post_id":75458583,"comment_id":133139321,"body_markdown":"Like the online shopping. Paypal has an API, you read their documentation to learn how you can access their webservices to perform actions. &quot;How can I accept money to pay for my service.&quot;. Then you find the tools that Paypal has made available. &quot;Action: Send a post request here with these attributes to setup a payment. Response: You get a transaction code for when the user returns to your site.&quot;","body":"Like the online shopping. Paypal has an API, you read their documentation to learn how you can access their webservices to perform actions. &quot;How can I accept money to pay for my service.&quot;. Then you find the tools that Paypal has made available. &quot;Action: Send a post request here with these attributes to setup a payment. Response: You get a transaction code for when the user returns to your site.&quot;"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1676458848,"post_id":75458583,"comment_id":133139340,"body_markdown":"*I tried going through- What exactly is the meaning of an API?* Yes, and what are you then still missing? It seems to me that there are good explanations there. And also examples.","body":"<i>I tried going through- What exactly is the meaning of an API?</i> Yes, and what are you then still missing? It seems to me that there are good explanations there. And also examples."},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676458954,"post_id":75458583,"comment_id":133139370,"body_markdown":"To continue paypal example. You might say, &quot;Why am I writing http requests in java, this is cumbersom?&quot; So you would then ask, &quot;Does paypal have a java api&quot; so you can just write code in java without worrying about get/post etc.","body":"To continue paypal example. You might say, &quot;Why am I writing http requests in java, this is cumbersom?&quot; So you would then ask, &quot;Does paypal have a java api&quot; so you can just write code in java without worrying about get/post etc."}],"answers":[{"tags":[],"owner":{"account_id":4264716,"reputation":1243,"user_id":3488090,"accept_rate":75,"display_name":"Lalit Mehra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676458873,"creation_date":1676458873,"answer_id":75458809,"question_id":75458583,"body_markdown":"API stands for Application Programming Interface. Let&#39;s understand it in layman terms.\r\n\r\nInterface tells us how to establish the connection (think in terms of request parameters, URI etc). Application in API stands for the application this API will allow communication with and Programming means that you need to use computer programs.\r\n\r\nIt is like an address with instructions. URI is the address and HTTP verb, request parameters etc. are the instructions.\r\n\r\nNow to your other question. What does it mean when there&#39;s only one application involved. Well it means that you can connect to that application using this API, if ever you have to. It doesn&#39;t mandate you to connect to it. After all, there&#39;s no point in creating an application with no endpoints for the users to connect to that application and use it.\r\n\r\n","title":"What is an Api?","body":"<p>API stands for Application Programming Interface. Let's understand it in layman terms.</p>\n<p>Interface tells us how to establish the connection (think in terms of request parameters, URI etc). Application in API stands for the application this API will allow communication with and Programming means that you need to use computer programs.</p>\n<p>It is like an address with instructions. URI is the address and HTTP verb, request parameters etc. are the instructions.</p>\n<p>Now to your other question. What does it mean when there's only one application involved. Well it means that you can connect to that application using this API, if ever you have to. It doesn't mandate you to connect to it. After all, there's no point in creating an application with no endpoints for the users to connect to that application and use it.</p>\n"},{"tags":[],"owner":{"account_id":10377027,"reputation":104,"user_id":7652949,"display_name":"mbyou"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676459461,"creation_date":1676459461,"answer_id":75458915,"question_id":75458583,"body_markdown":"API is a Web Service.\r\n\r\nExample : Here is an API that gives you the list of cities in France by Zip code (in my example it is 79000, you can switch to see other results)\r\n\r\nhttps://geo.api.gouv.fr/communes?codePostal=79000\r\n\r\nTo fully understand API, look this image\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6u2XQ.jpg","title":"What is an Api?","body":"<p>API is a Web Service.</p>\n<p>Example : Here is an API that gives you the list of cities in France by Zip code (in my example it is 79000, you can switch to see other results)</p>\n<p><a href=\"https://geo.api.gouv.fr/communes?codePostal=79000\" rel=\"nofollow noreferrer\">https://geo.api.gouv.fr/communes?codePostal=79000</a></p>\n<p>To fully understand API, look this image</p>\n<p><a href=\"https://i.stack.imgur.com/6u2XQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6u2XQ.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27094406,"reputation":23,"user_id":21064700,"display_name":"Alok Kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1676465482,"answer_count":2,"score":-4,"last_activity_date":1676459461,"creation_date":1676457804,"question_id":75458583,"body_markdown":"What is an Api - here can you give an example. I heard that an api is used to communicate between two Applications. But ifwe have only one application then?\r\n\r\n\r\nWhen I referred to stackoverflow for what is an Api?- I got an information that an api helps a program to communicate with another program. There was an example - In online shopping website we provide credit card details and thus Online shopping is communicating with Credit card company using an API.\r\n\r\nI understood this example. But whenever someone speaks about an API in a single App I confuse. Confusion is if app is single then to whom will it communicate to ?(In online shopping app it was communicating to a credit card app).\r\nLet&#39;s say I have a basic CRUD application(where we can Add student, update, retrieve and delete the student). Will it be an API? If yes then where?\r\n\r\nI tried going through- https://stackoverflow.com/questions/7440379/what-exactly-is-the-meaning-of-an-api\r\n","title":"What is an Api?","body":"<p>What is an Api - here can you give an example. I heard that an api is used to communicate between two Applications. But ifwe have only one application then?</p>\n<p>When I referred to stackoverflow for what is an Api?- I got an information that an api helps a program to communicate with another program. There was an example - In online shopping website we provide credit card details and thus Online shopping is communicating with Credit card company using an API.</p>\n<p>I understood this example. But whenever someone speaks about an API in a single App I confuse. Confusion is if app is single then to whom will it communicate to ?(In online shopping app it was communicating to a credit card app).\nLet's say I have a basic CRUD application(where we can Add student, update, retrieve and delete the student). Will it be an API? If yes then where?</p>\n<p>I tried going through- <a href=\"https://stackoverflow.com/questions/7440379/what-exactly-is-the-meaning-of-an-api\">What exactly is the meaning of an API?</a></p>\n"},{"tags":["java","android-studio","runtime-error"],"owner":{"account_id":21153752,"reputation":1,"user_id":15553481,"display_name":"Zerosay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676459430,"creation_date":1676459430,"question_id":75458907,"body_markdown":"My App Crashes and i cant find the error, logcat telling me the error is in imageview class, i cant use debugger/breakpoints because then the error doesent occure. It must be a timing problem but i dont know how to find out which line causes the error. \r\nThe same code runnes perfectly fine for some time doing the same things over and over again and then at a random ammount of time is crashes with this error.  \r\n\r\nThe Error: \r\n```\r\n2023-02-15 11:55:27.465 19180-19180/com.example.ultraschall_sensor E/raschall_senso: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\r\n    \r\n    --------- beginning of crash\r\n2023-02-15 11:55:27.479 19180-19180/com.example.ultraschall_sensor E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.ultraschall_sensor, PID: 19180\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.graphics.drawable.Drawable.draw(android.graphics.Canvas)&#39; on a null object reference\r\n        at android.widget.ImageView.onDraw(ImageView.java:1459)\r\n        at android.view.View.draw(View.java:20483)\r\n        at android.view.View.updateDisplayListIfDirty(View.java:19294)\r\n```\r\n\r\nThe relevant Code: \r\n\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private BluetoothDevice mDevice;\r\n    private BluetoothSocket mSocket;\r\n    private InputStream mInputStream;\r\n    private OutputStream mOutputStream;\r\n    private TextView mTextView;\r\n    private ImageView imageView;\r\n    private Button mButton;\r\n    private Button mButton2;\r\n    private EditText editText;\r\n    Bitmap dotmap;\r\n\r\n    String[] wordArray = new String[4000];\r\n    String incomingMessage = &quot;&quot;;\r\n    String newIncomingMessage= &quot;&quot;;\r\n    int counter=0;\r\n    int wordCounter=0;\r\n    int[] winkel=new int [200];\r\n    int[][] punktPosition=new int[400][2];\r\n    boolean[] blackdots=new boolean[400];\r\n    int winkelCounter0=0;\r\n    int winkelCounter1=0;\r\n    int winkelCounter2=0;\r\n    int punktPositionCounter1=0;\r\n    int punktPositionCounter2=179;\r\n    double maximaleReichweite;\r\n\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mTextView = findViewById(R.id.textView);\r\n        imageView = findViewById(R.id.imageView);\r\n        mButton = findViewById(R.id.button);\r\n        mButton2 = findViewById(R.id.button2);\r\n        editText = findViewById(R.id.number_input);\r\n        checkBluetoothConnectPermission();\r\n        checkBluetoothScanPermission();\r\n        checkAccessCoarsePermission();\r\n        getBondedDevice();\r\n        try {\r\n            connectToDevice();\r\n        } catch (IOException e) {\r\n            e.getStackTrace()[0].getLineNumber();\r\n\r\n        }\r\n\r\n        Bitmap bitmap = Bitmap.createBitmap(380,380 , Bitmap.Config.ARGB_8888);\r\n        imageView.setImageBitmap(bitmap);\r\n        dotmap =  ((BitmapDrawable)imageView.getDrawable()).getBitmap();\r\n\r\n\r\n        // Send data button click listener\r\n        mButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                maximaleReichweite=Integer.parseInt(editText.getText().toString());\r\n                String data = &quot;Start Scan&quot;;\r\n                sendData(data);\r\n\r\n            }\r\n        });\r\n\r\n\r\n        // Receive data thread\r\n        new Thread(new Runnable() {\r\n            public void run() {\r\n                while (true) {\r\n\r\n                        prozessData();\r\n\r\n                }\r\n            }\r\n        }).start();\r\n\r\n\r\n\r\n    private void drawScanLines ( int winkel) {\r\n\r\n        winkel = -winkel - 2;\r\n        int XstartPos = 190;\r\n        int YstartPos = 190;\r\n\r\n        Bitmap drawmap = ((BitmapDrawable) imageView.getDrawable()).getBitmap();\r\n        if (drawmap != null) {\r\n            Canvas canvas = new Canvas(drawmap);\r\n\r\n            Paint paintYellow = new Paint();\r\n            paintYellow.setStrokeWidth(1);\r\n            paintYellow.setColor(Color.YELLOW);\r\n\r\n            Paint paintWhite = new Paint();\r\n            paintWhite.setStrokeWidth(1);\r\n            paintWhite.setColor(Color.WHITE);\r\n\r\n            Paint paintBlue = new Paint();\r\n            paintBlue.setStrokeWidth(1);\r\n            paintBlue.setColor(Color.BLUE);\r\n\r\n            winkel = winkel - 90;\r\n            int XEndPos = 1;\r\n            int YEndPos = 1;\r\n\r\n            int distance = 1;\r\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                distance++;\r\n                XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel + 1)));\r\n                YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel + 1)));\r\n            }\r\n            canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintWhite);\r\n\r\n\r\n            XEndPos = 1;\r\n            YEndPos = 1;\r\n\r\n            distance = 1;\r\n            if (winkelCounter0 != 0) {\r\n                while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                    distance++;\r\n                    XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel)));\r\n                    YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel)));\r\n                }\r\n\r\n                canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintYellow);\r\n            }\r\n\r\n\r\n            winkel = winkel - 180;\r\n            XEndPos = 1;\r\n            YEndPos = 1;\r\n\r\n            distance = 1;\r\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                distance++;\r\n                XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel + 1)));\r\n                YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel + 1)));\r\n            }\r\n            canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintWhite);\r\n\r\n            XEndPos = 1;\r\n            YEndPos = 1;\r\n\r\n            if (winkelCounter0 != 0) {\r\n                distance = 1;\r\n                while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                    distance++;\r\n                    XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel)));\r\n                    YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel)));\r\n                }\r\n\r\n                canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintYellow);\r\n            }\r\n\r\n            canvas.drawCircle(XstartPos, YstartPos, 3, paintBlue);\r\n\r\n            imageView.setImageBitmap(drawmap);\r\n\r\n\r\n        }\r\n    }\r\n\r\n    private int[] drawDotsSensor2 ( int winkel, int abstand)\r\n    {\r\n        winkel=-winkel-90;\r\n        int XstartPos=190;\r\n        int YstartPos=190;\r\n        int XEndPos;\r\n        int YEndPos;\r\n\r\n        Canvas canvas = new Canvas(dotmap);\r\n\r\n        Paint paintBlack = new Paint();\r\n        paintBlack.setStrokeWidth(3);\r\n        paintBlack.setColor(Color.BLACK);\r\n\r\n        Paint paintRed = new Paint();\r\n        paintRed.setStrokeWidth(3);\r\n        paintRed.setColor(Color.RED);\r\n\r\n        if((XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp; (XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0)\r\n\r\n        {\r\n            int a =(int)((abstand * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n            int b =(int)((abstand * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n            XEndPos=XstartPos+a;\r\n            YEndPos=YstartPos+b;\r\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintBlack);\r\n\r\n\r\n        }\r\n        else {\r\n            XEndPos=1;\r\n            YEndPos=1;\r\n            int distance = 1;\r\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                distance++;\r\n                int a =(int)((distance * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n                int b =(int)((distance * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n                XEndPos=XstartPos+a;\r\n                YEndPos=YstartPos+b;\r\n            }\r\n\r\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintRed);\r\n\r\n        }\r\n\r\n        imageView.setImageBitmap( overlay( ((BitmapDrawable)imageView.getDrawable()).getBitmap(),dotmap) );\r\n        int[] dotsPosition=new int[2];\r\n        dotsPosition[0]=XEndPos;\r\n        dotsPosition[1]=YEndPos;\r\n\r\n        return dotsPosition;\r\n\r\n\r\n    }\r\n\r\n    private int[] drawDotsSensor1 ( int winkel, int abstand)\r\n    {\r\n        winkel=-winkel-270;\r\n        int XstartPos=190;\r\n        int YstartPos=190;\r\n        int XEndPos;\r\n        int YEndPos;\r\n\r\n\r\n\r\n        Log.d(&quot;TAG&quot;, &quot;Sensor 1:&quot;);\r\n        Canvas canvas = new Canvas(dotmap);\r\n        Log.d(&quot;TAG&quot;, &quot;Sensor 2:&quot;);\r\n\r\n        Paint paintBlack = new Paint();\r\n        paintBlack.setStrokeWidth(3);\r\n        paintBlack.setColor(Color.BLACK);\r\n\r\n        Paint paintRed = new Paint();\r\n        paintRed.setStrokeWidth(3);\r\n        paintRed.setColor(Color.RED);\r\n\r\n        if((XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp; (XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0)\r\n\r\n        {\r\n            int a =(int)((abstand * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n            int b =(int)((abstand * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n            XEndPos=XstartPos+a;\r\n            YEndPos=YstartPos+b;\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 3:&quot;);\r\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintBlack);\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 4:&quot;);\r\n\r\n\r\n        }\r\n        else {\r\n            XEndPos=1;\r\n            YEndPos=1;\r\n            int distance = 1;\r\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\r\n                distance++;\r\n                int a =(int)((distance * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n                int b =(int)((distance * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\r\n                XEndPos=XstartPos+a;\r\n                YEndPos=YstartPos+b;\r\n            }\r\n\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 5:&quot;);\r\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintRed);\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 6:&quot;);\r\n\r\n        }\r\n\r\n        Log.d(&quot;TAG&quot;, &quot;Sensor 7:&quot;);\r\n        imageView.setImageBitmap( overlay( ((BitmapDrawable)imageView.getDrawable()).getBitmap(),dotmap) );\r\n        Log.d(&quot;TAG&quot;, &quot;Sensor 8:&quot;);\r\n        int[] dotsPosition=new int[2];\r\n        dotsPosition[0]=XEndPos;\r\n        dotsPosition[1]=YEndPos;\r\n\r\n        return dotsPosition;\r\n\r\n\r\n    }\r\n\r\n    public void prozessData()\r\n    {\r\n        if(wordArray[wordCounter]!=null){\r\n        if(wordArray[wordCounter].equals(&quot;Winkel:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\r\n        {\r\n            Log.d(&quot;TAG&quot;, &quot;kein Sensor:&quot;);\r\n\r\n            drawScanLines(Integer.valueOf(wordArray[wordCounter+1]));\r\n            winkel[winkelCounter0]=Integer.valueOf(wordArray[wordCounter+1]);\r\n            wordCounter++;\r\n            wordCounter++;\r\n            winkelCounter0++;\r\n        }}\r\n        if(wordArray[wordCounter]!=null){\r\n        if(wordArray[wordCounter].equals(&quot;Sensor_Eins:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\r\n        {\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 1:&quot;);\r\n            Log.d(&quot;TAG&quot;, wordArray[wordCounter+1]);\r\n            punktPosition[punktPositionCounter1]=drawDotsSensor1(winkel[winkelCounter1],Integer.valueOf(wordArray[wordCounter+1]));\r\n            wordCounter++;\r\n            wordCounter++;\r\n            winkelCounter1++;\r\n            punktPositionCounter1++;\r\n            Log.d(&quot;TAG&quot;, &quot;aaaaaa&quot;);\r\n        }}\r\n        if(wordArray[wordCounter]!=null){\r\n        if(wordArray[wordCounter].equals(&quot;Sensor_Zwei:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\r\n        {\r\n            Log.d(&quot;TAG&quot;, &quot;Sensor 2:&quot;);\r\n            Log.d(&quot;TAG&quot;, wordArray[wordCounter+1]);\r\n            punktPosition[punktPositionCounter2]=drawDotsSensor2(winkel[winkelCounter2],Integer.valueOf(wordArray[wordCounter+1]));\r\n            wordCounter++;\r\n            wordCounter++;\r\n            winkelCounter2++;\r\n            punktPositionCounter2++;\r\n        }}\r\n    }\r\n\r\n    private Bitmap overlay(Bitmap bmp1, Bitmap bmp2) {\r\n        // Tempr&#228;re Bitmap wird aus Ma&#223;e der ersten &#252;bergeben Bitmap erstellt\r\n        Bitmap bmOverlay = Bitmap.createBitmap(bmp1.getWidth(), bmp1.getHeight(), bmp1.getConfig());\r\n        // Neuer Kontainer wird aus tempor&#228;rer Bitmap erstellt\r\n        Canvas canvas = new Canvas(bmOverlay);\r\n        // Erste Bitmap wird in den Kontainer geschrieben\r\n        canvas.drawBitmap(bmp1, new Matrix(), null);\r\n        // Zweite Bitmap wird in den Kontainer geschrieben\r\n        canvas.drawBitmap(bmp2, new Matrix(), null);\r\n        return bmOverlay;\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\n\r\nI tried: \r\n\r\nDubugger/Breakpoints -&gt; Error stops occuring\r\n\r\nPrint to Log -&gt; Error occures at random point in code and at a random time  ","title":"Android Studio App crashes without telling me the line of error in my Code; Error in Imageview class","body":"<p>My App Crashes and i cant find the error, logcat telling me the error is in imageview class, i cant use debugger/breakpoints because then the error doesent occure. It must be a timing problem but i dont know how to find out which line causes the error.\nThe same code runnes perfectly fine for some time doing the same things over and over again and then at a random ammount of time is crashes with this error.</p>\n<p>The Error:</p>\n<pre><code>2023-02-15 11:55:27.465 19180-19180/com.example.ultraschall_sensor E/raschall_senso: [qarth_debug:]  get PatchStore::createDisableExceptionQarthFile method fail.\n    \n    --------- beginning of crash\n2023-02-15 11:55:27.479 19180-19180/com.example.ultraschall_sensor E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.ultraschall_sensor, PID: 19180\n    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.graphics.drawable.Drawable.draw(android.graphics.Canvas)' on a null object reference\n        at android.widget.ImageView.onDraw(ImageView.java:1459)\n        at android.view.View.draw(View.java:20483)\n        at android.view.View.updateDisplayListIfDirty(View.java:19294)\n</code></pre>\n<p>The relevant Code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private BluetoothDevice mDevice;\n    private BluetoothSocket mSocket;\n    private InputStream mInputStream;\n    private OutputStream mOutputStream;\n    private TextView mTextView;\n    private ImageView imageView;\n    private Button mButton;\n    private Button mButton2;\n    private EditText editText;\n    Bitmap dotmap;\n\n    String[] wordArray = new String[4000];\n    String incomingMessage = &quot;&quot;;\n    String newIncomingMessage= &quot;&quot;;\n    int counter=0;\n    int wordCounter=0;\n    int[] winkel=new int [200];\n    int[][] punktPosition=new int[400][2];\n    boolean[] blackdots=new boolean[400];\n    int winkelCounter0=0;\n    int winkelCounter1=0;\n    int winkelCounter2=0;\n    int punktPositionCounter1=0;\n    int punktPositionCounter2=179;\n    double maximaleReichweite;\n\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mTextView = findViewById(R.id.textView);\n        imageView = findViewById(R.id.imageView);\n        mButton = findViewById(R.id.button);\n        mButton2 = findViewById(R.id.button2);\n        editText = findViewById(R.id.number_input);\n        checkBluetoothConnectPermission();\n        checkBluetoothScanPermission();\n        checkAccessCoarsePermission();\n        getBondedDevice();\n        try {\n            connectToDevice();\n        } catch (IOException e) {\n            e.getStackTrace()[0].getLineNumber();\n\n        }\n\n        Bitmap bitmap = Bitmap.createBitmap(380,380 , Bitmap.Config.ARGB_8888);\n        imageView.setImageBitmap(bitmap);\n        dotmap =  ((BitmapDrawable)imageView.getDrawable()).getBitmap();\n\n\n        // Send data button click listener\n        mButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                maximaleReichweite=Integer.parseInt(editText.getText().toString());\n                String data = &quot;Start Scan&quot;;\n                sendData(data);\n\n            }\n        });\n\n\n        // Receive data thread\n        new Thread(new Runnable() {\n            public void run() {\n                while (true) {\n\n                        prozessData();\n\n                }\n            }\n        }).start();\n\n\n\n    private void drawScanLines ( int winkel) {\n\n        winkel = -winkel - 2;\n        int XstartPos = 190;\n        int YstartPos = 190;\n\n        Bitmap drawmap = ((BitmapDrawable) imageView.getDrawable()).getBitmap();\n        if (drawmap != null) {\n            Canvas canvas = new Canvas(drawmap);\n\n            Paint paintYellow = new Paint();\n            paintYellow.setStrokeWidth(1);\n            paintYellow.setColor(Color.YELLOW);\n\n            Paint paintWhite = new Paint();\n            paintWhite.setStrokeWidth(1);\n            paintWhite.setColor(Color.WHITE);\n\n            Paint paintBlue = new Paint();\n            paintBlue.setStrokeWidth(1);\n            paintBlue.setColor(Color.BLUE);\n\n            winkel = winkel - 90;\n            int XEndPos = 1;\n            int YEndPos = 1;\n\n            int distance = 1;\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                distance++;\n                XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel + 1)));\n                YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel + 1)));\n            }\n            canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintWhite);\n\n\n            XEndPos = 1;\n            YEndPos = 1;\n\n            distance = 1;\n            if (winkelCounter0 != 0) {\n                while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                    distance++;\n                    XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel)));\n                    YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel)));\n                }\n\n                canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintYellow);\n            }\n\n\n            winkel = winkel - 180;\n            XEndPos = 1;\n            YEndPos = 1;\n\n            distance = 1;\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                distance++;\n                XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel + 1)));\n                YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel + 1)));\n            }\n            canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintWhite);\n\n            XEndPos = 1;\n            YEndPos = 1;\n\n            if (winkelCounter0 != 0) {\n                distance = 1;\n                while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                    distance++;\n                    XEndPos = XstartPos + (int) (distance * Math.cos(Math.toRadians(winkel)));\n                    YEndPos = YstartPos + (int) (distance * Math.sin(Math.toRadians(winkel)));\n                }\n\n                canvas.drawLine(XstartPos, YstartPos, XEndPos, YEndPos, paintYellow);\n            }\n\n            canvas.drawCircle(XstartPos, YstartPos, 3, paintBlue);\n\n            imageView.setImageBitmap(drawmap);\n\n\n        }\n    }\n\n    private int[] drawDotsSensor2 ( int winkel, int abstand)\n    {\n        winkel=-winkel-90;\n        int XstartPos=190;\n        int YstartPos=190;\n        int XEndPos;\n        int YEndPos;\n\n        Canvas canvas = new Canvas(dotmap);\n\n        Paint paintBlack = new Paint();\n        paintBlack.setStrokeWidth(3);\n        paintBlack.setColor(Color.BLACK);\n\n        Paint paintRed = new Paint();\n        paintRed.setStrokeWidth(3);\n        paintRed.setColor(Color.RED);\n\n        if((XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp; (XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0)\n\n        {\n            int a =(int)((abstand * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\n            int b =(int)((abstand * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\n            XEndPos=XstartPos+a;\n            YEndPos=YstartPos+b;\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintBlack);\n\n\n        }\n        else {\n            XEndPos=1;\n            YEndPos=1;\n            int distance = 1;\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                distance++;\n                int a =(int)((distance * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\n                int b =(int)((distance * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\n                XEndPos=XstartPos+a;\n                YEndPos=YstartPos+b;\n            }\n\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintRed);\n\n        }\n\n        imageView.setImageBitmap( overlay( ((BitmapDrawable)imageView.getDrawable()).getBitmap(),dotmap) );\n        int[] dotsPosition=new int[2];\n        dotsPosition[0]=XEndPos;\n        dotsPosition[1]=YEndPos;\n\n        return dotsPosition;\n\n\n    }\n\n    private int[] drawDotsSensor1 ( int winkel, int abstand)\n    {\n        winkel=-winkel-270;\n        int XstartPos=190;\n        int YstartPos=190;\n        int XEndPos;\n        int YEndPos;\n\n\n\n        Log.d(&quot;TAG&quot;, &quot;Sensor 1:&quot;);\n        Canvas canvas = new Canvas(dotmap);\n        Log.d(&quot;TAG&quot;, &quot;Sensor 2:&quot;);\n\n        Paint paintBlack = new Paint();\n        paintBlack.setStrokeWidth(3);\n        paintBlack.setColor(Color.BLACK);\n\n        Paint paintRed = new Paint();\n        paintRed.setStrokeWidth(3);\n        paintRed.setColor(Color.RED);\n\n        if((XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp; (XstartPos+(int)((abstand * Math.cos(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&lt;380 &amp;&amp;  (YstartPos+(int)((abstand * Math.sin(Math.toRadians(winkel))))/(maximaleReichweite/190))&gt;0)\n\n        {\n            int a =(int)((abstand * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\n            int b =(int)((abstand * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\n            XEndPos=XstartPos+a;\n            YEndPos=YstartPos+b;\n            Log.d(&quot;TAG&quot;, &quot;Sensor 3:&quot;);\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintBlack);\n            Log.d(&quot;TAG&quot;, &quot;Sensor 4:&quot;);\n\n\n        }\n        else {\n            XEndPos=1;\n            YEndPos=1;\n            int distance = 1;\n            while (XEndPos &lt; 380 &amp;&amp; YEndPos &lt; 380 &amp;&amp; XEndPos &gt; 0 &amp;&amp; YEndPos &gt; 0) {\n                distance++;\n                int a =(int)((distance * Math.cos(Math.toRadians(winkel)))/(maximaleReichweite/190));\n                int b =(int)((distance * Math.sin(Math.toRadians(winkel)))/(maximaleReichweite/190));\n                XEndPos=XstartPos+a;\n                YEndPos=YstartPos+b;\n            }\n\n            Log.d(&quot;TAG&quot;, &quot;Sensor 5:&quot;);\n            canvas.drawCircle (XEndPos, YEndPos, 1, paintRed);\n            Log.d(&quot;TAG&quot;, &quot;Sensor 6:&quot;);\n\n        }\n\n        Log.d(&quot;TAG&quot;, &quot;Sensor 7:&quot;);\n        imageView.setImageBitmap( overlay( ((BitmapDrawable)imageView.getDrawable()).getBitmap(),dotmap) );\n        Log.d(&quot;TAG&quot;, &quot;Sensor 8:&quot;);\n        int[] dotsPosition=new int[2];\n        dotsPosition[0]=XEndPos;\n        dotsPosition[1]=YEndPos;\n\n        return dotsPosition;\n\n\n    }\n\n    public void prozessData()\n    {\n        if(wordArray[wordCounter]!=null){\n        if(wordArray[wordCounter].equals(&quot;Winkel:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\n        {\n            Log.d(&quot;TAG&quot;, &quot;kein Sensor:&quot;);\n\n            drawScanLines(Integer.valueOf(wordArray[wordCounter+1]));\n            winkel[winkelCounter0]=Integer.valueOf(wordArray[wordCounter+1]);\n            wordCounter++;\n            wordCounter++;\n            winkelCounter0++;\n        }}\n        if(wordArray[wordCounter]!=null){\n        if(wordArray[wordCounter].equals(&quot;Sensor_Eins:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\n        {\n            Log.d(&quot;TAG&quot;, &quot;Sensor 1:&quot;);\n            Log.d(&quot;TAG&quot;, wordArray[wordCounter+1]);\n            punktPosition[punktPositionCounter1]=drawDotsSensor1(winkel[winkelCounter1],Integer.valueOf(wordArray[wordCounter+1]));\n            wordCounter++;\n            wordCounter++;\n            winkelCounter1++;\n            punktPositionCounter1++;\n            Log.d(&quot;TAG&quot;, &quot;aaaaaa&quot;);\n        }}\n        if(wordArray[wordCounter]!=null){\n        if(wordArray[wordCounter].equals(&quot;Sensor_Zwei:&quot;) &amp;&amp; wordArray[wordCounter+1]!=null)\n        {\n            Log.d(&quot;TAG&quot;, &quot;Sensor 2:&quot;);\n            Log.d(&quot;TAG&quot;, wordArray[wordCounter+1]);\n            punktPosition[punktPositionCounter2]=drawDotsSensor2(winkel[winkelCounter2],Integer.valueOf(wordArray[wordCounter+1]));\n            wordCounter++;\n            wordCounter++;\n            winkelCounter2++;\n            punktPositionCounter2++;\n        }}\n    }\n\n    private Bitmap overlay(Bitmap bmp1, Bitmap bmp2) {\n        // Tempräre Bitmap wird aus Maße der ersten übergeben Bitmap erstellt\n        Bitmap bmOverlay = Bitmap.createBitmap(bmp1.getWidth(), bmp1.getHeight(), bmp1.getConfig());\n        // Neuer Kontainer wird aus temporärer Bitmap erstellt\n        Canvas canvas = new Canvas(bmOverlay);\n        // Erste Bitmap wird in den Kontainer geschrieben\n        canvas.drawBitmap(bmp1, new Matrix(), null);\n        // Zweite Bitmap wird in den Kontainer geschrieben\n        canvas.drawBitmap(bmp2, new Matrix(), null);\n        return bmOverlay;\n    }\n\n\n</code></pre>\n<p>I tried:</p>\n<p>Dubugger/Breakpoints -&gt; Error stops occuring</p>\n<p>Print to Log -&gt; Error occures at random point in code and at a random time</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-boot-test"],"comments":[{"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"score":0,"creation_date":1676035841,"post_id":75409593,"comment_id":133061437,"body_markdown":"Maybe it&#39;s suffient if you use `default` in your data.sql","body":"Maybe it&#39;s suffient if you use <code>default</code> in your data.sql"},{"owner":{"account_id":1456613,"reputation":375,"user_id":1372030,"accept_rate":91,"display_name":"Eric"},"score":0,"creation_date":1676265495,"post_id":75409593,"comment_id":133095547,"body_markdown":"Using `default` and `@GeneratedValue(strategy = GenerationType.IDENTITY)` on my ID indeed make the test pass. But I would like set custom ID because I want predicable IDs in my fixture","body":"Using <code>default</code> and <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> on my ID indeed make the test pass. But I would like set custom ID because I want predicable IDs in my fixture"}],"answers":[{"tags":[],"owner":{"account_id":20013102,"reputation":641,"user_id":14669745,"display_name":"Pawan.Java"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676025434,"creation_date":1676025434,"answer_id":75409918,"question_id":75409593,"body_markdown":"**GenerationType.IDENTITY**\r\n\r\nThis GenerationType indicates that the persistence provider must assign primary keys for the entity using a database identity column. IDENTITY column is typically used in SQL Server. This special type column is populated internally by the table itself without using a separate sequence. If underlying database doesn&#39;t support IDENTITY column or some similar variant then the persistence provider can choose an alternative appropriate strategy. In this examples we are using H2 database which doesn&#39;t support IDENTITY column.\r\n\r\nYou should consider changing your ID persistance type to GenerationType.AUTO or another one","title":"DataIntegrityViolationException when trying to insert an entity in a H2 table","body":"<p><strong>GenerationType.IDENTITY</strong></p>\n<p>This GenerationType indicates that the persistence provider must assign primary keys for the entity using a database identity column. IDENTITY column is typically used in SQL Server. This special type column is populated internally by the table itself without using a separate sequence. If underlying database doesn't support IDENTITY column or some similar variant then the persistence provider can choose an alternative appropriate strategy. In this examples we are using H2 database which doesn't support IDENTITY column.</p>\n<p>You should consider changing your ID persistance type to GenerationType.AUTO or another one</p>\n"},{"tags":[],"owner":{"account_id":8026267,"reputation":4734,"user_id":6053084,"display_name":"Turo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676035044,"creation_date":1676035044,"answer_id":75411676,"question_id":75409593,"body_markdown":"How the Ids are generated depends on framework and database. Usualy it&#39;s done by Sequences, and the Sequnce doesn&#39;t know your inserts, so it starts with 1.\r\nYou can annotate the class Customer, which sequence to use and use this sequence for creation in the data.sql to avoid this error.","title":"DataIntegrityViolationException when trying to insert an entity in a H2 table","body":"<p>How the Ids are generated depends on framework and database. Usualy it's done by Sequences, and the Sequnce doesn't know your inserts, so it starts with 1.\nYou can annotate the class Customer, which sequence to use and use this sequence for creation in the data.sql to avoid this error.</p>\n"},{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676459143,"creation_date":1676459143,"answer_id":75458862,"question_id":75409593,"body_markdown":"You insert data using `data.sql` with fixed id values. When you next insert data with JPA the identity column will create the same ids and you&#39;ll get a Unique Key Violation.\r\n\r\nThis happens because the id generation internally uses a sequence and does not consider the values in the table.\r\n\r\nYou have the following options to fix this:\r\n\r\n* Use either ids that won&#39;t get generated by the id column, e.g. negative values, or huge values that you will never reach.\r\n\r\n* Don&#39;t specify the ids in `data.sql` and let the database generate them.\r\n\r\n* Configure the database sequence to start with a higher value when creating the table. The [`GENERATED` syntax][1] for identity columns allows to [specify sequence options][2] for this purpose.\r\nTherefore something like this should do the trick:\r\n```sql\r\ncreate table customers (\r\n    id integer generated by default as identity (start with 4),\r\n    name varchar(255) not null,\r\n    region varchar(255),\r\n    primary key (id)\r\n)\r\n```\r\n\r\n  [1]: http://h2database.com/html/grammar.html#column_definition\r\n  [2]: http://h2database.com/html/grammar.html#sequence_option","title":"DataIntegrityViolationException when trying to insert an entity in a H2 table","body":"<p>You insert data using <code>data.sql</code> with fixed id values. When you next insert data with JPA the identity column will create the same ids and you'll get a Unique Key Violation.</p>\n<p>This happens because the id generation internally uses a sequence and does not consider the values in the table.</p>\n<p>You have the following options to fix this:</p>\n<ul>\n<li><p>Use either ids that won't get generated by the id column, e.g. negative values, or huge values that you will never reach.</p>\n</li>\n<li><p>Don't specify the ids in <code>data.sql</code> and let the database generate them.</p>\n</li>\n<li><p>Configure the database sequence to start with a higher value when creating the table. The <a href=\"http://h2database.com/html/grammar.html#column_definition\" rel=\"nofollow noreferrer\"><code>GENERATED</code> syntax</a> for identity columns allows to <a href=\"http://h2database.com/html/grammar.html#sequence_option\" rel=\"nofollow noreferrer\">specify sequence options</a> for this purpose.\nTherefore something like this should do the trick:</p>\n</li>\n</ul>\n<pre class=\"lang-sql prettyprint-override\"><code>create table customers (\n    id integer generated by default as identity (start with 4),\n    name varchar(255) not null,\n    region varchar(255),\n    primary key (id)\n)\n</code></pre>\n"}],"owner":{"account_id":1456613,"reputation":375,"user_id":1372030,"accept_rate":91,"display_name":"Eric"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":651,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676459143,"creation_date":1676023717,"question_id":75409593,"body_markdown":"Using Java 17.0.2 and Spring Boot 3.0.2 (same issue with Spring Boot 2.7.x)\r\n\r\n(There is a sample project here: https://github.com/fistons/issue-spring-data-test)\r\n\r\nI have an entity and its repository:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;customers&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\npublic class Customer {\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Integer id;\r\n\r\n  @Column(name = &quot;name&quot;, unique = true, nullable = false, length = 255)\r\n  private String name;\r\n\r\n  @Column(name = &quot;region&quot;)\r\n  @Enumerated(EnumType.STRING)\r\n  private Region region;\r\n\r\n  public enum Region {\r\n    US,\r\n    EU\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n@Repository\r\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Integer&gt; {}\r\n```\r\n\r\nI created a simple service to insert a new entity in it\r\n```java\r\n@Service\r\npublic class CustomerService {\r\n\r\n  private final CustomerRepository customerRepository;\r\n\r\n  public CustomerService(CustomerRepository customerRepository) {\r\n    this.customerRepository = customerRepository;\r\n  }\r\n\r\n  @Transactional\r\n  public Customer createCustomer(String name, Customer.Region region) {\r\n\r\n    Customer customer = new Customer();\r\n    customer.setName(name);\r\n    customer.setRegion(region);\r\n\r\n    return customerRepository.save(customer);\r\n  }\r\n}\r\n```\r\nI created this test (run using in memory H2 database):\r\n```java\r\n@SpringBootTest\r\n@Transactional\r\nclass CustomerServiceTest {\r\n\r\n  @Autowired\r\n  private CustomerService customerService;\r\n\r\n  @Test\r\n  public void test_createCustomer() {\r\n    Customer createdCustomer = customerService.createCustomer(&quot;The Crusher&quot;, Customer.Region.EU);\r\n\r\n    Assertions.assertEquals(4, createdCustomer.getId(), &quot;Id should match&quot;);\r\n    Assertions.assertEquals(&quot;The Crusher&quot;, createdCustomer.getName(), &quot;Name should match&quot;);\r\n    Assertions.assertEquals(Customer.Region.EU, createdCustomer.getRegion(), &quot;Region should match&quot;);\r\n  }\r\n}\r\n```\r\nwith this data.sql fixture:\r\n```sql\r\nINSERT INTO customers (id, name, region) VALUES (1, &#39;Dr. Carmack&#39;, &#39;EU&#39;), (2, &#39;Pinky&#39;, &#39;EU&#39;), (3, &#39;Revenant&#39;, &#39;EU&#39;);\r\n```\r\n\r\nI explicitly set `spring.jpa.defer-datasource-initialization: true` in my test application.yml\r\n\r\nWhen I run this test, I&#39;ve got an exception, and I can&#39;t figure why:\r\n\r\n```\r\norg.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PRIMARY KEY ON PUBLIC.CUSTOMERS(ID) ( /* key:1 */ 1, &#39;Dr. Carmack&#39;, &#39;EU&#39;)&quot;; SQL statement:\r\ninsert into customers (id, name, region) values (default, ?, ?) [23505-214]]\r\n```\r\n\r\n\r\nWhen I look at the tests logs, I can see that hibernate create the table with the following request:\r\n```sql\r\n    create table customers (\r\n       id integer generated by default as identity,\r\n        name varchar(255) not null,\r\n        region varchar(255),\r\n        primary key (id)\r\n    )\r\n```\r\n\r\nIt seems that when there is an insertion in service, the ID should be 4 as there is already 3 inserted rows in my fixture.\r\n\r\nWhy does it try to assign id `1` ? Did I miss something here?","title":"DataIntegrityViolationException when trying to insert an entity in a H2 table","body":"<p>Using Java 17.0.2 and Spring Boot 3.0.2 (same issue with Spring Boot 2.7.x)</p>\n<p>(There is a sample project here: <a href=\"https://github.com/fistons/issue-spring-data-test\" rel=\"nofollow noreferrer\">https://github.com/fistons/issue-spring-data-test</a>)</p>\n<p>I have an entity and its repository:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;customers&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class Customer {\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Integer id;\n\n  @Column(name = &quot;name&quot;, unique = true, nullable = false, length = 255)\n  private String name;\n\n  @Column(name = &quot;region&quot;)\n  @Enumerated(EnumType.STRING)\n  private Region region;\n\n  public enum Region {\n    US,\n    EU\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface CustomerRepository extends JpaRepository&lt;Customer, Integer&gt; {}\n</code></pre>\n<p>I created a simple service to insert a new entity in it</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class CustomerService {\n\n  private final CustomerRepository customerRepository;\n\n  public CustomerService(CustomerRepository customerRepository) {\n    this.customerRepository = customerRepository;\n  }\n\n  @Transactional\n  public Customer createCustomer(String name, Customer.Region region) {\n\n    Customer customer = new Customer();\n    customer.setName(name);\n    customer.setRegion(region);\n\n    return customerRepository.save(customer);\n  }\n}\n</code></pre>\n<p>I created this test (run using in memory H2 database):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\n@Transactional\nclass CustomerServiceTest {\n\n  @Autowired\n  private CustomerService customerService;\n\n  @Test\n  public void test_createCustomer() {\n    Customer createdCustomer = customerService.createCustomer(&quot;The Crusher&quot;, Customer.Region.EU);\n\n    Assertions.assertEquals(4, createdCustomer.getId(), &quot;Id should match&quot;);\n    Assertions.assertEquals(&quot;The Crusher&quot;, createdCustomer.getName(), &quot;Name should match&quot;);\n    Assertions.assertEquals(Customer.Region.EU, createdCustomer.getRegion(), &quot;Region should match&quot;);\n  }\n}\n</code></pre>\n<p>with this data.sql fixture:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>INSERT INTO customers (id, name, region) VALUES (1, 'Dr. Carmack', 'EU'), (2, 'Pinky', 'EU'), (3, 'Revenant', 'EU');\n</code></pre>\n<p>I explicitly set <code>spring.jpa.defer-datasource-initialization: true</code> in my test application.yml</p>\n<p>When I run this test, I've got an exception, and I can't figure why:</p>\n<pre><code>org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [&quot;PRIMARY KEY ON PUBLIC.CUSTOMERS(ID) ( /* key:1 */ 1, 'Dr. Carmack', 'EU')&quot;; SQL statement:\ninsert into customers (id, name, region) values (default, ?, ?) [23505-214]]\n</code></pre>\n<p>When I look at the tests logs, I can see that hibernate create the table with the following request:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    create table customers (\n       id integer generated by default as identity,\n        name varchar(255) not null,\n        region varchar(255),\n        primary key (id)\n    )\n</code></pre>\n<p>It seems that when there is an insertion in service, the ID should be 4 as there is already 3 inserted rows in my fixture.</p>\n<p>Why does it try to assign id <code>1</code> ? Did I miss something here?</p>\n"},{"tags":["java","spring-boot","proguard","proguard-maven-plugin"],"owner":{"account_id":21430481,"reputation":1,"user_id":15786996,"display_name":"Shahzeb Iqbal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676459142,"creation_date":1676459142,"question_id":75458860,"body_markdown":"I have an application with over 100 endpoints, all of which were working perfectly before obfuscation. However, after obfuscation, none of the endpoints are working. All of them return a 404 error.\r\n\r\nHere is the obfuscation configuration I used:\r\n\r\n```\r\n-target 11 ##Specify the java version number\r\n-dontshrink ##Default is enabled, here the shrink is turned off, that is, the unused classes/members are not deleted.\r\n-dontoptimize ##Default is enabled, here to turn off bytecode level optimization\r\n-useuniqueclassmembernames ## Take a unique strategy for confusing the naming of class members\r\n-adaptclassstrings ## After confusing the class name, replace it with a place like Class.forName(&#39;className&#39;)\r\n-adaptresourcefilecontents **.properties,META-INF/MANIFEST.MF\r\n-dontnote\r\n-repackageclasses foo.main\r\n#-dontpreverify\r\n-ignorewarnings ## warnings are ignored\r\n#-dontwarn\r\n#-keep public class * extends org.springframework.boot.web.support.SpringBootServletInitializer\r\n-keep class java.lang.invoke.StringConcatFactory { *; }\r\n-applymapping mapping.txt\r\n-keepdirectories ## Keep the package structure\r\n-keepclasseswithmembers public class * { public static void main(java.lang.String[]);} ##Maintain the class of the main method and its method name\r\n-keepclassmembers enum * { *; }  ##Reserving enumeration members and methods\r\n-keepclassmembers class * {\r\n     @org.springframework.beans.factory.annotation.Autowired *;\r\n     @org.springframework.beans.factory.annotation.Qualifier *;\r\n     @org.springframework.beans.factory.annotation.Value *;\r\n     @org.springframework.beans.factory.annotation.Required *;\r\n     @org.springframework.context.annotation.Bean *;\r\n     @org.springframework.context.annotation.Primary *;\r\n     @org.springframework.boot.context.properties.ConfigurationProperties *;\r\n     @org.springframework.boot.context.properties.EnableConfigurationProperties *;\r\n     @javax.inject.Inject *;\r\n     @javax.annotation.PostConstruct *;\r\n     @javax.annotation.PreDestroy *;\r\n}\r\n-keep @org.springframework.cache.annotation.EnableCaching class *\r\n-keep @org.springframework.context.annotation.Configuration class *\r\n-keep @org.springframework.boot.context.properties.ConfigurationProperties class *\r\n-keep @org.springframework.boot.autoconfigure.SpringBootApplication class *\r\n-allowaccessmodification\r\n-keepattributes *Annotation*\r\n-keepdirectories com.time.ac.userinterface.service\r\n-keepdirectories org.springframework.boot.autoconfigure\r\n## Do not change names of the getters and setter, if you remove this ##thymeleaf unable to find the getter and setter i.e: ##${greetingDTO.message}\r\n-keepclassmembers class * {\r\n    *** get*();\r\n    void set*(***);\r\n}\r\n-keepclassmembernames class * {\r\n     java.lang.Class class$(java.lang.String);\r\n     java.lang.Class class$(java.lang.String, boolean);\r\n}\r\n-keepclassmembers enum * {\r\n     public static **[] values();\r\n     public static ** valueOf(java.lang.String);\r\n     public static ** fromValue(java.lang.String);\r\n}\r\n-keepnames class * implements java.io.Serializable\r\n-keepclassmembernames public class com.test.blah.config.liquibase.AsyncSpringLiquibase\r\n-keepclassmembers class * implements java.io.Serializable {\r\n     static final long serialVersionUID;\r\n     private static final java.io.ObjectStreamField[] serialPersistentFields;\r\n     !static !transient &lt;fields&gt;;\r\n     !private &lt;fields&gt;;\r\n     !private &lt;methods&gt;;\r\n     private void writeObject(java.io.ObjectOutputStream);\r\n     private void readObject(java.io.ObjectInputStream);\r\n     java.lang.Object writeReplace();\r\n     java.lang.Object readResolve();\r\n}\r\n-keepclassmembers class * {\r\n     @org.springframework.beans.factory.annotation.Autowired &lt;fields&gt;;\r\n     @org.springframework.beans.factory.annotation.Autowired &lt;methods&gt;;\r\n     @org.springframework.security.access.prepost.PreAuthorize &lt;methods&gt;;\r\n}\r\n#-keep class org.springframework.** { *;}\r\n```\r\n\r\n[project structure after obfuscation](https://i.stack.imgur.com/einaq.png)\r\n\r\n\r\n\r\nCan someone help me understand what might be causing this issue?\r\n\r\n\r\nI tried running the unobfuscated jar and it worked fine. I suspect that there might be some issue with the obfuscation process that I used.","title":"All API endpoints of spring boot returns 404 NOT FOUND error after obfuscation using Proguard","body":"<p>I have an application with over 100 endpoints, all of which were working perfectly before obfuscation. However, after obfuscation, none of the endpoints are working. All of them return a 404 error.</p>\n<p>Here is the obfuscation configuration I used:</p>\n<pre><code>-target 11 ##Specify the java version number\n-dontshrink ##Default is enabled, here the shrink is turned off, that is, the unused classes/members are not deleted.\n-dontoptimize ##Default is enabled, here to turn off bytecode level optimization\n-useuniqueclassmembernames ## Take a unique strategy for confusing the naming of class members\n-adaptclassstrings ## After confusing the class name, replace it with a place like Class.forName('className')\n-adaptresourcefilecontents **.properties,META-INF/MANIFEST.MF\n-dontnote\n-repackageclasses foo.main\n#-dontpreverify\n-ignorewarnings ## warnings are ignored\n#-dontwarn\n#-keep public class * extends org.springframework.boot.web.support.SpringBootServletInitializer\n-keep class java.lang.invoke.StringConcatFactory { *; }\n-applymapping mapping.txt\n-keepdirectories ## Keep the package structure\n-keepclasseswithmembers public class * { public static void main(java.lang.String[]);} ##Maintain the class of the main method and its method name\n-keepclassmembers enum * { *; }  ##Reserving enumeration members and methods\n-keepclassmembers class * {\n     @org.springframework.beans.factory.annotation.Autowired *;\n     @org.springframework.beans.factory.annotation.Qualifier *;\n     @org.springframework.beans.factory.annotation.Value *;\n     @org.springframework.beans.factory.annotation.Required *;\n     @org.springframework.context.annotation.Bean *;\n     @org.springframework.context.annotation.Primary *;\n     @org.springframework.boot.context.properties.ConfigurationProperties *;\n     @org.springframework.boot.context.properties.EnableConfigurationProperties *;\n     @javax.inject.Inject *;\n     @javax.annotation.PostConstruct *;\n     @javax.annotation.PreDestroy *;\n}\n-keep @org.springframework.cache.annotation.EnableCaching class *\n-keep @org.springframework.context.annotation.Configuration class *\n-keep @org.springframework.boot.context.properties.ConfigurationProperties class *\n-keep @org.springframework.boot.autoconfigure.SpringBootApplication class *\n-allowaccessmodification\n-keepattributes *Annotation*\n-keepdirectories com.time.ac.userinterface.service\n-keepdirectories org.springframework.boot.autoconfigure\n## Do not change names of the getters and setter, if you remove this ##thymeleaf unable to find the getter and setter i.e: ##${greetingDTO.message}\n-keepclassmembers class * {\n    *** get*();\n    void set*(***);\n}\n-keepclassmembernames class * {\n     java.lang.Class class$(java.lang.String);\n     java.lang.Class class$(java.lang.String, boolean);\n}\n-keepclassmembers enum * {\n     public static **[] values();\n     public static ** valueOf(java.lang.String);\n     public static ** fromValue(java.lang.String);\n}\n-keepnames class * implements java.io.Serializable\n-keepclassmembernames public class com.test.blah.config.liquibase.AsyncSpringLiquibase\n-keepclassmembers class * implements java.io.Serializable {\n     static final long serialVersionUID;\n     private static final java.io.ObjectStreamField[] serialPersistentFields;\n     !static !transient &lt;fields&gt;;\n     !private &lt;fields&gt;;\n     !private &lt;methods&gt;;\n     private void writeObject(java.io.ObjectOutputStream);\n     private void readObject(java.io.ObjectInputStream);\n     java.lang.Object writeReplace();\n     java.lang.Object readResolve();\n}\n-keepclassmembers class * {\n     @org.springframework.beans.factory.annotation.Autowired &lt;fields&gt;;\n     @org.springframework.beans.factory.annotation.Autowired &lt;methods&gt;;\n     @org.springframework.security.access.prepost.PreAuthorize &lt;methods&gt;;\n}\n#-keep class org.springframework.** { *;}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/einaq.png\" rel=\"nofollow noreferrer\">project structure after obfuscation</a></p>\n<p>Can someone help me understand what might be causing this issue?</p>\n<p>I tried running the unobfuscated jar and it worked fine. I suspect that there might be some issue with the obfuscation process that I used.</p>\n"},{"tags":["java","process","null"],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676459141,"creation_date":1676459141,"question_id":75458859,"body_markdown":"I have a class which is run in its own process via ProcessBuilder. It just reads input &amp; writes it back and exits if we send it EXIT\r\n\r\n    \r\n    public class SubProcess \r\n    {\r\n     public static void main(String[] args)throws Exception\r\n     {\r\n      try(BufferedReader reader=new BufferedReader(new InputStreamReader(System.in)))\r\n      {\r\n       String line;\r\n       while((line=reader.readLine())!=null)\r\n       {\r\n        if(line.equalsIgnoreCase(&quot;EXIT&quot;))\r\n        {\r\n         System.out.println(&quot;Process Exiting&quot;);\r\n         break;\r\n        }\r\n        else{System.out.println(&quot;Echoing:&quot;+line);}\r\n       }\r\n      } \r\n     }\r\n    }\r\n\r\nThis is located in D:/Process an empty directory in my system\r\n\r\nThen in my netbeans IDE i run it as an process by first compiling this file and then running it\r\n\r\n    public class ParentProcess\r\n    {\r\n     public static void main(String[] args)throws Exception\r\n     {\r\n      ProcessBuilder builder=new ProcessBuilder(&quot;javac&quot;,&quot;SubProcess.java&quot;);\r\n      builder.directory(new File(&quot;D:/Process&quot;));\r\n      \r\n      //compile the program\r\n      Process process=builder.start();\r\n      InputStream error=process.getErrorStream();\r\n      if(error!=null)\r\n      {\r\n       try(error)\r\n       {\r\n        byte[] data=new byte[1024];\r\n        int len;\r\n        while((len=error.read(data))&gt;0){System.err.println(new String(data,0,len));}\r\n       }\r\n      }\r\n      \r\n      //start the program\r\n      builder.command(&quot;java&quot;,&quot;SubProcess&quot;);\r\n      builder.redirectOutput(ProcessBuilder.Redirect.INHERIT);\r\n      process=builder.start();\r\n      try(BufferedReader input=process.inputReader();\r\n          OutputStream output=process.getOutputStream();\r\n          BufferedReader consoleInput=new BufferedReader(new InputStreamReader(System.in)))\r\n      {\r\n       System.out.println(&quot;Begin&quot;);\r\n       \r\n       String line;\r\n       while((line=consoleInput.readLine())!=null)\r\n       {\r\n        System.out.println(&quot;Writing Output&quot;);\r\n        output.write((line+&quot;\\n&quot;).getBytes(&quot;UTF-8&quot;));\r\n        output.flush();\r\n        \r\n        System.out.println(&quot;Reading Input&quot;);\r\n        String response=input.readLine();\r\n        System.out.println(response);\r\n        \r\n        if(response!=null &amp;&amp; response.equalsIgnoreCase(&quot;Process Exiting&quot;))\r\n        {\r\n         System.out.println(&quot;Exiting&quot;);\r\n         break;\r\n        }\r\n       }\r\n      }\r\n     }\r\n    }\r\n\r\nI face 2 problems\r\n\r\n1. I first get a null value then the response from the process\r\n```\r\n    Hello   \r\n    Writing Output\r\n    Reading Input \r\n    null    \r\n    Echoing:Hello   \r\n    World  \r\n    Writing Output    \r\n    Reading Input    \r\n    null    \r\n    Echoing:World\r\n```\r\n\r\n2. Parent Process doesnt exit even if i write EXIT to the process. The child process exits normally but the `response.equalsIngoreCase(&quot;Process Exiting&quot;)` is never executed\r\n\r\n    ```  \r\n    Begin    \r\n    EXIT    \r\n    Writing Output\r\n    Reading Input   \r\n    null    \r\n    Process Exiting\r\n    ```\r\n\r\nIt never prints Exiting\r\n\r\nHow do i fix this?","title":"Java ProcessBuilder inconsistent values when reading from another java program","body":"<p>I have a class which is run in its own process via ProcessBuilder. It just reads input &amp; writes it back and exits if we send it EXIT</p>\n<pre><code>public class SubProcess \n{\n public static void main(String[] args)throws Exception\n {\n  try(BufferedReader reader=new BufferedReader(new InputStreamReader(System.in)))\n  {\n   String line;\n   while((line=reader.readLine())!=null)\n   {\n    if(line.equalsIgnoreCase(&quot;EXIT&quot;))\n    {\n     System.out.println(&quot;Process Exiting&quot;);\n     break;\n    }\n    else{System.out.println(&quot;Echoing:&quot;+line);}\n   }\n  } \n }\n}\n</code></pre>\n<p>This is located in D:/Process an empty directory in my system</p>\n<p>Then in my netbeans IDE i run it as an process by first compiling this file and then running it</p>\n<pre><code>public class ParentProcess\n{\n public static void main(String[] args)throws Exception\n {\n  ProcessBuilder builder=new ProcessBuilder(&quot;javac&quot;,&quot;SubProcess.java&quot;);\n  builder.directory(new File(&quot;D:/Process&quot;));\n  \n  //compile the program\n  Process process=builder.start();\n  InputStream error=process.getErrorStream();\n  if(error!=null)\n  {\n   try(error)\n   {\n    byte[] data=new byte[1024];\n    int len;\n    while((len=error.read(data))&gt;0){System.err.println(new String(data,0,len));}\n   }\n  }\n  \n  //start the program\n  builder.command(&quot;java&quot;,&quot;SubProcess&quot;);\n  builder.redirectOutput(ProcessBuilder.Redirect.INHERIT);\n  process=builder.start();\n  try(BufferedReader input=process.inputReader();\n      OutputStream output=process.getOutputStream();\n      BufferedReader consoleInput=new BufferedReader(new InputStreamReader(System.in)))\n  {\n   System.out.println(&quot;Begin&quot;);\n   \n   String line;\n   while((line=consoleInput.readLine())!=null)\n   {\n    System.out.println(&quot;Writing Output&quot;);\n    output.write((line+&quot;\\n&quot;).getBytes(&quot;UTF-8&quot;));\n    output.flush();\n    \n    System.out.println(&quot;Reading Input&quot;);\n    String response=input.readLine();\n    System.out.println(response);\n    \n    if(response!=null &amp;&amp; response.equalsIgnoreCase(&quot;Process Exiting&quot;))\n    {\n     System.out.println(&quot;Exiting&quot;);\n     break;\n    }\n   }\n  }\n }\n}\n</code></pre>\n<p>I face 2 problems</p>\n<ol>\n<li>I first get a null value then the response from the process</li>\n</ol>\n<pre><code>    Hello   \n    Writing Output\n    Reading Input \n    null    \n    Echoing:Hello   \n    World  \n    Writing Output    \n    Reading Input    \n    null    \n    Echoing:World\n</code></pre>\n<ol start=\"2\">\n<li><p>Parent Process doesnt exit even if i write EXIT to the process. The child process exits normally but the <code>response.equalsIngoreCase(&quot;Process Exiting&quot;)</code> is never executed</p>\n<pre><code>Begin    \nEXIT    \nWriting Output\nReading Input   \nnull    \nProcess Exiting\n</code></pre>\n</li>\n</ol>\n<p>It never prints Exiting</p>\n<p>How do i fix this?</p>\n"},{"tags":["java","null","nullpointerexception"],"comments":[{"owner":{"account_id":1190,"reputation":492175,"user_id":1583,"accept_rate":100,"display_name":"Oded"},"score":6,"creation_date":1281531588,"post_id":3458451,"comment_id":3606049,"body_markdown":"If only you followed the law of Demeter.","body":"If only you followed the law of Demeter."},{"owner":{"display_name":"user321068"},"score":35,"creation_date":1281531994,"post_id":3458451,"comment_id":3606132,"body_markdown":"Just because I started working on an existing project, I can&#39;t redesign it according to my or any Greek deity&#39;s law.","body":"Just because I started working on an existing project, I can&#39;t redesign it according to my or any Greek deity&#39;s law."},{"owner":{"account_id":435625,"reputation":89,"user_id":822314,"display_name":"Prathab K"},"score":0,"creation_date":1501054191,"post_id":3458451,"comment_id":77602338,"body_markdown":"We can use Java8 Functional Interface approach. Check this answer: https://stackoverflow.com/a/45319845/822314","body":"We can use Java8 Functional Interface approach. Check this answer: <a href=\"https://stackoverflow.com/a/45319845/822314\">stackoverflow.com/a/45319845/822314</a>"},{"owner":{"account_id":2298360,"reputation":597,"user_id":2019259,"accept_rate":57,"display_name":"James Daily"},"score":1,"creation_date":1636725575,"post_id":3458451,"comment_id":123640004,"body_markdown":"For anyone else wondering: &quot;In particular, an object should avoid invoking methods of an object returned by another method. ...the law can be stated simply as &#39;use only one dot&#39;&quot; https://en.wikipedia.org/wiki/Law_of_Demeter","body":"For anyone else wondering: &quot;In particular, an object should avoid invoking methods of an object returned by another method. ...the law can be stated simply as &#39;use only one dot&#39;&quot; <a href=\"https://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Law_of_Demeter</a>"},{"owner":{"account_id":1845234,"reputation":988,"user_id":1673705,"display_name":"barneypitt"},"score":2,"creation_date":1658922503,"post_id":3458451,"comment_id":129171173,"body_markdown":"The Law of Demeter is a terrible idea (which is why, thankfully, nobody uses it!). Leads to error-prone gobbledegook code. It&#39;s also anti-intuitive: if every instinct is telling you not to write classes like that, you probably shouldn&#39;t. But I really don&#39;t see how it would help null safe chaining anyway. It just pushes the multiple null checks into the method House::getDoorknob(Floor floor, CompassPoint wall, DoorType doorType). And the un-useability of that monstrous method says it all.","body":"The Law of Demeter is a terrible idea (which is why, thankfully, nobody uses it!). Leads to error-prone gobbledegook code. It&#39;s also anti-intuitive: if every instinct is telling you not to write classes like that, you probably shouldn&#39;t. But I really don&#39;t see how it would help null safe chaining anyway. It just pushes the multiple null checks into the method House::getDoorknob(Floor floor, CompassPoint wall, DoorType doorType). And the un-useability of that monstrous method says it all."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1668084374,"post_id":3458451,"comment_id":131323964,"body_markdown":"@barneypitt I think the LoD is not so much about pushing chained method calls into convenience methods, but about designing your classes in a way that reduces the need for this type of remote data grabbing.","body":"@barneypitt I think the LoD is not so much about pushing chained method calls into convenience methods, but about designing your classes in a way that reduces the need for this type of remote data grabbing."},{"owner":{"account_id":1845234,"reputation":988,"user_id":1673705,"display_name":"barneypitt"},"score":0,"creation_date":1668172369,"post_id":3458451,"comment_id":131347309,"body_markdown":"My point being, it&#39;s a _bad_ way to design classes. The intuitive design is pretty much always the best design. The design which presents the data to you in the way you expect data to be presented to you is the best design. The design which matches the way humans think about entities and their properties (that they are chained) is the best design. The LoD is the opposite of good design.","body":"My point being, it&#39;s a <i>bad</i> way to design classes. The intuitive design is pretty much always the best design. The design which presents the data to you in the way you expect data to be presented to you is the best design. The design which matches the way humans think about entities and their properties (that they are chained) is the best design. The LoD is the opposite of good design."},{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1668762969,"post_id":3458451,"comment_id":131490031,"body_markdown":"@barneypitt What  you say implies that trying to achieve loose coupling is bad design. That is simply not true, as evidenced by the many legacy systems that have become so tightly coupled that nobody dares to change anything in fear of breaking something elsewhere unexpectedly.","body":"@barneypitt What  you say implies that trying to achieve loose coupling is bad design. That is simply not true, as evidenced by the many legacy systems that have become so tightly coupled that nobody dares to change anything in fear of breaking something elsewhere unexpectedly."},{"owner":{"account_id":1845234,"reputation":988,"user_id":1673705,"display_name":"barneypitt"},"score":0,"creation_date":1677013160,"post_id":3458451,"comment_id":133252666,"body_markdown":"Of course I&#39;m not saying loose coupling is a bad idea! I said the LoD is a bad idea. The LoD is one (anti-)pattern which promotes loose coupling, amongst dozens (maybe hundreds) of patterns which promote loose coupling. I assert that this *particular* (anti-)pattern&#39;s disadvantages (generating unintuitive spaghetti code) massively outweigh its advantages, which I explained in detail.","body":"Of course I&#39;m not saying loose coupling is a bad idea! I said the LoD is a bad idea. The LoD is one (anti-)pattern which promotes loose coupling, amongst dozens (maybe hundreds) of patterns which promote loose coupling. I assert that this <i>particular</i> (anti-)pattern&#39;s disadvantages (generating unintuitive spaghetti code) massively outweigh its advantages, which I explained in detail."},{"owner":{"account_id":73486,"reputation":10443,"user_id":211614,"accept_rate":50,"display_name":"Michael Peterson"},"score":0,"creation_date":1680485585,"post_id":3458451,"comment_id":133901485,"body_markdown":"Use Optional - see answer https://stackoverflow.com/a/41145698/211614","body":"Use Optional - see answer <a href=\"https://stackoverflow.com/a/41145698/211614\">stackoverflow.com/a/41145698/211614</a>"}],"answers":[{"tags":[],"owner":{"account_id":30171,"reputation":40012,"user_id":82118,"accept_rate":72,"display_name":"Carl Manaster"},"down_vote_count":2,"up_vote_count":11,"is_accepted":false,"score":9,"last_activity_date":1561981557,"creation_date":1281531510,"answer_id":3458475,"question_id":3458451,"body_markdown":"You could of course simply wrap the whole expression up in a try-catch block, but that&#39;s a bad idea.  Something cleaner is the [Null object pattern][1]. With that, if your house doesn&#39;t have floor 0, it just returns a Floor that acts like a regular Floor, but has no real content; Floors, when asked for Walls they don&#39;t have, return similar &quot;Null&quot; Walls, etc, down the line.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Null_Object_pattern","title":"Check chains of &quot;get&quot; calls for null","body":"<p>You could of course simply wrap the whole expression up in a try-catch block, but that's a bad idea.  Something cleaner is the <a href=\"http://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"noreferrer\">Null object pattern</a>. With that, if your house doesn't have floor 0, it just returns a Floor that acts like a regular Floor, but has no real content; Floors, when asked for Walls they don't have, return similar \"Null\" Walls, etc, down the line.</p>\n"},{"tags":[],"owner":{"account_id":156311,"reputation":4833,"user_id":373521,"accept_rate":88,"display_name":"Jerod Houghtelling"},"down_vote_count":15,"up_vote_count":29,"is_accepted":true,"score":14,"last_activity_date":1281531746,"creation_date":1281531746,"answer_id":3458520,"question_id":3458451,"body_markdown":"The best way would be to **avoid** the chain. If you aren&#39;t familiar with the Law of Demeter (LoD), in my opinion you should. You&#39;ve given a perfect example of a message chain that is overly intimate with classes that it has no business knowing anything about.\r\n\r\nLaw of Demeter: [http://en.wikipedia.org/wiki/Law_of_Demeter][1]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Law_of_Demeter","title":"Check chains of &quot;get&quot; calls for null","body":"<p>The best way would be to <strong>avoid</strong> the chain. If you aren't familiar with the Law of Demeter (LoD), in my opinion you should. You've given a perfect example of a message chain that is overly intimate with classes that it has no business knowing anything about.</p>\n\n<p>Law of Demeter: <a href=\"http://en.wikipedia.org/wiki/Law_of_Demeter\" rel=\"noreferrer\">http://en.wikipedia.org/wiki/Law_of_Demeter</a></p>\n"},{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1281534224,"creation_date":1281531849,"answer_id":3458534,"question_id":3458451,"body_markdown":"Make sure things that can&#39;t logically be `null` are not. For example - a house always has a West wall. In order to avoid such exceptions in state, you can have methods to check whether the state you expect is present:\r\n\r\n    if (wall.hasDoor()) {\r\n       wall.getDoor().etc();\r\n    }\r\n\r\nThis is essentially a null-check, but might not always be. \r\n\r\nThe point is that you should do something in case you have a `null`. For example - `return` or throw an `IllegalStateException`\r\n\r\nAnd what you shouldn&#39;t do - don&#39;t catch `NullPointerException`. Runtime exceptions are not for catching - it is not expected that you can recover from them, nor it is a good practice to rely on exceptions for the logic flow. Imagine that you actually don&#39;t expect something to be `null`, and you catch (and log) a `NullPointerException`. This will not be very useful information, since many things can be `null` at that point.","title":"Check chains of &quot;get&quot; calls for null","body":"<p>Make sure things that can't logically be <code>null</code> are not. For example - a house always has a West wall. In order to avoid such exceptions in state, you can have methods to check whether the state you expect is present:</p>\n\n<pre><code>if (wall.hasDoor()) {\n   wall.getDoor().etc();\n}\n</code></pre>\n\n<p>This is essentially a null-check, but might not always be. </p>\n\n<p>The point is that you should do something in case you have a <code>null</code>. For example - <code>return</code> or throw an <code>IllegalStateException</code></p>\n\n<p>And what you shouldn't do - don't catch <code>NullPointerException</code>. Runtime exceptions are not for catching - it is not expected that you can recover from them, nor it is a good practice to rely on exceptions for the logic flow. Imagine that you actually don't expect something to be <code>null</code>, and you catch (and log) a <code>NullPointerException</code>. This will not be very useful information, since many things can be <code>null</code> at that point.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1281531940,"creation_date":1281531940,"answer_id":3458552,"question_id":3458451,"body_markdown":"There is no `checkForNull` method that you can write that will facilitate this (that&#39;s simply not how method invokation and argument evaluation works in Java).\r\n\r\nYou can break down the chained statements into multiple statements, checking at every step. However, perhaps a better solution is to not have these methods return `null` in the first place. There is something called the [Null Object Pattern](http://en.wikipedia.org/wiki/Null_Object_pattern) that you may want to use instead.\r\n\r\n### Related questions\r\n\r\n* [How to avoid `!= null` statements in Java?](https://stackoverflow.com/questions/271526/how-to-avoid-null-statements-in-java)","title":"Check chains of &quot;get&quot; calls for null","body":"<p>There is no <code>checkForNull</code> method that you can write that will facilitate this (that's simply not how method invokation and argument evaluation works in Java).</p>\n\n<p>You can break down the chained statements into multiple statements, checking at every step. However, perhaps a better solution is to not have these methods return <code>null</code> in the first place. There is something called the <a href=\"http://en.wikipedia.org/wiki/Null_Object_pattern\" rel=\"nofollow noreferrer\">Null Object Pattern</a> that you may want to use instead.</p>\n\n<h3>Related questions</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/271526/how-to-avoid-null-statements-in-java\">How to avoid <code>!= null</code> statements in Java?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3346139,"reputation":14655,"user_id":2811258,"accept_rate":88,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":144,"is_accepted":false,"score":144,"last_activity_date":1551581007,"creation_date":1481727606,"answer_id":41145698,"question_id":3458451,"body_markdown":"In case you **can&#39;t** avoid breaking Law of Demeter (LoD) as stated in the chosen answer, and with [Java 8][1] introducing [Optional][2], it would be probably the best practice to handle nulls in chains of gets such as yours.\r\n\r\nThe `Optional` type will enable you to pipe multiple map operations (which contain get calls) in a row. Null checks are automatically handled under the hood.\r\n\r\nFor example, when the objects aren&#39;t initialized, no print() will be made and no Exceptions will be thrown. It all we be handled gently under the hood. When objects are initialized, a print will be made.\r\n\r\n    System.out.println(&quot;----- Not Initialized! -----&quot;);\r\n\r\n    Optional.ofNullable(new Outer())\r\n            .map(out -&gt; out.getNested())\r\n            .map(nest -&gt; nest.getInner())\r\n            .map(in -&gt; in.getFoo())\r\n            .ifPresent(foo -&gt; System.out.println(&quot;foo: &quot; + foo)); //no print\r\n\r\n    System.out.println(&quot;----- Let&#39;s Initialize! -----&quot;);\r\n\r\n    Optional.ofNullable(new OuterInit())\r\n            .map(out -&gt; out.getNestedInit())\r\n            .map(nest -&gt; nest.getInnerInit())\r\n            .map(in -&gt; in.getFoo())\r\n            .ifPresent(foo -&gt; System.out.println(&quot;foo: &quot; + foo)); //will print!\r\n\r\n    class Outer {\r\n        Nested nested;\r\n        Nested getNested() {\r\n            return nested;\r\n        }\r\n    }\r\n    class Nested {\r\n        Inner inner;\r\n        Inner getInner() {\r\n            return inner;\r\n        }\r\n    }\r\n    class Inner {\r\n        String foo = &quot;yeah!&quot;;\r\n        String getFoo() {\r\n            return foo;\r\n        }\r\n    }\r\n\r\n    class OuterInit {\r\n        NestedInit nested = new NestedInit();\r\n        NestedInit getNestedInit() {\r\n            return nested;\r\n        }\r\n    }\r\n    class NestedInit {\r\n        InnerInit inner = new InnerInit();\r\n        InnerInit getInnerInit() {\r\n            return inner;\r\n        }\r\n    }\r\n    class InnerInit {\r\n        String foo = &quot;yeah!&quot;;\r\n        String getFoo() {\r\n            return foo;\r\n        }\r\n    }\r\n\r\nSo, **with your getters chain** it will look like this:\r\n\r\n    Optional.ofNullable(house)\r\n            .map(house -&gt; house.getFloor(0))\r\n            .map(floorZero -&gt; floorZero.getWall(WEST))\r\n            .map(wallWest -&gt; wallWest.getDoor())\r\n            .map(door -&gt; wallWest.getDoor())\r\n\r\nThe return of it will be something like `Optional&lt;Door&gt;` which will allow you much safer work without worrying of null exceptions.\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javase/overview/java8-2100321.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\r\n\r\n\r\n\r\n","title":"Check chains of &quot;get&quot; calls for null","body":"<p>In case you <strong>can't</strong> avoid breaking Law of Demeter (LoD) as stated in the chosen answer, and with <a href=\"http://www.oracle.com/technetwork/java/javase/overview/java8-2100321.html\" rel=\"noreferrer\">Java 8</a> introducing <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Optional.html\" rel=\"noreferrer\">Optional</a>, it would be probably the best practice to handle nulls in chains of gets such as yours.</p>\n\n<p>The <code>Optional</code> type will enable you to pipe multiple map operations (which contain get calls) in a row. Null checks are automatically handled under the hood.</p>\n\n<p>For example, when the objects aren't initialized, no print() will be made and no Exceptions will be thrown. It all we be handled gently under the hood. When objects are initialized, a print will be made.</p>\n\n<pre><code>System.out.println(\"----- Not Initialized! -----\");\n\nOptional.ofNullable(new Outer())\n        .map(out -&gt; out.getNested())\n        .map(nest -&gt; nest.getInner())\n        .map(in -&gt; in.getFoo())\n        .ifPresent(foo -&gt; System.out.println(\"foo: \" + foo)); //no print\n\nSystem.out.println(\"----- Let's Initialize! -----\");\n\nOptional.ofNullable(new OuterInit())\n        .map(out -&gt; out.getNestedInit())\n        .map(nest -&gt; nest.getInnerInit())\n        .map(in -&gt; in.getFoo())\n        .ifPresent(foo -&gt; System.out.println(\"foo: \" + foo)); //will print!\n\nclass Outer {\n    Nested nested;\n    Nested getNested() {\n        return nested;\n    }\n}\nclass Nested {\n    Inner inner;\n    Inner getInner() {\n        return inner;\n    }\n}\nclass Inner {\n    String foo = \"yeah!\";\n    String getFoo() {\n        return foo;\n    }\n}\n\nclass OuterInit {\n    NestedInit nested = new NestedInit();\n    NestedInit getNestedInit() {\n        return nested;\n    }\n}\nclass NestedInit {\n    InnerInit inner = new InnerInit();\n    InnerInit getInnerInit() {\n        return inner;\n    }\n}\nclass InnerInit {\n    String foo = \"yeah!\";\n    String getFoo() {\n        return foo;\n    }\n}\n</code></pre>\n\n<p>So, <strong>with your getters chain</strong> it will look like this:</p>\n\n<pre><code>Optional.ofNullable(house)\n        .map(house -&gt; house.getFloor(0))\n        .map(floorZero -&gt; floorZero.getWall(WEST))\n        .map(wallWest -&gt; wallWest.getDoor())\n        .map(door -&gt; wallWest.getDoor())\n</code></pre>\n\n<p>The return of it will be something like <code>Optional&lt;Door&gt;</code> which will allow you much safer work without worrying of null exceptions.</p>\n"},{"tags":[],"owner":{"account_id":4002450,"reputation":440,"user_id":3298121,"display_name":"Roman Seleznov"},"down_vote_count":7,"up_vote_count":31,"is_accepted":false,"score":24,"last_activity_date":1551626168,"creation_date":1502205661,"answer_id":45572220,"question_id":3458451,"body_markdown":"In order to check a chain of gets for &lt;i&gt;null&lt;/i&gt; you may need to call your code from a *closure*. The closure call code will look like this:\r\n\r\n    public static &lt;T&gt; T opt(Supplier&lt;T&gt; statement) {       \r\n        try {\r\n            return statement.get();\r\n        } catch (NullPointerException exc) {\r\n            return null;\r\n        }   \r\n    }\r\n\r\nAnd you call it using the following syntax:\r\n\r\n    Doorknob knob = opt(() -&gt; house.getFloor(0).getWall(WEST).getDoor().getDoorknob());\r\n\r\nThis code is also type safe and in general works as intended: \r\n\r\n1. Returns an actual value of the specified type if all the objects in the chain are not &lt;i&gt;null&lt;/i&gt;. \r\n2. Returns &lt;i&gt;null&lt;/i&gt; if any of the objects in the chain are &lt;i&gt;null&lt;/i&gt;.\r\n\r\nYou may place &lt;i&gt;opt&lt;/i&gt; method into shared util class and use it everywhere in your application.\r\n","title":"Check chains of &quot;get&quot; calls for null","body":"<p>In order to check a chain of gets for <i>null</i> you may need to call your code from a <em>closure</em>. The closure call code will look like this:</p>\n\n<pre><code>public static &lt;T&gt; T opt(Supplier&lt;T&gt; statement) {       \n    try {\n        return statement.get();\n    } catch (NullPointerException exc) {\n        return null;\n    }   \n}\n</code></pre>\n\n<p>And you call it using the following syntax:</p>\n\n<pre><code>Doorknob knob = opt(() -&gt; house.getFloor(0).getWall(WEST).getDoor().getDoorknob());\n</code></pre>\n\n<p>This code is also type safe and in general works as intended: </p>\n\n<ol>\n<li>Returns an actual value of the specified type if all the objects in the chain are not <i>null</i>. </li>\n<li>Returns <i>null</i> if any of the objects in the chain are <i>null</i>.</li>\n</ol>\n\n<p>You may place <i>opt</i> method into shared util class and use it everywhere in your application.</p>\n"},{"tags":[],"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1668764476,"creation_date":1537194388,"answer_id":52370017,"question_id":3458451,"body_markdown":"Very old question, but still adding my suggestion:\r\n\r\nI would suggest instead of getting the DoorKnob from deep within the House in one method call chain, you should try to let the DoorKnob be provided to this class from the calling code, or by creating a central lookup facility specifically for this purpose (e.g. a DoorKnob service)\r\n\r\nSimplified example of design with loose coupling:\r\n\r\n    class Architect {\r\n\r\n        FloorContractor floorContractor;\r\n\r\n        void build(House house) {\r\n            for(Floor floor: house.getFloors()) {\r\n                floorContractor.build(floor);\r\n            }\r\n        }    \r\n    }\r\n\r\n    class FloorContractor {\r\n\r\n        DoorMaker doorMaker;\r\n\r\n        void build(Floor floor) {\r\n            for(Wall wall: floor.getWalls()) {\r\n                if (wall.hasDoor()) {\r\n                    doorMaker.build(wall.getDoor());\r\n                }\r\n            }\r\n        } \r\n    }\r\n\r\n    class DoorMaker {\r\n\r\n        Tool tool;\r\n\r\n        void build(Door door) {\r\n            tool.build(door.getFrame());\r\n            tool.build(door.getHinges());\r\n            tool.build(door.getDoorKnob());\r\n        }        \r\n    }","title":"Check chains of &quot;get&quot; calls for null","body":"<p>Very old question, but still adding my suggestion:</p>\n<p>I would suggest instead of getting the DoorKnob from deep within the House in one method call chain, you should try to let the DoorKnob be provided to this class from the calling code, or by creating a central lookup facility specifically for this purpose (e.g. a DoorKnob service)</p>\n<p>Simplified example of design with loose coupling:</p>\n<pre><code>class Architect {\n\n    FloorContractor floorContractor;\n\n    void build(House house) {\n        for(Floor floor: house.getFloors()) {\n            floorContractor.build(floor);\n        }\n    }    \n}\n\nclass FloorContractor {\n\n    DoorMaker doorMaker;\n\n    void build(Floor floor) {\n        for(Wall wall: floor.getWalls()) {\n            if (wall.hasDoor()) {\n                doorMaker.build(wall.getDoor());\n            }\n        }\n    } \n}\n\nclass DoorMaker {\n\n    Tool tool;\n\n    void build(Door door) {\n        tool.build(door.getFrame());\n        tool.build(door.getHinges());\n        tool.build(door.getDoorKnob());\n    }        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16241392,"reputation":23,"user_id":11727627,"display_name":"Omar Ruiz"},"down_vote_count":4,"up_vote_count":3,"is_accepted":false,"score":-1,"last_activity_date":1562049370,"creation_date":1562049370,"answer_id":56846627,"question_id":3458451,"body_markdown":"implementing nullPointer try/catch with a Supplier&lt;T&gt; you can send it all chain of get\r\n\r\n    public static &lt;T&gt; T getValue(Supplier&lt;T&gt; getFunction, T defaultValue) {\r\n        try {\r\n            return getFunction.get();\r\n        } catch (NullPointerException ex) {\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\nand then call it in this way.\r\n\r\n    ObjectHelper.getValue(() -&gt; object1.getObject2().getObject3().getObject4()));\r\n\r\n","title":"Check chains of &quot;get&quot; calls for null","body":"<p>implementing nullPointer try/catch with a Supplier you can send it all chain of get</p>\n\n<pre><code>public static &lt;T&gt; T getValue(Supplier&lt;T&gt; getFunction, T defaultValue) {\n    try {\n        return getFunction.get();\n    } catch (NullPointerException ex) {\n        return defaultValue;\n    }\n}\n</code></pre>\n\n<p>and then call it in this way.</p>\n\n<pre><code>ObjectHelper.getValue(() -&gt; object1.getObject2().getObject3().getObject4()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14785435,"reputation":173,"user_id":10677761,"display_name":"Yuebing Cao"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1611330318,"creation_date":1611329358,"answer_id":65848023,"question_id":3458451,"body_markdown":"    // Example\r\n    LazyObject.from(curr).apply(A.class, A::getB).apply(B.class, B::getC).apply(C.class, C::getD).to(String.class);\r\n\r\n    // LazyObject.java\r\n    public class LazyObject {\r\n\r\n    private Object value;\r\n\r\n    private LazyObject(Object object) {\r\n        this.value = object;\r\n    }\r\n\r\n    public &lt;F, T&gt; LazyObject apply(Class&lt;F&gt; type, Function&lt;F, T&gt; func) {\r\n        Object v = value;\r\n        if (type.isInstance(v)) {\r\n            value = func.apply(type.cast(v));\r\n        } else {\r\n            value = null; // dead here\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public &lt;T&gt; void accept(Class&lt;T&gt; type, Consumer&lt;T&gt; consumer) {\r\n        Object v = value;\r\n        if (type.isInstance(v)) {\r\n            consumer.accept(type.cast(v));\r\n        }\r\n    }\r\n\r\n    public &lt;T&gt; T to(Class&lt;T&gt; type) {\r\n        Object v = value;\r\n        if (type.isInstance(v)) {\r\n            return type.cast(v);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static LazyObject from(Object object) {\r\n        return new LazyObject(object);\r\n    }\r\n\r\n    }\r\n\r\n","title":"Check chains of &quot;get&quot; calls for null","body":"<pre><code>// Example\nLazyObject.from(curr).apply(A.class, A::getB).apply(B.class, B::getC).apply(C.class, C::getD).to(String.class);\n\n// LazyObject.java\npublic class LazyObject {\n\nprivate Object value;\n\nprivate LazyObject(Object object) {\n    this.value = object;\n}\n\npublic &lt;F, T&gt; LazyObject apply(Class&lt;F&gt; type, Function&lt;F, T&gt; func) {\n    Object v = value;\n    if (type.isInstance(v)) {\n        value = func.apply(type.cast(v));\n    } else {\n        value = null; // dead here\n    }\n    return this;\n}\n\npublic &lt;T&gt; void accept(Class&lt;T&gt; type, Consumer&lt;T&gt; consumer) {\n    Object v = value;\n    if (type.isInstance(v)) {\n        consumer.accept(type.cast(v));\n    }\n}\n\npublic &lt;T&gt; T to(Class&lt;T&gt; type) {\n    Object v = value;\n    if (type.isInstance(v)) {\n        return type.cast(v);\n    }\n    return null;\n}\n\npublic static LazyObject from(Object object) {\n    return new LazyObject(object);\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2007324,"reputation":506,"user_id":1796826,"display_name":"Laloi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1620224224,"creation_date":1620224224,"answer_id":67403121,"question_id":3458451,"body_markdown":"Better solution for me is to use java.util.Optional.map(..) to chain these checks : https://stackoverflow.com/a/67216752/1796826","title":"Check chains of &quot;get&quot; calls for null","body":"<p>Better solution for me is to use java.util.Optional.map(..) to chain these checks : <a href=\"https://stackoverflow.com/a/67216752/1796826\">https://stackoverflow.com/a/67216752/1796826</a></p>\n"},{"tags":[],"owner":{"account_id":11217663,"reputation":1,"user_id":8229716,"display_name":"Ronit Pradhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676459024,"creation_date":1676459024,"answer_id":75458842,"question_id":3458451,"body_markdown":"You could potentially have a generic method like below:\r\n\r\n    public static &lt;T&gt; void ifPresentThen(final Supplier&lt;T&gt; supplier, final Consumer&lt;T&gt; consumer) {\r\n        T value;\r\n        try {\r\n            value = supplier.get();\r\n        } catch (NullPointerException e) {\r\n            // Don&#39;t consume &quot;then&quot;\r\n            return;\r\n        }\r\n        consumer.accept(value);\r\n    }\r\n\r\nSo now you would be able to do \r\n\r\n    ifPresentThen(\r\n        () -&gt; house.getFloor(0).getWall(WEST).getDoor().getDoorknob(),\r\n        doorKnob -&gt; doSomething());","title":"Check chains of &quot;get&quot; calls for null","body":"<p>You could potentially have a generic method like below:</p>\n<pre><code>public static &lt;T&gt; void ifPresentThen(final Supplier&lt;T&gt; supplier, final Consumer&lt;T&gt; consumer) {\n    T value;\n    try {\n        value = supplier.get();\n    } catch (NullPointerException e) {\n        // Don't consume &quot;then&quot;\n        return;\n    }\n    consumer.accept(value);\n}\n</code></pre>\n<p>So now you would be able to do</p>\n<pre><code>ifPresentThen(\n    () -&gt; house.getFloor(0).getWall(WEST).getDoor().getDoorknob(),\n    doorKnob -&gt; doSomething());\n</code></pre>\n"}],"owner":{"display_name":"user321068"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49579,"favorite_count":0,"down_vote_count":0,"up_vote_count":95,"accepted_answer_id":3458520,"answer_count":11,"score":95,"last_activity_date":1676459024,"creation_date":1281531338,"question_id":3458451,"body_markdown":"Let&#39;s say I&#39;d like to perform the following command:\r\n\r\n    house.getFloor(0).getWall(WEST).getDoor().getDoorknob();\r\n\r\nTo avoid a NullPointerException, I&#39;d have to do the following if:\r\n\r\n    if (house != null &amp;&amp; house.getFloor(0) &amp;&amp; house.getFloor(0).getWall(WEST) != null\r\n      &amp;&amp; house.getFloor(0).getWall(WEST).getDoor() != null) ...\r\n\r\nIs there a way or an already existing Utils class that does this more elegantly, let&#39;s say something like the following?\r\n\r\n    checkForNull(house.getFloor(0).getWall(WEST).getDoor().getDoorknob());\r\n\r\n","title":"Check chains of &quot;get&quot; calls for null","body":"<p>Let's say I'd like to perform the following command:</p>\n\n<pre><code>house.getFloor(0).getWall(WEST).getDoor().getDoorknob();\n</code></pre>\n\n<p>To avoid a NullPointerException, I'd have to do the following if:</p>\n\n<pre><code>if (house != null &amp;&amp; house.getFloor(0) &amp;&amp; house.getFloor(0).getWall(WEST) != null\n  &amp;&amp; house.getFloor(0).getWall(WEST).getDoor() != null) ...\n</code></pre>\n\n<p>Is there a way or an already existing Utils class that does this more elegantly, let's say something like the following?</p>\n\n<pre><code>checkForNull(house.getFloor(0).getWall(WEST).getDoor().getDoorknob());\n</code></pre>\n"},{"tags":["java","rest","runtime","code-coverage","jacoco"],"answers":[{"tags":[],"owner":{"account_id":17044620,"reputation":50,"user_id":12331751,"display_name":"Dr Drake Ramoray"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676458688,"creation_date":1676454485,"answer_id":75457962,"question_id":75447804,"body_markdown":"So basically I got the solution just reset the exec dump at my middleware after the request has been made in this order I am able to get the coverage analysis per request.\r\n\r\n```\r\n ExecDumpClient execDumpClient = new ExecDumpClient();\r\n        execDumpClient.setReset(true);\r\n        execDumpClient.dump(&quot;localhost&quot;, 36320);\r\n```","title":"How can I get Jacoco coverage Report per Request","body":"<p>So basically I got the solution just reset the exec dump at my middleware after the request has been made in this order I am able to get the coverage analysis per request.</p>\n<pre><code> ExecDumpClient execDumpClient = new ExecDumpClient();\n        execDumpClient.setReset(true);\n        execDumpClient.dump(&quot;localhost&quot;, 36320);\n</code></pre>\n"}],"owner":{"account_id":17044620,"reputation":50,"user_id":12331751,"display_name":"Dr Drake Ramoray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75457962,"answer_count":1,"score":0,"last_activity_date":1676458688,"creation_date":1676377533,"question_id":75447804,"body_markdown":"I am using `jacoco` agent to generate my [coverage reports][1] in the form of `xml` files by running the command:\r\n```\r\njava -jar &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/src/main/resources/lib/jacococli.jar report &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/jacoco-it.exec --classfiles &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/classes/com --sourcefiles src/main/java/ --xml &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/report.xml\r\n```\r\nThis basically writes to `jacoco-it.exec` file and it saves previous coverage data as well. \r\nBut I want coverage analysis per request made, is there any way I can erase previous data collected by jacoco agent.\r\n\r\n\r\n\r\n\r\n  [1]: https://dzone.com/articles/code-coverage-report-generator-for-java-projects-a\r\n\r\n","title":"How can I get Jacoco coverage Report per Request","body":"<p>I am using <code>jacoco</code> agent to generate my <a href=\"https://dzone.com/articles/code-coverage-report-generator-for-java-projects-a\" rel=\"nofollow noreferrer\">coverage reports</a> in the form of <code>xml</code> files by running the command:</p>\n<pre><code>java -jar &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/src/main/resources/lib/jacococli.jar report &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/jacoco-it.exec --classfiles &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/classes/com --sourcefiles src/main/java/ --xml &lt;path&gt;/sample_projects/beta/jacoco-code-coverage/jacoco-code-coverage-example/target/report.xml\n</code></pre>\n<p>This basically writes to <code>jacoco-it.exec</code> file and it saves previous coverage data as well.\nBut I want coverage analysis per request made, is there any way I can erase previous data collected by jacoco agent.</p>\n"},{"tags":["java","redis","agent","byte-buddy"],"answers":[{"tags":[],"owner":{"account_id":27732825,"reputation":1,"user_id":21171001,"display_name":"Charan Kamarapu"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1676458594,"creation_date":1676458594,"answer_id":75458761,"question_id":75383095,"body_markdown":"I have reached out to the byte-buddy git hub issues and it was solved. Attaching reference .\r\n\r\n[https://github.com/raphw/byte-buddy/issues/1403][1]\r\n\r\n\r\n  [1]: https://github.com/raphw/byte-buddy/issues/1403","title":"Change parent of the class using instrumentation","body":"<p>I have reached out to the byte-buddy git hub issues and it was solved. Attaching reference .</p>\n<p><a href=\"https://github.com/raphw/byte-buddy/issues/1403\" rel=\"nofollow noreferrer\">https://github.com/raphw/byte-buddy/issues/1403</a></p>\n"}],"owner":{"account_id":27732825,"reputation":1,"user_id":21171001,"display_name":"Charan Kamarapu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75458761,"answer_count":1,"score":0,"last_activity_date":1676458594,"creation_date":1675845236,"question_id":75383095,"body_markdown":"I have a class called Client, it is extending Connection class, I want to make a class called KConnection which extends Connection class, and I want that the parent of the Client should not be Connection but it should be KConnection using bytebuddy agent in the premain using AgentBuilder(). something like this\r\n```\r\nnew AgentBuilder.Default()\r\n        .type(ElementMatchers.named(&quot;Client&quot;))\r\n        .transform(new AgentBuilder.Transformer() {\r\n          @Override\r\n          public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader) {\r\n            return builder.superclass(KConnection.class);\r\n          }\r\n        })\r\n        .installOn(inst);\r\n```\r\nCan anyone guide me over here..?","title":"Change parent of the class using instrumentation","body":"<p>I have a class called Client, it is extending Connection class, I want to make a class called KConnection which extends Connection class, and I want that the parent of the Client should not be Connection but it should be KConnection using bytebuddy agent in the premain using AgentBuilder(). something like this</p>\n<pre><code>new AgentBuilder.Default()\n        .type(ElementMatchers.named(&quot;Client&quot;))\n        .transform(new AgentBuilder.Transformer() {\n          @Override\n          public DynamicType.Builder&lt;?&gt; transform(DynamicType.Builder&lt;?&gt; builder, TypeDescription typeDescription, ClassLoader classLoader) {\n            return builder.superclass(KConnection.class);\n          }\n        })\n        .installOn(inst);\n</code></pre>\n<p>Can anyone guide me over here..?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":4264716,"reputation":1243,"user_id":3488090,"accept_rate":75,"display_name":"Lalit Mehra"},"score":2,"creation_date":1676458061,"post_id":75458627,"comment_id":133139134,"body_markdown":"please share the actual code","body":"please share the actual code"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1676458329,"post_id":75458627,"comment_id":133139197,"body_markdown":"You might need to change `IMyInterface` to `IMyInterface&lt;T&gt;` and just use `List&lt;T&gt; filter(List&lt;T&gt; list)`, then define the type of `T` in the classes, e.g. `Class1 implements IMyInterface&lt;Type1&gt;` etc.","body":"You might need to change <code>IMyInterface</code> to <code>IMyInterface&lt;T&gt;</code> and just use <code>List&lt;T&gt; filter(List&lt;T&gt; list)</code>, then define the type of <code>T</code> in the classes, e.g. <code>Class1 implements IMyInterface&lt;Type1&gt;</code> etc."}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1676458439,"creation_date":1676458439,"answer_id":75458731,"question_id":75458627,"body_markdown":"`&lt;T&gt;` in the method signature of an interface like that means both implementations must accept all types. They each only accept a single specific type.\r\n\r\nYou might be able to resolve by moving the type parameter to the interface-level.\r\n\r\n    interface Filterable&lt;T&gt; {\r\n        List&lt;T&gt; filter(List&lt;T&gt; list);\r\n    }\r\n\r\nThen your classes can specify that they&#39;re a certain kind of filterable:\r\n\r\n    class Class1 implements Filterable&lt;List1&gt; {\r\n        public List&lt;Type1&gt; filter(List&lt;Type1&gt; list) { ... }\r\n    }","title":"Java generics error for two methods with different return types and param type","body":"<p><code>&lt;T&gt;</code> in the method signature of an interface like that means both implementations must accept all types. They each only accept a single specific type.</p>\n<p>You might be able to resolve by moving the type parameter to the interface-level.</p>\n<pre><code>interface Filterable&lt;T&gt; {\n    List&lt;T&gt; filter(List&lt;T&gt; list);\n}\n</code></pre>\n<p>Then your classes can specify that they're a certain kind of filterable:</p>\n<pre><code>class Class1 implements Filterable&lt;List1&gt; {\n    public List&lt;Type1&gt; filter(List&lt;Type1&gt; list) { ... }\n}\n</code></pre>\n"}],"owner":{"account_id":10463177,"reputation":67,"user_id":7741626,"display_name":"htopalov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1676531169,"accepted_answer_id":75458731,"answer_count":1,"score":0,"last_activity_date":1676458439,"creation_date":1676457964,"question_id":75458627,"body_markdown":"I&#39;m new to Java and I&#39;m trying to do a generic method in an interface which is implemented by two classes, but I can&#39;t figure out what is the mistake that I&#39;m doing.\r\nSo we have 2 classes Class1 and Class2 which both implement interface IMyInterface.\r\n1. In Class1 I have a method with the following signature:\r\n\r\n```java\r\npublic List&lt;Type1&gt; filter(List&lt;Type1&gt; list)\r\n```\r\n\r\n2. In Class2 I have a method with the following signature:\r\n\r\n```java\r\npublic List&lt;Type2&gt; filter(List&lt;Type2&gt; list)\r\n```\r\n\r\n3. IMyInterface has method signature: \r\n   \r\n```java\r\n&lt;T&gt; List&lt;T&gt; filter(List&lt;T&gt; list)\r\n```\r\n\r\nResult: \r\n1. IntelliJ is saying that the class does not implement the interface when doing the above, meaning that the signature of the method in the interface is not the same as the one in the classes.\r\n2. both methods have same erasure, yet neither overrides the other\r\nMy goal is to use the same method with 2 different types by implementing IMyInterface instead of writing the same method twice-for each class.\r\nWhere is my mistake and how can I fix it to achieve the above mentioned?\r\n ","title":"Java generics error for two methods with different return types and param type","body":"<p>I'm new to Java and I'm trying to do a generic method in an interface which is implemented by two classes, but I can't figure out what is the mistake that I'm doing.\nSo we have 2 classes Class1 and Class2 which both implement interface IMyInterface.</p>\n<ol>\n<li>In Class1 I have a method with the following signature:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Type1&gt; filter(List&lt;Type1&gt; list)\n</code></pre>\n<ol start=\"2\">\n<li>In Class2 I have a method with the following signature:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Type2&gt; filter(List&lt;Type2&gt; list)\n</code></pre>\n<ol start=\"3\">\n<li>IMyInterface has method signature:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>&lt;T&gt; List&lt;T&gt; filter(List&lt;T&gt; list)\n</code></pre>\n<p>Result:</p>\n<ol>\n<li>IntelliJ is saying that the class does not implement the interface when doing the above, meaning that the signature of the method in the interface is not the same as the one in the classes.</li>\n<li>both methods have same erasure, yet neither overrides the other\nMy goal is to use the same method with 2 different types by implementing IMyInterface instead of writing the same method twice-for each class.\nWhere is my mistake and how can I fix it to achieve the above mentioned?</li>\n</ol>\n"},{"tags":["java","c#","oop","law-of-demeter"],"comments":[{"owner":{"account_id":115345,"reputation":31815,"user_id":302918,"accept_rate":78,"display_name":"juharr"},"score":2,"creation_date":1457638169,"post_id":35925357,"comment_id":59509385,"body_markdown":"Rule 4 is if `ClassOne` has a private field (component) of type `ClassTwo`, then you can call methods on that field from your method in `ClassOne`.","body":"Rule 4 is if <code>ClassOne</code> has a private field (component) of type <code>ClassTwo</code>, then you can call methods on that field from your method in <code>ClassOne</code>."},{"owner":{"account_id":300068,"reputation":2069,"user_id":1211920,"accept_rate":56,"display_name":"Igor"},"score":0,"creation_date":1486402217,"post_id":35925357,"comment_id":71318797,"body_markdown":"I knwo this is Java question, but all rules (including rule 5) can be defined in Kotlin https://gist.github.com/panell/5e1a75746b41f69cf6e2093388e100fc","body":"I knwo this is Java question, but all rules (including rule 5) can be defined in Kotlin <a href=\"https://gist.github.com/panell/5e1a75746b41f69cf6e2093388e100fc\" rel=\"nofollow noreferrer\">gist.github.com/panell/5e1a75746b41f69cf6e2093388e100fc</a>"}],"answers":[{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1670843503,"creation_date":1457639913,"answer_id":35926057,"question_id":35925357,"body_markdown":"&quot;Tell don&#39;t ask&quot; is a bit different. \r\n\r\nDemeter: don&#39;t get something to get something from that to do something on the final thing.\r\n\r\nTDA: don&#39;t retrieve &quot;information&quot; from another object to then make a decision on that. Simple example:\r\n\r\n```java\r\nif (someList.size() == 0) { bla\r\n```\r\n\r\nvs.\r\n\r\n```java\r\nif (someList.isEmpty()) { bla\r\n```\r\n\r\nIn both cases you are calling a method on some other object; but there is a key difference: the first call exposes &quot;internal&quot; state of that other object to you; on which you then make some decision. Whereas, in the &quot;TDA&quot; improved second version; you leave that &quot;status evaluation&quot; within that other object; thereby somehow reducing coupling.\r\n\r\nBut just for the record: that second example *still* makes a decision based on the state of that list. From that point of view, it is just a *slightly* better version than option 1. Ideally, you wouldn&#39;t need such checks. ","title":"What is Law of Demeter?","body":"<p>&quot;Tell don't ask&quot; is a bit different.</p>\n<p>Demeter: don't get something to get something from that to do something on the final thing.</p>\n<p>TDA: don't retrieve &quot;information&quot; from another object to then make a decision on that. Simple example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (someList.size() == 0) { bla\n</code></pre>\n<p>vs.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (someList.isEmpty()) { bla\n</code></pre>\n<p>In both cases you are calling a method on some other object; but there is a key difference: the first call exposes &quot;internal&quot; state of that other object to you; on which you then make some decision. Whereas, in the &quot;TDA&quot; improved second version; you leave that &quot;status evaluation&quot; within that other object; thereby somehow reducing coupling.</p>\n<p>But just for the record: that second example <em>still</em> makes a decision based on the state of that list. From that point of view, it is just a <em>slightly</em> better version than option 1. Ideally, you wouldn't need such checks.</p>\n"},{"tags":[],"owner":{"account_id":7724324,"reputation":2143,"user_id":5849470,"display_name":"Matt Jordan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1457640209,"creation_date":1457640209,"answer_id":35926143,"question_id":35925357,"body_markdown":"The 5th is difficult to represent in C# or Java, since they don&#39;t technically support global variables.  However, in a design pattern that is similar in principle, you could have e.g. a configuration class that just contains globally-accessible static configuration values, such as (C#):\r\n\r\n    internal class MyConfiguration\r\n    {\r\n        private static String MyConfigurationValue; // set in constructor\r\n        MyConfiguration(){ MyConfigurationValue = DoSomethingToLoadValue(); }\r\n        public static String GetMyConfigurationValue(){ return MyConfigurationValue; }\r\n    }\r\n\r\nIn this case (assuming the design pattern was acceptable in all other ways), the Law of Demeter would allow this, since it is globally accessible and intended to be that way.","title":"What is Law of Demeter?","body":"<p>The 5th is difficult to represent in C# or Java, since they don't technically support global variables.  However, in a design pattern that is similar in principle, you could have e.g. a configuration class that just contains globally-accessible static configuration values, such as (C#):</p>\n\n<pre><code>internal class MyConfiguration\n{\n    private static String MyConfigurationValue; // set in constructor\n    MyConfiguration(){ MyConfigurationValue = DoSomethingToLoadValue(); }\n    public static String GetMyConfigurationValue(){ return MyConfigurationValue; }\n}\n</code></pre>\n\n<p>In this case (assuming the design pattern was acceptable in all other ways), the Law of Demeter would allow this, since it is globally accessible and intended to be that way.</p>\n"},{"tags":[],"owner":{"account_id":7602785,"reputation":7564,"user_id":5766732,"display_name":"Robert Br&#228;utigam"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1494501697,"creation_date":1494501697,"answer_id":43913969,"question_id":35925357,"body_markdown":"An example for Rule 5 would be:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class ClassOne {\r\n        public void method1() {\r\n            classTwo.STATIC_INSTANCE.method2();\r\n        }\r\n    }\r\n\r\n    class ClassTwo {\r\n        public static final ClassTwo STATIC_INSTANCE = ...;\r\n\r\n        public void method2() {\r\n        }\r\n    }\r\n\r\nEnums basically work this way, and it&#39;s ok to access enums.\r\n\r\n----------\r\n\r\nYour example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    user.getName().getLastName();\r\n\r\nobviously contradicts the laws, since the object you get from &quot;getName()&quot; will not fall into any of the categories listed. Note: this is wrong even if you are not using chain-calls:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Name name = user.getName();\r\n    name.getLastName(); // &lt;- this is still wrong\r\n\r\nsince the object &quot;name&quot; still does not fall into any of the listed categories.\r\n\r\nHowever things like this are ok:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    reportBuilder.withMargin(5).withFooter(10)\r\n        .withBorder(Color.black).build();\r\n\r\nWhy is this allowed? Because you either get the same object (the reportBuilder) back each time, or maybe a new object each time if the builder is implemented as immutable. Either way, it falls into law 2 or 3, so it&#39;s ok either way.\r\n\r\n----------\r\n\r\nYour third question is &quot;how to obey&quot;. Well, this is a complex question, but just to start, think about what kind of methods are actually forbidden by the laws!\r\n\r\nJust put the laws into negative: We shouldn&#39;t call methods on objects that are already there (because new objects are exempt), and are not my object, or fields of my object, or my parameters. So that leaves objects that are in the fields of *other* objects!\r\n\r\nSo basically that means you shouldn&#39;t be able to &quot;get&quot; access to objects that are not you, not in your fields, and not direct parameters. Which I would summarize as &quot;no getters&quot;!\r\n\r\n","title":"What is Law of Demeter?","body":"<p>An example for Rule 5 would be:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class ClassOne {\n    public void method1() {\n        classTwo.STATIC_INSTANCE.method2();\n    }\n}\n\nclass ClassTwo {\n    public static final ClassTwo STATIC_INSTANCE = ...;\n\n    public void method2() {\n    }\n}\n</code></pre>\n\n<p>Enums basically work this way, and it's ok to access enums.</p>\n\n<hr>\n\n<p>Your example:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>user.getName().getLastName();\n</code></pre>\n\n<p>obviously contradicts the laws, since the object you get from \"getName()\" will not fall into any of the categories listed. Note: this is wrong even if you are not using chain-calls:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Name name = user.getName();\nname.getLastName(); // &lt;- this is still wrong\n</code></pre>\n\n<p>since the object \"name\" still does not fall into any of the listed categories.</p>\n\n<p>However things like this are ok:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>reportBuilder.withMargin(5).withFooter(10)\n    .withBorder(Color.black).build();\n</code></pre>\n\n<p>Why is this allowed? Because you either get the same object (the reportBuilder) back each time, or maybe a new object each time if the builder is implemented as immutable. Either way, it falls into law 2 or 3, so it's ok either way.</p>\n\n<hr>\n\n<p>Your third question is \"how to obey\". Well, this is a complex question, but just to start, think about what kind of methods are actually forbidden by the laws!</p>\n\n<p>Just put the laws into negative: We shouldn't call methods on objects that are already there (because new objects are exempt), and are not my object, or fields of my object, or my parameters. So that leaves objects that are in the fields of <em>other</em> objects!</p>\n\n<p>So basically that means you shouldn't be able to \"get\" access to objects that are not you, not in your fields, and not direct parameters. Which I would summarize as \"no getters\"!</p>\n"}],"owner":{"account_id":7578406,"reputation":363,"user_id":5749901,"display_name":"Anonymous"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5366,"favorite_count":0,"down_vote_count":3,"up_vote_count":16,"accepted_answer_id":35926057,"answer_count":3,"score":13,"last_activity_date":1676458395,"creation_date":1457637605,"question_id":35925357,"body_markdown":"Let&#39;s start with Wikipedia:\r\n\r\n&gt;More formally, the Law of Demeter for functions requires that a method **m** of an object **O** may only invoke the methods of the following kinds of objects:\r\n&gt; \r\n&gt; 1. O itself\r\n&gt; 2. m&#39;s parameters\r\n&gt; 3. Any objects created/instantiated within m\r\n&gt; 4. O&#39;s direct component objects\r\n&gt; 5. A global variable, accessible by O, in the scope of m\r\n\r\nRule 1:\r\n\r\n    public class ClassOne {\r\n\t\r\n\t    public void method1() {\r\n\t\t    method2();\r\n\t    }\r\n\r\n\t    public void method2() {\r\n\t\t\r\n\t    }\r\n    }\r\n\r\nRule 2:\r\n\r\n    public class ClassOne {\r\n\t\r\n\t    public void method1(ClassTwo classTwo) {\r\n\t\t    classTwo.method2();\r\n\t    }\r\n    }\r\n\r\n    class ClassTwo {\r\n\r\n\t    public void method2() {\r\n\t\t   \r\n\t    }\r\n    }\r\n\r\nRule 3:  \r\n\r\n    public class ClassOne {\r\n\t\r\n\t    public void method1() {\r\n            ClassTwo classTwo = new ClassTwo();\r\n\t\t    classTwo.method2();\r\n\t    }\r\n    }\r\n\r\n    class ClassTwo {\r\n\r\n\t    public void method2() {\r\n\t\t   \r\n\t    }\r\n    }\r\n\r\nRule 4 (thanks @juharr):\r\n\r\n    public class ClassOne {\r\n\r\n        private ClassTwo classTwo;\r\n\t\r\n\t    public void method1() {\r\n            classTwo = new ClassTwo();\r\n\t\t    classTwo.method2();\r\n\t    }\r\n    }\r\n\r\n    class ClassTwo {\r\n\r\n\t    public void method2() {\r\n\t\t   \r\n\t    }\r\n    }\r\n\r\nRule 5:\r\n\r\n    ?\r\n\r\nCan anyone help me with Rule 5?\r\n\r\n---\r\n\r\nAnd doesn&#39;t Law of Demeter imply that chaining is bad?\r\n\r\n    User.getName().getLastName();\r\n\r\nThis leads to high coupling.\r\n\r\n---\r\n\r\nIsn&#39;t &quot;Tell, don&#39;t ask&quot; a similar principle? \r\n\r\nSo is this everything? Am I wrong about something? How can you obey Law of Demeter? \r\n","title":"What is Law of Demeter?","body":"<p>Let's start with Wikipedia:</p>\n\n<blockquote>\n  <p>More formally, the Law of Demeter for functions requires that a method <strong>m</strong> of an object <strong>O</strong> may only invoke the methods of the following kinds of objects:</p>\n  \n  <ol>\n  <li>O itself</li>\n  <li>m's parameters</li>\n  <li>Any objects created/instantiated within m</li>\n  <li>O's direct component objects</li>\n  <li>A global variable, accessible by O, in the scope of m</li>\n  </ol>\n</blockquote>\n\n<p>Rule 1:</p>\n\n<pre><code>public class ClassOne {\n\n    public void method1() {\n        method2();\n    }\n\n    public void method2() {\n\n    }\n}\n</code></pre>\n\n<p>Rule 2:</p>\n\n<pre><code>public class ClassOne {\n\n    public void method1(ClassTwo classTwo) {\n        classTwo.method2();\n    }\n}\n\nclass ClassTwo {\n\n    public void method2() {\n\n    }\n}\n</code></pre>\n\n<p>Rule 3:  </p>\n\n<pre><code>public class ClassOne {\n\n    public void method1() {\n        ClassTwo classTwo = new ClassTwo();\n        classTwo.method2();\n    }\n}\n\nclass ClassTwo {\n\n    public void method2() {\n\n    }\n}\n</code></pre>\n\n<p>Rule 4 (thanks @juharr):</p>\n\n<pre><code>public class ClassOne {\n\n    private ClassTwo classTwo;\n\n    public void method1() {\n        classTwo = new ClassTwo();\n        classTwo.method2();\n    }\n}\n\nclass ClassTwo {\n\n    public void method2() {\n\n    }\n}\n</code></pre>\n\n<p>Rule 5:</p>\n\n<pre><code>?\n</code></pre>\n\n<p>Can anyone help me with Rule 5?</p>\n\n<hr>\n\n<p>And doesn't Law of Demeter imply that chaining is bad?</p>\n\n<pre><code>User.getName().getLastName();\n</code></pre>\n\n<p>This leads to high coupling.</p>\n\n<hr>\n\n<p>Isn't \"Tell, don't ask\" a similar principle? </p>\n\n<p>So is this everything? Am I wrong about something? How can you obey Law of Demeter? </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9346,"page":646,"page_size":100}
