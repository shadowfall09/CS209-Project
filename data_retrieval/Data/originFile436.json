{"items":[{"tags":["java"],"owner":{"account_id":27511342,"reputation":1,"user_id":20993185,"display_name":"cgcgccg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684048046,"creation_date":1684048046,"question_id":76246262,"body_markdown":"I config my openshift-client as follow.I try to use this client to do something.Like list configmaps\r\n```\r\nOpenShiftClient adapt = new KubernetesClientBuilder().withConfig(new ConfigBuilder()\r\n                .withMasterUrl(&quot;http://xxx:8080&quot;)\r\n                .withNamespace(&quot;default&quot;)\r\n                .withTrustCerts(true).withUsername(&quot;admin&quot;).withPassword(&quot;admin&quot;)\r\n                .build()).build().adapt(OpenShiftClient.class);\r\n        \r\nConfigMapList list = adapt.configMaps().list();\r\n```\r\nBut operation return this error:\r\n\r\nconfigmaps is forbidden: user &quot;system:anonymous&quot; cannot list resource...\r\n\r\nI can use username and password to login openshift,and do some operation.But cannot use openshift-client to do this.I can do this at fabric8 6.5.0,but at version 6.5.1 will  throw exception.How can I do?","title":"Fabric8 Openshift-client 6.5.1 return forbidden","body":"<p>I config my openshift-client as follow.I try to use this client to do something.Like list configmaps</p>\n<pre><code>OpenShiftClient adapt = new KubernetesClientBuilder().withConfig(new ConfigBuilder()\n                .withMasterUrl(&quot;http://xxx:8080&quot;)\n                .withNamespace(&quot;default&quot;)\n                .withTrustCerts(true).withUsername(&quot;admin&quot;).withPassword(&quot;admin&quot;)\n                .build()).build().adapt(OpenShiftClient.class);\n        \nConfigMapList list = adapt.configMaps().list();\n</code></pre>\n<p>But operation return this error:</p>\n<p>configmaps is forbidden: user &quot;system:anonymous&quot; cannot list resource...</p>\n<p>I can use username and password to login openshift,and do some operation.But cannot use openshift-client to do this.I can do this at fabric8 6.5.0,but at version 6.5.1 will  throw exception.How can I do?</p>\n"},{"tags":["python","java","android","flask"],"comments":[{"owner":{"account_id":5582036,"reputation":461,"user_id":4423647,"display_name":"Viroj Fernando"},"score":0,"creation_date":1684046654,"post_id":76246119,"comment_id":134457370,"body_markdown":"this is possible, in this scenario no need to pass the whole file to the server. just send the content. and send back the Python code you generate. and write a logic in the android java side to write it into a file with .py as the extension.  I hope this is clear! cheers!","body":"this is possible, in this scenario no need to pass the whole file to the server. just send the content. and send back the Python code you generate. and write a logic in the android java side to write it into a file with .py as the extension.  I hope this is clear! cheers!"},{"owner":{"account_id":26561664,"reputation":3,"user_id":20189397,"display_name":"user20189397"},"score":0,"creation_date":1684047681,"post_id":76246119,"comment_id":134457477,"body_markdown":"if you possible, can you give me the code?","body":"if you possible, can you give me the code?"}],"owner":{"account_id":26561664,"reputation":3,"user_id":20189397,"display_name":"user20189397"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684045398,"creation_date":1684045398,"question_id":76246119,"body_markdown":"\r\n```\r\n`import io\r\n\r\nfrom flask import Flask, request, jsonify, send_file\r\n\r\napp = Flask(__name__)\r\n\r\n@app.route(&#39;/upload_file&#39;, methods=[&#39;POST&#39;])\r\n#@app.route(&#39;/&#39;, methods=[&#39;GET&#39;,&#39;POST&#39;])\r\ndef receive_file_contents():\r\n    file_contents = request.get_data(as_text=True)\r\n    #file_content = request.data.decode(&#39;utf-8&#39;)\r\n    #result = {&#39;message&#39;: &#39;File processed successfully&#39;}\r\n    return file_contents, 200\r\n\r\n    # Process the file contents as needed\r\n    # You can perform computations, manipulations, or store the data in a database\r\n\r\n    #return &quot;File contents received and processed successfully&quot;\r\n    #return file_contents\r\n@app.route(&#39;/download_file&#39;, methods=[&#39;GET&#39;])\r\ndef download_file():\r\n    # Generate the file content here\r\n    file_content = b&#39;This is the file content&#39;\r\n\r\n    # Return the file content as a file download\r\n    return send_file(io.BytesIO(file_content), as_attachment=True)\r\n\r\nif __name__ == &#39;__main__&#39;:\r\n    app.run(host=&#39;0.0.0.0&#39;, port=12345)`\r\n```\r\n\r\n\r\n\r\n\r\n\r\n```\r\n`public class socket_test extends AppCompatActivity {\r\n\r\n    private TextView textView;\r\n\r\n    private static final String SERVER_IP = &quot;127.0.0.1&quot;;\r\n    private static final int SERVER_PORT =12345;\r\n    private static final String SERVER_URL = &quot;http://127.0.0.1:12345/&quot;;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_file);\r\n\r\n        //textView = findViewById(R.id.FileName);\r\n    }\r\n\r\n    public void selectFile(View view) {\r\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n        intent.setType(&quot;text/plain&quot;);\r\n        startActivityForResult(intent, 1);\r\n    }\r\n\r\n    @Override\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK) {\r\n            try {\r\n                InputStream inputStream = getContentResolver().openInputStream(data.getData());\r\n                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n                StringBuilder stringBuilder = new StringBuilder();\r\n                String line;\r\n\r\n                while ((line = reader.readLine()) != null) {\r\n                    stringBuilder.append(line);\r\n                }\r\n\r\n                inputStream.close();\r\n\r\n                String fileContent = stringBuilder.toString();\r\n\r\n                // Send the file content to the Python server\r\n                sendToServer(fileContent);\r\n\r\n                Intent intent = new Intent(this, output.class);\r\n                intent.putExtra(&quot;fileContent&quot;, fileContent);\r\n                startActivity(intent);\r\n\r\n                // Update the text of the TextView with the file content\r\n                //textView.setText(fileContent);\r\n\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    /*private void sendToServer(String message) {\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Socket socket = new Socket(SERVER_IP, SERVER_PORT);\r\n                    OutputStream outputStream = socket.getOutputStream();\r\n                    outputStream.write(message.getBytes());\r\n                    socket.close();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).start();\r\n    }*/\r\n    private void sendToServer(String fileContent) {\r\n        new Thread(new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    OkHttpClient client = new OkHttpClient();\r\n                    RequestBody requestBody = new MultipartBody.Builder()\r\n                            .setType(MultipartBody.FORM)\r\n                            .addFormDataPart(&quot;fileContent&quot;, fileContent)\r\n                            .build();\r\n\r\n                    Request request = new Request.Builder()\r\n                            .url(SERVER_URL)\r\n                            .post(requestBody)\r\n                            .build();\r\n\r\n                    Response response = client.newCall(request).execute();\r\n                    if (!response.isSuccessful()) {\r\n                        throw new IOException(&quot;Unexpected code &quot; + response);\r\n                    }\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }).start();\r\n    }\r\n}`\r\n\r\n```\r\n\r\n\r\nfirst one is python code for flask server.  second one is java code in android studio.  What I want to do is, when I select a file in Android, the text file is passed to the flask server. So, we will apply the Python code to that file and send the result back to the Android application. is this possible without db? tell me the way how to do this...","title":"android studio and flask server","body":"<pre><code>`import io\n\nfrom flask import Flask, request, jsonify, send_file\n\napp = Flask(__name__)\n\n@app.route('/upload_file', methods=['POST'])\n#@app.route('/', methods=['GET','POST'])\ndef receive_file_contents():\n    file_contents = request.get_data(as_text=True)\n    #file_content = request.data.decode('utf-8')\n    #result = {'message': 'File processed successfully'}\n    return file_contents, 200\n\n    # Process the file contents as needed\n    # You can perform computations, manipulations, or store the data in a database\n\n    #return &quot;File contents received and processed successfully&quot;\n    #return file_contents\n@app.route('/download_file', methods=['GET'])\ndef download_file():\n    # Generate the file content here\n    file_content = b'This is the file content'\n\n    # Return the file content as a file download\n    return send_file(io.BytesIO(file_content), as_attachment=True)\n\nif __name__ == '__main__':\n    app.run(host='0.0.0.0', port=12345)`\n</code></pre>\n<pre><code>`public class socket_test extends AppCompatActivity {\n\n    private TextView textView;\n\n    private static final String SERVER_IP = &quot;127.0.0.1&quot;;\n    private static final int SERVER_PORT =12345;\n    private static final String SERVER_URL = &quot;http://127.0.0.1:12345/&quot;;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_file);\n\n        //textView = findViewById(R.id.FileName);\n    }\n\n    public void selectFile(View view) {\n        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n        intent.setType(&quot;text/plain&quot;);\n        startActivityForResult(intent, 1);\n    }\n\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n\n        if (requestCode == 1 &amp;&amp; resultCode == RESULT_OK) {\n            try {\n                InputStream inputStream = getContentResolver().openInputStream(data.getData());\n                BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n                StringBuilder stringBuilder = new StringBuilder();\n                String line;\n\n                while ((line = reader.readLine()) != null) {\n                    stringBuilder.append(line);\n                }\n\n                inputStream.close();\n\n                String fileContent = stringBuilder.toString();\n\n                // Send the file content to the Python server\n                sendToServer(fileContent);\n\n                Intent intent = new Intent(this, output.class);\n                intent.putExtra(&quot;fileContent&quot;, fileContent);\n                startActivity(intent);\n\n                // Update the text of the TextView with the file content\n                //textView.setText(fileContent);\n\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    /*private void sendToServer(String message) {\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    Socket socket = new Socket(SERVER_IP, SERVER_PORT);\n                    OutputStream outputStream = socket.getOutputStream();\n                    outputStream.write(message.getBytes());\n                    socket.close();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }).start();\n    }*/\n    private void sendToServer(String fileContent) {\n        new Thread(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    OkHttpClient client = new OkHttpClient();\n                    RequestBody requestBody = new MultipartBody.Builder()\n                            .setType(MultipartBody.FORM)\n                            .addFormDataPart(&quot;fileContent&quot;, fileContent)\n                            .build();\n\n                    Request request = new Request.Builder()\n                            .url(SERVER_URL)\n                            .post(requestBody)\n                            .build();\n\n                    Response response = client.newCall(request).execute();\n                    if (!response.isSuccessful()) {\n                        throw new IOException(&quot;Unexpected code &quot; + response);\n                    }\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n        }).start();\n    }\n}`\n\n</code></pre>\n<p>first one is python code for flask server.  second one is java code in android studio.  What I want to do is, when I select a file in Android, the text file is passed to the flask server. So, we will apply the Python code to that file and send the result back to the Android application. is this possible without db? tell me the way how to do this...</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":1249277,"reputation":1622,"user_id":1210038,"accept_rate":53,"display_name":"Harshal Pandya"},"score":0,"creation_date":1367555234,"post_id":16351555,"comment_id":23425021,"body_markdown":"I guess you can&#39;t do that in Java, no pointers.","body":"I guess you can&#39;t do that in Java, no pointers."},{"owner":{"account_id":2625504,"reputation":411,"user_id":2272595,"display_name":"Michael O&#39;Brien"},"score":0,"creation_date":1367555245,"post_id":16351555,"comment_id":23425023,"body_markdown":"This may be of assistance http://stackoverflow.com/questions/7060215/how-can-i-get-the-memory-location-of-a-object-in-java","body":"This may be of assistance <a href=\"http://stackoverflow.com/questions/7060215/how-can-i-get-the-memory-location-of-a-object-in-java\" title=\"how can i get the memory location of a object in java\">stackoverflow.com/questions/7060215/&hellip;</a>"},{"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"score":0,"creation_date":1367555277,"post_id":16351555,"comment_id":23425027,"body_markdown":"Actually, you can, though its neither recommended, nor straightforward, see my answer","body":"Actually, you can, though its neither recommended, nor straightforward, see my answer"}],"answers":[{"tags":[],"owner":{"account_id":61562,"reputation":14771,"user_id":183397,"accept_rate":100,"display_name":"clstrfsck"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1367555317,"creation_date":1367555317,"answer_id":16351588,"question_id":16351555,"body_markdown":"Memory addresses aren&#39;t generally available through the Java language, but `System.identityHashCode(myString1)` might be close enough, depending on what you are trying to achieve.","title":"printing the address of the string instances","body":"<p>Memory addresses aren't generally available through the Java language, but <code>System.identityHashCode(myString1)</code> might be close enough, depending on what you are trying to achieve.</p>\n"},{"tags":[],"owner":{"account_id":1855216,"reputation":25463,"user_id":1680957,"accept_rate":66,"display_name":"Aniket Inge"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1367555325,"creation_date":1367555325,"answer_id":16351591,"question_id":16351555,"body_markdown":"Actually you cannot. JVM handles the memory and the gc can shift the data around when it sees fit. \r\n\r\nSo there is no &quot;real&quot; concept of a memory address within Java(it only is the concern of the JVM)","title":"printing the address of the string instances","body":"<p>Actually you cannot. JVM handles the memory and the gc can shift the data around when it sees fit. </p>\n\n<p>So there is no \"real\" concept of a memory address within Java(it only is the concern of the JVM)</p>\n"},{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1367555331,"creation_date":1367555331,"answer_id":16351592,"question_id":16351555,"body_markdown":"As pointed out my comment, this isn&#39;t recommended practise, but since you asked...\r\n\r\n    private static Unsafe unsafe;\r\n\r\n    static\r\n    {\r\n        try\r\n        {\r\n            Field field = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n            field.setAccessible(true);\r\n            unsafe = (Unsafe)field.get(null);\r\n        }\r\n        catch (Exception e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static long addressOf(Object o)\r\n    throws Exception\r\n    {\r\n        Object[] array = new Object[] {o};\r\n\r\n        long baseOffset = unsafe.arrayBaseOffset(Object[].class);\r\n        int addressSize = unsafe.addressSize();\r\n        long objectAddress;\r\n        switch (addressSize)\r\n        {\r\n            case 4:\r\n                objectAddress = unsafe.getInt(array, baseOffset);\r\n                break;\r\n            case 8:\r\n                objectAddress = unsafe.getLong(array, baseOffset);\r\n                break;\r\n            default:\r\n                throw new Error(&quot;unsupported address size: &quot; + addressSize);\r\n        }       \r\n\r\n        return(objectAddress);\r\n    }","title":"printing the address of the string instances","body":"<p>As pointed out my comment, this isn't recommended practise, but since you asked...</p>\n\n<pre><code>private static Unsafe unsafe;\n\nstatic\n{\n    try\n    {\n        Field field = Unsafe.class.getDeclaredField(\"theUnsafe\");\n        field.setAccessible(true);\n        unsafe = (Unsafe)field.get(null);\n    }\n    catch (Exception e)\n    {\n        e.printStackTrace();\n    }\n}\n\npublic static long addressOf(Object o)\nthrows Exception\n{\n    Object[] array = new Object[] {o};\n\n    long baseOffset = unsafe.arrayBaseOffset(Object[].class);\n    int addressSize = unsafe.addressSize();\n    long objectAddress;\n    switch (addressSize)\n    {\n        case 4:\n            objectAddress = unsafe.getInt(array, baseOffset);\n            break;\n        case 8:\n            objectAddress = unsafe.getLong(array, baseOffset);\n            break;\n        default:\n            throw new Error(\"unsupported address size: \" + addressSize);\n    }       \n\n    return(objectAddress);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294958,"reputation":1072,"user_id":2016628,"accept_rate":57,"display_name":"renz"},"down_vote_count":10,"up_vote_count":18,"is_accepted":true,"score":8,"last_activity_date":1532422327,"creation_date":1367558310,"answer_id":16352072,"question_id":16351555,"body_markdown":"If you mean &quot;address&quot; as this:\r\n\r\n    System.out.println(new Object());\r\n\r\njava.lang.Object@**31ec0130**\r\n\r\nthen you can just do,\r\n\r\n    String s = new String(&quot;one&quot;);\r\n    System.out.println(Integer.toHexString(s.hashCode()));\r\n\r\n1ae66\r\n\r\nSince what you think is the &quot;address&quot; is just the hashCode() converted to hex string.\r\n\r\n\r\n----------\r\n\r\n&gt; **Side Note**   \r\nThis answer was historically accepted as correct and will only work for classes that didn&#39;t override the `hashCode()`\r\n&gt; method, but **(as mentioned in comments) it will not work for `String`\r\n&gt; classes** since they override the `hashCode()` method. Readers looking for up-to-date\r\n&gt; information on the topic of this question should first go through all\r\n&gt; the comments/discussion on this answer and should consult further\r\n&gt; resources, or ask a new question citing this question and answer and\r\n&gt; explicitly asking for new information on things that have changed\r\n&gt; since they were written.","title":"printing the address of the string instances","body":"<p>If you mean \"address\" as this:</p>\n\n<pre><code>System.out.println(new Object());\n</code></pre>\n\n<p>java.lang.Object@<strong>31ec0130</strong></p>\n\n<p>then you can just do,</p>\n\n<pre><code>String s = new String(\"one\");\nSystem.out.println(Integer.toHexString(s.hashCode()));\n</code></pre>\n\n<p>1ae66</p>\n\n<p>Since what you think is the \"address\" is just the hashCode() converted to hex string.</p>\n\n<hr>\n\n<blockquote>\n  <p><strong>Side Note</strong><br>\n  This answer was historically accepted as correct and will only work for classes that didn't override the <code>hashCode()</code>\n  method, but <strong>(as mentioned in comments) it will not work for <code>String</code>\n  classes</strong> since they override the <code>hashCode()</code> method. Readers looking for up-to-date\n  information on the topic of this question should first go through all\n  the comments/discussion on this answer and should consult further\n  resources, or ask a new question citing this question and answer and\n  explicitly asking for new information on things that have changed\n  since they were written.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":4074492,"reputation":1,"user_id":3346517,"display_name":"user3346517"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1445495331,"creation_date":1393242594,"answer_id":21986914,"question_id":16351555,"body_markdown":"simply right ur string name followed by this code:\r\n\r\n    string object.getClass.getName()+&#39;@&#39;+Integer.toHexString(string boject.hashCode());\r\n\r\nexample:\r\n\r\n    String str=new String(&quot;Hello&quot;);\r\n    System.out.println(str.getClass.getName+&#39;@&#39;+Integer.toHexString(str.hashCode());\r\n\r\n","title":"printing the address of the string instances","body":"<p>simply right ur string name followed by this code:</p>\n\n<pre><code>string object.getClass.getName()+'@'+Integer.toHexString(string boject.hashCode());\n</code></pre>\n\n<p>example:</p>\n\n<pre><code>String str=new String(\"Hello\");\nSystem.out.println(str.getClass.getName+'@'+Integer.toHexString(str.hashCode());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2632131,"reputation":761,"user_id":2277812,"accept_rate":20,"display_name":"chikitin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1456481213,"creation_date":1456481213,"answer_id":35648773,"question_id":16351555,"body_markdown":"Why don&#39;t you use printf with %b:\r\n\r\n    String s= new String(&quot;Hello&quot;);\r\n    System.out.println(Integer.toHexString(s.hashCode()));\r\n    System.out.printf(&quot;address of the reference variable s holding string \\&quot;%s\\&quot; is %h%n&quot;, s,s);","title":"printing the address of the string instances","body":"<p>Why don't you use printf with %b:</p>\n\n<pre><code>String s= new String(\"Hello\");\nSystem.out.println(Integer.toHexString(s.hashCode()));\nSystem.out.printf(\"address of the reference variable s holding string \\\"%s\\\" is %h%n\", s,s);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":951457,"reputation":605,"user_id":977528,"accept_rate":0,"display_name":"Andrew Niken"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1481068638,"creation_date":1481068323,"answer_id":41007064,"question_id":16351555,"body_markdown":"it seems like you all are INCORRECT! \r\nIll try to explain : \r\n\r\n            String s = new String(&quot;hi Mr. Buddy&quot;);\r\n    //        s = = &quot;hi Mr. Buddy&quot;; //is false\r\n    //        s.equals(&quot;hi Mr. Buddy&quot;); //is true\r\n            System.out.println( s.hashCode() );\r\n            System.out.println( &quot;hi Mr. Buddy&quot;.hashCode() );\r\n    \r\n            System.out.println( &quot;hi Mr. Buddy&quot; == s );\r\n    \r\n            System.out.println( &quot;hi Mr. Buddy&quot; );\r\n\r\nresult of this in my case : \r\n\r\n    1372880496\r\n    1372880496\r\n    false\r\n    hi Mr. Buddy\r\n\r\nAs we see the hashCode() are same, but String has differet addresses (bcs &quot;hi Mr. Buddy&quot; == s &gt;&gt;== false ) \r\n? what do you think ?\r\n\r\nI found : \r\n\r\n    System.out.println( &quot;s=&quot; + System.identityHashCode( s ) );\r\n    System.out.println( &quot;..=&quot; + System.identityHashCode( &quot;hi Mr. Buddy&quot; ) );\r\n\r\nthe result is: \r\n\r\n    s=733003674\r\n    ..=1626549726\r\n\r\n","title":"printing the address of the string instances","body":"<p>it seems like you all are INCORRECT! \nIll try to explain : </p>\n\n<pre><code>        String s = new String(\"hi Mr. Buddy\");\n//        s = = \"hi Mr. Buddy\"; //is false\n//        s.equals(\"hi Mr. Buddy\"); //is true\n        System.out.println( s.hashCode() );\n        System.out.println( \"hi Mr. Buddy\".hashCode() );\n\n        System.out.println( \"hi Mr. Buddy\" == s );\n\n        System.out.println( \"hi Mr. Buddy\" );\n</code></pre>\n\n<p>result of this in my case : </p>\n\n<pre><code>1372880496\n1372880496\nfalse\nhi Mr. Buddy\n</code></pre>\n\n<p>As we see the hashCode() are same, but String has differet addresses (bcs \"hi Mr. Buddy\" == s >>== false ) \n? what do you think ?</p>\n\n<p>I found : </p>\n\n<pre><code>System.out.println( \"s=\" + System.identityHashCode( s ) );\nSystem.out.println( \"..=\" + System.identityHashCode( \"hi Mr. Buddy\" ) );\n</code></pre>\n\n<p>the result is: </p>\n\n<pre><code>s=733003674\n..=1626549726\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3135722,"reputation":348,"user_id":2652269,"display_name":"Chintan Pandya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543378646,"creation_date":1543378646,"answer_id":53512056,"question_id":16351555,"body_markdown":"I think answer by @AnNik should be considered as correct answer. Below is the comparison,\r\n\r\n       String s1= &quot;abc&quot;;\r\n        String s2 = new String(&quot;abc&quot;);\r\n        String s3= &quot;abc&quot;;\r\n\r\n\r\n        System.out.println(Integer.toHexString(s1.hashCode()));\r\n        System.out.println(Integer.toHexString(s2.hashCode()));\r\n        System.out.println(Integer.toHexString(s3.hashCode()));\r\n        System.out.println(System.identityHashCode(s1));\r\n        System.out.println(System.identityHashCode(s2));\r\n        System.out.println(System.identityHashCode(s3));\r\nOutput: \r\n\r\n    17862\r\n    17862\r\n    17862\r\n    356573597\r\n    1735600054\r\n    356573597\r\n","title":"printing the address of the string instances","body":"<p>I think answer by @AnNik should be considered as correct answer. Below is the comparison,</p>\n\n<pre><code>   String s1= \"abc\";\n    String s2 = new String(\"abc\");\n    String s3= \"abc\";\n\n\n    System.out.println(Integer.toHexString(s1.hashCode()));\n    System.out.println(Integer.toHexString(s2.hashCode()));\n    System.out.println(Integer.toHexString(s3.hashCode()));\n    System.out.println(System.identityHashCode(s1));\n    System.out.println(System.identityHashCode(s2));\n    System.out.println(System.identityHashCode(s3));\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>17862\n17862\n17862\n356573597\n1735600054\n356573597\n</code></pre>\n"}],"owner":{"display_name":"user1396008"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64170,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":16352072,"answer_count":8,"score":23,"last_activity_date":1684043497,"creation_date":1367555063,"question_id":16351555,"body_markdown":"    package com.testProject;\r\n    public class JavaSample {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tString myString1 = new String(&quot;Sample1&quot;);\r\n    \t\tSystem.out.println(myString1);\r\n    \t\tString myString2 = new String(&quot;Sample2&quot;);\r\n    \t\tSystem.out.println(myString2);\r\n    \t}\r\n    }\r\n\r\nin the above piece of code how to print the address of these Strings which i created &quot;Sample1&quot; and &quot;Sample2&quot;, i need to print the memory location of the String object myString1 and myString2","title":"printing the address of the string instances","body":"<pre><code>package com.testProject;\npublic class JavaSample {\n\n    public static void main(String[] args) {\n\n        String myString1 = new String(\"Sample1\");\n        System.out.println(myString1);\n        String myString2 = new String(\"Sample2\");\n        System.out.println(myString2);\n    }\n}\n</code></pre>\n\n<p>in the above piece of code how to print the address of these Strings which i created \"Sample1\" and \"Sample2\", i need to print the memory location of the String object myString1 and myString2</p>\n"},{"tags":["java","maven","dependencies","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546018740,"creation_date":1546018740,"answer_id":53962300,"question_id":53962059,"body_markdown":"There are some misunderstands here:\r\n\r\n- You do not need to exclude &quot;duplicate&quot; dependencies. Maven does not add them twice to the classpath. You need to care for version numbers, though. If different versions of the same artifact appear in your dependency tree, Maven chooses one of them. If you are not happy with the choice, you can overwrite it with `&lt;dependencyManagement&gt;`.\r\n\r\n- if you write an exclusion (which you probably do not need here), you need to fill in the correct groupId and artifactId. If you try to exclude artifacs with the artifactId `javax.mail`, it is no wonder that `mailapi` is still there. ","title":"How to exclude a dependecy from being installed via Maven using intelliJ?","body":"<p>There are some misunderstands here:</p>\n\n<ul>\n<li><p>You do not need to exclude \"duplicate\" dependencies. Maven does not add them twice to the classpath. You need to care for version numbers, though. If different versions of the same artifact appear in your dependency tree, Maven chooses one of them. If you are not happy with the choice, you can overwrite it with <code>&lt;dependencyManagement&gt;</code>.</p></li>\n<li><p>if you write an exclusion (which you probably do not need here), you need to fill in the correct groupId and artifactId. If you try to exclude artifacs with the artifactId <code>javax.mail</code>, it is no wonder that <code>mailapi</code> is still there. </p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13853510,"reputation":417,"user_id":10000883,"display_name":"SamP"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1546023139,"creation_date":1546023139,"answer_id":53963086,"question_id":53962059,"body_markdown":"Adding the following exclusion resolved my issue:\r\n\r\n\r\n           &lt;dependency&gt;\r\n               &lt;groupId&gt;com.github.fge&lt;/groupId&gt;\r\n               &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\r\n               &lt;version&gt;2.2.6&lt;/version&gt;\r\n               &lt;exclusions&gt;\r\n                   &lt;exclusion&gt;\r\n                       &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n                       &lt;artifactId&gt;mailapi&lt;/artifactId&gt;\r\n                   &lt;/exclusion&gt;\r\n               &lt;/exclusions&gt;\r\n           &lt;/dependency&gt;","title":"How to exclude a dependecy from being installed via Maven using intelliJ?","body":"<p>Adding the following exclusion resolved my issue:</p>\n\n<pre><code>       &lt;dependency&gt;\n           &lt;groupId&gt;com.github.fge&lt;/groupId&gt;\n           &lt;artifactId&gt;json-schema-validator&lt;/artifactId&gt;\n           &lt;version&gt;2.2.6&lt;/version&gt;\n           &lt;exclusions&gt;\n               &lt;exclusion&gt;\n                   &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n                   &lt;artifactId&gt;mailapi&lt;/artifactId&gt;\n               &lt;/exclusion&gt;\n           &lt;/exclusions&gt;\n       &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6212239,"reputation":56,"user_id":4838199,"display_name":"shailesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684043345,"creation_date":1684043345,"answer_id":76246040,"question_id":53962059,"body_markdown":"It causes due to version conflict because same API used as dependent in another added dependency in POM file.\r\n\r\nOne of the solution is to first check hoe many times same API used with different version\r\n\r\n&gt; mvn dependency:tree\r\n\r\n \r\n\r\nAbove command will display all dependencies used in your project. Now exclude same dependency which is used as dependent.\r\n\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mailapi&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;  \r\n\r\nAfter applying changes update maven pom\r\n\r\n    mvn clean compile","title":"How to exclude a dependecy from being installed via Maven using intelliJ?","body":"<p>It causes due to version conflict because same API used as dependent in another added dependency in POM file.</p>\n<p>One of the solution is to first check hoe many times same API used with different version</p>\n<blockquote>\n<p>mvn dependency:tree</p>\n</blockquote>\n<p>Above command will display all dependencies used in your project. Now exclude same dependency which is used as dependent.</p>\n<pre><code>&lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mailapi&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;  \n</code></pre>\n<p>After applying changes update maven pom</p>\n<pre><code>mvn clean compile\n</code></pre>\n"}],"owner":{"account_id":13853510,"reputation":417,"user_id":10000883,"display_name":"SamP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1648,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684043345,"creation_date":1546017392,"question_id":53962059,"body_markdown":"I have currently created a Maven project and located a duplicate dependency which is affecting my code from executing as intended. \r\n\r\nI have both dependencies:\r\njson-schema-validator\r\njavax.mail\r\n\r\nAfter further investigations it seems the json-schema-validator dependency also downloads a javax mail jar file, is there a way to exclude json-schema-validator from also downloading javax.mail related dependencies?\r\n\r\nSo far I have setup the following which does not seem to work:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAs you can see from the image I have attempted to exclude the dependency, with no luck by using an exclusion within my pom.xml file.\r\n\r\nPlease note also the following exclusion does not seem to work:\r\n\r\n      &lt;exclusion&gt;\r\n               &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n               &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n           &lt;/exclusion&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FcrnN.png\r\n  [2]: https://i.stack.imgur.com/wLk92.png","title":"How to exclude a dependecy from being installed via Maven using intelliJ?","body":"<p>I have currently created a Maven project and located a duplicate dependency which is affecting my code from executing as intended. </p>\n\n<p>I have both dependencies:\njson-schema-validator\njavax.mail</p>\n\n<p>After further investigations it seems the json-schema-validator dependency also downloads a javax mail jar file, is there a way to exclude json-schema-validator from also downloading javax.mail related dependencies?</p>\n\n<p>So far I have setup the following which does not seem to work:\n<a href=\"https://i.stack.imgur.com/FcrnN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FcrnN.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/wLk92.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wLk92.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see from the image I have attempted to exclude the dependency, with no luck by using an exclusion within my pom.xml file.</p>\n\n<p>Please note also the following exclusion does not seem to work:</p>\n\n<pre><code>  &lt;exclusion&gt;\n           &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n           &lt;artifactId&gt;mail&lt;/artifactId&gt;\n       &lt;/exclusion&gt;\n</code></pre>\n"},{"tags":["java","websocket"],"answers":[{"tags":[],"owner":{"account_id":10510554,"reputation":2670,"user_id":7746398,"display_name":"TechFree"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684040283,"creation_date":1560260743,"answer_id":56545193,"question_id":56544437,"body_markdown":"Reconnect is not part WebSocket [JSR 356 Specs][1] and has to be implemented by writing specific logic.\r\n\r\nHowever, you can use client libraries like &#39;**Tyrus**&#39; which have a ReconnectHandler.\r\nBasically, this has APIS to capture events like onDisconnect , onConnectFailure which could be used to reconnect.\r\n\r\nSee this link on how to use it : [Tyrus Reconnect Handler][2]\r\n\r\n\r\n[API Doc Here][3]\r\n\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=356\r\n  [2]: https://github.com/eclipse-ee4j/tyrus/blob/master/tests/e2e/standard-config/src/test/java/org/glassfish/tyrus/test/standard_config/ClientReconnectHandlerTest.java\r\n  [3]: https://tyrus-project.github.io/apidocs/1.13.1/index.html?org/glassfish/tyrus/client/ClientManager.ReconnectHandler.html","title":"How to reconnect websocket in java?","body":"<p>Reconnect is not part WebSocket <a href=\"https://jcp.org/en/jsr/detail?id=356\" rel=\"nofollow noreferrer\">JSR 356 Specs</a> and has to be implemented by writing specific logic.</p>\n<p>However, you can use client libraries like '<strong>Tyrus</strong>' which have a ReconnectHandler.\nBasically, this has APIS to capture events like onDisconnect , onConnectFailure which could be used to reconnect.</p>\n<p>See this link on how to use it : <a href=\"https://github.com/eclipse-ee4j/tyrus/blob/master/tests/e2e/standard-config/src/test/java/org/glassfish/tyrus/test/standard_config/ClientReconnectHandlerTest.java\" rel=\"nofollow noreferrer\">Tyrus Reconnect Handler</a></p>\n<p><a href=\"https://tyrus-project.github.io/apidocs/1.13.1/index.html?org/glassfish/tyrus/client/ClientManager.ReconnectHandler.html\" rel=\"nofollow noreferrer\">API Doc Here</a></p>\n"},{"tags":[],"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684041945,"creation_date":1684041945,"answer_id":76245973,"question_id":56544437,"body_markdown":"As pointed out by TechFree reconnecting is not part of JSR 356 Specs. Actually, This implementation was done on purpose. The reason being a socket connection is written in a way it can survive an atomic bomb&#39;s destruction. \r\n\r\nAs described connection to the server can be lost due to a plethora of reasons mainly due to Network, server-side issues, Protocol violations, or Security issues.\r\n\r\nSo the only option we are left with is to **create a new connection** to the server and use that for communication. Now assuming there can be a situation where a connection cannot be established due to server-side or network issues then we will need a max retry kind of logic that limits the connection creation before giving up.\r\n\r\nNow assuming at some time suppose T, your server is able to establish a connection (post recovery) then it needs to notify the client regarding the same. (Or writing some client-side logic which tries to attempt to connect after some interval)\r\n\r\nTo sum up there are no shortcuts to writing an ample amount of code that takes care of reconnection and retry logic when it comes to Websockets. Hope this helps.","title":"How to reconnect websocket in java?","body":"<p>As pointed out by TechFree reconnecting is not part of JSR 356 Specs. Actually, This implementation was done on purpose. The reason being a socket connection is written in a way it can survive an atomic bomb's destruction.</p>\n<p>As described connection to the server can be lost due to a plethora of reasons mainly due to Network, server-side issues, Protocol violations, or Security issues.</p>\n<p>So the only option we are left with is to <strong>create a new connection</strong> to the server and use that for communication. Now assuming there can be a situation where a connection cannot be established due to server-side or network issues then we will need a max retry kind of logic that limits the connection creation before giving up.</p>\n<p>Now assuming at some time suppose T, your server is able to establish a connection (post recovery) then it needs to notify the client regarding the same. (Or writing some client-side logic which tries to attempt to connect after some interval)</p>\n<p>To sum up there are no shortcuts to writing an ample amount of code that takes care of reconnection and retry logic when it comes to Websockets. Hope this helps.</p>\n"}],"owner":{"account_id":16113155,"reputation":61,"user_id":11630927,"display_name":"DavidJoker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5594,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1684042390,"creation_date":1560258336,"question_id":56544437,"body_markdown":"I have a simple WebSocket client in java. Sometimes the connection to WebSocket server may be lost. How to auto-reconnect if the connection is lost? \r\n\r\n    import javax.websocket.*;\r\n    import java.net.URI;\r\n\r\n    @ClientEndpoint\r\n    public class WebsocketClientEndpoint {\r\n\r\n    Session userSession = null;\r\n\r\n    public WebsocketClientEndpoint(URI endpointURI) {\r\n        try {\r\n            WebSocketContainer container = ContainerProvider.getWebSocketContainer();\r\n            container.connectToServer(this, endpointURI);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n    \r\n    @OnOpen\r\n    public void onOpen(Session userSession) {\r\n        System.out.println(&quot;Opening websocket&quot;);\r\n        this.userSession = userSession;\r\n    }\r\n    \r\n    @OnClose\r\n    public void onClose(Session userSession, CloseReason reason) {\r\n        System.out.println(&quot;Closing websocket&quot;);\r\n        this.userSession = null;\r\n    }\r\n\r\n    @OnMessage\r\n    public void onMessage(String message) {\r\n        System.out.println(&quot;Received message: &quot;+ message);\r\n    }\r\n\r\n    public void sendMessage(String message) {\r\n        this.userSession.getAsyncRemote().sendText(message);\r\n    }\r\n    }\r\n\r\nTest app\r\n\r\n    import java.net.URI;\r\n    import java.net.URISyntaxException;\r\n    public class TestApp {\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            final WebsocketClientEndpoint clientEndPoint = new WebsocketClientEndpoint(new URI(&quot;ws://localhost:8080/websocket/api&quot;));\r\n\r\n            while (true) {\r\n                Thread.sleep(30000);\r\n            }\r\n\r\n        } catch (Exception ex) {\r\n            System.err.println(&quot;Exception: &quot; + ex.getMessage());\r\n        }\r\n    }\r\n    }\r\n\r\nThere are simple WebSocket client and test class in java. Sometimes the connection to WebSocket server may be lost. How to auto-reconnect if the connection is lost? ","title":"How to reconnect websocket in java?","body":"<p>I have a simple WebSocket client in java. Sometimes the connection to WebSocket server may be lost. How to auto-reconnect if the connection is lost? </p>\n\n<pre><code>import javax.websocket.*;\nimport java.net.URI;\n\n@ClientEndpoint\npublic class WebsocketClientEndpoint {\n\nSession userSession = null;\n\npublic WebsocketClientEndpoint(URI endpointURI) {\n    try {\n        WebSocketContainer container = ContainerProvider.getWebSocketContainer();\n        container.connectToServer(this, endpointURI);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n\n@OnOpen\npublic void onOpen(Session userSession) {\n    System.out.println(\"Opening websocket\");\n    this.userSession = userSession;\n}\n\n@OnClose\npublic void onClose(Session userSession, CloseReason reason) {\n    System.out.println(\"Closing websocket\");\n    this.userSession = null;\n}\n\n@OnMessage\npublic void onMessage(String message) {\n    System.out.println(\"Received message: \"+ message);\n}\n\npublic void sendMessage(String message) {\n    this.userSession.getAsyncRemote().sendText(message);\n}\n}\n</code></pre>\n\n<p>Test app</p>\n\n<pre><code>import java.net.URI;\nimport java.net.URISyntaxException;\npublic class TestApp {\n\npublic static void main(String[] args) {\n    try {\n        final WebsocketClientEndpoint clientEndPoint = new WebsocketClientEndpoint(new URI(\"ws://localhost:8080/websocket/api\"));\n\n        while (true) {\n            Thread.sleep(30000);\n        }\n\n    } catch (Exception ex) {\n        System.err.println(\"Exception: \" + ex.getMessage());\n    }\n}\n}\n</code></pre>\n\n<p>There are simple WebSocket client and test class in java. Sometimes the connection to WebSocket server may be lost. How to auto-reconnect if the connection is lost? </p>\n"},{"tags":["java","static-methods","inner-classes","static-classes"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697900079,"post_id":76245836,"comment_id":136338833,"body_markdown":"‘Static inner’ is a contradiction in terms. This is a static nested class.","body":"‘Static inner’ is a contradiction in terms. This is a static nested class."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1697902511,"post_id":76245836,"comment_id":136339086,"body_markdown":"@user207421 Correct, that was the false assumption that my question was based upon.","body":"@user207421 Correct, that was the false assumption that my question was based upon."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684041001,"creation_date":1684039283,"answer_id":76245837,"question_id":76245836,"body_markdown":"Funnily enough, when adding the tags for this question, the resources for `inner-classes` and `static-classes` pointed me in the right direction.\r\n\r\nFor starters, part of the reason I couldn&#39;t find my answer was because I was using the wrong terminology. As it turns out, the official word for it is ***`static nested class`***, which you can see over here (Ctrl+F &quot;Terminology&quot;) -- https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\r\n\r\nAs it turns out, if you want to use a static nested class outside of the class that is nesting it, you must refer to the static nested class like this.\r\n\r\n`StaticParentType.StaticChildType`\r\n\r\n***PLEASE NOTE***, this syntax is only if my nested class is ***`static`***. The rules change if that is not true. Click on the earlier mentioned link to learn more.\r\n\r\nSo, for my purposes, that means that my main method would have to look like this.\r\n\r\n```java\r\npublic static void main(final String[] args)\r\n{\r\n   new StaticParentType.StaticChildType();\r\n}\r\n```\r\n\r\nHere is the full class.\r\n\r\n```java\r\npublic class MainClass\r\n{\r\n\r\n   public static interface StaticParentType{\r\n      public static class StaticChildType implements StaticParentType {}\r\n   }\r\n\r\n   public static void main(final String[] args)\r\n   {\r\n      new StaticParentType.StaticChildType();\r\n   }\r\n\r\n}\r\n```\r\n\r\nAnd as a bonus, I went further and set the access modifiers to be what they should have been. I had originally wanted both the nested class and the one that housed it to be private, but changed that once I get my compilation error. Here is the final solution I landed on.\r\n\r\n```java\r\npublic class MainClass\r\n{\r\n\r\n   private interface StaticParentType{\r\n      static class StaticChildType implements StaticParentType {}\r\n      //apparently, this nested static class cannot be private\r\n      //else it gets a compilation error\r\n   }\r\n\r\n\r\n   public static void main(final String[] args)\r\n   {\r\n      new StaticParentType.StaticChildType();\r\n   }\r\n\r\n}\r\n```\r\n\r\nA good example of this would `java.util.Map.Entry`. `Entry` is a static interface inside of `Map`, thus, falling under the same rules as this. So, if I want to refer to `Entry`, I have to do `Map.Entry`.\r\n\r\n***EDIT*** -- If the syntax above (ParentType.StaticChildType) is a bit ugly, what you can do is do a [Static Import][1].\r\n\r\nOf course, this only works if the class you are statically importing is ***not*** in the same file that you are trying to use it in. After all, why would you need to import something that is already in your file?\r\n\r\nTo show off what a static import would like in code, here is an example.\r\n\r\n```java\r\nimport static java.util.Map.Entry;\r\n\r\npublic class Abc\r\n{\r\n\r\n   public static void main(String[] args)\r\n   {\r\n   \r\n      Entry&lt;String, Integer&gt; e = null;\r\n      //Map.Entry&lt;String, Integer&gt; e = null;\r\n   \r\n   }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/static-import.html","title":"My static method can&#39;t find my static inner class&#39; static inner class","body":"<p>Funnily enough, when adding the tags for this question, the resources for <code>inner-classes</code> and <code>static-classes</code> pointed me in the right direction.</p>\n<p>For starters, part of the reason I couldn't find my answer was because I was using the wrong terminology. As it turns out, the official word for it is <em><strong><code>static nested class</code></strong></em>, which you can see over here (Ctrl+F &quot;Terminology&quot;) -- <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/nested.html</a></p>\n<p>As it turns out, if you want to use a static nested class outside of the class that is nesting it, you must refer to the static nested class like this.</p>\n<p><code>StaticParentType.StaticChildType</code></p>\n<p><em><strong>PLEASE NOTE</strong></em>, this syntax is only if my nested class is <em><strong><code>static</code></strong></em>. The rules change if that is not true. Click on the earlier mentioned link to learn more.</p>\n<p>So, for my purposes, that means that my main method would have to look like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(final String[] args)\n{\n   new StaticParentType.StaticChildType();\n}\n</code></pre>\n<p>Here is the full class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainClass\n{\n\n   public static interface StaticParentType{\n      public static class StaticChildType implements StaticParentType {}\n   }\n\n   public static void main(final String[] args)\n   {\n      new StaticParentType.StaticChildType();\n   }\n\n}\n</code></pre>\n<p>And as a bonus, I went further and set the access modifiers to be what they should have been. I had originally wanted both the nested class and the one that housed it to be private, but changed that once I get my compilation error. Here is the final solution I landed on.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainClass\n{\n\n   private interface StaticParentType{\n      static class StaticChildType implements StaticParentType {}\n      //apparently, this nested static class cannot be private\n      //else it gets a compilation error\n   }\n\n\n   public static void main(final String[] args)\n   {\n      new StaticParentType.StaticChildType();\n   }\n\n}\n</code></pre>\n<p>A good example of this would <code>java.util.Map.Entry</code>. <code>Entry</code> is a static interface inside of <code>Map</code>, thus, falling under the same rules as this. So, if I want to refer to <code>Entry</code>, I have to do <code>Map.Entry</code>.</p>\n<p><em><strong>EDIT</strong></em> -- If the syntax above (ParentType.StaticChildType) is a bit ugly, what you can do is do a <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/static-import.html\" rel=\"nofollow noreferrer\">Static Import</a>.</p>\n<p>Of course, this only works if the class you are statically importing is <em><strong>not</strong></em> in the same file that you are trying to use it in. After all, why would you need to import something that is already in your file?</p>\n<p>To show off what a static import would like in code, here is an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.util.Map.Entry;\n\npublic class Abc\n{\n\n   public static void main(String[] args)\n   {\n   \n      Entry&lt;String, Integer&gt; e = null;\n      //Map.Entry&lt;String, Integer&gt; e = null;\n   \n   }\n\n}\n</code></pre>\n"}],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76245837,"answer_count":1,"score":-1,"last_activity_date":1684041001,"creation_date":1684039283,"question_id":76245836,"body_markdown":"I tried to run the following code contained in my `MainClass.java` file, but it failed with a compilation error.\r\n\r\n```java\r\npublic class MainClass\r\n{\r\n\r\n   public static interface StaticParentType{\r\n      public static class StaticChildType implements StaticParentType {}\r\n   }\r\n\r\n   public static void main(final String[] args)\r\n   {\r\n      new StaticChildType();\r\n   }\r\n\r\n}\r\n```\r\n\r\nIt failed with the following compilation error.\r\n\r\n```\r\n$ java MainClass.java\r\nMainClass.java:10: error: cannot find symbol\r\n      new StaticChildType();\r\n          ^\r\n  symbol:   class StaticChildType\r\n  location: class MainClass\r\n1 error\r\nerror: compilation failed\r\n```\r\n\r\nI tried various different combinations of public/private, static/non-static, and it seems the only way to get my code to work is to do something like the following instead.\r\n\r\n```java\r\npublic class MainClass\r\n{\r\n\r\n   public static interface StaticParentType{}\r\n   public static class StaticChildType implements StaticParentType {}\r\n\r\n\r\n   public static void main(final String[] args)\r\n   {\r\n      new StaticChildType();\r\n   }\r\n\r\n}\r\n```\r\n\r\nSo, I am not blocked, I have a decent enough workaround here. It seems that having the class contained within the curly braces prevents the `main` method from being able to see and/or use it.\r\n\r\nMy question is why? More specifically, why would a ***`public static`*** inner class be invisible to the main method? I really felt like being public and static (as well as the interface being public and static) would make it visible, but it appears not. I spent a couple minutes searching StackOverflow and the internet, but it didn&#39;t seem to come up.","title":"My static method can&#39;t find my static inner class&#39; static inner class","body":"<p>I tried to run the following code contained in my <code>MainClass.java</code> file, but it failed with a compilation error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainClass\n{\n\n   public static interface StaticParentType{\n      public static class StaticChildType implements StaticParentType {}\n   }\n\n   public static void main(final String[] args)\n   {\n      new StaticChildType();\n   }\n\n}\n</code></pre>\n<p>It failed with the following compilation error.</p>\n<pre><code>$ java MainClass.java\nMainClass.java:10: error: cannot find symbol\n      new StaticChildType();\n          ^\n  symbol:   class StaticChildType\n  location: class MainClass\n1 error\nerror: compilation failed\n</code></pre>\n<p>I tried various different combinations of public/private, static/non-static, and it seems the only way to get my code to work is to do something like the following instead.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainClass\n{\n\n   public static interface StaticParentType{}\n   public static class StaticChildType implements StaticParentType {}\n\n\n   public static void main(final String[] args)\n   {\n      new StaticChildType();\n   }\n\n}\n</code></pre>\n<p>So, I am not blocked, I have a decent enough workaround here. It seems that having the class contained within the curly braces prevents the <code>main</code> method from being able to see and/or use it.</p>\n<p>My question is why? More specifically, why would a <em><strong><code>public static</code></strong></em> inner class be invisible to the main method? I really felt like being public and static (as well as the interface being public and static) would make it visible, but it appears not. I spent a couple minutes searching StackOverflow and the internet, but it didn't seem to come up.</p>\n"},{"tags":["java","gradle","jar","libgdx"],"answers":[{"tags":[],"owner":{"account_id":28526943,"reputation":11,"user_id":21834884,"display_name":"pablo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684040370,"creation_date":1684040370,"answer_id":76245886,"question_id":76188753,"body_markdown":"I have tried everything i could think of, but nothing helped. \r\nAfter that i tried to run the same application on my laptop and it worked.\r\nFor anyone who later comes across this post, try to run it on another computer first, or ask someone to try it out for you.\r\n\r\nJust so you know what i have tried and what didn&#39;t work for me:\r\n- Trying out different guides to make JAR from the project\r\n- Making changes to gradle, based on those guides and trying out different combinations, I read what each command does.\r\n- Making a new libGDX project with nothing in it then trying out if that JAR works\r\n- Reinstalling JRE, JDK\r\n- Trying out different types of JDKs\r\n- Deleting Intellij IDEA cache","title":"Application from editor works fine, jar file freezes computer","body":"<p>I have tried everything i could think of, but nothing helped.\nAfter that i tried to run the same application on my laptop and it worked.\nFor anyone who later comes across this post, try to run it on another computer first, or ask someone to try it out for you.</p>\n<p>Just so you know what i have tried and what didn't work for me:</p>\n<ul>\n<li>Trying out different guides to make JAR from the project</li>\n<li>Making changes to gradle, based on those guides and trying out different combinations, I read what each command does.</li>\n<li>Making a new libGDX project with nothing in it then trying out if that JAR works</li>\n<li>Reinstalling JRE, JDK</li>\n<li>Trying out different types of JDKs</li>\n<li>Deleting Intellij IDEA cache</li>\n</ul>\n"}],"owner":{"account_id":28526943,"reputation":11,"user_id":21834884,"display_name":"pablo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76245886,"answer_count":1,"score":1,"last_activity_date":1684040370,"creation_date":1683374490,"question_id":76188753,"body_markdown":"I have made a game using libGDX and I made a JAR file from the project. However when I try to run the JAR file my whole computer freezes I can&#39;t even move my mouse. I tried to open task manager before I run it maybe I see something there but it only pops up for a second then disappears. \r\n\r\nLibGDX uses gradle to build the project and I used it to make the JAR file. I made the JAR file by following the guide on the libGDX website:\r\nhttps://libgdx.com/wiki/deployment/deploying-your-application\r\nusing the\r\n```\r\n./gradlew desktop:dist\r\n```\r\ncommand.\r\n\r\nIs this a configuration issue in the gradle file or am I doing something wrong?","title":"Application from editor works fine, jar file freezes computer","body":"<p>I have made a game using libGDX and I made a JAR file from the project. However when I try to run the JAR file my whole computer freezes I can't even move my mouse. I tried to open task manager before I run it maybe I see something there but it only pops up for a second then disappears.</p>\n<p>LibGDX uses gradle to build the project and I used it to make the JAR file. I made the JAR file by following the guide on the libGDX website:\n<a href=\"https://libgdx.com/wiki/deployment/deploying-your-application\" rel=\"nofollow noreferrer\">https://libgdx.com/wiki/deployment/deploying-your-application</a>\nusing the</p>\n<pre><code>./gradlew desktop:dist\n</code></pre>\n<p>command.</p>\n<p>Is this a configuration issue in the gradle file or am I doing something wrong?</p>\n"},{"tags":["java",".net","sql","performance","postgresql"],"comments":[{"owner":{"account_id":475939,"reputation":697,"user_id":886555,"display_name":"Morg."},"score":2,"creation_date":1317036171,"post_id":7510092,"comment_id":9155731,"body_markdown":"The date calculations will have little to no effect at all - assuming your sql engine will indeed calculate your dates only once. having them defined in your application makes perfect sense, since they will be defined there at some point anyway, be it for report title or other things. multiplying the value by 100 in this case could be done on any tier, since you will be looping through those rows anyway for rendering and *100 is unlikely to be slower on any tier except front-end. In either case your calculations are minimal and dwarfed by the surrounding operations, not a performance concern.","body":"The date calculations will have little to no effect at all - assuming your sql engine will indeed calculate your dates only once. having them defined in your application makes perfect sense, since they will be defined there at some point anyway, be it for report title or other things. multiplying the value by 100 in this case could be done on any tier, since you will be looping through those rows anyway for rendering and *100 is unlikely to be slower on any tier except front-end. In either case your calculations are minimal and dwarfed by the surrounding operations, not a performance concern."}],"answers":[{"tags":[],"owner":{"account_id":11975,"reputation":1033812,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"down_vote_count":0,"up_vote_count":231,"is_accepted":true,"score":231,"last_activity_date":1316670953,"creation_date":1316670953,"answer_id":7510143,"question_id":7510092,"body_markdown":"It depends on a lot of factors - but most crucially:\r\n\r\n- complexity of calculations (prefer doing complex crunching on an app-server, since that scales *out*; rather than a db server, which scales *up*)\r\n- volume of data (if you need to access/aggregate a lot of data, doing it at the db server will save bandwidth, and disk io if the aggregates can be done inside indexes)\r\n- convenience (sql is not the best language for complex work - especially not great for procedural work, but very good for set-based work; lousy error-handling, though)\r\n\r\nAs always, if you *do* bring the data back to the app-server, minimising the columns and rows will be to your advantage. Making sure the query is tuned and appropriately indexed will help either scenario.\r\n\r\nRe your note:\r\n\r\n&gt; and then loop through the records \r\n\r\n*Looping* through records is almost always the wrong thing to do in sql - writing a set-based operation is preferred.\r\n\r\n*As a general rule*, I prefer to keep the database&#39;s job to a minimum &quot;store this data, fetch this data&quot; - however, there are always examples of scenarios where an elegant query at the server can save a lot of bandwidth.\r\n\r\nAlso consider: if this is computationally expensive, can it be cached somewhere?\r\n\r\nIf you want an *accurate* &quot;which is better&quot;; code it both ways and compare it (noting that a first draft of either is likely not 100% tuned). But factor in typical usage to that: if, in reality, it is being called 5 times (separately) at once, then simulate that: don&#39;t compare just a single &quot;1 of these vs 1 of those&quot;.","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>It depends on a lot of factors - but most crucially:</p>\n\n<ul>\n<li>complexity of calculations (prefer doing complex crunching on an app-server, since that scales <em>out</em>; rather than a db server, which scales <em>up</em>)</li>\n<li>volume of data (if you need to access/aggregate a lot of data, doing it at the db server will save bandwidth, and disk io if the aggregates can be done inside indexes)</li>\n<li>convenience (sql is not the best language for complex work - especially not great for procedural work, but very good for set-based work; lousy error-handling, though)</li>\n</ul>\n\n<p>As always, if you <em>do</em> bring the data back to the app-server, minimising the columns and rows will be to your advantage. Making sure the query is tuned and appropriately indexed will help either scenario.</p>\n\n<p>Re your note:</p>\n\n<blockquote>\n  <p>and then loop through the records </p>\n</blockquote>\n\n<p><em>Looping</em> through records is almost always the wrong thing to do in sql - writing a set-based operation is preferred.</p>\n\n<p><em>As a general rule</em>, I prefer to keep the database's job to a minimum \"store this data, fetch this data\" - however, there are always examples of scenarios where an elegant query at the server can save a lot of bandwidth.</p>\n\n<p>Also consider: if this is computationally expensive, can it be cached somewhere?</p>\n\n<p>If you want an <em>accurate</em> \"which is better\"; code it both ways and compare it (noting that a first draft of either is likely not 100% tuned). But factor in typical usage to that: if, in reality, it is being called 5 times (separately) at once, then simulate that: don't compare just a single \"1 of these vs 1 of those\".</p>\n"},{"tags":[],"owner":{"account_id":269668,"reputation":44162,"user_id":559144,"accept_rate":85,"display_name":"Davide Piras"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1316671029,"creation_date":1316671029,"answer_id":7510153,"question_id":7510092,"body_markdown":"In general do things in SQL if there are chances that also other modules or component in same or other projects will need to get those results. an atomic operation done server side is also better because you just need to invoke the stored proc from any db management tool to get final values without further processing.\r\n\r\nIn some cases this does not apply but when it does it makes sense. also in general the db box has the best hardware and performances.","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>In general do things in SQL if there are chances that also other modules or component in same or other projects will need to get those results. an atomic operation done server side is also better because you just need to invoke the stored proc from any db management tool to get final values without further processing.</p>\n\n<p>In some cases this does not apply but when it does it makes sense. also in general the db box has the best hardware and performances.</p>\n"},{"tags":[],"owner":{"account_id":17180,"reputation":27171,"user_id":38207,"accept_rate":83,"display_name":"James Anderson"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1316671272,"creation_date":1316671272,"answer_id":7510194,"question_id":7510092,"body_markdown":"In this case you are *probably* slightly better off doing the calculation in SQL as the database engine is likely to have a more efficient decimal arithmetic routines than Java.\r\n\r\nGenerally though for row level calculations there is not much difference.\r\n\r\nWhere it does make a difference is:\r\n\r\n - Aggregate calculations like SUM(), AVG(),MIN(), MAX() here the database engine will be an order of magnitude faster than a Java implementation.\r\n - Anywhere the calculation is used to filter rows. Filtering at the DB is much more efficient than reading a row and then discarding it.","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>In this case you are <em>probably</em> slightly better off doing the calculation in SQL as the database engine is likely to have a more efficient decimal arithmetic routines than Java.</p>\n\n<p>Generally though for row level calculations there is not much difference.</p>\n\n<p>Where it does make a difference is:</p>\n\n<ul>\n<li>Aggregate calculations like SUM(), AVG(),MIN(), MAX() here the database engine will be an order of magnitude faster than a Java implementation.</li>\n<li>Anywhere the calculation is used to filter rows. Filtering at the DB is much more efficient than reading a row and then discarding it.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":909929,"reputation":142,"user_id":943999,"display_name":"Neo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1316681223,"creation_date":1316681223,"answer_id":7512038,"question_id":7510092,"body_markdown":"Whether to perform calculations at the front end or at the backend is very much decided if we can determine our goal in the business implementation. At time java code might perform better than a sql code both well written or it might be vice-versa. But still if confused you can try to determine first -\r\n\r\n1. If you can achieve something straightforward via database sql then better go for it as db will perform much better and do computations there and then with the result fetch. However if the actual computation requires too much calculation from here and there stuff then you can go with the application code. Why? Because scenario&#39;s like looping in most cases are not best handled by sql wherease front end languages are better designed for these things.\r\n2. In case similar calculation is required from many places then obviously placing the calculation code at the db end will be better to keep things at the same place.\r\n3. If there are lots of calculations to be done to attain the final result via many different queries then also go for db end as you can place the same code in a stored procedure to perform better than retrieving results from backend and then computing them at the front end.\r\n\r\nThere are many other aspects which you can think before you decide where to place the code. One perception is totally wrong - Everything can be done best in Java (app code) and/or everything is best to be done by the db (sql code).","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>Whether to perform calculations at the front end or at the backend is very much decided if we can determine our goal in the business implementation. At time java code might perform better than a sql code both well written or it might be vice-versa. But still if confused you can try to determine first -</p>\n\n<ol>\n<li>If you can achieve something straightforward via database sql then better go for it as db will perform much better and do computations there and then with the result fetch. However if the actual computation requires too much calculation from here and there stuff then you can go with the application code. Why? Because scenario's like looping in most cases are not best handled by sql wherease front end languages are better designed for these things.</li>\n<li>In case similar calculation is required from many places then obviously placing the calculation code at the db end will be better to keep things at the same place.</li>\n<li>If there are lots of calculations to be done to attain the final result via many different queries then also go for db end as you can place the same code in a stored procedure to perform better than retrieving results from backend and then computing them at the front end.</li>\n</ol>\n\n<p>There are many other aspects which you can think before you decide where to place the code. One perception is totally wrong - Everything can be done best in Java (app code) and/or everything is best to be done by the db (sql code).</p>\n"},{"tags":[],"owner":{"account_id":904738,"reputation":617045,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"down_vote_count":2,"up_vote_count":106,"is_accepted":false,"score":104,"last_activity_date":1684039021,"creation_date":1316710844,"answer_id":7518619,"question_id":7510092,"body_markdown":"As far as **PostgreSQL** is concerned, you can do much on the server, quite efficiently. An RDBMS naturally excels at sorting, aggregating,  casting, and formatting data to begin with. (I would claim that Postgres does a particularly great job.) The RDBMS can work with original data types from original storage. After processing, typically (much) less data has to be transferred.  \r\nClients typically need (much) more data than is used / displayed eventually to perform the mentioned operations. They typically talk to the server using the &quot;text&quot; protocol, casting back and forth adds cost. Much work has to be duplicated. It&#39;s not a level playing field.\r\n\r\nFor procedural needs you can choose from a variety of [server-side script languages][1]: tcl, python, perl and many more. Mostly, [PL/pgSQL][2] is used, though.\r\n\r\nLet me use a **metaphor**: if you want to buy a **golden necklace** in Paris, the goldsmith could sit in Cape Town or Paris, that is a matter of skill and taste. But you would *never* ship tons of gold ore from South Africa to France for that. The ore is processed at the mining site (or at least in the general area), only the gold gets shipped. The same should be true for apps and databases.\r\n\r\n**Worst case** scenario would be to repeatedly go to the server for every single row of a larger set. (That would be like shipping one ton of ore a time.)\r\n\r\n**Second in line**, if you send a cascade of queries, each depending on the one before, while all of it could be done in one query or procedure on the server. (That&#39;s like shipping the gold, and each of the jewels with a separate ship, sequentially.)\r\n\r\nGoing back and forth between app and server is relatively expensive. For server *and* client. Try to cut down on that, and you will win - ergo: use server side procedures and / or sophisticated SQL where necessary.\r\n\r\nWe just finished a project where we packed almost all complex queries into Postgres functions. The app hands over parameters and gets the datasets it needs. Fast, clean, simple (for the app developer), I/O reduced to a minimum ... a shiny necklace with a low carbon footprint.\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/server-programming.html\r\n  [2]: https://www.postgresql.org/docs/current/plpgsql.html","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>As far as <strong>PostgreSQL</strong> is concerned, you can do much on the server, quite efficiently. An RDBMS naturally excels at sorting, aggregating,  casting, and formatting data to begin with. (I would claim that Postgres does a particularly great job.) The RDBMS can work with original data types from original storage. After processing, typically (much) less data has to be transferred.<br />\nClients typically need (much) more data than is used / displayed eventually to perform the mentioned operations. They typically talk to the server using the &quot;text&quot; protocol, casting back and forth adds cost. Much work has to be duplicated. It's not a level playing field.</p>\n<p>For procedural needs you can choose from a variety of <a href=\"https://www.postgresql.org/docs/current/server-programming.html\" rel=\"nofollow noreferrer\">server-side script languages</a>: tcl, python, perl and many more. Mostly, <a href=\"https://www.postgresql.org/docs/current/plpgsql.html\" rel=\"nofollow noreferrer\">PL/pgSQL</a> is used, though.</p>\n<p>Let me use a <strong>metaphor</strong>: if you want to buy a <strong>golden necklace</strong> in Paris, the goldsmith could sit in Cape Town or Paris, that is a matter of skill and taste. But you would <em>never</em> ship tons of gold ore from South Africa to France for that. The ore is processed at the mining site (or at least in the general area), only the gold gets shipped. The same should be true for apps and databases.</p>\n<p><strong>Worst case</strong> scenario would be to repeatedly go to the server for every single row of a larger set. (That would be like shipping one ton of ore a time.)</p>\n<p><strong>Second in line</strong>, if you send a cascade of queries, each depending on the one before, while all of it could be done in one query or procedure on the server. (That's like shipping the gold, and each of the jewels with a separate ship, sequentially.)</p>\n<p>Going back and forth between app and server is relatively expensive. For server <em>and</em> client. Try to cut down on that, and you will win - ergo: use server side procedures and / or sophisticated SQL where necessary.</p>\n<p>We just finished a project where we packed almost all complex queries into Postgres functions. The app hands over parameters and gets the datasets it needs. Fast, clean, simple (for the app developer), I/O reduced to a minimum ... a shiny necklace with a low carbon footprint.</p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1378561962,"creation_date":1378561962,"answer_id":18674012,"question_id":7510092,"body_markdown":"There&#39;s no black / white with respect to what parts of data access logic should be performed in SQL and what parts should be performed in your application. I like [Mark Gravell&#39;s][1] wording, distinguishing between\r\n\r\n- complex calculations\r\n- data-intensive calculations\r\n\r\nThe power and expressivity of SQL is heavily underestimated. Since the introduction of [window functions][2], a lot of non-strictly set-oriented calculations can be performed very easily and elegantly in the database.\r\n\r\nThree rules of thumb should always be followed, regardless of the overall application architecture:\r\n\r\n- keep the amount of data transferred between database and application slim (in favour of calculating stuff in the DB)\r\n- keep the amount of data loaded from the disk by the database slim (in favour of letting the database optimise statements to avoid unnecessary data access)\r\n- don&#39;t push the database to its CPU limits with complex, concurrent calculations (in favour of pulling data into application memory and performing calculations there)\r\n\r\nIn my experience, with a decent DBA and some decent knowledge about your decent database, you won&#39;t run into your DBs CPU limits very soon.\r\n\r\nSome further reading where these things are explained:\r\n\r\n- [10 Common Mistakes Java Developers Make When Writing SQL][3]\r\n- [10 More Common Mistakes Java Developers Make When Writing SQL][4]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/7510143/521799\r\n  [2]: https://en.wikipedia.org/wiki/Window_function_%28SQL%29#Window_function\r\n  [3]: http://blog.jooq.org/2013/07/30/10-common-mistakes-java-developers-make-when-writing-sql/\r\n  [4]: http://blog.jooq.org/2013/08/12/10-more-common-mistakes-java-developers-make-when-writing-sql/","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>There's no black / white with respect to what parts of data access logic should be performed in SQL and what parts should be performed in your application. I like <a href=\"https://stackoverflow.com/a/7510143/521799\">Mark Gravell's</a> wording, distinguishing between</p>\n\n<ul>\n<li>complex calculations</li>\n<li>data-intensive calculations</li>\n</ul>\n\n<p>The power and expressivity of SQL is heavily underestimated. Since the introduction of <a href=\"https://en.wikipedia.org/wiki/Window_function_%28SQL%29#Window_function\" rel=\"noreferrer\">window functions</a>, a lot of non-strictly set-oriented calculations can be performed very easily and elegantly in the database.</p>\n\n<p>Three rules of thumb should always be followed, regardless of the overall application architecture:</p>\n\n<ul>\n<li>keep the amount of data transferred between database and application slim (in favour of calculating stuff in the DB)</li>\n<li>keep the amount of data loaded from the disk by the database slim (in favour of letting the database optimise statements to avoid unnecessary data access)</li>\n<li>don't push the database to its CPU limits with complex, concurrent calculations (in favour of pulling data into application memory and performing calculations there)</li>\n</ul>\n\n<p>In my experience, with a decent DBA and some decent knowledge about your decent database, you won't run into your DBs CPU limits very soon.</p>\n\n<p>Some further reading where these things are explained:</p>\n\n<ul>\n<li><a href=\"http://blog.jooq.org/2013/07/30/10-common-mistakes-java-developers-make-when-writing-sql/\" rel=\"noreferrer\">10 Common Mistakes Java Developers Make When Writing SQL</a></li>\n<li><a href=\"http://blog.jooq.org/2013/08/12/10-more-common-mistakes-java-developers-make-when-writing-sql/\" rel=\"noreferrer\">10 More Common Mistakes Java Developers Make When Writing SQL</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":62803,"reputation":116,"user_id":186324,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378564741,"creation_date":1378564741,"answer_id":18674420,"question_id":7510092,"body_markdown":"If you are writing on top of ORM or writing casual low-performance applications, use whatever pattern simplifies the application. If you are writing a high performance application and thinking carefully about scale, you will win by moving processing to data. I strongly advocate moving the processing to the data. \r\n\r\nLet&#39;s think about this in two steps: (1) OLTP (small number of record) transactions. (2) OLAP (long scans of many records).\r\n\r\nIn the OLTP case, if you want to be fast (10k - 100k transactions per second), you must remove latch, lock and dead lock contention from the database. This means that you need to eliminate long stalls in transactions: round trips from client to DB to move processing to the client are one such long stall. You can&#39;t have long lived transactions (to make read/update atomic) and have very high throughput. \r\n\r\nRe: horizontal scaling. Modern databases scale horizontally. Those systems implement HA and fault tolerance already. Leverage that and try to simplify your application space.\r\n\r\nLet&#39;s look at OLAP -- in this case it should be obvious that dragging possibly terrabytes of data back to the application is a horrible idea. These systems are built specifically to operate extremely efficiently against compressed, pre-organized columnar data. Modern OLAP systems also scale horizontally and have sophisticated query planners that disperse work horizontally (internally moving processing to data).\r\n\r\n","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>If you are writing on top of ORM or writing casual low-performance applications, use whatever pattern simplifies the application. If you are writing a high performance application and thinking carefully about scale, you will win by moving processing to data. I strongly advocate moving the processing to the data. </p>\n\n<p>Let's think about this in two steps: (1) OLTP (small number of record) transactions. (2) OLAP (long scans of many records).</p>\n\n<p>In the OLTP case, if you want to be fast (10k - 100k transactions per second), you must remove latch, lock and dead lock contention from the database. This means that you need to eliminate long stalls in transactions: round trips from client to DB to move processing to the client are one such long stall. You can't have long lived transactions (to make read/update atomic) and have very high throughput. </p>\n\n<p>Re: horizontal scaling. Modern databases scale horizontally. Those systems implement HA and fault tolerance already. Leverage that and try to simplify your application space.</p>\n\n<p>Let's look at OLAP -- in this case it should be obvious that dragging possibly terrabytes of data back to the application is a horrible idea. These systems are built specifically to operate extremely efficiently against compressed, pre-organized columnar data. Modern OLAP systems also scale horizontally and have sophisticated query planners that disperse work horizontally (internally moving processing to data).</p>\n"},{"tags":[],"owner":{"account_id":1529600,"reputation":742,"user_id":1430384,"display_name":"Johannes Gehrs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378585774,"creation_date":1378585774,"answer_id":18677635,"question_id":7510092,"body_markdown":"Form a performance point of view: This is a very simple arithmetic operation which almost certainly can be performed much faster than actually fetching the data from the disks that underly the database. Also, calculating the values in the where clause is likely to be very fast on any runtime. In summary, the bottleneck should be disk IO, not the computation of the values.\r\n\r\nAs per readability, I think if you use an ORM you should do it in your app server environment, because the ORM will let you work with the underlying data very easily, using set based operations. If you are going to write raw SQL anyway, there&#39;s nothing wrong with doing the computation there, Your SQL would also look a little nicer and easier to read if formatted properly.","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>Form a performance point of view: This is a very simple arithmetic operation which almost certainly can be performed much faster than actually fetching the data from the disks that underly the database. Also, calculating the values in the where clause is likely to be very fast on any runtime. In summary, the bottleneck should be disk IO, not the computation of the values.</p>\n\n<p>As per readability, I think if you use an ORM you should do it in your app server environment, because the ORM will let you work with the underlying data very easily, using set based operations. If you are going to write raw SQL anyway, there's nothing wrong with doing the computation there, Your SQL would also look a little nicer and easier to read if formatted properly.</p>\n"},{"tags":[],"owner":{"account_id":3275581,"reputation":1,"user_id":2757750,"display_name":"user2757750"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378586159,"creation_date":1378586159,"answer_id":18677682,"question_id":7510092,"body_markdown":"Crucially, &quot;performance&quot; isn&#39;t defined.\r\n\r\nThe one that matters to me the most is developer time.\r\n\r\nWrite the SQL query. If it&#39;s too slow or the DB becomes a bottleneck, then reconsider. By that time, you&#39;ll be able to benchmark the two approaches and make your decision based on real data relevant to your setup (hardware and whatever stack you&#39;re on).\r\n","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>Crucially, \"performance\" isn't defined.</p>\n\n<p>The one that matters to me the most is developer time.</p>\n\n<p>Write the SQL query. If it's too slow or the DB becomes a bottleneck, then reconsider. By that time, you'll be able to benchmark the two approaches and make your decision based on real data relevant to your setup (hardware and whatever stack you're on).</p>\n"},{"tags":[],"owner":{"account_id":207529,"reputation":1505,"user_id":457444,"accept_rate":92,"display_name":"Kajetan Abt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378597411,"creation_date":1378597411,"answer_id":18679008,"question_id":7510092,"body_markdown":"I don&#39;t believe the performance differences can be reasoned about without specific examples and benchmarks, but I have another take:\r\n\r\nWhich can you maintain better? For example, you might want to switch your front-end from Java to Flash, or HTML5, or C++, or something else. A vast number of programs have gone through such a change, or even exist in more than one language to begin with, because they need to work on multiple devices.\r\n\r\nEven if you have a proper middle layer (from the example given, it seems like that&#39;s not the case), that layer might change and JBoss might become Ruby/Rails.\r\n\r\nOn the other hand, it is unlikely that you will replace the SQL-backend with something that&#39;s not a relational DB with SQL and even if you do, you will have to rewrite the front-end from scratch anyway, so the point is moot.\r\n\r\nMy idea is that if you do calculations in the DB, it will be much easier to write a second front-end or middle-layer later, because you don&#39;t have to re-implement everything. In practise however, I think &quot;where can I do this with code that people will understand&quot; is the most important factor.","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>I don't believe the performance differences can be reasoned about without specific examples and benchmarks, but I have another take:</p>\n\n<p>Which can you maintain better? For example, you might want to switch your front-end from Java to Flash, or HTML5, or C++, or something else. A vast number of programs have gone through such a change, or even exist in more than one language to begin with, because they need to work on multiple devices.</p>\n\n<p>Even if you have a proper middle layer (from the example given, it seems like that's not the case), that layer might change and JBoss might become Ruby/Rails.</p>\n\n<p>On the other hand, it is unlikely that you will replace the SQL-backend with something that's not a relational DB with SQL and even if you do, you will have to rewrite the front-end from scratch anyway, so the point is moot.</p>\n\n<p>My idea is that if you do calculations in the DB, it will be much easier to write a second front-end or middle-layer later, because you don't have to re-implement everything. In practise however, I think \"where can I do this with code that people will understand\" is the most important factor.</p>\n"},{"tags":[],"owner":{"account_id":2334395,"reputation":81,"user_id":2047064,"display_name":"Donovanr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1378622278,"creation_date":1378622278,"answer_id":18681157,"question_id":7510092,"body_markdown":"To simplify how to answer this would be to look at load balancing. You want to put the load where you have the most capacity (if it makes any sense). In most systems it is the SQL server that quickly becomes a bottleneck so the probably answer is that you don&#39;t want SQL doing one ounce of work more than it has to. \r\n\r\nAlso in most architectures it is the SQL server(s) that make up the core of the system and outside systems that get added on. \r\n\r\nBut the math above is so trivial that unless you are pushing your system to the limit the best place to put it is where you want to put it. If the math were not trivial such as calculating sin/cos/tan for say a distance calculation then the effort might become non-trivial and require careful planning and testing.\r\n","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>To simplify how to answer this would be to look at load balancing. You want to put the load where you have the most capacity (if it makes any sense). In most systems it is the SQL server that quickly becomes a bottleneck so the probably answer is that you don't want SQL doing one ounce of work more than it has to. </p>\n\n<p>Also in most architectures it is the SQL server(s) that make up the core of the system and outside systems that get added on. </p>\n\n<p>But the math above is so trivial that unless you are pushing your system to the limit the best place to put it is where you want to put it. If the math were not trivial such as calculating sin/cos/tan for say a distance calculation then the effort might become non-trivial and require careful planning and testing.</p>\n"},{"tags":[],"owner":{"account_id":73831,"reputation":2155,"user_id":212407,"display_name":"Chris Schoon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1378737951,"creation_date":1378737296,"answer_id":18700707,"question_id":7510092,"body_markdown":"The other answers to this question are interesting. **Surprisingly, no one has answered your question.** You are wondering:\r\n\r\n 1. Is it better to cast to Cents in the query? I don’t think the cast\r\n    to cents adds anything in your query.\r\n 2. Is it better to use now() in the query? I would prefer to pass dates into the query instead of calculating them in the query.\r\n\r\nMore info:\r\nFor question one you want to be sure that aggregating the fractions\r\n   works without rounding errors. I think numeric  19,2 is reasonable\r\n   for money and in the second case the integers are OK. Using a float for money is wrong for this reason.\r\n   \r\n   For question two, I like to have full control as a programmer of what\r\n   date is considered “now”. It can be hard to write automatic unit\r\n   tests when using functions like now(). Also, when you have a longer\r\n   transaction script it can be good to set a variable equal to now() and use the variable so\r\n   that all of the logic uses the exact same value.\r\n\r\n","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>The other answers to this question are interesting. <strong>Surprisingly, no one has answered your question.</strong> You are wondering:</p>\n\n<ol>\n<li>Is it better to cast to Cents in the query? I don’t think the cast\nto cents adds anything in your query.</li>\n<li>Is it better to use now() in the query? I would prefer to pass dates into the query instead of calculating them in the query.</li>\n</ol>\n\n<p>More info:\nFor question one you want to be sure that aggregating the fractions\n   works without rounding errors. I think numeric  19,2 is reasonable\n   for money and in the second case the integers are OK. Using a float for money is wrong for this reason.</p>\n\n<p>For question two, I like to have full control as a programmer of what\n   date is considered “now”. It can be hard to write automatic unit\n   tests when using functions like now(). Also, when you have a longer\n   transaction script it can be good to set a variable equal to now() and use the variable so\n   that all of the logic uses the exact same value.</p>\n"},{"tags":[],"owner":{"account_id":7007599,"reputation":5591,"user_id":5371505,"accept_rate":48,"display_name":"PirateApp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528291391,"creation_date":1528291391,"answer_id":50721616,"question_id":7510092,"body_markdown":"\r\nLet me take a real example to address this question\r\n\r\nI needed to calculate a weighted moving average on my ohlc data, I have about 134000 candles with a symbol for each to do so\r\n\r\n 1. Option 1 Do it in Python/Node etc etc\r\n 2. Option 2 Do it in SQL itself!\r\n\r\n**Which one is better?** \r\n\r\n - If I had to do this in Python, essentially, I would have to fetch all stored records at the worst, case, perform the computation and save everything back which in my opinion is a huge wastage of IO\r\n - Weighted moving average changes everytime you get a new candle meaning I would be doing massive amounts of IO at regular intervals which is not a \r\ngood opinion in my sign\r\n - In SQL, all I have to do is probably write a trigger that computes and stores everything so only need to fetch the final WMA values for each pair every now and then and that is so much more efficient\r\n\r\n**Requirements**\r\n\r\n - If I had to calculate WMA for every candle and store it, I would do it on Python\r\n - But since I only need the last value, **SQL is much faster than Python**\r\n\r\n\r\nTo give you some encouragement, this is the Python version to do a weighted moving average\r\n\r\n**WMA done through code**\r\n\r\n\r\n    import psycopg2\r\n    import psycopg2.extras\r\n    from talib import func\r\n    import timeit\r\n    import numpy as np\r\n    with psycopg2.connect(&#39;dbname=xyz user=xyz&#39;) as conn:\r\n    with conn.cursor() as cur:\r\n    t0 = timeit.default_timer()\r\n    cur.execute(&#39;select distinct symbol from ohlc_900 order by symbol&#39;)\r\n    for symbol in cur.fetchall():\r\n    cur.execute(&#39;select c from ohlc_900 where symbol = %s order by ts&#39;, symbol)\r\n    ohlc = np.array(cur.fetchall(), dtype = ([(&#39;c&#39;, &#39;f8&#39;)]))\r\n    wma = func.WMA(ohlc[&#39;c&#39;], 10)\r\n    # print(*symbol, wma[-1])\r\n    print(timeit.default_timer() - t0)\r\n    conn.close()\r\n\r\n**WMA Through SQL**\r\n\r\n    &quot;&quot;&quot;\r\n    if the period is 10\r\n    then we need 9 previous candles or 15 x 9 = 135 mins on the interval department\r\n    we also need to start counting at row number - (count in that group - 10)\r\n    For example if AAPL had 134 coins and current row number was 125\r\n    weight at that row will be weight = 125 - (134 - 10) = 1\r\n    10 period WMA calculations\r\n    Row no Weight c\r\n    125 1\r\n    126 2\r\n    127 3\r\n    128 4\r\n    129 5\r\n    130 6\r\n    131 7\r\n    132 8\r\n    133 9\r\n    134 10\r\n    &quot;&quot;&quot;\r\n    query2 = &quot;&quot;&quot;\r\n    WITH\r\n    condition(sym, maxts, cnt) as (\r\n    select symbol, max(ts), count(symbol) from ohlc_900 group by symbol\r\n    ),\r\n    cte as (\r\n    select symbol, ts,\r\n    case when cnt &gt;= 10 and ts &gt;= maxts - interval &#39;135 mins&#39;\r\n    then (row_number() over (partition by symbol order by ts) - (cnt - 10)) * c\r\n    else null\r\n    end as weighted_close\r\n    from ohlc_900\r\n    INNER JOIN condition\r\n    ON symbol = sym\r\n    WINDOW\r\n    w as (partition by symbol order by ts rows between 9 preceding and current row)\r\n    )\r\n    select symbol, sum(weighted_close)/55 as wma\r\n    from cte\r\n    WHERE weighted_close is NOT NULL\r\n    GROUP by symbol ORDER BY symbol\r\n    &quot;&quot;&quot;\r\n    with psycopg2.connect(&#39;dbname=xyz user=xyz&#39;) as conn:\r\n    with conn.cursor() as cur:\r\n    t0 = timeit.default_timer()\r\n    cur.execute(query2)\r\n    # for i in cur.fetchall():\r\n    # print(*i)\r\n    print(timeit.default_timer() - t0)\r\n    conn.close()\r\n\r\nBelieve it or not, **the query runs faster than the Pure Python version of doing a WEIGHTED MOVING AVERAGE!!!** I went step by step into writing that query so hang in there and you ll do just fine\r\n\r\nSpeed\r\n\r\n**0.42141127300055814 seconds Python**\r\n\r\n**0.23801879299935536 seconds SQL**\r\n\r\nI have 134000 fake OHLC records in my database divided amongst a 1000 stocks so that is an example of where SQL can outperform your app server\r\n","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p>Let me take a real example to address this question</p>\n\n<p>I needed to calculate a weighted moving average on my ohlc data, I have about 134000 candles with a symbol for each to do so</p>\n\n<ol>\n<li>Option 1 Do it in Python/Node etc etc</li>\n<li>Option 2 Do it in SQL itself!</li>\n</ol>\n\n<p><strong>Which one is better?</strong> </p>\n\n<ul>\n<li>If I had to do this in Python, essentially, I would have to fetch all stored records at the worst, case, perform the computation and save everything back which in my opinion is a huge wastage of IO</li>\n<li>Weighted moving average changes everytime you get a new candle meaning I would be doing massive amounts of IO at regular intervals which is not a \ngood opinion in my sign</li>\n<li>In SQL, all I have to do is probably write a trigger that computes and stores everything so only need to fetch the final WMA values for each pair every now and then and that is so much more efficient</li>\n</ul>\n\n<p><strong>Requirements</strong></p>\n\n<ul>\n<li>If I had to calculate WMA for every candle and store it, I would do it on Python</li>\n<li>But since I only need the last value, <strong>SQL is much faster than Python</strong></li>\n</ul>\n\n<p>To give you some encouragement, this is the Python version to do a weighted moving average</p>\n\n<p><strong>WMA done through code</strong></p>\n\n<pre><code>import psycopg2\nimport psycopg2.extras\nfrom talib import func\nimport timeit\nimport numpy as np\nwith psycopg2.connect('dbname=xyz user=xyz') as conn:\nwith conn.cursor() as cur:\nt0 = timeit.default_timer()\ncur.execute('select distinct symbol from ohlc_900 order by symbol')\nfor symbol in cur.fetchall():\ncur.execute('select c from ohlc_900 where symbol = %s order by ts', symbol)\nohlc = np.array(cur.fetchall(), dtype = ([('c', 'f8')]))\nwma = func.WMA(ohlc['c'], 10)\n# print(*symbol, wma[-1])\nprint(timeit.default_timer() - t0)\nconn.close()\n</code></pre>\n\n<p><strong>WMA Through SQL</strong></p>\n\n<pre><code>\"\"\"\nif the period is 10\nthen we need 9 previous candles or 15 x 9 = 135 mins on the interval department\nwe also need to start counting at row number - (count in that group - 10)\nFor example if AAPL had 134 coins and current row number was 125\nweight at that row will be weight = 125 - (134 - 10) = 1\n10 period WMA calculations\nRow no Weight c\n125 1\n126 2\n127 3\n128 4\n129 5\n130 6\n131 7\n132 8\n133 9\n134 10\n\"\"\"\nquery2 = \"\"\"\nWITH\ncondition(sym, maxts, cnt) as (\nselect symbol, max(ts), count(symbol) from ohlc_900 group by symbol\n),\ncte as (\nselect symbol, ts,\ncase when cnt &gt;= 10 and ts &gt;= maxts - interval '135 mins'\nthen (row_number() over (partition by symbol order by ts) - (cnt - 10)) * c\nelse null\nend as weighted_close\nfrom ohlc_900\nINNER JOIN condition\nON symbol = sym\nWINDOW\nw as (partition by symbol order by ts rows between 9 preceding and current row)\n)\nselect symbol, sum(weighted_close)/55 as wma\nfrom cte\nWHERE weighted_close is NOT NULL\nGROUP by symbol ORDER BY symbol\n\"\"\"\nwith psycopg2.connect('dbname=xyz user=xyz') as conn:\nwith conn.cursor() as cur:\nt0 = timeit.default_timer()\ncur.execute(query2)\n# for i in cur.fetchall():\n# print(*i)\nprint(timeit.default_timer() - t0)\nconn.close()\n</code></pre>\n\n<p>Believe it or not, <strong>the query runs faster than the Pure Python version of doing a WEIGHTED MOVING AVERAGE!!!</strong> I went step by step into writing that query so hang in there and you ll do just fine</p>\n\n<p>Speed</p>\n\n<p><strong>0.42141127300055814 seconds Python</strong></p>\n\n<p><strong>0.23801879299935536 seconds SQL</strong></p>\n\n<p>I have 134000 fake OHLC records in my database divided amongst a 1000 stocks so that is an example of where SQL can outperform your app server</p>\n"}],"owner":{"account_id":917424,"reputation":4934,"user_id":949912,"accept_rate":67,"display_name":"hellojava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105514,"favorite_count":0,"down_vote_count":0,"up_vote_count":187,"accepted_answer_id":7510143,"answer_count":13,"score":187,"last_activity_date":1684039021,"creation_date":1316670590,"question_id":7510092,"body_markdown":"`shopkeeper` table has following fields:\r\n\r\n    id (bigint),amount (numeric(19,2)),createddate (timestamp)\r\n\r\nLet&#39;s say, I have the above table. I want to get the records for yesterday and \r\ngenerate a report by having the amount printed to cents.\r\n\r\n**One way of doing is to perform calculations in my java application and execute a simple query**\r\n\r\n    Date previousDate ;// $1 calculate in application\r\n    \r\n    Date todayDate;// $2 calculate in application\r\n    \r\n    select amount where createddate between $1 and $2 \r\n\r\nand then loop through the records and convert amount to cents in my java application and generate the report\r\n\r\n\r\n**Another way is like performing calculations in sql query itself:**\r\n\r\n    select cast(amount * 100 as int) as &quot;Cents&quot;\r\n    from shopkeeper  where createddate  between date_trunc(&#39;day&#39;, now()) - interval &#39;1 day&#39;  and  date_trunc(&#39;day&#39;, now())\r\n\r\nand then loop through the records and generate the report\r\n\r\nIn one way , all my processing is done in java application and a simple query is fired.\r\nIn other case all the conversions and calculations is done in Sql query.\r\n\r\nThe above use case is just an example, in a real scenario a table can have many columns that require processing of the similar kind.\r\n\r\n**Can you please tell me which approach is better in terms of performance and other aspects and why?** ","title":"What are the pros and cons of performing calculations in sql vs. in your application","body":"<p><code>shopkeeper</code> table has following fields:</p>\n\n<pre><code>id (bigint),amount (numeric(19,2)),createddate (timestamp)\n</code></pre>\n\n<p>Let's say, I have the above table. I want to get the records for yesterday and \ngenerate a report by having the amount printed to cents.</p>\n\n<p><strong>One way of doing is to perform calculations in my java application and execute a simple query</strong></p>\n\n<pre><code>Date previousDate ;// $1 calculate in application\n\nDate todayDate;// $2 calculate in application\n\nselect amount where createddate between $1 and $2 \n</code></pre>\n\n<p>and then loop through the records and convert amount to cents in my java application and generate the report</p>\n\n<p><strong>Another way is like performing calculations in sql query itself:</strong></p>\n\n<pre><code>select cast(amount * 100 as int) as \"Cents\"\nfrom shopkeeper  where createddate  between date_trunc('day', now()) - interval '1 day'  and  date_trunc('day', now())\n</code></pre>\n\n<p>and then loop through the records and generate the report</p>\n\n<p>In one way , all my processing is done in java application and a simple query is fired.\nIn other case all the conversions and calculations is done in Sql query.</p>\n\n<p>The above use case is just an example, in a real scenario a table can have many columns that require processing of the similar kind.</p>\n\n<p><strong>Can you please tell me which approach is better in terms of performance and other aspects and why?</strong> </p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1684023928,"post_id":76245117,"comment_id":134456058,"body_markdown":"It&#39;s in a different thread, which means a different stack of exception handlers, which means you can&#39;t do what you want.  You should look into using something like a CompleteableFuture to convey the results (possibly an exception) from the &#39;run&#39; method to your getResult routine.","body":"It&#39;s in a different thread, which means a different stack of exception handlers, which means you can&#39;t do what you want.  You should look into using something like a CompleteableFuture to convey the results (possibly an exception) from the &#39;run&#39; method to your getResult routine."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684037104,"creation_date":1684037104,"answer_id":76245765,"question_id":76245117,"body_markdown":"Your code in `getResult` __starts__ the process of downloading but will then immediately continue and exit.\r\n\r\nHence, why you simply can&#39;t do this, and there&#39;s no simple language trick either.\r\n\r\nSome ready alternatives:\r\n\r\n* Along with passing the resource to download, pass an &#39;error handler&#39; that the `DownloadManager` will invoke: _it_ does try/catch (inside the thread!) and invokes your handler in the catch block. Such an error handler can take the shape of e.g. a `Consumer&lt;Throwable&gt;` possibly, or perhaps more likely `Consumer&lt;IOException&gt;`.\r\n\r\n* Set up that uncaught exception handler. To make that work: In your actual download-with-progress-bar code, catch IOException and rethrow it as `throw new UncheckedIOException(e);` - this WILL get to the uncaught exception handler where you can catch it and do whatever you want with it. However, you can&#39;t throw `IOException` (or any other exception) from your `getResult` thread, because __it is already looong done and gone__.\r\n\r\n* Wait. Your `getResult` method is free to fire up the download in a separate thread and then wait until it is done. This is in fact __the only way__ to convey an exception given that a method rather obviously cannot throw exceptions after it has already finished running. However, if this is the plan, why.. start a thread in the first place? Might as well do the downloading from within getResult.\r\n\r\n* Apply this principle further up the callstack. For example, maybe `getResult` should itself take a `Consumer&lt;IOException&gt;` which you then pass along to the downloader. The name `getResult` is bizarre. Why does a method named `getResult` do the following job: &quot;Set up a download, start it on a different thread, return before it is completed, and return nothing (how could it - it cannot tell if it succeeded because you start it on another thread).","title":"I don&#39;t know how to handle checked exception in method run properly in my case","body":"<p>Your code in <code>getResult</code> <strong>starts</strong> the process of downloading but will then immediately continue and exit.</p>\n<p>Hence, why you simply can't do this, and there's no simple language trick either.</p>\n<p>Some ready alternatives:</p>\n<ul>\n<li><p>Along with passing the resource to download, pass an 'error handler' that the <code>DownloadManager</code> will invoke: <em>it</em> does try/catch (inside the thread!) and invokes your handler in the catch block. Such an error handler can take the shape of e.g. a <code>Consumer&lt;Throwable&gt;</code> possibly, or perhaps more likely <code>Consumer&lt;IOException&gt;</code>.</p>\n</li>\n<li><p>Set up that uncaught exception handler. To make that work: In your actual download-with-progress-bar code, catch IOException and rethrow it as <code>throw new UncheckedIOException(e);</code> - this WILL get to the uncaught exception handler where you can catch it and do whatever you want with it. However, you can't throw <code>IOException</code> (or any other exception) from your <code>getResult</code> thread, because <strong>it is already looong done and gone</strong>.</p>\n</li>\n<li><p>Wait. Your <code>getResult</code> method is free to fire up the download in a separate thread and then wait until it is done. This is in fact <strong>the only way</strong> to convey an exception given that a method rather obviously cannot throw exceptions after it has already finished running. However, if this is the plan, why.. start a thread in the first place? Might as well do the downloading from within getResult.</p>\n</li>\n<li><p>Apply this principle further up the callstack. For example, maybe <code>getResult</code> should itself take a <code>Consumer&lt;IOException&gt;</code> which you then pass along to the downloader. The name <code>getResult</code> is bizarre. Why does a method named <code>getResult</code> do the following job: &quot;Set up a download, start it on a different thread, return before it is completed, and return nothing (how could it - it cannot tell if it succeeded because you start it on another thread).</p>\n</li>\n</ul>\n"}],"owner":{"account_id":21554080,"reputation":13,"user_id":20734004,"display_name":"Nathan Ikazuyir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684037104,"creation_date":1684016877,"question_id":76245117,"body_markdown":"I have class Downloading that extends Thread. It has method run,\r\n\r\n```\r\nint attempt = 1;\r\nString currentTry = destination + &quot;/&quot; + fileName;\r\nwhile(Files.exists(Paths.get(currentTry))){\r\n      currentTry = String.format(destination + &quot;/(%s)&quot; + fileName,attempt);\r\n      attempt++;\r\n}\r\nfileName = currentTry;\r\ntry {\r\n     Files.createFile(Paths.get(currentTry));\r\n     OutputStream os = new BufferedOutputStream(Files.newOutputStream(Paths.get(currentTry)),contentLength);\r\n     InputStream is = source.openConnection().getInputStream();\r\n     int info;\r\n     while ((info = is.read()) != -1) {\r\n             os.write(info);\r\n             downloadedBytes++;\r\n            }\r\n     os.flush();\r\n     os.close();\r\n     is.close();\r\n      } catch (IOException ex){\r\n                \r\n      }\r\n}\r\n```\r\n\r\nI also have class DownloadingManager\r\n\r\n```\r\nprivate List&lt;iDownloading&gt; threads = new ArrayList&lt;&gt;();\r\n    @Override\r\n    public void start(iDownloading downloading) throws IOException {\r\n        threads.add(downloading);\r\n        downloading.start();\r\n    }\r\n```\r\n\r\nand, finally, class CommandAnalyzer.\r\n\r\n```\r\npublic Object getResult(Object command) {\r\n        if (command.equals(&quot;-status&quot;)){\r\n            return downloadingsManager.getInfo();\r\n        }\r\n        String[] commandParts = ((String)command).split(&quot;,&quot;);\r\n\r\n        if (commandParts.length == 2){\r\n            if (!Files.exists(Paths.get(commandParts[1]).toAbsolutePath().normalize()) || !Files.isDirectory(Paths.get(commandParts[1]).toAbsolutePath().normalize())){\r\n                return &quot;can&#39;t perform command as second argument is not real directory&quot;;\r\n            }\r\n            try {\r\n                downloadingsManager.start(new DownloadingWithProgressBar(commandParts[0], commandParts[1]));\r\n                return &quot;downloading started successfully&quot;;\r\n            } catch (IOException ex){\r\n                return &quot;something went wrong. try again&quot;;\r\n            }\r\n        }\r\n        else{\r\n            return &quot;unknown command&quot;;\r\n        }\r\n```\r\n\r\nI want my method Run to throw IOException so it can be caught inside try-catch block in CommandAnalyzer. But i just can&#39;t do that. Neither i can print information about this exception inside try-catch in Downloading because my Downloading class doesn&#39;t have access to class that prints information, nor can i give any information about caught exception to class who manages all downloadings. Any suggestions what i can do in this situation?\r\n\r\nI read about `Thread.UncaughtExceptionHandler`, but i don&#39;t think it can help me, because its method uncaughtException() doesn&#39;t give me opportunity to throw this exception(i can throw unchecked exception, but logically i have to throw IOException).\r\n\r\nI also thought about something like this: let my Downloading have field `IOException ioex`, and in `catch` block i create new instance of `IOException` to this field. Then i&#39;ll have to add method `GetIOException` to my iDownload interface(because DownloadingManager has List of interfaces), and in `Downloading manager` in method `start` just check if this field is null, if not - throw exception. it will surely work, but i know this is plain stupid because of SOLID.","title":"I don&#39;t know how to handle checked exception in method run properly in my case","body":"<p>I have class Downloading that extends Thread. It has method run,</p>\n<pre><code>int attempt = 1;\nString currentTry = destination + &quot;/&quot; + fileName;\nwhile(Files.exists(Paths.get(currentTry))){\n      currentTry = String.format(destination + &quot;/(%s)&quot; + fileName,attempt);\n      attempt++;\n}\nfileName = currentTry;\ntry {\n     Files.createFile(Paths.get(currentTry));\n     OutputStream os = new BufferedOutputStream(Files.newOutputStream(Paths.get(currentTry)),contentLength);\n     InputStream is = source.openConnection().getInputStream();\n     int info;\n     while ((info = is.read()) != -1) {\n             os.write(info);\n             downloadedBytes++;\n            }\n     os.flush();\n     os.close();\n     is.close();\n      } catch (IOException ex){\n                \n      }\n}\n</code></pre>\n<p>I also have class DownloadingManager</p>\n<pre><code>private List&lt;iDownloading&gt; threads = new ArrayList&lt;&gt;();\n    @Override\n    public void start(iDownloading downloading) throws IOException {\n        threads.add(downloading);\n        downloading.start();\n    }\n</code></pre>\n<p>and, finally, class CommandAnalyzer.</p>\n<pre><code>public Object getResult(Object command) {\n        if (command.equals(&quot;-status&quot;)){\n            return downloadingsManager.getInfo();\n        }\n        String[] commandParts = ((String)command).split(&quot;,&quot;);\n\n        if (commandParts.length == 2){\n            if (!Files.exists(Paths.get(commandParts[1]).toAbsolutePath().normalize()) || !Files.isDirectory(Paths.get(commandParts[1]).toAbsolutePath().normalize())){\n                return &quot;can't perform command as second argument is not real directory&quot;;\n            }\n            try {\n                downloadingsManager.start(new DownloadingWithProgressBar(commandParts[0], commandParts[1]));\n                return &quot;downloading started successfully&quot;;\n            } catch (IOException ex){\n                return &quot;something went wrong. try again&quot;;\n            }\n        }\n        else{\n            return &quot;unknown command&quot;;\n        }\n</code></pre>\n<p>I want my method Run to throw IOException so it can be caught inside try-catch block in CommandAnalyzer. But i just can't do that. Neither i can print information about this exception inside try-catch in Downloading because my Downloading class doesn't have access to class that prints information, nor can i give any information about caught exception to class who manages all downloadings. Any suggestions what i can do in this situation?</p>\n<p>I read about <code>Thread.UncaughtExceptionHandler</code>, but i don't think it can help me, because its method uncaughtException() doesn't give me opportunity to throw this exception(i can throw unchecked exception, but logically i have to throw IOException).</p>\n<p>I also thought about something like this: let my Downloading have field <code>IOException ioex</code>, and in <code>catch</code> block i create new instance of <code>IOException</code> to this field. Then i'll have to add method <code>GetIOException</code> to my iDownload interface(because DownloadingManager has List of interfaces), and in <code>Downloading manager</code> in method <code>start</code> just check if this field is null, if not - throw exception. it will surely work, but i know this is plain stupid because of SOLID.</p>\n"},{"tags":["java","generics","lambda"],"comments":[{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1683906743,"post_id":76238007,"comment_id":134443416,"body_markdown":"Just change `Predicate&lt;? extends Person&gt;` to `Predicate&lt;Person&gt;`.","body":"Just change <code>Predicate&lt;? extends Person&gt;</code> to <code>Predicate&lt;Person&gt;</code>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":2,"creation_date":1683906930,"post_id":76238007,"comment_id":134443464,"body_markdown":"Or if you want to allow the method to return `Predicate&lt;Employee&gt;`, use `public &lt;P extends Person&gt; Predicate&lt;P&gt;`","body":"Or if you want to allow the method to return <code>Predicate&lt;Employee&gt;</code>, use <code>public &lt;P extends Person&gt; Predicate&lt;P&gt;</code>"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1683907042,"post_id":76238007,"comment_id":134443503,"body_markdown":"Does this answer your question? [Give examples of functions which demonstrate covariance and contravariance in the cases of both overloading and overriding in Java?](https://stackoverflow.com/questions/2501023/give-examples-of-functions-which-demonstrate-covariance-and-contravariance-in-th)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2501023/give-examples-of-functions-which-demonstrate-covariance-and-contravariance-in-th\">Give examples of functions which demonstrate covariance and contravariance in the cases of both overloading and overriding in Java?</a>"},{"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"score":0,"creation_date":1683907124,"post_id":76238007,"comment_id":134443528,"body_markdown":"ok thanks. Isn&#39;t &lt;? extends Person&gt; and &lt;P extends Person&gt; &lt;P&gt; the same thing ?","body":"ok thanks. Isn&#39;t &lt;? extends Person&gt; and &lt;P extends Person&gt; &lt;P&gt; the same thing ?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1683908079,"post_id":76238007,"comment_id":134443753,"body_markdown":"No, they are not the same thing.  Every Predicate has a specific, non-wildcard type.  `Predicate&lt;? extends Person&gt;` means “this Predicate’s specific type is either Person or some class that inherits Person, but I don’t know what that specific type is.”  When you try to call test(new Person()), it is not type-safe, because the *specific type* of the Predicate might be Employee, or Customer, or OlympicAthlete.  `? extends Person` means the compiler doesn’t know which specific type the Predicate requires.","body":"No, they are not the same thing.  Every Predicate has a specific, non-wildcard type.  <code>Predicate&lt;? extends Person&gt;</code> means “this Predicate’s specific type is either Person or some class that inherits Person, but I don’t know what that specific type is.”  When you try to call test(new Person()), it is not type-safe, because the <i>specific type</i> of the Predicate might be Employee, or Customer, or OlympicAthlete.  <code>? extends Person</code> means the compiler doesn’t know which specific type the Predicate requires."}],"answers":[{"tags":[],"owner":{"account_id":10933290,"reputation":2086,"user_id":8035759,"display_name":"Asgar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1683906899,"creation_date":1683906899,"answer_id":76238044,"question_id":76238007,"body_markdown":"The reason your code doesn&#39;t compile is because you have defined the `startsA()` method to return a Predicate of a wildcard type that extends Person. \r\nThe wildcard type represents an unknown subtype of Person,\r\n\r\nChange `startsA()` method to return a `Predicate&lt;Person&gt;` instead of using a wildcard type:\r\n\r\n```JAVA\r\npublic Predicate&lt;Person&gt; startsA() {\r\n    return p -&gt; p.getName().startsWith(&quot;A&quot;);\r\n}\r\n```\r\n","title":"Java : generics and lambda expression","body":"<p>The reason your code doesn't compile is because you have defined the <code>startsA()</code> method to return a Predicate of a wildcard type that extends Person.\nThe wildcard type represents an unknown subtype of Person,</p>\n<p>Change <code>startsA()</code> method to return a <code>Predicate&lt;Person&gt;</code> instead of using a wildcard type:</p>\n<pre><code>public Predicate&lt;Person&gt; startsA() {\n    return p -&gt; p.getName().startsWith(&quot;A&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684036624,"creation_date":1683925945,"answer_id":76239968,"question_id":76238007,"body_markdown":"Generics are one meta level removed. You need to walk a mile in the shoes of the compiler to understand them.\r\n\r\nThe mistake I often see with generics, and the one you seem to make, is that you think `Predicate&lt;? extends Person&gt;` means &#39;this is a predicate that can test any person. An Employee, a Customer - doesn&#39;t matter, hence, &#39;whatever extends Person&#39; right.\r\n\r\n__But that is not what that means__.\r\n\r\nAfter all, imagine it meant that. What is `Predicate&lt;Person&gt;` then? A predicate that can test only specifically `new Person()` but not `new Employer()`? Java doesn&#39;t work that way - any instance of Employer can be used as a Person so that would be utterly bizarre.\r\n\r\nIn fact, `Predicate&lt;Person&gt;` means what you want here: A predicate object that can __test any person__.\r\n\r\nSo what does `Predicate&lt;? extends Person&gt;` mean? This:\r\n\r\nA predicate that can test... I don&#39;t actually know what it can test. All I know is, whatever it is, it&#39;s some type that is either Person or some subtype thereof.\r\n\r\nSo what point is there to such a thing? Not all that much in this specific case (for predicate). Let&#39;s instead think of lists. We have 3 different types that are relevant (remember, Integer and Double both extend Number, and Number extends Object)\r\n\r\n* `List&lt;? extends Number&gt;`\r\n* `List&lt;? super Number&gt;`\r\n* `List&lt;Number&gt;`\r\n\r\nYou can pass a `List&lt;Integer&gt;` object to a method that takes a `List&lt;? extends Number&gt;`. You __cannot__ pass it to a method that takes a `List&lt;Number&gt;`. Why not - Integer extends Number, right? Ah, but __inside generics__, that&#39;s invariant, as in, no, you can&#39;t just replace a type with its subtype. After all, I can add a `Double` object to a `List&lt;Number&gt;`. I can add Number objects to my list, a Double object is a Number object, QED.\r\n\r\nBut, adding a Double object to a `List&lt;Integer&gt;`, that&#39;s no good. Hence, a `List&lt;? extends Number&gt;` is required - try it, you __cannot__ add things to such a list. For the same reason: `List&lt;? extends Number&gt;` does not mean: &quot;A list that can hold numbers - any numbers&quot;. Quite the opposite. It means: &quot;A list that can hold.. I do not know what it can hold (hence the question mark!) - all I know is, whatever it holds, it&#39;s Number. Or any subclass of Number). Given that, `list.get(5)` WILL return an expression of type `Number` (given the few things we know, that is safe), but you can&#39;t add anything to it (except for the academic case of a literal `null`, which is all types).\r\n\r\nFor `Predicate` in particular, `Predicate&lt;? extends&gt;` is completely useless, that shouldn&#39;t ever show up in any case. `Predicate&lt;? super X&gt;` can be quite convenient. After all, that means: &quot;A predicate that can test.. well I do not know what it can test. What I do know, is that it is either X, or some __super__ type of X&quot;. Given that information, `.test(instanceOfX)` is fine.","title":"Java : generics and lambda expression","body":"<p>Generics are one meta level removed. You need to walk a mile in the shoes of the compiler to understand them.</p>\n<p>The mistake I often see with generics, and the one you seem to make, is that you think <code>Predicate&lt;? extends Person&gt;</code> means 'this is a predicate that can test any person. An Employee, a Customer - doesn't matter, hence, 'whatever extends Person' right.</p>\n<p><strong>But that is not what that means</strong>.</p>\n<p>After all, imagine it meant that. What is <code>Predicate&lt;Person&gt;</code> then? A predicate that can test only specifically <code>new Person()</code> but not <code>new Employer()</code>? Java doesn't work that way - any instance of Employer can be used as a Person so that would be utterly bizarre.</p>\n<p>In fact, <code>Predicate&lt;Person&gt;</code> means what you want here: A predicate object that can <strong>test any person</strong>.</p>\n<p>So what does <code>Predicate&lt;? extends Person&gt;</code> mean? This:</p>\n<p>A predicate that can test... I don't actually know what it can test. All I know is, whatever it is, it's some type that is either Person or some subtype thereof.</p>\n<p>So what point is there to such a thing? Not all that much in this specific case (for predicate). Let's instead think of lists. We have 3 different types that are relevant (remember, Integer and Double both extend Number, and Number extends Object)</p>\n<ul>\n<li><code>List&lt;? extends Number&gt;</code></li>\n<li><code>List&lt;? super Number&gt;</code></li>\n<li><code>List&lt;Number&gt;</code></li>\n</ul>\n<p>You can pass a <code>List&lt;Integer&gt;</code> object to a method that takes a <code>List&lt;? extends Number&gt;</code>. You <strong>cannot</strong> pass it to a method that takes a <code>List&lt;Number&gt;</code>. Why not - Integer extends Number, right? Ah, but <strong>inside generics</strong>, that's invariant, as in, no, you can't just replace a type with its subtype. After all, I can add a <code>Double</code> object to a <code>List&lt;Number&gt;</code>. I can add Number objects to my list, a Double object is a Number object, QED.</p>\n<p>But, adding a Double object to a <code>List&lt;Integer&gt;</code>, that's no good. Hence, a <code>List&lt;? extends Number&gt;</code> is required - try it, you <strong>cannot</strong> add things to such a list. For the same reason: <code>List&lt;? extends Number&gt;</code> does not mean: &quot;A list that can hold numbers - any numbers&quot;. Quite the opposite. It means: &quot;A list that can hold.. I do not know what it can hold (hence the question mark!) - all I know is, whatever it holds, it's Number. Or any subclass of Number). Given that, <code>list.get(5)</code> WILL return an expression of type <code>Number</code> (given the few things we know, that is safe), but you can't add anything to it (except for the academic case of a literal <code>null</code>, which is all types).</p>\n<p>For <code>Predicate</code> in particular, <code>Predicate&lt;? extends&gt;</code> is completely useless, that shouldn't ever show up in any case. <code>Predicate&lt;? super X&gt;</code> can be quite convenient. After all, that means: &quot;A predicate that can test.. well I do not know what it can test. What I do know, is that it is either X, or some <strong>super</strong> type of X&quot;. Given that information, <code>.test(instanceOfX)</code> is fine.</p>\n"}],"owner":{"account_id":11210679,"reputation":1241,"user_id":8224838,"display_name":"AntonBoarf"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76239968,"answer_count":2,"score":1,"last_activity_date":1684036624,"creation_date":1683906571,"question_id":76238007,"body_markdown":"This looks like very basic but I fail to understand why my code doesn&#39;t compile.\r\n\r\nI have a `class Person` with a `String name` attribute and a `getName()` getter.\r\n\r\nI create an `Employee class extends Person`\r\n\r\nI have this method :\r\n\r\n    public Predicate&lt;? extends Person&gt; startsA() {\r\n            return p -&gt; p.getName().startsWith(&quot;A&quot;);\r\n    }\r\n\r\nSo I want this method to work with all subclasses of `Person`\r\n\r\nBut this code doesn&#39;t compile :\r\n\r\n    startsA().test(new Employee());\r\n    startsA().test(new Person());\r\n\r\n\r\nI don&#39;t understand why\r\n","title":"Java : generics and lambda expression","body":"<p>This looks like very basic but I fail to understand why my code doesn't compile.</p>\n<p>I have a <code>class Person</code> with a <code>String name</code> attribute and a <code>getName()</code> getter.</p>\n<p>I create an <code>Employee class extends Person</code></p>\n<p>I have this method :</p>\n<pre><code>public Predicate&lt;? extends Person&gt; startsA() {\n        return p -&gt; p.getName().startsWith(&quot;A&quot;);\n}\n</code></pre>\n<p>So I want this method to work with all subclasses of <code>Person</code></p>\n<p>But this code doesn't compile :</p>\n<pre><code>startsA().test(new Employee());\nstartsA().test(new Person());\n</code></pre>\n<p>I don't understand why</p>\n"},{"tags":["java","jsf","datatable","selection","selectall"],"owner":{"account_id":23704535,"reputation":1,"user_id":17727222,"display_name":"yareenm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684036144,"creation_date":1684036144,"question_id":76245729,"body_markdown":"I have a &lt;rich:extendeddatatable&gt; and I&#39;m not using selection attribute to select rows.\r\nEach row I have a checkbox but I want a general checkbox above the list to select all the rows.\r\n\r\nWhen I clicked on the main checkbox, the other checkboxes in the datatable didn&#39;t selected.\r\n\r\nCan somebody help with this? Thanks!  (I am not using js, it&#39;s pure java but nothing else)\r\n\r\n\r\nI tried like this:\r\n```\r\n&lt;div&gt; \r\n   &lt;h:selectBooleanCheckbox value=&quot;#{bean.status}&quot; action=&quot;#{bean.checked}&quot; /&gt;\r\n&lt;/div&gt;\r\n```\r\n\r\nAnd my function in the bean is like this:\r\nBoolean selected=false;\r\n\r\n```\r\npublic void checked(){\r\n   if(this.selected){\r\n     setSelected(false);\r\n     selectAll(false); \r\n   }\r\n   else{\r\n    setSelected(true)\r\n     selectAll(true);\r\n   }\r\n}\r\n```\r\n\r\n// and for selectAll() func. i&#39;m setting my status value (which I assigned as a value to the checkbox in my datatable), also I am running that search query to rerender the extendeddatatable","title":"How to select all of the rows only with one checkbox in JSF","body":"<p>I have a rich:extendeddatatable and I'm not using selection attribute to select rows.\nEach row I have a checkbox but I want a general checkbox above the list to select all the rows.</p>\n<p>When I clicked on the main checkbox, the other checkboxes in the datatable didn't selected.</p>\n<p>Can somebody help with this? Thanks!  (I am not using js, it's pure java but nothing else)</p>\n<p>I tried like this:</p>\n<pre><code>&lt;div&gt; \n   &lt;h:selectBooleanCheckbox value=&quot;#{bean.status}&quot; action=&quot;#{bean.checked}&quot; /&gt;\n&lt;/div&gt;\n</code></pre>\n<p>And my function in the bean is like this:\nBoolean selected=false;</p>\n<pre><code>public void checked(){\n   if(this.selected){\n     setSelected(false);\n     selectAll(false); \n   }\n   else{\n    setSelected(true)\n     selectAll(true);\n   }\n}\n</code></pre>\n<p>// and for selectAll() func. i'm setting my status value (which I assigned as a value to the checkbox in my datatable), also I am running that search query to rerender the extendeddatatable</p>\n"},{"tags":["java","jsoup"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1684037961,"post_id":76245634,"comment_id":134456751,"body_markdown":"You could do the request using some other HTTP client and then parse the body with jsoup.","body":"You could do the request using some other HTTP client and then parse the body with jsoup."},{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1684040210,"post_id":76245634,"comment_id":134456873,"body_markdown":"When Exception occurs that means no other object is returned so `// do something with response` line is not supposed to be executed and if the Exception object does not contain your desired data, you sure are out of luck. There is no way to get that data with Jsoup.","body":"When Exception occurs that means no other object is returned so <code>&#47;&#47; do something with response</code> line is not supposed to be executed and if the Exception object does not contain your desired data, you sure are out of luck. There is no way to get that data with Jsoup."}],"owner":{"account_id":9555543,"reputation":93,"user_id":7098148,"display_name":"JonB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684033290,"creation_date":1684033290,"question_id":76245634,"body_markdown":"I am making an HTTP get request using JSoup with the following code:\r\n\r\n    Connection.Response response = null;\r\n    try\r\n    {\r\n        response = Jsoup.connect(urlstr).execute();\r\n        // do something with response\r\n    }\r\n    catch (final HttpStatusException e)\r\n    {\r\n        if (e.getStatusCode() == 429)\r\n        {\r\n            // how to access retry-after header here since response is null?\r\n        }\r\n    }\r\n\r\nAs far as I can tell, the only way to get the response headers (which contains the retry-after header that says how long to delay) is to get the JSoup Connection.Response (can call headers().get(&quot;retry-after)), which according to the documentation can only be obtained after the connection is executed.  However, the execute call throws an exception which lands me in the catch block with the response null.\r\n\r\nThe only thing I have access to is the HttpStatusException which does not have access to the response headers.  Not sure if every 429 request would fail this way but I am at a loss in my particular case as to how to access the retry-after header so I can delay the appropriate amount of time.\r\n\r\nAny suggestions are greatly appreciated.","title":"how to access retry-after in jsoup response when receive HttpStatusException?","body":"<p>I am making an HTTP get request using JSoup with the following code:</p>\n<pre><code>Connection.Response response = null;\ntry\n{\n    response = Jsoup.connect(urlstr).execute();\n    // do something with response\n}\ncatch (final HttpStatusException e)\n{\n    if (e.getStatusCode() == 429)\n    {\n        // how to access retry-after header here since response is null?\n    }\n}\n</code></pre>\n<p>As far as I can tell, the only way to get the response headers (which contains the retry-after header that says how long to delay) is to get the JSoup Connection.Response (can call headers().get(&quot;retry-after)), which according to the documentation can only be obtained after the connection is executed.  However, the execute call throws an exception which lands me in the catch block with the response null.</p>\n<p>The only thing I have access to is the HttpStatusException which does not have access to the response headers.  Not sure if every 429 request would fail this way but I am at a loss in my particular case as to how to access the retry-after header so I can delay the appropriate amount of time.</p>\n<p>Any suggestions are greatly appreciated.</p>\n"},{"tags":["java","spring","websphere","nodes","classnotfound"],"comments":[{"owner":{"account_id":1305044,"reputation":8301,"user_id":1254208,"display_name":"GregHNZ"},"score":0,"creation_date":1684038304,"post_id":76245543,"comment_id":134456764,"body_markdown":"This feels like a classpath issue.  Possibly not having struts2 on the classpath, or possibly having two different versions of it. I&#39;d check for .jar files or .zip files with struts in the name (and possibly peek inside the EAR file and see if it&#39;s in there too). Bit of a stab in the dark though.","body":"This feels like a classpath issue.  Possibly not having struts2 on the classpath, or possibly having two different versions of it. I&#39;d check for .jar files or .zip files with struts in the name (and possibly peek inside the EAR file and see if it&#39;s in there too). Bit of a stab in the dark though."}],"owner":{"account_id":28597069,"reputation":1,"user_id":21894895,"display_name":"SysAdminK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684030775,"creation_date":1684030533,"question_id":76245543,"body_markdown":"I have this websphere application installed and running on Windows with 6 nodes. Node A,B,C,D,E and F. When I hit the application on B,E and F it is working fine. But when I hit the application on Nodes A,C and D I am getting the below error on page.\r\n\r\n&gt; Error Page Exception\r\n&gt; SRVE0260E: The server cannot use the error page specified for your application to handle the Original Exception printed below.\r\n&gt; \r\n&gt; Original Exception:\r\n&gt; Error Message: javax.servlet.ServletException: Filter \\[struts2\\]: Could not find required filter class - org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.class\r\n&gt; Error Code: 500\r\n&gt; Target Servlet: com.ibm.ws.webcontainer.extension.DefaultExtensionProcessor\r\n&gt; Error Stack:\r\n&gt; java.lang.ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\r\n&gt; at java.net.URLClassLoader.findClass(URLClassLoader.java:610)\r\n&gt; at com.ibm.ws.bootstrap.ExtClassLoader.findClass(ExtClassLoader.java:244)\r\n&gt; at java.lang.ClassLoader.loadClassHelper(ClassLoader.java:944) \r\n\r\nAs 3 nodes are working fine, I tried to uninstall and reinstall the ear file,cleared the cache and restarted, synced properly,checked the properties folder for all the 6 nodes(They are same),checked the jar files directory for all the 6 nodes(They are same), checked the java version,checked the directory permissions,checked the file size under installedApps directory. But I could not get a solution. Logs are showing the same error what I see on page and gives multiple classnofounderrors as mentioned below.\r\n\r\n&gt; [5/13/23 19:14:52:307 EDT\\] 000000c0 annotation    W com.ibm.ws.webcontainer.annotation.WASAnnotationHelper collectClasses SRVE8000W: Skipped class that failed to initialize for annotation scanning.\r\n&gt; java.lang.NoClassDefFoundError: org.apache.struts2.views.jsp.ui.TextFieldTag\r\n&gt; \r\n&gt; //\\[5/13/23 19:14:54:311 EDT\\] 000000c0 webapp        E com.ibm.ws.webcontainer.webapp.WebApp logError SRVE0293E: \\[Servlet Error\\]-\\[Failed to load listener: org.springframework.web.context.ContextLoaderListener\\]: java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener\r\n&gt; \r\n&gt; [5/13/23 19:14:52:304 EDT\\] 000000c0 annotation    W com.ibm.ws.webcontainer.annotation.WASAnnotationHelper collectClasses SRVE8000W: Skipped class that failed to initialize for annotation scanning.\r\n&gt; java.lang.NoClassDefFoundError: org.apache.struts2.views.jsp.ui.AbstractClosingTag\r\n&gt; at java.lang.ClassLoader.defineClassImpl(Native Method)\r\n&gt; at java.lang.ClassLoader.defineClassInternal(ClassLoader.java:398)\r\n&gt; \r\n&gt; [5/13/23 19:14:52:293 EDT\\] 000000c0 annotation    W com.ibm.ws.webcontainer.annotation.WASAnnotationHelper collectClasses SRVE8000W: Skipped class that failed to initialize for annotation scanning.\r\n&gt; java.lang.ClassNotFoundException: org.apache.struts2.views.jsp.IteratorTag\r\n&gt; at java.lang.Class.forNameImpl(Native Method)\r\n&gt; at java.lang.Class.forName(Class.java:407)\r\n\r\nI am really wondering how come it is working fine on 3 nodes and not working on other 3 nodes. Ear files is deployed on cluster,so the same ear file is deployed on all the 6 nodes.\r\n\r\nPlease help me to find a solution for this issue.\r\n","title":"Websphere giving error particularly on 3 nodes only whereas other 3 nodes are working fine","body":"<p>I have this websphere application installed and running on Windows with 6 nodes. Node A,B,C,D,E and F. When I hit the application on B,E and F it is working fine. But when I hit the application on Nodes A,C and D I am getting the below error on page.</p>\n<blockquote>\n<p>Error Page Exception\nSRVE0260E: The server cannot use the error page specified for your application to handle the Original Exception printed below.</p>\n<p>Original Exception:\nError Message: javax.servlet.ServletException: Filter [struts2]: Could not find required filter class - org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.class\nError Code: 500\nTarget Servlet: com.ibm.ws.webcontainer.extension.DefaultExtensionProcessor\nError Stack:\njava.lang.ClassNotFoundException: org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter\nat java.net.URLClassLoader.findClass(URLClassLoader.java:610)\nat com.ibm.ws.bootstrap.ExtClassLoader.findClass(ExtClassLoader.java:244)\nat java.lang.ClassLoader.loadClassHelper(ClassLoader.java:944)</p>\n</blockquote>\n<p>As 3 nodes are working fine, I tried to uninstall and reinstall the ear file,cleared the cache and restarted, synced properly,checked the properties folder for all the 6 nodes(They are same),checked the jar files directory for all the 6 nodes(They are same), checked the java version,checked the directory permissions,checked the file size under installedApps directory. But I could not get a solution. Logs are showing the same error what I see on page and gives multiple classnofounderrors as mentioned below.</p>\n<blockquote>\n<p>[5/13/23 19:14:52:307 EDT] 000000c0 annotation    W com.ibm.ws.webcontainer.annotation.WASAnnotationHelper collectClasses SRVE8000W: Skipped class that failed to initialize for annotation scanning.\njava.lang.NoClassDefFoundError: org.apache.struts2.views.jsp.ui.TextFieldTag</p>\n<p>//[5/13/23 19:14:54:311 EDT] 000000c0 webapp        E com.ibm.ws.webcontainer.webapp.WebApp logError SRVE0293E: [Servlet Error]-[Failed to load listener: org.springframework.web.context.ContextLoaderListener]: java.lang.ClassNotFoundException: org.springframework.web.context.ContextLoaderListener</p>\n<p>[5/13/23 19:14:52:304 EDT] 000000c0 annotation    W com.ibm.ws.webcontainer.annotation.WASAnnotationHelper collectClasses SRVE8000W: Skipped class that failed to initialize for annotation scanning.\njava.lang.NoClassDefFoundError: org.apache.struts2.views.jsp.ui.AbstractClosingTag\nat java.lang.ClassLoader.defineClassImpl(Native Method)\nat java.lang.ClassLoader.defineClassInternal(ClassLoader.java:398)</p>\n<p>[5/13/23 19:14:52:293 EDT] 000000c0 annotation    W com.ibm.ws.webcontainer.annotation.WASAnnotationHelper collectClasses SRVE8000W: Skipped class that failed to initialize for annotation scanning.\njava.lang.ClassNotFoundException: org.apache.struts2.views.jsp.IteratorTag\nat java.lang.Class.forNameImpl(Native Method)\nat java.lang.Class.forName(Class.java:407)</p>\n</blockquote>\n<p>I am really wondering how come it is working fine on 3 nodes and not working on other 3 nodes. Ear files is deployed on cluster,so the same ear file is deployed on all the 6 nodes.</p>\n<p>Please help me to find a solution for this issue.</p>\n"},{"tags":["java","algorithm","data-structures"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1683970934,"post_id":76241980,"comment_id":134450579,"body_markdown":"This is a very basic, simple exercise. Stack Overflow isn&#39;t the right site for &#39;hey how do I start&#39;. What did you try? What ideas have you applied?","body":"This is a very basic, simple exercise. Stack Overflow isn&#39;t the right site for &#39;hey how do I start&#39;. What did you try? What ideas have you applied?"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1683971025,"post_id":76241980,"comment_id":134450591,"body_markdown":"If I&#39;m interviewing a potential new hire and they can&#39;t do an exercise, that doesn&#39;t have to be a problem. But if they just sort of stare at something (the problem, or me, or the wall) for 10 minutes getting more and more flustered as we go, that&#39;s an easy &#39;nope&#39;. Talk through what you&#39;re thinking about next time. Or if you did: Talk _us_ through - write down what ideas you have to try to tackle this.","body":"If I&#39;m interviewing a potential new hire and they can&#39;t do an exercise, that doesn&#39;t have to be a problem. But if they just sort of stare at something (the problem, or me, or the wall) for 10 minutes getting more and more flustered as we go, that&#39;s an easy &#39;nope&#39;. Talk through what you&#39;re thinking about next time. Or if you did: Talk <i>us</i> through - write down what ideas you have to try to tackle this."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1683971466,"post_id":76241980,"comment_id":134450634,"body_markdown":"I think it can be done in one line of code, but the big hint is: It&#39;s complete if the quantity of each tile is a multiple of 3, except one quantity may be a multiple of 3 plus 2.","body":"I think it can be done in one line of code, but the big hint is: It&#39;s complete if the quantity of each tile is a multiple of 3, except one quantity may be a multiple of 3 plus 2."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683990569,"creation_date":1683990111,"answer_id":76243391,"question_id":76241980,"body_markdown":"Here&#39;s my solution.  \r\nIt is not the only solution. Refer to the [comment][1] from @Bohemian.  \r\n(Explanations after the code.)\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class Mahjongs {\r\n    private static final String  COMPLETE = &quot;COMPLETE&quot;;\r\n    private static final String  NOT_COMPLETE = &quot;NOT COMPLETE&quot;;\r\n\r\n    private static String isComplete(String hand) {\r\n        String msg = &quot;Tile %d is not valid: &#39;%c&#39;&quot;;\r\n        String result = COMPLETE;\r\n        if (hand == null) {\r\n            result = NOT_COMPLETE;\r\n        }\r\n        else {\r\n            hand = hand.strip();\r\n            if (hand.length() &lt; 2) {\r\n                result = NOT_COMPLETE;\r\n            }\r\n            else {\r\n                char[] tiles = hand.toCharArray();\r\n                Arrays.sort(tiles);\r\n                char last = tiles[0];\r\n                if (!Character.isDigit(last)) {\r\n                    throw new IllegalArgumentException(String.format(msg, 0, last));\r\n                }\r\n                int count = 1;\r\n                int doubles = 0;\r\n                for (int i = 1; i &lt; tiles.length; i++) {\r\n                    if (!Character.isDigit(tiles[i])) {\r\n                        throw new IllegalArgumentException(String.format(msg, i, tiles[i]));\r\n                    }\r\n                    if (tiles[i] == last) {\r\n                        count++;\r\n                        if (count == 3) {\r\n                            count = 0;\r\n                        }\r\n                    }\r\n                    else {\r\n                        if (count == 1) {\r\n                            result = NOT_COMPLETE;\r\n                            break;\r\n                        }\r\n                        if (count == 2) {\r\n                            doubles++;\r\n                            if (doubles != 1) {\r\n                                result = NOT_COMPLETE;\r\n                                break;\r\n                            }\r\n                        }\r\n                        count = 1;\r\n                        last = tiles[i];\r\n                    }\r\n                }\r\n                if (count == 1) {\r\n                    result = NOT_COMPLETE;\r\n                }\r\n                else if (count == 2) {\r\n                    doubles++;\r\n                }\r\n                if (result.equals(COMPLETE)  &amp;&amp;  doubles != 1) {\r\n                    result = NOT_COMPLETE;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(isComplete(&quot;33344466&quot;));\r\n        System.out.println(isComplete(&quot;55555555&quot;));\r\n        System.out.println(isComplete(&quot;22&quot;));\r\n        System.out.println(isComplete(&quot;1357&quot;));\r\n        System.out.println(isComplete(&quot;335577&quot;));\r\n        System.out.println(isComplete(&quot;666888&quot;));\r\n        System.out.println();\r\n    }\r\n}\r\n```\r\n- Method `isComplete` is the method you were asked to write. It takes a single, `String` parameter and returns a `String` which is either _COMPLETE_ or _NOT_COMPLETE_.\r\n- Firstly, the method checks the validity of its parameter. While not explicitly mentioned in the problem statement, I think it&#39;s always a good idea to do so.\r\n    - If the method parameter is null, the method returns _NOT_COMPLETE_, otherwise...\r\n    - Remove leading and trailing spaces from the parameter.\r\n    - `hand` is complete if it contains at least a single pair, hence the length of the parameter must be at least 2, so if the length is less than 2, the method returns _NOT_COMPLETE_.\r\n- Convert the parameter to an array of `char`.\r\n- Sort the array (since the question does not explicitly state that `hand` is sorted).\r\n- Save the first element of the array in variable `last`.  \r\n(There must be a first element because, at this point, the array contains at least two elements.)\r\n- Iterate through the characters in the array, starting from the second character.\r\n- If a character is not a digit then the method parameter is illegal and the method throws an exception.\r\n- Variable `count` holds the number of consecutive appearances of a given character. If `count` reaches 3, we have a triple and we start counting again.\r\n- When the &quot;current&quot; character is different to `last`, then if `count` equals one, that means there is only a single, consecutive appearance of a digit and that means that the `hand` is incomplete and therefore the method returns _NOT_COMPLETE_.\r\n- Variable `doubles` holds the number of &quot;pairs&quot;. There must only be precisely one double so if we count more than one double, the method returns _NOT_COMPLETE_.\r\n- When the &quot;current&quot; character differs from `last` reset `last` and also reset `count`.\r\n- At the end of the `for` loop, check the value of `count` and update `doubles` if required.\r\n- Also at the end of the `for` loop, check the value of `doubles`. If it is not exactly 1 (one), then the method returns _NOT COMPLETE_.\r\n- Finally, return the value of `result` &amp;ndash; which is either _COMPLETE_ or _NOT COMPLETE_.\r\n\r\nRunning the above code produces the following output:\r\n```none\r\nCOMPLETE\r\nCOMPLETE\r\nCOMPLETE\r\nNOT COMPLETE\r\nNOT COMPLETE\r\nNOT COMPLETE\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76241980/finding-if-input-has-exactly-one-pair-and-zero-or-more-triplets-java#comment134450634_76241980","title":"Finding if input has exactly one pair and zero or more triplets java","body":"<p>Here's my solution.<br />\nIt is not the only solution. Refer to the <a href=\"https://stackoverflow.com/questions/76241980/finding-if-input-has-exactly-one-pair-and-zero-or-more-triplets-java#comment134450634_76241980\">comment</a> from @Bohemian.<br />\n(Explanations after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Mahjongs {\n    private static final String  COMPLETE = &quot;COMPLETE&quot;;\n    private static final String  NOT_COMPLETE = &quot;NOT COMPLETE&quot;;\n\n    private static String isComplete(String hand) {\n        String msg = &quot;Tile %d is not valid: '%c'&quot;;\n        String result = COMPLETE;\n        if (hand == null) {\n            result = NOT_COMPLETE;\n        }\n        else {\n            hand = hand.strip();\n            if (hand.length() &lt; 2) {\n                result = NOT_COMPLETE;\n            }\n            else {\n                char[] tiles = hand.toCharArray();\n                Arrays.sort(tiles);\n                char last = tiles[0];\n                if (!Character.isDigit(last)) {\n                    throw new IllegalArgumentException(String.format(msg, 0, last));\n                }\n                int count = 1;\n                int doubles = 0;\n                for (int i = 1; i &lt; tiles.length; i++) {\n                    if (!Character.isDigit(tiles[i])) {\n                        throw new IllegalArgumentException(String.format(msg, i, tiles[i]));\n                    }\n                    if (tiles[i] == last) {\n                        count++;\n                        if (count == 3) {\n                            count = 0;\n                        }\n                    }\n                    else {\n                        if (count == 1) {\n                            result = NOT_COMPLETE;\n                            break;\n                        }\n                        if (count == 2) {\n                            doubles++;\n                            if (doubles != 1) {\n                                result = NOT_COMPLETE;\n                                break;\n                            }\n                        }\n                        count = 1;\n                        last = tiles[i];\n                    }\n                }\n                if (count == 1) {\n                    result = NOT_COMPLETE;\n                }\n                else if (count == 2) {\n                    doubles++;\n                }\n                if (result.equals(COMPLETE)  &amp;&amp;  doubles != 1) {\n                    result = NOT_COMPLETE;\n                }\n            }\n        }\n        return result;\n    }\n\n    public static void main(String[] args) {\n        System.out.println(isComplete(&quot;33344466&quot;));\n        System.out.println(isComplete(&quot;55555555&quot;));\n        System.out.println(isComplete(&quot;22&quot;));\n        System.out.println(isComplete(&quot;1357&quot;));\n        System.out.println(isComplete(&quot;335577&quot;));\n        System.out.println(isComplete(&quot;666888&quot;));\n        System.out.println();\n    }\n}\n</code></pre>\n<ul>\n<li>Method <code>isComplete</code> is the method you were asked to write. It takes a single, <code>String</code> parameter and returns a <code>String</code> which is either <em>COMPLETE</em> or <em>NOT_COMPLETE</em>.</li>\n<li>Firstly, the method checks the validity of its parameter. While not explicitly mentioned in the problem statement, I think it's always a good idea to do so.\n<ul>\n<li>If the method parameter is null, the method returns <em>NOT_COMPLETE</em>, otherwise...</li>\n<li>Remove leading and trailing spaces from the parameter.</li>\n<li><code>hand</code> is complete if it contains at least a single pair, hence the length of the parameter must be at least 2, so if the length is less than 2, the method returns <em>NOT_COMPLETE</em>.</li>\n</ul>\n</li>\n<li>Convert the parameter to an array of <code>char</code>.</li>\n<li>Sort the array (since the question does not explicitly state that <code>hand</code> is sorted).</li>\n<li>Save the first element of the array in variable <code>last</code>.<br />\n(There must be a first element because, at this point, the array contains at least two elements.)</li>\n<li>Iterate through the characters in the array, starting from the second character.</li>\n<li>If a character is not a digit then the method parameter is illegal and the method throws an exception.</li>\n<li>Variable <code>count</code> holds the number of consecutive appearances of a given character. If <code>count</code> reaches 3, we have a triple and we start counting again.</li>\n<li>When the &quot;current&quot; character is different to <code>last</code>, then if <code>count</code> equals one, that means there is only a single, consecutive appearance of a digit and that means that the <code>hand</code> is incomplete and therefore the method returns <em>NOT_COMPLETE</em>.</li>\n<li>Variable <code>doubles</code> holds the number of &quot;pairs&quot;. There must only be precisely one double so if we count more than one double, the method returns <em>NOT_COMPLETE</em>.</li>\n<li>When the &quot;current&quot; character differs from <code>last</code> reset <code>last</code> and also reset <code>count</code>.</li>\n<li>At the end of the <code>for</code> loop, check the value of <code>count</code> and update <code>doubles</code> if required.</li>\n<li>Also at the end of the <code>for</code> loop, check the value of <code>doubles</code>. If it is not exactly 1 (one), then the method returns <em>NOT COMPLETE</em>.</li>\n<li>Finally, return the value of <code>result</code> – which is either <em>COMPLETE</em> or <em>NOT COMPLETE</em>.</li>\n</ul>\n<p>Running the above code produces the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>COMPLETE\nCOMPLETE\nCOMPLETE\nNOT COMPLETE\nNOT COMPLETE\nNOT COMPLETE\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684029752,"creation_date":1684029752,"answer_id":76245527,"question_id":76241980,"body_markdown":"This method implements the important part. It should be easy to understand given the comments. \r\n\r\n    public static boolean isComplete(String s) {\r\n        // map characters to counts; if only digits, could have just stored in array-of-counts\r\n        HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\r\n        s.chars().forEach(c -&gt; map.put(c, map.getOrDefault(c, 0)+1));\r\n        // check that there is exactly 1 pair, and any number of triples, and no left-overs\r\n        boolean foundPair = false;\r\n        for (int v : map.values()) {\r\n            v %= 3; // keep only remainder modulo-three, as triples can be freely ignored\r\n            if (v == 2 &amp;&amp; !foundPair) {\r\n                foundPair = true;                \r\n            } else if (v != 0) {\r\n                return false; // only triples (or 1 pair) allowed!\r\n            } \r\n        }\r\n        return foundPair;\r\n    }","title":"Finding if input has exactly one pair and zero or more triplets java","body":"<p>This method implements the important part. It should be easy to understand given the comments.</p>\n<pre><code>public static boolean isComplete(String s) {\n    // map characters to counts; if only digits, could have just stored in array-of-counts\n    HashMap&lt;Integer, Integer&gt; map = new HashMap&lt;&gt;();\n    s.chars().forEach(c -&gt; map.put(c, map.getOrDefault(c, 0)+1));\n    // check that there is exactly 1 pair, and any number of triples, and no left-overs\n    boolean foundPair = false;\n    for (int v : map.values()) {\n        v %= 3; // keep only remainder modulo-three, as triples can be freely ignored\n        if (v == 2 &amp;&amp; !foundPair) {\n            foundPair = true;                \n        } else if (v != 0) {\n            return false; // only triples (or 1 pair) allowed!\n        } \n    }\n    return foundPair;\n}\n</code></pre>\n"}],"owner":{"account_id":10940791,"reputation":141,"user_id":8040727,"display_name":"Pinki Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76245527,"answer_count":2,"score":-1,"last_activity_date":1684029752,"creation_date":1683969825,"question_id":76241980,"body_markdown":"I am a Java Developer and I was on a interview with an algorithm problem which I cannot seem to solve nor find a solution already for it, but I&#39;m really curious how it can be solved.\r\n\r\nHere is the problem.\r\n\r\n&gt;You’re working on making some mini-games, and you’ve decided to make a simpler variant of the game Mahjong. In this variant, players have a number of tiles, each marked 0-9. The tiles can be grouped into pairs or triples of the same tile. A “complete hand” is defined as a collection of tiles where all the tiles can be grouped into any number of triples (zero or more) and exactly one pair, and each tile is used in exactly one triple or pair. Write a function that takes a string representing a player’s tiles in no particular order, and returns the string “COMPLETE” if the hand is complete, and “NOT COMPLETE” if it is not. Each tile may only be used in a single group (either a pair or a triple). All tiles must be used to complete a hand. There may be a pair and triples of the same tile. A single pair with no triples (ex: 99) is a valid hand. The input will only consist of characters 0-9.\r\n&gt;\r\n&gt;Examples\r\n&gt;\r\n&gt;These three hands would all return “COMPLETE”:\r\n&gt;\r\n&gt;33344466 -&gt; 333 444 66  \r\nThis hand can be grouped into a triple of 3s and 4s, and a pair of 6s\r\n&gt;\r\n&gt;55555555 -&gt; 555 555 55  \r\nThis hand can be grouped into two triples of 5s and a pair of 5s\r\n&gt;\r\n&gt;22 -&gt; 22  \r\nThis hand is a single pair of 2s (no triples are required)\r\n&gt;\r\n&gt;These three hands would all return “NOT COMPLETE”:\r\n&gt;\r\n&gt;1357  \r\nThis hand has tiles which cannot be formed into pairs or triples.\r\n&gt;\r\n&gt;335577  \r\nThis hand has three pairs, a complete hand must have exactly one pair.\r\n&gt;\r\n&gt;666888  \r\nThis hand has two triples, but no pairs.","title":"Finding if input has exactly one pair and zero or more triplets java","body":"<p>I am a Java Developer and I was on a interview with an algorithm problem which I cannot seem to solve nor find a solution already for it, but I'm really curious how it can be solved.</p>\n<p>Here is the problem.</p>\n<blockquote>\n<p>You’re working on making some mini-games, and you’ve decided to make a simpler variant of the game Mahjong. In this variant, players have a number of tiles, each marked 0-9. The tiles can be grouped into pairs or triples of the same tile. A “complete hand” is defined as a collection of tiles where all the tiles can be grouped into any number of triples (zero or more) and exactly one pair, and each tile is used in exactly one triple or pair. Write a function that takes a string representing a player’s tiles in no particular order, and returns the string “COMPLETE” if the hand is complete, and “NOT COMPLETE” if it is not. Each tile may only be used in a single group (either a pair or a triple). All tiles must be used to complete a hand. There may be a pair and triples of the same tile. A single pair with no triples (ex: 99) is a valid hand. The input will only consist of characters 0-9.</p>\n<p>Examples</p>\n<p>These three hands would all return “COMPLETE”:</p>\n<p>33344466 -&gt; 333 444 66<br />\nThis hand can be grouped into a triple of 3s and 4s, and a pair of 6s</p>\n<p>55555555 -&gt; 555 555 55<br />\nThis hand can be grouped into two triples of 5s and a pair of 5s</p>\n<p>22 -&gt; 22<br />\nThis hand is a single pair of 2s (no triples are required)</p>\n<p>These three hands would all return “NOT COMPLETE”:</p>\n<p>1357<br />\nThis hand has tiles which cannot be formed into pairs or triples.</p>\n<p>335577<br />\nThis hand has three pairs, a complete hand must have exactly one pair.</p>\n<p>666888<br />\nThis hand has two triples, but no pairs.</p>\n</blockquote>\n"},{"tags":["java","arrays","dynamic","stack","push"],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676550234,"creation_date":1676499581,"answer_id":75465965,"question_id":75465827,"body_markdown":"You should give your stack an initial `size &gt; 0`. As it stands, your initial `stackSize` is 0. And guess what `stackSize*2` is equal to? And another observation is that you created a generic stack but did not specify a type when creating it in `main`\r\n\r\nAlso, note that you can change\r\n```\r\npublic boolean isEmpty() {\r\n    if (topStack == -1)\r\n        return true;\r\n    return false;\r\n}\r\n```\r\nto\r\n\r\n``` \r\npublic boolean isEmpty() {\r\n    return topStack == -1;\r\n}\r\n```\r\nYou can make similar changes in other methods that return a `boolean`.\r\n\r\nWhen your code does not behave the way it should, think about what is going on and why that might happen.  Placing ubiquitous print statements thru out your code is a good first step to check on key values to see if they are what you expect them to be.  A more sophisticated method is to use a debugging tool to step thru your program as it executes to look at the values of various fields.","title":"Dynamic array based stack","body":"<p>You should give your stack an initial <code>size &gt; 0</code>. As it stands, your initial <code>stackSize</code> is 0. And guess what <code>stackSize*2</code> is equal to? And another observation is that you created a generic stack but did not specify a type when creating it in <code>main</code></p>\n<p>Also, note that you can change</p>\n<pre><code>public boolean isEmpty() {\n    if (topStack == -1)\n        return true;\n    return false;\n}\n</code></pre>\n<p>to</p>\n<pre><code>public boolean isEmpty() {\n    return topStack == -1;\n}\n</code></pre>\n<p>You can make similar changes in other methods that return a <code>boolean</code>.</p>\n<p>When your code does not behave the way it should, think about what is going on and why that might happen.  Placing ubiquitous print statements thru out your code is a good first step to check on key values to see if they are what you expect them to be.  A more sophisticated method is to use a debugging tool to step thru your program as it executes to look at the values of various fields.</p>\n"},{"tags":[],"owner":{"account_id":25923227,"reputation":23,"user_id":19645465,"display_name":"basan nofal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684028614,"creation_date":1684028614,"answer_id":76245494,"question_id":75465827,"body_markdown":"you should use linked list stack which is dynamically allocated memory. those stack never overflow. it is overflow when your computer memory will full\r\n\r\n\r\n\r\n    public class DynamicStack {\r\n \r\n     static  class Node{\r\n        int data;\r\n        Node next;\r\n\r\n        Node(int d){\r\n            data = d;\r\n            next = null;\r\n        }\r\n    }\r\n\r\n    static class Stack{\r\n        public static  Node topHead;\r\n\r\n        public static boolean isEmpty(){\r\n            return topHead == null;\r\n        }\r\n\r\n        public static void push(int data){\r\n            \r\n            Node newnode = new Node(data);\r\n\r\n            if(isEmpty()){\r\n                topHead = newnode;\r\n                return;\r\n            }\r\n            \r\n            newnode.next = topHead;\r\n            topHead = newnode;\r\n\r\n        }\r\n\r\n        public static int pop(){\r\n            if (isEmpty()) {\r\n                return -1;\r\n            }\r\n            int data = topHead.data;\r\n\r\n            topHead = topHead.next;\r\n            return data;\r\n        }\r\n\r\n        \r\n        public static int peek(){\r\n            if (isEmpty()) {\r\n                return -1;\r\n            }\r\n            \r\n            return topHead.data;\r\n        }\r\n\r\n\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        Stack st = new Stack();\r\n        st.push(1);\r\n        st.push(2);\r\n        st.push(3);\r\n        st.push(4);\r\n\r\n        while (!st.isEmpty()) {\r\n            System.out.println(st.peek());\r\n            st.pop();\r\n        }\r\n      }\r\n    }\r\n\r\ni hope this is useful for you\r\n","title":"Dynamic array based stack","body":"<p>you should use linked list stack which is dynamically allocated memory. those stack never overflow. it is overflow when your computer memory will full</p>\n<pre><code>public class DynamicStack {\n\n static  class Node{\n    int data;\n    Node next;\n\n    Node(int d){\n        data = d;\n        next = null;\n    }\n}\n\nstatic class Stack{\n    public static  Node topHead;\n\n    public static boolean isEmpty(){\n        return topHead == null;\n    }\n\n    public static void push(int data){\n        \n        Node newnode = new Node(data);\n\n        if(isEmpty()){\n            topHead = newnode;\n            return;\n        }\n        \n        newnode.next = topHead;\n        topHead = newnode;\n\n    }\n\n    public static int pop(){\n        if (isEmpty()) {\n            return -1;\n        }\n        int data = topHead.data;\n\n        topHead = topHead.next;\n        return data;\n    }\n\n    \n    public static int peek(){\n        if (isEmpty()) {\n            return -1;\n        }\n        \n        return topHead.data;\n    }\n\n\n}\n\npublic static void main(String[] args) {\n    Stack st = new Stack();\n    st.push(1);\n    st.push(2);\n    st.push(3);\n    st.push(4);\n\n    while (!st.isEmpty()) {\n        System.out.println(st.peek());\n        st.pop();\n    }\n  }\n}\n</code></pre>\n<p>i hope this is useful for you</p>\n"}],"owner":{"account_id":27797490,"reputation":1,"user_id":21222608,"display_name":"NinoCodes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684028614,"creation_date":1676498371,"question_id":75465827,"body_markdown":"I&#39;m trying to create a dynamic array based stack and I am getting an index out of bound error when I try to push elements elements onto a full array. I also made the array generic to accommodate all types of stacks.\r\n\r\n```java\r\nimport java.util.Arrays;\r\nimport java.util.Iterator;\r\n\r\npublic class Stack&lt;T&gt; {\r\n\tprivate int topStack;\r\n\tprivate int stackSize;\r\n\tprivate T[] stack;\r\n\r\n\t// Constructor\r\n\tpublic Stack(T[] arr) {\r\n\t\tstack = arr;\r\n\t\tstackSize = arr.length;\r\n\t\ttopStack = -1;\r\n\t}\r\n\r\n\t// isEmpty\r\n\tpublic boolean isEmpty() {\r\n\t\tif (topStack == -1)\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// isFull method\r\n\tpublic boolean isFull() {\r\n\t\tif ((topStack + 1) == stackSize)\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n\r\n\t// increment array by 10 spaces &lt;-----------------------------------\r\n\tpublic void incrementArray() {\r\n\t\tT[] temp = (T[]) new Object[stackSize*2];\r\n\t\tSystem.arraycopy(stack, 0, temp, 0, stack.length);\r\n\t\tstack=temp;\r\n\t\tstackSize=stackSize*2;\r\n\t}\r\n\r\n\t// decrement array\r\n\tpublic void decrementArray() {\r\n\t\tstackSize=stackSize/2;\r\n\t\tT[] temp = (T[]) new Object[stackSize];\r\n\t\tSystem.arraycopy(stack, 0, temp, 0, stackSize);\r\n\t\tstack=temp;\r\n\t}\r\n\r\n\t// push method which adds element to top of stack\r\n\tpublic void push(T element) {\r\n\t\tif (isFull())\r\n\t\t\tincrementArray();\r\n\t\ttopStack=topStack+1;\r\n\t\tstack[topStack] = element;\r\n\t}\r\n\r\n\t// peek method which shows top of stack without popping it\r\n\tpublic T peek() {\r\n\t\treturn stack[topStack];\r\n\t}\r\n\r\n\t// pop which copies top of stack, deletes top and returns copy\r\n\tpublic T pop() throws EmptyStackException {\r\n\t\tif (isEmpty()) {\r\n\t\t\tthrow new EmptyStackException();\r\n\t\t}\r\n\t\tint temp = topStack+1;\r\n\t\tif(temp&lt;stackSize/2)\r\n\t\t\tdecrementArray();\r\n\t\treturn stack[topStack--];\r\n\t}\r\n\r\n\tpublic static void main(String[] args)  {\r\n\t\tStack operands = new Stack&lt;&gt;(new Integer[0]);\r\n\t\t\r\n\t\t\toperands.push(2);\r\n\t\t\toperands.push(1);\r\n\r\n\t}\r\n}\r\n```\r\n\r\nI&#39;m trying to increase the stack size instead of having it overflow out of bounds.","title":"Dynamic array based stack","body":"<p>I'm trying to create a dynamic array based stack and I am getting an index out of bound error when I try to push elements elements onto a full array. I also made the array generic to accommodate all types of stacks.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\nimport java.util.Iterator;\n\npublic class Stack&lt;T&gt; {\n    private int topStack;\n    private int stackSize;\n    private T[] stack;\n\n    // Constructor\n    public Stack(T[] arr) {\n        stack = arr;\n        stackSize = arr.length;\n        topStack = -1;\n    }\n\n    // isEmpty\n    public boolean isEmpty() {\n        if (topStack == -1)\n            return true;\n        return false;\n    }\n\n    // isFull method\n    public boolean isFull() {\n        if ((topStack + 1) == stackSize)\n            return true;\n        return false;\n    }\n\n    // increment array by 10 spaces &lt;-----------------------------------\n    public void incrementArray() {\n        T[] temp = (T[]) new Object[stackSize*2];\n        System.arraycopy(stack, 0, temp, 0, stack.length);\n        stack=temp;\n        stackSize=stackSize*2;\n    }\n\n    // decrement array\n    public void decrementArray() {\n        stackSize=stackSize/2;\n        T[] temp = (T[]) new Object[stackSize];\n        System.arraycopy(stack, 0, temp, 0, stackSize);\n        stack=temp;\n    }\n\n    // push method which adds element to top of stack\n    public void push(T element) {\n        if (isFull())\n            incrementArray();\n        topStack=topStack+1;\n        stack[topStack] = element;\n    }\n\n    // peek method which shows top of stack without popping it\n    public T peek() {\n        return stack[topStack];\n    }\n\n    // pop which copies top of stack, deletes top and returns copy\n    public T pop() throws EmptyStackException {\n        if (isEmpty()) {\n            throw new EmptyStackException();\n        }\n        int temp = topStack+1;\n        if(temp&lt;stackSize/2)\n            decrementArray();\n        return stack[topStack--];\n    }\n\n    public static void main(String[] args)  {\n        Stack operands = new Stack&lt;&gt;(new Integer[0]);\n        \n            operands.push(2);\n            operands.push(1);\n\n    }\n}\n</code></pre>\n<p>I'm trying to increase the stack size instead of having it overflow out of bounds.</p>\n"},{"tags":["java","loops","max","minimum"],"comments":[{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1684019433,"post_id":76245204,"comment_id":134455815,"body_markdown":"Move the `if` statements **inside** the loop.","body":"Move the <code>if</code> statements <b>inside</b> the loop."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684019447,"post_id":76245204,"comment_id":134455817,"body_markdown":"You assign a value to `number` five times.  This means you are overwriting the value of `number` four times, and once you do that, the previous values are lost forever.  Your `if` statements need to be inside your loop.","body":"You assign a value to <code>number</code> five times.  This means you are overwriting the value of <code>number</code> four times, and once you do that, the previous values are lost forever.  Your <code>if</code> statements need to be inside your loop."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1684019833,"post_id":76245204,"comment_id":134455845,"body_markdown":"The comparisons do need to be in the loop. Also, how can number be greater than highest if you initialize highest to max value?","body":"The comparisons do need to be in the loop. Also, how can number be greater than highest if you initialize highest to max value?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1684020167,"post_id":76245204,"comment_id":134455860,"body_markdown":"https://en.m.wikipedia.org/wiki/Debugger","body":"<a href=\"https://en.m.wikipedia.org/wiki/Debugger\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Debugger</a>"}],"answers":[{"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684020299,"creation_date":1684020299,"answer_id":76245244,"question_id":76245204,"body_markdown":"You should swap the highest and lowest value, a number cannot possibly be greater than highest value, highest should start with `MIN` and lowest should start with `MAX` and move the comparison inside for loop\r\n```\r\nint highest = Integer.MIN_VALUE, lowest = Integer.MAX_VALUE, number = 0;\r\n```","title":"Getting Maximum and Minimum Int instead of Input","body":"<p>You should swap the highest and lowest value, a number cannot possibly be greater than highest value, highest should start with <code>MIN</code> and lowest should start with <code>MAX</code> and move the comparison inside for loop</p>\n<pre><code>int highest = Integer.MIN_VALUE, lowest = Integer.MAX_VALUE, number = 0;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684028277,"creation_date":1684024728,"answer_id":76245389,"question_id":76245204,"body_markdown":"First, make certain the prompt for five integers is `before the loop` and the input and use of the entered values are `inside the loop`.\r\n\r\nHere are some alternatives.\r\n \r\n1) You can also use [IntSummaryStatistics](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/IntSummaryStatistics.html#IntSummaryStatistics()). It&#39;s used quite often in stream applications but it can also be used in imperative programming.\r\n\r\n\r\n```\r\nIntSummaryStatistics stats = new IntSummaryStatistics();\r\nScanner input = new Scanner(System.in);\r\nfor (int i = 0; i &lt; 5; i++) {\r\n    stats.accept(input.nextInt());\r\n}\r\nSystem.out.println(&quot;Minimum = &quot; + stats.getMin());\r\nSystem.out.println(&quot;Maximum = &quot; + stats.getMax());\r\n```\r\n2)  Or you can use [Math.min()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Math.html#min(int,int)) and [Math.max()](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Math.html#max(int,int))\r\n```\r\nint max = Integer.MIN_VALUE, min = Integer.MAX_VALUE;\r\nfor (int i = 0; i &lt; 5; i++) {\r\n     int val = input.nextInt();\r\n     max = Math.max(max, val);\r\n     min = Math.min(min, val);\r\n}\r\nSystem.out.println(&quot;Minimum = &quot; + min);\r\nSystem.out.println(&quot;Maximum = &quot; + max);","title":"Getting Maximum and Minimum Int instead of Input","body":"<p>First, make certain the prompt for five integers is <code>before the loop</code> and the input and use of the entered values are <code>inside the loop</code>.</p>\n<p>Here are some alternatives.</p>\n<ol>\n<li>You can also use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/IntSummaryStatistics.html#IntSummaryStatistics()\" rel=\"nofollow noreferrer\">IntSummaryStatistics</a>. It's used quite often in stream applications but it can also be used in imperative programming.</li>\n</ol>\n<pre><code>IntSummaryStatistics stats = new IntSummaryStatistics();\nScanner input = new Scanner(System.in);\nfor (int i = 0; i &lt; 5; i++) {\n    stats.accept(input.nextInt());\n}\nSystem.out.println(&quot;Minimum = &quot; + stats.getMin());\nSystem.out.println(&quot;Maximum = &quot; + stats.getMax());\n</code></pre>\n<ol start=\"2\">\n<li>Or you can use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Math.html#min(int,int)\" rel=\"nofollow noreferrer\">Math.min()</a> and <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Math.html#max(int,int)\" rel=\"nofollow noreferrer\">Math.max()</a></li>\n</ol>\n<pre><code>int max = Integer.MIN_VALUE, min = Integer.MAX_VALUE;\nfor (int i = 0; i &lt; 5; i++) {\n     int val = input.nextInt();\n     max = Math.max(max, val);\n     min = Math.min(min, val);\n}\nSystem.out.println(&quot;Minimum = &quot; + min);\nSystem.out.println(&quot;Maximum = &quot; + max);\n</code></pre>\n"}],"owner":{"account_id":28531593,"reputation":1,"user_id":21838920,"display_name":"NayxAshanti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1684028277,"creation_date":1684019238,"question_id":76245204,"body_markdown":"I am trying to gather input from the user, and then denote which one of their numbers is the highest, and which one is the lowest.\r\n```\r\nint highest = Integer.MAX_VALUE, lowest=Integer.MIN_VALUE, number=0;\r\nScanner input = new Scanner(System.in);\r\n    for (int j=0; j&lt;5; j++) {\r\n       System.out.print(&quot;Enter five integers: &quot;);\r\n       number = input.nextInt();\r\n    }\r\n    if (number &gt; highest){    \r\n       highest = number;\r\n    }\r\n    if (number &lt; lowest){\r\n       lowest = number;\r\n    }\r\n    System.out.println(&quot;Your highest number is: &quot; + highest);\r\n    System.out.println(&quot;Your lowest number is: &quot; + lowest);\r\n```\r\nIt is giving me the maximum and minimum that an Integer can be ( 214... and -214...).","title":"Getting Maximum and Minimum Int instead of Input","body":"<p>I am trying to gather input from the user, and then denote which one of their numbers is the highest, and which one is the lowest.</p>\n<pre><code>int highest = Integer.MAX_VALUE, lowest=Integer.MIN_VALUE, number=0;\nScanner input = new Scanner(System.in);\n    for (int j=0; j&lt;5; j++) {\n       System.out.print(&quot;Enter five integers: &quot;);\n       number = input.nextInt();\n    }\n    if (number &gt; highest){    \n       highest = number;\n    }\n    if (number &lt; lowest){\n       lowest = number;\n    }\n    System.out.println(&quot;Your highest number is: &quot; + highest);\n    System.out.println(&quot;Your lowest number is: &quot; + lowest);\n</code></pre>\n<p>It is giving me the maximum and minimum that an Integer can be ( 214... and -214...).</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1684019950,"post_id":76244752,"comment_id":134455849,"body_markdown":"`new PropertyValueFactory&lt;Help, String&gt;(&quot;Description&quot;)` is wrong.  &quot;Description&quot; is not a valid bean property name.  See https://stackoverflow.com/questions/65785787/javafx-tableview-not-showing-data-something-wrong-with-getter-setters/65786210#65786210.","body":"<code>new PropertyValueFactory&lt;Help, String&gt;(&quot;Description&quot;)</code> is wrong.  &quot;Description&quot; is not a valid bean property name.  See <a href=\"https://stackoverflow.com/questions/65785787/javafx-tableview-not-showing-data-something-wrong-with-getter-setters/65786210#65786210\" title=\"javafx tableview not showing data something wrong with getter setters\">stackoverflow.com/questions/65785787/&hellip;</a>."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1684026014,"post_id":76244752,"comment_id":134456163,"body_markdown":"Have a look at the [implementation of `TextFieldTableCell`](https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.controls/src/main/java/javafx/scene/control/cell/TextFieldTableCell.java), which relies heavily on a class called [`CellUtils`](https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.controls/src/main/java/javafx/scene/control/cell/CellUtils.java), for the basic pattern to make this work.","body":"Have a look at the <a href=\"https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.controls/src/main/java/javafx/scene/control/cell/TextFieldTableCell.java\" rel=\"nofollow noreferrer\">implementation of <code>TextFieldTableCell</code></a>, which relies heavily on a class called <a href=\"https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.controls/src/main/java/javafx/scene/control/cell/CellUtils.java\" rel=\"nofollow noreferrer\"><code>CellUtils</code></a>, for the basic pattern to make this work."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1684026016,"post_id":76244752,"comment_id":134456164,"body_markdown":"In order for a cell to be editable, the `TableView.editable` property, the `TableColumn.editable` property, and the `TableCell.editable` property **all** need to be true. The latter two are true by default, if I&#39;m not mistaken. So, you need to call `theTable.setEditable(true)`. Note that calling `setEditable(true)` does not put the cell into editing mode. It only makes it _possible_ for the cell to enter editing mode. Though if the cell is editable, then doing something like double-clicking the cell should put it in editing mode.","body":"In order for a cell to be editable, the <code>TableView.editable</code> property, the <code>TableColumn.editable</code> property, and the <code>TableCell.editable</code> property <b>all</b> need to be true. The latter two are true by default, if I&#39;m not mistaken. So, you need to call <code>theTable.setEditable(true)</code>. Note that calling <code>setEditable(true)</code> does not put the cell into editing mode. It only makes it <i>possible</i> for the cell to enter editing mode. Though if the cell is editable, then doing something like double-clicking the cell should put it in editing mode."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":1,"creation_date":1684026252,"post_id":76244752,"comment_id":134456177,"body_markdown":"A [*very* old tutorial](https://docs.oracle.com/javafx/2/ui_controls/table-view.htm#CJAGAAEE) (which basically includes some code from a version of JavaFX that predates the `TextFieldTableCell` includes an `EditingCell` implementation that might also be helpful, and perhaps easy to follow that the code I linked above.","body":"A <a href=\"https://docs.oracle.com/javafx/2/ui_controls/table-view.htm#CJAGAAEE\" rel=\"nofollow noreferrer\"><i>very</i> old tutorial</a> (which basically includes some code from a version of JavaFX that predates the <code>TextFieldTableCell</code> includes an <code>EditingCell</code> implementation that might also be helpful, and perhaps easy to follow that the code I linked above."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684026293,"post_id":76244752,"comment_id":134456179,"body_markdown":"Typically, an editable cell has a different UI when in editing mode compared to read-only mode. If one of the built-in cells in the `javafx.scene.control.cell` package fits your needs, then I strongly recommend you use one of them. But if you need a custom UI for editing the cell&#39;s value, then you&#39;ll need to override certain methods in the cell. Look at the implementations in `javafx.scene.control.cell` for inspiration (or try to find a tutorial). Though creating a custom editable cell is not necessarily trivial. It may be easier for you to simply display another view for editing in that case.","body":"Typically, an editable cell has a different UI when in editing mode compared to read-only mode. If one of the built-in cells in the <code>javafx.scene.control.cell</code> package fits your needs, then I strongly recommend you use one of them. But if you need a custom UI for editing the cell&#39;s value, then you&#39;ll need to override certain methods in the cell. Look at the implementations in <code>javafx.scene.control.cell</code> for inspiration (or try to find a tutorial). Though creating a custom editable cell is not necessarily trivial. It may be easier for you to simply display another view for editing in that case."}],"owner":{"account_id":27930508,"reputation":3,"user_id":21328647,"display_name":"user21328647"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684025385,"creation_date":1684009921,"question_id":76244752,"body_markdown":"I use tableview for my project. As I have long text to put into the cells, I need to wrap it but I also need to edit cells.\r\n\r\nSo, I have this code.\r\n\r\n```\r\ntcHelp.setCellValueFactory(new PropertyValueFactory&lt;Help, String&gt;(&quot;Description&quot;));\r\ntcHelp.setCellFactory(TextFieldTableCell.forTableColumn());\r\n\r\ntcHelp.setCellFactory(new Callback&lt;TableColumn&lt;Help, String&gt;, TableCell&lt;Help, String&gt;&gt;() {\r\n\r\n@Override\r\npublic TableCell&lt;Help, String&gt; call(TableColumn&lt;Help, String&gt; param) {\r\n          final TableCell&lt;Help, String&gt; cell = new TableCell&lt;Help, String&gt;() {\r\n\r\n\t\tprivate Text text;\r\n\t\t@Override\r\n\t\tpublic void updateItem(String item, boolean empty) {\r\n\t\t\tsuper.updateItem(item, empty);\r\n\t\t\tif (!isEmpty()) {\r\n\t\t\t    Help rowItem = getTableRow().getItem();\r\n\t\t            text = new Text(rowItem.getDescription());\r\n\t\t\t    text.setWrappingWidth(440);\r\n\t\t\t    setGraphic(text);\r\n\t\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\t\t\t\r\n\t//Don&#39;t work!!\r\n\tcell.setEditable(true);\r\n\r\n\t\t\t\t\r\n\treturn cell;\r\n\t}\r\n});\r\n```\r\nI have a problem to edit the cells. **What&#39;s wrong with cell.setEditable(true)** ?\r\n\r\n**edit** : \r\nAccording to trashgod advice, i wrote that but I can&#39;t save the value edited. What&#39;s wrong with this code ?\r\n\r\n\t\ttcHelp.setCellFactory(new Callback&lt;TableColumn&lt;Help, String&gt;, TableCell&lt;Help, String&gt;&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic TableCell&lt;Help, String&gt; call(TableColumn&lt;Help, String&gt; param) {\r\n\t\t\t\tfinal TableCell&lt;Help, String&gt; cell = new TableCell&lt;Help, String&gt;() {\r\n\r\n\t\t\t\t\tprivate TextArea textArea;\r\n\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tpublic void updateItem(String item, boolean empty) {\r\n\t\t\t\t\t\tsuper.updateItem(item, empty);\r\n\t\t\t\t\t\tif (!isEmpty()) {\r\n\t\t\t\t\t\t\tHelp rowItem = getTableRow().getItem();\r\n\t\t\t\t\t\t\tString text= rowItem.getDescription();\r\n\t\t\t\t\t\t\tText t = new Text(text);\r\n\t\t\t\t\t\t\ttextArea = new TextArea(text);\r\n\t\t\t\t\t\t\ttextArea.setWrapText(true);\r\n\t\t\t\t\t\t\tdouble height = t.getLayoutBounds().getHeight();\r\n\t\t\t\t\t\t\ttextArea.setPrefHeight(height+10);\r\n\t\t\t\t\t\t\tsetGraphic(textArea);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tcell.setEditable(true);\r\n\r\n\t\t\t\treturn cell;\r\n\t\t\t}\r\n\t\t});\r\n\r\n**setOnEditCommit is never called with textarea in my example !!**\r\n\r\n\t\ttcHelp.setOnEditCommit(new EventHandler&lt;TableColumn.CellEditEvent&lt;Help, String&gt;&gt;() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void handle(TableColumn.CellEditEvent&lt;Help, String&gt; t) {\r\n\t\t\t\t// TODO Auto-generated method stub\r\n\r\n\t\t\t\t((Help) t.getTableView().getItems().get(t.getTablePosition().getRow())).setDescription(t.getNewValue());\r\n\t\t\t\t\r\n\r\n\t\t});","title":"TableView Editable Cell","body":"<p>I use tableview for my project. As I have long text to put into the cells, I need to wrap it but I also need to edit cells.</p>\n<p>So, I have this code.</p>\n<pre><code>tcHelp.setCellValueFactory(new PropertyValueFactory&lt;Help, String&gt;(&quot;Description&quot;));\ntcHelp.setCellFactory(TextFieldTableCell.forTableColumn());\n\ntcHelp.setCellFactory(new Callback&lt;TableColumn&lt;Help, String&gt;, TableCell&lt;Help, String&gt;&gt;() {\n\n@Override\npublic TableCell&lt;Help, String&gt; call(TableColumn&lt;Help, String&gt; param) {\n          final TableCell&lt;Help, String&gt; cell = new TableCell&lt;Help, String&gt;() {\n\n        private Text text;\n        @Override\n        public void updateItem(String item, boolean empty) {\n            super.updateItem(item, empty);\n            if (!isEmpty()) {\n                Help rowItem = getTableRow().getItem();\n                    text = new Text(rowItem.getDescription());\n                text.setWrappingWidth(440);\n                setGraphic(text);\n                    }\n            }\n        };\n                \n    //Don't work!!\n    cell.setEditable(true);\n\n                \n    return cell;\n    }\n});\n</code></pre>\n<p>I have a problem to edit the cells. <strong>What's wrong with cell.setEditable(true)</strong> ?</p>\n<p><strong>edit</strong> :\nAccording to trashgod advice, i wrote that but I can't save the value edited. What's wrong with this code ?</p>\n<pre><code>    tcHelp.setCellFactory(new Callback&lt;TableColumn&lt;Help, String&gt;, TableCell&lt;Help, String&gt;&gt;() {\n        @Override\n        public TableCell&lt;Help, String&gt; call(TableColumn&lt;Help, String&gt; param) {\n            final TableCell&lt;Help, String&gt; cell = new TableCell&lt;Help, String&gt;() {\n\n                private TextArea textArea;\n\n                @Override\n                public void updateItem(String item, boolean empty) {\n                    super.updateItem(item, empty);\n                    if (!isEmpty()) {\n                        Help rowItem = getTableRow().getItem();\n                        String text= rowItem.getDescription();\n                        Text t = new Text(text);\n                        textArea = new TextArea(text);\n                        textArea.setWrapText(true);\n                        double height = t.getLayoutBounds().getHeight();\n                        textArea.setPrefHeight(height+10);\n                        setGraphic(textArea);\n                    }\n                }\n            };\n            cell.setEditable(true);\n\n            return cell;\n        }\n    });\n</code></pre>\n<p><strong>setOnEditCommit is never called with textarea in my example !!</strong></p>\n<pre><code>    tcHelp.setOnEditCommit(new EventHandler&lt;TableColumn.CellEditEvent&lt;Help, String&gt;&gt;() {\n\n        @Override\n        public void handle(TableColumn.CellEditEvent&lt;Help, String&gt; t) {\n            // TODO Auto-generated method stub\n\n            ((Help) t.getTableView().getItems().get(t.getTablePosition().getRow())).setDescription(t.getNewValue());\n            \n\n    });\n</code></pre>\n"},{"tags":["java","loops","for-loop","if-statement"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":3,"creation_date":1684020461,"post_id":76245227,"comment_id":134455873,"body_markdown":"`x % 2` returns a number, but an *if* condition is required to be a `boolean`. Note that in Java, a number is not automatically converted to a boolean.","body":"<code>x % 2</code> returns a number, but an <i>if</i> condition is required to be a <code>boolean</code>. Note that in Java, a number is not automatically converted to a boolean."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1684020510,"post_id":76245227,"comment_id":134455876,"body_markdown":"And please don&#39;t post screenshots of your code. Instead, post the code itself.","body":"And please don&#39;t post screenshots of your code. Instead, post the code itself."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1684021839,"post_id":76245227,"comment_id":134455929,"body_markdown":"`if(x % 2){` should be `if(x % 2 == 0){` Java has strong types. Unlike C.","body":"<code>if(x % 2){</code> should be <code>if(x % 2 == 0){</code> Java has strong types. Unlike C."},{"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"score":0,"creation_date":1684022336,"post_id":76245227,"comment_id":134455954,"body_markdown":"@user16320675 fixed. I think that was an OCR error. OP really shouldn&#39;t be using pics to show code.","body":"@user16320675 fixed. I think that was an OCR error. OP really shouldn&#39;t be using pics to show code."}],"answers":[{"tags":[],"owner":{"account_id":1615458,"reputation":7096,"user_id":1493294,"accept_rate":60,"display_name":"candied_orange"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684023809,"creation_date":1684022078,"answer_id":76245307,"question_id":76245227,"body_markdown":"    if(x % 2){\r\n\r\nDoesn&#39;t work because `x` is a double and so `x % 2` isn&#39;t the boolean the `if` expected. Unlike c, java wont convert that for you. \r\n\r\n    if (x % 2 == 0) {\r\n\r\nWill work but it sets my teeth on edge because most of the time you shouldn&#39;t test a double&#39;s equality since they are used for lossy things like measurements. Typically you test them to be less then some epsilon value. Only good excuse I&#39;ve ever thought of is to test if it was loaded or saved correctly.\r\n\r\nModular division is more typically used on integers anyway.\r\n\r\nOh and fix your indentation so the end of your code doesn&#39;t look like an ugly fish gill. \r\n","title":"The loop runs, The (Modoule) in if else than it gives me error","body":"<pre><code>if(x % 2){\n</code></pre>\n<p>Doesn't work because <code>x</code> is a double and so <code>x % 2</code> isn't the boolean the <code>if</code> expected. Unlike c, java wont convert that for you.</p>\n<pre><code>if (x % 2 == 0) {\n</code></pre>\n<p>Will work but it sets my teeth on edge because most of the time you shouldn't test a double's equality since they are used for lossy things like measurements. Typically you test them to be less then some epsilon value. Only good excuse I've ever thought of is to test if it was loaded or saved correctly.</p>\n<p>Modular division is more typically used on integers anyway.</p>\n<p>Oh and fix your indentation so the end of your code doesn't look like an ugly fish gill.</p>\n"}],"owner":{"account_id":28596708,"reputation":1,"user_id":21894637,"display_name":"Amritraj Dhillon"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76245307,"answer_count":1,"score":-2,"last_activity_date":1684023809,"creation_date":1684019971,"question_id":76245227,"body_markdown":"[[This image does not work](https://i.stack.imgur.com/D9rb6.png)](https://i.stack.imgur.com/B1bYT.png)\r\n\r\n```java\r\npublic class file {\r\n    public static void main(String[] args) {\r\nfor (double i = 1; i &lt; 50; i++){\r\n    System.out.println(i);\r\n    double x = 1000;\r\n    x = (x/i);\r\n    System.out.println(x);\r\n    if(x % 2){\r\n        System.out.println(&quot;The number is even&quot; + x);\r\n    }\r\n    else{\r\n        System.out.println(&quot;The number is odd&quot; + x);\r\n    }\r\n}}}\r\n\r\nThe number is even1.2765957446808507 48.0\r\n20.833333333333332\r\nThe number is even0.8333333 33333321\r\n49.0\r\n20.408163265306122\r\nThe number is even0.408163265306122 PS C:\\Users\\Amrit&gt;\r\n&amp; &#39;C:\\Users\\Amrit\\AppData\\Local\\Programs\\Eclipse Adoptium\\j dk-17.0.7.7-hotspot\\bin\\java.exe&#39; &#39;-XX:+ShowCodeDetailsInExceptionMessages&#39; &#39;-c\r\np&#39; &#39;C:\\Users\\Amrit\\AppData\\Local\\Temp\\vscodesws_db8f8\\jdt_ws\\jdt.ls-java-projec t\\bin&#39;\r\n&#39;file&#39;\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: Type mismatch: cannot convert from double to boolean\r\nat file.main(file.java:9)\r\nPS C:\\Users\\Amrit&gt; ||\r\n```\r\n\r\n[Text courtesy of imagetotext.info](https://www.imagetotext.info/)\r\n\r\nThe loop works for me, but when I try to add (Modoule) in if else than it gives me error. I was expecting to run if and else and give me even odd numbers\r\n\r\n","title":"The loop runs, The (Modoule) in if else than it gives me error","body":"<p>[<a href=\"https://i.stack.imgur.com/D9rb6.png\" rel=\"nofollow noreferrer\">This image does not work</a>](<a href=\"https://i.stack.imgur.com/B1bYT.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/B1bYT.png</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class file {\n    public static void main(String[] args) {\nfor (double i = 1; i &lt; 50; i++){\n    System.out.println(i);\n    double x = 1000;\n    x = (x/i);\n    System.out.println(x);\n    if(x % 2){\n        System.out.println(&quot;The number is even&quot; + x);\n    }\n    else{\n        System.out.println(&quot;The number is odd&quot; + x);\n    }\n}}}\n\nThe number is even1.2765957446808507 48.0\n20.833333333333332\nThe number is even0.8333333 33333321\n49.0\n20.408163265306122\nThe number is even0.408163265306122 PS C:\\Users\\Amrit&gt;\n&amp; 'C:\\Users\\Amrit\\AppData\\Local\\Programs\\Eclipse Adoptium\\j dk-17.0.7.7-hotspot\\bin\\java.exe' '-XX:+ShowCodeDetailsInExceptionMessages' '-c\np' 'C:\\Users\\Amrit\\AppData\\Local\\Temp\\vscodesws_db8f8\\jdt_ws\\jdt.ls-java-projec t\\bin'\n'file'\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problem: Type mismatch: cannot convert from double to boolean\nat file.main(file.java:9)\nPS C:\\Users\\Amrit&gt; ||\n</code></pre>\n<p><a href=\"https://www.imagetotext.info/\" rel=\"nofollow noreferrer\">Text courtesy of imagetotext.info</a></p>\n<p>The loop works for me, but when I try to add (Modoule) in if else than it gives me error. I was expecting to run if and else and give me even odd numbers</p>\n"},{"tags":["java","android","layout","android-button","android-styles"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1683998105,"post_id":76243989,"comment_id":134453717,"body_markdown":"[This](https://stackoverflow.com/questions/67197434/programmatically-created-button-doesnt-follow-themes-button-style) could be the reason","body":"<a href=\"https://stackoverflow.com/questions/67197434/programmatically-created-button-doesnt-follow-themes-button-style\">This</a> could be the reason"},{"owner":{"account_id":4655803,"reputation":434,"user_id":3771449,"accept_rate":50,"display_name":"Droidum"},"score":1,"creation_date":1683999939,"post_id":76243989,"comment_id":134453923,"body_markdown":"@Zain I guess this is a good kick into the right direction for me. Unfortunately I don&#39;t know much about the styles and themes and where they inherit from, and there are a ton of different styles I can chose from when I use the other class mentioned in your link. But I am sure I will find the solution, now as I know about the mechanism that secretly happens here. Thank you!","body":"@Zain I guess this is a good kick into the right direction for me. Unfortunately I don&#39;t know much about the styles and themes and where they inherit from, and there are a ton of different styles I can chose from when I use the other class mentioned in your link. But I am sure I will find the solution, now as I know about the mechanism that secretly happens here. Thank you!"},{"owner":{"account_id":4655803,"reputation":434,"user_id":3771449,"accept_rate":50,"display_name":"Droidum"},"score":0,"creation_date":1684017041,"post_id":76243989,"comment_id":134455678,"body_markdown":"Unfortunately this is getting horrible to understand. My app style seems to be inherited from `Theme.Material3.DayNight.NoActionBar`. Now what do I have to specify for my button to use this style? I tried everything that came to my mind but nothing makes both buttons look the same.","body":"Unfortunately this is getting horrible to understand. My app style seems to be inherited from <code>Theme.Material3.DayNight.NoActionBar</code>. Now what do I have to specify for my button to use this style? I tried everything that came to my mind but nothing makes both buttons look the same."}],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684019375,"creation_date":1684019375,"answer_id":76245212,"question_id":76243989,"body_markdown":"&gt; My app style seems to be inherited from Theme.Material3.DayNight.NoActionBar. Now what do I have to specify for my button to use this style? \r\n\r\nSo, the idea is that the XML abstract `Button` is automatically converted to the appropriate button version that comply with the app theme. That is not the case when it comes to do that programmatically because the exact Java/Kotlin Button class is already specified and imported.\r\n\r\nThe referenced [answer][1] is suitable for **Theme.AppCompat** (Material 1) where its Button version is `AppCompatButton`.\r\n\r\nStarting from **Material components** (Material 2 library), the Button version is the [`MaterialButton`][2] which extends from the `AppCompatButton` but has a different/enhanced style.\r\n\r\nAs you use `Material3` library, then you need to use `MaterialButton` instead of `Button` programmatically:\r\n```\r\nMaterialButton btn = new MaterialButton(this);\r\n...\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/67197784/9851608\r\n  [2]: https://developer.android.com/reference/com/google/android/material/button/MaterialButton","title":"Android Buttons look different when added by code","body":"<blockquote>\n<p>My app style seems to be inherited from Theme.Material3.DayNight.NoActionBar. Now what do I have to specify for my button to use this style?</p>\n</blockquote>\n<p>So, the idea is that the XML abstract <code>Button</code> is automatically converted to the appropriate button version that comply with the app theme. That is not the case when it comes to do that programmatically because the exact Java/Kotlin Button class is already specified and imported.</p>\n<p>The referenced <a href=\"https://stackoverflow.com/a/67197784/9851608\">answer</a> is suitable for <strong>Theme.AppCompat</strong> (Material 1) where its Button version is <code>AppCompatButton</code>.</p>\n<p>Starting from <strong>Material components</strong> (Material 2 library), the Button version is the <a href=\"https://developer.android.com/reference/com/google/android/material/button/MaterialButton\" rel=\"nofollow noreferrer\"><code>MaterialButton</code></a> which extends from the <code>AppCompatButton</code> but has a different/enhanced style.</p>\n<p>As you use <code>Material3</code> library, then you need to use <code>MaterialButton</code> instead of <code>Button</code> programmatically:</p>\n<pre><code>MaterialButton btn = new MaterialButton(this);\n...\n</code></pre>\n"}],"owner":{"account_id":4655803,"reputation":434,"user_id":3771449,"accept_rate":50,"display_name":"Droidum"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76245212,"answer_count":1,"score":1,"last_activity_date":1684019767,"creation_date":1683997687,"question_id":76243989,"body_markdown":"I found that a button that is added to a layout by code looks very different than a button defined in xml.  \r\nI made a short example.\r\n\r\nHere is the layout\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n\r\n    &lt;LinearLayout\r\n        android:id=&quot;@+id/viewCommands&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        &gt;\r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Button in xml&quot;\r\n            /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nThis is the code\r\n```\r\nButton btn = new Button(this);\r\nbtn.setText(&quot;button by code&quot;);\r\nbtn.setBackgroundColor(0xff00e033);\r\nLinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(\r\n\t\tLinearLayout.LayoutParams.MATCH_PARENT,\r\n\t\tLinearLayout.LayoutParams.WRAP_CONTENT);\r\n\r\nLinearLayout lo = findViewById(R.id.viewCommands);\r\nlo.addView(btn, lp);\r\n```\r\n\r\nAnd this is what it looks like. Quite different, isn&#39;t it?  \r\n[![example image][1]][1]\r\n\r\nI did not add any style to the button in code except background color, so no wonder it&#39;s so boring.  \r\nBut I also didn&#39;t add anything in xml and as both buttons land in the same layout. If the layout adds style to elements, what&#39;s the difference?\r\n\r\nI would appreciate to get some more insight in this.  \r\nHow can I make the code-added buttons look the same as those coming from xml?\r\n\r\n*please see that in contrast to many other questions I found, this question is not about different look on different devices, Android versions, frameworks, resolutions, apps... it&#39;s in the very same layout.*\r\n\r\n  [1]: https://i.stack.imgur.com/UDFab.png","title":"Android Buttons look different when added by code","body":"<p>I found that a button that is added to a layout by code looks very different than a button defined in xml.<br />\nI made a short example.</p>\n<p>Here is the layout</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/viewCommands&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        &gt;\n        &lt;Button\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Button in xml&quot;\n            /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>This is the code</p>\n<pre><code>Button btn = new Button(this);\nbtn.setText(&quot;button by code&quot;);\nbtn.setBackgroundColor(0xff00e033);\nLinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(\n        LinearLayout.LayoutParams.MATCH_PARENT,\n        LinearLayout.LayoutParams.WRAP_CONTENT);\n\nLinearLayout lo = findViewById(R.id.viewCommands);\nlo.addView(btn, lp);\n</code></pre>\n<p>And this is what it looks like. Quite different, isn't it?<br />\n<a href=\"https://i.stack.imgur.com/UDFab.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UDFab.png\" alt=\"example image\" /></a></p>\n<p>I did not add any style to the button in code except background color, so no wonder it's so boring.<br />\nBut I also didn't add anything in xml and as both buttons land in the same layout. If the layout adds style to elements, what's the difference?</p>\n<p>I would appreciate to get some more insight in this.<br />\nHow can I make the code-added buttons look the same as those coming from xml?</p>\n<p><em>please see that in contrast to many other questions I found, this question is not about different look on different devices, Android versions, frameworks, resolutions, apps... it's in the very same layout.</em></p>\n"},{"tags":["java","ssl-certificate","keytool"],"answers":[{"tags":[],"owner":{"account_id":162408,"reputation":9549,"user_id":383838,"accept_rate":65,"display_name":"Jon Freedman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1284130219,"creation_date":1284130219,"answer_id":3685601,"question_id":3685548,"body_markdown":"You can export a certificate using Firefox, [this site][1] has instructions.  Then you use [keytool][2] to add the certificate.\r\n\r\n\r\n  [1]: http://www.herongyang.com/Cryptography/Web-Browser-Firefox-Use-Certificate.html\r\n  [2]: http://download.oracle.com/javase/6/docs/technotes/tools/solaris/keytool.html","title":"Java keytool easy way to add server cert from url/port","body":"<p>You can export a certificate using Firefox, <a href=\"http://www.herongyang.com/Cryptography/Web-Browser-Firefox-Use-Certificate.html\" rel=\"nofollow noreferrer\">this site</a> has instructions.  Then you use <a href=\"http://download.oracle.com/javase/6/docs/technotes/tools/solaris/keytool.html\" rel=\"nofollow noreferrer\">keytool</a> to add the certificate.</p>\n"},{"tags":[],"owner":{"account_id":109922,"reputation":12250,"user_id":291059,"accept_rate":39,"display_name":"wuntee"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1475692204,"creation_date":1284133261,"answer_id":3686042,"question_id":3685548,"body_markdown":"There were a few ways I found to do this:\r\n\r\n - Firefox: Add Exception -&gt; Get Certificat -&gt; View -&gt; Details -&gt; Export...\r\n - KeyMan ([http://www.alphaworks.ibm.com/tech/keyman][1]) You can get SSL cert directly from the File -&gt; Import menu\r\n - InstallCert ([Code by Andreas Sterbenz][2]) \r\n&lt;pre&gt;\r\n    java InstallCert [host]:[port] \r\n    keytool -exportcert -keystore jssecacerts -storepass changeit -file output.cert\r\n    keytool -importcert -keystore [DESTINATION_KEYSTORE] -file output.cert\r\n&lt;/pre&gt;\r\n\r\n  [1]: http://www.alphaworks.ibm.com/tech/keyman\r\n  [2]: https://github.com/escline/InstallCert/blob/master/InstallCert.java\r\n","title":"Java keytool easy way to add server cert from url/port","body":"<p>There were a few ways I found to do this:</p>\n\n<ul>\n<li>Firefox: Add Exception -> Get Certificat -> View -> Details -> Export...</li>\n<li>KeyMan (<a href=\"http://www.alphaworks.ibm.com/tech/keyman\" rel=\"noreferrer\">http://www.alphaworks.ibm.com/tech/keyman</a>) You can get SSL cert directly from the File -> Import menu</li>\n<li>InstallCert (<a href=\"https://github.com/escline/InstallCert/blob/master/InstallCert.java\" rel=\"noreferrer\">Code by Andreas Sterbenz</a>) </li>\n</ul>\n\n<pre>\n    java InstallCert [host]:[port] \n    keytool -exportcert -keystore jssecacerts -storepass changeit -file output.cert\n    keytool -importcert -keystore [DESTINATION_KEYSTORE] -file output.cert\n</pre>\n"},{"tags":[],"owner":{"account_id":543818,"reputation":23966,"user_id":1733117,"display_name":"dnozay"},"down_vote_count":0,"up_vote_count":100,"is_accepted":false,"score":100,"last_activity_date":1460570761,"creation_date":1397854605,"answer_id":23162215,"question_id":3685548,"body_markdown":"Was looking at how to trust a certificate while using jenkins cli, and found\r\nhttps://issues.jenkins-ci.org/browse/JENKINS-12629 which has some recipe for that.\r\n\r\nThis will give you the certificate:\r\n\r\n    openssl s_client -connect ${HOST}:${PORT} &lt;/dev/null\r\n\r\nif you are interested only in the certificate part, cut it out by piping it to:\r\n\r\n    | sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39;\r\n\r\nand redirect to a file:\r\n\r\n    &gt; ${HOST}.cert\r\n\r\nThen import it using keytool:\r\n\r\n    keytool -import -noprompt -trustcacerts -alias ${HOST} -file ${HOST}.cert \\\r\n        -keystore ${KEYSTOREFILE} -storepass ${KEYSTOREPASS}\r\n\r\n\r\nIn one go:\r\n\r\n    HOST=myhost.example.com\r\n    PORT=443\r\n    KEYSTOREFILE=dest_keystore\r\n    KEYSTOREPASS=changeme\r\n    \r\n    # get the SSL certificate\r\n    openssl s_client -connect ${HOST}:${PORT} &lt;/dev/null \\\r\n        | sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; ${HOST}.cert\r\n\r\n    # create a keystore and import certificate\r\n    keytool -import -noprompt -trustcacerts \\\r\n        -alias ${HOST} -file ${HOST}.cert \\\r\n        -keystore ${KEYSTOREFILE} -storepass ${KEYSTOREPASS}\r\n\r\n    # verify we&#39;ve got it.\r\n    keytool -list -v -keystore ${KEYSTOREFILE} -storepass ${KEYSTOREPASS} -alias ${HOST}\r\n","title":"Java keytool easy way to add server cert from url/port","body":"<p>Was looking at how to trust a certificate while using jenkins cli, and found\n<a href=\"https://issues.jenkins-ci.org/browse/JENKINS-12629\">https://issues.jenkins-ci.org/browse/JENKINS-12629</a> which has some recipe for that.</p>\n\n<p>This will give you the certificate:</p>\n\n<pre><code>openssl s_client -connect ${HOST}:${PORT} &lt;/dev/null\n</code></pre>\n\n<p>if you are interested only in the certificate part, cut it out by piping it to:</p>\n\n<pre><code>| sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p'\n</code></pre>\n\n<p>and redirect to a file:</p>\n\n<pre><code>&gt; ${HOST}.cert\n</code></pre>\n\n<p>Then import it using keytool:</p>\n\n<pre><code>keytool -import -noprompt -trustcacerts -alias ${HOST} -file ${HOST}.cert \\\n    -keystore ${KEYSTOREFILE} -storepass ${KEYSTOREPASS}\n</code></pre>\n\n<p>In one go:</p>\n\n<pre><code>HOST=myhost.example.com\nPORT=443\nKEYSTOREFILE=dest_keystore\nKEYSTOREPASS=changeme\n\n# get the SSL certificate\nopenssl s_client -connect ${HOST}:${PORT} &lt;/dev/null \\\n    | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; ${HOST}.cert\n\n# create a keystore and import certificate\nkeytool -import -noprompt -trustcacerts \\\n    -alias ${HOST} -file ${HOST}.cert \\\n    -keystore ${KEYSTOREFILE} -storepass ${KEYSTOREPASS}\n\n# verify we've got it.\nkeytool -list -v -keystore ${KEYSTOREFILE} -storepass ${KEYSTOREPASS} -alias ${HOST}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1108404,"reputation":7584,"user_id":1099314,"display_name":"ninhjs.dev"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1618832713,"creation_date":1543942024,"answer_id":53617793,"question_id":3685548,"body_markdown":"Just expose [dnozay][1]&#39;s answer to a function so that we can import multiple certificates at the same time.\r\n\r\nSave it to a .sh file then run it.\r\n\r\n    #!/usr/bin/env sh\r\n    \r\n    KEYSTORE_FILE=/path/to/keystore.jks\r\n    KEYSTORE_PASS=changeit\r\n    \r\n    \r\n    import_cert() {\r\n      local HOST=$1\r\n      local PORT=$2\r\n    \r\n      if [[ -z $PORT ]]; then\r\n        PORT=443\r\n      fi\r\n    \r\n      # get the SSL certificate\r\n      openssl s_client -connect ${HOST}:${PORT} &lt;/dev/null | sed -ne &#39;/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p&#39; &gt; ${HOST}.cert\r\n    \r\n      # delete the old alias and then import the new one\r\n      keytool -delete -keystore ${KEYSTORE_FILE} -storepass ${KEYSTORE_PASS} -alias ${HOST} &amp;&gt; /dev/null\r\n    \r\n      # create a keystore (or update) and import certificate\r\n      keytool -import -noprompt -trustcacerts \\\r\n          -alias ${HOST} -file ${HOST}.cert \\\r\n          -keystore ${KEYSTORE_FILE} -storepass ${KEYSTORE_PASS}\r\n    \r\n      # remove temp file\r\n      rm ${HOST}.cert\r\n    }\r\n    \r\n    # Change your sites here\r\n    import_cert stackoverflow.com 443\r\n    import_cert www.google.com # default port 443\r\n    import_cert 172.217.194.104 443 # google\r\n\r\n  [1]: https://stackoverflow.com/users/1733117/dnozay\r\n\r\n","title":"Java keytool easy way to add server cert from url/port","body":"<p>Just expose <a href=\"https://stackoverflow.com/users/1733117/dnozay\">dnozay</a>'s answer to a function so that we can import multiple certificates at the same time.</p>\n<p>Save it to a .sh file then run it.</p>\n<pre><code>#!/usr/bin/env sh\n\nKEYSTORE_FILE=/path/to/keystore.jks\nKEYSTORE_PASS=changeit\n\n\nimport_cert() {\n  local HOST=$1\n  local PORT=$2\n\n  if [[ -z $PORT ]]; then\n    PORT=443\n  fi\n\n  # get the SSL certificate\n  openssl s_client -connect ${HOST}:${PORT} &lt;/dev/null | sed -ne '/-BEGIN CERTIFICATE-/,/-END CERTIFICATE-/p' &gt; ${HOST}.cert\n\n  # delete the old alias and then import the new one\n  keytool -delete -keystore ${KEYSTORE_FILE} -storepass ${KEYSTORE_PASS} -alias ${HOST} &amp;&gt; /dev/null\n\n  # create a keystore (or update) and import certificate\n  keytool -import -noprompt -trustcacerts \\\n      -alias ${HOST} -file ${HOST}.cert \\\n      -keystore ${KEYSTORE_FILE} -storepass ${KEYSTORE_PASS}\n\n  # remove temp file\n  rm ${HOST}.cert\n}\n\n# Change your sites here\nimport_cert stackoverflow.com 443\nimport_cert www.google.com # default port 443\nimport_cert 172.217.194.104 443 # google\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1684018888,"creation_date":1543944848,"answer_id":53618544,"question_id":3685548,"body_markdown":"I use openssl, but if you prefer not to, or are on a system (particularly Windows) that doesn&#39;t have it, **since java 7 in 2011 `keytool` can do the whole job**:\r\n\r\n     keytool -printcert -sslserver host[:port] -rfc &gt;tempfile\r\n     keytool -import [-noprompt] -alias nm -keystore file [-storepass pw] [-storetype ty] &lt;tempfile \r\n     # or with noprompt and storepass (so nothing on stdin besides the cert) piping works:\r\n     keytool -printcert -sslserver host[:port] -rfc | keytool -import -noprompt -alias nm -keystore file -storepass pw [-storetype ty]\r\n\r\n&lt;strike&gt;Conversely, for java 9 up always, and for earlier versions in many cases, Java can use a PKCS12 file for a keystore instead of the traditional JKS file, and&lt;/strike&gt; **OpenSSL can create a PKCS12** without any assistance from keytool:\r\n\r\n    openssl s_client -connect host:port &lt;/dev/null | openssl pkcs12 -export -nokeys [-caname nm] [-passout option] -out p12file\r\n    # &lt;NUL on Windows\r\n    # default is to prompt for password, but -passout supports several options \r\n    # including actual value, envvar, or file; see the openssl(1ssl) man page \r\n\r\n**BUT** (as I apparently hadn&#39;t yet found in 2018) this won&#39;t work as a truststore with &#39;standard&#39; (Oracle/OpenJDK) Java crypto because that requires trusted cert(s) in a PKCS12 to have a special attribute OpenSSL doesn&#39;t know about. This _does_ work if you install and use the BouncyCastle provider and specify the storetype which can affect (maybe break) other things, AND you specify &#39;friendly&#39; name(s) with `-caname`. (corrected: `-caname` not `-name` or `nm`)","title":"Java keytool easy way to add server cert from url/port","body":"<p>I use openssl, but if you prefer not to, or are on a system (particularly Windows) that doesn't have it, <strong>since java 7 in 2011 <code>keytool</code> can do the whole job</strong>:</p>\n<pre><code> keytool -printcert -sslserver host[:port] -rfc &gt;tempfile\n keytool -import [-noprompt] -alias nm -keystore file [-storepass pw] [-storetype ty] &lt;tempfile \n # or with noprompt and storepass (so nothing on stdin besides the cert) piping works:\n keytool -printcert -sslserver host[:port] -rfc | keytool -import -noprompt -alias nm -keystore file -storepass pw [-storetype ty]\n</code></pre>\n<p><strike>Conversely, for java 9 up always, and for earlier versions in many cases, Java can use a PKCS12 file for a keystore instead of the traditional JKS file, and</strike> <strong>OpenSSL can create a PKCS12</strong> without any assistance from keytool:</p>\n<pre><code>openssl s_client -connect host:port &lt;/dev/null | openssl pkcs12 -export -nokeys [-caname nm] [-passout option] -out p12file\n# &lt;NUL on Windows\n# default is to prompt for password, but -passout supports several options \n# including actual value, envvar, or file; see the openssl(1ssl) man page \n</code></pre>\n<p><strong>BUT</strong> (as I apparently hadn't yet found in 2018) this won't work as a truststore with 'standard' (Oracle/OpenJDK) Java crypto because that requires trusted cert(s) in a PKCS12 to have a special attribute OpenSSL doesn't know about. This <em>does</em> work if you install and use the BouncyCastle provider and specify the storetype which can affect (maybe break) other things, AND you specify 'friendly' name(s) with <code>-caname</code>. (corrected: <code>-caname</code> not <code>-name</code> or <code>nm</code>)</p>\n"}],"owner":{"account_id":109922,"reputation":12250,"user_id":291059,"accept_rate":39,"display_name":"wuntee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129389,"favorite_count":0,"down_vote_count":0,"up_vote_count":59,"answer_count":5,"score":59,"last_activity_date":1684018888,"creation_date":1284129856,"question_id":3685548,"body_markdown":"I have a server with a self-signed certificate, but also requires client side cert authentication. I am having a rough time trying to get the raw CA server cert so I can import it into a keystore. Anyone have some suggestions on how to easily do that?","title":"Java keytool easy way to add server cert from url/port","body":"<p>I have a server with a self-signed certificate, but also requires client side cert authentication. I am having a rough time trying to get the raw CA server cert so I can import it into a keystore. Anyone have some suggestions on how to easily do that?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":2,"creation_date":1680670717,"post_id":75935490,"comment_id":133935503,"body_markdown":"Don&#39;t know about the threads, but why are you creating new CountdownLatch instances in the methods?","body":"Don&#39;t know about the threads, but why are you creating new CountdownLatch instances in the methods?"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1680708967,"post_id":75935490,"comment_id":133944981,"body_markdown":"You are logging at “execution” phase. If you want to understand subscription, add log to `.doOnSubscribe`","body":"You are logging at “execution” phase. If you want to understand subscription, add log to <code>.doOnSubscribe</code>"},{"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"score":0,"creation_date":1683803068,"post_id":75935490,"comment_id":134423974,"body_markdown":"@SoT I&#39;ve checked your code and got `parallel-*` in both cases. Could you provide more details (at least versions) or a better - link to the GitHub example? p.s. I&#39;d recommend you put a breakpoint in the place where you write the log and try to find in the stack where the `publishOn` or `subscribeOn` operators are used. It looks like the request body mono has `publishOn` applied under the hood or something like that.","body":"@SoT I&#39;ve checked your code and got <code>parallel-*</code> in both cases. Could you provide more details (at least versions) or a better - link to the GitHub example? p.s. I&#39;d recommend you put a breakpoint in the place where you write the log and try to find in the stack where the <code>publishOn</code> or <code>subscribeOn</code> operators are used. It looks like the request body mono has <code>publishOn</code> applied under the hood or something like that."},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1683804581,"post_id":75935490,"comment_id":134424306,"body_markdown":"@YevheniiSemenov i will create a github example soon","body":"@YevheniiSemenov i will create a github example soon"},{"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"score":0,"creation_date":1683959084,"post_id":75935490,"comment_id":134449469,"body_markdown":"@YevheniiSemenov I have created a example on GitHub. Kindly check my edit","body":"@YevheniiSemenov I have created a example on GitHub. Kindly check my edit"},{"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"score":1,"creation_date":1684018412,"post_id":75935490,"comment_id":134455765,"body_markdown":"@SoT posted my investigation as a separate answer","body":"@SoT posted my investigation as a separate answer"}],"answers":[{"tags":[],"owner":{"account_id":24109083,"reputation":150,"user_id":18079889,"display_name":"Mohammed Fataka"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1681048379,"creation_date":1681048379,"answer_id":75970937,"question_id":75935490,"body_markdown":"the difference is, By default, the data production process starts on the Thread that initiated the subscription meaning first method ```testMono(@RequestBody Mono&lt;SignInRequest&gt; body) {\r\n...}``` has publisher as the parameter, which is the source of subscription initiated from and thus data production process started there, on the other side for method ```testMono2(Integer a)``` you do not subscribe manually in your method but rather passing it to the endpoint to response, which means webflux will handle data production process and subscription, and by default, webflux uses ```Schedulers.parallel()``` to use parallel threads for project reactor. hope this helps ","title":"spring webflux why did controller subscribe on main thread","body":"<p>the difference is, By default, the data production process starts on the Thread that initiated the subscription meaning first method <code>testMono(@RequestBody Mono&lt;SignInRequest&gt; body) { ...}</code> has publisher as the parameter, which is the source of subscription initiated from and thus data production process started there, on the other side for method <code>testMono2(Integer a)</code> you do not subscribe manually in your method but rather passing it to the endpoint to response, which means webflux will handle data production process and subscription, and by default, webflux uses <code>Schedulers.parallel()</code> to use parallel threads for project reactor. hope this helps</p>\n"},{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684018288,"creation_date":1684018288,"answer_id":76245177,"question_id":75935490,"body_markdown":"After reviewing the project you shared on your GitHub, I have identified the cause of such behavior. To provide a comprehensive response, I will divide it into two parts:\r\n\r\n1) Why `parallel-*` threads are used by default in your app. \r\n2) Why are you seeing `reactor-http-nio-*` in one specific endpoint.\r\n----------\r\n## Why `parallel-*` threads are used by default in your app. ##\r\n\r\nSpring WebFlux uses Netty under the hood by default. So, actually, it processes all incoming HTTP requests on `reactor-http-nio-*` threads. You can verify it by putting a breakpoint in the `onStateChange` method in class `HttpServer` that is located in `reactor-netty-http`. \r\n\r\n[![enter image description here][1]][1]\r\n\r\nSo why do you see `parallel-*` threads? This is because the thread is changed later during a request processing. One of the `WebFilter`s, applied to your request is `ServerRequestCacheWebFilter`. According to documentation it:\r\n\r\n&gt; Configures the request cache which is used when a flow is interrupted (i.e. due to requesting credentials) so that the request can be replayed after authentication.\r\n\r\nAs part of this filter logic, the following code is executed:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAnd the following code as part of `removeMatchingRequest`:\r\n[![enter image description here][3]][3]\r\n\r\nMethod `getSession` returns `Mono`; But we are interested in how this mono is created here. And it is the place we are looking for: \r\n\r\n[![enter image description here][4]][4]\r\n\r\nThis is the place where the thread is switched from `reactor-http-nio-*` to `parallel-*`.\r\n\r\nYou can verify this by adding `.requestCache().disable()` to your `SecurityWebFilterChain` config. After this, all execution will be on `reactor-http-nio-*` threads.\r\n\r\nHere you can find more details about why it work in such a way: \r\n\r\nhttps://github.com/spring-projects/spring-framework/issues/26958#issuecomment-856986682\r\n\r\n## Why are you seeing `reactor-http-nio-*` in one specific endpoint. ##\r\nActually, the endpoint `@GetMapping(&quot;/mono&quot;)` is also executed on `parallel-*` thread. You can verify it by putting the log message at the first line of the handler method. \r\n\r\nThe `reactor-http-nio-*` thread comes with the request body `Mono&lt;SignInRequest&gt; body`. When you add this mono to your chain here: `objectMono.flatMap(i -&gt; body.flatMap(b -&gt; doWork(i)));`, thread switched to the `reactor-http-nio-*`. It works that way whenever you add a `@RequestBody` argument with a `Mono` type to any endpoint. \r\n\r\nThe reason for such behavior is partially explained in the first part. WebFlux uses Netty under the hood, and reading request body is another I/O operation that should be handled by `reactor-http-nio-*` threads. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pIQfc.png\r\n  [2]: https://i.stack.imgur.com/XnvAf.png\r\n  [3]: https://i.stack.imgur.com/R3yEx.png\r\n  [4]: https://i.stack.imgur.com/73Kxx.png","title":"spring webflux why did controller subscribe on main thread","body":"<p>After reviewing the project you shared on your GitHub, I have identified the cause of such behavior. To provide a comprehensive response, I will divide it into two parts:</p>\n<ol>\n<li>Why <code>parallel-*</code> threads are used by default in your app.</li>\n<li>Why are you seeing <code>reactor-http-nio-*</code> in one specific endpoint.</li>\n</ol>\n<hr />\n<h2>Why <code>parallel-*</code> threads are used by default in your app.</h2>\n<p>Spring WebFlux uses Netty under the hood by default. So, actually, it processes all incoming HTTP requests on <code>reactor-http-nio-*</code> threads. You can verify it by putting a breakpoint in the <code>onStateChange</code> method in class <code>HttpServer</code> that is located in <code>reactor-netty-http</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/pIQfc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pIQfc.png\" alt=\"enter image description here\" /></a></p>\n<p>So why do you see <code>parallel-*</code> threads? This is because the thread is changed later during a request processing. One of the <code>WebFilter</code>s, applied to your request is <code>ServerRequestCacheWebFilter</code>. According to documentation it:</p>\n<blockquote>\n<p>Configures the request cache which is used when a flow is interrupted (i.e. due to requesting credentials) so that the request can be replayed after authentication.</p>\n</blockquote>\n<p>As part of this filter logic, the following code is executed:</p>\n<p><a href=\"https://i.stack.imgur.com/XnvAf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XnvAf.png\" alt=\"enter image description here\" /></a></p>\n<p>And the following code as part of <code>removeMatchingRequest</code>:\n<a href=\"https://i.stack.imgur.com/R3yEx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R3yEx.png\" alt=\"enter image description here\" /></a></p>\n<p>Method <code>getSession</code> returns <code>Mono</code>; But we are interested in how this mono is created here. And it is the place we are looking for:</p>\n<p><a href=\"https://i.stack.imgur.com/73Kxx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/73Kxx.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the place where the thread is switched from <code>reactor-http-nio-*</code> to <code>parallel-*</code>.</p>\n<p>You can verify this by adding <code>.requestCache().disable()</code> to your <code>SecurityWebFilterChain</code> config. After this, all execution will be on <code>reactor-http-nio-*</code> threads.</p>\n<p>Here you can find more details about why it work in such a way:</p>\n<p><a href=\"https://github.com/spring-projects/spring-framework/issues/26958#issuecomment-856986682\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-framework/issues/26958#issuecomment-856986682</a></p>\n<h2>Why are you seeing <code>reactor-http-nio-*</code> in one specific endpoint.</h2>\n<p>Actually, the endpoint <code>@GetMapping(&quot;/mono&quot;)</code> is also executed on <code>parallel-*</code> thread. You can verify it by putting the log message at the first line of the handler method.</p>\n<p>The <code>reactor-http-nio-*</code> thread comes with the request body <code>Mono&lt;SignInRequest&gt; body</code>. When you add this mono to your chain here: <code>objectMono.flatMap(i -&gt; body.flatMap(b -&gt; doWork(i)));</code>, thread switched to the <code>reactor-http-nio-*</code>. It works that way whenever you add a <code>@RequestBody</code> argument with a <code>Mono</code> type to any endpoint.</p>\n<p>The reason for such behavior is partially explained in the first part. WebFlux uses Netty under the hood, and reading request body is another I/O operation that should be handled by <code>reactor-http-nio-*</code> threads.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":543,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76245177,"answer_count":2,"score":1,"last_activity_date":1684018288,"creation_date":1680666419,"question_id":75935490,"body_markdown":"Given this code:\r\n  \r\n\r\n      private static CountDownLatch countDownLatch = new CountDownLatch(1);\r\n      \r\n      @GetMapping(&quot;/mono&quot;)\r\n      public Mono&lt;Object&gt; testMono(@RequestBody Mono&lt;SignInRequest&gt; body) {\r\n        countDownLatch = new CountDownLatch(1);\r\n        Mono&lt;Integer&gt; objectMono = Mono.just(25);\r\n        return objectMono\r\n            .flatMap(i -&gt; body.flatMap(b -&gt; doWork(i)));\r\n      }\r\n      \r\n      @GetMapping(&quot;/mono/2&quot;)\r\n      public Mono&lt;Object&gt; testMono2(Integer a) {\r\n        countDownLatch = new CountDownLatch(1);\r\n        Mono&lt;Integer&gt; mono = Mono.just(99);\r\n        Mono&lt;Integer&gt; objectMono = Mono.just(a);\r\n        return objectMono\r\n            .flatMap(i -&gt; mono.flatMap(b -&gt; doWork(i)));\r\n      }\r\n      \r\n      private Mono&lt;Object&gt; doWork(Integer i) {\r\n        return Mono.fromCallable(() -&gt; {\r\n          System.out.println(Thread.currentThread().getName());\r\n          if(countDownLatch.await(i, TimeUnit.SECONDS)) {\r\n            return i;\r\n          }\r\n          throw new RuntimeException(&quot;time exceeded&quot;);\r\n        });\r\n      }\r\nWhen I invoke endpoint `/mono` it print `reactor-http-nio-3` (main thread), but when I invoke endpoint `/mono2` it print `parallel-2`. Why is there a difference? AFAIK, spring should always subscribe on parallel/elastic thread.\r\n\r\nEDIT:\r\n\r\nPlease get the example [here][1]\r\n\r\nHow to run: You will need a mongodb instance which is running on 27017 and having a database named `vilya_be` (please correct username, password if any); also need a kafka instance running on 9092\r\n\r\n\r\nWhy didn&#39;t I remove mongodb and kafka? Because I already did it, but then bot APIs giving me `parallel-2`. So I put them back\r\n\r\n\r\n  [1]: https://github.com/anaconda875/reacrive-bug.git","title":"spring webflux why did controller subscribe on main thread","body":"<p>Given this code:</p>\n<pre><code>  private static CountDownLatch countDownLatch = new CountDownLatch(1);\n  \n  @GetMapping(&quot;/mono&quot;)\n  public Mono&lt;Object&gt; testMono(@RequestBody Mono&lt;SignInRequest&gt; body) {\n    countDownLatch = new CountDownLatch(1);\n    Mono&lt;Integer&gt; objectMono = Mono.just(25);\n    return objectMono\n        .flatMap(i -&gt; body.flatMap(b -&gt; doWork(i)));\n  }\n  \n  @GetMapping(&quot;/mono/2&quot;)\n  public Mono&lt;Object&gt; testMono2(Integer a) {\n    countDownLatch = new CountDownLatch(1);\n    Mono&lt;Integer&gt; mono = Mono.just(99);\n    Mono&lt;Integer&gt; objectMono = Mono.just(a);\n    return objectMono\n        .flatMap(i -&gt; mono.flatMap(b -&gt; doWork(i)));\n  }\n  \n  private Mono&lt;Object&gt; doWork(Integer i) {\n    return Mono.fromCallable(() -&gt; {\n      System.out.println(Thread.currentThread().getName());\n      if(countDownLatch.await(i, TimeUnit.SECONDS)) {\n        return i;\n      }\n      throw new RuntimeException(&quot;time exceeded&quot;);\n    });\n  }\n</code></pre>\n<p>When I invoke endpoint <code>/mono</code> it print <code>reactor-http-nio-3</code> (main thread), but when I invoke endpoint <code>/mono2</code> it print <code>parallel-2</code>. Why is there a difference? AFAIK, spring should always subscribe on parallel/elastic thread.</p>\n<p>EDIT:</p>\n<p>Please get the example <a href=\"https://github.com/anaconda875/reacrive-bug.git\" rel=\"nofollow noreferrer\">here</a></p>\n<p>How to run: You will need a mongodb instance which is running on 27017 and having a database named <code>vilya_be</code> (please correct username, password if any); also need a kafka instance running on 9092</p>\n<p>Why didn't I remove mongodb and kafka? Because I already did it, but then bot APIs giving me <code>parallel-2</code>. So I put them back</p>\n"},{"tags":["java","mongodb","spring-boot","mongock"],"comments":[{"owner":{"account_id":17889056,"reputation":1273,"user_id":12995983,"display_name":"Mongock team"},"score":0,"creation_date":1659531032,"post_id":73221272,"comment_id":129316560,"body_markdown":"What are you trying to do with the &quot;/&quot; in @Qualifier(value = &quot;reportMongoTemplate&quot;/&quot;codeBookMongoTemplate&quot;)?","body":"What are you trying to do with the &quot;/&quot; in @Qualifier(value = &quot;reportMongoTemplate&quot;/&quot;codeBookMongoTemplate&quot;)?"},{"owner":{"account_id":5089458,"reputation":364,"user_id":4082981,"display_name":"salerokada"},"score":0,"creation_date":1659531371,"post_id":73221272,"comment_id":129316701,"body_markdown":"That is just an example how would other qualifier look like. First would be named &quot;reportMongock&quot;, second &quot;codeBookMongock&quot;. Same for parameters: MongoTemplate for first mongockApplicationRunner runner would have qualifier &quot;reportMongoTemplate&quot; and for second runner MongoTemplate would be &quot;codeBookMongoTemplate&quot;.","body":"That is just an example how would other qualifier look like. First would be named &quot;reportMongock&quot;, second &quot;codeBookMongock&quot;. Same for parameters: MongoTemplate for first mongockApplicationRunner runner would have qualifier &quot;reportMongoTemplate&quot; and for second runner MongoTemplate would be &quot;codeBookMongoTemplate&quot;."}],"answers":[{"tags":[],"owner":{"account_id":5089458,"reputation":364,"user_id":4082981,"display_name":"salerokada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659727157,"creation_date":1659727157,"answer_id":73254424,"question_id":73221272,"body_markdown":"After a lot of wasted time I found that besides Mongock configuration on `report` database I was also doing autoconfiguration (`@EnableMongock`).&lt;br&gt;\r\nI had annotation `@EnableMongock` on my &lt;i&gt;MongockConfig&lt;/i&gt; class. Since `codebook` mongo template had `@Primary` annotation autocofiguration was loading that database and there were no properties to set changelog directory inside `application.properties` so &lt;i&gt;ChangeLogsScanPackages&lt;/i&gt; were empty.&lt;br&gt;\r\nSimple solution, I just removed `@EnableMongock` annotation and it started working.&lt;br&gt;&lt;br&gt;\r\nDon&#39;t mix autoconfiguration (`@EnableMongock`) with creating `mongockApplicationRunner` and `transactionManager` or you will end up with problem like me.","title":"Running Mongock on only one database in multidatabase Spring project","body":"<p>After a lot of wasted time I found that besides Mongock configuration on <code>report</code> database I was also doing autoconfiguration (<code>@EnableMongock</code>).<br>\nI had annotation <code>@EnableMongock</code> on my <i>MongockConfig</i> class. Since <code>codebook</code> mongo template had <code>@Primary</code> annotation autocofiguration was loading that database and there were no properties to set changelog directory inside <code>application.properties</code> so <i>ChangeLogsScanPackages</i> were empty.<br>\nSimple solution, I just removed <code>@EnableMongock</code> annotation and it started working.<br><br>\nDon't mix autoconfiguration (<code>@EnableMongock</code>) with creating <code>mongockApplicationRunner</code> and <code>transactionManager</code> or you will end up with problem like me.</p>\n"},{"tags":[],"owner":{"account_id":4518934,"reputation":3509,"user_id":7764014,"accept_rate":47,"display_name":"Yassine CHABLI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684017419,"creation_date":1684013183,"answer_id":76244949,"question_id":73221272,"body_markdown":"When using **@EnableMongock** within your spring boot application,  you must define the configuration to let Mongock scan the migrations as below: \r\n\r\n    mongock:\r\n      migration-scan-package:\r\n        - com.ma.project.migrations\r\n\r\nIn case you want to keep the Mongock without running migrations, you can configure it to be disabled as below: \r\n\r\n\r\n    mongock:\r\n      enabled: off","title":"Running Mongock on only one database in multidatabase Spring project","body":"<p>When using <strong>@EnableMongock</strong> within your spring boot application,  you must define the configuration to let Mongock scan the migrations as below:</p>\n<pre><code>mongock:\n  migration-scan-package:\n    - com.ma.project.migrations\n</code></pre>\n<p>In case you want to keep the Mongock without running migrations, you can configure it to be disabled as below:</p>\n<pre><code>mongock:\n  enabled: off\n</code></pre>\n"}],"owner":{"account_id":5089458,"reputation":364,"user_id":4082981,"display_name":"salerokada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":942,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684017419,"creation_date":1659527643,"question_id":73221272,"body_markdown":"I have quite large legacy multi module Java Spring boot project which connects to one MySql database and two Mongo databases (lets say `codebook` and `report`).&lt;br&gt;\r\nI&#39;m trying to setup Mongock to be able to do Mongo database migrations. I need it on only one Mongodb database (`report`).&lt;br&gt;\r\nI added Mongock dependencies and configuration class (`MongockApplicationRunner`, `MongoTransactionManager`) to `report` database.&lt;br&gt;\r\nWhen I run the application it gives me exception: &lt;i&gt;Scan package for changeLogs is not set: use appropriate setter&lt;/i&gt; (exception from `RunnerBuilderBase` class).&lt;br&gt;&lt;br&gt;\r\nI debugged it and found that Mongock is trying to set configuration for `codebook` database.&lt;br&gt;\r\nI created another Mongock configuration, this time for `codebook` database. Run the application. Mongock loads my new configuration for `codebook`, but then tries to set another configuration for `codebook` database which failes because of `config.getChangeLogsScanPackage().isEmpty()`.&lt;br&gt;&lt;br&gt;\r\nIt seems that Mongock is always setting some default configuration on `codebook` database.&lt;br&gt;\r\nWhen I debug it Mongock loads first `codebook` configuration from my `mongockApplicationRunner` (line `.buildApplicationRunner();`). The second `codebook` configuration comes from `MongockContextBase.applicationRunner` and that configuration has empty `MongockSpringConfiguration.migrationScanPackage`.&lt;br&gt;&lt;br&gt;\r\nWhy is this &lt;i&gt;default&lt;/i&gt; configuration appearing and how to stop it from loading?&lt;br&gt;\r\nMy Spring boot is `2.2.13.RELEASE` and Mongock is `5.0.24`.","title":"Running Mongock on only one database in multidatabase Spring project","body":"<p>I have quite large legacy multi module Java Spring boot project which connects to one MySql database and two Mongo databases (lets say <code>codebook</code> and <code>report</code>).<br>\nI'm trying to setup Mongock to be able to do Mongo database migrations. I need it on only one Mongodb database (<code>report</code>).<br>\nI added Mongock dependencies and configuration class (<code>MongockApplicationRunner</code>, <code>MongoTransactionManager</code>) to <code>report</code> database.<br>\nWhen I run the application it gives me exception: <i>Scan package for changeLogs is not set: use appropriate setter</i> (exception from <code>RunnerBuilderBase</code> class).<br><br>\nI debugged it and found that Mongock is trying to set configuration for <code>codebook</code> database.<br>\nI created another Mongock configuration, this time for <code>codebook</code> database. Run the application. Mongock loads my new configuration for <code>codebook</code>, but then tries to set another configuration for <code>codebook</code> database which failes because of <code>config.getChangeLogsScanPackage().isEmpty()</code>.<br><br>\nIt seems that Mongock is always setting some default configuration on <code>codebook</code> database.<br>\nWhen I debug it Mongock loads first <code>codebook</code> configuration from my <code>mongockApplicationRunner</code> (line <code>.buildApplicationRunner();</code>). The second <code>codebook</code> configuration comes from <code>MongockContextBase.applicationRunner</code> and that configuration has empty <code>MongockSpringConfiguration.migrationScanPackage</code>.<br><br>\nWhy is this <i>default</i> configuration appearing and how to stop it from loading?<br>\nMy Spring boot is <code>2.2.13.RELEASE</code> and Mongock is <code>5.0.24</code>.</p>\n"},{"tags":["java","mongodb","mongodb-query"],"comments":[{"owner":{"account_id":18738578,"reputation":125,"user_id":13662305,"display_name":"NotArchon"},"score":0,"creation_date":1684016798,"post_id":76223971,"comment_id":134455663,"body_markdown":"Updated main post with solution. Still looking to improve it though!","body":"Updated main post with solution. Still looking to improve it though!"}],"owner":{"account_id":18738578,"reputation":125,"user_id":13662305,"display_name":"NotArchon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684016774,"creation_date":1683775858,"question_id":76223971,"body_markdown":"I&#39;m trying to convert a SQL query to Mongo.\r\n\r\nThe SQL query gathers a rank for entries it determines are &quot;lower&quot; than the given base.\r\n\r\n    base_user_id = 1\r\n    base_primary = 123\r\n    base_secondary = 456789\r\n    base_update_ms = 9999999\r\n\r\n    SELECT @rank:=@rank+1 AS rank FROM scores, ( SELECT @rank:=0 ) r WHERE (\r\n            ( primary &gt; base_primary ) OR\r\n            ( primary = base_primary AND secondary &gt; base_secondary ) OR\r\n            ( primary = base_primary AND secondary = base_secondary AND last_update_ms &lt;= base_update_ms )\r\n    ) AND user_id != base_user_id ORDER BY rank DESC LIMIT 1\r\n\r\nHere how I sort a group of entries using Mongo&#39;s Java lib.\r\n\r\n    Sorts.orderBy(\r\n        Sorts.descending(&quot;primary&quot;, &quot;secondary&quot;),\r\n        Sorts.ascending(&quot;last_update_ms&quot;)\r\n    )\r\nThis works as intended, and allows for easy group lookups for things like pagination.\r\n\r\nThe issue, however, is trying to find a rank for a single document.\r\n\r\nI&#39;ve been playing around with Mongo aggregations, but no luck yet. I&#39;d love if someone could help point me in the right direction! Thank you!\r\n\r\n**Edit:** Here&#39;s what I came up with without using aggregate... (Not a fan of this, it&#39;s pretty slow when testing with 2m entries)\r\n\r\n            Bson betterSameSecondaryFilter = Filters.or(\r\n                    Filters.lt(&quot;last_update&quot;, d.lastUpdate()), // the lower last update is better\r\n                    Filters.and(Filters.eq(&quot;last_update&quot;), // updated at the same time (very unlikely)\r\n                            Filters.lt(&quot;_id&quot;, d._id())) // the lower doc id is better\r\n            );\r\n\r\n            Bson betterSecondaryFilter = Filters.or( // only happens if primary values are equal\r\n                    Filters.gt(&quot;secondary&quot;, d.secondary()), // secondary value is higher, they&#39;re a better rank\r\n                    Filters.and(Filters.eq(&quot;secondary&quot;, d.secondary()), // secondary values are equal, compare update time\r\n                            betterSameSecondaryFilter)\r\n            );\r\n\r\n            Bson betterRankFilter = Filters.or(\r\n                    Filters.gt(&quot;primary&quot;, d.primary()), // primary value is higher, they&#39;re a better rank\r\n                    Filters.and(Filters.eq(&quot;primary&quot;, d.primary()), // primary values are equal, compare secondary values\r\n                            betterSecondaryFilter)\r\n            );\r\n\r\n            long rank = 1 + hiscores.countDocuments(Filters.and(\r\n                    Filters.eq(&quot;key&quot;, d.key()),\r\n                    Filters.ne(&quot;user_id&quot;, userDoc.id()),\r\n                    betterRankFilter\r\n            ));","title":"SQL query to Mongo (SELECT lower entries and increment value to receive rank)","body":"<p>I'm trying to convert a SQL query to Mongo.</p>\n<p>The SQL query gathers a rank for entries it determines are &quot;lower&quot; than the given base.</p>\n<pre><code>base_user_id = 1\nbase_primary = 123\nbase_secondary = 456789\nbase_update_ms = 9999999\n\nSELECT @rank:=@rank+1 AS rank FROM scores, ( SELECT @rank:=0 ) r WHERE (\n        ( primary &gt; base_primary ) OR\n        ( primary = base_primary AND secondary &gt; base_secondary ) OR\n        ( primary = base_primary AND secondary = base_secondary AND last_update_ms &lt;= base_update_ms )\n) AND user_id != base_user_id ORDER BY rank DESC LIMIT 1\n</code></pre>\n<p>Here how I sort a group of entries using Mongo's Java lib.</p>\n<pre><code>Sorts.orderBy(\n    Sorts.descending(&quot;primary&quot;, &quot;secondary&quot;),\n    Sorts.ascending(&quot;last_update_ms&quot;)\n)\n</code></pre>\n<p>This works as intended, and allows for easy group lookups for things like pagination.</p>\n<p>The issue, however, is trying to find a rank for a single document.</p>\n<p>I've been playing around with Mongo aggregations, but no luck yet. I'd love if someone could help point me in the right direction! Thank you!</p>\n<p><strong>Edit:</strong> Here's what I came up with without using aggregate... (Not a fan of this, it's pretty slow when testing with 2m entries)</p>\n<pre><code>        Bson betterSameSecondaryFilter = Filters.or(\n                Filters.lt(&quot;last_update&quot;, d.lastUpdate()), // the lower last update is better\n                Filters.and(Filters.eq(&quot;last_update&quot;), // updated at the same time (very unlikely)\n                        Filters.lt(&quot;_id&quot;, d._id())) // the lower doc id is better\n        );\n\n        Bson betterSecondaryFilter = Filters.or( // only happens if primary values are equal\n                Filters.gt(&quot;secondary&quot;, d.secondary()), // secondary value is higher, they're a better rank\n                Filters.and(Filters.eq(&quot;secondary&quot;, d.secondary()), // secondary values are equal, compare update time\n                        betterSameSecondaryFilter)\n        );\n\n        Bson betterRankFilter = Filters.or(\n                Filters.gt(&quot;primary&quot;, d.primary()), // primary value is higher, they're a better rank\n                Filters.and(Filters.eq(&quot;primary&quot;, d.primary()), // primary values are equal, compare secondary values\n                        betterSecondaryFilter)\n        );\n\n        long rank = 1 + hiscores.countDocuments(Filters.and(\n                Filters.eq(&quot;key&quot;, d.key()),\n                Filters.ne(&quot;user_id&quot;, userDoc.id()),\n                betterRankFilter\n        ));\n</code></pre>\n"},{"tags":["java","spring","build","ant","ivy"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1684011721,"post_id":76244844,"comment_id":134455243,"body_markdown":"Does this answer your question? [help with ant file - classpath for Java task](https://stackoverflow.com/questions/1988566/help-with-ant-file-classpath-for-java-task)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1988566/help-with-ant-file-classpath-for-java-task\">help with ant file - classpath for Java task</a>"},{"owner":{"account_id":20385211,"reputation":3,"user_id":14954398,"display_name":"Pritam Kundu"},"score":0,"creation_date":1684012434,"post_id":76244844,"comment_id":134455312,"body_markdown":"The solution is not working for me. I have tried as it was suggested.","body":"The solution is not working for me. I have tried as it was suggested."}],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684016415,"creation_date":1684016415,"answer_id":76245101,"question_id":76244844,"body_markdown":"    &lt;?xml version=&quot;1.1&quot; encoding=&quot;utf-8&quot; ?&gt;\r\n    &lt;project name=&quot;Swing Bank&quot; default=&quot;run&quot; basedir=&quot;.&quot; xmlns:ivy=&quot;antlib:org.apache.ivy.ant&quot;&gt;\r\n        &lt;description&gt; ANT Run file for Running swing bank after compiling &lt;/description&gt;\r\n        &lt;property name=&quot;dist.dir&quot; value=&quot;dist&quot;/&gt;\r\n    \r\n        &lt;path id=&quot;classpath&quot;&gt;\r\n            &lt;fileset dir=&quot;lib&quot;&gt;\r\n                &lt;include name=&quot;*.jar&quot;/&gt;\r\n            &lt;/fileset&gt;\r\n        &lt;/path&gt;\r\n    \r\n        &lt;target name=&quot;run&quot; description=&quot;--&gt; runs the project&quot;&gt;\r\n            &lt;java classname=&quot;swing.bank.SignUp&quot; classpathref=&quot;classpath&quot; fork=&quot;true&quot; failonerror=&quot;true&quot; maxmemory=&quot;128m&quot;/&gt;\r\n        &lt;/target&gt;\r\n    &lt;/project&gt;\r\n\r\nThe above is another way of doing it - specify the f.q. class name and classpath. N.B. I&#39;m not 100% sure that is the main class as there are two with a `main` method","title":"How to run a jar file using ant and set the dependencies?","body":"<pre><code>&lt;?xml version=&quot;1.1&quot; encoding=&quot;utf-8&quot; ?&gt;\n&lt;project name=&quot;Swing Bank&quot; default=&quot;run&quot; basedir=&quot;.&quot; xmlns:ivy=&quot;antlib:org.apache.ivy.ant&quot;&gt;\n    &lt;description&gt; ANT Run file for Running swing bank after compiling &lt;/description&gt;\n    &lt;property name=&quot;dist.dir&quot; value=&quot;dist&quot;/&gt;\n\n    &lt;path id=&quot;classpath&quot;&gt;\n        &lt;fileset dir=&quot;lib&quot;&gt;\n            &lt;include name=&quot;*.jar&quot;/&gt;\n        &lt;/fileset&gt;\n    &lt;/path&gt;\n\n    &lt;target name=&quot;run&quot; description=&quot;--&gt; runs the project&quot;&gt;\n        &lt;java classname=&quot;swing.bank.SignUp&quot; classpathref=&quot;classpath&quot; fork=&quot;true&quot; failonerror=&quot;true&quot; maxmemory=&quot;128m&quot;/&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n</code></pre>\n<p>The above is another way of doing it - specify the f.q. class name and classpath. N.B. I'm not 100% sure that is the main class as there are two with a <code>main</code> method</p>\n"}],"owner":{"account_id":20385211,"reputation":3,"user_id":14954398,"display_name":"Pritam Kundu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684016415,"creation_date":1684011388,"question_id":76244844,"body_markdown":"## Problem Description\r\n1. I am trying to build a jar file of a Java Swing project using ant command\r\n2. The jar file is successfully created but when running, it can&#39;t resolve the dependencies somehow and giving the below error.\r\n\r\n## Attempts\r\n1. Reinstalling ivy, ant and downloading the dependencies.\r\n2. I have tried changing the classpath multiple times while compiling the project.\r\n3. Also copied the lib folder in the jar file.\r\n4. Tried taking help from ChatGPT, but neither of the solutions worked.\r\n\r\nHere&#39;s the file structure:\r\n\r\n[Folder structure][1]\r\n\r\n## Code Structure\r\n\r\n1. Here is the important portion of build.xml \r\n\r\n```xml\r\n    ...\r\n    &lt;property name=&quot;main.class&quot; value=&quot;swing.bank.SignUp&quot;/&gt;\r\n    &lt;target name=&quot;init&quot; depends=&quot;clean&quot; description=&quot;--&gt; create directories&quot;&gt;\r\n        &lt;mkdir dir=&quot;${build.dir}&quot;/&gt;\r\n        &lt;mkdir dir=&quot;${dist.dir}&quot;/&gt;\r\n    &lt;/target&gt;\r\n    &lt;target name=&quot;resolve-dependencies&quot; depends=&quot;init&quot; description=&quot;--&gt; retrieve dependencies with Ivy&quot;&gt;\r\n        &lt;ivy:retrieve /&gt;\r\n    &lt;/target&gt;\r\n    &lt;target name=&quot;copy-resources&quot; depends=&quot;resolve-dependencies&quot; description=&quot;--&gt; Copy resources to build directory&quot;&gt;\r\n        &lt;copy todir=&quot;${build.dir}&quot;&gt;\r\n            &lt;path refid=&quot;assets&quot;/&gt;\r\n        &lt;/copy&gt;\r\n        &lt;copy todir=&quot;${build.dir}/lib&quot;&gt;\r\n            &lt;path refid=&quot;classpath&quot;/&gt;\r\n        &lt;/copy&gt;\r\n    &lt;/target&gt;\r\n    &lt;target name=&quot;compile&quot; depends=&quot;copy-resources&quot; description=&quot;--&gt; Compile source files&quot;&gt;\r\n        &lt;javac srcdir=&quot;${src.dir}&quot; destdir=&quot;${build.dir}&quot; includeantruntime=&quot;false&quot;&gt;\r\n            &lt;classpath&gt;\r\n                &lt;pathelement location=&quot;${build.dir}&quot;/&gt;\r\n                &lt;path refid=&quot;classpath&quot;/&gt;\r\n            &lt;/classpath&gt;\r\n        &lt;/javac&gt;\r\n    &lt;/target&gt;\r\n    &lt;target name=&quot;jar&quot; depends=&quot;compile&quot; description=&quot;--&gt; Create distribution&quot;&gt;\r\n        &lt;jar destfile=&quot;${dist.dir}/SwingBank.jar&quot; basedir=&quot;${build.dir}&quot;&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main.class}&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n        &lt;/jar&gt;\r\n    &lt;/target&gt;\r\n```\r\n\r\n2. Here is the run configuration in run.xml: \r\n\r\n```xml\r\n    &lt;target name=&quot;run&quot; description=&quot;--&gt; runs the project&quot;&gt;\r\n        &lt;java jar=&quot;${dist.dir}/SwingBank.jar&quot; fork=&quot;true&quot; failonerror=&quot;true&quot; maxmemory=&quot;128m&quot;/&gt;\r\n    &lt;/target&gt;\r\n```\r\n\r\n## Error: \r\nThis is the error:\r\n\r\n```sh\r\n$&gt; ant -f run.xml\r\nANT_OPTS is set to  -Djava.security.manager=allow\r\nBuildfile: D:\\Programs\\Java\\Projects\\Swing Bank\\run.xml\r\n\r\nrun:\r\n     [java] Error: Unable to initialize main class swing.bank.SignUp\r\n     [java] Caused by: java.lang.NoClassDefFoundError: com/toedter/calendar/JDateChooser\r\n\r\nBUILD FAILED\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/pogUJ.png\r\n\r\n[GitHub Link to the project](https://github.com/warmachine028/Swing-Bank)","title":"How to run a jar file using ant and set the dependencies?","body":"<h2>Problem Description</h2>\n<ol>\n<li>I am trying to build a jar file of a Java Swing project using ant command</li>\n<li>The jar file is successfully created but when running, it can't resolve the dependencies somehow and giving the below error.</li>\n</ol>\n<h2>Attempts</h2>\n<ol>\n<li>Reinstalling ivy, ant and downloading the dependencies.</li>\n<li>I have tried changing the classpath multiple times while compiling the project.</li>\n<li>Also copied the lib folder in the jar file.</li>\n<li>Tried taking help from ChatGPT, but neither of the solutions worked.</li>\n</ol>\n<p>Here's the file structure:</p>\n<p><a href=\"https://i.stack.imgur.com/pogUJ.png\" rel=\"nofollow noreferrer\">Folder structure</a></p>\n<h2>Code Structure</h2>\n<ol>\n<li>Here is the important portion of build.xml</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>    ...\n    &lt;property name=&quot;main.class&quot; value=&quot;swing.bank.SignUp&quot;/&gt;\n    &lt;target name=&quot;init&quot; depends=&quot;clean&quot; description=&quot;--&gt; create directories&quot;&gt;\n        &lt;mkdir dir=&quot;${build.dir}&quot;/&gt;\n        &lt;mkdir dir=&quot;${dist.dir}&quot;/&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;resolve-dependencies&quot; depends=&quot;init&quot; description=&quot;--&gt; retrieve dependencies with Ivy&quot;&gt;\n        &lt;ivy:retrieve /&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;copy-resources&quot; depends=&quot;resolve-dependencies&quot; description=&quot;--&gt; Copy resources to build directory&quot;&gt;\n        &lt;copy todir=&quot;${build.dir}&quot;&gt;\n            &lt;path refid=&quot;assets&quot;/&gt;\n        &lt;/copy&gt;\n        &lt;copy todir=&quot;${build.dir}/lib&quot;&gt;\n            &lt;path refid=&quot;classpath&quot;/&gt;\n        &lt;/copy&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;compile&quot; depends=&quot;copy-resources&quot; description=&quot;--&gt; Compile source files&quot;&gt;\n        &lt;javac srcdir=&quot;${src.dir}&quot; destdir=&quot;${build.dir}&quot; includeantruntime=&quot;false&quot;&gt;\n            &lt;classpath&gt;\n                &lt;pathelement location=&quot;${build.dir}&quot;/&gt;\n                &lt;path refid=&quot;classpath&quot;/&gt;\n            &lt;/classpath&gt;\n        &lt;/javac&gt;\n    &lt;/target&gt;\n    &lt;target name=&quot;jar&quot; depends=&quot;compile&quot; description=&quot;--&gt; Create distribution&quot;&gt;\n        &lt;jar destfile=&quot;${dist.dir}/SwingBank.jar&quot; basedir=&quot;${build.dir}&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;${main.class}&quot;/&gt;\n            &lt;/manifest&gt;\n        &lt;/jar&gt;\n    &lt;/target&gt;\n</code></pre>\n<ol start=\"2\">\n<li>Here is the run configuration in run.xml:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;target name=&quot;run&quot; description=&quot;--&gt; runs the project&quot;&gt;\n        &lt;java jar=&quot;${dist.dir}/SwingBank.jar&quot; fork=&quot;true&quot; failonerror=&quot;true&quot; maxmemory=&quot;128m&quot;/&gt;\n    &lt;/target&gt;\n</code></pre>\n<h2>Error:</h2>\n<p>This is the error:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>$&gt; ant -f run.xml\nANT_OPTS is set to  -Djava.security.manager=allow\nBuildfile: D:\\Programs\\Java\\Projects\\Swing Bank\\run.xml\n\nrun:\n     [java] Error: Unable to initialize main class swing.bank.SignUp\n     [java] Caused by: java.lang.NoClassDefFoundError: com/toedter/calendar/JDateChooser\n\nBUILD FAILED\n</code></pre>\n<p><a href=\"https://github.com/warmachine028/Swing-Bank\" rel=\"nofollow noreferrer\">GitHub Link to the project</a></p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1683993070,"post_id":76243049,"comment_id":134453034,"body_markdown":"If you want the `JOptionPane` to appear over a particular [JComponent](https://docs.oracle.com/javase/tutorial/uiswing/components/jcomponent.html), simply replace `frame` with the relevant `JComponent` as the first parameter in call to `showConfirmDialog` method. If that&#39;s not what you want, then consider posting a [mcve] and stating where, exactly, you want the `JOptionPane` to appear.","body":"If you want the <code>JOptionPane</code> to appear over a particular <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/jcomponent.html\" rel=\"nofollow noreferrer\">JComponent</a>, simply replace <code>frame</code> with the relevant <code>JComponent</code> as the first parameter in call to <code>showConfirmDialog</code> method. If that&#39;s not what you want, then consider posting a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and stating where, exactly, you want the <code>JOptionPane</code> to appear."}],"answers":[{"tags":[],"owner":{"account_id":26654780,"reputation":5,"user_id":20268479,"display_name":"Lucifer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683992676,"creation_date":1683992676,"answer_id":76243609,"question_id":76243049,"body_markdown":"There is no parameter you can use to set JOptionPane location, but you can use parent component with specified location, for example JDialog:\r\n```\r\nJDialog dialog = new JDialog();\r\n\r\ndialog.setLocation(20, 50);\r\n\r\ndialog.setVisible(true);\r\n\r\nJOptionPane.showMessageDialog(dialog, &quot;Message&quot;, &quot;Msg&quot;, JOptionPane.INFORMATION_MESSAGE);\r\n```\r\nUnfortunately if parent component is not visible JOptionPane will appear in the center of the screen. Of course you can make JDialog object unvisible immediately after showing message dialog, but i think this code can not be named a clean code. \r\n\r\n","title":"How can I put JOptionPane in a specific point in the frame?","body":"<p>There is no parameter you can use to set JOptionPane location, but you can use parent component with specified location, for example JDialog:</p>\n<pre><code>JDialog dialog = new JDialog();\n\ndialog.setLocation(20, 50);\n\ndialog.setVisible(true);\n\nJOptionPane.showMessageDialog(dialog, &quot;Message&quot;, &quot;Msg&quot;, JOptionPane.INFORMATION_MESSAGE);\n</code></pre>\n<p>Unfortunately if parent component is not visible JOptionPane will appear in the center of the screen. Of course you can make JDialog object unvisible immediately after showing message dialog, but i think this code can not be named a clean code.</p>\n"}],"owner":{"account_id":20256485,"reputation":1,"user_id":14856151,"display_name":"lol3"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684016406,"creation_date":1683985552,"question_id":76243049,"body_markdown":"How can I put this `showConfirmdDialog` in a specific point and not in the middle of the frame?\r\n\r\n    int response = JOptionPane.showConfirmDialog(frame,\r\n                                                 &quot;Continue?&quot;,\r\n                                                 &quot;Do you want to continue?&quot;,\r\n                                                 JOptionPane.YES_NO_OPTION);\r\n    if (choice == JOptionPane.NO_OPTION) {\r\n        break;\r\n    }\r\n    else {\r\n        model.setRowCount(0); \r\n    }\r\n                \r\nI tried with `setLocation()` but didn&#39;t manage to work.\r\n","title":"How can I put JOptionPane in a specific point in the frame?","body":"<p>How can I put this <code>showConfirmdDialog</code> in a specific point and not in the middle of the frame?</p>\n<pre><code>int response = JOptionPane.showConfirmDialog(frame,\n                                             &quot;Continue?&quot;,\n                                             &quot;Do you want to continue?&quot;,\n                                             JOptionPane.YES_NO_OPTION);\nif (choice == JOptionPane.NO_OPTION) {\n    break;\n}\nelse {\n    model.setRowCount(0); \n}\n            \n</code></pre>\n<p>I tried with <code>setLocation()</code> but didn't manage to work.</p>\n"},{"tags":["java","spring-boot","maven","jaxb","java-17"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1684017252,"post_id":76245086,"comment_id":134455698,"body_markdown":"Does this answer your question? [javax.xml.bind.JAXBException Implementation of JAXB-API has not been found on module path or classpath](https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51916221/javax-xml-bind-jaxbexception-implementation-of-jaxb-api-has-not-been-found-on-mo\">javax.xml.bind.JAXBException Implementation of JAXB-API has not been found on module path or classpath</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684031924,"post_id":76245086,"comment_id":134456471,"body_markdown":"Please use full names for products.","body":"Please use full names for products."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1684056560,"post_id":76245086,"comment_id":134458280,"body_markdown":"You are mixing several versions spring boot 3.0.2 and spring-security-oauth2 (2.X) that&#39;s simply wrong... if you define spring boot parent you should not define any of those manually only if you are 100% sure what you are doing... also for using the spring boot bom (spring-boot-dependencies)....also things like javax.servlet and jakarta.servlet... starting with spring boot 3. jakarta is the way to go... please check the documentation for Spring boot in particular the release notes for spring boot 3.X etc...also things like org.springframework.retry are complete form different versions..","body":"You are mixing several versions spring boot 3.0.2 and spring-security-oauth2 (2.X) that&#39;s simply wrong... if you define spring boot parent you should not define any of those manually only if you are 100% sure what you are doing... also for using the spring boot bom (spring-boot-dependencies)....also things like javax.servlet and jakarta.servlet... starting with spring boot 3. jakarta is the way to go... please check the documentation for Spring boot in particular the release notes for spring boot 3.X etc...also things like org.springframework.retry are complete form different versions.."},{"owner":{"account_id":7796848,"reputation":198,"user_id":5897631,"display_name":"Harsh Raj"},"score":0,"creation_date":1699518310,"post_id":76245086,"comment_id":136542676,"body_markdown":"@amit Where you able to fix this? Running into exact same issue...","body":"@amit Where you able to fix this? Running into exact same issue..."}],"owner":{"account_id":12262773,"reputation":11,"user_id":8949998,"display_name":"amit mannur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3022,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684016319,"creation_date":1684016180,"question_id":76245086,"body_markdown":"I have java 17 and Spring boot 3.0.2 , \r\n\r\ni have following error when bringing up application \r\n\r\nCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n\tat javax.xml.bind.ContextFinder.find(ContextFinder.java:421) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n\tat org.springframework.security.oauth2.http.converter.jaxb.AbstractJaxbMessageConverter.&lt;init&gt;(AbstractJaxbMessageConverter.java:59) ~[spring-security-oauth2-2.5.1.RELEASE.jar:na]\r\n\t... 60 common frames omitted\r\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\r\n\tat javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n\tat javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276) ~[jaxb-api-2.3.1.jar:2.3.0]\r\n\r\n\r\n\r\nmy pom file \r\n\r\n\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.pivotal.spring.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cloudfoundry-certificate-truster&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;1.9.9.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-ws-support&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.javassist&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javassist&lt;/artifactId&gt;\r\n            &lt;version&gt;3.23.1-GA&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ant&lt;/artifactId&gt;\r\n            &lt;version&gt;1.10.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.auth0&lt;/groupId&gt;\r\n            &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\r\n            &lt;version&gt;3.19.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.data.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.cloudbees&lt;/groupId&gt;\r\n            &lt;artifactId&gt;syslog-java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;!-- HTML Sanitizer --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\r\n            &lt;version&gt;20220608.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.20.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n\r\n\r\n\r\n\r\n2023-05-13T15:11:05.892-07:00  WARN 36599 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration&#39;: Unsatisfied dependency expressed through method &#39;setFilterChains&#39; parameter 0: Error creating bean with name &#39;filterChain&#39; defined in class path resource [com/package/framework//WebSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method &#39;filterChain&#39; threw exception with message: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n - with linked exception:\r\n[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]\r\n2023-05-13T15:11:05.899-07:00  INFO 36599 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2023-05-13T15:11:05.928-07:00  INFO 36599 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : \r\n\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.","title":"java 17 sb 3.0.2 , issue with java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory","body":"<p>I have java 17 and Spring boot 3.0.2 ,</p>\n<p>i have following error when bringing up application</p>\n<p>Caused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278) ~[jaxb-api-2.3.1.jar:2.3.0]\nat javax.xml.bind.ContextFinder.find(ContextFinder.java:421) ~[jaxb-api-2.3.1.jar:2.3.0]\nat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.1.jar:2.3.0]\nat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.1.jar:2.3.0]\nat org.springframework.security.oauth2.http.converter.jaxb.AbstractJaxbMessageConverter.(AbstractJaxbMessageConverter.java:59) ~[spring-security-oauth2-2.5.1.RELEASE.jar:na]\n... 60 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\nat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\nat java.base/java.lang.Class.forName(Class.java:467) ~[na:na]\nat org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.0.2.jar:3.0.2]\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520) ~[na:na]\nat javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122) ~[jaxb-api-2.3.1.jar:2.3.0]\nat javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155) ~[jaxb-api-2.3.1.jar:2.3.0]\nat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276) ~[jaxb-api-2.3.1.jar:2.3.0]</p>\n<p>my pom file</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.pivotal.spring.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;cloudfoundry-certificate-truster&lt;/artifactId&gt;\n        &lt;version&gt;1.0.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.retry&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-retry&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n        &lt;version&gt;1.9.9.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web-services&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-ws-support&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n        &lt;version&gt;6.0.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.javassist&lt;/groupId&gt;\n        &lt;artifactId&gt;javassist&lt;/artifactId&gt;\n        &lt;version&gt;3.23.1-GA&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.ant&lt;/groupId&gt;\n        &lt;artifactId&gt;ant&lt;/artifactId&gt;\n        &lt;version&gt;1.10.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.auth0&lt;/groupId&gt;\n        &lt;artifactId&gt;java-jwt&lt;/artifactId&gt;\n        &lt;version&gt;3.19.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-data-redis&lt;/artifactId&gt;\n        &lt;version&gt;${spring.data.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n        &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.cloudbees&lt;/groupId&gt;\n        &lt;artifactId&gt;syslog-java-client&lt;/artifactId&gt;\n        &lt;version&gt;1.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-ri&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n    \n    &lt;!-- HTML Sanitizer --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.googlecode.owasp-java-html-sanitizer&lt;/groupId&gt;\n        &lt;artifactId&gt;owasp-java-html-sanitizer&lt;/artifactId&gt;\n        &lt;version&gt;20220608.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;version&gt;6.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n        &lt;version&gt;2.5.1.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>2023-05-13T15:11:05.892-07:00  WARN 36599 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'filterChain' defined in class path resource [com/package/framework//WebSecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'filterChain' threw exception with message: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.</p>\n<ul>\n<li>with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]\n2023-05-13T15:11:05.899-07:00  INFO 36599 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2023-05-13T15:11:05.928-07:00  INFO 36599 --- [  restartedMain] .s.b.a.l.ConditionEvaluationReportLogger :</li>\n</ul>\n<p>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.</p>\n"},{"tags":["java","inheritance","abstract-class","abstract","abstraction"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1491106562,"post_id":43164573,"comment_id":73403704,"body_markdown":"You aren&#39;t using `whatever`.","body":"You aren&#39;t using <code>whatever</code>."},{"owner":{"account_id":3728723,"reputation":534,"user_id":3101811,"accept_rate":90,"display_name":"Will_Panda"},"score":1,"creation_date":1491106593,"post_id":43164573,"comment_id":73403712,"body_markdown":"You have to extend from whatever to use it.","body":"You have to extend from whatever to use it."},{"owner":{"account_id":10579735,"reputation":1203,"user_id":7794032,"accept_rate":50,"display_name":"Asma Rahim Ali Jafri"},"score":0,"creation_date":1491107556,"post_id":43164573,"comment_id":73403849,"body_markdown":"@HovercraftFullOfEels I was trying to see if it is possible to use abstraction without extending from the abstract class","body":"@HovercraftFullOfEels I was trying to see if it is possible to use abstraction without extending from the abstract class"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1491107594,"post_id":43164573,"comment_id":73403851,"body_markdown":"OK, the answer to that question is: &quot;no&quot;.","body":"OK, the answer to that question is: &quot;no&quot;."},{"owner":{"account_id":10579735,"reputation":1203,"user_id":7794032,"accept_rate":50,"display_name":"Asma Rahim Ali Jafri"},"score":0,"creation_date":1491107672,"post_id":43164573,"comment_id":73403858,"body_markdown":"@Will_Panda i dont want to declare all the methods from the abstract class &quot;whatever&quot; in it&#39;s inherited class. How can i declare each method separately in a different class? Do i have to use hierarchical inheritance for that?","body":"@Will_Panda i dont want to declare all the methods from the abstract class &quot;whatever&quot; in it&#39;s inherited class. How can i declare each method separately in a different class? Do i have to use hierarchical inheritance for that?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1491107677,"post_id":43164573,"comment_id":73403859,"body_markdown":"The very nature of the question suggests that you need to review basic tutorials or textbook chapters on object-oriented programming as done with Java. You won&#39;t regret doing this.","body":"The very nature of the question suggests that you need to review basic tutorials or textbook chapters on object-oriented programming as done with Java. You won&#39;t regret doing this."},{"owner":{"account_id":10579735,"reputation":1203,"user_id":7794032,"accept_rate":50,"display_name":"Asma Rahim Ali Jafri"},"score":0,"creation_date":1491107719,"post_id":43164573,"comment_id":73403866,"body_markdown":"@ElliottFrisch i cant use whatever cause its abstract","body":"@ElliottFrisch i cant use whatever cause its abstract"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1491107773,"post_id":43164573,"comment_id":73403875,"body_markdown":"??? Yes you **can** use whatever because it is abstract -- you extend a concrete class from it.","body":"??? Yes you <b>can</b> use whatever because it is abstract -- you extend a concrete class from it."},{"owner":{"account_id":10579735,"reputation":1203,"user_id":7794032,"accept_rate":50,"display_name":"Asma Rahim Ali Jafri"},"score":0,"creation_date":1491107985,"post_id":43164573,"comment_id":73403910,"body_markdown":"@HovercraftFullOfEels thank you so much","body":"@HovercraftFullOfEels thank you so much"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1491108148,"creation_date":1491108148,"answer_id":43164704,"question_id":43164573,"body_markdown":"You aren&#39;t using `whatever` (and Java naming conventions should be respected). The idea behind an `abstract` class (and *inheritance*) is that there is an interface contract. Let&#39;s examine it with a more practical example,\r\n\r\n\tabstract class Whatever {\r\n\t\tabstract void disp1();\r\n\r\n\t\tvoid disp2() {\r\n\t\t\tSystem.out.println(&quot;disp2&quot;);\r\n\t\t}\r\n\r\n\t\tvoid disp3() {\r\n\t\t\tSystem.out.println(&quot;disp3&quot;);\r\n\t\t}\r\n\t}\r\n\r\nThen make `What` extend it. Override two methods for demonstration (the annotation is a useful compile time safety check)\r\n\r\n\tclass What extends Whatever {\r\n\t\t@Override\r\n\t\tvoid disp1() {\r\n\t\t\tSystem.out.println(&quot;This is disp1&quot;);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tvoid disp2() {\r\n\t\t\tSystem.out.println(&quot;This is disp2&quot;);\r\n\t\t}\r\n\t}\r\n\r\nFinally, invoke methods on a `What` instance through the `Whatever` contract\r\n\r\n\tpublic static void main(String args[]) {\r\n\t\tWhatever obj = new What();\r\n\t\tobj.disp1();\r\n\t\tobj.disp2();\r\n\t\tobj.disp3();\r\n\t}\r\n\r\nWhich outputs\r\n\r\n    This is disp1\r\n    This is disp2\r\n    disp3\r\n\r\nNote that `What` is providing the implementation for `disp1` and `disp2` while `Whatever` provides `disp3`.","title":"abstraction can be done without inheritance? java","body":"<p>You aren't using <code>whatever</code> (and Java naming conventions should be respected). The idea behind an <code>abstract</code> class (and <em>inheritance</em>) is that there is an interface contract. Let's examine it with a more practical example,</p>\n\n<pre><code>abstract class Whatever {\n    abstract void disp1();\n\n    void disp2() {\n        System.out.println(\"disp2\");\n    }\n\n    void disp3() {\n        System.out.println(\"disp3\");\n    }\n}\n</code></pre>\n\n<p>Then make <code>What</code> extend it. Override two methods for demonstration (the annotation is a useful compile time safety check)</p>\n\n<pre><code>class What extends Whatever {\n    @Override\n    void disp1() {\n        System.out.println(\"This is disp1\");\n    }\n\n    @Override\n    void disp2() {\n        System.out.println(\"This is disp2\");\n    }\n}\n</code></pre>\n\n<p>Finally, invoke methods on a <code>What</code> instance through the <code>Whatever</code> contract</p>\n\n<pre><code>public static void main(String args[]) {\n    Whatever obj = new What();\n    obj.disp1();\n    obj.disp2();\n    obj.disp3();\n}\n</code></pre>\n\n<p>Which outputs</p>\n\n<pre><code>This is disp1\nThis is disp2\ndisp3\n</code></pre>\n\n<p>Note that <code>What</code> is providing the implementation for <code>disp1</code> and <code>disp2</code> while <code>Whatever</code> provides <code>disp3</code>.</p>\n"},{"tags":[],"owner":{"account_id":535619,"reputation":3374,"user_id":905033,"display_name":"Lew Bloch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1491108233,"creation_date":1491108233,"answer_id":43164711,"question_id":43164573,"body_markdown":"There is no relationship between your abstract class and your concrete class. Whatever your definition of &quot;abstraction&quot;, it actually represents a relationship between types. The `abstract` keyword does not _establish_ that relationship between classes, it _represents_ that relationship, and not by itself. The relationship needs to be extended from both sides.\r\n\r\n`abstract` is a declaration from one side about a promise that must be kept, for an inheriting type either to implement abstract methods or to ask for that promise from its inheriting types.\r\n\r\nThe other side makes the promise by being a class that inherits from the abstract type. Without inheritance, the concrete type loses the _is-a_ connection.\r\n\r\nYou will get the compiler error you&#39;re complaining about missing if you correct one major mistake you made. You failed to use the `@Override` annotation. _Always_ use the `@Override` annotation when you intend to override a method, or you will forever enjoy just the sort of bug you show here.","title":"abstraction can be done without inheritance? java","body":"<p>There is no relationship between your abstract class and your concrete class. Whatever your definition of \"abstraction\", it actually represents a relationship between types. The <code>abstract</code> keyword does not <em>establish</em> that relationship between classes, it <em>represents</em> that relationship, and not by itself. The relationship needs to be extended from both sides.</p>\n\n<p><code>abstract</code> is a declaration from one side about a promise that must be kept, for an inheriting type either to implement abstract methods or to ask for that promise from its inheriting types.</p>\n\n<p>The other side makes the promise by being a class that inherits from the abstract type. Without inheritance, the concrete type loses the <em>is-a</em> connection.</p>\n\n<p>You will get the compiler error you're complaining about missing if you correct one major mistake you made. You failed to use the <code>@Override</code> annotation. <em>Always</em> use the <code>@Override</code> annotation when you intend to override a method, or you will forever enjoy just the sort of bug you show here.</p>\n"},{"tags":[],"owner":{"account_id":18464025,"reputation":50,"user_id":13450749,"display_name":"Shaheer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635967500,"creation_date":1635967500,"answer_id":69830683,"question_id":43164573,"body_markdown":"I think what he meant was if we can implement abstract class&#39;s method without inheriting abstract class. \r\n\r\nYou might be thinking if we can do it with composition/association/aggregation relation.\r\n\r\nTo that, I will answer: NO because you can&#39;t create an object of abstract class as in these relations you have to make object or reference of the object.\r\n\r\nSo, the only way to implement abstract methods is through inheritance.","title":"abstraction can be done without inheritance? java","body":"<p>I think what he meant was if we can implement abstract class's method without inheriting abstract class.</p>\n<p>You might be thinking if we can do it with composition/association/aggregation relation.</p>\n<p>To that, I will answer: NO because you can't create an object of abstract class as in these relations you have to make object or reference of the object.</p>\n<p>So, the only way to implement abstract methods is through inheritance.</p>\n"},{"tags":[],"owner":{"account_id":6528960,"reputation":1668,"user_id":5050750,"display_name":"Amir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684016179,"creation_date":1684015872,"answer_id":76245073,"question_id":43164573,"body_markdown":"i think you are looking for some thing like my answer.\r\n\r\n\r\n    abstract class whatever {\r\n        abstract void disp1();\r\n    \r\n        abstract void disp2();\r\n    \r\n        abstract void disp3();\r\n    }\r\n    \r\n    public class threeClasses {\r\n    \r\n        public static void main(String args[]) {\r\n            whatever obj = new whatever() {\r\n                @Override\r\n                void disp1() {\r\n                    System.out.println(&quot;This is disp1&quot;);\r\n                }\r\n    \r\n                @Override\r\n                void disp2() {\r\n                    System.out.println(&quot;This is disp2&quot;);\r\n                }\r\n    \r\n                @Override\r\n                void disp3() {\r\n                    System.out.println(&quot;This is disp3&quot;);\r\n                }\r\n            };\r\n            obj.disp1();\r\n        }\r\n    }\r\n\r\nbut also in this example you are creating an object from `anonymous class` that is inherited from whatever.\r\n\r\nso i think your answer is abstraction can not be done without inheritance.","title":"abstraction can be done without inheritance? java","body":"<p>i think you are looking for some thing like my answer.</p>\n<pre><code>abstract class whatever {\n    abstract void disp1();\n\n    abstract void disp2();\n\n    abstract void disp3();\n}\n\npublic class threeClasses {\n\n    public static void main(String args[]) {\n        whatever obj = new whatever() {\n            @Override\n            void disp1() {\n                System.out.println(&quot;This is disp1&quot;);\n            }\n\n            @Override\n            void disp2() {\n                System.out.println(&quot;This is disp2&quot;);\n            }\n\n            @Override\n            void disp3() {\n                System.out.println(&quot;This is disp3&quot;);\n            }\n        };\n        obj.disp1();\n    }\n}\n</code></pre>\n<p>but also in this example you are creating an object from <code>anonymous class</code> that is inherited from whatever.</p>\n<p>so i think your answer is abstraction can not be done without inheritance.</p>\n"}],"owner":{"account_id":10579735,"reputation":1203,"user_id":7794032,"accept_rate":50,"display_name":"Asma Rahim Ali Jafri"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":43164711,"answer_count":4,"score":-2,"last_activity_date":1684016179,"creation_date":1491106456,"question_id":43164573,"body_markdown":"Is abstraction possible without inheritance? This is my code\r\n\r\n         abstract class whatever\r\n    {\r\n    \tabstract void disp1();\r\n    \tabstract void disp2();\r\n    \tabstract void disp3();\r\n    }\r\n    \r\n     class what {\r\n    \t\r\n    \tvoid disp1()\r\n    \t{\r\n    \t\tSystem.out.println(&quot;This is disp1&quot;);\r\n    \t}\r\n    }\r\n    \r\n    \r\n    \r\n    public class threeClasses {\r\n    \t\r\n    \tpublic static void main (String args[])\r\n    \t{\r\n    \t\twhat obj =new what();\r\n    \t\tobj.disp1();\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nPlease note above, how i:\r\n\r\n 1. did not extend the class &quot;what&quot; from abstract class &quot;whatever&quot; and yet the code runs perfectly with no errors\r\n2. Did not declare class &quot;what&quot; as abstract (since it&#39;s not declaring the other two methods disp2() and disp3())\r\n\r\nI am very confused. Please help.\r\n","title":"abstraction can be done without inheritance? java","body":"<p>Is abstraction possible without inheritance? This is my code</p>\n\n<pre><code>     abstract class whatever\n{\n    abstract void disp1();\n    abstract void disp2();\n    abstract void disp3();\n}\n\n class what {\n\n    void disp1()\n    {\n        System.out.println(\"This is disp1\");\n    }\n}\n\n\n\npublic class threeClasses {\n\n    public static void main (String args[])\n    {\n        what obj =new what();\n        obj.disp1();\n\n    }\n\n}\n</code></pre>\n\n<p>Please note above, how i:</p>\n\n<ol>\n<li>did not extend the class \"what\" from abstract class \"whatever\" and yet the code runs perfectly with no errors\n\n<ol start=\"2\">\n<li>Did not declare class \"what\" as abstract (since it's not declaring the other two methods disp2() and disp3())</li>\n</ol></li>\n</ol>\n\n<p>I am very confused. Please help.</p>\n"},{"tags":["java","jms","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684013923,"creation_date":1684003972,"answer_id":76244404,"question_id":76234629,"body_markdown":"You&#39;re using the JMS API incorrectly. As noted in the JavaDoc both `setJMSPriority` and `setJMSExpiration` **cannot** be used by the client application. These are only to be used by the JMS provider itself. See [here][1] for priority:\r\n\r\n&gt; This method is for use by **JMS providers only** to set this field when a message is sent. This message **cannot be used by clients** to configure the priority level of the message. This method is public to allow a JMS provider to set this field when sending a message whose implementation is not its own.\r\n\r\nAnd [here][2] for expiration:\r\n\r\n&gt; This method is for use by **JMS providers only** to set this field when a message is sent. This message **cannot be used by clients** to configure the expiration time of the message. This method is public to allow a JMS provider to set this field when sending a message whose implementation is not its own.\r\n\r\nYou can use the [`setPriority(int)`][3] and [`setTimeToLive(long)`][4] methods of `MessageProducer` instead, e.g.:\r\n```java\r\npublic class SendMessageTest {\r\n    public static void main(String[] args) {\r\n        QueueConnection connection = null;\r\n        InitialContext initialContext = null;\r\n        try {\r\n            initialContext = new InitialContext();\r\n            QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(&quot;tcp://localhost:61616&quot;);\r\n            Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;exampleQueue&quot;);\r\n            connection = cf.createQueueConnection();\r\n            QueueSession session = connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\n            MessageProducer producer = session.createProducer(queue);\r\n            producer.setPriority(7);\r\n            producer.setTimeToLive(600000);\r\n            TextMessage message = session.createTextMessage(&quot;This is a text message&quot;);\r\n            message.setJMSCorrelationID(&quot;3445125584339&quot;);\r\n            message.setJMSReplyTo(queue);\r\n            producer.send(message);\r\n            System.out.println(&quot;Sent message: &quot; + message.getText());\r\n        } catch (NamingException | JMSException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#setJMSPriority-int-\r\n  [2]: https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#setJMSExpiration-long-\r\n  [3]: https://docs.oracle.com/javaee/7/api/javax/jms/MessageProducer.html#setPriority-int-\r\n  [4]: https://docs.oracle.com/javaee/7/api/javax/jms/MessageProducer.html#setTimeToLive-long-","title":"Why isn&#39;t JMSExpiration, JMSPriority set when sending a message to an ActiveMQ Artemis queue via JMS?","body":"<p>You're using the JMS API incorrectly. As noted in the JavaDoc both <code>setJMSPriority</code> and <code>setJMSExpiration</code> <strong>cannot</strong> be used by the client application. These are only to be used by the JMS provider itself. See <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#setJMSPriority-int-\" rel=\"nofollow noreferrer\">here</a> for priority:</p>\n<blockquote>\n<p>This method is for use by <strong>JMS providers only</strong> to set this field when a message is sent. This message <strong>cannot be used by clients</strong> to configure the priority level of the message. This method is public to allow a JMS provider to set this field when sending a message whose implementation is not its own.</p>\n</blockquote>\n<p>And <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/Message.html#setJMSExpiration-long-\" rel=\"nofollow noreferrer\">here</a> for expiration:</p>\n<blockquote>\n<p>This method is for use by <strong>JMS providers only</strong> to set this field when a message is sent. This message <strong>cannot be used by clients</strong> to configure the expiration time of the message. This method is public to allow a JMS provider to set this field when sending a message whose implementation is not its own.</p>\n</blockquote>\n<p>You can use the <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/MessageProducer.html#setPriority-int-\" rel=\"nofollow noreferrer\"><code>setPriority(int)</code></a> and <a href=\"https://docs.oracle.com/javaee/7/api/javax/jms/MessageProducer.html#setTimeToLive-long-\" rel=\"nofollow noreferrer\"><code>setTimeToLive(long)</code></a> methods of <code>MessageProducer</code> instead, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SendMessageTest {\n    public static void main(String[] args) {\n        QueueConnection connection = null;\n        InitialContext initialContext = null;\n        try {\n            initialContext = new InitialContext();\n            QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(&quot;tcp://localhost:61616&quot;);\n            Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;exampleQueue&quot;);\n            connection = cf.createQueueConnection();\n            QueueSession session = connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\n            MessageProducer producer = session.createProducer(queue);\n            producer.setPriority(7);\n            producer.setTimeToLive(600000);\n            TextMessage message = session.createTextMessage(&quot;This is a text message&quot;);\n            message.setJMSCorrelationID(&quot;3445125584339&quot;);\n            message.setJMSReplyTo(queue);\n            producer.send(message);\n            System.out.println(&quot;Sent message: &quot; + message.getText());\n        } catch (NamingException | JMSException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28568876,"reputation":127,"user_id":21871375,"display_name":"Vanish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76244404,"answer_count":1,"score":0,"last_activity_date":1684013923,"creation_date":1683881418,"question_id":76234629,"body_markdown":"I&#39;m sending a message to a queue with a priority of 7 and a lifetime of 600000 ms. And I do not understand why a message with a priority of 4 and a lifetime of never falls into the queue\r\n\r\nMessage sending class:\r\n```java\r\npublic class SendMessageTest {\r\n    public static void main(String[] args) {\r\n        QueueConnection connection = null;\r\n        InitialContext initialContext = null;\r\n        try {\r\n            initialContext = new InitialContext();\r\n            QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(&quot;tcp://localhost:61616&quot;);\r\n            Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;exampleQueue&quot;);\r\n            connection = cf.createQueueConnection();\r\n            QueueSession session = connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\n            MessageProducer producer = session.createProducer(queue);\r\n            TextMessage message = session.createTextMessage(&quot;This is a text message&quot;);\r\n            message.setJMSCorrelationID(&quot;3445125584339&quot;);\r\n            message.setJMSReplyTo(queue);\r\n            message.setJMSPriority(7);\r\n            message.setJMSExpiration(600000);\r\n            System.out.println(&quot;Sent message: &quot; + message.getText());\r\n            producer.send(message);\r\n\r\n        } catch (NamingException | JMSException e) {\r\n            System.out.println(e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\nThe message that arrives in the queue:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RT6cT.png","title":"Why isn&#39;t JMSExpiration, JMSPriority set when sending a message to an ActiveMQ Artemis queue via JMS?","body":"<p>I'm sending a message to a queue with a priority of 7 and a lifetime of 600000 ms. And I do not understand why a message with a priority of 4 and a lifetime of never falls into the queue</p>\n<p>Message sending class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SendMessageTest {\n    public static void main(String[] args) {\n        QueueConnection connection = null;\n        InitialContext initialContext = null;\n        try {\n            initialContext = new InitialContext();\n            QueueConnectionFactory cf = new ActiveMQQueueConnectionFactory(&quot;tcp://localhost:61616&quot;);\n            Queue queue = (Queue) initialContext.lookup(&quot;dynamicQueues/&quot; + &quot;exampleQueue&quot;);\n            connection = cf.createQueueConnection();\n            QueueSession session = connection.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\n            MessageProducer producer = session.createProducer(queue);\n            TextMessage message = session.createTextMessage(&quot;This is a text message&quot;);\n            message.setJMSCorrelationID(&quot;3445125584339&quot;);\n            message.setJMSReplyTo(queue);\n            message.setJMSPriority(7);\n            message.setJMSExpiration(600000);\n            System.out.println(&quot;Sent message: &quot; + message.getText());\n            producer.send(message);\n\n        } catch (NamingException | JMSException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>The message that arrives in the queue:\n<a href=\"https://i.stack.imgur.com/RT6cT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RT6cT.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","swing","jtable"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":4,"creation_date":1684014868,"post_id":76243880,"comment_id":134455523,"body_markdown":"A JTable is NOT the proper component to use for a game. Do [Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) on a JPanel.","body":"A JTable is NOT the proper component to use for a game. Do <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Custom Painting</a> on a JPanel."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684013358,"creation_date":1684012230,"answer_id":76244891,"question_id":76243880,"body_markdown":"# Introduction\r\n\r\nI&#39;d still create a drawing `JPanel` and draw the boxes rather than bastardize a `JTable` like this.\r\n\r\nIt took me a while, but I modified the code you posted enough to create the following GUI:\r\n\r\n[![Table 1][1]][1]\r\n\r\nWhen you expand the frame, the GUI looks like this:\r\n\r\n[![Table 2][2]][2]\r\n\r\n# Explanation\r\n\r\nOracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html).\r\n\r\nI modified your code to use a `JFrame`, `JPanel`, and `JTable`, rather than extend anything.  This gave me more flexibility, allowed me to separate my concerns, and focus on one part of the GUI at a time.\r\n\r\nThe `JPanel` uses a `BorderLayout`.  By adjusting the margins of an empty border, I was able to center the `JTable` in the `JPanel`.\r\n\r\nWhen constructing the `JPanel` and the `JTable`, I had to calculate the size of the `JTable` and `JPanel` before I could construct the GUI.  This is why the `JPanel` has a size calculation method and the `ComponentAdapter` has a separate size calculation.\r\n\r\nI created a separate `ComponentAdapter` class just so I could get the code out of the `JPanel` class.\r\n\r\n# Code\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.Dimension;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ComponentAdapter;\r\n    import java.awt.event.ComponentEvent;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JTable;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.border.Border;\r\n    import javax.swing.table.AbstractTableModel;\r\n    import javax.swing.table.TableColumn;\r\n    \r\n    public class JTableLayout {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new Runnable() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tnew JTableLayout(&quot;Table&quot;);\r\n    \t\t\t}\r\n    \t\t});\r\n    \t}\r\n    \r\n    \tprivate JTable table;\r\n    \r\n    \tJTableLayout(String title) {\r\n    \t\tBoard board = new Board(36, 28);\r\n    \r\n    \t\tJFrame frame = new JFrame(title);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \r\n    \t\tframe.add(new BoardView(board).getPanel(), BorderLayout.CENTER);\r\n    \r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \r\n    \tpublic class BoardView {\r\n    \r\n    \t\tprivate Board board;\r\n    \r\n    \t\tprivate JPanel panel;\r\n    \r\n    \t\tpublic BoardView(Board board) {\r\n    \t\t\tthis.board = board;\r\n    \t\t\tthis.panel = createJTablePanel();\r\n    \t\t}\r\n    \r\n    \t\tprivate JPanel createJTablePanel() {\r\n    \t\t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \r\n    \t\t\ttable = new JTable(board);\r\n    \t\t\ttable.setTableHeader(null);\r\n    \t\t\ttable.setBackground(Color.WHITE);\r\n    \t\t\ttable.setPreferredSize(calculateBoardDimension(table));\r\n    \t\t\tpanel.add(table);\r\n    \r\n    \t\t\tpanel.addComponentListener(new PanelListener(table, board));\r\n    \t\t\treturn panel;\r\n    \t\t}\r\n    \r\n    \t\tprivate Dimension calculateBoardDimension(JTable table) {\r\n    \t\t\tint totalHeight = table.getRowHeight() * board.getRowCount();\r\n    \t\t\tint totalWidth = table.getRowHeight() * board.getColumnCount();\r\n    \t\t\tfor (int i = 0; i &lt; table.getColumnCount(); i++) {\r\n    \t\t\t\tTableColumn column = table.getColumnModel().getColumn(i);\r\n    \t\t\t\tcolumn.setMaxWidth(table.getRowHeight());\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn new Dimension(totalWidth, totalHeight);\r\n    \t\t}\r\n    \r\n    \t\tpublic JPanel getPanel() {\r\n    \t\t\treturn panel;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class PanelListener extends ComponentAdapter {\r\n    \r\n    \t\tprivate Board board;\r\n    \r\n    \t\tprivate JTable table;\r\n    \r\n    \t\tpublic PanelListener(JTable table, Board board) {\r\n    \t\t\tthis.table = table;\r\n    \t\t\tthis.board = board;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void componentResized(ComponentEvent event) {\r\n    \t\t\tJPanel panel = (JPanel) event.getSource();\r\n    \t\t\tDimension d = panel.getSize();\r\n    \t\t\tint height = d.height / board.getRowCount();\r\n    \t\t\tint width = d.width / board.getColumnCount();\r\n    \r\n    \t\t\tboolean widthLarger = true;\r\n    \t\t\tint size = height;\r\n    \t\t\tif (size &gt; width) {\r\n    \t\t\t\tsize = width;\r\n    \t\t\t\twidthLarger = false;\r\n    \t\t\t}\r\n    \r\n    \t\t\tfor (int i = 0; i &lt; table.getColumnCount(); i++) {\r\n    \t\t\t\tTableColumn column = table.getColumnModel().getColumn(i);\r\n    \t\t\t\tcolumn.setMaxWidth(size);\r\n    \t\t\t}\r\n    \r\n    \t\t\ttable.setRowHeight(size);\r\n    \r\n    \t\t\tBorder border = panel.getBorder();\r\n    \t\t\tInsets insets = (Insets) border.getBorderInsets(panel);\r\n    \t\t\tif (widthLarger) {\r\n    \t\t\t\tint boardWidth = board.getColumnCount() * size;\r\n    \t\t\t\tint margin = (d.width - boardWidth) / 2;\r\n    \t\t\t\tpanel.setBorder(BorderFactory.createEmptyBorder(insets.top,\r\n    \t\t\t\t\t\tmargin, insets.bottom, margin));\r\n    \t\t\t} else {\r\n    \t\t\t\tint boardHeight = board.getRowCount() * size;\r\n    \t\t\t\tint margin = (d.height - boardHeight) / 2;\r\n    \t\t\t\tpanel.setBorder(BorderFactory.createEmptyBorder(margin,\r\n    \t\t\t\t\t\tinsets.left, margin, insets.right));\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t}\r\n    \r\n    \tpublic class Board extends AbstractTableModel {\r\n    \r\n    \t\tprivate static final long serialVersionUID = 1L;\r\n    \r\n    \t\tprivate int rows;\r\n    \t\tprivate int columns;\r\n    \t\tprivate int[][] boardData;\r\n    \r\n    \t\tpublic Board(int rows, int columns) {\r\n    \t\t\tthis.rows = rows;\r\n    \t\t\tthis.columns = columns;\r\n    \t\t\tthis.boardData = new int[rows][columns];\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int getRowCount() {\r\n    \t\t\treturn rows;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic int getColumnCount() {\r\n    \t\t\treturn columns;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic Object getValueAt(int rowIndex, int columnIndex) {\r\n    \t\t\treturn boardData[rowIndex][columnIndex];\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic void setValueAt(Object value, int rowIndex, int columnIndex) {\r\n    \t\t\tboardData[rowIndex][columnIndex] = (int) value;\r\n    \t\t\tfireTableCellUpdated(rowIndex, columnIndex);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UAcyZ.png\r\n  [2]: https://i.stack.imgur.com/fxbuE.png\r\n","title":"How to center table cells and remove a gap near the java swing JTable?","body":"<h1>Introduction</h1>\n<p>I'd still create a drawing <code>JPanel</code> and draw the boxes rather than bastardize a <code>JTable</code> like this.</p>\n<p>It took me a while, but I modified the code you posted enough to create the following GUI:</p>\n<p><a href=\"https://i.stack.imgur.com/UAcyZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UAcyZ.png\" alt=\"Table 1\" /></a></p>\n<p>When you expand the frame, the GUI looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/fxbuE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fxbuE.png\" alt=\"Table 2\" /></a></p>\n<h1>Explanation</h1>\n<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.</p>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>I modified your code to use a <code>JFrame</code>, <code>JPanel</code>, and <code>JTable</code>, rather than extend anything.  This gave me more flexibility, allowed me to separate my concerns, and focus on one part of the GUI at a time.</p>\n<p>The <code>JPanel</code> uses a <code>BorderLayout</code>.  By adjusting the margins of an empty border, I was able to center the <code>JTable</code> in the <code>JPanel</code>.</p>\n<p>When constructing the <code>JPanel</code> and the <code>JTable</code>, I had to calculate the size of the <code>JTable</code> and <code>JPanel</code> before I could construct the GUI.  This is why the <code>JPanel</code> has a size calculation method and the <code>ComponentAdapter</code> has a separate size calculation.</p>\n<p>I created a separate <code>ComponentAdapter</code> class just so I could get the code out of the <code>JPanel</code> class.</p>\n<h1>Code</h1>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I could post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.Insets;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JTable;\nimport javax.swing.SwingUtilities;\nimport javax.swing.border.Border;\nimport javax.swing.table.AbstractTableModel;\nimport javax.swing.table.TableColumn;\n\npublic class JTableLayout {\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new JTableLayout(&quot;Table&quot;);\n            }\n        });\n    }\n\n    private JTable table;\n\n    JTableLayout(String title) {\n        Board board = new Board(36, 28);\n\n        JFrame frame = new JFrame(title);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        frame.add(new BoardView(board).getPanel(), BorderLayout.CENTER);\n\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n\n    public class BoardView {\n\n        private Board board;\n\n        private JPanel panel;\n\n        public BoardView(Board board) {\n            this.board = board;\n            this.panel = createJTablePanel();\n        }\n\n        private JPanel createJTablePanel() {\n            JPanel panel = new JPanel(new BorderLayout());\n            panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n\n            table = new JTable(board);\n            table.setTableHeader(null);\n            table.setBackground(Color.WHITE);\n            table.setPreferredSize(calculateBoardDimension(table));\n            panel.add(table);\n\n            panel.addComponentListener(new PanelListener(table, board));\n            return panel;\n        }\n\n        private Dimension calculateBoardDimension(JTable table) {\n            int totalHeight = table.getRowHeight() * board.getRowCount();\n            int totalWidth = table.getRowHeight() * board.getColumnCount();\n            for (int i = 0; i &lt; table.getColumnCount(); i++) {\n                TableColumn column = table.getColumnModel().getColumn(i);\n                column.setMaxWidth(table.getRowHeight());\n            }\n\n            return new Dimension(totalWidth, totalHeight);\n        }\n\n        public JPanel getPanel() {\n            return panel;\n        }\n\n    }\n\n    public class PanelListener extends ComponentAdapter {\n\n        private Board board;\n\n        private JTable table;\n\n        public PanelListener(JTable table, Board board) {\n            this.table = table;\n            this.board = board;\n        }\n\n        @Override\n        public void componentResized(ComponentEvent event) {\n            JPanel panel = (JPanel) event.getSource();\n            Dimension d = panel.getSize();\n            int height = d.height / board.getRowCount();\n            int width = d.width / board.getColumnCount();\n\n            boolean widthLarger = true;\n            int size = height;\n            if (size &gt; width) {\n                size = width;\n                widthLarger = false;\n            }\n\n            for (int i = 0; i &lt; table.getColumnCount(); i++) {\n                TableColumn column = table.getColumnModel().getColumn(i);\n                column.setMaxWidth(size);\n            }\n\n            table.setRowHeight(size);\n\n            Border border = panel.getBorder();\n            Insets insets = (Insets) border.getBorderInsets(panel);\n            if (widthLarger) {\n                int boardWidth = board.getColumnCount() * size;\n                int margin = (d.width - boardWidth) / 2;\n                panel.setBorder(BorderFactory.createEmptyBorder(insets.top,\n                        margin, insets.bottom, margin));\n            } else {\n                int boardHeight = board.getRowCount() * size;\n                int margin = (d.height - boardHeight) / 2;\n                panel.setBorder(BorderFactory.createEmptyBorder(margin,\n                        insets.left, margin, insets.right));\n            }\n        }\n\n    }\n\n    public class Board extends AbstractTableModel {\n\n        private static final long serialVersionUID = 1L;\n\n        private int rows;\n        private int columns;\n        private int[][] boardData;\n\n        public Board(int rows, int columns) {\n            this.rows = rows;\n            this.columns = columns;\n            this.boardData = new int[rows][columns];\n        }\n\n        @Override\n        public int getRowCount() {\n            return rows;\n        }\n\n        @Override\n        public int getColumnCount() {\n            return columns;\n        }\n\n        @Override\n        public Object getValueAt(int rowIndex, int columnIndex) {\n            return boardData[rowIndex][columnIndex];\n        }\n\n        @Override\n        public void setValueAt(Object value, int rowIndex, int columnIndex) {\n            boardData[rowIndex][columnIndex] = (int) value;\n            fireTableCellUpdated(rowIndex, columnIndex);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28595140,"reputation":3,"user_id":21893484,"display_name":"stov.ft"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76244891,"answer_count":1,"score":0,"last_activity_date":1684013358,"creation_date":1683996352,"question_id":76243880,"body_markdown":"The JTable is expected to be the implementation of the Pac-Man game board, therefore the cells of the table are squared. The scalability of the table should also be considered. The problem is that if in the JPanel I use BorderLayout the table is scalable, but aligned to the left and when the BorderLayout is not passed to the JPanel constructor, the table is centered but not scalable. \r\n\r\n\r\n\r\n```\r\nimport javax.swing.*;\r\nimport javax.swing.table.AbstractTableModel;\r\nimport javax.swing.table.TableColumn;\r\nimport java.awt.*;\r\nimport java.awt.event.ComponentAdapter;\r\nimport java.awt.event.ComponentEvent;\r\n\r\npublic class Game extends JFrame {\r\n    public static void main(String[] args) {\r\n        new Game(&quot;Table&quot;);\r\n    }\r\n\r\n    Game(String title) {\r\n        super(title);\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        setLayout(new BorderLayout());\r\n\r\n        JPanel p = new JPanel(new BorderLayout());\r\n        p.setBackground(Color.BLACK);\r\n\r\n        BoardView b = new BoardView(new Board(36, 28));\r\n        p.add(b);\r\n        add(p);\r\n\r\n\r\n        pack();\r\n        setLocationRelativeTo(null);\r\n        setVisible(true);\r\n    }\r\n\r\n    public class BoardView extends JTable {\r\n        private Board board;\r\n\r\n        public BoardView(Board board) {\r\n            super(board);\r\n            this.board = board;\r\n\r\n            setTableHeader(null);\r\n            setBackground(Color.WHITE);\r\n\r\n            addComponentListener(new ComponentAdapter() {\r\n                @Override\r\n                public void componentResized(ComponentEvent e) {\r\n                    int size = Math.min(getHeight() / getRowCount(), getWidth() / getColumnCount());\r\n                    setRowHeight(size);\r\n                    for (int i = 0; i &lt; getColumnCount(); i++) {\r\n                        TableColumn column = getColumnModel().getColumn(i);\r\n                        column.setMaxWidth(size);\r\n                    }\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    public class Board extends AbstractTableModel {\r\n        private int rows;\r\n        private int columns;\r\n        private int[][] boardData;\r\n\r\n        public Board(int rows, int columns) {\r\n            this.rows = rows;\r\n            this.columns = columns;\r\n            this.boardData = new int[rows][columns];\r\n        }\r\n\r\n        @Override\r\n        public int getRowCount() {\r\n            return rows;\r\n        }\r\n\r\n        @Override\r\n        public int getColumnCount() {\r\n            return columns;\r\n        }\r\n\r\n        @Override\r\n        public Object getValueAt(int rowIndex, int columnIndex) {\r\n            return boardData[rowIndex][columnIndex];\r\n        }\r\n\r\n        @Override\r\n        public void setValueAt(Object value, int rowIndex, int columnIndex) {\r\n            boardData[rowIndex][columnIndex] = (int) value;\r\n            fireTableCellUpdated(rowIndex, columnIndex);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nCould someone please provide guidance on how to resolve this issue? ","title":"How to center table cells and remove a gap near the java swing JTable?","body":"<p>The JTable is expected to be the implementation of the Pac-Man game board, therefore the cells of the table are squared. The scalability of the table should also be considered. The problem is that if in the JPanel I use BorderLayout the table is scalable, but aligned to the left and when the BorderLayout is not passed to the JPanel constructor, the table is centered but not scalable.</p>\n<pre><code>import javax.swing.*;\nimport javax.swing.table.AbstractTableModel;\nimport javax.swing.table.TableColumn;\nimport java.awt.*;\nimport java.awt.event.ComponentAdapter;\nimport java.awt.event.ComponentEvent;\n\npublic class Game extends JFrame {\n    public static void main(String[] args) {\n        new Game(&quot;Table&quot;);\n    }\n\n    Game(String title) {\n        super(title);\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        setLayout(new BorderLayout());\n\n        JPanel p = new JPanel(new BorderLayout());\n        p.setBackground(Color.BLACK);\n\n        BoardView b = new BoardView(new Board(36, 28));\n        p.add(b);\n        add(p);\n\n\n        pack();\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    public class BoardView extends JTable {\n        private Board board;\n\n        public BoardView(Board board) {\n            super(board);\n            this.board = board;\n\n            setTableHeader(null);\n            setBackground(Color.WHITE);\n\n            addComponentListener(new ComponentAdapter() {\n                @Override\n                public void componentResized(ComponentEvent e) {\n                    int size = Math.min(getHeight() / getRowCount(), getWidth() / getColumnCount());\n                    setRowHeight(size);\n                    for (int i = 0; i &lt; getColumnCount(); i++) {\n                        TableColumn column = getColumnModel().getColumn(i);\n                        column.setMaxWidth(size);\n                    }\n                }\n            });\n\n        }\n    }\n\n    public class Board extends AbstractTableModel {\n        private int rows;\n        private int columns;\n        private int[][] boardData;\n\n        public Board(int rows, int columns) {\n            this.rows = rows;\n            this.columns = columns;\n            this.boardData = new int[rows][columns];\n        }\n\n        @Override\n        public int getRowCount() {\n            return rows;\n        }\n\n        @Override\n        public int getColumnCount() {\n            return columns;\n        }\n\n        @Override\n        public Object getValueAt(int rowIndex, int columnIndex) {\n            return boardData[rowIndex][columnIndex];\n        }\n\n        @Override\n        public void setValueAt(Object value, int rowIndex, int columnIndex) {\n            boardData[rowIndex][columnIndex] = (int) value;\n            fireTableCellUpdated(rowIndex, columnIndex);\n        }\n    }\n}\n\n</code></pre>\n<p>Could someone please provide guidance on how to resolve this issue?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7236580,"reputation":16350,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"score":2,"creation_date":1683995539,"post_id":76243762,"comment_id":134453350,"body_markdown":"Can you output the stacktrace of the error ?","body":"Can you output the stacktrace of the error ?"},{"owner":{"account_id":1866402,"reputation":407,"user_id":1689858,"accept_rate":71,"display_name":"Archange"},"score":0,"creation_date":1684004394,"post_id":76243762,"comment_id":134454424,"body_markdown":"I try not to mix `@Bean` and `@Autowired` for the same bean. In your case, add the DAO class as an argument into the Bean defintiion or Remove the bean declaration and add `@Service&#39;  in your OrderService","body":"I try not to mix <code>@Bean</code> and <code>@Autowired</code> for the same bean. In your case, add the DAO class as an argument into the Bean defintiion or Remove the bean declaration and add `@Service&#39;  in your OrderService"},{"owner":{"account_id":22230651,"reputation":13,"user_id":16466893,"display_name":"HC2102"},"score":0,"creation_date":1684030175,"post_id":76243762,"comment_id":134456386,"body_markdown":"@OlivierBoiss&#233; In the Inteliji, the Autowrite annotation noticed an error and it said that &quot;Autowired members must be defined in valid Spring bean (Component|Service|...) &quot;.\nMy project is still being able to build and run. but when I call the api, my browser displays a 500 error and a message: &quot;There was an unexpected error (type=Internal Server Error, status=500). Cannot invoke &quot;com.pdt.topic2validation.Services.OrderServiceI.getOrder()&quot; because &quot;this.service&quot; is null","body":"@OlivierBoiss&#233; In the Inteliji, the Autowrite annotation noticed an error and it said that &quot;Autowired members must be defined in valid Spring bean (Component|Service|...) &quot;. My project is still being able to build and run. but when I call the api, my browser displays a 500 error and a message: &quot;There was an unexpected error (type=Internal Server Error, status=500). Cannot invoke &quot;com.pdt.topic2validation.Services.OrderServiceI.getOrder()&quot; because &quot;this.service&quot; is null"},{"owner":{"account_id":22230651,"reputation":13,"user_id":16466893,"display_name":"HC2102"},"score":0,"creation_date":1684031336,"post_id":76243762,"comment_id":134456441,"body_markdown":"@Archange I tried to add the service annotation into the OrderService and comment out the bean declaration in the SpringConfig like you suggested but the browser still have an error:&quot;Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException:&quot;","body":"@Archange I tried to add the service annotation into the OrderService and comment out the bean declaration in the SpringConfig like you suggested but the browser still have an error:&quot;Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException:&quot;"},{"owner":{"account_id":1866402,"reputation":407,"user_id":1689858,"accept_rate":71,"display_name":"Archange"},"score":0,"creation_date":1684042801,"post_id":76243762,"comment_id":134457046,"body_markdown":"The autowired IS on th&#233; constrictor. Good practice then put th&#233; service as an constructor argument and assign it to the class property.","body":"The autowired IS on th&#233; constrictor. Good practice then put th&#233; service as an constructor argument and assign it to the class property."},{"owner":{"account_id":22230651,"reputation":13,"user_id":16466893,"display_name":"HC2102"},"score":0,"creation_date":1684110961,"post_id":76243762,"comment_id":134464289,"body_markdown":"@Archange thanks for your advice, I tried and it seem working now","body":"@Archange thanks for your advice, I tried and it seem working now"}],"owner":{"account_id":22230651,"reputation":13,"user_id":16466893,"display_name":"HC2102"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684013312,"creation_date":1683994886,"question_id":76243762,"body_markdown":"I&#39;m new to spring boot and there are many things to learn. I&#39;ve followed a tutorial on youtube and they teach how to create a DAO. My file structure looks like this.\r\n \r\n[![enter image description here][1]][1]\r\n\r\nThe problem is when I used @Autowrite to inject the DataAccessI into my OrderService, the @Autowrite annotation noticed e an error. It confused me because I did the same thing as the instructor said but it won&#39;t work. These are some snippet of my code, hope that makes my problem be more clear:\r\nOrderDAO\r\n\r\n```\r\n@Repository //specific kind of managed bean. useful when you doing data access\r\npublic class OrderDAO implements OrderAccessI {\r\n    List&lt;OrderModel&gt; orders = new ArrayList&lt;&gt;();\r\n\r\n    public OrderDAO() {\r\n        orders.add(new OrderModel(0L,&quot;000&quot;,&quot;Sky diving&quot;,15000f,1));\r\n        orders.add(new OrderModel(1L,&quot;001&quot;,&quot;Scuba diving&quot;,15000f,1));\r\n        orders.add(new OrderModel(2L,&quot;002&quot;,&quot;Shooting&quot;,15000f,1));\r\n        orders.add(new OrderModel(3L,&quot;003&quot;,&quot;Dying&quot;,15000f,1));\r\n    }\r\n\r\n    @Override\r\n    public OrderModel getbyId(long id) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;OrderModel&gt; getOrders() {\r\n        return orders;\r\n    }\r\n\r\n    @Override\r\n    public List&lt;OrderModel&gt; searchOrders(String searchTerm) {\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public long addOne(OrderModel newOrder) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public boolean deleteOne(long id) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public OrderModel updateOne(long idToUpdate, OrderModel updateOrder) {\r\n        return null;\r\n    }\r\n}\r\n```\r\nSpringConfig\r\n\r\n```\r\n@Configuration //this is a Configuration file which the project must follow\r\npublic class SpringConfig {\r\n    @Bean(name = &quot;OrderService&quot;, initMethod = &quot;init&quot;, destroyMethod = &quot;destroy&quot;)\r\n//    @RequestScope //live for only one page view\r\n    @SessionScope //live for one session\r\n    public OrderServiceI getOrderService() {\r\n        return new OrderService();\r\n    }\r\n}\r\n```\r\nOrderService\r\n\r\n```\r\npublic class OrderService implements OrderServiceI {\r\n\r\n    public OrderAccessI ordersDAO;\r\n\r\n    public OrderService() {\r\n    }\r\n    @Autowired\r\n    public OrderService(OrderAccessI ordersDAO) {\r\n        this.ordersDAO = ordersDAO;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void test() {\r\n        System.out.println(&quot;OrderService is working&quot;);\r\n    }\r\n\r\n    @Override\r\n    public List&lt;OrderModel&gt; getOrder() {\r\n        return ordersDAO.getOrders();\r\n    }\r\n\r\n    @Override\r\n    public void init() {\r\n        System.out.println(&quot;Init method of OrderService&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void destroy() {\r\n        System.out.println(&quot;Destroy method of OrderService&quot;);\r\n\r\n    }\r\n```\r\nOrderRestController\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/orders&quot;)\r\npublic class OrderRestController {\r\n    //if we create instance by calling class. if we have to change we have to change the line in this code (not cool)\r\n    //    OrderService service;\r\n    //    OrderService2 service;\r\n    //solution create instance by using interface\r\n    OrderServiceI service;\r\n    @Autowired //go find this class and give me a new instance of it\r\n    //recommend way: create a constructor\r\n    public OrderRestController() {\r\n\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;OrderModel&gt; showAllOrder(Model model) {\r\n        return service.getOrder();\r\n    }\r\n}\r\n```\r\nThanks\r\n\r\n\r\n\r\n\r\n\r\nI tried to create a new bean annotation in SpringConfig but it seems not working\r\n```\r\n    @Bean(name=&quot;OrdersDAO&quot;)\r\n    public OrderAccessI getOrderDAO() {\r\n        return new OrderDAO();\r\n    }\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ONDI.png","title":"Dependency Injection for repository in Spring Boot","body":"<p>I'm new to spring boot and there are many things to learn. I've followed a tutorial on youtube and they teach how to create a DAO. My file structure looks like this.</p>\n<p><a href=\"https://i.stack.imgur.com/5ONDI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5ONDI.png\" alt=\"enter image description here\" /></a></p>\n<p>The problem is when I used @Autowrite to inject the DataAccessI into my OrderService, the @Autowrite annotation noticed e an error. It confused me because I did the same thing as the instructor said but it won't work. These are some snippet of my code, hope that makes my problem be more clear:\nOrderDAO</p>\n<pre><code>@Repository //specific kind of managed bean. useful when you doing data access\npublic class OrderDAO implements OrderAccessI {\n    List&lt;OrderModel&gt; orders = new ArrayList&lt;&gt;();\n\n    public OrderDAO() {\n        orders.add(new OrderModel(0L,&quot;000&quot;,&quot;Sky diving&quot;,15000f,1));\n        orders.add(new OrderModel(1L,&quot;001&quot;,&quot;Scuba diving&quot;,15000f,1));\n        orders.add(new OrderModel(2L,&quot;002&quot;,&quot;Shooting&quot;,15000f,1));\n        orders.add(new OrderModel(3L,&quot;003&quot;,&quot;Dying&quot;,15000f,1));\n    }\n\n    @Override\n    public OrderModel getbyId(long id) {\n        return null;\n    }\n\n    @Override\n    public List&lt;OrderModel&gt; getOrders() {\n        return orders;\n    }\n\n    @Override\n    public List&lt;OrderModel&gt; searchOrders(String searchTerm) {\n        return null;\n    }\n\n    @Override\n    public long addOne(OrderModel newOrder) {\n        return 0;\n    }\n\n    @Override\n    public boolean deleteOne(long id) {\n        return false;\n    }\n\n    @Override\n    public OrderModel updateOne(long idToUpdate, OrderModel updateOrder) {\n        return null;\n    }\n}\n</code></pre>\n<p>SpringConfig</p>\n<pre><code>@Configuration //this is a Configuration file which the project must follow\npublic class SpringConfig {\n    @Bean(name = &quot;OrderService&quot;, initMethod = &quot;init&quot;, destroyMethod = &quot;destroy&quot;)\n//    @RequestScope //live for only one page view\n    @SessionScope //live for one session\n    public OrderServiceI getOrderService() {\n        return new OrderService();\n    }\n}\n</code></pre>\n<p>OrderService</p>\n<pre><code>public class OrderService implements OrderServiceI {\n\n    public OrderAccessI ordersDAO;\n\n    public OrderService() {\n    }\n    @Autowired\n    public OrderService(OrderAccessI ordersDAO) {\n        this.ordersDAO = ordersDAO;\n    }\n\n\n    @Override\n    public void test() {\n        System.out.println(&quot;OrderService is working&quot;);\n    }\n\n    @Override\n    public List&lt;OrderModel&gt; getOrder() {\n        return ordersDAO.getOrders();\n    }\n\n    @Override\n    public void init() {\n        System.out.println(&quot;Init method of OrderService&quot;);\n    }\n\n    @Override\n    public void destroy() {\n        System.out.println(&quot;Destroy method of OrderService&quot;);\n\n    }\n</code></pre>\n<p>OrderRestController</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/orders&quot;)\npublic class OrderRestController {\n    //if we create instance by calling class. if we have to change we have to change the line in this code (not cool)\n    //    OrderService service;\n    //    OrderService2 service;\n    //solution create instance by using interface\n    OrderServiceI service;\n    @Autowired //go find this class and give me a new instance of it\n    //recommend way: create a constructor\n    public OrderRestController() {\n\n    }\n\n    @GetMapping\n    public List&lt;OrderModel&gt; showAllOrder(Model model) {\n        return service.getOrder();\n    }\n}\n</code></pre>\n<p>Thanks</p>\n<p>I tried to create a new bean annotation in SpringConfig but it seems not working</p>\n<pre><code>    @Bean(name=&quot;OrdersDAO&quot;)\n    public OrderAccessI getOrderDAO() {\n        return new OrderDAO();\n    }\n\n</code></pre>\n"},{"tags":["java","android","kotlin","altbeacon"],"answers":[{"tags":[],"owner":{"account_id":1574065,"reputation":64130,"user_id":1461050,"accept_rate":89,"display_name":"davidgyoung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684012673,"creation_date":1684012673,"answer_id":76244915,"question_id":76199037,"body_markdown":"Try this:\r\n\r\n```\r\nval beacon = Beacon.Builder()\r\n    .setId1(&quot;0x00000001&quot;) // namespace id\r\n    .setId2(&quot;0x00000002&quot;) // instance id\r\n    .setTxPower(-59)\r\n    .build()\r\nval beaconParser: BeaconParser = BeaconParser()\r\n    .setBeaconLayout(BeaconParser.EDDYSTONE_UID_LAYOUT)\r\nval beaconTransmitter = BeaconTransmitter(applicationContext, beaconParser)\r\nbeaconTransmitter.startAdvertising(beacon, object: AdvertiseCallback() {\r\n    override fun onStartFailure(errorCode: Int) {\r\n        super.onStartFailure(errorCode)\r\n        Log.d(TAG, &quot;advertising failed: $errorCode&quot;)\r\n    }\r\n\r\n    override fun onStartSuccess(settingsInEffect: AdvertiseSettings?) {\r\n        super.onStartSuccess(settingsInEffect)\r\n        Log.d(TAG, &quot;advertising started successfully&quot;)\r\n    }\r\n    \r\n})\r\n```","title":"How to transmit an Eddystone beacon with a specidic UID and namespace using the altbeacon library in android?","body":"<p>Try this:</p>\n<pre><code>val beacon = Beacon.Builder()\n    .setId1(&quot;0x00000001&quot;) // namespace id\n    .setId2(&quot;0x00000002&quot;) // instance id\n    .setTxPower(-59)\n    .build()\nval beaconParser: BeaconParser = BeaconParser()\n    .setBeaconLayout(BeaconParser.EDDYSTONE_UID_LAYOUT)\nval beaconTransmitter = BeaconTransmitter(applicationContext, beaconParser)\nbeaconTransmitter.startAdvertising(beacon, object: AdvertiseCallback() {\n    override fun onStartFailure(errorCode: Int) {\n        super.onStartFailure(errorCode)\n        Log.d(TAG, &quot;advertising failed: $errorCode&quot;)\n    }\n\n    override fun onStartSuccess(settingsInEffect: AdvertiseSettings?) {\n        super.onStartSuccess(settingsInEffect)\n        Log.d(TAG, &quot;advertising started successfully&quot;)\n    }\n    \n})\n</code></pre>\n"}],"owner":{"account_id":20787020,"reputation":45,"user_id":15266019,"display_name":"Beginner_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684012673,"creation_date":1683536535,"question_id":76199037,"body_markdown":"Hey guys I want to transmit an Eddystone Beacon along with a specific UID and namespace data. I am a bit confused as to how I can set the this data while building the Beacon using the Builder, the docs on the site of Altbeacon library demonstrate the scanning part of Eddystone beacons but transmitting an Eddystone beacon is what is missing over there.\r\n\r\nIf someone can point be to the right direction it would be helpful and I would be very greatly appreciate the help!","title":"How to transmit an Eddystone beacon with a specidic UID and namespace using the altbeacon library in android?","body":"<p>Hey guys I want to transmit an Eddystone Beacon along with a specific UID and namespace data. I am a bit confused as to how I can set the this data while building the Beacon using the Builder, the docs on the site of Altbeacon library demonstrate the scanning part of Eddystone beacons but transmitting an Eddystone beacon is what is missing over there.</p>\n<p>If someone can point be to the right direction it would be helpful and I would be very greatly appreciate the help!</p>\n"},{"tags":["java","eclipse","tomcat"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1684106476,"post_id":76244871,"comment_id":134463983,"body_markdown":"Please retry with 2023-06 M2, https://www.eclipse.org/downloads/packages/release/2023-06/m2/eclipse-ide-enterprise-java-and-web-developers .","body":"Please retry with 2023-06 M2, <a href=\"https://www.eclipse.org/downloads/packages/release/2023-06/m2/eclipse-ide-enterprise-java-and-web-developers\" rel=\"nofollow noreferrer\">eclipse.org/downloads/packages/release/2023-06/m2/&hellip;</a> ."}],"owner":{"account_id":20058597,"reputation":11,"user_id":14705777,"display_name":"blqck"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684011969,"creation_date":1684011969,"question_id":76244871,"body_markdown":"Using Eclipse IDE for Enterprise Java and Web Developers 2023-03.\r\n\r\nI create a New Dynamic Web Project, and choose Dynamic Web module version 6.0.\r\nThe resulting project does not offer the possibility to deploy in a server (Tomcat 10.1)\r\n\r\nWhile the same process, choosing Dynamic Web module version 5.0 works fine.\r\n\r\n\r\nHoping someone can actually help me on this.. Thank you in Advance!","title":"Dynamic web module version 6.0 does not allow deploying in Tomcat 10.1","body":"<p>Using Eclipse IDE for Enterprise Java and Web Developers 2023-03.</p>\n<p>I create a New Dynamic Web Project, and choose Dynamic Web module version 6.0.\nThe resulting project does not offer the possibility to deploy in a server (Tomcat 10.1)</p>\n<p>While the same process, choosing Dynamic Web module version 5.0 works fine.</p>\n<p>Hoping someone can actually help me on this.. Thank you in Advance!</p>\n"},{"tags":["java","react-native","android-framelayout","stack-navigator"],"owner":{"account_id":26123873,"reputation":13,"user_id":19815680,"display_name":"Anuj Kapse"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684010283,"creation_date":1684010283,"question_id":76244780,"body_markdown":"I am a beginner so please bear with me.\r\n\r\nI am trying to create a Java app which has a React Native instance with Stack Navigator embedded inside it using Java FrameLayout by following some tutorials and this documentation.\r\nhttps://reactnative.dev/docs/integration-with-android-fragment\r\n\r\nThe thing is, I am able to embed the said React Native instance in the Java app inside FrameLayout and the Home page of the app RN Stack Navigator loads correctly. But when I click on the button to redirect to a new page, the UI doesnt update to reflect the change. \r\nI am saying that the UI doesn&#39;t change because according to console logs the new screen is being called and rendered too as I can interact with the components which should be in the new screen but aren&#39;t visible because the UI doesn&#39;t change.\r\nThe React Native Stack Navigator app works as intended independently though.\r\n\r\nThis is my &quot;MainActivity.java&quot; File:-\r\n\r\n```\r\npackage com.allforone;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport com.facebook.react.ReactActivity;\r\nimport com.facebook.react.ReactActivityDelegate;\r\nimport com.facebook.react.defaults.DefaultNewArchitectureEntryPoint;\r\nimport com.facebook.react.defaults.DefaultReactActivityDelegate;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n  @Override\r\n  protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.main);\r\n  }\r\n  public void loadReact(View view){\r\n    FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\r\n    fragmentTransaction.replace(R.id.react_holder, new ReactFragment());\r\n    fragmentTransaction.commit();\r\n  }\r\n}\r\n\r\n```\r\n\r\nThis is my &quot;ReactFragment.java&quot; file :-\r\n\r\n```\r\npackage com.allforone;\r\n\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.lifecycle.DefaultLifecycleObserver;\r\nimport androidx.lifecycle.Lifecycle;\r\nimport androidx.lifecycle.LifecycleOwner;\r\n\r\nimport com.facebook.react.ReactInstanceManager;\r\nimport com.facebook.react.ReactRootView;\r\n\r\npublic class ReactFragment extends Fragment implements DefaultLifecycleObserver {\r\n    private ReactRootView reactRootView;\r\n    private ReactInstanceManager reactInstanceManager;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        super.onCreateView(inflater, container, savedInstanceState);\r\n        reactRootView = new ReactRootView(requireContext());\r\n        reactInstanceManager = ((MainApplication) requireActivity().getApplication()).getReactNativeHost().getReactInstanceManager();\r\n        return reactRootView;\r\n    }\r\n\r\n    @Override\r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n        reactRootView = new ReactRootView(requireContext());\r\n        reactInstanceManager = ((MainApplication) requireActivity().getApplication()).getReactNativeHost().getReactInstanceManager();\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        getLifecycle().addObserver(this);\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        getLifecycle().removeObserver(this);\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        reactRootView.startReactApplication(reactInstanceManager, &quot;clitest&quot;, null);\r\n    }\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        reactRootView.unmountReactApplication();\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        reactRootView.unmountReactApplication();\r\n    }\r\n}\r\n```\r\n\r\nThis is my &quot;MainApplication.java&quot; file\r\n\r\n```\r\npackage com.allforone;\r\n\r\nimport android.app.Application;\r\nimport com.facebook.react.PackageList;\r\nimport com.facebook.react.ReactApplication;\r\nimport com.facebook.react.ReactNativeHost;\r\nimport com.facebook.react.ReactPackage;\r\nimport com.facebook.react.defaults.DefaultNewArchitectureEntryPoint;\r\nimport com.facebook.react.defaults.DefaultReactNativeHost;\r\nimport com.facebook.soloader.SoLoader;\r\nimport java.util.List;\r\n\r\npublic class MainApplication extends Application implements ReactApplication {\r\n\r\n  private final ReactNativeHost mReactNativeHost =\r\n      new DefaultReactNativeHost(this) {\r\n        @Override\r\n        public boolean getUseDeveloperSupport() {\r\n          return BuildConfig.DEBUG;\r\n        }\r\n\r\n        @Override\r\n        protected List&lt;ReactPackage&gt; getPackages() {\r\n          @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\r\n          List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\r\n          // Packages that cannot be autolinked yet can be added manually here, for example:\r\n          // packages.add(new MyReactNativePackage());\r\n          return packages;\r\n        }\r\n\r\n        @Override\r\n        protected String getJSMainModuleName() {\r\n          return &quot;index&quot;;\r\n        }\r\n\r\n        @Override\r\n        protected boolean isNewArchEnabled() {\r\n          return BuildConfig.IS_NEW_ARCHITECTURE_ENABLED;\r\n        }\r\n\r\n        @Override\r\n        protected Boolean isHermesEnabled() {\r\n          return BuildConfig.IS_HERMES_ENABLED;\r\n        }\r\n      };\r\n\r\n  @Override\r\n  public ReactNativeHost getReactNativeHost() {\r\n    return mReactNativeHost;\r\n  }\r\n\r\n  @Override\r\n  public void onCreate() {\r\n    super.onCreate();\r\n    SoLoader.init(this, /* native exopackage */ false);\r\n    if (BuildConfig.IS_NEW_ARCHITECTURE_ENABLED) {\r\n      // If you opted-in for the New Architecture, we load the native entry point for this app.\r\n      DefaultNewArchitectureEntryPoint.load();\r\n    }\r\n    ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\r\n  }\r\n}\r\n\r\n```\r\n\r\nAnd finally, my main.xml for MainActivity.java\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;50dp&quot;\r\n        android:onClick=&quot;loadReact&quot;\r\n        android:text=&quot;React Fragment&quot;\r\n        android:id=&quot;@+id/react_native_loader&quot;\r\n        /&gt;\r\n\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/react_holder&quot;/&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n```\r\n\r\nWhat should I do? Am I using the Framelayout wrong or should I use a different component altogether?\r\n\r\n\r\nI just want the React Native Stack Navigator Instance to work properly inside a Java app.","title":"React Native Stack Navigator component UI not updating while inside Java FrameLayout","body":"<p>I am a beginner so please bear with me.</p>\n<p>I am trying to create a Java app which has a React Native instance with Stack Navigator embedded inside it using Java FrameLayout by following some tutorials and this documentation.\n<a href=\"https://reactnative.dev/docs/integration-with-android-fragment\" rel=\"nofollow noreferrer\">https://reactnative.dev/docs/integration-with-android-fragment</a></p>\n<p>The thing is, I am able to embed the said React Native instance in the Java app inside FrameLayout and the Home page of the app RN Stack Navigator loads correctly. But when I click on the button to redirect to a new page, the UI doesnt update to reflect the change.\nI am saying that the UI doesn't change because according to console logs the new screen is being called and rendered too as I can interact with the components which should be in the new screen but aren't visible because the UI doesn't change.\nThe React Native Stack Navigator app works as intended independently though.</p>\n<p>This is my &quot;MainActivity.java&quot; File:-</p>\n<pre><code>package com.allforone;\n\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Toast;\n\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport com.facebook.react.ReactActivity;\nimport com.facebook.react.ReactActivityDelegate;\nimport com.facebook.react.defaults.DefaultNewArchitectureEntryPoint;\nimport com.facebook.react.defaults.DefaultReactActivityDelegate;\n\npublic class MainActivity extends AppCompatActivity {\n  @Override\n  protected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.main);\n  }\n  public void loadReact(View view){\n    FragmentTransaction fragmentTransaction = getSupportFragmentManager().beginTransaction();\n    fragmentTransaction.replace(R.id.react_holder, new ReactFragment());\n    fragmentTransaction.commit();\n  }\n}\n\n</code></pre>\n<p>This is my &quot;ReactFragment.java&quot; file :-</p>\n<pre><code>package com.allforone;\n\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.fragment.app.Fragment;\nimport androidx.lifecycle.DefaultLifecycleObserver;\nimport androidx.lifecycle.Lifecycle;\nimport androidx.lifecycle.LifecycleOwner;\n\nimport com.facebook.react.ReactInstanceManager;\nimport com.facebook.react.ReactRootView;\n\npublic class ReactFragment extends Fragment implements DefaultLifecycleObserver {\n    private ReactRootView reactRootView;\n    private ReactInstanceManager reactInstanceManager;\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        super.onCreateView(inflater, container, savedInstanceState);\n        reactRootView = new ReactRootView(requireContext());\n        reactInstanceManager = ((MainApplication) requireActivity().getApplication()).getReactNativeHost().getReactInstanceManager();\n        return reactRootView;\n    }\n\n    @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        reactRootView = new ReactRootView(requireContext());\n        reactInstanceManager = ((MainApplication) requireActivity().getApplication()).getReactNativeHost().getReactInstanceManager();\n    }\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        getLifecycle().addObserver(this);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        getLifecycle().removeObserver(this);\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        reactRootView.startReactApplication(reactInstanceManager, &quot;clitest&quot;, null);\n    }\n\n    @Override\n    public void onPause() {\n        super.onPause();\n        reactRootView.unmountReactApplication();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        reactRootView.unmountReactApplication();\n    }\n}\n</code></pre>\n<p>This is my &quot;MainApplication.java&quot; file</p>\n<pre><code>package com.allforone;\n\nimport android.app.Application;\nimport com.facebook.react.PackageList;\nimport com.facebook.react.ReactApplication;\nimport com.facebook.react.ReactNativeHost;\nimport com.facebook.react.ReactPackage;\nimport com.facebook.react.defaults.DefaultNewArchitectureEntryPoint;\nimport com.facebook.react.defaults.DefaultReactNativeHost;\nimport com.facebook.soloader.SoLoader;\nimport java.util.List;\n\npublic class MainApplication extends Application implements ReactApplication {\n\n  private final ReactNativeHost mReactNativeHost =\n      new DefaultReactNativeHost(this) {\n        @Override\n        public boolean getUseDeveloperSupport() {\n          return BuildConfig.DEBUG;\n        }\n\n        @Override\n        protected List&lt;ReactPackage&gt; getPackages() {\n          @SuppressWarnings(&quot;UnnecessaryLocalVariable&quot;)\n          List&lt;ReactPackage&gt; packages = new PackageList(this).getPackages();\n          // Packages that cannot be autolinked yet can be added manually here, for example:\n          // packages.add(new MyReactNativePackage());\n          return packages;\n        }\n\n        @Override\n        protected String getJSMainModuleName() {\n          return &quot;index&quot;;\n        }\n\n        @Override\n        protected boolean isNewArchEnabled() {\n          return BuildConfig.IS_NEW_ARCHITECTURE_ENABLED;\n        }\n\n        @Override\n        protected Boolean isHermesEnabled() {\n          return BuildConfig.IS_HERMES_ENABLED;\n        }\n      };\n\n  @Override\n  public ReactNativeHost getReactNativeHost() {\n    return mReactNativeHost;\n  }\n\n  @Override\n  public void onCreate() {\n    super.onCreate();\n    SoLoader.init(this, /* native exopackage */ false);\n    if (BuildConfig.IS_NEW_ARCHITECTURE_ENABLED) {\n      // If you opted-in for the New Architecture, we load the native entry point for this app.\n      DefaultNewArchitectureEntryPoint.load();\n    }\n    ReactNativeFlipper.initializeFlipper(this, getReactNativeHost().getReactInstanceManager());\n  }\n}\n\n</code></pre>\n<p>And finally, my main.xml for MainActivity.java</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;Button\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:onClick=&quot;loadReact&quot;\n        android:text=&quot;React Fragment&quot;\n        android:id=&quot;@+id/react_native_loader&quot;\n        /&gt;\n\n    &lt;FrameLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/react_holder&quot;/&gt;\n&lt;/LinearLayout&gt;\n\n</code></pre>\n<p>What should I do? Am I using the Framelayout wrong or should I use a different component altogether?</p>\n<p>I just want the React Native Stack Navigator Instance to work properly inside a Java app.</p>\n"},{"tags":["java","spring","spring-boot","maven-plugin","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1683995552,"post_id":76243639,"comment_id":134453351,"body_markdown":"The method that is missing was added to the Servlet API in 6.0. It appears that you have the Servlet 5.0 API on the classpath. Can you share the output of running mvn dependency:tree?","body":"The method that is missing was added to the Servlet API in 6.0. It appears that you have the Servlet 5.0 API on the classpath. Can you share the output of running mvn dependency:tree?"},{"owner":{"account_id":1040218,"reputation":343,"user_id":1046445,"accept_rate":65,"display_name":"Abdus Samad"},"score":0,"creation_date":1683997559,"post_id":76243639,"comment_id":134453645,"body_markdown":"Its is using 6.0. here is the dependency tree, i have added it as part of my question","body":"Its is using 6.0. here is the dependency tree, i have added it as part of my question"}],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684007709,"creation_date":1684007709,"answer_id":76244632,"question_id":76243639,"body_markdown":"You have the Servlet 5.0 API on the classpath. It&#39;s a transitive dependency of `org.eclipse.jetty:apache-jsp`:\r\n\r\n```\r\n \\- org.eclipse.jetty:apache-jsp:jar:11.0.15:compile\r\n    +- org.eclipse.jetty:jetty-util:jar:11.0.15:compile\r\n    +- org.mortbay.jasper:apache-jsp:jar:10.0.14:compile\r\n    |  +- org.eclipse.jetty.toolchain:jetty-schemas:jar:5.2:compile\r\n    |  \\- org.mortbay.jasper:apache-el:jar:10.0.14:compile\r\n    \\- org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:jar:5.0.2:compile\r\n```\r\n\r\nGiven that you&#39;re using Tomcat and already have a dependency on `org.apache.tomcat.embed:tomcat-embed-jasper`, I doubt that the dependency on Jetty&#39;s equivalent (`org.eclipse.jetty:apache-jsp`) is needed.\r\n\r\nRemoving the following from your pom should fix the `NoSuchMethodError`:\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/org.eclipse.jetty/apache-jsp --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    &lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"java.lang.NoSuchMethodError: &#39;java.util.Map jakarta.servlet.SessionCookieConfig.getAttributes()","body":"<p>You have the Servlet 5.0 API on the classpath. It's a transitive dependency of <code>org.eclipse.jetty:apache-jsp</code>:</p>\n<pre><code> \\- org.eclipse.jetty:apache-jsp:jar:11.0.15:compile\n    +- org.eclipse.jetty:jetty-util:jar:11.0.15:compile\n    +- org.mortbay.jasper:apache-jsp:jar:10.0.14:compile\n    |  +- org.eclipse.jetty.toolchain:jetty-schemas:jar:5.2:compile\n    |  \\- org.mortbay.jasper:apache-el:jar:10.0.14:compile\n    \\- org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:jar:5.0.2:compile\n</code></pre>\n<p>Given that you're using Tomcat and already have a dependency on <code>org.apache.tomcat.embed:tomcat-embed-jasper</code>, I doubt that the dependency on Jetty's equivalent (<code>org.eclipse.jetty:apache-jsp</code>) is needed.</p>\n<p>Removing the following from your pom should fix the <code>NoSuchMethodError</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/org.eclipse.jetty/apache-jsp --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n    &lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1040218,"reputation":343,"user_id":1046445,"accept_rate":65,"display_name":"Abdus Samad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76244632,"answer_count":1,"score":1,"last_activity_date":1684007709,"creation_date":1683993035,"question_id":76243639,"body_markdown":"I am using spring boot war file to bring up a web application. The server boots fine. When i open the url in the browser, i get this exception in the spring boot logs. The internet does not seem have solution for this problem may be because this problem with jakarta\r\n\r\n```\r\njava.lang.NoSuchMethodError: &#39;java.util.Map jakarta.servlet.SessionCookieConfig.getAttributes()&#39;\r\n        at org.apache.catalina.core.ApplicationSessionCookieConfig.createSessionCookie(ApplicationSessionCookieConfig.java:227)\r\n        at org.apache.catalina.connector.Request.doGetSession(Request.java:2971)\r\n        at org.apache.catalina.connector.Request.getSession(Request.java:2384)\r\n        at org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:639)\r\n        at jakarta.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:221)\r\n        at jakarta.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:221)\r\n        at jakarta.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:221)\r\n        at org.springframework.security.web.context.HttpSessionSecurityContextRepository.saveContextInHttpSession(HttpSessionSecurityContextRepository.java:169)\r\n        at org.springframework.security.web.context.HttpSessionSecurityContextRepository.saveContext(HttpSessionSecurityContextRepository.java:152)\r\n        at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:125)\r\n        at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\r\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\r\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\r\n```\r\n\r\n\r\n\r\nHere is my pom.xml\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.sample&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;sample&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\t&lt;name&gt;sample&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;20&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.stripe&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;stripe-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;22.5.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.11.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-json --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.5&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.springframework.security/spring-security-web --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- Exclude Spring Boot&#39;s Default Logging --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- Add Log4j2 Dependency --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.apache.httpcomponents/httpmime --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.glassfish.hk2/osgi-resource-locator --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;osgi-resource-locator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0-b42&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.json&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;json&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20160810&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.paypal.sdk/paypal-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;paypal-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.paypal.sdk/rest-api-sdk --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.13.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/com.paypal.sdk/adaptivepaymentssdk --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;adaptivepaymentssdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.117&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.quartz-scheduler/quartz --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;quartz&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/com.paypal.sdk/permissionssdk --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;permissionssdk&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6.109&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.jsoup&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jsoup&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.10.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-lang&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/commons-logging/commons-logging --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.30&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- JAXB API only --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- JAXB RI, Jakarta XML Binding --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/jakarta.mail/jakarta.mail-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;!--\r\n\t\thttps://mvnrepository.com/artifact/jakarta.servlet.jsp.jstl/jakarta.servlet.jsp.jstl-api --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;!-- https://mvnrepository.com/artifact/org.eclipse.jetty/apache-jsp --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;finalName&gt;sample&lt;/finalName&gt;\r\n\t\t&lt;pluginManagement&gt;\r\n\t\t\t&lt;plugins&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;repackage&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.10.1&lt;/version&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;!--&lt;compilerVersion&gt;19&lt;/compilerVersion&gt;--&gt;\r\n\t\t\t\t\t\t&lt;release&gt;20&lt;/release&gt;\r\n\t\t\t\t\t\t&lt;!--&lt;compilerArgs&gt;&amp;#45;&amp;#45;source 19&lt;/compilerArgs&gt;--&gt;\r\n\t\t\t\t\t\t&lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\r\n\t\t\t\t\t\t&lt;!--&lt;compilerArgs&gt;&amp;#45;&amp;#45;add-modules jdk.incubator.concurrent&lt;/compilerArgs&gt;--&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;3.3.1&lt;/version&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;argLine&gt;-Dserver.port=8081 -Dserver.path=c:\\\\temp&lt;/argLine&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;generate-entities&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;hbm2java&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;components&gt;\r\n\t\t\t\t\t\t\t&lt;component&gt;\r\n\t\t\t\t\t\t\t\t&lt;name&gt;hbm2java&lt;/name&gt;\r\n\t\t\t\t\t\t\t\t&lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\r\n\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/hibernate/hbm2java&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;/component&gt;\r\n\t\t\t\t\t\t&lt;/components&gt;\r\n\t\t\t\t\t\t&lt;componentProperties&gt;\r\n\t\t\t\t\t\t\t&lt;propertyfile&gt;src/main/resources/database.properties&lt;/propertyfile&gt;\r\n\t\t\t\t\t\t\t&lt;jdk5&gt;true&lt;/jdk5&gt;\r\n\t\t\t\t\t\t\t&lt;ejb3&gt;false&lt;/ejb3&gt;\r\n\t\t\t\t\t\t\t&lt;packagename&gt;com.sample.hibernate.bean&lt;/packagename&gt;\r\n\t\t\t\t\t\t\t&lt;format&gt;true&lt;/format&gt;\r\n\t\t\t\t\t\t\t&lt;haltonerror&gt;true&lt;/haltonerror&gt;\r\n\t\t\t\t\t\t&lt;/componentProperties&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;10.5.3.0_1&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t&lt;!--\r\n\t\t\t\t\t\thttps://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;8.0.30&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;generate-xml-files&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;hbm2hbmxml&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;components&gt;\r\n\t\t\t\t\t\t\t&lt;component&gt;\r\n\t\t\t\t\t\t\t\t&lt;name&gt;hbm2hbmxml&lt;/name&gt;\r\n\t\t\t\t\t\t\t\t&lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\r\n\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/hibernate/hbm2hbmxml&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;/component&gt;\r\n\t\t\t\t\t\t&lt;/components&gt;\r\n\t\t\t\t\t\t&lt;componentProperties&gt;\r\n\t\t\t\t\t\t\t&lt;propertyfile&gt;src/main/resources/database.properties&lt;/propertyfile&gt;\r\n\t\t\t\t\t\t\t&lt;jdk5&gt;true&lt;/jdk5&gt;\r\n\t\t\t\t\t\t\t&lt;ejb3&gt;false&lt;/ejb3&gt;\r\n\t\t\t\t\t\t\t&lt;packagename&gt;hbm&lt;/packagename&gt;\r\n\t\t\t\t\t\t\t&lt;format&gt;true&lt;/format&gt;\r\n\t\t\t\t\t\t\t&lt;haltonerror&gt;true&lt;/haltonerror&gt;\r\n\t\t\t\t\t\t&lt;/componentProperties&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;10.5.3.0_1&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t&lt;!--\r\n\t\t\t\t\t\thttps://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;8.0.30&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t\t&lt;plugin&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n\t\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t\t&lt;id&gt;generate-xml-files1&lt;/id&gt;\r\n\t\t\t\t\t\t\t&lt;phase&gt;generate-resources&lt;/phase&gt;\r\n\t\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t\t&lt;goal&gt;hbm2cfgxml&lt;/goal&gt;\r\n\t\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;/executions&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t&lt;components&gt;\r\n\t\t\t\t\t\t\t&lt;component&gt;\r\n\t\t\t\t\t\t\t\t&lt;name&gt;hbm2cfgxml&lt;/name&gt;\r\n\t\t\t\t\t\t\t\t&lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\r\n\t\t\t\t\t\t\t\t&lt;outputDirectory&gt;target/hibernate/hbm2cfgxml&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t\t&lt;/component&gt;\r\n\t\t\t\t\t\t&lt;/components&gt;\r\n\t\t\t\t\t\t&lt;componentProperties&gt;\r\n\t\t\t\t\t\t\t&lt;propertyfile&gt;src/main/resources/database.properties&lt;/propertyfile&gt;\r\n\t\t\t\t\t\t\t&lt;jdk5&gt;true&lt;/jdk5&gt;\r\n\t\t\t\t\t\t\t&lt;ejb3&gt;false&lt;/ejb3&gt;\r\n\t\t\t\t\t\t\t&lt;packagename&gt;resources&lt;/packagename&gt;\r\n\t\t\t\t\t\t\t&lt;format&gt;true&lt;/format&gt;\r\n\t\t\t\t\t\t\t&lt;haltonerror&gt;true&lt;/haltonerror&gt;\r\n\t\t\t\t\t\t&lt;/componentProperties&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;dependencies&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;derby&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;10.5.3.0_1&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;cglib&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;2.2.2&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t\t&lt;!--\r\n\t\t\t\t\t\thttps://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n\t\t\t\t\t\t&lt;dependency&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t\t\t\t\t&lt;version&gt;8.0.30&lt;/version&gt;\r\n\t\t\t\t\t\t&lt;/dependency&gt;\r\n\t\t\t\t\t&lt;/dependencies&gt;\r\n\t\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;/plugins&gt;\r\n\t\t&lt;/pluginManagement&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nThis is how I am starting the spring boot app\r\n\r\n```\r\njava -Dserver.port=8081 -Dserver.path=c:\\\\temp -jar sample.war org.springframework.boot.loader.WarLauncher\r\n```\r\n\r\n\r\nHere is the dependency tree. It is using servlet 6.0\r\n\r\n         com.sample:sample:war:0.0.1-SNAPSHOT\r\n     +- org.springframework.boot:spring-boot-starter-test:jar:3.0.6:test\r\n     |  +- org.springframework.boot:spring-boot-test:jar:3.0.6:test\r\n     |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.6:test\r\n     |  +- com.jayway.jsonpath:json-path:jar:2.7.0:test\r\n     |  |  \\- net.minidev:json-smart:jar:2.4.10:test\r\n     |  |     \\- net.minidev:accessors-smart:jar:2.4.9:test\r\n     |  |        \\- org.ow2.asm:asm:jar:9.3:test\r\n     |  +- org.assertj:assertj-core:jar:3.23.1:test\r\n     |  +- org.hamcrest:hamcrest:jar:2.2:test\r\n     |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\r\n     |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\r\n     |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\r\n     |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\r\n     |  +- org.mockito:mockito-core:jar:4.8.1:test\r\n     |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\r\n     |  |  \\- org.objenesis:objenesis:jar:3.2:test\r\n     |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\r\n     |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\r\n     |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\r\n     |  +- org.springframework:spring-core:jar:6.0.8:compile\r\n     |  |  \\- org.springframework:spring-jcl:jar:6.0.8:compile\r\n     |  +- org.springframework:spring-test:jar:6.0.8:test\r\n     |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\r\n     +- com.google.code.gson:gson:jar:2.9.1:compile\r\n     +- com.stripe:stripe-java:jar:22.5.1:compile\r\n     +- org.slf4j:slf4j-simple:jar:2.0.7:compile\r\n     |  \\- org.slf4j:slf4j-api:jar:2.0.7:compile\r\n     +- org.projectlombok:lombok:jar:1.18.26:compile\r\n     +- commons-io:commons-io:jar:2.11.0:compile\r\n     +- org.springframework.boot:spring-boot-starter-json:jar:3.0.6:compile\r\n     |  +- org.springframework:spring-web:jar:6.0.8:compile\r\n     |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\r\n     |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\r\n     |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\r\n     |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\r\n     |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\r\n     |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\r\n     +- org.aspectj:aspectjweaver:jar:1.9.19:runtime\r\n     +- commons-fileupload:commons-fileupload:jar:1.5:compile\r\n     +- org.springframework.security:spring-security-core:jar:6.0.3:compile\r\n     |  +- org.springframework.security:spring-security-crypto:jar:6.0.3:compile\r\n     |  +- org.springframework:spring-aop:jar:6.0.8:compile\r\n     |  +- org.springframework:spring-beans:jar:6.0.8:compile\r\n     |  +- org.springframework:spring-context:jar:6.0.8:compile\r\n     |  +- org.springframework:spring-expression:jar:6.0.8:compile\r\n     |  \\- io.micrometer:micrometer-observation:jar:1.10.6:compile\r\n     |     \\- io.micrometer:micrometer-commons:jar:1.10.6:compile\r\n     +- org.springframework.security:spring-security-config:jar:6.0.3:compile\r\n     +- org.springframework.security:spring-security-web:jar:6.0.3:compile\r\n     +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\r\n     |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n     |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\r\n     |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\r\n     +- org.springframework.boot:spring-boot-starter:jar:3.0.6:compile\r\n     |  +- org.springframework.boot:spring-boot:jar:3.0.6:compile\r\n     |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.6:compile\r\n     |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\r\n     |  \\- org.yaml:snakeyaml:jar:1.33:compile\r\n     +- org.springframework.boot:spring-boot-starter-log4j2:jar:3.0.6:compile\r\n     |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.19.0:compile\r\n     |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\r\n     |  +- org.apache.logging.log4j:log4j-core:jar:2.19.0:compile\r\n     |  \\- org.apache.logging.log4j:log4j-jul:jar:2.19.0:compile\r\n     +- org.springframework:spring-webmvc:jar:6.0.8:compile\r\n     +- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\r\n     |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\r\n     |  \\- commons-codec:commons-codec:jar:1.15:compile\r\n     +- org.apache.httpcomponents:httpmime:jar:4.5.14:compile\r\n     +- org.glassfish.hk2:osgi-resource-locator:jar:2.5.0-b42:compile\r\n     +- org.json:json:jar:20160810:compile\r\n     +- com.paypal.sdk:paypal-core:jar:1.7.2:compile\r\n     +- com.paypal.sdk:rest-api-sdk:jar:1.13.0:compile\r\n     +- com.paypal.sdk:adaptivepaymentssdk:jar:2.9.117:compile\r\n     +- org.quartz-scheduler:quartz:jar:2.3.2:compile\r\n     |  \\- com.mchange:mchange-commons-java:jar:0.2.15:compile\r\n     +- com.paypal.sdk:permissionssdk:jar:2.6.109:compile\r\n     +- org.jsoup:jsoup:jar:1.10.2:compile\r\n     +- commons-lang:commons-lang:jar:2.6:compile\r\n     +- commons-logging:commons-logging:jar:1.2:compile\r\n     +- mysql:mysql-connector-java:jar:8.0.30:compile\r\n     |  \\- com.google.protobuf:protobuf-java:jar:3.19.4:compile\r\n     +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.2:compile\r\n     |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:compile\r\n     |     +- org.eclipse.angus:angus-activation:jar:2.0.0:runtime\r\n     |     +- org.glassfish.jaxb:txw2:jar:4.0.2:compile\r\n     |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\r\n     +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\r\n     |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\r\n     +- com.sun.xml.bind:jaxb-impl:jar:4.0.2:runtime\r\n     |  \\- com.sun.xml.bind:jaxb-core:jar:4.0.2:runtime\r\n     +- jakarta.mail:jakarta.mail-api:jar:2.1.1:compile\r\n     +- org.hibernate.orm:hibernate-core:jar:6.1.7.Final:compile\r\n     |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\r\n     |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\r\n     |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:runtime\r\n     |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\r\n     |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\r\n     |  +- com.fasterxml:classmate:jar:1.5.1:runtime\r\n     |  +- net.bytebuddy:byte-buddy:jar:1.12.23:runtime\r\n     |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:runtime\r\n     |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\r\n     +- org.springframework.boot:spring-boot-starter-web:jar:3.0.6:compile\r\n     +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.6:compile\r\n     |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.8:compile\r\n     |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8:compile\r\n     |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.8:compile\r\n     +- org.apache.tomcat.embed:tomcat-embed-jasper:jar:10.1.8:compile\r\n     |  \\- org.eclipse.jdt:ecj:jar:3.33.0:compile\r\n     +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:compile\r\n     +- jakarta.servlet.jsp:jakarta.servlet.jsp-api:jar:3.0.0:compile\r\n     +- org.glassfish.web:jakarta.servlet.jsp.jstl:jar:3.0.1:compile\r\n     +- jakarta.servlet.jsp.jstl:jakarta.servlet.jsp.jstl-api:jar:3.0.0:compile\r\n     |  \\- jakarta.el:jakarta.el-api:jar:5.0.0:compile\r\n     \\- org.eclipse.jetty:apache-jsp:jar:11.0.15:compile\r\n        +- org.eclipse.jetty:jetty-util:jar:11.0.15:compile\r\n        +- org.mortbay.jasper:apache-jsp:jar:10.0.14:compile\r\n        |  +- org.eclipse.jetty.toolchain:jetty-schemas:jar:5.2:compile\r\n        |  \\- org.mortbay.jasper:apache-el:jar:10.0.14:compile\r\n        \\- org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:jar:5.0.2:compile\r\n\r\n","title":"java.lang.NoSuchMethodError: &#39;java.util.Map jakarta.servlet.SessionCookieConfig.getAttributes()","body":"<p>I am using spring boot war file to bring up a web application. The server boots fine. When i open the url in the browser, i get this exception in the spring boot logs. The internet does not seem have solution for this problem may be because this problem with jakarta</p>\n<pre><code>java.lang.NoSuchMethodError: 'java.util.Map jakarta.servlet.SessionCookieConfig.getAttributes()'\n        at org.apache.catalina.core.ApplicationSessionCookieConfig.createSessionCookie(ApplicationSessionCookieConfig.java:227)\n        at org.apache.catalina.connector.Request.doGetSession(Request.java:2971)\n        at org.apache.catalina.connector.Request.getSession(Request.java:2384)\n        at org.apache.catalina.connector.RequestFacade.getSession(RequestFacade.java:639)\n        at jakarta.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:221)\n        at jakarta.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:221)\n        at jakarta.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:221)\n        at org.springframework.security.web.context.HttpSessionSecurityContextRepository.saveContextInHttpSession(HttpSessionSecurityContextRepository.java:169)\n        at org.springframework.security.web.context.HttpSessionSecurityContextRepository.saveContext(HttpSessionSecurityContextRepository.java:152)\n        at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:125)\n        at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:101)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:170)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227)\n        at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221)\n        at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)\n</code></pre>\n<p>Here is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.sample&lt;/groupId&gt;\n    &lt;artifactId&gt;sample&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;sample&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;20&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/com.google.code.gson/gson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n            &lt;artifactId&gt;gson&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.stripe&lt;/groupId&gt;\n            &lt;artifactId&gt;stripe-java&lt;/artifactId&gt;\n            &lt;version&gt;22.5.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/commons-io/commons-io --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.11.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-json&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/commons-fileupload/commons-fileupload --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-fileupload&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-fileupload&lt;/artifactId&gt;\n            &lt;version&gt;1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.security/spring-security-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.security/spring-security-config --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-config&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.security/spring-security-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- Exclude Spring Boot's Default Logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Add Log4j2 Dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.apache.httpcomponents/httpclient --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.apache.httpcomponents/httpmime --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n            &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/org.glassfish.hk2/osgi-resource-locator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.hk2&lt;/groupId&gt;\n            &lt;artifactId&gt;osgi-resource-locator&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0-b42&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.json/json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\n            &lt;version&gt;20160810&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.paypal.sdk/paypal-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;paypal-core&lt;/artifactId&gt;\n            &lt;version&gt;1.7.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.paypal.sdk/rest-api-sdk --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-api-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/com.paypal.sdk/adaptivepaymentssdk --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;adaptivepaymentssdk&lt;/artifactId&gt;\n            &lt;version&gt;2.9.117&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.quartz-scheduler/quartz --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.quartz-scheduler&lt;/groupId&gt;\n            &lt;artifactId&gt;quartz&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.paypal.sdk/permissionssdk --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.paypal.sdk&lt;/groupId&gt;\n            &lt;artifactId&gt;permissionssdk&lt;/artifactId&gt;\n            &lt;version&gt;2.6.109&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.jsoup/jsoup --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jsoup&lt;/groupId&gt;\n            &lt;artifactId&gt;jsoup&lt;/artifactId&gt;\n            &lt;version&gt;1.10.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-lang/commons-lang --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-lang&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/commons-logging/commons-logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.30&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- JAXB API only --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JAXB RI, Jakarta XML Binding --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.mail/jakarta.mail-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.mail-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate.orm/hibernate-core --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-jasper&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!--\n        https://mvnrepository.com/artifact/jakarta.servlet/jakarta.servlet-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--\n        https://mvnrepository.com/artifact/jakarta.servlet.jsp.jstl/jakarta.servlet.jsp.jstl-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.servlet.jsp.jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.servlet.jsp.jstl-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.eclipse.jetty/apache-jsp --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n            &lt;artifactId&gt;apache-jsp&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;sample&lt;/finalName&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.0.6&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;repackage&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.10.1&lt;/version&gt;\n                    &lt;configuration&gt;\n                        &lt;!--&lt;compilerVersion&gt;19&lt;/compilerVersion&gt;--&gt;\n                        &lt;release&gt;20&lt;/release&gt;\n                        &lt;!--&lt;compilerArgs&gt;&amp;#45;&amp;#45;source 19&lt;/compilerArgs&gt;--&gt;\n                        &lt;compilerArgs&gt;--enable-preview&lt;/compilerArgs&gt;\n                        &lt;!--&lt;compilerArgs&gt;&amp;#45;&amp;#45;add-modules jdk.incubator.concurrent&lt;/compilerArgs&gt;--&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;3.3.1&lt;/version&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;argLine&gt;-Dserver.port=8081 -Dserver.path=c:\\\\temp&lt;/argLine&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.2&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;generate-entities&lt;/id&gt;\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;hbm2java&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;components&gt;\n                            &lt;component&gt;\n                                &lt;name&gt;hbm2java&lt;/name&gt;\n                                &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\n                                &lt;outputDirectory&gt;target/hibernate/hbm2java&lt;/outputDirectory&gt;\n                            &lt;/component&gt;\n                        &lt;/components&gt;\n                        &lt;componentProperties&gt;\n                            &lt;propertyfile&gt;src/main/resources/database.properties&lt;/propertyfile&gt;\n                            &lt;jdk5&gt;true&lt;/jdk5&gt;\n                            &lt;ejb3&gt;false&lt;/ejb3&gt;\n                            &lt;packagename&gt;com.sample.hibernate.bean&lt;/packagename&gt;\n                            &lt;format&gt;true&lt;/format&gt;\n                            &lt;haltonerror&gt;true&lt;/haltonerror&gt;\n                        &lt;/componentProperties&gt;\n                    &lt;/configuration&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n                            &lt;artifactId&gt;derby&lt;/artifactId&gt;\n                            &lt;version&gt;10.5.3.0_1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;cglib&lt;/groupId&gt;\n                            &lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\n                            &lt;version&gt;2.2.2&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;!--\n                        https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;mysql&lt;/groupId&gt;\n                            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                            &lt;version&gt;8.0.30&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.2&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;generate-xml-files&lt;/id&gt;\n                            &lt;phase&gt;generate-resources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;hbm2hbmxml&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;components&gt;\n                            &lt;component&gt;\n                                &lt;name&gt;hbm2hbmxml&lt;/name&gt;\n                                &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\n                                &lt;outputDirectory&gt;target/hibernate/hbm2hbmxml&lt;/outputDirectory&gt;\n                            &lt;/component&gt;\n                        &lt;/components&gt;\n                        &lt;componentProperties&gt;\n                            &lt;propertyfile&gt;src/main/resources/database.properties&lt;/propertyfile&gt;\n                            &lt;jdk5&gt;true&lt;/jdk5&gt;\n                            &lt;ejb3&gt;false&lt;/ejb3&gt;\n                            &lt;packagename&gt;hbm&lt;/packagename&gt;\n                            &lt;format&gt;true&lt;/format&gt;\n                            &lt;haltonerror&gt;true&lt;/haltonerror&gt;\n                        &lt;/componentProperties&gt;\n                    &lt;/configuration&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n                            &lt;artifactId&gt;derby&lt;/artifactId&gt;\n                            &lt;version&gt;10.5.3.0_1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;cglib&lt;/groupId&gt;\n                            &lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\n                            &lt;version&gt;2.2.2&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;!--\n                        https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;mysql&lt;/groupId&gt;\n                            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                            &lt;version&gt;8.0.30&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                    &lt;artifactId&gt;hibernate3-maven-plugin&lt;/artifactId&gt;\n                    &lt;version&gt;2.2&lt;/version&gt;\n                    &lt;executions&gt;\n                        &lt;execution&gt;\n                            &lt;id&gt;generate-xml-files1&lt;/id&gt;\n                            &lt;phase&gt;generate-resources&lt;/phase&gt;\n                            &lt;goals&gt;\n                                &lt;goal&gt;hbm2cfgxml&lt;/goal&gt;\n                            &lt;/goals&gt;\n                        &lt;/execution&gt;\n                    &lt;/executions&gt;\n                    &lt;configuration&gt;\n                        &lt;components&gt;\n                            &lt;component&gt;\n                                &lt;name&gt;hbm2cfgxml&lt;/name&gt;\n                                &lt;implementation&gt;jdbcconfiguration&lt;/implementation&gt;\n                                &lt;outputDirectory&gt;target/hibernate/hbm2cfgxml&lt;/outputDirectory&gt;\n                            &lt;/component&gt;\n                        &lt;/components&gt;\n                        &lt;componentProperties&gt;\n                            &lt;propertyfile&gt;src/main/resources/database.properties&lt;/propertyfile&gt;\n                            &lt;jdk5&gt;true&lt;/jdk5&gt;\n                            &lt;ejb3&gt;false&lt;/ejb3&gt;\n                            &lt;packagename&gt;resources&lt;/packagename&gt;\n                            &lt;format&gt;true&lt;/format&gt;\n                            &lt;haltonerror&gt;true&lt;/haltonerror&gt;\n                        &lt;/componentProperties&gt;\n                    &lt;/configuration&gt;\n                    &lt;dependencies&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;org.apache.derby&lt;/groupId&gt;\n                            &lt;artifactId&gt;derby&lt;/artifactId&gt;\n                            &lt;version&gt;10.5.3.0_1&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;cglib&lt;/groupId&gt;\n                            &lt;artifactId&gt;cglib-nodep&lt;/artifactId&gt;\n                            &lt;version&gt;2.2.2&lt;/version&gt;\n                        &lt;/dependency&gt;\n                        &lt;!--\n                        https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n                        &lt;dependency&gt;\n                            &lt;groupId&gt;mysql&lt;/groupId&gt;\n                            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n                            &lt;version&gt;8.0.30&lt;/version&gt;\n                        &lt;/dependency&gt;\n                    &lt;/dependencies&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is how I am starting the spring boot app</p>\n<pre><code>java -Dserver.port=8081 -Dserver.path=c:\\\\temp -jar sample.war org.springframework.boot.loader.WarLauncher\n</code></pre>\n<p>Here is the dependency tree. It is using servlet 6.0</p>\n<pre><code>     com.sample:sample:war:0.0.1-SNAPSHOT\n +- org.springframework.boot:spring-boot-starter-test:jar:3.0.6:test\n |  +- org.springframework.boot:spring-boot-test:jar:3.0.6:test\n |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:3.0.6:test\n |  +- com.jayway.jsonpath:json-path:jar:2.7.0:test\n |  |  \\- net.minidev:json-smart:jar:2.4.10:test\n |  |     \\- net.minidev:accessors-smart:jar:2.4.9:test\n |  |        \\- org.ow2.asm:asm:jar:9.3:test\n |  +- org.assertj:assertj-core:jar:3.23.1:test\n |  +- org.hamcrest:hamcrest:jar:2.2:test\n |  +- org.junit.jupiter:junit-jupiter:jar:5.9.2:test\n |  |  +- org.junit.jupiter:junit-jupiter-params:jar:5.9.2:test\n |  |  \\- org.junit.jupiter:junit-jupiter-engine:jar:5.9.2:test\n |  |     \\- org.junit.platform:junit-platform-engine:jar:1.9.2:test\n |  +- org.mockito:mockito-core:jar:4.8.1:test\n |  |  +- net.bytebuddy:byte-buddy-agent:jar:1.12.23:test\n |  |  \\- org.objenesis:objenesis:jar:3.2:test\n |  +- org.mockito:mockito-junit-jupiter:jar:4.8.1:test\n |  +- org.skyscreamer:jsonassert:jar:1.5.1:test\n |  |  \\- com.vaadin.external.google:android-json:jar:0.0.20131108.vaadin1:test\n |  +- org.springframework:spring-core:jar:6.0.8:compile\n |  |  \\- org.springframework:spring-jcl:jar:6.0.8:compile\n |  +- org.springframework:spring-test:jar:6.0.8:test\n |  \\- org.xmlunit:xmlunit-core:jar:2.9.1:test\n +- com.google.code.gson:gson:jar:2.9.1:compile\n +- com.stripe:stripe-java:jar:22.5.1:compile\n +- org.slf4j:slf4j-simple:jar:2.0.7:compile\n |  \\- org.slf4j:slf4j-api:jar:2.0.7:compile\n +- org.projectlombok:lombok:jar:1.18.26:compile\n +- commons-io:commons-io:jar:2.11.0:compile\n +- org.springframework.boot:spring-boot-starter-json:jar:3.0.6:compile\n |  +- org.springframework:spring-web:jar:6.0.8:compile\n |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.14.2:compile\n |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.14.2:compile\n |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.14.2:compile\n |  +- com.fasterxml.jackson.datatype:jackson-datatype-jdk8:jar:2.14.2:compile\n |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.14.2:compile\n |  \\- com.fasterxml.jackson.module:jackson-module-parameter-names:jar:2.14.2:compile\n +- org.aspectj:aspectjweaver:jar:1.9.19:runtime\n +- commons-fileupload:commons-fileupload:jar:1.5:compile\n +- org.springframework.security:spring-security-core:jar:6.0.3:compile\n |  +- org.springframework.security:spring-security-crypto:jar:6.0.3:compile\n |  +- org.springframework:spring-aop:jar:6.0.8:compile\n |  +- org.springframework:spring-beans:jar:6.0.8:compile\n |  +- org.springframework:spring-context:jar:6.0.8:compile\n |  +- org.springframework:spring-expression:jar:6.0.8:compile\n |  \\- io.micrometer:micrometer-observation:jar:1.10.6:compile\n |     \\- io.micrometer:micrometer-commons:jar:1.10.6:compile\n +- org.springframework.security:spring-security-config:jar:6.0.3:compile\n +- org.springframework.security:spring-security-web:jar:6.0.3:compile\n +- org.junit.jupiter:junit-jupiter-api:jar:5.9.2:test\n |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n |  +- org.junit.platform:junit-platform-commons:jar:1.9.2:test\n |  \\- org.apiguardian:apiguardian-api:jar:1.1.2:test\n +- org.springframework.boot:spring-boot-starter:jar:3.0.6:compile\n |  +- org.springframework.boot:spring-boot:jar:3.0.6:compile\n |  +- org.springframework.boot:spring-boot-autoconfigure:jar:3.0.6:compile\n |  +- jakarta.annotation:jakarta.annotation-api:jar:2.1.1:compile\n |  \\- org.yaml:snakeyaml:jar:1.33:compile\n +- org.springframework.boot:spring-boot-starter-log4j2:jar:3.0.6:compile\n |  +- org.apache.logging.log4j:log4j-slf4j2-impl:jar:2.19.0:compile\n |  |  \\- org.apache.logging.log4j:log4j-api:jar:2.19.0:compile\n |  +- org.apache.logging.log4j:log4j-core:jar:2.19.0:compile\n |  \\- org.apache.logging.log4j:log4j-jul:jar:2.19.0:compile\n +- org.springframework:spring-webmvc:jar:6.0.8:compile\n +- org.apache.httpcomponents:httpclient:jar:4.5.14:compile\n |  +- org.apache.httpcomponents:httpcore:jar:4.4.16:compile\n |  \\- commons-codec:commons-codec:jar:1.15:compile\n +- org.apache.httpcomponents:httpmime:jar:4.5.14:compile\n +- org.glassfish.hk2:osgi-resource-locator:jar:2.5.0-b42:compile\n +- org.json:json:jar:20160810:compile\n +- com.paypal.sdk:paypal-core:jar:1.7.2:compile\n +- com.paypal.sdk:rest-api-sdk:jar:1.13.0:compile\n +- com.paypal.sdk:adaptivepaymentssdk:jar:2.9.117:compile\n +- org.quartz-scheduler:quartz:jar:2.3.2:compile\n |  \\- com.mchange:mchange-commons-java:jar:0.2.15:compile\n +- com.paypal.sdk:permissionssdk:jar:2.6.109:compile\n +- org.jsoup:jsoup:jar:1.10.2:compile\n +- commons-lang:commons-lang:jar:2.6:compile\n +- commons-logging:commons-logging:jar:1.2:compile\n +- mysql:mysql-connector-java:jar:8.0.30:compile\n |  \\- com.google.protobuf:protobuf-java:jar:3.19.4:compile\n +- org.glassfish.jaxb:jaxb-runtime:jar:4.0.2:compile\n |  \\- org.glassfish.jaxb:jaxb-core:jar:4.0.2:compile\n |     +- org.eclipse.angus:angus-activation:jar:2.0.0:runtime\n |     +- org.glassfish.jaxb:txw2:jar:4.0.2:compile\n |     \\- com.sun.istack:istack-commons-runtime:jar:4.1.1:compile\n +- jakarta.xml.bind:jakarta.xml.bind-api:jar:4.0.0:compile\n |  \\- jakarta.activation:jakarta.activation-api:jar:2.1.1:compile\n +- com.sun.xml.bind:jaxb-impl:jar:4.0.2:runtime\n |  \\- com.sun.xml.bind:jaxb-core:jar:4.0.2:runtime\n +- jakarta.mail:jakarta.mail-api:jar:2.1.1:compile\n +- org.hibernate.orm:hibernate-core:jar:6.1.7.Final:compile\n |  +- jakarta.persistence:jakarta.persistence-api:jar:3.1.0:compile\n |  +- jakarta.transaction:jakarta.transaction-api:jar:2.0.1:compile\n |  +- org.jboss.logging:jboss-logging:jar:3.5.0.Final:runtime\n |  +- org.hibernate.common:hibernate-commons-annotations:jar:6.0.6.Final:runtime\n |  +- org.jboss:jandex:jar:2.4.2.Final:runtime\n |  +- com.fasterxml:classmate:jar:1.5.1:runtime\n |  +- net.bytebuddy:byte-buddy:jar:1.12.23:runtime\n |  +- jakarta.inject:jakarta.inject-api:jar:2.0.0:runtime\n |  \\- org.antlr:antlr4-runtime:jar:4.10.1:runtime\n +- org.springframework.boot:spring-boot-starter-web:jar:3.0.6:compile\n +- org.springframework.boot:spring-boot-starter-tomcat:jar:3.0.6:compile\n |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:10.1.8:compile\n |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:10.1.8:compile\n |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:10.1.8:compile\n +- org.apache.tomcat.embed:tomcat-embed-jasper:jar:10.1.8:compile\n |  \\- org.eclipse.jdt:ecj:jar:3.33.0:compile\n +- jakarta.servlet:jakarta.servlet-api:jar:6.0.0:compile\n +- jakarta.servlet.jsp:jakarta.servlet.jsp-api:jar:3.0.0:compile\n +- org.glassfish.web:jakarta.servlet.jsp.jstl:jar:3.0.1:compile\n +- jakarta.servlet.jsp.jstl:jakarta.servlet.jsp.jstl-api:jar:3.0.0:compile\n |  \\- jakarta.el:jakarta.el-api:jar:5.0.0:compile\n \\- org.eclipse.jetty:apache-jsp:jar:11.0.15:compile\n    +- org.eclipse.jetty:jetty-util:jar:11.0.15:compile\n    +- org.mortbay.jasper:apache-jsp:jar:10.0.14:compile\n    |  +- org.eclipse.jetty.toolchain:jetty-schemas:jar:5.2:compile\n    |  \\- org.mortbay.jasper:apache-el:jar:10.0.14:compile\n    \\- org.eclipse.jetty.toolchain:jetty-jakarta-servlet-api:jar:5.0.2:compile\n</code></pre>\n"},{"tags":["java","spring","spring-boot","security","swagger"],"owner":{"account_id":28332188,"reputation":1,"user_id":21666290,"display_name":"Jan Potarski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684006490,"creation_date":1684006490,"question_id":76244557,"body_markdown":"Recently I tried to add SwaggerUI to my REST application. I added needed dependencies and set up security config so my filter chain permits access to Swagger without authorization: \r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor(onConstructor = @__(@Lazy))\r\npublic class ApplicationConfig {\r\n\r\n    private final JwtTokenProvider jwtTokenProvider;\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\r\n        return authenticationConfiguration.getAuthenticationManager();\r\n    }\r\n\r\n    @Configuration\r\n    public class RequestLoggingFilterConfig {\r\n\r\n        @Bean\r\n        public CommonsRequestLoggingFilter logFilter() {\r\n            CommonsRequestLoggingFilter filter\r\n                    = new CommonsRequestLoggingFilter();\r\n            filter.setIncludeQueryString(true);\r\n            filter.setIncludePayload(true);\r\n            filter.setMaxPayloadLength(10000);\r\n            filter.setIncludeHeaders(false);\r\n            filter.setAfterMessagePrefix(&quot;REQUEST DATA: &quot;);\r\n            return filter;\r\n        }\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n        httpSecurity\r\n                .csrf().disable()\r\n                .cors()\r\n                .and()\r\n                .httpBasic().disable()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .exceptionHandling()\r\n               .authenticationEntryPoint((request, response, authException) -&gt; {\r\n                 response.setStatus(HttpStatus.UNAUTHORIZED.value());\r\n                 response.getWriter().write(&quot;Unauthorized 1.&quot;);\r\n               })\r\n                .accessDeniedHandler((request, response, accessDeniedException) -&gt; {\r\n                    response.setStatus(HttpStatus.FORBIDDEN.value());\r\n                  response.getWriter().write(&quot;Unauthorized 2.&quot;);\r\n                })\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers((&quot;/api/v1/auth/register&quot;)).permitAll()\r\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\r\n                .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n                .requestMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .anonymous().disable()\r\n                .addFilterBefore(new JwtTokenFilter(jwtTokenProvider), UsernamePasswordAuthenticationFilter.class);\r\n\r\n        return httpSecurity.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\nFor some reason, when I try to access http://localhost:8080/swagger-ui/index.html i got &quot;Unauthorized 1.&quot; error. Is there something wrong with my configuration? Other endpoints that should work without auth are working well (for example, all endpoints for AuthController): \r\n\r\n\r\n```\r\n.requestMatchers((&quot;/api/v1/auth/register&quot;)).permitAll() // works fine\r\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll() // gets 401 error\r\n                .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\r\n```\r\n","title":"Can&#39;t access SwaggerUI in Spring Boot application","body":"<p>Recently I tried to add SwaggerUI to my REST application. I added needed dependencies and set up security config so my filter chain permits access to Swagger without authorization:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor(onConstructor = @__(@Lazy))\npublic class ApplicationConfig {\n\n    private final JwtTokenProvider jwtTokenProvider;\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authenticationConfiguration) throws Exception {\n        return authenticationConfiguration.getAuthenticationManager();\n    }\n\n    @Configuration\n    public class RequestLoggingFilterConfig {\n\n        @Bean\n        public CommonsRequestLoggingFilter logFilter() {\n            CommonsRequestLoggingFilter filter\n                    = new CommonsRequestLoggingFilter();\n            filter.setIncludeQueryString(true);\n            filter.setIncludePayload(true);\n            filter.setMaxPayloadLength(10000);\n            filter.setIncludeHeaders(false);\n            filter.setAfterMessagePrefix(&quot;REQUEST DATA: &quot;);\n            return filter;\n        }\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .csrf().disable()\n                .cors()\n                .and()\n                .httpBasic().disable()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .exceptionHandling()\n               .authenticationEntryPoint((request, response, authException) -&gt; {\n                 response.setStatus(HttpStatus.UNAUTHORIZED.value());\n                 response.getWriter().write(&quot;Unauthorized 1.&quot;);\n               })\n                .accessDeniedHandler((request, response, accessDeniedException) -&gt; {\n                    response.setStatus(HttpStatus.FORBIDDEN.value());\n                  response.getWriter().write(&quot;Unauthorized 2.&quot;);\n                })\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers((&quot;/api/v1/auth/register&quot;)).permitAll()\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll()\n                .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n                .requestMatchers(&quot;/v3/api-docs/**&quot;).permitAll()\n                .anyRequest().authenticated()\n                .and()\n                .anonymous().disable()\n                .addFilterBefore(new JwtTokenFilter(jwtTokenProvider), UsernamePasswordAuthenticationFilter.class);\n\n        return httpSecurity.build();\n    }\n}\n</code></pre>\n<p>For some reason, when I try to access http://localhost:8080/swagger-ui/index.html i got &quot;Unauthorized 1.&quot; error. Is there something wrong with my configuration? Other endpoints that should work without auth are working well (for example, all endpoints for AuthController):</p>\n<pre><code>.requestMatchers((&quot;/api/v1/auth/register&quot;)).permitAll() // works fine\n                .requestMatchers(&quot;/api/v1/auth/**&quot;).permitAll() // gets 401 error\n                .requestMatchers(&quot;/swagger-ui/**&quot;).permitAll()\n</code></pre>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684005468,"post_id":76244487,"comment_id":134454542,"body_markdown":"The characters aren&#39;t actually in your file... These are called something like parameter hints. Check the settings of the Java extension.. What settings did you change already?","body":"The characters aren&#39;t actually in your file... These are called something like parameter hints. Check the settings of the Java extension.. What settings did you change already?"},{"owner":{"account_id":28593529,"reputation":11,"user_id":21892218,"display_name":"Virendra Ghule"},"score":0,"creation_date":1684005695,"post_id":76244487,"comment_id":134454564,"body_markdown":"actually i have recently installed &quot;extension pack for java from microsoft&quot;  after that this started. When i uninstalled it. it vanished but i want that extension also not this ghost boxes.","body":"actually i have recently installed &quot;extension pack for java from microsoft&quot;  after that this started. When i uninstalled it. it vanished but i want that extension also not this ghost boxes."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684006331,"post_id":76244487,"comment_id":134454648,"body_markdown":"Yes, it&#39;s specific to Java, but some other languages add it as well... For learning they might not be useful, but if you clone an open source repo and have no idea what code is doing, the hints help a lot (assuming parameter names make sense)","body":"Yes, it&#39;s specific to Java, but some other languages add it as well... For learning they might not be useful, but if you clone an open source repo and have no idea what code is doing, the hints help a lot (assuming parameter names make sense)"}],"answers":[{"tags":[],"owner":{"account_id":6076924,"reputation":1143,"user_id":4743979,"accept_rate":50,"display_name":"DutChen18"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684005781,"creation_date":1684005781,"answer_id":76244516,"question_id":76244487,"body_markdown":"These are called &quot;Inlay Hints&quot;, press ctrl+comma to open the settings menu, search for &quot;Inlay Hints&quot;, and turn them off.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LIp3f.png","title":"how to remove vs code unnecessary characters(how to remove that &quot;s:&quot;)?","body":"<p>These are called &quot;Inlay Hints&quot;, press ctrl+comma to open the settings menu, search for &quot;Inlay Hints&quot;, and turn them off.</p>\n<p><a href=\"https://i.stack.imgur.com/LIp3f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LIp3f.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":28593529,"reputation":11,"user_id":21892218,"display_name":"Virendra Ghule"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1684006085,"accepted_answer_id":76244516,"answer_count":1,"score":-1,"last_activity_date":1684005781,"creation_date":1684005164,"question_id":76244487,"body_markdown":"how to remove that &quot;s:&quot; in vs code ![](https://i.stack.imgur.com/Gbf7y.png)\r\n\r\nRecently I have added an debugger and other java extensions may be that suggesting it and also tried some change in settings of vs code to remove this but it didn&#39;t worked.","title":"how to remove vs code unnecessary characters(how to remove that &quot;s:&quot;)?","body":"<p>how to remove that &quot;s:&quot; in vs code <img src=\"https://i.stack.imgur.com/Gbf7y.png\" alt=\"\" /></p>\n<p>Recently I have added an debugger and other java extensions may be that suggesting it and also tried some change in settings of vs code to remove this but it didn't worked.</p>\n"},{"tags":["java","intellij-idea","plugins","intellij-plugin"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1684000509,"post_id":76244096,"comment_id":134453993,"body_markdown":"It means that the library, probably `org.apache.avro`, isn&#39;t on the class path or included in the libraries that your version of Spring uses.  You&#39;ll need to do that.  If this is on your workstation, you&#39;ll need to download that library and then add it to either your project in IntelliJ or to your local Spring boot server, just depending on what&#39;s best for you.","body":"It means that the library, probably <code>org.apache.avro</code>, isn&#39;t on the class path or included in the libraries that your version of Spring uses.  You&#39;ll need to do that.  If this is on your workstation, you&#39;ll need to download that library and then add it to either your project in IntelliJ or to your local Spring boot server, just depending on what&#39;s best for you."},{"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"score":0,"creation_date":1684002607,"post_id":76244096,"comment_id":134454231,"body_markdown":"But I have added this in ```build.gradle.kts``` file like this\n```dependencies {\n    // Other dependencies\n    implementation(&quot;org.apache.avro:avro:1.11.1&quot;)\n}\n``` Wont it download the library?","body":"But I have added this in <code>build.gradle.kts</code> file like this <code>dependencies {     &#47;&#47; Other dependencies     implementation(&quot;org.apache.avro:avro:1.11.1&quot;) } </code> Wont it download the library?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1684011647,"post_id":76244096,"comment_id":134455234,"body_markdown":"But where does that install the library?  Does that set the class path for you?  We&#39;d need more information about your environment to know what is really happening.","body":"But where does that install the library?  Does that set the class path for you?  We&#39;d need more information about your environment to know what is really happening."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684050817,"post_id":76244096,"comment_id":134457738,"body_markdown":"We need to see the **stacktrace** for the exception that was thrown while the JVM was initializing `ReflectData`.","body":"We need to see the <b>stacktrace</b> for the exception that was thrown while the JVM was initializing <code>ReflectData</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1684050948,"post_id":76244096,"comment_id":134457749,"body_markdown":"@markspace - I don&#39;t think it means that.  Its not a missing class.  Its an uncaught exception during static initialization.  We need to see &gt;that&lt; stacktrace.","body":"@markspace - I don&#39;t think it means that.  Its not a missing class.  Its an uncaught exception during static initialization.  We need to see &gt;that&lt; stacktrace."},{"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"score":0,"creation_date":1684056282,"post_id":76244096,"comment_id":134458250,"body_markdown":"Dont know why but got this issue solved by downgrading the avro schema dependency to 1.9.2","body":"Dont know why but got this issue solved by downgrading the avro schema dependency to 1.9.2"},{"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"score":0,"creation_date":1684056302,"post_id":76244096,"comment_id":134458255,"body_markdown":"But now unable to fetch the class from java file","body":"But now unable to fetch the class from java file"},{"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"score":0,"creation_date":1684056467,"post_id":76244096,"comment_id":134458271,"body_markdown":"@StephenC not getting any error in console, it keeps on running, identified the error in debug mode","body":"@StephenC not getting any error in console, it keeps on running, identified the error in debug mode"}],"owner":{"account_id":20027560,"reputation":838,"user_id":14681071,"display_name":"doc"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684004361,"creation_date":1683999285,"question_id":76244096,"body_markdown":"I am trying using reflectData class for my avro schema. The code is:\r\n\r\n    File myFile = new File(&quot;MyFile.java&quot;);\r\n    ReflectData reflectData = ReflectData.get();\r\n    reflectData.getSchema(myFile)\r\n\r\nWhen I try running this code in main, it gets executed as expected. Means there is no issue with dependencies.\r\nBut when I put the code in the method ```actionPerformed(AnActionEvent e)``` and run the plugin, I get the error Cannot initialize relfectData class like this ```java.lang.NoClassDefFoundError: Could not initialize class org.apache.avro.reflect.ReflectData```.\r\nI am not very good at java/springboot so might be missing something. Would really appreciate any help here. \r\nHere is my grade file\r\n\r\n    plugins {\r\n        id(&quot;java&quot;)\r\n        id(&quot;org.jetbrains.intellij&quot;) version &quot;1.12.0&quot;\r\n    }\r\n    \r\n    group = &quot;com.example&quot;\r\n    version = &quot;1.0-SNAPSHOT&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    // Configure Gradle IntelliJ Plugin\r\n    // Read more: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\r\n    intellij {\r\n        version.set(&quot;2022.2.1&quot;)\r\n        type.set(&quot;IC&quot;) // Target IDE Platform\r\n    \r\n        plugins.set(listOf(/* Plugin Dependencies */&quot;java&quot;))\r\n    }\r\n    \r\n    dependencies {\r\n        // Other dependencies\r\n        implementation(&quot;org.apache.avro:avro:1.11.1&quot;)\r\n    }\r\n    \r\n    tasks {\r\n        // Set the JVM compatibility versions\r\n        withType&lt;JavaCompile&gt; {\r\n            sourceCompatibility = &quot;11&quot;\r\n            targetCompatibility = &quot;11&quot;\r\n        }\r\n    \r\n        patchPluginXml {\r\n            sinceBuild.set(&quot;213&quot;)\r\n            untilBuild.set(&quot;223.*&quot;)\r\n        }\r\n   \r\n    }\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class org.apache.avro.reflect.ReflectData","body":"<p>I am trying using reflectData class for my avro schema. The code is:</p>\n<pre><code>File myFile = new File(&quot;MyFile.java&quot;);\nReflectData reflectData = ReflectData.get();\nreflectData.getSchema(myFile)\n</code></pre>\n<p>When I try running this code in main, it gets executed as expected. Means there is no issue with dependencies.\nBut when I put the code in the method <code>actionPerformed(AnActionEvent e)</code> and run the plugin, I get the error Cannot initialize relfectData class like this <code>java.lang.NoClassDefFoundError: Could not initialize class org.apache.avro.reflect.ReflectData</code>.\nI am not very good at java/springboot so might be missing something. Would really appreciate any help here.\nHere is my grade file</p>\n<pre><code>plugins {\n    id(&quot;java&quot;)\n    id(&quot;org.jetbrains.intellij&quot;) version &quot;1.12.0&quot;\n}\n\ngroup = &quot;com.example&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\n// Configure Gradle IntelliJ Plugin\n// Read more: https://plugins.jetbrains.com/docs/intellij/tools-gradle-intellij-plugin.html\nintellij {\n    version.set(&quot;2022.2.1&quot;)\n    type.set(&quot;IC&quot;) // Target IDE Platform\n\n    plugins.set(listOf(/* Plugin Dependencies */&quot;java&quot;))\n}\n\ndependencies {\n    // Other dependencies\n    implementation(&quot;org.apache.avro:avro:1.11.1&quot;)\n}\n\ntasks {\n    // Set the JVM compatibility versions\n    withType&lt;JavaCompile&gt; {\n        sourceCompatibility = &quot;11&quot;\n        targetCompatibility = &quot;11&quot;\n    }\n\n    patchPluginXml {\n        sinceBuild.set(&quot;213&quot;)\n        untilBuild.set(&quot;223.*&quot;)\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","api","rest","web"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684007581,"post_id":76244412,"comment_id":134454821,"body_markdown":"Hello, modify the package of the classes to be the same. Like com.example.demo","body":"Hello, modify the package of the classes to be the same. Like com.example.demo"},{"owner":{"display_name":"user18043163"},"score":0,"creation_date":1684016359,"post_id":76244412,"comment_id":134455622,"body_markdown":"Muchas gracias por tu apoyo logre solucionar el problema","body":"Muchas gracias por tu apoyo logre solucionar el problema"}],"owner":{"display_name":"user18043163"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684004227,"creation_date":1684004085,"question_id":76244412,"body_markdown":"I hope your help I have a problem since a week ago I have been with the 404 error it gives me this error &quot;Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n\r\nSat May 13 12:51:05 CST 2023\r\nThere was an unexpected error (type=Not Found, status=404).&quot; even though it is only a hello world I already tried tutorials and some forums right here and I can not solve it I will leave everything to you the code so that you can help me I would be very grateful with you\r\n\r\narchivo pom:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.11&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nArchivo Controller:\r\n\r\n\r\n```\r\n/*\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\r\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\r\n */\r\npackage controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n/**\r\n *\r\n * @author \r\n */\r\n\r\n\r\n\r\n@RestController\r\npublic class HelloWorldController {\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String hello() {\r\n        return &quot;Hello, World!&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nApplication.java\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\nAplicationTest:\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass DemoApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nAplication.properties\r\n\r\n```\r\nspring.datasource.url = jdbc:mysql://localhost:3306/cgbjemct?zeroDateTimeBehavior=CONVERT_TO_NULL\r\nspring.datasource.username = root\r\nspring.datasource.password = j797EMCt\r\nspring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.show-sql=true\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\nCheck the URI\r\ncheck the code\r\n\r\n","title":"Whitelabel Error Page 404 Api REST Whit Java","body":"<p>I hope your help I have a problem since a week ago I have been with the 404 error it gives me this error &quot;Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.</p>\n<p>Sat May 13 12:51:05 CST 2023\nThere was an unexpected error (type=Not Found, status=404).&quot; even though it is only a hello world I already tried tutorials and some forums right here and I can not solve it I will leave everything to you the code so that you can help me I would be very grateful with you</p>\n<p>archivo pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.11&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Archivo Controller:</p>\n<pre><code>/*\n * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license\n * Click nbfs://nbhost/SystemFileSystem/Templates/Classes/Class.java to edit this template\n */\npackage controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n/**\n *\n * @author \n */\n\n\n\n@RestController\npublic class HelloWorldController {\n\n    @GetMapping(&quot;/&quot;)\n    public String hello() {\n        return &quot;Hello, World!&quot;;\n    }\n}\n\n</code></pre>\n<p>Application.java</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>AplicationTest:</p>\n<pre><code>package com.example.demo;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass DemoApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n\n</code></pre>\n<p>Aplication.properties</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/cgbjemct?zeroDateTimeBehavior=CONVERT_TO_NULL\nspring.datasource.username = root\nspring.datasource.password = j797EMCt\nspring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n\n</code></pre>\n<p>Check the URI\ncheck the code</p>\n"},{"tags":["java","css","javafx","javafx-11"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1683999194,"creation_date":1683996417,"answer_id":76243886,"question_id":76243287,"body_markdown":"First, note you have a syntax error in your CSS file:\r\n\r\n    -fx-stroke = green;\r\n\r\nshould be\r\n\r\n    -fx-stroke: green;\r\n\r\nAdditionally, note from the [documentation](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#line) that the style class of `Line` is empty by default. (Only `Control` and its subclasses, along with `ImageView`, `WebView`, and `MediaView` have default style classes.) Consequently, the selector will not select the line. You can either add the style class to the line explicitly:\r\n\r\n        Line l = new Line(10,10,90,90);\r\n        l.getStyleClass().add(&quot;line&quot;);\r\n\r\nor us a Type Selector. From the documentation:\r\n\r\n&gt;Node&#39;s getTypeSelector method returns a String which is analogous to a CSS Type Selector. By default, this method returns the simple name of the class. \r\n\r\nSo the following will work without adding the style class in the Java code:\r\n\r\n    Line {\r\n    -fx-stroke: green;\r\n    \r\n    }","title":"Separate css file for JavaFX project","body":"<p>First, note you have a syntax error in your CSS file:</p>\n<pre><code>-fx-stroke = green;\n</code></pre>\n<p>should be</p>\n<pre><code>-fx-stroke: green;\n</code></pre>\n<p>Additionally, note from the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#line\" rel=\"noreferrer\">documentation</a> that the style class of <code>Line</code> is empty by default. (Only <code>Control</code> and its subclasses, along with <code>ImageView</code>, <code>WebView</code>, and <code>MediaView</code> have default style classes.) Consequently, the selector will not select the line. You can either add the style class to the line explicitly:</p>\n<pre><code>    Line l = new Line(10,10,90,90);\n    l.getStyleClass().add(&quot;line&quot;);\n</code></pre>\n<p>or us a Type Selector. From the documentation:</p>\n<blockquote>\n<p>Node's getTypeSelector method returns a String which is analogous to a CSS Type Selector. By default, this method returns the simple name of the class.</p>\n</blockquote>\n<p>So the following will work without adding the style class in the Java code:</p>\n<pre><code>Line {\n-fx-stroke: green;\n\n}\n</code></pre>\n"}],"owner":{"account_id":22193396,"reputation":3,"user_id":16435171,"display_name":"Mazen Saeed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76243886,"answer_count":1,"score":0,"last_activity_date":1684003773,"creation_date":1683988979,"question_id":76243287,"body_markdown":"How can I apply a certain style for all lines objects in a separate css file for a javaFX project? This is the java code :\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.shape.Line;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        Pane root = new Pane();\r\n        Scene scene = new Scene(root, 1200, 800);\r\n        stage.setTitle(&quot;Simulink viewer&quot;);\r\n        Label l1 = new Label(&quot;hdkhsd&quot;);\r\n        l1.setLayoutX(100);\r\n        l1.setLayoutY(100);\r\n        Label l2 = new Label(&quot;helle&quot;);\r\n        l2.setLayoutX(400);\r\n        l2.setLayoutY(400);\r\n        root.getChildren().addAll(l1,l2);\r\n        Line l = new Line(10,10,90,90);\r\n        root.getChildren().add(l);\r\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\nAnd this is the css file:\r\n\r\n```\r\n.root{\r\n-fx-background-color : #ADD8E6;\r\n}\r\n\r\n.label {\r\n-fx-border-color: red;\r\n}\r\n\r\n.line {\r\n-fx-stroke = green;\r\n\r\n}\r\n```\r\n\r\nThe style works for both root and label, but it doesn&#39;t work for line. What is the problem?\r\n\r\nI&#39;m having this warning:\r\n \r\n&gt;May 13, 2023 4:31:05 PM javafx.css.CssParser declaration\r\nWARNING: CSS Error parsing file:/E:/College/Now/Advanced/Projects/normal%20java%20projects/demo/target/classes/com/example/demo/style.css: Expected COLON at [10,11]\r\n \r\nI actually read that style class for line is empty by default. What does that mean? Does it mean I can&#39;t style line in a separate css file?","title":"Separate css file for JavaFX project","body":"<p>How can I apply a certain style for all lines objects in a separate css file for a javaFX project? This is the java code :</p>\n<pre><code>package com.example.demo;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.shape.Line;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        Pane root = new Pane();\n        Scene scene = new Scene(root, 1200, 800);\n        stage.setTitle(&quot;Simulink viewer&quot;);\n        Label l1 = new Label(&quot;hdkhsd&quot;);\n        l1.setLayoutX(100);\n        l1.setLayoutY(100);\n        Label l2 = new Label(&quot;helle&quot;);\n        l2.setLayoutX(400);\n        l2.setLayoutY(400);\n        root.getChildren().addAll(l1,l2);\n        Line l = new Line(10,10,90,90);\n        root.getChildren().add(l);\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>And this is the css file:</p>\n<pre><code>.root{\n-fx-background-color : #ADD8E6;\n}\n\n.label {\n-fx-border-color: red;\n}\n\n.line {\n-fx-stroke = green;\n\n}\n</code></pre>\n<p>The style works for both root and label, but it doesn't work for line. What is the problem?</p>\n<p>I'm having this warning:</p>\n<blockquote>\n<p>May 13, 2023 4:31:05 PM javafx.css.CssParser declaration\nWARNING: CSS Error parsing file:/E:/College/Now/Advanced/Projects/normal%20java%20projects/demo/target/classes/com/example/demo/style.css: Expected COLON at [10,11]</p>\n</blockquote>\n<p>I actually read that style class for line is empty by default. What does that mean? Does it mean I can't style line in a separate css file?</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":14768316,"reputation":294,"user_id":10665634,"display_name":"bramasta vikana"},"score":1,"creation_date":1683987500,"post_id":76243136,"comment_id":134452307,"body_markdown":"it depends , if your application is large it would be more efficient if you use the second case because it will make your database slower to load because of the mapping, the bad side of second case, its requires efford to manage the relationship between the entity, because you are doing it manually","body":"it depends , if your application is large it would be more efficient if you use the second case because it will make your database slower to load because of the mapping, the bad side of second case, its requires efford to manage the relationship between the entity, because you are doing it manually"},{"owner":{"account_id":5941522,"reputation":3193,"user_id":4672556,"accept_rate":54,"display_name":"Charlie"},"score":1,"creation_date":1683987675,"post_id":76243136,"comment_id":134452331,"body_markdown":"When in doubt about mapping entities in hibernate I always refer to articles by Vlad Mihalcea https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/","body":"When in doubt about mapping entities in hibernate I always refer to articles by Vlad Mihalcea <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetomany-association-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1683987694,"post_id":76243136,"comment_id":134452337,"body_markdown":"@bramastavikana But in a second case primary key and foreign key is not actully mapped in database. But we will manage like that. Am I right","body":"@bramastavikana But in a second case primary key and foreign key is not actully mapped in database. But we will manage like that. Am I right"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":0,"creation_date":1683987966,"post_id":76243136,"comment_id":134452375,"body_markdown":"@Charlie  I know very well Vlad Mihalcea articles are best for mapping. I was triend to find my question from Vlad Mihalcea artical but I didn&#39;t get the exect answer.","body":"@Charlie  I know very well Vlad Mihalcea articles are best for mapping. I was triend to find my question from Vlad Mihalcea artical but I didn&#39;t get the exect answer."},{"owner":{"account_id":14768316,"reputation":294,"user_id":10665634,"display_name":"bramasta vikana"},"score":1,"creation_date":1683988035,"post_id":76243136,"comment_id":134452386,"body_markdown":"Yup, correct , the second case, the relationship between the flight and booking entities is not explicitly mapped in the database @FaheemazazBhanej","body":"Yup, correct , the second case, the relationship between the flight and booking entities is not explicitly mapped in the database @FaheemazazBhanej"},{"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"score":1,"creation_date":1683988181,"post_id":76243136,"comment_id":134452405,"body_markdown":"@bramastavikana Much thanks for providing me a better solution","body":"@bramastavikana Much thanks for providing me a better solution"},{"owner":{"account_id":27940466,"reputation":70,"user_id":21336593,"display_name":"David"},"score":1,"creation_date":1684004968,"post_id":76243136,"comment_id":134454485,"body_markdown":"It all comes down to the decision of the guy signing your paycheck. If he wants bi-directional relational mapping, thats the way to go. If he prefers your second case...there you go. If he decides to map those relations by sticky notes on your screen....make him to put it in writing, so you wont be blamed later, but do it his way :)","body":"It all comes down to the decision of the guy signing your paycheck. If he wants bi-directional relational mapping, thats the way to go. If he prefers your second case...there you go. If he decides to map those relations by sticky notes on your screen....make him to put it in writing, so you wont be blamed later, but do it his way :)"}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684003068,"creation_date":1684003068,"answer_id":76244343,"question_id":76243136,"body_markdown":"&gt; In a first case, I will map both entity with relational mapping annotations which will create a tight coupling with the database. In a second case, I will not map my both entity using relational mapping annotation. I think it will create a loose coupling with the database. I just wanted to know which is the efficient way to working with the mapping.\r\n\r\nIn both cases your code is completely coupled to the schema of your database.\r\n\r\nUsing `@OneToMany` and `@ManyToOne` doesn&#39;t make your code more closely dependent on the database. Whichever way you go, you have:\r\n\r\n- an `@Entity` class for each table, with \r\n- an attribute for each column.\r\n\r\nThat is, it&#39;s a copy in Java of the relational schema.\r\n\r\nAnd that&#39;s perfectly fine. Why should your Java entities be decoupled from the relational schema in the first place?\r\n\r\nYou have a data model. The relational schema is a representation of that model in SQL, and your `@Entity` classes are a representation of that model in Java. It&#39;s perfectly natural that they should be coupled. They represent the same thing.\r\n\r\nHell, _the whole point of ORM_ is to make it easy to couple them!\r\n\r\nDevelopers who just try to arbitrarily &quot;decouple&quot; things that don&#39;t need to be decoupled create bloat and complexity and unmaintainability further down the line.\r\n\r\n&gt; One of my senior told me to use relational mapping annotation will take much time to load your application.\r\n\r\nI mean, no experienced developer should be making a silly blanket statement like that, not without a whole lot of conditions and caveats, so perhaps you misunderstood.\r\n\r\nBut, anyway, here&#39;s my conditional and caveated statement.\r\n\r\nNo, it&#39;s not _in general_ the case that `@OneToMany` and `@ManyToOne` cause performance problems. JPA and Hibernate are used in millions of highly-performing systems all over the world, for the past two decades.\r\n\r\nOf course, I can easily come up with (contrived or otherwise) situations where one might want to avoid using associations in favor of something else. And certainly association mapping in ORM comes with some quirks and gotchas for the inexperienced.\r\n\r\nBut association mapping is _not_ a thing you should just avoid on principle. Rather: understand it, and learn to use it properly.\r\n","title":"Spring Boot: What is the best way to map entities","body":"<blockquote>\n<p>In a first case, I will map both entity with relational mapping annotations which will create a tight coupling with the database. In a second case, I will not map my both entity using relational mapping annotation. I think it will create a loose coupling with the database. I just wanted to know which is the efficient way to working with the mapping.</p>\n</blockquote>\n<p>In both cases your code is completely coupled to the schema of your database.</p>\n<p>Using <code>@OneToMany</code> and <code>@ManyToOne</code> doesn't make your code more closely dependent on the database. Whichever way you go, you have:</p>\n<ul>\n<li>an <code>@Entity</code> class for each table, with</li>\n<li>an attribute for each column.</li>\n</ul>\n<p>That is, it's a copy in Java of the relational schema.</p>\n<p>And that's perfectly fine. Why should your Java entities be decoupled from the relational schema in the first place?</p>\n<p>You have a data model. The relational schema is a representation of that model in SQL, and your <code>@Entity</code> classes are a representation of that model in Java. It's perfectly natural that they should be coupled. They represent the same thing.</p>\n<p>Hell, <em>the whole point of ORM</em> is to make it easy to couple them!</p>\n<p>Developers who just try to arbitrarily &quot;decouple&quot; things that don't need to be decoupled create bloat and complexity and unmaintainability further down the line.</p>\n<blockquote>\n<p>One of my senior told me to use relational mapping annotation will take much time to load your application.</p>\n</blockquote>\n<p>I mean, no experienced developer should be making a silly blanket statement like that, not without a whole lot of conditions and caveats, so perhaps you misunderstood.</p>\n<p>But, anyway, here's my conditional and caveated statement.</p>\n<p>No, it's not <em>in general</em> the case that <code>@OneToMany</code> and <code>@ManyToOne</code> cause performance problems. JPA and Hibernate are used in millions of highly-performing systems all over the world, for the past two decades.</p>\n<p>Of course, I can easily come up with (contrived or otherwise) situations where one might want to avoid using associations in favor of something else. And certainly association mapping in ORM comes with some quirks and gotchas for the inexperienced.</p>\n<p>But association mapping is <em>not</em> a thing you should just avoid on principle. Rather: understand it, and learn to use it properly.</p>\n"}],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76244343,"answer_count":1,"score":0,"last_activity_date":1684003068,"creation_date":1683986690,"question_id":76243136,"body_markdown":"I have two entities `Flight` and `Booking`. I will try to map this two entities. In a first case, I will map both entity with relational mapping annotations which will create a tight coupling with the database. In a second case, I will not map my both entity using relational mapping annotation. I think it will create a loose coupling with the database. I just wanted to know which is the efficient way to working with the mapping.\r\n\r\n**Here is my first case :**\r\n\r\nEntity\r\n```\r\npublic class Flight\r\n{\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long flightId;\r\n\tprivate Integer flightName;\r\n\tprivate Date departureTime;\r\n\t\r\n\t@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n\tprivate Set&lt;Booking&gt; bookings;\r\n\r\n    // Getter, Setter, Constructors\r\n}\r\n\r\npublic class Booking\r\n{\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long bookingId;\r\n\tprivate Integer passangerName;\r\n\tprivate String passengerLocation;\r\n\tprivate Date bookingTime;\r\n\t\r\n\t@ManyToOne\r\n\t@JoinColumn(name = &quot;flightId&quot;)\r\n\tprivate Flight flight;\r\n\r\n    // Getter, Setter, Constructors\r\n}\r\n```\r\n\r\n**Here is my second case :**\r\n\r\nEntity\r\n```\r\npublic class Flight\r\n{\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long flightId;\r\n\tprivate Integer flightName;\r\n\tprivate Date departureTime;\r\n\r\n    // Getter, Setter, Constructors\r\n}\r\n\r\npublic class Booking\r\n{\r\n    @Id\r\n\t@GeneratedValue(strategy = GenerationType.AUTO)\r\n\tprivate Long bookingId;\r\n\tprivate Integer passangerName;\r\n\tprivate String passengerLocation;\r\n\tprivate Date bookingTime;\r\n\t\r\n    // Here we will take a reference of Flight entity but it&#39;s not actully mapped\r\n\tprivate Long flightId;\r\n\r\n    // Getter, Setter, Constructors\r\n}\r\n```\r\n\r\nI am asking this question because, One of my senior told me to use relational mapping annotation will take much time to load your applicalication.","title":"Spring Boot: What is the best way to map entities","body":"<p>I have two entities <code>Flight</code> and <code>Booking</code>. I will try to map this two entities. In a first case, I will map both entity with relational mapping annotations which will create a tight coupling with the database. In a second case, I will not map my both entity using relational mapping annotation. I think it will create a loose coupling with the database. I just wanted to know which is the efficient way to working with the mapping.</p>\n<p><strong>Here is my first case :</strong></p>\n<p>Entity</p>\n<pre><code>public class Flight\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long flightId;\n    private Integer flightName;\n    private Date departureTime;\n    \n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n    private Set&lt;Booking&gt; bookings;\n\n    // Getter, Setter, Constructors\n}\n\npublic class Booking\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long bookingId;\n    private Integer passangerName;\n    private String passengerLocation;\n    private Date bookingTime;\n    \n    @ManyToOne\n    @JoinColumn(name = &quot;flightId&quot;)\n    private Flight flight;\n\n    // Getter, Setter, Constructors\n}\n</code></pre>\n<p><strong>Here is my second case :</strong></p>\n<p>Entity</p>\n<pre><code>public class Flight\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long flightId;\n    private Integer flightName;\n    private Date departureTime;\n\n    // Getter, Setter, Constructors\n}\n\npublic class Booking\n{\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long bookingId;\n    private Integer passangerName;\n    private String passengerLocation;\n    private Date bookingTime;\n    \n    // Here we will take a reference of Flight entity but it's not actully mapped\n    private Long flightId;\n\n    // Getter, Setter, Constructors\n}\n</code></pre>\n<p>I am asking this question because, One of my senior told me to use relational mapping annotation will take much time to load your applicalication.</p>\n"},{"tags":["java","swing","jframe","response","jbutton"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":3,"creation_date":1642877515,"post_id":70812525,"comment_id":125191688,"body_markdown":"`setLayout(null);` Use. Layouts!","body":"<code>setLayout(null);</code> Use. Layouts!"}],"answers":[{"tags":[],"owner":{"account_id":112753,"reputation":772,"user_id":297274,"accept_rate":23,"display_name":"cobp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642855299,"creation_date":1642855299,"answer_id":70812910,"question_id":70812525,"body_markdown":"setUpButtonListeners() are not executed in the program. So action listeners are not available. you can include setUpButtonListeners() in prepareGUI method.","title":"My Buttons won&#39;t execute the command given to them","body":"<p>setUpButtonListeners() are not executed in the program. So action listeners are not available. you can include setUpButtonListeners() in prepareGUI method.</p>\n"}],"owner":{"account_id":24019264,"reputation":1,"user_id":18001798,"display_name":"Soup"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684002697,"creation_date":1642852488,"question_id":70812525,"body_markdown":"I am trying to get the buttons to at least execute something when they are pressed and BlueJ doesn&#39;t show any errors, but when I execute the Program and I try to press the buttons, nothing happens. I am really unsure why that is the case. I would appreciate any help!\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionListener;\r\n    import java.awt.event.ActionEvent;\r\n    class MainMenu\r\n    {\r\n    JFrame frame= new JFrame();\r\n    JButton button = new JButton(&quot;Singleplayer&quot;);\r\n    JButton button2 = new JButton(&quot;Multiplayer&quot;);\r\n    MainMenu(){\r\n        prepareGUI();\r\n    }  \r\n\r\n\r\n    public void prepareGUI(){\r\n        frame.setTitle(&quot;Game&quot;);\r\n        frame.getContentPane().setLayout(null);\r\n        frame.add(button);\r\n        frame.add(button2);\r\n        button.setBounds(100,200,100,40);\r\n        button2.setBounds(200,200,100,40);\r\n        frame.setVisible(true);\r\n        frame.setBounds(200,200,400,400);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    }\r\n\r\n    \r\n    public void setUpButtonListeners(){\r\n        ActionListener buttonlistener = new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    frame.getContentPane().setBackground(Color.green);\r\n                    System.out.println(&quot;Singleplayer Selected&quot;);\r\n                }\r\n            };\r\n\r\n        ActionListener buttonlistener2 = new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent ae) {\r\n                    frame.getContentPane().setBackground(Color.red);\r\n                    System.out.println(&quot;Multiplayer Selected&quot;);\r\n                }\r\n            };\r\n        button.addActionListener(buttonlistener);\r\n        button2.addActionListener(buttonlistener2);\r\n    }\r\n    public class MainClass {\r\n        public void main(String args[] )\r\n        { \r\n            new MainMenu();\r\n        }\r\n    }\r\n    }\r\n","title":"My Buttons won&#39;t execute the command given to them","body":"<p>I am trying to get the buttons to at least execute something when they are pressed and BlueJ doesn't show any errors, but when I execute the Program and I try to press the buttons, nothing happens. I am really unsure why that is the case. I would appreciate any help!</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionListener;\nimport java.awt.event.ActionEvent;\nclass MainMenu\n{\nJFrame frame= new JFrame();\nJButton button = new JButton(&quot;Singleplayer&quot;);\nJButton button2 = new JButton(&quot;Multiplayer&quot;);\nMainMenu(){\n    prepareGUI();\n}  \n\n\npublic void prepareGUI(){\n    frame.setTitle(&quot;Game&quot;);\n    frame.getContentPane().setLayout(null);\n    frame.add(button);\n    frame.add(button2);\n    button.setBounds(100,200,100,40);\n    button2.setBounds(200,200,100,40);\n    frame.setVisible(true);\n    frame.setBounds(200,200,400,400);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n}\n\n\npublic void setUpButtonListeners(){\n    ActionListener buttonlistener = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                frame.getContentPane().setBackground(Color.green);\n                System.out.println(&quot;Singleplayer Selected&quot;);\n            }\n        };\n\n    ActionListener buttonlistener2 = new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent ae) {\n                frame.getContentPane().setBackground(Color.red);\n                System.out.println(&quot;Multiplayer Selected&quot;);\n            }\n        };\n    button.addActionListener(buttonlistener);\n    button2.addActionListener(buttonlistener2);\n}\npublic class MainClass {\n    public void main(String args[] )\n    { \n        new MainMenu();\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","maven","build","parent-pom"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1683809454,"post_id":76227350,"comment_id":134425427,"body_markdown":"There are missing a lot of details ... what exaclty is the problem? Why have to set your packaging to pom ? Why really necessary as parent?","body":"There are missing a lot of details ... what exaclty is the problem? Why have to set your packaging to pom ? Why really necessary as parent?"},{"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagić"},"score":0,"creation_date":1683813299,"post_id":76227350,"comment_id":134426467,"body_markdown":"Problem/question is stated in &quot;Is it possible to use a Maven dependency is the above described way?&quot; i.e. is it possible to import a dependency&#39;s build configuration as well as the dependency&#39;s classes.","body":"Problem/question is stated in &quot;Is it possible to use a Maven dependency is the above described way?&quot; i.e. is it possible to import a dependency&#39;s build configuration as well as the dependency&#39;s classes."},{"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagić"},"score":0,"creation_date":1683813344,"post_id":76227350,"comment_id":134426478,"body_markdown":"The answer to &quot; Why have to set your packaging to pom ?&quot; is &quot;To use the build configuration from the SDK I (think I) need to package it as a `pom`&quot;","body":"The answer to &quot; Why have to set your packaging to pom ?&quot; is &quot;To use the build configuration from the SDK I (think I) need to package it as a <code>pom</code>&quot;"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1683823704,"post_id":76227350,"comment_id":134429217,"body_markdown":"The build configuration from the SDK ? How is that defined ? Is that part of a plugin configuration or via properties in your pom file? Do you use a java agent or alike? Generally you can define an sdk in a dependency but the question is what is needed to configure things for a native image.. than things like configuration for the native build needed which sounds like a plugin?","body":"The build configuration from the SDK ? How is that defined ? Is that part of a plugin configuration or via properties in your pom file? Do you use a java agent or alike? Generally you can define an sdk in a dependency but the question is what is needed to configure things for a native image.. than things like configuration for the native build needed which sounds like a plugin?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683820691,"creation_date":1683820691,"answer_id":76229547,"question_id":76227350,"body_markdown":"You cannot mix the two aspects.\r\n\r\nTo provide a dependency, you build a JAR.\r\n\r\nTo provide build configuration, you can provide a parent POM. Beware, though, that many people already use parent POMs and you cannot have two parent POMs at the same time. So it might be better to provide an XML snippet to copy&amp;paste into the POM.","title":"Maven dependency with reusable build goals","body":"<p>You cannot mix the two aspects.</p>\n<p>To provide a dependency, you build a JAR.</p>\n<p>To provide build configuration, you can provide a parent POM. Beware, though, that many people already use parent POMs and you cannot have two parent POMs at the same time. So it might be better to provide an XML snippet to copy&amp;paste into the POM.</p>\n"}],"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagić"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684001052,"creation_date":1683805914,"question_id":76227350,"body_markdown":"I&#39;m working on a Java SDK. The project&#39;s build tool is Maven. The SDK provides classes (helpers) to write code for an API. It also provides a build configuration which makes it possible to build the application in a specific way (native image).\r\n\r\nTo use the build configuration from the SDK I (think I) need to package it as a `pom`, and then use it as a parent. However, to use all the SDK classes, I need to package it as a `jar`. \r\n\r\nIs it possible to use a Maven dependency is the above described way? Or maybe I actually need two projects, one for just the SDK, and the other one which would provide the build configuration?","title":"Maven dependency with reusable build goals","body":"<p>I'm working on a Java SDK. The project's build tool is Maven. The SDK provides classes (helpers) to write code for an API. It also provides a build configuration which makes it possible to build the application in a specific way (native image).</p>\n<p>To use the build configuration from the SDK I (think I) need to package it as a <code>pom</code>, and then use it as a parent. However, to use all the SDK classes, I need to package it as a <code>jar</code>.</p>\n<p>Is it possible to use a Maven dependency is the above described way? Or maybe I actually need two projects, one for just the SDK, and the other one which would provide the build configuration?</p>\n"},{"tags":["java","android","pjsip","pjsua2","voip-android"],"owner":{"account_id":5205521,"reputation":96,"user_id":4163601,"display_name":"Oleohi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684001010,"creation_date":1683542634,"question_id":76199790,"body_markdown":"I have a function in my VoIP dialer app that should call a service that terminates a call. So when an incoming call enters the phone via the app, there are options to decline and answer. When I click on the decline option, it seems to terminate the call from the app, but in reality the phone is still ringing from the other user&#39;s phone. Same thing also happens when i make an outgoing call via  the app, and decide to terminate. It cancels the call from the app, but still rings on the outgoing number&#39;s phone.\r\n\r\nBelow is my code\r\n\r\n```\r\ntype here\r\npublic void hangUp(View view) throws Exception {\r\n        stopRingTone();\r\n        SipServiceCommand.declineIncomingCall(this, uri, callID1);\r\n    }\r\n```\r\nThis is the declineIncomingCall method:\r\n\r\n```\r\ntype here\r\npublic static void declineIncomingCall(Context context, String accountID, int callID) {\r\n        checkAccount(accountID);\r\n        if(isAccountValid) {\r\n            Intent intent = new Intent(context, SipService.class);\r\n            intent.setAction(ACTION_DECLINE_INCOMING_CALL);\r\n            intent.putExtra(PARAM_ACCOUNT_ID, accountID);\r\n            intent.putExtra(PARAM_CALL_ID, callID);\r\n            context.startService(intent);\r\n        }\r\n    }\r\n```\r\nTHis is to stop the ringtone which is actually called in the onDestroy of the RingtonePlayingService :\r\n\r\n```\r\ntype here\r\npublic void stopRingTone() {\r\n        Intent stopIntent = new Intent(getApplicationContext(), RingTonePlayingService.class);\r\n        stopService(stopIntent);\r\n    }\r\n```\r\nBelow are sip services handling decline call:\r\n\r\n\r\n```\r\nprivate void handleDeclineIncomingCall(Intent intent) {\r\n        String accountID = intent.getStringExtra(PARAM_ACCOUNT_ID);\r\n        int callID = intent.getIntExtra(PARAM_CALL_ID, 0);\r\n\r\n        SipCall sipCall = getCall(accountID, callID);\r\n        if (sipCall != null) {\r\n            try {\r\n                sipCall.declineIncomingCall();\r\n            } catch (Exception exc) {\r\n                Logger.error(TAG, &quot;Error while declining incoming call. AccountID: &quot;\r\n                        + getValue(getApplicationContext(), accountID) + &quot;, CallID: &quot; + callID);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\npublic void declineIncomingCall() {\r\n        CallOpParam param = new CallOpParam();\r\n        param.setStatusCode(pjsip_status_code.PJSIP_SC_DECLINE);\r\n\r\n        try {\r\n            answer(param);\r\n        } catch (Exception exc) {\r\n            Logger.error(LOG_TAG, &quot;Failed to decline incoming call&quot;, exc);\r\n        }\r\n    }\r\n\r\n```\r\n\r\nCall to the Call.java class from our SIP library\r\n\r\n```\r\n public void hangup(CallOpParam prm) throws java.lang.Exception {\r\n    pjsua2JNI.Call_hangup(swigCPtr, this, CallOpParam.getCPtr(prm), prm);\r\n  }\r\n```\r\n\r\nDebugging with log statements show that the code runs into the correct blocks as it should, but somehow, it&#39;s not working as it should. I&#39;d appreciate any help\r\n","title":"Call termination using sip service in android not working","body":"<p>I have a function in my VoIP dialer app that should call a service that terminates a call. So when an incoming call enters the phone via the app, there are options to decline and answer. When I click on the decline option, it seems to terminate the call from the app, but in reality the phone is still ringing from the other user's phone. Same thing also happens when i make an outgoing call via  the app, and decide to terminate. It cancels the call from the app, but still rings on the outgoing number's phone.</p>\n<p>Below is my code</p>\n<pre><code>type here\npublic void hangUp(View view) throws Exception {\n        stopRingTone();\n        SipServiceCommand.declineIncomingCall(this, uri, callID1);\n    }\n</code></pre>\n<p>This is the declineIncomingCall method:</p>\n<pre><code>type here\npublic static void declineIncomingCall(Context context, String accountID, int callID) {\n        checkAccount(accountID);\n        if(isAccountValid) {\n            Intent intent = new Intent(context, SipService.class);\n            intent.setAction(ACTION_DECLINE_INCOMING_CALL);\n            intent.putExtra(PARAM_ACCOUNT_ID, accountID);\n            intent.putExtra(PARAM_CALL_ID, callID);\n            context.startService(intent);\n        }\n    }\n</code></pre>\n<p>THis is to stop the ringtone which is actually called in the onDestroy of the RingtonePlayingService :</p>\n<pre><code>type here\npublic void stopRingTone() {\n        Intent stopIntent = new Intent(getApplicationContext(), RingTonePlayingService.class);\n        stopService(stopIntent);\n    }\n</code></pre>\n<p>Below are sip services handling decline call:</p>\n<pre><code>private void handleDeclineIncomingCall(Intent intent) {\n        String accountID = intent.getStringExtra(PARAM_ACCOUNT_ID);\n        int callID = intent.getIntExtra(PARAM_CALL_ID, 0);\n\n        SipCall sipCall = getCall(accountID, callID);\n        if (sipCall != null) {\n            try {\n                sipCall.declineIncomingCall();\n            } catch (Exception exc) {\n                Logger.error(TAG, &quot;Error while declining incoming call. AccountID: &quot;\n                        + getValue(getApplicationContext(), accountID) + &quot;, CallID: &quot; + callID);\n            }\n        }\n    }\n</code></pre>\n<pre><code>public void declineIncomingCall() {\n        CallOpParam param = new CallOpParam();\n        param.setStatusCode(pjsip_status_code.PJSIP_SC_DECLINE);\n\n        try {\n            answer(param);\n        } catch (Exception exc) {\n            Logger.error(LOG_TAG, &quot;Failed to decline incoming call&quot;, exc);\n        }\n    }\n\n</code></pre>\n<p>Call to the Call.java class from our SIP library</p>\n<pre><code> public void hangup(CallOpParam prm) throws java.lang.Exception {\n    pjsua2JNI.Call_hangup(swigCPtr, this, CallOpParam.getCPtr(prm), prm);\n  }\n</code></pre>\n<p>Debugging with log statements show that the code runs into the correct blocks as it should, but somehow, it's not working as it should. I'd appreciate any help</p>\n"},{"tags":["java","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1261259,"reputation":6717,"user_id":1219487,"accept_rate":80,"display_name":"Chetter Hummin"},"score":0,"creation_date":1365683641,"post_id":15948795,"comment_id":22726152,"body_markdown":"Would SqlQuery do? http://static.springsource.org/spring/docs/2.5.x/api/","body":"Would SqlQuery do? <a href=\"http://static.springsource.org/spring/docs/2.5.x/api/\" rel=\"nofollow noreferrer\">static.springsource.org/spring/docs/2.5.x/api</a>"},{"owner":{"account_id":67541,"reputation":60858,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"score":0,"creation_date":1365683681,"post_id":15948795,"comment_id":22726176,"body_markdown":"How could I use that within a repository?  Or would I not use a repo and just use that object within my service?","body":"How could I use that within a repository?  Or would I not use a repo and just use that object within my service?"},{"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"score":0,"creation_date":1365683735,"post_id":15948795,"comment_id":22726209,"body_markdown":"Do you use spring-data-jpa?","body":"Do you use spring-data-jpa?"},{"owner":{"account_id":1261259,"reputation":6717,"user_id":1219487,"accept_rate":80,"display_name":"Chetter Hummin"},"score":0,"creation_date":1365683744,"post_id":15948795,"comment_id":22726217,"body_markdown":"@Webnet I&#39;m a bit new to Spring myself, but it looks to me that you could use that as an object","body":"@Webnet I&#39;m a bit new to Spring myself, but it looks to me that you could use that as an object"},{"owner":{"account_id":1972020,"reputation":3099,"user_id":1770716,"accept_rate":50,"display_name":"BlackJoker"},"score":0,"creation_date":1365684097,"post_id":15948795,"comment_id":22726412,"body_markdown":"have you tried Spring JDBCTemplate ?","body":"have you tried Spring JDBCTemplate ?"}],"answers":[{"tags":[],"owner":{"account_id":1333489,"reputation":17338,"user_id":1276804,"display_name":"zagyi"},"down_vote_count":2,"up_vote_count":161,"is_accepted":true,"score":159,"last_activity_date":1516183073,"creation_date":1365683896,"answer_id":15949012,"question_id":15948795,"body_markdown":"&gt;The @Query annotation allows to execute native queries by setting the nativeQuery flag to true.\r\n\r\nQuote from Spring Data JPA [reference docs][1].\r\n\r\nAlso, see [this section] [2] on how to do it with a named native query.\r\n\r\n[1]: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_native_queries\r\n[2]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries","title":"Is it possible to use raw SQL within a Spring Repository","body":"<blockquote>\n  <p>The @Query annotation allows to execute native queries by setting the nativeQuery flag to true.</p>\n</blockquote>\n\n<p>Quote from Spring Data JPA <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#_native_queries\" rel=\"noreferrer\">reference docs</a>.</p>\n\n<p>Also, see <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries\" rel=\"noreferrer\">this section</a> on how to do it with a named native query.</p>\n"},{"tags":[],"owner":{"account_id":1099263,"reputation":6000,"user_id":1092077,"display_name":"S&#233;bastien Deleuze"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1649135571,"creation_date":1463148104,"answer_id":37212043,"question_id":15948795,"body_markdown":"It is also possible to use [Spring Data JDBC][1], which is a fully supported Spring project built on top of Spring Data Commons to access to databases with raw SQL, without using JPA.\r\n\r\nIt is less powerful than Spring Data JPA, but if you want lightweight solution for simple projects without using a an ORM like Hibernate, that a solution worth to try.\r\n\r\n\r\n  [1]: https://spring.io/projects/spring-data-jdbc","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p>It is also possible to use <a href=\"https://spring.io/projects/spring-data-jdbc\" rel=\"nofollow noreferrer\">Spring Data JDBC</a>, which is a fully supported Spring project built on top of Spring Data Commons to access to databases with raw SQL, without using JPA.</p>\n<p>It is less powerful than Spring Data JPA, but if you want lightweight solution for simple projects without using a an ORM like Hibernate, that a solution worth to try.</p>\n"},{"tags":[],"owner":{"account_id":6833305,"reputation":3084,"user_id":5256337,"display_name":"Lova Chittumuri"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1619781813,"creation_date":1516183506,"answer_id":48298373,"question_id":15948795,"body_markdown":"we can use createNativeQuery(&quot;Here Native SQL Query &quot;);\r\n\r\nfor Example :\r\n\r\n    Query q = em.createNativeQuery(&quot;SELECT a.firstname, a.lastname FROM Author a&quot;);\r\n    List&lt;Object[]&gt; authors = q.getResultList();","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p>we can use createNativeQuery(&quot;Here Native SQL Query &quot;);</p>\n<p>for Example :</p>\n<pre><code>Query q = em.createNativeQuery(&quot;SELECT a.firstname, a.lastname FROM Author a&quot;);\nList&lt;Object[]&gt; authors = q.getResultList();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3691447,"reputation":6845,"user_id":3073945,"accept_rate":90,"display_name":"Md. Sajedul Karim"},"down_vote_count":0,"up_vote_count":69,"is_accepted":false,"score":69,"last_activity_date":1684000770,"creation_date":1526458137,"answer_id":50365522,"question_id":15948795,"body_markdown":"\r\n**1. By CrudRepository (Projection)**\r\n\r\n&gt;Spring Data Repositories usually return the domain model when using query methods. However, sometimes, you may need to alter the view of that model for various reasons. \r\n—[Source](https://docs.spring.io/spring-data/data-jpa/docs/2.0.0.M1/reference/html/#projections)\r\n\r\nSuppose your entity is like this :\r\n\r\n        import javax.persistence.*;\r\n        import java.math.BigDecimal;\r\n        \r\n        @Entity\r\n        @Table(name = &quot;USER_INFO_TEST&quot;)\r\n        public class UserInfoTest {\r\n            private int id;\r\n            private String name;\r\n            private String rollNo;\r\n        \r\n            public UserInfoTest() {\r\n            }\r\n    \r\n            public UserInfoTest(int id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n            }\r\n         \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            @Column(name = &quot;ID&quot;, nullable = false, precision = 0)\r\n            public int getId() {\r\n                return id;\r\n            }\r\n        \r\n            public void setId(int id) {\r\n                this.id = id;\r\n            }\r\n        \r\n            @Basic\r\n            @Column(name = &quot;name&quot;, nullable = true)\r\n            public String getName() {\r\n                return name;\r\n            }\r\n        \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n        \r\n            @Basic\r\n            @Column(name = &quot;roll_no&quot;, nullable = true)\r\n            public String getRollNo() {\r\n                return rollNo;\r\n            }\r\n        \r\n            public void setRollNo(String rollNo) {\r\n                this.rollNo = rollNo;\r\n            }\r\n        }\r\n\r\nNow your Projection class is like below. It can those fields that you needed.\r\n\r\n    public interface IUserProjection {\r\n         int getId();\r\n         String getName();\r\n         String getRollNo();\r\n    }\r\n\r\nAnd `Your Data Access Object(Dao) is like bellow` :\r\n\r\n    import org.springframework.data.jpa.repository.Query;\r\n    import org.springframework.data.repository.CrudRepository;\r\n    \r\n    import java.util.ArrayList;\r\n    \r\n    public interface UserInfoTestDao extends CrudRepository&lt;UserInfoTest,Integer&gt; {\r\n        @Query(value = &quot;select id,name,roll_no from USER_INFO_TEST where rollNo = ?1&quot;, nativeQuery = true)\r\n        ArrayList&lt;IUserProjection&gt; findUserUsingRollNo(String rollNo);\r\n    }\r\n\r\nNow `ArrayList&lt;IUserProjection&gt; findUserUsingRollNo(String rollNo)` will give you the list of user.\r\n\r\n**2. Using EntityManager** \r\n\r\nSuppose your query is &quot;***select id,name from users where roll_no = 1001***&quot;. \r\n\r\nHere query will return an object with id and name column. Your Response class is like bellow:\r\n\r\n\r\nYour Response class is like this:\r\n\r\n    public class UserObject{\r\n            int id;\r\n            String name;\r\n            String rollNo;\r\n    \r\n            public UserObject(Object[] columns) {\r\n                this.id = (columns[0] != null)?((BigDecimal)columns[0]).intValue():0;\r\n                this.name = (String) columns[1];\r\n            }\r\n    \r\n            public int getId() {\r\n                return id;\r\n            }\r\n    \r\n            public void setId(int id) {\r\n                this.id = id;\r\n            }\r\n    \r\n            public String getName() {\r\n                return name;\r\n            }\r\n    \r\n            public void setName(String name) {\r\n                this.name = name;\r\n            }\r\n    \r\n            public String getRollNo() {\r\n                return rollNo;\r\n            }\r\n    \r\n            public void setRollNo(String rollNo) {\r\n                this.rollNo = rollNo;\r\n            }\r\n        }\r\n\r\nhere UserObject constructor will get an Object Array and set data with the object.\r\n\r\n    public UserObject(Object[] columns) {\r\n                this.id = (columns[0] != null)?((BigDecimal)columns[0]).intValue():0;\r\n                this.name = (String) columns[1];\r\n            }\r\n\r\nYour query executing function is like bellow :\r\n\r\n    public UserObject getUserByRoll(EntityManager entityManager,String rollNo) {\r\n    \r\n            String queryStr = &quot;select id,name from users where roll_no = ?1&quot;;\r\n            try {\r\n                Query query = entityManager.createNativeQuery(queryStr);\r\n                query.setParameter(1, rollNo);\r\n    \r\n                return new UserObject((Object[]) query.getSingleResult());\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                throw e;\r\n            }\r\n        }\r\n\r\nHere you have to import bellow packages:\r\n\r\n    import javax.persistence.Query;\r\n    import javax.persistence.EntityManager;\r\n\r\n\r\nNow your main class, you have to call this function. First get EntityManager and call this `getUserByRoll(EntityManager entityManager,String rollNo)` function. The calling procedure is given below:\r\n\r\n**Here is the Imports** \r\n\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.PersistenceContext;\r\n\r\nget `EntityManager` from this way:\r\n\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n    \r\n    UserObject userObject = getUserByRoll(entityManager,&quot;1001&quot;);\r\n\r\nNow you have data in this userObject.\r\n\r\n**Note:**\r\n\r\n**query.getSingleResult()** return a object array. You have to maintain the column position and data type with the query column position.\r\n\r\n    select id,name from users where roll_no = 1001 \r\nquery return a array and it&#39;s `[0] --&gt; id and [1] -&gt; name`.\r\n\r\nMore info visit this [thread][1] and [this Thread][1]\r\n\r\nThanks :)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/50367467/3073945","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p><strong>1. By CrudRepository (Projection)</strong></p>\n<blockquote>\n<p>Spring Data Repositories usually return the domain model when using query methods. However, sometimes, you may need to alter the view of that model for various reasons.\n—<a href=\"https://docs.spring.io/spring-data/data-jpa/docs/2.0.0.M1/reference/html/#projections\" rel=\"nofollow noreferrer\">Source</a></p>\n</blockquote>\n<p>Suppose your entity is like this :</p>\n<pre><code>    import javax.persistence.*;\n    import java.math.BigDecimal;\n    \n    @Entity\n    @Table(name = &quot;USER_INFO_TEST&quot;)\n    public class UserInfoTest {\n        private int id;\n        private String name;\n        private String rollNo;\n    \n        public UserInfoTest() {\n        }\n\n        public UserInfoTest(int id, String name) {\n        this.id = id;\n        this.name = name;\n        }\n     \n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Column(name = &quot;ID&quot;, nullable = false, precision = 0)\n        public int getId() {\n            return id;\n        }\n    \n        public void setId(int id) {\n            this.id = id;\n        }\n    \n        @Basic\n        @Column(name = &quot;name&quot;, nullable = true)\n        public String getName() {\n            return name;\n        }\n    \n        public void setName(String name) {\n            this.name = name;\n        }\n    \n        @Basic\n        @Column(name = &quot;roll_no&quot;, nullable = true)\n        public String getRollNo() {\n            return rollNo;\n        }\n    \n        public void setRollNo(String rollNo) {\n            this.rollNo = rollNo;\n        }\n    }\n</code></pre>\n<p>Now your Projection class is like below. It can those fields that you needed.</p>\n<pre><code>public interface IUserProjection {\n     int getId();\n     String getName();\n     String getRollNo();\n}\n</code></pre>\n<p>And <code>Your Data Access Object(Dao) is like bellow</code> :</p>\n<pre><code>import org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\n\nimport java.util.ArrayList;\n\npublic interface UserInfoTestDao extends CrudRepository&lt;UserInfoTest,Integer&gt; {\n    @Query(value = &quot;select id,name,roll_no from USER_INFO_TEST where rollNo = ?1&quot;, nativeQuery = true)\n    ArrayList&lt;IUserProjection&gt; findUserUsingRollNo(String rollNo);\n}\n</code></pre>\n<p>Now <code>ArrayList&lt;IUserProjection&gt; findUserUsingRollNo(String rollNo)</code> will give you the list of user.</p>\n<p><strong>2. Using EntityManager</strong></p>\n<p>Suppose your query is &quot;<em><strong>select id,name from users where roll_no = 1001</strong></em>&quot;.</p>\n<p>Here query will return an object with id and name column. Your Response class is like bellow:</p>\n<p>Your Response class is like this:</p>\n<pre><code>public class UserObject{\n        int id;\n        String name;\n        String rollNo;\n\n        public UserObject(Object[] columns) {\n            this.id = (columns[0] != null)?((BigDecimal)columns[0]).intValue():0;\n            this.name = (String) columns[1];\n        }\n\n        public int getId() {\n            return id;\n        }\n\n        public void setId(int id) {\n            this.id = id;\n        }\n\n        public String getName() {\n            return name;\n        }\n\n        public void setName(String name) {\n            this.name = name;\n        }\n\n        public String getRollNo() {\n            return rollNo;\n        }\n\n        public void setRollNo(String rollNo) {\n            this.rollNo = rollNo;\n        }\n    }\n</code></pre>\n<p>here UserObject constructor will get an Object Array and set data with the object.</p>\n<pre><code>public UserObject(Object[] columns) {\n            this.id = (columns[0] != null)?((BigDecimal)columns[0]).intValue():0;\n            this.name = (String) columns[1];\n        }\n</code></pre>\n<p>Your query executing function is like bellow :</p>\n<pre><code>public UserObject getUserByRoll(EntityManager entityManager,String rollNo) {\n\n        String queryStr = &quot;select id,name from users where roll_no = ?1&quot;;\n        try {\n            Query query = entityManager.createNativeQuery(queryStr);\n            query.setParameter(1, rollNo);\n\n            return new UserObject((Object[]) query.getSingleResult());\n        } catch (Exception e) {\n            e.printStackTrace();\n            throw e;\n        }\n    }\n</code></pre>\n<p>Here you have to import bellow packages:</p>\n<pre><code>import javax.persistence.Query;\nimport javax.persistence.EntityManager;\n</code></pre>\n<p>Now your main class, you have to call this function. First get EntityManager and call this <code>getUserByRoll(EntityManager entityManager,String rollNo)</code> function. The calling procedure is given below:</p>\n<p><strong>Here is the Imports</strong></p>\n<pre><code>import javax.persistence.EntityManager;\nimport javax.persistence.PersistenceContext;\n</code></pre>\n<p>get <code>EntityManager</code> from this way:</p>\n<pre><code>@PersistenceContext\nprivate EntityManager entityManager;\n\nUserObject userObject = getUserByRoll(entityManager,&quot;1001&quot;);\n</code></pre>\n<p>Now you have data in this userObject.</p>\n<p><strong>Note:</strong></p>\n<p><strong>query.getSingleResult()</strong> return a object array. You have to maintain the column position and data type with the query column position.</p>\n<pre><code>select id,name from users where roll_no = 1001 \n</code></pre>\n<p>query return a array and it's <code>[0] --&gt; id and [1] -&gt; name</code>.</p>\n<p>More info visit this <a href=\"https://stackoverflow.com/a/50367467/3073945\">thread</a> and <a href=\"https://stackoverflow.com/a/50367467/3073945\">this Thread</a></p>\n<p>Thanks :)</p>\n"},{"tags":[],"owner":{"account_id":7025825,"reputation":1450,"user_id":5383238,"accept_rate":60,"display_name":"Abdur Rahman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1561110306,"creation_date":1561110306,"answer_id":56700881,"question_id":15948795,"body_markdown":"It is possible to use raw query within a Spring Repository. \r\n\r\n\r\n          @Query(value = &quot;SELECT A.IS_MUTUAL_AID FROM planex AS A \r\n                 INNER JOIN planex_rel AS B ON A.PLANEX_ID=B.PLANEX_ID  \r\n\t\t\t     WHERE B.GOOD_ID = :goodId&quot;,nativeQuery = true)\r\n\t\r\n          Boolean mutualAidFlag(@Param(&quot;goodId&quot;)Integer goodId);","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p>It is possible to use raw query within a Spring Repository. </p>\n\n<pre><code>      @Query(value = \"SELECT A.IS_MUTUAL_AID FROM planex AS A \n             INNER JOIN planex_rel AS B ON A.PLANEX_ID=B.PLANEX_ID  \n             WHERE B.GOOD_ID = :goodId\",nativeQuery = true)\n\n      Boolean mutualAidFlag(@Param(\"goodId\")Integer goodId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1769262,"reputation":5838,"user_id":1614428,"accept_rate":22,"display_name":"VK321"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1652277493,"creation_date":1617677549,"answer_id":66962124,"question_id":15948795,"body_markdown":"This is how you can use in simple form\r\n\r\n\r\n    @RestController\r\n    public class PlaceAPIController {\r\n\r\n        @Autowired\r\n        private EntityManager entityManager;\r\n\r\n        @RequestMapping(value = &quot;/api/places&quot;, method = RequestMethod.GET)\r\n        public List&lt;Place&gt; getPlaces() {\r\n            List&lt;Place&gt; results = entityManager.createNativeQuery(&quot;SELECT *  FROM places p limit 10&quot;).getResultList();\r\n            return results;\r\n        }\r\n    }","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p>This is how you can use in simple form</p>\n<pre><code>@RestController\npublic class PlaceAPIController {\n\n    @Autowired\n    private EntityManager entityManager;\n\n    @RequestMapping(value = &quot;/api/places&quot;, method = RequestMethod.GET)\n    public List&lt;Place&gt; getPlaces() {\n        List&lt;Place&gt; results = entityManager.createNativeQuery(&quot;SELECT *  FROM places p limit 10&quot;).getResultList();\n        return results;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":67541,"reputation":60858,"user_id":197606,"accept_rate":85,"display_name":"Ben"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269879,"favorite_count":0,"down_vote_count":0,"up_vote_count":145,"accepted_answer_id":15949012,"answer_count":6,"score":145,"last_activity_date":1684000770,"creation_date":1365683289,"question_id":15948795,"body_markdown":"I need to use raw SQL within a Spring Data Repository, is this possible?  Everything I see around `@Query` is always entity based.","title":"Is it possible to use raw SQL within a Spring Repository","body":"<p>I need to use raw SQL within a Spring Data Repository, is this possible?  Everything I see around <code>@Query</code> is always entity based.</p>\n"},{"tags":["java","lint","suppress-warnings","try-with-resources"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1664223397,"post_id":73859462,"comment_id":130417970,"body_markdown":"Don&#39;t you need `indention` inside the `try` to find out the current level to calculate the next one?","body":"Don&#39;t you need <code>indention</code> inside the <code>try</code> to find out the current level to calculate the next one?"},{"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"score":0,"creation_date":1664223750,"post_id":73859462,"comment_id":130418053,"body_markdown":"You can try `@SuppressWarnings(&quot;try&quot;)`","body":"You can try <code>@SuppressWarnings(&quot;try&quot;)</code>"},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664242067,"post_id":73859462,"comment_id":130421239,"body_markdown":"&quot;Don&#39;t you need indention inside the try to find out the current level to calculate the next one?&quot; @Mihe, no, these are internal state variables inside the serializer class itself. The serializer is not thread-safe; it keeps track of its current state. I don&#39;t want to pass all the different state variables around to the methods.","body":"&quot;Don&#39;t you need indention inside the try to find out the current level to calculate the next one?&quot; @Mihe, no, these are internal state variables inside the serializer class itself. The serializer is not thread-safe; it keeps track of its current state. I don&#39;t want to pass all the different state variables around to the methods."},{"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"score":0,"creation_date":1664243221,"post_id":73859462,"comment_id":130421415,"body_markdown":"@Mihe, unfortunately Eclipse claims it doesn&#39;t support `@SuppressWarnings(&quot;try&quot;)`, although that `-Xlint` option is listed in the [javac docs](https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html). (Sorry, my other comment was in reply to @cyberbrain.)","body":"@Mihe, unfortunately Eclipse claims it doesn&#39;t support <code>@SuppressWarnings(&quot;try&quot;)</code>, although that <code>-Xlint</code> option is listed in the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\">javac docs</a>. (Sorry, my other comment was in reply to @cyberbrain.)"}],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664224934,"creation_date":1664224934,"answer_id":73859746,"question_id":73859462,"body_markdown":"I&#39;d write something like this to avoid mutability. Without seeing more of your use case it&#39;s hard to know what to suggest:\r\n```java\r\nimport java.util.function.Consumer;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class Indenter {\r\n    private final int indentLevel;\r\n\r\n    public Indenter(int indentLevel) {\r\n        this.indentLevel = indentLevel;\r\n    }\r\n\r\n    public void withIndent(Consumer&lt;Indenter&gt; f) {\r\n        f.accept(new Indenter(indentLevel + 1));\r\n    }\r\n\r\n    public void indent(String s) {\r\n        // must be a neater way to do this?\r\n        System.out.println(IntStream.range(0, indentLevel).mapToObj(i -&gt; &quot; &quot;).collect(Collectors.joining()) + s);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Indenter i = new Indenter(0);\r\n        i.indent(&quot;x&quot;);\r\n        i.withIndent(i2 -&gt; {\r\n            i2.indent(&quot;y&quot;);\r\n        });\r\n    }\r\n}\r\n```","title":"Working around or suppressing try-with-resources varible not used warning","body":"<p>I'd write something like this to avoid mutability. Without seeing more of your use case it's hard to know what to suggest:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Consumer;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class Indenter {\n    private final int indentLevel;\n\n    public Indenter(int indentLevel) {\n        this.indentLevel = indentLevel;\n    }\n\n    public void withIndent(Consumer&lt;Indenter&gt; f) {\n        f.accept(new Indenter(indentLevel + 1));\n    }\n\n    public void indent(String s) {\n        // must be a neater way to do this?\n        System.out.println(IntStream.range(0, indentLevel).mapToObj(i -&gt; &quot; &quot;).collect(Collectors.joining()) + s);\n    }\n\n    public static void main(String[] args) {\n        Indenter i = new Indenter(0);\n        i.indent(&quot;x&quot;);\n        i.withIndent(i2 -&gt; {\n            i2.indent(&quot;y&quot;);\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664244296,"creation_date":1664244296,"answer_id":73861648,"question_id":73859462,"body_markdown":"Taking a cue from @Mihe&#39;s comment to the question, one workaround is [disable the `try` linting](https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html) in the compiler itself, like this in Maven:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;compilerArgs&gt;\r\n      &lt;!-- suppress warnings for try-with-resources in\r\n          serializer indentation encpsulation --&gt;\r\n      &lt;arg&gt;-Xlint:all,-try&lt;/arg&gt;\r\n    &lt;/compilerArgs&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI still find that a little heavy-handed. I&#39;m considered refactoring the code to use @tgdavies&#39; functional approach, but I still haven&#39;t made a decision. I thought I&#39;d provide this solution for completeness.","title":"Working around or suppressing try-with-resources varible not used warning","body":"<p>Taking a cue from @Mihe's comment to the question, one workaround is <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/javac.html\" rel=\"nofollow noreferrer\">disable the <code>try</code> linting</a> in the compiler itself, like this in Maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;compilerArgs&gt;\n      &lt;!-- suppress warnings for try-with-resources in\n          serializer indentation encpsulation --&gt;\n      &lt;arg&gt;-Xlint:all,-try&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I still find that a little heavy-handed. I'm considered refactoring the code to use @tgdavies' functional approach, but I still haven't made a decision. I thought I'd provide this solution for completeness.</p>\n"},{"tags":[],"owner":{"account_id":3419,"reputation":10436,"user_id":4931,"accept_rate":86,"display_name":"Michael Deardeuff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684000273,"creation_date":1684000273,"answer_id":76244166,"question_id":73859462,"body_markdown":"What I end up doing is adding an extra (noop) helper method in my Close utilities.\r\n\r\n\r\n```\r\ntry (final Closeable indention = increaseIndentLevel()) {\r\n    Close.suppressUnused(indentation);\r\n\r\n    serializeChildren()\r\n}\r\n```\r\n\r\nAnother alternative is to add to a close collector:\r\n\r\n```\r\ntry (final CloseLine close = new CloseLine()) {\r\n    close.with(increaseIdentation());\r\n\r\n    serializeChildren()\r\n}\r\n```\r\n\r\nI prefer the first. Both add two lines, one of which is empty. The first is vastly simpler in both implementation and readability, and it gets optimized away.","title":"Working around or suppressing try-with-resources varible not used warning","body":"<p>What I end up doing is adding an extra (noop) helper method in my Close utilities.</p>\n<pre><code>try (final Closeable indention = increaseIndentLevel()) {\n    Close.suppressUnused(indentation);\n\n    serializeChildren()\n}\n</code></pre>\n<p>Another alternative is to add to a close collector:</p>\n<pre><code>try (final CloseLine close = new CloseLine()) {\n    close.with(increaseIdentation());\n\n    serializeChildren()\n}\n</code></pre>\n<p>I prefer the first. Both add two lines, one of which is empty. The first is vastly simpler in both implementation and readability, and it gets optimized away.</p>\n"}],"owner":{"account_id":184786,"reputation":18896,"user_id":421049,"accept_rate":50,"display_name":"Garret Wilson"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1684000273,"creation_date":1664223077,"question_id":73859462,"body_markdown":"In Java 17 I have a serializer that generates a tree structure. Before generating child entities, I increase the indention level; afterwards I decrease the indention level. Normally that should be done in a `try`/`finally` to keep the serializer from being left in a corrupt state if there is an error:\r\n\r\n```java\r\nincreaseIndentLevel();\r\ntry {\r\n  serializeChildren()\r\n} finally {\r\n  decreaseIndentLevel()\r\n}\r\n```\r\n\r\nUsing try-with-resources I have created a clever and elegant little subframework that makes sure this is done, in a more fluent way:\r\n\r\n```java\r\nprotected Closeable increaseIndentLevel() {\r\n  indentLevel++;\r\n  return Close.by(this::decreaseIndentLevel);\r\n}\r\n```\r\n\r\n`Close.by()` is my helper class that creates a `Closeable` that will decrease the indent level just like I do above; I can use it like this:\r\n\r\n```java\r\ntry (final Closeable indention = increaseIndentLevel()) {\r\n  serializeChildren()\r\n}\r\n```\r\n\r\nUnfortunately OpenJDK javac 17 with linting turned on doesn&#39;t recognize my cleverness, and instead complains:\r\n\r\n&gt; [WARNING] `auto-closeable resource indention is never referenced in body of corresponding try statement`\r\n\r\nI understand that try-with-resources requires that I declare some variable. I can&#39;t say `try (increaseIndentLevel())` for example. (I also can guess the reason: the creators of this feature didn&#39;t generalize enough and instead created unnecessarily restrictive rules for the obvious, 99% use case. In reality there is no need conceptually to require a variable here; if the body needs to reference something, the compiler is smart enough to notice that the referenced variable is not present.)\r\n\r\nAny idea how to get around this warning?\r\n\r\nAs a last resort, what identifier do I use with `@SuppressWarnings()` to make this warning go away in javac? (I had to supress the warning, because it turns such a pretty solution into something so ugly.)","title":"Working around or suppressing try-with-resources varible not used warning","body":"<p>In Java 17 I have a serializer that generates a tree structure. Before generating child entities, I increase the indention level; afterwards I decrease the indention level. Normally that should be done in a <code>try</code>/<code>finally</code> to keep the serializer from being left in a corrupt state if there is an error:</p>\n<pre class=\"lang-java prettyprint-override\"><code>increaseIndentLevel();\ntry {\n  serializeChildren()\n} finally {\n  decreaseIndentLevel()\n}\n</code></pre>\n<p>Using try-with-resources I have created a clever and elegant little subframework that makes sure this is done, in a more fluent way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected Closeable increaseIndentLevel() {\n  indentLevel++;\n  return Close.by(this::decreaseIndentLevel);\n}\n</code></pre>\n<p><code>Close.by()</code> is my helper class that creates a <code>Closeable</code> that will decrease the indent level just like I do above; I can use it like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (final Closeable indention = increaseIndentLevel()) {\n  serializeChildren()\n}\n</code></pre>\n<p>Unfortunately OpenJDK javac 17 with linting turned on doesn't recognize my cleverness, and instead complains:</p>\n<blockquote>\n<p>[WARNING] <code>auto-closeable resource indention is never referenced in body of corresponding try statement</code></p>\n</blockquote>\n<p>I understand that try-with-resources requires that I declare some variable. I can't say <code>try (increaseIndentLevel())</code> for example. (I also can guess the reason: the creators of this feature didn't generalize enough and instead created unnecessarily restrictive rules for the obvious, 99% use case. In reality there is no need conceptually to require a variable here; if the body needs to reference something, the compiler is smart enough to notice that the referenced variable is not present.)</p>\n<p>Any idea how to get around this warning?</p>\n<p>As a last resort, what identifier do I use with <code>@SuppressWarnings()</code> to make this warning go away in javac? (I had to supress the warning, because it turns such a pretty solution into something so ugly.)</p>\n"},{"tags":["java","intellij-idea","java.util.scanner","user-input"],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681632761,"creation_date":1681630860,"answer_id":76026487,"question_id":76026439,"body_markdown":"Delete this line:\r\n\r\n&gt;`sc.close();`\r\n\r\nDo not close a `Scanner` based on `System.in`. You are terminating your access to the console. That access cannot be restored. \r\n\r\nOtherwise, your code is good. See your [code run at Ideone.com][1]. \r\n\r\n\r\n  [1]: https://ideone.com/Yvj1Un","title":"Using scanner class I am not able to write text on console using IntelliJ IDE","body":"<p>Delete this line:</p>\n<blockquote>\n<p><code>sc.close();</code></p>\n</blockquote>\n<p>Do not close a <code>Scanner</code> based on <code>System.in</code>. You are terminating your access to the console. That access cannot be restored.</p>\n<p>Otherwise, your code is good. See your <a href=\"https://ideone.com/Yvj1Un\" rel=\"nofollow noreferrer\">code run at Ideone.com</a>.</p>\n"},{"tags":[],"owner":{"account_id":27436725,"reputation":89,"user_id":20932425,"display_name":"shmily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681695491,"creation_date":1681650162,"answer_id":76027922,"question_id":76026439,"body_markdown":"first, open IDE (`help -&gt; edit custom VM options`),\r\n\r\nthen input next code `-Deditable.java.test.console=true` and `restart IDE`.\r\n\r\nfor example:\r\n\r\n[![enter image description here][1]][1]\r\n[![example][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sUbyM.png\r\n  [2]: https://i.stack.imgur.com/IAwE6.png","title":"Using scanner class I am not able to write text on console using IntelliJ IDE","body":"<p>first, open IDE (<code>help -&gt; edit custom VM options</code>),</p>\n<p>then input next code <code>-Deditable.java.test.console=true</code> and <code>restart IDE</code>.</p>\n<p>for example:</p>\n<p><a href=\"https://i.stack.imgur.com/sUbyM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sUbyM.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/IAwE6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IAwE6.png\" alt=\"example\" /></a></p>\n"}],"owner":{"account_id":18268566,"reputation":1,"user_id":13299762,"display_name":"Dhaval"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684000244,"creation_date":1681630189,"question_id":76026439,"body_markdown":"Issue: Using scanner class I am not able to write text on console using IntelliJ IDE.\r\nOutput: My program keeps running and I need terminate it manually.\r\n\r\nProject Structure: Maven \r\nAdditional Info: Using TetNG\r\n\r\nBelow file is created under SRC folder.\r\nBasicPrograms.Java\r\n```\r\npublic class BasicPrograms { \r\npublic void takeInpFrmUser() {\r\n\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Please enter the number&quot;);\r\n        int num = sc.nextInt();\r\n        System.out.println(&quot;User has entered= &quot; + num);\r\n        sc.close();\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nBelow file is created under TEST folder.\r\nUserInput.Java\r\n```\r\nimport org.testng.annotations.BeforeClass;\r\nimport org.testng.annotations.Test;\r\n\r\npublic class UserInput {\r\n    BasicPrograms basicObj;\r\n\r\n    @BeforeClass\r\n    public void createObj() {\r\n        basicObj = new BasicPrograms();\r\n    }\r\n\r\n    @Test\r\n    public void verifyUserInput() {\r\n        basicObj.takeInpFrmUser();\r\n    }\r\n\r\n}\r\n```\r\n\r\nI am a beginner any trying to learn java by myself. Any help would be highly appreciated. Thank you so much :)\r\n\r\n\r\nWhat I have tried: Referred java doc \r\n```\r\n https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\r\n```\r\n\r\nWhat I expected: I should be able to write the integer text on console.\r\nBut my program keeps running and I need to terminate it manually. \r\n\r\nPlease refer the below image of output.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EE5bx.png","title":"Using scanner class I am not able to write text on console using IntelliJ IDE","body":"<p>Issue: Using scanner class I am not able to write text on console using IntelliJ IDE.\nOutput: My program keeps running and I need terminate it manually.</p>\n<p>Project Structure: Maven\nAdditional Info: Using TetNG</p>\n<p>Below file is created under SRC folder.\nBasicPrograms.Java</p>\n<pre><code>public class BasicPrograms { \npublic void takeInpFrmUser() {\n\n\n        Scanner sc = new Scanner(System.in);\n        System.out.println(&quot;Please enter the number&quot;);\n        int num = sc.nextInt();\n        System.out.println(&quot;User has entered= &quot; + num);\n        sc.close();\n\n\n    }\n}\n</code></pre>\n<p>Below file is created under TEST folder.\nUserInput.Java</p>\n<pre><code>import org.testng.annotations.BeforeClass;\nimport org.testng.annotations.Test;\n\npublic class UserInput {\n    BasicPrograms basicObj;\n\n    @BeforeClass\n    public void createObj() {\n        basicObj = new BasicPrograms();\n    }\n\n    @Test\n    public void verifyUserInput() {\n        basicObj.takeInpFrmUser();\n    }\n\n}\n</code></pre>\n<p>I am a beginner any trying to learn java by myself. Any help would be highly appreciated. Thank you so much :)</p>\n<p>What I have tried: Referred java doc</p>\n<pre><code> https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html\n</code></pre>\n<p>What I expected: I should be able to write the integer text on console.\nBut my program keeps running and I need to terminate it manually.</p>\n<p>Please refer the below image of output.</p>\n<p><a href=\"https://i.stack.imgur.com/EE5bx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EE5bx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","keycloak","keycloak-services"],"comments":[{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522424408,"post_id":49572291,"comment_id":86162134,"body_markdown":"Do you mean you just now installed the keycloak and run it while it&#39;s not integrated with we b application ? If you will see too many things avaiable over internet and keycloak documentation how to integrated keycloak with web application","body":"Do you mean you just now installed the keycloak and run it while it&#39;s not integrated with we b application ? If you will see too many things avaiable over internet and keycloak documentation how to integrated keycloak with web application"},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522425158,"post_id":49572291,"comment_id":86162438,"body_markdown":"@SubodhJoshi i don&#39;t want to integrate the keycloak with web application. I was to pass the user/client under relam and get the token and pass this token to some other api where again i&#39;ll validate this token","body":"@SubodhJoshi i don&#39;t want to integrate the keycloak with web application. I was to pass the user/client under relam and get the token and pass this token to some other api where again i&#39;ll validate this token"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522425542,"post_id":49572291,"comment_id":86162642,"body_markdown":"With ui it may not possible use the keycloak rest api or admin-cli .","body":"With ui it may not possible use the keycloak rest api or admin-cli ."},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522425644,"post_id":49572291,"comment_id":86162700,"body_markdown":"@SubodhJoshi i have updated my question with what i achieved till now can you help me out .","body":"@SubodhJoshi i have updated my question with what i achieved till now can you help me out ."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522426285,"post_id":49572291,"comment_id":86162953,"body_markdown":"I think this will help you.\n\nhave got the access token but don&#39;t know how to test this using postman. &gt; you should just need to add the authrisation header in Postman,  \nhave got the access token but don&#39;t know how to test this using postman. &gt; you should just need to add the authorization header in Postman, http://stackoverflow.com/questions/24709944/jwt-token-in-postman-header \n\nI found this see if it will help you otherwise I can write proper answer morning only right now I am using my mobile for coment.","body":"I think this will help you.  have got the access token but don&#39;t know how to test this using postman. &gt; you should just need to add the authrisation header in Postman,   have got the access token but don&#39;t know how to test this using postman. &gt; you should just need to add the authorization header in Postman, <a href=\"http://stackoverflow.com/questions/24709944/jwt-token-in-postman-header\" title=\"jwt token in postman header\">stackoverflow.com/questions/24709944/&hellip;</a>   I found this see if it will help you otherwise I can write proper answer morning only right now I am using my mobile for coment."},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522426472,"post_id":49572291,"comment_id":86163048,"body_markdown":"@SubodhJoshi thank you very much i will post whether its working or not . One more question for now i am getting the token at client level can it is possible to get the token at user level","body":"@SubodhJoshi thank you very much i will post whether its working or not . One more question for now i am getting the token at client level can it is possible to get the token at user level"},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522426611,"post_id":49572291,"comment_id":86163105,"body_markdown":"@SubodhJoshi i think its authenticating so i am not getting 401 but instead i am getting 403 error code.It seems some authorization error. I don&#39;t know for what reason i am getting this","body":"@SubodhJoshi i think its authenticating so i am not getting 401 but instead i am getting 403 error code.It seems some authorization error. I don&#39;t know for what reason i am getting this"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522427017,"post_id":49572291,"comment_id":86163279,"body_markdown":"403 forbidden tells us that we don&#39;t have permission to see the requested resource,it&#39;s mainly due to permission . In many cases if you are using https and didn&#39;t import certificate into client it will throw 403 forbidden error.","body":"403 forbidden tells us that we don&#39;t have permission to see the requested resource,it&#39;s mainly due to permission . In many cases if you are using https and didn&#39;t import certificate into client it will throw 403 forbidden error."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522427339,"post_id":49572291,"comment_id":86163438,"body_markdown":"See this will surely help you.\nhttps://stackoverflow.com/q/46470477/476828","body":"See this will surely help you. <a href=\"https://stackoverflow.com/q/46470477/476828\">stackoverflow.com/q/46470477/476828</a>"},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522428924,"post_id":49572291,"comment_id":86164142,"body_markdown":"@SubodhJoshi thank you so much its working.","body":"@SubodhJoshi thank you so much its working."},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522429012,"post_id":49572291,"comment_id":86164186,"body_markdown":"@SubodhJoshi One more question for now i am getting the token at client level can it is possible to get the token at user level","body":"@SubodhJoshi One more question for now i am getting the token at client level can it is possible to get the token at user level"},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522430595,"post_id":49572291,"comment_id":86164907,"body_markdown":"Here something for you.\n\nGetting tokens over REST endpoints for regular users is not the right way for many reasons. It&#39;s not SSO, less secure, exposes authentication details as well as credentials to the applications, etc, etc..","body":"Here something for you.  Getting tokens over REST endpoints for regular users is not the right way for many reasons. It&#39;s not SSO, less secure, exposes authentication details as well as credentials to the applications, etc, etc.."},{"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"score":0,"creation_date":1522430862,"post_id":49572291,"comment_id":86165058,"body_markdown":"@SubodhJoshi so you mean to say that there will be a group of users under one client and then we need to get the token for that client instead of individual users.please correct me if i am wrong.","body":"@SubodhJoshi so you mean to say that there will be a group of users under one client and then we need to get the token for that client instead of individual users.please correct me if i am wrong."},{"owner":{"account_id":219754,"reputation":12930,"user_id":476828,"accept_rate":51,"display_name":"Subodh Joshi"},"score":0,"creation_date":1522431289,"post_id":49572291,"comment_id":86165243,"body_markdown":"Each realm may or may not contain more than one client.If you will check master realm it have more than one client by default and realm only contain more than one user/group etc info.","body":"Each realm may or may not contain more than one client.If you will check master realm it have more than one client by default and realm only contain more than one user/group etc info."}],"answers":[{"tags":[],"owner":{"account_id":4203786,"reputation":387,"user_id":3443251,"display_name":"Adnan Khan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561721539,"creation_date":1561721539,"answer_id":56806170,"question_id":49572291,"body_markdown":"Users in keycloak are realm specific and not every user is allowed to access them. You will be able to get all the users through the admin API after you assign a specific role to the user in the admin dashboard. Simply do \r\n\r\n1. In the admin dashboard, go to \r\n\r\n&gt; Users &gt; myuser &gt; Role Mappings &gt; Client roles &gt; realm-management\r\n\r\n2. Assign the user any of the two roles `manage-users` or `view-users`. \r\n\r\n3. Generate a new token.\r\n\r\n4. Hit API with new token\r\n\r\nand you will have your users \r\n\r\n\r\n\r\n\r\nP.s I think you should update your question header to something more relevant. ","title":"KeyCloak User validation and getting token","body":"<p>Users in keycloak are realm specific and not every user is allowed to access them. You will be able to get all the users through the admin API after you assign a specific role to the user in the admin dashboard. Simply do </p>\n\n<ol>\n<li>In the admin dashboard, go to </li>\n</ol>\n\n<blockquote>\n  <p>Users > myuser > Role Mappings > Client roles > realm-management</p>\n</blockquote>\n\n<ol start=\"2\">\n<li><p>Assign the user any of the two roles <code>manage-users</code> or <code>view-users</code>. </p></li>\n<li><p>Generate a new token.</p></li>\n<li><p>Hit API with new token</p></li>\n</ol>\n\n<p>and you will have your users </p>\n\n<p>P.s I think you should update your question header to something more relevant. </p>\n"},{"tags":[],"owner":{"account_id":3590738,"reputation":2981,"user_id":2996867,"accept_rate":86,"display_name":"maslick"},"down_vote_count":1,"up_vote_count":38,"is_accepted":false,"score":37,"last_activity_date":1561899907,"creation_date":1561898433,"answer_id":56824919,"question_id":49572291,"body_markdown":"You have 2 choices: you can act on behalf of some user (as *Adnan Khan* pointed out), or create a dedicated client for this.\r\n\r\n## On behalf of the user ##\r\n1) create a confidential client (I suppose you already got one)\r\n\r\n2) create a user and assign an appropriate role/s to it: e.g. ``view-users`` from the ``realm-management`` group\r\n\r\n3) get the token (I&#39;m using curl and [jq][1]):\r\n\r\n    KCHOST=https://yourkeycloak.com\r\n    REALM=realm\r\n    CLIENT_ID=confidential-client\r\n    CLIENT_SECRET=xxxxxxx-yyyyyy-zzzzzzzz\r\n    UNAME=user\r\n    PASSWORD=passwd\r\n    \r\n    ACCESS_TOKEN=`curl \\\r\n      -d &quot;client_id=$CLIENT_ID&quot; -d &quot;client_secret=$CLIENT_SECRET&quot; \\\r\n      -d &quot;username=$UNAME&quot; -d &quot;password=$PASSWORD&quot; \\\r\n      -d &quot;grant_type=password&quot; \\\r\n      &quot;$KCHOST/auth/realms/$REALM/protocol/openid-connect/token&quot;  | jq -r &#39;.access_token&#39;`\r\n\r\n4) finally call the Admin REST API [users endpoint][2]:\r\n\r\n    curl -X GET -H &quot;Authorization: Bearer $ACCESS_TOKEN&quot; $KCHOST/auth/admin/realms/$REALM/users | jq\r\n\r\n## On behalf of the client (Service account) ##\r\n1) create a confidential client and make sure to toggle the Service Accounts Enabled setting to ``On``\r\n\r\n2) go over to the ``Service account roles tab`` and select the appropriate role for this client, e.g. ``realm-admin`` from the ``realm-management`` group\r\n\r\n3) get the access token\r\n\r\n    KCHOST=https://yourkeycloak.com\r\n    REALM=realm\r\n    CLIENT_ID=protector-of-the-realm\r\n    CLIENT_SECRET=xxxxxxx-yyyyyyyy-zzzzzzzzz\r\n    \r\n    ACCESS_TOKEN=`curl \\\r\n      -d &quot;client_id=$CLIENT_ID&quot; -d &quot;client_secret=$CLIENT_SECRET&quot; \\\r\n      -d &quot;grant_type=client_credentials&quot; \\\r\n      &quot;$KCHOST/auth/realms/$REALM/protocol/openid-connect/token&quot;  | jq -r &#39;.access_token&#39;`\r\n\r\n4) call the REST API endpoint: \r\n\r\n    curl -X GET -H &quot;Authorization: Bearer $ACCESS_TOKEN&quot; $KCHOST/auth/admin/realms/$REALM/users | jq\r\n\r\n&gt; P.S. For debugging I have just written a CLI tool called [brauzie][3] that\r\n&gt; would help you fetch and analyse your JWT tokens (scopes, roles, etc.). It could\r\n&gt; be used for both public and confidential clients. You could as well\r\n&gt; use Postman and https://jwt.io\r\n\r\nHTH :)\r\n\r\n\r\n  [1]: https://stedolan.github.io/jq/manual/\r\n  [2]: https://www.keycloak.org/docs-api/6.0/rest-api/index.html#_users_resource\r\n  [3]: https://github.com/maslick/brauzie","title":"KeyCloak User validation and getting token","body":"<p>You have 2 choices: you can act on behalf of some user (as <em>Adnan Khan</em> pointed out), or create a dedicated client for this.</p>\n\n<h2>On behalf of the user</h2>\n\n<p>1) create a confidential client (I suppose you already got one)</p>\n\n<p>2) create a user and assign an appropriate role/s to it: e.g. <code>view-users</code> from the <code>realm-management</code> group</p>\n\n<p>3) get the token (I'm using curl and <a href=\"https://stedolan.github.io/jq/manual/\" rel=\"noreferrer\">jq</a>):</p>\n\n<pre><code>KCHOST=https://yourkeycloak.com\nREALM=realm\nCLIENT_ID=confidential-client\nCLIENT_SECRET=xxxxxxx-yyyyyy-zzzzzzzz\nUNAME=user\nPASSWORD=passwd\n\nACCESS_TOKEN=`curl \\\n  -d \"client_id=$CLIENT_ID\" -d \"client_secret=$CLIENT_SECRET\" \\\n  -d \"username=$UNAME\" -d \"password=$PASSWORD\" \\\n  -d \"grant_type=password\" \\\n  \"$KCHOST/auth/realms/$REALM/protocol/openid-connect/token\"  | jq -r '.access_token'`\n</code></pre>\n\n<p>4) finally call the Admin REST API <a href=\"https://www.keycloak.org/docs-api/6.0/rest-api/index.html#_users_resource\" rel=\"noreferrer\">users endpoint</a>:</p>\n\n<pre><code>curl -X GET -H \"Authorization: Bearer $ACCESS_TOKEN\" $KCHOST/auth/admin/realms/$REALM/users | jq\n</code></pre>\n\n<h2>On behalf of the client (Service account)</h2>\n\n<p>1) create a confidential client and make sure to toggle the Service Accounts Enabled setting to <code>On</code></p>\n\n<p>2) go over to the <code>Service account roles tab</code> and select the appropriate role for this client, e.g. <code>realm-admin</code> from the <code>realm-management</code> group</p>\n\n<p>3) get the access token</p>\n\n<pre><code>KCHOST=https://yourkeycloak.com\nREALM=realm\nCLIENT_ID=protector-of-the-realm\nCLIENT_SECRET=xxxxxxx-yyyyyyyy-zzzzzzzzz\n\nACCESS_TOKEN=`curl \\\n  -d \"client_id=$CLIENT_ID\" -d \"client_secret=$CLIENT_SECRET\" \\\n  -d \"grant_type=client_credentials\" \\\n  \"$KCHOST/auth/realms/$REALM/protocol/openid-connect/token\"  | jq -r '.access_token'`\n</code></pre>\n\n<p>4) call the REST API endpoint: </p>\n\n<pre><code>curl -X GET -H \"Authorization: Bearer $ACCESS_TOKEN\" $KCHOST/auth/admin/realms/$REALM/users | jq\n</code></pre>\n\n<blockquote>\n  <p>P.S. For debugging I have just written a CLI tool called <a href=\"https://github.com/maslick/brauzie\" rel=\"noreferrer\">brauzie</a> that\n  would help you fetch and analyse your JWT tokens (scopes, roles, etc.). It could\n  be used for both public and confidential clients. You could as well\n  use Postman and <a href=\"https://jwt.io\" rel=\"noreferrer\">https://jwt.io</a></p>\n</blockquote>\n\n<p>HTH :)</p>\n"},{"tags":[],"owner":{"account_id":2257678,"reputation":15240,"user_id":1988508,"accept_rate":65,"display_name":"Mohammed Noureldin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683999880,"creation_date":1683979587,"answer_id":76242637,"question_id":49572291,"body_markdown":"To simplify the steps if you already have either a client and a user in a specific realm:\r\n\r\n```shell\r\ncurl -L -X POST &#39;https://&lt;idp-domain&gt;/realms/&lt;some-realm&gt;/protocol/openid-connect/token&#39; \\\r\n--data-urlencode &#39;client_id=&lt;client-ip&gt;&#39; \\\r\n--data-urlencode &#39;grant_type=password&#39; \\\r\n--data-urlencode &#39;scope=openid api&#39; \\\r\n--data-urlencode &#39;username=&lt;username&gt;&#39; \\\r\n--data-urlencode &#39;password=&lt;user-password&gt;&#39; \\\r\n--data-urlencode &#39;totp=&lt;totp-if-using-mfa&gt;&#39;\r\n```\r\n\r\nNotice the last argument passed *totp*, which was not mentioned in the other answers, in case you are using **multi-factor authentication**.\r\n\r\nor for if you have a service client:\r\n\r\n```\r\ncurl -L -X POST &#39;https://&lt;idp-domain&gt;/realms/&lt;some-realm&gt;/protocol/openid-connect/token&#39; \\\r\n--data-urlencode &#39;client_id=&lt;client-id&gt;&#39; \\\r\n--data-urlencode &#39;client_secret=&lt;client-secret&gt;&#39; \\\r\n--data-urlencode &#39;grant_type=client_credentials&#39; \\\r\n--data-urlencode &#39;scope=&lt;scope&gt;&#39;","title":"KeyCloak User validation and getting token","body":"<p>To simplify the steps if you already have either a client and a user in a specific realm:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl -L -X POST 'https://&lt;idp-domain&gt;/realms/&lt;some-realm&gt;/protocol/openid-connect/token' \\\n--data-urlencode 'client_id=&lt;client-ip&gt;' \\\n--data-urlencode 'grant_type=password' \\\n--data-urlencode 'scope=openid api' \\\n--data-urlencode 'username=&lt;username&gt;' \\\n--data-urlencode 'password=&lt;user-password&gt;' \\\n--data-urlencode 'totp=&lt;totp-if-using-mfa&gt;'\n</code></pre>\n<p>Notice the last argument passed <em>totp</em>, which was not mentioned in the other answers, in case you are using <strong>multi-factor authentication</strong>.</p>\n<p>or for if you have a service client:</p>\n<pre><code>curl -L -X POST 'https://&lt;idp-domain&gt;/realms/&lt;some-realm&gt;/protocol/openid-connect/token' \\\n--data-urlencode 'client_id=&lt;client-id&gt;' \\\n--data-urlencode 'client_secret=&lt;client-secret&gt;' \\\n--data-urlencode 'grant_type=client_credentials' \\\n--data-urlencode 'scope=&lt;scope&gt;'\n</code></pre>\n"}],"owner":{"account_id":3261119,"reputation":1564,"user_id":2746693,"accept_rate":9,"display_name":"Rohitesh"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84892,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":3,"score":27,"last_activity_date":1683999880,"creation_date":1522403920,"question_id":49572291,"body_markdown":"First of all I am very new to Keycloak and excuse me if something I am asking might be wrong.\r\n\r\nI have installed the Keycloak server and I can access the Web UI for the same using:\r\n\r\nhttp://localhost:8008/auth\r\n\r\nMy requirement is to validate a realm user by passing it to k\r\nKeycloak API and to get the token from there in response, and then pass this token for my other Web API calls.\r\n\r\nBut I was not able to find a simple guide on how I can do this...\r\n\r\nUPDATE:\r\n*******\r\nUSING UI from `KEYCLOAK`:\r\n\r\nSo far now:\r\n\r\n - I am able to create a `realm`:\r\ne.g: `DemoRealm`\r\n\r\n\r\n\r\n - \r\nUnder the `Realm` I have created the client:\r\ne.g: `DemoClient`\r\n\r\n - \r\nUnder the client I have created the user:\r\ne.g: `DemoUser` \r\n\r\nUSING `POSTMAN`:\r\n\r\nI am also able to successfully get the token using\r\n\r\n    http://localhost:8080/auth/realms/DemoRelam/protocol/openid-connect/token\r\n\r\n    POST:\r\n    {\r\n    &quot;grant_type&quot;: &quot;client_credentials&quot;,\r\n    &quot;username&quot;: &quot;&quot;,\r\n    &quot;password&quot;: &quot;&quot;,\r\n    &quot;client_secret&quot;:&quot;&quot;,\r\n    &quot;client_id&quot;:&quot;DemoClient&quot;\r\n    }\r\n\r\n\r\nIn response I am getting the token.\r\n\r\n    {\r\n        &quot;access_token&quot;: &quot;eyJhbGciOiJSUzI1NiIsINVSHGhepnDu13SwRBL-v-y-04_6e6IJbMzreZwPI-epwdVPQe-ENhpvms2WdGM_DmgMLZ8YQFS4LDl9R7ZHT8AgXe-WCFV6OFkA7zvdeFwQ4kVVZE0HlNgHgoi4DrgMfwwz_ku1yJNJP3ztTY1nEqmA&quot;,\r\n        &quot;expires_in&quot;: 300,\r\n        &quot;refresh_expires_in&quot;: 1800,\r\n        &quot;refresh_token&quot;: &quot;eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJRRnB5YlloMGVEektIdlhOb3JvaFUxdlRvWVdjdP3vbfvk7O0zvppK9N4-oaUqZSr0smHv5LkuLDQYdPuxA&quot;,\r\n        &quot;token_type&quot;: &quot;bearer&quot;,\r\n        &quot;not-before-policy&quot;: 0,\r\n        &quot;session_state&quot;: &quot;bb1c586a-e880-4b96-ac16-30e42c0f46dc&quot;\r\n    }\r\n\r\nFurthermore I was diving into more details and found this API guide:\r\n\r\n[http://www.keycloak.org/docs-api/3.0/rest-api/index.html#_users_resource][1]\r\n\r\n\r\n  [1]: http://www.keycloak.org/docs-api/3.0/rest-api/index.html#_users_resource\r\n\r\nIn this guide it&#39;s mentioned that I can get the users for the realm using\r\nGet users Returns a list of users, filtered according to query parameters\r\n\r\n    GET /admin/realms/{realm}/users\r\n\r\nBut when I am using `POSTMAN` to get the users I am getting *403* error code. I am passing the same token as on authentication which I got in the earlier step.\r\n\r\n    http://localhost:8080/auth/admin/realms/DemoRelam/users\r\n\r\nCan anyone please guide me?","title":"KeyCloak User validation and getting token","body":"<p>First of all I am very new to Keycloak and excuse me if something I am asking might be wrong.</p>\n\n<p>I have installed the Keycloak server and I can access the Web UI for the same using:</p>\n\n<p><a href=\"http://localhost:8008/auth\" rel=\"noreferrer\">http://localhost:8008/auth</a></p>\n\n<p>My requirement is to validate a realm user by passing it to k\nKeycloak API and to get the token from there in response, and then pass this token for my other Web API calls.</p>\n\n<p>But I was not able to find a simple guide on how I can do this...</p>\n\n<p>UPDATE:</p>\n\n<hr>\n\n<p>USING UI from <code>KEYCLOAK</code>:</p>\n\n<p>So far now:</p>\n\n<ul>\n<li><p>I am able to create a <code>realm</code>:\ne.g: <code>DemoRealm</code></p></li>\n<li><p>Under the <code>Realm</code> I have created the client:\ne.g: <code>DemoClient</code></p></li>\n<li><p>Under the client I have created the user:\ne.g: <code>DemoUser</code> </p></li>\n</ul>\n\n<p>USING <code>POSTMAN</code>:</p>\n\n<p>I am also able to successfully get the token using</p>\n\n<pre><code>http://localhost:8080/auth/realms/DemoRelam/protocol/openid-connect/token\n\nPOST:\n{\n\"grant_type\": \"client_credentials\",\n\"username\": \"\",\n\"password\": \"\",\n\"client_secret\":\"\",\n\"client_id\":\"DemoClient\"\n}\n</code></pre>\n\n<p>In response I am getting the token.</p>\n\n<pre><code>{\n    \"access_token\": \"eyJhbGciOiJSUzI1NiIsINVSHGhepnDu13SwRBL-v-y-04_6e6IJbMzreZwPI-epwdVPQe-ENhpvms2WdGM_DmgMLZ8YQFS4LDl9R7ZHT8AgXe-WCFV6OFkA7zvdeFwQ4kVVZE0HlNgHgoi4DrgMfwwz_ku1yJNJP3ztTY1nEqmA\",\n    \"expires_in\": 300,\n    \"refresh_expires_in\": 1800,\n    \"refresh_token\": \"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJRRnB5YlloMGVEektIdlhOb3JvaFUxdlRvWVdjdP3vbfvk7O0zvppK9N4-oaUqZSr0smHv5LkuLDQYdPuxA\",\n    \"token_type\": \"bearer\",\n    \"not-before-policy\": 0,\n    \"session_state\": \"bb1c586a-e880-4b96-ac16-30e42c0f46dc\"\n}\n</code></pre>\n\n<p>Furthermore I was diving into more details and found this API guide:</p>\n\n<p><a href=\"http://www.keycloak.org/docs-api/3.0/rest-api/index.html#_users_resource\" rel=\"noreferrer\">http://www.keycloak.org/docs-api/3.0/rest-api/index.html#_users_resource</a></p>\n\n<p>In this guide it's mentioned that I can get the users for the realm using\nGet users Returns a list of users, filtered according to query parameters</p>\n\n<pre><code>GET /admin/realms/{realm}/users\n</code></pre>\n\n<p>But when I am using <code>POSTMAN</code> to get the users I am getting <em>403</em> error code. I am passing the same token as on authentication which I got in the earlier step.</p>\n\n<pre><code>http://localhost:8080/auth/admin/realms/DemoRelam/users\n</code></pre>\n\n<p>Can anyone please guide me?</p>\n"},{"tags":["java","docker","ssl-certificate","apache-nifi"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684079527,"post_id":76244074,"comment_id":134460935,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":10246602,"reputation":1,"user_id":10317909,"display_name":"Hoang Le"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683998954,"creation_date":1683998954,"question_id":76244074,"body_markdown":"I am using the apache/nifi docker image version 1.21.0 and trying to use the invokeHTTP processor to interact with an API in my local network.\r\n\r\nI added the API certificate and root issuer certificate to a trustkeystore.jks file (both are local certificates). Then, I added the StandardSSLContextService to the invokeHTTP processor with the trustkeystore.jks file properties. However, I received the SSLPeerUnverifiedException exception, which said that my API hostname had not been verified. \r\n\r\nCould you please help me with this issue?\r\n\r\nI also tried StandardRestrictedSSLContextService and got same result.","title":"Get javax.net.ssl.SSLPeerUnverifiedException Error when use invokeHTTP after adding certificate to the truststore","body":"<p>I am using the apache/nifi docker image version 1.21.0 and trying to use the invokeHTTP processor to interact with an API in my local network.</p>\n<p>I added the API certificate and root issuer certificate to a trustkeystore.jks file (both are local certificates). Then, I added the StandardSSLContextService to the invokeHTTP processor with the trustkeystore.jks file properties. However, I received the SSLPeerUnverifiedException exception, which said that my API hostname had not been verified.</p>\n<p>Could you please help me with this issue?</p>\n<p>I also tried StandardRestrictedSSLContextService and got same result.</p>\n"},{"tags":["java","user-interface","animation","javafx","concurrency"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1683908090,"post_id":76238194,"comment_id":134443755,"body_markdown":"Create and post a [mre], including the complete stack trace (formatted as code).","body":"Create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, including the complete stack trace (formatted as code)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683908235,"post_id":76238194,"comment_id":134443778,"body_markdown":"Probably off-topic, but 1. Are you really creating an `AnimationTimer` subclass instance in your FXML? That&#39;s possible but seems to be a really strange thing to do. 2. Why create an `ExecutorService` just to use it once and immediately shut it down? You may as well just create a `Thread` directly.","body":"Probably off-topic, but 1. Are you really creating an <code>AnimationTimer</code> subclass instance in your FXML? That&#39;s possible but seems to be a really strange thing to do. 2. Why create an <code>ExecutorService</code> just to use it once and immediately shut it down? You may as well just create a <code>Thread</code> directly."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1683908386,"post_id":76238194,"comment_id":134443810,"body_markdown":"Also, I suppose, why use threads at all here? Why not just use the animation API? See https://stackoverflow.com/a/60685975/2189127","body":"Also, I suppose, why use threads at all here? Why not just use the animation API? See <a href=\"https://stackoverflow.com/a/60685975/2189127\">stackoverflow.com/a/60685975/2189127</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1683913994,"post_id":76238194,"comment_id":134444955,"body_markdown":"Re, &quot;...despite task created...from the FX Application Thread.&quot; It doesn&#39;t matter which thread created the `Task` object. What matters is which thread calls `getValue()` (see James_D&#39;s answer, below).","body":"Re, &quot;...despite task created...from the FX Application Thread.&quot; It doesn&#39;t matter which thread created the <code>Task</code> object. What matters is which thread calls <code>getValue()</code> (see James_D&#39;s answer, below)."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":2,"creation_date":1683914063,"post_id":76238194,"comment_id":134444967,"body_markdown":"Re, &quot;...despite task...ran from the FX Application Thread.&quot; But, you _didn&#39;t_ run it from the application thread. You ran it from a worker thread belonging to your `executorService`.","body":"Re, &quot;...despite task...ran from the FX Application Thread.&quot; But, you <i>didn&#39;t</i> run it from the application thread. You ran it from a worker thread belonging to your <code>executorService</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1683914427,"post_id":76238194,"comment_id":134445032,"body_markdown":"Re, `es=Executors.newFixedThreadPool(1); es.execute(task); ex.shutdown();` That&#39;s pure [_cargo cult programming_](https://en.wikipedia.org/wiki/Cargo_cult_programming). If you think you need to create a one-shot thread, then call `new Thread(...)`. If somebody told you that calling `new Thread(...)` was a bad idea, it&#39;s because they thought that _needing a one-shot thread_ was a bad idea. What you did—creating a new thread _pool_ just so that you could submit _one task_ to it, is no better than `new Thread(...)`. In fact, it&#39;s just a tiny bit _worse._","body":"Re, <code>es=Executors.newFixedThreadPool(1); es.execute(task); ex.shutdown();</code> That&#39;s pure <a href=\"https://en.wikipedia.org/wiki/Cargo_cult_programming\" rel=\"nofollow noreferrer\"><i>cargo cult programming</i></a>. If you think you need to create a one-shot thread, then call <code>new Thread(...)</code>. If somebody told you that calling <code>new Thread(...)</code> was a bad idea, it&#39;s because they thought that <i>needing a one-shot thread</i> was a bad idea. What you did—creating a new thread <i>pool</i> just so that you could submit <i>one task</i> to it, is no better than <code>new Thread(...)</code>. In fact, it&#39;s just a tiny bit <i>worse.</i>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1683917288,"post_id":76238194,"comment_id":134445505,"body_markdown":"Does this answer your question? [Change javafx circles color in certain time using multithreads](https://stackoverflow.com/questions/52589640/change-javafx-circles-color-in-certain-time-using-multithreads)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52589640/change-javafx-circles-color-in-certain-time-using-multithreads\">Change javafx circles color in certain time using multithreads</a>"},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1683921058,"post_id":76238194,"comment_id":134446138,"body_markdown":"@James_D 1. my real code has an exstantion of canvas that draws some stuff I need and has the animation timer moving those stuff, and I have more then one of those, whice is way it&#39;s an extention of canvas. I was trying to simplifiy it to the bare necessities and only the animation timer seemd relevent. 2. you are right, I was using the example in the book as a guidline and diden&#39;t think it through","body":"@James_D 1. my real code has an exstantion of canvas that draws some stuff I need and has the animation timer moving those stuff, and I have more then one of those, whice is way it&#39;s an extention of canvas. I was trying to simplifiy it to the bare necessities and only the animation timer seemd relevent. 2. you are right, I was using the example in the book as a guidline and diden&#39;t think it through"},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1683921669,"post_id":76238194,"comment_id":134446250,"body_markdown":"@SolomonSlow It was clear to me that the task itself is ran in a background theard, what I was trying to say is that I have started it from the application thread, which I tought is a requirement that the excption message was trying to convey. I had no idea getValue() can only be called from the application thread and googling the error did not yield this information. as for the thread pool issue, you are right, it&#39;s an over kill.","body":"@SolomonSlow It was clear to me that the task itself is ran in a background theard, what I was trying to say is that I have started it from the application thread, which I tought is a requirement that the excption message was trying to convey. I had no idea getValue() can only be called from the application thread and googling the error did not yield this information. as for the thread pool issue, you are right, it&#39;s an over kill."},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":1,"creation_date":1683921861,"post_id":76238194,"comment_id":134446287,"body_markdown":"@SedJ601 thanks, but qustion in the link did not help me, the writer of the other question is trying to achive similar result, but he used another way then I did, and I was intrested in understanding why my way did not work.","body":"@SedJ601 thanks, but qustion in the link did not help me, the writer of the other question is trying to achive similar result, but he used another way then I did, and I was intrested in understanding why my way did not work."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1683922057,"post_id":76238194,"comment_id":134446323,"body_markdown":"@WildLAppers, I don&#39;t have JavaFX experience, but I would be mildly surprised if it mattered which thread constructed the object, and I would be _extremely_ surprised if it mattered which other thread `start()`ed the thread that ultimately uses the object.","body":"@WildLAppers, I don&#39;t have JavaFX experience, but I would be mildly surprised if it mattered which thread constructed the object, and I would be <i>extremely</i> surprised if it mattered which other thread <code>start()</code>ed the thread that ultimately uses the object."},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1683922652,"post_id":76238194,"comment_id":134446438,"body_markdown":"@SolomonSlow I&#39;m also just starting with JavaFX, from what I understand from the textbook I am using, the Task&lt;T&gt; class was written especially for JavaFX. So despite the fact it is a weird requiremet (if it was a requirement), it didn&#39;t seemed out of the realm of possiblitiy","body":"@SolomonSlow I&#39;m also just starting with JavaFX, from what I understand from the textbook I am using, the Task&lt;T&gt; class was written especially for JavaFX. So despite the fact it is a weird requiremet (if it was a requirement), it didn&#39;t seemed out of the realm of possiblitiy"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1683923737,"post_id":76238194,"comment_id":134446609,"body_markdown":"Interrupts don’t happen by accident.  If someone interrupts a thread, it’s because they are asking that thread to stop what it’s doing and terminate cleanly.  Ignoring an interrupt is the worst possible response—it means your thread is a rogue thread that can never be halted.  The correct course of action is to exit your while loop when you receive an interrupt.  (An easy to way to do that is to remove the try/catch and put the entire while loop inside a try/catch.)","body":"Interrupts don’t happen by accident.  If someone interrupts a thread, it’s because they are asking that thread to stop what it’s doing and terminate cleanly.  Ignoring an interrupt is the worst possible response—it means your thread is a rogue thread that can never be halted.  The correct course of action is to exit your while loop when you receive an interrupt.  (An easy to way to do that is to remove the try/catch and put the entire while loop inside a try/catch.)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1683938611,"post_id":76238194,"comment_id":134448293,"body_markdown":"how about studying the java doc of classes (vs random experiments) you are using? - it&#39;s very clear in describing your _exact_ mis-use of getXX and its _exact_ consequence you are seeing","body":"how about studying the java doc of classes (vs random experiments) you are using? - it&#39;s very clear in describing your <i>exact</i> mis-use of getXX and its <i>exact</i> consequence you are seeing"},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1683983158,"post_id":76238194,"comment_id":134451766,"body_markdown":"@kleopatra actually, I have read the [documantation](https://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#getValue--), and it makes no mantion of this beaviour, I&#39;ve looked for more, and for that excption specifically, and found nothing. So I am unsure what you are referring to","body":"@kleopatra actually, I have read the <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/concurrent/Task.html#getValue--\" rel=\"nofollow noreferrer\">documantation</a>, and it makes no mantion of this beaviour, I&#39;ve looked for more, and for that excption specifically, and found nothing. So I am unsure what you are referring to"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1683988742,"post_id":76238194,"comment_id":134452480,"body_markdown":"read the class doc ..","body":"read the class doc .."},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1683990164,"post_id":76238194,"comment_id":134452646,"body_markdown":"@kleopatra I linked the section of the documention describing the method, but I have read the top documention describeing the class as well, I&#39;ve just read it again and it has no mention of this behavior.","body":"@kleopatra I linked the section of the documention describing the method, but I have read the top documention describeing the class as well, I&#39;ve just read it again and it has no mention of this behavior."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1683995645,"post_id":76238194,"comment_id":134453361,"body_markdown":"@WildLAppers You didn&#39;t read it very carefully. It explicitly says: *&quot;Because the Task is designed for use with JavaFX GUI applications, it ensures that every change to its public properties, as well as change notifications for state, errors, and for event handlers, all occur on the main JavaFX application thread. **Accessing these properties from a background thread (including the call() method) will result in runtime exceptions being raised.**&quot;*. (My emphasis).","body":"@WildLAppers You didn&#39;t read it very carefully. It explicitly says: <i>&quot;Because the Task is designed for use with JavaFX GUI applications, it ensures that every change to its public properties, as well as change notifications for state, errors, and for event handlers, all occur on the main JavaFX application thread. <b>Accessing these properties from a background thread (including the call() method) will result in runtime exceptions being raised.</b>&quot;</i>. (My emphasis)."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1683999635,"post_id":76238194,"comment_id":134453886,"body_markdown":"And I think you missed my point about the `AnimationTimer`. The point isn&#39;t whether or not your application needs it, but why it&#39;s defined in the FXML file. Typically you use the FXML file to define actual UI components (subclasses of `Node`); and animation timer is essentially executable code, not something you lay out.","body":"And I think you missed my point about the <code>AnimationTimer</code>. The point isn&#39;t whether or not your application needs it, but why it&#39;s defined in the FXML file. Typically you use the FXML file to define actual UI components (subclasses of <code>Node</code>); and animation timer is essentially executable code, not something you lay out."},{"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"score":0,"creation_date":1684048326,"post_id":76238194,"comment_id":134457529,"body_markdown":"@James_D I got your point about the `AnimationTimer` , what I was saying is that in my actual code the class in the FXML is an extension of `Canvas` , which is a subclass of `Node`. The `Canvas` extension has an internal `AnimationTimer`, the timer seemed relvenet to the issue since it mutates UI values, while the canvas was not. So for the question sake, I simplified the canvas out of the code and left the timer. In hindsight, I should have focused on the `Task` in my question.","body":"@James_D I got your point about the <code>AnimationTimer</code> , what I was saying is that in my actual code the class in the FXML is an extension of <code>Canvas</code> , which is a subclass of <code>Node</code>. The <code>Canvas</code> extension has an internal <code>AnimationTimer</code>, the timer seemed relvenet to the issue since it mutates UI values, while the canvas was not. So for the question sake, I simplified the canvas out of the code and left the timer. In hindsight, I should have focused on the <code>Task</code> in my question."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1683998594,"creation_date":1683912335,"answer_id":76238681,"question_id":76238194,"body_markdown":"The exception is being thrown because you can only directly access the `value` property from the FX Application Thread. You can call `updateValue()` from any thread, but you cannot call `getValue()` from a background thread. If you inspect your stack trace carefully, you should see something like:\r\n\r\n    java.lang.IllegalStateException: Task must only be used from the FX Application Thread\r\n      at javafx.concurrent.Task.checkThread()\r\n      at javafx.concurrent.Task.getValue()\r\n      at yourpackage.TimeingTask.call()\r\n\r\nmeaning that the exception is thrown by the call to `getValue()` (not the call to `updateValue()`) in your `call()` method.\r\n\r\nThe [implementation of `Task.getValue()`](https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.graphics/src/main/java/javafx/concurrent/Task.java#L962) is \r\n\r\n    @Override public final V getValue() { checkThread(); return value.get(); }\r\n\r\nwith\r\n\r\n    private void checkThread() {\r\n        if (started &amp;&amp; !isFxApplicationThread()) {\r\n            throw new IllegalStateException(&quot;Task must only be used from the FX Application Thread&quot;);\r\n        }\r\n    }\r\n\r\nAnd, indeed, the [documentation](https://openjfx.io/javadoc/20/javafx.graphics/javafx/concurrent/Task.html) explicitly states\r\n\r\n&gt;Because the `Task` is designed for use with JavaFX GUI applications, it ensures that every change to its public properties, as well as change notifications for state, errors, and for event handlers, all occur on the main JavaFX application thread. **Accessing these properties from a background thread (including the `call()` method) will result in runtime exceptions being raised.**\r\n\r\n(My emphasis.)\r\n\r\nSo when you invoke `getValue()` from your `call()` method (which of course is run on the background thread), it throws the `IllegalStateException`.\r\n\r\n---\r\n\r\nThreads are greatly overkill for what you&#39;re trying to do here anyway. As described [here](https://stackoverflow.com/a/60685975/2189127), you can greatly simplify this with a `Timeline`:\r\n\r\n    public void initialize() {\r\n        myAnimationTimerExtention.setState(false);\r\n        KeyFrame frame = new KeyFrame(Duration.ofSeconds(5), e -&gt; \r\n            myAnimationTimerExtention.setState(! myAnimationTimerExtention.getState()));\r\n        Timeline timeline = new Timeline(frame);\r\n        timeline.setCycleCount(Animation.INDEFINITE);\r\n        timeline.play();\r\n\r\n    }\r\n\r\nOr just build the functionality directly into your `AnimationTimer`, which could easily check the timestamp passed to the `handle()` method and flip the state if needed.\r\n\r\nThis gets rid of the need for your `Task` subclass, the `Executor`, and means the application doesn&#39;t consume additional resources by creating an additional thread.\r\n\r\n---\r\n\r\n\r\nJust in case the code in the question is a simplification, and you really need to use a background thread for some unknown reason, just shadow the value. To emphasize: do not add all the complexity of multithreading unless you need it. The solution above is a far better solution for the functionality you described.\r\n\r\n    public class TimeTrafficLightTask  extends Task&lt;Boolean&gt; {\r\n        private final Duration duration;\r\n        private boolean state = true ;\r\n    \r\n        public TimeTrafficLightTask(Duration duration) {\r\n            this.duration = duration;\r\n            updateValue(state);\r\n        }\r\n    \r\n        @Override\r\n        protected Boolean call() throws Exception {\r\n            while (!isCancelled()) {\r\n                state = !state ;\r\n                updateValue(state);\r\n                try {\r\n                    Thread.sleep(duration);\r\n                } catch (InterruptedException e) {\r\n                    updateMessage(&quot;timing task got interrupted&quot;);\r\n                }\r\n    \r\n            }\r\n    \r\n            return true;\r\n        }\r\n    }","title":"&quot;java.lang.IllegalStateException: Task must only be used from the FX Application Thread&quot; despite task created and ran from the FX Application Thread","body":"<p>The exception is being thrown because you can only directly access the <code>value</code> property from the FX Application Thread. You can call <code>updateValue()</code> from any thread, but you cannot call <code>getValue()</code> from a background thread. If you inspect your stack trace carefully, you should see something like:</p>\n<pre><code>java.lang.IllegalStateException: Task must only be used from the FX Application Thread\n  at javafx.concurrent.Task.checkThread()\n  at javafx.concurrent.Task.getValue()\n  at yourpackage.TimeingTask.call()\n</code></pre>\n<p>meaning that the exception is thrown by the call to <code>getValue()</code> (not the call to <code>updateValue()</code>) in your <code>call()</code> method.</p>\n<p>The <a href=\"https://github.com/openjdk/jfx/blob/70953643a9dc05c76924fc4c602ee39038d71295/modules/javafx.graphics/src/main/java/javafx/concurrent/Task.java#L962\" rel=\"nofollow noreferrer\">implementation of <code>Task.getValue()</code></a> is</p>\n<pre><code>@Override public final V getValue() { checkThread(); return value.get(); }\n</code></pre>\n<p>with</p>\n<pre><code>private void checkThread() {\n    if (started &amp;&amp; !isFxApplicationThread()) {\n        throw new IllegalStateException(&quot;Task must only be used from the FX Application Thread&quot;);\n    }\n}\n</code></pre>\n<p>And, indeed, the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/concurrent/Task.html\" rel=\"nofollow noreferrer\">documentation</a> explicitly states</p>\n<blockquote>\n<p>Because the <code>Task</code> is designed for use with JavaFX GUI applications, it ensures that every change to its public properties, as well as change notifications for state, errors, and for event handlers, all occur on the main JavaFX application thread. <strong>Accessing these properties from a background thread (including the <code>call()</code> method) will result in runtime exceptions being raised.</strong></p>\n</blockquote>\n<p>(My emphasis.)</p>\n<p>So when you invoke <code>getValue()</code> from your <code>call()</code> method (which of course is run on the background thread), it throws the <code>IllegalStateException</code>.</p>\n<hr />\n<p>Threads are greatly overkill for what you're trying to do here anyway. As described <a href=\"https://stackoverflow.com/a/60685975/2189127\">here</a>, you can greatly simplify this with a <code>Timeline</code>:</p>\n<pre><code>public void initialize() {\n    myAnimationTimerExtention.setState(false);\n    KeyFrame frame = new KeyFrame(Duration.ofSeconds(5), e -&gt; \n        myAnimationTimerExtention.setState(! myAnimationTimerExtention.getState()));\n    Timeline timeline = new Timeline(frame);\n    timeline.setCycleCount(Animation.INDEFINITE);\n    timeline.play();\n\n}\n</code></pre>\n<p>Or just build the functionality directly into your <code>AnimationTimer</code>, which could easily check the timestamp passed to the <code>handle()</code> method and flip the state if needed.</p>\n<p>This gets rid of the need for your <code>Task</code> subclass, the <code>Executor</code>, and means the application doesn't consume additional resources by creating an additional thread.</p>\n<hr />\n<p>Just in case the code in the question is a simplification, and you really need to use a background thread for some unknown reason, just shadow the value. To emphasize: do not add all the complexity of multithreading unless you need it. The solution above is a far better solution for the functionality you described.</p>\n<pre><code>public class TimeTrafficLightTask  extends Task&lt;Boolean&gt; {\n    private final Duration duration;\n    private boolean state = true ;\n\n    public TimeTrafficLightTask(Duration duration) {\n        this.duration = duration;\n        updateValue(state);\n    }\n\n    @Override\n    protected Boolean call() throws Exception {\n        while (!isCancelled()) {\n            state = !state ;\n            updateValue(state);\n            try {\n                Thread.sleep(duration);\n            } catch (InterruptedException e) {\n                updateMessage(&quot;timing task got interrupted&quot;);\n            }\n\n        }\n\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3396994,"reputation":99,"user_id":2850347,"display_name":"WildLAppers"},"comment_count":20,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76238681,"answer_count":1,"score":-2,"last_activity_date":1683998594,"creation_date":1683908012,"question_id":76238194,"body_markdown":"I have a single scene JavaFX app, that runs an animation, the animation needs to switch back and forth between two states.  \r\nBased on an example in [&quot;Java How to Program, 11/e, Early Objects&quot;](https://github.com/pdeitel/JavaHowToProgram11e_EarlyObjects/tree/master/examples/ch23/Fig23_26-28)\r\nI have written a controller that creates a similar setup in the initialization method,  \r\nAnd a task with boolean value that signals the animation timer when to switch states by fliping its value and then sleep.  \r\nI keep getting &quot;java.lang.IllegalStateException: Task must only be used from the FX Application Thread&quot; thrown from the `call()` method no metter what I do.\r\n\r\nhere is a simplified version of the controller:\r\n\r\n```java\r\npublic class AnimationController {\r\n    @FXML public AnimationTimer myAnimationTimerExtention;\r\n    private ExecutorService executorService;\r\n\r\n   public void initialize() {\r\n        myAnimationTimerExtention.setState(false);\r\n        TimeingTask task = new TimeingTask (Duration.ofSeconds(5));\r\n\r\n        task .valueProperty().addListener((observableValue, oldValue, newValue) -&gt; {\r\n            myAnimationTimerExtention.setState(false);\r\n        });\r\n\r\n        executorService = Executors.newFixedThreadPool(1);\r\n        executorService.execute(timeTrafficLightTask);\r\n        executorService.shutdown();\r\n    }\r\n```\r\n\r\nAnd here is my task:\r\n\r\n```java\r\npublic class TimeingTask  extends Task&lt;Boolean&gt; {\r\n    private final Duration duration;\r\n\r\n    public TimeingTask(Duration duration) {\r\n        this.duration = duration;\r\n        updateValue(true);\r\n    }\r\n\r\n    @Override\r\n    protected Boolean call() throws Exception {\r\n        while (!isCancelled()) {\r\n            updateValue(!getValue());\r\n            try {\r\n                Thread.sleep(duration);\r\n            } catch (InterruptedException e) {\r\n                updateMessage(&quot;timing task got interrupted&quot;);\r\n            }\r\n\r\n        }\r\n\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\n\r\nI have tried so far:\r\n\r\n1. moveing the initialization to be done in a button&#39;s action\r\n2. removing the listener and the update of the value\r\n3. verifing with `Thread.currentThread().getName()` I&#39;m on the application theard in the controller.  \r\n4. chack if the task somehow get canceld to see if the issue relates to this [javafx bug](https://bugs.openjdk.org/browse/JDK-8092556?jql=summary%20~%20%22java.lang.IllegalStateException%20%20Task%20must%20only%20be%20used%20from%20the%20FX%20Application%20Thread*%22%20OR%20description%20~%20%22java.lang.IllegalStateException%20%20Task%20must%20only%20be%20used%20from%20the%20FX%20Application%20Thread*%22%20ORDER%20BY%20lastViewed%20DESC), it is not getting canceld.  \r\n5. compiling and running the example I&#39;m basing this on to see if this is realted to my IDE configuration or JDK version, the example worked.\r\n6. surrounding the `updateValue()` in a `Platform.runLater()` the excption is thrown on the `Theard.sleep()`\r\n\r\nin all of the above scenarios the excption was thrown","title":"&quot;java.lang.IllegalStateException: Task must only be used from the FX Application Thread&quot; despite task created and ran from the FX Application Thread","body":"<p>I have a single scene JavaFX app, that runs an animation, the animation needs to switch back and forth between two states.<br />\nBased on an example in <a href=\"https://github.com/pdeitel/JavaHowToProgram11e_EarlyObjects/tree/master/examples/ch23/Fig23_26-28\" rel=\"nofollow noreferrer\">&quot;Java How to Program, 11/e, Early Objects&quot;</a>\nI have written a controller that creates a similar setup in the initialization method,<br />\nAnd a task with boolean value that signals the animation timer when to switch states by fliping its value and then sleep.<br />\nI keep getting &quot;java.lang.IllegalStateException: Task must only be used from the FX Application Thread&quot; thrown from the <code>call()</code> method no metter what I do.</p>\n<p>here is a simplified version of the controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AnimationController {\n    @FXML public AnimationTimer myAnimationTimerExtention;\n    private ExecutorService executorService;\n\n   public void initialize() {\n        myAnimationTimerExtention.setState(false);\n        TimeingTask task = new TimeingTask (Duration.ofSeconds(5));\n\n        task .valueProperty().addListener((observableValue, oldValue, newValue) -&gt; {\n            myAnimationTimerExtention.setState(false);\n        });\n\n        executorService = Executors.newFixedThreadPool(1);\n        executorService.execute(timeTrafficLightTask);\n        executorService.shutdown();\n    }\n</code></pre>\n<p>And here is my task:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TimeingTask  extends Task&lt;Boolean&gt; {\n    private final Duration duration;\n\n    public TimeingTask(Duration duration) {\n        this.duration = duration;\n        updateValue(true);\n    }\n\n    @Override\n    protected Boolean call() throws Exception {\n        while (!isCancelled()) {\n            updateValue(!getValue());\n            try {\n                Thread.sleep(duration);\n            } catch (InterruptedException e) {\n                updateMessage(&quot;timing task got interrupted&quot;);\n            }\n\n        }\n\n        return true;\n    }\n}\n</code></pre>\n<p>I have tried so far:</p>\n<ol>\n<li>moveing the initialization to be done in a button's action</li>\n<li>removing the listener and the update of the value</li>\n<li>verifing with <code>Thread.currentThread().getName()</code> I'm on the application theard in the controller.</li>\n<li>chack if the task somehow get canceld to see if the issue relates to this <a href=\"https://bugs.openjdk.org/browse/JDK-8092556?jql=summary%20%7E%20%22java.lang.IllegalStateException%20%20Task%20must%20only%20be%20used%20from%20the%20FX%20Application%20Thread*%22%20OR%20description%20%7E%20%22java.lang.IllegalStateException%20%20Task%20must%20only%20be%20used%20from%20the%20FX%20Application%20Thread*%22%20ORDER%20BY%20lastViewed%20DESC\" rel=\"nofollow noreferrer\">javafx bug</a>, it is not getting canceld.</li>\n<li>compiling and running the example I'm basing this on to see if this is realted to my IDE configuration or JDK version, the example worked.</li>\n<li>surrounding the <code>updateValue()</code> in a <code>Platform.runLater()</code> the excption is thrown on the <code>Theard.sleep()</code></li>\n</ol>\n<p>in all of the above scenarios the excption was thrown</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1684014433,"post_id":76243947,"comment_id":134455486,"body_markdown":"This seems to be how method breakpoints work (from the [IntelliJ IDEA documentation](https://www.jetbrains.com/help/idea/2023.1/using-breakpoints.html#breakpoint-types): **Method breakpoints**: suspend the program upon entering or exiting the specified method **or one of its implementations**, allowing you to check the method&#39;s entry/exit conditions)","body":"This seems to be how method breakpoints work (from the <a href=\"https://www.jetbrains.com/help/idea/2023.1/using-breakpoints.html#breakpoint-types\" rel=\"nofollow noreferrer\">IntelliJ IDEA documentation</a>: <b>Method breakpoints</b>: suspend the program upon entering or exiting the specified method <b>or one of its implementations</b>, allowing you to check the method&#39;s entry/exit conditions)"}],"owner":{"account_id":28115464,"reputation":11,"user_id":21482635,"display_name":"gxx"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683997806,"creation_date":1683997184,"question_id":76243947,"body_markdown":"When debugging Java code in IntelliJ IDEA, breakpoints set on methods in the parent class will take effect on corresponding methods in the subclass, even if the declaration and instantiation are for the subclass itself.\r\n\r\n\r\n```\r\npublic class Debug02 {\r\n    public static void main(String[] args) {\r\n        Son instance = new Son();\r\n        instance.test();\r\n    }\r\n}\r\n\r\nclass Father{\r\n    public void test(){//add method breakpoints here\r\n        System.out.println(&quot;Father : test1&quot;);\r\n        System.out.println(&quot;Father : test2&quot;);\r\n    }\r\n}\r\n\r\nclass Son extends Father{\r\n    @Override\r\n    public void test(){\r\n        System.out.println(&quot;Son : test1&quot;);\r\n        System.out.println(&quot;Son : test2&quot;);\r\n    }\r\n}\r\n```\r\nAfter starting the debug session, it automatically pauses at the first line of the &quot;test&quot; method in the &quot;Son&quot; class.\r\n\r\nPlease tell why?","title":"IDEA method breakpoints in the parent class effect corresponding methods in the subclass","body":"<p>When debugging Java code in IntelliJ IDEA, breakpoints set on methods in the parent class will take effect on corresponding methods in the subclass, even if the declaration and instantiation are for the subclass itself.</p>\n<pre><code>public class Debug02 {\n    public static void main(String[] args) {\n        Son instance = new Son();\n        instance.test();\n    }\n}\n\nclass Father{\n    public void test(){//add method breakpoints here\n        System.out.println(&quot;Father : test1&quot;);\n        System.out.println(&quot;Father : test2&quot;);\n    }\n}\n\nclass Son extends Father{\n    @Override\n    public void test(){\n        System.out.println(&quot;Son : test1&quot;);\n        System.out.println(&quot;Son : test2&quot;);\n    }\n}\n</code></pre>\n<p>After starting the debug session, it automatically pauses at the first line of the &quot;test&quot; method in the &quot;Son&quot; class.</p>\n<p>Please tell why?</p>\n"},{"tags":["java","hibernate","many-to-many","hibernate-criteria","criteria-api"],"answers":[{"tags":[],"owner":{"account_id":26003956,"reputation":11,"user_id":19713960,"display_name":"dev.akdogan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683997711,"creation_date":1683997688,"answer_id":76243990,"question_id":76212494,"body_markdown":"I solved the problem by adding aliases to the &quot;root&quot; and &quot;joinRoles&quot; parts. I did not face this problem in my other queries, but when you have a Many-to-Many relationship and need to join in the query, Hibernate gets confused with aliases. I saw the problem while debugging by evaluating it.\r\n\r\n    root.alias(&quot;generatedAlias0&quot;); \r\n    joinRoles.alias(&quot;generatedAlias1&quot;);","title":"Criteria Query For Getting User With Roles From Many to Many User-Role Relationship","body":"<p>I solved the problem by adding aliases to the &quot;root&quot; and &quot;joinRoles&quot; parts. I did not face this problem in my other queries, but when you have a Many-to-Many relationship and need to join in the query, Hibernate gets confused with aliases. I saw the problem while debugging by evaluating it.</p>\n<pre><code>root.alias(&quot;generatedAlias0&quot;); \njoinRoles.alias(&quot;generatedAlias1&quot;);\n</code></pre>\n"}],"owner":{"account_id":26003956,"reputation":11,"user_id":19713960,"display_name":"dev.akdogan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683997711,"creation_date":1683657545,"question_id":76212494,"body_markdown":"```\r\npublic class User {\r\n\r\n    @ManyToMany\r\n    @JoinTable(name = &quot;t_user_roles&quot;,\r\n                        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n                        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\r\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n\r\n}\r\n```\r\n```\r\npublic class Role {\r\n\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(length = 20)\r\n    private RoleType roleName;\r\n\r\n}\r\n```\r\n```\r\npublic enum RoleType {\r\n\r\n    ROLE_CUSTOMER(&quot;Customer&quot;),\r\n    ROLE_MANAGER(&quot;Manager&quot;),\r\n    ROLE_ADMIN(&quot;Administrator&quot;);\r\n\r\n    private String name;\r\n\r\n    private RoleType(String name) {\r\n        this.name=name;\r\n    }\r\n    public String getName() {\r\n        return name;\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\npublic PageImpl&lt;UserDTO&gt; getAllUserPage(String query,RoleType role,Pageable pageable) {\r\n            CriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n            CriteriaQuery&lt;User&gt; criteriaQuery = cb.createQuery(User.class);\r\n            Root&lt;User&gt; root = criteriaQuery.from(User.class);\r\n\r\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n            Predicate finalPredicate = null;\r\n\r\n            if (query != null &amp;&amp; !query.isEmpty()) {\r\n                String likeSearchText = &quot;%&quot; + query.toLowerCase(Locale.US) + &quot;%&quot;;\r\n                Predicate searchByUserFirstName = cb.like(cb.lower(root.get(&quot;firstName&quot;)), likeSearchText);\r\n                Predicate searchByUserLastName = cb.like(cb.lower(root.get(&quot;lastName&quot;)), likeSearchText);\r\n                Predicate searchByUserEmail = cb.like(cb.lower(root.get(&quot;email&quot;)), likeSearchText);\r\n                predicates.add(cb.or(searchByUserFirstName,searchByUserLastName,searchByUserEmail));\r\n            }\r\n---------------------------------------------------------------------------------------------------\r\n            if (role != null){\r\n                Join&lt;User, Role&gt; joinRoles = root.join(&quot;roles&quot;);\r\n                predicates.add(cb.equal(joinRoles.get(&quot;roleName&quot;), role));\r\n                System.err.println(role);\r\n            }\r\n---------------------------------------------------------------------------------------------------\r\n\r\n            finalPredicate = cb.and(predicates.toArray(new Predicate[0]));\r\n\r\n            criteriaQuery.orderBy(pageable.getSort().stream()\r\n                    .map(order -&gt; {\r\n                        if (order.isAscending()) {\r\n                            return cb.asc(root.get(order.getProperty()));\r\n                        } else {\r\n                            return cb.desc(root.get(order.getProperty()));\r\n                        }\r\n                    })\r\n                    .collect(Collectors.toList()));\r\n\r\n            criteriaQuery.where(finalPredicate);\r\n\r\n            TypedQuery&lt;User&gt; typedQuery = entityManager.createQuery(criteriaQuery);\r\n            typedQuery.setFirstResult((int)pageable.getOffset());\r\n            typedQuery.setMaxResults(pageable.getPageSize());\r\n\r\n            CriteriaQuery&lt;Long&gt; countQuery = cb.createQuery(Long.class);\r\n            countQuery.select(cb.count(countQuery.from(User.class)));\r\n            countQuery.where(finalPredicate);\r\n            Long totalRecords = entityManager.createQuery(countQuery).getSingleResult();\r\n\r\n            List&lt;UserDTO&gt; userDTOList = userMapper.map(typedQuery.getResultList());\r\n\r\n            return new PageImpl&lt;&gt;(userDTOList, pageable, totalRecords);\r\n    }\r\n```\r\n\r\nHello friends,\r\n\r\nAs you can see above, I have been trying to write a Criteria API query that works in all possible scenarios. In this query, the search part works completely dynamically and brings results in all possible cases. If I don&#39;t send any data, it brings all Users. However, I am having trouble with the code block I added to perform the search according to the role. I included all the code here because I thought there might be a problem with other queries. As you can see, I have User and Role classes. I cropped only the necessary parts related to the role to keep it short. In a many-to-many relationship, I have searched the internet for how to get users according to their roles, but to no avail. The roles are kept as ENUM in the Role class. There is no problem with the value, but when I execute the query, I get the error `&quot;org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: &#39;generatedAlias1.roleName&#39; [select count(generatedAlias0) from com.gpm.domains.User as generatedAlias0 where generatedAlias1.roleName=:param0]&quot;`. Although the field name is correct, I cannot get any result in any way. Can you please help me?","title":"Criteria Query For Getting User With Roles From Many to Many User-Role Relationship","body":"<pre><code>public class User {\n\n    @ManyToMany\n    @JoinTable(name = &quot;t_user_roles&quot;,\n                        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n                        inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;))\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n}\n</code></pre>\n<pre><code>public class Role {\n\n    @Enumerated(EnumType.STRING)\n    @Column(length = 20)\n    private RoleType roleName;\n\n}\n</code></pre>\n<pre><code>public enum RoleType {\n\n    ROLE_CUSTOMER(&quot;Customer&quot;),\n    ROLE_MANAGER(&quot;Manager&quot;),\n    ROLE_ADMIN(&quot;Administrator&quot;);\n\n    private String name;\n\n    private RoleType(String name) {\n        this.name=name;\n    }\n    public String getName() {\n        return name;\n}\n</code></pre>\n<pre><code>public PageImpl&lt;UserDTO&gt; getAllUserPage(String query,RoleType role,Pageable pageable) {\n            CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n            CriteriaQuery&lt;User&gt; criteriaQuery = cb.createQuery(User.class);\n            Root&lt;User&gt; root = criteriaQuery.from(User.class);\n\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            Predicate finalPredicate = null;\n\n            if (query != null &amp;&amp; !query.isEmpty()) {\n                String likeSearchText = &quot;%&quot; + query.toLowerCase(Locale.US) + &quot;%&quot;;\n                Predicate searchByUserFirstName = cb.like(cb.lower(root.get(&quot;firstName&quot;)), likeSearchText);\n                Predicate searchByUserLastName = cb.like(cb.lower(root.get(&quot;lastName&quot;)), likeSearchText);\n                Predicate searchByUserEmail = cb.like(cb.lower(root.get(&quot;email&quot;)), likeSearchText);\n                predicates.add(cb.or(searchByUserFirstName,searchByUserLastName,searchByUserEmail));\n            }\n---------------------------------------------------------------------------------------------------\n            if (role != null){\n                Join&lt;User, Role&gt; joinRoles = root.join(&quot;roles&quot;);\n                predicates.add(cb.equal(joinRoles.get(&quot;roleName&quot;), role));\n                System.err.println(role);\n            }\n---------------------------------------------------------------------------------------------------\n\n            finalPredicate = cb.and(predicates.toArray(new Predicate[0]));\n\n            criteriaQuery.orderBy(pageable.getSort().stream()\n                    .map(order -&gt; {\n                        if (order.isAscending()) {\n                            return cb.asc(root.get(order.getProperty()));\n                        } else {\n                            return cb.desc(root.get(order.getProperty()));\n                        }\n                    })\n                    .collect(Collectors.toList()));\n\n            criteriaQuery.where(finalPredicate);\n\n            TypedQuery&lt;User&gt; typedQuery = entityManager.createQuery(criteriaQuery);\n            typedQuery.setFirstResult((int)pageable.getOffset());\n            typedQuery.setMaxResults(pageable.getPageSize());\n\n            CriteriaQuery&lt;Long&gt; countQuery = cb.createQuery(Long.class);\n            countQuery.select(cb.count(countQuery.from(User.class)));\n            countQuery.where(finalPredicate);\n            Long totalRecords = entityManager.createQuery(countQuery).getSingleResult();\n\n            List&lt;UserDTO&gt; userDTOList = userMapper.map(typedQuery.getResultList());\n\n            return new PageImpl&lt;&gt;(userDTOList, pageable, totalRecords);\n    }\n</code></pre>\n<p>Hello friends,</p>\n<p>As you can see above, I have been trying to write a Criteria API query that works in all possible scenarios. In this query, the search part works completely dynamically and brings results in all possible cases. If I don't send any data, it brings all Users. However, I am having trouble with the code block I added to perform the search according to the role. I included all the code here because I thought there might be a problem with other queries. As you can see, I have User and Role classes. I cropped only the necessary parts related to the role to keep it short. In a many-to-many relationship, I have searched the internet for how to get users according to their roles, but to no avail. The roles are kept as ENUM in the Role class. There is no problem with the value, but when I execute the query, I get the error <code>&quot;org.hibernate.hql.internal.ast.QuerySyntaxException: Invalid path: 'generatedAlias1.roleName' [select count(generatedAlias0) from com.gpm.domains.User as generatedAlias0 where generatedAlias1.roleName=:param0]&quot;</code>. Although the field name is correct, I cannot get any result in any way. Can you please help me?</p>\n"},{"tags":["java","spring","jpa","hash","equals"],"owner":{"account_id":28515520,"reputation":15,"user_id":21824932,"display_name":"Oleksandr Zhytariuk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683997476,"creation_date":1683997476,"question_id":76243972,"body_markdown":"I have Question DB entity:\r\n\r\n```\r\npublic class Question {\r\n    @Id\r\n    @UuidGenerator\r\n    @Column(name = &quot;question_id&quot;)\r\n    private String questionId;\r\n\r\n    @Column(name = &quot;text&quot;)\r\n    private String text;\r\n\r\n    @Column(name = &quot;correct_answer_description&quot;)\r\n    private String correctAnswerDescription;\r\n\r\n    @Column(name = &quot;correct_answers_number&quot;)\r\n    private Integer correctAnswersNumber;\r\n\r\n    @ToString.Exclude\r\n    @EqualsAndHashCode.Exclude\r\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\r\n    private List&lt;Answer&gt; answers = new ArrayList&lt;&gt;();\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;question_answers&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;fk_question_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;fk_quiz_id&quot;)\r\n    )\r\n    @ToString.Exclude\r\n    @EqualsAndHashCode.Exclude\r\n    private Set&lt;Quiz&gt; quizzes = new HashSet&lt;&gt;();\r\n\r\n    @EqualsAndHashCode.Exclude\r\n    @CreationTimestamp\r\n    @Column(name = &quot;creation_date&quot;)\r\n    private LocalDateTime creationDate;\r\n\r\n    @EqualsAndHashCode.Exclude\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;update_date&quot;)\r\n    private LocalDateTime updateDate;\r\n}\r\n```\r\nAnd I also have QuestionCreationForm\r\n```\r\npublic class QuestionCreationForm {\r\n    @NotBlank\r\n    private String text;\r\n    private String correctAnswerDescription;\r\n    @NotNull\r\n    @Range(min = 0)\r\n    private Integer correctAnswerNumber;\r\n\r\n    @NotEmpty(message = &quot;Answers should not be empty&quot;)\r\n    @Valid\r\n    @Builder.Default\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    private List&lt;AnswerApi&gt; answers = new ArrayList&lt;&gt;();\r\n}\r\n```\r\nMy goal is create **save ** endpoint from set like this:\r\n```\r\n    @PostMapping\r\n    public ResponseEntity&lt;List&lt;QuestionApi&gt;&gt; save(final @PathVariable(&quot;quizId&quot;) String quizId,\r\n                                                  final @RequestBody @NotEmpty   Set&lt;QuestionCreationForm&gt; questions) {\r\n        final List&lt;QuestionApi&gt; createdQuestions = questionService.create(questions, quizId)\r\n                                                                  .stream()\r\n                                                                  .map(questionMapper::toApi)\r\n                                                                  .collect(Collectors.toList());\r\n\r\n        return new ResponseEntity&lt;&gt;(createdQuestions, HttpStatus.OK);\r\n    }\r\n```\r\nBut I have some problem in service:\r\n```\r\n    public List&lt;Question&gt; save(final Set&lt;QuestionCreationForm&gt; createdQuestionsApi,\r\n                               final String quizId) {\r\n        final Quiz quiz = quizService.findById(quizId)\r\n                                     .orElseThrow(() -&gt; new QuizEntityNotFoundException(ENTITY_NOT_FOUND_BY_ID_EXCEPTION, quizId));\r\n        final Set&lt;Question&gt; existedQuestions = questionRepository.findAllByQuizIdWithAnswers(quizId);\r\n        final Set&lt;Question&gt; createdQuestion = createdQuestionsApi.stream()\r\n                                                                 .map(questionMapper::toDomain)\r\n                                                                 .collect(Collectors.toSet());\r\n\r\n        //The problem here, method use equals and hashcode, but fields like creat and update date does no exist\r\n        //So have no unique entities and this is cause to problem with create same question\r\n        final var subtract = CollectionUtils.subtract(createdQuestion, existedQuestions);\r\n\r\n        if (subtract.isEmpty()) {\r\n            throw new QuizBadRequestException(QUESTION_EMPTY_ARRAY_EXCEPTION);\r\n        }\r\n\r\n        subtract.forEach(question -&gt; question.addQuiz(quiz));\r\n\r\n        return questionRepository.saveAll(subtract);\r\n    }\r\n```\r\nThe main problem, is that **CollectionUtils.subtract** (take only elems that exist in collection1 and do not exist in collection 2) used equals method that is used for all fields in db entity. So my question is, what is best option to choose:\r\n1. Do not use quizId and others fields in equals but I think is not ok, because on my opinion in DB entities level, this entites realy different\r\n2. Return from DB DTO entity, and compare by this dto\r\n3. Create is same method, and us if-else statements to check for unique\r\n4. Your variants\r\n\r\n\r\n\r\nI`m want to find best solution for comparing 2 entites by different equals and hash code in different situations","title":"Can I compare DB entities by equals in hashcode with different fields?","body":"<p>I have Question DB entity:</p>\n<pre><code>public class Question {\n    @Id\n    @UuidGenerator\n    @Column(name = &quot;question_id&quot;)\n    private String questionId;\n\n    @Column(name = &quot;text&quot;)\n    private String text;\n\n    @Column(name = &quot;correct_answer_description&quot;)\n    private String correctAnswerDescription;\n\n    @Column(name = &quot;correct_answers_number&quot;)\n    private Integer correctAnswersNumber;\n\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)\n    private List&lt;Answer&gt; answers = new ArrayList&lt;&gt;();\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;question_answers&quot;,\n            joinColumns = @JoinColumn(name = &quot;fk_question_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;fk_quiz_id&quot;)\n    )\n    @ToString.Exclude\n    @EqualsAndHashCode.Exclude\n    private Set&lt;Quiz&gt; quizzes = new HashSet&lt;&gt;();\n\n    @EqualsAndHashCode.Exclude\n    @CreationTimestamp\n    @Column(name = &quot;creation_date&quot;)\n    private LocalDateTime creationDate;\n\n    @EqualsAndHashCode.Exclude\n    @UpdateTimestamp\n    @Column(name = &quot;update_date&quot;)\n    private LocalDateTime updateDate;\n}\n</code></pre>\n<p>And I also have QuestionCreationForm</p>\n<pre><code>public class QuestionCreationForm {\n    @NotBlank\n    private String text;\n    private String correctAnswerDescription;\n    @NotNull\n    @Range(min = 0)\n    private Integer correctAnswerNumber;\n\n    @NotEmpty(message = &quot;Answers should not be empty&quot;)\n    @Valid\n    @Builder.Default\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\n    private List&lt;AnswerApi&gt; answers = new ArrayList&lt;&gt;();\n}\n</code></pre>\n<p>My goal is create **save ** endpoint from set like this:</p>\n<pre><code>    @PostMapping\n    public ResponseEntity&lt;List&lt;QuestionApi&gt;&gt; save(final @PathVariable(&quot;quizId&quot;) String quizId,\n                                                  final @RequestBody @NotEmpty   Set&lt;QuestionCreationForm&gt; questions) {\n        final List&lt;QuestionApi&gt; createdQuestions = questionService.create(questions, quizId)\n                                                                  .stream()\n                                                                  .map(questionMapper::toApi)\n                                                                  .collect(Collectors.toList());\n\n        return new ResponseEntity&lt;&gt;(createdQuestions, HttpStatus.OK);\n    }\n</code></pre>\n<p>But I have some problem in service:</p>\n<pre><code>    public List&lt;Question&gt; save(final Set&lt;QuestionCreationForm&gt; createdQuestionsApi,\n                               final String quizId) {\n        final Quiz quiz = quizService.findById(quizId)\n                                     .orElseThrow(() -&gt; new QuizEntityNotFoundException(ENTITY_NOT_FOUND_BY_ID_EXCEPTION, quizId));\n        final Set&lt;Question&gt; existedQuestions = questionRepository.findAllByQuizIdWithAnswers(quizId);\n        final Set&lt;Question&gt; createdQuestion = createdQuestionsApi.stream()\n                                                                 .map(questionMapper::toDomain)\n                                                                 .collect(Collectors.toSet());\n\n        //The problem here, method use equals and hashcode, but fields like creat and update date does no exist\n        //So have no unique entities and this is cause to problem with create same question\n        final var subtract = CollectionUtils.subtract(createdQuestion, existedQuestions);\n\n        if (subtract.isEmpty()) {\n            throw new QuizBadRequestException(QUESTION_EMPTY_ARRAY_EXCEPTION);\n        }\n\n        subtract.forEach(question -&gt; question.addQuiz(quiz));\n\n        return questionRepository.saveAll(subtract);\n    }\n</code></pre>\n<p>The main problem, is that <strong>CollectionUtils.subtract</strong> (take only elems that exist in collection1 and do not exist in collection 2) used equals method that is used for all fields in db entity. So my question is, what is best option to choose:</p>\n<ol>\n<li>Do not use quizId and others fields in equals but I think is not ok, because on my opinion in DB entities level, this entites realy different</li>\n<li>Return from DB DTO entity, and compare by this dto</li>\n<li>Create is same method, and us if-else statements to check for unique</li>\n<li>Your variants</li>\n</ol>\n<p>I`m want to find best solution for comparing 2 entites by different equals and hash code in different situations</p>\n"},{"tags":["java","spring-boot","reactive-programming","spring-data-r2dbc","r2dbc"],"owner":{"account_id":22802628,"reputation":1,"user_id":16955074,"display_name":"Devansh Mishra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683996398,"creation_date":1683996398,"question_id":76243884,"body_markdown":"The ask is : \r\n1) to run a SELECT statement (with offset and limit)\r\n2) to run a COUNT statement (without offset &amp; limit)\r\n\r\nNow, we want to run these two queries at once in r2dbc in an asynchronous manner(so that we send and get the result in same time, not to wait for one to finish executing and then send another, to make use of reactive programming and reduce time)\r\n\r\nThis is to implement pagination so that we can tell the user how many pages are there after the current page.\r\n\r\nThis is how we&#39;re sending the select query : \r\n\r\n`        return r2dbcTemplate.getDatabaseClient()\r\n                .sql(query)\r\n                .fetch()\r\n                .all()\r\n                .collectList();`\r\n\r\nthe variable **query** contains the SELECT query\r\n\r\nAny ways to implement the above stated ask ?\r\n\r\nTech stack used : \r\nApplication -&gt; Java 17 &amp; Spring boot\r\nDB -&gt; Postgres\r\n\r\nWe&#39;ve have tried sending the two queries in a synchronous manner (one after the other),\r\nbut it defeats the purpose of reactive approach.\r\n\r\n","title":"How to execute two queries simultaneously(in asynchronous manner) using r2dbc in reactive java","body":"<p>The ask is :</p>\n<ol>\n<li>to run a SELECT statement (with offset and limit)</li>\n<li>to run a COUNT statement (without offset &amp; limit)</li>\n</ol>\n<p>Now, we want to run these two queries at once in r2dbc in an asynchronous manner(so that we send and get the result in same time, not to wait for one to finish executing and then send another, to make use of reactive programming and reduce time)</p>\n<p>This is to implement pagination so that we can tell the user how many pages are there after the current page.</p>\n<p>This is how we're sending the select query :</p>\n<p><code>        return r2dbcTemplate.getDatabaseClient() .sql(query) .fetch() .all() .collectList();</code></p>\n<p>the variable <strong>query</strong> contains the SELECT query</p>\n<p>Any ways to implement the above stated ask ?</p>\n<p>Tech stack used :\nApplication -&gt; Java 17 &amp; Spring boot\nDB -&gt; Postgres</p>\n<p>We've have tried sending the two queries in a synchronous manner (one after the other),\nbut it defeats the purpose of reactive approach.</p>\n"},{"tags":["java","mysql","spring-boot","jpa","one-to-many"],"owner":{"account_id":26135489,"reputation":5,"user_id":19825550,"display_name":"Alex So"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683996081,"creation_date":1683987181,"question_id":76243172,"body_markdown":"I want to build a api with result that contain a order entity with attribute of a \r\nlist of productMap (which is a map of ordered products with Product as key and value as the number of product)The api will also expected displayed to whole product entity correspond to the map .Order is One to Many to product.My latest approach for it is to build a new table ProductMap for storing the one to many relationship.\r\n\r\nHere is the code for entity of order:\r\n```\r\n@Data\r\n@Entity\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Table(name = &quot;Order_table&quot;)\r\npublic class Order {\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID OrderId;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;op_fk&quot;)\r\n    private List&lt;ProductMap&gt; productsMap_key;\r\n\r\n\r\n\r\n    private double amount;\r\n\r\n    private LocalDate date;\r\n\r\n    private LocalDate dueDate;\r\n\r\n    @OneToOne @MapsId\r\n    private Invoice invoice;\r\n\r\n    @ManyToOne(targetEntity = Customer.class,cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;oi_fk&quot;,referencedColumnName = &quot;CustomerId&quot;)\r\n    private Customer customer;\r\n\r\n\r\n}\r\n```\r\nThe product:\r\n```\r\nEntity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Table\r\n@Builder\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID ProductId;\r\n\r\n    private String ProductName;\r\n\r\n    private double price;\r\n\r\n    private int storage;\r\n\r\n\r\n\r\n}\r\n```\r\nThe productMap entity:\r\n```\r\n@Entity\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Table\r\n@Builder\r\npublic class ProductMap {\r\n    @Id\r\n    @GeneratedValue\r\n    private UUID ProductMapId;\r\n\r\n    private UUID OrderId;\r\n\r\n    private UUID ProductId;\r\n\r\n    private int quantity;\r\n}\r\n```\r\n\r\nIs there any better approach for this problem since it is actually quiet complicated and not straight-forward for implmenting join table relations    , i have think of adding the true query directly or seperate the sql the serveral small function and group them by function but as i know that using join table directly in sql in not recommended .","title":"handling join table in springboot for mysql","body":"<p>I want to build a api with result that contain a order entity with attribute of a\nlist of productMap (which is a map of ordered products with Product as key and value as the number of product)The api will also expected displayed to whole product entity correspond to the map .Order is One to Many to product.My latest approach for it is to build a new table ProductMap for storing the one to many relationship.</p>\n<p>Here is the code for entity of order:</p>\n<pre><code>@Data\n@Entity\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\n@Table(name = &quot;Order_table&quot;)\npublic class Order {\n    @Id\n    @GeneratedValue\n    private UUID OrderId;\n\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;op_fk&quot;)\n    private List&lt;ProductMap&gt; productsMap_key;\n\n\n\n    private double amount;\n\n    private LocalDate date;\n\n    private LocalDate dueDate;\n\n    @OneToOne @MapsId\n    private Invoice invoice;\n\n    @ManyToOne(targetEntity = Customer.class,cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;oi_fk&quot;,referencedColumnName = &quot;CustomerId&quot;)\n    private Customer customer;\n\n\n}\n</code></pre>\n<p>The product:</p>\n<pre><code>Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Table\n@Builder\npublic class Product {\n    @Id\n    @GeneratedValue\n    private UUID ProductId;\n\n    private String ProductName;\n\n    private double price;\n\n    private int storage;\n\n\n\n}\n</code></pre>\n<p>The productMap entity:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Table\n@Builder\npublic class ProductMap {\n    @Id\n    @GeneratedValue\n    private UUID ProductMapId;\n\n    private UUID OrderId;\n\n    private UUID ProductId;\n\n    private int quantity;\n}\n</code></pre>\n<p>Is there any better approach for this problem since it is actually quiet complicated and not straight-forward for implmenting join table relations    , i have think of adding the true query directly or seperate the sql the serveral small function and group them by function but as i know that using join table directly in sql in not recommended .</p>\n"},{"tags":["java","android","location","crash"],"answers":[{"tags":[],"owner":{"account_id":4927379,"reputation":5217,"user_id":3968276,"display_name":"Petter Hesselberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1508741791,"creation_date":1508740688,"answer_id":46883294,"question_id":46881417,"body_markdown":"Two problems here:\r\n\r\n1. You do not initialize the `locationManager` field. Your call to `locationManager.requestLocationUpdates` results in a `NullPointerException`.\r\n\r\n2. You do not initialize the `provider` field. Your call to `locationManager.requestLocationUpdates` does not like this.\r\n\r\nTo fix the first problem, add this override:\r\n\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n    }\r\n\r\nTo fix the second problem, throw out your `provider` field and use `LocationManager.GPS_PROVIDER` (or one of the other providers defined in `LocationManager`) instead. Or initialize the `provider` field.\r\n\r\n---\r\n\r\nSetting breakpoints and running the program under a debugger is a good way to find such problems. Another approach is to look at logs &amp;ndash; I&#39;ll bet there&#39;s a relevant stack trace in there somewhere.\r\n\r\n---\r\n\r\nAlso ensure that your manifest mentions the requisite permission:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot; /&gt;\r\n","title":"App Crashes instantly after asking for location permission","body":"<p>Two problems here:</p>\n\n<ol>\n<li><p>You do not initialize the <code>locationManager</code> field. Your call to <code>locationManager.requestLocationUpdates</code> results in a <code>NullPointerException</code>.</p></li>\n<li><p>You do not initialize the <code>provider</code> field. Your call to <code>locationManager.requestLocationUpdates</code> does not like this.</p></li>\n</ol>\n\n<p>To fix the first problem, add this override:</p>\n\n<pre><code>protected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n}\n</code></pre>\n\n<p>To fix the second problem, throw out your <code>provider</code> field and use <code>LocationManager.GPS_PROVIDER</code> (or one of the other providers defined in <code>LocationManager</code>) instead. Or initialize the <code>provider</code> field.</p>\n\n<hr>\n\n<p>Setting breakpoints and running the program under a debugger is a good way to find such problems. Another approach is to look at logs &ndash; I'll bet there's a relevant stack trace in there somewhere.</p>\n\n<hr>\n\n<p>Also ensure that your manifest mentions the requisite permission:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\" /&gt;\n</code></pre>\n"}],"owner":{"display_name":"user7082793"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683995922,"creation_date":1508728257,"question_id":46881417,"body_markdown":"I have looked for question similar to this and all of them did not include the catlog so nobody could really help them. I have made sure to include it here so I hope you can help! Basically as soon as I Open the app it prompts me with a  location permission saying will I allow it. As soon as i hit yes, the app crashes!\r\n\r\n    package com.worden.jason.sample;\r\n    \r\n    import android.Manifest;\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.content.pm.PackageManager;\r\n    import android.location.Location;\r\n    import android.location.LocationListener;\r\n    import android.location.LocationManager;\r\n    import android.support.annotation.NonNull;\r\n    import android.support.v4.app.ActivityCompat;\r\n    import android.support.v4.content.ContextCompat;\r\n    import android.support.v7.app.AlertDialog;\r\n    import android.support.v7.app.AppCompatActivity;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    \r\n    public class MainActivity extends AppCompatActivity implements LocationListener {\r\n        LocationManager locationManager;\r\n        public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\r\n        String provider;\r\n        public void Analysis(View view) {\r\n            Intent intent = new Intent(MainActivity.this,Analysis.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    \r\n        public void Tips(View view) {\r\n            Intent intent = new Intent(MainActivity.this,Tips.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    \r\n        public boolean checkLocationPermission() {\r\n            if (ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                // Should we show an explanation?\r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                        Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n    \r\n                    // Show an explanation to the user *asynchronously* -- don&#39;t block\r\n                    // this thread waiting for the user&#39;s response! After the user\r\n                    // sees the explanation, try again to request the permission.\r\n                    new AlertDialog.Builder(this)\r\n                            .setTitle(R.string.TileLocation)\r\n                            .setMessage(R.string.TextLocation)\r\n                            .setPositiveButton(R.string.Positive, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialogInterface, int i) {\r\n                                    //Prompt the user once explanation has been shown\r\n                                    ActivityCompat.requestPermissions(MainActivity.this,\r\n                                            new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                                            MY_PERMISSIONS_REQUEST_LOCATION);\r\n                                }\r\n                            })\r\n                            .create()\r\n                            .show();\r\n                } else {\r\n                    ActivityCompat.requestPermissions(this,\r\n                            new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                            MY_PERMISSIONS_REQUEST_LOCATION);\r\n                }\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode,\r\n                                               @NonNull String permissions[], @NonNull int[] grantResults) {\r\n            switch (requestCode) {\r\n                case MY_PERMISSIONS_REQUEST_LOCATION: {\r\n                    // If request is cancelled, the result arrays are empty.\r\n                    if (grantResults.length &gt; 0\r\n                            &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                        // location-related task you need to do.\r\n    \r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                Manifest.permission.ACCESS_FINE_LOCATION)\r\n                                == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n    \r\n                            locationManager.requestLocationUpdates(provider, 400, 1, this);\r\n                        }\r\n    \r\n                    } else {\r\n    \r\n                        // permission denied, boo! Disable the\r\n\t\t\t\t\t}\r\n                    return;\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onLocationChanged(Location location) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onStatusChanged(String provider, int status, Bundle extras) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onProviderEnabled(String provider) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onProviderDisabled(String provider) {\r\n    \r\n        }\r\n    \r\n\t\t@Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    \r\n            if (checkLocationPermission()) {\r\n                if (ContextCompat.checkSelfPermission(this,\r\n                        Manifest.permission.ACCESS_FINE_LOCATION)\r\n                        == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                    //Request location updates:\r\n                    locationManager.requestLocationUpdates(provider, 400, 1, this);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n[log for crash][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GO3hl.png\r\n\r\nEDIT \r\n\r\n    public class MainActivity extends AppCompatActivity implements LocationListener {\r\n        LocationManager locationManager;\r\n        public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\r\n        **String GPS_PROVIDER;**\r\n        public void Analysis(View view) {\r\n            Intent intent = new Intent(MainActivity.this,Analysis.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    \r\n        public void Tips(View view) {\r\n            Intent intent = new Intent(MainActivity.this,Tips.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n        **@Override\r\n        protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);**\r\n        }\r\n    \r\n        public boolean checkLocationPermission() {\r\n    \r\n            if (ContextCompat.checkSelfPermission(this,\r\n                    Manifest.permission.ACCESS_FINE_LOCATION)\r\n                    != PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                // Should we show an explanation?\r\n                if (ActivityCompat.shouldShowRequestPermissionRationale(this,\r\n                        Manifest.permission.ACCESS_FINE_LOCATION)) {\r\n    \r\n                    // Show an explanation to the user *asynchronously* -- don&#39;t block\r\n                    // this thread waiting for the user&#39;s response! After the user\r\n                    // sees the explanation, try again to request the permission.\r\n                    new AlertDialog.Builder(this)\r\n                            .setTitle(R.string.TileLocation)\r\n                            .setMessage(R.string.TextLocation)\r\n                            .setPositiveButton(R.string.Positive, new DialogInterface.OnClickListener() {\r\n                                @Override\r\n                                public void onClick(DialogInterface dialogInterface, int i) {\r\n                                    //Prompt the user once explanation has been shown\r\n                                    ActivityCompat.requestPermissions(MainActivity.this,\r\n                                            new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                                            MY_PERMISSIONS_REQUEST_LOCATION);\r\n                                }\r\n                            })\r\n                            .create()\r\n                            .show();\r\n    \r\n    \r\n                } else {\r\n    \r\n                    ActivityCompat.requestPermissions(this,\r\n                            new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\r\n                            MY_PERMISSIONS_REQUEST_LOCATION);\r\n                }\r\n                return false;\r\n            } else {\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onRequestPermissionsResult(int requestCode,\r\n                                               @NonNull String permissions[], @NonNull int[] grantResults) {\r\n            switch (requestCode) {\r\n                case MY_PERMISSIONS_REQUEST_LOCATION: {\r\n                    // If request is cancelled, the result arrays are empty.\r\n                    if (grantResults.length &gt; 0\r\n                            &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n    \r\n                        // location-related task you need to do.\r\n    \r\n                        if (ContextCompat.checkSelfPermission(this,\r\n                                Manifest.permission.ACCESS_FINE_LOCATION)\r\n                                == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n    \r\n                            locationManager.requestLocationUpdates(GPS_PROVIDER, 400, 1, this);\r\n                        }\r\n    \r\n                    } else {\r\n    \r\n                        // permission denied, boo! Disable the\r\n    \r\n    \r\n                    }\r\n                    return;\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onLocationChanged(Location location) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onStatusChanged(String provider, int status, Bundle extras) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onProviderEnabled(String provider) {\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public void onProviderDisabled(String provider) {\r\n    \r\n        }\r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    \r\n            if (checkLocationPermission()) {\r\n                if (ContextCompat.checkSelfPermission(this,\r\n                        Manifest.permission.ACCESS_FINE_LOCATION)\r\n                        == PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                    //Request location updates:\r\n                    locationManager.requestLocationUpdates(GPS_PROVIDER, 400, 1, this);\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n","title":"App Crashes instantly after asking for location permission","body":"<p>I have looked for question similar to this and all of them did not include the catlog so nobody could really help them. I have made sure to include it here so I hope you can help! Basically as soon as I Open the app it prompts me with a  location permission saying will I allow it. As soon as i hit yes, the app crashes!</p>\n\n<pre><code>package com.worden.jason.sample;\n\nimport android.Manifest;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.content.pm.PackageManager;\nimport android.location.Location;\nimport android.location.LocationListener;\nimport android.location.LocationManager;\nimport android.support.annotation.NonNull;\nimport android.support.v4.app.ActivityCompat;\nimport android.support.v4.content.ContextCompat;\nimport android.support.v7.app.AlertDialog;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\n\npublic class MainActivity extends AppCompatActivity implements LocationListener {\n    LocationManager locationManager;\n    public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\n    String provider;\n    public void Analysis(View view) {\n        Intent intent = new Intent(MainActivity.this,Analysis.class);\n        startActivity(intent);\n        finish();\n    }\n\n    public void Tips(View view) {\n        Intent intent = new Intent(MainActivity.this,Tips.class);\n        startActivity(intent);\n        finish();\n    }\n\n    public boolean checkLocationPermission() {\n        if (ContextCompat.checkSelfPermission(this,\n                Manifest.permission.ACCESS_FINE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            // Should we show an explanation?\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                    Manifest.permission.ACCESS_FINE_LOCATION)) {\n\n                // Show an explanation to the user *asynchronously* -- don't block\n                // this thread waiting for the user's response! After the user\n                // sees the explanation, try again to request the permission.\n                new AlertDialog.Builder(this)\n                        .setTitle(R.string.TileLocation)\n                        .setMessage(R.string.TextLocation)\n                        .setPositiveButton(R.string.Positive, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                //Prompt the user once explanation has been shown\n                                ActivityCompat.requestPermissions(MainActivity.this,\n                                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                                        MY_PERMISSIONS_REQUEST_LOCATION);\n                            }\n                        })\n                        .create()\n                        .show();\n            } else {\n                ActivityCompat.requestPermissions(this,\n                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                        MY_PERMISSIONS_REQUEST_LOCATION);\n            }\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           @NonNull String permissions[], @NonNull int[] grantResults) {\n        switch (requestCode) {\n            case MY_PERMISSIONS_REQUEST_LOCATION: {\n                // If request is cancelled, the result arrays are empty.\n                if (grantResults.length &gt; 0\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n                    // location-related task you need to do.\n\n                    if (ContextCompat.checkSelfPermission(this,\n                            Manifest.permission.ACCESS_FINE_LOCATION)\n                            == PackageManager.PERMISSION_GRANTED) {\n\n\n                        locationManager.requestLocationUpdates(provider, 400, 1, this);\n                    }\n\n                } else {\n\n                    // permission denied, boo! Disable the\n                }\n                return;\n            }\n\n        }\n    }\n\n    @Override\n    public void onLocationChanged(Location location) {\n\n    }\n\n    @Override\n    public void onStatusChanged(String provider, int status, Bundle extras) {\n\n    }\n\n    @Override\n    public void onProviderEnabled(String provider) {\n\n    }\n\n    @Override\n    public void onProviderDisabled(String provider) {\n\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        if (checkLocationPermission()) {\n            if (ContextCompat.checkSelfPermission(this,\n                    Manifest.permission.ACCESS_FINE_LOCATION)\n                    == PackageManager.PERMISSION_GRANTED) {\n\n                //Request location updates:\n                locationManager.requestLocationUpdates(provider, 400, 1, this);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/GO3hl.png\" rel=\"nofollow noreferrer\">log for crash</a></p>\n\n<p>EDIT </p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements LocationListener {\n    LocationManager locationManager;\n    public static final int MY_PERMISSIONS_REQUEST_LOCATION = 99;\n    **String GPS_PROVIDER;**\n    public void Analysis(View view) {\n        Intent intent = new Intent(MainActivity.this,Analysis.class);\n        startActivity(intent);\n        finish();\n    }\n\n    public void Tips(View view) {\n        Intent intent = new Intent(MainActivity.this,Tips.class);\n        startActivity(intent);\n        finish();\n    }\n    **@Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        locationManager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);**\n    }\n\n    public boolean checkLocationPermission() {\n\n        if (ContextCompat.checkSelfPermission(this,\n                Manifest.permission.ACCESS_FINE_LOCATION)\n                != PackageManager.PERMISSION_GRANTED) {\n\n            // Should we show an explanation?\n            if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                    Manifest.permission.ACCESS_FINE_LOCATION)) {\n\n                // Show an explanation to the user *asynchronously* -- don't block\n                // this thread waiting for the user's response! After the user\n                // sees the explanation, try again to request the permission.\n                new AlertDialog.Builder(this)\n                        .setTitle(R.string.TileLocation)\n                        .setMessage(R.string.TextLocation)\n                        .setPositiveButton(R.string.Positive, new DialogInterface.OnClickListener() {\n                            @Override\n                            public void onClick(DialogInterface dialogInterface, int i) {\n                                //Prompt the user once explanation has been shown\n                                ActivityCompat.requestPermissions(MainActivity.this,\n                                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                                        MY_PERMISSIONS_REQUEST_LOCATION);\n                            }\n                        })\n                        .create()\n                        .show();\n\n\n            } else {\n\n                ActivityCompat.requestPermissions(this,\n                        new String[]{Manifest.permission.ACCESS_FINE_LOCATION},\n                        MY_PERMISSIONS_REQUEST_LOCATION);\n            }\n            return false;\n        } else {\n            return true;\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode,\n                                           @NonNull String permissions[], @NonNull int[] grantResults) {\n        switch (requestCode) {\n            case MY_PERMISSIONS_REQUEST_LOCATION: {\n                // If request is cancelled, the result arrays are empty.\n                if (grantResults.length &gt; 0\n                        &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n\n\n                    // location-related task you need to do.\n\n                    if (ContextCompat.checkSelfPermission(this,\n                            Manifest.permission.ACCESS_FINE_LOCATION)\n                            == PackageManager.PERMISSION_GRANTED) {\n\n\n                        locationManager.requestLocationUpdates(GPS_PROVIDER, 400, 1, this);\n                    }\n\n                } else {\n\n                    // permission denied, boo! Disable the\n\n\n                }\n                return;\n            }\n\n        }\n    }\n\n    @Override\n    public void onLocationChanged(Location location) {\n\n    }\n\n    @Override\n    public void onStatusChanged(String provider, int status, Bundle extras) {\n\n    }\n\n    @Override\n    public void onProviderEnabled(String provider) {\n\n    }\n\n    @Override\n    public void onProviderDisabled(String provider) {\n\n    }\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        if (checkLocationPermission()) {\n            if (ContextCompat.checkSelfPermission(this,\n                    Manifest.permission.ACCESS_FINE_LOCATION)\n                    == PackageManager.PERMISSION_GRANTED) {\n\n                //Request location updates:\n                locationManager.requestLocationUpdates(GPS_PROVIDER, 400, 1, this);\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683920091,"creation_date":1683919781,"answer_id":76239398,"question_id":76239201,"body_markdown":"There&#39;s no difference in your example.\r\n\r\nBut if your function property were nullable, you would need `invoke` to be able to do a null-safe invocation of the function:\r\n```\r\nprivate fun mFun(maybeNullFunc: ((String) -&gt; Unit)?) {\r\n    maybeNullFunc?.invoke(&quot;NAme&quot;)\r\n}\r\n```\r\n\r\nSide notes:\r\n\r\n * `mMethod` is improper use of Hungarian notation. `m` as a prefix means &quot;member&quot;, which a function property is not. In Kotlin, member references are properties. Most programmers do not use Hungarian notation, by the way.\r\n * &quot;method&quot; is a misleading name for your parameter. It&#39;s a function, but not necessarily a method. A method is a function that is a member of a class. \r\n\r\nFor example: here I&#39;m calling your function with a method of String:\r\n\r\n```\r\nmFun(String::length)\r\n```\r\n\r\nbut here I&#39;m not:\r\n\r\n```\r\nmFun { println(it.length) }\r\n```","title":"Simple call VS Invoke in kotlin","body":"<p>There's no difference in your example.</p>\n<p>But if your function property were nullable, you would need <code>invoke</code> to be able to do a null-safe invocation of the function:</p>\n<pre><code>private fun mFun(maybeNullFunc: ((String) -&gt; Unit)?) {\n    maybeNullFunc?.invoke(&quot;NAme&quot;)\n}\n</code></pre>\n<p>Side notes:</p>\n<ul>\n<li><code>mMethod</code> is improper use of Hungarian notation. <code>m</code> as a prefix means &quot;member&quot;, which a function property is not. In Kotlin, member references are properties. Most programmers do not use Hungarian notation, by the way.</li>\n<li>&quot;method&quot; is a misleading name for your parameter. It's a function, but not necessarily a method. A method is a function that is a member of a class.</li>\n</ul>\n<p>For example: here I'm calling your function with a method of String:</p>\n<pre><code>mFun(String::length)\n</code></pre>\n<p>but here I'm not:</p>\n<pre><code>mFun { println(it.length) }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23607791,"reputation":245,"user_id":17643249,"display_name":"lelestacia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683995210,"creation_date":1683995210,"answer_id":76243791,"question_id":76239201,"body_markdown":"the 2nd invoke method allow you to call the function of a class as if they were a function inside your class or scope, and not on the other class. Theres no difference between them, to use both of them you still need to create an instance of the class.","title":"Simple call VS Invoke in kotlin","body":"<p>the 2nd invoke method allow you to call the function of a class as if they were a function inside your class or scope, and not on the other class. Theres no difference between them, to use both of them you still need to create an instance of the class.</p>\n"}],"owner":{"account_id":13941942,"reputation":392,"user_id":10090030,"display_name":"Ali Doran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683995210,"creation_date":1683917735,"question_id":76239201,"body_markdown":"Can you explain the distinction between directly calling a passed method and utilizing the invoke function?\r\n\r\n        private fun mFun(mMethod: (String) -&gt; Unit){\r\n        mMethod(&quot;Name&quot;)\r\n        mMethod.invoke(&quot;NAme&quot;)\r\n    }","title":"Simple call VS Invoke in kotlin","body":"<p>Can you explain the distinction between directly calling a passed method and utilizing the invoke function?</p>\n<pre><code>    private fun mFun(mMethod: (String) -&gt; Unit){\n    mMethod(&quot;Name&quot;)\n    mMethod.invoke(&quot;NAme&quot;)\n}\n</code></pre>\n"},{"tags":["java","android-studio","junit"],"owner":{"account_id":27590344,"reputation":11,"user_id":21057676,"display_name":"ewittman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683995138,"creation_date":1683995138,"question_id":76243787,"body_markdown":"I have a project with some JUnit tests that have been working for a while. I finally got around to updating Android Studio (4.2.2 to 2022.2.1 (Flamingo)), and now my unit test configurations aren&#39;t recognized. Since I skipped a few versions, I&#39;m not sure which one actually made the breaking change. `Error running &#39;MyClassTests&#39;: Unknown run configuration type AndroidJUnit`\r\n\r\nI can right click on the unit test class and select run, but that runs very slowly. It took about 4 minutes despite the test results showing that the tests took just under 9 seconds. I saw that configuration was added in the Gradle section in the Run/Debug Configurations window. I made a new JUnit configuration since that is more similar to the original ones I made a while ago, and after some issues, I got one of my styles of tests to work, and it only took about 15 seconds to run. Why is the Gradle configuration so much slower, and is there anything I can do to speed it up? Assuming I can&#39;t fix that, I&#39;m focusing on the JUnit configuration.\r\n\r\nI can&#39;t figure out how to get my second style of tests to run successfully with the JUnit configuration.\r\n\r\nFor both styles, I&#39;m using the answer from [this stackoverflow post](https://stackoverflow.com/a/46793567/21057676) to mock a few Android classes like Log without third party libraries by creating the `.java` file with the fake in the appropriate folder under `app/src/test/java/android`. With my second style of tests, I haven&#39;t been able to figure out how to avoid getting `java.lang.RuntimeException: Stub!` for methods in those classes that are supposed to be mocked when I run the tests. I&#39;m not completely sure how my fake versions end up replacing the original classes for running the tests, so I&#39;m not sure what I need to do with the test configuration to ensure that still happens.\r\n\r\nStyle 1:\r\n\r\n```\r\n@RunWith(Enclosed.class)\r\npublic class MyClassTests1 {\r\n    @RunWith(Parameterized.class)\r\n    public static class FooTest {\r\n        private final MyTestCase testCase;\r\n        public FooTest(MyTestCase testCase) {\r\n            this.testCase = testCase;\r\n        }\r\n        @Parameters(name = &quot;{index}: {0}&quot;)\r\n        public static Collection&lt;Object[]&gt; parameters() {\r\n            // build parameterized test cases\r\n        }\r\n        @Test\r\n        public void testA() {\r\n            // perform the test\r\n        }\r\n        @Test\r\n        public void testB() {\r\n            // perform the test\r\n        }\r\n    }\r\n    @RunWith(Parameterized.class)\r\n    public static class BarTest {\r\n        private final MyTestCase testCase;\r\n        public BarTest(MyTestCase testCase) {\r\n            this.testCase = testCase;\r\n        }\r\n        @Parameters(name = &quot;{index}: {0}&quot;)\r\n        public static Collection&lt;Object[]&gt; parameters() {\r\n            // build parameterized test cases\r\n        }\r\n        @Test\r\n        public void testC() {\r\n            // perform the test\r\n        }\r\n    }\r\n}\r\n```\r\nStyle 2:\r\n```\r\npublic class MyClassTests2 {\r\n    @ParameterizedTest(name = &quot;{index}: {0}&quot;)\r\n    @MethodSource(&quot;foo_parameters&quot;)\r\n    public void foo(final MyTestCase testCase) {\r\n        // perform the test\r\n    }\r\n    private static Stream&lt;MyTestCase&gt; foo_parameters() {\r\n        // build parameterized test cases\r\n    }\r\n    @ParameterizedTest(name = &quot;{index}: {0}&quot;)\r\n    @MethodSource(&quot;bar_parameters&quot;)\r\n    public void bar(final MyTestCase testCase) {\r\n        // perform the test\r\n    }\r\n    private static Stream&lt;MyTestCase&gt; bar_parameters() {\r\n        // build parameterized test cases\r\n    }\r\n}\r\n```\r\n\r\nOriginal configuration for both styles from `.idea/workspace.xml`:\r\n```\r\n&lt;configuration name=&quot;MyClassTests&quot; type=&quot;AndroidJUnit&quot; factoryName=&quot;Android JUnit&quot; temporary=&quot;true&quot; nameIsGenerated=&quot;true&quot;&gt;\r\n  &lt;module name=&quot;MyProject.app&quot; /&gt;\r\n  &lt;useClassPathOnly /&gt;\r\n  &lt;option name=&quot;PACKAGE_NAME&quot; value=&quot;com.example.myproject&quot; /&gt;\r\n  &lt;option name=&quot;MAIN_CLASS_NAME&quot; value=&quot;com.example.myproject.MyClassTests&quot; /&gt;\r\n  &lt;option name=&quot;METHOD_NAME&quot; value=&quot;&quot; /&gt;\r\n  &lt;option name=&quot;TEST_OBJECT&quot; value=&quot;class&quot; /&gt;\r\n  &lt;option name=&quot;PARAMETERS&quot; value=&quot;&quot; /&gt;\r\n  &lt;option name=&quot;WORKING_DIRECTORY&quot; value=&quot;$MODULE_DIR$&quot; /&gt;\r\n  &lt;option name=&quot;TEST_SEARCH_SCOPE&quot;&gt;\r\n    &lt;value defaultName=&quot;wholeProject&quot; /&gt;\r\n  &lt;/option&gt;\r\n  &lt;method v=&quot;2&quot;&gt;\r\n    &lt;option name=&quot;Android.Gradle.BeforeRunTask&quot; enabled=&quot;true&quot; /&gt;\r\n  &lt;/method&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nWorking configuration for my first style:\r\n```\r\n&lt;configuration name=&quot;MyClassTests1&quot; type=&quot;JUnit&quot; factoryName=&quot;JUnit&quot;&gt;\r\n  &lt;option name=&quot;MAIN_CLASS_NAME&quot; value=&quot;&quot; /&gt;\r\n  &lt;option name=&quot;METHOD_NAME&quot; value=&quot;&quot; /&gt;\r\n  &lt;option name=&quot;TEST_OBJECT&quot; value=&quot;pattern&quot; /&gt;\r\n  &lt;option name=&quot;TEST_SEARCH_SCOPE&quot;&gt;\r\n    &lt;value defaultName=&quot;wholeProject&quot; /&gt;\r\n  &lt;/option&gt;\r\n  &lt;patterns&gt;\r\n    &lt;pattern testClass=&quot;com.example.myproject.MyClassTests1$*&quot; /&gt;\r\n  &lt;/patterns&gt;\r\n  &lt;method v=&quot;2&quot;&gt;\r\n    &lt;option name=&quot;Make&quot; enabled=&quot;true&quot; /&gt;\r\n  &lt;/method&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nOne thing I noticed is that these versions of Android Studio handle the classpath differently. In 4.2.2, I could only select `&lt;no module&gt;`, `MyProject`, or `MyProject.app`, but now in 2022.2.1, I also have the options `MyProject.app.androidTest`, `MyProject.app.main`, and `MyProject.app.unitTest`. If I want to run tests from a specific class, I have to use `MyProject.app.unitTest`. If I select a different one, the class field shows an error like `Class &#39;com.example.myproject.MyClassTests&#39; not found in module &#39;MyProjectDirectory.app&#39;` or `Module not specified`. If I use `MyProject.app.unitTest` and specify the class for either style, I get the error `java.lang.RuntimeException: Stub!`, which is why I swapped to use the pattern for the first style. I couldn&#39;t figure out how to get a pattern to get around the error for the second style. The pattern solution for the first style shows the full `com.example.myproject.MyClassTests1$FooTest` name in the results, which is more verbose than it needs to be, but it&#39;s not a big deal.\r\n\r\nI think it would make the most sense to use `MyProject.app.unitTest` for the codepath and run it for a specific test class. Is there something I need to do now to get it to use my fake class instead of the stubbed Android code?","title":"Fix broken JUnit configuration in Android Studio","body":"<p>I have a project with some JUnit tests that have been working for a while. I finally got around to updating Android Studio (4.2.2 to 2022.2.1 (Flamingo)), and now my unit test configurations aren't recognized. Since I skipped a few versions, I'm not sure which one actually made the breaking change. <code>Error running 'MyClassTests': Unknown run configuration type AndroidJUnit</code></p>\n<p>I can right click on the unit test class and select run, but that runs very slowly. It took about 4 minutes despite the test results showing that the tests took just under 9 seconds. I saw that configuration was added in the Gradle section in the Run/Debug Configurations window. I made a new JUnit configuration since that is more similar to the original ones I made a while ago, and after some issues, I got one of my styles of tests to work, and it only took about 15 seconds to run. Why is the Gradle configuration so much slower, and is there anything I can do to speed it up? Assuming I can't fix that, I'm focusing on the JUnit configuration.</p>\n<p>I can't figure out how to get my second style of tests to run successfully with the JUnit configuration.</p>\n<p>For both styles, I'm using the answer from <a href=\"https://stackoverflow.com/a/46793567/21057676\">this stackoverflow post</a> to mock a few Android classes like Log without third party libraries by creating the <code>.java</code> file with the fake in the appropriate folder under <code>app/src/test/java/android</code>. With my second style of tests, I haven't been able to figure out how to avoid getting <code>java.lang.RuntimeException: Stub!</code> for methods in those classes that are supposed to be mocked when I run the tests. I'm not completely sure how my fake versions end up replacing the original classes for running the tests, so I'm not sure what I need to do with the test configuration to ensure that still happens.</p>\n<p>Style 1:</p>\n<pre><code>@RunWith(Enclosed.class)\npublic class MyClassTests1 {\n    @RunWith(Parameterized.class)\n    public static class FooTest {\n        private final MyTestCase testCase;\n        public FooTest(MyTestCase testCase) {\n            this.testCase = testCase;\n        }\n        @Parameters(name = &quot;{index}: {0}&quot;)\n        public static Collection&lt;Object[]&gt; parameters() {\n            // build parameterized test cases\n        }\n        @Test\n        public void testA() {\n            // perform the test\n        }\n        @Test\n        public void testB() {\n            // perform the test\n        }\n    }\n    @RunWith(Parameterized.class)\n    public static class BarTest {\n        private final MyTestCase testCase;\n        public BarTest(MyTestCase testCase) {\n            this.testCase = testCase;\n        }\n        @Parameters(name = &quot;{index}: {0}&quot;)\n        public static Collection&lt;Object[]&gt; parameters() {\n            // build parameterized test cases\n        }\n        @Test\n        public void testC() {\n            // perform the test\n        }\n    }\n}\n</code></pre>\n<p>Style 2:</p>\n<pre><code>public class MyClassTests2 {\n    @ParameterizedTest(name = &quot;{index}: {0}&quot;)\n    @MethodSource(&quot;foo_parameters&quot;)\n    public void foo(final MyTestCase testCase) {\n        // perform the test\n    }\n    private static Stream&lt;MyTestCase&gt; foo_parameters() {\n        // build parameterized test cases\n    }\n    @ParameterizedTest(name = &quot;{index}: {0}&quot;)\n    @MethodSource(&quot;bar_parameters&quot;)\n    public void bar(final MyTestCase testCase) {\n        // perform the test\n    }\n    private static Stream&lt;MyTestCase&gt; bar_parameters() {\n        // build parameterized test cases\n    }\n}\n</code></pre>\n<p>Original configuration for both styles from <code>.idea/workspace.xml</code>:</p>\n<pre><code>&lt;configuration name=&quot;MyClassTests&quot; type=&quot;AndroidJUnit&quot; factoryName=&quot;Android JUnit&quot; temporary=&quot;true&quot; nameIsGenerated=&quot;true&quot;&gt;\n  &lt;module name=&quot;MyProject.app&quot; /&gt;\n  &lt;useClassPathOnly /&gt;\n  &lt;option name=&quot;PACKAGE_NAME&quot; value=&quot;com.example.myproject&quot; /&gt;\n  &lt;option name=&quot;MAIN_CLASS_NAME&quot; value=&quot;com.example.myproject.MyClassTests&quot; /&gt;\n  &lt;option name=&quot;METHOD_NAME&quot; value=&quot;&quot; /&gt;\n  &lt;option name=&quot;TEST_OBJECT&quot; value=&quot;class&quot; /&gt;\n  &lt;option name=&quot;PARAMETERS&quot; value=&quot;&quot; /&gt;\n  &lt;option name=&quot;WORKING_DIRECTORY&quot; value=&quot;$MODULE_DIR$&quot; /&gt;\n  &lt;option name=&quot;TEST_SEARCH_SCOPE&quot;&gt;\n    &lt;value defaultName=&quot;wholeProject&quot; /&gt;\n  &lt;/option&gt;\n  &lt;method v=&quot;2&quot;&gt;\n    &lt;option name=&quot;Android.Gradle.BeforeRunTask&quot; enabled=&quot;true&quot; /&gt;\n  &lt;/method&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Working configuration for my first style:</p>\n<pre><code>&lt;configuration name=&quot;MyClassTests1&quot; type=&quot;JUnit&quot; factoryName=&quot;JUnit&quot;&gt;\n  &lt;option name=&quot;MAIN_CLASS_NAME&quot; value=&quot;&quot; /&gt;\n  &lt;option name=&quot;METHOD_NAME&quot; value=&quot;&quot; /&gt;\n  &lt;option name=&quot;TEST_OBJECT&quot; value=&quot;pattern&quot; /&gt;\n  &lt;option name=&quot;TEST_SEARCH_SCOPE&quot;&gt;\n    &lt;value defaultName=&quot;wholeProject&quot; /&gt;\n  &lt;/option&gt;\n  &lt;patterns&gt;\n    &lt;pattern testClass=&quot;com.example.myproject.MyClassTests1$*&quot; /&gt;\n  &lt;/patterns&gt;\n  &lt;method v=&quot;2&quot;&gt;\n    &lt;option name=&quot;Make&quot; enabled=&quot;true&quot; /&gt;\n  &lt;/method&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>One thing I noticed is that these versions of Android Studio handle the classpath differently. In 4.2.2, I could only select <code>&lt;no module&gt;</code>, <code>MyProject</code>, or <code>MyProject.app</code>, but now in 2022.2.1, I also have the options <code>MyProject.app.androidTest</code>, <code>MyProject.app.main</code>, and <code>MyProject.app.unitTest</code>. If I want to run tests from a specific class, I have to use <code>MyProject.app.unitTest</code>. If I select a different one, the class field shows an error like <code>Class 'com.example.myproject.MyClassTests' not found in module 'MyProjectDirectory.app'</code> or <code>Module not specified</code>. If I use <code>MyProject.app.unitTest</code> and specify the class for either style, I get the error <code>java.lang.RuntimeException: Stub!</code>, which is why I swapped to use the pattern for the first style. I couldn't figure out how to get a pattern to get around the error for the second style. The pattern solution for the first style shows the full <code>com.example.myproject.MyClassTests1$FooTest</code> name in the results, which is more verbose than it needs to be, but it's not a big deal.</p>\n<p>I think it would make the most sense to use <code>MyProject.app.unitTest</code> for the codepath and run it for a specific test class. Is there something I need to do now to get it to use my fake class instead of the stubbed Android code?</p>\n"},{"tags":["java","spring-boot","tomcat"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1683993624,"post_id":76243655,"comment_id":134453100,"body_markdown":"&quot;embedded Tomcat&quot; sounds not like &quot;Tomcat listening&quot;...please refer to [&quot;traditional deployment&quot;](https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment)","body":"&quot;embedded Tomcat&quot; sounds not like &quot;Tomcat listening&quot;...please refer to <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.traditional-deployment\" rel=\"nofollow noreferrer\">&quot;traditional deployment&quot;</a>"},{"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"score":1,"creation_date":1683994192,"post_id":76243655,"comment_id":134453160,"body_markdown":"Please provide a [mre].","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683994936,"creation_date":1683994936,"answer_id":76243767,"question_id":76243655,"body_markdown":"There is already a process running and listening on port 8080. You can check it with the command netstat.\r\n\r\nIf you can&#39;t change the port of your application then the only option would be to kill the other process. You can get the process number with this command:\r\n\r\n    netstat -nap | grep 8080","title":"Spring Boot service cannot be started","body":"<p>There is already a process running and listening on port 8080. You can check it with the command netstat.</p>\n<p>If you can't change the port of your application then the only option would be to kill the other process. You can get the process number with this command:</p>\n<pre><code>netstat -nap | grep 8080\n</code></pre>\n"}],"owner":{"account_id":25877614,"reputation":45,"user_id":19607297,"display_name":"Krktester23"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684158377,"accepted_answer_id":76243767,"answer_count":1,"score":0,"last_activity_date":1683994936,"creation_date":1683993200,"question_id":76243655,"body_markdown":"I&#39;m having trouble starting my Spring Boot application.\r\n\r\nWhen I run it I get the following errors:\r\n\r\n    Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\r\n\r\n    Caused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\r\n\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler start failed \r\n\r\n    Caused by: java.net.BindException: Address already in use\r\n\r\nI work on Linux. Tomcat server is listening on port 8080 (can&#39;t change to another one). Other services work fine. Restarting the application or computer didn&#39;t help.\r\n\r\n","title":"Spring Boot service cannot be started","body":"<p>I'm having trouble starting my Spring Boot application.</p>\n<p>When I run it I get the following errors:</p>\n<pre><code>Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat\n\nCaused by: java.lang.IllegalArgumentException: standardService.connector.startFailed\n\nCaused by: org.apache.catalina.LifecycleException: Protocol handler start failed \n\nCaused by: java.net.BindException: Address already in use\n</code></pre>\n<p>I work on Linux. Tomcat server is listening on port 8080 (can't change to another one). Other services work fine. Restarting the application or computer didn't help.</p>\n"},{"tags":["java","protege"],"comments":[{"owner":{"account_id":15718721,"reputation":988,"user_id":11342225,"display_name":"alea"},"score":0,"creation_date":1684060550,"post_id":76243730,"comment_id":134458661,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":28589541,"reputation":1,"user_id":21889091,"display_name":"student190822109"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683994431,"creation_date":1683994431,"question_id":76243730,"body_markdown":"I&#39;m study about data structuring by protege and I have some errors in my ontology file. In my case, i just want to make some specific code in swrl tab with this conditions:\r\n\r\n1. Class: peter, james, sindy\r\n2. Object Property: Result\r\n3. Instance: a\r\n4. if 3 kind of classes input in the DL Query, the reult have to reflect Instance &quot;a&quot;\r\n\r\nand the code : peter(?x) ^ james(?x) ^ sindy(?x) -\\&gt; Result(?x, a)\r\nwhen i making the code, the code change automatically \\&gt; autogen0:peter(?x) ^ autogen0:james(?x) ^ autogen0:sindy(?x) -\\&gt; autogen0:Result(?x, autogen0:a)\r\n\r\nthe &quot;run drool&quot; is not the problem but still not came out the result that i mentioned.\r\n\r\nthe class structure is followed:\r\nowl:thing\r\n\r\n- person\r\n  - peter\r\n  - sindy\r\n  - james\r\n\r\ninstance: a(no type which connect any other classes)\r\n\r\nobject Property: Result\r\n\r\nand there are no relationship with object. i just want to make the specific relationship with swrl code: &quot;james and peter and sindy&quot; \\&gt; a","title":"Making rule and Query in SWRL Tab","body":"<p>I'm study about data structuring by protege and I have some errors in my ontology file. In my case, i just want to make some specific code in swrl tab with this conditions:</p>\n<ol>\n<li>Class: peter, james, sindy</li>\n<li>Object Property: Result</li>\n<li>Instance: a</li>\n<li>if 3 kind of classes input in the DL Query, the reult have to reflect Instance &quot;a&quot;</li>\n</ol>\n<p>and the code : peter(?x) ^ james(?x) ^ sindy(?x) -&gt; Result(?x, a)\nwhen i making the code, the code change automatically &gt; autogen0:peter(?x) ^ autogen0:james(?x) ^ autogen0:sindy(?x) -&gt; autogen0:Result(?x, autogen0:a)</p>\n<p>the &quot;run drool&quot; is not the problem but still not came out the result that i mentioned.</p>\n<p>the class structure is followed:\nowl:thing</p>\n<ul>\n<li>person\n<ul>\n<li>peter</li>\n<li>sindy</li>\n<li>james</li>\n</ul>\n</li>\n</ul>\n<p>instance: a(no type which connect any other classes)</p>\n<p>object Property: Result</p>\n<p>and there are no relationship with object. i just want to make the specific relationship with swrl code: &quot;james and peter and sindy&quot; &gt; a</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":19435569,"reputation":1567,"user_id":21105992,"display_name":"teapot418"},"score":0,"creation_date":1683994203,"post_id":76243531,"comment_id":134453161,"body_markdown":"This symptom looks like a mismatch in `ld.so`. Run `file ./java`, look for &quot;interpreter&quot;. This is probably different between the two distros.","body":"This symptom looks like a mismatch in <code>ld.so</code>. Run <code>file .&#47;java</code>, look for &quot;interpreter&quot;. This is probably different between the two distros."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683994091,"creation_date":1683994091,"answer_id":76243701,"question_id":76243531,"body_markdown":"&gt; Is it feasible to build jdk for Alpine from Ubuntu?\r\n\r\nFirstly, it is clearly feasible to build OpenJDK for Alpine, because there are examples of Alpine Docker containers for OpenJDK.\r\n\r\nCross-compiling on Ubuntu for Alpine should also work.  But there is a caveat in the OpenJDK Build instructions:\r\n\r\n&gt; &quot;It is often not much problem to build OpenJDK on Linux. The only general advice is to try to use the compilers, external libraries and header files as provided by your distribution.&quot;\r\n\r\nIf you are having problems getting the Java executables you built on Ubuntu to work you could try:\r\n\r\n  - building on Alpine itself, or\r\n  - installing the Alpine headers and libraries on your Ubuntu box and using them in your build rather than the Ubuntu headers and libraries.\r\n\r\nIf you are cross compiling using the Alpine headers etc, you should also read the corresponding section on the build instructions.   And read about the `--with-sysroot=...` configuration option.\r\n\r\n(It would help if you already have a good understanding of how C / C++ compilation works, and experience with using the gcc and configure tool-chains.  The OpenJDK build instructions assume this.)","title":"Is it feasible to build jdk for alpine from ubuntu?","body":"<blockquote>\n<p>Is it feasible to build jdk for Alpine from Ubuntu?</p>\n</blockquote>\n<p>Firstly, it is clearly feasible to build OpenJDK for Alpine, because there are examples of Alpine Docker containers for OpenJDK.</p>\n<p>Cross-compiling on Ubuntu for Alpine should also work.  But there is a caveat in the OpenJDK Build instructions:</p>\n<blockquote>\n<p>&quot;It is often not much problem to build OpenJDK on Linux. The only general advice is to try to use the compilers, external libraries and header files as provided by your distribution.&quot;</p>\n</blockquote>\n<p>If you are having problems getting the Java executables you built on Ubuntu to work you could try:</p>\n<ul>\n<li>building on Alpine itself, or</li>\n<li>installing the Alpine headers and libraries on your Ubuntu box and using them in your build rather than the Ubuntu headers and libraries.</li>\n</ul>\n<p>If you are cross compiling using the Alpine headers etc, you should also read the corresponding section on the build instructions.   And read about the <code>--with-sysroot=...</code> configuration option.</p>\n<p>(It would help if you already have a good understanding of how C / C++ compilation works, and experience with using the gcc and configure tool-chains.  The OpenJDK build instructions assume this.)</p>\n"}],"owner":{"account_id":14193578,"reputation":943,"user_id":12214867,"display_name":"JJJohn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76243701,"answer_count":1,"score":0,"last_activity_date":1683994091,"creation_date":1683991726,"question_id":76243531,"body_markdown":"Is it feasible to build jdk for alpine from ubuntu?\r\n\r\nI built [jdk11][1] from ubuntu and then upload the build to my alpine.\r\n\r\nHowever, alpine keeps saying `./java: not found`\r\n\r\nhow do I do?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/tree/jdk-11+19\r\n  [2]: https://i.stack.imgur.com/YjaDd.png","title":"Is it feasible to build jdk for alpine from ubuntu?","body":"<p>Is it feasible to build jdk for alpine from ubuntu?</p>\n<p>I built <a href=\"https://github.com/openjdk/jdk/tree/jdk-11+19\" rel=\"nofollow noreferrer\">jdk11</a> from ubuntu and then upload the build to my alpine.</p>\n<p>However, alpine keeps saying <code>./java: not found</code></p>\n<p>how do I do?</p>\n<p><a href=\"https://i.stack.imgur.com/YjaDd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YjaDd.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","generics","extends"],"comments":[{"owner":{"account_id":2314453,"reputation":4203,"user_id":2031799,"display_name":"Mikhail"},"score":1,"creation_date":1391080223,"post_id":21452966,"comment_id":32375689,"body_markdown":"http://books.google.co.uk/books?id=zaoK0Z2STlkC&amp;lpg=PP1&amp;dq=Java%20Generics%20and%20Collections&amp;hl=ru&amp;pg=PA19#v=onepage&amp;q=Java%20Generics%20and%20Collections&amp;f=false","body":"<a href=\"http://books.google.co.uk/books?id=zaoK0Z2STlkC&amp;lpg=PP1&amp;dq=Java%20Generics%20and%20Collections&amp;hl=ru&amp;pg=PA19#v=onepage&amp;q=Java%20Generics%20and%20Collections&amp;f=false\" rel=\"nofollow noreferrer\">books.google.co.uk/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1391076073,"creation_date":1391075646,"answer_id":21453048,"question_id":21452966,"body_markdown":"You can create a `List&lt;T&gt; list = new ArrayList&lt;T&gt;();` directly, this can allow all subtypes of T into the list. This is actually little difficult to understand. when you declare it as \r\n\r\n    List&lt;? extends T&gt; list = ...\r\n\r\nIt means that it can allow any unknown subtypes of `T` into the list. But, from that declaration we cannot ensure which is the exact sub-type of `T`. so, we can only add `null` into it","title":"Why generic type is not applicable for argument extends super class for both?","body":"<p>You can create a <code>List&lt;T&gt; list = new ArrayList&lt;T&gt;();</code> directly, this can allow all subtypes of T into the list. This is actually little difficult to understand. when you declare it as </p>\n\n<pre><code>List&lt;? extends T&gt; list = ...\n</code></pre>\n\n<p>It means that it can allow any unknown subtypes of <code>T</code> into the list. But, from that declaration we cannot ensure which is the exact sub-type of <code>T</code>. so, we can only add <code>null</code> into it</p>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1391082693,"creation_date":1391075656,"answer_id":21453051,"question_id":21452966,"body_markdown":"&gt; The requirement is that there should be a list keeps object extends T\r\n\r\nIf you just want a `List` where you can store objects of any class that extend from `T`, then just create a `List` like this:\r\n\r\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n\r\nThe way you&#39;ve created a list currently, will not allow you to add anything except `null` to it.","title":"Why generic type is not applicable for argument extends super class for both?","body":"<blockquote>\n  <p>The requirement is that there should be a list keeps object extends T</p>\n</blockquote>\n\n<p>If you just want a <code>List</code> where you can store objects of any class that extend from <code>T</code>, then just create a <code>List</code> like this:</p>\n\n<pre><code>List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n</code></pre>\n\n<p>The way you've created a list currently, will not allow you to add anything except <code>null</code> to it.</p>\n"},{"tags":[],"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1683993603,"creation_date":1391075898,"answer_id":21453153,"question_id":21452966,"body_markdown":"`List&lt;? extends T&gt;` indicates that anything can comes out of it can be cast to T, so the true list could be any of the following:\r\n\r\n - `List&lt;T&gt;`\r\n - `List&lt;T2&gt;`\r\n - `List&lt;T3&gt;`\r\n - etc\r\n\r\nYou can see that even a new `T` cannot safely be added to such a collection because it could be a `List&lt;T2&gt;` which `T` cannot be put into. As such, such List&lt;? extends T&gt; cannot have non null entries added to them.\r\n\r\nIn this case you may simply want `List&lt;T&gt;`\r\n\r\n## So why would you ever use this?!\r\nThis contravariance can be useful for method parameters or returns, in which a collection will be read, rather than added to. A use for this could be to create a method that accepts any collection that holds items that are T, or extend T. \r\n\r\n    public static void processList(Collection&lt;? extends Vector3d&gt; list){\r\n        for(Vector3d vector:list){\r\n            //do something\r\n        }\r\n    }\r\n\r\nThis method could accept any collection of objects that extends Vector3d, so `ArrayList&lt;MyExtendedVector3d&gt;` would be acceptable.\r\n\r\nEqually a method could return such a collection. An example of a use case is described in [https://stackoverflow.com/questions/17384015/returning-a-collectionchildtype-from-a-method-that-specifies-that-it-returns-c][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/17384015/returning-a-collectionchildtype-from-a-method-that-specifies-that-it-returns-c","title":"Why generic type is not applicable for argument extends super class for both?","body":"<p><code>List&lt;? extends T&gt;</code> indicates that anything can comes out of it can be cast to T, so the true list could be any of the following:</p>\n<ul>\n<li><code>List&lt;T&gt;</code></li>\n<li><code>List&lt;T2&gt;</code></li>\n<li><code>List&lt;T3&gt;</code></li>\n<li>etc</li>\n</ul>\n<p>You can see that even a new <code>T</code> cannot safely be added to such a collection because it could be a <code>List&lt;T2&gt;</code> which <code>T</code> cannot be put into. As such, such List&lt;? extends T&gt; cannot have non null entries added to them.</p>\n<p>In this case you may simply want <code>List&lt;T&gt;</code></p>\n<h2>So why would you ever use this?!</h2>\n<p>This contravariance can be useful for method parameters or returns, in which a collection will be read, rather than added to. A use for this could be to create a method that accepts any collection that holds items that are T, or extend T.</p>\n<pre><code>public static void processList(Collection&lt;? extends Vector3d&gt; list){\n    for(Vector3d vector:list){\n        //do something\n    }\n}\n</code></pre>\n<p>This method could accept any collection of objects that extends Vector3d, so <code>ArrayList&lt;MyExtendedVector3d&gt;</code> would be acceptable.</p>\n<p>Equally a method could return such a collection. An example of a use case is described in <a href=\"https://stackoverflow.com/questions/17384015/returning-a-collectionchildtype-from-a-method-that-specifies-that-it-returns-c\">Returning a Collection&lt;ChildType&gt; from a method that specifies that it returns Collection&lt;ParentType&gt;</a>.</p>\n"},{"tags":[],"owner":{"account_id":1531647,"reputation":2090,"user_id":1428716,"accept_rate":32,"display_name":"user1428716"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1391076414,"creation_date":1391076065,"answer_id":21453212,"question_id":21452966,"body_markdown":"There are boundary rules defined for Java Generics when using WildCards \r\n\r\n      **extends Wildcard Boundary**\r\n\r\n   List&lt;? extends A&gt; means a List of objects that are instances of the class T, or subclasses of T  (e.g. TT).  This means a Read is fine , but insertion would fail as you dont know whether the class is Typed to T\r\n\r\n   \r\n\r\n    **super Wildcard Boundary**\r\n\r\nWhen you know that the list is typed to either T, or a superclass of T, it is safe to insert instances of T or subclasses of T (e.g.TT ) into the list. \r\n\r\nIn your example , you should use &quot;super&quot;\r\n\r\n\r\n","title":"Why generic type is not applicable for argument extends super class for both?","body":"<p>There are boundary rules defined for Java Generics when using WildCards </p>\n\n<pre><code>  **extends Wildcard Boundary**\n</code></pre>\n\n<p>List means a List of objects that are instances of the class T, or subclasses of T  (e.g. TT).  This means a Read is fine , but insertion would fail as you dont know whether the class is Typed to T</p>\n\n<pre><code>**super Wildcard Boundary**\n</code></pre>\n\n<p>When you know that the list is typed to either T, or a superclass of T, it is safe to insert instances of T or subclasses of T (e.g.TT ) into the list. </p>\n\n<p>In your example , you should use \"super\"</p>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576455396,"creation_date":1576455396,"answer_id":59349223,"question_id":21452966,"body_markdown":"An addition to the other answers posted here, I would simply add that I only use wild cards for method parameters and return types. They&#39;re intended for method signatures, not implementations. When I put a wildcard into a variable declaration, I always get into trouble.","title":"Why generic type is not applicable for argument extends super class for both?","body":"<p>An addition to the other answers posted here, I would simply add that I only use wild cards for method parameters and return types. They're intended for method signatures, not implementations. When I put a wildcard into a variable declaration, I always get into trouble.</p>\n"}],"owner":{"account_id":3079032,"reputation":3079,"user_id":2607703,"accept_rate":50,"display_name":"codelovesme"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9851,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":21453048,"answer_count":5,"score":13,"last_activity_date":1683993603,"creation_date":1391075459,"question_id":21452966,"body_markdown":"Here is the problem that I have been being tried to find the solution.\r\n\r\nWe have two class definitions. One of two extends other one.&lt;br&gt;\r\n\r\n        class T{}\r\n        class TT extends T{}\r\n\r\nThe requirement is that there should be a list keeps object extends T &lt;br&gt;\r\n\r\n        List&lt;? extends T&gt; list = new ArrayList&lt;&gt;();\r\n\r\nBut the problem occures when I try to put a TT object ( barely seems it is a subclass of T )\r\ninto the list.&lt;br&gt;\r\n\r\n        list.add(new TT());\r\n\r\n**Compilation Error Message**&lt;br&gt;\r\n\r\nThe method add(capture#2-of ? extends Cell) in the type List&lt;capture#2-of ? extends Cell&gt; is not applicable for the arguments (Cell)","title":"Why generic type is not applicable for argument extends super class for both?","body":"<p>Here is the problem that I have been being tried to find the solution.</p>\n\n<p>We have two class definitions. One of two extends other one.<br></p>\n\n<pre><code>    class T{}\n    class TT extends T{}\n</code></pre>\n\n<p>The requirement is that there should be a list keeps object extends T <br></p>\n\n<pre><code>    List&lt;? extends T&gt; list = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>But the problem occures when I try to put a TT object ( barely seems it is a subclass of T )\ninto the list.<br></p>\n\n<pre><code>    list.add(new TT());\n</code></pre>\n\n<p><strong>Compilation Error Message</strong><br></p>\n\n<p>The method add(capture#2-of ? extends Cell) in the type List is not applicable for the arguments (Cell)</p>\n"},{"tags":["java","spring","hazelcast","hazelcast-imap"],"comments":[{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":1,"creation_date":1508363263,"post_id":46819529,"comment_id":80587039,"body_markdown":"Backup count of 5 means 6 copies (master+5). If you only have 5 nodes then you&#39;ve requested one copy too many.","body":"Backup count of 5 means 6 copies (master+5). If you only have 5 nodes then you&#39;ve requested one copy too many."},{"owner":{"account_id":552254,"reputation":6004,"user_id":917336,"display_name":"noctarius"},"score":1,"creation_date":1508388281,"post_id":46819529,"comment_id":80593216,"body_markdown":"And read-from-backup is only available for key-based access, not queries.","body":"And read-from-backup is only available for key-based access, not queries."},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":1,"creation_date":1508394203,"post_id":46819529,"comment_id":80594978,"body_markdown":"`entrySet()` is risky in general as that&#39;s everything, when an `IMap` is partitioned usually because it&#39;s big. What problem are you trying to solve ? Find all keys by partial key ? What does your `map(....)`  do with them","body":"<code>entrySet()</code> is risky in general as that&#39;s everything, when an <code>IMap</code> is partitioned usually because it&#39;s big. What problem are you trying to solve ? Find all keys by partial key ? What does your <code>map(....)</code>  do with them"},{"owner":{"account_id":8308001,"reputation":355,"user_id":6244459,"accept_rate":27,"display_name":"slippery"},"score":0,"creation_date":1508406310,"post_id":46819529,"comment_id":80601494,"body_markdown":"noctarius,  did i understand you correctly that in &quot; read-from-backup&quot; if i make map.entrySet() call, data will be got from this node bacause of it is key-based access? no networking call","body":"noctarius,  did i understand you correctly that in &quot; read-from-backup&quot; if i make map.entrySet() call, data will be got from this node bacause of it is key-based access? no networking call"},{"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"score":1,"creation_date":1508830381,"post_id":46819529,"comment_id":80755980,"body_markdown":"What problem are you trying to solve ? To find some keys by partial key ? You can search on key so `entrySet()` could be `entrySet(predicate)` which would reduce the wire transfer","body":"What problem are you trying to solve ? To find some keys by partial key ? You can search on key so <code>entrySet()</code> could be <code>entrySet(predicate)</code> which would reduce the wire transfer"}],"answers":[{"tags":[],"owner":{"account_id":335609,"reputation":1622,"user_id":662796,"display_name":"tom.bujok"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1509123631,"creation_date":1509123631,"answer_id":46980137,"question_id":46819529,"body_markdown":"Keep in mind that the readBackupData flag works only if you execute the query from within a Member, so if you are using a HazelcastClient, then it will not read from backup.","title":"Hazelcast IMap performance","body":"<p>Keep in mind that the readBackupData flag works only if you execute the query from within a Member, so if you are using a HazelcastClient, then it will not read from backup.</p>\n"}],"owner":{"account_id":8308001,"reputation":355,"user_id":6244459,"accept_rate":27,"display_name":"slippery"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":781,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683992980,"creation_date":1508362012,"question_id":46819529,"body_markdown":"I use the hazelcast 3.8.6.\r\nThere is a IMAP{Key, Value} with next settings:     \r\n\r\n    mapConfig.setBackupCount(5);\r\n    mapConfig.setReadBackupData(true);\r\n    \r\nthe Key is\r\n       \r\n    long userId;\r\n    long contentId;\r\n\r\nalso there are 5 nodes where the data is. As far as I understand according  the setting each node will be have all data. Such way I turn a distributed map to a replicated map to increase speed of get operations and don&#39;t do networking calls.\r\n\r\nlet&#39;s imagine I need get all data for user by id. in usual mode I would write next code:\r\n\r\n    EntryObject eo = new PredicateBuilder().getEntryObject();\r\n    Predicate predicate = eo.key().get(&quot;this.userId&quot;).equal(userId);\r\n    map.values(predicate).stream().map(.....)\r\n\r\nthis code will be executed on all nodes and result will be returned to node which make the call. Am I right understanding that in case of the settings &quot;setReadBackupData(true)&quot; the request won&#39;t be send to other nodes and all data will be found on node which make this request? or in that case to avoid networking calls I just should use something like this:\r\n\r\n    map.entrySet().stream()\r\n    .filter(entry-&gt;entry.getKey().getUserId().equals(userId))\r\n    .map(.....)\r\n    \r\nthanks.","title":"Hazelcast IMap performance","body":"<p>I use the hazelcast 3.8.6.\nThere is a IMAP{Key, Value} with next settings:</p>\n<pre><code>mapConfig.setBackupCount(5);\nmapConfig.setReadBackupData(true);\n</code></pre>\n<p>the Key is</p>\n<pre><code>long userId;\nlong contentId;\n</code></pre>\n<p>also there are 5 nodes where the data is. As far as I understand according  the setting each node will be have all data. Such way I turn a distributed map to a replicated map to increase speed of get operations and don't do networking calls.</p>\n<p>let's imagine I need get all data for user by id. in usual mode I would write next code:</p>\n<pre><code>EntryObject eo = new PredicateBuilder().getEntryObject();\nPredicate predicate = eo.key().get(&quot;this.userId&quot;).equal(userId);\nmap.values(predicate).stream().map(.....)\n</code></pre>\n<p>this code will be executed on all nodes and result will be returned to node which make the call. Am I right understanding that in case of the settings &quot;setReadBackupData(true)&quot; the request won't be send to other nodes and all data will be found on node which make this request? or in that case to avoid networking calls I just should use something like this:</p>\n<pre><code>map.entrySet().stream()\n.filter(entry-&gt;entry.getKey().getUserId().equals(userId))\n.map(.....)\n</code></pre>\n<p>thanks.</p>\n"},{"tags":["java","tomcat","db2","tomcat9"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683918474,"post_id":76239146,"comment_id":134445691,"body_markdown":"What is the issue that you have? Please be specific","body":"What is the issue that you have? Please be specific"},{"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"score":0,"creation_date":1683919216,"post_id":76239146,"comment_id":134445836,"body_markdown":"I get this error: javax.naming.NameNotFoundException: El nombre [jdbc/SFEAAPPDB] no este asociado a este contexto","body":"I get this error: javax.naming.NameNotFoundException: El nombre [jdbc/SFEAAPPDB] no este asociado a este contexto"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683919348,"post_id":76239146,"comment_id":134445853,"body_markdown":"Then your question should be about that error, not as a how-to. Please add the full error to the question. If there are more lines or details also add them.","body":"Then your question should be about that error, not as a how-to. Please add the full error to the question. If there are more lines or details also add them."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1683919396,"post_id":76239146,"comment_id":134445861,"body_markdown":"Does this answer your question? [porting web app to Tomcat: javax.naming.NameNotFoundException:](https://stackoverflow.com/questions/41516977/porting-web-app-to-tomcat-javax-naming-namenotfoundexception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/41516977/porting-web-app-to-tomcat-javax-naming-namenotfoundexception\">porting web app to Tomcat: javax.naming.NameNotFoundException:</a>"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1683919668,"post_id":76239146,"comment_id":134445913,"body_markdown":"You can also review the Tomcat official documentation describing how to create [and then how to use](https://tomcat.apache.org/tomcat-10.1-doc/jndi-resources-howto.html#JDBC_Data_Sources) a resource. Note the use of the `java:` prefix, and &quot;_the standard `java:comp/env` naming context ... is the root of all provided resource factories_&quot;.","body":"You can also review the Tomcat official documentation describing how to create <a href=\"https://tomcat.apache.org/tomcat-10.1-doc/jndi-resources-howto.html#JDBC_Data_Sources\" rel=\"nofollow noreferrer\">and then how to use</a> a resource. Note the use of the <code>java:</code> prefix, and &quot;<i>the standard <code>java:comp&#47;env</code> naming context ... is the root of all provided resource factories</i>&quot;."}],"answers":[{"tags":[],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683992395,"creation_date":1683991047,"answer_id":76243482,"question_id":76239146,"body_markdown":"Thank you all..\r\n\r\nWith help from here and there, I was solving an error, but another one appeared.\r\n\r\nFinally, this is how all the elements involved were left:\r\n\r\n\r\n**Java source:**\r\n\r\n    Context initCtx = new InitialContext();\r\n    Context context = (Context) initCtx.lookup(&quot;java:comp/env&quot;);\r\n    ds = (DataSource) context.lookup(&quot;jdbc/SFEAAPPDB&quot;);\r\n    conn = ds.getConnection();\r\n\r\n**...APACHE\\conf\\Catalina\\localhost\\sfeaapp.xml:**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Context&gt;\r\n    \t&lt;ResourceLink name=&quot;jdbc/SFEAAPPDB&quot; global=&quot;jdbc/SFEAAPPDB&quot; type=&quot;javax.sql.DataSource&quot;/&gt;\t\r\n    &lt;/Context&gt;\r\n\r\n**...APACHE\\conf\\server.xml:**\r\n\r\n    &lt;Resource \r\n    \tname=&quot;jdbc/SFEAAPPDB&quot;\r\n    \tauth=&quot;Container&quot;\r\n    \ttype=&quot;javax.sql.DataSource&quot;\r\n    \tfactory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\r\n    \tdriverClassName=&quot;com.ibm.db2.jcc.DB2Driver&quot;\r\n    \turl=&quot;jdbc:db2://someplacesomewhere.es:50001/DESA:useJDBC4ColumnNameAndLabelSemantics=false;&quot;\r\n    \tusername=&quot;admin&quot;\r\n    \tpassword=&quot;admin&quot;\r\n    \t/&gt;\r\n\r\nAlso:\r\n**db2jcc4.jar** in ...APACHE\\lib\\\r\n\r\nAnd note that you must put a semicolon after the last value too in: **jdbc:db2://someplacesomewhere.es:50001/DESA:useJDBC4ColumnNameAndLabelSemantics=false;**\r\n","title":"How to configure a connection pool to a DB2 database in a Tomcat Java web app","body":"<p>Thank you all..</p>\n<p>With help from here and there, I was solving an error, but another one appeared.</p>\n<p>Finally, this is how all the elements involved were left:</p>\n<p><strong>Java source:</strong></p>\n<pre><code>Context initCtx = new InitialContext();\nContext context = (Context) initCtx.lookup(&quot;java:comp/env&quot;);\nds = (DataSource) context.lookup(&quot;jdbc/SFEAAPPDB&quot;);\nconn = ds.getConnection();\n</code></pre>\n<p><strong>...APACHE\\conf\\Catalina\\localhost\\sfeaapp.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Context&gt;\n    &lt;ResourceLink name=&quot;jdbc/SFEAAPPDB&quot; global=&quot;jdbc/SFEAAPPDB&quot; type=&quot;javax.sql.DataSource&quot;/&gt;   \n&lt;/Context&gt;\n</code></pre>\n<p><strong>...APACHE\\conf\\server.xml:</strong></p>\n<pre><code>&lt;Resource \n    name=&quot;jdbc/SFEAAPPDB&quot;\n    auth=&quot;Container&quot;\n    type=&quot;javax.sql.DataSource&quot;\n    factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\n    driverClassName=&quot;com.ibm.db2.jcc.DB2Driver&quot;\n    url=&quot;jdbc:db2://someplacesomewhere.es:50001/DESA:useJDBC4ColumnNameAndLabelSemantics=false;&quot;\n    username=&quot;admin&quot;\n    password=&quot;admin&quot;\n    /&gt;\n</code></pre>\n<p>Also:\n<strong>db2jcc4.jar</strong> in ...APACHE\\lib\\</p>\n<p>And note that you must put a semicolon after the last value too in: <strong>jdbc:db2://someplacesomewhere.es:50001/DESA:useJDBC4ColumnNameAndLabelSemantics=false;</strong></p>\n"}],"owner":{"account_id":355668,"reputation":1551,"user_id":694740,"accept_rate":69,"display_name":"JLLMNCHR"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":360,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683992395,"creation_date":1683917150,"question_id":76239146,"body_markdown":"I am trying to define a connection pool to a **DB2** database from a **Java** application deployed in **Tomcat**.\r\n\r\nThere is something in the next 3 pieces that does not fit.\r\n\r\n**web.xml:**\r\n\r\n    &lt;resource-ref&gt;\r\n        &lt;description&gt;Connection pool to SFEAAPPDB database&lt;/description&gt;\r\n        &lt;res-ref-name&gt;jdbc/SFEAAPPDB&lt;/res-ref-name&gt;\r\n        &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\r\n        &lt;res-auth&gt;Container&lt;/res-auth&gt;\r\n    &lt;/resource-ref&gt;\r\n\r\n**context.xml:**\r\n\r\n    &lt;Resource name=&quot;jdbc/SFEAAPPDB&quot;\r\n    \tauth=&quot;Container&quot;\r\n    \ttype=&quot;javax.sql.ConnectionPoolDataSource&quot;\r\n    \tfactory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\r\n    \tdriverClassName=&quot;com.ibm.db2.jcc.DB2Driver&quot;\r\n    \turl=&quot;jdbc:db2://someplacesomewhere.es:50001/DESA&quot;\r\n    \tusername=&quot;admin&quot;\r\n    \tpassword=&quot;admin&quot;\r\n    \t/&gt;\r\n\r\n\r\n**source.java:**\r\n\r\n    String poolName = &quot;jdbc/SFEAAPPDB&quot;;\r\n    DataSource ds = new InitialContext().lookup(poolName);\r\n\r\n\r\nWhat should be the correct value for the &#39;**poolName**&#39; variable?\r\n\r\n","title":"How to configure a connection pool to a DB2 database in a Tomcat Java web app","body":"<p>I am trying to define a connection pool to a <strong>DB2</strong> database from a <strong>Java</strong> application deployed in <strong>Tomcat</strong>.</p>\n<p>There is something in the next 3 pieces that does not fit.</p>\n<p><strong>web.xml:</strong></p>\n<pre><code>&lt;resource-ref&gt;\n    &lt;description&gt;Connection pool to SFEAAPPDB database&lt;/description&gt;\n    &lt;res-ref-name&gt;jdbc/SFEAAPPDB&lt;/res-ref-name&gt;\n    &lt;res-type&gt;javax.sql.DataSource&lt;/res-type&gt;\n    &lt;res-auth&gt;Container&lt;/res-auth&gt;\n&lt;/resource-ref&gt;\n</code></pre>\n<p><strong>context.xml:</strong></p>\n<pre><code>&lt;Resource name=&quot;jdbc/SFEAAPPDB&quot;\n    auth=&quot;Container&quot;\n    type=&quot;javax.sql.ConnectionPoolDataSource&quot;\n    factory=&quot;org.apache.tomcat.jdbc.pool.DataSourceFactory&quot;\n    driverClassName=&quot;com.ibm.db2.jcc.DB2Driver&quot;\n    url=&quot;jdbc:db2://someplacesomewhere.es:50001/DESA&quot;\n    username=&quot;admin&quot;\n    password=&quot;admin&quot;\n    /&gt;\n</code></pre>\n<p><strong>source.java:</strong></p>\n<pre><code>String poolName = &quot;jdbc/SFEAAPPDB&quot;;\nDataSource ds = new InitialContext().lookup(poolName);\n</code></pre>\n<p>What should be the correct value for the '<strong>poolName</strong>' variable?</p>\n"},{"tags":["java","php","encryption","swift5","apple-cryptokit"],"answers":[{"tags":[],"owner":{"account_id":3203096,"reputation":682,"user_id":2704776,"accept_rate":0,"display_name":"devjme"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624458331,"creation_date":1624458331,"answer_id":68101762,"question_id":68088836,"body_markdown":"After watching the WWDC video: [WWDC Cryptokit 2019 video][1]\r\n\r\n\r\nAt around 29 min 20 seconds they advise you to get the key data from the server initially.  So you can just create the key by doing this:\r\n\r\n[![Key Creation code][2]][2]\r\n\r\nThis way the server and the app have the same key.  Or if you have control of both sides, you can know what your server key is and create the key with data from a string that you both know.\r\n\r\n  [1]: https://developer.apple.com/videos/play/wwdc2019/709\r\n  [2]: https://i.stack.imgur.com/lLdM9.png","title":"Decrypting value encrypted by crypto kit from Web Service - Symmetric Key? - UPDATED with full working code below","body":"<p>After watching the WWDC video: <a href=\"https://developer.apple.com/videos/play/wwdc2019/709\" rel=\"nofollow noreferrer\">WWDC Cryptokit 2019 video</a></p>\n<p>At around 29 min 20 seconds they advise you to get the key data from the server initially.  So you can just create the key by doing this:</p>\n<p><a href=\"https://i.stack.imgur.com/lLdM9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lLdM9.png\" alt=\"Key Creation code\" /></a></p>\n<p>This way the server and the app have the same key.  Or if you have control of both sides, you can know what your server key is and create the key with data from a string that you both know.</p>\n"},{"tags":[],"owner":{"account_id":3203096,"reputation":682,"user_id":2704776,"accept_rate":0,"display_name":"devjme"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624636094,"creation_date":1624636094,"answer_id":68133767,"question_id":68088836,"body_markdown":"So I guess my real questions was how do I encrypt with cryptokit and decrypt with php (web app.\r\n\r\nThese 2 links helped me:\r\n\r\n[Swift CryptoKit and Browser][1]\r\n\r\n\r\n[iOS CryptoKit in Java][2]\r\n\r\nSwiftCode:  \r\n\r\n    func encryptAES_GCMCryptoKit()-&gt;String {\r\n        let newkeyString1 = &quot;I9GiP/cK4YKko8CeNF5F8X6/E6jt0QnV&quot; //has to be 32 bytes for a 256 bit encryption or you will get the error key wrong size\r\n        let newKey = SymmetricKey(data: newkeyString1.data(using: .utf8)!)\r\n        let mySealedBox = try AES.GCM.seal(userString, using: newKey, nonce: iv)\r\n        let iv = AES.GCM.Nonce()\r\n  \r\n    do{\r\n            let mySealedBox = try AES.GCM.seal(userString, using: newKey, nonce: iv)\r\n            let dataToShare = mySealedBox.combined?.base64EncodedData()      \r\n\t\t\r\n          // The combined property holds the collected nonce, ciphertext and tag.\r\n            assert(mySealedBox.combined == nonceAES + ciphertextAES + tagAES)\r\n    }catch {\r\n            print(&quot;error \\(error)&quot;)\r\n           \r\n        }\r\n    }\r\n\r\n\r\n Php code:\r\n\r\n    function decryptStringAES_GCM($combinedInput=&#39;&#39;)  //64 base encoded combine string\r\n\t{\r\n\t\t$key = &quot;I9GiP/cK4YKko8CeNF5F8X6/E6jt0QnV&quot;; // &lt;- 256 bit key - same key is on the swift side\r\n\t\t\r\n\t\t$combined = base64_decode($combinedInput);  //&lt;- $combinedInput will be different every time even for the same value\r\n\t\t$tag = substr($combined, -16);\r\n\t\t$nonce = substr($combined, 0, 12);\r\n\t\t$length = strlen($combined)-16-12; \t\t//take out tag and nonce (iv) lengths\r\n\t\t$cipherText = substr($combined, 12, $length);\r\n\t\t\r\n\t\t$res_non = openssl_decrypt($cipherText, &#39;aes-256-gcm&#39;, $key, OPENSSL_RAW_DATA| OPENSSL_NO_PADDING, $nonce, $tag); \r\n\t\t\r\n\t\treturn $res_non //decrypted string\r\n\r\n\r\nYou can also pass the key back to the server in a separate call like the first link does.\r\n\r\n  [1]: https://pen.so/2021/04/06/aes-gcm/\r\n  [2]: https://stackoverflow.com/a/59658891/2704776","title":"Decrypting value encrypted by crypto kit from Web Service - Symmetric Key? - UPDATED with full working code below","body":"<p>So I guess my real questions was how do I encrypt with cryptokit and decrypt with php (web app.</p>\n<p>These 2 links helped me:</p>\n<p><a href=\"https://pen.so/2021/04/06/aes-gcm/\" rel=\"nofollow noreferrer\">Swift CryptoKit and Browser</a></p>\n<p><a href=\"https://stackoverflow.com/a/59658891/2704776\">iOS CryptoKit in Java</a></p>\n<p>SwiftCode:</p>\n<pre><code>func encryptAES_GCMCryptoKit()-&gt;String {\n    let newkeyString1 = &quot;I9GiP/cK4YKko8CeNF5F8X6/E6jt0QnV&quot; //has to be 32 bytes for a 256 bit encryption or you will get the error key wrong size\n    let newKey = SymmetricKey(data: newkeyString1.data(using: .utf8)!)\n    let mySealedBox = try AES.GCM.seal(userString, using: newKey, nonce: iv)\n    let iv = AES.GCM.Nonce()\n\ndo{\n        let mySealedBox = try AES.GCM.seal(userString, using: newKey, nonce: iv)\n        let dataToShare = mySealedBox.combined?.base64EncodedData()      \n    \n      // The combined property holds the collected nonce, ciphertext and tag.\n        assert(mySealedBox.combined == nonceAES + ciphertextAES + tagAES)\n}catch {\n        print(&quot;error \\(error)&quot;)\n       \n    }\n}\n</code></pre>\n<p>Php code:</p>\n<pre><code>function decryptStringAES_GCM($combinedInput='')  //64 base encoded combine string\n{\n    $key = &quot;I9GiP/cK4YKko8CeNF5F8X6/E6jt0QnV&quot;; // &lt;- 256 bit key - same key is on the swift side\n    \n    $combined = base64_decode($combinedInput);  //&lt;- $combinedInput will be different every time even for the same value\n    $tag = substr($combined, -16);\n    $nonce = substr($combined, 0, 12);\n    $length = strlen($combined)-16-12;      //take out tag and nonce (iv) lengths\n    $cipherText = substr($combined, 12, $length);\n    \n    $res_non = openssl_decrypt($cipherText, 'aes-256-gcm', $key, OPENSSL_RAW_DATA| OPENSSL_NO_PADDING, $nonce, $tag); \n    \n    return $res_non //decrypted string\n</code></pre>\n<p>You can also pass the key back to the server in a separate call like the first link does.</p>\n"},{"tags":[],"owner":{"account_id":1545564,"reputation":1665,"user_id":1439179,"accept_rate":60,"display_name":"Simon C."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683992170,"creation_date":1683992170,"answer_id":76243565,"question_id":68088836,"body_markdown":"To correct this &quot;full working code&quot; from above:\r\n\r\nI use a 32 character key. Take care your files are in UTF8.\r\n\r\n**Swift using CryptoKit**\r\n\r\n    func encryptStringAES(_ string: String, key: String) throws -&gt; String? {\r\n            let keyData = SymmetricKey(data: Data(key.utf8))\r\n            let encryptedData = try AES.GCM.seal(string.data(using: .utf8)!, using: keyData).combined\r\n            return encryptedData?.base64EncodedString()\r\n        }\r\n\r\n\r\n**PHP counterpart**\r\n\r\n    function decryptStringAES($encryptedString, $key){\r\n    \r\n    $combined = base64_decode($encryptedString);\r\n    $tag = substr($combined, -16);\r\n    $nonce = substr($combined, 0, 12);\r\n    $length = strlen($combined)-16-12;      \r\n    $cipherText = substr($combined, 12, $length);\r\n    \r\n    $decryptedData = openssl_decrypt($cipherText, &#39;aes-256-gcm&#39;, $key, OPENSSL_RAW_DATA, $nonce, $tag);\r\n    return $decryptedData;\r\n    \r\n    }\r\n\r\n\r\n**The trick is, to rip apart the combined value coming from CryptoKit.**","title":"Decrypting value encrypted by crypto kit from Web Service - Symmetric Key? - UPDATED with full working code below","body":"<p>To correct this &quot;full working code&quot; from above:</p>\n<p>I use a 32 character key. Take care your files are in UTF8.</p>\n<p><strong>Swift using CryptoKit</strong></p>\n<pre><code>func encryptStringAES(_ string: String, key: String) throws -&gt; String? {\n        let keyData = SymmetricKey(data: Data(key.utf8))\n        let encryptedData = try AES.GCM.seal(string.data(using: .utf8)!, using: keyData).combined\n        return encryptedData?.base64EncodedString()\n    }\n</code></pre>\n<p><strong>PHP counterpart</strong></p>\n<pre><code>function decryptStringAES($encryptedString, $key){\n\n$combined = base64_decode($encryptedString);\n$tag = substr($combined, -16);\n$nonce = substr($combined, 0, 12);\n$length = strlen($combined)-16-12;      \n$cipherText = substr($combined, 12, $length);\n\n$decryptedData = openssl_decrypt($cipherText, 'aes-256-gcm', $key, OPENSSL_RAW_DATA, $nonce, $tag);\nreturn $decryptedData;\n\n}\n</code></pre>\n<p><strong>The trick is, to rip apart the combined value coming from CryptoKit.</strong></p>\n"}],"owner":{"account_id":3203096,"reputation":682,"user_id":2704776,"accept_rate":0,"display_name":"devjme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":621,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1683992170,"creation_date":1624385390,"question_id":68088836,"body_markdown":"How do I decrypt my iOS CryptoKit encrypted value on the web service side?  \r\n\r\nSimilar to this SO question:\r\n[CryptoKit in Java][1]\r\n\r\n[Or this SO question][2]\r\n\r\nCan I create my own SymmetricKey that we both know the string of?  How can my value be decrypted in Java PhP or .NET? (I understand all these languages and can translate, the app is currently in php)\r\n\r\nApple&#39;s code from their playground:\r\n\r\n```\r\nlet key = SymmetricKey(size: .bits256)     //&lt;--- how to share with web service???\r\nlet themeSongPath = Bundle.main.path(forResource: &quot;ThemeSong&quot;, ofType: &quot;aif&quot;)!\r\nlet themeSong = FileManager.default.contents(atPath: themeSongPath)!\r\n\r\n\r\n// below code is from Apple Playground\r\nlet encryptedContentAES = try! AES.GCM.seal(themeSong, using: key).combined\r\n/*:\r\n The client decrypts using the same key, assumed to have been obtained out-of-band.\r\n */\r\nlet sealedBoxAES = try! AES.GCM.SealedBox(combined: encryptedContentAES!)\r\n\r\n//HOW DO I DO THIS ON WEB SERVICE SIDE??? either in java or php or .net\r\nlet decryptedThemeSongAES = try! AES.GCM.open(sealedBoxAES, using: key)\r\n\r\nassert(decryptedThemeSongAES == themeSong)\r\n/*:\r\n You use a sealed box to hold the three outputs of the encryption operation: a nonce, the ciphertext, and a tag.\r\n */\r\n// The nonce should be unique per encryption operation.\r\n// Some protocols require specific values to be used, such as monotonically increasing counters.\r\n// If none is passed during the during the encryption, CryptoKit randomly generates a safe value for you.\r\n\r\nlet nonceAES = sealedBoxAES.nonce\r\n\r\n// The ciphertext is the encrypted plaintext, and is the same size as the original data.\r\nlet ciphertextAES = sealedBoxAES.ciphertext\r\n\r\n// The tag provides authentication.\r\nlet tagAES = sealedBoxAES.tag\r\n\r\n// The combined property holds the collected nonce, ciphertext and tag.\r\nassert(sealedBoxAES.combined == nonceAES + ciphertextAES + tagAES)\r\n\r\n```\r\n[Link to Playground][3]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/59658891/2704776\r\n  [2]: https://stackoverflow.com/questions/61332076/cross-platform-aes-encryption-between-ios-and-kotlin-java-using-apples-cryptokit\r\n  [3]: https://developer.apple.com/documentation/cryptokit/performing_common_cryptographic_operations","title":"Decrypting value encrypted by crypto kit from Web Service - Symmetric Key? - UPDATED with full working code below","body":"<p>How do I decrypt my iOS CryptoKit encrypted value on the web service side?</p>\n<p>Similar to this SO question:\n<a href=\"https://stackoverflow.com/a/59658891/2704776\">CryptoKit in Java</a></p>\n<p><a href=\"https://stackoverflow.com/questions/61332076/cross-platform-aes-encryption-between-ios-and-kotlin-java-using-apples-cryptokit\">Or this SO question</a></p>\n<p>Can I create my own SymmetricKey that we both know the string of?  How can my value be decrypted in Java PhP or .NET? (I understand all these languages and can translate, the app is currently in php)</p>\n<p>Apple's code from their playground:</p>\n<pre><code>let key = SymmetricKey(size: .bits256)     //&lt;--- how to share with web service???\nlet themeSongPath = Bundle.main.path(forResource: &quot;ThemeSong&quot;, ofType: &quot;aif&quot;)!\nlet themeSong = FileManager.default.contents(atPath: themeSongPath)!\n\n\n// below code is from Apple Playground\nlet encryptedContentAES = try! AES.GCM.seal(themeSong, using: key).combined\n/*:\n The client decrypts using the same key, assumed to have been obtained out-of-band.\n */\nlet sealedBoxAES = try! AES.GCM.SealedBox(combined: encryptedContentAES!)\n\n//HOW DO I DO THIS ON WEB SERVICE SIDE??? either in java or php or .net\nlet decryptedThemeSongAES = try! AES.GCM.open(sealedBoxAES, using: key)\n\nassert(decryptedThemeSongAES == themeSong)\n/*:\n You use a sealed box to hold the three outputs of the encryption operation: a nonce, the ciphertext, and a tag.\n */\n// The nonce should be unique per encryption operation.\n// Some protocols require specific values to be used, such as monotonically increasing counters.\n// If none is passed during the during the encryption, CryptoKit randomly generates a safe value for you.\n\nlet nonceAES = sealedBoxAES.nonce\n\n// The ciphertext is the encrypted plaintext, and is the same size as the original data.\nlet ciphertextAES = sealedBoxAES.ciphertext\n\n// The tag provides authentication.\nlet tagAES = sealedBoxAES.tag\n\n// The combined property holds the collected nonce, ciphertext and tag.\nassert(sealedBoxAES.combined == nonceAES + ciphertextAES + tagAES)\n\n</code></pre>\n<p><a href=\"https://developer.apple.com/documentation/cryptokit/performing_common_cryptographic_operations\" rel=\"nofollow noreferrer\">Link to Playground</a></p>\n"},{"tags":["javascript","java","html"],"comments":[{"owner":{"account_id":5338023,"reputation":16209,"user_id":4256274,"display_name":"Dan Macak"},"score":0,"creation_date":1683977689,"post_id":76242393,"comment_id":134451213,"body_markdown":"Hi, which part of your code is not executing? The code on client or server? Is it `sendMessage` on the client?","body":"Hi, which part of your code is not executing? The code on client or server? Is it <code>sendMessage</code> on the client?"},{"owner":{"account_id":22630372,"reputation":35,"user_id":16807844,"display_name":"Paincake-"},"score":0,"creation_date":1683978361,"post_id":76242393,"comment_id":134451284,"body_markdown":"@DanMacak Hi, client-side code (JS functions sendMessage() and connect()) should send request on the server-side controller sendMessage, but JS code is just never even executed.","body":"@DanMacak Hi, client-side code (JS functions sendMessage() and connect()) should send request on the server-side controller sendMessage, but JS code is just never even executed."},{"owner":{"account_id":5338023,"reputation":16209,"user_id":4256274,"display_name":"Dan Macak"},"score":0,"creation_date":1683979439,"post_id":76242393,"comment_id":134451380,"body_markdown":"When I run your code I get an error `&quot;Uncaught TypeError: Failed to resolve module specifier \\&quot;@stomp/stompjs\\&quot;`. Are you getting the same?","body":"When I run your code I get an error <code>&quot;Uncaught TypeError: Failed to resolve module specifier \\&quot;@stomp&#47;stompjs\\&quot;</code>. Are you getting the same?"},{"owner":{"account_id":22630372,"reputation":35,"user_id":16807844,"display_name":"Paincake-"},"score":0,"creation_date":1683979886,"post_id":76242393,"comment_id":134451424,"body_markdown":"@DanMacak No, in IntellIJ IDEA i do not see any errors anywhere.","body":"@DanMacak No, in IntellIJ IDEA i do not see any errors anywhere."},{"owner":{"account_id":5338023,"reputation":16209,"user_id":4256274,"display_name":"Dan Macak"},"score":0,"creation_date":1683980042,"post_id":76242393,"comment_id":134451448,"body_markdown":"No you should see this error in browser, or wherever you run your client-side code.","body":"No you should see this error in browser, or wherever you run your client-side code."},{"owner":{"account_id":22630372,"reputation":35,"user_id":16807844,"display_name":"Paincake-"},"score":0,"creation_date":1683980485,"post_id":76242393,"comment_id":134451491,"body_markdown":"@DanMacak as i understand, error you getting is shown when stompjs is not installed properly. I have now verified, that in my project stompjs is installed by running npm install @stomp/stompjs.","body":"@DanMacak as i understand, error you getting is shown when stompjs is not installed properly. I have now verified, that in my project stompjs is installed by running npm install @stomp/stompjs."},{"owner":{"account_id":5338023,"reputation":16209,"user_id":4256274,"display_name":"Dan Macak"},"score":0,"creation_date":1683981495,"post_id":76242393,"comment_id":134451608,"body_markdown":"I tried your code and for me `sendMessage` gets executed on the client just fine when I click the send button. Not sure if it sends the message though. Are you sure it doesn&#39;t get executed? \nAs for `connect()` that doesn&#39;t execute because it is defined in a module, but modules are scoped so your `&lt;body&gt;` knows nothing about it. Rather use `$( document ).ready()` to define on load callback.","body":"I tried your code and for me <code>sendMessage</code> gets executed on the client just fine when I click the send button. Not sure if it sends the message though. Are you sure it doesn&#39;t get executed?  As for <code>connect()</code> that doesn&#39;t execute because it is defined in a module, but modules are scoped so your <code>&lt;body&gt;</code> knows nothing about it. Rather use <code>$( document ).ready()</code> to define on load callback."}],"owner":{"account_id":22630372,"reputation":35,"user_id":16807844,"display_name":"Paincake-"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":132,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1683991868,"creation_date":1683976065,"question_id":76242393,"body_markdown":"I&#39;m developing a simple web messenger using Spring. I have this form:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot;&gt;\r\n      &lt;head&gt;\r\n        &lt;meta charset=&quot;UTF-8&quot; /&gt;\r\n        &lt;title&gt;Title&lt;/title&gt;\r\n        &lt;script type=&quot;importmap&quot;&gt; {\r\n            &quot;imports&quot;: {\r\n              &quot;@stomp/stompjs&quot;: &quot;https://cdn.jsdelivr.net/npm/@stomp/stompjs@7.0.0/+esm&quot;,\r\n              &quot;sockjs-client&quot;: &quot;https://cdn.jsdelivr.net/npm/sockjs-client@1.1.4/+esm&quot;\r\n            }\r\n          }\r\n        &lt;/script&gt;\r\n      &lt;/head&gt;\r\n      &lt;body onload=&quot;connect()&quot;&gt;\r\n        &lt;div th:each=&quot;message : ${chat.messageList}&quot;&gt;\r\n          &lt;p th:text=&quot;${message.sender.username}&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;${message.sendingTime}&quot;&gt;&lt;/p&gt;\r\n          &lt;p th:text=&quot;${message.text}&quot;&gt;&lt;/p&gt;\r\n        &lt;/div&gt;\r\n        &lt;form id=&quot;message&quot;&gt;\r\n          &lt;label for=&quot;messageText&quot;&gt; Enter your message: &lt;/label&gt;\r\n          &lt;p id=&quot;userId&quot; th:text=&quot;${userId}&quot; hidden&gt;&lt;/p&gt;\r\n          &lt;p id=&quot;username&quot; th:text=&quot;${username}&quot; hidden&gt;&lt;/p&gt;\r\n          &lt;p id=&quot;chatId&quot; th:text=&quot;${chatId}&quot; hidden&gt;&lt;/p&gt;\r\n          &lt;textarea id=&quot;messageText&quot; name=&quot;text&quot;&gt;&lt;/textarea&gt;\r\n          &lt;button type=&quot;button&quot; id=&quot;send&quot;&gt;Send&lt;/button&gt;\r\n        &lt;/form&gt;\r\n        &lt;script src=&quot;https://code.jquery.com/jquery-latest.js&quot;&gt;&lt;/script&gt;\r\n        &lt;script type=&quot;module&quot;&gt;\r\n          import { Stomp } from &quot;@stomp/stompjs&quot;;\r\n          import SockJS from &quot;sockjs-client&quot;;\r\n\r\n          let stompClient;\r\n          let chatId = document.getElementById(&quot;chatId&quot;).textContent;\r\n          let userId = document.getElementById(&quot;userId&quot;).textContent;\r\n          let username = document.getElementById(&quot;username&quot;).textContent;\r\n\r\n          function connect() {\r\n            const socket = new SockJS(&quot;http://localhost:8080/websocket&quot;);\r\n            stompClient = Stomp.over(socket);\r\n            stompClient.connect({}, function(frame) {\r\n              console.log(&quot;Connected: &quot; + frame);\r\n              stompClient.subscribe(&quot;/topic/chat/&quot; + chatId, function(message) {\r\n                console.log(JSON.parse(message.body));\r\n              });\r\n            });\r\n          }\r\n\r\n          function sendMessage() {\r\n            const message = {\r\n              text: $(&quot;#messageText&quot;).val(),\r\n              sender: {\r\n                id: userId,\r\n                username: username,\r\n              },\r\n              chat: {\r\n                id: chatId,\r\n              },\r\n            };\r\n            stompClient.send(&quot;/app/chat/&quot; + chatId + &quot;/send&quot;, {}, JSON.stringify(message));\r\n          }\r\n          $(function() {\r\n            $(&quot;form&quot;).on(&quot;submit&quot;, function(e) {\r\n              e.preventDefault();\r\n            });\r\n            $(&quot;#send&quot;).click(function() {\r\n              sendMessage();\r\n            });\r\n          });\r\n        &lt;/script&gt;\r\n      &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nJS script in it is supposed to send a message to this controller using WebSocket:\r\n```\r\n@MessageMapping(&quot;/{chatId}/send&quot;)\r\n    public void sendMessage(@DestinationVariable String chatId, @Payload Message message) {\r\n        messageService.sendMessage(message);\r\n        messagingTemplate.convertAndSend(&quot;/topic/chat/&quot; + chatId, message);\r\n    }\r\n```\r\nSo, pressing the button &quot;send&quot; should call sendMessage() function, and on the loading of the page connect() should be called. But neither of those are executed, and i want to understand why.\r\nI tried to inserting script directly in HTML (it was in other file before), and i tried to check if this script executing at all-if i put alert() at the start of the script, alert() will never happen as well, but if i delete everything but alert(), it will work.\r\n\r\nHere&#39;s my WebSocket configuration class:\r\n```\r\n@EnableWebSocketMessageBroker\r\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\r\n    @Override\r\n    public void configureMessageBroker(MessageBrokerRegistry config) {\r\n        config.enableSimpleBroker(&quot;/topic&quot;);\r\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\r\n        registry.addEndpoint(&quot;/websocket&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\r\n    }\r\n\r\n    @Override\r\n    public boolean configureMessageConverters(List&lt;MessageConverter&gt; messageConverters) {\r\n        DefaultContentTypeResolver resolver = new DefaultContentTypeResolver();\r\n        resolver.setDefaultMimeType(MimeTypeUtils.APPLICATION_JSON);\r\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\r\n        converter.setObjectMapper(new ObjectMapper());\r\n        converter.setContentTypeResolver(resolver);\r\n        messageConverters.add(converter);\r\n        return false;\r\n    }\r\n}\r\n```","title":"Why is my JS script with SockJS and JQuery never working?","body":"<p>I'm developing a simple web messenger using Spring. I have this form:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"UTF-8\" /&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n    &lt;script type=\"importmap\"&gt; {\n        \"imports\": {\n          \"@stomp/stompjs\": \"https://cdn.jsdelivr.net/npm/@stomp/stompjs@7.0.0/+esm\",\n          \"sockjs-client\": \"https://cdn.jsdelivr.net/npm/sockjs-client@1.1.4/+esm\"\n        }\n      }\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body onload=\"connect()\"&gt;\n    &lt;div th:each=\"message : ${chat.messageList}\"&gt;\n      &lt;p th:text=\"${message.sender.username}\"&gt;&lt;/p&gt;\n      &lt;p th:text=\"${message.sendingTime}\"&gt;&lt;/p&gt;\n      &lt;p th:text=\"${message.text}\"&gt;&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;form id=\"message\"&gt;\n      &lt;label for=\"messageText\"&gt; Enter your message: &lt;/label&gt;\n      &lt;p id=\"userId\" th:text=\"${userId}\" hidden&gt;&lt;/p&gt;\n      &lt;p id=\"username\" th:text=\"${username}\" hidden&gt;&lt;/p&gt;\n      &lt;p id=\"chatId\" th:text=\"${chatId}\" hidden&gt;&lt;/p&gt;\n      &lt;textarea id=\"messageText\" name=\"text\"&gt;&lt;/textarea&gt;\n      &lt;button type=\"button\" id=\"send\"&gt;Send&lt;/button&gt;\n    &lt;/form&gt;\n    &lt;script src=\"https://code.jquery.com/jquery-latest.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"module\"&gt;\n      import { Stomp } from \"@stomp/stompjs\";\n      import SockJS from \"sockjs-client\";\n\n      let stompClient;\n      let chatId = document.getElementById(\"chatId\").textContent;\n      let userId = document.getElementById(\"userId\").textContent;\n      let username = document.getElementById(\"username\").textContent;\n\n      function connect() {\n        const socket = new SockJS(\"http://localhost:8080/websocket\");\n        stompClient = Stomp.over(socket);\n        stompClient.connect({}, function(frame) {\n          console.log(\"Connected: \" + frame);\n          stompClient.subscribe(\"/topic/chat/\" + chatId, function(message) {\n            console.log(JSON.parse(message.body));\n          });\n        });\n      }\n\n      function sendMessage() {\n        const message = {\n          text: $(\"#messageText\").val(),\n          sender: {\n            id: userId,\n            username: username,\n          },\n          chat: {\n            id: chatId,\n          },\n        };\n        stompClient.send(\"/app/chat/\" + chatId + \"/send\", {}, JSON.stringify(message));\n      }\n      $(function() {\n        $(\"form\").on(\"submit\", function(e) {\n          e.preventDefault();\n        });\n        $(\"#send\").click(function() {\n          sendMessage();\n        });\n      });\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>JS script in it is supposed to send a message to this controller using WebSocket:</p>\n<pre><code>@MessageMapping(&quot;/{chatId}/send&quot;)\n    public void sendMessage(@DestinationVariable String chatId, @Payload Message message) {\n        messageService.sendMessage(message);\n        messagingTemplate.convertAndSend(&quot;/topic/chat/&quot; + chatId, message);\n    }\n</code></pre>\n<p>So, pressing the button &quot;send&quot; should call sendMessage() function, and on the loading of the page connect() should be called. But neither of those are executed, and i want to understand why.\nI tried to inserting script directly in HTML (it was in other file before), and i tried to check if this script executing at all-if i put alert() at the start of the script, alert() will never happen as well, but if i delete everything but alert(), it will work.</p>\n<p>Here's my WebSocket configuration class:</p>\n<pre><code>@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer {\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry config) {\n        config.enableSimpleBroker(&quot;/topic&quot;);\n        config.setApplicationDestinationPrefixes(&quot;/app&quot;);\n    }\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry) {\n        registry.addEndpoint(&quot;/websocket&quot;).setAllowedOrigins(&quot;*&quot;).withSockJS();\n    }\n\n    @Override\n    public boolean configureMessageConverters(List&lt;MessageConverter&gt; messageConverters) {\n        DefaultContentTypeResolver resolver = new DefaultContentTypeResolver();\n        resolver.setDefaultMimeType(MimeTypeUtils.APPLICATION_JSON);\n        MappingJackson2MessageConverter converter = new MappingJackson2MessageConverter();\n        converter.setObjectMapper(new ObjectMapper());\n        converter.setContentTypeResolver(resolver);\n        messageConverters.add(converter);\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","api","jwt"],"owner":{"account_id":28588815,"reputation":1,"user_id":21888505,"display_name":"ObedMP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683990816,"creation_date":1683990816,"question_id":76243459,"body_markdown":"I am trying to implement security to my rest api with jwt as authentication method, in my API I am using spring boot , the new version of spring seems to have problems with spring security , could jwt be implemented without using spring security? \r\n\r\n\r\nI would like to implement jwt without the need to use spring security to my rest order api, which handles 3 roles (admin, user and client)","title":"How can i implement jwt to my rest api? without using spring security","body":"<p>I am trying to implement security to my rest api with jwt as authentication method, in my API I am using spring boot , the new version of spring seems to have problems with spring security , could jwt be implemented without using spring security?</p>\n<p>I would like to implement jwt without the need to use spring security to my rest order api, which handles 3 roles (admin, user and client)</p>\n"},{"tags":["java","android-studio","mapbox"],"answers":[{"tags":[],"owner":{"account_id":25332708,"reputation":36,"user_id":19152296,"display_name":"alexandre bintz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661330245,"creation_date":1661330245,"answer_id":73469969,"question_id":72282914,"body_markdown":"Looks like a problem I had. Not sure if this is the same, but in my case setting the `textureView` option to `true` solved it.\r\n\r\nThis is how I did it in code:\r\n```kotlin\r\nval resourceOptions = ResourceOptions.Builder()\r\n            .accessToken(context.getString(R.string.mapbox_access_token))\r\n            .build()\r\n\r\nmapView = MapView(context, MapInitOptions(context, resourceOptions).apply { textureView = true })\r\n```\r\nI am not sure how to do it in XML.","title":"Mapbox Map not showing on android","body":"<p>Looks like a problem I had. Not sure if this is the same, but in my case setting the <code>textureView</code> option to <code>true</code> solved it.</p>\n<p>This is how I did it in code:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val resourceOptions = ResourceOptions.Builder()\n            .accessToken(context.getString(R.string.mapbox_access_token))\n            .build()\n\nmapView = MapView(context, MapInitOptions(context, resourceOptions).apply { textureView = true })\n</code></pre>\n<p>I am not sure how to do it in XML.</p>\n"},{"tags":[],"owner":{"account_id":21819654,"reputation":1,"user_id":16518578,"display_name":"Sajid Anam Ifti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683990742,"creation_date":1683990725,"answer_id":76243436,"question_id":72282914,"body_markdown":"You can do this in XML\r\n\r\n&lt;com.mapbox.mapboxsdk.maps.MapView\r\n\r\n...\r\n\r\napp:mapbox_renderTextureMode=&quot;true&quot;/&gt;","title":"Mapbox Map not showing on android","body":"<p>You can do this in XML</p>\n<p>&lt;com.mapbox.mapboxsdk.maps.MapView</p>\n<p>...</p>\n<p>app:mapbox_renderTextureMode=&quot;true&quot;/&gt;</p>\n"}],"owner":{"account_id":21327936,"reputation":43,"user_id":15700081,"display_name":"Bryne Phiri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":954,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73469969,"answer_count":2,"score":2,"last_activity_date":1683990742,"creation_date":1652844820,"question_id":72282914,"body_markdown":"When I tested it the first couple of times it was showing perfectly well, then I added some code and it just stopped. It still shows the Mapbox logo on the left bottom screen but it&#39;s not loading the map. Here&#39;s the code on the `MapActivity`: \r\n\r\n```java\r\npublic class MapActivity extends AppCompatActivity implements OnMapReadyCallback, LocationEngineListener, PermissionsListener {\r\n\r\n    private MapView mapView;\r\n    private Button startButton;\r\n\r\n    private MapboxMap map;\r\n    private PermissionsManager permissionsManager;\r\n    private LocationEngine locationEngine;\r\n    private Location originLocation;\r\n    private LocationLayerPlugin locationLayerPlugin;\r\n    private Locash customerLocash;\r\n    private Point destinationPosition;\r\n    private Point originPosition;\r\n    private Marker destinationMarker;\r\n    private NavigationMapRoute navigationMapRoute;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Mapbox.getInstance(this, getString(R.string.access_token));\r\n        setContentView(R.layout.activity_map);\r\n        mapView = findViewById(R.id.mapView);\r\n        mapView.onCreate(savedInstanceState);\r\n        mapView.getMapAsync(this);\r\n\r\n\r\n        startButton = findViewById(R.id.startButton);\r\n\r\n        Intent activityIntent = getIntent();\r\n        String locationJson = activityIntent.getStringExtra(&quot;location&quot;);\r\n\r\n        Gson gson = new Gson();\r\n\r\n        customerLocash = gson.fromJson(locationJson,Locash.class);\r\n\r\n        startButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                //Launch Navigation\r\n                NavigationLauncherOptions options = NavigationLauncherOptions.builder()\r\n                        .origin(originPosition)\r\n                        .destination(destinationPosition)\r\n                        .shouldSimulateRoute(true)\r\n                        .build();\r\n                NavigationLauncher.startNavigation(MapActivity.this, options);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onMapReady(MapboxMap mapboxMap) {\r\n        map = mapboxMap;\r\n        enableLocation();\r\n\r\n        LatLng point = new LatLng(customerLocash.getLongitude(),customerLocash.getLatitude());\r\n\r\n        destinationMarker = map.addMarker(new MarkerOptions().position(point));\r\n\r\n        destinationPosition = Point.fromLngLat(point.getLongitude(),point.getLatitude());\r\n        originPosition = Point.fromLngLat(originLocation.getLongitude(), originLocation.getLatitude());\r\n        getRoute(originPosition, destinationPosition);\r\n\r\n        startButton.setEnabled(true);\r\n\r\n    }\r\n\r\n    private void enableLocation() {\r\n        if (PermissionsManager.areLocationPermissionsGranted(this)){ \r\n            initializeLocationEngine();\r\n            initializeLocationLayer();\r\n            \r\n        } else {\r\n            permissionsManager = new PermissionsManager(this);\r\n            permissionsManager.requestLocationPermissions(this);\r\n        }\r\n\r\n    }\r\n\r\n    @SuppressWarnings(&quot;MissingPermission&quot;)\r\n    private void initializeLocationEngine() {\r\n        locationEngine = new LocationEngineProvider(this)\r\n                .obtainBestLocationEngineAvailable();\r\n        locationEngine.setPriority(LocationEnginePriority.HIGH_ACCURACY);\r\n        locationEngine.activate();\r\n\r\n        Location lastLocation = locationEngine.getLastLocation();\r\n        if (lastLocation != null){\r\n            originLocation = lastLocation;\r\n            setCameraPosition(lastLocation);\r\n        } else {\r\n            locationEngine.addLocationEngineListener(this);\r\n        }\r\n    }\r\n\r\n    @SuppressWarnings(&quot;MissingPermission&quot;)\r\n    private void initializeLocationLayer() {\r\n        locationLayerPlugin = new LocationLayerPlugin(mapView, map, locationEngine);\r\n        locationLayerPlugin.setLocationLayerEnabled(true);\r\n        locationLayerPlugin.setCameraMode(CameraMode.TRACKING);\r\n        locationLayerPlugin.setRenderMode(RenderMode.NORMAL);\r\n\r\n    }\r\n\r\n    private void setCameraPosition(Location location){\r\n        map.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(location.getLatitude(),\r\n                location.getLongitude()),13.0));\r\n    }\r\n\r\n    private void getRoute(Point origin, Point destination){\r\n        NavigationRoute.builder()\r\n                .accessToken(Mapbox.getAccessToken())\r\n                .origin(origin)\r\n                .destination(destination)\r\n                .build()\r\n                .getRoute(new Callback&lt;DirectionsResponse&gt;() {\r\n                    @Override\r\n                    public void onResponse(Call&lt;DirectionsResponse&gt; call, Response&lt;DirectionsResponse&gt; response) {\r\n                        if (response.body()  == null){\r\n                            Toast.makeText(MapActivity.this, &quot;No Routes Found&quot;, Toast.LENGTH_SHORT).show();\r\n                            return;\r\n                        } else if (response.body().routes().size() == 0){\r\n                            Toast.makeText(MapActivity.this, &quot;No Routes Found&quot;, Toast.LENGTH_SHORT).show();\r\n                            return;\r\n                        }\r\n\r\n                        DirectionsRoute currentRoute = response.body().routes().get(0);\r\n\r\n                        navigationMapRoute = new NavigationMapRoute(null, mapView,map);\r\n                        navigationMapRoute.addRoute(currentRoute);\r\n                    }\r\n\r\n                    @Override\r\n                    public void onFailure(Call&lt;DirectionsResponse&gt; call, Throwable t) {\r\n\r\n                        Toast.makeText(MapActivity.this, &quot;Error:&quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n\r\n                    }\r\n                });\r\n    }\r\n\r\n    @SuppressWarnings(&quot;MissingPermission&quot;)\r\n    @Override\r\n    public void onConnected() {\r\n        locationEngine.requestLocationUpdates();\r\n    }\r\n\r\n    @Override\r\n    public void onLocationChanged(Location location) {\r\n        if (location != null){\r\n            originLocation = location;\r\n            setCameraPosition(location);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onExplanationNeeded(List&lt;String&gt; permissionsToExplain) {\r\n        Toast.makeText(this, &quot;Location Required&quot;, Toast.LENGTH_SHORT).show();\r\n    }\r\n\r\n    @Override\r\n    public void onPermissionResult(boolean granted) {\r\n        if (granted){\r\n            enableLocation();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        permissionsManager.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n    }\r\n\r\n    @Override\r\n    @SuppressWarnings(&quot;MissingPermission&quot;)\r\n    protected void onStart() {\r\n        super.onStart();\r\n        if (locationEngine != null){\r\n            locationEngine.requestLocationUpdates();\r\n        }\r\n        if (locationLayerPlugin != null){\r\n            locationLayerPlugin.onStart();\r\n        }\r\n        mapView.onStart();\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n        mapView.onPause();\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        mapView.onResume();\r\n    }\r\n\r\n    @Override\r\n    protected void onStop() {\r\n        super.onStop();\r\n        if (locationEngine != null){\r\n            locationEngine.removeLocationUpdates();\r\n        }\r\n        if (locationLayerPlugin != null){\r\n            locationLayerPlugin.onStop();\r\n        }\r\n        mapView.onStop();\r\n    }\r\n\r\n    @Override\r\n    public void onSaveInstanceState(@NonNull Bundle outState, @NonNull PersistableBundle outPersistentState) {\r\n        super.onSaveInstanceState(outState, outPersistentState);\r\n        mapView.onSaveInstanceState(outState);\r\n    }\r\n\r\n    @Override\r\n    public void onLowMemory() {\r\n        super.onLowMemory();\r\n        mapView.onLowMemory();\r\n    }\r\n\r\n    @Override\r\n    protected void onDestroy() {\r\n        super.onDestroy();\r\n        if (locationEngine != null){\r\n            locationEngine.deactivate();\r\n        }\r\n        mapView.onDestroy();\r\n    }\r\n}\r\n```\r\n\r\nOh and the Locash object is a class I use to store user location on firebase and the likes.","title":"Mapbox Map not showing on android","body":"<p>When I tested it the first couple of times it was showing perfectly well, then I added some code and it just stopped. It still shows the Mapbox logo on the left bottom screen but it's not loading the map. Here's the code on the <code>MapActivity</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapActivity extends AppCompatActivity implements OnMapReadyCallback, LocationEngineListener, PermissionsListener {\n\n    private MapView mapView;\n    private Button startButton;\n\n    private MapboxMap map;\n    private PermissionsManager permissionsManager;\n    private LocationEngine locationEngine;\n    private Location originLocation;\n    private LocationLayerPlugin locationLayerPlugin;\n    private Locash customerLocash;\n    private Point destinationPosition;\n    private Point originPosition;\n    private Marker destinationMarker;\n    private NavigationMapRoute navigationMapRoute;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Mapbox.getInstance(this, getString(R.string.access_token));\n        setContentView(R.layout.activity_map);\n        mapView = findViewById(R.id.mapView);\n        mapView.onCreate(savedInstanceState);\n        mapView.getMapAsync(this);\n\n\n        startButton = findViewById(R.id.startButton);\n\n        Intent activityIntent = getIntent();\n        String locationJson = activityIntent.getStringExtra(&quot;location&quot;);\n\n        Gson gson = new Gson();\n\n        customerLocash = gson.fromJson(locationJson,Locash.class);\n\n        startButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                //Launch Navigation\n                NavigationLauncherOptions options = NavigationLauncherOptions.builder()\n                        .origin(originPosition)\n                        .destination(destinationPosition)\n                        .shouldSimulateRoute(true)\n                        .build();\n                NavigationLauncher.startNavigation(MapActivity.this, options);\n            }\n        });\n\n    }\n\n    @Override\n    public void onMapReady(MapboxMap mapboxMap) {\n        map = mapboxMap;\n        enableLocation();\n\n        LatLng point = new LatLng(customerLocash.getLongitude(),customerLocash.getLatitude());\n\n        destinationMarker = map.addMarker(new MarkerOptions().position(point));\n\n        destinationPosition = Point.fromLngLat(point.getLongitude(),point.getLatitude());\n        originPosition = Point.fromLngLat(originLocation.getLongitude(), originLocation.getLatitude());\n        getRoute(originPosition, destinationPosition);\n\n        startButton.setEnabled(true);\n\n    }\n\n    private void enableLocation() {\n        if (PermissionsManager.areLocationPermissionsGranted(this)){ \n            initializeLocationEngine();\n            initializeLocationLayer();\n            \n        } else {\n            permissionsManager = new PermissionsManager(this);\n            permissionsManager.requestLocationPermissions(this);\n        }\n\n    }\n\n    @SuppressWarnings(&quot;MissingPermission&quot;)\n    private void initializeLocationEngine() {\n        locationEngine = new LocationEngineProvider(this)\n                .obtainBestLocationEngineAvailable();\n        locationEngine.setPriority(LocationEnginePriority.HIGH_ACCURACY);\n        locationEngine.activate();\n\n        Location lastLocation = locationEngine.getLastLocation();\n        if (lastLocation != null){\n            originLocation = lastLocation;\n            setCameraPosition(lastLocation);\n        } else {\n            locationEngine.addLocationEngineListener(this);\n        }\n    }\n\n    @SuppressWarnings(&quot;MissingPermission&quot;)\n    private void initializeLocationLayer() {\n        locationLayerPlugin = new LocationLayerPlugin(mapView, map, locationEngine);\n        locationLayerPlugin.setLocationLayerEnabled(true);\n        locationLayerPlugin.setCameraMode(CameraMode.TRACKING);\n        locationLayerPlugin.setRenderMode(RenderMode.NORMAL);\n\n    }\n\n    private void setCameraPosition(Location location){\n        map.animateCamera(CameraUpdateFactory.newLatLngZoom(new LatLng(location.getLatitude(),\n                location.getLongitude()),13.0));\n    }\n\n    private void getRoute(Point origin, Point destination){\n        NavigationRoute.builder()\n                .accessToken(Mapbox.getAccessToken())\n                .origin(origin)\n                .destination(destination)\n                .build()\n                .getRoute(new Callback&lt;DirectionsResponse&gt;() {\n                    @Override\n                    public void onResponse(Call&lt;DirectionsResponse&gt; call, Response&lt;DirectionsResponse&gt; response) {\n                        if (response.body()  == null){\n                            Toast.makeText(MapActivity.this, &quot;No Routes Found&quot;, Toast.LENGTH_SHORT).show();\n                            return;\n                        } else if (response.body().routes().size() == 0){\n                            Toast.makeText(MapActivity.this, &quot;No Routes Found&quot;, Toast.LENGTH_SHORT).show();\n                            return;\n                        }\n\n                        DirectionsRoute currentRoute = response.body().routes().get(0);\n\n                        navigationMapRoute = new NavigationMapRoute(null, mapView,map);\n                        navigationMapRoute.addRoute(currentRoute);\n                    }\n\n                    @Override\n                    public void onFailure(Call&lt;DirectionsResponse&gt; call, Throwable t) {\n\n                        Toast.makeText(MapActivity.this, &quot;Error:&quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\n\n                    }\n                });\n    }\n\n    @SuppressWarnings(&quot;MissingPermission&quot;)\n    @Override\n    public void onConnected() {\n        locationEngine.requestLocationUpdates();\n    }\n\n    @Override\n    public void onLocationChanged(Location location) {\n        if (location != null){\n            originLocation = location;\n            setCameraPosition(location);\n        }\n\n    }\n\n    @Override\n    public void onExplanationNeeded(List&lt;String&gt; permissionsToExplain) {\n        Toast.makeText(this, &quot;Location Required&quot;, Toast.LENGTH_SHORT).show();\n    }\n\n    @Override\n    public void onPermissionResult(boolean granted) {\n        if (granted){\n            enableLocation();\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        permissionsManager.onRequestPermissionsResult(requestCode, permissions, grantResults);\n    }\n\n    @Override\n    @SuppressWarnings(&quot;MissingPermission&quot;)\n    protected void onStart() {\n        super.onStart();\n        if (locationEngine != null){\n            locationEngine.requestLocationUpdates();\n        }\n        if (locationLayerPlugin != null){\n            locationLayerPlugin.onStart();\n        }\n        mapView.onStart();\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n        mapView.onPause();\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        mapView.onResume();\n    }\n\n    @Override\n    protected void onStop() {\n        super.onStop();\n        if (locationEngine != null){\n            locationEngine.removeLocationUpdates();\n        }\n        if (locationLayerPlugin != null){\n            locationLayerPlugin.onStop();\n        }\n        mapView.onStop();\n    }\n\n    @Override\n    public void onSaveInstanceState(@NonNull Bundle outState, @NonNull PersistableBundle outPersistentState) {\n        super.onSaveInstanceState(outState, outPersistentState);\n        mapView.onSaveInstanceState(outState);\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        mapView.onLowMemory();\n    }\n\n    @Override\n    protected void onDestroy() {\n        super.onDestroy();\n        if (locationEngine != null){\n            locationEngine.deactivate();\n        }\n        mapView.onDestroy();\n    }\n}\n</code></pre>\n<p>Oh and the Locash object is a class I use to store user location on firebase and the likes.</p>\n"},{"tags":["java","oop","compareto"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1683881491,"post_id":76234601,"comment_id":134437507,"body_markdown":"Generally, you want to *first* compare the highest-relevance one (which seems to be rank) and *if* that is equal, then compare the next one (and so on, if there&#39;s more than two). So instead of `return 0` you just start another `if-then`-cascade comparing `suit`. Also: Using `Integer.compareTo` can simplify your code: `int result = Integer.compareTo(this.rank.ordinal(), o.rank.ordinal()); if (result == null) { /* further tests, assigning to result */ }; return result;`","body":"Generally, you want to <i>first</i> compare the highest-relevance one (which seems to be rank) and <i>if</i> that is equal, then compare the next one (and so on, if there&#39;s more than two). So instead of <code>return 0</code> you just start another <code>if-then</code>-cascade comparing <code>suit</code>. Also: Using <code>Integer.compareTo</code> can simplify your code: <code>int result = Integer.compareTo(this.rank.ordinal(), o.rank.ordinal()); if (result == null) { &#47;* further tests, assigning to result *&#47; }; return result;</code>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":2,"creation_date":1683881721,"post_id":76234601,"comment_id":134437567,"body_markdown":"@JoachimSauer `result == null` always evaluates to false. I suppose you wanted `0`.","body":"@JoachimSauer <code>result == null</code> always evaluates to false. I suppose you wanted <code>0</code>."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1683882357,"post_id":76234601,"comment_id":134437689,"body_markdown":"@Hulk: absolutely, that was a brain-fart.","body":"@Hulk: absolutely, that was a brain-fart."}],"answers":[{"tags":[],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683881895,"creation_date":1683881586,"answer_id":76234654,"question_id":76234601,"body_markdown":"You can use [Comparator.comparing](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html):\r\n\r\nI understand `rank` is having priority over the `suit`, so it can be done like:\r\n\r\n```java\r\nimport java.util.Comparator;\r\n\r\npublic class Cards {\r\n\r\n  enum Suit {hearts, clubs, diamonds, spades}\r\n\r\n  enum Rank {_2, _3, _4, _5, _6, _7, _8, _9, _10, joker, queen, king, ace,}\r\n\r\n  record Card(Suit suit, Rank rank) implements Comparable&lt;Card&gt; {\r\n    @Override\r\n    public int compareTo(Card o) {\r\n      return Comparator.comparing(Card::rank).thenComparing(Card::suit).compare(this, o);\r\n    }\r\n  }\r\n\r\n  public static void main(String[] args) {\r\n    var c1 = new Card(Suit.hearts, Rank.ace);\r\n    var c2 = new Card(Suit.spades, Rank._2);\r\n    System.out.println(c1.compareTo(c2));\r\n  }\r\n}\r\n```","title":"comparing two &#39;card&#39; objects in Java","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator.comparing</a>:</p>\n<p>I understand <code>rank</code> is having priority over the <code>suit</code>, so it can be done like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Comparator;\n\npublic class Cards {\n\n  enum Suit {hearts, clubs, diamonds, spades}\n\n  enum Rank {_2, _3, _4, _5, _6, _7, _8, _9, _10, joker, queen, king, ace,}\n\n  record Card(Suit suit, Rank rank) implements Comparable&lt;Card&gt; {\n    @Override\n    public int compareTo(Card o) {\n      return Comparator.comparing(Card::rank).thenComparing(Card::suit).compare(this, o);\n    }\n  }\n\n  public static void main(String[] args) {\n    var c1 = new Card(Suit.hearts, Rank.ace);\n    var c2 = new Card(Suit.spades, Rank._2);\n    System.out.println(c1.compareTo(c2));\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683887163,"creation_date":1683882185,"answer_id":76234736,"question_id":76234601,"body_markdown":"An alternative way would be to use the *Comparator* interface and its static factory methods introduced in Java8:\r\n```java\r\nprivate final Comparator&lt;Card&gt; comparator = Comparator.comparingInt((Card card) -&gt; card.rank.ordinal())\r\n\t\t.thenComparing((Card card) -&gt; card.suit.ordinal());\r\n```\r\n\r\nYou can then use this comparator directly, or through the overridden `compareTo` method:\r\n```java\r\n@Override\r\npublic int compareTo(Card other) {\r\n\treturn comparator.compare(this, other);\r\n}\r\n```\r\n\r\n----------\r\n\r\nSince this question is also tagged with `oop`, I&#39;ll add that the whole comparison logic should belong to a card *game*, not to the card itself. \r\n\r\nIn other words, if this comparison is game-specific, you should avoid putting it inside your entity/model. Asa result, you&#39;ll be able to easily reuse the `Card` object for different card `games`.","title":"comparing two &#39;card&#39; objects in Java","body":"<p>An alternative way would be to use the <em>Comparator</em> interface and its static factory methods introduced in Java8:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private final Comparator&lt;Card&gt; comparator = Comparator.comparingInt((Card card) -&gt; card.rank.ordinal())\n        .thenComparing((Card card) -&gt; card.suit.ordinal());\n</code></pre>\n<p>You can then use this comparator directly, or through the overridden <code>compareTo</code> method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic int compareTo(Card other) {\n    return comparator.compare(this, other);\n}\n</code></pre>\n<hr />\n<p>Since this question is also tagged with <code>oop</code>, I'll add that the whole comparison logic should belong to a card <em>game</em>, not to the card itself.</p>\n<p>In other words, if this comparison is game-specific, you should avoid putting it inside your entity/model. Asa result, you'll be able to easily reuse the <code>Card</code> object for different card <code>games</code>.</p>\n"},{"tags":[],"owner":{"account_id":194308,"reputation":66720,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683990518,"creation_date":1683982442,"answer_id":76242843,"question_id":76234601,"body_markdown":"You can add the further comparison into the else:\r\n\r\n```\r\n@Override\r\n    public int compareTo(Card o) {\r\n        \r\n        if(this.rank.ordinal() &gt; o.rank.ordinal()) {\r\n            return 1;\r\n        }\r\n        else if (this.rank.ordinal() &lt; o.rank.ordinal()) {\r\n            return -1;\r\n        } \r\n        else {\r\n            if (this.suit.ordinal() &gt; o.suit.ordinal()) {\r\n                return 1;\r\n            }\r\n            else if (this.suit.ordinal() &lt; o.suit.ordinal()) {\r\n                return -1;\r\n            }\r\n        }\r\n\r\n        return 0;\r\n    }\r\n\r\n```","title":"comparing two &#39;card&#39; objects in Java","body":"<p>You can add the further comparison into the else:</p>\n<pre><code>@Override\n    public int compareTo(Card o) {\n        \n        if(this.rank.ordinal() &gt; o.rank.ordinal()) {\n            return 1;\n        }\n        else if (this.rank.ordinal() &lt; o.rank.ordinal()) {\n            return -1;\n        } \n        else {\n            if (this.suit.ordinal() &gt; o.suit.ordinal()) {\n                return 1;\n            }\n            else if (this.suit.ordinal() &lt; o.suit.ordinal()) {\n                return -1;\n            }\n        }\n\n        return 0;\n    }\n\n</code></pre>\n"}],"owner":{"account_id":26235747,"reputation":47,"user_id":19910923,"display_name":"acidic231"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683982811,"answer_count":3,"score":0,"last_activity_date":1683990518,"creation_date":1683881101,"question_id":76234601,"body_markdown":"I&#39;m stuck on this question where I need to compare two card objects based upon what rank and suit they are. \r\nHeart being the lowest suit, Spades the highest. \r\nAnd for Rank, One the lowest and Ace the highest. \r\nAnd 5 Spades being &gt; 2 Hearts.\r\nThese values are stored in two enums of their respective type. With Heart being the first ordinal and Spades the last ordinal.  \r\n```\r\n@Override\r\n\tpublic int compareTo(Card o) {\r\n\t\t\r\n\t\tif(this.rank.ordinal() &gt; o.rank.ordinal()) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t\tif (this.rank.ordinal() &lt; o.rank.ordinal()) {\r\n\t        return -1;\r\n\t    } \r\n\t    else {\r\n\t    \treturn 0;\r\n\t    }\r\n```\r\nIn my comapreTo() I&#39;ve implemented the comparing of the rank, but I&#39;m stuck on THEN comparing the suit to find the greater card. This code fails once it goes past Ace of Hearts as it thinks 1 of clubs is higher. I&#39;ve tried a bunch of different methods using if&#39;s but it just becomes convoluted and ugly and doesn&#39;t work anyways. Does anyone have any suggestions?","title":"comparing two &#39;card&#39; objects in Java","body":"<p>I'm stuck on this question where I need to compare two card objects based upon what rank and suit they are.\nHeart being the lowest suit, Spades the highest.\nAnd for Rank, One the lowest and Ace the highest.\nAnd 5 Spades being &gt; 2 Hearts.\nThese values are stored in two enums of their respective type. With Heart being the first ordinal and Spades the last ordinal.</p>\n<pre><code>@Override\n    public int compareTo(Card o) {\n        \n        if(this.rank.ordinal() &gt; o.rank.ordinal()) {\n            return 1;\n        }\n        if (this.rank.ordinal() &lt; o.rank.ordinal()) {\n            return -1;\n        } \n        else {\n            return 0;\n        }\n</code></pre>\n<p>In my comapreTo() I've implemented the comparing of the rank, but I'm stuck on THEN comparing the suit to find the greater card. This code fails once it goes past Ace of Hearts as it thinks 1 of clubs is higher. I've tried a bunch of different methods using if's but it just becomes convoluted and ugly and doesn't work anyways. Does anyone have any suggestions?</p>\n"},{"tags":["java","spring-boot","spring-scheduled"],"comments":[{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1683986437,"post_id":76243024,"comment_id":134452146,"body_markdown":"You could try using a try catch block to catch the exception. I wonder also if using Spring Boot’s Actuator to create a custom health check could be useful in your case, which you could set up to return Health.down()… when the shouldShutdown is true and also when the db connection fails. It looks like something sort of similar might be described [here](https://reflectoring.io/spring-boot-health-check/).","body":"You could try using a try catch block to catch the exception. I wonder also if using Spring Boot’s Actuator to create a custom health check could be useful in your case, which you could set up to return Health.down()… when the shouldShutdown is true and also when the db connection fails. It looks like something sort of similar might be described <a href=\"https://reflectoring.io/spring-boot-health-check/\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":2469660,"reputation":154,"user_id":2151879,"display_name":"Liran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683986951,"creation_date":1683986951,"answer_id":76243157,"question_id":76243024,"body_markdown":"Can do like this on a Service/Component bean, depending on your requirements:\r\n\r\n```\r\n@PreDestroy\r\npublic void close() {\r\n    // application is closed\r\n}\r\n```","title":"Spring Boot Stop Gracefuly From @Scheduled Method","body":"<p>Can do like this on a Service/Component bean, depending on your requirements:</p>\n<pre><code>@PreDestroy\npublic void close() {\n    // application is closed\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683989945,"creation_date":1683989945,"answer_id":76243372,"question_id":76243024,"body_markdown":"Calling `HikariDataSource.close()` has done the trick:\r\n\r\n```java\r\n@Scheduled(fixedDelay = 3000)\r\npublic void checkShutdown() {\r\n\r\n    boolean shouldShutdown = readFromDatabase();\r\n\r\n    if (shouldShutdown) {\r\n        log.info(&quot;Shutdown requested.&quot;);\r\n        hikariDataSource.close();\r\n        SpringApplication.exit(applicationContext, () -&gt; 0);\r\n        return;\r\n    }\r\n}\r\n```","title":"Spring Boot Stop Gracefuly From @Scheduled Method","body":"<p>Calling <code>HikariDataSource.close()</code> has done the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Scheduled(fixedDelay = 3000)\npublic void checkShutdown() {\n\n    boolean shouldShutdown = readFromDatabase();\n\n    if (shouldShutdown) {\n        log.info(&quot;Shutdown requested.&quot;);\n        hikariDataSource.close();\n        SpringApplication.exit(applicationContext, () -&gt; 0);\n        return;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2876792,"reputation":1939,"user_id":2468620,"accept_rate":56,"display_name":"Jardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76243372,"answer_count":2,"score":1,"last_activity_date":1683989945,"creation_date":1683985252,"question_id":76243024,"body_markdown":"I am trying to stop a Spring Boot application based on a database value like this:\r\n\r\n\t@Scheduled(fixedDelay = 3000)\r\n\tpublic void checkShutdown() {\r\n\r\n\t\tboolean shouldShutdown = readFromDatabase();\r\n\r\n\t\tif (shouldShutdown) {\r\n\t\t\tlog.info(&quot;Shutdown requested.&quot;);\r\n\t\t\tSpringApplication.exit(applicationContext, () -&gt; 0);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\r\nWhen the app is exiting, it throws a nasty exception, because the Hikari data source is interrupted and not allowed to close gracefully. Here is the exception:\r\n\r\n```text\r\n2023-05-13T10:24:47.924-03:00  INFO 248948 --- [   scheduling-1] c.e.d.example.service.ShutdownService   : Shutdown requested.\r\n2023-05-13T10:24:47.934-03:00  WARN 248948 --- [   scheduling-1] o.s.s.c.ThreadPoolTaskScheduler          : Interrupted while waiting for executor &#39;taskScheduler&#39; to terminate\r\n2023-05-13T10:24:47.939-03:00  INFO 248948 --- [   scheduling-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n2023-05-13T10:24:47.944-03:00  INFO 248948 --- [   scheduling-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\r\n2023-05-13T10:24:47.949-03:00  WARN 248948 --- [   scheduling-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Interrupted during closing\r\n\r\njava.lang.InterruptedException: null\r\n\tat java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1660) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.awaitTermination(ThreadPoolExecutor.java:1464) ~[na:na]\r\n\tat com.zaxxer.hikari.pool.HikariPool.shutdown(HikariPool.java:243) ~[HikariCP-5.0.1.jar:na]\r\n\tat com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:351) ~[HikariCP-5.0.1.jar:na]\r\n\tat org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:222) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1189) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1182) ~[spring-beans-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1084) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1053) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1003) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.boot.SpringApplication.close(SpringApplication.java:1397) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat org.springframework.boot.SpringApplication.exit(SpringApplication.java:1350) ~[spring-boot-3.0.6.jar:3.0.6]\r\n\tat com.example.service.ShutdownService.checkShutdown(ShutdownService.java:34) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.8.jar:6.0.8]\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\r\n\tat java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n```\r\n\r\nI have tried setting the following properties, but it made no difference:\r\n\r\n```yml\r\nspring:\r\n  task:\r\n    execution:\r\n      shutdown:\r\n        await-termination: true\r\n        await-termination-period: 15s\r\n    scheduling:\r\n      shutdown:\r\n        await-termination: true\r\n        await-termination-period: 15s\r\n```\r\nI also tried calling `applicationContext.close()` instead of `SpringApplication.exit`, but it also made no difference.","title":"Spring Boot Stop Gracefuly From @Scheduled Method","body":"<p>I am trying to stop a Spring Boot application based on a database value like this:</p>\n<pre><code>@Scheduled(fixedDelay = 3000)\npublic void checkShutdown() {\n\n    boolean shouldShutdown = readFromDatabase();\n\n    if (shouldShutdown) {\n        log.info(&quot;Shutdown requested.&quot;);\n        SpringApplication.exit(applicationContext, () -&gt; 0);\n        return;\n    }\n}\n</code></pre>\n<p>When the app is exiting, it throws a nasty exception, because the Hikari data source is interrupted and not allowed to close gracefully. Here is the exception:</p>\n<pre><code>2023-05-13T10:24:47.924-03:00  INFO 248948 --- [   scheduling-1] c.e.d.example.service.ShutdownService   : Shutdown requested.\n2023-05-13T10:24:47.934-03:00  WARN 248948 --- [   scheduling-1] o.s.s.c.ThreadPoolTaskScheduler          : Interrupted while waiting for executor 'taskScheduler' to terminate\n2023-05-13T10:24:47.939-03:00  INFO 248948 --- [   scheduling-1] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'\n2023-05-13T10:24:47.944-03:00  INFO 248948 --- [   scheduling-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...\n2023-05-13T10:24:47.949-03:00  WARN 248948 --- [   scheduling-1] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Interrupted during closing\n\njava.lang.InterruptedException: null\n    at java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1660) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.awaitTermination(ThreadPoolExecutor.java:1464) ~[na:na]\n    at com.zaxxer.hikari.pool.HikariPool.shutdown(HikariPool.java:243) ~[HikariCP-5.0.1.jar:na]\n    at com.zaxxer.hikari.HikariDataSource.close(HikariDataSource.java:351) ~[HikariCP-5.0.1.jar:na]\n    at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:222) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:587) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:559) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:1189) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:520) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:1182) ~[spring-beans-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1084) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1053) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1003) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.boot.SpringApplication.close(SpringApplication.java:1397) ~[spring-boot-3.0.6.jar:3.0.6]\n    at org.springframework.boot.SpringApplication.exit(SpringApplication.java:1350) ~[spring-boot-3.0.6.jar:3.0.6]\n    at com.example.service.ShutdownService.checkShutdown(ShutdownService.java:34) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84) ~[spring-context-6.0.8.jar:6.0.8]\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54) ~[spring-context-6.0.8.jar:6.0.8]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136) ~[na:na]\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n\n</code></pre>\n<p>I have tried setting the following properties, but it made no difference:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>spring:\n  task:\n    execution:\n      shutdown:\n        await-termination: true\n        await-termination-period: 15s\n    scheduling:\n      shutdown:\n        await-termination: true\n        await-termination-period: 15s\n</code></pre>\n<p>I also tried calling <code>applicationContext.close()</code> instead of <code>SpringApplication.exit</code>, but it also made no difference.</p>\n"},{"tags":["java","unit-testing","mockito"],"comments":[{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1684872487,"post_id":76243012,"comment_id":134580251,"body_markdown":"I think the questions title is misleading since it is not the object creation that you want to mock...","body":"I think the questions title is misleading since it is not the object creation that you want to mock..."}],"answers":[{"tags":[],"owner":{"account_id":22577442,"reputation":758,"user_id":16775102,"display_name":"Feel free"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683989914,"creation_date":1683989914,"answer_id":76243370,"question_id":76243012,"body_markdown":"If I understood correctly you need to mock parameters inside the object. I think you can easily mock this parameters with `when()`\r\n\r\n        @ExtendWith(MockitoExtension.class)\r\n        class AnInjectMockTest {\r\n        \r\n            @InjectMocks\r\n            private AnInjectMock anInjectMock;\r\n        \r\n            @Mock\r\n            private ServiceClass serviceClass;\r\n        \r\n            @Mock\r\n            private Param1 param1;\r\n        \r\n            @Mock\r\n            private Param2 param2;\r\n        \r\n            @Test\r\n            public void myTest() {\r\n                when(param1.getField1()).thenReturn(any());\r\n                when(param2.getField2()).thenReturn(any());\r\n                anInjectMock.createTransaction(pojo, /*other fields*/};\r\n            }\r\n    \r\n    }\r\n\r\nBy the way, why do you need to mock it? Maybe it&#39;s better to create an object from pojo and then mock `createTransaction()`\r\n\r\n\r\n    Pojo pojo = new Pojo(&quot;field1Value&quot;, &quot;field2Value&quot;);\r\n    when(serviceClass.createTransaction(pojo, /*other fields*/)).thenReturn(any());\r\n\r\nAnd the last point. You can mock constructors with WhiteBox like:\r\n\r\n    Pojo pojo = new Pojo(&quot;field1Value&quot;, &quot;field2Value&quot;);\r\n    Whitebox.setInternalState(anInjectMock, &quot;pojo&quot;, pojo);\r\n\r\nBut then you need to add dependency for WhiteBox:\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-reflect --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.powermock&lt;/groupId&gt;\r\n        &lt;artifactId&gt;powermock-reflect&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n\r\n\r\n","title":"Best practice to mock/stub object created by constructor in a method","body":"<p>If I understood correctly you need to mock parameters inside the object. I think you can easily mock this parameters with <code>when()</code></p>\n<pre><code>    @ExtendWith(MockitoExtension.class)\n    class AnInjectMockTest {\n    \n        @InjectMocks\n        private AnInjectMock anInjectMock;\n    \n        @Mock\n        private ServiceClass serviceClass;\n    \n        @Mock\n        private Param1 param1;\n    \n        @Mock\n        private Param2 param2;\n    \n        @Test\n        public void myTest() {\n            when(param1.getField1()).thenReturn(any());\n            when(param2.getField2()).thenReturn(any());\n            anInjectMock.createTransaction(pojo, /*other fields*/};\n        }\n\n}\n</code></pre>\n<p>By the way, why do you need to mock it? Maybe it's better to create an object from pojo and then mock <code>createTransaction()</code></p>\n<pre><code>Pojo pojo = new Pojo(&quot;field1Value&quot;, &quot;field2Value&quot;);\nwhen(serviceClass.createTransaction(pojo, /*other fields*/)).thenReturn(any());\n</code></pre>\n<p>And the last point. You can mock constructors with WhiteBox like:</p>\n<pre><code>Pojo pojo = new Pojo(&quot;field1Value&quot;, &quot;field2Value&quot;);\nWhitebox.setInternalState(anInjectMock, &quot;pojo&quot;, pojo);\n</code></pre>\n<p>But then you need to add dependency for WhiteBox:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.powermock/powermock-reflect --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.powermock&lt;/groupId&gt;\n    &lt;artifactId&gt;powermock-reflect&lt;/artifactId&gt;\n    &lt;version&gt;1.6.1&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1278736,"reputation":7363,"user_id":1233359,"accept_rate":73,"display_name":"Dreamer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76243370,"answer_count":1,"score":0,"last_activity_date":1683989914,"creation_date":1683985057,"question_id":76243012,"body_markdown":"(Currently I have junit and Mockito, PowerMock or EasyMock is not an option)\r\nConsidering a POJO class with parameterized constructor \r\n\r\n    public class Pojo{\r\n        private String field1;\r\n        private String field2;\r\n\r\n        public Pojo(String field1, String field2){\r\n            this.field1=field1, this.field2=field2;\r\n        }\r\n    }\r\n\r\nNow I have a class requires unit test and one of the method create Pojo object by the constructor \r\n\r\n\r\n    public class AnInjectMock{\r\n\r\n        private ServiceClass serviceClass;\r\n        //....\r\n        public void runTransaction(Param1 param1, Param2 param2 ...){\r\n\r\n            Pojo pojo = new Pojo(param1.getFiel1(), param2.getField2();\r\n            \r\n            serviceClass.createTransaction(pojo, /*other fields*/};\r\n            .....\r\n        }\r\n    }\r\n\r\nI think this is not an uncommon implementation scenario. But as for unit test, I try to figure out a way to use Mockito only to stub the constructor object. I get it that [after Mockito 3.5][1] there is support to mock constructor, however per the document and other online tutorial I couldn&#39;t find anything to stub the object with parameterized constructor. I am Ok with `any()` value for the constructor.\r\n\r\n\r\n  [1]: https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction","title":"Best practice to mock/stub object created by constructor in a method","body":"<p>(Currently I have junit and Mockito, PowerMock or EasyMock is not an option)\nConsidering a POJO class with parameterized constructor</p>\n<pre><code>public class Pojo{\n    private String field1;\n    private String field2;\n\n    public Pojo(String field1, String field2){\n        this.field1=field1, this.field2=field2;\n    }\n}\n</code></pre>\n<p>Now I have a class requires unit test and one of the method create Pojo object by the constructor</p>\n<pre><code>public class AnInjectMock{\n\n    private ServiceClass serviceClass;\n    //....\n    public void runTransaction(Param1 param1, Param2 param2 ...){\n\n        Pojo pojo = new Pojo(param1.getFiel1(), param2.getField2();\n        \n        serviceClass.createTransaction(pojo, /*other fields*/};\n        .....\n    }\n}\n</code></pre>\n<p>I think this is not an uncommon implementation scenario. But as for unit test, I try to figure out a way to use Mockito only to stub the constructor object. I get it that <a href=\"https://javadoc.io/static/org.mockito/mockito-core/3.5.13/org/mockito/Mockito.html#mocked_construction\" rel=\"nofollow noreferrer\">after Mockito 3.5</a> there is support to mock constructor, however per the document and other online tutorial I couldn't find anything to stub the object with parameterized constructor. I am Ok with <code>any()</code> value for the constructor.</p>\n"},{"tags":["java","algorithm","binary-tree","binary-search-tree"],"answers":[{"tags":[],"owner":{"account_id":12864974,"reputation":229,"user_id":9305555,"display_name":"Chase LP"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1683930792,"creation_date":1683930792,"answer_id":76240302,"question_id":76240095,"body_markdown":"A postorder traversal doesn&#39;t necessarily give you the actual tree shape.\r\nIf you were to assume that it is a binary tree, and each level is filled as much as possible from left to right, then you could have a shape like this for 11 nodes:\r\n```\r\n           x\r\n        /    \\\r\n      x        x\r\n     / \\      / \\\r\n    x   x    x   x\r\n   / \\  / \\\r\n  x  x  x  x\r\n```\r\nThis is the way that I would approach this problem, don&#39;t worry about the values at first but the shape.\r\n\r\nOnce you have a tree that has the right node count and shape that you want/expect, you can just use your post-order traversal to fill in the values:\r\n```\r\npostorder: [3 2 1 6 5 4 9 11 10 8 7]\r\npreorder:  [7 9 1 3 2 4 6 5 8 11 10]\r\n\r\n           7\r\n        /    \\\r\n      9        8\r\n     / \\      / \\\r\n    1   4    11  10\r\n   / \\  / \\\r\n  3  2  6  5\r\n```\r\nIf we had given the tree a different shape we could still arrange values to get the same postorder but with th enodes in different spots the preorder would change:\r\n```\r\npostorder: [3 2 1 6 5 4 9 11 10 8 7]\r\npreorder:  [7 10 5 1 3 2 6 11 4 9 8]\r\n\r\n           7\r\n        /    \\\r\n      10       8\r\n     / \\\r\n    5   11\r\n   / \\  / \\\r\n  1  6  4  9\r\n / \\\r\n3   2\r\n```","title":"Deconstructing a postorder traversal and reconstructing a tree","body":"<p>A postorder traversal doesn't necessarily give you the actual tree shape.\nIf you were to assume that it is a binary tree, and each level is filled as much as possible from left to right, then you could have a shape like this for 11 nodes:</p>\n<pre><code>           x\n        /    \\\n      x        x\n     / \\      / \\\n    x   x    x   x\n   / \\  / \\\n  x  x  x  x\n</code></pre>\n<p>This is the way that I would approach this problem, don't worry about the values at first but the shape.</p>\n<p>Once you have a tree that has the right node count and shape that you want/expect, you can just use your post-order traversal to fill in the values:</p>\n<pre><code>postorder: [3 2 1 6 5 4 9 11 10 8 7]\npreorder:  [7 9 1 3 2 4 6 5 8 11 10]\n\n           7\n        /    \\\n      9        8\n     / \\      / \\\n    1   4    11  10\n   / \\  / \\\n  3  2  6  5\n</code></pre>\n<p>If we had given the tree a different shape we could still arrange values to get the same postorder but with th enodes in different spots the preorder would change:</p>\n<pre><code>postorder: [3 2 1 6 5 4 9 11 10 8 7]\npreorder:  [7 10 5 1 3 2 6 11 4 9 8]\n\n           7\n        /    \\\n      10       8\n     / \\\n    5   11\n   / \\  / \\\n  1  6  4  9\n / \\\n3   2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1683989463,"creation_date":1683931239,"answer_id":76240318,"question_id":76240095,"body_markdown":"Your tree is incorrect. Assuming that [3 2 1 6 5 4 9 11 10 8 7] is a post-order traversal of a *binary search tree*, then it should look like this:\r\n\r\n```\r\n        7\r\n      /   \\\r\n     /     \\\r\n    4       8\r\n   / \\       \\\r\n  1   5      10\r\n   \\   \\    /  \\\r\n    2   6  9    11\r\n     \\  \r\n      3\r\n```\r\n\r\nThe pre-order traversal would be [7 4 1 2 3 5 6 8 10 9 11], and the in-order traversal, naturally, would be [1 2 3 4 5 6 7 8 9 10 11].\r\n","title":"Deconstructing a postorder traversal and reconstructing a tree","body":"<p>Your tree is incorrect. Assuming that [3 2 1 6 5 4 9 11 10 8 7] is a post-order traversal of a <em>binary search tree</em>, then it should look like this:</p>\n<pre><code>        7\n      /   \\\n     /     \\\n    4       8\n   / \\       \\\n  1   5      10\n   \\   \\    /  \\\n    2   6  9    11\n     \\  \n      3\n</code></pre>\n<p>The pre-order traversal would be [7 4 1 2 3 5 6 8 10 9 11], and the in-order traversal, naturally, would be [1 2 3 4 5 6 7 8 9 10 11].</p>\n"}],"owner":{"account_id":28591032,"reputation":11,"user_id":21890268,"display_name":"Jenna "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1683989463,"creation_date":1683927734,"question_id":76240095,"body_markdown":"I have the postorder traversal sequence of `[3 2 1 6 5 4 9 11 10 8 7]` and am trying to get the preorder traversal from the tree built from that sequence. Currently I have the answer:\r\n\r\n`7 4 2 1 3 6 5 8 10 9 11` as the preorder traversal and got the root by taking the last value but this answer is incorrect. How do you find the preorder by building the tree? Thanks!\r\n\r\nI took the root as the last value from the sequence and then did:\r\n\r\n```\r\n       7\r\n\r\n     /   \\\r\n\r\n    4     8\r\n\r\n   / \\      \\\r\n\r\n  1   3     10\r\n\r\n      \\   /    \\\r\n\r\n      5  9     11\r\n\r\n      /\r\n\r\n     6\r\n```\r\n\r\nbut I&#39;m not sure if I built the tree wrong or if I did the preorder traversal part wrong.","title":"Deconstructing a postorder traversal and reconstructing a tree","body":"<p>I have the postorder traversal sequence of <code>[3 2 1 6 5 4 9 11 10 8 7]</code> and am trying to get the preorder traversal from the tree built from that sequence. Currently I have the answer:</p>\n<p><code>7 4 2 1 3 6 5 8 10 9 11</code> as the preorder traversal and got the root by taking the last value but this answer is incorrect. How do you find the preorder by building the tree? Thanks!</p>\n<p>I took the root as the last value from the sequence and then did:</p>\n<pre><code>       7\n\n     /   \\\n\n    4     8\n\n   / \\      \\\n\n  1   3     10\n\n      \\   /    \\\n\n      5  9     11\n\n      /\n\n     6\n</code></pre>\n<p>but I'm not sure if I built the tree wrong or if I did the preorder traversal part wrong.</p>\n"},{"tags":["java","spring-boot","oauth-2.0"],"owner":{"account_id":27419303,"reputation":83,"user_id":20918006,"display_name":"Sard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1683989212,"creation_date":1683956425,"question_id":76241253,"body_markdown":"The implementation was to customize the endpoint to check the token in Oauth2 authorizarion server in spring which /oauth2/introspect Sample: `http://localhost:8080/oauth2/introspect?token=tokenValueHere&amp;client_id=client&amp;client_secret=secret` but the requirement is to check the token only without client_id and client_secret. \r\n\r\n\r\nHave try to customize it, the method `getAuthenticationProvider` \r\nBut when i try without client_id and client_secret it will  401 Unauthorized and the print `Going to this method` is not showing which mean the method is not being excuted, its being block.\r\n\r\nWould like to ask where to modified ` /oauth2/introspect` to required without client_id and client_secret?\r\n\r\n```\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\r\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\r\n                .tokenIntrospectionEndpoint(a -&gt; a.authenticationProvider(getAuthenticationProvider()));\r\n        \r\n\r\n        http.csrf().disable();\r\n        \r\n\r\n        return http.build();\r\n    }\r\n\r\n    private AuthenticationProvider getAuthenticationProvider() {\r\n    System.out.println(&quot;Going to this method&quot;);\r\n        return new AuthenticationProvider() {\r\n            @Override\r\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n            \r\n                if (authentication.getPrincipal() == null || authentication.getCredentials() == null) {\r\n                    return authentication;\r\n                }\r\n                throw new BadCredentialsException(&quot;Invalid credentials&quot;);\r\n            }\r\n            @Override\r\n            public boolean supports(Class&lt;?&gt; authentication) {\r\n                return OAuth2TokenIntrospectionAuthenticationToken.class.isAssignableFrom(authentication);\r\n            }\r\n        };\r\n```\r\n\r\n```\r\n\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.0.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"Spring Oauth2 introspect a token only without client_id and client_secret","body":"<p>The implementation was to customize the endpoint to check the token in Oauth2 authorizarion server in spring which /oauth2/introspect Sample: <code>http://localhost:8080/oauth2/introspect?token=tokenValueHere&amp;client_id=client&amp;client_secret=secret</code> but the requirement is to check the token only without client_id and client_secret.</p>\n<p>Have try to customize it, the method <code>getAuthenticationProvider</code>\nBut when i try without client_id and client_secret it will  401 Unauthorized and the print <code>Going to this method</code> is not showing which mean the method is not being excuted, its being block.</p>\n<p>Would like to ask where to modified <code> /oauth2/introspect</code> to required without client_id and client_secret?</p>\n<pre><code>    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        OAuth2AuthorizationServerConfiguration.applyDefaultSecurity(http);\n        http.getConfigurer(OAuth2AuthorizationServerConfigurer.class)\n                .tokenIntrospectionEndpoint(a -&gt; a.authenticationProvider(getAuthenticationProvider()));\n        \n\n        http.csrf().disable();\n        \n\n        return http.build();\n    }\n\n    private AuthenticationProvider getAuthenticationProvider() {\n    System.out.println(&quot;Going to this method&quot;);\n        return new AuthenticationProvider() {\n            @Override\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n            \n                if (authentication.getPrincipal() == null || authentication.getCredentials() == null) {\n                    return authentication;\n                }\n                throw new BadCredentialsException(&quot;Invalid credentials&quot;);\n            }\n            @Override\n            public boolean supports(Class&lt;?&gt; authentication) {\n                return OAuth2TokenIntrospectionAuthenticationToken.class.isAssignableFrom(authentication);\n            }\n        };\n</code></pre>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-authorization-server&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","testing","multipartform-data"],"answers":[{"tags":[],"owner":{"account_id":2469660,"reputation":154,"user_id":2151879,"display_name":"Liran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683989105,"creation_date":1683989105,"answer_id":76243301,"question_id":76231590,"body_markdown":"Can try by following example, while adjusting to your requirement:\r\n\r\n```\r\n@RequestMapping(path = {&quot;MYURL&quot;}, method = RequestMethod.POST)\r\n    public @ResponseBody\r\n    Single&lt;List&lt;MyResponse&gt;&gt; myMethod(\r\n            @RequestPart(&quot;metadata&quot;) myRequest metadata,\r\n            @RequestPart(&quot;file&quot;) MultipartFile file) throws IOException {\r\n        return // TODO\r\n    }\r\n\t\r\n\t\r\n\tprivate boolean upload() {\r\n\t        HttpHeaders headers = new HttpHeaders();\r\n\t        headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\t        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n\r\n\t        MultiValueMap&lt;String, String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\r\n\t        ContentDisposition fileContentDisposition = ContentDisposition\r\n\t            .builder(&quot;form-data&quot;)\r\n\t            .name(&quot;file&quot;)\r\n\t            .filename(&quot;testfile.txt&quot;)\r\n\t            .build();\r\n\t        fileMap.add(HttpHeaders.CONTENT_DISPOSITION, fileContentDisposition.toString());\r\n\t        HttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileContent).getByteArray(), fileMap);\r\n\t        body.add(&quot;file&quot;, fileEntity);\r\n\r\n\t        MultiValueMap&lt;String, String&gt; metadataMap = new LinkedMultiValueMap&lt;&gt;();\r\n\t        ContentDisposition metadataContentDisposition = ContentDisposition\r\n\t            .builder(&quot;form-data&quot;)\r\n\t            .name(&quot;metadata&quot;)\r\n\t            .filename(&quot;testmetadata.json&quot;)\r\n\t            .build();\r\n\t        metadataMap.add(HttpHeaders.CONTENT_DISPOSITION, metadataContentDisposition.toString());\r\n\t        metadataMap.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\r\n\t        HttpEntity&lt;byte[]&gt; metadataEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileMetadataContent).getByteArray(), metadataMap);\r\n\t        body.add(&quot;metadata&quot;, metadataEntity);\r\n\r\n\t        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\t        ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, requestEntity, String.class);\r\n\t        log.debug(&quot;result: {}&quot;, response.getBody());\r\n\t        return HttpStatus.OK.equals(response.getStatusCode());\r\n\t    }\r\n\r\n\t\r\n```\r\n\r\nor via OkHttp:\r\n```\r\nOkHttpClient client = new OkHttpClient().newBuilder()\r\n  .build();\r\nMediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\r\nRequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\r\n  .addFormDataPart(&quot;file&quot;,&quot;metadata.json&quot;,\r\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\r\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\r\n  .addFormDataPart(&quot;metadata&quot;,&quot;metadata.json&quot;,\r\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\r\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\r\n  .build();\r\nRequest request = new Request.Builder()\r\n  .url(MYURL)\r\n  .method(&quot;POST&quot;, body)\r\n  .build();\r\nResponse response = client.newCall(request).execute();\r\n```\r\n","title":"415 UNSUPPORTED_MEDIA_TYPE when using SpringBoot HttpRequestTest with multipart/form-data","body":"<p>Can try by following example, while adjusting to your requirement:</p>\n<pre><code>@RequestMapping(path = {&quot;MYURL&quot;}, method = RequestMethod.POST)\n    public @ResponseBody\n    Single&lt;List&lt;MyResponse&gt;&gt; myMethod(\n            @RequestPart(&quot;metadata&quot;) myRequest metadata,\n            @RequestPart(&quot;file&quot;) MultipartFile file) throws IOException {\n        return // TODO\n    }\n    \n    \n    private boolean upload() {\n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n            MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n\n            MultiValueMap&lt;String, String&gt; fileMap = new LinkedMultiValueMap&lt;&gt;();\n            ContentDisposition fileContentDisposition = ContentDisposition\n                .builder(&quot;form-data&quot;)\n                .name(&quot;file&quot;)\n                .filename(&quot;testfile.txt&quot;)\n                .build();\n            fileMap.add(HttpHeaders.CONTENT_DISPOSITION, fileContentDisposition.toString());\n            HttpEntity&lt;byte[]&gt; fileEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileContent).getByteArray(), fileMap);\n            body.add(&quot;file&quot;, fileEntity);\n\n            MultiValueMap&lt;String, String&gt; metadataMap = new LinkedMultiValueMap&lt;&gt;();\n            ContentDisposition metadataContentDisposition = ContentDisposition\n                .builder(&quot;form-data&quot;)\n                .name(&quot;metadata&quot;)\n                .filename(&quot;testmetadata.json&quot;)\n                .build();\n            metadataMap.add(HttpHeaders.CONTENT_DISPOSITION, metadataContentDisposition.toString());\n            metadataMap.add(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE);\n            HttpEntity&lt;byte[]&gt; metadataEntity = new HttpEntity&lt;&gt;(((ByteArrayResource) testFileMetadataContent).getByteArray(), metadataMap);\n            body.add(&quot;metadata&quot;, metadataEntity);\n\n            HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n            ResponseEntity&lt;String&gt; response = restTemplate.postForEntity(url, requestEntity, String.class);\n            log.debug(&quot;result: {}&quot;, response.getBody());\n            return HttpStatus.OK.equals(response.getStatusCode());\n        }\n\n    \n</code></pre>\n<p>or via OkHttp:</p>\n<pre><code>OkHttpClient client = new OkHttpClient().newBuilder()\n  .build();\nMediaType mediaType = MediaType.parse(&quot;text/plain&quot;);\nRequestBody body = new MultipartBody.Builder().setType(MultipartBody.FORM)\n  .addFormDataPart(&quot;file&quot;,&quot;metadata.json&quot;,\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\n  .addFormDataPart(&quot;metadata&quot;,&quot;metadata.json&quot;,\n    RequestBody.create(MediaType.parse(&quot;application/octet-stream&quot;),\n    new File(&quot;Downloads/tempmetadata.json&quot;)))\n  .build();\nRequest request = new Request.Builder()\n  .url(MYURL)\n  .method(&quot;POST&quot;, body)\n  .build();\nResponse response = client.newCall(request).execute();\n</code></pre>\n"}],"owner":{"account_id":17056266,"reputation":455,"user_id":12340711,"display_name":"riggedCoinflip"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683989105,"creation_date":1683838999,"question_id":76231590,"body_markdown":"I have the following endpoint:\r\n\r\n```java\r\n@PostMapping(value = &quot;/{id}&quot;, consumes = {&quot;multipart/form-data&quot;})\r\n@ResponseStatus(code = HttpStatus.CREATED)\r\npublic ResponseEntity&lt;LocalizedStatusMessage&gt; postFormFileUpload(@PathVariable(value = &quot;id&quot;) String id, @RequestBody Map&lt;String, JsonNode&gt; rawFormValues, @RequestParam(&quot;attachments&quot;) MultipartFile[] attachments) {...}\r\n````\r\nThe endpoint should send a json as well as any number of attachments \r\n\r\nwhich I would like to test using the following test, using `@SpringBootTest` HttpRequestTest:\r\n\r\n```java\r\n@Autowired\r\nprivate TestRestTemplate restTemplate;\r\n\r\npublic void givenMultipartFormData_whenEndpointIsCalled_thenReturn201() {\r\n    String id = &quot;fileTest&quot; //irrelevant\r\n    String content = &quot;{\\&quot;fileTestField}\\&quot;: []}&quot; //irrelevant\r\n    MultipartFile[] attachments = new MultipartFile[]{};\r\n    \r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\r\n\r\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\r\n    body.add(&quot;id&quot;, id);\r\n    body.add(&quot;content&quot;, content);\r\n    for (MultipartFile attachment : attachments) {\r\n        body.add(&quot;attachments&quot;, attachment.getResource());\r\n    }\r\n\r\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\r\n\r\n    String url = domain + port + formPath + &quot;/&quot; + id;\r\n\r\n    ResponseEntity&lt;String&gt; result = restTemplate.postForEntity(url, requestEntity, String.class);\r\n    // THEN return 201 CREATED\r\n    assertEquals(HttpStatus.CREATED, result.getStatusCode());\r\n}\r\n```\r\n\r\nInstead of getting a `201 CREATED`, I receive a `415 UNSUPPORTED_MEDIA_TYPE`.\r\n\r\nWhat am I missing/doing wrong?","title":"415 UNSUPPORTED_MEDIA_TYPE when using SpringBoot HttpRequestTest with multipart/form-data","body":"<p>I have the following endpoint:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(value = &quot;/{id}&quot;, consumes = {&quot;multipart/form-data&quot;})\n@ResponseStatus(code = HttpStatus.CREATED)\npublic ResponseEntity&lt;LocalizedStatusMessage&gt; postFormFileUpload(@PathVariable(value = &quot;id&quot;) String id, @RequestBody Map&lt;String, JsonNode&gt; rawFormValues, @RequestParam(&quot;attachments&quot;) MultipartFile[] attachments) {...}\n</code></pre>\n<p>The endpoint should send a json as well as any number of attachments</p>\n<p>which I would like to test using the following test, using <code>@SpringBootTest</code> HttpRequestTest:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nprivate TestRestTemplate restTemplate;\n\npublic void givenMultipartFormData_whenEndpointIsCalled_thenReturn201() {\n    String id = &quot;fileTest&quot; //irrelevant\n    String content = &quot;{\\&quot;fileTestField}\\&quot;: []}&quot; //irrelevant\n    MultipartFile[] attachments = new MultipartFile[]{};\n    \n    HttpHeaders headers = new HttpHeaders();\n    headers.setContentType(MediaType.MULTIPART_FORM_DATA);\n\n    MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;&gt;();\n    body.add(&quot;id&quot;, id);\n    body.add(&quot;content&quot;, content);\n    for (MultipartFile attachment : attachments) {\n        body.add(&quot;attachments&quot;, attachment.getResource());\n    }\n\n    HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);\n\n    String url = domain + port + formPath + &quot;/&quot; + id;\n\n    ResponseEntity&lt;String&gt; result = restTemplate.postForEntity(url, requestEntity, String.class);\n    // THEN return 201 CREATED\n    assertEquals(HttpStatus.CREATED, result.getStatusCode());\n}\n</code></pre>\n<p>Instead of getting a <code>201 CREATED</code>, I receive a <code>415 UNSUPPORTED_MEDIA_TYPE</code>.</p>\n<p>What am I missing/doing wrong?</p>\n"},{"tags":["java","android","mvvm","navigation","bottomnavigationview"],"owner":{"account_id":28594484,"reputation":1,"user_id":21892972,"display_name":"pezhman sadeghi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683987873,"creation_date":1683985665,"question_id":76243055,"body_markdown":"Hi I have an application which get bottom navigation menu items and data from server. but when I choose each item the data in other&#39;s lost and if I click on another item it&#39;s load again. but when I create a bottom navigation inside app and get data inside them from server with changing fragment data wont lost. \r\n\r\nMy Navigation Drawer: \r\n```\r\nprivate void setUpNavigationDrawer() {\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this,\r\n                binding.drawerLayout,\r\n                R.string.navigation_drawer_open,\r\n                R.string.navigation_drawer_close);\r\n\r\n        binding.mainToolbar.setContentInsetStartWithNavigation(0);\r\n        binding.drawerLayout.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n\r\n        mAppBarConfiguration = new AppBarConfiguration.Builder()\r\n                .setOpenableLayout(binding.drawerLayout)\r\n                .build();\r\n\r\n        // Show and Manage the Drawer and Back Icon\r\n        NavigationUI.setupActionBarWithNavController(\r\n                this, navController, mAppBarConfiguration\r\n        );\r\n        binding.navigationView.setNavigationItemSelectedListener(this::onDrawerMenuItemSelected);\r\n\r\n        navController.addOnDestinationChangedListener(this);\r\n    }\r\n\r\n\r\n    private void selectBottomNavigationItem(Bundle arguments) {\r\n        Menu menus = binding.bottomNav.getMenu();\r\n        currentPageLink = (String) arguments.get(&quot;link&quot;);\r\n        for (int i = 0; i &lt; menus.size(); i++) {\r\n            if (bottomNavItemsDestinationMatches.get(i).equals(currentPageLink)) {\r\n                menus.getItem(i).setChecked(true);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private boolean onBottomNavItemSelected(@NonNull MenuItem item) {\r\n        String link = bottomNavItemsDestinationMatches.get(item.getItemId());\r\n\r\n        if (Objects.equals(link, currentPageLink)) {\r\n            return true;\r\n        }\r\n\r\n        navigateNormal(link, null);\r\n        return true;\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestinationChanged(@NonNull NavController controller,\r\n                                     @NonNull NavDestination destination, @Nullable Bundle arguments) {\r\n        selectBottomNavigationItem(arguments);\r\n        ((AppBarLayout) findViewById(R.id.app_bar)).setExpanded(true, true);\r\n    }\r\n\r\n\r\n    private boolean isTopLevelDestination() {\r\n        try {\r\n            NavBackStackEntry last = navController.getPreviousBackStackEntry();\r\n            boolean isAtLast = last != null &amp;&amp; ((FragmentNavigator.Destination) last.getDestination()).getClassName()\r\n                    .equals(BaseFragment.class.getName());\r\n            boolean isTopLevelDestination = currentPageLink != null &amp;&amp; currentPageLink.replace(&quot;/&quot;, &quot;&quot;)\r\n                    .equalsIgnoreCase(defaultDestination.getLink().replace(&quot;/&quot;, &quot;&quot;));\r\n            return isTopLevelDestination || isAtLast;\r\n        } catch (Exception e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    private void navigateToTopLevelDestinationIfNotInBackStack() {\r\n        for (int id : bottomNavItemsDestinationMatches.keySet()) {\r\n            String link = bottomNavItemsDestinationMatches.get(id);\r\n            if (Objects.equals(link, defaultDestination.getLink())) {\r\n                binding.bottomNav.setSelectedItemId(id);\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\nNow my expample navigation.xml is: \r\n\r\n\r\n```\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/base_fragment&quot;\r\n        android:name=&quot;com.poonehmedia.app.ui.base.BaseFragment&quot;&gt;\r\n        &lt;argument\r\n            android:name=&quot;args&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;false&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/home_fragment&quot;\r\n        android:name=&quot;com.poonehmedia.app.ui.home.HomeFragment&quot;&gt;\r\n        &lt;argument\r\n            android:name=&quot;address&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;false&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n\r\n    &lt;fragment\r\n        android:id=&quot;@+id/profile_fragment&quot;\r\n        android:name=&quot;com.poonehmedia.app.ui.profile.ProfileFragment&quot;\r\n        android:label=&quot;&quot;&gt;\r\n        &lt;action\r\n            android:id=&quot;@+id/action_go_to_order&quot;\r\n            app:destination=&quot;@id/orders_fragment&quot;\r\n            app:enterAnim=&quot;@anim/slide_in_right&quot;\r\n            app:exitAnim=&quot;@anim/slide_out_left&quot;\r\n            app:popEnterAnim=&quot;@anim/slide_in_left&quot;\r\n            app:popExitAnim=&quot;@anim/slide_out_right&quot; /&gt;\r\n        &lt;argument\r\n            android:name=&quot;address&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;false&quot; /&gt;\r\n    &lt;/fragment&gt;\r\n\r\n    &lt;fragment\r\n\r\n```\r\n\r\nso when I click on a bottomNavigation Item finally this function called: \r\n\r\n    private void navigateNormal(String link, Runnable onSuccessOptional) {\r\n        navigator.navigate(this,\r\n                link,\r\n                state -&gt; {\r\n                    if (state instanceof NavigationState.Loading) {\r\n                        navProgress(true);\r\n                    } else if (state instanceof NavigationState.Error) {\r\n                        navProgress(false);\r\n                    } else if (state instanceof NavigationState.Success) {\r\n                        navProgress(false);\r\n                        if (onSuccessOptional != null) {\r\n                            onSuccessOptional.run();\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n\r\n\r\nand my navigator.navigate is: \r\n\r\n     public void navigate(FragmentActivity activity, String link, INavigationState state) {\r\n        try {\r\n            NavController navController = Navigation.findNavController(activity, R.id.main_nav_fragment);\r\n            getDataAndNavigate(navController, link, null, false, false, state);\r\n        } catch (Exception e) {\r\n            Logger.error(TAG, &quot;Could not Naviate: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nand getDataAndNavigate function is: \r\n\r\n     private void getDataAndNavigate(NavController controller, String link, JsonObject postBody,\r\n                                    boolean isPost, boolean isPop, INavigationState state) {\r\n        try {\r\n            if (link == null || link.isEmpty()) {\r\n                state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\r\n                return;\r\n            }\r\n\r\n            // support full path links\r\n            NavigationUrl navigationUrl = resolveLink(link);\r\n\r\n            if (navigationUrl.isExternal()) {\r\n                openUrl(navigationUrl.getLink());\r\n                return;\r\n            }\r\n\r\n            Single&lt;Response&lt;CommonResponse&lt;Object&gt;&gt;&gt; request = resolveRequest(navigationUrl, postBody, isPost);\r\n\r\n            // start showing progress\r\n            state.onNext(new NavigationState.Loading());\r\n\r\n            // resolve url\r\n            disposable = request\r\n                    .observeOn(AndroidSchedulers.mainThread())\r\n                    .subscribeOn(Schedulers.io())\r\n                    .subscribe(response -&gt; {\r\n                        dataController.onSuccess(response);\r\n\r\n\r\n                        NavigationArgs navigationArgs = extractCurrentAction(\r\n                                response.body(),\r\n                                navigationUrl.getLink()\r\n\r\n                        );\r\n\r\n\r\n                        if (navigateTo(controller, navigationArgs, isPop)) {\r\n                            state.onNext(new NavigationState.Success(navigationArgs));\r\n                        } else {\r\n                            state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\r\n                        }\r\n\r\n                    }, throwable -&gt; {\r\n                        dataController.onFailure(throwable);\r\n                        state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\r\n                    });\r\n        } catch (Exception e) {\r\n            Logger.error(TAG, e.getMessage());\r\n            ACRA.getErrorReporter().handleException(new CrashReportException(\r\n                    &quot;An error occurred while fetching next destination data in (NavigationHelper). &quot;, e));\r\n        }\r\n    }\r\n\r\n\r\nI tried above code ... I expect that all bottom navigation item&#39;s state&#39;s saved and on navigation their state wont lost and no need to get data from server again. but each time I navigate to a item it should download data again","title":"BottomNavigation navigate doesn&#39;t save the state","body":"<p>Hi I have an application which get bottom navigation menu items and data from server. but when I choose each item the data in other's lost and if I click on another item it's load again. but when I create a bottom navigation inside app and get data inside them from server with changing fragment data wont lost.</p>\n<p>My Navigation Drawer:</p>\n<pre><code>private void setUpNavigationDrawer() {\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this,\n                binding.drawerLayout,\n                R.string.navigation_drawer_open,\n                R.string.navigation_drawer_close);\n\n        binding.mainToolbar.setContentInsetStartWithNavigation(0);\n        binding.drawerLayout.addDrawerListener(toggle);\n        toggle.syncState();\n\n        mAppBarConfiguration = new AppBarConfiguration.Builder()\n                .setOpenableLayout(binding.drawerLayout)\n                .build();\n\n        // Show and Manage the Drawer and Back Icon\n        NavigationUI.setupActionBarWithNavController(\n                this, navController, mAppBarConfiguration\n        );\n        binding.navigationView.setNavigationItemSelectedListener(this::onDrawerMenuItemSelected);\n\n        navController.addOnDestinationChangedListener(this);\n    }\n\n\n    private void selectBottomNavigationItem(Bundle arguments) {\n        Menu menus = binding.bottomNav.getMenu();\n        currentPageLink = (String) arguments.get(&quot;link&quot;);\n        for (int i = 0; i &lt; menus.size(); i++) {\n            if (bottomNavItemsDestinationMatches.get(i).equals(currentPageLink)) {\n                menus.getItem(i).setChecked(true);\n                break;\n            }\n        }\n    }\n\n\n    private boolean onBottomNavItemSelected(@NonNull MenuItem item) {\n        String link = bottomNavItemsDestinationMatches.get(item.getItemId());\n\n        if (Objects.equals(link, currentPageLink)) {\n            return true;\n        }\n\n        navigateNormal(link, null);\n        return true;\n    }\n\n\n    @Override\n    public void onDestinationChanged(@NonNull NavController controller,\n                                     @NonNull NavDestination destination, @Nullable Bundle arguments) {\n        selectBottomNavigationItem(arguments);\n        ((AppBarLayout) findViewById(R.id.app_bar)).setExpanded(true, true);\n    }\n\n\n    private boolean isTopLevelDestination() {\n        try {\n            NavBackStackEntry last = navController.getPreviousBackStackEntry();\n            boolean isAtLast = last != null &amp;&amp; ((FragmentNavigator.Destination) last.getDestination()).getClassName()\n                    .equals(BaseFragment.class.getName());\n            boolean isTopLevelDestination = currentPageLink != null &amp;&amp; currentPageLink.replace(&quot;/&quot;, &quot;&quot;)\n                    .equalsIgnoreCase(defaultDestination.getLink().replace(&quot;/&quot;, &quot;&quot;));\n            return isTopLevelDestination || isAtLast;\n        } catch (Exception e) {\n            return false;\n        }\n    }\n\n    private void navigateToTopLevelDestinationIfNotInBackStack() {\n        for (int id : bottomNavItemsDestinationMatches.keySet()) {\n            String link = bottomNavItemsDestinationMatches.get(id);\n            if (Objects.equals(link, defaultDestination.getLink())) {\n                binding.bottomNav.setSelectedItemId(id);\n            }\n        }\n\n    }\n</code></pre>\n<p>Now my expample navigation.xml is:</p>\n<pre><code>\n    &lt;fragment\n        android:id=&quot;@+id/base_fragment&quot;\n        android:name=&quot;com.poonehmedia.app.ui.base.BaseFragment&quot;&gt;\n        &lt;argument\n            android:name=&quot;args&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;false&quot; /&gt;\n    &lt;/fragment&gt;\n\n\n    &lt;fragment\n        android:id=&quot;@+id/home_fragment&quot;\n        android:name=&quot;com.poonehmedia.app.ui.home.HomeFragment&quot;&gt;\n        &lt;argument\n            android:name=&quot;address&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;false&quot; /&gt;\n    &lt;/fragment&gt;\n\n\n    &lt;fragment\n        android:id=&quot;@+id/profile_fragment&quot;\n        android:name=&quot;com.poonehmedia.app.ui.profile.ProfileFragment&quot;\n        android:label=&quot;&quot;&gt;\n        &lt;action\n            android:id=&quot;@+id/action_go_to_order&quot;\n            app:destination=&quot;@id/orders_fragment&quot;\n            app:enterAnim=&quot;@anim/slide_in_right&quot;\n            app:exitAnim=&quot;@anim/slide_out_left&quot;\n            app:popEnterAnim=&quot;@anim/slide_in_left&quot;\n            app:popExitAnim=&quot;@anim/slide_out_right&quot; /&gt;\n        &lt;argument\n            android:name=&quot;address&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;false&quot; /&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n\n</code></pre>\n<p>so when I click on a bottomNavigation Item finally this function called:</p>\n<pre><code>private void navigateNormal(String link, Runnable onSuccessOptional) {\n    navigator.navigate(this,\n            link,\n            state -&gt; {\n                if (state instanceof NavigationState.Loading) {\n                    navProgress(true);\n                } else if (state instanceof NavigationState.Error) {\n                    navProgress(false);\n                } else if (state instanceof NavigationState.Success) {\n                    navProgress(false);\n                    if (onSuccessOptional != null) {\n                        onSuccessOptional.run();\n                    }\n                }\n            }\n    );\n}\n</code></pre>\n<p>and my navigator.navigate is:</p>\n<pre><code> public void navigate(FragmentActivity activity, String link, INavigationState state) {\n    try {\n        NavController navController = Navigation.findNavController(activity, R.id.main_nav_fragment);\n        getDataAndNavigate(navController, link, null, false, false, state);\n    } catch (Exception e) {\n        Logger.error(TAG, &quot;Could not Naviate: &quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>and getDataAndNavigate function is:</p>\n<pre><code> private void getDataAndNavigate(NavController controller, String link, JsonObject postBody,\n                                boolean isPost, boolean isPop, INavigationState state) {\n    try {\n        if (link == null || link.isEmpty()) {\n            state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\n            return;\n        }\n\n        // support full path links\n        NavigationUrl navigationUrl = resolveLink(link);\n\n        if (navigationUrl.isExternal()) {\n            openUrl(navigationUrl.getLink());\n            return;\n        }\n\n        Single&lt;Response&lt;CommonResponse&lt;Object&gt;&gt;&gt; request = resolveRequest(navigationUrl, postBody, isPost);\n\n        // start showing progress\n        state.onNext(new NavigationState.Loading());\n\n        // resolve url\n        disposable = request\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribeOn(Schedulers.io())\n                .subscribe(response -&gt; {\n                    dataController.onSuccess(response);\n\n\n                    NavigationArgs navigationArgs = extractCurrentAction(\n                            response.body(),\n                            navigationUrl.getLink()\n\n                    );\n\n\n                    if (navigateTo(controller, navigationArgs, isPop)) {\n                        state.onNext(new NavigationState.Success(navigationArgs));\n                    } else {\n                        state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\n                    }\n\n                }, throwable -&gt; {\n                    dataController.onFailure(throwable);\n                    state.onNext(new NavigationState.Error(context.getString(R.string.error_navigating)));\n                });\n    } catch (Exception e) {\n        Logger.error(TAG, e.getMessage());\n        ACRA.getErrorReporter().handleException(new CrashReportException(\n                &quot;An error occurred while fetching next destination data in (NavigationHelper). &quot;, e));\n    }\n}\n</code></pre>\n<p>I tried above code ... I expect that all bottom navigation item's state's saved and on navigation their state wont lost and no need to get data from server again. but each time I navigate to a item it should download data again</p>\n"},{"tags":["java","elasticsearch","elastic-stack"],"owner":{"account_id":14998174,"reputation":311,"user_id":10927368,"display_name":"Lightsong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683987406,"creation_date":1683987406,"question_id":76243189,"body_markdown":"I am trying to increase the maximum response size allowed when searching with the elastic 8.6 new(ish) java client, but I don&#39;t see the option anywhere.\r\n\r\n\r\nThe search looks like this \r\n```\r\nSearchResponse&lt;MyClass&gt; response = connector.getClient().search(s -&gt; s\r\n                        .index(connector.getIndexName())\r\n                        .query(q -&gt; q\r\n                                .match(t -&gt; t\r\n                                        .field(&quot;whatever&quot;)\r\n                                        .query(query)\r\n                                )\r\n                        )\r\n                        .size(1000)\r\n                MyClass.class\r\n        );\r\n\r\n```\r\n\r\nAnd I found that there&#39;s a ```RequestOptions``` class which allows to set HTTP params, but I don&#39;t see anywhere how to plug it to the Request builder\r\n\r\n```\r\nvar customOptionsBuilder = RequestOptions.DEFAULT.toBuilder();\r\n        customOptionsBuilder.setHttpAsyncResponseConsumerFactory(\r\n                new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(MAX_HTTP_RESPONSE_SIZE)\r\n        );\r\n\r\n        this.customOptions = customOptionsBuilder.build();\r\n\r\n```\r\n\r\nI need to retrieve exactly 1000 results in one sitting, and the response sizes are just a little bit above 100MiB...","title":"How to increase maximum response sizes in the new elastic java client","body":"<p>I am trying to increase the maximum response size allowed when searching with the elastic 8.6 new(ish) java client, but I don't see the option anywhere.</p>\n<p>The search looks like this</p>\n<pre><code>SearchResponse&lt;MyClass&gt; response = connector.getClient().search(s -&gt; s\n                        .index(connector.getIndexName())\n                        .query(q -&gt; q\n                                .match(t -&gt; t\n                                        .field(&quot;whatever&quot;)\n                                        .query(query)\n                                )\n                        )\n                        .size(1000)\n                MyClass.class\n        );\n\n</code></pre>\n<p>And I found that there's a <code>RequestOptions</code> class which allows to set HTTP params, but I don't see anywhere how to plug it to the Request builder</p>\n<pre><code>var customOptionsBuilder = RequestOptions.DEFAULT.toBuilder();\n        customOptionsBuilder.setHttpAsyncResponseConsumerFactory(\n                new HttpAsyncResponseConsumerFactory.HeapBufferedResponseConsumerFactory(MAX_HTTP_RESPONSE_SIZE)\n        );\n\n        this.customOptions = customOptionsBuilder.build();\n\n</code></pre>\n<p>I need to retrieve exactly 1000 results in one sitting, and the response sizes are just a little bit above 100MiB...</p>\n"},{"tags":["java","sdk","fingerprint"],"comments":[{"owner":{"display_name":"user984453"},"score":0,"creation_date":1318008599,"post_id":7285001,"comment_id":9349930,"body_markdown":"There is someone telling about here: http://stackoverflow.com/questions/7690698/applet-with-fingerprint-uareu-dont-capture-reader-events","body":"There is someone telling about here: <a href=\"http://stackoverflow.com/questions/7690698/applet-with-fingerprint-uareu-dont-capture-reader-events\" title=\"applet with fingerprint uareu dont capture reader events\">stackoverflow.com/questions/7690698/&hellip;</a>"},{"owner":{"account_id":463980,"reputation":6162,"user_id":867206,"accept_rate":14,"display_name":"Ajay Takur"},"score":0,"creation_date":1532797512,"post_id":7285001,"comment_id":90112834,"body_markdown":"Please don&#39;t add not working link @user984453","body":"Please don&#39;t add not working link @user984453"}],"answers":[{"tags":[],"owner":{"account_id":906750,"reputation":66,"user_id":941486,"display_name":"JCalfucura"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1315867005,"creation_date":1315867005,"answer_id":7394839,"question_id":7285001,"body_markdown":"Well, what you want to achieve can be a bit hard to do depending on your needs/experience, but having done a biometric matching/enrollment/digital signature system in delphi(client)/java(server) i can summarize the steps as follows:\r\n\r\n1.- The client is an win32 activex (could be a java applet) that can take a fingerprint image and send it to the server for matching or enrollment purposes, the server takes the image and applies a matching function that returns a score, here i recommend you to take a look at some paid options like verifinger, griaule etc. I dont know if it can be done with the UareU One Touch SDK.\r\n\r\n2.- The client is an Activex embedded in the web page as an object (calling an applet is very similar), you just call it with a simple javascript code like &quot;identResult = activexObj.Identify(&lt;parameters&gt;)&quot; or something. The image is sent to the server which in return replies if the fingerprint matches the template stored, comparing the score vs threshold defined as the minimum for matching.\r\n\r\n3.- Probably you will need to do some image processing in the client, like converting your raw image to a compressed format like WSQ, there are no (to my knowledge) java implementations of wsq, so you will have to interface to native code via JNI for this purpose.\r\n\r\n4.- There might be a lot of nuances but i hope this helps you to clarify the situation.\r\nGood Luck\r\nJuan.","title":"integrate digital persona sdk into my application in java","body":"<p>Well, what you want to achieve can be a bit hard to do depending on your needs/experience, but having done a biometric matching/enrollment/digital signature system in delphi(client)/java(server) i can summarize the steps as follows:</p>\n\n<p>1.- The client is an win32 activex (could be a java applet) that can take a fingerprint image and send it to the server for matching or enrollment purposes, the server takes the image and applies a matching function that returns a score, here i recommend you to take a look at some paid options like verifinger, griaule etc. I dont know if it can be done with the UareU One Touch SDK.</p>\n\n<p>2.- The client is an Activex embedded in the web page as an object (calling an applet is very similar), you just call it with a simple javascript code like \"identResult = activexObj.Identify()\" or something. The image is sent to the server which in return replies if the fingerprint matches the template stored, comparing the score vs threshold defined as the minimum for matching.</p>\n\n<p>3.- Probably you will need to do some image processing in the client, like converting your raw image to a compressed format like WSQ, there are no (to my knowledge) java implementations of wsq, so you will have to interface to native code via JNI for this purpose.</p>\n\n<p>4.- There might be a lot of nuances but i hope this helps you to clarify the situation.\nGood Luck\nJuan.</p>\n"},{"tags":[],"owner":{"account_id":28594600,"reputation":16,"user_id":21893068,"display_name":"Jaco foran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683987117,"creation_date":1683986877,"answer_id":76243148,"question_id":7285001,"body_markdown":"    switch (irq_type) {\r\n        case IRQDATA_SCANPWR_ON:\r\n            updateStatus(Status.SCANNER_POWERED_ON);\r\n            reader.awaitFinger();\r\n            updateStatus(Status.READY_TO_SCAN);\r\n            break;\r\n        case IRQDATA_FINGER_ON:\r\n            updateStatus(Status.FINGER_DETECTED);\r\n            UruImage img = reader.captureFinger(data_endpoint);\r\n            sendImage(img);\r\n            break;\r\n        case IRQDATA_FINGER_OFF:\r\n            updateStatus(Status.FINGER_LIFTED);\r\n            reader.turnScannerOff();\r\n            updateStatus(Status.SCANNER_POWERED_OFF);\r\n            listen = false;\r\n            break;\r\n        default:\r\n            break;\r\n    }\r\n\r\ntry this android app:\r\nhttps://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\r\n\r\nfor more info:\r\nhttp://digital.persona.sdk.android.brainwaveappstudio.com/","title":"integrate digital persona sdk into my application in java","body":"<pre><code>switch (irq_type) {\n    case IRQDATA_SCANPWR_ON:\n        updateStatus(Status.SCANNER_POWERED_ON);\n        reader.awaitFinger();\n        updateStatus(Status.READY_TO_SCAN);\n        break;\n    case IRQDATA_FINGER_ON:\n        updateStatus(Status.FINGER_DETECTED);\n        UruImage img = reader.captureFinger(data_endpoint);\n        sendImage(img);\n        break;\n    case IRQDATA_FINGER_OFF:\n        updateStatus(Status.FINGER_LIFTED);\n        reader.turnScannerOff();\n        updateStatus(Status.SCANNER_POWERED_OFF);\n        listen = false;\n        break;\n    default:\n        break;\n}\n</code></pre>\n<p>try this android app:\n<a href=\"https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona</a></p>\n<p>for more info:\n<a href=\"http://digital.persona.sdk.android.brainwaveappstudio.com/\" rel=\"nofollow noreferrer\">http://digital.persona.sdk.android.brainwaveappstudio.com/</a></p>\n"}],"owner":{"display_name":"user918477"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3601,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":7394839,"answer_count":2,"score":0,"last_activity_date":1683987117,"creation_date":1314973953,"question_id":7285001,"body_markdown":"I need urgent help, after googling a lot since last 3-4 weeks. I only able to figure out that, i can use digital persona sdk on my web application, which i am trying to make in java. \r\n                  &lt;p&gt;Since, hardware for **fingerprint reader (Digital Persona Personal)** has already been installed in my system. And, i&#39;m trying to use same hardware for my web application. But, how can i embed it in my application, don&#39;t know. &lt;/p&gt;\r\n                 &lt;p&gt;I&#39;m assuming that, fingerprint reader (Digital Persona Personal) will be installed in client side.  &lt;/p&gt;\r\n\r\nI need everyone help, anybody know.. i&#39;ll appreciate !! ","title":"integrate digital persona sdk into my application in java","body":"<p>I need urgent help, after googling a lot since last 3-4 weeks. I only able to figure out that, i can use digital persona sdk on my web application, which i am trying to make in java. \n                  <p>Since, hardware for <strong>fingerprint reader (Digital Persona Personal)</strong> has already been installed in my system. And, i'm trying to use same hardware for my web application. But, how can i embed it in my application, don't know. </p>\n                 <p>I'm assuming that, fingerprint reader (Digital Persona Personal) will be installed in client side.  </p></p>\n\n<p>I need everyone help, anybody know.. i'll appreciate !! </p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683854004,"creation_date":1683853685,"answer_id":76232519,"question_id":76232336,"body_markdown":"Two consumers within a group cannot read the same partition at once. You will need to verify records are written to both partitions and not batched together, which is the console producer default behavior for small record batches\r\n\r\nUse GetOffsetShell tool to inspect how many offsets (approximately, number of records) each partition has. You can also use `kafka-consumer-groups` command to see lag for the group. If you see all partitions have zero lag, then you&#39;ve consumed all the records in the topic with all consumers (take note that one partition may have a start and end offset of the same value, which GetOffsetShell would show as well, meaning that partition is empty, thereby explaining why only one consumer prints any data). ","title":"Kafka consumer group is not consuming messages from all the consumers","body":"<p>Two consumers within a group cannot read the same partition at once. You will need to verify records are written to both partitions and not batched together, which is the console producer default behavior for small record batches</p>\n<p>Use GetOffsetShell tool to inspect how many offsets (approximately, number of records) each partition has. You can also use <code>kafka-consumer-groups</code> command to see lag for the group. If you see all partitions have zero lag, then you've consumed all the records in the topic with all consumers (take note that one partition may have a start and end offset of the same value, which GetOffsetShell would show as well, meaning that partition is empty, thereby explaining why only one consumer prints any data).</p>\n"},{"tags":[],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683986969,"creation_date":1683923457,"answer_id":76239762,"question_id":76232336,"body_markdown":"Kafka has the default batch size of 16384(bytes), once we start produce enough messages to fill that buffer size then it will change partition. \r\n\r\nstarting from kafka2.4 the default partitioned has changed from round robin to [sticky][1] \r\n\r\nSo I override the property like this it worked. \r\n\r\n`C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --broker-list localhost:9092 --batch-size=1 --topic test32` \r\n\r\nand we can also produce messages to a particular partition by specifying partitions ids like below:\r\n\r\n`C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --bootstrap-server localhost:9092 --topic test32 -property &quot;parse.key=true&quot; -property &quot;key.separator=:&quot;`\r\n\r\n`0:test`\r\n`1:test2`\r\n\r\nwhere `0` and `1` are the partition ids and `test`, `test2` are values. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://www.confluent.io/blog/apache-kafka-producer-improvements-sticky-partitioner/\r\n  [2]: https://i.stack.imgur.com/C6aZO.png","title":"Kafka consumer group is not consuming messages from all the consumers","body":"<p>Kafka has the default batch size of 16384(bytes), once we start produce enough messages to fill that buffer size then it will change partition.</p>\n<p>starting from kafka2.4 the default partitioned has changed from round robin to <a href=\"https://www.confluent.io/blog/apache-kafka-producer-improvements-sticky-partitioner/\" rel=\"nofollow noreferrer\">sticky</a></p>\n<p>So I override the property like this it worked.</p>\n<p><code>C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --broker-list localhost:9092 --batch-size=1 --topic test32</code></p>\n<p>and we can also produce messages to a particular partition by specifying partitions ids like below:</p>\n<p><code>C:\\kafka\\bin\\windows&gt;kafka-console-producer.bat --bootstrap-server localhost:9092 --topic test32 -property &quot;parse.key=true&quot; -property &quot;key.separator=:&quot;</code></p>\n<p><code>0:test</code>\n<code>1:test2</code></p>\n<p>where <code>0</code> and <code>1</code> are the partition ids and <code>test</code>, <code>test2</code> are values.</p>\n<p><a href=\"https://i.stack.imgur.com/C6aZO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C6aZO.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":20986281,"reputation":25,"user_id":15420009,"display_name":"Dev9321"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1683986969,"creation_date":1683849976,"question_id":76232336,"body_markdown":"I created kafka topic with partitions and replication factor \r\n\r\n[![enter image description here](https://i.stack.imgur.com/X4Ms7.png)](https://i.stack.imgur.com/X4Ms7.png)\r\n\r\nThen I started producing messages, with my producer \r\n\r\n[![enter image description here](https://i.stack.imgur.com/cfjBQ.png)](https://i.stack.imgur.com/cfjBQ.png)\r\n\r\nI started two consumers with help of consumer groups parallely. \r\n\r\n[![enter image description here](https://i.stack.imgur.com/Dhlqy.png)](https://i.stack.imgur.com/Dhlqy.png)\r\n\r\n when I stopped one consumer, the other consumer starts working.\r\n\r\nI&#39;m suspecting that default configuration when I downloading kafka is misleading me.\r\n\r\nI expect all my consumers need to receive messages concurrently. ","title":"Kafka consumer group is not consuming messages from all the consumers","body":"<p>I created kafka topic with partitions and replication factor</p>\n<p><a href=\"https://i.stack.imgur.com/X4Ms7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X4Ms7.png\" alt=\"enter image description here\" /></a></p>\n<p>Then I started producing messages, with my producer</p>\n<p><a href=\"https://i.stack.imgur.com/cfjBQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cfjBQ.png\" alt=\"enter image description here\" /></a></p>\n<p>I started two consumers with help of consumer groups parallely.</p>\n<p><a href=\"https://i.stack.imgur.com/Dhlqy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Dhlqy.png\" alt=\"enter image description here\" /></a></p>\n<p>when I stopped one consumer, the other consumer starts working.</p>\n<p>I'm suspecting that default configuration when I downloading kafka is misleading me.</p>\n<p>I expect all my consumers need to receive messages concurrently.</p>\n"},{"tags":["java","junit","automated-tests","classpath","randoop"],"owner":{"account_id":28594342,"reputation":11,"user_id":21892859,"display_name":"maverick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1683986582,"creation_date":1683986513,"question_id":76243120,"body_markdown":"Currently, I am working on a project that requires me to utilize the Randoop tool to generate tests for a testjar named TEST.jar. To achieve this, I need to dynamically create a classpath consisting of jars from a directory named ABC, which contains thousands of jars. \r\nCommand to generate test on TEST.jar-&gt;\r\n```\r\njava -classpath myclasspath:${RANDOOP_JAR} randoop.main.Main gentests --testjar=TEST.jar --output-limit=100\r\n```\r\nHere, RANDOOP_JAR is path of randoop-all-4.3.2.jar\r\nmyclasspath= Classpath required for generating test on TEST.jar. Basically It is a list of path of jar present in ABC directory. \r\n\r\nI ran above command and it threw java.lang.NoClassDefFoundError and then I used shellscript to find the jar in ABC directory having that class. \r\nShellscript: \r\n```\r\nfor i in $(ls -R ABC/*.jar);do jar -tvf $i | grep missing-class &amp;&amp; echo $i;done\r\n```\r\nHere missing-class refers to a class that was not found by the Java Virtual Machine (JVM) at runtime, resulting in a java.lang.NoClassDefFoundError.\r\n\r\nAbove is basically naive and also time consuming.\r\n\r\nMy problem is that-&gt; Is their any tool or method so that myclasspath can be discovered automatically.\r\nI need a tool or method in which I can pass the TEST.jar and ABC directory as input and its output is list of jars(myclasspath).","title":"Discovering the classpath for a testjar automatically, allowing the Randoop tool to generate Junit tests for the testjar","body":"<p>Currently, I am working on a project that requires me to utilize the Randoop tool to generate tests for a testjar named TEST.jar. To achieve this, I need to dynamically create a classpath consisting of jars from a directory named ABC, which contains thousands of jars.\nCommand to generate test on TEST.jar-&gt;</p>\n<pre><code>java -classpath myclasspath:${RANDOOP_JAR} randoop.main.Main gentests --testjar=TEST.jar --output-limit=100\n</code></pre>\n<p>Here, RANDOOP_JAR is path of randoop-all-4.3.2.jar\nmyclasspath= Classpath required for generating test on TEST.jar. Basically It is a list of path of jar present in ABC directory.</p>\n<p>I ran above command and it threw java.lang.NoClassDefFoundError and then I used shellscript to find the jar in ABC directory having that class.\nShellscript:</p>\n<pre><code>for i in $(ls -R ABC/*.jar);do jar -tvf $i | grep missing-class &amp;&amp; echo $i;done\n</code></pre>\n<p>Here missing-class refers to a class that was not found by the Java Virtual Machine (JVM) at runtime, resulting in a java.lang.NoClassDefFoundError.</p>\n<p>Above is basically naive and also time consuming.</p>\n<p>My problem is that-&gt; Is their any tool or method so that myclasspath can be discovered automatically.\nI need a tool or method in which I can pass the TEST.jar and ABC directory as input and its output is list of jars(myclasspath).</p>\n"},{"tags":["java","jira","jql","jira-rest-java-api"],"answers":[{"tags":[],"owner":{"account_id":255184,"reputation":7191,"user_id":535060,"accept_rate":94,"display_name":"Somaiah Kumbera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1463050463,"creation_date":1463050463,"answer_id":37184837,"question_id":37161494,"body_markdown":"Use this function, which accepts 4 params:\r\n\r\n[Jira rest API searchRestClient.searchJql][1]\r\n\r\nNow you can set the maxResults value. Since you are not setting it, it is defaulting to 50\r\n\r\n\r\n  [1]: https://docs.atlassian.com/jira-rest-java-client-parent/2.0.0-m8/apidocs/com/atlassian/jira/rest/client/api/SearchRestClient.html#searchJql(java.lang.String,%20java.lang.Integer,%20java.lang.Integer,%20java.lang.String)","title":"Jira REST Java Client get all issues using searchJql","body":"<p>Use this function, which accepts 4 params:</p>\n\n<p><a href=\"https://docs.atlassian.com/jira-rest-java-client-parent/2.0.0-m8/apidocs/com/atlassian/jira/rest/client/api/SearchRestClient.html#searchJql(java.lang.String,%20java.lang.Integer,%20java.lang.Integer,%20java.lang.String)\" rel=\"nofollow\">Jira rest API searchRestClient.searchJql</a></p>\n\n<p>Now you can set the maxResults value. Since you are not setting it, it is defaulting to 50</p>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683986457,"creation_date":1683984500,"answer_id":76242975,"question_id":37161494,"body_markdown":"searchJql (in v 5.2.5) has this signature:\r\n\r\n```\r\nsearchJql(String jql, Integer maxResults, Integer startAt, Set&lt;String&gt; fields)\r\n```\r\nIf `maxResults` is null, a default value is assumed which seems to be 50. If `maxResults` is specified, it still possible that the Jira instance is configured to never return more then a predefined number of results. \r\n\r\nThis means that you need to examine the value `SearchResult.total` and repeatedly execute `searchJql` while bumping up `startAt`.     ","title":"Jira REST Java Client get all issues using searchJql","body":"<p>searchJql (in v 5.2.5) has this signature:</p>\n<pre><code>searchJql(String jql, Integer maxResults, Integer startAt, Set&lt;String&gt; fields)\n</code></pre>\n<p>If <code>maxResults</code> is null, a default value is assumed which seems to be 50. If <code>maxResults</code> is specified, it still possible that the Jira instance is configured to never return more then a predefined number of results.</p>\n<p>This means that you need to examine the value <code>SearchResult.total</code> and repeatedly execute <code>searchJql</code> while bumping up <code>startAt</code>.</p>\n"}],"owner":{"display_name":"user3693913"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3478,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":37184837,"answer_count":2,"score":1,"last_activity_date":1683986457,"creation_date":1462966679,"question_id":37161494,"body_markdown":"I am trying to get all issues from the project using JQL query but get only 50, I know that it is a problem, but how I can figure out with it?\r\n\r\n    Promise&lt;SearchResult&gt; searchJqlPromiseTest = client.getSearchClient().searchJql(&quot;project = UARECR &quot;);\r\n    for (Issue issue : searchJqlPromiseTest.claim().getIssues()) {\r\n        System.out.println(issue.getId());\r\n    }\r\n","title":"Jira REST Java Client get all issues using searchJql","body":"<p>I am trying to get all issues from the project using JQL query but get only 50, I know that it is a problem, but how I can figure out with it?</p>\n\n<pre><code>Promise&lt;SearchResult&gt; searchJqlPromiseTest = client.getSearchClient().searchJql(\"project = UARECR \");\nfor (Issue issue : searchJqlPromiseTest.claim().getIssues()) {\n    System.out.println(issue.getId());\n}\n</code></pre>\n"},{"tags":["java","android","reverse-engineering","frida","java-native-library"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1609416878,"post_id":65513492,"comment_id":115838390,"body_markdown":"So you have an app that obviously contains no native libraries and you find no native calls but you are still sure that it uses at least native library - why? Also make sure you have a full app APK, modern apps are distributed by Google in form of multiple APK files,  one for the code, one for the native libs, one for the language specific strings,...","body":"So you have an app that obviously contains no native libraries and you find no native calls but you are still sure that it uses at least native library - why? Also make sure you have a full app APK, modern apps are distributed by Google in form of multiple APK files,  one for the code, one for the native libs, one for the language specific strings,..."},{"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"score":0,"creation_date":1609429828,"post_id":65513492,"comment_id":115842596,"body_markdown":"i did find the native calls and they are being called but a apk from playstore can be without librarys and can it use another apk libs?","body":"i did find the native calls and they are being called but a apk from playstore can be without librarys and can it use another apk libs?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1609432175,"post_id":65513492,"comment_id":115843340,"body_markdown":"@technically the libraries can be downloaded and then loaded. Or the libraries are contained within the APK files or an OBB files but obfuscated or in a different path so that you don&#39;t identify them as libraries.","body":"@technically the libraries can be downloaded and then loaded. Or the libraries are contained within the APK files or an OBB files but obfuscated or in a different path so that you don&#39;t identify them as libraries."}],"answers":[{"tags":[],"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609407037,"creation_date":1609407037,"answer_id":65519035,"question_id":65513492,"body_markdown":"If I understood well you want to find native function name that is called BY Java?\r\n\r\n 1. list all calls to System.loadLibrary() to detect all libraries\r\n 2. using IDA Pro (or one of its alternatives here: https://reverseengineering.stackexchange.com/questions/1817/is-there-any-disassembler-to-rival-ida-pro) check for all methods starting with &quot;Java_....&quot;\r\n\r\nThe theory behind this is that all native methods should start with &quot;Java_&quot; and continue by the rest of package name.\r\n\r\nFor example:\r\n\r\n    Java_com_foobar_main_test(...);\r\n\r\nrapresents a method &quot;test()&quot; in packagename &quot;com.foobar&quot; and classfile &quot;main&quot;.\r\nOverloaded methods could have their signature after the method name like:\r\n\r\n    Java_com_foobar_main_test__Ljava_lang_String_I(..., jstring text, jint integer);\r\n\r\nbut the concept remains the same as before.\r\n\r\nIf you want to know which Java method is called by a specific native method, then you have to find &quot;GetMethodID(..)&quot; or &quot;GetStaticMethodID(..)&quot; from native code and check the string as 3rd argument: it&#39;s the name of Java method.","title":"how to find the native c++ function who called a java method in a android app and in which library?","body":"<p>If I understood well you want to find native function name that is called BY Java?</p>\n<ol>\n<li>list all calls to System.loadLibrary() to detect all libraries</li>\n<li>using IDA Pro (or one of its alternatives here: <a href=\"https://reverseengineering.stackexchange.com/questions/1817/is-there-any-disassembler-to-rival-ida-pro\">https://reverseengineering.stackexchange.com/questions/1817/is-there-any-disassembler-to-rival-ida-pro</a>) check for all methods starting with &quot;Java_....&quot;</li>\n</ol>\n<p>The theory behind this is that all native methods should start with &quot;Java_&quot; and continue by the rest of package name.</p>\n<p>For example:</p>\n<pre><code>Java_com_foobar_main_test(...);\n</code></pre>\n<p>rapresents a method &quot;test()&quot; in packagename &quot;com.foobar&quot; and classfile &quot;main&quot;.\nOverloaded methods could have their signature after the method name like:</p>\n<pre><code>Java_com_foobar_main_test__Ljava_lang_String_I(..., jstring text, jint integer);\n</code></pre>\n<p>but the concept remains the same as before.</p>\n<p>If you want to know which Java method is called by a specific native method, then you have to find &quot;GetMethodID(..)&quot; or &quot;GetStaticMethodID(..)&quot; from native code and check the string as 3rd argument: it's the name of Java method.</p>\n"},{"tags":[],"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683986119,"creation_date":1683986119,"answer_id":76243092,"question_id":65513492,"body_markdown":"my skills have advanced since this question so hopefully someone finds this helpful\r\n\r\nsadly there is no way to get a java traceback using frida that includes C++ functions however there is better solutions but before that how is a java function get called from native layer?\r\n\r\nfirst a method id of the java method is fetched using the jni function &quot;GetMethodID&quot; which returns a unique integer relative to the method \r\nthen the methodid and the method javaobject which the method will called on is passed to one of these functions depending on the return value of the java method for example if the java returns void &quot;callVoidMethod&quot; will be called and so on\r\n[![][1]][1]\r\nthe idea here is to hook getmethodid and log the params as the method signature will be passed as string\r\n\r\n\r\nsecond solution is to emulate the so library inside a android so emulator and to print the debug log there currently 2 emus capable of doing this \r\n - [unidbg][2]\r\n - [ExandroidNativeEmu][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G9vJr.png\r\n  [2]: https://github.com/zhkl0228/unidbg\r\n  [3]: https://github.com/maiyao1988/ExAndroidNativeEmu","title":"how to find the native c++ function who called a java method in a android app and in which library?","body":"<p>my skills have advanced since this question so hopefully someone finds this helpful</p>\n<p>sadly there is no way to get a java traceback using frida that includes C++ functions however there is better solutions but before that how is a java function get called from native layer?</p>\n<p>first a method id of the java method is fetched using the jni function &quot;GetMethodID&quot; which returns a unique integer relative to the method\nthen the methodid and the method javaobject which the method will called on is passed to one of these functions depending on the return value of the java method for example if the java returns void &quot;callVoidMethod&quot; will be called and so on\n<a href=\"https://i.stack.imgur.com/G9vJr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G9vJr.png\" alt=\"\" /></a>\nthe idea here is to hook getmethodid and log the params as the method signature will be passed as string</p>\n<p>second solution is to emulate the so library inside a android so emulator and to print the debug log there currently 2 emus capable of doing this</p>\n<ul>\n<li><a href=\"https://github.com/zhkl0228/unidbg\" rel=\"nofollow noreferrer\">unidbg</a></li>\n<li><a href=\"https://github.com/maiyao1988/ExAndroidNativeEmu\" rel=\"nofollow noreferrer\">ExandroidNativeEmu</a></li>\n</ul>\n"}],"owner":{"account_id":16409901,"reputation":191,"user_id":11853491,"display_name":"ahmed mani"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76243092,"answer_count":2,"score":0,"last_activity_date":1683986119,"creation_date":1609361793,"question_id":65513492,"body_markdown":"im reverse engineering a app (with the permission of the dev) and im still new to this but is it possible to get the name of the native function thats calling a java method? and in which library?? i know for sure the native functions are being called yet if i try to intercept the library using frida i get a error saying that frida cant find the library i decompiled the apk using jd-gui and i couldnt find the library in the libs folder i tried to intercept the System.loadLibrary() but the app crashes with invalid address error yet i did find a library being loaded by the app if i enumertae loaded modules using frida i dont find that library name and its also not found in the libs folder is there a way to specify a native library path in java? and how can the app load librarys yet frida cant see them?? ","title":"how to find the native c++ function who called a java method in a android app and in which library?","body":"<p>im reverse engineering a app (with the permission of the dev) and im still new to this but is it possible to get the name of the native function thats calling a java method? and in which library?? i know for sure the native functions are being called yet if i try to intercept the library using frida i get a error saying that frida cant find the library i decompiled the apk using jd-gui and i couldnt find the library in the libs folder i tried to intercept the System.loadLibrary() but the app crashes with invalid address error yet i did find a library being loaded by the app if i enumertae loaded modules using frida i dont find that library name and its also not found in the libs folder is there a way to specify a native library path in java? and how can the app load librarys yet frida cant see them??</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1683985900,"post_id":76242239,"comment_id":134452081,"body_markdown":"Most likely you need to redownload the google-service.json file and add the updated version to your app. If you tried doing that, edit your question to show the steps you took for it.","body":"Most likely you need to redownload the google-service.json file and add the updated version to your app. If you tried doing that, edit your question to show the steps you took for it."}],"owner":{"account_id":21383109,"reputation":101,"user_id":15748687,"display_name":"Shital Ghimire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1683974144,"answer_count":0,"score":0,"last_activity_date":1683985728,"creation_date":1683973651,"question_id":76242239,"body_markdown":"pc_0 - Firebase Database connection was forcefully killed by the server. Will not attempt reconnect. Reason: Firebase error. Please ensure that you have the URL of your Firebase Realtime Database instance configured correctly.\r\n\r\n\r\nI created the database after connecting the app to firebase from the firebase assistant of android studio.\r\n\r\nI tried to change the URL, but I searched everywhere and I couldn&#39;t find the URL to change it.","title":"I am new to firebase. When I try to Upload data to firebase, I&#39;m getting an error","body":"<p>pc_0 - Firebase Database connection was forcefully killed by the server. Will not attempt reconnect. Reason: Firebase error. Please ensure that you have the URL of your Firebase Realtime Database instance configured correctly.</p>\n<p>I created the database after connecting the app to firebase from the firebase assistant of android studio.</p>\n<p>I tried to change the URL, but I searched everywhere and I couldn't find the URL to change it.</p>\n"},{"tags":["java","database","database-connection","h2"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1683421224,"post_id":76191171,"comment_id":134364171,"body_markdown":"What is &quot;SQLight&quot;?","body":"What is &quot;SQLight&quot;?"}],"owner":{"account_id":28320922,"reputation":1,"user_id":21656737,"display_name":"Tiiita"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683985161,"creation_date":1683407673,"question_id":76191171,"body_markdown":"I have a problem! I wanted to make a project with H2. I added the dependency in my pom.xml:\r\n```\r\n &lt;dependency&gt;\r\n     &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n     &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n     &lt;version&gt;1.4.200&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nThis is my code to connect:\r\n\r\n```\r\npublic H2(Plugin plugin) {\r\n        this.plugin = plugin;\r\n        this.databaseFile = plugin.getDataFolder().getAbsolutePath() + File.separator + &quot;database&quot;;\r\n\r\n        connect();\r\n        try {\r\n            initDb();\r\n        } catch (SQLException | IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    public void connect() {\r\n        try {\r\n            config.setJdbcUrl(&quot;jdbc:h2:&quot; + databaseFile);\r\n            dataSource = new HikariDataSource(config);\r\n            dataSource.getConnection();\r\n            plugin.getLogger().log(Level.INFO, &quot;Successfully connected to H2 database!&quot;);\r\n        } catch (SQLException e) {\r\n            plugin.getLogger().log(Level.INFO, &quot;Cannot connect to H2 database! Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    public void close() {\r\n        try {\r\n            if (connection != null) {\r\n                connection.close();\r\n                plugin.getLogger().log(Level.INFO, &quot;The H2 database connection has been closed!&quot;);\r\n            }\r\n        } catch (SQLException e) {\r\n            plugin.getLogger().log(Level.INFO, &quot;Cannot close H2 database connection! Error: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\n    private void initDb() throws SQLException, IOException {\r\n        // check if database file exists\r\n        Path path = Paths.get(databaseFile + &quot;.mv.db&quot;);\r\n        if (!Files.exists(path)) {\r\n            plugin.getLogger().log(Level.INFO, &quot;Creating new H2 database file: &quot; + databaseFile);\r\n            Files.createFile(path);\r\n        }\r\n\r\n        // read database setup file\r\n        String setup;\r\n        try (InputStream in = getClass().getClassLoader().getResourceAsStream(&quot;dbsetup.sql&quot;)) {\r\n            setup = new BufferedReader(new InputStreamReader(in)).lines().collect(Collectors.joining(&quot;\\n&quot;));\r\n        } catch (IOException e) {\r\n            plugin.getLogger().log(Level.SEVERE, &quot;Could not read H2 database setup file.&quot;, e);\r\n            throw e;\r\n        }\r\n\r\n        // split setup file into queries\r\n        String[] queries = setup.split(&quot;;&quot;);\r\n\r\n        // execute each query\r\n        for (String query : queries) {\r\n            if (query.isEmpty()) continue;\r\n            try (Connection conn = dataSource.getConnection();\r\n                 PreparedStatement stmt = conn.prepareStatement(query)) {\r\n                stmt.execute();\r\n            }\r\n        }\r\n        plugin.getLogger().info(&quot;H2 database setup complete.&quot;);\r\n    }\r\n```\r\nBut if I load my project I do get this error:\r\n```\r\n[23:03:05 WARN]: Exception encountered when loading plugin: EaroBot\r\njava.lang.RuntimeException: Failed to get driver instance for jdbcUrl=jdbc:h2:/home/proxy/plugins/EaroBot/database\r\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:114) ~[?:?]\r\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[?:?]\r\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[?:?]\r\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[?:?]\r\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) ~[?:?]\r\n        at de.tiiita.earobot.util.database.H2.connect(H2.java:43) ~[?:?]\r\n        at de.tiiita.earobot.util.database.H2.&lt;init&gt;(H2.java:32) ~[?:?]\r\n        at de.tiiita.earobot.EaroBot.onEnable(EaroBot.java:44) ~[?:?]\r\n        at net.md_5.bungee.api.plugin.PluginManager.enablePlugins(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\n        at net.md_5.bungee.BungeeCord.start(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\n        at net.md_5.bungee.BungeeCordLauncher.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\n        at net.md_5.bungee.Bootstrap.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\r\nCaused by: java.sql.SQLException: No suitable driver\r\n        at java.sql.DriverManager.getDriver(DriverManager.java:315) ~[?:1.8.0_352]\r\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:106) ~[?:?]\r\n        ... 11 more\r\n```\r\nI expect that the plugin runs and my h2 class connects to the h2 database. I really dont know what why I get this error. Java should find the driver because I add it with the dependency!","title":"H2 / SQLiteDriver not found","body":"<p>I have a problem! I wanted to make a project with H2. I added the dependency in my pom.xml:</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n     &lt;artifactId&gt;h2&lt;/artifactId&gt;\n     &lt;version&gt;1.4.200&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is my code to connect:</p>\n<pre><code>public H2(Plugin plugin) {\n        this.plugin = plugin;\n        this.databaseFile = plugin.getDataFolder().getAbsolutePath() + File.separator + &quot;database&quot;;\n\n        connect();\n        try {\n            initDb();\n        } catch (SQLException | IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void connect() {\n        try {\n            config.setJdbcUrl(&quot;jdbc:h2:&quot; + databaseFile);\n            dataSource = new HikariDataSource(config);\n            dataSource.getConnection();\n            plugin.getLogger().log(Level.INFO, &quot;Successfully connected to H2 database!&quot;);\n        } catch (SQLException e) {\n            plugin.getLogger().log(Level.INFO, &quot;Cannot connect to H2 database! Error: &quot; + e.getMessage());\n        }\n    }\n\n    public void close() {\n        try {\n            if (connection != null) {\n                connection.close();\n                plugin.getLogger().log(Level.INFO, &quot;The H2 database connection has been closed!&quot;);\n            }\n        } catch (SQLException e) {\n            plugin.getLogger().log(Level.INFO, &quot;Cannot close H2 database connection! Error: &quot; + e.getMessage());\n        }\n    }\n\n    private void initDb() throws SQLException, IOException {\n        // check if database file exists\n        Path path = Paths.get(databaseFile + &quot;.mv.db&quot;);\n        if (!Files.exists(path)) {\n            plugin.getLogger().log(Level.INFO, &quot;Creating new H2 database file: &quot; + databaseFile);\n            Files.createFile(path);\n        }\n\n        // read database setup file\n        String setup;\n        try (InputStream in = getClass().getClassLoader().getResourceAsStream(&quot;dbsetup.sql&quot;)) {\n            setup = new BufferedReader(new InputStreamReader(in)).lines().collect(Collectors.joining(&quot;\\n&quot;));\n        } catch (IOException e) {\n            plugin.getLogger().log(Level.SEVERE, &quot;Could not read H2 database setup file.&quot;, e);\n            throw e;\n        }\n\n        // split setup file into queries\n        String[] queries = setup.split(&quot;;&quot;);\n\n        // execute each query\n        for (String query : queries) {\n            if (query.isEmpty()) continue;\n            try (Connection conn = dataSource.getConnection();\n                 PreparedStatement stmt = conn.prepareStatement(query)) {\n                stmt.execute();\n            }\n        }\n        plugin.getLogger().info(&quot;H2 database setup complete.&quot;);\n    }\n</code></pre>\n<p>But if I load my project I do get this error:</p>\n<pre><code>[23:03:05 WARN]: Exception encountered when loading plugin: EaroBot\njava.lang.RuntimeException: Failed to get driver instance for jdbcUrl=jdbc:h2:/home/proxy/plugins/EaroBot/database\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:114) ~[?:?]\n        at com.zaxxer.hikari.pool.PoolBase.initializeDataSource(PoolBase.java:331) ~[?:?]\n        at com.zaxxer.hikari.pool.PoolBase.&lt;init&gt;(PoolBase.java:114) ~[?:?]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:108) ~[?:?]\n        at com.zaxxer.hikari.HikariDataSource.&lt;init&gt;(HikariDataSource.java:81) ~[?:?]\n        at de.tiiita.earobot.util.database.H2.connect(H2.java:43) ~[?:?]\n        at de.tiiita.earobot.util.database.H2.&lt;init&gt;(H2.java:32) ~[?:?]\n        at de.tiiita.earobot.EaroBot.onEnable(EaroBot.java:44) ~[?:?]\n        at net.md_5.bungee.api.plugin.PluginManager.enablePlugins(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\n        at net.md_5.bungee.BungeeCord.start(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\n        at net.md_5.bungee.BungeeCordLauncher.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\n        at net.md_5.bungee.Bootstrap.main(Unknown Source) ~[XCord.jar:git:Travertine-Bootstrap:1.19-R0.1-SNAPSHOT:a6b102d:unknown]\nCaused by: java.sql.SQLException: No suitable driver\n        at java.sql.DriverManager.getDriver(DriverManager.java:315) ~[?:1.8.0_352]\n        at com.zaxxer.hikari.util.DriverDataSource.&lt;init&gt;(DriverDataSource.java:106) ~[?:?]\n        ... 11 more\n</code></pre>\n<p>I expect that the plugin runs and my h2 class connects to the h2 database. I really dont know what why I get this error. Java should find the driver because I add it with the dependency!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"score":0,"creation_date":1683982836,"post_id":76242840,"comment_id":134451736,"body_markdown":"where is ```drawerLayout``` in your xml ? issue is occuring because of it as in your layout , there is no ```drawerLayout```","body":"where is <code>drawerLayout</code> in your xml ? issue is occuring because of it as in your layout , there is no <code>drawerLayout</code>"}],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683984307,"creation_date":1683984307,"answer_id":76242959,"question_id":76242840,"body_markdown":"As per your code , it looks like some issue with layout file use . In Activity , you have used ```R.layout.activity_main ``` and code you have pasted here is ```activity_navigationdrawer.xml```  so kindly replace ```R.layout.activity_main``` with ```R.layout.activity_navigationdrawer``` in your ```onCreate``` method","title":"java.lang.RuntimeException: Unable to start activity ComponentInfo... on a null object reference","body":"<p>As per your code , it looks like some issue with layout file use . In Activity , you have used <code>R.layout.activity_main </code> and code you have pasted here is <code>activity_navigationdrawer.xml</code>  so kindly replace <code>R.layout.activity_main</code> with <code>R.layout.activity_navigationdrawer</code> in your <code>onCreate</code> method</p>\n"}],"owner":{"display_name":"user21892848"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76242959,"answer_count":1,"score":1,"last_activity_date":1683984307,"creation_date":1683982372,"question_id":76242840,"body_markdown":"The error \r\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.tourism.myapplication/com.tourism.myapplication.navigationdrawer}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void androidx.drawerlayout.widget.DrawerLayout.addDrawerListener(androidx.drawerlayout.widget.DrawerLayout$DrawerListener)&#39; on a null object reference\r\n\r\nthis is activity_navigationdrawer.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;\r\n    android:id=&quot;@+id/drawerLayout&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:id=&quot;@+id/navigationView&quot;\r\n        app:headerLayout=&quot;@layout/header_layout&quot;\r\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\nThis is activity_navigationdrawer.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.drawerlayout.widget.DrawerLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:fitsSystemWindows=&quot;true&quot;\r\n    tools:openDrawer=&quot;start&quot;\r\n    android:id=&quot;@+id/drawerLayout&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_gravity=&quot;start&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        android:id=&quot;@+id/navigationView&quot;\r\n        app:headerLayout=&quot;@layout/header_layout&quot;\r\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\r\n\r\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n```\r\n\r\nThis is app_bar_name.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;&gt;\r\n\r\n    &lt;com.google.android.material.appbar.AppBarLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;androidx.appcompat.widget.Toolbar\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/ttoolbar&quot;/&gt;\r\n\r\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\r\n\r\n    &lt;include layout=&quot;@layout/content_main&quot;/&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n```\r\n\r\n\r\nthis is the activity file\r\n\r\n```\r\npackage com.tourism.myapplication;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\nimport androidx.fragment.app.FragmentTransaction;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.material.navigation.NavigationView;\r\n\r\npublic class navigationdrawer`your text` extends AppCompatActivity {\r\n    DrawerLayout drawerLayout;\r\n    NavigationView navigationView;\r\n    Toolbar toolbar;\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        drawerLayout = findViewById(R.id.drawerLayout);\r\n        navigationView = findViewById(R.id.navigationView);\r\n        toolbar = findViewById(R.id.ttoolbar);\r\n\r\n        //step1\r\n\r\n        setSupportActionBar(toolbar);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\r\n                this, drawerLayout, toolbar, R.string.OpenDrawer, R.string.CloseDrawer);\r\n\r\n        drawerLayout.addDrawerListener(toggle);\r\n\r\n        toggle.syncState();\r\n\r\n//       /**/ loadFragment(new homefrag());\r\n\r\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\r\n            @Override\r\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                int id = item.getItemId();\r\n\r\n                if  (id==R.id.optTrip){\r\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n                } else if (id==R.id.optHome) {\r\n                    loadFragment(new homefrag());\r\n                } else if (id==R.id.optAbout) {\r\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n                }else {\r\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n                drawerLayout.closeDrawer(GravityCompat.START);\r\n\r\n\r\n                return true;\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\r\n            drawerLayout.closeDrawer(GravityCompat.START);\r\n        } else{\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n\r\n    private void loadFragment(Fragment fragment) {\r\n\r\n        FragmentManager fm = getSupportFragmentManager();\r\n        FragmentTransaction ft = fm.beginTransaction();\r\n\r\n        ft.add(R.id.container, fragment);\r\n        ft.commit();\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\nI tried all solutions please help","title":"java.lang.RuntimeException: Unable to start activity ComponentInfo... on a null object reference","body":"<p>The error\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.tourism.myapplication/com.tourism.myapplication.navigationdrawer}: java.lang.NullPointerException: Attempt to invoke virtual method 'void androidx.drawerlayout.widget.DrawerLayout.addDrawerListener(androidx.drawerlayout.widget.DrawerLayout$DrawerListener)' on a null object reference</p>\n<p>this is activity_navigationdrawer.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;\n    android:id=&quot;@+id/drawerLayout&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:id=&quot;@+id/navigationView&quot;\n        app:headerLayout=&quot;@layout/header_layout&quot;\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>This is activity_navigationdrawer.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;\n    android:id=&quot;@+id/drawerLayout&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;include layout=&quot;@layout/app_bar_name&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;/&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_gravity=&quot;start&quot;\n        android:fitsSystemWindows=&quot;true&quot;\n        android:id=&quot;@+id/navigationView&quot;\n        app:headerLayout=&quot;@layout/header_layout&quot;\n        app:menu=&quot;@menu/menu_item&quot;/&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>This is app_bar_name.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;com.google.android.material.appbar.AppBarLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.appcompat.widget.Toolbar\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/ttoolbar&quot;/&gt;\n\n    &lt;/com.google.android.material.appbar.AppBarLayout&gt;\n\n    &lt;include layout=&quot;@layout/content_main&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n\n\n</code></pre>\n<p>this is the activity file</p>\n<pre><code>package com.tourism.myapplication;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.fragment.app.Fragment;\nimport androidx.fragment.app.FragmentManager;\nimport androidx.fragment.app.FragmentTransaction;\n\nimport android.annotation.SuppressLint;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.Toast;\n\nimport com.google.android.material.navigation.NavigationView;\n\npublic class navigationdrawer`your text` extends AppCompatActivity {\n    DrawerLayout drawerLayout;\n    NavigationView navigationView;\n    Toolbar toolbar;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        drawerLayout = findViewById(R.id.drawerLayout);\n        navigationView = findViewById(R.id.navigationView);\n        toolbar = findViewById(R.id.ttoolbar);\n\n        //step1\n\n        setSupportActionBar(toolbar);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(\n                this, drawerLayout, toolbar, R.string.OpenDrawer, R.string.CloseDrawer);\n\n        drawerLayout.addDrawerListener(toggle);\n\n        toggle.syncState();\n\n//       /**/ loadFragment(new homefrag());\n\n        navigationView.setNavigationItemSelectedListener(new NavigationView.OnNavigationItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                int id = item.getItemId();\n\n                if  (id==R.id.optTrip){\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\n\n                } else if (id==R.id.optHome) {\n                    loadFragment(new homefrag());\n                } else if (id==R.id.optAbout) {\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\n                }else {\n                    Toast.makeText(navigationdrawer.this, &quot;&quot;, Toast.LENGTH_SHORT).show();\n                }\n                drawerLayout.closeDrawer(GravityCompat.START);\n\n\n                return true;\n            }\n        });\n\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawerLayout.isDrawerOpen(GravityCompat.START)){\n            drawerLayout.closeDrawer(GravityCompat.START);\n        } else{\n            super.onBackPressed();\n        }\n    }\n\n    private void loadFragment(Fragment fragment) {\n\n        FragmentManager fm = getSupportFragmentManager();\n        FragmentTransaction ft = fm.beginTransaction();\n\n        ft.add(R.id.container, fragment);\n        ft.commit();\n\n\n    }\n}\n</code></pre>\n<p>I tried all solutions please help</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1683977813,"post_id":76242503,"comment_id":134451221,"body_markdown":"Look for the numerous SO questions and answers about correctly comparing strings in Java.","body":"Look for the numerous SO questions and answers about correctly comparing strings in Java."}],"answers":[{"tags":[],"owner":{"account_id":3383678,"reputation":4957,"user_id":2840178,"accept_rate":88,"display_name":"kar"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1683978308,"creation_date":1683978308,"answer_id":76242550,"question_id":76242503,"body_markdown":"You could consider using the `Scanner` class. \r\n\r\nEssentially use it&#39;s `nextLine` method to capture the input data each time.\r\n\r\nOnce you done with the actions in your logic, break out of it if user enters the word you looking for. Else repeat and rinse. \r\n\r\nExample: \r\n\r\n    public void validate() {\r\n        Scanner scanner = new Scanner(System.in);\r\n        while (true) {\r\n            System.out.print(&quot;Enter username: &quot;);\r\n            String username = scanner.nextLine();\r\n            System.out.print(&quot;Enter password: &quot;);\r\n            String password = scanner.nextLine();\r\n            System.out.println(&quot;Username: &quot; + username + &quot;, Password: &quot; + password);\r\n            System.out.println(&quot;Type &#39;cancel&#39; to exit or any other key to continue&quot;);\r\n            String input = scanner.nextLine();\r\n            if (input.equalsIgnoreCase(&quot;cancel&quot;)) {\r\n                break; // exit loop if input is &quot;cancel&quot;\r\n            }\r\n        }\r\n    }","title":"Java while statement involving string class","body":"<p>You could consider using the <code>Scanner</code> class.</p>\n<p>Essentially use it's <code>nextLine</code> method to capture the input data each time.</p>\n<p>Once you done with the actions in your logic, break out of it if user enters the word you looking for. Else repeat and rinse.</p>\n<p>Example:</p>\n<pre><code>public void validate() {\n    Scanner scanner = new Scanner(System.in);\n    while (true) {\n        System.out.print(&quot;Enter username: &quot;);\n        String username = scanner.nextLine();\n        System.out.print(&quot;Enter password: &quot;);\n        String password = scanner.nextLine();\n        System.out.println(&quot;Username: &quot; + username + &quot;, Password: &quot; + password);\n        System.out.println(&quot;Type 'cancel' to exit or any other key to continue&quot;);\n        String input = scanner.nextLine();\n        if (input.equalsIgnoreCase(&quot;cancel&quot;)) {\n            break; // exit loop if input is &quot;cancel&quot;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28593977,"reputation":1,"user_id":21892571,"display_name":"Kamara "},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1683978391,"answer_count":1,"score":-1,"last_activity_date":1683984145,"creation_date":1683977660,"question_id":76242503,"body_markdown":"How to escape while loop by typing a certain string ( words ). Basically I&#39;m trying to create a program that operates similar to a computer login process and the loop asks to enter name and password. However if I want to exit the loop I type a certain word which allows me to exit the loop. If that specific word isn&#39;t type then the loop continues \r\n\r\nTried using != Operator but doesn&#39;t work","title":"Java while statement involving string class","body":"<p>How to escape while loop by typing a certain string ( words ). Basically I'm trying to create a program that operates similar to a computer login process and the loop asks to enter name and password. However if I want to exit the loop I type a certain word which allows me to exit the loop. If that specific word isn't type then the loop continues</p>\n<p>Tried using != Operator but doesn't work</p>\n"},{"tags":["java","sorting","collections","arraylist"],"answers":[{"tags":[],"owner":{"account_id":1906088,"reputation":2053,"user_id":1720938,"accept_rate":68,"display_name":"hamid"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364999507,"creation_date":1364999200,"answer_id":15790125,"question_id":15789979,"body_markdown":"Make a copy of the`ArrayList` then sort the copy. After that use `indexOf` method passing element of sorted array and invoking on original `ArrayList`.\r\n","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Make a copy of the<code>ArrayList</code> then sort the copy. After that use <code>indexOf</code> method passing element of sorted array and invoking on original <code>ArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":1816200,"reputation":18958,"user_id":1651233,"accept_rate":67,"display_name":"BobTheBuilder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364999248,"creation_date":1364999248,"answer_id":15790138,"question_id":15789979,"body_markdown":"If the values are unique, you can use a `Map&lt;Double, Integer&gt;` to hold the value and initial order. You just need to sort the map keys and get the correspond value of each key.\r\n\r\n","title":"Initial indexes of sorted elements of ArrayList","body":"<p>If the values are unique, you can use a <code>Map&lt;Double, Integer&gt;</code> to hold the value and initial order. You just need to sort the map keys and get the correspond value of each key.</p>\n"},{"tags":[],"owner":{"account_id":293853,"reputation":1346,"user_id":597408,"accept_rate":50,"display_name":"WPrecht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364999270,"creation_date":1364999270,"answer_id":15790147,"question_id":15789979,"body_markdown":"Two solutions: 1) if you are wedded to ArrayList, you&#39;ll need to use an Iterator to build the index list of the solution set.  2) Switch to a Map with the value and the order (which can be changed by sorting).","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Two solutions: 1) if you are wedded to ArrayList, you'll need to use an Iterator to build the index list of the solution set.  2) Switch to a Map with the value and the order (which can be changed by sorting).</p>\n"},{"tags":[],"owner":{"account_id":2136544,"reputation":24466,"user_id":1896169,"accept_rate":98,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1589190517,"creation_date":1364999395,"answer_id":15790218,"question_id":15789979,"body_markdown":"Copy the ArrayList and sort, then use indexOf.\r\n\r\n  \r\n\r\n    ArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\r\n    nfit.add(2.0);\r\n    nfit.add(5.0);\r\n    nfit.add(1.0);\r\n    nfit.add(8.0);\r\n    nfit.add(3.0);\r\n    ArrayList&lt;Double&gt; nstore = new ArrayList&lt;Double&gt;(nfit); // may need to be new ArrayList(nfit)\r\n    Collections.sort(nfit);\r\n    int[] indexes = new int[nfit.size()];\r\n    for (int n = 0; n &lt; nfit.size(); n++){\r\n        indexes[n] = nstore.indexOf(nfit.get(n));\r\n    }\r\n    System.out.println(Arrays.toString(indexes));\r\n\r\n\r\nIf you wanted the indexes in an ArrayList,\r\n\r\n    Collections.sort(nstore);\r\n    for (int n = 0; n &lt; nfit.size(); n++){\r\n        nstore.add(n, nfit.indexOf(nstore.remove(n)));\r\n    }\r\n    Collections.sort(nfit);\r\n\r\nThat will result in one sorted ArrayList nfit, and one ArrayList  of indexes nstore.\r\n\r\n\r\nEdited: In the for loop \r\n\r\n    for (int n = 0; n &lt; nfit.size(); nfit++){\r\n        nstore.add(n, nfit.indexOf(nstore.remove(n)));\r\n    }\r\n\r\nThe loop count must be iterated over n and not on nfit\r\nFind the corrected code:\r\n\r\n    for (int n = 0; n &lt; nfit.size(); n++){\r\n        nstore.add(n, nfit.indexOf(nstore.remove(n)));\r\n    }","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Copy the ArrayList and sort, then use indexOf.</p>\n\n<pre><code>ArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\nnfit.add(2.0);\nnfit.add(5.0);\nnfit.add(1.0);\nnfit.add(8.0);\nnfit.add(3.0);\nArrayList&lt;Double&gt; nstore = new ArrayList&lt;Double&gt;(nfit); // may need to be new ArrayList(nfit)\nCollections.sort(nfit);\nint[] indexes = new int[nfit.size()];\nfor (int n = 0; n &lt; nfit.size(); n++){\n    indexes[n] = nstore.indexOf(nfit.get(n));\n}\nSystem.out.println(Arrays.toString(indexes));\n</code></pre>\n\n<p>If you wanted the indexes in an ArrayList,</p>\n\n<pre><code>Collections.sort(nstore);\nfor (int n = 0; n &lt; nfit.size(); n++){\n    nstore.add(n, nfit.indexOf(nstore.remove(n)));\n}\nCollections.sort(nfit);\n</code></pre>\n\n<p>That will result in one sorted ArrayList nfit, and one ArrayList  of indexes nstore.</p>\n\n<p>Edited: In the for loop </p>\n\n<pre><code>for (int n = 0; n &lt; nfit.size(); nfit++){\n    nstore.add(n, nfit.indexOf(nstore.remove(n)));\n}\n</code></pre>\n\n<p>The loop count must be iterated over n and not on nfit\nFind the corrected code:</p>\n\n<pre><code>for (int n = 0; n &lt; nfit.size(); n++){\n    nstore.add(n, nfit.indexOf(nstore.remove(n)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2293270,"reputation":1,"user_id":2434610,"display_name":"user36536"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1412879302,"creation_date":1412879302,"answer_id":26285533,"question_id":15789979,"body_markdown":"The following implementation of mergesort implements a method &#39;indexSort&#39; that does just that without messing with the input array.\r\nhttp://algs4.cs.princeton.edu/22mergesort/Merge.java.html\r\nhttp://algs4.cs.princeton.edu/code/javadoc/Merge.html#indexSort(java.lang.Comparable[])\r\n\r\n","title":"Initial indexes of sorted elements of ArrayList","body":"<p>The following implementation of mergesort implements a method 'indexSort' that does just that without messing with the input array.\n<a href=\"http://algs4.cs.princeton.edu/22mergesort/Merge.java.html\" rel=\"nofollow\">http://algs4.cs.princeton.edu/22mergesort/Merge.java.html</a>\n<a href=\"http://algs4.cs.princeton.edu/code/javadoc/Merge.html#indexSort(java.lang.Comparable[])\" rel=\"nofollow\">http://algs4.cs.princeton.edu/code/javadoc/Merge.html#indexSort(java.lang.Comparable[])</a></p>\n"},{"tags":[],"owner":{"account_id":7070805,"reputation":1824,"user_id":5412470,"display_name":"hmofrad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510712546,"creation_date":1510712546,"answer_id":47298368,"question_id":15789979,"body_markdown":"Bubble sort is always your friend. You can use it to sort the array and at the same time keep track of original array indices. It will also work when you have multiple similar elements in your array.\r\n\r\n    import java.util.*;\r\n    import java.util.Arrays;\r\n    import java.util.Random;\r\n    public class BubbleSort {\r\n        public static void main(String[] args) {\r\n            Random rnd = new Random();\r\n            int count = 5;\r\n            ArrayList&lt;Double&gt; array = new ArrayList&lt;Double&gt;();\r\n            int[] indices = new int[count];\r\n            for(int i = 0; i &lt; indices.length; i++) {\r\n                array.add(rnd.nextDouble() * count);\r\n                indices[i] = i;\r\n            }\r\n            ArrayList&lt;Double&gt; values = new ArrayList&lt;Double&gt;(array);\r\n            bubbleSort(values, indices);\r\n            System.out.println(&quot;Unsorted input array   :&quot; + array);\r\n            System.out.print(&quot;Sorted   input array   : &quot;);\r\n            for(int i = 0; i &lt; array.size(); i++) {\r\n                System.out.print(array.get(indices[i]) + &quot; &quot; );\r\n            }\r\n            System.out.println();\r\n        }\r\n        private static void bubbleSort(ArrayList&lt;Double&gt; values, int[] indices) {\r\n            for(int k = 0; k &lt; values.size(); k++) {\r\n                for(int l = k + 1; l &lt; values.size(); l++) {\r\n                    if(values.get(k) &gt; values.get(l)) {\r\n                        double temp_value = values.get(k);\r\n                        values.set(k, values.get(l));\r\n                        values.set(l, temp_value);\r\n                        int temp_index = indices[k];\r\n                        indices[k] = indices[l];\r\n                        indices[l] = temp_index;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nThe reason I answered this question after this many years is that the  [accepted answer][1] will fail if you have multiple elements with similar values because in `indexes[n] = nstore.indexOf(nfit.get(n));`, `indexOf` method is always returning the first occurrence of the specified element which results in an incorrect indices array while having similar elements in the input array.\r\n\r\nLast, copy and paste the code in `BubbleSort.java` and then run `javac BubbleSort.java &amp;&amp; java BubbleSort` to compile and see the results.\r\n\r\n  [1]: https://stackoverflow.com/a/15790218/5412470","title":"Initial indexes of sorted elements of ArrayList","body":"<p>Bubble sort is always your friend. You can use it to sort the array and at the same time keep track of original array indices. It will also work when you have multiple similar elements in your array.</p>\n\n<pre><code>import java.util.*;\nimport java.util.Arrays;\nimport java.util.Random;\npublic class BubbleSort {\n    public static void main(String[] args) {\n        Random rnd = new Random();\n        int count = 5;\n        ArrayList&lt;Double&gt; array = new ArrayList&lt;Double&gt;();\n        int[] indices = new int[count];\n        for(int i = 0; i &lt; indices.length; i++) {\n            array.add(rnd.nextDouble() * count);\n            indices[i] = i;\n        }\n        ArrayList&lt;Double&gt; values = new ArrayList&lt;Double&gt;(array);\n        bubbleSort(values, indices);\n        System.out.println(\"Unsorted input array   :\" + array);\n        System.out.print(\"Sorted   input array   : \");\n        for(int i = 0; i &lt; array.size(); i++) {\n            System.out.print(array.get(indices[i]) + \" \" );\n        }\n        System.out.println();\n    }\n    private static void bubbleSort(ArrayList&lt;Double&gt; values, int[] indices) {\n        for(int k = 0; k &lt; values.size(); k++) {\n            for(int l = k + 1; l &lt; values.size(); l++) {\n                if(values.get(k) &gt; values.get(l)) {\n                    double temp_value = values.get(k);\n                    values.set(k, values.get(l));\n                    values.set(l, temp_value);\n                    int temp_index = indices[k];\n                    indices[k] = indices[l];\n                    indices[l] = temp_index;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The reason I answered this question after this many years is that the  <a href=\"https://stackoverflow.com/a/15790218/5412470\">accepted answer</a> will fail if you have multiple elements with similar values because in <code>indexes[n] = nstore.indexOf(nfit.get(n));</code>, <code>indexOf</code> method is always returning the first occurrence of the specified element which results in an incorrect indices array while having similar elements in the input array.</p>\n\n<p>Last, copy and paste the code in <code>BubbleSort.java</code> and then run <code>javac BubbleSort.java &amp;&amp; java BubbleSort</code> to compile and see the results.</p>\n"},{"tags":[],"owner":{"account_id":28591145,"reputation":1,"user_id":21890351,"display_name":"Usmani Adnan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683983003,"creation_date":1683925480,"answer_id":76239933,"question_id":15789979,"body_markdown":"If your list have duplicate values below code will work to get index of initial list\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    ArrayList&lt;Double&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0));\r\n    ArrayList&lt;Double&gt; arrr = new ArrayList&lt;&gt;(arr);\r\n    int[] index = new int[arr.size()];\r\n\r\n    Collections.sort(arrr);\r\n    final double min = Double.MIN_VALUE;\r\n    System.out.println(arr);\r\n    System.out.println(arrr);\r\n\r\n    for (int i = 0; i &lt; arr.size(); i++) {\r\n      index[i] = arr.indexOf(arrr.get(i));\r\n      arr.set(arr.indexOf(arrr.get(i)), min);\r\n      System.out.print(index[i] + &quot; &quot;);\r\n    }\r\n  }\r\n```\r\n\r\nOutput on console:\r\n```\r\n[1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0]\r\n[1.0, 1.0, 2.0, 2.0, 3.0, 5.0, 8.0]\r\n0 3 1 4 2 5 6 \r\n```","title":"Initial indexes of sorted elements of ArrayList","body":"<p>If your list have duplicate values below code will work to get index of initial list</p>\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;Double&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0));\n    ArrayList&lt;Double&gt; arrr = new ArrayList&lt;&gt;(arr);\n    int[] index = new int[arr.size()];\n\n    Collections.sort(arrr);\n    final double min = Double.MIN_VALUE;\n    System.out.println(arr);\n    System.out.println(arrr);\n\n    for (int i = 0; i &lt; arr.size(); i++) {\n      index[i] = arr.indexOf(arrr.get(i));\n      arr.set(arr.indexOf(arrr.get(i)), min);\n      System.out.print(index[i] + &quot; &quot;);\n    }\n  }\n</code></pre>\n<p>Output on console:</p>\n<pre><code>[1.0, 2.0, 3.0, 1.0, 2.0, 5.0, 8.0]\n[1.0, 1.0, 2.0, 2.0, 3.0, 5.0, 8.0]\n0 3 1 4 2 5 6 \n</code></pre>\n"}],"owner":{"account_id":1096046,"reputation":15508,"user_id":1089623,"accept_rate":84,"display_name":"Klausos Klausos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8580,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":15790218,"answer_count":7,"score":5,"last_activity_date":1683983003,"creation_date":1364998844,"question_id":15789979,"body_markdown":"The following code implements sorting of `nfit` in ascending order.\r\n\r\n    public static void main(String[] args) {\r\n    \tArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\r\n    \t\r\n    \tnfit.add(2.0);\r\n    \tnfit.add(5.0);\r\n    \tnfit.add(1.0);\r\n    \tnfit.add(8.0);\r\n    \tnfit.add(3.0);\r\n    \t\r\n    \t// Sort individuals in ascending order\r\n    \tCollections.sort(nfit);\r\n    \t\r\n    \tSystem.out.print(nfit);\r\n    \r\n    }\r\n\r\nThe output is:\r\n\r\n    [1.0, 2.0, 3.0, 5.0, 8.0]\r\n\r\nMy question is how to get initial indexes of sorted elements? In this example the answer to my question would be the following:\r\n\r\n    [2, 0, 4, 1, 3]\r\n\r\nHow can I get these indexes?","title":"Initial indexes of sorted elements of ArrayList","body":"<p>The following code implements sorting of <code>nfit</code> in ascending order.</p>\n\n<pre><code>public static void main(String[] args) {\n    ArrayList&lt;Double&gt; nfit = new ArrayList&lt;Double&gt;();\n\n    nfit.add(2.0);\n    nfit.add(5.0);\n    nfit.add(1.0);\n    nfit.add(8.0);\n    nfit.add(3.0);\n\n    // Sort individuals in ascending order\n    Collections.sort(nfit);\n\n    System.out.print(nfit);\n\n}\n</code></pre>\n\n<p>The output is:</p>\n\n<pre><code>[1.0, 2.0, 3.0, 5.0, 8.0]\n</code></pre>\n\n<p>My question is how to get initial indexes of sorted elements? In this example the answer to my question would be the following:</p>\n\n<pre><code>[2, 0, 4, 1, 3]\n</code></pre>\n\n<p>How can I get these indexes?</p>\n"},{"tags":["java","redis","cluster-computing","pool","jedis"],"answers":[{"tags":[],"owner":{"account_id":4829511,"reputation":5855,"user_id":4021802,"display_name":"sazzad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683981368,"creation_date":1683981368,"answer_id":76242759,"question_id":76238329,"body_markdown":"BY DEFAULT, you should be considering the Redis Enterprise (RE) as a single node from client side. So you can use `JedisPooled` to communicate with RE.\r\n\r\nNote 1: Cluster specific commands are actually disabled in default mode. That&#39;s what you can see in error message `ERR command is not allowed`.\r\n\r\nNote 2: Redis Enterprise has a `OSS Cluster` mode where cluster specific commands are allowed. Only in this RE mode you should be using `JedisCluster` to communicate instead of JedisPooled.","title":"Jedis TLS connection to Redis Cluster","body":"<p>BY DEFAULT, you should be considering the Redis Enterprise (RE) as a single node from client side. So you can use <code>JedisPooled</code> to communicate with RE.</p>\n<p>Note 1: Cluster specific commands are actually disabled in default mode. That's what you can see in error message <code>ERR command is not allowed</code>.</p>\n<p>Note 2: Redis Enterprise has a <code>OSS Cluster</code> mode where cluster specific commands are allowed. Only in this RE mode you should be using <code>JedisCluster</code> to communicate instead of JedisPooled.</p>\n"}],"owner":{"account_id":20666338,"reputation":41,"user_id":15173097,"display_name":"JShao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":741,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76242759,"answer_count":1,"score":1,"last_activity_date":1683981368,"creation_date":1683909109,"question_id":76238329,"body_markdown":"We are using Redis enterprise edition \r\n5 shards: host:6379 - 6383\r\nendpoint: redis-endpoint.example.com 6378\r\nUsing Jedis 4.3.x, it works ok when I use JedisPooled\r\n\r\n```\r\nGenericObjectPoolConfig&lt;Connection&gt; genericPoolConfig = new GenericObjectPoolConfig&lt;&gt;();\r\ngenericPoolConfig.setMaxIdle(4);\r\ngenericPoolConfig.setMaxTotal(5);\r\ngenericPoolConfig.setMinIdle(2);\r\n\r\nJedisClientConfig clientConfig = DefaultJedisClientConfig.builder()\r\n      .sslSocketFactory(sslContext.getSocketFactory()) // key/trust stores here\r\n      .ssl(true)\r\n      .user(&quot;user_here&quot;)\r\n      .password(redisPassword)\r\n      .hostnameVerifier(hostnameVerifier)\r\n      .build();\r\nJedisPooled jedis = new JedisPooled(genericPoolConfig, new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378), clientConfig);\r\njedis.set(&quot;key_1&quot;, &quot;value_1&quot;); // this cmd works\r\n```\r\n\r\nBut when I try to use JedisCluster, it throws Exception\r\n\r\n```\r\nSet&lt;HostAndPort&gt; jedisClusterNodes = new HashSet&lt;&gt;();\r\njedisClusterNodes.add(new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378));\r\nJedisCluster cluster = new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig); // &lt;== ERROR here\r\ncluster.set(&quot;key_2&quot;, &quot;value_2&quot;); \r\n```\r\n\r\nI got errors:\r\n```\r\nException in thread &quot;main&quot; redis.clients.jedis.exceptions.JedisDataException: ERR command is not allowed\r\n\tat redis.clients.jedis.Protocol.processError(Protocol.java:96)\r\n\tat redis.clients.jedis.Protocol.process(Protocol.java:137)\r\n\tat redis.clients.jedis.Protocol.read(Protocol.java:192)\r\n\tat redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:316)\r\n\tat redis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:282)\r\n\tat redis.clients.jedis.Connection.getObjectMultiBulkReply(Connection.java:287)\r\n\tat redis.clients.jedis.JedisClusterInfoCache.executeClusterSlots(JedisClusterInfoCache.java:320)\r\n\tat redis.clients.jedis.JedisClusterInfoCache.discoverClusterNodesAndSlots(JedisClusterInfoCache.java:60)\r\n\tat redis.clients.jedis.providers.ClusterConnectionProvider.initializeSlotsCache(ClusterConnectionProvider.java:42)\r\n\tat redis.clients.jedis.providers.ClusterConnectionProvider.&lt;init&gt;(ClusterConnectionProvider.java:33)\r\n\tat redis.clients.jedis.UnifiedJedis.&lt;init&gt;(UnifiedJedis.java:122)\r\n\tat redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:173)\r\n\tat redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:167)\r\n```\r\nQuestions: \r\n1. Should I put all 5 shards in Set&lt;HostAndPort&gt; jedisClusterNodes or just need to put cluster endpoint. \r\n2. Any things I did incorrectly when using ```new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig);```? \r\n3. will JedisPooled work well for cluster mode?","title":"Jedis TLS connection to Redis Cluster","body":"<p>We are using Redis enterprise edition\n5 shards: host:6379 - 6383\nendpoint: redis-endpoint.example.com 6378\nUsing Jedis 4.3.x, it works ok when I use JedisPooled</p>\n<pre><code>GenericObjectPoolConfig&lt;Connection&gt; genericPoolConfig = new GenericObjectPoolConfig&lt;&gt;();\ngenericPoolConfig.setMaxIdle(4);\ngenericPoolConfig.setMaxTotal(5);\ngenericPoolConfig.setMinIdle(2);\n\nJedisClientConfig clientConfig = DefaultJedisClientConfig.builder()\n      .sslSocketFactory(sslContext.getSocketFactory()) // key/trust stores here\n      .ssl(true)\n      .user(&quot;user_here&quot;)\n      .password(redisPassword)\n      .hostnameVerifier(hostnameVerifier)\n      .build();\nJedisPooled jedis = new JedisPooled(genericPoolConfig, new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378), clientConfig);\njedis.set(&quot;key_1&quot;, &quot;value_1&quot;); // this cmd works\n</code></pre>\n<p>But when I try to use JedisCluster, it throws Exception</p>\n<pre><code>Set&lt;HostAndPort&gt; jedisClusterNodes = new HashSet&lt;&gt;();\njedisClusterNodes.add(new HostAndPort(&quot;redis-endpoint.example.com&quot;, 6378));\nJedisCluster cluster = new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig); // &lt;== ERROR here\ncluster.set(&quot;key_2&quot;, &quot;value_2&quot;); \n</code></pre>\n<p>I got errors:</p>\n<pre><code>Exception in thread &quot;main&quot; redis.clients.jedis.exceptions.JedisDataException: ERR command is not allowed\n    at redis.clients.jedis.Protocol.processError(Protocol.java:96)\n    at redis.clients.jedis.Protocol.process(Protocol.java:137)\n    at redis.clients.jedis.Protocol.read(Protocol.java:192)\n    at redis.clients.jedis.Connection.readProtocolWithCheckingBroken(Connection.java:316)\n    at redis.clients.jedis.Connection.getUnflushedObjectMultiBulkReply(Connection.java:282)\n    at redis.clients.jedis.Connection.getObjectMultiBulkReply(Connection.java:287)\n    at redis.clients.jedis.JedisClusterInfoCache.executeClusterSlots(JedisClusterInfoCache.java:320)\n    at redis.clients.jedis.JedisClusterInfoCache.discoverClusterNodesAndSlots(JedisClusterInfoCache.java:60)\n    at redis.clients.jedis.providers.ClusterConnectionProvider.initializeSlotsCache(ClusterConnectionProvider.java:42)\n    at redis.clients.jedis.providers.ClusterConnectionProvider.&lt;init&gt;(ClusterConnectionProvider.java:33)\n    at redis.clients.jedis.UnifiedJedis.&lt;init&gt;(UnifiedJedis.java:122)\n    at redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:173)\n    at redis.clients.jedis.JedisCluster.&lt;init&gt;(JedisCluster.java:167)\n</code></pre>\n<p>Questions:</p>\n<ol>\n<li>Should I put all 5 shards in Set jedisClusterNodes or just need to put cluster endpoint.</li>\n<li>Any things I did incorrectly when using <code>new JedisCluster(jedisClusterNodes, clientConfig, 3, genericPoolConfig);</code>?</li>\n<li>will JedisPooled work well for cluster mode?</li>\n</ol>\n"},{"tags":["java","reflection","itext","pdf-generation"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1683963744,"post_id":76241502,"comment_id":134449819,"body_markdown":"itext5 is end of life. Perhaps this answers your question? [Itext Java 11: Illegal reflective access by com.itextpdf.io.source.ByteBufferRandomAccessSource$1](https://stackoverflow.com/questions/53301158/itext-java-11-illegal-reflective-access-by-com-itextpdf-io-source-bytebufferran)","body":"itext5 is end of life. Perhaps this answers your question? <a href=\"https://stackoverflow.com/questions/53301158/itext-java-11-illegal-reflective-access-by-com-itextpdf-io-source-bytebufferran\">Itext Java 11: Illegal reflective access by com.itextpdf.io.source.ByteBufferRandomAccessSource$1</a>"},{"owner":{"account_id":16429668,"reputation":81,"user_id":11868833,"display_name":"Andrzej Więcławski"},"score":0,"creation_date":1683981200,"post_id":76241502,"comment_id":134451573,"body_markdown":"thx, but solution is found :)","body":"thx, but solution is found :)"}],"owner":{"account_id":16429668,"reputation":81,"user_id":11868833,"display_name":"Andrzej Więcławski"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683981112,"creation_date":1683961865,"question_id":76241502,"body_markdown":"context: jdk11, springboot, itextpdf 5.5.13.3, ubuntu, eclipse\r\n\r\nduring: ` new HtmlPipelineContext(null); ` throughout ` new CssAppliersImpl(new XMLWorkerFontProvider()); ` and last ` CssAppliersImpl(){// map builder inside } ` appears \r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.itextpdf.text.io.ByteBufferRandomAccessSource$1 (file:/home/awieclawski/.m2/repository/com/itextpdf/itextpdf/5.5.13.3/itextpdf-5.5.13.3.jar) to method java.nio.DirectByteBuffer.cleaner()\r\nWARNING: Please consider reporting this to the maintainers of com.itextpdf.text.io.ByteBufferRandomAccessSource$1\r\n```\r\nquestion: how to avoid it?\r\n\r\nPS.\r\nBefore `HtmlPipelineContext` instance is established:\r\n```\r\n\t\tCSSResolver cssResolver = new StyleAttrCSSResolver();\r\n\t\tcssResolver.addCss(cssFile);\r\n // \tcssFile is returned from XMLWorkerHelper.getCSS(getCssStream(path));\r\n\t}\r\n```\r\nand at the debug of `new HtmlPipelineContext(null);` is signalized: `com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred invoking method.` \r\n\r\nsolution: \r\n\r\nthere is problematic line (503) in `FontFactoryImp` where static method `BaseFont.enumerateTTCNames(path);` is called. To avoid this in `XMLWorkerFontProvider` constructor should be used `XMLWorkerFontProvider.DONTLOOKFORFONTS` as parameter value.\r\n```\r\nXMLWorkerFontProvider fontProvider = new XMLWorkerFontProvider(XMLWorkerFontProvider.DONTLOOKFORFONTS); `\r\n```\r\nit&#39;s quite enough - problem disappeared :)","title":"llegal reflective access at HtmlPipelineContext constructor of itext 5","body":"<p>context: jdk11, springboot, itextpdf 5.5.13.3, ubuntu, eclipse</p>\n<p>during: <code>new HtmlPipelineContext(null);</code> throughout <code>new CssAppliersImpl(new XMLWorkerFontProvider());</code> and last <code>CssAppliersImpl(){// map builder inside }</code> appears</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.itextpdf.text.io.ByteBufferRandomAccessSource$1 (file:/home/awieclawski/.m2/repository/com/itextpdf/itextpdf/5.5.13.3/itextpdf-5.5.13.3.jar) to method java.nio.DirectByteBuffer.cleaner()\nWARNING: Please consider reporting this to the maintainers of com.itextpdf.text.io.ByteBufferRandomAccessSource$1\n</code></pre>\n<p>question: how to avoid it?</p>\n<p>PS.\nBefore <code>HtmlPipelineContext</code> instance is established:</p>\n<pre><code>        CSSResolver cssResolver = new StyleAttrCSSResolver();\n        cssResolver.addCss(cssFile);\n //     cssFile is returned from XMLWorkerHelper.getCSS(getCssStream(path));\n    }\n</code></pre>\n<p>and at the debug of <code>new HtmlPipelineContext(null);</code> is signalized: <code>com.sun.jdi.ClassNotLoadedException: Type has not been loaded occurred invoking method.</code></p>\n<p>solution:</p>\n<p>there is problematic line (503) in <code>FontFactoryImp</code> where static method <code>BaseFont.enumerateTTCNames(path);</code> is called. To avoid this in <code>XMLWorkerFontProvider</code> constructor should be used <code>XMLWorkerFontProvider.DONTLOOKFORFONTS</code> as parameter value.</p>\n<pre><code>XMLWorkerFontProvider fontProvider = new XMLWorkerFontProvider(XMLWorkerFontProvider.DONTLOOKFORFONTS); `\n</code></pre>\n<p>it's quite enough - problem disappeared :)</p>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1683979259,"post_id":76242611,"comment_id":134451366,"body_markdown":"Why are you using base64 at all in your code? I don&#39;t see anything in there which requires it...","body":"Why are you using base64 at all in your code? I don&#39;t see anything in there which requires it..."},{"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"score":0,"creation_date":1683980055,"post_id":76242611,"comment_id":134451449,"body_markdown":"this image I will send to the cloud service to remove background, the cloud service api that accept base64 string. @JonSkeet","body":"this image I will send to the cloud service to remove background, the cloud service api that accept base64 string. @JonSkeet"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1683987287,"post_id":76242611,"comment_id":134452267,"body_markdown":"Right, but none of that&#39;s relevant to the aspect of resizing the image, right? You&#39;d only need to encode it as base64 after doing everything else - which means it&#39;s irrelevant to this question. (I&#39;d also recommend avoiding base64 encoding until the final step in your real code, too - it&#39;ll make your code much simpler and cleaner.)","body":"Right, but none of that&#39;s relevant to the aspect of resizing the image, right? You&#39;d only need to encode it as base64 after doing everything else - which means it&#39;s irrelevant to this question. (I&#39;d also recommend avoiding base64 encoding until the final step in your real code, too - it&#39;ll make your code much simpler and cleaner.)"},{"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"score":0,"creation_date":1683989404,"post_id":76242611,"comment_id":134452556,"body_markdown":"yes, you are correct. I just use this code to show the issue. the resize will happen in the step flow because I need to generate different  size of photo, it will used by different countries id card. each countries has there own specification.","body":"yes, you are correct. I just use this code to show the issue. the resize will happen in the step flow because I need to generate different  size of photo, it will used by different countries id card. each countries has there own specification."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1683989639,"post_id":76242611,"comment_id":134452577,"body_markdown":"&quot;I just use this code to show the issue.&quot; But the base64 part is irrelevant to the issue, and so shouldn&#39;t be in the question. Ideally, Stack Overflow questions should show minimal but complete code required to reproduce the issue - anything irrelevant is a distraction.","body":"&quot;I just use this code to show the issue.&quot; But the base64 part is irrelevant to the issue, and so shouldn&#39;t be in the question. Ideally, Stack Overflow questions should show minimal but complete code required to reproduce the issue - anything irrelevant is a distraction."}],"answers":[{"tags":[],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683980803,"creation_date":1683980803,"answer_id":76242721,"question_id":76242611,"body_markdown":"Finally I found thumbnailator https://github.com/coobird/thumbnailator can handle this, first import the dependencies:\r\n\r\n\r\n    implementation &#39;net.coobird:thumbnailator:0.4.19&#39;\r\n\r\n\r\nthen resize the image like this:\r\n\r\n\r\n\r\n\r\n    Thumbnails.of(&quot;/Users/John/Downloads/zj/test.jpeg&quot;)\r\n    \t\t\t\t.size(300,400)\r\n    \t\t\t\t.toFile(&quot;/Users/John/Downloads/hr-thumbnail.jpeg&quot;);\r\n\r\n\r\n\r\nthe resized image quality are perfect.\r\n","title":"is it possible to keep image quality when resize in java","body":"<p>Finally I found thumbnailator <a href=\"https://github.com/coobird/thumbnailator\" rel=\"nofollow noreferrer\">https://github.com/coobird/thumbnailator</a> can handle this, first import the dependencies:</p>\n<pre><code>implementation 'net.coobird:thumbnailator:0.4.19'\n</code></pre>\n<p>then resize the image like this:</p>\n<pre><code>Thumbnails.of(&quot;/Users/John/Downloads/zj/test.jpeg&quot;)\n                .size(300,400)\n                .toFile(&quot;/Users/John/Downloads/hr-thumbnail.jpeg&quot;);\n</code></pre>\n<p>the resized image quality are perfect.</p>\n"}],"owner":{"account_id":24199277,"reputation":723,"user_id":18157326,"display_name":"spark"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1683980803,"creation_date":1683979127,"question_id":76242611,"body_markdown":"is it possible to keep the image quality when resize it in java? this is my code:\r\n\r\n\r\n    package com.example.demo;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.yaml.snakeyaml.external.biz.base64Coder.Base64Coder;\r\n    import javax.imageio.ImageIO;\r\n    import java.awt.*;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.*;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.util.Base64;\r\n    \r\n    @Slf4j\r\n    public class DemoApplicationSlim {\r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tString filePath = &quot;/Users/john/Downloads/zj/test.jpeg&quot;;\r\n    \t\tPath path = Paths.get(filePath);\r\n    \t\tbyte[] bytes = Files.readAllBytes(path);\r\n    \t\tString base64Origin = Base64.getEncoder().encodeToString(bytes);\r\n    \t\tBufferedImage resizedIdPhoto = new BufferedImage(300, 400, BufferedImage.TYPE_INT_ARGB);\r\n    \t\tGraphics2D graphics = resizedIdPhoto.createGraphics();\r\n    \t\tBufferedImage img = Base64ToBufferImage(base64Origin);\r\n    \t\tgraphics.drawImage(img, 0, 0, 300, 400, null);\r\n    \t\tString b64Resize = bufferImageToBase64(resizedIdPhoto, &quot;png&quot;);\r\n    \t\tsaveImage(base64Origin,&quot;/Users/john/Downloads/hr-origin.jpeg&quot;);\r\n    \t\tsaveImage(b64Resize,&quot;/Users/john/Downloads/hr-resize.jpeg&quot;);\r\n    \t}\r\n    \r\n    \tprivate static void saveImage(String base64Image, String imagePath) {\r\n    \t\ttry {\r\n    \t\t\tbyte[] imageBytes = Base64Coder.decode(base64Image);\r\n    \t\t\tFile imageFile = new File(imagePath);\r\n    \t\t\tif (!imageFile.exists()) {\r\n    \t\t\t\timageFile.createNewFile();\r\n    \t\t\t}\r\n    \t\t\tFileOutputStream outputStream = new FileOutputStream(imageFile);\r\n    \t\t\toutputStream.write(imageBytes);\r\n    \t\t\toutputStream.flush();\r\n    \t\t\toutputStream.close();\r\n    \t\t\tSystem.out.println(&quot;save success：&quot; + imagePath);\r\n    \t\t} catch (IOException e) {\r\n    \t\t\tlog.error(&quot;save file failed&quot;,e);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static BufferedImage Base64ToBufferImage(String base64) {\r\n    \t\tBufferedImage image = null;\r\n    \t\tbyte[] imageBytes;\r\n    \t\timageBytes = Base64.getDecoder().decode(base64);\r\n    \t\ttry (ByteArrayInputStream bis = new ByteArrayInputStream(imageBytes)) {\r\n    \t\t\timage = ImageIO.read(bis);\r\n    \t\t} catch (IOException ex) {\r\n    \t\t\tlog.error(&quot;read  image error&quot;, ex);\r\n    \t\t}\r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tpublic static String bufferImageToBase64(BufferedImage image, String format) throws IOException {\r\n    \t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\tjavax.imageio.ImageIO.write(image, format, baos);\r\n    \t\tbyte[] bytes = baos.toByteArray();\r\n    \t\tString base64 = Base64.getEncoder().encodeToString(bytes);\r\n    \t\treturn base64;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\nnow I found a issue it that when I resized the image, the resized output image loss so much quality. is it possible to keep original quality when resize? I have found this lib https://github.com/rkalla/imgscalr but it stop maintain for 5 years.","title":"is it possible to keep image quality when resize in java","body":"<p>is it possible to keep the image quality when resize it in java? this is my code:</p>\n<pre><code>package com.example.demo;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.yaml.snakeyaml.external.biz.base64Coder.Base64Coder;\nimport javax.imageio.ImageIO;\nimport java.awt.*;\nimport java.awt.image.BufferedImage;\nimport java.io.*;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.util.Base64;\n\n@Slf4j\npublic class DemoApplicationSlim {\n    public static void main(String[] args) throws Exception {\n        String filePath = &quot;/Users/john/Downloads/zj/test.jpeg&quot;;\n        Path path = Paths.get(filePath);\n        byte[] bytes = Files.readAllBytes(path);\n        String base64Origin = Base64.getEncoder().encodeToString(bytes);\n        BufferedImage resizedIdPhoto = new BufferedImage(300, 400, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D graphics = resizedIdPhoto.createGraphics();\n        BufferedImage img = Base64ToBufferImage(base64Origin);\n        graphics.drawImage(img, 0, 0, 300, 400, null);\n        String b64Resize = bufferImageToBase64(resizedIdPhoto, &quot;png&quot;);\n        saveImage(base64Origin,&quot;/Users/john/Downloads/hr-origin.jpeg&quot;);\n        saveImage(b64Resize,&quot;/Users/john/Downloads/hr-resize.jpeg&quot;);\n    }\n\n    private static void saveImage(String base64Image, String imagePath) {\n        try {\n            byte[] imageBytes = Base64Coder.decode(base64Image);\n            File imageFile = new File(imagePath);\n            if (!imageFile.exists()) {\n                imageFile.createNewFile();\n            }\n            FileOutputStream outputStream = new FileOutputStream(imageFile);\n            outputStream.write(imageBytes);\n            outputStream.flush();\n            outputStream.close();\n            System.out.println(&quot;save success：&quot; + imagePath);\n        } catch (IOException e) {\n            log.error(&quot;save file failed&quot;,e);\n        }\n    }\n\n    public static BufferedImage Base64ToBufferImage(String base64) {\n        BufferedImage image = null;\n        byte[] imageBytes;\n        imageBytes = Base64.getDecoder().decode(base64);\n        try (ByteArrayInputStream bis = new ByteArrayInputStream(imageBytes)) {\n            image = ImageIO.read(bis);\n        } catch (IOException ex) {\n            log.error(&quot;read  image error&quot;, ex);\n        }\n        return image;\n    }\n\n    public static String bufferImageToBase64(BufferedImage image, String format) throws IOException {\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        javax.imageio.ImageIO.write(image, format, baos);\n        byte[] bytes = baos.toByteArray();\n        String base64 = Base64.getEncoder().encodeToString(bytes);\n        return base64;\n    }\n}\n</code></pre>\n<p>now I found a issue it that when I resized the image, the resized output image loss so much quality. is it possible to keep original quality when resize? I have found this lib <a href=\"https://github.com/rkalla/imgscalr\" rel=\"nofollow noreferrer\">https://github.com/rkalla/imgscalr</a> but it stop maintain for 5 years.</p>\n"},{"tags":["java","image","swing","jframe","icons"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1683878954,"post_id":76234325,"comment_id":134436985,"body_markdown":"`setIcon` is a method in [`JLabel`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JLabel.html), not in [`Label`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Label.html).","body":"<code>setIcon</code> is a method in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JLabel.html\" rel=\"nofollow noreferrer\"><code>JLabel</code></a>, not in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Label.html\" rel=\"nofollow noreferrer\"><code>Label</code></a>."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1683879588,"post_id":76234325,"comment_id":134437095,"body_markdown":"BTW be aware that Java is case sensitive: `setIcon` is not the same as `SetIcon` or `seticon` (both being used in this this question, including in the error message - Now we do not know if you also reported the correct type `Label` or was it `JLabel`)","body":"BTW be aware that Java is case sensitive: <code>setIcon</code> is not the same as <code>SetIcon</code> or <code>seticon</code> (both being used in this this question, including in the error message - Now we do not know if you also reported the correct type <code>Label</code> or was it <code>JLabel</code>)"}],"answers":[{"tags":[],"owner":{"account_id":1295413,"reputation":617,"user_id":1246600,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683980415,"creation_date":1683980415,"answer_id":76242697,"question_id":76234325,"body_markdown":"You need to use a `JLabel` and call `setIcon` to add the `ImageIcon`.\r\n\r\nHere&#39;s a working example:\r\n\r\n    import javax.swing.ImageIcon;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JLabel;\r\n\timport javax.swing.SwingUtilities;\r\n\timport java.awt.BorderLayout;\r\n\r\n\tpublic class MyApp extends JFrame {\r\n\r\n\t\tprivate MyApp() {\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tsetSize(600, 600);\r\n\r\n\t\t\tImageIcon icon = new ImageIcon(&quot;image.jpg&quot;);\r\n\t\t\tJLabel label = new JLabel(icon);\r\n\r\n\t\t\tadd(label, BorderLayout.CENTER);\r\n\t\t}\r\n\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tSwingUtilities.invokeLater(new Runnable() {\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\tMyApp app = new MyApp();\r\n\t\t\t\t\tapp.setVisible(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t}","title":"SetIcon gives symbol error in Java when I want to set icon of label","body":"<p>You need to use a <code>JLabel</code> and call <code>setIcon</code> to add the <code>ImageIcon</code>.</p>\n<p>Here's a working example:</p>\n<pre><code>import javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.SwingUtilities;\nimport java.awt.BorderLayout;\n\npublic class MyApp extends JFrame {\n\n    private MyApp() {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(600, 600);\n\n        ImageIcon icon = new ImageIcon(&quot;image.jpg&quot;);\n        JLabel label = new JLabel(icon);\n\n        add(label, BorderLayout.CENTER);\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            public void run() {\n                MyApp app = new MyApp();\n                app.setVisible(true);\n            }\n        });\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28586766,"reputation":1,"user_id":21886833,"display_name":"Lemonexe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683980415,"creation_date":1683878709,"question_id":76234325,"body_markdown":"I am trying to Add an Image into jFrame with a label.\r\n\r\nI saw on multiple website you should import javax.swing.ImageIcon, create a ImageIcon object and set the icon of the label as the object.\r\n\r\nWhen I set my label I get the following Error:\r\ncannot find symbol symbol: method seticon(Imagelcon) location: variable IbiPic of type Label (Alt-Enter shows hints)\r\n\r\n```\r\nimport javax.swing.*;\r\npublic class HomePage extends javax.swing.JFrame {\r\n    public HomePage() {\r\n        initComponents();\r\n    }\r\n    @SuppressWarnings(&quot;unchecked&quot;)             \r\n    \r\n    private void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \r\n        ImageIcon imageAd = new ImageIcon(&quot;VWad.jpeg&quot;);\r\n        lblPic.setIcon(imageAd); \r\n```\r\n\r\nThank you!\r\n\r\n\r\nTried to lblPic.setIcon(ImageAd), result: error","title":"SetIcon gives symbol error in Java when I want to set icon of label","body":"<p>I am trying to Add an Image into jFrame with a label.</p>\n<p>I saw on multiple website you should import javax.swing.ImageIcon, create a ImageIcon object and set the icon of the label as the object.</p>\n<p>When I set my label I get the following Error:\ncannot find symbol symbol: method seticon(Imagelcon) location: variable IbiPic of type Label (Alt-Enter shows hints)</p>\n<pre><code>import javax.swing.*;\npublic class HomePage extends javax.swing.JFrame {\n    public HomePage() {\n        initComponents();\n    }\n    @SuppressWarnings(&quot;unchecked&quot;)             \n    \n    private void formWindowOpened(java.awt.event.WindowEvent evt) {                                  \n        ImageIcon imageAd = new ImageIcon(&quot;VWad.jpeg&quot;);\n        lblPic.setIcon(imageAd); \n</code></pre>\n<p>Thank you!</p>\n<p>Tried to lblPic.setIcon(ImageAd), result: error</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":1137788,"reputation":8043,"user_id":1122476,"accept_rate":86,"display_name":"Shashank Kadne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1329888799,"creation_date":1329888799,"answer_id":9389576,"question_id":9389503,"body_markdown":"You can use `StringTokenizer` for this purpose...\r\n\r\n    String test1 = &quot;/Test/Stuff&quot;;\r\n    \t\tStringTokenizer st = new StringTokenizer(test1,&quot;/&quot;);\r\n    \t\twhile(st.hasMoreTokens())\r\n    \t\t\tSystem.out.println(st.nextToken());","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>You can use <code>StringTokenizer</code> for this purpose...</p>\n\n<pre><code>String test1 = \"/Test/Stuff\";\n        StringTokenizer st = new StringTokenizer(test1,\"/\");\n        while(st.hasMoreTokens())\n            System.out.println(st.nextToken());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":360576,"reputation":60355,"user_id":702638,"accept_rate":98,"display_name":"Hunter McMillen"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1329889378,"creation_date":1329889001,"answer_id":9389603,"question_id":9389503,"body_markdown":"I don&#39;t think there is a way you could do this with the built-in `split` method. So you have two options: \r\n\r\n1) Make your own split \r\n\r\n2) Iterate through the array after calling split and remove empty elements\r\n\r\nIf you make your own split you can just combine these two options\r\n\r\n    public List&lt;String&gt; split(String inString)\r\n    {\r\n       List&lt;String&gt; outList = new ArrayList&lt;&gt;();\r\n       String[]     test    = inString.split(&quot;/&quot;);\r\n    \r\n       for(String s : test)\r\n       {\r\n           if(s != null &amp;&amp; s.length() &gt; 0)\r\n               outList.add(s);\r\n       }\r\n    \r\n       return outList;\r\n    }\r\n\r\nor you could just check for the delimiter being in the first position before you call split and ignore the first character if it does:\r\n\r\n    String   delimiter       = &quot;/&quot;;\r\n    String   delimitedString = &quot;/Test/Stuff&quot;;\r\n    String[] test;\r\n    \r\n    if(delimitedString.startsWith(delimiter)){\r\n        //start at the 1st character not the 0th\r\n        test = delimitedString.substring(1).split(delimiter); \r\n    }\r\n    else\r\n        test = delimitedString.split(delimiter);","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>I don't think there is a way you could do this with the built-in <code>split</code> method. So you have two options: </p>\n\n<p>1) Make your own split </p>\n\n<p>2) Iterate through the array after calling split and remove empty elements</p>\n\n<p>If you make your own split you can just combine these two options</p>\n\n<pre><code>public List&lt;String&gt; split(String inString)\n{\n   List&lt;String&gt; outList = new ArrayList&lt;&gt;();\n   String[]     test    = inString.split(\"/\");\n\n   for(String s : test)\n   {\n       if(s != null &amp;&amp; s.length() &gt; 0)\n           outList.add(s);\n   }\n\n   return outList;\n}\n</code></pre>\n\n<p>or you could just check for the delimiter being in the first position before you call split and ignore the first character if it does:</p>\n\n<pre><code>String   delimiter       = \"/\";\nString   delimitedString = \"/Test/Stuff\";\nString[] test;\n\nif(delimitedString.startsWith(delimiter)){\n    //start at the 1st character not the 0th\n    test = delimitedString.substring(1).split(delimiter); \n}\nelse\n    test = delimitedString.split(delimiter);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20306,"reputation":4411,"user_id":48405,"accept_rate":56,"display_name":"Joe Attardi"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1329927759,"creation_date":1329889140,"answer_id":9389620,"question_id":9389503,"body_markdown":"Your best bet is probably just to strip out any leading delimiter:\r\n\r\n    String input = &quot;/Test/Stuff&quot;;\r\n    String[] test = input.replaceFirst(&quot;^/&quot;, &quot;&quot;).split(&quot;/&quot;);\r\n\r\nYou can make it more generic by putting it in a method:\r\n\r\n    public String[] mySplit(final String input, final String delim)\r\n    {\r\n        return input.replaceFirst(&quot;^&quot; + delim, &quot;&quot;).split(delim);\r\n    }\r\n\r\n    String[] test = mySplit(&quot;/Test/Stuff&quot;, &quot;/&quot;);","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>Your best bet is probably just to strip out any leading delimiter:</p>\n\n<pre><code>String input = \"/Test/Stuff\";\nString[] test = input.replaceFirst(\"^/\", \"\").split(\"/\");\n</code></pre>\n\n<p>You can make it more generic by putting it in a method:</p>\n\n<pre><code>public String[] mySplit(final String input, final String delim)\n{\n    return input.replaceFirst(\"^\" + delim, \"\").split(delim);\n}\n\nString[] test = mySplit(\"/Test/Stuff\", \"/\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1236369,"reputation":14751,"user_id":1199882,"accept_rate":80,"display_name":"CodeBlue"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1329889165,"creation_date":1329889165,"answer_id":9389625,"question_id":9389503,"body_markdown":"I think you shall have to manually remove the first empty string. A simple way to do that is this - \r\n\r\n      String string, subString;\r\n      int index;\r\n      String[] test;\r\n\r\n      string = &quot;/Test/Stuff&quot;;\r\n      index  = string.indexOf(&quot;/&quot;);\r\n      subString = string.substring(index+1);\r\n \r\n      test = subString.split(&quot;/&quot;); \r\n\r\nThis will exclude the leading empty string.","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>I think you shall have to manually remove the first empty string. A simple way to do that is this - </p>\n\n<pre><code>  String string, subString;\n  int index;\n  String[] test;\n\n  string = \"/Test/Stuff\";\n  index  = string.indexOf(\"/\");\n  subString = string.substring(index+1);\n\n  test = subString.split(\"/\"); \n</code></pre>\n\n<p>This will exclude the leading empty string.</p>\n"},{"tags":[],"owner":{"account_id":1152215,"reputation":9967,"user_id":1133674,"accept_rate":52,"display_name":"Rahul Tapali"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1329900039,"creation_date":1329900039,"answer_id":9391527,"question_id":9389503,"body_markdown":"I think there is no built-in function to remove blank string in Java. You can eliminate blank deleting string but it may lead to error. For safe you can do this by writing small piece of code as follow:\r\n\r\n      List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n      for(String str : test) \r\n      {\r\n         if(str != null &amp;&amp; str.length() &gt; 0) \r\n         {\r\n             list.add(str);\r\n         }\r\n      }\r\n\r\n      test = stringList.toArray(new String[list.size()]);\r\n\r\n","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>I think there is no built-in function to remove blank string in Java. You can eliminate blank deleting string but it may lead to error. For safe you can do this by writing small piece of code as follow:</p>\n\n<pre><code>  List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n  for(String str : test) \n  {\n     if(str != null &amp;&amp; str.length() &gt; 0) \n     {\n         list.add(str);\n     }\n  }\n\n  test = stringList.toArray(new String[list.size()]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111625,"reputation":2845,"user_id":294789,"accept_rate":94,"display_name":"adranale"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1417714752,"creation_date":1329903736,"answer_id":9392369,"question_id":9389503,"body_markdown":"Apache Commons has a utility method for exactly this: `org.apache.commons.lang.StringUtils.split`\r\n\r\n[StringUtils.split()][1]\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#split(java.lang.String)\r\n\r\nActually in our company we now prefer using this method for splitting in all our projects.","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>Apache Commons has a utility method for exactly this: <code>org.apache.commons.lang.StringUtils.split</code></p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/StringUtils.html#split(java.lang.String)\" rel=\"noreferrer\">StringUtils.split()</a></p>\n\n<p>Actually in our company we now prefer using this method for splitting in all our projects.</p>\n"},{"tags":[],"owner":{"account_id":2972933,"reputation":173,"user_id":2524635,"display_name":"K. George Pradhan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1400440472,"creation_date":1400440472,"answer_id":23725841,"question_id":9389503,"body_markdown":"This is how I&#39;ve gotten around this problem. I take the string, call .toCharArray() on it to split it into an array of chars, and then loop through that array and add it to my String list (wrapping each char with String.valueOf). I imagine there&#39;s some performance tradeoff but it seems like a readable solution. Hope this helps! \r\n\r\n     char[] stringChars = string.toCharArray(); \r\n     List&lt;String&gt; stringList = new ArrayList&lt;&gt;(); \r\n\r\n     for (char stringChar : stringChars) { \r\n          stringList.add(String.valueOf(stringChar)); \r\n     }","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>This is how I've gotten around this problem. I take the string, call .toCharArray() on it to split it into an array of chars, and then loop through that array and add it to my String list (wrapping each char with String.valueOf). I imagine there's some performance tradeoff but it seems like a readable solution. Hope this helps! </p>\n\n<pre><code> char[] stringChars = string.toCharArray(); \n List&lt;String&gt; stringList = new ArrayList&lt;&gt;(); \n\n for (char stringChar : stringChars) { \n      stringList.add(String.valueOf(stringChar)); \n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17276027,"reputation":1,"user_id":12510644,"display_name":"enjoy187"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1575972078,"creation_date":1575971124,"answer_id":59264303,"question_id":9389503,"body_markdown":"You can only add statement like `if(StringUtils.isEmpty(string)) continue;` before print the string. My JDK version 1.8, no Blank will be printed. \r\n5\r\nthis\r\nprogram\r\ngives\r\nme\r\nproblems","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>You can only add statement like <code>if(StringUtils.isEmpty(string)) continue;</code> before print the string. My JDK version 1.8, no Blank will be printed. \n5\nthis\nprogram\ngives\nme\nproblems</p>\n"},{"tags":[],"owner":{"account_id":2015074,"reputation":59,"user_id":1802592,"display_name":"m_c"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588753058,"creation_date":1588753058,"answer_id":61630479,"question_id":9389503,"body_markdown":"When using JDK8 and streams, just add a skip(1) after the split. Following sniped decodes a (very wired) hex encoded string.\r\n\r\n    Arrays.asList(&quot;\\\\x42\\\\x41\\\\x53\\\\x45\\\\x36\\\\x34&quot;.split(&quot;\\\\\\\\x&quot;))\r\n        .stream()\r\n        .skip(1) // &lt;- ignore the first empty element\r\n        .map(c-&gt;&quot;&quot;+(char)Integer.parseInt(c, 16))\r\n        .collect(Collectors.joining())","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>When using JDK8 and streams, just add a skip(1) after the split. Following sniped decodes a (very wired) hex encoded string.</p>\n\n<pre><code>Arrays.asList(\"\\\\x42\\\\x41\\\\x53\\\\x45\\\\x36\\\\x34\".split(\"\\\\\\\\x\"))\n    .stream()\n    .skip(1) // &lt;- ignore the first empty element\n    .map(c-&gt;\"\"+(char)Integer.parseInt(c, 16))\n    .collect(Collectors.joining())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28484031,"reputation":11,"user_id":21797603,"display_name":"hari862"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683979972,"creation_date":1683979972,"answer_id":76242672,"question_id":9389503,"body_markdown":"Split method variants like split(regex, limit) can also produce empty strings at beginning or in middle of the resulting String array. Below code removes all such empty strings using streams api filter method in Java 8.\r\n\r\nSample code:\r\n\r\n    String[] tokens = s.split(&quot;/&quot;);\r\n    Arrays.stream(tokens)\r\n    .filter(s1 -&gt; !s1.isEmpty())\r\n    .forEach(System.out::println);","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>Split method variants like split(regex, limit) can also produce empty strings at beginning or in middle of the resulting String array. Below code removes all such empty strings using streams api filter method in Java 8.</p>\n<p>Sample code:</p>\n<pre><code>String[] tokens = s.split(&quot;/&quot;);\nArrays.stream(tokens)\n.filter(s1 -&gt; !s1.isEmpty())\n.forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":145899,"reputation":8031,"user_id":356011,"accept_rate":95,"display_name":"marathon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48965,"favorite_count":0,"down_vote_count":0,"up_vote_count":68,"accepted_answer_id":9389620,"answer_count":10,"score":68,"last_activity_date":1683979972,"creation_date":1329888240,"question_id":9389503,"body_markdown":"passing 0 as a limit argument prevents trailing empty strings, but how does one prevent *leading* empty strings?\r\n\r\n\r\nfor instance\r\n\r\n    String[] test = &quot;/Test/Stuff&quot;.split(&quot;/&quot;);\r\n\r\nresults in an array with &quot;&quot;, &quot;Test&quot;, &quot;Stuff&quot;.\r\n\r\nYeah, I know I could roll my own Tokenizer...  but the API docs for StringTokenizer say \r\n\r\n&gt; &quot;StringTokenizer is a legacy class that is retained for compatibility\r\n&gt; reasons although its use is discouraged in new code. It is recommended\r\n&gt; that anyone seeking this functionality use the split&quot;","title":"How to prevent java.lang.String.split() from creating a leading empty string?","body":"<p>passing 0 as a limit argument prevents trailing empty strings, but how does one prevent <em>leading</em> empty strings?</p>\n\n<p>for instance</p>\n\n<pre><code>String[] test = \"/Test/Stuff\".split(\"/\");\n</code></pre>\n\n<p>results in an array with \"\", \"Test\", \"Stuff\".</p>\n\n<p>Yeah, I know I could roll my own Tokenizer...  but the API docs for StringTokenizer say </p>\n\n<blockquote>\n  <p>\"StringTokenizer is a legacy class that is retained for compatibility\n  reasons although its use is discouraged in new code. It is recommended\n  that anyone seeking this functionality use the split\"</p>\n</blockquote>\n"},{"tags":["java","directory","filewalker"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683900803,"post_id":76237002,"comment_id":134441989,"body_markdown":"are you sure the problem is not inside `distributionFolder.readingDirectory`? *Posted* code seems OK, but it would be easier to debug if we had a [mre]...","body":"are you sure the problem is not inside <code>distributionFolder.readingDirectory</code>? <i>Posted</i> code seems OK, but it would be easier to debug if we had a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>..."},{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":2,"creation_date":1683902228,"post_id":76237002,"comment_id":134442339,"body_markdown":"What you have provided is not a minimal example - all of the thread pool stuff is irrelevant and should be removed.","body":"What you have provided is not a minimal example - all of the thread pool stuff is irrelevant and should be removed."},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683902311,"post_id":76237002,"comment_id":134442362,"body_markdown":"@jon-hanson Ok I am editing right now","body":"@jon-hanson Ok I am editing right now"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683902854,"post_id":76237002,"comment_id":134442493,"body_markdown":"I have not understood why your code would read the `1111` folder twice, Have you?","body":"I have not understood why your code would read the <code>1111</code> folder twice, Have you?"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683903446,"post_id":76237002,"comment_id":134442620,"body_markdown":"@OleV.V. I just edited the question and my therory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; class is going to the sub folders as well, and I want to prevent that.","body":"@OleV.V. I just edited the question and my therory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; class is going to the sub folders as well, and I want to prevent that."},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683903499,"post_id":76237002,"comment_id":134442629,"body_markdown":"@jon-hanson ready, I edited the question","body":"@jon-hanson ready, I edited the question"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683903816,"post_id":76237002,"comment_id":134442686,"body_markdown":"still not clear, do you eventually want to limit the maximum depth that the `walk` is going? Maybe using the 3-argument `walk()` method (2nd argument is max depth) (e.g. it does not *walk* over `1111` since it already got `55354....` with its conetent)","body":"still not clear, do you eventually want to limit the maximum depth that the <code>walk</code> is going? Maybe using the 3-argument <code>walk()</code> method (2nd argument is max depth) (e.g. it does not <i>walk</i> over <code>1111</code> since it already got <code>55354....</code> with its conetent)"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683903934,"post_id":76237002,"comment_id":134442714,"body_markdown":"@user16320675 Yes I want to put a limit to the depth but I did not know how to explain this, thank you. The 3-argument as the &quot;walkFileTree()&quot;?","body":"@user16320675 Yes I want to put a limit to the depth but I did not know how to explain this, thank you. The 3-argument as the &quot;walkFileTree()&quot;?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1683903997,"post_id":76237002,"comment_id":134442734,"body_markdown":"link to documentation -&gt; [`Files.walk(Path, int, FileVisitOption...)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,int,java.nio.file.FileVisitOption...)) || BTW `File` has a `toPath()`","body":"link to documentation -&gt; <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html#walk(java.nio.file.Path,int,java.nio.file.FileVisitOption...)\" rel=\"nofollow noreferrer\"><code>Files.walk(Path, int, FileVisitOption...)</code></a> || BTW <code>File</code> has a <code>toPath()</code>"},{"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"score":0,"creation_date":1683904651,"post_id":76237002,"comment_id":134442884,"body_markdown":"@user16320675 Thank you so much, I learned something you, sorry for my silly question","body":"@user16320675 Thank you so much, I learned something you, sorry for my silly question"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1683905774,"post_id":76237002,"comment_id":134443201,"body_markdown":"it would be nice if you complement the question (adding the depth limit requirement) - maybe someone can write an answer (even you)","body":"it would be nice if you complement the question (adding the depth limit requirement) - maybe someone can write an answer (even you)"}],"answers":[{"tags":[],"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683977950,"creation_date":1683977950,"answer_id":76242529,"question_id":76237002,"body_markdown":"In order limit the maximum depth that the walk is going I used the &quot;Files.walk&quot; with all 3 parameters. I used in the &quot;DistributionFolder&quot; class for that try and catch block:\r\n\r\n\r\n     try (Stream&lt;Path&gt; paths = Files.walk(files.toPath(),1, FileVisitOption.FOLLOW_LINKS)){","title":"Iterate through a folder just once JAVA Files.walk","body":"<p>In order limit the maximum depth that the walk is going I used the &quot;Files.walk&quot; with all 3 parameters. I used in the &quot;DistributionFolder&quot; class for that try and catch block:</p>\n<pre><code> try (Stream&lt;Path&gt; paths = Files.walk(files.toPath(),1, FileVisitOption.FOLLOW_LINKS)){\n</code></pre>\n"}],"owner":{"account_id":20919730,"reputation":207,"user_id":15368642,"display_name":"ilie alexandru"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683977950,"creation_date":1683899533,"question_id":76237002,"body_markdown":"I am stuck regarding reading only the directories. I want to iterate a folder and see all the subdirectories that the folder contains. If the subdirectory contains txt files, then send it to the &quot;DistributionFolder&quot; class which will read that subdirectory. Now is reading a subdirectory, for instance:\r\n\r\n[![enter image description here][1]][1]\r\n \r\nCan read the content of &quot;check&quot;, which is a subdirectory of the &quot;Alex&quot; directory and both subdirectories of &quot;check&quot;, but unfortunately, if I will add another directory, for instance:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe content of &quot;1111&quot; directory will be read it twice. \r\n\r\nThis is the code that splits the directory and subdirectories:\r\n\r\n\r\n     private boolean readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\r\n    \r\n    \r\n    \r\n            List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\r\n    \r\n            // is getting the number of available processes\r\n            int nrThreads = Runtime.getRuntime().availableProcessors();\r\n    \r\n            // Creating a ExecutorService pool with the number of available processes\r\n            ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\r\n    \r\n            //Traverse the dataset using File walker\r\n    \r\n            try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\r\n                //filter the file to be a regular file\r\n                paths.filter(Files ::isDirectory)\r\n                        .filter(mainReader::isNotTheDefault)\r\n                // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\r\n                .forEach(\r\n                    path -&gt; {\r\n                        DistributionFolder distributionFolder = new DistributionFolder(this.directory,this.videoNumber);\r\n                        try {\r\n                            System.out.println(path);\r\n                            this.videoNumber=distributionFolder.readingDirectory(path.toFile(),writeDatasetInfo);\r\n                        } catch (IOException e) {\r\n                            throw new RuntimeException(e);\r\n                        } catch (InterruptedException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    });\r\n    \r\n            }catch (Exception e){\r\n                throw new RuntimeException(e);\r\n            }\r\n            finally {\r\n                pool.shutdown();\r\n                while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\r\n                    System.out.println(&quot;Not yet. Still waiting for termination&quot;);\r\n                }\r\n                Regression.FullRegression(this.directory);\r\n                return true;\r\n            }\r\n        }\r\n    \r\n        private static boolean isNotTheDefault(Path path){\r\n            if(!defaultFile.equals(path.toFile())){\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n\r\n\r\nThis is the &quot;DistributionFolder&quot; class\r\n\r\n    protected final String directory;\r\n    protected int videoNumber;\r\n    \r\n    \r\n    public DistributionFolder(String directory,int videoNumber){\r\n        this.directory=directory;\r\n        this.videoNumber=videoNumber;\r\n    }\r\n    \r\n    \r\n    protected int readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\r\n    \r\n        List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\r\n    \r\n        // is getting the number of available processes\r\n        int nrThreads = Runtime.getRuntime().availableProcessors();\r\n    \r\n        // Creating a ExecutorService pool with the number of available processes\r\n        ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\r\n    \r\n        //Traverse the dataset using File walker\r\n        try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\r\n            //filter the file to be a regular file\r\n            paths.filter(Files::isRegularFile)\r\n                    // apply the custom filter in order to read only txt files\r\n                    .filter(DistributionFolder::isTXT)\r\n                    // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\r\n                    .forEach(\r\n                            path -&gt; {\r\n    \r\n                                String[] strPath = String.valueOf(path).split(&quot;/&quot;);\r\n    \r\n                                pool.submit(new Reader(String.valueOf(path), videoNumber, this.directory, writeDatasetInfo,strPath[strPath.length-2]));\r\n                                this.videoNumber++;\r\n    \r\n                            });\r\n    \r\n        }catch (Exception e){\r\n            throw new RuntimeException(e);\r\n        }\r\n        finally {\r\n            // wait fo the execution of the pool to be done\r\n            pool.shutdown();\r\n            while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\r\n                System.out.println(&quot;Not yet. Still waiting for termination&quot;);\r\n            }\r\n            String[] splitFile = files.toString().split(&quot;/&quot;);\r\n    \r\n            MaintainedForRegression.SendMapForRegression(splitFile[splitFile.length-1],this.directory);\r\n            return this.videoNumber;\r\n        }\r\n    }\r\n    \r\n    private static boolean isTXT(Path path) {\r\n        String pathFile = String.valueOf(path);\r\n        String[] slittedpath = pathFile.split(&quot;/&quot;);\r\n        String[] splittedname = slittedpath[slittedpath.length - 1].split(&quot;\\\\.&quot;);\r\n        return splittedname[splittedname.length - 1].equals(&quot;txt&quot;);\r\n    }\r\n\r\nThis is the output when a new directory is inside of the first subdirectory of the check directory:\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n\r\nThis is an example that works perfectly fine, when the is no other subdirectory:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nThe output:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nI edited the question to add more context.\r\n\r\nMy theory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; will go to the subdirectories as well\r\n\r\nIf you have any suggestion please let me know. Thanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SUYpg.png\r\n  [2]: https://i.stack.imgur.com/bVPR6.png\r\n  [3]: https://i.stack.imgur.com/z37No.png\r\n  [4]: https://i.stack.imgur.com/Jw5qk.png\r\n  [5]: https://i.stack.imgur.com/34IrI.png","title":"Iterate through a folder just once JAVA Files.walk","body":"<p>I am stuck regarding reading only the directories. I want to iterate a folder and see all the subdirectories that the folder contains. If the subdirectory contains txt files, then send it to the &quot;DistributionFolder&quot; class which will read that subdirectory. Now is reading a subdirectory, for instance:</p>\n<p><a href=\"https://i.stack.imgur.com/SUYpg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SUYpg.png\" alt=\"enter image description here\" /></a></p>\n<p>Can read the content of &quot;check&quot;, which is a subdirectory of the &quot;Alex&quot; directory and both subdirectories of &quot;check&quot;, but unfortunately, if I will add another directory, for instance:</p>\n<p><a href=\"https://i.stack.imgur.com/bVPR6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bVPR6.png\" alt=\"enter image description here\" /></a></p>\n<p>The content of &quot;1111&quot; directory will be read it twice.</p>\n<p>This is the code that splits the directory and subdirectories:</p>\n<pre><code> private boolean readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\n\n\n\n        List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\n\n        // is getting the number of available processes\n        int nrThreads = Runtime.getRuntime().availableProcessors();\n\n        // Creating a ExecutorService pool with the number of available processes\n        ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\n\n        //Traverse the dataset using File walker\n\n        try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\n            //filter the file to be a regular file\n            paths.filter(Files ::isDirectory)\n                    .filter(mainReader::isNotTheDefault)\n            // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\n            .forEach(\n                path -&gt; {\n                    DistributionFolder distributionFolder = new DistributionFolder(this.directory,this.videoNumber);\n                    try {\n                        System.out.println(path);\n                        this.videoNumber=distributionFolder.readingDirectory(path.toFile(),writeDatasetInfo);\n                    } catch (IOException e) {\n                        throw new RuntimeException(e);\n                    } catch (InterruptedException e) {\n                        throw new RuntimeException(e);\n                    }\n                });\n\n        }catch (Exception e){\n            throw new RuntimeException(e);\n        }\n        finally {\n            pool.shutdown();\n            while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\n                System.out.println(&quot;Not yet. Still waiting for termination&quot;);\n            }\n            Regression.FullRegression(this.directory);\n            return true;\n        }\n    }\n\n    private static boolean isNotTheDefault(Path path){\n        if(!defaultFile.equals(path.toFile())){\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n<p>This is the &quot;DistributionFolder&quot; class</p>\n<pre><code>protected final String directory;\nprotected int videoNumber;\n\n\npublic DistributionFolder(String directory,int videoNumber){\n    this.directory=directory;\n    this.videoNumber=videoNumber;\n}\n\n\nprotected int readingDirectory(File files, WriteDatasetInfo writeDatasetInfo) throws IOException, InterruptedException {\n\n    List&lt;Future&gt; futures = new ArrayList&lt;&gt;();\n\n    // is getting the number of available processes\n    int nrThreads = Runtime.getRuntime().availableProcessors();\n\n    // Creating a ExecutorService pool with the number of available processes\n    ExecutorService pool = Executors.newFixedThreadPool(nrThreads);\n\n    //Traverse the dataset using File walker\n    try (Stream&lt;Path&gt; paths = Files.walk(Paths.get(String.valueOf(files)))){\n        //filter the file to be a regular file\n        paths.filter(Files::isRegularFile)\n                // apply the custom filter in order to read only txt files\n                .filter(DistributionFolder::isTXT)\n                // for each file submit the work to the ExecutorService pool to be executed and add the videoNumber\n                .forEach(\n                        path -&gt; {\n\n                            String[] strPath = String.valueOf(path).split(&quot;/&quot;);\n\n                            pool.submit(new Reader(String.valueOf(path), videoNumber, this.directory, writeDatasetInfo,strPath[strPath.length-2]));\n                            this.videoNumber++;\n\n                        });\n\n    }catch (Exception e){\n        throw new RuntimeException(e);\n    }\n    finally {\n        // wait fo the execution of the pool to be done\n        pool.shutdown();\n        while (!pool.awaitTermination(24L, TimeUnit.HOURS)) {\n            System.out.println(&quot;Not yet. Still waiting for termination&quot;);\n        }\n        String[] splitFile = files.toString().split(&quot;/&quot;);\n\n        MaintainedForRegression.SendMapForRegression(splitFile[splitFile.length-1],this.directory);\n        return this.videoNumber;\n    }\n}\n\nprivate static boolean isTXT(Path path) {\n    String pathFile = String.valueOf(path);\n    String[] slittedpath = pathFile.split(&quot;/&quot;);\n    String[] splittedname = slittedpath[slittedpath.length - 1].split(&quot;\\\\.&quot;);\n    return splittedname[splittedname.length - 1].equals(&quot;txt&quot;);\n}\n</code></pre>\n<p>This is the output when a new directory is inside of the first subdirectory of the check directory:</p>\n<p><a href=\"https://i.stack.imgur.com/z37No.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/z37No.png\" alt=\"enter image description here\" /></a></p>\n<p>This is an example that works perfectly fine, when the is no other subdirectory:</p>\n<p><a href=\"https://i.stack.imgur.com/Jw5qk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jw5qk.png\" alt=\"enter image description here\" /></a></p>\n<p>The output:</p>\n<p><a href=\"https://i.stack.imgur.com/34IrI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/34IrI.png\" alt=\"enter image description here\" /></a></p>\n<p>I edited the question to add more context.</p>\n<p>My theory is: when I pass the path of the directory to the &quot;DistributionFolder&quot; will go to the subdirectories as well</p>\n<p>If you have any suggestion please let me know. Thanks!</p>\n"},{"tags":["java","algorithm","tensorflow","knapsack-problem","or-tools"],"comments":[{"owner":{"account_id":11288679,"reputation":923,"user_id":8278630,"display_name":"Farkhod Abdukodirov"},"score":0,"creation_date":1684123709,"post_id":76242028,"comment_id":134465216,"body_markdown":"looks like didn&#39;t try, instead looking for way to solve his task problem","body":"looks like didn&#39;t try, instead looking for way to solve his task problem"}],"answers":[{"tags":[],"owner":{"account_id":13814932,"reputation":9106,"user_id":9971759,"display_name":"Laurent Perron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683977711,"creation_date":1683977711,"answer_id":76242507,"question_id":76242028,"body_markdown":"this is not a linear problem. So not using the linear solver wrapper.","title":"a ortools problem，find min value of the Knapsack problem,but value is caculated by tensorflow model not constant coefficient","body":"<p>this is not a linear problem. So not using the linear solver wrapper.</p>\n"}],"owner":{"account_id":14362391,"reputation":11,"user_id":10374373,"display_name":"冯佳奇"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1683977711,"creation_date":1683970591,"question_id":76242028,"body_markdown":"    public List&lt;Waste&gt; main(List&lt;Waste&gt; nowStock) throws Exception {\r\n        Loader.loadNativeLibraries();\r\n\r\n        HashMap&lt;@Nullable Integer, @Nullable Waste&gt; iToWaste = Maps.newHashMap();\r\n\r\n        for (int i = 0; i &lt; nowStock.size(); i++) {\r\n            iToWaste.put(i, nowStock.get(i));\r\n        }\r\n\r\n        final int numItems = iToWaste.size();\r\n\r\n        final int[] allItemsId = IntStream.range(0, numItems).toArray();\r\n\r\n        final double binCapacities = 70;\r\n        //StringBuffer sb = new StringBuffer();\r\n        // Create the linear solver with the SCIP backend.\r\n        MPSolver solver = MPSolver.createSolver(&quot;SCIP&quot;);\r\n        if (solver == null) {\r\n\r\n            throw new Exception(&quot;Could not create solver SCIP&quot;);\r\n\r\n        }\r\n\r\n        // Variables.\r\n        MPVariable[] x = new MPVariable[numItems];\r\n\r\n        for (int i : allItemsId) {\r\n            x[i] = solver.makeBoolVar(&quot;x_&quot; + i);\r\n        }\r\n\r\n        // Constraints.\r\n        // Each item is assigned to at most one bin.\r\n        for (int i : allItemsId) {\r\n            MPConstraint constraint = solver.makeConstraint(0, 1, &quot;&quot;);\r\n            constraint.setCoefficient(x[i], 1);\r\n        }\r\n\r\n        // The amount packed in each bin cannot exceed its capacity.\r\n\r\n        MPConstraint constraint = solver.makeConstraint(binCapacities*0.95, binCapacities*1.05, &quot;&quot;);\r\n\r\n        for (int i : allItemsId) {\r\n            constraint.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\r\n        }\r\n\r\n\r\n        // Objective.\r\n        // Minimize cost value of packed items.\r\n        MPObjective costValue = solver.objective();\r\n\r\n        List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\r\n\r\n        costValue.setOffset(getCost(wastes).doubleValue());\r\n\r\n        costValue.setMinimization();\r\n\r\n\r\n        // Objective.\r\n        // Maximize weight of packed items.\r\n        MPObjective weight = solver.objective();\r\n        for (int i : allItemsId) {\r\n            weight.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\r\n        }\r\n        weight.setMaximization();\r\n        \r\n        solver.setNumThreads(20);\r\n\r\n        final MPSolver.ResultStatus status = solver.solve();\r\n\r\n\r\n        // Check that the problem has an optimal solution.\r\n        if (status == MPSolver.ResultStatus.OPTIMAL) {\r\n            return Arrays.stream(allItemsId).filter(id-&gt;x[id].solutionValue() == 1).mapToObj(id -&gt; iToWaste.get(id)).toList();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\nthis part code\r\n\r\n        MPObjective costValue = solver.objective();\r\n\r\n        List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\r\n\r\n        costValue.setOffset(getCost(wastes).doubleValue());\r\n\r\n        costValue.setMinimization();\r\n\r\n\r\ni konw it is wrong.i want to find the minimize cost value,its cost is not depend on anyone of the combination，the cost depend on the combination.So the coefficient is dynamic，\r\nhow can i solve this problem.Thanks.\r\n\r\n\r\n\r\nhttps://developers.google.com/optimization/lp/stigler_diet\r\nhttps://developers.google.com/optimization/pack/multiple_knapsack\r\n\r\nthese are the docs I  refer to\r\n","title":"a ortools problem，find min value of the Knapsack problem,but value is caculated by tensorflow model not constant coefficient","body":"<pre><code>public List&lt;Waste&gt; main(List&lt;Waste&gt; nowStock) throws Exception {\n    Loader.loadNativeLibraries();\n\n    HashMap&lt;@Nullable Integer, @Nullable Waste&gt; iToWaste = Maps.newHashMap();\n\n    for (int i = 0; i &lt; nowStock.size(); i++) {\n        iToWaste.put(i, nowStock.get(i));\n    }\n\n    final int numItems = iToWaste.size();\n\n    final int[] allItemsId = IntStream.range(0, numItems).toArray();\n\n    final double binCapacities = 70;\n    //StringBuffer sb = new StringBuffer();\n    // Create the linear solver with the SCIP backend.\n    MPSolver solver = MPSolver.createSolver(&quot;SCIP&quot;);\n    if (solver == null) {\n\n        throw new Exception(&quot;Could not create solver SCIP&quot;);\n\n    }\n\n    // Variables.\n    MPVariable[] x = new MPVariable[numItems];\n\n    for (int i : allItemsId) {\n        x[i] = solver.makeBoolVar(&quot;x_&quot; + i);\n    }\n\n    // Constraints.\n    // Each item is assigned to at most one bin.\n    for (int i : allItemsId) {\n        MPConstraint constraint = solver.makeConstraint(0, 1, &quot;&quot;);\n        constraint.setCoefficient(x[i], 1);\n    }\n\n    // The amount packed in each bin cannot exceed its capacity.\n\n    MPConstraint constraint = solver.makeConstraint(binCapacities*0.95, binCapacities*1.05, &quot;&quot;);\n\n    for (int i : allItemsId) {\n        constraint.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\n    }\n\n\n    // Objective.\n    // Minimize cost value of packed items.\n    MPObjective costValue = solver.objective();\n\n    List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\n\n    costValue.setOffset(getCost(wastes).doubleValue());\n\n    costValue.setMinimization();\n\n\n    // Objective.\n    // Maximize weight of packed items.\n    MPObjective weight = solver.objective();\n    for (int i : allItemsId) {\n        weight.setCoefficient(x[i], iToWaste.get(i).getWeight().doubleValue());\n    }\n    weight.setMaximization();\n    \n    solver.setNumThreads(20);\n\n    final MPSolver.ResultStatus status = solver.solve();\n\n\n    // Check that the problem has an optimal solution.\n    if (status == MPSolver.ResultStatus.OPTIMAL) {\n        return Arrays.stream(allItemsId).filter(id-&gt;x[id].solutionValue() == 1).mapToObj(id -&gt; iToWaste.get(id)).toList();\n    }\n    return null;\n}\n</code></pre>\n<p>this part code</p>\n<pre><code>    MPObjective costValue = solver.objective();\n\n    List&lt;Waste&gt; wastes = Arrays.stream(x).map(id -&gt; iToWaste.get(id.index())).toList();\n\n    costValue.setOffset(getCost(wastes).doubleValue());\n\n    costValue.setMinimization();\n</code></pre>\n<p>i konw it is wrong.i want to find the minimize cost value,its cost is not depend on anyone of the combination，the cost depend on the combination.So the coefficient is dynamic，\nhow can i solve this problem.Thanks.</p>\n<p><a href=\"https://developers.google.com/optimization/lp/stigler_diet\" rel=\"nofollow noreferrer\">https://developers.google.com/optimization/lp/stigler_diet</a>\n<a href=\"https://developers.google.com/optimization/pack/multiple_knapsack\" rel=\"nofollow noreferrer\">https://developers.google.com/optimization/pack/multiple_knapsack</a></p>\n<p>these are the docs I  refer to</p>\n"},{"tags":["java","generics","reflection","comparator"],"answers":[{"tags":[],"owner":{"account_id":4500219,"reputation":26,"user_id":3658934,"display_name":"developerSid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400645619,"creation_date":1400640316,"answer_id":23773146,"question_id":23772308,"body_markdown":"I&#39;m inclined to say that you might be best just creating concrete implementations of the different comparators similar to what you showed at the beginning of your question.\r\n\r\n    public class PersonNameComparator implements Comparator&lt;Person&gt;\r\n    {\r\n       public int compareTo(Person o1, Person o2)\r\n       {\r\n           return o1.getName().compareTo(o2.getName());\r\n       }\r\n    }\r\n\r\n    public class PersonSurnameComparator implements Comparator&lt;Person&gt;\r\n    {\r\n       public int compareTo(Person o1, Person o2)\r\n       {\r\n           return o1.getSurname().compareTo(o2.getSurname());\r\n       }\r\n    }\r\n\r\nThen just call the standard library Collections sorting method\r\n\r\n    Collections.sort(listofpersons, new PersonNameComparator());\r\n    Collections.sort(listofpersons, new PersonSurameComparator());\r\n\r\nIt is probably a bit of a code smell since it is a lot of bowler plate code that you&#39;ll end up having the IDE generate, but it would at least have the advantage of being easy to write some unit tests around, and be more performant (if only slightly) than using reflection.\r\n\r\nThe short coming of this approach is that you will have to implement a new comparator every time you add a new method to the Person class, so there is a lot of bloat going on here.","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>I'm inclined to say that you might be best just creating concrete implementations of the different comparators similar to what you showed at the beginning of your question.</p>\n\n<pre><code>public class PersonNameComparator implements Comparator&lt;Person&gt;\n{\n   public int compareTo(Person o1, Person o2)\n   {\n       return o1.getName().compareTo(o2.getName());\n   }\n}\n\npublic class PersonSurnameComparator implements Comparator&lt;Person&gt;\n{\n   public int compareTo(Person o1, Person o2)\n   {\n       return o1.getSurname().compareTo(o2.getSurname());\n   }\n}\n</code></pre>\n\n<p>Then just call the standard library Collections sorting method</p>\n\n<pre><code>Collections.sort(listofpersons, new PersonNameComparator());\nCollections.sort(listofpersons, new PersonSurameComparator());\n</code></pre>\n\n<p>It is probably a bit of a code smell since it is a lot of bowler plate code that you'll end up having the IDE generate, but it would at least have the advantage of being easy to write some unit tests around, and be more performant (if only slightly) than using reflection.</p>\n\n<p>The short coming of this approach is that you will have to implement a new comparator every time you add a new method to the Person class, so there is a lot of bloat going on here.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400641741,"creation_date":1400641741,"answer_id":23773301,"question_id":23772308,"body_markdown":"You can&#39;t sort a *Collection*, only a *List*. This is because not all Collections (eg Set) support the concept of element &quot;order&quot;.\r\n\r\n\r\nChange the method signature to:\r\n\r\n    public static &lt;T&gt; void sort(List&lt;T&gt; list, final String methodName) {\r\n","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>You can't sort a <em>Collection</em>, only a <em>List</em>. This is because not all Collections (eg Set) support the concept of element \"order\".</p>\n\n<p>Change the method signature to:</p>\n\n<pre><code>public static &lt;T&gt; void sort(List&lt;T&gt; list, final String methodName) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13508,"reputation":30347,"user_id":27198,"accept_rate":72,"display_name":"Itay Maman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1400643887,"creation_date":1400641796,"answer_id":23773309,"question_id":23772308,"body_markdown":"The problem is in the signature of the `sortCollection` method. You should change the type of the `list` parameter from `Collection&lt;T&gt;` to `List&lt;T&gt;`. In other words, your method&#39;s header  should be:\r\n\r\n    public static &lt;T&gt; void sortCollection(List&lt;T&gt; list, final String methodName)\r\n\r\n\r\nThat&#39;s because `Collections.sort()` expects its first parameter to be a `List` (See its [javadoc][1])\r\n\r\n\r\n\r\n\r\nEDIT:\r\n\r\nRegarding your implementation, there are some generic/reflection tricks which you can use. Here&#39;s a possible alternative impl.\r\n\r\n    \r\n    @SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })\r\n    public static&lt;T&gt; Comparator&lt;T&gt; \r\n      newMethodComparator(Class&lt;T&gt; cls, String methodName) throws Exception {    \r\n      Method method = cls.getMethod(methodName);\r\n      if (method.getParameterTypes().length != 0) \r\n        throw new Exception(&quot;Method &quot; + method + &quot; takes parameters&quot;);\r\n      \r\n      Class&lt;?&gt; returnType = method.getReturnType();\r\n      if (!Comparable.class.isAssignableFrom(returnType))\r\n        throw new Exception(&quot;The return type &quot; + returnType + &quot; is not Comparable&quot;);\r\n      \r\n      return newMethodComparator(method, (Class&lt;? extends Comparable&gt;) returnType);      \r\n    }\r\n  \r\n    private static&lt;T,R extends Comparable&lt;R&gt;&gt; Comparator&lt;T&gt; newMethodComparator(\r\n        final Method method, final Class&lt;R&gt; returnType) throws Exception {    \r\n      return new Comparator&lt;T&gt;() {\r\n        @Override\r\n        public int compare(T o1, T o2) {\r\n          try {\r\n            R a = invoke(method, o1);\r\n            R b = invoke(method, o2);\r\n            return a.compareTo(b);\r\n          } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n          }\r\n        }\r\n  \r\n        private R invoke(Method method, T o) throws Exception {\r\n          return returnType.cast(method.invoke(o));\r\n        }\r\n      };\r\n    }\r\n\r\n\r\nHere&#39;s how you would use it:\r\n\r\n      List&lt;Person&gt; ps = new ArrayList&lt;&gt;(Arrays.asList(\r\n        new Person(&quot;A&quot;, &quot;D&quot;), new Person(&quot;B&quot;,  &quot;C&quot;)));\r\n      ...\r\n\r\n      Comparator&lt;Person&gt; byNameComparator = \r\n        newMethodComparator(Person.class, &quot;getName&quot;);\r\n      Collections.sort(ps,  byNameComparator);\r\n\r\n\r\nRationale:\r\n\r\n(a) This impl. will work for any method that returns a `Comparable` object. Your implementation is using string-comparison which will not work nicely, for one, if the method  return an int.\r\n\r\n(b) This impl. checks the method&#39;s return type and the fact that it takes zero arguments at the point where the `Comparator` is created, which is *before* the sorting has started. Thus, there is lesser chance of `Collections.sort()` throwing an exception on you.\r\n\r\n(c) Note that the `@SuppressWarnings({ &quot;unchecked&quot;, &quot;rawtypes&quot; })` does not pose any real risk. If the method&#39;s return type is `Comparable` then the downcasts will succeed. If the return type is not `Comparable` then `Comparable.class.isAssignableFrom(returnType))` will return false, the method will throw an explicit exception and the downcast will never be reached.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>The problem is in the signature of the <code>sortCollection</code> method. You should change the type of the <code>list</code> parameter from <code>Collection&lt;T&gt;</code> to <code>List&lt;T&gt;</code>. In other words, your method's header  should be:</p>\n\n<pre><code>public static &lt;T&gt; void sortCollection(List&lt;T&gt; list, final String methodName)\n</code></pre>\n\n<p>That's because <code>Collections.sort()</code> expects its first parameter to be a <code>List</code> (See its <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Collections.html#sort%28java.util.List,%20java.util.Comparator%29\" rel=\"nofollow\">javadoc</a>)</p>\n\n<p>EDIT:</p>\n\n<p>Regarding your implementation, there are some generic/reflection tricks which you can use. Here's a possible alternative impl.</p>\n\n<pre><code>@SuppressWarnings({ \"unchecked\", \"rawtypes\" })\npublic static&lt;T&gt; Comparator&lt;T&gt; \n  newMethodComparator(Class&lt;T&gt; cls, String methodName) throws Exception {    \n  Method method = cls.getMethod(methodName);\n  if (method.getParameterTypes().length != 0) \n    throw new Exception(\"Method \" + method + \" takes parameters\");\n\n  Class&lt;?&gt; returnType = method.getReturnType();\n  if (!Comparable.class.isAssignableFrom(returnType))\n    throw new Exception(\"The return type \" + returnType + \" is not Comparable\");\n\n  return newMethodComparator(method, (Class&lt;? extends Comparable&gt;) returnType);      \n}\n\nprivate static&lt;T,R extends Comparable&lt;R&gt;&gt; Comparator&lt;T&gt; newMethodComparator(\n    final Method method, final Class&lt;R&gt; returnType) throws Exception {    \n  return new Comparator&lt;T&gt;() {\n    @Override\n    public int compare(T o1, T o2) {\n      try {\n        R a = invoke(method, o1);\n        R b = invoke(method, o2);\n        return a.compareTo(b);\n      } catch (Exception e) {\n        throw new RuntimeException(e);\n      }\n    }\n\n    private R invoke(Method method, T o) throws Exception {\n      return returnType.cast(method.invoke(o));\n    }\n  };\n}\n</code></pre>\n\n<p>Here's how you would use it:</p>\n\n<pre><code>  List&lt;Person&gt; ps = new ArrayList&lt;&gt;(Arrays.asList(\n    new Person(\"A\", \"D\"), new Person(\"B\",  \"C\")));\n  ...\n\n  Comparator&lt;Person&gt; byNameComparator = \n    newMethodComparator(Person.class, \"getName\");\n  Collections.sort(ps,  byNameComparator);\n</code></pre>\n\n<p>Rationale:</p>\n\n<p>(a) This impl. will work for any method that returns a <code>Comparable</code> object. Your implementation is using string-comparison which will not work nicely, for one, if the method  return an int.</p>\n\n<p>(b) This impl. checks the method's return type and the fact that it takes zero arguments at the point where the <code>Comparator</code> is created, which is <em>before</em> the sorting has started. Thus, there is lesser chance of <code>Collections.sort()</code> throwing an exception on you.</p>\n\n<p>(c) Note that the <code>@SuppressWarnings({ \"unchecked\", \"rawtypes\" })</code> does not pose any real risk. If the method's return type is <code>Comparable</code> then the downcasts will succeed. If the return type is not <code>Comparable</code> then <code>Comparable.class.isAssignableFrom(returnType))</code> will return false, the method will throw an explicit exception and the downcast will never be reached.</p>\n"},{"tags":[],"owner":{"account_id":3434736,"reputation":1,"user_id":2878109,"display_name":"Ganesh Gore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683977017,"creation_date":1683974388,"answer_id":76242286,"question_id":23772308,"body_markdown":"\r\nBelow solution still might need few more checks if the &#39;T&#39; contains other complex types and are not comparable.     \t\r\n\r\n```\r\npublic &lt;T&gt; void sortList(List&lt;T&gt; objList, String[] attributes) throws ClassNotFoundException {\r\n  Comparator&lt;T&gt; comparator = null;\r\n  Comparator&lt;T&gt; temp = null;\r\n  if (objList != null) {\r\n    Class classObj = objList.get(0).getClass();\r\n    Method[] methods = classObj.getMethods();\r\n    for(String attribute : attributes) {\r\n      for(Method method : methods) {\r\n    \tif(method.getName().contains(&quot;get&quot;) &amp;&amp; method.getName().toLowerCase().contains(attribute.toLowerCase()))\r\n    \t  temp = new Comparator&lt;T&gt;() {\r\n    \t\t@Override\r\n    \t\tpublic int compare(T o1, T o2) {\r\n    \t\t  try {\r\n    \t\t    Comparable v1 = (Comparable) method.invoke(o1);\r\n    \t\t\tComparable v2 = (Comparable) method.invoke(o2);\r\n    \t\t\treturn v1.compareTo(v2);\r\n    \t\t  } catch (IllegalAccessException | InvocationTargetException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t  }\r\n    \t\t  return 0;\r\n    \t\t}\r\n    \t  };\r\n    \t  if (temp != null)\r\n    \t\tif (comparator == null)\r\n    \t\t  comparator = temp;\r\n    \t\telse\r\n    \t\t  comparator = comparator.thenComparing(temp);\r\n    \t\t}\r\n    \t  }\r\n    \t  if (comparator != null)\r\n    \t    objList.sort(comparator);\r\n    \t  }\r\n    \t}\r\n```","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>Below solution still might need few more checks if the 'T' contains other complex types and are not comparable.</p>\n<pre><code>public &lt;T&gt; void sortList(List&lt;T&gt; objList, String[] attributes) throws ClassNotFoundException {\n  Comparator&lt;T&gt; comparator = null;\n  Comparator&lt;T&gt; temp = null;\n  if (objList != null) {\n    Class classObj = objList.get(0).getClass();\n    Method[] methods = classObj.getMethods();\n    for(String attribute : attributes) {\n      for(Method method : methods) {\n        if(method.getName().contains(&quot;get&quot;) &amp;&amp; method.getName().toLowerCase().contains(attribute.toLowerCase()))\n          temp = new Comparator&lt;T&gt;() {\n            @Override\n            public int compare(T o1, T o2) {\n              try {\n                Comparable v1 = (Comparable) method.invoke(o1);\n                Comparable v2 = (Comparable) method.invoke(o2);\n                return v1.compareTo(v2);\n              } catch (IllegalAccessException | InvocationTargetException e) {\n                e.printStackTrace();\n              }\n              return 0;\n            }\n          };\n          if (temp != null)\n            if (comparator == null)\n              comparator = temp;\n            else\n              comparator = comparator.thenComparing(temp);\n            }\n          }\n          if (comparator != null)\n            objList.sort(comparator);\n          }\n        }\n</code></pre>\n"}],"owner":{"account_id":1159821,"reputation":1128,"user_id":1139581,"accept_rate":62,"display_name":"moretti.fabio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1419,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23773309,"answer_count":4,"score":2,"last_activity_date":1683977017,"creation_date":1400633686,"question_id":23772308,"body_markdown":"I hava a lot of classes like this:\r\n\r\n    Class Person {\r\n      protected String name;\r\n      protected String surname;\r\n      ...getters and setters...\r\n    }\r\n\r\nI&#39;d like to order a Collection of Person by name or by surname. Actually I&#39;m simply doing this:\r\n\r\n    Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\r\n      @Override \r\n      public int compare(Person p1, Person p2) { return p1.getName().compareTo(p2.getName()); }      \r\n    })\r\n\r\nor\r\n\r\n    Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\r\n      @Override \r\n      public int compare(Person p1, Person p2) { return p1.getSurname().compareTo(p2.getSurname()); }      \r\n    })\r\n\r\nI&#39;m trying to implement a generic comparator, like:\r\n\r\n    MyUtils.sort(listofpersons,&quot;getName&quot;);\r\n    MyUtils.sort(listofpersons,&quot;getSurame&quot;);\r\n\r\nand I&#39;m trying to understand of to do it with generics and reflection, but I&#39;m stuck. I&#39;m doing this:\r\n\r\n    public static &lt;T&gt; void sortCollection(Collection&lt;T&gt; list, final String methodName) {\r\n      Comparator&lt;T&gt; comparator = new Comparator&lt;T&gt;() {\r\n        @Override\r\n        public int compare(T o1, T o2) {\r\n          try {\r\n            String a=o1.getClass().getMethod(methodName).invoke(o1).toString();\r\n            String b=o2.getClass().getMethod(methodName).invoke(o2).toString();\r\n            return a.compareTo(b);\r\n          } catch (Exception ex) {\r\n            ...log somewhere...\r\n            return 0;\r\n          }\r\n        }\r\n      };\r\n      Collections.sort(list, comparator);\r\n    }\r\n\r\nforget the catch Exception and the String casting for now, the point is that Collections.sort(Collection&lt;T&gt;,Comparator&lt;T&gt;) does not exists, but I don&#39;t know of to create a Comparator&lt;? super T&gt;...\r\nI&#39;m very curious to know if my idea have any sense or not (an why) and what&#39;s the correct way implement it.\r\n\r\nThank you!","title":"Proof of concept: how I can create a generic comparator method with reflection?","body":"<p>I hava a lot of classes like this:</p>\n\n<pre><code>Class Person {\n  protected String name;\n  protected String surname;\n  ...getters and setters...\n}\n</code></pre>\n\n<p>I'd like to order a Collection of Person by name or by surname. Actually I'm simply doing this:</p>\n\n<pre><code>Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\n  @Override \n  public int compare(Person p1, Person p2) { return p1.getName().compareTo(p2.getName()); }      \n})\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Collections.sort(listofpersons, new Comparator&lt;Person&gt;(){\n  @Override \n  public int compare(Person p1, Person p2) { return p1.getSurname().compareTo(p2.getSurname()); }      \n})\n</code></pre>\n\n<p>I'm trying to implement a generic comparator, like:</p>\n\n<pre><code>MyUtils.sort(listofpersons,\"getName\");\nMyUtils.sort(listofpersons,\"getSurame\");\n</code></pre>\n\n<p>and I'm trying to understand of to do it with generics and reflection, but I'm stuck. I'm doing this:</p>\n\n<pre><code>public static &lt;T&gt; void sortCollection(Collection&lt;T&gt; list, final String methodName) {\n  Comparator&lt;T&gt; comparator = new Comparator&lt;T&gt;() {\n    @Override\n    public int compare(T o1, T o2) {\n      try {\n        String a=o1.getClass().getMethod(methodName).invoke(o1).toString();\n        String b=o2.getClass().getMethod(methodName).invoke(o2).toString();\n        return a.compareTo(b);\n      } catch (Exception ex) {\n        ...log somewhere...\n        return 0;\n      }\n    }\n  };\n  Collections.sort(list, comparator);\n}\n</code></pre>\n\n<p>forget the catch Exception and the String casting for now, the point is that Collections.sort(Collection,Comparator) does not exists, but I don't know of to create a Comparator...\nI'm very curious to know if my idea have any sense or not (an why) and what's the correct way implement it.</p>\n\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot","azure-devops","appinsights"],"answers":[{"tags":[],"owner":{"account_id":209494,"reputation":892,"user_id":460544,"accept_rate":67,"display_name":"Sven"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683976652,"creation_date":1683976652,"answer_id":76242431,"question_id":76090709,"body_markdown":"Turned out, you can&#39;t. The Azure Java libraries don&#39;t fully support Micrometer as of now. This is requested and will be available in a future release of AppInsights for Java.\r\nhttps://github.com/microsoft/ApplicationInsights-Java/issues/3027 \r\n\r\nUntil released, Telemetry libs must be used to get a clear separation between apps.","title":"Spring Boot Micrometer to Azure Appinsights Collects Under the Same Namespace","body":"<p>Turned out, you can't. The Azure Java libraries don't fully support Micrometer as of now. This is requested and will be available in a future release of AppInsights for Java.\n<a href=\"https://github.com/microsoft/ApplicationInsights-Java/issues/3027\" rel=\"nofollow noreferrer\">https://github.com/microsoft/ApplicationInsights-Java/issues/3027</a></p>\n<p>Until released, Telemetry libs must be used to get a clear separation between apps.</p>\n"}],"owner":{"account_id":209494,"reputation":892,"user_id":460544,"accept_rate":67,"display_name":"Sven"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1683976652,"creation_date":1682330487,"question_id":76090709,"body_markdown":"Is there a way to change the *Custom Namespace* name in a Spring Boot app when using MS Application Insights?\r\n\r\nI have a Spring Boot application deployed in Azure Devops with the appinsights runtime as a dependency.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;applicationinsights-runtime-attach&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.4.11&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI have the insights config set as Application config, specifically these:\r\n- APPINSIGHTS_INSTRUMENTATIONKEY\r\n- APPLICATIONINSIGHTS_CONNECTION_STRING\r\n- APPLICATIONINSIGHTS_ROLE_NAME\r\n- ApplicationInsightsAgent_EXTENSION_VERSION (because of a known MS bug)\r\n\r\nAccording to MS documentation, Micrometer metrics are gathered automatically. Which happens, but...\r\n\r\nIn my business logic I have a few Micrometer counters (`` Counter metricCounter = Metrics.counter(&quot;metric-name&quot;); ``) for monitoring and all metrics are available in the Application Insights service, including Tomcat and JVM metrics. Problem here is that *all* Spring Boot metrics are gathered under the Custom Namespace ``azure.applicationinsights``. This is becoming a mess really fast as several apps are logging to the same Custom Namespace. Is there a way to set a namespace on an application level for a Spring Boot app?\r\n\r\nIn C# equivalent apps, we&#39;ve used ``new MetricTelemetry(&quot;metric-name&quot;){ MetricNamespace = customNamespace}`` to set a namespace for metrics which separates the custom metrics in Application Insights. But same here, would love to see it on an application level.\r\n","title":"Spring Boot Micrometer to Azure Appinsights Collects Under the Same Namespace","body":"<p>Is there a way to change the <em>Custom Namespace</em> name in a Spring Boot app when using MS Application Insights?</p>\n<p>I have a Spring Boot application deployed in Azure Devops with the appinsights runtime as a dependency.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n        &lt;artifactId&gt;applicationinsights-runtime-attach&lt;/artifactId&gt;\n        &lt;version&gt;3.4.11&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>I have the insights config set as Application config, specifically these:</p>\n<ul>\n<li>APPINSIGHTS_INSTRUMENTATIONKEY</li>\n<li>APPLICATIONINSIGHTS_CONNECTION_STRING</li>\n<li>APPLICATIONINSIGHTS_ROLE_NAME</li>\n<li>ApplicationInsightsAgent_EXTENSION_VERSION (because of a known MS bug)</li>\n</ul>\n<p>According to MS documentation, Micrometer metrics are gathered automatically. Which happens, but...</p>\n<p>In my business logic I have a few Micrometer counters (<code>Counter metricCounter = Metrics.counter(&quot;metric-name&quot;);</code>) for monitoring and all metrics are available in the Application Insights service, including Tomcat and JVM metrics. Problem here is that <em>all</em> Spring Boot metrics are gathered under the Custom Namespace <code>azure.applicationinsights</code>. This is becoming a mess really fast as several apps are logging to the same Custom Namespace. Is there a way to set a namespace on an application level for a Spring Boot app?</p>\n<p>In C# equivalent apps, we've used <code>new MetricTelemetry(&quot;metric-name&quot;){ MetricNamespace = customNamespace}</code> to set a namespace for metrics which separates the custom metrics in Application Insights. But same here, would love to see it on an application level.</p>\n"},{"tags":["java","spring","file","java-io"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683918533,"post_id":76239135,"comment_id":134445701,"body_markdown":"There is no SQL anywhere in your question.","body":"There is no SQL anywhere in your question."},{"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"score":0,"creation_date":1683976309,"post_id":76239135,"comment_id":134451069,"body_markdown":"Sorry. Let me edit that","body":"Sorry. Let me edit that"}],"answers":[{"tags":[],"owner":{"account_id":23062580,"reputation":41,"user_id":17177536,"display_name":"Nicolas Francisco Corvi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683918761,"creation_date":1683918761,"answer_id":76239311,"question_id":76239135,"body_markdown":"You can use the findAll(Pageable page) variant that comes with the PagingAndSortingRepository which returns a Page, like so:\r\n\r\n```\r\nFileWriter fw = new FileWriter(path);\r\nBufferedWriter bw = new BufferedWriter(fw);\r\n\r\nPageRequest request = PageRequest.of(0, 100000); // this brings first 100000\r\nSlice&lt;Data&gt; dataList = null;\r\ndo {\r\n    dataList = dataRepository.findAll(request);\r\n    for(Data data: dataList){\r\n        bw.write(data.toString());\r\n    }\r\n    request = request.next(); //turn the page\r\n   \r\n} while(dataList.hasNext());\r\n```\r\ndataList.hasNext() will return false when no data is left to retrieve and will exit the do while\r\n","title":"Optimize read and file write","body":"<p>You can use the findAll(Pageable page) variant that comes with the PagingAndSortingRepository which returns a Page, like so:</p>\n<pre><code>FileWriter fw = new FileWriter(path);\nBufferedWriter bw = new BufferedWriter(fw);\n\nPageRequest request = PageRequest.of(0, 100000); // this brings first 100000\nSlice&lt;Data&gt; dataList = null;\ndo {\n    dataList = dataRepository.findAll(request);\n    for(Data data: dataList){\n        bw.write(data.toString());\n    }\n    request = request.next(); //turn the page\n   \n} while(dataList.hasNext());\n</code></pre>\n<p>dataList.hasNext() will return false when no data is left to retrieve and will exit the do while</p>\n"}],"owner":{"account_id":11899514,"reputation":59,"user_id":8707914,"display_name":"fragilepriCe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":76239311,"answer_count":1,"score":-3,"last_activity_date":1683976145,"creation_date":1683917003,"question_id":76239135,"body_markdown":"I have this scenario wherein my repository will retrieve 1million+ rows. Is there any way retrieve the records incrementally. Let&#39;s say, I will only read 100k+ data first before writing it. \r\n\r\nBy the way, I don&#39;t have an option to use Spring Batch.\r\n\r\n\r\n\r\n```\r\nList&lt;Data&gt; dataList = dataRepository.findAll(); // This will retrieve 1million+ rows\r\n\r\nFileWriter fw = new FileWriter(path);\r\nBufferedWriter bw = new BufferedWriter(fw);\r\nfor(Data data: dataList){\r\n        bw.write(data.toString()); // I need to write the data in the file incrementally\r\n}\r\n\r\n\r\n\r\n```  ","title":"Optimize read and file write","body":"<p>I have this scenario wherein my repository will retrieve 1million+ rows. Is there any way retrieve the records incrementally. Let's say, I will only read 100k+ data first before writing it.</p>\n<p>By the way, I don't have an option to use Spring Batch.</p>\n<pre><code>List&lt;Data&gt; dataList = dataRepository.findAll(); // This will retrieve 1million+ rows\n\nFileWriter fw = new FileWriter(path);\nBufferedWriter bw = new BufferedWriter(fw);\nfor(Data data: dataList){\n        bw.write(data.toString()); // I need to write the data in the file incrementally\n}\n\n\n\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":9135654,"reputation":81,"user_id":6795426,"display_name":" Godrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681128836,"creation_date":1681128836,"answer_id":75977021,"question_id":75976696,"body_markdown":"You can&#39;t get view&#39;s id with string type.If you call view.getId(),it&#39;ll return an Integer value.\r\n\r\ntry this\r\n\r\n    if(view.getId() == R.id.team1AddButton){\r\n            \r\n    }else if(view.getId() == R.id.team1SubButton){\r\n            \r\n    }\r\n\r\n","title":"How do I check if an ID contains a certain phrase?","body":"<p>You can't get view's id with string type.If you call view.getId(),it'll return an Integer value.</p>\n<p>try this</p>\n<pre><code>if(view.getId() == R.id.team1AddButton){\n        \n}else if(view.getId() == R.id.team1SubButton){\n        \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12264493,"reputation":133,"user_id":8951375,"display_name":"charman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683976075,"creation_date":1681138033,"answer_id":75978099,"question_id":75976696,"body_markdown":"Here is what are you looking for:\r\n\r\n    public void addScore(View v) {\r\n        String resourceName = getResources().getResourceName(v.getId());\r\n        String[] parts = resourceName.split(&quot;/&quot;);\r\n        String result = parts[parts.length - 1];\r\n        \r\n        if (result.contains(&quot;team1&quot;)) {\r\n            //..\r\n        }\r\n    }\r\nresourceName value will be like: `packageName:id/team1AddButton`\r\n\r\nSo if we split the string by &quot;/&quot; and take the last part, we get the result. \r\n\r\nor\r\n\r\n    public void addScore(View v) {\r\n       String resourceName = getResources().getResourceName(v.getId());\r\n\r\n       if (resourceName.contains(&quot;team1&quot;)) {\r\n           //..\r\n       }\r\n    }\r\nIf exact resourceName doesn&#39;t required then just check if contains or not. \r\n\r\n   \r\nHope it helps!","title":"How do I check if an ID contains a certain phrase?","body":"<p>Here is what are you looking for:</p>\n<pre><code>public void addScore(View v) {\n    String resourceName = getResources().getResourceName(v.getId());\n    String[] parts = resourceName.split(&quot;/&quot;);\n    String result = parts[parts.length - 1];\n    \n    if (result.contains(&quot;team1&quot;)) {\n        //..\n    }\n}\n</code></pre>\n<p>resourceName value will be like: <code>packageName:id/team1AddButton</code></p>\n<p>So if we split the string by &quot;/&quot; and take the last part, we get the result.</p>\n<p>or</p>\n<pre><code>public void addScore(View v) {\n   String resourceName = getResources().getResourceName(v.getId());\n\n   if (resourceName.contains(&quot;team1&quot;)) {\n       //..\n   }\n}\n</code></pre>\n<p>If exact resourceName doesn't required then just check if contains or not.</p>\n<p>Hope it helps!</p>\n"}],"owner":{"account_id":28245335,"reputation":23,"user_id":21592481,"display_name":"Speedy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75978099,"answer_count":2,"score":1,"last_activity_date":1683976075,"creation_date":1681126152,"question_id":75976696,"body_markdown":"I am making a simple app with four scores, each score having an add button and a subtract button. To make code simpler, I named each button&#39;s `onClick` to `addScore` or `subScore`. Each button&#39;s ID contains something such as `android:@+id/team1AddButton`. I need to check in the `onClick` which team is being affected for both `onClick`s.\r\n\r\nThe button code is simple (removed most formatting code):\r\n\r\n```\r\n&lt;Button\r\n           android:id=&quot;@+id/team1AddButton&quot;\r\n           android:layout_width=&quot;55dp&quot;\r\n           android:layout_height=&quot;75dp&quot;\r\n           android:text=&quot;+&quot;\r\n           android:onClick=&quot;addScore&quot; /&gt;\r\n\r\n&lt;Button\r\n           android:id=&quot;@+id/team1SubButton&quot;\r\n           android:layout_width=&quot;55dp&quot;\r\n           android:layout_height=&quot;75dp&quot;\r\n           android:text=&quot;-&quot;\r\n           android:onClick=&quot;addScore&quot; /&gt;\r\n```\r\n\r\nThe Java code is what I&#39;m having trouble with.\r\n\r\n```\r\npublic void addScore(View v) {\r\n        if (v.getId().toString().contains(&quot;team1&quot;));\r\n\r\n    }\r\n```","title":"How do I check if an ID contains a certain phrase?","body":"<p>I am making a simple app with four scores, each score having an add button and a subtract button. To make code simpler, I named each button's <code>onClick</code> to <code>addScore</code> or <code>subScore</code>. Each button's ID contains something such as <code>android:@+id/team1AddButton</code>. I need to check in the <code>onClick</code> which team is being affected for both <code>onClick</code>s.</p>\n<p>The button code is simple (removed most formatting code):</p>\n<pre><code>&lt;Button\n           android:id=&quot;@+id/team1AddButton&quot;\n           android:layout_width=&quot;55dp&quot;\n           android:layout_height=&quot;75dp&quot;\n           android:text=&quot;+&quot;\n           android:onClick=&quot;addScore&quot; /&gt;\n\n&lt;Button\n           android:id=&quot;@+id/team1SubButton&quot;\n           android:layout_width=&quot;55dp&quot;\n           android:layout_height=&quot;75dp&quot;\n           android:text=&quot;-&quot;\n           android:onClick=&quot;addScore&quot; /&gt;\n</code></pre>\n<p>The Java code is what I'm having trouble with.</p>\n<pre><code>public void addScore(View v) {\n        if (v.getId().toString().contains(&quot;team1&quot;));\n\n    }\n</code></pre>\n"},{"tags":["java","selenium-webdriver","mobile"],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1683975786,"creation_date":1683975706,"question_id":76242376,"body_markdown":"I am using selenium 4.9.1 and cucumber 7.12.0.\r\nOn desktop view everything works. On mobile emulation I get the following error when I want to take a screenshot when scenario fails.\r\n\r\n```\r\norg.openqa.selenium.WebDriverException: disconnected: unable to send message to renderer\r\n  (failed to check if window was closed: disconnected: not connected to DevTools)\r\n  (Session info: chrome=113.0.5672.93)\r\nBuild info: version: &#39;4.9.1&#39;, revision: &#39;eb2032df7f&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.16&#39;\r\nDriver info: org.openqa.selenium.chrome.ChromeDriver\r\nCommand: [bd62678bc5d0feaabd87666c9c090d8c, screenshot {}]\r\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 113.0.5672.93, chrome: {chromedriverVersion: 113.0.5672.63 (0e1a4471d5ae..., userDataDir: C:\\Users\\User\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:56115}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:56115/devtoo..., se:cdpVersion: 113.0.5672.93, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\r\nSession ID: bd62678bc5d0feaabd87666c9c090d8c\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\r\n\tat org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:193)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\r\n\tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:598)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.getScreenshotAs(RemoteWebDriver.java:318)\r\n\tat stepDefs.Hook.afterTest(Hook.java:112)\r\n```\r\n\r\nBefore method \r\n\r\n```\r\n@Before(&quot;@mobile&quot;)\r\npublic void beforeMobile(Scenario scenario) {\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Users//User//IdeaProjects/chromedriver.exe&quot;);\r\n    driver = new ChromeDriver();\r\n    DevTools devTools = ((ChromeDriver) driver).getDevTools();\r\n    devTools.createSession();\r\n    Map deviceMetrics = new HashMap()\r\n    {{\r\n        put(&quot;width&quot;, 480);\r\n        put(&quot;height&quot;, 640);\r\n        put(&quot;mobile&quot;, true);\r\n        put(&quot;deviceScaleFactor&quot;, 50);\r\n    }};\r\n    ((ChromeDriver) driver).executeCdpCommand(&quot;Emulation.setDeviceMetricsOverride&quot;, deviceMetrics);\r\n\r\n}\r\n```\r\n\r\nAfter method \r\n\r\n```\r\n@After\r\npublic void afterTest(Scenario scenario) throws IOException {\r\n    if (scenario.isFailed()) {\r\n\r\n        final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\r\n        scenario.attach(screenshot, &quot;image/png&quot;, scenario.getName());\r\n}\r\n```\r\n\r\nDo you know how to solve this ? Thank you","title":"Java selenium - mobile eumlation screenshot - error &quot;not connected to DevTools&quot;","body":"<p>I am using selenium 4.9.1 and cucumber 7.12.0.\nOn desktop view everything works. On mobile emulation I get the following error when I want to take a screenshot when scenario fails.</p>\n<pre><code>org.openqa.selenium.WebDriverException: disconnected: unable to send message to renderer\n  (failed to check if window was closed: disconnected: not connected to DevTools)\n  (Session info: chrome=113.0.5672.93)\nBuild info: version: '4.9.1', revision: 'eb2032df7f'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.16'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [bd62678bc5d0feaabd87666c9c090d8c, screenshot {}]\nCapabilities {acceptInsecureCerts: false, browserName: chrome, browserVersion: 113.0.5672.93, chrome: {chromedriverVersion: 113.0.5672.63 (0e1a4471d5ae..., userDataDir: C:\\Users\\User\\AppData\\Loc...}, goog:chromeOptions: {debuggerAddress: localhost:56115}, networkConnectionEnabled: false, pageLoadStrategy: normal, platformName: windows, proxy: Proxy(), se:cdp: ws://localhost:56115/devtoo..., se:cdpVersion: 113.0.5672.93, setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify, webauthn:extension:credBlob: true, webauthn:extension:largeBlob: true, webauthn:extension:minPinLength: true, webauthn:extension:prf: true, webauthn:virtualAuthenticators: true}\nSession ID: bd62678bc5d0feaabd87666c9c090d8c\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.createException(W3CHttpResponseCodec.java:200)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:133)\n    at org.openqa.selenium.remote.codec.w3c.W3CHttpResponseCodec.decode(W3CHttpResponseCodec.java:53)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:193)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:183)\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:158)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:598)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:602)\n    at org.openqa.selenium.remote.RemoteWebDriver.getScreenshotAs(RemoteWebDriver.java:318)\n    at stepDefs.Hook.afterTest(Hook.java:112)\n</code></pre>\n<p>Before method</p>\n<pre><code>@Before(&quot;@mobile&quot;)\npublic void beforeMobile(Scenario scenario) {\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C://Users//User//IdeaProjects/chromedriver.exe&quot;);\n    driver = new ChromeDriver();\n    DevTools devTools = ((ChromeDriver) driver).getDevTools();\n    devTools.createSession();\n    Map deviceMetrics = new HashMap()\n    {{\n        put(&quot;width&quot;, 480);\n        put(&quot;height&quot;, 640);\n        put(&quot;mobile&quot;, true);\n        put(&quot;deviceScaleFactor&quot;, 50);\n    }};\n    ((ChromeDriver) driver).executeCdpCommand(&quot;Emulation.setDeviceMetricsOverride&quot;, deviceMetrics);\n\n}\n</code></pre>\n<p>After method</p>\n<pre><code>@After\npublic void afterTest(Scenario scenario) throws IOException {\n    if (scenario.isFailed()) {\n\n        final byte[] screenshot = ((TakesScreenshot) driver).getScreenshotAs(OutputType.BYTES);\n        scenario.attach(screenshot, &quot;image/png&quot;, scenario.getName());\n}\n</code></pre>\n<p>Do you know how to solve this ? Thank you</p>\n"},{"tags":["java","database","hibernate"],"comments":[{"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"score":0,"creation_date":1287030193,"post_id":3927091,"comment_id":4193359,"body_markdown":"Show us the mapping, the code, and the original error.","body":"Show us the mapping, the code, and the original error."},{"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"score":0,"creation_date":1596539656,"post_id":3927091,"comment_id":111837261,"body_markdown":"Does this answer your question? [hibernate and mappedBy: Is it possible to automatically set foreign key without setting bidirectional relationship among objects?](https://stackoverflow.com/questions/48817280/hibernate-and-mappedby-is-it-possible-to-automatically-set-foreign-key-without)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/48817280/hibernate-and-mappedby-is-it-possible-to-automatically-set-foreign-key-without\">hibernate and mappedBy: Is it possible to automatically set foreign key without setting bidirectional relationship among objects?</a>"}],"answers":[{"tags":[],"owner":{"account_id":116580,"reputation":118703,"user_id":305644,"accept_rate":75,"display_name":"hvgotcodes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1286997019,"creation_date":1286997019,"answer_id":3927137,"question_id":3927091,"body_markdown":"in your setChilds, you might want to try looping thru the list and doing something like\r\n\r\n    child.parent = this;\r\n\r\nyou also should set up the cascade on the parent to the appropriate values.","title":"Save child objects automatically using JPA Hibernate","body":"<p>in your setChilds, you might want to try looping thru the list and doing something like</p>\n\n<pre><code>child.parent = this;\n</code></pre>\n\n<p>you also should set up the cascade on the parent to the appropriate values.</p>\n"},{"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1366187963,"creation_date":1287030085,"answer_id":3930071,"question_id":3927091,"body_markdown":"I believe you need to set the cascade option in your mapping via xml/annotation. Refer to [Hibernate reference example here][1].\r\n\r\nIn case you are using annotation, you need to do something like this,\r\n\r\n    @OneToMany(cascade = CascadeType.PERSIST) // Other options are CascadeType.ALL, CascadeType.UPDATE etc..\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.5/reference/en/html/example-parentchild.html","title":"Save child objects automatically using JPA Hibernate","body":"<p>I believe you need to set the cascade option in your mapping via xml/annotation. Refer to <a href=\"http://docs.jboss.org/hibernate/core/3.5/reference/en/html/example-parentchild.html\" rel=\"noreferrer\">Hibernate reference example here</a>.</p>\n\n<p>In case you are using annotation, you need to do something like this,</p>\n\n<pre><code>@OneToMany(cascade = CascadeType.PERSIST) // Other options are CascadeType.ALL, CascadeType.UPDATE etc..\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1589564391,"creation_date":1287092889,"answer_id":3937867,"question_id":3927091,"body_markdown":"&gt; I tried the above but I&#39;m getting a database error complaining that the foreign key field in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?\r\n\r\nWell, there are two things here. \r\n\r\nFirst, you need to cascade the save operation (but my understanding is that you are doing this or you wouldn&#39;t get a FK constraint violation during inserts in the &quot;child&quot; table) \r\n\r\nSecond, you probably have a bidirectional association and I think that you&#39;re not setting &quot;both sides of the link&quot; correctly. You are supposed to do something like this:\r\n\r\n    Parent parent = new Parent();\r\n    ...\r\n    Child c1 = new Child();\r\n    ...\r\n    c1.setParent(parent);\r\n\r\n    List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\r\n    children.add(c1);\r\n    parent.setChildren(children);\r\n\r\n    session.save(parent);\r\n\r\nA common pattern is to use link management methods:\r\n\r\n    @Entity\r\n    public class Parent {\r\n        @Id private Long id;\r\n    \r\n        @OneToMany(mappedBy=&quot;parent&quot;)\r\n        private List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\r\n        \r\n        ...\r\n\r\n        protected void setChildren(List&lt;Child&gt; children) {\r\n            this.children = children;\r\n        }\r\n    \r\n        public void addToChildren(Child child) {\r\n            child.setParent(this);\r\n            this.children.add(child);\r\n        }\r\n    }\r\n\r\nAnd the code becomes:\r\n\r\n    Parent parent = new Parent();\r\n    ...\r\n    Child c1 = new Child();\r\n    ...\r\n\r\n    parent.addToChildren(c1);\r\n\r\n    session.save(parent);\r\n\r\n\r\n###### References \r\n\r\n- Hibernate Core Reference Guide\r\n - [1.2.6. Working bi-directional links][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/core/3.3/reference/en/html/tutorial.html#tutorial-associations-usingbidir","title":"Save child objects automatically using JPA Hibernate","body":"<blockquote>\n  <p>I tried the above but I'm getting a database error complaining that the foreign key field in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?</p>\n</blockquote>\n\n<p>Well, there are two things here. </p>\n\n<p>First, you need to cascade the save operation (but my understanding is that you are doing this or you wouldn't get a FK constraint violation during inserts in the \"child\" table) </p>\n\n<p>Second, you probably have a bidirectional association and I think that you're not setting \"both sides of the link\" correctly. You are supposed to do something like this:</p>\n\n<pre><code>Parent parent = new Parent();\n...\nChild c1 = new Child();\n...\nc1.setParent(parent);\n\nList&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\nchildren.add(c1);\nparent.setChildren(children);\n\nsession.save(parent);\n</code></pre>\n\n<p>A common pattern is to use link management methods:</p>\n\n<pre><code>@Entity\npublic class Parent {\n    @Id private Long id;\n\n    @OneToMany(mappedBy=\"parent\")\n    private List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\n\n    ...\n\n    protected void setChildren(List&lt;Child&gt; children) {\n        this.children = children;\n    }\n\n    public void addToChildren(Child child) {\n        child.setParent(this);\n        this.children.add(child);\n    }\n}\n</code></pre>\n\n<p>And the code becomes:</p>\n\n<pre><code>Parent parent = new Parent();\n...\nChild c1 = new Child();\n...\n\nparent.addToChildren(c1);\n\nsession.save(parent);\n</code></pre>\n\nReferences\n\n<ul>\n<li>Hibernate Core Reference Guide\n\n<ul>\n<li><a href=\"http://docs.jboss.org/hibernate/core/3.3/reference/en/html/tutorial.html#tutorial-associations-usingbidir\" rel=\"noreferrer\">1.2.6. Working bi-directional links</a></li>\n</ul></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3385608,"reputation":5527,"user_id":2841630,"accept_rate":24,"display_name":"Sunil Kumar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1473412385,"creation_date":1473412385,"answer_id":39407955,"question_id":3927091,"body_markdown":"**Here are the ways to assign parent object in child object of Bi-directional relations ?**\r\n\r\nSuppose you have a relation say One-To-Many,then for each parent object,a set of child object exists.\r\nIn bi-directional relations,each child object will have reference to its parent.\r\n\r\n    eg : Each Department will have list of Employees and each Employee is part of some department.This is called Bi directional relations.\r\n\r\nTo achieve this, **one way** is to assign parent in child object while persisting parent object\r\n\r\n    Parent parent = new Parent();\r\n    ...\r\n    Child c1 = new Child();\r\n    ...\r\n    c1.setParent(parent);\r\n    \r\n    List&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\r\n    children.add(c1);\r\n    parent.setChilds(children);\r\n    \r\n    session.save(parent);\r\n\r\n\r\n**Other way** is, you can do using hibernate Intercepter,this way helps you not to write above code for all models.\r\n\r\nHibernate interceptor provide apis to do your own work before perform any DB operation.Likewise onSave of object, we can assign parent object in child objects using reflection.\r\n\r\n    public class CustomEntityInterceptor extends EmptyInterceptor {\r\n    \r\n        @Override\r\n        public boolean onSave(\r\n                final Object entity, final Serializable id, final Object[] state, final String[] propertyNames,\r\n                final Type[] types) {\r\n            if (types != null) {\r\n                for (int i = 0; i &lt; types.length; i++) {\r\n                    if (types[i].isCollectionType()) {\r\n                        String propertyName = propertyNames[i];\r\n                        propertyName = propertyName.substring(0, 1).toUpperCase() + propertyName.substring(1);\r\n                        try {\r\n                            Method method = entity.getClass().getMethod(&quot;get&quot; + propertyName);\r\n                            List&lt;Object&gt; objectList = (List&lt;Object&gt;) method.invoke(entity);\r\n    \r\n                            if (objectList != null) {\r\n                                for (Object object : objectList) {\r\n                                    String entityName = entity.getClass().getSimpleName();\r\n                                    Method eachMethod = object.getClass().getMethod(&quot;set&quot; + entityName, entity.getClass());\r\n                                    eachMethod.invoke(object, entity);\r\n                                }\r\n                            }\r\n    \r\n                        } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n    }\r\n\r\nAnd you can register Intercepter to configuration as\r\n\r\n    new Configuration().setInterceptor( new CustomEntityInterceptor() );","title":"Save child objects automatically using JPA Hibernate","body":"<p><strong>Here are the ways to assign parent object in child object of Bi-directional relations ?</strong></p>\n\n<p>Suppose you have a relation say One-To-Many,then for each parent object,a set of child object exists.\nIn bi-directional relations,each child object will have reference to its parent.</p>\n\n<pre><code>eg : Each Department will have list of Employees and each Employee is part of some department.This is called Bi directional relations.\n</code></pre>\n\n<p>To achieve this, <strong>one way</strong> is to assign parent in child object while persisting parent object</p>\n\n<pre><code>Parent parent = new Parent();\n...\nChild c1 = new Child();\n...\nc1.setParent(parent);\n\nList&lt;Child&gt; children = new ArrayList&lt;Child&gt;();\nchildren.add(c1);\nparent.setChilds(children);\n\nsession.save(parent);\n</code></pre>\n\n<p><strong>Other way</strong> is, you can do using hibernate Intercepter,this way helps you not to write above code for all models.</p>\n\n<p>Hibernate interceptor provide apis to do your own work before perform any DB operation.Likewise onSave of object, we can assign parent object in child objects using reflection.</p>\n\n<pre><code>public class CustomEntityInterceptor extends EmptyInterceptor {\n\n    @Override\n    public boolean onSave(\n            final Object entity, final Serializable id, final Object[] state, final String[] propertyNames,\n            final Type[] types) {\n        if (types != null) {\n            for (int i = 0; i &lt; types.length; i++) {\n                if (types[i].isCollectionType()) {\n                    String propertyName = propertyNames[i];\n                    propertyName = propertyName.substring(0, 1).toUpperCase() + propertyName.substring(1);\n                    try {\n                        Method method = entity.getClass().getMethod(\"get\" + propertyName);\n                        List&lt;Object&gt; objectList = (List&lt;Object&gt;) method.invoke(entity);\n\n                        if (objectList != null) {\n                            for (Object object : objectList) {\n                                String entityName = entity.getClass().getSimpleName();\n                                Method eachMethod = object.getClass().getMethod(\"set\" + entityName, entity.getClass());\n                                eachMethod.invoke(object, entity);\n                            }\n                        }\n\n                    } catch (NoSuchMethodException | InvocationTargetException | IllegalAccessException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }\n        return true;\n    }\n\n}\n</code></pre>\n\n<p>And you can register Intercepter to configuration as</p>\n\n<pre><code>new Configuration().setInterceptor( new CustomEntityInterceptor() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9997008,"reputation":19,"user_id":7394282,"display_name":"sandhya nayak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1488522931,"creation_date":1488522605,"answer_id":42572125,"question_id":3927091,"body_markdown":"Use `org.hibernate.annotations` for doing `Cascade` , if the `hibernate` and `JPA` are used together , its somehow complaining on saving the child objects.","title":"Save child objects automatically using JPA Hibernate","body":"<p>Use <code>org.hibernate.annotations</code> for doing <code>Cascade</code> , if the <code>hibernate</code> and <code>JPA</code> are used together , its somehow complaining on saving the child objects.</p>\n"},{"tags":[],"owner":{"account_id":11210394,"reputation":189,"user_id":8224617,"accept_rate":100,"display_name":"shriram"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1580709940,"creation_date":1502208964,"answer_id":45573323,"question_id":3927091,"body_markdown":"Following program describe how bidirectional relation work in hibernate.\r\n\r\nWhen parent will save its list of child object will be auto save.\r\n         \r\nOn Parent side:\r\n```\r\n    @Entity\r\n    @Table(name=&quot;clients&quot;)\r\n    public class Clients implements Serializable  {\r\n\r\n         @Id\r\n         @GeneratedValue(strategy = GenerationType.IDENTITY)     \r\n         @OneToMany(mappedBy=&quot;clients&quot;, cascade=CascadeType.ALL)\r\n          List&lt;SmsNumbers&gt; smsNumbers;\r\n    }\r\n```\r\n\r\nAnd put the following annotation on the child side:\r\n\r\n  ```   \r\n    @Entity\r\n    @Table(name=&quot;smsnumbers&quot;)\r\n    public class SmsNumbers implements Serializable {\r\n\t   \r\n       @Id\r\n\t   @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t   int id;\r\n\t   String number;\r\n\t   String status;\r\n\t   Date reg_date;\r\n       @ManyToOne\r\n       @JoinColumn(name = &quot;client_id&quot;)\r\n       private Clients clients;\r\n\r\n      // and getter setter.\r\n\r\n   }\r\n```\r\n\r\nMain class:\r\n```\r\n public static void main(String arr[])\r\n {\r\n    Session session = HibernateUtil.openSession();\r\n\t  //getting transaction object from session object\r\n\tsession.beginTransaction();\r\n\r\n    Clients cl=new Clients(&quot;Murali&quot;, &quot;1010101010&quot;);\r\n\tSmsNumbers sms1=new SmsNumbers(&quot;99999&quot;, &quot;Active&quot;, cl);\r\n\tSmsNumbers sms2=new SmsNumbers(&quot;88888&quot;, &quot;InActive&quot;, cl);\r\n\tSmsNumbers sms3=new SmsNumbers(&quot;77777&quot;, &quot;Active&quot;, cl);\r\n\tList&lt;SmsNumbers&gt; lstSmsNumbers=new ArrayList&lt;SmsNumbers&gt;();\r\n\tlstSmsNumbers.add(sms1);\r\n\tlstSmsNumbers.add(sms2);\r\n\tlstSmsNumbers.add(sms3);\r\n\tcl.setSmsNumbers(lstSmsNumbers);\r\n\tsession.saveOrUpdate(cl);\r\n    session.getTransaction().commit(); \r\n    session.close();\t\r\n\r\n }\r\n```","title":"Save child objects automatically using JPA Hibernate","body":"<p>Following program describe how bidirectional relation work in hibernate.</p>\n\n<p>When parent will save its list of child object will be auto save.</p>\n\n<p>On Parent side:</p>\n\n<pre><code>    @Entity\n    @Table(name=\"clients\")\n    public class Clients implements Serializable  {\n\n         @Id\n         @GeneratedValue(strategy = GenerationType.IDENTITY)     \n         @OneToMany(mappedBy=\"clients\", cascade=CascadeType.ALL)\n          List&lt;SmsNumbers&gt; smsNumbers;\n    }\n</code></pre>\n\n<p>And put the following annotation on the child side:</p>\n\n<pre><code>  @Entity\n  @Table(name=\"smsnumbers\")\n  public class SmsNumbers implements Serializable {\n\n     @Id\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\n     int id;\n     String number;\n     String status;\n     Date reg_date;\n     @ManyToOne\n     @JoinColumn(name = \"client_id\")\n     private Clients clients;\n\n    // and getter setter.\n\n }\n</code></pre>\n\n<p>Main class:</p>\n\n<pre><code> public static void main(String arr[])\n {\n    Session session = HibernateUtil.openSession();\n      //getting transaction object from session object\n    session.beginTransaction();\n\n    Clients cl=new Clients(\"Murali\", \"1010101010\");\n    SmsNumbers sms1=new SmsNumbers(\"99999\", \"Active\", cl);\n    SmsNumbers sms2=new SmsNumbers(\"88888\", \"InActive\", cl);\n    SmsNumbers sms3=new SmsNumbers(\"77777\", \"Active\", cl);\n    List&lt;SmsNumbers&gt; lstSmsNumbers=new ArrayList&lt;SmsNumbers&gt;();\n    lstSmsNumbers.add(sms1);\n    lstSmsNumbers.add(sms2);\n    lstSmsNumbers.add(sms3);\n    cl.setSmsNumbers(lstSmsNumbers);\n    session.saveOrUpdate(cl);\n    session.getTransaction().commit(); \n    session.close();    \n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5445447,"reputation":1726,"user_id":4332176,"accept_rate":25,"display_name":"Dila Gurung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521550647,"creation_date":1521550647,"answer_id":49384841,"question_id":3927091,"body_markdown":"In short set cascade type to all , will do a job;\r\nFor an example in your model.\r\nAdd Code like this .\r\n @OneToMany(mappedBy = &quot;receipt&quot;, cascade=CascadeType.ALL)\r\n private List&lt;Sale&gt; saleSet;\r\n","title":"Save child objects automatically using JPA Hibernate","body":"<p>In short set cascade type to all , will do a job;\nFor an example in your model.\nAdd Code like this .\n @OneToMany(mappedBy = \"receipt\", cascade=CascadeType.ALL)\n private List saleSet;</p>\n"},{"tags":[],"owner":{"account_id":20506725,"reputation":109,"user_id":15049342,"display_name":"MonishGhutke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626378059,"creation_date":1626378059,"answer_id":68399953,"question_id":3927091,"body_markdown":"If you do not have bidirectional relationship and want to only save/update the the single column in the child table, then you can create JPA repository with child Entity and call save/saveAll or update method.\r\n\r\n**Note:**  if you come across FK violations then it means your postman request having primary and foreign key ids is not matching with generated ids in child table , **check the ids in your request and child table which your are going to update(they should match/if they don&#39;t means you get FK violations)** whatever ids generated while saving the parent and child in before transactions, those ids should match in your second call when you try to update the single column in your child table.\r\n\r\nParent:\r\n\r\n    @Entity\r\n    @Table(name=&quot;Customer&quot;)\r\n    public class Customer implements Serializable  {\r\n\r\n         @Id\r\n         @GeneratedValue(strategy = GenerationType.IDENTITY)  \r\n         private UUID customerId ;\r\n         \r\n         @OneToMany(cascade = CascadeType.ALL) \r\n         @JoinColumn(name =&quot;child_columnName&quot;, referencedColumnName= \r\n                    &quot;parent_columnName&quot;)\r\n         List&lt;Accounts&gt; accountList;\r\n    }\r\n\r\n\r\nChild :\r\n\r\n   \r\n\r\n     @Entity\r\n        @Table(name=&quot;Account&quot;)\r\n        public class Account implements Serializable  {\r\n    \r\n             @Id\r\n             @GeneratedValue(strategy = GenerationType.IDENTITY)  \r\n             private UUID accountid;\r\n             \r\n            \r\n        }\r\n\r\n","title":"Save child objects automatically using JPA Hibernate","body":"<p>If you do not have bidirectional relationship and want to only save/update the the single column in the child table, then you can create JPA repository with child Entity and call save/saveAll or update method.</p>\n<p><strong>Note:</strong>  if you come across FK violations then it means your postman request having primary and foreign key ids is not matching with generated ids in child table , <strong>check the ids in your request and child table which your are going to update(they should match/if they don't means you get FK violations)</strong> whatever ids generated while saving the parent and child in before transactions, those ids should match in your second call when you try to update the single column in your child table.</p>\n<p>Parent:</p>\n<pre><code>@Entity\n@Table(name=&quot;Customer&quot;)\npublic class Customer implements Serializable  {\n\n     @Id\n     @GeneratedValue(strategy = GenerationType.IDENTITY)  \n     private UUID customerId ;\n     \n     @OneToMany(cascade = CascadeType.ALL) \n     @JoinColumn(name =&quot;child_columnName&quot;, referencedColumnName= \n                &quot;parent_columnName&quot;)\n     List&lt;Accounts&gt; accountList;\n}\n</code></pre>\n<p>Child :</p>\n<pre><code> @Entity\n    @Table(name=&quot;Account&quot;)\n    public class Account implements Serializable  {\n\n         @Id\n         @GeneratedValue(strategy = GenerationType.IDENTITY)  \n         private UUID accountid;\n         \n        \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22325547,"reputation":199,"user_id":16547619,"display_name":"user16547619"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1630680043,"creation_date":1630680043,"answer_id":69046726,"question_id":3927091,"body_markdown":"In JPA ```@*To*``` relationships  both parent and child entities must be cross assigned before (parent) saving.","title":"Save child objects automatically using JPA Hibernate","body":"<p>In JPA <code>@*To*</code> relationships  both parent and child entities must be cross assigned before (parent) saving.</p>\n"},{"tags":[],"owner":{"account_id":21959529,"reputation":73,"user_id":16237620,"display_name":"Rafał Borkowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683974002,"creation_date":1683974002,"answer_id":76242258,"question_id":3927091,"body_markdown":"I saw very useful tip for assigning parent to any child in bidirectional connections. If you don&#39;t want to use `child.setParent(parent)` every time, you can create method in your parent entity with annotation `@PrePersist` which is one of JPA Entity Lifecycle Events and there you can define `this.children.forEach(child -&gt; child.setParent(this));` which will create this required connection between parent and children before persisting it in db. ","title":"Save child objects automatically using JPA Hibernate","body":"<p>I saw very useful tip for assigning parent to any child in bidirectional connections. If you don't want to use <code>child.setParent(parent)</code> every time, you can create method in your parent entity with annotation <code>@PrePersist</code> which is one of JPA Entity Lifecycle Events and there you can define <code>this.children.forEach(child -&gt; child.setParent(this));</code> which will create this required connection between parent and children before persisting it in db.</p>\n"}],"owner":{"account_id":213165,"reputation":4611,"user_id":466410,"accept_rate":78,"display_name":"Marquinio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":175749,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":3937867,"answer_count":10,"score":89,"last_activity_date":1683974002,"creation_date":1286996680,"question_id":3927091,"body_markdown":"I have a one-to-many relation between Parent and Child table.  In the parent object I have a \r\n\r\n    List&lt;Child&gt; setChildren(List&lt;Child&gt; childs)\r\n\r\nI also have a foreign key in the Child table. This foreign key is an ID that references a Parent row in database.  So in my database configuration this foreign key can not be NULL.\r\nAlso this foreign key is the primary key in the Parent table.\r\n\r\nSo my question is how I can automatically save the children objects by doing something like this:\r\n\r\n    session.save(parent);\r\n\r\nI tried the above but I&#39;m getting a database error complaining that the foreign key field  in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?","title":"Save child objects automatically using JPA Hibernate","body":"<p>I have a one-to-many relation between Parent and Child table.  In the parent object I have a</p>\n<pre><code>List&lt;Child&gt; setChildren(List&lt;Child&gt; childs)\n</code></pre>\n<p>I also have a foreign key in the Child table. This foreign key is an ID that references a Parent row in database.  So in my database configuration this foreign key can not be NULL.\nAlso this foreign key is the primary key in the Parent table.</p>\n<p>So my question is how I can automatically save the children objects by doing something like this:</p>\n<pre><code>session.save(parent);\n</code></pre>\n<p>I tried the above but I'm getting a database error complaining that the foreign key field  in the Child table can not be NULL. Is there a way to tell JPA to automatically set this foreign key into the Child object so it can automatically save children objects?</p>\n"},{"tags":["java","gradle","apache-kafka","dependencies"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637587104,"post_id":70066296,"comment_id":123858225,"body_markdown":"Try a different version?","body":"Try a different version?"},{"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"score":0,"creation_date":1637587390,"post_id":70066296,"comment_id":123858330,"body_markdown":"@OneCricketeer different version of what? gradle? dependencies?","body":"@OneCricketeer different version of what? gradle? dependencies?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1637588343,"post_id":70066296,"comment_id":123858732,"body_markdown":"The Avro serializer since that&#39;s what it&#39;s saying cannot be found. However, you should verify this url in the error can actually be resolved by your machine. https://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom","body":"The Avro serializer since that&#39;s what it&#39;s saying cannot be found. However, you should verify this url in the error can actually be resolved by your machine. <a href=\"https://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom\" rel=\"nofollow noreferrer\">packages.confluent.io/maven/io/confluent/kafka-avro-serializ&zwnj;&#8203;er/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637598563,"creation_date":1637598563,"answer_id":70069148,"question_id":70066296,"body_markdown":"The firewall in the cloud was blocking the requests. For some reason they were classified not as `http`, but as `confluent` requests, which the firewall did not knew about and therefore were blocking. The aimed at a &quot;confluent&quot; app within the k8s. I don&#39;t know where this app comes from, but ...\r\nEnabling those requests solved the issue.","title":"Java gradle kafka-avro-serializer and kafka-schema-registry-client fails to download in the deployment pipeline","body":"<p>The firewall in the cloud was blocking the requests. For some reason they were classified not as <code>http</code>, but as <code>confluent</code> requests, which the firewall did not knew about and therefore were blocking. The aimed at a &quot;confluent&quot; app within the k8s. I don't know where this app comes from, but ...\nEnabling those requests solved the issue.</p>\n"},{"tags":[],"owner":{"account_id":5640275,"reputation":379,"user_id":4464360,"accept_rate":75,"display_name":"Abhijeet Kale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683973393,"creation_date":1683973393,"answer_id":76242232,"question_id":70066296,"body_markdown":"    Include below repository in your pom.xml file\r\n    \r\n    &lt;repositories&gt;\r\n    \t\t&lt;repository&gt;\r\n    \t\t\t&lt;id&gt;confluent&lt;/id&gt;\r\n    \t\t\t&lt;url&gt;http://packages.confluent.io/maven/&lt;/url&gt;\r\n    \t\t\t&lt;releases&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/releases&gt;\r\n    \t\t\t&lt;snapshots&gt;\r\n    \t\t\t\t&lt;enabled&gt;true&lt;/enabled&gt;\r\n    \t\t\t&lt;/snapshots&gt;\r\n    \t\t&lt;/repository&gt;\r\n    \t&lt;/repositories&gt;","title":"Java gradle kafka-avro-serializer and kafka-schema-registry-client fails to download in the deployment pipeline","body":"<pre><code>Include below repository in your pom.xml file\n\n&lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;confluent&lt;/id&gt;\n            &lt;url&gt;http://packages.confluent.io/maven/&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n</code></pre>\n"}],"owner":{"account_id":22839439,"reputation":401,"user_id":16986712,"display_name":"sg_rs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1685,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70069148,"answer_count":2,"score":0,"last_activity_date":1683973393,"creation_date":1637586625,"question_id":70066296,"body_markdown":"Trying to deploy our service in the cloud I am facing the issue that two transitive dependencies could not been downloaded with the error:\r\n\r\n```\r\nWelcome to Gradle 6.7.1!\r\nHere are the highlights of this release:\r\n - File system watching is ready for production use\r\n - Declare the version of Java your build requires\r\n - Java 15 support\r\nFor more details see https://docs.gradle.org/6.7.1/release-notes.html\r\nStarting a Gradle Daemon (subsequent builds will be faster)\r\n&gt; Task :compileJava FAILED\r\nFAILURE: Build failed with an exception.\r\n* What went wrong:\r\nExecution failed for task &#39;:compileJava&#39;.\r\n&gt; Could not resolve all files for configuration &#39;:compileClasspath&#39;.\r\n   &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\r\n     Required by:\r\n         project :\r\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\r\n      &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\r\n         &gt; Could not get resource &#39;http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom&#39;.\r\n            &gt; Could not GET &#39;http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom&#39;.\r\n               &gt; Connection reset\r\n   &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\r\n     Required by:\r\n         project :\r\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\r\n      &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\r\n         &gt; Could not get resource &#39;http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom&#39;.\r\n            &gt; Could not GET &#39;http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom&#39;.\r\n               &gt; Connection reset\r\n```\r\n\r\nMost resolutions that I could find in the web and here on stackoverflow are centered around adding a new confluent.io gradle repository:\r\n\r\n```\r\nrepositories {\r\n    mavenCentral()\r\n    maven {\r\n        url &quot;http://packages.confluent.io/maven/&quot;\r\n    }\r\n}\r\n```\r\nI tried both http and https. Neither changed anything in the cloud.\r\n\r\nI tried to add the transitive dependencies direct to the project gradle. This approach was not succesful too:\r\n\r\n```\r\n\r\n    implementation group: &#39;io.confluent&#39;, name: &#39;kafka-avro-serializer&#39;, version: &#39;5.3.2&#39;\r\n    implementation group: &#39;io.confluent&#39;, name: &#39;kafka-schema-registry-client&#39;, version: &#39;5.3.2&#39;\r\n```\r\n\r\nWhat could be the Issue? How to best approach this Problem?","title":"Java gradle kafka-avro-serializer and kafka-schema-registry-client fails to download in the deployment pipeline","body":"<p>Trying to deploy our service in the cloud I am facing the issue that two transitive dependencies could not been downloaded with the error:</p>\n<pre><code>Welcome to Gradle 6.7.1!\nHere are the highlights of this release:\n - File system watching is ready for production use\n - Declare the version of Java your build requires\n - Java 15 support\nFor more details see https://docs.gradle.org/6.7.1/release-notes.html\nStarting a Gradle Daemon (subsequent builds will be faster)\n&gt; Task :compileJava FAILED\nFAILURE: Build failed with an exception.\n* What went wrong:\nExecution failed for task ':compileJava'.\n&gt; Could not resolve all files for configuration ':compileClasspath'.\n   &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\n     Required by:\n         project :\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\n      &gt; Could not resolve io.confluent:kafka-avro-serializer:5.3.2.\n         &gt; Could not get resource 'http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom'.\n            &gt; Could not GET 'http://packages.confluent.io/maven/io/confluent/kafka-avro-serializer/5.3.2/kafka-avro-serializer-5.3.2.pom'.\n               &gt; Connection reset\n   &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\n     Required by:\n         project :\n         project : &gt; org.apache.beam:beam-runners-google-cloud-dataflow-java:2.32.0 &gt; org.apache.beam:beam-sdks-java-io-kafka:2.32.0\n      &gt; Could not resolve io.confluent:kafka-schema-registry-client:5.3.2.\n         &gt; Could not get resource 'http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom'.\n            &gt; Could not GET 'http://packages.confluent.io/maven/io/confluent/kafka-schema-registry-client/5.3.2/kafka-schema-registry-client-5.3.2.pom'.\n               &gt; Connection reset\n</code></pre>\n<p>Most resolutions that I could find in the web and here on stackoverflow are centered around adding a new confluent.io gradle repository:</p>\n<pre><code>repositories {\n    mavenCentral()\n    maven {\n        url &quot;http://packages.confluent.io/maven/&quot;\n    }\n}\n</code></pre>\n<p>I tried both http and https. Neither changed anything in the cloud.</p>\n<p>I tried to add the transitive dependencies direct to the project gradle. This approach was not succesful too:</p>\n<pre><code>\n    implementation group: 'io.confluent', name: 'kafka-avro-serializer', version: '5.3.2'\n    implementation group: 'io.confluent', name: 'kafka-schema-registry-client', version: '5.3.2'\n</code></pre>\n<p>What could be the Issue? How to best approach this Problem?</p>\n"},{"tags":["java","performance","heap","cpu-cache"],"comments":[{"owner":{"account_id":8564,"reputation":235714,"user_id":15498,"accept_rate":76,"display_name":"Damien_The_Unbeliever"},"score":1,"creation_date":1683786242,"post_id":76224578,"comment_id":134420443,"body_markdown":"So this is java? Or some other language? Please add a language tag. Also, if there&#39;s not a single obvious way in which benchmarking is done with this language/platform, please add details of how the benchmarking has been done also.","body":"So this is java? Or some other language? Please add a language tag. Also, if there&#39;s not a single obvious way in which benchmarking is done with this language/platform, please add details of how the benchmarking has been done also."},{"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"score":0,"creation_date":1683787251,"post_id":76224578,"comment_id":134420635,"body_markdown":"@Damien_The_Unbeliever Yes, it&#39;s Java. I added the tag. The benchmark was done running the main method which is at the top of the source code.","body":"@Damien_The_Unbeliever Yes, it&#39;s Java. I added the tag. The benchmark was done running the main method which is at the top of the source code."},{"owner":{"account_id":54150,"reputation":2013,"user_id":161995,"accept_rate":100,"display_name":"Erik"},"score":1,"creation_date":1683788924,"post_id":76224578,"comment_id":134420922,"body_markdown":"Your benchmark is flawed. Rewrite it using JMH https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/4480774#4480774","body":"Your benchmark is flawed. Rewrite it using JMH <a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/4480774#4480774\" title=\"how do i write a correct micro benchmark in java\">stackoverflow.com/questions/504103/&hellip;</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1683792750,"post_id":76224578,"comment_id":134421673,"body_markdown":"You benchmark the worst case scenario for the `indexOfSlow()` method: the test data in the heap is totally ordered and therefore `indexOfSlow()` has to search through the same number of elements as `indexOf()`, but it does so in a much more complicated way. Initialize your test data with 50_000 random values.","body":"You benchmark the worst case scenario for the <code>indexOfSlow()</code> method: the test data in the heap is totally ordered and therefore <code>indexOfSlow()</code> has to search through the same number of elements as <code>indexOf()</code>, but it does so in a much more complicated way. Initialize your test data with 50_000 random values."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1683796412,"post_id":76224578,"comment_id":134422506,"body_markdown":"@EvgeniyBerezovsky, max/min heap is a data structure which guarantees O(1) TC for `peek` and O(log(N)) TC for add/remove, `indexOf` method does not make any sense.","body":"@EvgeniyBerezovsky, max/min heap is a data structure which guarantees O(1) TC for <code>peek</code> and O(log(N)) TC for add/remove, <code>indexOf</code> method does not make any sense."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1683818514,"post_id":76224578,"comment_id":134427910,"body_markdown":"In addition to what Thomas Kl&#228;ger said, read [When to use LinkedList over ArrayList in Java?](https://stackoverflow.com/q/322715/2711488). You’ve chosen the worst way to store a sequence of `int` values. An `ArrayDeque` will perform much better even though it will still have the auto-boxing overhead.","body":"In addition to what Thomas Kl&#228;ger said, read <a href=\"https://stackoverflow.com/q/322715/2711488\">When to use LinkedList over ArrayList in Java?</a>. You’ve chosen the worst way to store a sequence of <code>int</code> values. An <code>ArrayDeque</code> will perform much better even though it will still have the auto-boxing overhead."}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":2,"up_vote_count":2,"is_accepted":true,"score":0,"last_activity_date":1683792581,"creation_date":1683792581,"answer_id":76225415,"question_id":76224578,"body_markdown":"First of all, the results obtained with \r\n```java\r\nfinal long nanoBefore = System.nanoTime();\r\n//...\r\nfinal long nanoAfter = System.nanoTime();\r\n```\r\nare not reliable at all. To get reliable results you need to use JMH.\r\n\r\nSecond, in `indexOfSlow()` you use `LinkedList` which is highly ineffective.\r\n\r\nThird, in `indexOf()` you don&#39;t allocate any memory, iterating over the same list again and again. In `indexOfSlow()` you allocate a new `LinkedList` for each method invocation. This obviously costs us time and GC.\r\n\r\nFourth, in spite of the fact that in theory linear search has complexity O(n) in practice in your example you are searching over `ArrayList` which is array-based and extremely fast when you are accessing elements by index (even if you need to iterate over the whole list). In the `indexOfSlow()` on the contrary you rely on continuous `poll()`/`add()` operations. Imagine you are looking for `49733`, then for the `1`, `2`, `3` etc. values you execute both `poll()` and `add()`operation. As a result before returning the value you are looking for your `childrenToVisit` list is modified **99734** (!!!) times. So this algorithm is extremely ineffectively implemented and this is why you have such a dramatic difference in numbers.","title":"Why is a linear search through a heap data structure faster than tree traversal?","body":"<p>First of all, the results obtained with</p>\n<pre class=\"lang-java prettyprint-override\"><code>final long nanoBefore = System.nanoTime();\n//...\nfinal long nanoAfter = System.nanoTime();\n</code></pre>\n<p>are not reliable at all. To get reliable results you need to use JMH.</p>\n<p>Second, in <code>indexOfSlow()</code> you use <code>LinkedList</code> which is highly ineffective.</p>\n<p>Third, in <code>indexOf()</code> you don't allocate any memory, iterating over the same list again and again. In <code>indexOfSlow()</code> you allocate a new <code>LinkedList</code> for each method invocation. This obviously costs us time and GC.</p>\n<p>Fourth, in spite of the fact that in theory linear search has complexity O(n) in practice in your example you are searching over <code>ArrayList</code> which is array-based and extremely fast when you are accessing elements by index (even if you need to iterate over the whole list). In the <code>indexOfSlow()</code> on the contrary you rely on continuous <code>poll()</code>/<code>add()</code> operations. Imagine you are looking for <code>49733</code>, then for the <code>1</code>, <code>2</code>, <code>3</code> etc. values you execute both <code>poll()</code> and <code>add()</code>operation. As a result before returning the value you are looking for your <code>childrenToVisit</code> list is modified <strong>99734</strong> (!!!) times. So this algorithm is extremely ineffectively implemented and this is why you have such a dramatic difference in numbers.</p>\n"},{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683865365,"creation_date":1683865365,"answer_id":76233106,"question_id":76224578,"body_markdown":"You are writing ~ more than reading, moreover, you are doing that in a very inefficient manner, it is possible to get some improvements if replace `LinkedList` with `int[]`:\r\n\r\n```java\r\nfinal int size = list.size();\r\nif (size &lt;= 0) {\r\n    return -1;\r\n}\r\n\r\nint[] queue = new int[size];\r\nint last = 0;\r\nfor (int index = 0; index &lt;= last; index++) {\r\n    int cmp = list.get(queue[index]).compareTo(value);\r\n    if (cmp == 0) {\r\n        return index;\r\n    }\r\n    if (cmp &gt; 0) {\r\n        continue;\r\n    }\r\n    int right = (index + 1) * 2;\r\n    int left = right - 1;\r\n    if (left &lt; size) {\r\n        queue[++last] = left;\r\n        if (right &lt; size) {\r\n            queue[++last] = right;\r\n        }\r\n    }\r\n}\r\nreturn -1;\r\n```\r\n\r\nsince in the worst case `LinkedList` will contain `N/2` elements, such replacement is reasonable, however, that still performs worse than DFS approach:\r\n\r\n```java\r\nint indexOf(T value, int index, int size) {\r\n    if (index &gt;= size) {\r\n        return -1;\r\n    }\r\n\r\n    int cmp = list.get(index).compareTo(value);\r\n\r\n    if (cmp == 0) {\r\n        return index;\r\n    }\r\n\r\n    int res = -1;\r\n\r\n    if (cmp &gt; 0) {\r\n        return res;\r\n    }\r\n\r\n    int rIdx = (index + 1) * 2;\r\n    int lIdx = rIdx - 1;\r\n\r\n    if ((res = indexOf(value, rIdx, size)) &gt;= 0) {\r\n        return res;\r\n    }\r\n\r\n    return indexOf(value, lIdx, size);\r\n}\r\n```\r\n\r\nthe idea of optimizing out some paths via storing information about them somewhere is not so good for this particular case - you may store indexes in `HashMap` and achieve `O(1)` TC for search operation utilising comparable amount of memory. ","title":"Why is a linear search through a heap data structure faster than tree traversal?","body":"<p>You are writing ~ more than reading, moreover, you are doing that in a very inefficient manner, it is possible to get some improvements if replace <code>LinkedList</code> with <code>int[]</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final int size = list.size();\nif (size &lt;= 0) {\n    return -1;\n}\n\nint[] queue = new int[size];\nint last = 0;\nfor (int index = 0; index &lt;= last; index++) {\n    int cmp = list.get(queue[index]).compareTo(value);\n    if (cmp == 0) {\n        return index;\n    }\n    if (cmp &gt; 0) {\n        continue;\n    }\n    int right = (index + 1) * 2;\n    int left = right - 1;\n    if (left &lt; size) {\n        queue[++last] = left;\n        if (right &lt; size) {\n            queue[++last] = right;\n        }\n    }\n}\nreturn -1;\n</code></pre>\n<p>since in the worst case <code>LinkedList</code> will contain <code>N/2</code> elements, such replacement is reasonable, however, that still performs worse than DFS approach:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int indexOf(T value, int index, int size) {\n    if (index &gt;= size) {\n        return -1;\n    }\n\n    int cmp = list.get(index).compareTo(value);\n\n    if (cmp == 0) {\n        return index;\n    }\n\n    int res = -1;\n\n    if (cmp &gt; 0) {\n        return res;\n    }\n\n    int rIdx = (index + 1) * 2;\n    int lIdx = rIdx - 1;\n\n    if ((res = indexOf(value, rIdx, size)) &gt;= 0) {\n        return res;\n    }\n\n    return indexOf(value, lIdx, size);\n}\n</code></pre>\n<p>the idea of optimizing out some paths via storing information about them somewhere is not so good for this particular case - you may store indexes in <code>HashMap</code> and achieve <code>O(1)</code> TC for search operation utilising comparable amount of memory.</p>\n"}],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76225415,"answer_count":2,"score":1,"last_activity_date":1683972960,"creation_date":1683785161,"question_id":76224578,"body_markdown":"In the following code, `indexOfSlow` is around 17 times slower than `indexOf` in my test cases, although the former does fewer comparison than the latter.\r\n\r\n**Why is that?**\r\n\r\n(My hunch is that the superior performance of `indexOf` is due to sequential array access which has e.g. caching benefits - but I&#39;d like to know for sure)\r\n\r\nPerformance numbers from my machine:\r\n```\r\n| elementCount | indexOf msec | indexOfSlow msec | slow/fast |\r\n|--------------+--------------+------------------+-----------|\r\n|        10000 |           41 |              852 |        21 |\r\n|        20000 |          232 |             3387 |        15 |\r\n|        30000 |          375 |             6642 |        18 |\r\n|        40000 |          710 |            12699 |        18 |\r\n|        50000 |         1197 |            19182 |        16 |\r\n|--------------+--------------+------------------+-----------|\r\n|      average |              |                  |      17.6 |\r\n```\r\n\r\nN.B. Java&#39;s `PriorityQueue.indexOf()` is similar to my `indexOf`, so it does not try to walk the tree and stop early like my `indexOfSlow` does.\r\n\r\n```java\r\nclass Heap&lt;T extends Comparable&lt;T&gt;&gt; {\r\n\r\n    public static void main(String[] args) {\r\n        int elementCount = 50_000;\r\n\r\n        final List&lt;Integer&gt; elements = new ArrayList&lt;&gt;(elementCount);\r\n        for (int i = 0; i &lt; elementCount; i++)\r\n            elements.add(i);\r\n\r\n        for (int j = 0; j &lt; 3; j++) {\r\n            final var heap = new Heap&lt;Integer&gt;();\r\n            for (int i : elements)\r\n                heap.add(i);\r\n            assert heap.peek() == 0;\r\n            final long nanoBefore = System.nanoTime();\r\n            for (int i = elementCount; i &gt; 0; i--)\r\n                heap.indexOf(i - 1);\r\n//                heap.indexOfSlow(i - 1);\r\n            final long nanoAfter = System.nanoTime();\r\n            if (j &gt; 0) // discard first round as warmup\r\n                System.out.println(&quot;Time taken: &quot; + (nanoAfter - nanoBefore) / 1_000_000 + &quot; msec&quot;);\r\n        }\r\n    }\r\n\r\n    private final ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n\r\n    public T peek() {\r\n        return list.isEmpty() ? null : list.get(0);\r\n    }\r\n\r\n    private void siftUp(int i, T value) {\r\n        while (i &gt; 0) {\r\n            int parentI = (i - 1) / 2;\r\n            final T parentValue = list.get(parentI);\r\n            if (parentValue.compareTo(value) &lt;= 0)\r\n                return;\r\n            list.set(parentI, value);\r\n            list.set(i, parentValue);\r\n            i = parentI;\r\n        }\r\n    }\r\n\r\n    public void add(T value) {\r\n        list.add(value);\r\n        siftUp(list.size() - 1, value);\r\n    }\r\n\r\n    public int indexOf(T value) {\r\n        final int size = list.size();\r\n        if (size &gt; 0) {\r\n            for (int i = 0; i &lt; list.size(); i++) {\r\n                if (value.compareTo(list.get(i)) == 0)\r\n                    return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n    public int indexOfSlow(T value) {\r\n        final int size = list.size();\r\n        if (size &gt; 0) {\r\n            Queue&lt;Integer&gt; childrenToVisit = new LinkedList&lt;&gt;();\r\n            childrenToVisit.add(0);\r\n            while (!childrenToVisit.isEmpty()) {\r\n                int i = childrenToVisit.poll();\r\n                final int cmp = list.get(i).compareTo(value);\r\n                if (cmp == 0)\r\n                    return i;\r\n                if (cmp &gt; 0)\r\n                    continue;\r\n                int rightChildIdx = (i + 1) * 2;\r\n                int leftChildIdx = rightChildIdx - 1;\r\n                if (leftChildIdx &lt; size)\r\n                    childrenToVisit.add(leftChildIdx);\r\n                if (rightChildIdx &lt; size)\r\n                    childrenToVisit.add(rightChildIdx);\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n\r\n}\r\n```\r\n","title":"Why is a linear search through a heap data structure faster than tree traversal?","body":"<p>In the following code, <code>indexOfSlow</code> is around 17 times slower than <code>indexOf</code> in my test cases, although the former does fewer comparison than the latter.</p>\n<p><strong>Why is that?</strong></p>\n<p>(My hunch is that the superior performance of <code>indexOf</code> is due to sequential array access which has e.g. caching benefits - but I'd like to know for sure)</p>\n<p>Performance numbers from my machine:</p>\n<pre><code>| elementCount | indexOf msec | indexOfSlow msec | slow/fast |\n|--------------+--------------+------------------+-----------|\n|        10000 |           41 |              852 |        21 |\n|        20000 |          232 |             3387 |        15 |\n|        30000 |          375 |             6642 |        18 |\n|        40000 |          710 |            12699 |        18 |\n|        50000 |         1197 |            19182 |        16 |\n|--------------+--------------+------------------+-----------|\n|      average |              |                  |      17.6 |\n</code></pre>\n<p>N.B. Java's <code>PriorityQueue.indexOf()</code> is similar to my <code>indexOf</code>, so it does not try to walk the tree and stop early like my <code>indexOfSlow</code> does.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Heap&lt;T extends Comparable&lt;T&gt;&gt; {\n\n    public static void main(String[] args) {\n        int elementCount = 50_000;\n\n        final List&lt;Integer&gt; elements = new ArrayList&lt;&gt;(elementCount);\n        for (int i = 0; i &lt; elementCount; i++)\n            elements.add(i);\n\n        for (int j = 0; j &lt; 3; j++) {\n            final var heap = new Heap&lt;Integer&gt;();\n            for (int i : elements)\n                heap.add(i);\n            assert heap.peek() == 0;\n            final long nanoBefore = System.nanoTime();\n            for (int i = elementCount; i &gt; 0; i--)\n                heap.indexOf(i - 1);\n//                heap.indexOfSlow(i - 1);\n            final long nanoAfter = System.nanoTime();\n            if (j &gt; 0) // discard first round as warmup\n                System.out.println(&quot;Time taken: &quot; + (nanoAfter - nanoBefore) / 1_000_000 + &quot; msec&quot;);\n        }\n    }\n\n    private final ArrayList&lt;T&gt; list = new ArrayList&lt;&gt;();\n\n    public T peek() {\n        return list.isEmpty() ? null : list.get(0);\n    }\n\n    private void siftUp(int i, T value) {\n        while (i &gt; 0) {\n            int parentI = (i - 1) / 2;\n            final T parentValue = list.get(parentI);\n            if (parentValue.compareTo(value) &lt;= 0)\n                return;\n            list.set(parentI, value);\n            list.set(i, parentValue);\n            i = parentI;\n        }\n    }\n\n    public void add(T value) {\n        list.add(value);\n        siftUp(list.size() - 1, value);\n    }\n\n    public int indexOf(T value) {\n        final int size = list.size();\n        if (size &gt; 0) {\n            for (int i = 0; i &lt; list.size(); i++) {\n                if (value.compareTo(list.get(i)) == 0)\n                    return i;\n            }\n        }\n        return -1;\n    }\n\n    public int indexOfSlow(T value) {\n        final int size = list.size();\n        if (size &gt; 0) {\n            Queue&lt;Integer&gt; childrenToVisit = new LinkedList&lt;&gt;();\n            childrenToVisit.add(0);\n            while (!childrenToVisit.isEmpty()) {\n                int i = childrenToVisit.poll();\n                final int cmp = list.get(i).compareTo(value);\n                if (cmp == 0)\n                    return i;\n                if (cmp &gt; 0)\n                    continue;\n                int rightChildIdx = (i + 1) * 2;\n                int leftChildIdx = rightChildIdx - 1;\n                if (leftChildIdx &lt; size)\n                    childrenToVisit.add(leftChildIdx);\n                if (rightChildIdx &lt; size)\n                    childrenToVisit.add(rightChildIdx);\n            }\n        }\n        return -1;\n    }\n\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9556,"page":436,"page_size":100}
